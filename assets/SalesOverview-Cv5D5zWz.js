import{c as aa,r as l,z as ra,d as na,j as c,T as fe,C as U}from"./index-hoivcvTL.js";import{z as W,c as J,H as ft,ak as ia,al as la,u as V,am as sa,an as oa,ao as ca,ap as ua,aq as vt,ar as ht,as as L,A as gt,at as da,au as Ze,av as pa,a as F,a2 as M,$ as ee,aw as ma,R as fa,S as va,D as oe,v as te,W as Be,X as ha,a0 as $e,ax as yt,aj as ce,Y as ga,L as $,Z as ue,_ as ze,a5 as Me,a6 as Fe,ay as ya,a9 as R,az as ve,w as ke,aA as xa,aB as ba,aC as Pa,aD as Aa,aE as ja,aF as Ea,aG as wa,aH as xt,a7 as We,aI as Oa,aJ as re,G as Ne,aK as he,T as Sa,aL as Ia,N as de,aM as Qe,aN as Je,aO as et,aP as bt,aQ as Pt,aR as At,aS as jt,f as pe,aT as Oe,aU as Se,aV as Et,aW as wt,U as Ke,V as ye,aX as Ot,aY as St,aZ as It,a_ as kt,a$ as Nt,b0 as Dt,b1 as Ct,b2 as ka,a1 as De,b3 as xe,a4 as Ce,a8 as Lt,s as Tt,aa as _t,b4 as Na,b5 as tt,b6 as Da,b7 as Ca,b8 as La,b9 as Ta,ba as be,bb as Rt,ac as Ve,ab as _a,ad as ne,ag as Pe,ah as Ae,ae as ie,af as Bt,ai as Le}from"./PolarChart-xoR5ODBI.js";import{P as Te}from"./package-C1YW808m.js";import{C as $t}from"./clock-BCv6gmpA.js";import{C as me}from"./calendar-D_Pl8fbq.js";import{A as Ra}from"./arrow-up-down-COJ27CAu.js";/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],$a=aa("chart-pie",Ba);function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},je.apply(null,arguments)}function at(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function za(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?at(Object(a),!0).forEach(function(r){Ma(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):at(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Ma(e,t,a){return(t=Fa(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Fa(e){var t=Wa(e,"string");return typeof t=="symbol"?t:t+""}function Wa(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B=32,Ka={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Va(e){var{data:t,iconType:a,inactiveColor:r}=e,n=B/2,i=B/6,s=B/3,o=t.inactive?r:t.color,u=a??t.type;if(u==="none")return null;if(u==="plainline"){var d;return l.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(d=t.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:n,x2:B,y2:n,className:"recharts-legend-icon"})}if(u==="line")return l.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(n,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(n,`
            H`).concat(B,"M").concat(2*s,",").concat(n,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(n),className:"recharts-legend-icon"});if(u==="rect")return l.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(B/8,"h").concat(B,"v").concat(B*3/4,"h").concat(-B,"z"),className:"recharts-legend-icon"});if(l.isValidElement(t.legendIcon)){var f=za({},t);return delete f.legendIcon,l.cloneElement(t.legendIcon,f)}return l.createElement(la,{fill:o,cx:n,cy:n,size:B,sizeType:"diameter",type:u})}function Ga(e){var{payload:t,iconSize:a,layout:r,formatter:n,inactiveColor:i,iconType:s}=e,o={x:0,y:0,width:B,height:B},u={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((f,m)=>{var p=f.formatter||n,v=J({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:f.inactive});if(f.type==="none")return null;var h=f.inactive?i:f.color,g=p?p(f.value,f,m):f.value;return l.createElement("li",je({className:v,style:u,key:"legend-item-".concat(m)},ft(e,f,m)),l.createElement(ia,{width:a,height:a,viewBox:o,style:d,"aria-label":"".concat(g," legend icon")},l.createElement(Va,{data:f,iconType:s,inactiveColor:i})),l.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},g))})}var Ha=e=>{var t=W(e,Ka),{payload:a,layout:r,align:n}=t;if(!a||!a.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return l.createElement("ul",{className:"recharts-default-legend",style:i},l.createElement(Ga,je({},t,{payload:a})))};function Ua(){return V(sa)}var Ya=["contextPayload"];function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},_e.apply(null,arguments)}function rt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function Z(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?rt(Object(a),!0).forEach(function(r){qa(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):rt(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function qa(e,t,a){return(t=Xa(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Xa(e){var t=Za(e,"string");return typeof t=="symbol"?t:t+""}function Za(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qa(e,t){if(e==null)return{};var a,r,n=Ja(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Ja(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function er(e){return e.value}function tr(e){var{contextPayload:t}=e,a=Qa(e,Ya),r=pa(t,e.payloadUniqBy,er),n=Z(Z({},a),{},{payload:r});return l.isValidElement(e.content)?l.cloneElement(e.content,n):typeof e.content=="function"?l.createElement(e.content,n):l.createElement(Ha,n)}function ar(e,t,a,r,n,i){var{layout:s,align:o,verticalAlign:u}=t,d,f;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?d={left:((r||0)-i.width)/2}:d=o==="right"?{right:a&&a.right||0}:{left:a&&a.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?f={top:((n||0)-i.height)/2}:f=u==="bottom"?{bottom:a&&a.bottom||0}:{top:a&&a.top||0}),Z(Z({},d),f)}function rr(e){var t=gt();return l.useEffect(()=>{t(da(e))},[t,e]),null}function nr(e){var t=gt();return l.useEffect(()=>(t(Ze(e)),()=>{t(Ze({width:0,height:0}))}),[t,e]),null}function ir(e,t,a,r){return e==="vertical"&&L(t)?{height:t}:e==="horizontal"?{width:a||r}:null}var lr={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Q(e){var t=W(e,lr),a=Ua(),r=oa(),n=ca(),{width:i,height:s,wrapperStyle:o,portal:u}=t,[d,f]=ua([a]),m=vt(),p=ht();if(m==null||p==null)return null;var v=m-((n==null?void 0:n.left)||0)-((n==null?void 0:n.right)||0),h=ir(t.layout,s,i,v),g=u?o:Z(Z({position:"absolute",width:(h==null?void 0:h.width)||i||"auto",height:(h==null?void 0:h.height)||s||"auto"},ar(o,t,n,m,p,d)),o),b=u??r;if(b==null||a==null)return null;var j=l.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:f},l.createElement(rr,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),l.createElement(nr,{width:d.width,height:d.height}),l.createElement(tr,_e({},t,h,{margin:n,chartWidth:m,chartHeight:p,contextPayload:a})));return ra.createPortal(j,b)}Q.displayName="Legend";function nt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function it(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?nt(Object(a),!0).forEach(function(r){sr(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):nt(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function sr(e,t,a){return(t=or(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function or(e){var t=cr(e,"string");return typeof t=="symbol"?t:t+""}function cr(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ur=(e,t)=>t,Ge=F([va,ur],(e,t)=>e.filter(a=>a.type==="pie").find(a=>a.id===t)),dr=[],He=(e,t,a)=>(a==null?void 0:a.length)===0?dr:a,zt=F([fa,Ge,He],(e,t,a)=>{var{chartData:r}=e;if(t!=null){var n;if((t==null?void 0:t.data)!=null&&t.data.length>0?n=t.data:n=r,(!n||!n.length)&&a!=null&&(n=a.map(i=>it(it({},t.presentationProps),i.props))),n!=null)return n}}),pr=F([zt,Ge,He],(e,t,a)=>{if(!(e==null||t==null))return e.map((r,n)=>{var i,s=M(r,t.nameKey,t.name),o;return a!=null&&(i=a[n])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=a[n].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=t.fill,{value:ee(s,t.dataKey),color:o,payload:r,type:t.legendType}})}),mr=F([zt,Ge,He,ma],(e,t,a,r)=>{if(!(t==null||e==null))return Lr({offset:r,pieSettings:t,displayedData:e,cells:a})}),fr=["onMouseEnter","onClick","onMouseLeave"],vr=["id"],hr=["id"];function Ue(e,t){if(e==null)return{};var a,r,n=gr(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function gr(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function lt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?lt(Object(a),!0).forEach(function(r){yr(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lt(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function yr(e,t,a){return(t=xr(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function xr(e){var t=br(e,"string");return typeof t=="symbol"?t:t+""}function br(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},G.apply(null,arguments)}function Pr(e){var t=l.useMemo(()=>yt(e.children,ce),[e.children]),a=V(r=>pr(r,e.id,t));return a==null?null:l.createElement(ga,{legendPayload:a})}function Ar(e){var{dataKey:t,nameKey:a,sectors:r,stroke:n,strokeWidth:i,fill:s,name:o,hide:u,tooltipType:d}=e;return{dataDefinedOnItem:r.map(f=>f.tooltipPayload),positions:r.map(f=>f.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:s,dataKey:t,nameKey:a,name:ee(o,t),hide:u,type:d,color:s,unit:""}}}var jr=(e,t)=>e>t?"start":e<t?"end":"middle",Er=(e,t,a)=>typeof t=="function"?re(t(e),a,a*.8):re(t,a,a*.8),wr=(e,t,a)=>{var{top:r,left:n,width:i,height:s}=t,o=Oa(i,s),u=n+re(e.cx,i,i/2),d=r+re(e.cy,s,s/2),f=re(e.innerRadius,o,0),m=Er(a,e.outerRadius,o),p=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:u,cy:d,innerRadius:f,outerRadius:m,maxRadius:p}},Or=(e,t)=>{var a=ve(t-e),r=Math.min(Math.abs(t-e),360);return a*r};function Sr(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Ir=(e,t)=>{if(l.isValidElement(e))return l.cloneElement(e,t);if(typeof e=="function")return e(t);var a=J("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return l.createElement(he,G({},t,{type:"linear",className:a}))},kr=(e,t,a)=>{if(l.isValidElement(e))return l.cloneElement(e,t);var r=a;if(typeof e=="function"&&(r=e(t),l.isValidElement(r)))return r;var n=J("recharts-pie-label-text",Sr(e));return l.createElement(Sa,G({},t,{alignmentBaseline:"middle",className:n}),r)};function Nr(e){var{sectors:t,props:a,showLabels:r}=e,{label:n,labelLine:i,dataKey:s}=a;if(!r||!n||!t)return null;var o=te(a),u=Ne(n),d=Ne(i),f=typeof n=="object"&&"offsetRadius"in n&&typeof n.offsetRadius=="number"&&n.offsetRadius||20,m=t.map((p,v)=>{var h=(p.startAngle+p.endAngle)/2,g=ke(p.cx,p.cy,p.outerRadius+f,h),b=k(k(k(k({},o),p),{},{stroke:"none"},u),{},{index:v,textAnchor:jr(g.x,p.cx)},g),j=k(k(k(k({},o),p),{},{fill:"none",stroke:p.fill},d),{},{index:v,points:[ke(p.cx,p.cy,p.outerRadius,h),g],key:"line"});return l.createElement(ue,{zIndex:oe.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(v)},l.createElement($,null,i&&Ir(i,j),kr(n,b,M(p,s))))});return l.createElement($,{className:"recharts-pie-labels"},m)}function Dr(e){var{sectors:t,props:a,showLabels:r}=e,{label:n}=a;return typeof n=="object"&&n!=null&&"position"in n?l.createElement(We,{label:n}):l.createElement(Nr,{sectors:t,props:a,showLabels:r})}function Cr(e){var{sectors:t,activeShape:a,inactiveShape:r,allOtherPieProps:n}=e,i=V(ba),{onMouseEnter:s,onClick:o,onMouseLeave:u}=n,d=Ue(n,fr),f=Pa(s,n.dataKey),m=Aa(u),p=ja(o,n.dataKey);return t==null||t.length===0?null:l.createElement(l.Fragment,null,t.map((v,h)=>{if((v==null?void 0:v.startAngle)===0&&(v==null?void 0:v.endAngle)===0&&t.length!==1)return null;var g=a&&String(h)===i,b=i?r:null,j=g?a:b,w=k(k({},v),{},{stroke:v.stroke,tabIndex:-1,[wa]:h,[Ea]:n.dataKey});return l.createElement($,G({key:"sector-".concat(v==null?void 0:v.startAngle,"-").concat(v==null?void 0:v.endAngle,"-").concat(v.midAngle,"-").concat(h),tabIndex:-1,className:"recharts-pie-sector"},ft(d,v,h),{onMouseEnter:f(v,h),onMouseLeave:m(v,h),onClick:p(v,h)}),l.createElement(xt,G({option:j,isActive:g,shapeType:"sector"},w)))}))}function Lr(e){var t,{pieSettings:a,displayedData:r,cells:n,offset:i}=e,{cornerRadius:s,startAngle:o,endAngle:u,dataKey:d,nameKey:f,tooltipType:m}=a,p=Math.abs(a.minAngle),v=Or(o,u),h=Math.abs(v),g=r.length<=1?0:(t=a.paddingAngle)!==null&&t!==void 0?t:0,b=r.filter(x=>M(x,d,0)!==0).length,j=(h>=360?b:b-1)*g,w=h-b*p-j,P=r.reduce((x,I)=>{var E=M(I,d,0);return x+(L(E)?E:0)},0),y;if(P>0){var A;y=r.map((x,I)=>{var E=M(x,d,0),S=M(x,f,I),O=wr(a,i,x),T=(L(E)?E:0)/P,N,D=k(k({},x),n&&n[I]&&n[I].props);I?N=A.endAngle+ve(v)*g*(E!==0?1:0):N=o;var K=N+ve(v)*((E!==0?p:0)+T*w),H=(N+K)/2,ae=(O.innerRadius+O.outerRadius)/2,_=[{name:S,value:E,payload:D,dataKey:d,type:m}],Ie=ke(O.cx,O.cy,ae,H);return A=k(k(k(k({},a.presentationProps),{},{percent:T,cornerRadius:typeof s=="string"?parseFloat(s):s,name:S,tooltipPayload:_,midAngle:H,middleRadius:ae,tooltipPosition:Ie},D),O),{},{value:E,startAngle:N,endAngle:K,payload:D,paddingAngle:ve(v)*g}),A})}return y}function Tr(e){var{showLabels:t,sectors:a,children:r}=e,n=l.useMemo(()=>!t||!a?[]:a.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[a,t]);return l.createElement(xa,{value:t?n:void 0},r)}function _r(e){var{props:t,previousSectorsRef:a}=e,{sectors:r,isAnimationActive:n,animationBegin:i,animationDuration:s,animationEasing:o,activeShape:u,inactiveShape:d,onAnimationStart:f,onAnimationEnd:m}=t,p=Me(t,"recharts-pie-"),v=a.current,[h,g]=l.useState(!1),b=l.useCallback(()=>{typeof m=="function"&&m(),g(!1)},[m]),j=l.useCallback(()=>{typeof f=="function"&&f(),g(!0)},[f]);return l.createElement(Tr,{showLabels:!h,sectors:r},l.createElement(Fe,{animationId:p,begin:i,duration:s,isActive:n,easing:o,onAnimationStart:j,onAnimationEnd:b,key:p},w=>{var P=[],y=r&&r[0],A=y==null?void 0:y.startAngle;return r==null||r.forEach((x,I)=>{var E=v&&v[I],S=I>0?ya(x,"paddingAngle",0):0;if(E){var O=R(E.endAngle-E.startAngle,x.endAngle-x.startAngle,w),T=k(k({},x),{},{startAngle:A+S,endAngle:A+O+S});P.push(T),A=T.endAngle}else{var{endAngle:N,startAngle:D}=x,K=R(0,N-D,w),H=k(k({},x),{},{startAngle:A+S,endAngle:A+K+S});P.push(H),A=H.endAngle}}),a.current=P,l.createElement($,null,l.createElement(Cr,{sectors:P,activeShape:u,inactiveShape:d,allOtherPieProps:t}))}),l.createElement(Dr,{showLabels:!h,sectors:r,props:t}),t.children)}var Rr={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!$e.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:oe.area};function Br(e){var{id:t}=e,a=Ue(e,vr),{hide:r,className:n,rootTabIndex:i}=e,s=l.useMemo(()=>yt(e.children,ce),[e.children]),o=V(f=>mr(f,t,s)),u=l.useRef(null),d=J("recharts-pie",n);return r||o==null?(u.current=null,l.createElement($,{tabIndex:i,className:d})):l.createElement(ue,{zIndex:e.zIndex},l.createElement(ze,{fn:Ar,args:k(k({},e),{},{sectors:o})}),l.createElement($,{tabIndex:i,className:d},l.createElement(_r,{props:k(k({},a),{},{sectors:o}),previousSectorsRef:u})))}function Mt(e){var t=W(e,Rr),{id:a}=t,r=Ue(t,hr),n=te(r);return l.createElement(Be,{id:a,type:"pie"},i=>l.createElement(l.Fragment,null,l.createElement(ha,{type:"pie",id:i,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:n,maxRadius:t.maxRadius}),l.createElement(Pr,G({},r,{id:i})),l.createElement(Br,G({},r,{id:i}))))}Mt.displayName="Pie";var $r=["x1","y1","x2","y2","key"],zr=["offset"],Mr=["xAxisId","yAxisId"],Fr=["xAxisId","yAxisId"];function st(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?st(Object(a),!0).forEach(function(r){Wr(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):st(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Wr(e,t,a){return(t=Kr(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Kr(e){var t=Vr(e,"string");return typeof t=="symbol"?t:t+""}function Vr(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Y.apply(null,arguments)}function Ee(e,t){if(e==null)return{};var a,r,n=Gr(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Gr(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Hr=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:a,x:r,y:n,width:i,height:s,ry:o}=e;return l.createElement("rect",{x:r,y:n,ry:o,width:i,height:s,stroke:"none",fill:t,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function Ft(e){var{option:t,lineItemProps:a}=e,r;if(l.isValidElement(t))r=l.cloneElement(t,a);else if(typeof t=="function")r=t(a);else{var n,{x1:i,y1:s,x2:o,y2:u,key:d}=a,f=Ee(a,$r),m=(n=te(f))!==null&&n!==void 0?n:{},{offset:p}=m,v=Ee(m,zr);r=l.createElement("line",Y({},v,{x1:i,y1:s,x2:o,y2:u,fill:"none",key:d}))}return r}function Ur(e){var{x:t,width:a,horizontal:r=!0,horizontalPoints:n}=e;if(!r||!n||!n.length)return null;var{xAxisId:i,yAxisId:s}=e,o=Ee(e,Mr),u=n.map((d,f)=>{var m=C(C({},o),{},{x1:t,y1:d,x2:t+a,y2:d,key:"line-".concat(f),index:f});return l.createElement(Ft,{key:"line-".concat(f),option:r,lineItemProps:m})});return l.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function Yr(e){var{y:t,height:a,vertical:r=!0,verticalPoints:n}=e;if(!r||!n||!n.length)return null;var{xAxisId:i,yAxisId:s}=e,o=Ee(e,Fr),u=n.map((d,f)=>{var m=C(C({},o),{},{x1:d,y1:t,x2:d,y2:t+a,key:"line-".concat(f),index:f});return l.createElement(Ft,{option:r,lineItemProps:m,key:"line-".concat(f)})});return l.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function qr(e){var{horizontalFill:t,fillOpacity:a,x:r,y:n,width:i,height:s,horizontalPoints:o,horizontal:u=!0}=e;if(!u||!t||!t.length||o==null)return null;var d=o.map(m=>Math.round(m+n-n)).sort((m,p)=>m-p);n!==d[0]&&d.unshift(0);var f=d.map((m,p)=>{var v=!d[p+1],h=v?n+s-m:d[p+1]-m;if(h<=0)return null;var g=p%t.length;return l.createElement("rect",{key:"react-".concat(p),y:m,x:r,height:h,width:i,stroke:"none",fill:t[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return l.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Xr(e){var{vertical:t=!0,verticalFill:a,fillOpacity:r,x:n,y:i,width:s,height:o,verticalPoints:u}=e;if(!t||!a||!a.length)return null;var d=u.map(m=>Math.round(m+n-n)).sort((m,p)=>m-p);n!==d[0]&&d.unshift(0);var f=d.map((m,p)=>{var v=!d[p+1],h=v?n+s-m:d[p+1]-m;if(h<=0)return null;var g=p%a.length;return l.createElement("rect",{key:"react-".concat(p),x:m,y:i,width:h,height:o,stroke:"none",fill:a[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return l.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Zr=(e,t)=>{var{xAxis:a,width:r,height:n,offset:i}=e;return bt(Pt(C(C(C({},jt),a),{},{ticks:At(a),viewBox:{x:0,y:0,width:r,height:n}})),i.left,i.left+i.width,t)},Qr=(e,t)=>{var{yAxis:a,width:r,height:n,offset:i}=e;return bt(Pt(C(C(C({},jt),a),{},{ticks:At(a),viewBox:{x:0,y:0,width:r,height:n}})),i.top,i.top+i.height,t)},Jr={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:oe.grid};function le(e){var t=vt(),a=ht(),r=Ia(),n=C(C({},W(e,Jr)),{},{x:L(e.x)?e.x:r.left,y:L(e.y)?e.y:r.top,width:L(e.width)?e.width:r.width,height:L(e.height)?e.height:r.height}),{xAxisId:i,yAxisId:s,x:o,y:u,width:d,height:f,syncWithTicks:m,horizontalValues:p,verticalValues:v}=n,h=de(),g=V(S=>Qe(S,"xAxis",i,h)),b=V(S=>Qe(S,"yAxis",s,h));if(!Je(d)||!Je(f)||!L(o)||!L(u))return null;var j=n.verticalCoordinatesGenerator||Zr,w=n.horizontalCoordinatesGenerator||Qr,{horizontalPoints:P,verticalPoints:y}=n;if((!P||!P.length)&&typeof w=="function"){var A=p&&p.length,x=w({yAxis:b?C(C({},b),{},{ticks:A?p:b.ticks}):void 0,width:t??d,height:a??f,offset:r},A?!0:m);et(Array.isArray(x),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof x,"]")),Array.isArray(x)&&(P=x)}if((!y||!y.length)&&typeof j=="function"){var I=v&&v.length,E=j({xAxis:g?C(C({},g),{},{ticks:I?v:g.ticks}):void 0,width:t??d,height:a??f,offset:r},I?!0:m);et(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(y=E)}return l.createElement(ue,{zIndex:n.zIndex},l.createElement("g",{className:"recharts-cartesian-grid"},l.createElement(Hr,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),l.createElement(qr,Y({},n,{horizontalPoints:P})),l.createElement(Xr,Y({},n,{verticalPoints:y})),l.createElement(Ur,Y({},n,{offset:r,horizontalPoints:P,xAxis:g,yAxis:b})),l.createElement(Yr,Y({},n,{offset:r,verticalPoints:y,xAxis:g,yAxis:b}))))}le.displayName="CartesianGrid";var Wt=(e,t,a,r)=>Oe(e,"xAxis",t,r),Kt=(e,t,a,r)=>Se(e,"xAxis",t,r),Vt=(e,t,a,r)=>Oe(e,"yAxis",a,r),Gt=(e,t,a,r)=>Se(e,"yAxis",a,r),en=F([pe,Wt,Vt,Kt,Gt],(e,t,a,r,n)=>Ke(e,"xAxis")?ye(t,r,!1):ye(a,n,!1)),tn=(e,t,a,r,n)=>n;function an(e){return e.type==="line"}var rn=F([wt,tn],(e,t)=>e.filter(an).find(a=>a.id===t)),nn=F([pe,Wt,Vt,Kt,Gt,rn,en,Et],(e,t,a,r,n,i,s,o)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:f}=o;if(!(i==null||t==null||a==null||r==null||n==null||r.length===0||n.length===0||s==null)){var{dataKey:m,data:p}=i,v;if(p!=null&&p.length>0?v=p:v=u==null?void 0:u.slice(d,f+1),v!=null)return wn({layout:e,xAxis:t,yAxis:a,xAxisTicks:r,yAxisTicks:n,dataKey:m,bandSize:s,displayedData:v})}});function Ht(e){var t=Ne(e),a=3,r=2;if(t!=null){var{r:n,strokeWidth:i}=t,s=Number(n),o=Number(i);return(Number.isNaN(s)||s<0)&&(s=a),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:a,strokeWidth:r}}var ln=["id"],sn=["type","layout","connectNulls","needClip","shape"],on=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},se.apply(null,arguments)}function ot(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ot(Object(a),!0).forEach(function(r){cn(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ot(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function cn(e,t,a){return(t=un(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function un(e){var t=dn(e,"string");return typeof t=="symbol"?t:t+""}function dn(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ye(e,t){if(e==null)return{};var a,r,n=pn(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function pn(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var mn=e=>{var{dataKey:t,name:a,stroke:r,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:r,value:ee(a,t),payload:e}]};function fn(e){var{dataKey:t,data:a,stroke:r,strokeWidth:n,fill:i,name:s,hide:o,unit:u}=e;return{dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:ee(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:u}}}var Ut=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function vn(e,t){for(var a=e.length%2!==0?[...e,0]:e,r=[],n=0;n<t;++n)r=[...r,...a];return r}var hn=(e,t,a)=>{var r=a.reduce((m,p)=>m+p);if(!r)return Ut(t,e);for(var n=Math.floor(e/r),i=e%r,s=t-e,o=[],u=0,d=0;u<a.length;d+=a[u],++u)if(d+a[u]>i){o=[...a.slice(0,u),i-d];break}var f=o.length%2===0?[0,s]:[s];return[...vn(a,n),...o,...f].map(m=>"".concat(m,"px")).join(", ")};function gn(e){var{clipPathId:t,points:a,props:r}=e,{dot:n,dataKey:i,needClip:s}=r,{id:o}=r,u=Ye(r,ln),d=te(u);return l.createElement(_t,{points:a,dot:n,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:d,needClip:s,clipPathId:t})}function yn(e){var{showLabels:t,children:a,points:r}=e,n=l.useMemo(()=>r==null?void 0:r.map(i=>{var s,o,u={x:(s=i.x)!==null&&s!==void 0?s:0,y:(o=i.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return z(z({},u),{},{value:i.value,payload:i.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[r]);return l.createElement(Lt,{value:t?n:void 0},a)}function ct(e){var{clipPathId:t,pathRef:a,points:r,strokeDasharray:n,props:i}=e,{type:s,layout:o,connectNulls:u,needClip:d,shape:f}=i,m=Ye(i,sn),p=z(z({},Tt(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:r,type:s,layout:o,connectNulls:u,strokeDasharray:n??i.strokeDasharray});return l.createElement(l.Fragment,null,(r==null?void 0:r.length)>1&&l.createElement(xt,se({shapeType:"curve",option:f},p,{pathRef:a})),l.createElement(gn,{points:r,clipPathId:t,props:i}))}function xn(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function bn(e){var{clipPathId:t,props:a,pathRef:r,previousPointsRef:n,longestAnimatedLengthRef:i}=e,{points:s,strokeDasharray:o,isAnimationActive:u,animationBegin:d,animationDuration:f,animationEasing:m,animateNewValues:p,width:v,height:h,onAnimationEnd:g,onAnimationStart:b}=a,j=n.current,w=Me(a,"recharts-line-"),[P,y]=l.useState(!1),A=!P,x=l.useCallback(()=>{typeof g=="function"&&g(),y(!1)},[g]),I=l.useCallback(()=>{typeof b=="function"&&b(),y(!0)},[b]),E=xn(r.current),S=i.current;return l.createElement(yn,{points:s,showLabels:A},a.children,l.createElement(Fe,{animationId:w,begin:d,duration:f,isActive:u,easing:m,onAnimationEnd:x,onAnimationStart:I,key:w},O=>{var T=R(S,E+S,O),N=Math.min(T,E),D;if(u)if(o){var K="".concat(o).split(/[,\s]+/gim).map(_=>parseFloat(_));D=hn(N,E,K)}else D=Ut(E,N);else D=o==null?void 0:String(o);if(j){var H=j.length/s.length,ae=O===1?s:s.map((_,Ie)=>{var qe=Math.floor(Ie*H);if(j[qe]){var Xe=j[qe];return z(z({},_),{},{x:R(Xe.x,_.x,O),y:R(Xe.y,_.y,O)})}return p?z(z({},_),{},{x:R(v*2,_.x,O),y:R(h/2,_.y,O)}):z(z({},_),{},{x:_.x,y:_.y})});return n.current=ae,l.createElement(ct,{props:a,points:ae,clipPathId:t,pathRef:r,strokeDasharray:D})}return O>0&&E>0&&(n.current=s,i.current=N),l.createElement(ct,{props:a,points:s,clipPathId:t,pathRef:r,strokeDasharray:D})}),l.createElement(We,{label:a.label}))}function Pn(e){var{clipPathId:t,props:a}=e,r=l.useRef(null),n=l.useRef(0),i=l.useRef(null);return l.createElement(bn,{props:a,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:n,pathRef:i})}var An=(e,t)=>{var a,r;return{x:(a=e.x)!==null&&a!==void 0?a:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:M(e.payload,t)}};class jn extends l.Component{render(){var{hide:t,dot:a,points:r,className:n,xAxisId:i,yAxisId:s,top:o,left:u,width:d,height:f,id:m,needClip:p,zIndex:v}=this.props;if(t)return null;var h=J("recharts-line",n),g=m,{r:b,strokeWidth:j}=Ht(a),w=Dt(a),P=b*2+j;return l.createElement(ue,{zIndex:v},l.createElement($,{className:h},p&&l.createElement("defs",null,l.createElement(Ct,{clipPathId:g,xAxisId:i,yAxisId:s}),!w&&l.createElement("clipPath",{id:"clipPath-dots-".concat(g)},l.createElement("rect",{x:u-P/2,y:o-P/2,width:d+P,height:f+P}))),l.createElement(ka,{xAxisId:i,yAxisId:s,data:r,dataPointFormatter:An,errorBarOffset:0},l.createElement(Pn,{props:this.props,clipPathId:g}))),l.createElement(De,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Yt={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!$e.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:oe.line};function En(e){var t=W(e,Yt),{activeDot:a,animateNewValues:r,animationBegin:n,animationDuration:i,animationEasing:s,connectNulls:o,dot:u,hide:d,isAnimationActive:f,label:m,legendType:p,xAxisId:v,yAxisId:h,id:g}=t,b=Ye(t,on),{needClip:j}=It(v,h),w=kt(),P=Nt(),y=de(),A=V(O=>nn(O,v,h,y,g));if(P!=="horizontal"&&P!=="vertical"||A==null||w==null)return null;var{height:x,width:I,x:E,y:S}=w;return l.createElement(jn,se({},b,{id:g,connectNulls:o,dot:u,activeDot:a,animateNewValues:r,animationBegin:n,animationDuration:i,animationEasing:s,isAnimationActive:f,hide:d,label:m,legendType:p,xAxisId:v,yAxisId:h,points:A,layout:P,height:x,width:I,left:E,top:S,needClip:j}))}function wn(e){var{layout:t,xAxis:a,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:s,bandSize:o,displayedData:u}=e;return u.map((d,f)=>{var m=M(d,s);if(t==="horizontal"){var p=xe({axis:a,ticks:n,bandSize:o,entry:d,index:f}),v=Ce(m)?null:r.scale(m);return{x:p,y:v,value:m,payload:d}}var h=Ce(m)?null:a.scale(m),g=xe({axis:r,ticks:i,bandSize:o,entry:d,index:f});return h==null||g==null?null:{x:h,y:g,value:m,payload:d}}).filter(Boolean)}function On(e){var t=W(e,Yt),a=de();return l.createElement(Be,{id:t.id,type:"line"},r=>l.createElement(l.Fragment,null,l.createElement(Ot,{legendPayload:mn(t)}),l.createElement(ze,{fn,args:t}),l.createElement(St,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:a}),l.createElement(En,se({},t,{id:r}))))}var ge=l.memo(On);ge.displayName="Line";var qt=(e,t,a,r)=>Oe(e,"xAxis",t,r),Xt=(e,t,a,r)=>Se(e,"xAxis",t,r),Zt=(e,t,a,r)=>Oe(e,"yAxis",a,r),Qt=(e,t,a,r)=>Se(e,"yAxis",a,r),Sn=F([pe,qt,Zt,Xt,Qt],(e,t,a,r,n)=>Ke(e,"xAxis")?ye(t,r,!1):ye(a,n,!1)),In=(e,t,a,r,n)=>n,Jt=F([wt,In],(e,t)=>e.filter(a=>a.type==="area").find(a=>a.id===t)),kn=(e,t,a,r,n)=>{var i,s=Jt(e,t,a,r,n);if(s!=null){var o=pe(e),u=Ke(o,"xAxis"),d;if(u?d=tt(e,"yAxis",a,r):d=tt(e,"xAxis",t,r),d!=null){var{stackId:f}=s,m=Da(s);if(!(f==null||m==null)){var p=(i=d[f])===null||i===void 0?void 0:i.stackedData;return p==null?void 0:p.find(v=>v.key===m)}}}},Nn=F([pe,qt,Zt,Xt,Qt,kn,Et,Sn,Jt,Na],(e,t,a,r,n,i,s,o,u,d)=>{var{chartData:f,dataStartIndex:m,dataEndIndex:p}=s;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||a==null||r==null||n==null||r.length===0||n.length===0||o==null)){var{data:v}=u,h;if(v&&v.length>0?h=v:h=f==null?void 0:f.slice(m,p+1),h!=null)return qn({layout:e,xAxis:t,yAxis:a,xAxisTicks:r,yAxisTicks:n,dataStartIndex:m,areaSettings:u,stackedData:i,displayedData:h,chartBaseValue:d,bandSize:o})}}),Dn=["id"],Cn=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},q.apply(null,arguments)}function ea(e,t){if(e==null)return{};var a,r,n=Ln(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Ln(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function ut(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ut(Object(a),!0).forEach(function(r){Tn(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ut(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Tn(e,t,a){return(t=_n(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _n(e){var t=Rn(e,"string");return typeof t=="symbol"?t:t+""}function Rn(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function we(e,t){return e&&e!=="none"?e:t}var Bn=e=>{var{dataKey:t,name:a,stroke:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:we(r,n),value:ee(a,t),payload:e}]};function $n(e){var{dataKey:t,data:a,stroke:r,strokeWidth:n,fill:i,name:s,hide:o,unit:u}=e;return{dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:ee(s,t),hide:o,type:e.tooltipType,color:we(r,i),unit:u}}}function zn(e){var{clipPathId:t,points:a,props:r}=e,{needClip:n,dot:i,dataKey:s}=r,o=te(r);return l.createElement(_t,{points:a,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:o,needClip:n,clipPathId:t})}function Mn(e){var{showLabels:t,children:a,points:r}=e,n=r.map(i=>{var s,o,u={x:(s=i.x)!==null&&s!==void 0?s:0,y:(o=i.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return X(X({},u),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return l.createElement(Lt,{value:t?n:void 0},a)}function dt(e){var{points:t,baseLine:a,needClip:r,clipPathId:n,props:i}=e,{layout:s,type:o,stroke:u,connectNulls:d,isRange:f}=i,{id:m}=i,p=ea(i,Dn),v=te(p),h=Tt(p);return l.createElement(l.Fragment,null,(t==null?void 0:t.length)>1&&l.createElement($,{clipPath:r?"url(#clipPath-".concat(n,")"):void 0},l.createElement(he,q({},h,{id:m,points:t,connectNulls:d,type:o,baseLine:a,layout:s,stroke:"none",className:"recharts-area-area"})),u!=="none"&&l.createElement(he,q({},v,{className:"recharts-area-curve",layout:s,type:o,connectNulls:d,fill:"none",points:t})),u!=="none"&&f&&l.createElement(he,q({},v,{className:"recharts-area-curve",layout:s,type:o,connectNulls:d,fill:"none",points:a}))),l.createElement(zn,{points:t,props:p,clipPathId:n}))}function Fn(e){var{alpha:t,baseLine:a,points:r,strokeWidth:n}=e,i=r[0].y,s=r[r.length-1].y;if(!be(i)||!be(s))return null;var o=t*Math.abs(i-s),u=Math.max(...r.map(d=>d.x||0));return L(a)?u=Math.max(a,u):a&&Array.isArray(a)&&a.length&&(u=Math.max(...a.map(d=>d.x||0),u)),L(u)?l.createElement("rect",{x:0,y:i<s?i:i-o,width:u+(n?parseInt("".concat(n),10):1),height:Math.floor(o)}):null}function Wn(e){var{alpha:t,baseLine:a,points:r,strokeWidth:n}=e,i=r[0].x,s=r[r.length-1].x;if(!be(i)||!be(s))return null;var o=t*Math.abs(i-s),u=Math.max(...r.map(d=>d.y||0));return L(a)?u=Math.max(a,u):a&&Array.isArray(a)&&a.length&&(u=Math.max(...a.map(d=>d.y||0),u)),L(u)?l.createElement("rect",{x:i<s?i:i-o,y:0,width:o,height:Math.floor(u+(n?parseInt("".concat(n),10):1))}):null}function Kn(e){var{alpha:t,layout:a,points:r,baseLine:n,strokeWidth:i}=e;return a==="vertical"?l.createElement(Fn,{alpha:t,points:r,baseLine:n,strokeWidth:i}):l.createElement(Wn,{alpha:t,points:r,baseLine:n,strokeWidth:i})}function Vn(e){var{needClip:t,clipPathId:a,props:r,previousPointsRef:n,previousBaselineRef:i}=e,{points:s,baseLine:o,isAnimationActive:u,animationBegin:d,animationDuration:f,animationEasing:m,onAnimationStart:p,onAnimationEnd:v}=r,h=Me(r,"recharts-area-"),[g,b]=l.useState(!1),j=!g,w=l.useCallback(()=>{typeof v=="function"&&v(),b(!1)},[v]),P=l.useCallback(()=>{typeof p=="function"&&p(),b(!0)},[p]),y=n.current,A=i.current;return l.createElement(Mn,{showLabels:j,points:s},r.children,l.createElement(Fe,{animationId:h,begin:d,duration:f,isActive:u,easing:m,onAnimationEnd:w,onAnimationStart:P,key:h},x=>{if(y){var I=y.length/s.length,E=x===1?s:s.map((O,T)=>{var N=Math.floor(T*I);if(y[N]){var D=y[N];return X(X({},O),{},{x:R(D.x,O.x,x),y:R(D.y,O.y,x)})}return O}),S;return L(o)?S=R(A,o,x):Ce(o)||Ta(o)?S=R(A,0,x):S=o.map((O,T)=>{var N=Math.floor(T*I);if(Array.isArray(A)&&A[N]){var D=A[N];return X(X({},O),{},{x:R(D.x,O.x,x),y:R(D.y,O.y,x)})}return O}),x>0&&(n.current=E,i.current=S),l.createElement(dt,{points:E,baseLine:S,needClip:t,clipPathId:a,props:r})}return x>0&&(n.current=s,i.current=o),l.createElement($,null,u&&l.createElement("defs",null,l.createElement("clipPath",{id:"animationClipPath-".concat(a)},l.createElement(Kn,{alpha:x,points:s,baseLine:o,layout:r.layout,strokeWidth:r.strokeWidth}))),l.createElement($,{clipPath:"url(#animationClipPath-".concat(a,")")},l.createElement(dt,{points:s,baseLine:o,needClip:t,clipPathId:a,props:r})))}),l.createElement(We,{label:r.label}))}function Gn(e){var{needClip:t,clipPathId:a,props:r}=e,n=l.useRef(null),i=l.useRef();return l.createElement(Vn,{needClip:t,clipPathId:a,props:r,previousPointsRef:n,previousBaselineRef:i})}class Hn extends l.PureComponent{render(){var{hide:t,dot:a,points:r,className:n,top:i,left:s,needClip:o,xAxisId:u,yAxisId:d,width:f,height:m,id:p,baseLine:v,zIndex:h}=this.props;if(t)return null;var g=J("recharts-area",n),b=p,{r:j,strokeWidth:w}=Ht(a),P=Dt(a),y=j*2+w;return l.createElement(ue,{zIndex:h},l.createElement($,{className:g},o&&l.createElement("defs",null,l.createElement(Ct,{clipPathId:b,xAxisId:u,yAxisId:d}),!P&&l.createElement("clipPath",{id:"clipPath-dots-".concat(b)},l.createElement("rect",{x:s-y/2,y:i-y/2,width:f+y,height:m+y}))),l.createElement(Gn,{needClip:o,clipPathId:b,props:this.props})),l.createElement(De,{points:r,mainColor:we(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(v)&&l.createElement(De,{points:v,mainColor:we(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var ta={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!$e.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0,zIndex:oe.area};function Un(e){var t,a=W(e,ta),{activeDot:r,animationBegin:n,animationDuration:i,animationEasing:s,connectNulls:o,dot:u,fill:d,fillOpacity:f,hide:m,isAnimationActive:p,legendType:v,stroke:h,xAxisId:g,yAxisId:b}=a,j=ea(a,Cn),w=Nt(),P=La(),{needClip:y}=It(g,b),A=de(),{points:x,isRange:I,baseLine:E}=(t=V(K=>Nn(K,g,b,A,e.id)))!==null&&t!==void 0?t:{},S=kt();if(w!=="horizontal"&&w!=="vertical"||S==null||P!=="AreaChart"&&P!=="ComposedChart")return null;var{height:O,width:T,x:N,y:D}=S;return!x||!x.length?null:l.createElement(Hn,q({},j,{activeDot:r,animationBegin:n,animationDuration:i,animationEasing:s,baseLine:E,connectNulls:o,dot:u,fill:d,fillOpacity:f,height:O,hide:m,layout:w,isAnimationActive:p,isRange:I,legendType:v,needClip:y,points:x,stroke:h,width:T,left:N,top:D,xAxisId:g,yAxisId:b}))}var Yn=(e,t,a,r,n)=>{var i=a??t;if(L(i))return i;var s=e==="horizontal"?n:r,o=s.scale.domain();if(s.type==="number"){var u=Math.max(o[0],o[1]),d=Math.min(o[0],o[1]);return i==="dataMin"?d:i==="dataMax"||u<0?u:Math.max(Math.min(o[0],o[1]),0)}return i==="dataMin"?o[0]:i==="dataMax"?o[1]:o[0]};function qn(e){var{areaSettings:{connectNulls:t,baseValue:a,dataKey:r},stackedData:n,layout:i,chartBaseValue:s,xAxis:o,yAxis:u,displayedData:d,dataStartIndex:f,xAxisTicks:m,yAxisTicks:p,bandSize:v}=e,h=n&&n.length,g=Yn(i,s,a,o,u),b=i==="horizontal",j=!1,w=d.map((y,A)=>{var x;h?x=n[f+A]:(x=M(y,r),Array.isArray(x)?j=!0:x=[g,x]);var I=x[1]==null||h&&!t&&M(y,r)==null;return b?{x:xe({axis:o,ticks:m,bandSize:v,entry:y,index:A}),y:I?null:u.scale(x[1]),value:x,payload:y}:{x:I?null:o.scale(x[1]),y:xe({axis:u,ticks:p,bandSize:v,entry:y,index:A}),value:x,payload:y}}),P;return h||j?P=w.map(y=>{var A=Array.isArray(y.value)?y.value[0]:null;return b?{x:y.x,y:A!=null&&y.y!=null?u.scale(A):null,payload:y.payload}:{x:A!=null?o.scale(A):null,y:y.y,payload:y.payload}}):P=b?u.scale(g):o.scale(g),{points:w,baseLine:P,isRange:j}}function Xn(e){var t=W(e,ta),a=de();return l.createElement(Be,{id:t.id,type:"area"},r=>l.createElement(l.Fragment,null,l.createElement(Ot,{legendPayload:Bn(t)}),l.createElement(ze,{fn:$n,args:t}),l.createElement(St,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:Ca(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:a,connectNulls:t.connectNulls}),l.createElement(Un,q({},t,{id:r}))))}var Re=l.memo(Xn);Re.displayName="Area";var Zn=["axis"],Qn=l.forwardRef((e,t)=>l.createElement(Rt,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Zn,tooltipPayloadSearcher:Ve,categoricalChartProps:e,ref:t})),Jn=["item"],ei={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ti=l.forwardRef((e,t)=>{var a=W(e,ei);return l.createElement(_a,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Jn,tooltipPayloadSearcher:Ve,categoricalChartProps:a,ref:t})}),ai=["axis"],ri=l.forwardRef((e,t)=>l.createElement(Rt,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ai,tooltipPayloadSearcher:Ve,categoricalChartProps:e,ref:t}));const ni=(e="today")=>{const[t,a]=l.useState([]),[r,n]=l.useState([]),[i,s]=l.useState([]),[o,u]=l.useState([]),[d,f]=l.useState(!0);return l.useEffect(()=>{(async()=>{f(!0);try{const{startDate:p,endDate:v}=ii(e),g=(await na.collection("orders").where("timestamp",">=",p).where("timestamp","<",v).get()).docs.map(P=>{var A;const y=P.data();return{id:P.id,...y,orderItems:y.orderItems||y.items||[],timestamp:(A=y.timestamp)!=null&&A.toDate?y.timestamp.toDate():y.timestamp?new Date(y.timestamp):new Date,totalAmount:y.totalAmount||y.subtotal||0}}),b=li(g,e);a(b);const j=si(g);n(j);const w=oi(g);if(s(w),e==="today"||e==="week"){const P=ci(g);u(P)}}catch(p){console.error("Error fetching sales data:",p)}finally{f(!1)}})()},[e]),{salesData:t,topProducts:r,categorySales:i,peakHours:o,isLoading:d}};function ii(e){const t=new Date;let a,r=new Date(t);switch(e){case"today":a=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1);break;case"week":a=new Date(t),a.setDate(t.getDate()-7);break;case"month":a=new Date(t),a.setDate(t.getDate()-30);break;case"year":a=new Date(t),a.setFullYear(t.getFullYear()-1);break;default:a=new Date(t.getFullYear(),t.getMonth(),t.getDate())}return{startDate:a,endDate:r}}function li(e,t){const a=new Map;return e.forEach(r=>{var o;const n=(o=r.timestamp)!=null&&o.toDate?r.timestamp.toDate():new Date(r.timestamp);let i;switch(t){case"today":i=`${n.getHours()}:00`;break;case"week":i=n.toLocaleDateString("en-US",{month:"short",day:"numeric"});break;case"month":i=n.toLocaleDateString("en-US",{month:"short",day:"numeric"});break;case"year":i=n.toLocaleDateString("en-US",{month:"short",year:"numeric"});break;default:i=n.toLocaleDateString()}const s=a.get(i)||{revenue:0,orders:0};a.set(i,{revenue:s.revenue+(r.totalAmount||0),orders:s.orders+1})}),Array.from(a.entries()).map(([r,n])=>({date:r,revenue:n.revenue,orders:n.orders,averageOrderValue:n.orders>0?n.revenue/n.orders:0})).sort((r,n)=>t==="today"?parseInt(r.date)-parseInt(n.date):0)}function si(e){const t=new Map;return e.forEach(a=>{var r;(r=a.orderItems)==null||r.forEach(n=>{const i=t.get(n.productId)||{name:n.productName,quantity:0,revenue:0};t.set(n.productId,{name:n.productName,quantity:i.quantity+n.quantity,revenue:i.revenue+n.price*n.quantity})})}),Array.from(t.entries()).map(([a,r])=>({productId:a,productName:r.name,quantity:r.quantity,revenue:r.revenue})).sort((a,r)=>r.revenue-a.revenue).slice(0,10)}function oi(e){const t=new Map;return e.forEach(a=>{var r;(r=a.orderItems)==null||r.forEach(n=>{const i=ui(n.productName),s=t.get(i)||{revenue:0,orders:new Set};t.set(i,{revenue:s.revenue+n.price*n.quantity,orders:s.orders.add(a.id)})})}),Array.from(t.entries()).map(([a,r])=>({category:a,revenue:r.revenue,orders:r.orders.size})).sort((a,r)=>r.revenue-a.revenue)}function ci(e){const t=new Map;for(let a=0;a<24;a++)t.set(a,{orders:0,revenue:0});return e.forEach(a=>{var s;const n=((s=a.timestamp)!=null&&s.toDate?a.timestamp.toDate():new Date(a.timestamp)).getHours(),i=t.get(n)||{orders:0,revenue:0};t.set(n,{orders:i.orders+1,revenue:i.revenue+(a.totalAmount||0)})}),Array.from(t.entries()).map(([a,r])=>({hour:a,orders:r.orders,revenue:r.revenue})).filter(a=>a.orders>0)}function ui(e){const t=e.toLowerCase();return t.includes("latte")||t.includes("espresso")||t.includes("cappuccino")||t.includes("mocha")?"Coffee Based":t.includes("matcha")?"Matcha Series":t.includes("chocolate")||t.includes("milk")?"Non-Coffee Based":t.includes("tea")||t.includes("lemon")||t.includes("soda")?"Refreshments":t.includes("waffle")||t.includes("pasta")||t.includes("sandwich")?"Meals":"Other"}const di=({data:e,showOrders:t=!0,type:a="area"})=>{const r=({active:n,payload:i,label:s})=>n&&i&&i.length?c.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border border-gray-200",children:[c.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:s}),c.jsxs("p",{className:"text-sm text-blue-600",children:["Revenue: ",i[0].value.toLocaleString("en-US",{minimumFractionDigits:2})]}),t&&i[1]&&c.jsxs("p",{className:"text-sm text-green-600",children:["Orders: ",i[1].value]}),i[2]&&c.jsxs("p",{className:"text-sm text-purple-600",children:["Avg Order: ",i[2].value.toLocaleString("en-US",{minimumFractionDigits:2})]})]}):null;return a==="area"?c.jsx(ne,{width:"100%",height:"100%",children:c.jsxs(ri,{data:e,children:[c.jsxs("defs",{children:[c.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),c.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]}),t&&c.jsxs("linearGradient",{id:"colorOrders",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.3}),c.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]})]}),c.jsx(le,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),c.jsx(Pe,{dataKey:"date",stroke:"#6B7280",style:{fontSize:"12px"}}),c.jsx(Ae,{stroke:"#6B7280",style:{fontSize:"12px"},tickFormatter:n=>`${n.toLocaleString()}`}),c.jsx(ie,{content:c.jsx(r,{}),cursor:!1,wrapperStyle:{outline:"none"}}),c.jsx(Q,{wrapperStyle:{paddingTop:"20px"},iconType:"circle"}),c.jsx(Re,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenue)",name:"Revenue"}),t&&c.jsx(Re,{type:"monotone",dataKey:"orders",stroke:"#10B981",strokeWidth:2,fillOpacity:1,fill:"url(#colorOrders)",name:"Orders"})]})}):c.jsx(ne,{width:"100%",height:"100%",children:c.jsxs(Qn,{data:e,children:[c.jsx(le,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),c.jsx(Pe,{dataKey:"date",stroke:"#6B7280",style:{fontSize:"12px"}}),c.jsx(Ae,{stroke:"#6B7280",style:{fontSize:"12px"},tickFormatter:n=>`${n.toLocaleString()}`}),c.jsx(ie,{content:c.jsx(r,{}),cursor:!1,wrapperStyle:{outline:"none"}}),c.jsx(Q,{wrapperStyle:{paddingTop:"20px"},iconType:"circle"}),c.jsx(ge,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",strokeWidth:3,dot:{fill:"#3B82F6",r:4},activeDot:{r:6},name:"Revenue"}),t&&c.jsx(ge,{type:"monotone",dataKey:"orders",stroke:"#10B981",strokeWidth:3,dot:{fill:"#10B981",r:4},activeDot:{r:6},name:"Orders"}),c.jsx(ge,{type:"monotone",dataKey:"averageOrderValue",stroke:"#8B5CF6",strokeWidth:2,strokeDasharray:"5 5",dot:{fill:"#8B5CF6",r:3},name:"Avg Order Value"})]})})},pt=["#3B82F6","#10B981","#F59E0B","#8B5CF6","#EC4899","#14B8A6","#F97316","#6366F1","#EF4444","#06B6D4"],pi=({data:e,showRevenue:t=!0})=>{const a=({active:r,payload:n,label:i})=>r&&n&&n.length?c.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border border-gray-200",children:[c.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:i}),c.jsxs("p",{className:"text-sm text-blue-600",children:["Quantity Sold: ",n[0].value]}),t&&n[1]&&c.jsxs("p",{className:"text-sm text-green-600",children:["Revenue: ",n[1].value.toLocaleString("en-US",{minimumFractionDigits:2})]})]}):null;return e.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[c.jsx(fe,{className:"w-12 h-12 mb-3 opacity-50"}),c.jsx("p",{children:"No sales data available"})]}):c.jsx(ne,{width:"100%",height:"100%",children:c.jsxs(Bt,{data:e,layout:"vertical",margin:{top:5,right:30,left:10,bottom:5},children:[c.jsx(le,{strokeDasharray:"3 3",stroke:"#E5E7EB",horizontal:!1,vertical:!0}),c.jsx(Pe,{type:"number",stroke:"#9CA3AF",style:{fontSize:"12px"},axisLine:!1,tickLine:!1}),c.jsx(Ae,{type:"category",dataKey:"productName",stroke:"#4B5563",style:{fontSize:"12px",fontWeight:500},width:100,tickFormatter:r=>r.length>12?r.substring(0,12)+"...":r,axisLine:!1,tickLine:!1}),c.jsx(ie,{content:c.jsx(a,{}),cursor:{fill:"#F3F4F6",opacity:.5},wrapperStyle:{outline:"none"}}),c.jsx(Q,{wrapperStyle:{paddingTop:"10px"},iconType:"circle"}),c.jsx(Le,{dataKey:"quantity",name:"Quantity Sold",radius:[0,4,4,0],barSize:32,background:{fill:"#F9FAFB",radius:4},children:e.map((r,n)=>c.jsx(ce,{fill:pt[n%pt.length]},`cell-${n}`))})]})})},mt={"Coffee Based":"#8B4513","Non-Coffee Based":"#D2691E","Matcha Series":"#90EE90",Refreshments:"#87CEEB",Meals:"#FFD700",Other:"#9CA3AF"},mi=({data:e})=>{const t=({active:i,payload:s})=>{if(i&&s&&s.length){const o=s[0].payload,u=(o.revenue/o.total*100).toFixed(1);return c.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border border-gray-200",children:[c.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:o.category}),c.jsxs("p",{className:"text-sm text-blue-600",children:["Revenue: ",o.revenue.toLocaleString("en-US",{minimumFractionDigits:2})]}),c.jsxs("p",{className:"text-sm text-green-600",children:["Orders: ",o.orders]}),c.jsxs("p",{className:"text-sm text-purple-600",children:["Share: ",u,"%"]})]})}return null},a=({cx:i,cy:s,midAngle:o,innerRadius:u,outerRadius:d,percent:f})=>{const m=Math.PI/180,p=u+(d-u)*.5,v=i+p*Math.cos(-o*m),h=s+p*Math.sin(-o*m);return f<.05?null:c.jsx("text",{x:v,y:h,fill:"white",textAnchor:v>i?"start":"end",dominantBaseline:"central",className:"font-semibold text-sm",children:`${(f*100).toFixed(0)}%`})};if(e.length===0)return c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[c.jsx(Te,{className:"w-12 h-12 mb-3 opacity-50"}),c.jsx("p",{children:"No category data available"})]});const r=e.reduce((i,s)=>i+s.revenue,0),n=e.map(i=>({...i,total:r}));return c.jsx(ne,{width:"100%",height:"100%",children:c.jsxs(ti,{children:[c.jsx(Mt,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:a,outerRadius:100,fill:"#8884d8",dataKey:"revenue",animationBegin:0,animationDuration:800,children:n.map((i,s)=>c.jsx(ce,{fill:mt[i.category]||mt.Other},`cell-${s}`))}),c.jsx(ie,{content:c.jsx(t,{}),wrapperStyle:{outline:"none"}}),c.jsx(Q,{verticalAlign:"bottom",height:36,iconType:"circle",formatter:(i,s)=>{const o=(s.payload.revenue/r*100).toFixed(1);return`${i} (${o}%)`}})]})})},fi=({data:e})=>{const t=({active:i,payload:s,label:o})=>i&&s&&s.length?c.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border border-gray-200",children:[c.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:a(o)}),c.jsxs("p",{className:"text-sm text-blue-600",children:["Orders: ",s[0].value]}),c.jsxs("p",{className:"text-sm text-green-600",children:["Revenue: ",s[1].value.toLocaleString("en-US",{minimumFractionDigits:2})]})]}):null,a=i=>{const s=i>=12?"PM":"AM";return`${i===0?12:i>12?i-12:i}:00 ${s}`},r=(i,s)=>{const o=i/s;return o>.7?"#EF4444":o>.4?"#F59E0B":"#3B82F6"};if(e.length===0)return c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[c.jsx($t,{className:"w-12 h-12 mb-3 opacity-50"}),c.jsx("p",{children:"No peak hours data available"})]});const n=Math.max(...e.map(i=>i.orders));return c.jsx(ne,{width:"100%",height:"100%",children:c.jsxs(Bt,{data:e,children:[c.jsx(le,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),c.jsx(Pe,{dataKey:"hour",stroke:"#6B7280",style:{fontSize:"11px"},tickFormatter:a,interval:0,angle:-45,textAnchor:"end",height:70}),c.jsx(Ae,{stroke:"#6B7280",style:{fontSize:"12px"}}),c.jsx(ie,{content:c.jsx(t,{}),cursor:!1,wrapperStyle:{outline:"none"}}),c.jsx(Q,{wrapperStyle:{paddingTop:"10px"},iconType:"circle"}),c.jsx(Le,{dataKey:"orders",name:"Orders",radius:[8,8,0,0],children:e.map((i,s)=>c.jsx(ce,{fill:r(i.orders,n)},`cell-orders-${s}`))}),c.jsx(Le,{dataKey:"revenue",name:"Revenue ()",fill:"#10B981",radius:[8,8,0,0],opacity:.7})]})})},Pi=()=>{const[e,t]=l.useState("today"),{salesData:a,topProducts:r,categorySales:n,peakHours:i,isLoading:s}=ni(e),o=[{value:"today",label:"Today",icon:me},{value:"week",label:"This Week",icon:me},{value:"month",label:"This Month",icon:me},{value:"year",label:"This Year",icon:me}],u=a.reduce((m,p)=>m+p.revenue,0),d=a.reduce((m,p)=>m+p.orders,0),f=d>0?u/d:0;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800 sm:text-2xl",children:"Sales Overview"}),c.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 sm:pb-0",children:o.map(m=>{const p=m.icon;return c.jsxs("button",{onClick:()=>t(m.value),className:`
                  flex flex-shrink-0 items-center gap-2 px-3 py-2 rounded-lg font-medium transition-all text-sm sm:px-4
                  ${e===m.value?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}
                `,children:[c.jsx(p,{className:"w-4 h-4"}),c.jsx("span",{className:"whitespace-nowrap",children:m.label})]},m.value)})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx(U,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-blue-700 mb-1",children:"Total Revenue"}),c.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["",u.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),c.jsx("div",{className:"p-3 bg-blue-200 rounded-lg",children:c.jsx(fe,{className:"w-6 h-6 text-blue-700"})})]})}),c.jsx(U,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-green-700 mb-1",children:"Total Orders"}),c.jsx("p",{className:"text-2xl font-bold text-green-900",children:d})]}),c.jsx("div",{className:"p-3 bg-green-200 rounded-lg",children:c.jsx(Te,{className:"w-6 h-6 text-green-700"})})]})}),c.jsx(U,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-purple-700 mb-1",children:"Avg Order Value"}),c.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:["",f.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),c.jsx("div",{className:"p-3 bg-purple-200 rounded-lg",children:c.jsx(Ra,{className:"w-6 h-6 text-purple-700"})})]})})]}),c.jsxs(U,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(fe,{className:"w-5 h-5 text-blue-600"}),c.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Revenue & Orders Trend"})]}),c.jsx("div",{className:"h-80",children:s?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[c.jsx(fe,{className:"w-12 h-12 mb-3 opacity-50"}),c.jsx("p",{children:"No sales data available for this period"})]}):c.jsx(di,{data:a,showOrders:!0,type:"area"})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(U,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(Te,{className:"w-5 h-5 text-green-600"}),c.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Top Selling Products"})]}),c.jsx("div",{className:"h-96",children:s?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):c.jsx(pi,{data:r,showRevenue:!0})})]}),c.jsxs(U,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx($a,{className:"w-5 h-5 text-purple-600"}),c.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Sales by Category"})]}),c.jsx("div",{className:"h-96",children:s?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):c.jsx(mi,{data:n})})]})]}),(e==="today"||e==="week")&&i.length>0&&c.jsxs(U,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx($t,{className:"w-5 h-5 text-orange-600"}),c.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Peak Hours Analysis"})]}),c.jsx("div",{className:"h-80",children:s?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):c.jsx(fi,{data:i})})]})]})};export{Pi as S};
