import{c as l,a8 as c,z as d,j as e,X as x,R as o}from"./index-ChqwkqS-.js";import{B as m}from"./Button-Cs6ImWJo.js";/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],h=l("printer",p),y=({order:t,isOpen:a,onClose:r})=>{if(c.useEffect(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[a]),!a)return null;const i=()=>{window.print()};return d.createPortal(e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 print:p-0 print:absolute print:inset-0 print:block print:bg-white",onClick:r,children:e.jsxs("div",{className:"flex flex-col w-full max-w-md max-h-[90vh] overflow-hidden rounded-3xl bg-white shadow-2xl print:max-w-none print:shadow-none print:rounded-none print:max-h-none print:overflow-visible animate-fade-in-up",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 p-4 print:hidden flex-shrink-0 bg-white z-10",children:[e.jsx("h3",{className:"font-display text-lg font-bold text-gray-900",children:"Digital Receipt"}),e.jsx("button",{onClick:r,className:"rounded-full p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-600 transition-colors",children:e.jsx(x,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-8 print:p-0 print:overflow-visible",id:"receipt-content",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx(o,{className:"mx-auto h-16 w-16 text-primary-600 mb-4"}),e.jsx("h1",{className:"font-display text-2xl font-bold text-coffee-900",children:"Rush Coffee"}),e.jsx("p",{className:"text-sm text-gray-500",children:"11 Visayan Ave. St. Galas, Quezon City"}),e.jsx("p",{className:"text-sm text-gray-500",children:"0930 464 1022"})]}),e.jsxs("div",{className:"mb-8 flex items-center justify-between border-b border-dashed border-gray-300 pb-6",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Order No."}),e.jsx("p",{className:"font-mono text-lg font-bold text-gray-900",children:t.orderNumber})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("p",{className:"font-medium text-gray-900",children:new Date(t.timestamp).toLocaleDateString()}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Customer"}),e.jsx("p",{className:"font-medium text-gray-900",children:t.customerName})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider mb-3",children:"Order Details"}),e.jsx("ul",{className:"space-y-3",children:t.orderItems.map((s,n)=>e.jsxs("li",{className:"flex justify-between text-sm",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("span",{className:"font-medium text-gray-900",children:[s.quantity,"x ",s.productName]}),s.customizations&&e.jsxs("div",{className:"text-xs text-gray-500 pl-4 mt-0.5",children:[s.customizations.sugarLevel&&e.jsxs("span",{children:["Sugar: ",s.customizations.sugarLevel,", "]}),s.customizations.iceLevel&&e.jsxs("span",{children:["Ice: ",s.customizations.iceLevel]})]})]}),e.jsxs("span",{className:"font-medium text-gray-900",children:["₱",(s.price*s.quantity).toFixed(2)]})]},n))})]}),e.jsxs("div",{className:"border-t border-dashed border-gray-300 pt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsxs("span",{className:"font-medium text-gray-900",children:["₱",(t.totalAmount-15).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Service Fee"}),e.jsx("span",{className:"font-medium text-gray-900",children:"₱15.00"})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold text-coffee-900 pt-2 border-t border-gray-100 mt-2",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["₱",t.totalAmount.toFixed(2)]})]})]}),e.jsxs("div",{className:"mt-6 rounded-lg bg-gray-50 p-4 text-center print:bg-transparent print:border print:border-gray-200",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Payment Method"}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{className:`inline-block h-2 w-2 rounded-full ${t.paymentStatus==="paid"?"bg-green-500":"bg-amber-500"}`}),e.jsx("span",{className:"font-bold text-gray-900 uppercase",children:t.paymentMethod})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Status: ",e.jsx("span",{className:t.paymentStatus==="paid"?"text-green-600 font-medium":"text-amber-600 font-medium",children:t.paymentStatus==="paid"?"PAID":"PENDING"})]})]}),t.receiptUrl&&e.jsxs("div",{className:"mt-6 rounded-lg border border-gray-200 p-4",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider mb-2 text-center",children:"Payment Receipt"}),e.jsx("div",{className:"relative aspect-[3/4] w-full overflow-hidden rounded-md bg-gray-100",children:e.jsx("img",{src:t.receiptUrl,alt:"Payment Receipt",className:"h-full w-full object-contain"})}),t.paymentReference&&e.jsxs("p",{className:"mt-2 text-center text-xs text-gray-500",children:["Ref: ",e.jsx("span",{className:"font-mono font-medium text-gray-900",children:t.paymentReference})]})]}),e.jsxs("div",{className:"mt-8 text-center border-t border-gray-100 pt-6",children:[e.jsx("p",{className:"font-display text-lg font-bold text-coffee-900 mb-1",children:"Thank You!"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Please present this receipt at the counter."}),e.jsx("p",{className:"text-[10px] text-gray-400 mt-4 font-mono",children:t.id})]})]}),e.jsx("div",{className:"border-t border-gray-100 p-4 bg-gray-50 print:hidden flex-shrink-0 z-10",children:e.jsxs(m,{onClick:i,fullWidth:!0,className:"flex items-center justify-center gap-2",children:[e.jsx(h,{className:"h-4 w-4"}),"Print Receipt"]})})]})}),e.jsx("style",{children:`
        @media print {
          body * {
            visibility: hidden;
          }
          #receipt-content, #receipt-content * {
            visibility: visible;
          }
          #receipt-content {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            margin: 0;
            padding: 20px;
          }
        }
      `})]}),document.body)};export{y as D};
