import{j as e,B as O,p as te,i as B,C as ae,r as c,d as L,h as le,o as ne,u as oe,t as ie,v as ce,H as D,x as de,y as me,z as xe,m as he,a as E,A as q,D as G}from"./index-LHjwylzb.js";import{W as ue}from"./wallet-Cv8Zlevi.js";import{B as pe}from"./banknote-DBglTuJv.js";import{m as T}from"./mockAvailableRewards-2NOuBi-T.js";import{S as ge}from"./shopping-bag-DVE8aW7y.js";import{C as fe}from"./coffee-DYJFl-fZ.js";import{M as ye}from"./message-square-4vSFEQcY.js";const be=({selectedMethod:m,onSelectMethod:h,totalAmount:u})=>{const x=m==="gcash",y=m==="cash",t=u>200,o=({isSelected:d})=>e.jsx("div",{className:`absolute top-4 right-4 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full border-2 transition-all ${d?"border-primary-600 bg-primary-600":"border-gray-400 bg-white"}`,children:d&&e.jsx(te,{className:"h-4 w-4 text-white"})});return e.jsxs("div",{className:"w-full",children:[e.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Payment Method"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",role:"radiogroup",children:[e.jsxs("div",{onClick:()=>h("gcash"),role:"radio","aria-checked":x,tabIndex:0,onKeyDown:d=>(d.key===" "||d.key==="Enter")&&h("gcash"),className:`relative cursor-pointer rounded-xl border-2 p-6 transition-all duration-200 ease-in-out hover:border-primary-300 ${x?"border-primary-600 bg-primary-50 shadow-lg":"border-gray-200 bg-white"}`,children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-blue-100",children:e.jsx(ue,{className:"h-7 w-7 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"pr-8 font-display text-lg font-bold text-coffee-900",children:"GCash"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Pay securely via GCash QR code."})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx(O,{className:x?"bg-blue-200 text-blue-800":"bg-gray-100 text-gray-700",children:"Instant confirmation"})}),e.jsx(o,{isSelected:x})]}),e.jsxs("div",{onClick:()=>!t&&h("cash"),role:"radio","aria-checked":y,"aria-disabled":t,tabIndex:t?-1:0,onKeyDown:d=>!t&&(d.key===" "||d.key==="Enter")&&h("cash"),className:`relative rounded-xl border-2 p-6 transition-all duration-200 ease-in-out ${t?"cursor-not-allowed border-gray-100 bg-gray-50 opacity-60":`cursor-pointer hover:border-primary-300 ${y?"border-primary-600 bg-primary-50 shadow-lg":"border-gray-200 bg-white"}`}`,children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:`flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg ${t?"bg-gray-200":"bg-green-100"}`,children:e.jsx(pe,{className:`h-7 w-7 ${t?"text-gray-400":"text-green-600"}`})}),e.jsxs("div",{children:[e.jsx("h3",{className:`pr-8 font-display text-lg font-bold ${t?"text-gray-500":"text-coffee-900"}`,children:"Over the counter payment"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Pay when you collect your order."}),t&&e.jsx("p",{className:"mt-2 text-xs font-medium text-red-500",children:"Not available for orders over ₱200"})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx(O,{className:t?"bg-gray-200 text-gray-500":y?"bg-green-200 text-green-800":"bg-gray-100 text-gray-700",children:"Pay at counter"})}),!t&&e.jsx(o,{isSelected:y})]})]})]})},je="/RushCoffee-Capstone/assets/gcash-qr-D2b1kg1u.jpg",Ne=({totalAmount:m,referenceNumber:h,onReferenceNumberChange:u,accountName:x,onAccountNameChange:y})=>e.jsxs("div",{className:"w-full max-w-md mx-auto space-y-6",children:[e.jsx("div",{className:"rounded-lg border-l-4 border-blue-400 bg-blue-50 p-4",role:"alert",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(B,{className:"h-5 w-5 text-blue-400","aria-hidden":"true"})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-blue-700",children:"Please scan the QR code, complete the payment, and enter the reference number below."})})]})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex h-64 w-64 items-center justify-center rounded-xl border-4 border-primary-600 bg-white p-2 shadow-lg overflow-hidden",children:e.jsx("img",{src:je,alt:"GCash QR Code",className:"h-full w-full object-contain"})}),e.jsxs("p",{className:"mt-4 text-sm font-medium text-gray-600",children:["Merchant: ",e.jsx("span",{className:"font-bold text-coffee-900",children:"Rush Coffee"})]}),e.jsxs("p",{className:"font-display text-3xl font-bold text-primary-600",children:["₱",m.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"account-name",className:"block text-sm font-medium text-gray-700",children:"GCash Account Name"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",id:"account-name",name:"account-name",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm p-2 border",placeholder:"e.g. Juan dela Cruz",value:x,onChange:t=>y(t.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"reference-number",className:"block text-sm font-medium text-gray-700",children:"GCash Reference Number"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",id:"reference-number",name:"reference-number",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm p-2 border",placeholder:"e.g. 1234 5678 9012",value:h,onChange:t=>u(t.target.value)})}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Please enter the reference number from your GCash SMS or receipt."})]})]}),ve=({items:m,subtotal:h,toppingsTotal:u=0,discount:x=0,total:y})=>e.jsx("div",{className:"w-full lg:sticky lg:top-24",children:e.jsxs(ae,{className:"rounded-xl border-gray-200 p-6 shadow-none",children:[e.jsx("h2",{className:"mb-4 font-display text-lg font-semibold text-coffee-900",children:"Order Summary"}),e.jsx("div",{className:"max-h-80 space-y-3 overflow-y-auto pr-2",children:m.map((t,o)=>e.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-gray-50 p-2",children:[t.imageUrl&&e.jsx("div",{className:"h-14 w-14 shrink-0 overflow-hidden rounded-lg bg-white border border-gray-200",children:e.jsx("img",{src:t.imageUrl,alt:t.productName,className:"h-full w-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.productName}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsxs("span",{className:"text-xs font-medium text-gray-500",children:["×",t.quantity]}),e.jsxs("span",{className:"text-sm font-bold text-coffee-700",children:["₱",(t.price*t.quantity).toFixed(2)]})]})]})]},o))}),e.jsx("hr",{className:"my-4 border-gray-200"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsxs("span",{className:"font-medium text-gray-900",children:["₱",h.toFixed(2)]})]}),u>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Toppings"}),e.jsxs("span",{className:"font-medium text-gray-900",children:["₱",u.toFixed(2)]})]}),x>0&&e.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[e.jsx("span",{className:"font-medium",children:"Discount"}),e.jsxs("span",{className:"font-bold",children:["-₱",x.toFixed(2)]})]})]}),e.jsx("hr",{className:"my-4 border-dashed border-gray-300"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-base font-bold text-gray-900",children:"Total"}),e.jsxs("span",{className:"font-display text-2xl font-bold text-primary-600",children:["₱",y.toFixed(2)]})]})]})}),we=()=>{const[m,h]=c.useState([]),[u,x]=c.useState(!0),[y,t]=c.useState(null);return c.useEffect(()=>{(async()=>{try{const d=L.collection("rewards"),$=await d.get();if($.empty){console.log("Seeding available rewards...");const v=T.map(f=>d.add(f));await Promise.all(v);const p=(await d.orderBy("displayOrder").get()).docs.map(f=>({id:f.id,...f.data()}));h(p)}else{const v=$.docs.map(p=>({id:p.id,...p.data()})),C=[];for(const p of v){const f=T.find(j=>j.name===p.name);f&&f.imageUrl!==p.imageUrl&&(console.log(`Updating image for ${p.name}...`),C.push(d.doc(p.id).update({imageUrl:f.imageUrl})),p.imageUrl=f.imageUrl)}C.length>0&&await Promise.all(C),v.sort((p,f)=>(p.displayOrder||0)-(f.displayOrder||0)),h(v)}}catch(d){console.error("Error fetching rewards:",d),t(d.message)}finally{x(!1)}})()},[]),{rewards:m,loading:u,error:y}},Ie=()=>{const m=le(),{cartItems:h,showToast:u,totalCartItems:x,clearCart:y,selectedItemIds:t}=ne(),{currentUser:o}=oe(),{setActiveOrder:d,addOrderToHistory:$}=ie(),{toppings:v}=ce(),{rewards:C,loading:p}=we(),f=s=>s?s.reduce((i,r)=>{const n=v.find(l=>l.name===r);return i+((n==null?void 0:n.price)||0)},0):0,j=c.useMemo(()=>h.filter(s=>t.includes(s.id)),[h,t]),[N,W]=c.useState(null),[g,k]=c.useState({name:"",phone:""}),[H,V]=c.useState(""),[b,Q]=c.useState({}),[P,Y]=c.useState(""),[S,J]=c.useState(""),[w,A]=c.useState(!1),[I,K]=c.useState(!1),[a,M]=c.useState(null),{subtotal:X,toppingsTotal:Z,discountAmount:F,total:R}=c.useMemo(()=>{const s=j.reduce((n,l)=>n+l.selectedSize.price*l.quantity,0),i=j.reduce((n,l)=>{var U;const re=f((U=l.customizations)==null?void 0:U.toppings);return n+re*l.quantity},0);let r=0;if(a){if(a.category==="discount")a.name.includes("10%")&&(r=(s+i)*.1);else if(a.category==="drink"&&a.name.includes("Free Grande")){const n=j.find(l=>l.selectedSize.name==="Grande");n&&(r=n.selectedSize.price)}else if(a.category==="food"&&a.name.includes("Rice Meal")){const n=j.find(l=>l.product.category==="Meals"||l.product.name.includes("Rice"));n&&(r=n.selectedSize.price)}}return r=Math.min(r,s+i),{subtotal:s,toppingsTotal:i,discountAmount:r,total:s+i-r}},[j,v,a]),_=c.useMemo(()=>j.map(s=>({productName:`${s.product.name} (${s.selectedSize.name})`,quantity:s.quantity,price:s.selectedSize.price,imageUrl:s.product.imageUrl})),[j]);c.useEffect(()=>{if(!o){u("Please log in to proceed to checkout."),m("/auth/login",{state:{from:"/checkout"}});return}x===0&&!w&&!I&&(u("Your cart is empty. Add items to checkout."),m("/menu"))},[x,m,u,w,I,o]),c.useEffect(()=>{o&&k({name:`${o.firstName} ${o.lastName}`,phone:o.phone||""})},[o]);const z=c.useMemo(()=>{const s=g.name.trim().length>=2,i=/^\+63 9\d{2} \d{3} \d{4}$/.test(g.phone),r=N!==null;if(N==="gcash"){const n=P.trim().length>0,l=S.trim().length>0;return s&&i&&r&&n&&l}return s&&i&&r},[g.name,g.phone,N,P,S]),ee=()=>{const s={};return g.name.trim().length<2&&(s.name="Name must be at least 2 characters long."),/^\+63 9\d{2} \d{3} \d{4}$/.test(g.phone)||(s.phone="Please enter a valid PH phone number (+63 9xx xxx xxxx)."),N||(s.payment="Please select a payment method."),N==="gcash"&&(P.trim()||(s.reference="Please enter the GCash reference number."),S.trim()||(s.accountName="Please enter the GCash account name.")),Q(s),Object.keys(s).length===0},se=async s=>{if(s.preventDefault(),!o||!ee()){u("Please correct the errors before proceeding.");return}A(!0);const i=`RC-2025-${Math.floor(1e3+Math.random()*9e3)}`;try{const n={userId:o.uid,customerName:g.name,orderNumber:i,position:Math.floor(Math.random()*5)+1,status:"waiting",orderItems:j.map(l=>({productId:l.product.id,productName:`${l.product.name} (${l.selectedSize.name})`,quantity:l.quantity,price:l.selectedSize.price,size:l.selectedSize.name,category:l.product.category,customizations:l.customizations})),totalAmount:R,paymentMethod:N,paymentStatus:N==="gcash"?"paid":"pending",receiptUrl:""||null,paymentReference:P||null,paymentAccountName:S||null,estimatedTime:10,orderType:"online",discountApplied:F,rewardRedeemed:a?{id:a.id,name:a.name,pointsCost:a.pointsCost}:null};await $(n),a&&await L.collection("users").doc(o.uid).update({currentPoints:G.firestore.FieldValue.increment(-a.pointsCost),rewardsHistory:G.firestore.FieldValue.arrayUnion({id:`rh-${Date.now()}`,type:"redeemed",points:-a.pointsCost,description:`Redeemed: ${a.name} (Checkout)`,date:new Date})}),y(),A(!1),K(!0),m("/queue",{state:{fromCheckout:!0,orderNumber:i}})}catch(r){console.error("Error placing order:",r),u("Failed to place order. Please try again."),A(!1)}};return!o||x===0&&!I?e.jsxs("div",{className:"flex min-h-screen flex-col",children:[e.jsx(D,{}),e.jsx("main",{className:"flex flex-1 items-center justify-center bg-gray-50 text-center",children:e.jsxs("div",{children:[e.jsx(ge,{className:"mx-auto h-24 w-24 text-gray-300"}),e.jsx("h1",{className:"mt-4 text-2xl font-bold text-gray-800",children:"Your cart is empty"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Add some delicious coffee to get started."}),e.jsx("button",{onClick:()=>m("/menu"),className:"mt-6 rounded-full bg-primary-600 px-6 py-2 font-semibold text-white hover:bg-primary-700",children:"Browse Menu"})]})})]}):e.jsxs("div",{className:"flex min-h-screen flex-col bg-gray-50",children:[e.jsx(D,{}),e.jsxs("main",{className:"container mx-auto max-w-7xl px-4 py-8",children:[e.jsxs("div",{className:"mb-8 flex items-center gap-4",children:[e.jsx("button",{onClick:()=>m("/menu"),className:"rounded-full bg-white p-2 text-gray-500 shadow-sm transition-colors hover:bg-gray-50 hover:text-primary-600",children:e.jsx(de,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-3xl font-bold text-coffee-900",children:"Checkout"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Complete your order details"})]})]}),e.jsxs("form",{onSubmit:se,id:"checkout-form",className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-8 lg:col-span-2",children:[e.jsxs("div",{className:"rounded-xl border border-gray-100 bg-white p-6 shadow-sm transition-shadow hover:shadow-md",children:[e.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Your Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx(me,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",id:"name",value:g.name,onChange:s=>k({...g,name:s.target.value}),className:"block w-full rounded-lg border-gray-200 bg-gray-50 py-2.5 pl-10 text-gray-900 shadow-sm transition-all focus:border-primary-500 focus:bg-white focus:ring-primary-500",placeholder:"Juan dela Cruz"})]}),b.name&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:b.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx(xe,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"tel",id:"phone",value:g.phone,onFocus:()=>{g.phone||k(s=>({...s,phone:"+63 9"}))},onBlur:()=>{g.phone==="+63 9"&&k(s=>({...s,phone:""}))},onChange:s=>{const i=s.target.value;if(i===""){k({...g,phone:""});return}let r=i.replace(/\D/g,"");r.startsWith("0")&&(r="63"+r.substring(1)),r.startsWith("63")||(r="63"+r),r.length>=2&&r[2]!=="9"?r="639"+r.substring(2):r.length===2&&(r="639"),r=r.substring(0,12);let n="+63";r.length>2&&(n+=" "+r.substring(2,5)),r.length>5&&(n+=" "+r.substring(5,8)),r.length>8&&(n+=" "+r.substring(8,12)),k({...g,phone:n})},className:"block w-full rounded-lg border-gray-200 bg-gray-50 py-2.5 pl-10 text-gray-900 shadow-sm transition-all focus:border-primary-500 focus:bg-white focus:ring-primary-500",placeholder:"+63 9xx xxx xxxx"})]}),b.phone&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:b.phone})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-gray-100 bg-white p-6 shadow-sm transition-shadow hover:shadow-md",children:[e.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Redeem Rewards"}),p?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(he,{className:"h-8 w-8 animate-spin text-primary-600"})}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:`relative flex cursor-pointer items-center justify-between rounded-xl border p-4 transition-all hover:border-primary-300 hover:shadow-md ${a===null?"border-primary-600 bg-primary-50 ring-1 ring-primary-600":"border-gray-200 bg-white"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full transition-colors ${a===null?"bg-primary-100 text-primary-600":"bg-gray-100 text-gray-500"}`,children:e.jsx(fe,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:`font-semibold ${a===null?"text-primary-900":"text-gray-900"}`,children:"No Reward"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Save your points for later"})]})]}),e.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border ${a===null?"border-primary-600 bg-primary-600":"border-gray-300"}`,children:a===null&&e.jsx("div",{className:"h-2 w-2 rounded-full bg-white"})}),e.jsx("input",{type:"radio",name:"reward",className:"hidden",checked:a===null,onChange:()=>M(null)})]}),C.map(s=>{const i=o.currentPoints>=s.pointsCost,r=(a==null?void 0:a.id)===s.id;return e.jsxs("label",{className:`relative flex cursor-pointer items-center justify-between rounded-xl border p-4 transition-all ${i?"hover:border-primary-300 hover:shadow-md":"cursor-not-allowed opacity-60 bg-gray-50"} ${r?"border-primary-600 bg-primary-50 ring-1 ring-primary-600":"border-gray-200 bg-white"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 overflow-hidden rounded-lg border border-gray-100 bg-gray-50",children:e.jsx("img",{src:s.imageUrl,alt:s.name,className:"h-full w-full object-cover"})}),e.jsxs("div",{children:[e.jsx("p",{className:`font-semibold ${r?"text-primary-900":"text-gray-900"}`,children:s.name}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsxs("span",{className:`text-sm font-bold ${i?"text-primary-600":"text-gray-400"}`,children:[s.pointsCost," Points"]})})]})]}),e.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border ${r?"border-primary-600 bg-primary-600":"border-gray-300"}`,children:r&&e.jsx("div",{className:"h-2 w-2 rounded-full bg-white"})}),e.jsx("input",{type:"radio",name:"reward",className:"hidden",disabled:!i,checked:r,onChange:()=>M(s)})]},s.id)})]}),e.jsxs("div",{className:"mt-6 flex items-center justify-between rounded-lg bg-gray-50 px-4 py-3 text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Available Points"}),e.jsx("span",{className:"font-display text-lg font-bold text-primary-600",children:o.currentPoints})]})]}),e.jsxs("div",{className:"rounded-xl border border-gray-100 bg-white p-6 shadow-sm transition-shadow hover:shadow-md",children:[e.jsx(be,{selectedMethod:N,onSelectMethod:W,totalAmount:R}),b.payment&&e.jsx("p",{className:"mt-2 text-xs text-red-500",children:b.payment}),N==="gcash"&&e.jsxs("div",{className:"mt-6 border-t pt-6",children:[e.jsx(Ne,{totalAmount:R,orderNumber:`RC-${Date.now()}`,referenceNumber:P,onReferenceNumberChange:Y,accountName:S,onAccountNameChange:J}),b.gcash&&e.jsx("p",{className:"mt-2 text-xs text-red-500 text-center",children:b.gcash}),b.accountName&&e.jsx("p",{className:"mt-2 text-xs text-red-500 text-center",children:b.accountName}),b.reference&&e.jsx("p",{className:"mt-2 text-xs text-red-500 text-center",children:b.reference})]}),N==="cash"&&e.jsx("div",{className:"mt-6 rounded-lg border-l-4 border-green-400 bg-green-50 p-4",role:"alert",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(B,{className:"h-5 w-5 text-green-400"})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-700",children:"Please prepare the exact amount. You can pay at the counter upon pickup."})})]})})]}),e.jsxs("div",{className:"rounded-xl border border-gray-100 bg-white p-6 shadow-sm transition-shadow hover:shadow-md",children:[e.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Special Instructions (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(ye,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("textarea",{id:"notes",value:H,onChange:s=>V(s.target.value),rows:3,className:"block w-full rounded-lg border-gray-200 bg-gray-50 py-2.5 pl-10 text-gray-900 shadow-sm transition-all focus:border-primary-500 focus:bg-white focus:ring-primary-500",placeholder:"e.g., less ice, extra shot..."})]})]}),e.jsx("div",{className:"hidden lg:block",children:e.jsx(E,{type:"submit",form:"checkout-form",disabled:!z||w,isLoading:w,variant:"secondary",size:"lg",fullWidth:!0,endIcon:w?void 0:e.jsx(q,{className:"h-5 w-5"}),className:"mt-2 rounded-xl bg-gradient-to-r from-primary-600 to-primary-700 shadow-lg shadow-primary-600/20 hover:shadow-xl hover:scale-[1.02] active:scale-[0.98]",children:"Place Order"})})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(ve,{items:_,subtotal:X,toppingsTotal:Z,discount:F,total:R})})]})]}),e.jsx("div",{className:"sticky bottom-0 left-0 right-0 border-t border-gray-200 bg-white/90 p-4 backdrop-blur-sm lg:hidden",children:e.jsx(E,{type:"submit",form:"checkout-form",disabled:!z||w,isLoading:w,variant:"secondary",size:"lg",fullWidth:!0,endIcon:w?void 0:e.jsx(q,{className:"h-5 w-5"}),className:"rounded-xl bg-gradient-to-r from-primary-600 to-primary-700 shadow-lg shadow-primary-600/20 hover:shadow-xl hover:scale-[1.02] active:scale-[0.98]",children:`Place Order (₱${R.toFixed(2)})`})})]})};export{Ie as default};
