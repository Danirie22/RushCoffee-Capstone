var qQ=Object.defineProperty;var HQ=(t,e,n)=>e in t?qQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var P1=(t,e,n)=>HQ(t,typeof e!="symbol"?e+"":e,n);function GQ(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Ga(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var W3={exports:{}},Fb={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KQ=Symbol.for("react.transitional.element"),WQ=Symbol.for("react.fragment");function Y3(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:KQ,type:t,key:r,ref:e!==void 0?e:null,props:n}}Fb.Fragment=WQ;Fb.jsx=Y3;Fb.jsxs=Y3;W3.exports=Fb;var d=W3.exports,Q3={exports:{}},me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AN=Symbol.for("react.transitional.element"),YQ=Symbol.for("react.portal"),QQ=Symbol.for("react.fragment"),XQ=Symbol.for("react.strict_mode"),ZQ=Symbol.for("react.profiler"),JQ=Symbol.for("react.consumer"),eX=Symbol.for("react.context"),tX=Symbol.for("react.forward_ref"),nX=Symbol.for("react.suspense"),rX=Symbol.for("react.memo"),X3=Symbol.for("react.lazy"),iX=Symbol.for("react.activity"),yO=Symbol.iterator;function aX(t){return t===null||typeof t!="object"?null:(t=yO&&t[yO]||t["@@iterator"],typeof t=="function"?t:null)}var Z3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J3=Object.assign,eV={};function Oh(t,e,n){this.props=t,this.context=e,this.refs=eV,this.updater=n||Z3}Oh.prototype.isReactComponent={};Oh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tV(){}tV.prototype=Oh.prototype;function NN(t,e,n){this.props=t,this.context=e,this.refs=eV,this.updater=n||Z3}var IN=NN.prototype=new tV;IN.constructor=NN;J3(IN,Oh.prototype);IN.isPureReactComponent=!0;var vO=Array.isArray;function ET(){}var gt={H:null,A:null,T:null,S:null},nV=Object.prototype.hasOwnProperty;function PN(t,e,n){var r=n.ref;return{$$typeof:AN,type:t,key:e,ref:r!==void 0?r:null,props:n}}function sX(t,e){return PN(t.type,e,t.props)}function CN(t){return typeof t=="object"&&t!==null&&t.$$typeof===AN}function oX(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xO=/\/+/g;function C1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oX(""+t.key):e.toString(36)}function lX(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(ET,ET):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Ku(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case AN:case YQ:s=!0;break;case X3:return s=t._init,Ku(s(t._payload),e,n,r,i)}}if(s)return i=i(t),s=r===""?"."+C1(t,0):r,vO(i)?(n="",s!=null&&(n=s.replace(xO,"$&/")+"/"),Ku(i,e,n,"",function(c){return c})):i!=null&&(CN(i)&&(i=sX(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(xO,"$&/")+"/")+s)),e.push(i)),1;s=0;var o=r===""?".":r+":";if(vO(t))for(var l=0;l<t.length;l++)r=t[l],a=o+C1(r,l),s+=Ku(r,e,n,a,i);else if(l=aX(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,a=o+C1(r,l++),s+=Ku(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return Ku(lX(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function Ky(t,e,n){if(t==null)return t;var r=[],i=0;return Ku(t,r,"","",function(a){return e.call(n,a,i++)}),r}function cX(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var bO=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},uX={map:Ky,forEach:function(t,e,n){Ky(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ky(t,function(){e++}),e},toArray:function(t){return Ky(t,function(e){return e})||[]},only:function(t){if(!CN(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Activity=iX;me.Children=uX;me.Component=Oh;me.Fragment=QQ;me.Profiler=ZQ;me.PureComponent=NN;me.StrictMode=XQ;me.Suspense=nX;me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=gt;me.__COMPILER_RUNTIME={__proto__:null,c:function(t){return gt.H.useMemoCache(t)}};me.cache=function(t){return function(){return t.apply(null,arguments)}};me.cacheSignal=function(){return null};me.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=J3({},t.props),i=t.key;if(e!=null)for(a in e.key!==void 0&&(i=""+e.key),e)!nV.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return PN(t.type,i,r)};me.createContext=function(t){return t={$$typeof:eX,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:JQ,_context:t},t};me.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)nV.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return PN(t,a,i)};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:tX,render:t}};me.isValidElement=CN;me.lazy=function(t){return{$$typeof:X3,_payload:{_status:-1,_result:t},_init:cX}};me.memo=function(t,e){return{$$typeof:rX,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=gt.T,n={};gt.T=n;try{var r=t(),i=gt.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(ET,bO)}catch(a){bO(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),gt.T=e}};me.unstable_useCacheRefresh=function(){return gt.H.useCacheRefresh()};me.use=function(t){return gt.H.use(t)};me.useActionState=function(t,e,n){return gt.H.useActionState(t,e,n)};me.useCallback=function(t,e){return gt.H.useCallback(t,e)};me.useContext=function(t){return gt.H.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t,e){return gt.H.useDeferredValue(t,e)};me.useEffect=function(t,e){return gt.H.useEffect(t,e)};me.useEffectEvent=function(t){return gt.H.useEffectEvent(t)};me.useId=function(){return gt.H.useId()};me.useImperativeHandle=function(t,e,n){return gt.H.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return gt.H.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return gt.H.useLayoutEffect(t,e)};me.useMemo=function(t,e){return gt.H.useMemo(t,e)};me.useOptimistic=function(t,e){return gt.H.useOptimistic(t,e)};me.useReducer=function(t,e,n){return gt.H.useReducer(t,e,n)};me.useRef=function(t){return gt.H.useRef(t)};me.useState=function(t){return gt.H.useState(t)};me.useSyncExternalStore=function(t,e,n){return gt.H.useSyncExternalStore(t,e,n)};me.useTransition=function(){return gt.H.useTransition()};me.version="19.2.0";Q3.exports=me;var g=Q3.exports;const td=Ga(g),dX=GQ({__proto__:null,default:td},[g]);var rV={exports:{}},$b={},iV={exports:{}},aV={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,H){var Q=F.length;F.push(H);e:for(;0<Q;){var ne=Q-1>>>1,pe=F[ne];if(0<i(pe,H))F[ne]=H,F[Q]=pe,Q=ne;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var H=F[0],Q=F.pop();if(Q!==H){F[0]=Q;e:for(var ne=0,pe=F.length,Jt=pe>>>1;ne<Jt;){var fn=2*(ne+1)-1,Jn=F[fn],ct=fn+1,er=F[ct];if(0>i(Jn,Q))ct<pe&&0>i(er,Jn)?(F[ne]=er,F[ct]=Q,ne=ct):(F[ne]=Jn,F[fn]=Q,ne=fn);else if(ct<pe&&0>i(er,Q))F[ne]=er,F[ct]=Q,ne=ct;else break e}}return H}function i(F,H){var Q=F.sortIndex-H.sortIndex;return Q!==0?Q:F.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,h=null,f=3,m=!1,y=!1,v=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function T(F){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=F)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function I(F){if(v=!1,T(F),!y)if(n(l)!==null)y=!0,j||(j=!0,k());else{var H=n(c);H!==null&&J(I,H.startTime-F)}}var j=!1,A=-1,S=5,P=-1;function C(){return x?!0:!(t.unstable_now()-P<S)}function R(){if(x=!1,j){var F=t.unstable_now();P=F;var H=!0;try{e:{y=!1,v&&(v=!1,w(A),A=-1),m=!0;var Q=f;try{t:{for(T(F),h=n(l);h!==null&&!(h.expirationTime>F&&C());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,f=h.priorityLevel;var pe=ne(h.expirationTime<=F);if(F=t.unstable_now(),typeof pe=="function"){h.callback=pe,T(F),H=!0;break t}h===n(l)&&r(l),T(F)}else r(l);h=n(l)}if(h!==null)H=!0;else{var Jt=n(c);Jt!==null&&J(I,Jt.startTime-F),H=!1}}break e}finally{h=null,f=Q,m=!1}H=void 0}}finally{H?k():j=!1}}}var k;if(typeof _=="function")k=function(){_(R)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,B=O.port2;O.port1.onmessage=R,k=function(){B.postMessage(null)}}else k=function(){b(R,0)};function J(F,H){A=b(function(){F(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var Q=f;f=H;try{return F()}finally{f=Q}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(F,H){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Q=f;f=F;try{return H()}finally{f=Q}},t.unstable_scheduleCallback=function(F,H,Q){var ne=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ne+Q:ne):Q=ne,F){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=Q+pe,F={id:u++,callback:H,priorityLevel:F,startTime:Q,expirationTime:pe,sortIndex:-1},Q>ne?(F.sortIndex=Q,e(c,F),n(l)===null&&F===n(c)&&(v?(w(A),A=-1):v=!0,J(I,Q-ne))):(F.sortIndex=pe,e(l,F),y||m||(y=!0,j||(j=!0,k()))),F},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(F){var H=f;return function(){var Q=f;f=H;try{return F.apply(this,arguments)}finally{f=Q}}}})(aV);iV.exports=aV;var hX=iV.exports,sV={exports:{}},Cr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fX=g;function oV(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function yo(){}var Sr={d:{f:yo,r:function(){throw Error(oV(522))},D:yo,C:yo,L:yo,m:yo,X:yo,S:yo,M:yo},p:0,findDOMNode:null},mX=Symbol.for("react.portal");function pX(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mX,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var jm=fX.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function qb(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Cr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Sr;Cr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(oV(299));return pX(t,e,null,n)};Cr.flushSync=function(t){var e=jm.T,n=Sr.p;try{if(jm.T=null,Sr.p=2,t)return t()}finally{jm.T=e,Sr.p=n,Sr.d.f()}};Cr.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Sr.d.C(t,e))};Cr.prefetchDNS=function(t){typeof t=="string"&&Sr.d.D(t)};Cr.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=qb(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Sr.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&Sr.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Cr.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=qb(e.as,e.crossOrigin);Sr.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Sr.d.M(t)};Cr.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=qb(n,e.crossOrigin);Sr.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Cr.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=qb(e.as,e.crossOrigin);Sr.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Sr.d.m(t)};Cr.requestFormReset=function(t){Sr.d.r(t)};Cr.unstable_batchedUpdates=function(t,e){return t(e)};Cr.useFormState=function(t,e,n){return jm.H.useFormState(t,e,n)};Cr.useFormStatus=function(){return jm.H.useHostTransitionStatus()};Cr.version="19.2.0";function lV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lV)}catch(t){console.error(t)}}lV(),sV.exports=Cr;var Hb=sV.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bn=hX,cV=g,gX=Hb;function $(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function uV(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sg(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dV(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hV(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wO(t){if(Sg(t)!==t)throw Error($(188))}function yX(t){var e=t.alternate;if(!e){if(e=Sg(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return wO(i),t;if(a===r)return wO(i),e;a=a.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function fV(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=fV(t),e!==null)return e;t=t.sibling}return null}var xt=Object.assign,vX=Symbol.for("react.element"),Wy=Symbol.for("react.transitional.element"),fm=Symbol.for("react.portal"),nd=Symbol.for("react.fragment"),mV=Symbol.for("react.strict_mode"),TT=Symbol.for("react.profiler"),pV=Symbol.for("react.consumer"),ls=Symbol.for("react.context"),jN=Symbol.for("react.forward_ref"),ST=Symbol.for("react.suspense"),AT=Symbol.for("react.suspense_list"),RN=Symbol.for("react.memo"),To=Symbol.for("react.lazy"),NT=Symbol.for("react.activity"),xX=Symbol.for("react.memo_cache_sentinel"),_O=Symbol.iterator;function Lf(t){return t===null||typeof t!="object"?null:(t=_O&&t[_O]||t["@@iterator"],typeof t=="function"?t:null)}var bX=Symbol.for("react.client.reference");function IT(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===bX?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nd:return"Fragment";case TT:return"Profiler";case mV:return"StrictMode";case ST:return"Suspense";case AT:return"SuspenseList";case NT:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case fm:return"Portal";case ls:return t.displayName||"Context";case pV:return(t._context.displayName||"Context")+".Consumer";case jN:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case RN:return e=t.displayName||null,e!==null?e:IT(t.type)||"Memo";case To:e=t._payload,t=t._init;try{return IT(t(e))}catch{}}return null}var mm=Array.isArray,de=cV.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ve=gX.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ec={pending:!1,data:null,method:null,action:null},PT=[],rd=-1;function Ka(t){return{current:t}}function Ln(t){0>rd||(t.current=PT[rd],PT[rd]=null,rd--)}function at(t,e){rd++,PT[rd]=t.current,t.current=e}var Ia=Ka(null),fp=Ka(null),$o=Ka(null),j0=Ka(null);function R0(t,e){switch(at($o,e),at(fp,t),at(Ia,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Ik(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Ik(e),t=Dz(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ln(Ia),at(Ia,t)}function Bd(){Ln(Ia),Ln(fp),Ln($o)}function CT(t){t.memoizedState!==null&&at(j0,t);var e=Ia.current,n=Dz(e,t.type);e!==n&&(at(fp,t),at(Ia,n))}function O0(t){fp.current===t&&(Ln(Ia),Ln(fp)),j0.current===t&&(Ln(j0),Tp._currentValue=Ec)}var j1,EO;function Xl(t){if(j1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);j1=e&&e[1]||"",EO=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+j1+t+EO}var R1=!1;function O1(t,e){if(!t||R1)return"";R1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(m){var f=m}Reflect.construct(t,[],h)}else{try{h.call()}catch(m){f=m}t.call(h.prototype)}}else{try{throw Error()}catch(m){f=m}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(m){if(m&&f&&typeof m.stack=="string")return[m.stack,f.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split(`
`),c=o.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==c[i]){var u=`
`+l[r].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=r&&0<=i);break}}}finally{R1=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Xl(n):""}function wX(t,e){switch(t.tag){case 26:case 27:case 5:return Xl(t.type);case 16:return Xl("Lazy");case 13:return t.child!==e&&e!==null?Xl("Suspense Fallback"):Xl("Suspense");case 19:return Xl("SuspenseList");case 0:case 15:return O1(t.type,!1);case 11:return O1(t.type.render,!1);case 1:return O1(t.type,!0);case 31:return Xl("Activity");default:return""}}function TO(t){try{var e="",n=null;do e+=wX(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var jT=Object.prototype.hasOwnProperty,ON=bn.unstable_scheduleCallback,k1=bn.unstable_cancelCallback,_X=bn.unstable_shouldYield,EX=bn.unstable_requestPaint,ai=bn.unstable_now,TX=bn.unstable_getCurrentPriorityLevel,gV=bn.unstable_ImmediatePriority,yV=bn.unstable_UserBlockingPriority,k0=bn.unstable_NormalPriority,SX=bn.unstable_LowPriority,vV=bn.unstable_IdlePriority,AX=bn.log,NX=bn.unstable_setDisableYieldValue,Ag=null,si=null;function ko(t){if(typeof AX=="function"&&NX(t),si&&typeof si.setStrictMode=="function")try{si.setStrictMode(Ag,t)}catch{}}var oi=Math.clz32?Math.clz32:CX,IX=Math.log,PX=Math.LN2;function CX(t){return t>>>=0,t===0?32:31-(IX(t)/PX|0)|0}var Yy=256,Qy=262144,Xy=4194304;function Zl(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Gb(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~a,r!==0?i=Zl(r):(s&=o,s!==0?i=Zl(s):n||(n=o&~t,n!==0&&(i=Zl(n))))):(o=r&~a,o!==0?i=Zl(o):s!==0?i=Zl(s):n||(n=r&~t,n!==0&&(i=Zl(n)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function Ng(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function jX(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xV(){var t=Xy;return Xy<<=1,!(Xy&62914560)&&(Xy=4194304),t}function D1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ig(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function RX(t,e,n,r,i,a){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(n=s&~n;0<n;){var u=31-oi(n),h=1<<u;o[u]=0,l[u]=-1;var f=c[u];if(f!==null)for(c[u]=null,u=0;u<f.length;u++){var m=f[u];m!==null&&(m.lane&=-536870913)}n&=~h}r!==0&&bV(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(s&~e))}function bV(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-oi(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function wV(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-oi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function _V(t,e){var n=e&-e;return n=n&42?1:kN(n),n&(t.suspendedLanes|e)?0:n}function kN(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function DN(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function EV(){var t=Ve.p;return t!==0?t:(t=window.event,t===void 0?32:Gz(t.type))}function SO(t,e){var n=Ve.p;try{return Ve.p=t,e()}finally{Ve.p=n}}var Sl=Math.random().toString(36).slice(2),Gn="__reactFiber$"+Sl,$r="__reactProps$"+Sl,kh="__reactContainer$"+Sl,RT="__reactEvents$"+Sl,OX="__reactListeners$"+Sl,kX="__reactHandles$"+Sl,AO="__reactResources$"+Sl,Pg="__reactMarker$"+Sl;function MN(t){delete t[Gn],delete t[$r],delete t[RT],delete t[OX],delete t[kX]}function id(t){var e=t[Gn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[kh]||n[Gn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ok(t);t!==null;){if(n=t[Gn])return n;t=Ok(t)}return e}t=n,n=t.parentNode}return null}function Dh(t){if(t=t[Gn]||t[kh]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function pm(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error($(33))}function Td(t){var e=t[AO];return e||(e=t[AO]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function On(t){t[Pg]=!0}var TV=new Set,SV={};function hu(t,e){Fd(t,e),Fd(t+"Capture",e)}function Fd(t,e){for(SV[t]=e,t=0;t<e.length;t++)TV.add(e[t])}var DX=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),NO={},IO={};function MX(t){return jT.call(IO,t)?!0:jT.call(NO,t)?!1:DX.test(t)?IO[t]=!0:(NO[t]=!0,!1)}function Hv(t,e,n){if(MX(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Zy(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Xa(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function Ni(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function AV(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function LX(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function OT(t){if(!t._valueTracker){var e=AV(t)?"checked":"value";t._valueTracker=LX(t,e,""+t[e])}}function NV(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=AV(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function D0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var VX=/[\n"\\]/g;function Ci(t){return t.replace(VX,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function kT(t,e,n,r,i,a,s,o){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Ni(e)):t.value!==""+Ni(e)&&(t.value=""+Ni(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?DT(t,s,Ni(e)):n!=null?DT(t,s,Ni(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Ni(o):t.removeAttribute("name")}function IV(t,e,n,r,i,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){OT(t);return}n=n!=null?""+Ni(n):"",e=e!=null?""+Ni(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s),OT(t)}function DT(t,e,n){e==="number"&&D0(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Sd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ni(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function PV(t,e,n){if(e!=null&&(e=""+Ni(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Ni(n):""}function CV(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error($(92));if(mm(r)){if(1<r.length)throw Error($(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Ni(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),OT(t)}function $d(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var UX=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function PO(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||UX.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function jV(t,e,n){if(e!=null&&typeof e!="object")throw Error($(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&PO(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&PO(t,a,e[a])}function LN(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zX=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),BX=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gv(t){return BX.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function cs(){}var MT=null;function VN(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ad=null,Ad=null;function CO(t){var e=Dh(t);if(e&&(t=e.stateNode)){var n=t[$r]||null;e:switch(t=e.stateNode,e.type){case"input":if(kT(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ci(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[$r]||null;if(!i)throw Error($(90));kT(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&NV(r)}break e;case"textarea":PV(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Sd(t,!!n.multiple,e,!1)}}}var M1=!1;function RV(t,e,n){if(M1)return t(e,n);M1=!0;try{var r=t(e);return r}finally{if(M1=!1,(ad!==null||Ad!==null)&&(iw(),ad&&(e=ad,t=Ad,Ad=ad=null,CO(e),t)))for(e=0;e<t.length;e++)CO(t[e])}}function mp(t,e){var n=t.stateNode;if(n===null)return null;var r=n[$r]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var Ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),LT=!1;if(Ss)try{var Vf={};Object.defineProperty(Vf,"passive",{get:function(){LT=!0}}),window.addEventListener("test",Vf,Vf),window.removeEventListener("test",Vf,Vf)}catch{LT=!1}var Do=null,UN=null,Kv=null;function OV(){if(Kv)return Kv;var t,e=UN,n=e.length,r,i="value"in Do?Do.value:Do.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Kv=i.slice(t,1<r?1-r:void 0)}function Wv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jy(){return!0}function jO(){return!1}function qr(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Jy:jO,this.isPropagationStopped=jO,this}return xt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jy)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jy)},persist:function(){},isPersistent:Jy}),e}var fu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kb=qr(fu),Cg=xt({},fu,{view:0,detail:0}),FX=qr(Cg),L1,V1,Uf,Wb=xt({},Cg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zN,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Uf&&(Uf&&t.type==="mousemove"?(L1=t.screenX-Uf.screenX,V1=t.screenY-Uf.screenY):V1=L1=0,Uf=t),L1)},movementY:function(t){return"movementY"in t?t.movementY:V1}}),RO=qr(Wb),$X=xt({},Wb,{dataTransfer:0}),qX=qr($X),HX=xt({},Cg,{relatedTarget:0}),U1=qr(HX),GX=xt({},fu,{animationName:0,elapsedTime:0,pseudoElement:0}),KX=qr(GX),WX=xt({},fu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),YX=qr(WX),QX=xt({},fu,{data:0}),OO=qr(QX),XX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eZ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=JX[t])?!!e[t]:!1}function zN(){return eZ}var tZ=xt({},Cg,{key:function(t){if(t.key){var e=XX[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ZX[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zN,charCode:function(t){return t.type==="keypress"?Wv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nZ=qr(tZ),rZ=xt({},Wb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kO=qr(rZ),iZ=xt({},Cg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zN}),aZ=qr(iZ),sZ=xt({},fu,{propertyName:0,elapsedTime:0,pseudoElement:0}),oZ=qr(sZ),lZ=xt({},Wb,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cZ=qr(lZ),uZ=xt({},fu,{newState:0,oldState:0}),dZ=qr(uZ),hZ=[9,13,27,32],BN=Ss&&"CompositionEvent"in window,Rm=null;Ss&&"documentMode"in document&&(Rm=document.documentMode);var fZ=Ss&&"TextEvent"in window&&!Rm,kV=Ss&&(!BN||Rm&&8<Rm&&11>=Rm),DO=" ",MO=!1;function DV(t,e){switch(t){case"keyup":return hZ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MV(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sd=!1;function mZ(t,e){switch(t){case"compositionend":return MV(e);case"keypress":return e.which!==32?null:(MO=!0,DO);case"textInput":return t=e.data,t===DO&&MO?null:t;default:return null}}function pZ(t,e){if(sd)return t==="compositionend"||!BN&&DV(t,e)?(t=OV(),Kv=UN=Do=null,sd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kV&&e.locale!=="ko"?null:e.data;default:return null}}var gZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function LO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gZ[t.type]:e==="textarea"}function LV(t,e,n,r){ad?Ad?Ad.push(r):Ad=[r]:ad=r,e=J0(e,"onChange"),0<e.length&&(n=new Kb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Om=null,pp=null;function yZ(t){Rz(t,0)}function Yb(t){var e=pm(t);if(NV(e))return t}function VO(t,e){if(t==="change")return e}var VV=!1;if(Ss){var z1;if(Ss){var B1="oninput"in document;if(!B1){var UO=document.createElement("div");UO.setAttribute("oninput","return;"),B1=typeof UO.oninput=="function"}z1=B1}else z1=!1;VV=z1&&(!document.documentMode||9<document.documentMode)}function zO(){Om&&(Om.detachEvent("onpropertychange",UV),pp=Om=null)}function UV(t){if(t.propertyName==="value"&&Yb(pp)){var e=[];LV(e,pp,t,VN(t)),RV(yZ,e)}}function vZ(t,e,n){t==="focusin"?(zO(),Om=e,pp=n,Om.attachEvent("onpropertychange",UV)):t==="focusout"&&zO()}function xZ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yb(pp)}function bZ(t,e){if(t==="click")return Yb(e)}function wZ(t,e){if(t==="input"||t==="change")return Yb(e)}function _Z(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fi=typeof Object.is=="function"?Object.is:_Z;function gp(t,e){if(fi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!jT.call(e,i)||!fi(t[i],e[i]))return!1}return!0}function BO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function FO(t,e){var n=BO(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=BO(n)}}function zV(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zV(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function BV(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=D0(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=D0(t.document)}return e}function FN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var EZ=Ss&&"documentMode"in document&&11>=document.documentMode,od=null,VT=null,km=null,UT=!1;function $O(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;UT||od==null||od!==D0(r)||(r=od,"selectionStart"in r&&FN(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),km&&gp(km,r)||(km=r,r=J0(VT,"onSelect"),0<r.length&&(e=new Kb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=od)))}function Kl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ld={animationend:Kl("Animation","AnimationEnd"),animationiteration:Kl("Animation","AnimationIteration"),animationstart:Kl("Animation","AnimationStart"),transitionrun:Kl("Transition","TransitionRun"),transitionstart:Kl("Transition","TransitionStart"),transitioncancel:Kl("Transition","TransitionCancel"),transitionend:Kl("Transition","TransitionEnd")},F1={},FV={};Ss&&(FV=document.createElement("div").style,"AnimationEvent"in window||(delete ld.animationend.animation,delete ld.animationiteration.animation,delete ld.animationstart.animation),"TransitionEvent"in window||delete ld.transitionend.transition);function mu(t){if(F1[t])return F1[t];if(!ld[t])return t;var e=ld[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in FV)return F1[t]=e[n];return t}var $V=mu("animationend"),qV=mu("animationiteration"),HV=mu("animationstart"),TZ=mu("transitionrun"),SZ=mu("transitionstart"),AZ=mu("transitioncancel"),GV=mu("transitionend"),KV=new Map,zT="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zT.push("scrollEnd");function sa(t,e){KV.set(t,e),hu(e,[t])}var M0=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ai=[],cd=0,$N=0;function Qb(){for(var t=cd,e=$N=cd=0;e<t;){var n=Ai[e];Ai[e++]=null;var r=Ai[e];Ai[e++]=null;var i=Ai[e];Ai[e++]=null;var a=Ai[e];if(Ai[e++]=null,r!==null&&i!==null){var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}a!==0&&WV(n,i,a)}}function Xb(t,e,n,r){Ai[cd++]=t,Ai[cd++]=e,Ai[cd++]=n,Ai[cd++]=r,$N|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function qN(t,e,n,r){return Xb(t,e,n,r),L0(t)}function pu(t,e){return Xb(t,null,null,e),L0(t)}function WV(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-oi(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function L0(t){if(50<$m)throw $m=0,oS=null,Error($(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ud={};function NZ(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(t,e,n,r){return new NZ(t,e,n,r)}function HN(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ps(t,e){var n=t.alternate;return n===null?(n=ti(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function YV(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Yv(t,e,n,r,i,a){var s=0;if(r=t,typeof t=="function")HN(t)&&(s=1);else if(typeof t=="string")s=RJ(t,n,Ia.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case NT:return t=ti(31,n,e,i),t.elementType=NT,t.lanes=a,t;case nd:return Tc(n.children,i,a,e);case mV:s=8,i|=24;break;case TT:return t=ti(12,n,e,i|2),t.elementType=TT,t.lanes=a,t;case ST:return t=ti(13,n,e,i),t.elementType=ST,t.lanes=a,t;case AT:return t=ti(19,n,e,i),t.elementType=AT,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ls:s=10;break e;case pV:s=9;break e;case jN:s=11;break e;case RN:s=14;break e;case To:s=16,r=null;break e}s=29,n=Error($(130,t===null?"null":typeof t,"")),r=null}return e=ti(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Tc(t,e,n,r){return t=ti(7,t,r,e),t.lanes=n,t}function $1(t,e,n){return t=ti(6,t,null,e),t.lanes=n,t}function QV(t){var e=ti(18,null,null,0);return e.stateNode=t,e}function q1(t,e,n){return e=ti(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var qO=new WeakMap;function ji(t,e){if(typeof t=="object"&&t!==null){var n=qO.get(t);return n!==void 0?n:(e={value:t,source:e,stack:TO(e)},qO.set(t,e),e)}return{value:t,source:e,stack:TO(e)}}var dd=[],hd=0,V0=null,yp=0,Ii=[],Pi=0,il=null,wa=1,_a="";function rs(t,e){dd[hd++]=yp,dd[hd++]=V0,V0=t,yp=e}function XV(t,e,n){Ii[Pi++]=wa,Ii[Pi++]=_a,Ii[Pi++]=il,il=t;var r=wa;t=_a;var i=32-oi(r)-1;r&=~(1<<i),n+=1;var a=32-oi(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,wa=1<<32-oi(e)+i|n<<i|r,_a=a+t}else wa=1<<a|n<<i|r,_a=t}function GN(t){t.return!==null&&(rs(t,1),XV(t,1,0))}function KN(t){for(;t===V0;)V0=dd[--hd],dd[hd]=null,yp=dd[--hd],dd[hd]=null;for(;t===il;)il=Ii[--Pi],Ii[Pi]=null,_a=Ii[--Pi],Ii[Pi]=null,wa=Ii[--Pi],Ii[Pi]=null}function ZV(t,e){Ii[Pi++]=wa,Ii[Pi++]=_a,Ii[Pi++]=il,wa=e.id,_a=e.overflow,il=t}var Kn=null,ft=null,Pe=!1,qo=null,Ri=!1,BT=Error($(519));function al(t){var e=Error($(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vp(ji(e,t)),BT}function HO(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Gn]=t,e[$r]=r,n){case"dialog":_e("cancel",e),_e("close",e);break;case"iframe":case"object":case"embed":_e("load",e);break;case"video":case"audio":for(n=0;n<_p.length;n++)_e(_p[n],e);break;case"source":_e("error",e);break;case"img":case"image":case"link":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"input":_e("invalid",e),IV(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":_e("invalid",e);break;case"textarea":_e("invalid",e),CV(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||kz(e.textContent,n)?(r.popover!=null&&(_e("beforetoggle",e),_e("toggle",e)),r.onScroll!=null&&_e("scroll",e),r.onScrollEnd!=null&&_e("scrollend",e),r.onClick!=null&&(e.onclick=cs),e=!0):e=!1,e||al(t,!0)}function GO(t){for(Kn=t.return;Kn;)switch(Kn.tag){case 5:case 31:case 13:Ri=!1;return;case 27:case 3:Ri=!0;return;default:Kn=Kn.return}}function Ou(t){if(t!==Kn)return!1;if(!Pe)return GO(t),Pe=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||hS(t.type,t.memoizedProps)),n=!n),n&&ft&&al(t),GO(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));ft=Rk(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));ft=Rk(t)}else e===27?(e=ft,Al(t.type)?(t=gS,gS=null,ft=t):ft=e):ft=Kn?Li(t.stateNode.nextSibling):null;return!0}function Uc(){ft=Kn=null,Pe=!1}function H1(){var t=qo;return t!==null&&(Dr===null?Dr=t:Dr.push.apply(Dr,t),qo=null),t}function vp(t){qo===null?qo=[t]:qo.push(t)}var FT=Ka(null),gu=null,us=null;function Io(t,e,n){at(FT,e._currentValue),e._currentValue=n}function gs(t){t._currentValue=FT.current,Ln(FT)}function $T(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qT(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=i;for(var l=0;l<e.length;l++)if(o.context===e[l]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),$T(a.return,n,t),r||(s=null);break e}a=o.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error($(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),$T(s,n,t),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function Mh(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error($(387));if(s=s.memoizedProps,s!==null){var o=i.type;fi(i.pendingProps.value,s.value)||(t!==null?t.push(o):t=[o])}}else if(i===j0.current){if(s=i.alternate,s===null)throw Error($(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Tp):t=[Tp])}i=i.return}t!==null&&qT(e,t,n,r),e.flags|=262144}function U0(t){for(t=t.firstContext;t!==null;){if(!fi(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zc(t){gu=t,us=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yn(t){return JV(gu,t)}function ev(t,e){return gu===null&&zc(t),JV(t,e)}function JV(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},us===null){if(t===null)throw Error($(308));us=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else us=us.next=e;return n}var IZ=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},PZ=bn.unstable_scheduleCallback,CZ=bn.unstable_NormalPriority,sn={$$typeof:ls,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function WN(){return{controller:new IZ,data:new Map,refCount:0}}function jg(t){t.refCount--,t.refCount===0&&PZ(CZ,function(){t.controller.abort()})}var Dm=null,HT=0,qd=0,Nd=null;function jZ(t,e){if(Dm===null){var n=Dm=[];HT=0,qd=xI(),Nd={status:"pending",value:void 0,then:function(r){n.push(r)}}}return HT++,e.then(KO,KO),e}function KO(){if(--HT===0&&Dm!==null){Nd!==null&&(Nd.status="fulfilled");var t=Dm;Dm=null,qd=0,Nd=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function RZ(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var WO=de.S;de.S=function(t,e){fz=ai(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&jZ(t,e),WO!==null&&WO(t,e)};var Sc=Ka(null);function YN(){var t=Sc.current;return t!==null?t:tt.pooledCache}function Qv(t,e){e===null?at(Sc,Sc.current):at(Sc,e.pool)}function eU(){var t=YN();return t===null?null:{parent:sn._currentValue,pool:t}}var Lh=Error($(460)),QN=Error($(474)),Zb=Error($(542)),z0={then:function(){}};function YO(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tU(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(cs,cs),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,XO(t),t;default:if(typeof e.status=="string")e.then(cs,cs);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error($(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,XO(t),t}throw Ac=e,Lh}}function Jl(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ac=n,Lh):n}}var Ac=null;function QO(){if(Ac===null)throw Error($(459));var t=Ac;return Ac=null,t}function XO(t){if(t===Lh||t===Zb)throw Error($(483))}var Id=null,xp=0;function tv(t){var e=xp;return xp+=1,Id===null&&(Id=[]),tU(Id,t,e)}function zf(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function nv(t,e){throw e.$$typeof===vX?Error($(525)):(t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function nU(t){function e(b,w){if(t){var _=b.deletions;_===null?(b.deletions=[w],b.flags|=16):_.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b){for(var w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(b,w){return b=ps(b,w),b.index=0,b.sibling=null,b}function a(b,w,_){return b.index=_,t?(_=b.alternate,_!==null?(_=_.index,_<w?(b.flags|=67108866,w):_):(b.flags|=67108866,w)):(b.flags|=1048576,w)}function s(b){return t&&b.alternate===null&&(b.flags|=67108866),b}function o(b,w,_,T){return w===null||w.tag!==6?(w=$1(_,b.mode,T),w.return=b,w):(w=i(w,_),w.return=b,w)}function l(b,w,_,T){var I=_.type;return I===nd?u(b,w,_.props.children,T,_.key):w!==null&&(w.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===To&&Jl(I)===w.type)?(w=i(w,_.props),zf(w,_),w.return=b,w):(w=Yv(_.type,_.key,_.props,null,b.mode,T),zf(w,_),w.return=b,w)}function c(b,w,_,T){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=q1(_,b.mode,T),w.return=b,w):(w=i(w,_.children||[]),w.return=b,w)}function u(b,w,_,T,I){return w===null||w.tag!==7?(w=Tc(_,b.mode,T,I),w.return=b,w):(w=i(w,_),w.return=b,w)}function h(b,w,_){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=$1(""+w,b.mode,_),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wy:return _=Yv(w.type,w.key,w.props,null,b.mode,_),zf(_,w),_.return=b,_;case fm:return w=q1(w,b.mode,_),w.return=b,w;case To:return w=Jl(w),h(b,w,_)}if(mm(w)||Lf(w))return w=Tc(w,b.mode,_,null),w.return=b,w;if(typeof w.then=="function")return h(b,tv(w),_);if(w.$$typeof===ls)return h(b,ev(b,w),_);nv(b,w)}return null}function f(b,w,_,T){var I=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return I!==null?null:o(b,w,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Wy:return _.key===I?l(b,w,_,T):null;case fm:return _.key===I?c(b,w,_,T):null;case To:return _=Jl(_),f(b,w,_,T)}if(mm(_)||Lf(_))return I!==null?null:u(b,w,_,T,null);if(typeof _.then=="function")return f(b,w,tv(_),T);if(_.$$typeof===ls)return f(b,w,ev(b,_),T);nv(b,_)}return null}function m(b,w,_,T,I){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return b=b.get(_)||null,o(w,b,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Wy:return b=b.get(T.key===null?_:T.key)||null,l(w,b,T,I);case fm:return b=b.get(T.key===null?_:T.key)||null,c(w,b,T,I);case To:return T=Jl(T),m(b,w,_,T,I)}if(mm(T)||Lf(T))return b=b.get(_)||null,u(w,b,T,I,null);if(typeof T.then=="function")return m(b,w,_,tv(T),I);if(T.$$typeof===ls)return m(b,w,_,ev(w,T),I);nv(w,T)}return null}function y(b,w,_,T){for(var I=null,j=null,A=w,S=w=0,P=null;A!==null&&S<_.length;S++){A.index>S?(P=A,A=null):P=A.sibling;var C=f(b,A,_[S],T);if(C===null){A===null&&(A=P);break}t&&A&&C.alternate===null&&e(b,A),w=a(C,w,S),j===null?I=C:j.sibling=C,j=C,A=P}if(S===_.length)return n(b,A),Pe&&rs(b,S),I;if(A===null){for(;S<_.length;S++)A=h(b,_[S],T),A!==null&&(w=a(A,w,S),j===null?I=A:j.sibling=A,j=A);return Pe&&rs(b,S),I}for(A=r(A);S<_.length;S++)P=m(A,b,S,_[S],T),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?S:P.key),w=a(P,w,S),j===null?I=P:j.sibling=P,j=P);return t&&A.forEach(function(R){return e(b,R)}),Pe&&rs(b,S),I}function v(b,w,_,T){if(_==null)throw Error($(151));for(var I=null,j=null,A=w,S=w=0,P=null,C=_.next();A!==null&&!C.done;S++,C=_.next()){A.index>S?(P=A,A=null):P=A.sibling;var R=f(b,A,C.value,T);if(R===null){A===null&&(A=P);break}t&&A&&R.alternate===null&&e(b,A),w=a(R,w,S),j===null?I=R:j.sibling=R,j=R,A=P}if(C.done)return n(b,A),Pe&&rs(b,S),I;if(A===null){for(;!C.done;S++,C=_.next())C=h(b,C.value,T),C!==null&&(w=a(C,w,S),j===null?I=C:j.sibling=C,j=C);return Pe&&rs(b,S),I}for(A=r(A);!C.done;S++,C=_.next())C=m(A,b,S,C.value,T),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?S:C.key),w=a(C,w,S),j===null?I=C:j.sibling=C,j=C);return t&&A.forEach(function(k){return e(b,k)}),Pe&&rs(b,S),I}function x(b,w,_,T){if(typeof _=="object"&&_!==null&&_.type===nd&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Wy:e:{for(var I=_.key;w!==null;){if(w.key===I){if(I=_.type,I===nd){if(w.tag===7){n(b,w.sibling),T=i(w,_.props.children),T.return=b,b=T;break e}}else if(w.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===To&&Jl(I)===w.type){n(b,w.sibling),T=i(w,_.props),zf(T,_),T.return=b,b=T;break e}n(b,w);break}else e(b,w);w=w.sibling}_.type===nd?(T=Tc(_.props.children,b.mode,T,_.key),T.return=b,b=T):(T=Yv(_.type,_.key,_.props,null,b.mode,T),zf(T,_),T.return=b,b=T)}return s(b);case fm:e:{for(I=_.key;w!==null;){if(w.key===I)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(b,w.sibling),T=i(w,_.children||[]),T.return=b,b=T;break e}else{n(b,w);break}else e(b,w);w=w.sibling}T=q1(_,b.mode,T),T.return=b,b=T}return s(b);case To:return _=Jl(_),x(b,w,_,T)}if(mm(_))return y(b,w,_,T);if(Lf(_)){if(I=Lf(_),typeof I!="function")throw Error($(150));return _=I.call(_),v(b,w,_,T)}if(typeof _.then=="function")return x(b,w,tv(_),T);if(_.$$typeof===ls)return x(b,w,ev(b,_),T);nv(b,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,w!==null&&w.tag===6?(n(b,w.sibling),T=i(w,_),T.return=b,b=T):(n(b,w),T=$1(_,b.mode,T),T.return=b,b=T),s(b)):n(b,w)}return function(b,w,_,T){try{xp=0;var I=x(b,w,_,T);return Id=null,I}catch(A){if(A===Lh||A===Zb)throw A;var j=ti(29,A,null,b.mode);return j.lanes=T,j.return=b,j}finally{}}}var Bc=nU(!0),rU=nU(!1),So=!1;function XN(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function GT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ho(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Go(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=L0(t),WV(t,null,n),e}return Xb(t,r,e,n),L0(t)}function Mm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wV(t,n)}}function G1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var KT=!1;function Lm(){if(KT){var t=Nd;if(t!==null)throw t}}function Vm(t,e,n,r){KT=!1;var i=t.updateQueue;So=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var h=i.baseState;s=0,u=c=l=null,o=a;do{var f=o.lane&-536870913,m=f!==o.lane;if(m?(Ne&f)===f:(r&f)===f){f!==0&&f===qd&&(KT=!0),u!==null&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var y=t,v=o;f=e;var x=n;switch(v.tag){case 1:if(y=v.payload,typeof y=="function"){h=y.call(x,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,f=typeof y=="function"?y.call(x,h,f):y,f==null)break e;h=xt({},h,f);break e;case 2:So=!0}}f=o.callback,f!==null&&(t.flags|=64,m&&(t.flags|=8192),m=i.callbacks,m===null?i.callbacks=[f]:m.push(f))}else m={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=m,l=h):u=u.next=m,s|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;m=o,o=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),ol|=s,t.lanes=s,t.memoizedState=h}}function iU(t,e){if(typeof t!="function")throw Error($(191,t));t.call(e)}function aU(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)iU(n[t],e)}var Hd=Ka(null),B0=Ka(0);function ZO(t,e){t=Ps,at(B0,t),at(Hd,e),Ps=t|e.baseLanes}function WT(){at(B0,Ps),at(Hd,Hd.current)}function ZN(){Ps=B0.current,Ln(Hd),Ln(B0)}var mi=Ka(null),Mi=null;function Po(t){var e=t.alternate;at(Kt,Kt.current&1),at(mi,t),Mi===null&&(e===null||Hd.current!==null||e.memoizedState!==null)&&(Mi=t)}function YT(t){at(Kt,Kt.current),at(mi,t),Mi===null&&(Mi=t)}function sU(t){t.tag===22?(at(Kt,Kt.current),at(mi,t),Mi===null&&(Mi=t)):Co()}function Co(){at(Kt,Kt.current),at(mi,mi.current)}function Jr(t){Ln(mi),Mi===t&&(Mi=null),Ln(Kt)}var Kt=Ka(0);function F0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||mS(n)||pS(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var As=0,ye=null,Qe=null,rn=null,$0=!1,Pd=!1,Fc=!1,q0=0,bp=0,Cd=null,OZ=0;function Lt(){throw Error($(321))}function JN(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fi(t[n],e[n]))return!1;return!0}function eI(t,e,n,r,i,a){return As=a,ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,de.H=t===null||t.memoizedState===null?LU:dI,Fc=!1,a=n(r,i),Fc=!1,Pd&&(a=lU(e,n,r,i)),oU(t),a}function oU(t){de.H=wp;var e=Qe!==null&&Qe.next!==null;if(As=0,rn=Qe=ye=null,$0=!1,bp=0,Cd=null,e)throw Error($(300));t===null||on||(t=t.dependencies,t!==null&&U0(t)&&(on=!0))}function lU(t,e,n,r){ye=t;var i=0;do{if(Pd&&(Cd=null),bp=0,Pd=!1,25<=i)throw Error($(301));if(i+=1,rn=Qe=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}de.H=VU,a=e(n,r)}while(Pd);return a}function kZ(){var t=de.H,e=t.useState()[0];return e=typeof e.then=="function"?Rg(e):e,t=t.useState()[0],(Qe!==null?Qe.memoizedState:null)!==t&&(ye.flags|=1024),e}function tI(){var t=q0!==0;return q0=0,t}function nI(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function rI(t){if($0){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}$0=!1}As=0,rn=Qe=ye=null,Pd=!1,bp=q0=0,Cd=null}function br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?ye.memoizedState=rn=t:rn=rn.next=t,rn}function Qt(){if(Qe===null){var t=ye.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var e=rn===null?ye.memoizedState:rn.next;if(e!==null)rn=e,Qe=t;else{if(t===null)throw ye.alternate===null?Error($(467)):Error($(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},rn===null?ye.memoizedState=rn=t:rn=rn.next=t}return rn}function Jb(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rg(t){var e=bp;return bp+=1,Cd===null&&(Cd=[]),t=tU(Cd,t,e),e=ye,(rn===null?e.memoizedState:rn.next)===null&&(e=e.alternate,de.H=e===null||e.memoizedState===null?LU:dI),t}function ew(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Rg(t);if(t.$$typeof===ls)return Yn(t)}throw Error($(438,String(t)))}function iI(t){var e=null,n=ye.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=ye.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Jb(),ye.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=xX;return e.index++,n}function Ns(t,e){return typeof e=="function"?e(t):e}function Xv(t){var e=Qt();return aI(e,Qe,t)}function aI(t,e,n){var r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var o=s=null,l=null,c=e,u=!1;do{var h=c.lane&-536870913;if(h!==c.lane?(Ne&h)===h:(As&h)===h){var f=c.revertLane;if(f===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),h===qd&&(u=!0);else if((As&f)===f){c=c.next,f===qd&&(u=!0);continue}else h={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=h,s=a):l=l.next=h,ye.lanes|=f,ol|=f;h=c.action,Fc&&n(a,h),a=c.hasEagerState?c.eagerState:n(a,h)}else f={lane:h,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=f,s=a):l=l.next=f,ye.lanes|=h,ol|=h;c=c.next}while(c!==null&&c!==e);if(l===null?s=a:l.next=o,!fi(a,t.memoizedState)&&(on=!0,u&&(n=Nd,n!==null)))throw n;t.memoizedState=a,t.baseState=s,t.baseQueue=l,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function K1(t){var e=Qt(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);fi(a,e.memoizedState)||(on=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function cU(t,e,n){var r=ye,i=Qt(),a=Pe;if(a){if(n===void 0)throw Error($(407));n=n()}else n=e();var s=!fi((Qe||i).memoizedState,n);if(s&&(i.memoizedState=n,on=!0),i=i.queue,sI(hU.bind(null,r,i,t),[t]),i.getSnapshot!==e||s||rn!==null&&rn.memoizedState.tag&1){if(r.flags|=2048,Gd(9,{destroy:void 0},dU.bind(null,r,i,n,e),null),tt===null)throw Error($(349));a||As&127||uU(r,e,n)}return n}function uU(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ye.updateQueue,e===null?(e=Jb(),ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function dU(t,e,n,r){e.value=n,e.getSnapshot=r,fU(e)&&mU(t)}function hU(t,e,n){return n(function(){fU(e)&&mU(t)})}function fU(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fi(t,n)}catch{return!0}}function mU(t){var e=pu(t,2);e!==null&&Fr(e,t,2)}function QT(t){var e=br();if(typeof t=="function"){var n=t;if(t=n(),Fc){ko(!0);try{n()}finally{ko(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:t},e}function pU(t,e,n,r){return t.baseState=n,aI(t,Qe,typeof r=="function"?r:Ns)}function DZ(t,e,n,r,i){if(nw(t))throw Error($(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};de.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,gU(e,a)):(a.next=n.next,e.pending=n.next=a)}}function gU(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=de.T,s={};de.T=s;try{var o=n(i,r),l=de.S;l!==null&&l(s,o),JO(t,e,o)}catch(c){XT(t,e,c)}finally{a!==null&&s.types!==null&&(a.types=s.types),de.T=a}}else try{a=n(i,r),JO(t,e,a)}catch(c){XT(t,e,c)}}function JO(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){ek(t,e,r)},function(r){return XT(t,e,r)}):ek(t,e,n)}function ek(t,e,n){e.status="fulfilled",e.value=n,yU(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,gU(t,n)))}function XT(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,yU(e),e=e.next;while(e!==r)}t.action=null}function yU(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function vU(t,e){return e}function tk(t,e){if(Pe){var n=tt.formState;if(n!==null){e:{var r=ye;if(Pe){if(ft){t:{for(var i=ft,a=Ri;i.nodeType!==8;){if(!a){i=null;break t}if(i=Li(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){ft=Li(i.nextSibling),r=i.data==="F!";break e}}al(r)}r=!1}r&&(e=n[0])}}return n=br(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vU,lastRenderedState:e},n.queue=r,n=kU.bind(null,ye,r),r.dispatch=n,r=QT(!1),a=uI.bind(null,ye,!1,r.queue),r=br(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=DZ.bind(null,ye,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function nk(t){var e=Qt();return xU(e,Qe,t)}function xU(t,e,n){if(e=aI(t,e,vU)[0],t=Xv(Ns)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=Rg(e)}catch(s){throw s===Lh?Zb:s}else r=e;e=Qt();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(ye.flags|=2048,Gd(9,{destroy:void 0},MZ.bind(null,i,n),null)),[r,a,t]}function MZ(t,e){t.action=e}function rk(t){var e=Qt(),n=Qe;if(n!==null)return xU(e,n,t);Qt(),e=e.memoizedState,n=Qt();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Gd(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=ye.updateQueue,e===null&&(e=Jb(),ye.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function bU(){return Qt().memoizedState}function Zv(t,e,n,r){var i=br();ye.flags|=t,i.memoizedState=Gd(1|e,{destroy:void 0},n,r===void 0?null:r)}function tw(t,e,n,r){var i=Qt();r=r===void 0?null:r;var a=i.memoizedState.inst;Qe!==null&&r!==null&&JN(r,Qe.memoizedState.deps)?i.memoizedState=Gd(e,a,n,r):(ye.flags|=t,i.memoizedState=Gd(1|e,a,n,r))}function ik(t,e){Zv(8390656,8,t,e)}function sI(t,e){tw(2048,8,t,e)}function LZ(t){ye.flags|=4;var e=ye.updateQueue;if(e===null)e=Jb(),ye.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function wU(t){var e=Qt().memoizedState;return LZ({ref:e,nextImpl:t}),function(){if(Me&2)throw Error($(440));return e.impl.apply(void 0,arguments)}}function _U(t,e){return tw(4,2,t,e)}function EU(t,e){return tw(4,4,t,e)}function TU(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function SU(t,e,n){n=n!=null?n.concat([t]):null,tw(4,4,TU.bind(null,e,t),n)}function oI(){}function AU(t,e){var n=Qt();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&JN(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function NU(t,e){var n=Qt();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&JN(e,r[1]))return r[0];if(r=t(),Fc){ko(!0);try{t()}finally{ko(!1)}}return n.memoizedState=[r,e],r}function lI(t,e,n){return n===void 0||As&1073741824&&!(Ne&261930)?t.memoizedState=e:(t.memoizedState=n,t=pz(),ye.lanes|=t,ol|=t,n)}function IU(t,e,n,r){return fi(n,e)?n:Hd.current!==null?(t=lI(t,n,r),fi(t,e)||(on=!0),t):!(As&42)||As&1073741824&&!(Ne&261930)?(on=!0,t.memoizedState=n):(t=pz(),ye.lanes|=t,ol|=t,e)}function PU(t,e,n,r,i){var a=Ve.p;Ve.p=a!==0&&8>a?a:8;var s=de.T,o={};de.T=o,uI(t,!1,e,n);try{var l=i(),c=de.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=RZ(l,r);Um(t,e,u,li(t))}else Um(t,e,r,li(t))}catch(h){Um(t,e,{then:function(){},status:"rejected",reason:h},li())}finally{Ve.p=a,s!==null&&o.types!==null&&(s.types=o.types),de.T=s}}function VZ(){}function ZT(t,e,n,r){if(t.tag!==5)throw Error($(476));var i=CU(t).queue;PU(t,i,e,Ec,n===null?VZ:function(){return jU(t),n(r)})}function CU(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Ec,baseState:Ec,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:Ec},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function jU(t){var e=CU(t);e.next===null&&(e=t.alternate.memoizedState),Um(t,e.next.queue,{},li())}function cI(){return Yn(Tp)}function RU(){return Qt().memoizedState}function OU(){return Qt().memoizedState}function UZ(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=li();t=Ho(n);var r=Go(e,t,n);r!==null&&(Fr(r,e,n),Mm(r,e,n)),e={cache:WN()},t.payload=e;return}e=e.return}}function zZ(t,e,n){var r=li();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},nw(t)?DU(e,n):(n=qN(t,e,n,r),n!==null&&(Fr(n,t,r),MU(n,e,r)))}function kU(t,e,n){var r=li();Um(t,e,n,r)}function Um(t,e,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(nw(t))DU(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,fi(o,s))return Xb(t,e,i,0),tt===null&&Qb(),!1}catch{}finally{}if(n=qN(t,e,i,r),n!==null)return Fr(n,t,r),MU(n,e,r),!0}return!1}function uI(t,e,n,r){if(r={lane:2,revertLane:xI(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},nw(t)){if(e)throw Error($(479))}else e=qN(t,n,r,2),e!==null&&Fr(e,t,2)}function nw(t){var e=t.alternate;return t===ye||e!==null&&e===ye}function DU(t,e){Pd=$0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function MU(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wV(t,n)}}var wp={readContext:Yn,use:ew,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};wp.useEffectEvent=Lt;var LU={readContext:Yn,use:ew,useCallback:function(t,e){return br().memoizedState=[t,e===void 0?null:e],t},useContext:Yn,useEffect:ik,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Zv(4194308,4,TU.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zv(4194308,4,t,e)},useInsertionEffect:function(t,e){Zv(4,2,t,e)},useMemo:function(t,e){var n=br();e=e===void 0?null:e;var r=t();if(Fc){ko(!0);try{t()}finally{ko(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=br();if(n!==void 0){var i=n(e);if(Fc){ko(!0);try{n(e)}finally{ko(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=zZ.bind(null,ye,t),[r.memoizedState,t]},useRef:function(t){var e=br();return t={current:t},e.memoizedState=t},useState:function(t){t=QT(t);var e=t.queue,n=kU.bind(null,ye,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:oI,useDeferredValue:function(t,e){var n=br();return lI(n,t,e)},useTransition:function(){var t=QT(!1);return t=PU.bind(null,ye,t.queue,!0,!1),br().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=ye,i=br();if(Pe){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),tt===null)throw Error($(349));Ne&127||uU(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,ik(hU.bind(null,r,a,t),[t]),r.flags|=2048,Gd(9,{destroy:void 0},dU.bind(null,r,a,n,e),null),n},useId:function(){var t=br(),e=tt.identifierPrefix;if(Pe){var n=_a,r=wa;n=(r&~(1<<32-oi(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=q0++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=OZ++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:cI,useFormState:tk,useActionState:tk,useOptimistic:function(t){var e=br();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=uI.bind(null,ye,!0,n),n.dispatch=e,[t,e]},useMemoCache:iI,useCacheRefresh:function(){return br().memoizedState=UZ.bind(null,ye)},useEffectEvent:function(t){var e=br(),n={impl:t};return e.memoizedState=n,function(){if(Me&2)throw Error($(440));return n.impl.apply(void 0,arguments)}}},dI={readContext:Yn,use:ew,useCallback:AU,useContext:Yn,useEffect:sI,useImperativeHandle:SU,useInsertionEffect:_U,useLayoutEffect:EU,useMemo:NU,useReducer:Xv,useRef:bU,useState:function(){return Xv(Ns)},useDebugValue:oI,useDeferredValue:function(t,e){var n=Qt();return IU(n,Qe.memoizedState,t,e)},useTransition:function(){var t=Xv(Ns)[0],e=Qt().memoizedState;return[typeof t=="boolean"?t:Rg(t),e]},useSyncExternalStore:cU,useId:RU,useHostTransitionStatus:cI,useFormState:nk,useActionState:nk,useOptimistic:function(t,e){var n=Qt();return pU(n,Qe,t,e)},useMemoCache:iI,useCacheRefresh:OU};dI.useEffectEvent=wU;var VU={readContext:Yn,use:ew,useCallback:AU,useContext:Yn,useEffect:sI,useImperativeHandle:SU,useInsertionEffect:_U,useLayoutEffect:EU,useMemo:NU,useReducer:K1,useRef:bU,useState:function(){return K1(Ns)},useDebugValue:oI,useDeferredValue:function(t,e){var n=Qt();return Qe===null?lI(n,t,e):IU(n,Qe.memoizedState,t,e)},useTransition:function(){var t=K1(Ns)[0],e=Qt().memoizedState;return[typeof t=="boolean"?t:Rg(t),e]},useSyncExternalStore:cU,useId:RU,useHostTransitionStatus:cI,useFormState:rk,useActionState:rk,useOptimistic:function(t,e){var n=Qt();return Qe!==null?pU(n,Qe,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:iI,useCacheRefresh:OU};VU.useEffectEvent=wU;function W1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var JT={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=li(),i=Ho(r);i.payload=e,n!=null&&(i.callback=n),e=Go(t,i,r),e!==null&&(Fr(e,t,r),Mm(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=li(),i=Ho(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Go(t,i,r),e!==null&&(Fr(e,t,r),Mm(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=li(),r=Ho(n);r.tag=2,e!=null&&(r.callback=e),e=Go(t,r,n),e!==null&&(Fr(e,t,n),Mm(e,t,n))}};function ak(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!gp(n,r)||!gp(i,a):!0}function sk(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&JT.enqueueReplaceState(e,e.state,null)}function $c(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=xt({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function UU(t){M0(t)}function zU(t){console.error(t)}function BU(t){M0(t)}function H0(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function ok(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function eS(t,e,n){return n=Ho(n),n.tag=3,n.payload={element:null},n.callback=function(){H0(t,e)},n}function FU(t){return t=Ho(t),t.tag=3,t}function $U(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){ok(e,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){ok(e,n,r),typeof i!="function"&&(Ko===null?Ko=new Set([this]):Ko.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function BZ(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&Mh(e,n,i,!0),n=mi.current,n!==null){switch(n.tag){case 31:case 13:return Mi===null?Q0():n.alternate===null&&Ut===0&&(Ut=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===z0?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),aE(t,r,i)),!1;case 22:return n.flags|=65536,r===z0?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),aE(t,r,i)),!1}throw Error($(435,n.tag))}return aE(t,r,i),Q0(),!1}if(Pe)return e=mi.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==BT&&(t=Error($(422),{cause:r}),vp(ji(t,n)))):(r!==BT&&(e=Error($(423),{cause:r}),vp(ji(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=ji(r,n),i=eS(t.stateNode,r,i),G1(t,i),Ut!==4&&(Ut=2)),!1;var a=Error($(520),{cause:r});if(a=ji(a,n),Fm===null?Fm=[a]:Fm.push(a),Ut!==4&&(Ut=2),e===null)return!0;r=ji(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=eS(n.stateNode,r,t),G1(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Ko===null||!Ko.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=FU(i),$U(i,t,n,r),G1(n,i),!1}n=n.return}while(n!==null);return!1}var hI=Error($(461)),on=!1;function qn(t,e,n,r){e.child=t===null?rU(e,null,n,r):Bc(e,t.child,n,r)}function lk(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}else s=r;return zc(e),r=eI(t,e,n,s,a,i),o=tI(),t!==null&&!on?(nI(t,e,i),Is(t,e,i)):(Pe&&o&&GN(e),e.flags|=1,qn(t,e,r,i),e.child)}function ck(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!HN(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,qU(t,e,a,r,i)):(t=Yv(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!fI(t,i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:gp,n(s,r)&&t.ref===e.ref)return Is(t,e,i)}return e.flags|=1,t=ps(a,r),t.ref=e.ref,t.return=e,e.child=t}function qU(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(gp(a,r)&&t.ref===e.ref)if(on=!1,e.pendingProps=r=a,fI(t,i))t.flags&131072&&(on=!0);else return e.lanes=t.lanes,Is(t,e,i)}return tS(t,e,n,r,i)}function HU(t,e,n,r){var i=r.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,e.child=null;return uk(t,e,a,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qv(e,a!==null?a.cachePool:null),a!==null?ZO(e,a):WT(),sU(e);else return r=e.lanes=536870912,uk(t,e,a!==null?a.baseLanes|n:n,n,r)}else a!==null?(Qv(e,a.cachePool),ZO(e,a),Co(),e.memoizedState=null):(t!==null&&Qv(e,null),WT(),Co());return qn(t,e,i,n),e.child}function gm(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function uk(t,e,n,r,i){var a=YN();return a=a===null?null:{parent:sn._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&Qv(e,null),WT(),sU(e),t!==null&&Mh(t,e,r,!0),e.childLanes=i,null}function Jv(t,e){return e=G0({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function dk(t,e,n){return Bc(e,t.child,null,n),t=Jv(e,e.pendingProps),t.flags|=2,Jr(e),e.memoizedState=null,t}function FZ(t,e,n){var r=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Pe){if(r.mode==="hidden")return t=Jv(e,r),e.lanes=536870912,gm(null,t);if(YT(e),(t=ft)?(t=Lz(t,Ri),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:il!==null?{id:wa,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},n=QV(t),n.return=e,e.child=n,Kn=e,ft=null)):t=null,t===null)throw al(e);return e.lanes=536870912,null}return Jv(e,r)}var a=t.memoizedState;if(a!==null){var s=a.dehydrated;if(YT(e),i)if(e.flags&256)e.flags&=-257,e=dk(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error($(558));else if(on||Mh(t,e,n,!1),i=(n&t.childLanes)!==0,on||i){if(r=tt,r!==null&&(s=_V(r,n),s!==0&&s!==a.retryLane))throw a.retryLane=s,pu(t,s),Fr(r,t,s),hI;Q0(),e=dk(t,e,n)}else t=a.treeContext,ft=Li(s.nextSibling),Kn=e,Pe=!0,qo=null,Ri=!1,t!==null&&ZV(e,t),e=Jv(e,r),e.flags|=4096;return e}return t=ps(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function e0(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error($(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function tS(t,e,n,r,i){return zc(e),n=eI(t,e,n,r,void 0,i),r=tI(),t!==null&&!on?(nI(t,e,i),Is(t,e,i)):(Pe&&r&&GN(e),e.flags|=1,qn(t,e,n,i),e.child)}function hk(t,e,n,r,i,a){return zc(e),e.updateQueue=null,n=lU(e,r,n,i),oU(t),r=tI(),t!==null&&!on?(nI(t,e,a),Is(t,e,a)):(Pe&&r&&GN(e),e.flags|=1,qn(t,e,n,a),e.child)}function fk(t,e,n,r,i){if(zc(e),e.stateNode===null){var a=ud,s=n.contextType;typeof s=="object"&&s!==null&&(a=Yn(s)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=JT,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},XN(e),s=n.contextType,a.context=typeof s=="object"&&s!==null?Yn(s):ud,a.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(W1(e,n,s,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&JT.enqueueReplaceState(a,a.state,null),Vm(e,r,a,i),Lm(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var o=e.memoizedProps,l=$c(n,o);a.props=l;var c=a.context,u=n.contextType;s=ud,typeof u=="object"&&u!==null&&(s=Yn(u));var h=n.getDerivedStateFromProps;u=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,u||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||c!==s)&&sk(e,a,r,s),So=!1;var f=e.memoizedState;a.state=f,Vm(e,r,a,i),Lm(),c=e.memoizedState,o||f!==c||So?(typeof h=="function"&&(W1(e,n,h,r),c=e.memoizedState),(l=So||ak(e,n,l,r,f,c,s))?(u||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=s,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,GT(t,e),s=e.memoizedProps,u=$c(n,s),a.props=u,h=e.pendingProps,f=a.context,c=n.contextType,l=ud,typeof c=="object"&&c!==null&&(l=Yn(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==h||f!==l)&&sk(e,a,r,l),So=!1,f=e.memoizedState,a.state=f,Vm(e,r,a,i),Lm();var m=e.memoizedState;s!==h||f!==m||So||t!==null&&t.dependencies!==null&&U0(t.dependencies)?(typeof o=="function"&&(W1(e,n,o,r),m=e.memoizedState),(u=So||ak(e,n,u,r,f,m,l)||t!==null&&t.dependencies!==null&&U0(t.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,e0(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=Bc(e,t.child,null,i),e.child=Bc(e,null,n,i)):qn(t,e,n,i),e.memoizedState=a.state,t=e.child):t=Is(t,e,i),t}function mk(t,e,n,r){return Uc(),e.flags|=256,qn(t,e,n,r),e.child}var Y1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Q1(t){return{baseLanes:t,cachePool:eU()}}function X1(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=ri),t}function GU(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(Kt.current&2)!==0),s&&(i=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(Pe){if(i?Po(e):Co(),(t=ft)?(t=Lz(t,Ri),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:il!==null?{id:wa,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},n=QV(t),n.return=e,e.child=n,Kn=e,ft=null)):t=null,t===null)throw al(e);return pS(t)?e.lanes=32:e.lanes=536870912,null}var o=r.children;return r=r.fallback,i?(Co(),i=e.mode,o=G0({mode:"hidden",children:o},i),r=Tc(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r=e.child,r.memoizedState=Q1(n),r.childLanes=X1(t,s,n),e.memoizedState=Y1,gm(null,r)):(Po(e),nS(e,o))}var l=t.memoizedState;if(l!==null&&(o=l.dehydrated,o!==null)){if(a)e.flags&256?(Po(e),e.flags&=-257,e=Z1(t,e,n)):e.memoizedState!==null?(Co(),e.child=t.child,e.flags|=128,e=null):(Co(),o=r.fallback,i=e.mode,r=G0({mode:"visible",children:r.children},i),o=Tc(o,i,n,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,Bc(e,t.child,null,n),r=e.child,r.memoizedState=Q1(n),r.childLanes=X1(t,s,n),e.memoizedState=Y1,e=gm(null,r));else if(Po(e),pS(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var c=s.dgst;s=c,r=Error($(419)),r.stack="",r.digest=s,vp({value:r,source:null,stack:null}),e=Z1(t,e,n)}else if(on||Mh(t,e,n,!1),s=(n&t.childLanes)!==0,on||s){if(s=tt,s!==null&&(r=_V(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,pu(t,r),Fr(s,t,r),hI;mS(o)||Q0(),e=Z1(t,e,n)}else mS(o)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,ft=Li(o.nextSibling),Kn=e,Pe=!0,qo=null,Ri=!1,t!==null&&ZV(e,t),e=nS(e,r.children),e.flags|=4096);return e}return i?(Co(),o=r.fallback,i=e.mode,l=t.child,c=l.sibling,r=ps(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,c!==null?o=ps(c,o):(o=Tc(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,gm(null,r),r=e.child,o=t.child.memoizedState,o===null?o=Q1(n):(i=o.cachePool,i!==null?(l=sn._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=eU(),o={baseLanes:o.baseLanes|n,cachePool:i}),r.memoizedState=o,r.childLanes=X1(t,s,n),e.memoizedState=Y1,gm(t.child,r)):(Po(e),n=t.child,t=n.sibling,n=ps(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function nS(t,e){return e=G0({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function G0(t,e){return t=ti(22,t,null,e),t.lanes=0,t}function Z1(t,e,n){return Bc(e,t.child,null,n),t=nS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pk(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$T(t.return,e,n)}function J1(t,e,n,r,i,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=a)}function KU(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var s=Kt.current,o=(s&2)!==0;if(o?(s=s&1|2,e.flags|=128):s&=1,at(Kt,s),qn(t,e,r,n),r=Pe?yp:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pk(t,n,e);else if(t.tag===19)pk(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&F0(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),J1(e,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&F0(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}J1(e,!0,n,null,a,r);break;case"together":J1(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Is(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ol|=e.lanes,!(n&e.childLanes))if(t!==null){if(Mh(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=ps(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ps(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function fI(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&U0(t)))}function $Z(t,e,n){switch(e.tag){case 3:R0(e,e.stateNode.containerInfo),Io(e,sn,t.memoizedState.cache),Uc();break;case 27:case 5:CT(e);break;case 4:R0(e,e.stateNode.containerInfo);break;case 10:Io(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,YT(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Po(e),e.flags|=128,null):n&e.child.childLanes?GU(t,e,n):(Po(e),t=Is(t,e,n),t!==null?t.sibling:null);Po(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(Mh(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return KU(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),at(Kt,Kt.current),r)break;return null;case 22:return e.lanes=0,HU(t,e,n,e.pendingProps);case 24:Io(e,sn,t.memoizedState.cache)}return Is(t,e,n)}function WU(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)on=!0;else{if(!fI(t,n)&&!(e.flags&128))return on=!1,$Z(t,e,n);on=!!(t.flags&131072)}else on=!1,Pe&&e.flags&1048576&&XV(e,yp,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=Jl(e.elementType),e.type=t,typeof t=="function")HN(t)?(r=$c(t,r),e.tag=1,e=fk(null,e,t,r,n)):(e.tag=0,e=tS(null,e,t,r,n));else{if(t!=null){var i=t.$$typeof;if(i===jN){e.tag=11,e=lk(null,e,t,r,n);break e}else if(i===RN){e.tag=14,e=ck(null,e,t,r,n);break e}}throw e=IT(t)||t,Error($(306,e,""))}}return e;case 0:return tS(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=$c(r,e.pendingProps),fk(t,e,r,i,n);case 3:e:{if(R0(e,e.stateNode.containerInfo),t===null)throw Error($(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,GT(t,e),Vm(e,r,null,n);var s=e.memoizedState;if(r=s.cache,Io(e,sn,r),r!==a.cache&&qT(e,[sn],n,!0),Lm(),r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=mk(t,e,r,n);break e}else if(r!==i){i=ji(Error($(424)),e),vp(i),e=mk(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ft=Li(t.firstChild),Kn=e,Pe=!0,qo=null,Ri=!0,n=rU(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Uc(),r===i){e=Is(t,e,n);break e}qn(t,e,r,n)}e=e.child}return e;case 26:return e0(t,e),t===null?(n=Dk(e.type,null,e.pendingProps,null))?e.memoizedState=n:Pe||(n=e.type,t=e.pendingProps,r=ex($o.current).createElement(n),r[Gn]=e,r[$r]=t,Qn(r,n,t),On(r),e.stateNode=r):e.memoizedState=Dk(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return CT(e),t===null&&Pe&&(r=e.stateNode=Vz(e.type,e.pendingProps,$o.current),Kn=e,Ri=!0,i=ft,Al(e.type)?(gS=i,ft=Li(r.firstChild)):ft=i),qn(t,e,e.pendingProps.children,n),e0(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Pe&&((i=r=ft)&&(r=xJ(r,e.type,e.pendingProps,Ri),r!==null?(e.stateNode=r,Kn=e,ft=Li(r.firstChild),Ri=!1,i=!0):i=!1),i||al(e)),CT(e),i=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,r=a.children,hS(i,a)?r=null:s!==null&&hS(i,s)&&(e.flags|=32),e.memoizedState!==null&&(i=eI(t,e,kZ,null,null,n),Tp._currentValue=i),e0(t,e),qn(t,e,r,n),e.child;case 6:return t===null&&Pe&&((t=n=ft)&&(n=bJ(n,e.pendingProps,Ri),n!==null?(e.stateNode=n,Kn=e,ft=null,t=!0):t=!1),t||al(e)),null;case 13:return GU(t,e,n);case 4:return R0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Bc(e,null,r,n):qn(t,e,r,n),e.child;case 11:return lk(t,e,e.type,e.pendingProps,n);case 7:return qn(t,e,e.pendingProps,n),e.child;case 8:return qn(t,e,e.pendingProps.children,n),e.child;case 12:return qn(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,Io(e,e.type,r.value),qn(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,zc(e),i=Yn(i),r=r(i),e.flags|=1,qn(t,e,r,n),e.child;case 14:return ck(t,e,e.type,e.pendingProps,n);case 15:return qU(t,e,e.type,e.pendingProps,n);case 19:return KU(t,e,n);case 31:return FZ(t,e,n);case 22:return HU(t,e,n,e.pendingProps);case 24:return zc(e),r=Yn(sn),t===null?(i=YN(),i===null&&(i=tt,a=WN(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},XN(e),Io(e,sn,i)):(t.lanes&n&&(GT(t,e),Vm(e,null,null,n),Lm()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Io(e,sn,r)):(r=a.cache,Io(e,sn,r),r!==i.cache&&qT(e,[sn],n,!0))),qn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error($(156,e.tag))}function Za(t){t.flags|=4}function eE(t,e,n,r,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(vz())t.flags|=8192;else throw Ac=z0,QN}else t.flags&=-16777217}function gk(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Bz(e))if(vz())t.flags|=8192;else throw Ac=z0,QN}function rv(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?xV():536870912,t.lanes|=e,Kd|=e)}function Bf(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function qZ(t,e,n){var r=e.pendingProps;switch(KN(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(e),null;case 1:return dt(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),gs(sn),Bd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ou(e)?Za(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,H1())),dt(e),null;case 26:var i=e.type,a=e.memoizedState;return t===null?(Za(e),a!==null?(dt(e),gk(e,a)):(dt(e),eE(e,i,null,r,n))):a?a!==t.memoizedState?(Za(e),dt(e),gk(e,a)):(dt(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&Za(e),dt(e),eE(e,i,t,r,n)),null;case 27:if(O0(e),n=$o.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Za(e);else{if(!r){if(e.stateNode===null)throw Error($(166));return dt(e),null}t=Ia.current,Ou(e)?HO(e):(t=Vz(i,r,n),e.stateNode=t,Za(e))}return dt(e),null;case 5:if(O0(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Za(e);else{if(!r){if(e.stateNode===null)throw Error($(166));return dt(e),null}if(a=Ia.current,Ou(e))HO(e);else{var s=ex($o.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=s.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a=typeof r.is=="string"?s.createElement(i,{is:r.is}):s.createElement(i)}}a[Gn]=e,a[$r]=r;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)a.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=a;e:switch(Qn(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Za(e)}}return dt(e),eE(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Za(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(t=$o.current,Ou(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=Kn,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[Gn]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||kz(t.nodeValue,n)),t||al(e,!0)}else t=ex(t).createTextNode(r),t[Gn]=e,e.stateNode=t}return dt(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=Ou(e),n!==null){if(t===null){if(!r)throw Error($(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(557));t[Gn]=e}else Uc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dt(e),t=!1}else n=H1(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Jr(e),e):(Jr(e),null);if(e.flags&128)throw Error($(558))}return dt(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Ou(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error($(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[Gn]=e}else Uc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dt(e),i=!1}else i=H1(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Jr(e),e):(Jr(e),null)}return Jr(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),rv(e,e.updateQueue),dt(e),null);case 4:return Bd(),t===null&&bI(e.stateNode.containerInfo),dt(e),null;case 10:return gs(e.type),dt(e),null;case 19:if(Ln(Kt),r=e.memoizedState,r===null)return dt(e),null;if(i=(e.flags&128)!==0,a=r.rendering,a===null)if(i)Bf(r,!1);else{if(Ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=F0(t),a!==null){for(e.flags|=128,Bf(r,!1),t=a.updateQueue,e.updateQueue=t,rv(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)YV(n,t),n=n.sibling;return at(Kt,Kt.current&1|2),Pe&&rs(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&ai()>W0&&(e.flags|=128,i=!0,Bf(r,!1),e.lanes=4194304)}else{if(!i)if(t=F0(a),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,rv(e,t),Bf(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Pe)return dt(e),null}else 2*ai()-r.renderingStartTime>W0&&n!==536870912&&(e.flags|=128,i=!0,Bf(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(t=r.last,t!==null?t.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=ai(),t.sibling=null,n=Kt.current,at(Kt,i?n&1|2:n&1),Pe&&rs(e,r.treeForkCount),t):(dt(e),null);case 22:case 23:return Jr(e),ZN(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(dt(e),e.subtreeFlags&6&&(e.flags|=8192)):dt(e),n=e.updateQueue,n!==null&&rv(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&Ln(Sc),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),gs(sn),dt(e),null;case 25:return null;case 30:return null}throw Error($(156,e.tag))}function HZ(t,e){switch(KN(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gs(sn),Bd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return O0(e),null;case 31:if(e.memoizedState!==null){if(Jr(e),e.alternate===null)throw Error($(340));Uc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Jr(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Uc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ln(Kt),null;case 4:return Bd(),null;case 10:return gs(e.type),null;case 22:case 23:return Jr(e),ZN(),t!==null&&Ln(Sc),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return gs(sn),null;case 25:return null;default:return null}}function YU(t,e){switch(KN(e),e.tag){case 3:gs(sn),Bd();break;case 26:case 27:case 5:O0(e);break;case 4:Bd();break;case 31:e.memoizedState!==null&&Jr(e);break;case 13:Jr(e);break;case 19:Ln(Kt);break;case 10:gs(e.type);break;case 22:case 23:Jr(e),ZN(),t!==null&&Ln(Sc);break;case 24:gs(sn)}}function Og(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){Ge(e,e.return,o)}}function sl(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var s=r.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,i=e;var l=n,c=o;try{c()}catch(u){Ge(i,l,u)}}}r=r.next}while(r!==a)}}catch(u){Ge(e,e.return,u)}}function QU(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{aU(e,n)}catch(r){Ge(t,t.return,r)}}}function XU(t,e,n){n.props=$c(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){Ge(t,e,r)}}function zm(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){Ge(t,e,i)}}function Ea(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Ge(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Ge(t,e,i)}else n.current=null}function ZU(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Ge(t,t.return,i)}}function tE(t,e,n){try{var r=t.stateNode;fJ(r,t.type,n,e),r[$r]=e}catch(i){Ge(t,t.return,i)}}function JU(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Al(t.type)||t.tag===4}function nE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||JU(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Al(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=cs));else if(r!==4&&(r===27&&Al(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(rS(t,e,n),t=t.sibling;t!==null;)rS(t,e,n),t=t.sibling}function K0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Al(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(K0(t,e,n),t=t.sibling;t!==null;)K0(t,e,n),t=t.sibling}function ez(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Qn(e,r,n),e[Gn]=t,e[$r]=n}catch(a){Ge(t,t.return,a)}}var is=!1,an=!1,rE=!1,yk=typeof WeakSet=="function"?WeakSet:Set,jn=null;function GZ(t,e){if(t=t.containerInfo,uS=ix,t=BV(t),FN(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(o=s+i),h!==a||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++c===i&&(o=s),f===a&&++u===r&&(l=s),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(dS={focusedElem:t,selectionRange:n},ix=!1,jn=e;jn!==null;)if(e=jn,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,jn=t;else for(;jn!==null;){switch(e=jn,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var y=$c(n.type,i);t=r.getSnapshotBeforeUpdate(y,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(v){Ge(n,n.return,v)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)fS(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":fS(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error($(163))}if(t=e.sibling,t!==null){t.return=e.return,jn=t;break}jn=e.return}}function tz(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:es(t,n),r&4&&Og(5,n);break;case 1:if(es(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){Ge(n,n.return,s)}else{var i=$c(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){Ge(n,n.return,s)}}r&64&&QU(n),r&512&&zm(n,n.return);break;case 3:if(es(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{aU(t,e)}catch(s){Ge(n,n.return,s)}}break;case 27:e===null&&r&4&&ez(n);case 26:case 5:es(t,n),e===null&&r&4&&ZU(n),r&512&&zm(n,n.return);break;case 12:es(t,n);break;case 31:es(t,n),r&4&&iz(t,n);break;case 13:es(t,n),r&4&&az(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=tJ.bind(null,n),wJ(t,n))));break;case 22:if(r=n.memoizedState!==null||is,!r){e=e!==null&&e.memoizedState!==null||an,i=is;var a=an;is=r,(an=e)&&!a?ts(t,n,(n.subtreeFlags&8772)!==0):es(t,n),is=i,an=a}break;case 30:break;default:es(t,n)}}function nz(t){var e=t.alternate;e!==null&&(t.alternate=null,nz(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&MN(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,kr=!1;function Ja(t,e,n){for(n=n.child;n!==null;)rz(t,e,n),n=n.sibling}function rz(t,e,n){if(si&&typeof si.onCommitFiberUnmount=="function")try{si.onCommitFiberUnmount(Ag,n)}catch{}switch(n.tag){case 26:an||Ea(n,e),Ja(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:an||Ea(n,e);var r=_t,i=kr;Al(n.type)&&(_t=n.stateNode,kr=!1),Ja(t,e,n),qm(n.stateNode),_t=r,kr=i;break;case 5:an||Ea(n,e);case 6:if(r=_t,i=kr,_t=null,Ja(t,e,n),_t=r,kr=i,_t!==null)if(kr)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(n.stateNode)}catch(a){Ge(n,e,a)}else try{_t.removeChild(n.stateNode)}catch(a){Ge(n,e,a)}break;case 18:_t!==null&&(kr?(t=_t,Ck(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Xd(t)):Ck(_t,n.stateNode));break;case 4:r=_t,i=kr,_t=n.stateNode.containerInfo,kr=!0,Ja(t,e,n),_t=r,kr=i;break;case 0:case 11:case 14:case 15:sl(2,n,e),an||sl(4,n,e),Ja(t,e,n);break;case 1:an||(Ea(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&XU(n,e,r)),Ja(t,e,n);break;case 21:Ja(t,e,n);break;case 22:an=(r=an)||n.memoizedState!==null,Ja(t,e,n),an=r;break;default:Ja(t,e,n)}}function iz(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Xd(t)}catch(n){Ge(e,e.return,n)}}}function az(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xd(t)}catch(n){Ge(e,e.return,n)}}function KZ(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new yk),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new yk),e;default:throw Error($(435,t.tag))}}function iv(t,e){var n=KZ(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var i=nJ.bind(null,t,r);r.then(i,i)}})}function Rr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 27:if(Al(o.type)){_t=o.stateNode,kr=!1;break e}break;case 5:_t=o.stateNode,kr=!1;break e;case 3:case 4:_t=o.stateNode.containerInfo,kr=!0;break e}o=o.return}if(_t===null)throw Error($(160));rz(a,s,i),_t=null,kr=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)sz(e,t),e=e.sibling}var Xi=null;function sz(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rr(e,t),Or(t),r&4&&(sl(3,t,t.return),Og(3,t),sl(5,t,t.return));break;case 1:Rr(e,t),Or(t),r&512&&(an||n===null||Ea(n,n.return)),r&64&&is&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Xi;if(Rr(e,t),Or(t),r&512&&(an||n===null||Ea(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[Pg]||a[Gn]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),Qn(a,r,n),a[Gn]=t,On(a),r=a;break e;case"link":var s=Lk("link","href",i).get(r+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break t}}a=i.createElement(r),Qn(a,r,n),i.head.appendChild(a);break;case"meta":if(s=Lk("meta","content",i).get(r+(n.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break t}}a=i.createElement(r),Qn(a,r,n),i.head.appendChild(a);break;default:throw Error($(468,r))}a[Gn]=t,On(a),r=a}t.stateNode=r}else Vk(i,t.type,t.stateNode);else t.stateNode=Mk(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?Vk(i,t.type,t.stateNode):Mk(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&tE(t,t.memoizedProps,n.memoizedProps)}break;case 27:Rr(e,t),Or(t),r&512&&(an||n===null||Ea(n,n.return)),n!==null&&r&4&&tE(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Rr(e,t),Or(t),r&512&&(an||n===null||Ea(n,n.return)),t.flags&32){i=t.stateNode;try{$d(i,"")}catch(y){Ge(t,t.return,y)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,tE(t,i,n!==null?n.memoizedProps:i)),r&1024&&(rE=!0);break;case 6:if(Rr(e,t),Or(t),r&4){if(t.stateNode===null)throw Error($(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(y){Ge(t,t.return,y)}}break;case 3:if(r0=null,i=Xi,Xi=tx(e.containerInfo),Rr(e,t),Xi=i,Or(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xd(e.containerInfo)}catch(y){Ge(t,t.return,y)}rE&&(rE=!1,oz(t));break;case 4:r=Xi,Xi=tx(t.stateNode.containerInfo),Rr(e,t),Or(t),Xi=r;break;case 12:Rr(e,t),Or(t);break;case 31:Rr(e,t),Or(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,iv(t,r)));break;case 13:Rr(e,t),Or(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(rw=ai()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,iv(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=is,u=an;if(is=c||i,an=u||l,Rr(e,t),an=u,is=c,Or(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||is||an||ec(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(a=l.stateNode,i)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=l.stateNode;var h=l.memoizedProps.style,f=h!=null&&h.hasOwnProperty("display")?h.display:null;o.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(y){Ge(l,l.return,y)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(y){Ge(l,l.return,y)}}}else if(e.tag===18){if(n===null){l=e;try{var m=l.stateNode;i?jk(m,!0):jk(l.stateNode,!1)}catch(y){Ge(l,l.return,y)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,iv(t,n))));break;case 19:Rr(e,t),Or(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,iv(t,r)));break;case 30:break;case 21:break;default:Rr(e,t),Or(t)}}function Or(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(JU(r)){n=r;break}r=r.return}if(n==null)throw Error($(160));switch(n.tag){case 27:var i=n.stateNode,a=nE(t);K0(t,a,i);break;case 5:var s=n.stateNode;n.flags&32&&($d(s,""),n.flags&=-33);var o=nE(t);K0(t,o,s);break;case 3:case 4:var l=n.stateNode.containerInfo,c=nE(t);rS(t,c,l);break;default:throw Error($(161))}}catch(u){Ge(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oz(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;oz(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function es(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)tz(t,e.alternate,e),e=e.sibling}function ec(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:sl(4,e,e.return),ec(e);break;case 1:Ea(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&XU(e,e.return,n),ec(e);break;case 27:qm(e.stateNode);case 26:case 5:Ea(e,e.return),ec(e);break;case 22:e.memoizedState===null&&ec(e);break;case 30:ec(e);break;default:ec(e)}t=t.sibling}}function ts(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:ts(i,a,n),Og(4,a);break;case 1:if(ts(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){Ge(r,r.return,c)}if(r=a,i=r.updateQueue,i!==null){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)iU(l[i],o)}catch(c){Ge(r,r.return,c)}}n&&s&64&&QU(a),zm(a,a.return);break;case 27:ez(a);case 26:case 5:ts(i,a,n),n&&r===null&&s&4&&ZU(a),zm(a,a.return);break;case 12:ts(i,a,n);break;case 31:ts(i,a,n),n&&s&4&&iz(i,a);break;case 13:ts(i,a,n),n&&s&4&&az(i,a);break;case 22:a.memoizedState===null&&ts(i,a,n),zm(a,a.return);break;case 30:break;default:ts(i,a,n)}e=e.sibling}}function mI(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&jg(n))}function pI(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&jg(t))}function Yi(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)lz(t,e,n,r),e=e.sibling}function lz(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Yi(t,e,n,r),i&2048&&Og(9,e);break;case 1:Yi(t,e,n,r);break;case 3:Yi(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&jg(t)));break;case 12:if(i&2048){Yi(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){Ge(e,e.return,l)}}else Yi(t,e,n,r);break;case 31:Yi(t,e,n,r);break;case 13:Yi(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,s=e.alternate,e.memoizedState!==null?a._visibility&2?Yi(t,e,n,r):Bm(t,e):a._visibility&2?Yi(t,e,n,r):(a._visibility|=2,Wu(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),i&2048&&mI(s,e);break;case 24:Yi(t,e,n,r),i&2048&&pI(e.alternate,e);break;default:Yi(t,e,n,r)}}function Wu(t,e,n,r,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,s=e,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Wu(a,s,o,l,i),Og(8,s);break;case 23:break;case 22:var u=s.stateNode;s.memoizedState!==null?u._visibility&2?Wu(a,s,o,l,i):Bm(a,s):(u._visibility|=2,Wu(a,s,o,l,i)),i&&c&2048&&mI(s.alternate,s);break;case 24:Wu(a,s,o,l,i),i&&c&2048&&pI(s.alternate,s);break;default:Wu(a,s,o,l,i)}e=e.sibling}}function Bm(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:Bm(n,r),i&2048&&mI(r.alternate,r);break;case 24:Bm(n,r),i&2048&&pI(r.alternate,r);break;default:Bm(n,r)}e=e.sibling}}var ym=8192;function ku(t,e,n){if(t.subtreeFlags&ym)for(t=t.child;t!==null;)cz(t,e,n),t=t.sibling}function cz(t,e,n){switch(t.tag){case 26:ku(t,e,n),t.flags&ym&&t.memoizedState!==null&&OJ(n,Xi,t.memoizedState,t.memoizedProps);break;case 5:ku(t,e,n);break;case 3:case 4:var r=Xi;Xi=tx(t.stateNode.containerInfo),ku(t,e,n),Xi=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=ym,ym=16777216,ku(t,e,n),ym=r):ku(t,e,n));break;default:ku(t,e,n)}}function uz(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ff(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];jn=r,hz(r,t)}uz(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)dz(t),t=t.sibling}function dz(t){switch(t.tag){case 0:case 11:case 15:Ff(t),t.flags&2048&&sl(9,t,t.return);break;case 3:Ff(t);break;case 12:Ff(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,t0(t)):Ff(t);break;default:Ff(t)}}function t0(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];jn=r,hz(r,t)}uz(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:sl(8,e,e.return),t0(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,t0(e));break;default:t0(e)}t=t.sibling}}function hz(t,e){for(;jn!==null;){var n=jn;switch(n.tag){case 0:case 11:case 15:sl(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:jg(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,jn=r;else e:for(n=t;jn!==null;){r=jn;var i=r.sibling,a=r.return;if(nz(r),r===n){jn=null;break e}if(i!==null){i.return=a,jn=i;break e}jn=a}}}var WZ={getCacheForType:function(t){var e=Yn(sn),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Yn(sn).controller.signal}},YZ=typeof WeakMap=="function"?WeakMap:Map,Me=0,tt=null,Te=null,Ne=0,$e=0,Qr=null,Mo=!1,Vh=!1,gI=!1,Ps=0,Ut=0,ol=0,Nc=0,yI=0,ri=0,Kd=0,Fm=null,Dr=null,iS=!1,rw=0,fz=0,W0=1/0,Y0=null,Ko=null,yn=0,Wo=null,Wd=null,ys=0,aS=0,sS=null,mz=null,$m=0,oS=null;function li(){return Me&2&&Ne!==0?Ne&-Ne:de.T!==null?xI():EV()}function pz(){if(ri===0)if(!(Ne&536870912)||Pe){var t=Qy;Qy<<=1,!(Qy&3932160)&&(Qy=262144),ri=t}else ri=536870912;return t=mi.current,t!==null&&(t.flags|=32),ri}function Fr(t,e,n){(t===tt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(Yd(t,0),Lo(t,Ne,ri,!1)),Ig(t,n),(!(Me&2)||t!==tt)&&(t===tt&&(!(Me&2)&&(Nc|=n),Ut===4&&Lo(t,Ne,ri,!1)),Wa(t))}function gz(t,e,n){if(Me&6)throw Error($(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Ng(t,e),i=r?ZZ(t,e):iE(t,e,!0),a=r;do{if(i===0){Vh&&!r&&Lo(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!QZ(n)){i=iE(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var o=t;i=Fm;var l=o.current.memoizedState.isDehydrated;if(l&&(Yd(o,s).flags|=256),s=iE(o,s,!1),s!==2){if(gI&&!l){o.errorRecoveryDisabledLanes|=a,Nc|=a,i=4;break e}a=Dr,Dr=i,a!==null&&(Dr===null?Dr=a:Dr.push.apply(Dr,a))}i=s}if(a=!1,i!==2)continue}}if(i===1){Yd(t,0),Lo(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error($(345));case 4:if((e&4194048)!==e)break;case 6:Lo(r,e,ri,!Mo);break e;case 2:Dr=null;break;case 3:case 5:break;default:throw Error($(329))}if((e&62914560)===e&&(i=rw+300-ai(),10<i)){if(Lo(r,e,ri,!Mo),Gb(r,0,!0)!==0)break e;ys=e,r.timeoutHandle=Mz(vk.bind(null,r,n,Dr,Y0,iS,e,ri,Nc,Kd,Mo,a,"Throttled",-0,0),i);break e}vk(r,n,Dr,Y0,iS,e,ri,Nc,Kd,Mo,a,null,-0,0)}}break}while(!0);Wa(t)}function vk(t,e,n,r,i,a,s,o,l,c,u,h,f,m){if(t.timeoutHandle=-1,h=e.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cs},cz(e,a,h);var y=(a&62914560)===a?rw-ai():(a&4194048)===a?fz-ai():0;if(y=kJ(h,y),y!==null){ys=a,t.cancelPendingCommit=y(bk.bind(null,t,e,a,n,r,i,s,o,l,u,h,null,f,m)),Lo(t,a,s,!c);return}}bk(t,e,a,n,r,i,s,o,l)}function QZ(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!fi(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Lo(t,e,n,r){e&=~yI,e&=~Nc,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-oi(i),s=1<<a;r[a]=-1,i&=~s}n!==0&&bV(t,n,e)}function iw(){return Me&6?!0:(kg(0),!1)}function vI(){if(Te!==null){if($e===0)var t=Te.return;else t=Te,us=gu=null,rI(t),Id=null,xp=0,t=Te;for(;t!==null;)YU(t.alternate,t),t=t.return;Te=null}}function Yd(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,gJ(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),ys=0,vI(),tt=t,Te=n=ps(t.current,null),Ne=e,$e=0,Qr=null,Mo=!1,Vh=Ng(t,e),gI=!1,Kd=ri=yI=Nc=ol=Ut=0,Dr=Fm=null,iS=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-oi(r),a=1<<i;e|=t[i],r&=~a}return Ps=e,Qb(),n}function yz(t,e){ye=null,de.H=wp,e===Lh||e===Zb?(e=QO(),$e=3):e===QN?(e=QO(),$e=4):$e=e===hI?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Qr=e,Te===null&&(Ut=1,H0(t,ji(e,t.current)))}function vz(){var t=mi.current;return t===null?!0:(Ne&4194048)===Ne?Mi===null:(Ne&62914560)===Ne||Ne&536870912?t===Mi:!1}function xz(){var t=de.H;return de.H=wp,t===null?wp:t}function bz(){var t=de.A;return de.A=WZ,t}function Q0(){Ut=4,Mo||(Ne&4194048)!==Ne&&mi.current!==null||(Vh=!0),!(ol&134217727)&&!(Nc&134217727)||tt===null||Lo(tt,Ne,ri,!1)}function iE(t,e,n){var r=Me;Me|=2;var i=xz(),a=bz();(tt!==t||Ne!==e)&&(Y0=null,Yd(t,e)),e=!1;var s=Ut;e:do try{if($e!==0&&Te!==null){var o=Te,l=Qr;switch($e){case 8:vI(),s=6;break e;case 3:case 2:case 9:case 6:mi.current===null&&(e=!0);var c=$e;if($e=0,Qr=null,fd(t,o,l,c),n&&Vh){s=0;break e}break;default:c=$e,$e=0,Qr=null,fd(t,o,l,c)}}XZ(),s=Ut;break}catch(u){yz(t,u)}while(!0);return e&&t.shellSuspendCounter++,us=gu=null,Me=r,de.H=i,de.A=a,Te===null&&(tt=null,Ne=0,Qb()),s}function XZ(){for(;Te!==null;)wz(Te)}function ZZ(t,e){var n=Me;Me|=2;var r=xz(),i=bz();tt!==t||Ne!==e?(Y0=null,W0=ai()+500,Yd(t,e)):Vh=Ng(t,e);e:do try{if($e!==0&&Te!==null){e=Te;var a=Qr;t:switch($e){case 1:$e=0,Qr=null,fd(t,e,a,1);break;case 2:case 9:if(YO(a)){$e=0,Qr=null,xk(e);break}e=function(){$e!==2&&$e!==9||tt!==t||($e=7),Wa(t)},a.then(e,e);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:YO(a)?($e=0,Qr=null,xk(e)):($e=0,Qr=null,fd(t,e,a,7));break;case 5:var s=null;switch(Te.tag){case 26:s=Te.memoizedState;case 5:case 27:var o=Te;if(s?Bz(s):o.stateNode.complete){$e=0,Qr=null;var l=o.sibling;if(l!==null)Te=l;else{var c=o.return;c!==null?(Te=c,aw(c)):Te=null}break t}}$e=0,Qr=null,fd(t,e,a,5);break;case 6:$e=0,Qr=null,fd(t,e,a,6);break;case 8:vI(),Ut=6;break e;default:throw Error($(462))}}JZ();break}catch(u){yz(t,u)}while(!0);return us=gu=null,de.H=r,de.A=i,Me=n,Te!==null?0:(tt=null,Ne=0,Qb(),Ut)}function JZ(){for(;Te!==null&&!_X();)wz(Te)}function wz(t){var e=WU(t.alternate,t,Ps);t.memoizedProps=t.pendingProps,e===null?aw(t):Te=e}function xk(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=hk(n,e,e.pendingProps,e.type,void 0,Ne);break;case 11:e=hk(n,e,e.pendingProps,e.type.render,e.ref,Ne);break;case 5:rI(e);default:YU(n,e),e=Te=YV(e,Ps),e=WU(n,e,Ps)}t.memoizedProps=t.pendingProps,e===null?aw(t):Te=e}function fd(t,e,n,r){us=gu=null,rI(e),Id=null,xp=0;var i=e.return;try{if(BZ(t,i,e,n,Ne)){Ut=1,H0(t,ji(n,t.current)),Te=null;return}}catch(a){if(i!==null)throw Te=i,a;Ut=1,H0(t,ji(n,t.current)),Te=null;return}e.flags&32768?(Pe||r===1?t=!0:Vh||Ne&536870912?t=!1:(Mo=t=!0,(r===2||r===9||r===3||r===6)&&(r=mi.current,r!==null&&r.tag===13&&(r.flags|=16384))),_z(e,t)):aw(e)}function aw(t){var e=t;do{if(e.flags&32768){_z(e,Mo);return}t=e.return;var n=qZ(e.alternate,e,Ps);if(n!==null){Te=n;return}if(e=e.sibling,e!==null){Te=e;return}Te=e=t}while(e!==null);Ut===0&&(Ut=5)}function _z(t,e){do{var n=HZ(t.alternate,t);if(n!==null){n.flags&=32767,Te=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Te=t;return}Te=t=n}while(t!==null);Ut=6,Te=null}function bk(t,e,n,r,i,a,s,o,l){t.cancelPendingCommit=null;do sw();while(yn!==0);if(Me&6)throw Error($(327));if(e!==null){if(e===t.current)throw Error($(177));if(a=e.lanes|e.childLanes,a|=$N,RX(t,n,a,s,o,l),t===tt&&(Te=tt=null,Ne=0),Wd=e,Wo=t,ys=n,aS=a,sS=i,mz=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,rJ(k0,function(){return Nz(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=de.T,de.T=null,i=Ve.p,Ve.p=2,s=Me,Me|=4;try{GZ(t,e,n)}finally{Me=s,Ve.p=i,de.T=r}}yn=1,Ez(),Tz(),Sz()}}function Ez(){if(yn===1){yn=0;var t=Wo,e=Wd,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=de.T,de.T=null;var r=Ve.p;Ve.p=2;var i=Me;Me|=4;try{sz(e,t);var a=dS,s=BV(t.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&zV(o.ownerDocument.documentElement,o)){if(l!==null&&FN(o)){var c=l.start,u=l.end;if(u===void 0&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var h=o.ownerDocument||document,f=h&&h.defaultView||window;if(f.getSelection){var m=f.getSelection(),y=o.textContent.length,v=Math.min(l.start,y),x=l.end===void 0?v:Math.min(l.end,y);!m.extend&&v>x&&(s=x,x=v,v=s);var b=FO(o,v),w=FO(o,x);if(b&&w&&(m.rangeCount!==1||m.anchorNode!==b.node||m.anchorOffset!==b.offset||m.focusNode!==w.node||m.focusOffset!==w.offset)){var _=h.createRange();_.setStart(b.node,b.offset),m.removeAllRanges(),v>x?(m.addRange(_),m.extend(w.node,w.offset)):(_.setEnd(w.node,w.offset),m.addRange(_))}}}}for(h=[],m=o;m=m.parentNode;)m.nodeType===1&&h.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<h.length;o++){var T=h[o];T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}ix=!!uS,dS=uS=null}finally{Me=i,Ve.p=r,de.T=n}}t.current=e,yn=2}}function Tz(){if(yn===2){yn=0;var t=Wo,e=Wd,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=de.T,de.T=null;var r=Ve.p;Ve.p=2;var i=Me;Me|=4;try{tz(t,e.alternate,e)}finally{Me=i,Ve.p=r,de.T=n}}yn=3}}function Sz(){if(yn===4||yn===3){yn=0,EX();var t=Wo,e=Wd,n=ys,r=mz;e.subtreeFlags&10256||e.flags&10256?yn=5:(yn=0,Wd=Wo=null,Az(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Ko=null),DN(n),e=e.stateNode,si&&typeof si.onCommitFiberRoot=="function")try{si.onCommitFiberRoot(Ag,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=de.T,i=Ve.p,Ve.p=2,de.T=null;try{for(var a=t.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{de.T=e,Ve.p=i}}ys&3&&sw(),Wa(t),i=t.pendingLanes,n&261930&&i&42?t===oS?$m++:($m=0,oS=t):$m=0,kg(0)}}function Az(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,jg(e)))}function sw(){return Ez(),Tz(),Sz(),Nz()}function Nz(){if(yn!==5)return!1;var t=Wo,e=aS;aS=0;var n=DN(ys),r=de.T,i=Ve.p;try{Ve.p=32>n?32:n,de.T=null,n=sS,sS=null;var a=Wo,s=ys;if(yn=0,Wd=Wo=null,ys=0,Me&6)throw Error($(331));var o=Me;if(Me|=4,dz(a.current),lz(a,a.current,s,n),Me=o,kg(0,!1),si&&typeof si.onPostCommitFiberRoot=="function")try{si.onPostCommitFiberRoot(Ag,a)}catch{}return!0}finally{Ve.p=i,de.T=r,Az(t,e)}}function wk(t,e,n){e=ji(n,e),e=eS(t.stateNode,e,2),t=Go(t,e,2),t!==null&&(Ig(t,2),Wa(t))}function Ge(t,e,n){if(t.tag===3)wk(t,t,n);else for(;e!==null;){if(e.tag===3){wk(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ko===null||!Ko.has(r))){t=ji(n,t),n=FU(2),r=Go(e,n,2),r!==null&&($U(n,r,e,t),Ig(r,2),Wa(r));break}}e=e.return}}function aE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new YZ;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(gI=!0,i.add(n),t=eJ.bind(null,t,e,n),e.then(t,t))}function eJ(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,tt===t&&(Ne&n)===n&&(Ut===4||Ut===3&&(Ne&62914560)===Ne&&300>ai()-rw?!(Me&2)&&Yd(t,0):yI|=n,Kd===Ne&&(Kd=0)),Wa(t)}function Iz(t,e){e===0&&(e=xV()),t=pu(t,e),t!==null&&(Ig(t,e),Wa(t))}function tJ(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Iz(t,n)}function nJ(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error($(314))}r!==null&&r.delete(e),Iz(t,n)}function rJ(t,e){return ON(t,e)}var X0=null,Yu=null,lS=!1,Z0=!1,sE=!1,Vo=0;function Wa(t){t!==Yu&&t.next===null&&(Yu===null?X0=Yu=t:Yu=Yu.next=t),Z0=!0,lS||(lS=!0,aJ())}function kg(t,e){if(!sE&&Z0){sE=!0;do for(var n=!1,r=X0;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-oi(42|t)+1)-1,a&=i&~(s&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,_k(r,a))}else a=Ne,a=Gb(r,r===tt?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Ng(r,a)||(n=!0,_k(r,a));r=r.next}while(n);sE=!1}}function iJ(){Pz()}function Pz(){Z0=lS=!1;var t=0;Vo!==0&&pJ()&&(t=Vo);for(var e=ai(),n=null,r=X0;r!==null;){var i=r.next,a=Cz(r,e);a===0?(r.next=null,n===null?X0=i:n.next=i,i===null&&(Yu=n)):(n=r,(t!==0||a&3)&&(Z0=!0)),r=i}yn!==0&&yn!==5||kg(t),Vo!==0&&(Vo=0)}function Cz(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var s=31-oi(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=jX(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}if(e=tt,n=Ne,n=Gb(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&($e===2||$e===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&k1(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Ng(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&k1(r),DN(n)){case 2:case 8:n=yV;break;case 32:n=k0;break;case 268435456:n=vV;break;default:n=k0}return r=jz.bind(null,t),n=ON(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&k1(r),t.callbackPriority=2,t.callbackNode=null,2}function jz(t,e){if(yn!==0&&yn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(sw()&&t.callbackNode!==n)return null;var r=Ne;return r=Gb(t,t===tt?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(gz(t,r,e),Cz(t,ai()),t.callbackNode!=null&&t.callbackNode===n?jz.bind(null,t):null)}function _k(t,e){if(sw())return null;gz(t,e,!0)}function aJ(){yJ(function(){Me&6?ON(gV,iJ):Pz()})}function xI(){if(Vo===0){var t=qd;t===0&&(t=Yy,Yy<<=1,!(Yy&261888)&&(Yy=256)),Vo=t}return Vo}function Ek(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Gv(""+t)}function Tk(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function sJ(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=Ek((i[$r]||null).action),s=r.submitter;s&&(e=(e=s[$r]||null)?Ek(e.formAction):s.getAttribute("formAction"),e!==null&&(a=e,s=null));var o=new Kb("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Vo!==0){var l=s?Tk(i,s):new FormData(i);ZT(n,{pending:!0,data:l,method:i.method,action:a},null,l)}}else typeof a=="function"&&(o.preventDefault(),l=s?Tk(i,s):new FormData(i),ZT(n,{pending:!0,data:l,method:i.method,action:a},a,l))},currentTarget:i}]})}}for(var oE=0;oE<zT.length;oE++){var lE=zT[oE],oJ=lE.toLowerCase(),lJ=lE[0].toUpperCase()+lE.slice(1);sa(oJ,"on"+lJ)}sa($V,"onAnimationEnd");sa(qV,"onAnimationIteration");sa(HV,"onAnimationStart");sa("dblclick","onDoubleClick");sa("focusin","onFocus");sa("focusout","onBlur");sa(TZ,"onTransitionRun");sa(SZ,"onTransitionStart");sa(AZ,"onTransitionCancel");sa(GV,"onTransitionEnd");Fd("onMouseEnter",["mouseout","mouseover"]);Fd("onMouseLeave",["mouseout","mouseover"]);Fd("onPointerEnter",["pointerout","pointerover"]);Fd("onPointerLeave",["pointerout","pointerover"]);hu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hu("onBeforeInput",["compositionend","keypress","textInput","paste"]);hu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _p="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cJ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_p));function Rz(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){M0(u)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){M0(u)}i.currentTarget=null,a=l}}}}function _e(t,e){var n=e[RT];n===void 0&&(n=e[RT]=new Set);var r=t+"__bubble";n.has(r)||(Oz(e,t,2,!1),n.add(r))}function cE(t,e,n){var r=0;e&&(r|=4),Oz(n,t,r,e)}var av="_reactListening"+Math.random().toString(36).slice(2);function bI(t){if(!t[av]){t[av]=!0,TV.forEach(function(n){n!=="selectionchange"&&(cJ.has(n)||cE(n,!1,t),cE(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[av]||(e[av]=!0,cE("selectionchange",!1,e))}}function Oz(t,e,n,r){switch(Gz(e)){case 2:var i=LJ;break;case 8:i=VJ;break;default:i=TI}n=i.bind(null,e,n,t),i=void 0,!LT||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function uE(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;o!==null;){if(s=id(o),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue e}o=o.parentNode}}r=r.return}RV(function(){var c=a,u=VN(n),h=[];e:{var f=KV.get(t);if(f!==void 0){var m=Kb,y=t;switch(t){case"keypress":if(Wv(n)===0)break e;case"keydown":case"keyup":m=nZ;break;case"focusin":y="focus",m=U1;break;case"focusout":y="blur",m=U1;break;case"beforeblur":case"afterblur":m=U1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=RO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=qX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=aZ;break;case $V:case qV:case HV:m=KX;break;case GV:m=oZ;break;case"scroll":case"scrollend":m=FX;break;case"wheel":m=cZ;break;case"copy":case"cut":case"paste":m=YX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=kO;break;case"toggle":case"beforetoggle":m=dZ}var v=(e&4)!==0,x=!v&&(t==="scroll"||t==="scrollend"),b=v?f!==null?f+"Capture":null:f;v=[];for(var w=c,_;w!==null;){var T=w;if(_=T.stateNode,T=T.tag,T!==5&&T!==26&&T!==27||_===null||b===null||(T=mp(w,b),T!=null&&v.push(Ep(w,T,_))),x)break;w=w.return}0<v.length&&(f=new m(f,y,null,n,u),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==MT&&(y=n.relatedTarget||n.fromElement)&&(id(y)||y[kh]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=c,y=y?id(y):null,y!==null&&(x=Sg(y),v=y.tag,y!==x||v!==5&&v!==27&&v!==6)&&(y=null)):(m=null,y=c),m!==y)){if(v=RO,T="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=kO,T="onPointerLeave",b="onPointerEnter",w="pointer"),x=m==null?f:pm(m),_=y==null?f:pm(y),f=new v(T,w+"leave",m,n,u),f.target=x,f.relatedTarget=_,T=null,id(u)===c&&(v=new v(b,w+"enter",y,n,u),v.target=_,v.relatedTarget=x,T=v),x=T,m&&y)t:{for(v=uJ,b=m,w=y,_=0,T=b;T;T=v(T))_++;T=0;for(var I=w;I;I=v(I))T++;for(;0<_-T;)b=v(b),_--;for(;0<T-_;)w=v(w),T--;for(;_--;){if(b===w||w!==null&&b===w.alternate){v=b;break t}b=v(b),w=v(w)}v=null}else v=null;m!==null&&Sk(h,f,m,v,!1),y!==null&&x!==null&&Sk(h,x,y,v,!0)}}e:{if(f=c?pm(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var j=VO;else if(LO(f))if(VV)j=wZ;else{j=xZ;var A=vZ}else m=f.nodeName,!m||m.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?c&&LN(c.elementType)&&(j=VO):j=bZ;if(j&&(j=j(t,c))){LV(h,j,n,u);break e}A&&A(t,f,c),t==="focusout"&&c&&f.type==="number"&&c.memoizedProps.value!=null&&DT(f,"number",f.value)}switch(A=c?pm(c):window,t){case"focusin":(LO(A)||A.contentEditable==="true")&&(od=A,VT=c,km=null);break;case"focusout":km=VT=od=null;break;case"mousedown":UT=!0;break;case"contextmenu":case"mouseup":case"dragend":UT=!1,$O(h,n,u);break;case"selectionchange":if(EZ)break;case"keydown":case"keyup":$O(h,n,u)}var S;if(BN)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else sd?DV(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(kV&&n.locale!=="ko"&&(sd||P!=="onCompositionStart"?P==="onCompositionEnd"&&sd&&(S=OV()):(Do=u,UN="value"in Do?Do.value:Do.textContent,sd=!0)),A=J0(c,P),0<A.length&&(P=new OO(P,t,null,n,u),h.push({event:P,listeners:A}),S?P.data=S:(S=MV(n),S!==null&&(P.data=S)))),(S=fZ?mZ(t,n):pZ(t,n))&&(P=J0(c,"onBeforeInput"),0<P.length&&(A=new OO("onBeforeInput","beforeinput",null,n,u),h.push({event:A,listeners:P}),A.data=S)),sJ(h,t,c,n,u)}Rz(h,e)})}function Ep(t,e,n){return{instance:t,listener:e,currentTarget:n}}function J0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=mp(t,n),i!=null&&r.unshift(Ep(t,i,a)),i=mp(t,e),i!=null&&r.push(Ep(t,i,a))),t.tag===3)return r;t=t.return}return[]}function uJ(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Sk(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===r)break;o!==5&&o!==26&&o!==27||c===null||(l=c,i?(c=mp(n,a),c!=null&&s.unshift(Ep(n,c,l))):i||(c=mp(n,a),c!=null&&s.push(Ep(n,c,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var dJ=/\r\n?/g,hJ=/\u0000|\uFFFD/g;function Ak(t){return(typeof t=="string"?t:""+t).replace(dJ,`
`).replace(hJ,"")}function kz(t,e){return e=Ak(e),Ak(t)===e}function Ye(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||$d(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&$d(t,""+r);break;case"className":Zy(t,"class",r);break;case"tabIndex":Zy(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Zy(t,n,r);break;case"style":jV(t,r,a);break;case"data":if(e!=="object"){Zy(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Gv(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&Ye(t,e,"name",i.name,i,null),Ye(t,e,"formEncType",i.formEncType,i,null),Ye(t,e,"formMethod",i.formMethod,i,null),Ye(t,e,"formTarget",i.formTarget,i,null)):(Ye(t,e,"encType",i.encType,i,null),Ye(t,e,"method",i.method,i,null),Ye(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Gv(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=cs);break;case"onScroll":r!=null&&_e("scroll",t);break;case"onScrollEnd":r!=null&&_e("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error($(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error($(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=Gv(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":_e("beforetoggle",t),_e("toggle",t),Hv(t,"popover",r);break;case"xlinkActuate":Xa(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Xa(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Xa(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Xa(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Xa(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Xa(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Xa(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Xa(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Xa(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Hv(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=zX.get(n)||n,Hv(t,n,r))}}function cS(t,e,n,r,i,a){switch(n){case"style":jV(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error($(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error($(60));t.innerHTML=n}}break;case"children":typeof r=="string"?$d(t,r):(typeof r=="number"||typeof r=="bigint")&&$d(t,""+r);break;case"onScroll":r!=null&&_e("scroll",t);break;case"onScrollEnd":r!=null&&_e("scrollend",t);break;case"onClick":r!=null&&(t.onclick=cs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!SV.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[$r]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Hv(t,n,r)}}}function Qn(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",t),_e("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error($(137,e));default:Ye(t,e,a,s,n,null)}}i&&Ye(t,e,"srcSet",n.srcSet,n,null),r&&Ye(t,e,"src",n.src,n,null);return;case"input":_e("invalid",t);var o=a=s=i=null,l=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var u=n[r];if(u!=null)switch(r){case"name":i=u;break;case"type":s=u;break;case"checked":l=u;break;case"defaultChecked":c=u;break;case"value":a=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error($(137,e));break;default:Ye(t,e,r,u,n,null)}}IV(t,a,o,l,c,s,i,!1);return;case"select":_e("invalid",t),r=s=a=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":r=o;default:Ye(t,e,i,o,n,null)}e=a,n=s,t.multiple=!!r,e!=null?Sd(t,!!r,e,!1):n!=null&&Sd(t,!!r,n,!0);return;case"textarea":_e("invalid",t),a=i=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":i=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error($(91));break;default:Ye(t,e,s,o,n,null)}CV(t,r,i,a);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ye(t,e,l,r,n,null)}return;case"dialog":_e("beforetoggle",t),_e("toggle",t),_e("cancel",t),_e("close",t);break;case"iframe":case"object":_e("load",t);break;case"video":case"audio":for(r=0;r<_p.length;r++)_e(_p[r],t);break;case"image":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"embed":case"source":case"link":_e("error",t),_e("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error($(137,e));default:Ye(t,e,c,r,n,null)}return;default:if(LN(e)){for(u in n)n.hasOwnProperty(u)&&(r=n[u],r!==void 0&&cS(t,e,u,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&Ye(t,e,o,r,n,null))}function fJ(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,o=null,l=null,c=null,u=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&h!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":l=h;default:r.hasOwnProperty(m)||Ye(t,e,m,null,r,h)}}for(var f in r){var m=r[f];if(h=n[f],r.hasOwnProperty(f)&&(m!=null||h!=null))switch(f){case"type":a=m;break;case"name":i=m;break;case"checked":c=m;break;case"defaultChecked":u=m;break;case"value":s=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error($(137,e));break;default:m!==h&&Ye(t,e,f,m,r,h)}}kT(t,s,o,l,c,u,a,i);return;case"select":m=s=o=f=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":m=l;default:r.hasOwnProperty(a)||Ye(t,e,a,null,r,l)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(a!=null||l!=null))switch(i){case"value":f=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==l&&Ye(t,e,i,a,r,l)}e=o,n=s,r=m,f!=null?Sd(t,!!n,f,!1):!!r!=!!n&&(e!=null?Sd(t,!!n,e,!0):Sd(t,!!n,n?[]:"",!1));return;case"textarea":m=f=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Ye(t,e,o,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":f=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error($(91));break;default:i!==a&&Ye(t,e,s,i,r,a)}PV(t,f,m);return;case"option":for(var y in n)if(f=n[y],n.hasOwnProperty(y)&&f!=null&&!r.hasOwnProperty(y))switch(y){case"selected":t.selected=!1;break;default:Ye(t,e,y,null,r,f)}for(l in r)if(f=r[l],m=n[l],r.hasOwnProperty(l)&&f!==m&&(f!=null||m!=null))switch(l){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Ye(t,e,l,f,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in n)f=n[v],n.hasOwnProperty(v)&&f!=null&&!r.hasOwnProperty(v)&&Ye(t,e,v,null,r,f);for(c in r)if(f=r[c],m=n[c],r.hasOwnProperty(c)&&f!==m&&(f!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error($(137,e));break;default:Ye(t,e,c,f,r,m)}return;default:if(LN(e)){for(var x in n)f=n[x],n.hasOwnProperty(x)&&f!==void 0&&!r.hasOwnProperty(x)&&cS(t,e,x,void 0,r,f);for(u in r)f=r[u],m=n[u],!r.hasOwnProperty(u)||f===m||f===void 0&&m===void 0||cS(t,e,u,f,r,m);return}}for(var b in n)f=n[b],n.hasOwnProperty(b)&&f!=null&&!r.hasOwnProperty(b)&&Ye(t,e,b,null,r,f);for(h in r)f=r[h],m=n[h],!r.hasOwnProperty(h)||f===m||f==null&&m==null||Ye(t,e,h,f,r,m)}function Nk(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mJ(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,s=i.initiatorType,o=i.duration;if(a&&o&&Nk(s)){for(s=0,o=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>o)break;var u=l.transferSize,h=l.initiatorType;u&&Nk(h)&&(l=l.responseEnd,s+=u*(l<o?1:(o-c)/(l-c)))}if(--r,e+=8*(a+s)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var uS=null,dS=null;function ex(t){return t.nodeType===9?t:t.ownerDocument}function Ik(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dz(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function hS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dE=null;function pJ(){var t=window.event;return t&&t.type==="popstate"?t===dE?!1:(dE=t,!0):(dE=null,!1)}var Mz=typeof setTimeout=="function"?setTimeout:void 0,gJ=typeof clearTimeout=="function"?clearTimeout:void 0,Pk=typeof Promise=="function"?Promise:void 0,yJ=typeof queueMicrotask=="function"?queueMicrotask:typeof Pk<"u"?function(t){return Pk.resolve(null).then(t).catch(vJ)}:Mz;function vJ(t){setTimeout(function(){throw t})}function Al(t){return t==="head"}function Ck(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(i),Xd(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")qm(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,qm(n);for(var a=n.firstChild;a;){var s=a.nextSibling,o=a.nodeName;a[Pg]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=s}}else n==="body"&&qm(t.ownerDocument.body);n=i}while(n);Xd(e)}function jk(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function fS(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":fS(n),MN(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function xJ(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Pg])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=Li(t.nextSibling),t===null)break}return null}function bJ(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Li(t.nextSibling),t===null))return null;return t}function Lz(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Li(t.nextSibling),t===null))return null;return t}function mS(t){return t.data==="$?"||t.data==="$~"}function pS(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function wJ(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Li(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var gS=null;function Rk(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Li(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Ok(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function Vz(t,e,n){switch(e=ex(n),t){case"html":if(t=e.documentElement,!t)throw Error($(452));return t;case"head":if(t=e.head,!t)throw Error($(453));return t;case"body":if(t=e.body,!t)throw Error($(454));return t;default:throw Error($(451))}}function qm(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);MN(t)}var Ui=new Map,kk=new Set;function tx(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ks=Ve.d;Ve.d={f:_J,r:EJ,D:TJ,C:SJ,L:AJ,m:NJ,X:PJ,S:IJ,M:CJ};function _J(){var t=Ks.f(),e=iw();return t||e}function EJ(t){var e=Dh(t);e!==null&&e.tag===5&&e.type==="form"?jU(e):Ks.r(t)}var Uh=typeof document>"u"?null:document;function Uz(t,e,n){var r=Uh;if(r&&typeof e=="string"&&e){var i=Ci(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),kk.has(i)||(kk.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),Qn(e,"link",t),On(e),r.head.appendChild(e)))}}function TJ(t){Ks.D(t),Uz("dns-prefetch",t,null)}function SJ(t,e){Ks.C(t,e),Uz("preconnect",t,e)}function AJ(t,e,n){Ks.L(t,e,n);var r=Uh;if(r&&t&&e){var i='link[rel="preload"][as="'+Ci(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Ci(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Ci(n.imageSizes)+'"]')):i+='[href="'+Ci(t)+'"]';var a=i;switch(e){case"style":a=Qd(t);break;case"script":a=zh(t)}Ui.has(a)||(t=xt({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Ui.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(Dg(a))||e==="script"&&r.querySelector(Mg(a))||(e=r.createElement("link"),Qn(e,"link",t),On(e),r.head.appendChild(e)))}}function NJ(t,e){Ks.m(t,e);var n=Uh;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Ci(r)+'"][href="'+Ci(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=zh(t)}if(!Ui.has(a)&&(t=xt({rel:"modulepreload",href:t},e),Ui.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Mg(a)))return}r=n.createElement("link"),Qn(r,"link",t),On(r),n.head.appendChild(r)}}}function IJ(t,e,n){Ks.S(t,e,n);var r=Uh;if(r&&t){var i=Td(r).hoistableStyles,a=Qd(t);e=e||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Dg(a)))o.loading=5;else{t=xt({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Ui.get(a))&&wI(t,n);var l=s=r.createElement("link");On(l),Qn(l,"link",t),l._p=new Promise(function(c,u){l.onload=c,l.onerror=u}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,n0(s,e,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}}function PJ(t,e){Ks.X(t,e);var n=Uh;if(n&&t){var r=Td(n).hoistableScripts,i=zh(t),a=r.get(i);a||(a=n.querySelector(Mg(i)),a||(t=xt({src:t,async:!0},e),(e=Ui.get(i))&&_I(t,e),a=n.createElement("script"),On(a),Qn(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function CJ(t,e){Ks.M(t,e);var n=Uh;if(n&&t){var r=Td(n).hoistableScripts,i=zh(t),a=r.get(i);a||(a=n.querySelector(Mg(i)),a||(t=xt({src:t,async:!0,type:"module"},e),(e=Ui.get(i))&&_I(t,e),a=n.createElement("script"),On(a),Qn(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function Dk(t,e,n,r){var i=(i=$o.current)?tx(i):null;if(!i)throw Error($(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Qd(n.href),n=Td(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Qd(n.href);var a=Td(i).hoistableStyles,s=a.get(t);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,s),(a=i.querySelector(Dg(t)))&&!a._p&&(s.instance=a,s.state.loading=5),Ui.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ui.set(t,n),a||jJ(i,t,n,s.state))),e&&r===null)throw Error($(528,""));return s}if(e&&r!==null)throw Error($(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=zh(n),n=Td(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error($(444,t))}}function Qd(t){return'href="'+Ci(t)+'"'}function Dg(t){return'link[rel="stylesheet"]['+t+"]"}function zz(t){return xt({},t,{"data-precedence":t.precedence,precedence:null})}function jJ(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Qn(e,"link",n),On(e),t.head.appendChild(e))}function zh(t){return'[src="'+Ci(t)+'"]'}function Mg(t){return"script[async]"+t}function Mk(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Ci(n.href)+'"]');if(r)return e.instance=r,On(r),r;var i=xt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),On(r),Qn(r,"style",i),n0(r,n.precedence,t),e.instance=r;case"stylesheet":i=Qd(n.href);var a=t.querySelector(Dg(i));if(a)return e.state.loading|=4,e.instance=a,On(a),a;r=zz(n),(i=Ui.get(i))&&wI(r,i),a=(t.ownerDocument||t).createElement("link"),On(a);var s=a;return s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),Qn(a,"link",r),e.state.loading|=4,n0(a,n.precedence,t),e.instance=a;case"script":return a=zh(n.src),(i=t.querySelector(Mg(a)))?(e.instance=i,On(i),i):(r=n,(i=Ui.get(a))&&(r=xt({},n),_I(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),On(i),Qn(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error($(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,n0(r,n.precedence,t));return e.instance}function n0(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===e)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function wI(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function _I(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var r0=null;function Lk(t,e,n){if(r0===null){var r=new Map,i=r0=new Map;i.set(n,r)}else i=r0,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[Pg]||a[Gn]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(e)||"";s=t+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function Vk(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function RJ(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Bz(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function OJ(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Qd(r.href),a=e.querySelector(Dg(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=nx.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,On(a);return}a=e.ownerDocument||e,r=zz(r),(i=Ui.get(i))&&wI(r,i),a=a.createElement("link"),On(a);var s=a;s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),Qn(a,"link",r),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=nx.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var hE=0;function kJ(t,e){return t.stylesheets&&t.count===0&&i0(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&i0(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&hE===0&&(hE=62500*mJ());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&i0(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>hE?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function nx(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)i0(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var rx=null;function i0(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,rx=new Map,e.forEach(DJ,t),rx=null,nx.call(t))}function DJ(t,e){if(!(e.state.loading&4)){var n=rx.get(t);if(n)var r=n.get(null);else{n=new Map,rx.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}i=e.instance,s=i.getAttribute("data-precedence"),a=n.get(s)||r,a===r&&n.set(null,i),n.set(s,i),this.count++,r=nx.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Tp={$$typeof:ls,Provider:null,Consumer:null,_currentValue:Ec,_currentValue2:Ec,_threadCount:0};function MJ(t,e,n,r,i,a,s,o,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=D1(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=D1(0),this.hiddenUpdates=D1(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function Fz(t,e,n,r,i,a,s,o,l,c,u,h){return t=new MJ(t,e,n,s,l,c,u,h,o),e=1,a===!0&&(e|=24),a=ti(3,null,null,e),t.current=a,a.stateNode=t,e=WN(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},XN(a),t}function $z(t){return t?(t=ud,t):ud}function qz(t,e,n,r,i,a){i=$z(i),r.context===null?r.context=i:r.pendingContext=i,r=Ho(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Go(t,r,e),n!==null&&(Fr(n,t,e),Mm(n,t,e))}function Uk(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function EI(t,e){Uk(t,e),(t=t.alternate)&&Uk(t,e)}function Hz(t){if(t.tag===13||t.tag===31){var e=pu(t,67108864);e!==null&&Fr(e,t,67108864),EI(t,67108864)}}function zk(t){if(t.tag===13||t.tag===31){var e=li();e=kN(e);var n=pu(t,e);n!==null&&Fr(n,t,e),EI(t,e)}}var ix=!0;function LJ(t,e,n,r){var i=de.T;de.T=null;var a=Ve.p;try{Ve.p=2,TI(t,e,n,r)}finally{Ve.p=a,de.T=i}}function VJ(t,e,n,r){var i=de.T;de.T=null;var a=Ve.p;try{Ve.p=8,TI(t,e,n,r)}finally{Ve.p=a,de.T=i}}function TI(t,e,n,r){if(ix){var i=yS(r);if(i===null)uE(t,e,r,ax,n),Bk(t,r);else if(zJ(i,t,e,n,r))r.stopPropagation();else if(Bk(t,r),e&4&&-1<UJ.indexOf(t)){for(;i!==null;){var a=Dh(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Zl(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-oi(s);o.entanglements[1]|=l,s&=~l}Wa(a),!(Me&6)&&(W0=ai()+500,kg(0))}}break;case 31:case 13:o=pu(a,2),o!==null&&Fr(o,a,2),iw(),EI(a,2)}if(a=yS(r),a===null&&uE(t,e,r,ax,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else uE(t,e,r,null,n)}}function yS(t){return t=VN(t),SI(t)}var ax=null;function SI(t){if(ax=null,t=id(t),t!==null){var e=Sg(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=dV(e),t!==null)return t;t=null}else if(n===31){if(t=hV(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return ax=t,null}function Gz(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(TX()){case gV:return 2;case yV:return 8;case k0:case SX:return 32;case vV:return 268435456;default:return 32}default:return 32}}var vS=!1,Yo=null,Qo=null,Xo=null,Sp=new Map,Ap=new Map,jo=[],UJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bk(t,e){switch(t){case"focusin":case"focusout":Yo=null;break;case"dragenter":case"dragleave":Qo=null;break;case"mouseover":case"mouseout":Xo=null;break;case"pointerover":case"pointerout":Sp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ap.delete(e.pointerId)}}function $f(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Dh(e),e!==null&&Hz(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function zJ(t,e,n,r,i){switch(e){case"focusin":return Yo=$f(Yo,t,e,n,r,i),!0;case"dragenter":return Qo=$f(Qo,t,e,n,r,i),!0;case"mouseover":return Xo=$f(Xo,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Sp.set(a,$f(Sp.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ap.set(a,$f(Ap.get(a)||null,t,e,n,r,i)),!0}return!1}function Kz(t){var e=id(t.target);if(e!==null){var n=Sg(e);if(n!==null){if(e=n.tag,e===13){if(e=dV(n),e!==null){t.blockedOn=e,SO(t.priority,function(){zk(n)});return}}else if(e===31){if(e=hV(n),e!==null){t.blockedOn=e,SO(t.priority,function(){zk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function a0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=yS(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);MT=r,n.target.dispatchEvent(r),MT=null}else return e=Dh(n),e!==null&&Hz(e),t.blockedOn=n,!1;e.shift()}return!0}function Fk(t,e,n){a0(t)&&n.delete(e)}function BJ(){vS=!1,Yo!==null&&a0(Yo)&&(Yo=null),Qo!==null&&a0(Qo)&&(Qo=null),Xo!==null&&a0(Xo)&&(Xo=null),Sp.forEach(Fk),Ap.forEach(Fk)}function sv(t,e){t.blockedOn===e&&(t.blockedOn=null,vS||(vS=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,BJ)))}var ov=null;function $k(t){ov!==t&&(ov=t,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,function(){ov===t&&(ov=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(SI(r||n)===null)continue;break}var a=Dh(n);a!==null&&(t.splice(e,3),e-=3,ZT(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Xd(t){function e(l){return sv(l,t)}Yo!==null&&sv(Yo,t),Qo!==null&&sv(Qo,t),Xo!==null&&sv(Xo,t),Sp.forEach(e),Ap.forEach(e);for(var n=0;n<jo.length;n++){var r=jo[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<jo.length&&(n=jo[0],n.blockedOn===null);)Kz(n),n.blockedOn===null&&jo.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[$r]||null;if(typeof a=="function")s||$k(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[$r]||null)o=s.formAction;else if(SI(i)!==null)continue}else o=s.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),$k(n)}}}function Wz(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(s){return i=s})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function AI(t){this._internalRoot=t}ow.prototype.render=AI.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));var n=e.current,r=li();qz(n,r,t,e,null,null)};ow.prototype.unmount=AI.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qz(t.current,2,null,t,null,null),iw(),e[kh]=null}};function ow(t){this._internalRoot=t}ow.prototype.unstable_scheduleHydration=function(t){if(t){var e=EV();t={blockedOn:null,target:t,priority:e};for(var n=0;n<jo.length&&e!==0&&e<jo[n].priority;n++);jo.splice(n,0,t),n===0&&Kz(t)}};var qk=cV.version;if(qk!=="19.2.0")throw Error($(527,qk,"19.2.0"));Ve.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=yX(e),t=t!==null?fV(t):null,t=t===null?null:t.stateNode,t};var FJ={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:de,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lv.isDisabled&&lv.supportsFiber)try{Ag=lv.inject(FJ),si=lv}catch{}}$b.createRoot=function(t,e){if(!uV(t))throw Error($(299));var n=!1,r="",i=UU,a=zU,s=BU;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Fz(t,1,!1,null,null,n,r,null,i,a,s,Wz),t[kh]=e.current,bI(t),new AI(e)};$b.hydrateRoot=function(t,e,n){if(!uV(t))throw Error($(299));var r=!1,i="",a=UU,s=zU,o=BU,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=Fz(t,1,!0,e,n??null,r,i,l,a,s,o,Wz),e.context=$z(null),n=e.current,r=li(),r=kN(r),i=Ho(r),i.callback=null,Go(n,i,r),n=r,e.current.lanes=n,Ig(e,n),Wa(e),t[kh]=e.current,bI(t),new ow(e)};$b.version="19.2.0";function Yz(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yz)}catch(t){console.error(t)}}Yz(),rV.exports=$b;var $J=rV.exports;const qJ=Ga($J);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Hk="popstate";function HJ(t={}){function e(i,a){let{pathname:s="/",search:o="",hash:l=""}=yu(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),xS("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");o=c===-1?l:l.slice(0,c)}return o+"#"+(typeof a=="string"?a:Np(a))}function r(i,a){pi(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return KJ(e,n,r,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GJ(){return Math.random().toString(36).substring(2,10)}function Gk(t,e){return{usr:t.state,key:t.key,idx:e}}function xS(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?yu(e):e,state:n,key:e&&e.key||r||GJ()}}function Np({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function yu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function KJ(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",l=null,c=u();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function u(){return(s.state||{idx:null}).idx}function h(){o="POP";let x=u(),b=x==null?null:x-c;c=x,l&&l({action:o,location:v.location,delta:b})}function f(x,b){o="PUSH";let w=xS(v.location,x,b);n&&n(w,x),c=u()+1;let _=Gk(w,c),T=v.createHref(w);try{s.pushState(_,"",T)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(T)}a&&l&&l({action:o,location:v.location,delta:1})}function m(x,b){o="REPLACE";let w=xS(v.location,x,b);n&&n(w,x),c=u();let _=Gk(w,c),T=v.createHref(w);s.replaceState(_,"",T),a&&l&&l({action:o,location:v.location,delta:0})}function y(x){return WJ(x)}let v={get action(){return o},get location(){return t(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Hk,h),l=x,()=>{i.removeEventListener(Hk,h),l=null}},createHref(x){return e(i,x)},createURL:y,encodeLocation(x){let b=y(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:m,go(x){return s.go(x)}};return v}function WJ(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),It(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Np(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Qz(t,e,n="/"){return YJ(t,e,n,!1)}function YJ(t,e,n,r){let i=typeof e=="string"?yu(e):e,a=Cs(i.pathname||"/",n);if(a==null)return null;let s=Xz(t);QJ(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=oee(a);o=aee(s[l],c,r)}return o}function Xz(t,e=[],n=[],r="",i=!1){let a=(s,o,l=i,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(r)&&l)return;It(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length)}let h=vs([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(It(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Xz(s.children,e,f,h,l)),!(s.path==null&&!s.index)&&e.push({path:h,score:ree(h,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of Zz(s.path))a(s,o,!0,c)}),e}function Zz(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=Zz(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function QJ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:iee(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var XJ=/^:[\w-]+$/,ZJ=3,JJ=2,eee=1,tee=10,nee=-2,Kk=t=>t==="*";function ree(t,e){let n=t.split("/"),r=n.length;return n.some(Kk)&&(r+=nee),e&&(r+=JJ),n.filter(i=>!Kk(i)).reduce((i,a)=>i+(XJ.test(a)?ZJ:a===""?eee:tee),r)}function iee(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function aee(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=a==="/"?e:e.slice(a.length)||"/",h=sx({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=sx({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:vs([a,h.pathname]),pathnameBase:hee(vs([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=vs([a,h.pathnameBase]))}return s}function sx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=see(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:h},f)=>{if(u==="*"){let y=o[f]||"";s=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[f];return h&&!m?c[u]=void 0:c[u]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function see(t,e=!1,n=!0){pi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function oee(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Cs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var lee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cee=t=>lee.test(t);function uee(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?yu(t):t,a;if(n)if(cee(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),pi(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?a=Wk(n.substring(1),"/"):a=Wk(n,e)}else a=e;return{pathname:a,search:fee(r),hash:mee(i)}}function Wk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function fE(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dee(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function NI(t){let e=dee(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function II(t,e,n,r=!1){let i;typeof t=="string"?i=yu(t):(i={...t},It(!i.pathname||!i.pathname.includes("?"),fE("?","pathname","search",i)),It(!i.pathname||!i.pathname.includes("#"),fE("#","pathname","hash",i)),It(!i.search||!i.search.includes("#"),fE("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=uee(i,o),c=s&&s!=="/"&&s.endsWith("/"),u=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var vs=t=>t.join("/").replace(/\/\/+/g,"/"),hee=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fee=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mee=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pee(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Jz=["POST","PUT","PATCH","DELETE"];new Set(Jz);var gee=["GET",...Jz];new Set(gee);var Bh=g.createContext(null);Bh.displayName="DataRouter";var lw=g.createContext(null);lw.displayName="DataRouterState";g.createContext(!1);var e9=g.createContext({isTransitioning:!1});e9.displayName="ViewTransition";var yee=g.createContext(new Map);yee.displayName="Fetchers";var vee=g.createContext(null);vee.displayName="Await";var oa=g.createContext(null);oa.displayName="Navigation";var Lg=g.createContext(null);Lg.displayName="Location";var la=g.createContext({outlet:null,matches:[],isDataRoute:!1});la.displayName="Route";var PI=g.createContext(null);PI.displayName="RouteError";function xee(t,{relative:e}={}){It(Fh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=g.useContext(oa),{hash:i,pathname:a,search:s}=Vg(t,{relative:e}),o=a;return n!=="/"&&(o=a==="/"?n:vs([n,a])),r.createHref({pathname:o,search:s,hash:i})}function Fh(){return g.useContext(Lg)!=null}function ca(){return It(Fh(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Lg).location}var t9="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function n9(t){g.useContext(oa).static||g.useLayoutEffect(t)}function Hi(){let{isDataRoute:t}=g.useContext(la);return t?kee():bee()}function bee(){It(Fh(),"useNavigate() may be used only in the context of a <Router> component.");let t=g.useContext(Bh),{basename:e,navigator:n}=g.useContext(oa),{matches:r}=g.useContext(la),{pathname:i}=ca(),a=JSON.stringify(NI(r)),s=g.useRef(!1);return n9(()=>{s.current=!0}),g.useCallback((l,c={})=>{if(pi(s.current,t9),!s.current)return;if(typeof l=="number"){n.go(l);return}let u=II(l,JSON.parse(a),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:vs([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,a,i,t])}var wee=g.createContext(null);function _ee(t){let e=g.useContext(la).outlet;return g.useMemo(()=>e&&g.createElement(wee.Provider,{value:t},e),[e,t])}function Vg(t,{relative:e}={}){let{matches:n}=g.useContext(la),{pathname:r}=ca(),i=JSON.stringify(NI(n));return g.useMemo(()=>II(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Eee(t,e){return r9(t,e)}function r9(t,e,n,r,i){var w;It(Fh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=g.useContext(oa),{matches:s}=g.useContext(la),o=s[s.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",h=o&&o.route;{let _=h&&h.path||"";i9(c,!h||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let f=ca(),m;if(e){let _=typeof e=="string"?yu(e):e;It(u==="/"||((w=_.pathname)==null?void 0:w.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${_.pathname}" was given in the \`location\` prop.`),m=_}else m=f;let y=m.pathname||"/",v=y;if(u!=="/"){let _=u.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=Qz(t,{pathname:v});pi(h||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),pi(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=Iee(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:vs([u,a.encodeLocation?a.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?u:vs([u,a.encodeLocation?a.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),s,n,r,i);return e&&b?g.createElement(Lg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},b):b}function Tee(){let t=Oee(),e=pee(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:a},"ErrorBoundary")," or"," ",g.createElement("code",{style:a},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:i},n):null,s)}var See=g.createElement(Tee,null),Aee=class extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?g.createElement(la.Provider,{value:this.props.routeContext},g.createElement(PI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Nee({routeContext:t,match:e,children:n}){let r=g.useContext(Bh);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),g.createElement(la.Provider,{value:t},n)}function Iee(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n==null?void 0:n.errors;if(s!=null){let u=a.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);It(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,u+1))}let o=!1,l=-1;if(n)for(let u=0;u<a.length;u++){let h=a[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=u),h.route.id){let{loaderData:f,errors:m}=n,y=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}let c=n&&r?(u,h)=>{var f,m;r(u,{location:n.location,params:((m=(f=n.matches)==null?void 0:f[0])==null?void 0:m.params)??{},errorInfo:h})}:void 0;return a.reduceRight((u,h,f)=>{let m,y=!1,v=null,x=null;n&&(m=s&&h.route.id?s[h.route.id]:void 0,v=h.route.errorElement||See,o&&(l<0&&f===0?(i9("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,x=null):l===f&&(y=!0,x=h.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,f+1)),w=()=>{let _;return m?_=v:y?_=x:h.route.Component?_=g.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=u,g.createElement(Nee,{match:h,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?g.createElement(Aee,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:c}):w()},null)}function CI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pee(t){let e=g.useContext(Bh);return It(e,CI(t)),e}function Cee(t){let e=g.useContext(lw);return It(e,CI(t)),e}function jee(t){let e=g.useContext(la);return It(e,CI(t)),e}function jI(t){let e=jee(t),n=e.matches[e.matches.length-1];return It(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Ree(){return jI("useRouteId")}function Oee(){var r;let t=g.useContext(PI),e=Cee("useRouteError"),n=jI("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function kee(){let{router:t}=Pee("useNavigate"),e=jI("useNavigate"),n=g.useRef(!1);return n9(()=>{n.current=!0}),g.useCallback(async(i,a={})=>{pi(n.current,t9),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var Yk={};function i9(t,e,n){!e&&!Yk[t]&&(Yk[t]=!0,pi(!1,n))}g.memo(Dee);function Dee({routes:t,future:e,state:n,unstable_onError:r}){return r9(t,void 0,n,r,e)}function Qk({to:t,replace:e,state:n,relative:r}){It(Fh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=g.useContext(oa);pi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=g.useContext(la),{pathname:s}=ca(),o=Hi(),l=II(t,NI(a),s,r==="path"),c=JSON.stringify(l);return g.useEffect(()=>{o(JSON.parse(c),{replace:e,state:n,relative:r})},[o,c,r,e,n]),null}function a9(t){return _ee(t.context)}function rt(t){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Mee({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){It(!Fh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),o=g.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof n=="string"&&(n=yu(n));let{pathname:l="/",search:c="",hash:u="",state:h=null,key:f="default"}=n,m=g.useMemo(()=>{let y=Cs(l,s);return y==null?null:{location:{pathname:y,search:c,hash:u,state:h,key:f},navigationType:r}},[s,l,c,u,h,f,r]);return pi(m!=null,`<Router basename="${s}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:g.createElement(oa.Provider,{value:o},g.createElement(Lg.Provider,{children:e,value:m}))}function Lee({children:t,location:e}){return Eee(bS(t),e)}function bS(t,e=[]){let n=[];return g.Children.forEach(t,(r,i)=>{if(!g.isValidElement(r))return;let a=[...e,i];if(r.type===g.Fragment){n.push.apply(n,bS(r.props.children,a));return}It(r.type===rt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=bS(r.props.children,a)),n.push(s)}),n}var s0="get",o0="application/x-www-form-urlencoded";function cw(t){return t!=null&&typeof t.tagName=="string"}function Vee(t){return cw(t)&&t.tagName.toLowerCase()==="button"}function Uee(t){return cw(t)&&t.tagName.toLowerCase()==="form"}function zee(t){return cw(t)&&t.tagName.toLowerCase()==="input"}function Bee(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Fee(t,e){return t.button===0&&(!e||e==="_self")&&!Bee(t)}var cv=null;function $ee(){if(cv===null)try{new FormData(document.createElement("form"),0),cv=!1}catch{cv=!0}return cv}var qee=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mE(t){return t!=null&&!qee.has(t)?(pi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${o0}"`),null):t}function Hee(t,e){let n,r,i,a,s;if(Uee(t)){let o=t.getAttribute("action");r=o?Cs(o,e):null,n=t.getAttribute("method")||s0,i=mE(t.getAttribute("enctype"))||o0,a=new FormData(t)}else if(Vee(t)||zee(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?Cs(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||s0,i=mE(t.getAttribute("formenctype"))||mE(o.getAttribute("enctype"))||o0,a=new FormData(o,t),!$ee()){let{name:c,type:u,value:h}=t;if(u==="image"){let f=c?`${c}.`:"";a.append(`${f}x`,"0"),a.append(`${f}y`,"0")}else c&&a.append(c,h)}}else{if(cw(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=s0,r=null,i=o0,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function RI(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gee(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Cs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Kee(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Wee(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Yee(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await Kee(a,n);return s.links?s.links():[]}return[]}));return Jee(r.flat(1).filter(Wee).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Xk(t,e,n,r,i,a){let s=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,o=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return a==="assets"?e.filter((l,c)=>s(l,c)||o(l,c)):a==="data"?e.filter((l,c)=>{var h;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(s(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Qee(t,e,{includeHydrateFallback:n}={}){return Xee(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function Xee(t){return[...new Set(t)]}function Zee(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Jee(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(Zee(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function s9(){let t=g.useContext(Bh);return RI(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ete(){let t=g.useContext(lw);return RI(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var OI=g.createContext(void 0);OI.displayName="FrameworkContext";function o9(){let t=g.useContext(OI);return RI(t,"You must render this element inside a <HydratedRouter> element"),t}function tte(t,e){let n=g.useContext(OI),[r,i]=g.useState(!1),[a,s]=g.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:h}=e,f=g.useRef(null);g.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let v=b=>{b.forEach(w=>{s(w.isIntersecting)})},x=new IntersectionObserver(v,{threshold:.5});return f.current&&x.observe(f.current),()=>{x.disconnect()}}},[t]),g.useEffect(()=>{if(r){let v=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(v)}}},[r]);let m=()=>{i(!0)},y=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,f,{}]:[a,f,{onFocus:qf(o,m),onBlur:qf(l,y),onMouseEnter:qf(c,m),onMouseLeave:qf(u,y),onTouchStart:qf(h,m)}]:[!1,f,{}]}function qf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function nte({page:t,...e}){let{router:n}=s9(),r=g.useMemo(()=>Qz(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?g.createElement(ite,{page:t,matches:r,...e}):null}function rte(t){let{manifest:e,routeModules:n}=o9(),[r,i]=g.useState([]);return g.useEffect(()=>{let a=!1;return Yee(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function ite({page:t,matches:e,...n}){let r=ca(),{manifest:i,routeModules:a}=o9(),{basename:s}=s9(),{loaderData:o,matches:l}=ete(),c=g.useMemo(()=>Xk(t,e,l,i,r,"data"),[t,e,l,i,r]),u=g.useMemo(()=>Xk(t,e,l,i,r,"assets"),[t,e,l,i,r]),h=g.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let y=new Set,v=!1;if(e.forEach(b=>{var _;let w=i.routes[b.route.id];!w||!w.hasLoader||(!c.some(T=>T.route.id===b.route.id)&&b.route.id in o&&((_=a[b.route.id])!=null&&_.shouldRevalidate)||w.hasClientLoader?v=!0:y.add(b.route.id))}),y.size===0)return[];let x=Gee(t,s,"data");return v&&y.size>0&&x.searchParams.set("_routes",e.filter(b=>y.has(b.route.id)).map(b=>b.route.id).join(",")),[x.pathname+x.search]},[s,o,r,i,c,e,t,a]),f=g.useMemo(()=>Qee(u,i),[u,i]),m=rte(u);return g.createElement(g.Fragment,null,h.map(y=>g.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),f.map(y=>g.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),m.map(({key:y,link:v})=>g.createElement("link",{key:y,nonce:n.nonce,...v})))}function ate(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var l9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{l9&&(window.__reactRouterVersion="7.9.6")}catch{}function ste({basename:t,children:e,window:n}){let r=g.useRef();r.current==null&&(r.current=HJ({window:n,v5Compat:!0}));let i=r.current,[a,s]=g.useState({action:i.action,location:i.location}),o=g.useCallback(l=>{g.startTransition(()=>s(l))},[s]);return g.useLayoutEffect(()=>i.listen(o),[i,o]),g.createElement(Mee,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var c9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,He=g.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:h,...f},m){let{basename:y}=g.useContext(oa),v=typeof c=="string"&&c9.test(c),x,b=!1;if(typeof c=="string"&&v&&(x=c,l9))try{let P=new URL(window.location.href),C=c.startsWith("//")?new URL(P.protocol+c):new URL(c),R=Cs(C.pathname,y);C.origin===P.origin&&R!=null?c=R+C.search+C.hash:b=!0}catch{pi(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=xee(c,{relative:i}),[_,T,I]=tte(r,f),j=cte(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:h});function A(P){e&&e(P),P.defaultPrevented||j(P)}let S=g.createElement("a",{...f,...I,href:x||w,onClick:b||a?e:A,ref:ate(m,T),target:l,"data-discover":!v&&n==="render"?"true":void 0});return _&&!v?g.createElement(g.Fragment,null,S,g.createElement(nte,{page:w})):S});He.displayName="Link";var Ei=g.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:o,children:l,...c},u){let h=Vg(s,{relative:c.relative}),f=ca(),m=g.useContext(lw),{navigator:y,basename:v}=g.useContext(oa),x=m!=null&&mte(h)&&o===!0,b=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,w=f.pathname,_=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(w=w.toLowerCase(),_=_?_.toLowerCase():null,b=b.toLowerCase()),_&&v&&(_=Cs(_,v)||_);const T=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let I=w===b||!i&&w.startsWith(b)&&w.charAt(T)==="/",j=_!=null&&(_===b||!i&&_.startsWith(b)&&_.charAt(b.length)==="/"),A={isActive:I,isPending:j,isTransitioning:x},S=I?e:void 0,P;typeof r=="function"?P=r(A):P=[r,I?"active":null,j?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let C=typeof a=="function"?a(A):a;return g.createElement(He,{...c,"aria-current":S,className:P,ref:u,style:C,to:s,viewTransition:o},typeof l=="function"?l(A):l)});Ei.displayName="NavLink";var ote=g.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=s0,action:o,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:h,...f},m)=>{let y=hte(),v=fte(o,{relative:c}),x=s.toLowerCase()==="get"?"get":"post",b=typeof o=="string"&&c9.test(o),w=_=>{if(l&&l(_),_.defaultPrevented)return;_.preventDefault();let T=_.nativeEvent.submitter,I=(T==null?void 0:T.getAttribute("formmethod"))||s;y(T||_.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:i,state:a,relative:c,preventScrollReset:u,viewTransition:h})};return g.createElement("form",{ref:m,method:x,action:v,onSubmit:r?l:w,...f,"data-discover":!b&&t==="render"?"true":void 0})});ote.displayName="Form";function lte(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u9(t){let e=g.useContext(Bh);return It(e,lte(t)),e}function cte(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let o=Hi(),l=ca(),c=Vg(t,{relative:a});return g.useCallback(u=>{if(Fee(u,e)){u.preventDefault();let h=n!==void 0?n:Np(l)===Np(c);o(t,{replace:h,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[l,o,c,n,r,e,t,i,a,s])}var ute=0,dte=()=>`__${String(++ute)}__`;function hte(){let{router:t}=u9("useSubmit"),{basename:e}=g.useContext(oa),n=Ree();return g.useCallback(async(r,i={})=>{let{action:a,method:s,encType:o,formData:l,body:c}=Hee(r,e);if(i.navigate===!1){let u=i.fetcherKey||dte();await t.fetch(u,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function fte(t,{relative:e}={}){let{basename:n}=g.useContext(oa),r=g.useContext(la);It(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Vg(t||".",{relative:e})},s=ca();if(t==null){a.search=s.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(u=>u==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let u=o.toString();a.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:vs([n,a.pathname])),Np(a)}function mte(t,{relative:e}={}){let n=g.useContext(e9);It(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=u9("useViewTransitionState"),i=Vg(t,{relative:e});if(!n.isTransitioning)return!1;let a=Cs(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Cs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return sx(i.pathname,s)!=null||sx(i.pathname,a)!=null}/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pte=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gte=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Zk=t=>{const e=gte(t);return e.charAt(0).toUpperCase()+e.slice(1)},d9=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),yte=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xte=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>g.createElement("svg",{ref:l,...vte,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:d9("lucide",i),...!a&&!yte(o)&&{"aria-hidden":"true"},...o},[...s.map(([c,u])=>g.createElement(c,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=(t,e)=>{const n=g.forwardRef(({className:r,...i},a)=>g.createElement(xte,{ref:a,iconNode:e,className:d9(`lucide-${pte(Zk(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Zk(t),n};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Zd=te("arrow-right",bte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wte=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],h9=te("arrow-up-down",wte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _te=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ete=te("award",_te);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Ste=te("banknote",Tte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ate=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],uw=te("bell",Ate);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nte=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],md=te("calendar",Nte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Pte=te("camera",Ite);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],kI=te("chart-column",Cte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jte=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Rte=te("chart-pie",jte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ote=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],qc=te("check",Ote);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$h=te("chevron-down",kte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]],Mte=te("chevrons-down",Dte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ws=te("circle-alert",Lte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],DI=te("circle-check-big",Vte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],zte=te("circle-dollar-sign",Ute);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Fte=te("circle-question-mark",Bte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],qte=te("circle-x",$te);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]],Gte=te("clipboard-copy",Hte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Wte=te("clipboard-list",Kte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vu=te("clock",Yte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Xte=te("cloud-upload",Qte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],na=te("coffee",Zte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jte=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ene=te("crown",Jte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tne=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],f9=te("dollar-sign",tne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nne=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],wS=te("eye-off",nne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rne=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_S=te("eye",rne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ine=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],m9=te("facebook",ine);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ane=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],sne=te("file-image",ane);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const one=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Ip=te("gift",one);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lne=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],cne=te("hash",lne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const une=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],dne=te("history",une);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hne=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],fne=te("image",hne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],pne=te("info",mne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gne=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],p9=te("instagram",gne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yne=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],vne=te("key",yne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xne=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],bne=te("layout-dashboard",xne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wne=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],_ne=te("lightbulb",wne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ene=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],jt=te("loader-circle",Ene);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tne=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ox=te("lock",Tne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sne=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],lx=te("log-out",Sne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ane=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ma=te("mail",Ane);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nne=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],MI=te("map-pin",Nne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ine=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Pne=te("medal",Ine);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cne=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Jk=te("megaphone",Cne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jne=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],g9=te("menu",jne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rne=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],One=te("message-circle",Rne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kne=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],qh=te("message-square",kne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dne=[["path",{d:"M5 12h14",key:"1ays0h"}]],y9=te("minus",Dne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mne=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],cx=te("package",Mne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lne=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Vne=te("palette",Lne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Une=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],js=te("phone",Une);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zne=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ug=te("plus",zne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bne=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],Fne=te("quote",Bne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ne=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],v9=te("refresh-cw",$ne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qne=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],zg=te("save",qne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hne=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ux=te("search",Hne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gne=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],LI=te("send",Gne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kne=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],x9=te("settings",Kne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wne=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Yne=te("share-2",Wne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qne=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Pp=te("shield",Qne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xne=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],dw=te("shopping-bag",Xne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zne=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],VI=te("shopping-cart",Zne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jne=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],b9=te("square-pen",Jne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],w9=te("star",ere);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tre=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],nre=te("store",tre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],hw=te("trash-2",rre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Hm=te("trending-up",ire);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],UI=te("triangle-alert",are);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],_9=te("twitter",sre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ore=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],eD=te("upload",ore);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lre=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Rs=te("user",lre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Cp=te("users",cre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ure=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],E9=te("wallet",ure);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=[["path",{d:"M12 10v2.2l1.6 1",key:"n3r21l"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}]],hre=te("watch",dre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Nl=te("x",fre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mre=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],pre=te("zap",mre),fe=({children:t,className:e="",hover:n=!1,variant:r="default",padding:i="md",clickable:a=!1,onClick:s})=>{const o="rounded-2xl transition-all duration-300 ease-out",l={default:"border border-gray-100 bg-white/80 backdrop-blur-sm shadow-lg",elevated:"bg-white shadow-xl border-0",outlined:"border-2 border-primary-200 bg-white",glass:"bg-white/70 backdrop-blur-md border border-white/20 shadow-xl"},c={none:"",sm:"p-4",md:"p-6",lg:"p-8"},u=n?"hover:shadow-2xl hover:-translate-y-1 hover:scale-[1.02]":"",h=a?"cursor-pointer active:scale-[0.98]":"";return d.jsx("div",{className:`${o} ${l[r]} ${c[i]} ${u} ${h} ${e}`,onClick:a?s:void 0,role:a?"button":void 0,tabIndex:a?0:void 0,children:t})},Dn=({children:t,className:e="",variant:n="solid",color:r="primary",size:i="md"})=>{const a="inline-flex items-center gap-1.5 rounded-full font-medium",s={xs:"px-2 py-0.5 text-xs",sm:"px-2.5 py-1 text-xs",md:"px-3 py-1 text-sm",lg:"px-4 py-1.5 text-base"},o={primary:"bg-primary-100 text-primary-800",success:"bg-green-100 text-green-800",warning:"bg-amber-100 text-amber-800",error:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800",gray:"bg-gray-100 text-gray-800"},l={primary:"border-2 border-primary-300 text-primary-700 bg-transparent",success:"border-2 border-green-300 text-green-700 bg-transparent",warning:"border-2 border-amber-300 text-amber-700 bg-transparent",error:"border-2 border-red-300 text-red-700 bg-transparent",info:"border-2 border-blue-300 text-blue-700 bg-transparent",gray:"border-2 border-gray-300 text-gray-700 bg-transparent"},c={primary:"bg-primary-500",success:"bg-green-500",warning:"bg-amber-500",error:"bg-red-500",info:"bg-blue-500",gray:"bg-gray-500"},u=n==="outline"?l[r]:o[r];return d.jsxs("span",{className:`${a} ${s[i]} ${u} ${e}`,children:[n==="dot"&&d.jsx("span",{className:`h-2 w-2 rounded-full ${c[r]} animate-pulse`}),t]})},gre=()=>{};var tD={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yre=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},S9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,h=(a&3)<<4|o>>4;let f=(o&15)<<2|c>>6,m=c&63;l||(m=64,s||(f=64)),r.push(n[u],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(T9(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yre(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||c==null||h==null)throw new vre;const f=a<<2|o>>4;if(r.push(f),c!==64){const m=o<<4&240|c>>2;if(r.push(m),h!==64){const y=c<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vre extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xre=function(t){const e=T9(t);return S9.encodeByteArray(e,!0)},dx=function(t){return xre(t).replace(/\./g,"")},zI=function(t){try{return S9.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hx(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!bre(n)||(t[n]=hx(t[n],e[n]));return t}function bre(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wre=()=>BI().__FIREBASE_DEFAULTS__,_re=()=>{if(typeof process>"u"||typeof tD>"u")return;const t=tD.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ere=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zI(t[1]);return e&&JSON.parse(e)},FI=()=>{try{return gre()||wre()||_re()||Ere()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$I=()=>{var t;return(t=FI())==null?void 0:t.config},Tre=t=>{var e;return(e=FI())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sre{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[dx(JSON.stringify(n)),dx(JSON.stringify(s)),""].join(".")}const Gm={};function Are(){const t={prod:[],emulator:[]};for(const e of Object.keys(Gm))Gm[e]?t.emulator.push(e):t.prod.push(e);return t}function Nre(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let nD=!1;function HI(t,e){if(typeof window>"u"||typeof document>"u"||!Il(window.location.host)||Gm[t]===e||Gm[t]||nD)return;Gm[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",a=Are().prod.length>0;function s(){const f=document.getElementById(r);f&&f.remove()}function o(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{nD=!0,s()},f}function u(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=Nre(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),v=n("learnmore"),x=document.getElementById(v)||document.createElement("a"),b=n("preprendIcon"),w=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const _=f.element;o(_),u(x,v);const T=c();l(w,b),_.append(w,y,x,T),document.body.appendChild(_)}a?(y.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ire(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function fw(){var e;const t=(e=FI())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Pre(){return typeof window<"u"||N9()}function N9(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Cre(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function I9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function P9(){const t=Rt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function C9(){return!fw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j9(){return!fw()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function jp(){try{return typeof indexedDB=="object"}catch{return!1}}function jre(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rre="FirebaseError";class ur extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Rre,Object.setPrototypeOf(this,ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xu.prototype.create)}}class xu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?Ore(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new ur(i,o,r)}}function Ore(t,e){return t.replace(kre,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const kre=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Dre(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ll(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(iD(a)&&iD(s)){if(!ll(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function iD(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function vm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function R9(t,e){const n=new Mre(t,e);return n.subscribe.bind(n)}class Mre{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Lre(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=pE),i.error===void 0&&(i.error=pE),i.complete===void 0&&(i.complete=pE);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lre(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t){return t&&t._delegate?t._delegate:t}class zi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vre=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Sre;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zre(e))try{this.getOrInitializeService({instanceIdentifier:tc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=tc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=tc){return this.instances.has(e)}getOptions(e=tc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ure(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=tc){return this.component?this.component.multipleInstances?e:tc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Ure(t){return t===tc?void 0:t}function zre(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Vre(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=[];var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const k9={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},Bre=Ee.INFO,Fre={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},$re=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Fre[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mw{constructor(e){this.name=e,this._logLevel=Bre,this._logHandler=$re,this._userLogHandler=null,KI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}function qre(t){KI.forEach(e=>{e.setLogLevel(t)})}function Hre(t,e){for(const n of KI){let r=null;e&&e.level&&(r=k9[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,a,...s)=>{const o=s.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");a>=(r??i.logLevel)&&t({level:Ee[a].toLowerCase(),message:o,args:s,type:i.name})}}}const Gre=(t,e)=>e.some(n=>t instanceof n);let aD,sD;function Kre(){return aD||(aD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Wre(){return sD||(sD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D9=new WeakMap,ES=new WeakMap,M9=new WeakMap,gE=new WeakMap,WI=new WeakMap;function Yre(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(Zo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&D9.set(n,t)}).catch(()=>{}),WI.set(e,t),e}function Qre(t){if(ES.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});ES.set(t,e)}let TS={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ES.get(t);if(e==="objectStoreNames")return t.objectStoreNames||M9.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Xre(t){TS=t(TS)}function Zre(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(yE(this),e,...n);return M9.set(r,e.sort?e.sort():[e]),Zo(r)}:Wre().includes(t)?function(...e){return t.apply(yE(this),e),Zo(D9.get(this))}:function(...e){return Zo(t.apply(yE(this),e))}}function Jre(t){return typeof t=="function"?Zre(t):(t instanceof IDBTransaction&&Qre(t),Gre(t,Kre())?new Proxy(t,TS):t)}function Zo(t){if(t instanceof IDBRequest)return Yre(t);if(gE.has(t))return gE.get(t);const e=Jre(t);return e!==t&&(gE.set(t,e),WI.set(e,t)),e}const yE=t=>WI.get(t);function eie(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=Zo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Zo(s.result),l.oldVersion,l.newVersion,Zo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const tie=["get","getKey","getAll","getAllKeys","count"],nie=["put","add","delete","clear"],vE=new Map;function oD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vE.get(e))return vE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tie.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return vE.set(e,a),a}Xre(t=>({...t,get:(e,n,r)=>oD(e,n)||t.get(e,n,r),has:(e,n)=>!!oD(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rie{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iie(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function iie(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fx="@firebase/app",SS="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new mw("@firebase/app"),aie="@firebase/app-compat",sie="@firebase/analytics-compat",oie="@firebase/analytics",lie="@firebase/app-check-compat",cie="@firebase/app-check",uie="@firebase/auth",die="@firebase/auth-compat",hie="@firebase/database",fie="@firebase/data-connect",mie="@firebase/database-compat",pie="@firebase/functions",gie="@firebase/functions-compat",yie="@firebase/installations",vie="@firebase/installations-compat",xie="@firebase/messaging",bie="@firebase/messaging-compat",wie="@firebase/performance",_ie="@firebase/performance-compat",Eie="@firebase/remote-config",Tie="@firebase/remote-config-compat",Sie="@firebase/storage",Aie="@firebase/storage-compat",Nie="@firebase/firestore",Iie="@firebase/ai",Pie="@firebase/firestore-compat",Cie="firebase",jie="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl="[DEFAULT]",Rie={[fx]:"fire-core",[aie]:"fire-core-compat",[oie]:"fire-analytics",[sie]:"fire-analytics-compat",[cie]:"fire-app-check",[lie]:"fire-app-check-compat",[uie]:"fire-auth",[die]:"fire-auth-compat",[hie]:"fire-rtdb",[fie]:"fire-data-connect",[mie]:"fire-rtdb-compat",[pie]:"fire-fn",[gie]:"fire-fn-compat",[yie]:"fire-iid",[vie]:"fire-iid-compat",[xie]:"fire-fcm",[bie]:"fire-fcm-compat",[wie]:"fire-perf",[_ie]:"fire-perf-compat",[Eie]:"fire-rc",[Tie]:"fire-rc-compat",[Sie]:"fire-gcs",[Aie]:"fire-gcs-compat",[Nie]:"fire-fst",[Pie]:"fire-fst-compat",[Iie]:"fire-vertex","fire-js":"fire-js",[Cie]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=new Map,Jd=new Map,eh=new Map;function Rp(t,e){try{t.container.addComponent(e)}catch(n){Os.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function L9(t,e){t.container.addOrOverwriteComponent(e)}function ks(t){const e=t.name;if(eh.has(e))return Os.debug(`There were multiple attempts to register component ${e}.`),!1;eh.set(e,t);for(const n of ul.values())Rp(n,t);for(const n of Jd.values())Rp(n,t);return!0}function V9(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Oie(t,e,n=cl){V9(t,e).clearInstance(n)}function YI(t){return t.options!==void 0}function U9(t){return YI(t)?!1:"authIdToken"in t||"appCheckToken"in t||"releaseOnDeref"in t||"automaticDataCollectionEnabled"in t}function pt(t){return t==null?!1:t.settings!==void 0}function kie(){eh.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Die={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ci=new xu("app","Firebase",Die);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z9=class{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t,e){const n=zI(t.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(n).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3,a=new Date().getTime();i-a<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class Mie extends z9{constructor(e,n,r,i){const a=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!0,s={name:r,automaticDataCollectionEnabled:a};if(e.apiKey!==void 0)super(e,s,i);else{const o=e;super(o.options,s,i)}this._serverConfig={automaticDataCollectionEnabled:a,...n},this._serverConfig.authIdToken&&lD(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&lD(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,ui(fx,SS,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){XI(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ci.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=jie;function QI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:cl,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ci.create("bad-app-name",{appName:String(i)});if(n||(n=$I()),!n)throw ci.create("no-options");const a=ul.get(i);if(a){if(ll(n,a.options)&&ll(r,a.config))return a;throw ci.create("duplicate-app",{appName:i})}const s=new O9(i);for(const l of eh.values())s.addComponent(l);const o=new z9(n,r,s);return ul.set(i,o),o}function Lie(t,e={}){if(Pre()&&!N9())throw ci.create("invalid-server-app-environment");let n,r=e||{};if(t&&(YI(t)?n=t.options:U9(t)?r=t:n=t),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),n||(n=$I()),!n)throw ci.create("no-options");const i={...r,...n};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const a=u=>[...u].reduce((h,f)=>Math.imul(31,h)+f.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw ci.create("finalization-registry-not-supported",{});const s=""+a(JSON.stringify(i)),o=Jd.get(s);if(o)return o.incRefCount(r.releaseOnDeref),o;const l=new O9(s);for(const u of eh.values())l.addComponent(u);const c=new Mie(n,r,s,l);return Jd.set(s,c),c}function Vie(t=cl){const e=ul.get(t);if(!e&&t===cl&&$I())return QI();if(!e)throw ci.create("no-app",{appName:t});return e}function Uie(){return Array.from(ul.values())}async function XI(t){let e=!1;const n=t.name;ul.has(n)?(e=!0,ul.delete(n)):Jd.has(n)&&t.decRefCount()<=0&&(Jd.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function ui(t,e,n){let r=Rie[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Os.warn(s.join(" "));return}ks(new zi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function B9(t,e){if(t!==null&&typeof t!="function")throw ci.create("invalid-log-argument");Hre(t,e)}function F9(t){qre(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zie="firebase-heartbeat-database",Bie=1,Op="firebase-heartbeat-store";let xE=null;function $9(){return xE||(xE=eie(zie,Bie,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Op)}catch(n){console.warn(n)}}}}).catch(t=>{throw ci.create("idb-open",{originalErrorMessage:t.message})})),xE}async function Fie(t){try{const n=(await $9()).transaction(Op),r=await n.objectStore(Op).get(q9(t));return await n.done,r}catch(e){if(e instanceof ur)Os.warn(e.message);else{const n=ci.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Os.warn(n.message)}}}async function cD(t,e){try{const r=(await $9()).transaction(Op,"readwrite");await r.objectStore(Op).put(e,q9(t)),await r.done}catch(n){if(n instanceof ur)Os.warn(n.message);else{const r=ci.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Os.warn(r.message)}}}function q9(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ie=1024,qie=30;class Hie{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Kie(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=uD();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>qie){const s=Wie(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Os.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=uD(),{heartbeatsToSend:r,unsentEntries:i}=Gie(this._heartbeatsCache.heartbeats),a=dx(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Os.warn(n),""}}}function uD(){return new Date().toISOString().substring(0,10)}function Gie(t,e=$ie){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),dD(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Kie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jp()?jre().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Fie(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function dD(t){return dx(JSON.stringify({version:2,heartbeats:t})).length}function Wie(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yie(t){ks(new zi("platform-logger",e=>new rie(e),"PRIVATE")),ks(new zi("heartbeat",e=>new Hie(e),"PRIVATE")),ui(fx,SS,t),ui(fx,SS,"esm2020"),ui("fire-js","")}Yie("");const Qie=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:ur,SDK_VERSION:Ys,_DEFAULT_ENTRY_NAME:cl,_addComponent:Rp,_addOrOverwriteComponent:L9,_apps:ul,_clearComponents:kie,_components:eh,_getProvider:V9,_isFirebaseApp:YI,_isFirebaseServerApp:pt,_isFirebaseServerAppSettings:U9,_registerComponent:ks,_removeServiceInstance:Oie,_serverApps:Jd,deleteApp:XI,getApp:Vie,getApps:Uie,initializeApp:QI,initializeServerApp:Lie,onLog:B9,registerVersion:ui,setLogLevel:F9},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xie{constructor(e,n){this._delegate=e,this.firebase=n,Rp(e,new zi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),XI(this._delegate)))}_getService(e,n=cl){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=cl){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Rp(this._delegate,e)}_addOrOverwriteComponent(e){L9(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zie={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},hD=new xu("app-compat","Firebase",Zie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jie(t){const e={},n={__esModule:!0,initializeApp:a,app:i,registerVersion:ui,setLogLevel:F9,onLog:B9,apps:null,SDK_VERSION:Ys,INTERNAL:{registerComponent:o,removeApp:r,useAsService:l,modularAPIs:Qie}};n.default=n,Object.defineProperty(n,"apps",{get:s});function r(c){delete e[c]}function i(c){if(c=c||cl,!rD(e,c))throw hD.create("no-app",{appName:c});return e[c]}i.App=t;function a(c,u={}){const h=QI(c,u);if(rD(e,h.name))return e[h.name];const f=new t(h,n);return e[h.name]=f,f}function s(){return Object.keys(e).map(c=>e[c])}function o(c){const u=c.name,h=u.replace("-compat","");if(ks(c)&&c.type==="PUBLIC"){const f=(m=i())=>{if(typeof m[h]!="function")throw hD.create("invalid-app-argument",{appName:u});return m[h]()};c.serviceProps!==void 0&&hx(f,c.serviceProps),n[h]=f,t.prototype[h]=function(...m){return this._getService.bind(this,u).apply(this,c.multipleInstances?m:[])}}return c.type==="PUBLIC"?n[h]:null}function l(c,u){return u==="serverAuth"?null:u}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9(){const t=Jie(Xie);t.INTERNAL={...t.INTERNAL,createFirebaseNamespace:H9,extendNamespace:e,createSubscribe:R9,ErrorFactory:xu,deepExtend:hx};function e(n){hx(t,n)}return t}const eae=H9();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=new mw("@firebase/app-compat"),tae="@firebase/app-compat",nae="0.5.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rae(t){ui(tae,nae,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=BI();if(t.firebase!==void 0){fD.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&fD.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Je=eae;rae();var iae="firebase",aae="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Je.registerVersion(iae,aae,"app-compat");const Hf={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Du={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sae(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function G9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oae=sae,lae=G9,K9=new xu("auth","Firebase",G9());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=new mw("@firebase/auth");function cae(t,...e){mx.logLevel<=Ee.WARN&&mx.warn(`Auth (${Ys}): ${t}`,...e)}function l0(t,...e){mx.logLevel<=Ee.ERROR&&mx.error(`Auth (${Ys}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t,...e){throw JI(t,...e)}function xn(t,...e){return JI(t,...e)}function ZI(t,e,n){const r={...lae(),[e]:n};return new xu("auth","Firebase",r).create(e,{appName:t.name})}function Vn(t){return ZI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gh(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Zn(t,"argument-error"),ZI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function JI(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return K9.create(t,...e)}function W(t,e,...n){if(!t)throw JI(e,...n)}function Ta(t){const e="INTERNAL ASSERTION FAILED: "+t;throw l0(e),new Error(e)}function aa(t,e){t||Ta(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function eP(){return mD()==="http:"||mD()==="https:"}function mD(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uae(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eP()||I9()||"connection"in navigator)?navigator.onLine:!0}function dae(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n){this.shortDelay=e,this.longDelay=n,aa(n>e,"Short delay should be less than long delay!"),this.isMobile=Ire()||GI()}get(){return uae()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(t,e){aa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ta("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ta("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ta("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fae=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mae=new Bg(3e4,6e4);function Ft(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function $t(t,e,n,r,i={}){return Y9(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=Hh({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...a};return Cre()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Il(t.emulatorConfig.host)&&(c.credentials="include"),W9.fetch()(await Q9(t,t.config.apiHost,n,o),c)})}async function Y9(t,e,n){t._canInitEmulator=!1;const r={...hae,...e};try{const i=new gae(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw xm(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw xm(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw xm(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw xm(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ZI(t,u,c);Zn(t,u)}}catch(i){if(i instanceof ur)throw i;Zn(t,"network-request-failed",{message:String(i)})}}async function Qs(t,e,n,r,i={}){const a=await $t(t,e,n,r,i);return"mfaPendingCredential"in a&&Zn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Q9(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?tP(t.config,i):`${t.config.apiScheme}://${i}`;return fae.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function pae(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gae{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xn(this.auth,"network-request-failed")),mae.get())})}}function xm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=xn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t){return t!==void 0&&t.getResponse!==void 0}function gD(t){return t!==void 0&&t.enterprise!==void 0}class X9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pae(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yae(t){return(await $t(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function Z9(t,e){return $t(t,"GET","/v2/recaptchaConfig",Ft(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vae(t,e){return $t(t,"POST","/v1/accounts:delete",e)}async function xae(t,e){return $t(t,"POST","/v1/accounts:update",e)}async function px(t,e){return $t(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bae(t,e=!1){const n=le(t),r=await n.getIdToken(e),i=pw(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Km(bE(i.auth_time)),issuedAtTime:Km(bE(i.iat)),expirationTime:Km(bE(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function bE(t){return Number(t)*1e3}function pw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return l0("JWT malformed, contained fewer than 3 sections"),null;try{const i=zI(n);return i?JSON.parse(i):(l0("Failed to decode base64 JWT payload"),null)}catch(i){return l0("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function yD(t){const e=pw(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ds(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ur&&wae(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function wae({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ae{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Km(this.lastLoginAt),this.creationTime=Km(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dp(t){var h;const e=t.auth,n=await t.getIdToken(),r=await Ds(t,px(e,{idToken:n}));W(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(h=i.providerUserInfo)!=null&&h.length?J9(i.providerUserInfo):[],s=Tae(t.providerData,a),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=o?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new AS(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function Eae(t){const e=le(t);await Dp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Tae(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function J9(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sae(t,e){const n=await Y9(t,{},async()=>{const r=Hh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await Q9(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&Il(t.emulatorConfig.host)&&(l.credentials="include"),W9.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Aae(t,e){return $t(t,"POST","/v2/accounts:revokeToken",Ft(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){W(e.length!==0,"internal-error");const n=yD(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Sae(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new jd;return r&&(W(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(W(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jd,this.toJSON())}_performRefresh(){return Ta("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ta{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new _ae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new AS(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ds(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bae(this,e)}reload(){return Eae(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ta({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Dp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pt(this.auth.app))return Promise.reject(Vn(this.auth));const e=await this.getIdToken();return await Ds(this,vae(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:h,emailVerified:f,isAnonymous:m,providerData:y,stsTokenManager:v}=n;W(h&&v,e,"internal-error");const x=jd.fromJSON(this.name,v);W(typeof h=="string",e,"internal-error"),vo(r,e.name),vo(i,e.name),W(typeof f=="boolean",e,"internal-error"),W(typeof m=="boolean",e,"internal-error"),vo(a,e.name),vo(s,e.name),vo(o,e.name),vo(l,e.name),vo(c,e.name),vo(u,e.name);const b=new ta({uid:h,auth:e,email:i,emailVerified:f,displayName:r,isAnonymous:m,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:x,createdAt:c,lastLoginAt:u});return y&&Array.isArray(y)&&(b.providerData=y.map(w=>({...w}))),l&&(b._redirectEventId=l),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new jd;i.updateFromServerResponse(n);const a=new ta({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Dp(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];W(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?J9(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new jd;o.updateFromIdToken(r);const l=new ta({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new AS(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=new Map;function ii(t){aa(t instanceof Function,"Expected a class definition");let e=vD.get(t);return e?(aa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vD.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}eB.type="NONE";const th=eB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(t,e,n){return`firebase:${t}:${e}:${n}`}class Rd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Ic(this.userKey,i.apiKey,a),this.fullPersistenceKey=Ic("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await px(this.auth,{idToken:e}).catch(()=>{});return n?ta._fromGetAccountInfoResponse(this.auth,n,e):null}return ta._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Rd(ii(th),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||ii(th);const s=Ic(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const u=await c._get(s);if(u){let h;if(typeof u=="string"){const f=await px(e,{idToken:u}).catch(()=>{});if(!f)break;h=await ta._fromGetAccountInfoResponse(e,f,u)}else h=ta._fromJSON(e,u);c!==a&&(o=h),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Rd(a,e,r):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(s)}catch{}})),new Rd(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aB(e))return"Blackberry";if(sB(e))return"Webos";if(nB(e))return"Safari";if((e.includes("chrome/")||rB(e))&&!e.includes("edge/"))return"Chrome";if(Fg(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function tB(t=Rt()){return/firefox\//i.test(t)}function nB(t=Rt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rB(t=Rt()){return/crios\//i.test(t)}function iB(t=Rt()){return/iemobile/i.test(t)}function Fg(t=Rt()){return/android/i.test(t)}function aB(t=Rt()){return/blackberry/i.test(t)}function sB(t=Rt()){return/webos/i.test(t)}function $g(t=Rt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Nae(t=Rt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function Iae(t=Rt()){var e;return $g(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Pae(){return P9()&&document.documentMode===10}function oB(t=Rt()){return $g(t)||Fg(t)||sB(t)||aB(t)||/windows phone/i.test(t)||iB(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lB(t,e=[]){let n;switch(t){case"Browser":n=xD(Rt());break;case"Worker":n=`${xD(Rt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ys}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cae{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jae(t,e={}){return $t(t,"GET","/v2/passwordPolicy",Ft(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rae=6;class Oae{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Rae,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kae{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bD(this),this.idTokenSubscription=new bD(this),this.beforeStateQueue=new Cae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ii(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Rd.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await px(this,{idToken:e}),r=await ta._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(pt(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dae()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pt(this.app))return Promise.reject(Vn(this));const n=e?le(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pt(this.app)?Promise.reject(Vn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pt(this.app)?Promise.reject(Vn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jae(this),n=new Oae(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Aae(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ii(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=await Rd.create(this,[ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(pt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&cae(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ot(t){return le(t)}class bD{constructor(e){this.auth=e,this.observer=null,this.addObserver=R9(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Dae(t){qg=t}function nP(t){return qg.loadJS(t)}function Mae(){return qg.recaptchaV2Script}function Lae(){return qg.recaptchaEnterpriseScript}function Vae(){return qg.gapiScript}function cB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uae=500,zae=6e4,uv=1e12;class Bae{constructor(e){this.auth=e,this.counter=uv,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new qae(e,this.auth.name,n||{})),this.counter++,r}reset(e){var r;const n=e||uv;(r=this._widgets.get(n))==null||r.delete(),this._widgets.delete(n)}getResponse(e){var r;const n=e||uv;return((r=this._widgets.get(n))==null?void 0:r.getResponse())||""}async execute(e){var r;const n=e||uv;return(r=this._widgets.get(n))==null||r.execute(),""}}class Fae{constructor(){this.enterprise=new $ae}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class $ae{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class qae{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;W(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Hae(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},zae)},Uae))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Hae(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const Gae="recaptcha-enterprise",Wm="NO_RECAPTCHA";class uB{constructor(e){this.type=Gae,this.auth=Ot(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{Z9(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new X9(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,s(c.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;gD(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{s(c)}).catch(()=>{s(Wm)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Fae().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&gD(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Lae();l.length!==0&&(l+=o),nP(l).then(()=>{i(o,a,s)}).catch(c=>{s(c)})}}).catch(o=>{s(o)})})}}async function Gf(t,e,n,r=!1,i=!1){const a=new uB(t);let s;if(i)s=Wm;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Jo(t,e,n,r,i){var a,s;if(i==="EMAIL_PASSWORD_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Gf(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Gf(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)});else if(i==="PHONE_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("PHONE_PROVIDER")){const o=await Gf(t,e,n);return r(t,o).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())==null?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await Gf(t,e,n,!1,!0);return r(t,u)}return Promise.reject(l)})}else{const o=await Gf(t,e,n,!1,!0);return r(t,o)}else return Promise.reject(i+" provider is not supported.")}async function Kae(t){const e=Ot(t),n=await Z9(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new X9(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new uB(e).verify()}function Wae(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ii);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Yae(t,e,n){const r=Ot(t);W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),a=dB(e),{host:s,port:o}=Qae(e),l=o===null?"":`:${o}`,c={url:`${a}//${s}${l}/`},u=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){W(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),W(ll(c,r.config.emulator)&&ll(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Il(s)?(qI(`${a}//${s}${l}`),HI("Auth",!0)):i||Xae()}function dB(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Qae(t){const e=dB(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:wD(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:wD(s)}}}function wD(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Xae(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ta("not implemented")}_getIdTokenResponse(e){return Ta("not implemented")}_linkToIdToken(e,n){return Ta("not implemented")}_getReauthenticationResolver(e){return Ta("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hB(t,e){return $t(t,"POST","/v1/accounts:resetPassword",Ft(t,e))}async function Zae(t,e){return $t(t,"POST","/v1/accounts:update",e)}async function Jae(t,e){return $t(t,"POST","/v1/accounts:signUp",e)}async function ese(t,e){return $t(t,"POST","/v1/accounts:update",Ft(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tse(t,e){return Qs(t,"POST","/v1/accounts:signInWithPassword",Ft(t,e))}async function gw(t,e){return $t(t,"POST","/v1/accounts:sendOobCode",Ft(t,e))}async function nse(t,e){return gw(t,e)}async function rse(t,e){return gw(t,e)}async function ise(t,e){return gw(t,e)}async function ase(t,e){return gw(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sse(t,e){return Qs(t,"POST","/v1/accounts:signInWithEmailLink",Ft(t,e))}async function ose(t,e){return Qs(t,"POST","/v1/accounts:signInWithEmailLink",Ft(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp extends Kh{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Mp(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Mp(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jo(e,n,"signInWithPassword",tse,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return sse(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jo(e,r,"signUpPassword",Jae,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return ose(e,{idToken:n,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xs(t,e){return Qs(t,"POST","/v1/accounts:signInWithIdp",Ft(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lse="http://localhost";class La extends Kh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new La(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new La(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return xs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xs(e,n)}buildRequest(){const e={requestUri:lse,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(t,e){return $t(t,"POST","/v1/accounts:sendVerificationCode",Ft(t,e))}async function cse(t,e){return Qs(t,"POST","/v1/accounts:signInWithPhoneNumber",Ft(t,e))}async function use(t,e){const n=await Qs(t,"POST","/v1/accounts:signInWithPhoneNumber",Ft(t,e));if(n.temporaryProof)throw xm(t,"account-exists-with-different-credential",n);return n}const dse={USER_NOT_FOUND:"user-not-found"};async function hse(t,e){const n={...e,operation:"REAUTH"};return Qs(t,"POST","/v1/accounts:signInWithPhoneNumber",Ft(t,n),dse)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends Kh{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Pc({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Pc({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return cse(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return use(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return hse(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a}=e;return!r&&!n&&!i&&!a?null:new Pc({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fse(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mse(t){const e=pd(vm(t)).link,n=e?pd(vm(e)).deep_link_id:null,r=pd(vm(t)).deep_link_id;return(r?pd(vm(r)).link:null)||r||n||e||t}class yw{constructor(e){const n=pd(vm(e)),r=n.apiKey??null,i=n.oobCode??null,a=fse(n.mode??null);W(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=mse(e);try{return new yw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.providerId=Pl.PROVIDER_ID}static credential(e,n){return Mp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=yw.parseLink(n);return W(r,"argument-error"),Mp._fromEmailAndCode(e,r.code,r.tenantId)}}Pl.PROVIDER_ID="password";Pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends Xs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Od extends Wh{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return W("providerId"in n&&"signInMethod"in n,"argument-error"),La._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return W(e.idToken||e.accessToken,"argument-error"),La._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Od.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Od.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:a,nonce:s,providerId:o}=e;if(!r&&!i&&!n&&!a||!o)return null;try{return new Od(o)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:a})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends Wh{constructor(){super("facebook.com")}static credential(e){return La._fromParams({providerId:ga.PROVIDER_ID,signInMethod:ga.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ga.credentialFromTaggedObject(e)}static credentialFromError(e){return ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ga.credential(e.oauthAccessToken)}catch{return null}}}ga.FACEBOOK_SIGN_IN_METHOD="facebook.com";ga.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends Wh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return La._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ya.credential(n,r)}catch{return null}}}ya.GOOGLE_SIGN_IN_METHOD="google.com";ya.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends Wh{constructor(){super("github.com")}static credential(e){return La._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return va.credential(e.oauthAccessToken)}catch{return null}}}va.GITHUB_SIGN_IN_METHOD="github.com";va.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pse="http://localhost";class nh extends Kh{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return xs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xs(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:a}=n;return!r||!i||!a||r!==i?null:new nh(r,a)}static _create(e,n){return new nh(e,n)}buildRequest(){return{requestUri:pse,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gse="saml.";class gx extends Xs{constructor(e){W(e.startsWith(gse),"argument-error"),super(e)}static credentialFromResult(e){return gx.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return gx.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=nh.fromJSON(e);return W(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return nh._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends Wh{constructor(){super("twitter.com")}static credential(e,n){return La._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xa.credentialFromTaggedObject(e)}static credentialFromError(e){return xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return xa.credential(n,r)}catch{return null}}}xa.TWITTER_SIGN_IN_METHOD="twitter.com";xa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fB(t,e){return Qs(t,"POST","/v1/accounts:signUp",Ft(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await ta._fromIdTokenResponse(e,r,i),s=ED(r);return new Bi({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ED(r);return new Bi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ED(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yse(t){var i;if(pt(t.app))return Promise.reject(Vn(t));const e=Ot(t);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new Bi({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await fB(e,{returnSecureToken:!0}),r=await Bi._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx extends ur{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,yx.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new yx(e,n,r,i)}}function mB(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?yx._fromErrorAndOperation(t,a,e,r):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pB(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vse(t,e){const n=le(t);await vw(!0,n,e);const{providerUserInfo:r}=await xae(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=pB(r||[]);return n.providerData=n.providerData.filter(a=>i.has(a.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function rP(t,e,n=!1){const r=await Ds(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Bi._forOperation(t,"link",r)}async function vw(t,e,n){await Dp(e);const r=pB(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";W(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gB(t,e,n=!1){const{auth:r}=t;if(pt(r.app))return Promise.reject(Vn(r));const i="reauthenticate";try{const a=await Ds(t,mB(r,i,e,t),n);W(a.idToken,r,"internal-error");const s=pw(a.idToken);W(s,r,"internal-error");const{sub:o}=s;return W(t.uid===o,r,"user-mismatch"),Bi._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Zn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yB(t,e,n=!1){if(pt(t.app))return Promise.reject(Vn(t));const r="signIn",i=await mB(t,r,e),a=await Bi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function xw(t,e){return yB(Ot(t),e)}async function vB(t,e){const n=le(t);return await vw(!1,n,e.providerId),rP(n,e)}async function xB(t,e){return gB(le(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xse(t,e){return Qs(t,"POST","/v1/accounts:signInWithCustomToken",Ft(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bse(t,e){if(pt(t.app))return Promise.reject(Vn(t));const n=Ot(t),r=await xse(n,{token:e,returnSecureToken:!0}),i=await Bi._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?iP._fromServerResponse(e,n):"totpInfo"in n?aP._fromServerResponse(e,n):Zn(e,"internal-error")}}class iP extends Hg{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new iP(n)}}class aP extends Hg{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new aP(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(t,e,n){var r;W(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),W(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),W(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(W(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(W(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sP(t){const e=Ot(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wse(t,e,n){const r=Ot(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&bw(r,i,n),await Jo(r,i,"getOobCode",rse,"EMAIL_PASSWORD_PROVIDER")}async function _se(t,e,n){await hB(le(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sP(t),r})}async function Ese(t,e){await ese(le(t),{oobCode:e})}async function bB(t,e){const n=le(t),r=await hB(n,{oobCode:e}),i=r.requestType;switch(W(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":W(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":W(r.mfaInfo,n,"internal-error");default:W(r.email,n,"internal-error")}let a=null;return r.mfaInfo&&(a=Hg._fromServerResponse(Ot(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:a},operation:i}}async function Tse(t,e){const{data:n}=await bB(le(t),e);return n.email}async function Sse(t,e,n){if(pt(t.app))return Promise.reject(Vn(t));const r=Ot(t),s=await Jo(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fB,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&sP(t),l}),o=await Bi._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function Ase(t,e,n){return pt(t.app)?Promise.reject(Vn(t)):xw(le(t),Pl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sP(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nse(t,e,n){const r=Ot(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(s,o){W(o.handleCodeInApp,r,"argument-error"),o&&bw(r,s,o)}a(i,n),await Jo(r,i,"getOobCode",ise,"EMAIL_PASSWORD_PROVIDER")}function Ise(t,e){const n=yw.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function Pse(t,e,n){if(pt(t.app))return Promise.reject(Vn(t));const r=le(t),i=Pl.credentialWithLink(e,n||kp());return W(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),xw(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cse(t,e){return $t(t,"POST","/v1/accounts:createAuthUri",Ft(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jse(t,e){const n=eP()?kp():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await Cse(le(t),r);return i||[]}async function Rse(t,e){const n=le(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&bw(n.auth,i,e);const{email:a}=await nse(n.auth,i);a!==t.email&&await t.reload()}async function Ose(t,e,n){const r=le(t),a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&bw(r.auth,a,n);const{email:s}=await ase(r.auth,a);s!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kse(t,e){return $t(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dse(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=le(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await Ds(r,kse(r.auth,a));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function Mse(t,e){const n=le(t);return pt(n.auth.app)?Promise.reject(Vn(n.auth)):wB(n,e,null)}function Lse(t,e){return wB(le(t),null,e)}async function wB(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(a.email=e),n&&(a.password=n);const s=await Ds(t,Zae(r,a));await t._updateTokensIfNecessary(s,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vse(t){var i,a;if(!t)return null;const{providerId:e}=t,n=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},r=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(t!=null&&t.idToken)){const s=(a=(i=pw(t.idToken))==null?void 0:i.firebase)==null?void 0:a.sign_in_provider;if(s){const o=s!=="anonymous"&&s!=="custom"?s:null;return new kd(r,o)}}if(!e)return null;switch(e){case"facebook.com":return new Use(r,n);case"github.com":return new zse(r,n);case"google.com":return new Bse(r,n);case"twitter.com":return new Fse(r,n,t.screenName||null);case"custom":case"anonymous":return new kd(r,null);default:return new kd(r,e,n)}}class kd{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class _B extends kd{constructor(e,n,r,i){super(e,n,r),this.username=i}}class Use extends kd{constructor(e,n){super(e,"facebook.com",n)}}class zse extends _B{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class Bse extends kd{constructor(e,n){super(e,"google.com",n)}}class Fse extends _B{constructor(e,n,r){super(e,"twitter.com",n,r)}}function $se(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Vse(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new pc("enroll",e,n)}static _fromMfaPendingCredential(e){return new pc("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if((n=e.multiFactorSession)!=null&&n.pendingCredential)return pc._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((r=e.multiFactorSession)!=null&&r.idToken)return pc._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Ot(e),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map(o=>Hg._fromServerResponse(r,o));W(i.mfaPendingCredential,r,"internal-error");const s=pc._fromMfaPendingCredential(i.mfaPendingCredential);return new oP(s,a,async o=>{const l=await o._process(r,s);delete i.mfaInfo,delete i.mfaPendingCredential;const c={...i,idToken:l.idToken,refreshToken:l.refreshToken};switch(n.operationType){case"signIn":const u=await Bi._fromIdTokenResponse(r,n.operationType,c);return await r._updateCurrentUser(u.user),u;case"reauthenticate":return W(n.user,r,"internal-error"),Bi._forOperation(n.user,n.operationType,c);default:Zn(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function qse(t,e){var i;const n=le(t),r=e;return W(e.customData.operationType,n,"argument-error"),W((i=r.customData._serverResponse)==null?void 0:i.mfaPendingCredential,n,"argument-error"),oP._fromError(n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(t,e){return $t(t,"POST","/v2/accounts/mfaEnrollment:start",Ft(t,e))}function Hse(t,e){return $t(t,"POST","/v2/accounts/mfaEnrollment:finalize",Ft(t,e))}function Gse(t,e){return $t(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Ft(t,e))}class lP{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Hg._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new lP(e)}async getSession(){return pc._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),a=await Ds(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(a),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Ds(this.user,Gse(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:a})=>a!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const wE=new WeakMap;function Kse(t){const e=le(t);return wE.has(e)||wE.set(e,lP._fromUser(e)),wE.get(e)}const vx="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vx,"1"),this.storage.removeItem(vx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wse=1e3,Yse=10;class TB extends EB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oB(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);Pae()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Yse):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Wse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}TB.type="LOCAL";const cP=TB;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB extends EB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}SB.type="SESSION";const Hc=SB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qse(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ww(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async c=>c(n.origin,a)),l=await Qse(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ww.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xse{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const c=Gg("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(f.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return window}function Zse(t){tn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(){return typeof tn().WorkerGlobalScope<"u"&&typeof tn().importScripts=="function"}async function Jse(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eoe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function toe(){return uP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB="firebaseLocalStorageDb",noe=1,xx="firebaseLocalStorage",NB="fbase_key";class Kg{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _w(t,e){return t.transaction([xx],e?"readwrite":"readonly").objectStore(xx)}function roe(){const t=indexedDB.deleteDatabase(AB);return new Kg(t).toPromise()}function NS(){const t=indexedDB.open(AB,noe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(xx,{keyPath:NB})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(xx)?e(r):(r.close(),await roe(),e(await NS()))})})}async function SD(t,e,n){const r=_w(t,!0).put({[NB]:e,value:n});return new Kg(r).toPromise()}async function ioe(t,e){const n=_w(t,!1).get(e),r=await new Kg(n).toPromise();return r===void 0?null:r.value}function AD(t,e){const n=_w(t,!0).delete(e);return new Kg(n).toPromise()}const aoe=800,soe=3;class IB{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await NS(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>soe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ww._getInstance(toe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Jse(),!this.activeServiceWorker)return;this.sender=new Xse(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eoe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await NS();return await SD(e,vx,"1"),await AD(e,vx),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>SD(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ioe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>AD(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=_w(i,!1).getAll();return new Kg(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aoe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IB.type="LOCAL";const Lp=IB;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t,e){return $t(t,"POST","/v2/accounts/mfaSignIn:start",Ft(t,e))}function ooe(t,e){return $t(t,"POST","/v2/accounts/mfaSignIn:finalize",Ft(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=cB("rcb"),loe=new Bg(3e4,6e4);class coe{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=tn().grecaptcha)!=null&&e.render)}load(e,n=""){return W(uoe(n),e,"argument-error"),this.shouldResolveImmediately(n)&&pD(tn().grecaptcha)?Promise.resolve(tn().grecaptcha):new Promise((r,i)=>{const a=tn().setTimeout(()=>{i(xn(e,"network-request-failed"))},loe.get());tn()[_E]=()=>{tn().clearTimeout(a),delete tn()[_E];const o=tn().grecaptcha;if(!o||!pD(o)){i(xn(e,"internal-error"));return}const l=o.render;o.render=(c,u)=>{const h=l(c,u);return this.counter++,h},this.hostLanguage=n,r(o)};const s=`${Mae()}?${Hh({onload:_E,render:"explicit",hl:n})}`;nP(s).catch(()=>{clearTimeout(a),i(xn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!((n=tn().grecaptcha)!=null&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function uoe(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class doe{async load(e){return new Bae(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="recaptcha",hoe={theme:"light",type:"image"};let foe=class{constructor(e,n,r={...hoe}){this.parameters=r,this.type=Ym,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ot(e),this.isInvisible=this.parameters.size==="invisible",W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;W(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new doe:new coe,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const a=s=>{s&&(this.tokenChangeListeners.delete(a),i(s))};this.tokenChangeListeners.add(a),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){W(!this.parameters.sitekey,this.auth,"argument-error"),W(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=tn()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){W(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){W(eP()&&!uP(),this.auth,"internal-error"),await moe(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await yae(this.auth);W(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return W(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function moe(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Pc._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function poe(t,e,n){if(pt(t.app))return Promise.reject(Vn(t));const r=Ot(t),i=await Ew(r,e,le(n));return new dP(i,a=>xw(r,a))}async function goe(t,e,n){const r=le(t);await vw(!1,r,"phone");const i=await Ew(r.auth,e,le(n));return new dP(i,a=>vB(r,a))}async function yoe(t,e,n){const r=le(t);if(pt(r.auth.app))return Promise.reject(Vn(r.auth));const i=await Ew(r.auth,e,le(n));return new dP(i,a=>xB(r,a))}async function Ew(t,e,n){var r;if(!t._getRecaptchaConfig())try{await Kae(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const a=i.session;if("phoneNumber"in i){W(a.type==="enroll",t,"internal-error");const s={idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Jo(t,s,"mfaSmsEnrollment",async(u,h)=>{if(h.phoneEnrollmentInfo.captchaResponse===Wm){W((n==null?void 0:n.type)===Ym,u,"argument-error");const f=await EE(u,h,n);return TD(u,f)}return TD(u,h)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).phoneSessionInfo.sessionInfo}else{W(a.type==="signin",t,"internal-error");const s=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;W(s,t,"missing-multi-factor-info");const o={mfaPendingCredential:a.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Jo(t,o,"mfaSmsSignIn",async(h,f)=>{if(f.phoneSignInInfo.captchaResponse===Wm){W((n==null?void 0:n.type)===Ym,h,"argument-error");const m=await EE(h,f,n);return ND(h,m)}return ND(h,f)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneResponseInfo.sessionInfo}}else{const a={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Jo(t,a,"sendVerificationCode",async(c,u)=>{if(u.captchaResponse===Wm){W((n==null?void 0:n.type)===Ym,c,"argument-error");const h=await EE(c,u,n);return _D(c,h)}return _D(c,u)},"PHONE_PROVIDER").catch(c=>Promise.reject(c))).sessionInfo}}finally{n==null||n._reset()}}async function voe(t,e){const n=le(t);if(pt(n.auth.app))return Promise.reject(Vn(n.auth));await rP(n,e)}async function EE(t,e,n){W(n.type===Ym,t,"argument-error");const r=await n.verify();W(typeof r=="string",t,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const a=i.phoneEnrollmentInfo.phoneNumber,s=i.phoneEnrollmentInfo.captchaResponse,o=i.phoneEnrollmentInfo.clientType,l=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r,captchaResponse:s,clientType:o,recaptchaVersion:l}}),i}else if("phoneSignInInfo"in i){const a=i.phoneSignInInfo.captchaResponse,s=i.phoneSignInInfo.clientType,o=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:a,clientType:s,recaptchaVersion:o}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc=class c0{constructor(e){this.providerId=c0.PROVIDER_ID,this.auth=Ot(e)}verifyPhoneNumber(e,n){return Ew(this.auth,e,le(n))}static credential(e,n){return Pc._fromVerification(e,n)}static credentialFromResult(e){const n=e;return c0.credentialFromTaggedObject(n)}static credentialFromError(e){return c0.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Pc._fromTokenResponse(n,r):null}};Gc.PROVIDER_ID="phone";Gc.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t,e){return e?ii(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP extends Kh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xoe(t){return yB(t.auth,new hP(t),t.bypassAuthState)}function boe(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),gB(n,new hP(t),t.bypassAuthState)}async function woe(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),rP(n,new hP(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xoe;case"linkViaPopup":case"linkViaRedirect":return woe;case"reauthViaPopup":case"reauthViaRedirect":return boe;default:Zn(this.auth,"internal-error")}}resolve(e){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _oe=new Bg(2e3,1e4);async function Eoe(t,e,n){if(pt(t.app))return Promise.reject(xn(t,"operation-not-supported-in-this-environment"));const r=Ot(t);Gh(t,e,Xs);const i=bu(r,n);return new ds(r,"signInViaPopup",e,i).executeNotNull()}async function Toe(t,e,n){const r=le(t);if(pt(r.auth.app))return Promise.reject(xn(r.auth,"operation-not-supported-in-this-environment"));Gh(r.auth,e,Xs);const i=bu(r.auth,n);return new ds(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function Soe(t,e,n){const r=le(t);Gh(r.auth,e,Xs);const i=bu(r.auth,n);return new ds(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class ds extends PB{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,ds.currentPopupAction&&ds.currentPopupAction.cancel(),ds.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return W(e,this.auth,"internal-error"),e}async onExecution(){aa(this.filter.length===1,"Popup operations only handle one event");const e=Gg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ds.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_oe.get())};e()}}ds.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aoe="pendingRedirect",Qm=new Map;class Noe extends PB{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qm.get(this.auth._key());if(!e){try{const r=await Ioe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qm.set(this.auth._key(),e)}return this.bypassAuthState||Qm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ioe(t,e){const n=jB(e),r=CB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function fP(t,e){return CB(t)._set(jB(e),"true")}function Poe(){Qm.clear()}function mP(t,e){Qm.set(t._key(),e)}function CB(t){return ii(t._redirectPersistence)}function jB(t){return Ic(Aoe,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Coe(t,e,n){return joe(t,e,n)}async function joe(t,e,n){if(pt(t.app))return Promise.reject(Vn(t));const r=Ot(t);Gh(t,e,Xs),await r._initializationPromise;const i=bu(r,n);return await fP(i,r),i._openRedirect(r,e,"signInViaRedirect")}function Roe(t,e,n){return Ooe(t,e,n)}async function Ooe(t,e,n){const r=le(t);if(Gh(r.auth,e,Xs),pt(r.auth.app))return Promise.reject(Vn(r.auth));await r.auth._initializationPromise;const i=bu(r.auth,n);await fP(i,r.auth);const a=await RB(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",a)}function koe(t,e,n){return Doe(t,e,n)}async function Doe(t,e,n){const r=le(t);Gh(r.auth,e,Xs),await r.auth._initializationPromise;const i=bu(r.auth,n);await vw(!1,r,e.providerId),await fP(i,r.auth);const a=await RB(r);return i._openRedirect(r.auth,e,"linkViaRedirect",a)}async function Moe(t,e){return await Ot(t)._initializationPromise,Tw(t,e,!1)}async function Tw(t,e,n=!1){if(pt(t.app))return Promise.reject(Vn(t));const r=Ot(t),i=bu(r,e),s=await new Noe(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}async function RB(t){const e=Gg(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Loe=10*60*1e3;class OB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Voe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kB(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(xn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Loe&&this.cachedEventUids.clear(),this.cachedEventUids.has(ID(e))}saveEventToCache(e){this.cachedEventUids.add(ID(e)),this.lastProcessedEventTime=Date.now()}}function ID(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kB({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Voe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kB(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DB(t,e={}){return $t(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uoe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zoe=/^https?/;async function Boe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await DB(t);for(const n of e)try{if(Foe(n))return}catch{}Zn(t,"unauthorized-domain")}function Foe(t){const e=kp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!zoe.test(n))return!1;if(Uoe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $oe=new Bg(3e4,6e4);function PD(){const t=tn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qoe(t){return new Promise((e,n)=>{var i,a,s;function r(){PD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PD(),n(xn(t,"network-request-failed"))},timeout:$oe.get()})}if((a=(i=tn().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=tn().gapi)!=null&&s.load)r();else{const o=cB("iframefcb");return tn()[o]=()=>{gapi.load?r():n(xn(t,"network-request-failed"))},nP(`${Vae()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw u0=null,e})}let u0=null;function Hoe(t){return u0=u0||qoe(t),u0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Goe=new Bg(5e3,15e3),Koe="__/auth/iframe",Woe="emulator/auth/iframe",Yoe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qoe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xoe(t){const e=t.config;W(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tP(e,Woe):`https://${t.config.authDomain}/${Koe}`,r={apiKey:e.apiKey,appName:t.name,v:Ys},i=Qoe.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Hh(r).slice(1)}`}async function Zoe(t){const e=await Hoe(t),n=tn().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:Xoe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yoe,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=xn(t,"network-request-failed"),o=tn().setTimeout(()=>{a(s)},Goe.get());function l(){tn().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Joe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ele=500,tle=600,nle="_blank",rle="http://localhost";class CD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ile(t,e,n,r=ele,i=tle){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...Joe,width:r.toString(),height:i.toString(),top:a,left:s},c=Rt().toLowerCase();n&&(o=rB(c)?nle:n),tB(c)&&(e=e||rle,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[m,y])=>`${f}${m}=${y},`,"");if(Iae(c)&&o!=="_self")return ale(e||"",o),new CD(null);const h=window.open(e||"",o,u);W(h,t,"popup-blocked");try{h.focus()}catch{}return new CD(h)}function ale(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sle="__/auth/handler",ole="emulator/auth/handler",lle=encodeURIComponent("fac");async function IS(t,e,n,r,i,a){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ys,eventId:i};if(e instanceof Xs){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Dre(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(a||{}))s[u]=h}if(e instanceof Wh){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${lle}=${encodeURIComponent(l)}`:"";return`${cle(t)}?${Hh(o).slice(1)}${c}`}function cle({config:t}){return t.emulator?tP(t,ole):`https://${t.authDomain}/${sle}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="webStorageSupport";class ule{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hc,this._completeRedirectFn=Tw,this._overrideRedirectResult=mP}async _openPopup(e,n,r,i){var s;aa((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await IS(e,n,r,kp(),i);return ile(e,a,Gg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await IS(e,n,r,kp(),i);return Zse(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(aa(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Zoe(e),r=new OB(e);return n.register("authEvent",i=>(W(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(TE,{type:TE},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[TE];a!==void 0&&n(!!a),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Boe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oB()||nB()||$g()}}const dle=ule;class hle{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Ta("unexpected MultiFactorSessionType")}}}class pP extends hle{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new pP(e)}_finalizeEnroll(e,n,r){return Hse(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return ooe(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class MB{constructor(){}static assertion(e){return pP._fromCredential(e)}}MB.FACTOR_ID="phone";var jD="@firebase/auth",RD="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fle{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mle(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ple(t){ks(new zi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;W(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lB(t)},c=new kae(r,i,a,l);return Wae(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ks(new zi("auth-internal",e=>{const n=Ot(e.getProvider("auth").getImmediate());return(r=>new fle(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ui(jD,RD,mle(t)),ui(jD,RD,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gle=5*60;Tre("authIdTokenMaxAge");function yle(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Dae({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=xn("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",yle().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ple("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vle=2e3;async function xle(t,e,n){const{BuildInfo:r}=Kc();aa(e.sessionId,"AuthEvent did not contain a session ID");const i=await Tle(e.sessionId),a={};return $g()?a.ibi=r.packageName:Fg()?a.apn=r.packageName:Zn(t,"operation-not-supported-in-this-environment"),r.displayName&&(a.appDisplayName=r.displayName),a.sessionId=i,IS(t,n,e.type,void 0,e.eventId??void 0,a)}async function ble(t){const{BuildInfo:e}=Kc(),n={};$g()?n.iosBundleId=e.packageName:Fg()?n.androidPackageName=e.packageName:Zn(t,"operation-not-supported-in-this-environment"),await DB(t,n)}function wle(t){const{cordova:e}=Kc();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,Nae()?"_blank":"_system","location=yes"),n(i)})})}async function _le(t,e,n){const{cordova:r}=Kc();let i=()=>{};try{await new Promise((a,s)=>{let o=null;function l(){var f;a();const h=(f=r.plugins.browsertab)==null?void 0:f.close;typeof h=="function"&&h(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function c(){o||(o=window.setTimeout(()=>{s(xn(t,"redirect-cancelled-by-user"))},vle))}function u(){(document==null?void 0:document.visibilityState)==="visible"&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),Fg()&&document.addEventListener("visibilitychange",u,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),o&&window.clearTimeout(o)}})}finally{i()}}function Ele(t){var n,r,i,a,s,o,l,c,u,h;const e=Kc();W(typeof((n=e==null?void 0:e.universalLinks)==null?void 0:n.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),W(typeof((r=e==null?void 0:e.BuildInfo)==null?void 0:r.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),W(typeof((s=(a=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:a.browsertab)==null?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W(typeof((c=(l=(o=e==null?void 0:e.cordova)==null?void 0:o.plugins)==null?void 0:l.browsertab)==null?void 0:c.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W(typeof((h=(u=e==null?void 0:e.cordova)==null?void 0:u.InAppBrowser)==null?void 0:h.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function Tle(t){const e=Sle(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function Sle(t){if(aa(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ale=20;class Nle extends OB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function Ile(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:jle(),postBody:null,tenantId:t.tenantId,error:xn(t,"no-auth-event")}}function Ple(t,e){return PS()._set(CS(t),e)}async function OD(t){const e=await PS()._get(CS(t));return e&&await PS()._remove(CS(t)),e}function Cle(t,e){var r,i;const n=Ole(e);if(n.includes("/__/auth/callback")){const a=d0(n),s=a.firebaseError?Rle(decodeURIComponent(a.firebaseError)):null,o=(i=(r=s==null?void 0:s.code)==null?void 0:r.split("auth/"))==null?void 0:i[1],l=o?xn(o):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:n,postBody:null}}return null}function jle(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Ale;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function PS(){return ii(cP)}function CS(t){return Ic("authEvent",t.config.apiKey,t.name)}function Rle(t){try{return JSON.parse(t)}catch{return null}}function Ole(t){const e=d0(t),n=e.link?decodeURIComponent(e.link):void 0,r=d0(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return d0(i).link||i||r||n||t}function d0(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return pd(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kle=500;class Dle{constructor(){this._redirectPersistence=Hc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Tw,this._overrideRedirectResult=mP}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new Nle(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Zn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){Ele(e);const a=await this._initialize(e);await a.initialized(),a.resetRedirect(),Poe(),await this._originValidation(e);const s=Ile(e,r,i);await Ple(e,s);const o=await xle(e,s,n),l=await wle(o);return _le(e,a,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ble(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:a}=Kc(),s=setTimeout(async()=>{await OD(e),n.onEvent(kD())},kle),o=async u=>{clearTimeout(s);const h=await OD(e);let f=null;h&&(u!=null&&u.url)&&(f=Cle(h,u.url)),n.onEvent(f||kD())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,o);const l=i,c=`${a.packageName.toLowerCase()}://`;Kc().handleOpenURL=async u=>{if(u.toLowerCase().startsWith(c)&&o({url:u}),typeof l=="function")try{l(u)}catch(h){console.error(h)}}}}const Mle=Dle;function kD(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:xn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lle(t,e){Ot(t)._logFramework(e)}var Vle="@firebase/auth-compat",Ule="0.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zle=1e3;function Xm(){var t;return((t=self==null?void 0:self.location)==null?void 0:t.protocol)||null}function Ble(){return Xm()==="http:"||Xm()==="https:"}function LB(t=Rt()){return!!((Xm()==="file:"||Xm()==="ionic:"||Xm()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Fle(){return GI()||fw()}function $le(){return P9()&&(document==null?void 0:document.documentMode)===11}function qle(t=Rt()){return/Edge\/\d+/.test(t)}function Hle(t=Rt()){return $le()||qle(t)}function VB(){try{const t=self.localStorage,e=Gg();if(t)return t.setItem(e,"1"),t.removeItem(e),Hle()?jp():!0}catch{return gP()&&jp()}return!1}function gP(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function SE(){return(Ble()||I9()||LB())&&!Fle()&&VB()&&!gP()}function UB(){return LB()&&typeof document<"u"}async function Gle(){return UB()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},zle);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function Kle(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei={LOCAL:"local",NONE:"none",SESSION:"session"},Kf=W,zB="persistence";function Wle(t,e){if(Kf(Object.values(ei).includes(e),t,"invalid-persistence-type"),GI()){Kf(e!==ei.SESSION,t,"unsupported-persistence-type");return}if(fw()){Kf(e===ei.NONE,t,"unsupported-persistence-type");return}if(gP()){Kf(e===ei.NONE||e===ei.LOCAL&&jp(),t,"unsupported-persistence-type");return}Kf(e===ei.NONE||VB(),t,"unsupported-persistence-type")}async function jS(t){await t._initializationPromise;const e=BB(),n=Ic(zB,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistenceType())}function Yle(t,e){const n=BB();if(!n)return[];const r=Ic(zB,t,e);switch(n.getItem(r)){case ei.NONE:return[th];case ei.LOCAL:return[Lp,Hc];case ei.SESSION:return[Hc];default:return[]}}function BB(){var t;try{return((t=Kle())==null?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qle=W;class Uo{constructor(){this.browserResolver=ii(dle),this.cordovaResolver=ii(Mle),this.underlyingResolver=null,this._redirectPersistence=Hc,this._completeRedirectFn=Tw,this._overrideRedirectResult=mP}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return UB()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qle(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await Gle();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(t){return t.unwrap()}function Xle(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zle(t){return $B(t)}function Jle(t,e){var r;const n=(r=e.customData)==null?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new ece(t,qse(t,e))}else if(n){const i=$B(e),a=e;i&&(a.credential=i,a.tenantId=n.tenantId||void 0,a.email=n.email||void 0,a.phoneNumber=n.phoneNumber||void 0)}}function $B(t){const{_tokenResponse:e}=t instanceof ur?t.customData:t;if(!e)return null;if(!(t instanceof ur)&&"temporaryProof"in e&&"phoneNumber"in e)return Gc.credentialFromResult(t);const n=e.providerId;if(!n||n===Hf.PASSWORD)return null;let r;switch(n){case Hf.GOOGLE:r=ya;break;case Hf.FACEBOOK:r=ga;break;case Hf.GITHUB:r=va;break;case Hf.TWITTER:r=xa;break;default:const{oauthIdToken:i,oauthAccessToken:a,oauthTokenSecret:s,pendingToken:o,nonce:l}=e;return!a&&!s&&!i&&!o?null:o?n.startsWith("saml.")?nh._create(n,o):La._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:i,accessToken:a}):new Od(n).credential({idToken:i,accessToken:a,rawNonce:l})}return t instanceof ur?r.credentialFromError(t):r.credentialFromResult(t)}function Lr(t,e){return e.catch(n=>{throw n instanceof ur&&Jle(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:Zle(n),additionalUserInfo:$se(n),user:Sw.getOrCreate(i)}})}async function RS(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Lr(t,n.confirm(r))}}class ece{constructor(e,n){this.resolver=n,this.auth=Xle(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Lr(FB(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sw=class bm{constructor(e){this._delegate=e,this.multiFactor=Kse(e)}static getOrCreate(e){return bm.USER_MAP.has(e)||bm.USER_MAP.set(e,new bm(e)),bm.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Lr(this.auth,vB(this._delegate,e))}async linkWithPhoneNumber(e,n){return RS(this.auth,goe(this._delegate,e,n))}async linkWithPopup(e){return Lr(this.auth,Soe(this._delegate,e,Uo))}async linkWithRedirect(e){return await jS(Ot(this.auth)),koe(this._delegate,e,Uo)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Lr(this.auth,xB(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return RS(this.auth,yoe(this._delegate,e,n))}reauthenticateWithPopup(e){return Lr(this.auth,Toe(this._delegate,e,Uo))}async reauthenticateWithRedirect(e){return await jS(Ot(this.auth)),Roe(this._delegate,e,Uo)}sendEmailVerification(e){return Rse(this._delegate,e)}async unlink(e){return await vse(this._delegate,e),this}updateEmail(e){return Mse(this._delegate,e)}updatePassword(e){return Lse(this._delegate,e)}updatePhoneNumber(e){return voe(this._delegate,e)}updateProfile(e){return Dse(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return Ose(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Sw.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf=W;class OS{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Wf(r,"invalid-api-key",{appName:e.name}),Wf(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Uo:void 0;this._delegate=n.initialize({options:{persistence:tce(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(oae),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Sw.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){Yae(this._delegate,e,n)}applyActionCode(e){return Ese(this._delegate,e)}checkActionCode(e){return bB(this._delegate,e)}confirmPasswordReset(e,n){return _se(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Lr(this._delegate,Sse(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return jse(this._delegate,e)}isSignInWithEmailLink(e){return Ise(this._delegate,e)}async getRedirectResult(){Wf(SE(),this._delegate,"operation-not-supported-in-this-environment");const e=await Moe(this._delegate,Uo);return e?Lr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){Lle(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:a,complete:s}=DD(e,n,r);return this._delegate.onAuthStateChanged(i,a,s)}onIdTokenChanged(e,n,r){const{next:i,error:a,complete:s}=DD(e,n,r);return this._delegate.onIdTokenChanged(i,a,s)}sendSignInLinkToEmail(e,n){return Nse(this._delegate,e,n)}sendPasswordResetEmail(e,n){return wse(this._delegate,e,n||void 0)}async setPersistence(e){Wle(this._delegate,e);let n;switch(e){case ei.SESSION:n=Hc;break;case ei.LOCAL:n=await ii(Lp)._isAvailable()?Lp:cP;break;case ei.NONE:n=th;break;default:return Zn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Lr(this._delegate,yse(this._delegate))}signInWithCredential(e){return Lr(this._delegate,xw(this._delegate,e))}signInWithCustomToken(e){return Lr(this._delegate,bse(this._delegate,e))}signInWithEmailAndPassword(e,n){return Lr(this._delegate,Ase(this._delegate,e,n))}signInWithEmailLink(e,n){return Lr(this._delegate,Pse(this._delegate,e,n))}signInWithPhoneNumber(e,n){return RS(this._delegate,poe(this._delegate,e,n))}async signInWithPopup(e){return Wf(SE(),this._delegate,"operation-not-supported-in-this-environment"),Lr(this._delegate,Eoe(this._delegate,e,Uo))}async signInWithRedirect(e){return Wf(SE(),this._delegate,"operation-not-supported-in-this-environment"),await jS(this._delegate),Coe(this._delegate,e,Uo)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Tse(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}OS.Persistence=ei;function DD(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:s=>i(s&&Sw.getOrCreate(s)),error:e,complete:n}}function tce(t,e){const n=Yle(t,e);if(typeof self<"u"&&!n.includes(Lp)&&n.push(Lp),typeof window<"u")for(const r of[cP,Hc])n.includes(r)||n.push(r);return n.includes(th)||n.push(th),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{static credential(e,n){return Gc.credential(e,n)}constructor(){this.providerId="phone",this._delegate=new Gc(FB(Je.auth()))}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}yP.PHONE_SIGN_IN_METHOD=Gc.PHONE_SIGN_IN_METHOD;yP.PROVIDER_ID=Gc.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nce=W;class rce{constructor(e,n,r=Je.app()){var i;nce((i=r.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new foe(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ice="auth-compat";function ace(t){t.INTERNAL.registerComponent(new zi(ice,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new OS(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Du.EMAIL_SIGNIN,PASSWORD_RESET:Du.PASSWORD_RESET,RECOVER_EMAIL:Du.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Du.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Du.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Du.VERIFY_EMAIL}},EmailAuthProvider:Pl,FacebookAuthProvider:ga,GithubAuthProvider:va,GoogleAuthProvider:ya,OAuthProvider:Od,SAMLAuthProvider:gx,PhoneAuthProvider:yP,PhoneMultiFactorGenerator:MB,RecaptchaVerifier:rce,TwitterAuthProvider:xa,Auth:OS,AuthCredential:Kh,Error:ur}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(Vle,Ule)}ace(Je);var MD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var el,qB;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function P(){}P.prototype=S.prototype,A.F=S.prototype,A.prototype=new P,A.prototype.constructor=A,A.D=function(C,R,k){for(var O=Array(arguments.length-2),B=2;B<arguments.length;B++)O[B-2]=arguments[B];return S.prototype[R].apply(C,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,S,P){P||(P=0);const C=Array(16);if(typeof S=="string")for(var R=0;R<16;++R)C[R]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(R=0;R<16;++R)C[R]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=A.g[0],P=A.g[1],R=A.g[2];let k=A.g[3],O;O=S+(k^P&(R^k))+C[0]+3614090360&4294967295,S=P+(O<<7&4294967295|O>>>25),O=k+(R^S&(P^R))+C[1]+3905402710&4294967295,k=S+(O<<12&4294967295|O>>>20),O=R+(P^k&(S^P))+C[2]+606105819&4294967295,R=k+(O<<17&4294967295|O>>>15),O=P+(S^R&(k^S))+C[3]+3250441966&4294967295,P=R+(O<<22&4294967295|O>>>10),O=S+(k^P&(R^k))+C[4]+4118548399&4294967295,S=P+(O<<7&4294967295|O>>>25),O=k+(R^S&(P^R))+C[5]+1200080426&4294967295,k=S+(O<<12&4294967295|O>>>20),O=R+(P^k&(S^P))+C[6]+2821735955&4294967295,R=k+(O<<17&4294967295|O>>>15),O=P+(S^R&(k^S))+C[7]+4249261313&4294967295,P=R+(O<<22&4294967295|O>>>10),O=S+(k^P&(R^k))+C[8]+1770035416&4294967295,S=P+(O<<7&4294967295|O>>>25),O=k+(R^S&(P^R))+C[9]+2336552879&4294967295,k=S+(O<<12&4294967295|O>>>20),O=R+(P^k&(S^P))+C[10]+4294925233&4294967295,R=k+(O<<17&4294967295|O>>>15),O=P+(S^R&(k^S))+C[11]+2304563134&4294967295,P=R+(O<<22&4294967295|O>>>10),O=S+(k^P&(R^k))+C[12]+1804603682&4294967295,S=P+(O<<7&4294967295|O>>>25),O=k+(R^S&(P^R))+C[13]+4254626195&4294967295,k=S+(O<<12&4294967295|O>>>20),O=R+(P^k&(S^P))+C[14]+2792965006&4294967295,R=k+(O<<17&4294967295|O>>>15),O=P+(S^R&(k^S))+C[15]+1236535329&4294967295,P=R+(O<<22&4294967295|O>>>10),O=S+(R^k&(P^R))+C[1]+4129170786&4294967295,S=P+(O<<5&4294967295|O>>>27),O=k+(P^R&(S^P))+C[6]+3225465664&4294967295,k=S+(O<<9&4294967295|O>>>23),O=R+(S^P&(k^S))+C[11]+643717713&4294967295,R=k+(O<<14&4294967295|O>>>18),O=P+(k^S&(R^k))+C[0]+3921069994&4294967295,P=R+(O<<20&4294967295|O>>>12),O=S+(R^k&(P^R))+C[5]+3593408605&4294967295,S=P+(O<<5&4294967295|O>>>27),O=k+(P^R&(S^P))+C[10]+38016083&4294967295,k=S+(O<<9&4294967295|O>>>23),O=R+(S^P&(k^S))+C[15]+3634488961&4294967295,R=k+(O<<14&4294967295|O>>>18),O=P+(k^S&(R^k))+C[4]+3889429448&4294967295,P=R+(O<<20&4294967295|O>>>12),O=S+(R^k&(P^R))+C[9]+568446438&4294967295,S=P+(O<<5&4294967295|O>>>27),O=k+(P^R&(S^P))+C[14]+3275163606&4294967295,k=S+(O<<9&4294967295|O>>>23),O=R+(S^P&(k^S))+C[3]+4107603335&4294967295,R=k+(O<<14&4294967295|O>>>18),O=P+(k^S&(R^k))+C[8]+1163531501&4294967295,P=R+(O<<20&4294967295|O>>>12),O=S+(R^k&(P^R))+C[13]+2850285829&4294967295,S=P+(O<<5&4294967295|O>>>27),O=k+(P^R&(S^P))+C[2]+4243563512&4294967295,k=S+(O<<9&4294967295|O>>>23),O=R+(S^P&(k^S))+C[7]+1735328473&4294967295,R=k+(O<<14&4294967295|O>>>18),O=P+(k^S&(R^k))+C[12]+2368359562&4294967295,P=R+(O<<20&4294967295|O>>>12),O=S+(P^R^k)+C[5]+4294588738&4294967295,S=P+(O<<4&4294967295|O>>>28),O=k+(S^P^R)+C[8]+2272392833&4294967295,k=S+(O<<11&4294967295|O>>>21),O=R+(k^S^P)+C[11]+1839030562&4294967295,R=k+(O<<16&4294967295|O>>>16),O=P+(R^k^S)+C[14]+4259657740&4294967295,P=R+(O<<23&4294967295|O>>>9),O=S+(P^R^k)+C[1]+2763975236&4294967295,S=P+(O<<4&4294967295|O>>>28),O=k+(S^P^R)+C[4]+1272893353&4294967295,k=S+(O<<11&4294967295|O>>>21),O=R+(k^S^P)+C[7]+4139469664&4294967295,R=k+(O<<16&4294967295|O>>>16),O=P+(R^k^S)+C[10]+3200236656&4294967295,P=R+(O<<23&4294967295|O>>>9),O=S+(P^R^k)+C[13]+681279174&4294967295,S=P+(O<<4&4294967295|O>>>28),O=k+(S^P^R)+C[0]+3936430074&4294967295,k=S+(O<<11&4294967295|O>>>21),O=R+(k^S^P)+C[3]+3572445317&4294967295,R=k+(O<<16&4294967295|O>>>16),O=P+(R^k^S)+C[6]+76029189&4294967295,P=R+(O<<23&4294967295|O>>>9),O=S+(P^R^k)+C[9]+3654602809&4294967295,S=P+(O<<4&4294967295|O>>>28),O=k+(S^P^R)+C[12]+3873151461&4294967295,k=S+(O<<11&4294967295|O>>>21),O=R+(k^S^P)+C[15]+530742520&4294967295,R=k+(O<<16&4294967295|O>>>16),O=P+(R^k^S)+C[2]+3299628645&4294967295,P=R+(O<<23&4294967295|O>>>9),O=S+(R^(P|~k))+C[0]+4096336452&4294967295,S=P+(O<<6&4294967295|O>>>26),O=k+(P^(S|~R))+C[7]+1126891415&4294967295,k=S+(O<<10&4294967295|O>>>22),O=R+(S^(k|~P))+C[14]+2878612391&4294967295,R=k+(O<<15&4294967295|O>>>17),O=P+(k^(R|~S))+C[5]+4237533241&4294967295,P=R+(O<<21&4294967295|O>>>11),O=S+(R^(P|~k))+C[12]+1700485571&4294967295,S=P+(O<<6&4294967295|O>>>26),O=k+(P^(S|~R))+C[3]+2399980690&4294967295,k=S+(O<<10&4294967295|O>>>22),O=R+(S^(k|~P))+C[10]+4293915773&4294967295,R=k+(O<<15&4294967295|O>>>17),O=P+(k^(R|~S))+C[1]+2240044497&4294967295,P=R+(O<<21&4294967295|O>>>11),O=S+(R^(P|~k))+C[8]+1873313359&4294967295,S=P+(O<<6&4294967295|O>>>26),O=k+(P^(S|~R))+C[15]+4264355552&4294967295,k=S+(O<<10&4294967295|O>>>22),O=R+(S^(k|~P))+C[6]+2734768916&4294967295,R=k+(O<<15&4294967295|O>>>17),O=P+(k^(R|~S))+C[13]+1309151649&4294967295,P=R+(O<<21&4294967295|O>>>11),O=S+(R^(P|~k))+C[4]+4149444226&4294967295,S=P+(O<<6&4294967295|O>>>26),O=k+(P^(S|~R))+C[11]+3174756917&4294967295,k=S+(O<<10&4294967295|O>>>22),O=R+(S^(k|~P))+C[2]+718787259&4294967295,R=k+(O<<15&4294967295|O>>>17),O=P+(k^(R|~S))+C[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(R+(O<<21&4294967295|O>>>11))&4294967295,A.g[2]=A.g[2]+R&4294967295,A.g[3]=A.g[3]+k&4294967295}r.prototype.v=function(A,S){S===void 0&&(S=A.length);const P=S-this.blockSize,C=this.C;let R=this.h,k=0;for(;k<S;){if(R==0)for(;k<=P;)i(this,A,k),k+=this.blockSize;if(typeof A=="string"){for(;k<S;)if(C[R++]=A.charCodeAt(k++),R==this.blockSize){i(this,C),R=0;break}}else for(;k<S;)if(C[R++]=A[k++],R==this.blockSize){i(this,C),R=0;break}}this.h=R,this.o+=S},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;S=this.o*8;for(var P=A.length-8;P<A.length;++P)A[P]=S&255,S/=256;for(this.v(A),A=Array(16),S=0,P=0;P<4;++P)for(let C=0;C<32;C+=8)A[S++]=this.g[P]>>>C&255;return A};function a(A,S){var P=o;return Object.prototype.hasOwnProperty.call(P,A)?P[A]:P[A]=S(A)}function s(A,S){this.h=S;const P=[];let C=!0;for(let R=A.length-1;R>=0;R--){const k=A[R]|0;C&&k==S||(P[R]=k,C=!1)}this.g=P}var o={};function l(A){return-128<=A&&A<128?a(A,function(S){return new s([S|0],S<0?-1:0)}):new s([A|0],A<0?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return h;if(A<0)return x(c(-A));const S=[];let P=1;for(let C=0;A>=P;C++)S[C]=A/P|0,P*=4294967296;return new s(S,0)}function u(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return x(u(A.substring(1),S));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=c(Math.pow(S,8));let C=h;for(let k=0;k<A.length;k+=8){var R=Math.min(8,A.length-k);const O=parseInt(A.substring(k,k+R),S);R<8?(R=c(Math.pow(S,R)),C=C.j(R).add(c(O))):(C=C.j(P),C=C.add(c(O)))}return C}var h=l(0),f=l(1),m=l(16777216);t=s.prototype,t.m=function(){if(v(this))return-x(this).m();let A=0,S=1;for(let P=0;P<this.g.length;P++){const C=this.i(P);A+=(C>=0?C:4294967296+C)*S,S*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(y(this))return"0";if(v(this))return"-"+x(this).toString(A);const S=c(Math.pow(A,6));var P=this;let C="";for(;;){const R=T(P,S).g;P=b(P,R.j(S));let k=((P.g.length>0?P.g[0]:P.h)>>>0).toString(A);if(P=R,y(P))return k+C;for(;k.length<6;)k="0"+k;C=k+C}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function y(A){if(A.h!=0)return!1;for(let S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function v(A){return A.h==-1}t.l=function(A){return A=b(this,A),v(A)?-1:y(A)?0:1};function x(A){const S=A.g.length,P=[];for(let C=0;C<S;C++)P[C]=~A.g[C];return new s(P,~A.h).add(f)}t.abs=function(){return v(this)?x(this):this},t.add=function(A){const S=Math.max(this.g.length,A.g.length),P=[];let C=0;for(let R=0;R<=S;R++){let k=C+(this.i(R)&65535)+(A.i(R)&65535),O=(k>>>16)+(this.i(R)>>>16)+(A.i(R)>>>16);C=O>>>16,k&=65535,O&=65535,P[R]=O<<16|k}return new s(P,P[P.length-1]&-2147483648?-1:0)};function b(A,S){return A.add(x(S))}t.j=function(A){if(y(this)||y(A))return h;if(v(this))return v(A)?x(this).j(x(A)):x(x(this).j(A));if(v(A))return x(this.j(x(A)));if(this.l(m)<0&&A.l(m)<0)return c(this.m()*A.m());const S=this.g.length+A.g.length,P=[];for(var C=0;C<2*S;C++)P[C]=0;for(C=0;C<this.g.length;C++)for(let R=0;R<A.g.length;R++){const k=this.i(C)>>>16,O=this.i(C)&65535,B=A.i(R)>>>16,J=A.i(R)&65535;P[2*C+2*R]+=O*J,w(P,2*C+2*R),P[2*C+2*R+1]+=k*J,w(P,2*C+2*R+1),P[2*C+2*R+1]+=O*B,w(P,2*C+2*R+1),P[2*C+2*R+2]+=k*B,w(P,2*C+2*R+2)}for(A=0;A<S;A++)P[A]=P[2*A+1]<<16|P[2*A];for(A=S;A<2*S;A++)P[A]=0;return new s(P,0)};function w(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function _(A,S){this.g=A,this.h=S}function T(A,S){if(y(S))throw Error("division by zero");if(y(A))return new _(h,h);if(v(A))return S=T(x(A),S),new _(x(S.g),x(S.h));if(v(S))return S=T(A,x(S)),new _(x(S.g),S.h);if(A.g.length>30){if(v(A)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var P=f,C=S;C.l(A)<=0;)P=I(P),C=I(C);var R=j(P,1),k=j(C,1);for(C=j(C,2),P=j(P,2);!y(C);){var O=k.add(C);O.l(A)<=0&&(R=R.add(P),k=O),C=j(C,1),P=j(P,1)}return S=b(A,R.j(S)),new _(R,S)}for(R=h;A.l(S)>=0;){for(P=Math.max(1,Math.floor(A.m()/S.m())),C=Math.ceil(Math.log(P)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),k=c(P),O=k.j(S);v(O)||O.l(A)>0;)P-=C,k=c(P),O=k.j(S);y(k)&&(k=f),R=R.add(k),A=b(A,O)}return new _(R,A)}t.B=function(A){return T(this,A).h},t.and=function(A){const S=Math.max(this.g.length,A.g.length),P=[];for(let C=0;C<S;C++)P[C]=this.i(C)&A.i(C);return new s(P,this.h&A.h)},t.or=function(A){const S=Math.max(this.g.length,A.g.length),P=[];for(let C=0;C<S;C++)P[C]=this.i(C)|A.i(C);return new s(P,this.h|A.h)},t.xor=function(A){const S=Math.max(this.g.length,A.g.length),P=[];for(let C=0;C<S;C++)P[C]=this.i(C)^A.i(C);return new s(P,this.h^A.h)};function I(A){const S=A.g.length+1,P=[];for(let C=0;C<S;C++)P[C]=A.i(C)<<1|A.i(C-1)>>>31;return new s(P,A.h)}function j(A,S){const P=S>>5;S%=32;const C=A.g.length-P,R=[];for(let k=0;k<C;k++)R[k]=S>0?A.i(k+P)>>>S|A.i(k+P+1)<<32-S:A.i(k+P);return new s(R,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,qB=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,el=s}).apply(typeof MD<"u"?MD:typeof self<"u"?self:typeof window<"u"?window:{});var dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HB,wm,GB,h0,kS,KB,WB,YB;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof dv=="object"&&dv];for(var E=0;E<p.length;++E){var N=p[E];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(p,E){if(E)e:{var N=r;p=p.split(".");for(var D=0;D<p.length-1;D++){var L=p[D];if(!(L in N))break e;N=N[L]}p=p[p.length-1],D=N[p],E=E(D),E!=D&&E!=null&&e(N,p,{configurable:!0,writable:!0,value:E})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(E){var N=[],D;for(D in E)Object.prototype.hasOwnProperty.call(E,D)&&N.push([D,E[D]]);return N}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function l(p,E,N){return p.call.apply(p.bind,arguments)}function c(p,E,N){return c=l,c.apply(null,arguments)}function u(p,E){var N=Array.prototype.slice.call(arguments,1);return function(){var D=N.slice();return D.push.apply(D,arguments),p.apply(this,D)}}function h(p,E){function N(){}N.prototype=E.prototype,p.Z=E.prototype,p.prototype=new N,p.prototype.constructor=p,p.Ob=function(D,L,z){for(var Z=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)Z[xe-2]=arguments[xe];return E.prototype[L].apply(D,Z)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function m(p){const E=p.length;if(E>0){const N=Array(E);for(let D=0;D<E;D++)N[D]=p[D];return N}return[]}function y(p,E){for(let D=1;D<arguments.length;D++){const L=arguments[D];var N=typeof L;if(N=N!="object"?N:L?Array.isArray(L)?"array":N:"null",N=="array"||N=="object"&&typeof L.length=="number"){N=p.length||0;const z=L.length||0;p.length=N+z;for(let Z=0;Z<z;Z++)p[N+Z]=L[Z]}else p.push(L)}}class v{constructor(E,N){this.i=E,this.j=N,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function x(p){s.setTimeout(()=>{throw p},0)}function b(){var p=A;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class w{constructor(){this.h=this.g=null}add(E,N){const D=_.get();D.set(E,N),this.h?this.h.next=D:this.g=D,this.h=D}}var _=new v(()=>new T,p=>p.reset());class T{constructor(){this.next=this.g=this.h=null}set(E,N){this.h=E,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let I,j=!1,A=new w,S=()=>{const p=Promise.resolve(void 0);I=()=>{p.then(P)}};function P(){for(var p;p=b();){try{p.h.call(p.g)}catch(N){x(N)}var E=_;E.j(p),E.h<100&&(E.h++,p.next=E.g,E.g=p)}j=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const N=()=>{};s.addEventListener("test",N,E),s.removeEventListener("test",N,E)}catch{}return p}();function O(p){return/^[\s\xa0]*$/.test(p)}function B(p,E){R.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,E)}h(B,R),B.prototype.init=function(p,E){const N=this.type=p.type,D=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget,E||(N=="mouseover"?E=p.fromElement:N=="mouseout"&&(E=p.toElement)),this.relatedTarget=E,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&B.Z.h.call(this)},B.prototype.h=function(){B.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var J="closure_listenable_"+(Math.random()*1e6|0),F=0;function H(p,E,N,D,L){this.listener=p,this.proxy=null,this.src=E,this.type=N,this.capture=!!D,this.ha=L,this.key=++F,this.da=this.fa=!1}function Q(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ne(p,E,N){for(const D in p)E.call(N,p[D],D,p)}function pe(p,E){for(const N in p)E.call(void 0,p[N],N,p)}function Jt(p){const E={};for(const N in p)E[N]=p[N];return E}const fn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Jn(p,E){let N,D;for(let L=1;L<arguments.length;L++){D=arguments[L];for(N in D)p[N]=D[N];for(let z=0;z<fn.length;z++)N=fn[z],Object.prototype.hasOwnProperty.call(D,N)&&(p[N]=D[N])}}function ct(p){this.src=p,this.g={},this.h=0}ct.prototype.add=function(p,E,N,D,L){const z=p.toString();p=this.g[z],p||(p=this.g[z]=[],this.h++);const Z=Qa(p,E,D,L);return Z>-1?(E=p[Z],N||(E.fa=!1)):(E=new H(E,this.src,z,!!D,L),E.fa=N,p.push(E)),E};function er(p,E){const N=E.type;if(N in p.g){var D=p.g[N],L=Array.prototype.indexOf.call(D,E,void 0),z;(z=L>=0)&&Array.prototype.splice.call(D,L,1),z&&(Q(E),p.g[N].length==0&&(delete p.g[N],p.h--))}}function Qa(p,E,N,D){for(let L=0;L<p.length;++L){const z=p[L];if(!z.da&&z.listener==E&&z.capture==!!N&&z.ha==D)return L}return-1}var An="closure_lm_"+(Math.random()*1e6|0),Bl={};function K(p,E,N,D,L){if(Array.isArray(E)){for(let z=0;z<E.length;z++)K(p,E[z],N,D,L);return null}return N=bf(N),p&&p[J]?p.J(E,N,o(D)?!!D.capture:!1,L):we(p,E,N,!1,D,L)}function we(p,E,N,D,L,z){if(!E)throw Error("Invalid event type");const Z=o(L)?!!L.capture:!!L;let xe=Bn(p);if(xe||(p[An]=xe=new ct(p)),N=xe.add(E,N,D,Z,z),N.proxy)return N;if(D=Ce(),N.proxy=D,D.src=p,D.listener=N,p.addEventListener)k||(L=Z),L===void 0&&(L=!1),p.addEventListener(E.toString(),D,L);else if(p.attachEvent)p.attachEvent(Be(E.toString()),D);else if(p.addListener&&p.removeListener)p.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Ce(){function p(N){return E.call(p.src,p.listener,N)}const E=gr;return p}function Y(p,E,N,D,L){if(Array.isArray(E))for(var z=0;z<E.length;z++)Y(p,E[z],N,D,L);else D=o(D)?!!D.capture:!!D,N=bf(N),p&&p[J]?(p=p.i,z=String(E).toString(),z in p.g&&(E=p.g[z],N=Qa(E,N,D,L),N>-1&&(Q(E[N]),Array.prototype.splice.call(E,N,1),E.length==0&&(delete p.g[z],p.h--)))):p&&(p=Bn(p))&&(E=p.g[E.toString()],p=-1,E&&(p=Qa(E,N,D,L)),(N=p>-1?E[p]:null)&&Nn(N))}function Nn(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[J])er(E.i,p);else{var N=p.type,D=p.proxy;E.removeEventListener?E.removeEventListener(N,D,p.capture):E.detachEvent?E.detachEvent(Be(N),D):E.addListener&&E.removeListener&&E.removeListener(D),(N=Bn(E))?(er(N,p),N.h==0&&(N.src=null,E[An]=null)):Q(p)}}}function Be(p){return p in Bl?Bl[p]:Bl[p]="on"+p}function gr(p,E){if(p.da)p=!0;else{E=new B(E,this);const N=p.listener,D=p.ha||p.src;p.fa&&Nn(p),p=N.call(D,E)}return p}function Bn(p){return p=p[An],p instanceof ct?p:null}var Wi="__closure_events_fn_"+(Math.random()*1e9>>>0);function bf(p){return typeof p=="function"?p:(p[Wi]||(p[Wi]=function(E){return p.handleEvent(E)}),p[Wi])}function tr(){C.call(this),this.i=new ct(this),this.M=this,this.G=null}h(tr,C),tr.prototype[J]=!0,tr.prototype.removeEventListener=function(p,E,N,D){Y(this,p,E,N,D)};function yr(p,E){var N,D=p.G;if(D)for(N=[];D;D=D.G)N.push(D);if(p=p.M,D=E.type||E,typeof E=="string")E=new R(E,p);else if(E instanceof R)E.target=E.target||p;else{var L=E;E=new R(D,p),Jn(E,L)}L=!0;let z,Z;if(N)for(Z=N.length-1;Z>=0;Z--)z=E.g=N[Z],L=Dy(z,D,!0,E)&&L;if(z=E.g=p,L=Dy(z,D,!0,E)&&L,L=Dy(z,D,!1,E)&&L,N)for(Z=0;Z<N.length;Z++)z=E.g=N[Z],L=Dy(z,D,!1,E)&&L}tr.prototype.N=function(){if(tr.Z.N.call(this),this.i){var p=this.i;for(const E in p.g){const N=p.g[E];for(let D=0;D<N.length;D++)Q(N[D]);delete p.g[E],p.h--}}this.G=null},tr.prototype.J=function(p,E,N,D){return this.i.add(String(p),E,!1,N,D)},tr.prototype.K=function(p,E,N,D){return this.i.add(String(p),E,!0,N,D)};function Dy(p,E,N,D){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();let L=!0;for(let z=0;z<E.length;++z){const Z=E[z];if(Z&&!Z.da&&Z.capture==N){const xe=Z.listener,mn=Z.ha||Z.src;Z.fa&&er(p.i,Z),L=xe.call(mn,D)!==!1&&L}}return L&&!D.defaultPrevented}function vQ(p,E){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=c(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:s.setTimeout(p,E||0)}function ER(p){p.g=vQ(()=>{p.g=null,p.i&&(p.i=!1,ER(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class xQ extends C{constructor(E,N){super(),this.m=E,this.l=N,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:ER(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wf(p){C.call(this),this.h=p,this.g={}}h(wf,C);var TR=[];function SR(p){ne(p.g,function(E,N){this.g.hasOwnProperty(N)&&Nn(E)},p),p.g={}}wf.prototype.N=function(){wf.Z.N.call(this),SR(this)},wf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var h1=s.JSON.stringify,bQ=s.JSON.parse,wQ=class{stringify(p){return s.JSON.stringify(p,void 0)}parse(p){return s.JSON.parse(p,void 0)}};function AR(){}function NR(){}var _f={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function f1(){R.call(this,"d")}h(f1,R);function m1(){R.call(this,"c")}h(m1,R);var Fl={},IR=null;function My(){return IR=IR||new tr}Fl.Ia="serverreachability";function PR(p){R.call(this,Fl.Ia,p)}h(PR,R);function Ef(p){const E=My();yr(E,new PR(E))}Fl.STAT_EVENT="statevent";function CR(p,E){R.call(this,Fl.STAT_EVENT,p),this.stat=E}h(CR,R);function vr(p){const E=My();yr(E,new CR(E,p))}Fl.Ja="timingevent";function jR(p,E){R.call(this,Fl.Ja,p),this.size=E}h(jR,R);function Tf(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){p()},E)}function Sf(){this.g=!0}Sf.prototype.ua=function(){this.g=!1};function _Q(p,E,N,D,L,z){p.info(function(){if(p.g)if(z){var Z="",xe=z.split("&");for(let Ze=0;Ze<xe.length;Ze++){var mn=xe[Ze].split("=");if(mn.length>1){const In=mn[0];mn=mn[1];const ha=In.split("_");Z=ha.length>=2&&ha[1]=="type"?Z+(In+"="+mn+"&"):Z+(In+"=redacted&")}}}else Z=null;else Z=z;return"XMLHTTP REQ ("+D+") [attempt "+L+"]: "+E+`
`+N+`
`+Z})}function EQ(p,E,N,D,L,z,Z){p.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+L+"]: "+E+`
`+N+`
`+z+" "+Z})}function Cu(p,E,N,D){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+SQ(p,N)+(D?" "+D:"")})}function TQ(p,E){p.info(function(){return"TIMEOUT: "+E})}Sf.prototype.info=function(){};function SQ(p,E){if(!p.g)return E;if(!E)return null;try{const z=JSON.parse(E);if(z){for(p=0;p<z.length;p++)if(Array.isArray(z[p])){var N=z[p];if(!(N.length<2)){var D=N[1];if(Array.isArray(D)&&!(D.length<1)){var L=D[0];if(L!="noop"&&L!="stop"&&L!="close")for(let Z=1;Z<D.length;Z++)D[Z]=""}}}}return h1(z)}catch{return E}}var Ly={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},RR={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},OR;function p1(){}h(p1,AR),p1.prototype.g=function(){return new XMLHttpRequest},OR=new p1;function Af(p){return encodeURIComponent(String(p))}function AQ(p){var E=1;p=p.split(":");const N=[];for(;E>0&&p.length;)N.push(p.shift()),E--;return p.length&&N.push(p.join(":")),N}function uo(p,E,N,D){this.j=p,this.i=E,this.l=N,this.S=D||1,this.V=new wf(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new kR}function kR(){this.i=null,this.g="",this.h=!1}var DR={},g1={};function y1(p,E,N){p.M=1,p.A=Uy(da(E)),p.u=N,p.R=!0,MR(p,null)}function MR(p,E){p.F=Date.now(),Vy(p),p.B=da(p.A);var N=p.B,D=p.S;Array.isArray(D)||(D=[String(D)]),YR(N.i,"t",D),p.C=0,N=p.j.L,p.h=new kR,p.g=fO(p.j,N?E:null,!p.u),p.P>0&&(p.O=new xQ(c(p.Y,p,p.g),p.P)),E=p.V,N=p.g,D=p.ba;var L="readystatechange";Array.isArray(L)||(L&&(TR[0]=L.toString()),L=TR);for(let z=0;z<L.length;z++){const Z=K(N,L[z],D||E.handleEvent,!1,E.h||E);if(!Z)break;E.g[Z.key]=Z}E=p.J?Jt(p.J):{},p.u?(p.v||(p.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,E)):(p.v="GET",p.g.ea(p.B,p.v,null,E)),Ef(),_Q(p.i,p.v,p.B,p.l,p.S,p.u)}uo.prototype.ba=function(p){p=p.target;const E=this.O;E&&mo(p)==3?E.j():this.Y(p)},uo.prototype.Y=function(p){try{if(p==this.g)e:{const xe=mo(this.g),mn=this.g.ya(),Ze=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||nO(this.g)))){this.K||xe!=4||mn==7||(mn==8||Ze<=0?Ef(3):Ef(2)),v1(this);var E=this.g.ca();this.X=E;var N=NQ(this);if(this.o=E==200,EQ(this.i,this.v,this.B,this.l,this.S,xe,E),this.o){if(this.U&&!this.L){t:{if(this.g){var D,L=this.g;if((D=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(D)){var z=D;break t}}z=null}if(p=z)Cu(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,x1(this,p);else{this.o=!1,this.m=3,vr(12),$l(this),Nf(this);break e}}if(this.R){p=!0;let In;for(;!this.K&&this.C<N.length;)if(In=IQ(this,N),In==g1){xe==4&&(this.m=4,vr(14),p=!1),Cu(this.i,this.l,null,"[Incomplete Response]");break}else if(In==DR){this.m=4,vr(15),Cu(this.i,this.l,N,"[Invalid Chunk]"),p=!1;break}else Cu(this.i,this.l,In,null),x1(this,In);if(LR(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||N.length!=0||this.h.h||(this.m=1,vr(16),p=!1),this.o=this.o&&p,!p)Cu(this.i,this.l,N,"[Invalid Chunked Response]"),$l(this),Nf(this);else if(N.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),N1(Z),Z.P=!0,vr(11))}}else Cu(this.i,this.l,N,null),x1(this,N);xe==4&&$l(this),this.o&&!this.K&&(xe==4?cO(this.j,this):(this.o=!1,Vy(this)))}else FQ(this.g),E==400&&N.indexOf("Unknown SID")>0?(this.m=3,vr(12)):(this.m=0,vr(13)),$l(this),Nf(this)}}}catch{}finally{}};function NQ(p){if(!LR(p))return p.g.la();const E=nO(p.g);if(E==="")return"";let N="";const D=E.length,L=mo(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return $l(p),Nf(p),"";p.h.i=new s.TextDecoder}for(let z=0;z<D;z++)p.h.h=!0,N+=p.h.i.decode(E[z],{stream:!(L&&z==D-1)});return E.length=0,p.h.g+=N,p.C=0,p.h.g}function LR(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function IQ(p,E){var N=p.C,D=E.indexOf(`
`,N);return D==-1?g1:(N=Number(E.substring(N,D)),isNaN(N)?DR:(D+=1,D+N>E.length?g1:(E=E.slice(D,D+N),p.C=D+N,E)))}uo.prototype.cancel=function(){this.K=!0,$l(this)};function Vy(p){p.T=Date.now()+p.H,VR(p,p.H)}function VR(p,E){if(p.D!=null)throw Error("WatchDog timer not null");p.D=Tf(c(p.aa,p),E)}function v1(p){p.D&&(s.clearTimeout(p.D),p.D=null)}uo.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(TQ(this.i,this.B),this.M!=2&&(Ef(),vr(17)),$l(this),this.m=2,Nf(this)):VR(this,this.T-p)};function Nf(p){p.j.I==0||p.K||cO(p.j,p)}function $l(p){v1(p);var E=p.O;E&&typeof E.dispose=="function"&&E.dispose(),p.O=null,SR(p.V),p.g&&(E=p.g,p.g=null,E.abort(),E.dispose())}function x1(p,E){try{var N=p.j;if(N.I!=0&&(N.g==p||b1(N.h,p))){if(!p.L&&b1(N.h,p)&&N.I==3){try{var D=N.Ba.g.parse(E)}catch{D=null}if(Array.isArray(D)&&D.length==3){var L=D;if(L[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<p.F)qy(N),Fy(N);else break e;A1(N),vr(18)}}else N.xa=L[1],0<N.xa-N.K&&L[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=Tf(c(N.Va,N),6e3));BR(N.h)<=1&&N.ta&&(N.ta=void 0)}else Hl(N,11)}else if((p.L||N.g==p)&&qy(N),!O(E))for(L=N.Ba.g.parse(E),E=0;E<L.length;E++){let Ze=L[E];const In=Ze[0];if(!(In<=N.K))if(N.K=In,Ze=Ze[1],N.I==2)if(Ze[0]=="c"){N.M=Ze[1],N.ba=Ze[2];const ha=Ze[3];ha!=null&&(N.ka=ha,N.j.info("VER="+N.ka));const Gl=Ze[4];Gl!=null&&(N.za=Gl,N.j.info("SVER="+N.za));const po=Ze[5];po!=null&&typeof po=="number"&&po>0&&(D=1.5*po,N.O=D,N.j.info("backChannelRequestTimeoutMs_="+D)),D=N;const go=p.g;if(go){const Gy=go.g?go.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gy){var z=D.h;z.g||Gy.indexOf("spdy")==-1&&Gy.indexOf("quic")==-1&&Gy.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(w1(z,z.h),z.h=null))}if(D.G){const I1=go.g?go.g.getResponseHeader("X-HTTP-Session-Id"):null;I1&&(D.wa=I1,ut(D.J,D.G,I1))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-p.F,N.j.info("Handshake RTT: "+N.T+"ms")),D=N;var Z=p;if(D.na=hO(D,D.L?D.ba:null,D.W),Z.L){FR(D.h,Z);var xe=Z,mn=D.O;mn&&(xe.H=mn),xe.D&&(v1(xe),Vy(xe)),D.g=Z}else oO(D);N.i.length>0&&$y(N)}else Ze[0]!="stop"&&Ze[0]!="close"||Hl(N,7);else N.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Hl(N,7):S1(N):Ze[0]!="noop"&&N.l&&N.l.qa(Ze),N.A=0)}}Ef(4)}catch{}}var PQ=class{constructor(p,E){this.g=p,this.map=E}};function UR(p){this.l=p||10,s.PerformanceNavigationTiming?(p=s.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zR(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function BR(p){return p.h?1:p.g?p.g.size:0}function b1(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function w1(p,E){p.g?p.g.add(E):p.h=E}function FR(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}UR.prototype.cancel=function(){if(this.i=$R(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function $R(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const N of p.g.values())E=E.concat(N.G);return E}return m(p.i)}var qR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function CQ(p,E){if(p){p=p.split("&");for(let N=0;N<p.length;N++){const D=p[N].indexOf("=");let L,z=null;D>=0?(L=p[N].substring(0,D),z=p[N].substring(D+1)):L=p[N],E(L,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function ho(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;p instanceof ho?(this.l=p.l,If(this,p.j),this.o=p.o,this.g=p.g,Pf(this,p.u),this.h=p.h,_1(this,QR(p.i)),this.m=p.m):p&&(E=String(p).match(qR))?(this.l=!1,If(this,E[1]||"",!0),this.o=Cf(E[2]||""),this.g=Cf(E[3]||"",!0),Pf(this,E[4]),this.h=Cf(E[5]||"",!0),_1(this,E[6]||"",!0),this.m=Cf(E[7]||"")):(this.l=!1,this.i=new Rf(null,this.l))}ho.prototype.toString=function(){const p=[];var E=this.j;E&&p.push(jf(E,HR,!0),":");var N=this.g;return(N||E=="file")&&(p.push("//"),(E=this.o)&&p.push(jf(E,HR,!0),"@"),p.push(Af(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&p.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&p.push("/"),p.push(jf(N,N.charAt(0)=="/"?OQ:RQ,!0))),(N=this.i.toString())&&p.push("?",N),(N=this.m)&&p.push("#",jf(N,DQ)),p.join("")},ho.prototype.resolve=function(p){const E=da(this);let N=!!p.j;N?If(E,p.j):N=!!p.o,N?E.o=p.o:N=!!p.g,N?E.g=p.g:N=p.u!=null;var D=p.h;if(N)Pf(E,p.u);else if(N=!!p.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var L=E.h.lastIndexOf("/");L!=-1&&(D=E.h.slice(0,L+1)+D)}if(L=D,L==".."||L==".")D="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){D=L.lastIndexOf("/",0)==0,L=L.split("/");const z=[];for(let Z=0;Z<L.length;){const xe=L[Z++];xe=="."?D&&Z==L.length&&z.push(""):xe==".."?((z.length>1||z.length==1&&z[0]!="")&&z.pop(),D&&Z==L.length&&z.push("")):(z.push(xe),D=!0)}D=z.join("/")}else D=L}return N?E.h=D:N=p.i.toString()!=="",N?_1(E,QR(p.i)):N=!!p.m,N&&(E.m=p.m),E};function da(p){return new ho(p)}function If(p,E,N){p.j=N?Cf(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function Pf(p,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);p.u=E}else p.u=null}function _1(p,E,N){E instanceof Rf?(p.i=E,MQ(p.i,p.l)):(N||(E=jf(E,kQ)),p.i=new Rf(E,p.l))}function ut(p,E,N){p.i.set(E,N)}function Uy(p){return ut(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Cf(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function jf(p,E,N){return typeof p=="string"?(p=encodeURI(p).replace(E,jQ),N&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function jQ(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var HR=/[#\/\?@]/g,RQ=/[#\?:]/g,OQ=/[#\?]/g,kQ=/[#\?@]/g,DQ=/#/g;function Rf(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function ql(p){p.g||(p.g=new Map,p.h=0,p.i&&CQ(p.i,function(E,N){p.add(decodeURIComponent(E.replace(/\+/g," ")),N)}))}t=Rf.prototype,t.add=function(p,E){ql(this),this.i=null,p=ju(this,p);let N=this.g.get(p);return N||this.g.set(p,N=[]),N.push(E),this.h+=1,this};function GR(p,E){ql(p),E=ju(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function KR(p,E){return ql(p),E=ju(p,E),p.g.has(E)}t.forEach=function(p,E){ql(this),this.g.forEach(function(N,D){N.forEach(function(L){p.call(E,L,D,this)},this)},this)};function WR(p,E){ql(p);let N=[];if(typeof E=="string")KR(p,E)&&(N=N.concat(p.g.get(ju(p,E))));else for(p=Array.from(p.g.values()),E=0;E<p.length;E++)N=N.concat(p[E]);return N}t.set=function(p,E){return ql(this),this.i=null,p=ju(this,p),KR(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},t.get=function(p,E){return p?(p=WR(this,p),p.length>0?String(p[0]):E):E};function YR(p,E,N){GR(p,E),N.length>0&&(p.i=null,p.g.set(ju(p,E),m(N)),p.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(let D=0;D<E.length;D++){var N=E[D];const L=Af(N);N=WR(this,N);for(let z=0;z<N.length;z++){let Z=L;N[z]!==""&&(Z+="="+Af(N[z])),p.push(Z)}}return this.i=p.join("&")};function QR(p){const E=new Rf;return E.i=p.i,p.g&&(E.g=new Map(p.g),E.h=p.h),E}function ju(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function MQ(p,E){E&&!p.j&&(ql(p),p.i=null,p.g.forEach(function(N,D){const L=D.toLowerCase();D!=L&&(GR(this,D),YR(this,L,N))},p)),p.j=E}function LQ(p,E){const N=new Sf;if(s.Image){const D=new Image;D.onload=u(fo,N,"TestLoadImage: loaded",!0,E,D),D.onerror=u(fo,N,"TestLoadImage: error",!1,E,D),D.onabort=u(fo,N,"TestLoadImage: abort",!1,E,D),D.ontimeout=u(fo,N,"TestLoadImage: timeout",!1,E,D),s.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=p}else E(!1)}function VQ(p,E){const N=new Sf,D=new AbortController,L=setTimeout(()=>{D.abort(),fo(N,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:D.signal}).then(z=>{clearTimeout(L),z.ok?fo(N,"TestPingServer: ok",!0,E):fo(N,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(L),fo(N,"TestPingServer: error",!1,E)})}function fo(p,E,N,D,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),D(N)}catch{}}function UQ(){this.g=new wQ}function E1(p){this.i=p.Sb||null,this.h=p.ab||!1}h(E1,AR),E1.prototype.g=function(){return new zy(this.i,this.h)};function zy(p,E){tr.call(this),this.H=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(zy,tr),t=zy.prototype,t.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=E,this.readyState=1,kf(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(E.body=p),(this.H||s).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Of(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,kf(this)),this.g&&(this.readyState=3,kf(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;XR(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function XR(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?Of(this):kf(this),this.readyState==3&&XR(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,Of(this))},t.Na=function(p){this.g&&(this.response=p,Of(this))},t.ga=function(){this.g&&Of(this)};function Of(p){p.readyState=4,p.l=null,p.j=null,p.B=null,kf(p)}t.setRequestHeader=function(p,E){this.A.append(p,E)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var N=E.next();!N.done;)N=N.value,p.push(N[0]+": "+N[1]),N=E.next();return p.join(`\r
`)};function kf(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(zy.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function ZR(p){let E="";return ne(p,function(N,D){E+=D,E+=":",E+=N,E+=`\r
`}),E}function T1(p,E,N){e:{for(D in N){var D=!1;break e}D=!0}D||(N=ZR(N),typeof p=="string"?N!=null&&Af(N):ut(p,E,N))}function Mt(p){tr.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Mt,tr);var zQ=/^https?$/i,BQ=["POST","PUT"];t=Mt.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,E,N,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():OR.g(),this.g.onreadystatechange=f(c(this.Ca,this));try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(z){JR(this,z);return}if(p=N||"",N=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var L in D)N.set(L,D[L]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const z of D.keys())N.set(z,D.get(z));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(N.keys()).find(z=>z.toLowerCase()=="content-type"),L=s.FormData&&p instanceof s.FormData,!(Array.prototype.indexOf.call(BQ,E,void 0)>=0)||D||L||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,Z]of N)this.g.setRequestHeader(z,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(z){JR(this,z)}};function JR(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.o=5,eO(p),By(p)}function eO(p){p.A||(p.A=!0,yr(p,"complete"),yr(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,yr(this,"complete"),yr(this,"abort"),By(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),By(this,!0)),Mt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?tO(this):this.Xa())},t.Xa=function(){tO(this)};function tO(p){if(p.h&&typeof a<"u"){if(p.v&&mo(p)==4)setTimeout(p.Ca.bind(p),0);else if(yr(p,"readystatechange"),mo(p)==4){p.h=!1;try{const z=p.ca();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var N;if(!(N=E)){var D;if(D=z===0){let Z=String(p.D).match(qR)[1]||null;!Z&&s.self&&s.self.location&&(Z=s.self.location.protocol.slice(0,-1)),D=!zQ.test(Z?Z.toLowerCase():"")}N=D}if(N)yr(p,"complete"),yr(p,"success");else{p.o=6;try{var L=mo(p)>2?p.g.statusText:""}catch{L=""}p.l=L+" ["+p.ca()+"]",eO(p)}}finally{By(p)}}}}function By(p,E){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const N=p.g;p.g=null,E||yr(p,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function mo(p){return p.g?p.g.readyState:0}t.ca=function(){try{return mo(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),bQ(E)}};function nO(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function FQ(p){const E={};p=(p.g&&mo(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<p.length;D++){if(O(p[D]))continue;var N=AQ(p[D]);const L=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const z=E[L]||[];E[L]=z,z.push(N)}pe(E,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Df(p,E,N){return N&&N.internalChannelParams&&N.internalChannelParams[p]||E}function rO(p){this.za=0,this.i=[],this.j=new Sf,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Df("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Df("baseRetryDelayMs",5e3,p),this.Za=Df("retryDelaySeedMs",1e4,p),this.Ta=Df("forwardChannelMaxRetries",2,p),this.va=Df("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new UR(p&&p.concurrentRequestLimit),this.Ba=new UQ,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=rO.prototype,t.ka=8,t.I=1,t.connect=function(p,E,N,D){vr(0),this.W=p,this.H=E||{},N&&D!==void 0&&(this.H.OSID=N,this.H.OAID=D),this.F=this.X,this.J=hO(this,null,this.W),$y(this)};function S1(p){if(iO(p),p.I==3){var E=p.V++,N=da(p.J);if(ut(N,"SID",p.M),ut(N,"RID",E),ut(N,"TYPE","terminate"),Mf(p,N),E=new uo(p,p.j,E),E.M=2,E.A=Uy(da(N)),N=!1,s.navigator&&s.navigator.sendBeacon)try{N=s.navigator.sendBeacon(E.A.toString(),"")}catch{}!N&&s.Image&&(new Image().src=E.A,N=!0),N||(E.g=fO(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Vy(E)}dO(p)}function Fy(p){p.g&&(N1(p),p.g.cancel(),p.g=null)}function iO(p){Fy(p),p.v&&(s.clearTimeout(p.v),p.v=null),qy(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&s.clearTimeout(p.m),p.m=null)}function $y(p){if(!zR(p.h)&&!p.m){p.m=!0;var E=p.Ea;I||S(),j||(I(),j=!0),A.add(E,p),p.D=0}}function $Q(p,E){return BR(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=E.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=Tf(c(p.Ea,p,E),uO(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const L=new uo(this,this.j,p);let z=this.o;if(this.U&&(z?(z=Jt(z),Jn(z,this.U)):z=this.U),this.u!==null||this.R||(L.J=z,z=null),this.S)e:{for(var E=0,N=0;N<this.i.length;N++){t:{var D=this.i[N];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(E+=D,E>4096){E=N;break e}if(E===4096||N===this.i.length-1){E=N+1;break e}}E=1e3}else E=1e3;E=sO(this,L,E),N=da(this.J),ut(N,"RID",p),ut(N,"CVER",22),this.G&&ut(N,"X-HTTP-Session-Id",this.G),Mf(this,N),z&&(this.R?E="headers="+Af(ZR(z))+"&"+E:this.u&&T1(N,this.u,z)),w1(this.h,L),this.Ra&&ut(N,"TYPE","init"),this.S?(ut(N,"$req",E),ut(N,"SID","null"),L.U=!0,y1(L,N,null)):y1(L,N,E),this.I=2}}else this.I==3&&(p?aO(this,p):this.i.length==0||zR(this.h)||aO(this))};function aO(p,E){var N;E?N=E.l:N=p.V++;const D=da(p.J);ut(D,"SID",p.M),ut(D,"RID",N),ut(D,"AID",p.K),Mf(p,D),p.u&&p.o&&T1(D,p.u,p.o),N=new uo(p,p.j,N,p.D+1),p.u===null&&(N.J=p.o),E&&(p.i=E.G.concat(p.i)),E=sO(p,N,1e3),N.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),w1(p.h,N),y1(N,D,E)}function Mf(p,E){p.H&&ne(p.H,function(N,D){ut(E,D,N)}),p.l&&ne({},function(N,D){ut(E,D,N)})}function sO(p,E,N){N=Math.min(p.i.length,N);const D=p.l?c(p.l.Ka,p.l,p):null;e:{var L=p.i;let xe=-1;for(;;){const mn=["count="+N];xe==-1?N>0?(xe=L[0].g,mn.push("ofs="+xe)):xe=0:mn.push("ofs="+xe);let Ze=!0;for(let In=0;In<N;In++){var z=L[In].g;const ha=L[In].map;if(z-=xe,z<0)xe=Math.max(0,L[In].g-100),Ze=!1;else try{z="req"+z+"_"||"";try{var Z=ha instanceof Map?ha:Object.entries(ha);for(const[Gl,po]of Z){let go=po;o(po)&&(go=h1(po)),mn.push(z+Gl+"="+encodeURIComponent(go))}}catch(Gl){throw mn.push(z+"type="+encodeURIComponent("_badmap")),Gl}}catch{D&&D(ha)}}if(Ze){Z=mn.join("&");break e}}Z=void 0}return p=p.i.splice(0,N),E.G=p,Z}function oO(p){if(!p.g&&!p.v){p.Y=1;var E=p.Da;I||S(),j||(I(),j=!0),A.add(E,p),p.A=0}}function A1(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=Tf(c(p.Da,p),uO(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,lO(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=Tf(c(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vr(10),Fy(this),lO(this))};function N1(p){p.B!=null&&(s.clearTimeout(p.B),p.B=null)}function lO(p){p.g=new uo(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var E=da(p.na);ut(E,"RID","rpc"),ut(E,"SID",p.M),ut(E,"AID",p.K),ut(E,"CI",p.F?"0":"1"),!p.F&&p.ia&&ut(E,"TO",p.ia),ut(E,"TYPE","xmlhttp"),Mf(p,E),p.u&&p.o&&T1(E,p.u,p.o),p.O&&(p.g.H=p.O);var N=p.g;p=p.ba,N.M=1,N.A=Uy(da(E)),N.u=null,N.R=!0,MR(N,p)}t.Va=function(){this.C!=null&&(this.C=null,Fy(this),A1(this),vr(19))};function qy(p){p.C!=null&&(s.clearTimeout(p.C),p.C=null)}function cO(p,E){var N=null;if(p.g==E){qy(p),N1(p),p.g=null;var D=2}else if(b1(p.h,E))N=E.G,FR(p.h,E),D=1;else return;if(p.I!=0){if(E.o)if(D==1){N=E.u?E.u.length:0,E=Date.now()-E.F;var L=p.D;D=My(),yr(D,new jR(D,N)),$y(p)}else oO(p);else if(L=E.m,L==3||L==0&&E.X>0||!(D==1&&$Q(p,E)||D==2&&A1(p)))switch(N&&N.length>0&&(E=p.h,E.i=E.i.concat(N)),L){case 1:Hl(p,5);break;case 4:Hl(p,10);break;case 3:Hl(p,6);break;default:Hl(p,2)}}}function uO(p,E){let N=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(N*=2),N*E}function Hl(p,E){if(p.j.info("Error code "+E),E==2){var N=c(p.bb,p),D=p.Ua;const L=!D;D=new ho(D||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||If(D,"https"),Uy(D),L?LQ(D.toString(),N):VQ(D.toString(),N)}else vr(2);p.I=0,p.l&&p.l.pa(E),dO(p),iO(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),vr(2)):(this.j.info("Failed to ping google.com"),vr(1))};function dO(p){if(p.I=0,p.ja=[],p.l){const E=$R(p.h);(E.length!=0||p.i.length!=0)&&(y(p.ja,E),y(p.ja,p.i),p.h.i.length=0,m(p.i),p.i.length=0),p.l.oa()}}function hO(p,E,N){var D=N instanceof ho?da(N):new ho(N);if(D.g!="")E&&(D.g=E+"."+D.g),Pf(D,D.u);else{var L=s.location;D=L.protocol,E=E?E+"."+L.hostname:L.hostname,L=+L.port;const z=new ho(null);D&&If(z,D),E&&(z.g=E),L&&Pf(z,L),N&&(z.h=N),D=z}return N=p.G,E=p.wa,N&&E&&ut(D,N,E),ut(D,"VER",p.ka),Mf(p,D),D}function fO(p,E,N){if(E&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Aa&&!p.ma?new Mt(new E1({ab:N})):new Mt(p.ma),E.Fa(p.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mO(){}t=mO.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Hy(){}Hy.prototype.g=function(p,E){return new Kr(p,E)};function Kr(p,E){tr.call(this),this.g=new rO(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(p?p["X-WebChannel-Client-Profile"]=E.sa:p={"X-WebChannel-Client-Profile":E.sa}),this.g.U=p,(p=E&&E.Qb)&&!O(p)&&(this.g.u=p),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!O(E)&&(this.g.G=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new Ru(this)}h(Kr,tr),Kr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Kr.prototype.close=function(){S1(this.g)},Kr.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var N={};N.__data__=p,p=N}else this.v&&(N={},N.__data__=h1(p),p=N);E.i.push(new PQ(E.Ya++,p)),E.I==3&&$y(E)},Kr.prototype.N=function(){this.g.l=null,delete this.j,S1(this.g),delete this.g,Kr.Z.N.call(this)};function pO(p){f1.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const N in E){p=N;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}h(pO,f1);function gO(){m1.call(this),this.status=1}h(gO,m1);function Ru(p){this.g=p}h(Ru,mO),Ru.prototype.ra=function(){yr(this.g,"a")},Ru.prototype.qa=function(p){yr(this.g,new pO(p))},Ru.prototype.pa=function(p){yr(this.g,new gO)},Ru.prototype.oa=function(){yr(this.g,"b")},Hy.prototype.createWebChannel=Hy.prototype.g,Kr.prototype.send=Kr.prototype.o,Kr.prototype.open=Kr.prototype.m,Kr.prototype.close=Kr.prototype.close,YB=function(){return new Hy},WB=function(){return My()},KB=Fl,kS={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ly.NO_ERROR=0,Ly.TIMEOUT=8,Ly.HTTP_ERROR=6,h0=Ly,RR.COMPLETE="complete",GB=RR,NR.EventType=_f,_f.OPEN="a",_f.CLOSE="b",_f.ERROR="c",_f.MESSAGE="d",tr.prototype.listen=tr.prototype.J,wm=NR,Mt.prototype.listenOnce=Mt.prototype.K,Mt.prototype.getLastError=Mt.prototype.Ha,Mt.prototype.getLastErrorCode=Mt.prototype.ya,Mt.prototype.getStatus=Mt.prototype.ca,Mt.prototype.getResponseJson=Mt.prototype.La,Mt.prototype.getResponseText=Mt.prototype.la,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Fa,HB=Mt}).apply(typeof dv<"u"?dv:typeof self<"u"?self:typeof window<"u"?window:{});const LD="@firebase/firestore",VD="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=new mw("@firebase/firestore");function Qu(){return dl.logLevel}function sce(t){dl.setLogLevel(t)}function G(t,...e){if(dl.logLevel<=Ee.DEBUG){const n=e.map(vP);dl.debug(`Firestore (${Yh}): ${t}`,...n)}}function Wt(t,...e){if(dl.logLevel<=Ee.ERROR){const n=e.map(vP);dl.error(`Firestore (${Yh}): ${t}`,...n)}}function Va(t,...e){if(dl.logLevel<=Ee.WARN){const n=e.map(vP);dl.warn(`Firestore (${Yh}): ${t}`,...n)}}function vP(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,QB(t,r,n)}function QB(t,e,n){let r=`FIRESTORE (${Yh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Wt(r),new Error(r)}function oe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||QB(e,i,r)}function oce(t,e){t||re(57014,e)}function ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends ur{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rn.UNAUTHENTICATED))}shutdown(){}}class cce{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uce{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){oe(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Xn;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Xn,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Xn)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(oe(typeof r.accessToken=="string",31837,{l:r}),new XB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return oe(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class dce{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hce{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new dce(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fce{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){oe(this.o===void 0,3512);const r=a=>{a.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,G("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new UD(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(oe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new UD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mce(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=mce(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function DS(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return AE(i)===AE(a)?he(i,a):AE(i)?1:-1}return he(t.length,e.length)}const pce=55296,gce=57343;function AE(t){const e=t.charCodeAt(0);return e>=pce&&e<=gce}function rh(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function ZB(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="__name__";class fa{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&re(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return fa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=fa.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return he(e.length,n.length)}static compareSegments(e,n){const r=fa.isNumericId(e),i=fa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?fa.extractNumericId(e).compare(fa.extractNumericId(n)):DS(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return el.fromString(e.substring(4,e.length-2))}}class Se extends fa{construct(e,n,r){return new Se(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const yce=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends fa{construct(e,n,r){return new St(e,n,r)}static isValidIdentifier(e){return yce.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zD}static keyField(){return new St([zD])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(n)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.path=e}static fromPath(e){return new X(Se.fromString(e))}static fromName(e){return new X(Se.fromString(e).popFirst(5))}static empty(){return new X(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new Se(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t,e,n){if(!n)throw new q(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JB(t,e,n,r){if(e===!0&&r===!0)throw new q(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function BD(t){if(!X.isDocumentKey(t))throw new q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function FD(t){if(X.isDocumentKey(t))throw new q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function eF(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Aw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re(12329,{type:typeof t})}function ke(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Aw(t);throw new q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function tF(t,e){if(e<=0)throw new q(U.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t,e){const n={typeString:t};return e&&(n.value=e),n}function Wg(t,e){if(!eF(t))throw new q(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new q(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=-62135596800,qD=1e6;class ze{static now(){return ze.fromMillis(Date.now())}static fromDate(e){return ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*qD);return new ze(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$D)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qD}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wg(e,ze._jsonSchema))return new ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$D;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ze._jsonSchemaVersion="firestore/timestamp/1.0",ze._jsonSchema={type:ln("string",ze._jsonSchemaVersion),seconds:ln("number"),nanoseconds:ln("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(e){return new ce(e)}static min(){return new ce(new ze(0,0))}static max(){return new ce(new ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=-1;class bx{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function MS(t){return t.fields.find(e=>e.kind===2)}function nc(t){return t.fields.filter(e=>e.kind!==2)}bx.UNKNOWN_ID=-1;class f0{constructor(e,n){this.fieldPath=e,this.kind=n}}class Vp{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Vp(0,gi.min())}}function nF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new ze(n+1,0):new ze(n,r));return new gi(i,X.empty(),e)}function rF(t){return new gi(t.readTime,t.key,ih)}class gi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new gi(ce.min(),X.empty(),ih)}static max(){return new gi(ce.max(),X.empty(),ih)}}function wP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==iF)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++o,o===a&&r(s)},u=>i(u))}})}static doWhile(e,n){return new M((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="SimpleDb";class Nw{static open(e,n,r,i){try{return new Nw(n,e.transaction(i,r))}catch(a){throw new Zm(n,a)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Xn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Zm(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=_P(r.target.error);this.S.reject(new Zm(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(G(Xr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new xce(n)}}class Pa{static delete(e){return G(Xr,"Removing database:",e),uc(BI().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!jp())return!1;if(Pa.F())return!0;const e=Rt(),n=Pa.M(e),r=0<n&&n<10,i=sF(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Pa.M(Rt())===12.2&&Wt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(G(Xr,"Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const s=a.target.result;n(s)},i.onblocked=()=>{r(new Zm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const s=a.target.error;s.name==="VersionError"?r(new q(U.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new q(U.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Zm(e,s))},i.onupgradeneeded=a=>{G(Xr,'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const s=a.target.result;this.N.k(s,i.transaction,a.oldVersion,this.version).next(()=>{G(Xr,"Database upgrade to version "+this.version+" complete")})}})),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const a=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.L(e);const o=Nw.open(this.db,e,a?"readonly":"readwrite",r),l=i(o).next(c=>(o.C(),c)).catch(c=>(o.abort(c),M.reject(c))).toPromise();return l.catch(()=>{}),await o.D,l}catch(o){const l=o,c=l.name!=="FirebaseError"&&s<3;if(G(Xr,"Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function sF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class vce{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return uc(this.U.delete())}}class Zm extends q{constructor(e,n){super(U.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function jl(t){return t.name==="IndexedDbTransactionError"}class xce{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(G(Xr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(G(Xr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),uc(r)}add(e){return G(Xr,"ADD",this.store.name,e,e),uc(this.store.add(e))}get(e){return uc(this.store.get(e)).next(n=>(n===void 0&&(n=null),G(Xr,"GET",this.store.name,e,n),n))}delete(e){return G(Xr,"DELETE",this.store.name,e),uc(this.store.delete(e))}count(){return G(Xr,"COUNT",this.store.name),uc(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(r.range);return new M((s,o)=>{a.onerror=l=>{o(l.target.error)},a.onsuccess=l=>{s(l.target.result)}})}{const a=this.cursor(r),s=[];return this.H(a,(o,l)=>{s.push(l)}).next(()=>s)}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new M((i,a)=>{r.onerror=s=>{a(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}Z(e,n){G(Xr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,(a,s,o)=>o.delete())}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new M((r,i)=>{n.onerror=a=>{const s=_P(a.target.error);i(s)},n.onsuccess=a=>{const s=a.target.result;s?e(s.primaryKey,s.value).next(o=>{o?s.continue():r()}):r()}})}H(e,n){const r=[];return new M((i,a)=>{e.onerror=s=>{a(s.target.error)},e.onsuccess=s=>{const o=s.target.result;if(!o)return void i();const l=new vce(o),c=n(o.primaryKey,o.value,l);if(c instanceof M){const u=c.catch(h=>(l.done(),M.reject(h)));r.push(u)}l.isDone?i():l.G===null?o.continue():o.continue(l.G)}}).next(()=>M.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function uc(t){return new M((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=_P(r.target.error);n(i)}})}let HD=!1;function _P(t){const e=Pa.M(Rt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new q("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return HD||(HD=!0,setTimeout(()=>{throw r},0)),r}}return t}const Jm="IndexBackfiller";class bce{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){G(Jm,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const n=await this.ne.ie();G(Jm,`Documents written: ${n}`)}catch(n){jl(n)?G(Jm,"Ignoring IndexedDB error during index backfill: ",n):await Cl(n)}await this.re(6e4)})}}class wce{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.se(n,e))}se(e,n){const r=new Set;let i=n,a=!0;return M.doWhile(()=>a===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return G(Jm,`Processing collection: ${s}`),this.oe(e,s,i).next(o=>{i-=o,r.add(s)});a=!1})).next(()=>n-i)}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(a=>{const s=a.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this._e(i,a)).next(o=>(G(Jm,`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,n,o))).next(()=>s.size)}))}_e(e,n){let r=e;return n.changes.forEach((i,a)=>{const s=rF(a);wP(s,r)>0&&(r=s)}),new gi(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=-1;function Yg(t){return t==null}function Up(t){return t===0&&1/t==-1/0}function oF(t){return typeof t=="number"&&Number.isInteger(t)&&!Up(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="";function dr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=GD(e)),e=_ce(t.get(n),e);return GD(e)}function _ce(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case wx:n+="";break;default:n+=a}}return n}function GD(t){return t+wx+""}function Sa(t){const e=t.length;if(oe(e>=2,64408,{path:t}),e===2)return oe(t.charAt(0)===wx&&t.charAt(1)==="",56145,{path:t}),Se.emptyPath();const n=e-2,r=[];let i="";for(let a=0;a<e;){const s=t.indexOf(wx,a);switch((s<0||s>n)&&re(50515,{path:t}),t.charAt(s+1)){case"":const o=t.substring(a,s);let l;i.length===0?l=o:(i+=o,l=i,i=""),r.push(l);break;case"":i+=t.substring(a,s),i+="\0";break;case"":i+=t.substring(a,s+1);break;default:re(61167,{path:t})}a=s+2}return new Se(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc="remoteDocuments",Qg="owner",Mu="owner",zp="mutationQueues",Ece="userId",Zi="mutations",KD="batchId",gc="userMutationsIndex",WD=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(t,e){return[t,dr(e)]}function lF(t,e,n){return[t,dr(e),n]}const Tce={},ah="documentMutations",_x="remoteDocumentsV14",Sce=["prefixPath","collectionGroup","readTime","documentId"],p0="documentKeyIndex",Ace=["prefixPath","collectionGroup","documentId"],cF="collectionGroupIndex",Nce=["collectionGroup","readTime","prefixPath","documentId"],Bp="remoteDocumentGlobal",LS="remoteDocumentGlobalKey",sh="targets",uF="queryTargetsIndex",Ice=["canonicalId","targetId"],oh="targetDocuments",Pce=["targetId","path"],EP="documentTargetsIndex",Cce=["path","targetId"],Ex="targetGlobalKey",Cc="targetGlobal",Fp="collectionParents",jce=["collectionId","parent"],lh="clientMetadata",Rce="clientId",Iw="bundles",Oce="bundleId",Pw="namedQueries",kce="name",TP="indexConfiguration",Dce="indexId",VS="collectionGroupIndex",Mce="collectionGroup",ep="indexState",Lce=["indexId","uid"],dF="sequenceNumberIndex",Vce=["uid","sequenceNumber"],tp="indexEntries",Uce=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hF="documentKeyIndex",zce=["indexId","uid","orderedDocumentKey"],Cw="documentOverlays",Bce=["userId","collectionPath","documentId"],US="collectionPathOverlayIndex",Fce=["userId","collectionPath","largestBatchId"],fF="collectionGroupOverlayIndex",$ce=["userId","collectionGroup","largestBatchId"],SP="globals",qce="name",mF=[zp,Zi,ah,rc,sh,Qg,Cc,oh,lh,Bp,Fp,Iw,Pw],Hce=[...mF,Cw],pF=[zp,Zi,ah,_x,sh,Qg,Cc,oh,lh,Bp,Fp,Iw,Pw,Cw],gF=pF,AP=[...gF,TP,ep,tp],Gce=AP,yF=[...AP,SP],Kce=yF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS extends aF{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function wn(t,e){const n=ee(t);return Pa.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Rl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Hn.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Hn.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hv(this.root,e,this.comparator,!1)}getReverseIterator(){return new hv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hv(this.root,e,this.comparator,!0)}}class hv{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Hn.RED,this.left=i??Hn.EMPTY,this.right=a??Hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Hn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Hn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw re(27949);return e+(this.isRed()?0:1)}}Hn.EMPTY=null,Hn.RED=!0,Hn.BLACK=!1;Hn.EMPTY=new class{constructor(){this.size=0}get key(){throw re(57766)}get value(){throw re(16141)}get color(){throw re(16727)}get left(){throw re(29726)}get right(){throw re(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new QD(this.data.getIterator())}getIteratorFrom(e){return new QD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof We)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new We(this.comparator);return n.data=e,n}}class QD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Lu(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new Ur([])}unionWith(e){let n=new We(St.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ur(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rh(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wce(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new xF("Invalid base64 string: "+a):a}}(e);return new zt(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const Yce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ms(t){if(oe(!!t,39018),typeof t=="string"){let e=0;const n=Yce.exec(t);if(oe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ls(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF="server_timestamp",wF="__type__",_F="__previous_value__",EF="__local_write_time__";function jw(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[wF])==null?void 0:r.stringValue)===bF}function Rw(t){const e=t.mapValue.fields[_F];return jw(e)?Rw(e):e}function $p(t){const e=Ms(t.mapValue.fields[EF].timestampValue);return new ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qce{constructor(e,n,r,i,a,s,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const BS="(default)";class hl{constructor(e,n){this.projectId=e,this.database=n||BS}static empty(){return new hl("","")}get isDefaultDatabase(){return this.database===BS}isEqual(e){return e instanceof hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP="__type__",TF="__max__",zo={mapValue:{fields:{__type__:{stringValue:TF}}}},IP="__vector__",ch="value",g0={nullValue:"NULL_VALUE"};function fl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jw(t)?4:SF(t)?9007199254740991:Ow(t)?10:11:re(28295,{value:t})}function Ua(t,e){if(t===e)return!0;const n=fl(t);if(n!==fl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $p(t).isEqual($p(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Ms(i.timestampValue),o=Ms(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Ls(i.bytesValue).isEqual(Ls(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Et(i.geoPointValue.latitude)===Et(a.geoPointValue.latitude)&&Et(i.geoPointValue.longitude)===Et(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Et(i.integerValue)===Et(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Et(i.doubleValue),o=Et(a.doubleValue);return s===o?Up(s)===Up(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return rh(t.arrayValue.values||[],e.arrayValue.values||[],Ua);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(YD(s)!==YD(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Ua(s[l],o[l])))return!1;return!0}(t,e);default:return re(52216,{left:t})}}function qp(t,e){return(t.values||[]).find(n=>Ua(n,e))!==void 0}function ml(t,e){if(t===e)return 0;const n=fl(t),r=fl(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=Et(a.integerValue||a.doubleValue),l=Et(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return XD(t.timestampValue,e.timestampValue);case 4:return XD($p(t),$p(e));case 5:return DS(t.stringValue,e.stringValue);case 6:return function(a,s){const o=Ls(a),l=Ls(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=he(o[c],l[c]);if(u!==0)return u}return he(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=he(Et(a.latitude),Et(s.latitude));return o!==0?o:he(Et(a.longitude),Et(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ZD(t.arrayValue,e.arrayValue);case 10:return function(a,s){var f,m,y,v;const o=a.fields||{},l=s.fields||{},c=(f=o[ch])==null?void 0:f.arrayValue,u=(m=l[ch])==null?void 0:m.arrayValue,h=he(((y=c==null?void 0:c.values)==null?void 0:y.length)||0,((v=u==null?void 0:u.values)==null?void 0:v.length)||0);return h!==0?h:ZD(c,u)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===zo.mapValue&&s===zo.mapValue)return 0;if(a===zo.mapValue)return 1;if(s===zo.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=DS(l[h],u[h]);if(f!==0)return f;const m=ml(o[l[h]],c[u[h]]);if(m!==0)return m}return he(l.length,u.length)}(t.mapValue,e.mapValue);default:throw re(23264,{he:n})}}function XD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=Ms(t),r=Ms(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function ZD(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=ml(n[i],r[i]);if(a)return a}return he(n.length,r.length)}function uh(t){return FS(t)}function FS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ms(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ls(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=FS(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${FS(n.fields[s])}`;return i+"}"}(t.mapValue):re(61005,{value:t})}function y0(t){switch(fl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rw(t);return e?16+y0(e):16;case 5:return 2*t.stringValue.length;case 6:return Ls(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+y0(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Rl(r.fields,(a,s)=>{i+=a.length+y0(s)}),i}(t.mapValue);default:throw re(13486,{value:t})}}function Wc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $S(t){return!!t&&"integerValue"in t}function Hp(t){return!!t&&"arrayValue"in t}function JD(t){return!!t&&"nullValue"in t}function eM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function v0(t){return!!t&&"mapValue"in t}function Ow(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[NP])==null?void 0:r.stringValue)===IP}function np(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Rl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=np(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=np(t.arrayValue.values[n]);return e}return{...t}}function SF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===TF}const AF={mapValue:{fields:{[NP]:{stringValue:IP},[ch]:{arrayValue:{}}}}};function Xce(t){return"nullValue"in t?g0:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Wc(hl.empty(),X.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Ow(t)?AF:{mapValue:{}}:re(35942,{value:t})}function Zce(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Wc(hl.empty(),X.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?AF:"mapValue"in t?Ow(t)?{mapValue:{}}:zo:re(61959,{value:t})}function tM(t,e){const n=ml(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function nM(t,e){const n=ml(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!v0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=np(n)}setAll(e){let n=St.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=np(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());v0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ua(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];v0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Rl(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Wn(np(this.value))}}function NF(t){const e=[];return Rl(t.fields,(n,r)=>{const i=new St([n]);if(v0(r)){const a=NF(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new mt(e,0,ce.min(),ce.min(),ce.min(),Wn.empty(),0)}static newFoundDocument(e,n,r,i){return new mt(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new mt(e,2,n,ce.min(),ce.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new mt(e,3,n,ce.min(),ce.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n){this.position=e,this.inclusive=n}}function rM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=X.comparator(X.fromName(s.referenceValue),n.key):r=ml(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function iM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ua(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n="asc"){this.field=e,this.dir=n}}function Jce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{}class Ie extends IF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eue(e,n,r):n==="array-contains"?new rue(e,r):n==="in"?new kF(e,r):n==="not-in"?new iue(e,r):n==="array-contains-any"?new aue(e,r):new Ie(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tue(e,r):new nue(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ml(n,this.value)):n!==null&&fl(this.value)===fl(n)&&this.matchesComparison(ml(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ke extends IF{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ke(e,n)}matches(e){return dh(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dh(t){return t.op==="and"}function qS(t){return t.op==="or"}function PP(t){return PF(t)&&dh(t)}function PF(t){for(const e of t.filters)if(e instanceof Ke)return!1;return!0}function HS(t){if(t instanceof Ie)return t.field.canonicalString()+t.op.toString()+uh(t.value);if(PP(t))return t.filters.map(e=>HS(e)).join(",");{const e=t.filters.map(n=>HS(n)).join(",");return`${t.op}(${e})`}}function CF(t,e){return t instanceof Ie?function(r,i){return i instanceof Ie&&r.op===i.op&&r.field.isEqual(i.field)&&Ua(r.value,i.value)}(t,e):t instanceof Ke?function(r,i){return i instanceof Ke&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&CF(s,i.filters[o]),!0):!1}(t,e):void re(19439)}function jF(t,e){const n=t.filters.concat(e);return Ke.create(n,t.op)}function RF(t){return t instanceof Ie?function(n){return`${n.field.canonicalString()} ${n.op} ${uh(n.value)}`}(t):t instanceof Ke?function(n){return n.op.toString()+" {"+n.getFilters().map(RF).join(" ,")+"}"}(t):"Filter"}class eue extends Ie{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){const n=X.comparator(e.key,this.key);return this.matchesComparison(n)}}class tue extends Ie{constructor(e,n){super(e,"in",n),this.keys=OF("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nue extends Ie{constructor(e,n){super(e,"not-in",n),this.keys=OF("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OF(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}class rue extends Ie{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hp(n)&&qp(n.arrayValue,this.value)}}class kF extends Ie{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qp(this.value.arrayValue,n)}}class iue extends Ie{constructor(e,n){super(e,"not-in",n)}matches(e){if(qp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!qp(this.value.arrayValue,n)}}class aue extends Ie{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>qp(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sue{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function GS(t,e=null,n=[],r=[],i=null,a=null,s=null){return new sue(t,e,n,r,i,a,s)}function Yc(t){const e=ee(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>HS(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Yg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>uh(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>uh(r)).join(",")),e.Te=n}return e.Te}function Xg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Jce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!CF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iM(t.startAt,e.startAt)&&iM(t.endAt,e.endAt)}function Tx(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Sx(t,e){return t.filters.filter(n=>n instanceof Ie&&n.field.isEqual(e))}function aM(t,e,n){let r=g0,i=!0;for(const a of Sx(t,e)){let s=g0,o=!0;switch(a.op){case"<":case"<=":s=Xce(a.value);break;case"==":case"in":case">=":s=a.value;break;case">":s=a.value,o=!1;break;case"!=":case"not-in":s=g0}tM({value:r,inclusive:i},{value:s,inclusive:o})<0&&(r=s,i=o)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const s=n.position[a];tM({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function sM(t,e,n){let r=zo,i=!0;for(const a of Sx(t,e)){let s=zo,o=!0;switch(a.op){case">=":case">":s=Zce(a.value),o=!1;break;case"==":case"in":case"<=":s=a.value;break;case"<":s=a.value,o=!1;break;case"!=":case"not-in":s=zo}nM({value:r,inclusive:i},{value:s,inclusive:o})>0&&(r=s,i=o)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const s=n.position[a];nM({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function DF(t,e,n,r,i,a,s,o){return new Zs(t,e,n,r,i,a,s,o)}function Qh(t){return new Zs(t)}function oM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function CP(t){return t.collectionGroup!==null}function Dd(t){const e=ee(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new We(St.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Gp(a,r))}),n.has(St.keyField().canonicalString())||e.Ie.push(new Gp(St.keyField(),r))}return e.Ie}function Nr(t){const e=ee(t);return e.Ee||(e.Ee=oue(e,Dd(t))),e.Ee}function oue(t,e){if(t.limitType==="F")return GS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Gp(i.field,a)});const n=t.endAt?new pl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pl(t.startAt.position,t.startAt.inclusive):null;return GS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function KS(t,e){const n=t.filters.concat([e]);return new Zs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ax(t,e,n){return new Zs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Zg(t,e){return Xg(Nr(t),Nr(e))&&t.limitType===e.limitType}function MF(t){return`${Yc(Nr(t))}|lt:${t.limitType}`}function Xu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>RF(i)).join(", ")}]`),Yg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>uh(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>uh(i)).join(",")),`Target(${r})`}(Nr(t))}; limitType=${t.limitType})`}function Jg(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):X.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Dd(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,l){const c=rM(s,o,l);return s.inclusive?c<=0:c<0}(r.startAt,Dd(r),i)||r.endAt&&!function(s,o,l){const c=rM(s,o,l);return s.inclusive?c>=0:c>0}(r.endAt,Dd(r),i))}(t,e)}function LF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function VF(t){return(e,n)=>{let r=!1;for(const i of Dd(t)){const a=lue(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function lue(t,e,n){const r=t.field.isKeyField()?X.comparator(e.key,n.key):function(a,s,o){const l=s.data.field(a),c=o.data.field(a);return l!==null&&c!==null?ml(l,c):re(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Rl(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return vF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cue=new ot(X.comparator);function zr(){return cue}const UF=new ot(X.comparator);function _m(...t){let e=UF;for(const n of t)e=e.insert(n.key,n);return e}function zF(t){let e=UF;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Aa(){return rp()}function BF(){return rp()}function rp(){return new Js(t=>t.toString(),(t,e)=>t.isEqual(e))}const uue=new ot(X.comparator),due=new We(X.comparator);function ve(...t){let e=due;for(const n of t)e=e.add(n);return e}const hue=new We(he);function jP(){return hue}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Up(e)?"-0":e}}function FF(t){return{integerValue:""+t}}function $F(t,e){return oF(e)?FF(e):RP(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this._=void 0}}function fue(t,e,n){return t instanceof hh?function(i,a){const s={fields:{[wF]:{stringValue:bF},[EF]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&jw(a)&&(a=Rw(a)),a&&(s.fields[_F]=a),{mapValue:s}}(n,e):t instanceof Qc?HF(t,e):t instanceof Xc?GF(t,e):function(i,a){const s=qF(i,a),o=lM(s)+lM(i.Ae);return $S(s)&&$S(i.Ae)?FF(o):RP(i.serializer,o)}(t,e)}function mue(t,e,n){return t instanceof Qc?HF(t,e):t instanceof Xc?GF(t,e):n}function qF(t,e){return t instanceof fh?function(r){return $S(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class hh extends kw{}class Qc extends kw{constructor(e){super(),this.elements=e}}function HF(t,e){const n=KF(e);for(const r of t.elements)n.some(i=>Ua(i,r))||n.push(r);return{arrayValue:{values:n}}}class Xc extends kw{constructor(e){super(),this.elements=e}}function GF(t,e){let n=KF(e);for(const r of t.elements)n=n.filter(i=>!Ua(i,r));return{arrayValue:{values:n}}}class fh extends kw{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function lM(t){return Et(t.integerValue||t.doubleValue)}function KF(t){return Hp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n){this.field=e,this.transform=n}}function pue(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Qc&&i instanceof Qc||r instanceof Xc&&i instanceof Xc?rh(r.elements,i.elements,Ua):r instanceof fh&&i instanceof fh?Ua(r.Ae,i.Ae):r instanceof hh&&i instanceof hh}(t.transform,e.transform)}class gue{constructor(e,n){this.version=e,this.transformResults=n}}class At{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new At}static exists(e){return new At(void 0,e)}static updateTime(e){return new At(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function x0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dw{}function WF(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zh(t.key,At.none()):new Xh(t.key,t.data,At.none());{const n=t.data,r=Wn.empty();let i=new We(St.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new eo(t.key,r,new Ur(i.toArray()),At.none())}}function yue(t,e,n){t instanceof Xh?function(i,a,s){const o=i.value.clone(),l=uM(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof eo?function(i,a,s){if(!x0(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=uM(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(YF(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ip(t,e,n,r){return t instanceof Xh?function(a,s,o,l){if(!x0(a.precondition,s))return o;const c=a.value.clone(),u=dM(a.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof eo?function(a,s,o,l){if(!x0(a.precondition,s))return o;const c=dM(a.fieldTransforms,l,s),u=s.data;return u.setAll(YF(a)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(a,s,o){return x0(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function vue(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=qF(r.transform,i||null);a!=null&&(n===null&&(n=Wn.empty()),n.set(r.field,a))}return n||null}function cM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&rh(r,i,(a,s)=>pue(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xh extends Dw{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class eo extends Dw{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function YF(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function uM(t,e,n){const r=new Map;oe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,mue(s,o,n[i]))}return r}function dM(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,fue(a,s,e))}return r}class Zh extends Dw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OP extends Dw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&yue(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ip(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ip(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=BF();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=WF(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&rh(this.mutations,e.mutations,(n,r)=>cM(n,r))&&rh(this.baseMutations,e.baseMutations,(n,r)=>cM(n,r))}}class DP{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){oe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return uue}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new DP(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xue{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,je;function QF(t){switch(t){case U.OK:return re(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return re(15467,{code:t})}}function XF(t){if(t===void 0)return Wt("GRPC error has no .code"),U.UNKNOWN;switch(t){case en.OK:return U.OK;case en.CANCELLED:return U.CANCELLED;case en.UNKNOWN:return U.UNKNOWN;case en.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case en.INTERNAL:return U.INTERNAL;case en.UNAVAILABLE:return U.UNAVAILABLE;case en.UNAUTHENTICATED:return U.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case en.NOT_FOUND:return U.NOT_FOUND;case en.ALREADY_EXISTS:return U.ALREADY_EXISTS;case en.PERMISSION_DENIED:return U.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case en.ABORTED:return U.ABORTED;case en.OUT_OF_RANGE:return U.OUT_OF_RANGE;case en.UNIMPLEMENTED:return U.UNIMPLEMENTED;case en.DATA_LOSS:return U.DATA_LOSS;default:return re(39323,{code:t})}}(je=en||(en={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bue=new el([4294967295,4294967295],0);function hM(t){const e=ZF().encode(t),n=new qB;return n.update(e),new Uint8Array(n.digest())}function fM(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new el([n,r],0),new el([i,a],0)]}class LP{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Em(`Invalid padding: ${n}`);if(r<0)throw new Em(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Em(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Em(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=el.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(el.fromNumber(r)));return i.compare(bue)===1&&(i=new el([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=hM(e),[r,i]=fM(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new LP(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const n=hM(e),[r,i]=fM(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Em extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ny.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ty(ce.min(),i,new ot(he),zr(),ve())}}class ny{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ny(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class JF{constructor(e,n){this.targetId=e,this.Ce=n}}class e8{constructor(e,n,r=zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class mM{constructor(){this.ve=0,this.Fe=pM(),this.Me=zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ve(),n=ve(),r=ve();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re(38017,{changeType:a})}}),new ny(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=pM()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,oe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wue{constructor(e){this.Ge=e,this.ze=new Map,this.je=zr(),this.Je=fv(),this.He=fv(),this.Ye=new ot(he)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:re(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(Tx(a))if(r===0){const s=new X(a.path);this.et(n,s,mt.newNoDocument(s,ce.min()))}else oe(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const o=this.ut(e),l=o?this.ct(o,e,s):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=Ls(r).toUint8Array()}catch(l){if(l instanceof xF)return Va("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new LP(s,i,a)}catch(l){return Va(l instanceof Em?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&Tx(o.target)){const l=new X(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,mt.newNoDocument(l,e))}a.Be&&(n.set(s,a.ke()),a.qe())}});let r=ve();this.He.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const i=new ty(e,n,this.Ye,this.je,r);return this.je=zr(),this.Je=fv(),this.He=fv(),this.Ye=new ot(he),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new mM,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new We(he),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new We(he),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new mM),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function fv(){return new ot(X.comparator)}function pM(){return new ot(X.comparator)}const _ue={asc:"ASCENDING",desc:"DESCENDING"},Eue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tue={and:"AND",or:"OR"};class Sue{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function WS(t,e){return t.useProto3Json||Yg(e)?e:{value:e}}function mh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function t8(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Aue(t,e){return mh(t,e.toTimestamp())}function Xt(t){return oe(!!t,49232),ce.fromTimestamp(function(n){const r=Ms(n);return new ze(r.seconds,r.nanos)}(t))}function VP(t,e){return YS(t,e).canonicalString()}function YS(t,e){const n=function(i){return new Se(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function n8(t){const e=Se.fromString(t);return oe(h8(e),10190,{key:e.toString()}),e}function Kp(t,e){return VP(t.databaseId,e.path)}function Ca(t,e){const n=n8(e);if(n.get(1)!==t.databaseId.projectId)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(a8(n))}function r8(t,e){return VP(t.databaseId,e)}function i8(t){const e=n8(t);return e.length===4?Se.emptyPath():a8(e)}function QS(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function a8(t){return oe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function gM(t,e,n){return{name:Kp(t,e),fields:n.value.mapValue.fields}}function s8(t,e,n){const r=Ca(t,e.name),i=Xt(e.updateTime),a=e.createTime?Xt(e.createTime):ce.min(),s=new Wn({mapValue:{fields:e.fields}}),o=mt.newFoundDocument(r,i,a,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Nue(t,e){return"found"in e?function(r,i){oe(!!i.found,43571),i.found.name,i.found.updateTime;const a=Ca(r,i.found.name),s=Xt(i.found.updateTime),o=i.found.createTime?Xt(i.found.createTime):ce.min(),l=new Wn({mapValue:{fields:i.found.fields}});return mt.newFoundDocument(a,s,o,l)}(t,e):"missing"in e?function(r,i){oe(!!i.missing,3894),oe(!!i.readTime,22933);const a=Ca(r,i.missing),s=Xt(i.readTime);return mt.newNoDocument(a,s)}(t,e):re(7234,{result:e})}function Iue(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:re(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(oe(u===void 0||typeof u=="string",58123),zt.fromBase64String(u||"")):(oe(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),zt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(c){const u=c.code===void 0?U.UNKNOWN:XF(c.code);return new q(u,c.message||"")}(s);n=new e8(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ca(t,r.document.name),a=Xt(r.document.updateTime),s=r.document.createTime?Xt(r.document.createTime):ce.min(),o=new Wn({mapValue:{fields:r.document.fields}}),l=mt.newFoundDocument(i,a,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new b0(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ca(t,r.document),a=r.readTime?Xt(r.readTime):ce.min(),s=mt.newNoDocument(i,a),o=r.removedTargetIds||[];n=new b0([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ca(t,r.document),a=r.removedTargetIds||[];n=new b0([],a,i,null)}else{if(!("filter"in e))return re(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new xue(i,a),o=r.targetId;n=new JF(o,s)}}return n}function Wp(t,e){let n;if(e instanceof Xh)n={update:gM(t,e.key,e.value)};else if(e instanceof Zh)n={delete:Kp(t,e.key)};else if(e instanceof eo)n={update:gM(t,e.key,e.data),updateMask:kue(e.fieldMask)};else{if(!(e instanceof OP))return re(16599,{Vt:e.type});n={verify:Kp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof hh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Qc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Xc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof fh)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw re(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:Aue(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:re(27497)}(t,e.precondition)),n}function XS(t,e){const n=e.currentDocument?function(a){return a.updateTime!==void 0?At.updateTime(Xt(a.updateTime)):a.exists!==void 0?At.exists(a.exists):At.none()}(e.currentDocument):At.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let l=null;if("setToServerValue"in o)oe(o.setToServerValue==="REQUEST_TIME",16630,{proto:o}),l=new hh;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];l=new Qc(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];l=new Xc(u)}else"increment"in o?l=new fh(s,o.increment):re(16584,{proto:o});const c=St.fromServerFormat(o.fieldPath);return new ey(c,l)}(t,i)):[];if(e.update){e.update.name;const i=Ca(t,e.update.name),a=new Wn({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=function(l){const c=l.fieldPaths||[];return new Ur(c.map(u=>St.fromServerFormat(u)))}(e.updateMask);return new eo(i,a,s,n,r)}return new Xh(i,a,n,r)}if(e.delete){const i=Ca(t,e.delete);return new Zh(i,n)}if(e.verify){const i=Ca(t,e.verify);return new OP(i,n)}return re(1463,{proto:e})}function Pue(t,e){return t&&t.length>0?(oe(e!==void 0,14353),t.map(n=>function(i,a){let s=i.updateTime?Xt(i.updateTime):Xt(a);return s.isEqual(ce.min())&&(s=Xt(a)),new gue(s,i.transformResults||[])}(n,e))):[]}function o8(t,e){return{documents:[r8(t,e.path)]}}function l8(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=r8(t,i);const a=function(c){if(c.length!==0)return d8(Ke.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:Zu(f.field),direction:jue(f.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=WS(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function c8(t){let e=i8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){oe(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];n.where&&(a=function(h){const f=u8(h);return f instanceof Ke&&PP(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(f=>function(y){return new Gp(Ju(y.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let o=null;n.limit&&(o=function(h){let f;return f=typeof h=="object"?h.value:h,Yg(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new pl(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,m=h.values||[];return new pl(m,f)}(n.endAt)),DF(e,i,s,a,o,"F",l,c)}function Cue(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function u8(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ju(n.unaryFilter.field);return Ie.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ju(n.unaryFilter.field);return Ie.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ju(n.unaryFilter.field);return Ie.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ju(n.unaryFilter.field);return Ie.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return re(61313);default:return re(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ie.create(Ju(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return re(58110);default:return re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ke.create(n.compositeFilter.filters.map(r=>u8(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re(1026)}}(n.compositeFilter.op))}(t):re(30097,{filter:t})}function jue(t){return _ue[t]}function Rue(t){return Eue[t]}function Oue(t){return Tue[t]}function Zu(t){return{fieldPath:t.canonicalString()}}function Ju(t){return St.fromServerFormat(t.fieldPath)}function d8(t){return t instanceof Ie?function(n){if(n.op==="=="){if(eM(n.value))return{unaryFilter:{field:Zu(n.field),op:"IS_NAN"}};if(JD(n.value))return{unaryFilter:{field:Zu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eM(n.value))return{unaryFilter:{field:Zu(n.field),op:"IS_NOT_NAN"}};if(JD(n.value))return{unaryFilter:{field:Zu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zu(n.field),op:Rue(n.op),value:n.value}}}(t):t instanceof Ke?function(n){const r=n.getFilters().map(i=>d8(i));return r.length===1?r[0]:{compositeFilter:{op:Oue(n.op),filters:r}}}(t):re(54877,{filter:t})}function kue(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function h8(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n,r,i,a=ce.min(),s=ce.min(),o=zt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e){this.yt=e}}function Due(t,e){let n;if(e.document)n=s8(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=X.fromSegments(e.noDocument.path),i=Jc(e.noDocument.readTime);n=mt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return re(56709);{const r=X.fromSegments(e.unknownDocument.path),i=Jc(e.unknownDocument.version);n=mt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const a=new ze(i[0],i[1]);return ce.fromTimestamp(a)}(e.readTime)),n}function yM(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Nx(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(a,s){return{name:Kp(a,s.key),fields:s.data.value.mapValue.fields,updateTime:mh(a,s.version.toTimestamp()),createTime:mh(a,s.createTime.toTimestamp())}}(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Zc(e.version)};else{if(!e.isUnknownDocument())return re(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Zc(e.version)}}return r}function Nx(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Zc(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Jc(t){const e=new ze(t.seconds,t.nanoseconds);return ce.fromTimestamp(e)}function dc(t,e){const n=(e.baseMutations||[]).map(a=>XS(t.yt,a));for(let a=0;a<e.mutations.length-1;++a){const s=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const o=e.mutations[a+1];s.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const r=e.mutations.map(a=>XS(t.yt,a)),i=ze.fromMillis(e.localWriteTimeMs);return new kP(e.batchId,i,n,r)}function Tm(t){const e=Jc(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Jc(t.lastLimboFreeSnapshotVersion):ce.min();let r;return r=function(a){return a.documents!==void 0}(t.query)?function(a){const s=a.documents.length;return oe(s===1,1966,{count:s}),Nr(Qh(i8(a.documents[0])))}(t.query):function(a){return Nr(c8(a))}(t.query),new hs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,zt.fromBase64String(t.resumeToken))}function m8(t,e){const n=Zc(e.snapshotVersion),r=Zc(e.lastLimboFreeSnapshotVersion);let i;i=Tx(e.target)?o8(t.yt,e.target):l8(t.yt,e.target).ft;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Yc(e.target),readTime:n,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function UP(t){const e=c8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ax(e,e.limit,"L"):e}function NE(t,e){return new MP(e.largestBatchId,XS(t.yt,e.overlayMutation))}function vM(t,e){const n=e.path.lastSegment();return[t,dr(e.path.popLast()),n]}function xM(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Zc(r.readTime),documentKey:dr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mue{getBundleMetadata(e,n){return bM(e).get(n).next(r=>{if(r)return function(a){return{id:a.bundleId,createTime:Jc(a.createTime),version:a.version}}(r)})}saveBundleMetadata(e,n){return bM(e).put(function(i){return{bundleId:i.id,createTime:Zc(Xt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return wM(e).get(n).next(r=>{if(r)return function(a){return{name:a.name,query:UP(a.bundledQuery),readTime:Jc(a.readTime)}}(r)})}saveNamedQuery(e,n){return wM(e).put(function(i){return{name:i.name,readTime:Zc(Xt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function bM(t){return wn(t,Iw)}function wM(t){return wn(t,Pw)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new Mw(e,r)}getOverlay(e,n){return Yf(e).get(vM(this.userId,n)).next(r=>r?NE(this.serializer,r):null)}getOverlays(e,n){const r=Aa();return M.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((a,s)=>{const o=new MP(n,s);i.push(this.St(e,o))}),M.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(dr(s.getCollectionPath())));const a=[];return i.forEach(s=>{const o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);a.push(Yf(e).Z(US,o))}),M.waitFor(a)}getOverlaysForCollection(e,n,r){const i=Aa(),a=dr(n),s=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Yf(e).J(US,s).next(o=>{for(const l of o){const c=NE(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const a=Aa();let s;const o=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Yf(e).ee({index:fF,range:o},(l,c,u)=>{const h=NE(this.serializer,c);a.size()<i||h.largestBatchId===s?(a.set(h.getKey(),h),s=h.largestBatchId):u.done()}).next(()=>a)}St(e,n){return Yf(e).put(function(i,a,s){const[o,l,c]=vM(a,s.mutation.key);return{userId:a,collectionPath:l,documentId:c,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Wp(i.yt,s.mutation)}}(this.serializer,this.userId,n))}}function Yf(t){return wn(t,Cw)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lue{bt(e){return wn(e,SP)}getSessionToken(e){return this.bt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?zt.fromUint8Array(r):zt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Et(e.integerValue));else if("doubleValue"in e){const r=Et(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Up(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Ms(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Ls(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?SF(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):Ow(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):re(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var s,o;const r=e.fields||{};this.Ft(n,53);const i=ch,a=((o=(s=r[i].arrayValue)==null?void 0:s.values)==null?void 0:o.length)||0;this.Ft(n,15),n.Mt(Et(a)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),X.fromName(e).path.forEach(r=>{this.Ft(n,60),this.Ut(r,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}hc.Kt=new hc;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=255;function Vue(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function _M(t){const e=64-function(r){let i=0;for(let a=0;a<8;++a){const s=Vue(255&r[a]);if(i+=s,s!==8)break}return i}(t);return Math.ceil(e/8)}class Uue{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=_M(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=_M(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(Vu),this.sn(255)}_n(){this.an(Vu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=function(a){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,a,!1),new Uint8Array(s.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Vu?(this.sn(Vu),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Vu?(this.an(Vu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class zue{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class Bue{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Qf{constructor(){this.cn=new Uue,this.ln=new zue(this.cn),this.hn=new Bue(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new fc(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:w0(this.En),directionalValue:w0(this.dn),orderedDocumentKey:w0(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function xo(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=EM(t.En,e.En),n!==0?n:(n=EM(t.dn,e.dn),n!==0?n:X.comparator(t.In,e.In)))}function EM(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function w0(t){return j9()?function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r}(t):t}function TM(t){return typeof t!="string"?t:function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(t)}class SM{constructor(e){this.mn=new We((n,r)=>St.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(oe(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=MS(e);if(n!==void 0&&!this.wn(n))return!1;const r=nc(e);let i=new Set,a=0,s=0;for(;a<r.length&&this.wn(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(this.mn.size>0){const o=this.mn.getIterator().getNext();if(!i.has(o.field.canonicalString())){const l=r[a];if(!this.Sn(o,l)||!this.bn(this.fn[s++],l))return!1}++a}for(;a<r.length;++a){const o=r[a];if(s>=this.fn.length||!this.bn(this.fn[s++],o))return!1}return!0}Dn(){if(this.pn)return null;let e=new We(St.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new f0(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new f0(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new f0(r.field,r.dir==="asc"?0:1)));return new bx(bx.UNKNOWN_ID,this.collectionId,n,Vp.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p8(t){var n,r;if(oe(t instanceof Ie||t instanceof Ke,20012),t instanceof Ie){if(t instanceof kF){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map(a=>Ie.create(t.field,"==",a)))||[];return Ke.create(i,"or")}return t}const e=t.filters.map(i=>p8(i));return Ke.create(e,t.op)}function Fue(t){if(t.getFilters().length===0)return[];const e=eA(p8(t));return oe(g8(e),7391),ZS(e)||JS(e)?[e]:e.getFilters()}function ZS(t){return t instanceof Ie}function JS(t){return t instanceof Ke&&PP(t)}function g8(t){return ZS(t)||JS(t)||function(n){if(n instanceof Ke&&qS(n)){for(const r of n.getFilters())if(!ZS(r)&&!JS(r))return!1;return!0}return!1}(t)}function eA(t){if(oe(t instanceof Ie||t instanceof Ke,34018),t instanceof Ie)return t;if(t.filters.length===1)return eA(t.filters[0]);const e=t.filters.map(r=>eA(r));let n=Ke.create(e,t.op);return n=Ix(n),g8(n)?n:(oe(n instanceof Ke,64498),oe(dh(n),40251),oe(n.filters.length>1,57927),n.filters.reduce((r,i)=>zP(r,i)))}function zP(t,e){let n;return oe(t instanceof Ie||t instanceof Ke,38388),oe(e instanceof Ie||e instanceof Ke,25473),n=t instanceof Ie?e instanceof Ie?function(i,a){return Ke.create([i,a],"and")}(t,e):AM(t,e):e instanceof Ie?AM(e,t):function(i,a){if(oe(i.filters.length>0&&a.filters.length>0,48005),dh(i)&&dh(a))return jF(i,a.getFilters());const s=qS(i)?i:a,o=qS(i)?a:i,l=s.filters.map(c=>zP(c,o));return Ke.create(l,"or")}(t,e),Ix(n)}function AM(t,e){if(dh(e))return jF(e,t.getFilters());{const n=e.filters.map(r=>zP(t,r));return Ke.create(n,"or")}}function Ix(t){if(oe(t instanceof Ie||t instanceof Ke,11850),t instanceof Ie)return t;const e=t.getFilters();if(e.length===1)return Ix(e[0]);if(PF(t))return t;const n=e.map(i=>Ix(i)),r=[];return n.forEach(i=>{i instanceof Ie?r.push(i):i instanceof Ke&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Ke.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ue{constructor(){this.Cn=new BP}addToCollectionParentIndex(e,n){return this.Cn.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(gi.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(gi.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class BP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new We(Se.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new We(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="IndexedDbIndexManager",mv=new Uint8Array(0);class que{constructor(e,n){this.databaseId=n,this.vn=new BP,this.Fn=new Js(r=>Yc(r),(r,i)=>Xg(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.vn.add(n)});const a={collectionId:r,parent:dr(i)};return IM(e).put(a)}return M.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[ZB(n),""],!1,!0);return IM(e).J(i).next(a=>{for(const s of a){if(s.collectionId!==n)break;r.push(Sa(s.parent))}return r})}addFieldIndex(e,n){const r=Xf(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const a=r.add(i);if(n.indexState){const s=zu(e);return a.next(o=>{s.put(xM(o,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return a.next()}deleteFieldIndex(e,n){const r=Xf(e),i=zu(e),a=Uu(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Xf(e),r=Uu(e),i=zu(e);return n.Z().next(()=>r.Z()).next(()=>i.Z())}createTargetIndexes(e,n){return M.forEach(this.Mn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const a=new SM(r).Dn();if(a!=null)return this.addFieldIndex(e,a)}}))}getDocumentsMatchingTarget(e,n){const r=Uu(e);let i=!0;const a=new Map;return M.forEach(this.Mn(n),s=>this.xn(e,s).next(o=>{i&&(i=!!o),a.set(s,o)})).next(()=>{if(i){let s=ve();const o=[];return M.forEach(a,(l,c)=>{G(NM,`Using index ${function(_){return`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(T=>`${T.fieldPath}:${T.kind}`).join(",")}`}(l)} to execute ${Yc(n)}`);const u=function(_,T){const I=MS(T);if(I===void 0)return null;for(const j of Sx(_,I.fieldPath))switch(j.op){case"array-contains-any":return j.value.arrayValue.values||[];case"array-contains":return[j.value]}return null}(c,l),h=function(_,T){const I=new Map;for(const j of nc(T))for(const A of Sx(_,j.fieldPath))switch(A.op){case"==":case"in":I.set(j.fieldPath.canonicalString(),A.value);break;case"not-in":case"!=":return I.set(j.fieldPath.canonicalString(),A.value),Array.from(I.values())}return null}(c,l),f=function(_,T){const I=[];let j=!0;for(const A of nc(T)){const S=A.kind===0?aM(_,A.fieldPath,_.startAt):sM(_,A.fieldPath,_.startAt);I.push(S.value),j&&(j=S.inclusive)}return new pl(I,j)}(c,l),m=function(_,T){const I=[];let j=!0;for(const A of nc(T)){const S=A.kind===0?sM(_,A.fieldPath,_.endAt):aM(_,A.fieldPath,_.endAt);I.push(S.value),j&&(j=S.inclusive)}return new pl(I,j)}(c,l),y=this.On(l,c,f),v=this.On(l,c,m),x=this.Nn(l,c,h),b=this.Bn(l.indexId,u,y,f.inclusive,v,m.inclusive,x);return M.forEach(b,w=>r.Y(w,n.limit).next(_=>{_.forEach(T=>{const I=X.fromSegments(T.documentKey);s.has(I)||(s=s.add(I),o.push(I))})}))}).next(()=>o)}return M.resolve(null)})}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=Fue(Ke.create(e.filters,"and")).map(r=>GS(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Fn.set(e,n),n)}Bn(e,n,r,i,a,s,o){const l=(n!=null?n.length:1)*Math.max(r.length,a.length),c=l/(n!=null?n.length:1),u=[];for(let h=0;h<l;++h){const f=n?this.Ln(n[h/c]):mv,m=this.kn(e,f,r[h%c],i),y=this.qn(e,f,a[h%c],s),v=o.map(x=>this.kn(e,f,x,!0));u.push(...this.createRange(m,y,v))}return u}kn(e,n,r,i){const a=new fc(e,X.empty(),n,r);return i?a:a.An()}qn(e,n,r,i){const a=new fc(e,X.empty(),n,r);return i?a.An():a}xn(e,n){const r=new SM(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let s=null;for(const o of a)r.yn(o)&&(!s||o.fields.length>s.fields.length)&&(s=o);return s})}getIndexType(e,n){let r=2;const i=this.Mn(n);return M.forEach(i,a=>this.xn(e,a).next(s=>{s?r!==0&&s.fields.length<function(l){let c=new We(St.comparator),u=!1;for(const h of l.filters)for(const f of h.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?u=!0:c=c.add(f.field));for(const h of l.orderBy)h.field.isKeyField()||(c=c.add(h.field));return c.size+(u?1:0)}(a)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}Qn(e,n){const r=new Qf;for(const i of nc(e)){const a=n.data.field(i.fieldPath);if(a==null)return null;const s=r.Pn(i.kind);hc.Kt.Dt(a,s)}return r.un()}Ln(e){const n=new Qf;return hc.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Qf;return hc.Kt.Dt(Wc(this.databaseId,n),r.Pn(function(a){const s=nc(a);return s.length===0?0:s[s.length-1].kind}(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new Qf);let a=0;for(const s of nc(e)){const o=r[a++];for(const l of i)if(this.Un(n,s.fieldPath)&&Hp(o))i=this.Kn(i,s,o);else{const c=l.Pn(s.kind);hc.Kt.Dt(o,c)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],a=[];for(const s of r.arrayValue.values||[])for(const o of i){const l=new Qf;l.seed(o.un()),hc.Kt.Dt(s,l.Pn(n.kind)),a.push(l)}return a}Un(e,n){return!!e.filters.find(r=>r instanceof Ie&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Xf(e),i=zu(e);return(n?r.J(VS,IDBKeyRange.bound(n,n)):r.J()).next(a=>{const s=[];return M.forEach(a,o=>i.get([o.indexId,this.uid]).next(l=>{s.push(function(u,h){const f=h?new Vp(h.sequenceNumber,new gi(Jc(h.readTime),new X(Sa(h.documentKey)),h.largestBatchId)):Vp.empty(),m=u.fields.map(([y,v])=>new f0(St.fromServerFormat(y),v));return new bx(u.indexId,u.collectionGroup,m,f)}(o,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:he(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Xf(e),a=zu(e);return this.Gn(e).next(s=>i.J(VS,IDBKeyRange.bound(n,n)).next(o=>M.forEach(o,l=>a.put(xM(l.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){const r=new Map;return M.forEach(n,(i,a)=>{const s=r.get(i.collectionGroup);return(s?M.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(o=>(r.set(i.collectionGroup,o),M.forEach(o,l=>this.zn(e,i,l).next(c=>{const u=this.jn(a,l);return c.isEqual(u)?M.resolve():this.Jn(e,a,l,c,u)}))))})}Hn(e,n,r,i){return Uu(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return Uu(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=Uu(e);let a=new We(xo);return i.ee({index:hF,range:IDBKeyRange.only([r.indexId,this.uid,w0(this.$n(r,n))])},(s,o)=>{a=a.add(new fc(r.indexId,n,TM(o.arrayValue),TM(o.directionalValue)))}).next(()=>a)}jn(e,n){let r=new We(xo);const i=this.Qn(n,e);if(i==null)return r;const a=MS(n);if(a!=null){const s=e.data.field(a.fieldPath);if(Hp(s))for(const o of s.arrayValue.values||[])r=r.add(new fc(n.indexId,e.key,this.Ln(o),i))}else r=r.add(new fc(n.indexId,e.key,mv,i));return r}Jn(e,n,r,i,a){G(NM,"Updating index entries for document '%s'",n.key);const s=[];return function(l,c,u,h,f){const m=l.getIterator(),y=c.getIterator();let v=Lu(m),x=Lu(y);for(;v||x;){let b=!1,w=!1;if(v&&x){const _=u(v,x);_<0?w=!0:_>0&&(b=!0)}else v!=null?w=!0:b=!0;b?(h(x),x=Lu(y)):w?(f(v),v=Lu(m)):(v=Lu(m),x=Lu(y))}}(i,a,xo,o=>{s.push(this.Hn(e,n,r,o))},o=>{s.push(this.Yn(e,n,r,o))}),M.waitFor(s)}Gn(e){let n=1;return zu(e).ee({index:dF,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,o)=>xo(s,o)).filter((s,o,l)=>!o||xo(s,l[o-1])!==0);const i=[];i.push(e);for(const s of r){const o=xo(s,e),l=xo(s,n);if(o===0)i[0]=e.An();else if(o>0&&l<0)i.push(s),i.push(s.An());else if(l>0)break}i.push(n);const a=[];for(let s=0;s<i.length;s+=2){if(this.Zn(i[s],i[s+1]))return[];const o=i[s].Vn(this.uid,mv,X.empty()),l=i[s+1].Vn(this.uid,mv,X.empty());a.push(IDBKeyRange.bound(o,l))}return a}Zn(e,n){return xo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(PM)}getMinOffset(e,n){return M.mapArray(this.Mn(n),r=>this.xn(e,r).next(i=>i||re(44426))).next(PM)}}function IM(t){return wn(t,Fp)}function Uu(t){return wn(t,tp)}function Xf(t){return wn(t,TP)}function zu(t){return wn(t,ep)}function PM(t){oe(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;wP(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new gi(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},y8=41943040;class ar{static withCacheSize(e){return new ar(e,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(t,e,n){const r=t.store(Zi),i=t.store(ah),a=[],s=IDBKeyRange.only(n.batchId);let o=0;const l=r.ee({range:s},(u,h,f)=>(o++,f.delete()));a.push(l.next(()=>{oe(o===1,47070,{batchId:n.batchId})}));const c=[];for(const u of n.mutations){const h=lF(e,u.key.path,n.batchId);a.push(i.delete(h)),c.push(u.key)}return M.waitFor(a).next(()=>c)}function Px(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw re(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar.DEFAULT_COLLECTION_PERCENTILE=10,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ar.DEFAULT=new ar(y8,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ar.DISABLED=new ar(-1,0,0);class Lw{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){oe(e.uid!=="",64387);const a=e.isAuthenticated()?e.uid:"";return new Lw(a,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bo(e).ee({index:gc,range:r},(i,a,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const a=ed(e),s=bo(e);return s.add({}).next(o=>{oe(typeof o=="number",49019);const l=new kP(o,n,r,i),c=function(m,y,v){const x=v.baseMutations.map(w=>Wp(m.yt,w)),b=v.mutations.map(w=>Wp(m.yt,w));return{userId:y,batchId:v.batchId,localWriteTimeMs:v.localWriteTime.toMillis(),baseMutations:x,mutations:b}}(this.serializer,this.userId,l),u=[];let h=new We((f,m)=>he(f.canonicalString(),m.canonicalString()));for(const f of i){const m=lF(this.userId,f.key.path,o);h=h.add(f.key.path.popLast()),u.push(s.put(c)),u.push(a.put(m,Tce))}return h.forEach(f=>{u.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Xn[o]=l.keys()}),M.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return bo(e).get(n).next(r=>r?(oe(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),dc(this.serializer,r)):null)}er(e,n){return this.Xn[n]?M.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return bo(e).ee({index:gc,range:i},(s,o,l)=>{o.userId===this.userId&&(oe(o.batchId>=r,47524,{tr:r}),a=dc(this.serializer,o)),l.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=tl;return bo(e).ee({index:gc,range:n,reverse:!0},(i,a,s)=>{r=a.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,tl],[this.userId,Number.POSITIVE_INFINITY]);return bo(e).J(gc,n).next(r=>r.map(i=>dc(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=m0(this.userId,n.path),i=IDBKeyRange.lowerBound(r),a=[];return ed(e).ee({range:i},(s,o,l)=>{const[c,u,h]=s,f=Sa(u);if(c===this.userId&&n.path.isEqual(f))return bo(e).get(h).next(m=>{if(!m)throw re(61480,{nr:s,batchId:h});oe(m.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:m.userId,batchId:h}),a.push(dc(this.serializer,m))});l.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new We(he);const i=[];return n.forEach(a=>{const s=m0(this.userId,a.path),o=IDBKeyRange.lowerBound(s),l=ed(e).ee({range:o},(c,u,h)=>{const[f,m,y]=c,v=Sa(m);f===this.userId&&a.path.isEqual(v)?r=r.add(y):h.done()});i.push(l)}),M.waitFor(i).next(()=>this.rr(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,a=m0(this.userId,r),s=IDBKeyRange.lowerBound(a);let o=new We(he);return ed(e).ee({range:s},(l,c,u)=>{const[h,f,m]=l,y=Sa(f);h===this.userId&&r.isPrefixOf(y)?y.length===i&&(o=o.add(m)):u.done()}).next(()=>this.rr(e,o))}rr(e,n){const r=[],i=[];return n.forEach(a=>{i.push(bo(e).get(a).next(s=>{if(s===null)throw re(35274,{batchId:a});oe(s.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:s.userId,batchId:a}),r.push(dc(this.serializer,s))}))}),M.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return v8(e.le,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.ir(n.batchId)}),M.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return M.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return ed(e).ee({range:r},(a,s,o)=>{if(a[0]===this.userId){const l=Sa(a[1]);i.push(l)}else o.done()}).next(()=>{oe(i.length===0,56720,{sr:i.map(a=>a.canonicalString())})})})}containsKey(e,n){return x8(e,this.userId,n)}_r(e){return b8(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:tl,lastStreamToken:""})}}function x8(t,e,n){const r=m0(e,n.path),i=r[1],a=IDBKeyRange.lowerBound(r);let s=!1;return ed(t).ee({range:a,X:!0},(o,l,c)=>{const[u,h,f]=o;u===e&&h===i&&(s=!0),c.done()}).next(()=>s)}function bo(t){return wn(t,Zi)}function ed(t){return wn(t,ah)}function b8(t){return wn(t,zp)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new eu(0)}static cr(){return new eu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hue{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next(n=>{const r=new eu(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.lr(e).next(n=>ce.fromTimestamp(new ze(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.lr(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.lr(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i)))}addTargetData(e,n){return this.Pr(e,n).next(()=>this.lr(e).next(r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Bu(e).delete(n.targetId)).next(()=>this.lr(e)).next(r=>(oe(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r)))}removeTargets(e,n,r){let i=0;const a=[];return Bu(e).ee((s,o)=>{const l=Tm(o);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,a.push(this.removeTargetData(e,l)))}).next(()=>M.waitFor(a)).next(()=>i)}forEachTarget(e,n){return Bu(e).ee((r,i)=>{const a=Tm(i);n(a)})}lr(e){return jM(e).get(Ex).next(n=>(oe(n!==null,2888),n))}hr(e,n){return jM(e).put(Ex,n)}Pr(e,n){return Bu(e).put(m8(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Yc(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Bu(e).ee({range:i,index:uF},(s,o,l)=>{const c=Tm(o);Xg(n,c.target)&&(a=c,l.done())}).next(()=>a)}addMatchingKeys(e,n,r){const i=[],a=Ro(e);return n.forEach(s=>{const o=dr(s.path);i.push(a.put({targetId:r,path:o})),i.push(this.referenceDelegate.addReference(e,r,s))}),M.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ro(e);return M.forEach(n,a=>{const s=dr(a.path);return M.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,n){const r=Ro(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ro(e);let a=ve();return i.ee({range:r,X:!0},(s,o,l)=>{const c=Sa(s[1]),u=new X(c);a=a.add(u)}).next(()=>a)}containsKey(e,n){const r=dr(n.path),i=IDBKeyRange.bound([r],[ZB(r)],!1,!0);let a=0;return Ro(e).ee({index:EP,X:!0,range:i},([s,o],l,c)=>{s!==0&&(a++,c.done())}).next(()=>a>0)}At(e,n){return Bu(e).get(n).next(r=>r?Tm(r):null)}}function Bu(t){return wn(t,sh)}function jM(t){return wn(t,Cc)}function Ro(t){return wn(t,oh)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM="LruGarbageCollector",Gue=1048576;function OM([t,e],[n,r]){const i=he(t,n);return i===0?he(e,r):i}class Kue{constructor(e){this.Ir=e,this.buffer=new We(OM),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();OM(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class w8{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){G(RM,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jl(n)?G(RM,"Ignoring IndexedDB error during garbage collection: ",n):await Cl(n)}await this.Vr(3e5)})}}class Wue{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return M.resolve(Vr.ce);const r=new Kue(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(CM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CM):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,s,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,o=Date.now(),this.removeTargets(e,r,n))).next(h=>(a=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Qu()<=Ee.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:h})))}}function _8(t,e){return new Wue(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yue{constructor(e,n){this.db=e,this.garbageCollector=_8(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,(r,i)=>n(i))}addReference(e,n,r){return pv(e,r)}removeReference(e,n,r){return pv(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return pv(e,n)}br(e,n){return function(i,a){let s=!1;return b8(i).te(o=>x8(i,o,a).next(l=>(l&&(s=!0),M.resolve(!l)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Sr(e,(s,o)=>{if(o<=n){const l=this.br(e,s).next(c=>{if(!c)return a++,r.getEntry(e,s).next(()=>(r.removeEntry(s,ce.min()),Ro(e).delete(function(h){return[0,dr(h.path)]}(s))))});i.push(l)}}).next(()=>M.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return pv(e,n)}Sr(e,n){const r=Ro(e);let i,a=Vr.ce;return r.ee({index:EP},([s,o],{path:l,sequenceNumber:c})=>{s===0?(a!==Vr.ce&&n(new X(Sa(i)),a),a=c,i=l):a=Vr.ce}).next(()=>{a!==Vr.ce&&n(new X(Sa(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function pv(t,e){return Ro(t).put(function(r,i){return{targetId:0,path:dr(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(){this.changes=new Js(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Que{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Wl(e).put(r)}removeEntry(e,n,r){return Wl(e).delete(function(a,s){const o=a.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Nx(s),o[o.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Dr(e,r)))}getEntry(e,n){let r=mt.newInvalidDocument(n);return Wl(e).ee({index:p0,range:IDBKeyRange.only(Zf(n))},(i,a)=>{r=this.Cr(n,a)}).next(()=>r)}vr(e,n){let r={size:0,document:mt.newInvalidDocument(n)};return Wl(e).ee({index:p0,range:IDBKeyRange.only(Zf(n))},(i,a)=>{r={document:this.Cr(n,a),size:Px(a)}}).next(()=>r)}getEntries(e,n){let r=zr();return this.Fr(e,n,(i,a)=>{const s=this.Cr(i,a);r=r.insert(i,s)}).next(()=>r)}Mr(e,n){let r=zr(),i=new ot(X.comparator);return this.Fr(e,n,(a,s)=>{const o=this.Cr(a,s);r=r.insert(a,o),i=i.insert(a,Px(s))}).next(()=>({documents:r,Or:i}))}Fr(e,n,r){if(n.isEmpty())return M.resolve();let i=new We(MM);n.forEach(l=>i=i.add(l));const a=IDBKeyRange.bound(Zf(i.first()),Zf(i.last())),s=i.getIterator();let o=s.getNext();return Wl(e).ee({index:p0,range:a},(l,c,u)=>{const h=X.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;o&&MM(o,h)<0;)r(o,null),o=s.getNext();o&&o.isEqual(h)&&(r(o,c),o=s.hasNext()?s.getNext():null),o?u.j(Zf(o)):u.done()}).next(()=>{for(;o;)r(o,null),o=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,a){const s=n.path,o=[s.popLast().toArray(),s.lastSegment(),Nx(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Wl(e).J(IDBKeyRange.bound(o,l,!0)).next(c=>{a==null||a.incrementDocumentReadCount(c.length);let u=zr();for(const h of c){const f=this.Cr(X.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);f.isFoundDocument()&&(Jg(n,f)||i.has(f.key))&&(u=u.insert(f.key,f))}return u})}getAllFromCollectionGroup(e,n,r,i){let a=zr();const s=DM(n,r),o=DM(n,gi.max());return Wl(e).ee({index:cF,range:IDBKeyRange.bound(s,o,!0)},(l,c,u)=>{const h=this.Cr(X.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);a=a.insert(h.key,h),a.size===i&&u.done()}).next(()=>a)}newChangeBuffer(e){return new Xue(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return kM(e).get(LS).next(n=>(oe(!!n,20021),n))}Dr(e,n){return kM(e).put(LS,n)}Cr(e,n){if(n){const r=Due(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ce.min())))return r}return mt.newInvalidDocument(e)}}function T8(t){return new Que(t)}class Xue extends E8{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Js(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new We((a,s)=>he(a.canonicalString(),s.canonicalString()));return this.changes.forEach((a,s)=>{const o=this.Br.get(a);if(n.push(this.Nr.removeEntry(e,a,o.readTime)),s.isValidDocument()){const l=yM(this.Nr.serializer,s);i=i.add(a.path.popLast());const c=Px(l);r+=c-o.size,n.push(this.Nr.addEntry(e,a,l))}else if(r-=o.size,this.trackRemovals){const l=yM(this.Nr.serializer,s.convertToNoDocument(ce.min()));n.push(this.Nr.addEntry(e,a,l))}}),i.forEach(a=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,a))}),n.push(this.Nr.updateMetadata(e,r)),M.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next(r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next(({documents:r,Or:i})=>(i.forEach((a,s)=>{this.Br.set(a,{size:s,readTime:r.get(a).readTime})}),r))}}function kM(t){return wn(t,Bp)}function Wl(t){return wn(t,_x)}function Zf(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function DM(t,e){const n=e.documentKey.path.toArray();return[t,Nx(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function MM(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<n.length-2&&a<r.length-2;++a)if(i=he(n[a],r[a]),i)return i;return i=he(n.length,r.length),i||(i=he(n[n.length-2],r[r.length-2]),i||he(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zue{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ip(r.mutation,i,Ur.empty(),ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const i=Aa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=_m();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Aa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=zr();const s=rp(),o=function(){return rp()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof eo)?a=a.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),ip(u.mutation,c,u.mutation.getFieldMask(),ze.now())):s.set(c.key,Ur.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>o.set(c,new Zue(u,s.get(c)??null))),o))}recalculateAndSaveOverlays(e,n){const r=rp();let i=new ot((s,o)=>s-o),a=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Ur.empty();u=o.applyToLocalView(c,u),r.set(l,u);const h=(i.get(o.batchId)||ve()).add(l);i=i.insert(o.batchId,h)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,h=BF();u.forEach(f=>{if(!a.has(f)){const m=WF(n.get(f),r.get(f));m!==null&&h.set(f,m),a=a.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return M.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return X.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):M.resolve(Aa());let o=ih,l=a;return s.next(c=>M.forEach(c,(u,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),a.get(u)?M.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,ve())).next(u=>({batchId:o,changes:zF(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let i=_m();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=_m();return this.indexManager.getCollectionParents(e,a).next(o=>M.forEach(o,l=>{const c=function(h,f){return new Zs(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((h,f)=>{s=s.insert(h,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,mt.newInvalidDocument(u)))});let o=_m();return s.forEach((l,c)=>{const u=a.get(l);u!==void 0&&ip(u.mutation,c,Ur.empty(),ze.now()),Jg(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jue{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return M.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Xt(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:UP(i.bundledQuery),readTime:Xt(i.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ede{constructor(){this.overlays=new ot(X.comparator),this.qr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Aa();return M.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=Aa(),a=n.length+1,s=new X(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new ot((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=a.get(c.largestBatchId);u===null&&(u=Aa(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=Aa(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=i)););return M.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new MP(n,r));let a=this.qr.get(n);a===void 0&&(a=ve(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tde{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(){this.Qr=new We(Pn.$r),this.Ur=new We(Pn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Pn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Pn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new X(new Se([])),r=new Pn(n,e),i=new Pn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),a.push(s.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new X(new Se([])),r=new Pn(n,e),i=new Pn(n,e+1);let a=ve();return this.Ur.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new Pn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return X.comparator(e.key,n.key)||he(e.Yr,n.Yr)}static Kr(e,n){return he(e.Yr,n.Yr)||X.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nde{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new We(Pn.$r)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new kP(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.Zr=this.Zr.add(new Pn(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return M.resolve(s)}lookupMutationBatch(e,n){return M.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return M.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?tl:this.tr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pn(n,0),i=new Pn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],s=>{const o=this.Xr(s.Yr);a.push(o)}),M.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new We(he);return n.forEach(i=>{const a=new Pn(i,0),s=new Pn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],o=>{r=r.add(o.Yr)})}),M.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;X.isDocumentKey(a)||(a=a.child(""));const s=new Pn(new X(a),0);let o=new We(he);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Yr)),!0)},s),M.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){oe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return M.forEach(n.mutations,i=>{const a=new Pn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Pn(n,0),i=this.Zr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rde{constructor(e){this.ri=e,this.docs=function(){return new ot(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():mt.newInvalidDocument(n))}getEntries(e,n){let r=zr();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():mt.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=zr();const s=n.path,o=new X(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||wP(rF(u),r)<=0||(i.has(u.key)||Jg(n,u))&&(a=a.insert(u.key,u.mutableCopy()))}return M.resolve(a)}getAllFromCollectionGroup(e,n,r,i){re(9500)}ii(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ide(this)}getSize(e){return M.resolve(this.size)}}class ide extends E8{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ade{constructor(e){this.persistence=e,this.si=new Js(n=>Yc(n),Xg),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.oi=0,this._i=new FP,this.targetCount=0,this.ai=eu.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),M.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new eu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Pr(n),M.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),M.waitFor(a).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),M.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,n){this.ui={},this.overlays={},this.ci=new Vr(0),this.li=!1,this.li=!0,this.hi=new tde,this.referenceDelegate=e(this),this.Pi=new ade(this),this.indexManager=new $ue,this.remoteDocumentCache=function(i){return new rde(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new f8(n),this.Ii=new Jue(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ede,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new nde(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new sde(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,n){return M.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class sde extends aF{constructor(e){super(),this.currentSequenceNumber=e}}class Vw{constructor(e){this.persistence=e,this.Ri=new FP,this.Vi=null}static mi(e){return new Vw(e)}get fi(){if(this.Vi)return this.Vi;throw re(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),M.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.fi,r=>{const i=X.fromPath(r);return this.gi(e,i).next(a=>{a||n.removeEntry(i,ce.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return M.or([()=>M.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Cx{constructor(e,n){this.persistence=e,this.pi=new Js(r=>dr(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=_8(this,n)}static mi(e,n){return new Cx(e,n)}Ei(){}di(e){return M.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return M.forEach(this.pi,(r,i)=>this.br(e,r,i).next(a=>a?M.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(o=>{o||(r++,a.removeEntry(s,ce.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),M.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),M.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=y0(e.data.value)),n}br(e,n,r){return M.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return M.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ode{constructor(e){this.serializer=e}k(e,n,r,i){const a=new Nw("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore(Qg)}(e),function(l){l.createObjectStore(zp,{keyPath:Ece}),l.createObjectStore(Zi,{keyPath:KD,autoIncrement:!0}).createIndex(gc,WD,{unique:!0}),l.createObjectStore(ah)}(e),LM(e),function(l){l.createObjectStore(rc)}(e));let s=M.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore(oh),l.deleteObjectStore(sh),l.deleteObjectStore(Cc)}(e),LM(e)),s=s.next(()=>function(l){const c=l.store(Cc),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ce.min().toTimestamp(),targetCount:0};return c.put(Ex,u)}(a))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(l,c){return c.store(Zi).J().next(h=>{l.deleteObjectStore(Zi),l.createObjectStore(Zi,{keyPath:KD,autoIncrement:!0}).createIndex(gc,WD,{unique:!0});const f=c.store(Zi),m=h.map(y=>f.put(y));return M.waitFor(m)})}(e,a))),s=s.next(()=>{(function(l){l.createObjectStore(lh,{keyPath:Rce})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.yi(a))),r<6&&i>=6&&(s=s.next(()=>(function(l){l.createObjectStore(Bp)}(e),this.wi(a)))),r<7&&i>=7&&(s=s.next(()=>this.Si(a))),r<8&&i>=8&&(s=s.next(()=>this.bi(e,a))),r<9&&i>=9&&(s=s.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.Di(a))),r<11&&i>=11&&(s=s.next(()=>{(function(l){l.createObjectStore(Iw,{keyPath:Oce})})(e),function(l){l.createObjectStore(Pw,{keyPath:kce})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(l){const c=l.createObjectStore(Cw,{keyPath:Bce});c.createIndex(US,Fce,{unique:!1}),c.createIndex(fF,$ce,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(l){const c=l.createObjectStore(_x,{keyPath:Sce});c.createIndex(p0,Ace),c.createIndex(cF,Nce)}(e)).next(()=>this.Ci(e,a)).next(()=>e.deleteObjectStore(rc))),r<14&&i>=14&&(s=s.next(()=>this.Fi(e,a))),r<15&&i>=15&&(s=s.next(()=>function(l){l.createObjectStore(TP,{keyPath:Dce,autoIncrement:!0}).createIndex(VS,Mce,{unique:!1}),l.createObjectStore(ep,{keyPath:Lce}).createIndex(dF,Vce,{unique:!1}),l.createObjectStore(tp,{keyPath:Uce}).createIndex(hF,zce,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{n.objectStore(ep).clear()}).next(()=>{n.objectStore(tp).clear()})),r<17&&i>=17&&(s=s.next(()=>{(function(l){l.createObjectStore(SP,{keyPath:qce})})(e)})),r<18&&i>=18&&j9()&&(s=s.next(()=>{n.objectStore(ep).clear()}).next(()=>{n.objectStore(tp).clear()})),s}wi(e){let n=0;return e.store(rc).ee((r,i)=>{n+=Px(i)}).next(()=>{const r={byteSize:n};return e.store(Bp).put(LS,r)})}yi(e){const n=e.store(zp),r=e.store(Zi);return n.J().next(i=>M.forEach(i,a=>{const s=IDBKeyRange.bound([a.userId,tl],[a.userId,a.lastAcknowledgedBatchId]);return r.J(gc,s).next(o=>M.forEach(o,l=>{oe(l.userId===a.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const c=dc(this.serializer,l);return v8(e,a.userId,c).next(()=>{})}))}))}Si(e){const n=e.store(oh),r=e.store(rc);return e.store(Cc).get(Ex).next(i=>{const a=[];return r.ee((s,o)=>{const l=new Se(s),c=function(h){return[0,dr(h)]}(l);a.push(n.get(c).next(u=>u?M.resolve():(h=>n.put({targetId:0,path:dr(h),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>M.waitFor(a))})}bi(e,n){e.createObjectStore(Fp,{keyPath:jce});const r=n.store(Fp),i=new BP,a=s=>{if(i.add(s)){const o=s.lastSegment(),l=s.popLast();return r.put({collectionId:o,parent:dr(l)})}};return n.store(rc).ee({X:!0},(s,o)=>{const l=new Se(s);return a(l.popLast())}).next(()=>n.store(ah).ee({X:!0},([s,o,l],c)=>{const u=Sa(o);return a(u.popLast())}))}Di(e){const n=e.store(sh);return n.ee((r,i)=>{const a=Tm(i),s=m8(this.serializer,a);return n.put(s)})}Ci(e,n){const r=n.store(rc),i=[];return r.ee((a,s)=>{const o=n.store(_x),l=function(h){return h.document?new X(Se.fromString(h.document.name).popFirst(5)):h.noDocument?X.fromSegments(h.noDocument.path):h.unknownDocument?X.fromSegments(h.unknownDocument.path):re(36783)}(s).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(o.put(c))}).next(()=>M.waitFor(i))}Fi(e,n){const r=n.store(Zi),i=T8(this.serializer),a=new $P(Vw.mi,this.serializer.yt);return r.J().next(s=>{const o=new Map;return s.forEach(l=>{let c=o.get(l.userId)??ve();dc(this.serializer,l).keys().forEach(u=>c=c.add(u)),o.set(l.userId,c)}),M.forEach(o,(l,c)=>{const u=new Rn(c),h=Mw.wt(this.serializer,u),f=a.getIndexManager(u),m=Lw.wt(u,this.serializer,f,a.referenceDelegate);return new S8(i,m,h,f).recalculateAndSaveOverlaysForDocumentKeys(new zS(n,Vr.ce),l).next()})})}}function LM(t){t.createObjectStore(oh,{keyPath:Pce}).createIndex(EP,Cce,{unique:!0}),t.createObjectStore(sh,{keyPath:"targetId"}).createIndex(uF,Ice,{unique:!0}),t.createObjectStore(Cc)}const wo="IndexedDbPersistence",IE=18e5,PE=5e3,CE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",A8="main";class qP{constructor(e,n,r,i,a,s,o,l,c,u,h=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=a,this.window=s,this.document=o,this.xi=c,this.Oi=u,this.Ni=h,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=f=>Promise.resolve(),!qP.v())throw new q(U.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Yue(this,i),this.$i=n+A8,this.serializer=new f8(l),this.Ui=new Pa(this.$i,this.Ni,new ode(this.serializer)),this.hi=new Lue,this.Pi=new Hue(this.referenceDelegate,this.serializer),this.remoteDocumentCache=T8(this.serializer),this.Ii=new Mue,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,u===!1&&Wt(wo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new q(U.FAILED_PRECONDITION,CE);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Pi.getHighestSequenceNumber(e))}).then(e=>{this.ci=new Vr(e,this.xi)}).then(()=>{this.li=!0}).catch(e=>(this.Ui&&this.Ui.close(),Promise.reject(e)))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget(async()=>{this.started&&await this.Wi()}))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gv(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Hi(e).next(n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)))})}).next(()=>this.Yi(e)).next(n=>this.isPrimary&&!n?this.Zi(e).next(()=>!1):!!n&&this.Xi(e).next(()=>!0))).catch(e=>{if(jl(e))return G(wo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return G(wo,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable(()=>this.Qi(e)),this.isPrimary=e})}Hi(e){return Jf(e).get(Mu).next(n=>M.resolve(this.es(n)))}ts(e){return gv(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,IE)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=wn(n,lh);return r.J().next(i=>{const a=this.ss(i,IE),s=i.filter(o=>a.indexOf(o)===-1);return M.forEach(s,o=>r.delete(o.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Wi().then(()=>this.ns()).then(()=>this.ji()))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?M.resolve(!0):Jf(e).get(Mu).next(n=>{if(n!==null&&this.rs(n.leaseTimestampMs,PE)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new q(U.FAILED_PRECONDITION,CE);return!1}}return!(!this.networkEnabled||!this.inForeground)||gv(e).J().next(r=>this.ss(r,PE).find(i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(a||s&&o)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&G(wo,`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Qg,lh],e=>{const n=new zS(e,Vr.ce);return this.Zi(n).next(()=>this.ts(n))}),this.Ui.close(),this.Ps()}ss(e,n){return e.filter(r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId))}Ts(){return this.runTransaction("getActiveClients","readonly",e=>gv(e).J().next(n=>this.ss(n,IE).map(r=>r.clientId)))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return Lw.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new que(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Mw.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){G(wo,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",a=function(l){return l===18?Kce:l===17?yF:l===16?Gce:l===15?AP:l===14?gF:l===13?pF:l===12?Hce:l===11?mF:void re(60245)}(this.Ni);let s;return this.Ui.runTransaction(e,i,a,o=>(s=new zS(o,this.ci?this.ci.next():Vr.ce),n==="readwrite-primary"?this.Hi(s).next(l=>!!l||this.Yi(s)).next(l=>{if(!l)throw Wt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)),new q(U.FAILED_PRECONDITION,iF);return r(s)}).next(l=>this.Xi(s).next(()=>l)):this.Is(s).next(()=>r(s)))).then(o=>(s.raiseOnCommittedEvent(),o))}Is(e){return Jf(e).get(Mu).next(n=>{if(n!==null&&this.rs(n.leaseTimestampMs,PE)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new q(U.FAILED_PRECONDITION,CE)})}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Jf(e).put(Mu,n)}static v(){return Pa.v()}Zi(e){const n=Jf(e);return n.get(Mu).next(r=>this.es(r)?(G(wo,"Releasing primary lease."),n.delete(Mu)):M.resolve())}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Wt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi()))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;C9()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return G(wo,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Wt(wo,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Wt("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Jf(t){return wn(t,Qg)}function gv(t){return wn(t,lh)}function HP(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ve(),i=ve();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new GP(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lde{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return C9()?8:sF(Rt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ws(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new lde;return this.Ss(e,n,s).next(o=>{if(a.result=o,this.Vs)return this.bs(e,n,s,o.size)})}).next(()=>a.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Qu()<=Ee.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Xu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),M.resolve()):(Qu()<=Ee.DEBUG&&G("QueryEngine","Query:",Xu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Qu()<=Ee.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Xu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nr(n))):M.resolve())}ys(e,n){if(oM(n))return M.resolve(null);let r=Nr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ax(n,null,"F"),r=Nr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=ve(...a);return this.ps.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,o);return this.Cs(n,c,s,l.readTime)?this.ys(e,Ax(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return oM(n)||i.isEqual(ce.min())?M.resolve(null):this.ps.getDocuments(e,r).next(a=>{const s=this.Ds(n,a);return this.Cs(n,s,r,i)?M.resolve(null):(Qu()<=Ee.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xu(n)),this.vs(e,s,n,nF(i,ih)).next(o=>o))})}Ds(e,n){let r=new We(VF(e));return n.forEach((i,a)=>{Jg(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Qu()<=Ee.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Xu(n)),this.ps.getDocumentsMatchingQuery(e,n,gi.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="LocalStore",cde=3e8;class ude{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new ot(he),this.xs=new Js(a=>Yc(a),Xg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new S8(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function I8(t,e,n,r){return new ude(t,e,n,r)}async function P8(t,e){const n=ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=ve();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:o}))})})}function dde(t,e){const n=ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const h=c.batch,f=h.keys();let m=M.resolve();return f.forEach(y=>{m=m.next(()=>u.getEntry(l,y)).next(v=>{const x=c.docVersions.get(y);oe(x!==null,48541),v.version.compareTo(x)<0&&(h.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=ve();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function C8(t){const e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function hde(t,e){const n=ee(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach((u,h)=>{const f=i.get(h);if(!f)return;o.push(n.Pi.removeMatchingKeys(a,u.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(a,u.addedDocuments,h)));let m=f.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(zt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),i=i.insert(h,m),function(v,x,b){return v.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=cde?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(f,m,u)&&o.push(n.Pi.updateTargetData(a,m))});let l=zr(),c=ve();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,u))}),o.push(j8(a,s,e.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!r.isEqual(ce.min())){const u=n.Pi.getLastRemoteSnapshotVersion(a).next(h=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(u)}return M.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(n.Ms=i,a))}function j8(t,e,n){let r=ve(),i=ve();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=zr();return n.forEach((o,l)=>{const c=a.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):G(KP,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{ks:s,qs:i}})}function fde(t,e){const n=ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=tl),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ph(t,e){const n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(a=>a?(i=a,M.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new hs(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function gh(t,e,n){const r=ee(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!jl(s))throw s;G(KP,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function jx(t,e,n){const r=ee(t);let i=ce.min(),a=ve();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const h=ee(l),f=h.xs.get(u);return f!==void 0?M.resolve(h.Ms.get(f)):h.Pi.getTargetData(c,u)}(r,s,Nr(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:ce.min(),n?a:ve())).next(o=>(k8(r,LF(e),o),{documents:o,Qs:a})))}function R8(t,e){const n=ee(t),r=ee(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",a=>r.At(a,e).next(s=>s?s.target:null))}function O8(t,e){const n=ee(t),r=n.Os.get(e)||ce.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Ns.getAllFromCollectionGroup(i,e,nF(r,ih),Number.MAX_SAFE_INTEGER)).then(i=>(k8(n,e,i),i))}function k8(t,e,n){let r=t.Os.get(e)||ce.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}async function mde(t,e,n,r){const i=ee(t);let a=ve(),s=zr();for(const c of n){const u=e.$s(c.metadata.name);c.document&&(a=a.add(u));const h=e.Us(c);h.setReadTime(e.Ks(c.metadata.readTime)),s=s.insert(u,h)}const o=i.Ns.newChangeBuffer({trackRemovals:!0}),l=await ph(i,function(u){return Nr(Qh(Se.fromString(`__bundle__/docs/${u}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>j8(c,o,s).next(u=>(o.apply(c),u)).next(u=>i.Pi.removeMatchingKeysForTargetId(c,l.targetId).next(()=>i.Pi.addMatchingKeys(c,a,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,u.ks,u.qs)).next(()=>u.ks)))}async function pde(t,e,n=ve()){const r=await ph(t,Nr(UP(e.bundledQuery))),i=ee(t);return i.persistence.runTransaction("Save named query","readwrite",a=>{const s=Xt(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ii.saveNamedQuery(a,e);const o=r.withResumeToken(zt.EMPTY_BYTE_STRING,s);return i.Ms=i.Ms.insert(o.targetId,o),i.Pi.updateTargetData(a,o).next(()=>i.Pi.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Pi.addMatchingKeys(a,n,r.targetId)).next(()=>i.Ii.saveNamedQuery(a,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8="firestore_clients";function VM(t,e){return`${D8}_${t}_${e}`}const M8="firestore_mutations";function UM(t,e,n){let r=`${M8}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const L8="firestore_targets";function jE(t,e){return`${L8}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="SharedClientState";class Rx{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let a,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(a=new q(i.error.code,i.error.message))),s?new Rx(e,n,i.state,a):(Wt(ma,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ap{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,a=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return a&&r.error&&(a=typeof r.error.message=="string"&&typeof r.error.code=="string",a&&(i=new q(r.error.code,r.error.message))),a?new ap(e,r.state,i):(Wt(ma,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ox{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,a=jP();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=oF(r.activeTargetIds[s]),a=a.add(r.activeTargetIds[s]);return i?new Ox(e,a):(Wt(ma,`Failed to parse client data for instance '${e}': ${n}`),null)}}class WP{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new WP(n.clientId,n.onlineState):(Wt(ma,`Failed to parse online state: ${e}`),null)}}class tA{constructor(){this.activeTargetIds=jP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RE{constructor(e,n,r,i,a){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new ot(he),this.started=!1,this.Xs=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.eo=VM(this.persistenceKey,this.Js),this.no=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new tA),this.ro=new RegExp(`^${D8}_${s}_([^_]*)$`),this.io=new RegExp(`^${M8}_${s}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${L8}_${s}_(\\d+)$`),this.oo=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this._o=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(VM(this.persistenceKey,r));if(i){const a=Ox.Ws(r,i);a&&(this.Zs=this.Zs.insert(a.clientId,a))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(jE(this.persistenceKey,e));if(i){const a=ap.Ws(e,i);a&&(r=a.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(jE(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Po(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return G(ma,"READ",e,n),n}setItem(e,n){G(ma,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){G(ma,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(G(ma,"EVENT",n.key,n.newValue),n.key===this.eo)return void Wt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=function(a){let s=Vr.ce;if(a!=null)try{const o=JSON.parse(a);oe(typeof o=="number",30636,{So:a}),s=o}catch(o){Wt(ma,"Failed to read sequence number from WebStorage",o)}return s}(n.newValue);r!==Vr.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Do(i)))}}}else this.Xs.push(n)})}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new Rx(this.currentUser,e,n,r),a=UM(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Gs())}Po(e){const n=UM(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=jE(this.persistenceKey,e),a=new ap(e,n,r);this.setItem(i,a.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return Ox.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),a=r[2]!==void 0?r[2]:null;return Rx.Ws(new Rn(a),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return ap.Ws(i,n)}uo(e){return WP.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);G(ma,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),a=this.lo(r),s=[],o=[];return a.forEach(l=>{i.has(l)||s.push(l)}),i.forEach(l=>{a.has(l)||o.push(l)}),this.syncEngine.Fo(s,o).then(()=>{this.Zs=r})}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=jP();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class V8{constructor(){this.Mo=new tA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new tA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gde{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM="ConnectivityMonitor";class BM{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){G(zM,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){G(zM,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yv=null;function nA(){return yv===null?yv=function(){return 268435456+Math.round(2147483648*Math.random())}():yv++,"0x"+yv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="RestConnection",yde={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vde{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===BS?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const s=nA(),o=this.zo(e,n.toUriEncodedString());G(OE,`Sending RPC '${e}' ${s}:`,o,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:c}=new URL(o),u=Il(c);return this.Jo(e,o,l,r,u).then(h=>(G(OE,`Received RPC '${e}' ${s}: `,h),h),h=>{throw Va(OE,`RPC '${e}' ${s} failed with error: `,h,"url: ",o,"request:",r),h})}Ho(e,n,r,i,a,s){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}zo(e,n){const r=yde[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xde{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr="WebChannelConnection";class bde extends vde{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const s=nA();return new Promise((o,l)=>{const c=new HB;c.setWithCredentials(!0),c.listenOnce(GB.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case h0.NO_ERROR:const h=c.getResponseJson();G(nr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case h0.TIMEOUT:G(nr,`RPC '${e}' ${s} timed out`),l(new q(U.DEADLINE_EXCEEDED,"Request time out"));break;case h0.HTTP_ERROR:const f=c.getStatus();if(G(nr,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const v=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(w)>=0?w:U.UNKNOWN}(y.status);l(new q(v,y.message))}else l(new q(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new q(U.UNAVAILABLE,"Connection failed."));break;default:re(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{G(nr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);G(nr,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}T_(e,n,r){const i=nA(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=YB(),o=WB(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=a.join("");G(nr,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=s.createWebChannel(u,l);this.I_(h);let f=!1,m=!1;const y=new xde({Yo:x=>{m?G(nr,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(f||(G(nr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),G(nr,`RPC '${e}' stream ${i} sending:`,x),h.send(x))},Zo:()=>h.close()}),v=(x,b,w)=>{x.listen(b,_=>{try{w(_)}catch(T){setTimeout(()=>{throw T},0)}})};return v(h,wm.EventType.OPEN,()=>{m||(G(nr,`RPC '${e}' stream ${i} transport opened.`),y.o_())}),v(h,wm.EventType.CLOSE,()=>{m||(m=!0,G(nr,`RPC '${e}' stream ${i} transport closed`),y.a_(),this.E_(h))}),v(h,wm.EventType.ERROR,x=>{m||(m=!0,Va(nr,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),y.a_(new q(U.UNAVAILABLE,"The operation could not be completed")))}),v(h,wm.EventType.MESSAGE,x=>{var b;if(!m){const w=x.data[0];oe(!!w,16349);const _=w,T=(_==null?void 0:_.error)||((b=_[0])==null?void 0:b.error);if(T){G(nr,`RPC '${e}' stream ${i} received error:`,T);const I=T.status;let j=function(P){const C=en[P];if(C!==void 0)return XF(C)}(I),A=T.message;j===void 0&&(j=U.INTERNAL,A="Unknown error status: "+I+" with message "+T.message),m=!0,y.a_(new q(j,A)),h.close()}else G(nr,`RPC '${e}' stream ${i} received:`,w),y.u_(w)}}),v(o,KB.STAT_EVENT,x=>{x.stat===kS.PROXY?G(nr,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===kS.NOPROXY&&G(nr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U8(){return typeof window<"u"?window:null}function _0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(t){return new Sue(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM="PersistentStream";class z8{constructor(e,n,r,i,a,s,o,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new YP(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Wt(n.toString()),Wt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new q(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(FM,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(G(FM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wde extends z8{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Iue(this.serializer,e),r=function(a){if(!("targetChange"in a))return ce.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?ce.min():s.readTime?Xt(s.readTime):ce.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=QS(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=Tx(l)?{documents:o8(a,l)}:{query:l8(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=t8(a,s.resumeToken);const c=WS(a,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(ce.min())>0){o.readTime=mh(a,s.snapshotVersion.toTimestamp());const c=WS(a,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=Cue(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=QS(this.serializer),n.removeTarget=e,this.q_(n)}}class _de extends z8{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return oe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,oe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){oe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Pue(e.writeResults,e.commitTime),r=Xt(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=QS(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Wp(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ede{}class Tde extends Ede{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Go(e,YS(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new q(U.UNKNOWN,a.toString())})}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(e,YS(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(U.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Sde{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wt(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu="RemoteStore";class Ade{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{Ol(this)&&(G(tu,"Restarting streams for network reachability change."),await async function(l){const c=ee(l);c.Ea.add(4),await Jh(c),c.Ra.set("Unknown"),c.Ea.delete(4),await iy(c)}(this))})}),this.Ra=new Sde(r,i)}}async function iy(t){if(Ol(t))for(const e of t.da)await e(!0)}async function Jh(t){for(const e of t.da)await e(!1)}function Uw(t,e){const n=ee(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ZP(n)?XP(n):tf(n).O_()&&QP(n,e))}function yh(t,e){const n=ee(t),r=tf(n);n.Ia.delete(e),r.O_()&&B8(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ol(n)&&n.Ra.set("Unknown"))}function QP(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}tf(t).Y_(e)}function B8(t,e){t.Va.Ue(e),tf(t).Z_(e)}function XP(t){t.Va=new wue({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),tf(t).start(),t.Ra.ua()}function ZP(t){return Ol(t)&&!tf(t).x_()&&t.Ia.size>0}function Ol(t){return ee(t).Ea.size===0}function F8(t){t.Va=void 0}async function Nde(t){t.Ra.set("Online")}async function Ide(t){t.Ia.forEach((e,n)=>{QP(t,e)})}async function Pde(t,e){F8(t),ZP(t)?(t.Ra.ha(e),XP(t)):t.Ra.set("Unknown")}async function Cde(t,e,n){if(t.Ra.set("Online"),e instanceof e8&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(r){G(tu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kx(t,r)}else if(e instanceof b0?t.Va.Ze(e):e instanceof JF?t.Va.st(e):t.Va.tt(e),!n.isEqual(ce.min()))try{const r=await C8(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.Va.Tt(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.Ia.get(c);u&&a.Ia.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=a.Ia.get(l);if(!u)return;a.Ia.set(l,u.withResumeToken(zt.EMPTY_BYTE_STRING,u.snapshotVersion)),B8(a,l);const h=new hs(u.target,l,c,u.sequenceNumber);QP(a,h)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){G(tu,"Failed to raise snapshot:",r),await kx(t,r)}}async function kx(t,e,n){if(!jl(e))throw e;t.Ea.add(1),await Jh(t),t.Ra.set("Offline"),n||(n=()=>C8(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(tu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await iy(t)})}function $8(t,e){return e().catch(n=>kx(t,n,e))}async function ef(t){const e=ee(t),n=gl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tl;for(;jde(e);)try{const i=await fde(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Rde(e,i)}catch(i){await kx(e,i)}q8(e)&&H8(e)}function jde(t){return Ol(t)&&t.Ta.length<10}function Rde(t,e){t.Ta.push(e);const n=gl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function q8(t){return Ol(t)&&!gl(t).x_()&&t.Ta.length>0}function H8(t){gl(t).start()}async function Ode(t){gl(t).ra()}async function kde(t){const e=gl(t);for(const n of t.Ta)e.ea(n.mutations)}async function Dde(t,e,n){const r=t.Ta.shift(),i=DP.from(r,e,n);await $8(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ef(t)}async function Mde(t,e){e&&gl(t).X_&&await async function(r,i){if(function(s){return QF(s)&&s!==U.ABORTED}(i.code)){const a=r.Ta.shift();gl(r).B_(),await $8(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await ef(r)}}(t,e),q8(t)&&H8(t)}async function $M(t,e){const n=ee(t);n.asyncQueue.verifyOperationInProgress(),G(tu,"RemoteStore received new credentials");const r=Ol(n);n.Ea.add(3),await Jh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await iy(n)}async function rA(t,e){const n=ee(t);e?(n.Ea.delete(2),await iy(n)):e||(n.Ea.add(2),await Jh(n),n.Ra.set("Unknown"))}function tf(t){return t.ma||(t.ma=function(n,r,i){const a=ee(n);return a.sa(),new wde(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:Nde.bind(null,t),t_:Ide.bind(null,t),r_:Pde.bind(null,t),H_:Cde.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),ZP(t)?XP(t):t.Ra.set("Unknown")):(await t.ma.stop(),F8(t))})),t.ma}function gl(t){return t.fa||(t.fa=function(n,r,i){const a=ee(n);return a.sa(),new _de(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Ode.bind(null,t),r_:Mde.bind(null,t),ta:kde.bind(null,t),na:Dde.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ef(t)):(await t.fa.stop(),t.Ta.length>0&&(G(tu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Xn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new JP(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nf(t,e){if(Wt("AsyncQueue",`${e}: ${t}`),jl(t))return new q(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{static emptySet(e){return new Md(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=_m(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Md)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Md;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this.ga=new ot(X.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):re(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class vh{constructor(e,n,r,i,a,s,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new vh(e,n,Md.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lde{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Vde{constructor(){this.queries=HM(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ee(n),a=i.queries;i.queries=HM(),a.forEach((s,o)=>{for(const l of o.Sa)l.onError(r)})})(this,new q(U.ABORTED,"Firestore shutting down"))}}function HM(){return new Js(t=>MF(t),Zg)}async function e2(t,e){const n=ee(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new Lde,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=nf(s,`Initialization of query '${Xu(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&n2(n)}async function t2(t,e){const n=ee(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ude(t,e){const n=ee(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.Sa)o.Fa(i)&&(r=!0);s.wa=i}}r&&n2(n)}function zde(t,e,n){const r=ee(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function n2(t){t.Ca.forEach(e=>{e.next()})}var iA,GM;(GM=iA||(iA={})).Ma="default",GM.Cache="cache";class r2{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new vh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=vh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==iA.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bde{constructor(e,n){this.Qa=e,this.byteLength=n}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e){this.serializer=e}$s(e){return Ca(this.serializer,e)}Us(e){return e.metadata.exists?s8(this.serializer,e.document,!1):mt.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return Xt(e)}}class Fde{constructor(e,n){this.Ua=e,this.serializer=n,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=G8(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++n;const r=Se.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,{...this.progress}):null}za(e){const n=new Map,r=new KM(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.$s(i.metadata.name);for(const s of i.metadata.queries){const o=(n.get(s)||ve()).add(a);n.set(s,o)}}return n}async ja(e){const n=await mde(e,new KM(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)await pde(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:n}}}function G8(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e){this.key=e}}class W8{constructor(e){this.key=e}}class Y8{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ve(),this.mutatedKeys=ve(),this.eu=VF(e),this.tu=new Md(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new qM,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const f=i.get(u),m=Jg(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;f&&m?f.data.isEqual(m.data)?y!==v&&(r.track({type:3,doc:m}),x=!0):this.su(f,m)||(r.track({type:2,doc:m}),x=!0,(l&&this.eu(m,l)>0||c&&this.eu(m,c)<0)&&(o=!0)):!f&&m?(r.track({type:0,doc:m}),x=!0):f&&!m&&(r.track({type:1,doc:f}),x=!0,(l||c)&&(o=!0)),x&&(m?(s=s.add(m),a=v?a.add(u):a.delete(u)):(s=s.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),a=a.delete(u.key),r.track({type:1,doc:u})}return{tu:s,iu:r,Cs:o,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((u,h)=>function(m,y){const v=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re(20277,{Rt:x})}};return v(m)-v(y)}(u.type,h.type)||this.eu(u.doc,h.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,s.length!==0||c?{snapshot:new vh(this.query,e.tu,a,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qM,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ve(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new W8(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new K8(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return vh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const kl="SyncEngine";class $de{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qde{constructor(e){this.key=e,this.hu=!1}}class Hde{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Js(o=>MF(o),Zg),this.Iu=new Map,this.Eu=new Set,this.du=new ot(X.comparator),this.Au=new Map,this.Ru=new FP,this.Vu={},this.mu=new Map,this.fu=eu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Gde(t,e,n=!0){const r=zw(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await Q8(r,e,n,!0),i}async function Kde(t,e){const n=zw(t);await Q8(n,e,!0,!1)}async function Q8(t,e,n,r){const i=await ph(t.localStore,Nr(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await i2(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&Uw(t.remoteStore,i),o}async function i2(t,e,n,r,i){t.pu=(h,f,m)=>async function(v,x,b,w){let _=x.view.ru(b);_.Cs&&(_=await jx(v.localStore,x.query,!1).then(({documents:A})=>x.view.ru(A,_)));const T=w&&w.targetChanges.get(x.targetId),I=w&&w.targetMismatches.get(x.targetId)!=null,j=x.view.applyChanges(_,v.isPrimaryClient,T,I);return aA(v,x.targetId,j.au),j.snapshot}(t,h,f,m);const a=await jx(t.localStore,e,!0),s=new Y8(e,a.Qs),o=s.ru(a.documents),l=ny.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(o,t.isPrimaryClient,l);aA(t,n,c.au);const u=new $de(e,n,s);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function Wde(t,e,n){const r=ee(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(s=>!Zg(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&yh(r.remoteStore,i.targetId),xh(r,i.targetId)}).catch(Cl)):(xh(r,i.targetId),await gh(r.localStore,i.targetId,!0))}async function Yde(t,e){const n=ee(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yh(n.remoteStore,r.targetId))}async function Qde(t,e,n){const r=l2(t);try{const i=await function(s,o){const l=ee(s),c=ze.now(),u=o.reduce((m,y)=>m.add(y.key),ve());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=zr(),v=ve();return l.Ns.getEntries(m,u).next(x=>{y=x,y.forEach((b,w)=>{w.isValidDocument()||(v=v.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(x=>{h=x;const b=[];for(const w of o){const _=vue(w,h.get(w.key).overlayedDocument);_!=null&&b.push(new eo(w.key,_,NF(_.value.mapValue),At.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,b,o)}).next(x=>{f=x;const b=x.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(m,x.batchId,b)})}).then(()=>({batchId:f.batchId,changes:zF(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let c=s.Vu[s.currentUser.toKey()];c||(c=new ot(he)),c=c.insert(o,l),s.Vu[s.currentUser.toKey()]=c}(r,i.batchId,n),await to(r,i.changes),await ef(r.remoteStore)}catch(i){const a=nf(i,"Failed to persist write");n.reject(a)}}async function X8(t,e){const n=ee(t);try{const r=await hde(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Au.get(a);s&&(oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?oe(s.hu,14607):i.removedDocuments.size>0&&(oe(s.hu,42227),s.hu=!1))}),await to(n,r,e)}catch(r){await Cl(r)}}function WM(t,e,n){const r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=ee(s);l.onlineState=o;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.Sa)f.va(o)&&(c=!0)}),c&&n2(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Xde(t,e,n){const r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new ot(X.comparator);s=s.insert(a,mt.newNoDocument(a,ce.min()));const o=ve().add(a),l=new ty(ce.min(),new Map,new ot(he),s,o);await X8(r,l),r.du=r.du.remove(a),r.Au.delete(e),o2(r)}else await gh(r.localStore,e,!1).then(()=>xh(r,e,n)).catch(Cl)}async function Zde(t,e){const n=ee(t),r=e.batch.batchId;try{const i=await dde(n.localStore,e);s2(n,r,null),a2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await to(n,i)}catch(i){await Cl(i)}}async function Jde(t,e,n){const r=ee(t);try{const i=await function(s,o){const l=ee(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(h=>(oe(h!==null,37113),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);s2(r,e,n),a2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await to(r,i)}catch(i){await Cl(i)}}async function ehe(t,e){const n=ee(t);Ol(n.remoteStore)||G(kl,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const o=ee(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>o.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===tl)return void e.resolve();const i=n.mu.get(r)||[];i.push(e),n.mu.set(r,i)}catch(r){const i=nf(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function a2(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function s2(t,e,n){const r=ee(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function xh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||Z8(t,r)})}function Z8(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(yh(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),o2(t))}function aA(t,e,n){for(const r of n)r instanceof K8?(t.Ru.addReference(r.key,e),the(t,r)):r instanceof W8?(G(kl,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Z8(t,r.key)):re(19791,{wu:r})}function the(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(G(kl,"New document in limbo: "+n),t.Eu.add(r),o2(t))}function o2(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new X(Se.fromString(e)),r=t.fu.next();t.Au.set(r,new qde(n)),t.du=t.du.insert(n,r),Uw(t.remoteStore,new hs(Nr(Qh(n.path)),r,"TargetPurposeLimboResolution",Vr.ce))}}async function to(t,e,n){const r=ee(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{s.push(r.pu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=GP.As(l.targetId,c);a.push(h)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,c){const u=ee(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>M.forEach(c,f=>M.forEach(f.Es,m=>u.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>M.forEach(f.ds,m=>u.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!jl(h))throw h;G(KP,"Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const m=u.Ms.get(f),y=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(y);u.Ms=u.Ms.insert(f,v)}}}(r.localStore,a))}async function nhe(t,e){const n=ee(t);if(!n.currentUser.isEqual(e)){G(kl,"User change. New user:",e.toKey());const r=await P8(n.localStore,e);n.currentUser=e,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new q(U.CANCELLED,s))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await to(n,r.Ls)}}function rhe(t,e){const n=ee(t),r=n.Au.get(e);if(r&&r.hu)return ve().add(r.key);{let i=ve();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const o=n.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}async function ihe(t,e){const n=ee(t),r=await jx(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&aA(n,e.targetId,i.au),i}async function ahe(t,e){const n=ee(t);return O8(n.localStore,e).then(r=>to(n,r))}async function she(t,e,n,r){const i=ee(t),a=await function(o,l){const c=ee(o),u=ee(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",h=>u.er(h,l).next(f=>f?c.localDocuments.getDocuments(h,f):M.resolve(null)))}(i.localStore,e);a!==null?(n==="pending"?await ef(i.remoteStore):n==="acknowledged"||n==="rejected"?(s2(i,e,r||null),a2(i,e),function(o,l){ee(ee(o).mutationQueue).ir(l)}(i.localStore,e)):re(6720,"Unknown batchState",{Su:n}),await to(i,a)):G(kl,"Cannot apply mutation batch with id: "+e)}async function ohe(t,e){const n=ee(t);if(zw(n),l2(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await YM(n,r.toArray());n.gu=!0,await rA(n.remoteStore,!0);for(const a of i)Uw(n.remoteStore,a)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach((a,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(xh(n,s),gh(n.localStore,s,!0))),yh(n.remoteStore,s)}),await i,await YM(n,r),function(s){const o=ee(s);o.Au.forEach((l,c)=>{yh(o.remoteStore,c)}),o.Ru.Jr(),o.Au=new Map,o.du=new ot(X.comparator)}(n),n.gu=!1,await rA(n.remoteStore,!1)}}async function YM(t,e,n){const r=ee(t),i=[],a=[];for(const s of e){let o;const l=r.Iu.get(s);if(l&&l.length!==0){o=await ph(r.localStore,Nr(l[0]));for(const c of l){const u=r.Tu.get(c),h=await ihe(r,u);h.snapshot&&a.push(h.snapshot)}}else{const c=await R8(r.localStore,s);o=await ph(r.localStore,c),await i2(r,J8(c),s,!1,o.resumeToken)}i.push(o)}return r.Pu.H_(a),i}function J8(t){return DF(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function lhe(t){return function(n){return ee(ee(n).persistence).Ts()}(ee(t).localStore)}async function che(t,e,n,r){const i=ee(t);if(i.gu)return void G(kl,"Ignoring unexpected query state notification.");const a=i.Iu.get(e);if(a&&a.length>0)switch(n){case"current":case"not-current":{const s=await O8(i.localStore,LF(a[0])),o=ty.createSynthesizedRemoteEventForCurrentChange(e,n==="current",zt.EMPTY_BYTE_STRING);await to(i,s,o);break}case"rejected":await gh(i.localStore,e,!0),xh(i,e,r);break;default:re(64155,n)}}async function uhe(t,e,n){const r=zw(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){G(kl,"Adding an already active target "+i);continue}const a=await R8(r.localStore,i),s=await ph(r.localStore,a);await i2(r,J8(a),s.targetId,!1,s.resumeToken),Uw(r.remoteStore,s)}for(const i of n)r.Iu.has(i)&&await gh(r.localStore,i,!1).then(()=>{yh(r.remoteStore,i),xh(r,i)}).catch(Cl)}}function zw(t){const e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=X8.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rhe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xde.bind(null,e),e.Pu.H_=Ude.bind(null,e.eventManager),e.Pu.yu=zde.bind(null,e.eventManager),e}function l2(t){const e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zde.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jde.bind(null,e),e}function dhe(t,e,n){const r=ee(t);(async function(a,s,o){try{const l=await s.getMetadata();if(await function(m,y){const v=ee(m),x=Xt(y.createTime);return v.persistence.runTransaction("hasNewerBundle","readonly",b=>v.Ii.getBundleMetadata(b,y.id)).then(b=>!!b&&b.createTime.compareTo(x)>=0)}(a.localStore,l))return await s.close(),o._completeWith(function(m){return{taskState:"Success",documentsLoaded:m.totalDocuments,bytesLoaded:m.totalBytes,totalDocuments:m.totalDocuments,totalBytes:m.totalBytes}}(l)),Promise.resolve(new Set);o._updateProgress(G8(l));const c=new Fde(l,s.serializer);let u=await s.bu();for(;u;){const f=await c.Ga(u);f&&o._updateProgress(f),u=await s.bu()}const h=await c.ja(a.localStore);return await to(a,h.Ha,void 0),await function(m,y){const v=ee(m);return v.persistence.runTransaction("Save bundle","readwrite",x=>v.Ii.saveBundleMetadata(x,y))}(a.localStore,l),o._completeWith(h.progress),Promise.resolve(h.Ja)}catch(l){return Va(kl,`Loading bundle failed with ${l}`),o._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class Yp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ry(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return I8(this.persistence,new N8,e.initialUser,this.serializer)}Cu(e){return new $P(Vw.mi,this.serializer)}Du(e){return new V8}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yp.provider={build:()=>new Yp};class hhe extends Yp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){oe(this.persistence.referenceDelegate instanceof Cx,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new w8(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ar.withCacheSize(this.cacheSizeBytes):ar.DEFAULT;return new $P(r=>Cx.mi(r,n),this.serializer)}}class e$ extends Yp{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await l2(this.xu.syncEngine),await ef(this.xu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return I8(this.persistence,new N8,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new w8(r,e.asyncQueue,n)}Mu(e,n){const r=new wce(n,this.persistence);return new bce(e.asyncQueue,r)}Cu(e){const n=HP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?ar.withCacheSize(this.cacheSizeBytes):ar.DEFAULT;return new qP(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,U8(),_0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new V8}}class fhe extends e${constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof RE&&(this.sharedClientState.syncEngine={Co:she.bind(null,n),vo:che.bind(null,n),Fo:uhe.bind(null,n),Ts:lhe.bind(null,n),Do:ahe.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji(async r=>{await ohe(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Du(e){const n=U8();if(!RE.v(n))throw new q(U.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=HP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new RE(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Qp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>WM(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nhe.bind(null,this.syncEngine),await rA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Vde}()}createDatastore(e){const n=ry(e.databaseInfo.databaseId),r=function(a){return new bde(a)}(e.databaseInfo);return function(a,s,o,l){return new Tde(a,s,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new Ade(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>WM(this.syncEngine,n,0),function(){return BM.v()?new BM:new gde}())}createSyncEngine(e,n){return function(i,a,s,o,l,c,u){const h=new Hde(i,a,s,o,l,c);return u&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=ee(i);G(tu,"RemoteStore shutting down."),a.Ea.add(5),await Jh(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Qp.provider={build:()=>new Qp};function QM(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mhe{constructor(e,n){this.Bu=e,this.serializer=n,this.metadata=new Xn,this.buffer=new Uint8Array,this.Lu=function(){return new TextDecoder("utf-8")}(),this.ku().then(r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Qa)}`))},r=>this.metadata.reject(r))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const n=this.Lu.decode(e),r=Number(n);isNaN(r)&&this.Qu(`length string (${n}) is not valid number`);const i=await this.$u(r);return new Bde(JSON.parse(i),e.length+r)}Uu(){return this.buffer.findIndex(e=>e===123)}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const n=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class phe{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new q(U.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,a){const s=ee(i),o={documents:a.map(h=>Kp(s.serializer,h))},l=await s.Ho("BatchGetDocuments",s.serializer.databaseId,Se.emptyPath(),o,a.length),c=new Map;l.forEach(h=>{const f=Nue(s.serializer,h);c.set(f.key.toString(),f)});const u=[];return a.forEach(h=>{const f=c.get(h.toString());oe(!!f,55234,{key:h}),u.push(f)}),u}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Zh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=X.fromPath(r);this.mutations.push(new OP(i,this.precondition(i)))}),await async function(r,i){const a=ee(r),s={writes:i.map(o=>Wp(a.serializer,o))};await a.Go("Commit",a.serializer.databaseId,Se.emptyPath(),s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw re(50498,{Gu:e.constructor.name});n=ce.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new q(U.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ce.min())?At.exists(!1):At.updateTime(n):At.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ce.min()))throw new q(U.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return At.updateTime(n)}return At.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ghe{constructor(e,n,r,i,a){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.zu=r.maxAttempts,this.M_=new YP(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new phe(this.datastore),n=this.Hu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Yu(i)}))}).catch(r=>{this.Yu(r)})})}Hu(e){try{const n=this.updateFunction(e);return!Yg(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!QF(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="FirestoreClient";class yhe{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rn.UNAUTHENTICATED,this.clientId=xP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{G(yl,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(G(yl,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=nf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function kE(t,e){t.asyncQueue.verifyOperationInProgress(),G(yl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await P8(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function XM(t,e){t.asyncQueue.verifyOperationInProgress();const n=await c2(t);G(yl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>$M(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>$M(e.remoteStore,i)),t._onlineComponents=e}async function c2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(yl,"Using user provided OfflineComponentProvider");try{await kE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Va("Error using user provided cache. Falling back to memory cache: "+n),await kE(t,new Yp)}}else G(yl,"Using default OfflineComponentProvider"),await kE(t,new hhe(void 0));return t._offlineComponents}async function Fw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(yl,"Using user provided OnlineComponentProvider"),await XM(t,t._uninitializedComponentsProvider._online)):(G(yl,"Using default OnlineComponentProvider"),await XM(t,new Qp))),t._onlineComponents}function t$(t){return c2(t).then(e=>e.persistence)}function u2(t){return c2(t).then(e=>e.localStore)}function n$(t){return Fw(t).then(e=>e.remoteStore)}function d2(t){return Fw(t).then(e=>e.syncEngine)}function vhe(t){return Fw(t).then(e=>e.datastore)}async function bh(t){const e=await Fw(t),n=e.eventManager;return n.onListen=Gde.bind(null,e.syncEngine),n.onUnlisten=Wde.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Kde.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Yde.bind(null,e.syncEngine),n}function xhe(t){return t.asyncQueue.enqueue(async()=>{const e=await t$(t),n=await n$(t);return e.setNetworkEnabled(!0),function(i){const a=ee(i);return a.Ea.delete(0),iy(a)}(n)})}function bhe(t){return t.asyncQueue.enqueue(async()=>{const e=await t$(t),n=await n$(t);return e.setNetworkEnabled(!1),async function(i){const a=ee(i);a.Ea.add(0),await Jh(a),a.Ra.set("Offline")}(n)})}function whe(t,e){const n=new Xn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,a,s){try{const o=await function(c,u){const h=ee(c);return h.persistence.runTransaction("read document","readonly",f=>h.localDocuments.getDocument(f,u))}(i,a);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new q(U.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const l=nf(o,`Failed to get document '${a} from cache`);s.reject(l)}}(await u2(t),e,n)),n.promise}function r$(t,e,n={}){const r=new Xn;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const u=new Bw({next:f=>{u.Nu(),s.enqueueAndForget(()=>t2(a,h));const m=f.docs.has(o);!m&&f.fromCache?c.reject(new q(U.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?c.reject(new q(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new r2(Qh(o.path),u,{includeMetadataChanges:!0,qa:!0});return e2(a,h)}(await bh(t),t.asyncQueue,e,n,r)),r.promise}function _he(t,e){const n=new Xn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,a,s){try{const o=await jx(i,a,!0),l=new Y8(a,o.Qs),c=l.ru(o.documents),u=l.applyChanges(c,!1);s.resolve(u.snapshot)}catch(o){const l=nf(o,`Failed to execute query '${a} against cache`);s.reject(l)}}(await u2(t),e,n)),n.promise}function i$(t,e,n={}){const r=new Xn;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const u=new Bw({next:f=>{u.Nu(),s.enqueueAndForget(()=>t2(a,h)),f.fromCache&&l.source==="server"?c.reject(new q(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new r2(o,u,{includeMetadataChanges:!0,qa:!0});return e2(a,h)}(await bh(t),t.asyncQueue,e,n,r)),r.promise}function Ehe(t,e){const n=new Bw(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,a){ee(i).Ca.add(a),a.next()}(await bh(t),n)),()=>{n.Nu(),t.asyncQueue.enqueueAndForget(async()=>function(i,a){ee(i).Ca.delete(a)}(await bh(t),n))}}function The(t,e,n,r){const i=function(s,o){let l;return l=typeof s=="string"?ZF().encode(s):s,function(u,h){return new mhe(u,h)}(function(u,h){if(u instanceof Uint8Array)return QM(u,h);if(u instanceof ArrayBuffer)return QM(new Uint8Array(u),h);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),o)}(n,ry(e));t.asyncQueue.enqueueAndForget(async()=>{dhe(await d2(t),i,r)})}function She(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const a=ee(r);return a.persistence.runTransaction("Get named query","readonly",s=>a.Ii.getNamedQuery(s,i))}(await u2(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a$(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$="firestore.googleapis.com",JM=!0;class e4{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s$,this.ssl=JM}else this.host=e.host,this.ssl=e.ssl??JM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=y8;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Gue)throw new q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=a$(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ay{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lce;switch(r.type){case"firstParty":return new hce(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ZM.get(n);r&&(G("ComponentProvider","Removing Datastore"),ZM.delete(n),r.terminate())}(this),Promise.resolve()}}function Ahe(t,e,n,r={}){var c;t=ke(t,ay);const i=Il(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(qI(`https://${o}`),HI("Firestore",!0)),a.host!==s$&&a.host!==o&&Va("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:r};if(!ll(l,s)&&(t._setSettings(l),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=Rn.MOCK_USER;else{u=A9(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Rn(f)}t._authCredentials=new cce(new XB(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ir=class o${constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new o$(this.firestore,e,this._query)}},st=class Sm{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sm(this.firestore,e,this._key)}toJSON(){return{type:Sm._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Wg(n,Sm._jsonSchema))return new Sm(e,r||null,new X(Se.fromString(n.referencePath)))}};st._jsonSchemaVersion="firestore/documentReference/1.0",st._jsonSchema={type:ln("string",st._jsonSchemaVersion),referencePath:ln("string")};let nl=class l$ extends Ir{constructor(e,n,r){super(e,n,Qh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new st(this.firestore,null,new X(e))}withConverter(e){return new l$(this.firestore,e,this._path)}};function Dx(t,e,...n){if(t=le(t),bP("collection","path",e),t instanceof ay){const r=Se.fromString(e,...n);return FD(r),new nl(t,null,r)}{if(!(t instanceof st||t instanceof nl))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return FD(r),new nl(t.firestore,null,r)}}function Nhe(t,e){if(t=ke(t,ay),bP("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new q(U.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ir(t,null,function(r){return new Zs(Se.emptyPath(),r)}(e))}function Mx(t,e,...n){if(t=le(t),arguments.length===1&&(e=xP.newId()),bP("doc","path",e),t instanceof ay){const r=Se.fromString(e,...n);return BD(r),new st(t,null,new X(r))}{if(!(t instanceof st||t instanceof nl))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return BD(r),new st(t.firestore,t instanceof nl?t.converter:null,new X(r))}}function c$(t,e){return t=le(t),e=le(e),(t instanceof st||t instanceof nl)&&(e instanceof st||e instanceof nl)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function u$(t,e){return t=le(t),e=le(e),t instanceof Ir&&e instanceof Ir&&t.firestore===e.firestore&&Zg(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4="AsyncQueue";class n4{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new YP(this,"async_queue_retry"),this._c=()=>{const r=_0();r&&G(t4,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=_0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=_0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Xn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jl(e))throw e;G(t4,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Wt("INTERNAL UNHANDLED ERROR: ",r4(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=JP.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&re(47125,{Pc:r4(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function r4(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Ihe{constructor(){this._progressObserver={},this._taskCompletionResolver=new Xn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Phe=-1;let Zt=class extends ay{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new n4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new n4(e),this._firestoreClient=void 0,await e}}};function mr(t){if(t._terminated)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||d$(t),t._firestoreClient}function d$(t){var r,i,a;const e=t._freezeSettings(),n=function(o,l,c,u){return new Qce(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,a$(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new yhe(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}function Che(t,e){Va("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return h$(t,Qp.provider,{build:r=>new e$(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function jhe(t){Va("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();h$(t,Qp.provider,{build:n=>new fhe(n,e.cacheSizeBytes)})}function h$(t,e,n){if((t=ke(t,Zt))._firestoreClient||t._terminated)throw new q(U.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new q(U.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},d$(t)}function Rhe(t){if(t._initialized&&!t._terminated)throw new q(U.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Xn;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Pa.v())return Promise.resolve();const i=r+A8;await Pa.delete(i)}(HP(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function Ohe(t){return function(n){const r=new Xn;return n.asyncQueue.enqueueAndForget(async()=>ehe(await d2(n),r)),r.promise}(mr(t=ke(t,Zt)))}function khe(t){return xhe(mr(t=ke(t,Zt)))}function Dhe(t){return bhe(mr(t=ke(t,Zt)))}function Mhe(t,e){const n=mr(t=ke(t,Zt)),r=new Ihe;return The(n,t._databaseId,e,r),r}function Lhe(t,e){return She(mr(t=ke(t,Zt)),e).then(n=>n?new Ir(t,null,n.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this._byteString=e}static fromBase64String(e){try{return new or(zt.fromBase64String(e))}catch(n){throw new q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new or(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:or._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wg(e,or._jsonSchema))return or.fromBase64String(e.bytes)}}or._jsonSchemaVersion="firestore/bytes/1.0",or._jsonSchema={type:ln("string",or._jsonSchemaVersion),bytes:ln("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wu=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ra._jsonSchemaVersion}}static fromJSON(e){if(Wg(e,ra._jsonSchema))return new ra(e.latitude,e.longitude)}}ra._jsonSchemaVersion="firestore/geoPoint/1.0",ra._jsonSchema={type:ln("string",ra._jsonSchemaVersion),latitude:ln("number"),longitude:ln("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ja._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wg(e,ja._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ja(e.vectorValues);throw new q(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ja._jsonSchemaVersion="firestore/vectorValue/1.0",ja._jsonSchema={type:ln("string",ja._jsonSchemaVersion),vectorValues:ln("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vhe=/^__.*__$/;class Uhe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new eo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xh(e,this.data,n,this.fieldTransforms)}}class f${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new eo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function m$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re(40011,{Ac:t})}}class $w{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $w({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Lx(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(m$(this.Ac)&&Vhe.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class zhe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ry(e)}Cc(e,n,r,i=!1){return new $w({Ac:e,methodName:n,Dc:r,path:St.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _u(t){const e=t._freezeSettings(),n=ry(t._databaseId);return new zhe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qw(t,e,n,r,i,a={}){const s=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);v2("Data must be an object, but it was:",s,r);const o=y$(r,s);let l,c;if(a.merge)l=new Ur(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const u=[];for(const h of a.mergeFields){const f=oA(e,h,n);if(!s.contains(f))throw new q(U.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);x$(u,f)||u.push(f)}l=new Ur(u),c=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=s.fieldTransforms;return new Uhe(new Wn(o),l,c)}class sy extends wu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sy}}function p$(t,e,n){return new $w({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class h2 extends wu{_toFieldTransform(e){return new ey(e.path,new hh)}isEqual(e){return e instanceof h2}}class f2 extends wu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=p$(this,e,!0),r=this.vc.map(a=>Eu(a,n)),i=new Qc(r);return new ey(e.path,i)}isEqual(e){return e instanceof f2&&ll(this.vc,e.vc)}}class m2 extends wu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=p$(this,e,!0),r=this.vc.map(a=>Eu(a,n)),i=new Xc(r);return new ey(e.path,i)}isEqual(e){return e instanceof m2&&ll(this.vc,e.vc)}}class p2 extends wu{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new fh(e.serializer,$F(e.serializer,this.Fc));return new ey(e.path,n)}isEqual(e){return e instanceof p2&&this.Fc===e.Fc}}function g2(t,e,n,r){const i=t.Cc(1,e,n);v2("Data must be an object, but it was:",i,r);const a=[],s=Wn.empty();Rl(r,(l,c)=>{const u=x2(e,l,n);c=le(c);const h=i.yc(u);if(c instanceof sy)a.push(u);else{const f=Eu(c,h);f!=null&&(a.push(u),s.set(u,f))}});const o=new Ur(a);return new f$(s,o,i.fieldTransforms)}function y2(t,e,n,r,i,a){const s=t.Cc(1,e,n),o=[oA(e,r,n)],l=[i];if(a.length%2!=0)throw new q(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<a.length;f+=2)o.push(oA(e,a[f])),l.push(a[f+1]);const c=[],u=Wn.empty();for(let f=o.length-1;f>=0;--f)if(!x$(c,o[f])){const m=o[f];let y=l[f];y=le(y);const v=s.yc(m);if(y instanceof sy)c.push(m);else{const x=Eu(y,v);x!=null&&(c.push(m),u.set(m,x))}}const h=new Ur(c);return new f$(u,h,s.fieldTransforms)}function g$(t,e,n,r=!1){return Eu(n,t.Cc(r?4:3,e))}function Eu(t,e){if(v$(t=le(t)))return v2("Unsupported field value:",e,t),y$(t,e);if(t instanceof wu)return function(r,i){if(!m$(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=Eu(o,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=le(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $F(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=ze.fromDate(r);return{timestampValue:mh(i.serializer,a)}}if(r instanceof ze){const a=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mh(i.serializer,a)}}if(r instanceof ra)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof or)return{bytesValue:t8(i.serializer,r._byteString)};if(r instanceof st){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:VP(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ja)return function(s,o){return{mapValue:{fields:{[NP]:{stringValue:IP},[ch]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return RP(o.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Aw(r)}`)}(t,e)}function y$(t,e){const n={};return vF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rl(t,(r,i)=>{const a=Eu(i,e.mc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function v$(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ze||t instanceof ra||t instanceof or||t instanceof st||t instanceof wu||t instanceof ja)}function v2(t,e,n){if(!v$(n)||!eF(n)){const r=Aw(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function oA(t,e,n){if((e=le(e))instanceof vl)return e._internalPath;if(typeof e=="string")return x2(t,e);throw Lx("Field path arguments must be of type string or ",t,!1,void 0,n)}const Bhe=new RegExp("[~\\*/\\[\\]]");function x2(t,e,n){if(e.search(Bhe)>=0)throw Lx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vl(...e.split("."))._internalPath}catch{throw Lx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lx(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new q(U.INVALID_ARGUMENT,o+t+l)}function x$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new st(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Fhe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Fhe extends Xp{data(){return super.data()}}function Hw(t,e){return typeof e=="string"?x2(t,e):e instanceof vl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class b2{}class oy extends b2{}function ns(t,e,...n){let r=[];e instanceof b2&&r.push(e),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof w2).length,o=a.filter(l=>l instanceof Gw).length;if(s>1||s>0&&o>0)throw new q(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Gw extends oy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Gw(e,n,r)}_apply(e){const n=this._parse(e);return E$(e._query,n),new Ir(e.firestore,e.converter,KS(e._query,n))}_parse(e){const n=_u(e.firestore);return function(a,s,o,l,c,u,h){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new q(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){a4(h,u);const y=[];for(const v of h)y.push(i4(l,a,v));f={arrayValue:{values:y}}}else f=i4(l,a,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||a4(h,u),f=g$(o,s,h,u==="in"||u==="not-in");return Ie.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $he(t,e,n){const r=e,i=Hw("where",t);return Gw._create(i,r,n)}class w2 extends b2{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new w2(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ke.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)E$(s,l),s=KS(s,l)}(e._query,n),new Ir(e.firestore,e.converter,KS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _2 extends oy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new _2(e,n)}_apply(e){const n=function(i,a,s){if(i.startAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gp(a,s)}(e._query,this._field,this._direction);return new Ir(e.firestore,e.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new Zs(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function w$(t,e="asc"){const n=e,r=Hw("orderBy",t);return _2._create(r,n)}class Kw extends oy{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Kw(e,n,r)}_apply(e){return new Ir(e.firestore,e.converter,Ax(e._query,this._limit,this._limitType))}}function qhe(t){return tF("limit",t),Kw._create("limit",t,"F")}function Hhe(t){return tF("limitToLast",t),Kw._create("limitToLast",t,"L")}class Ww extends oy{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Ww(e,n,r)}_apply(e){const n=_$(e,this.type,this._docOrFields,this._inclusive);return new Ir(e.firestore,e.converter,function(i,a){return new Zs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)}(e._query,n))}}function Ghe(...t){return Ww._create("startAt",t,!0)}function Khe(...t){return Ww._create("startAfter",t,!1)}class Yw extends oy{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Yw(e,n,r)}_apply(e){const n=_$(e,this.type,this._docOrFields,this._inclusive);return new Ir(e.firestore,e.converter,function(i,a){return new Zs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)}(e._query,n))}}function Whe(...t){return Yw._create("endBefore",t,!1)}function Yhe(...t){return Yw._create("endAt",t,!0)}function _$(t,e,n,r){if(n[0]=le(n[0]),n[0]instanceof Xp)return function(a,s,o,l,c){if(!l)throw new q(U.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const h of Dd(a))if(h.field.isKeyField())u.push(Wc(s,l.key));else{const f=l.data.field(h.field);if(jw(f))throw new q(U.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const m=h.field.canonicalString();throw new q(U.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}u.push(f)}return new pl(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=_u(t.firestore);return function(s,o,l,c,u,h){const f=s.explicitOrderBy;if(u.length>f.length)throw new q(U.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let y=0;y<u.length;y++){const v=u[y];if(f[y].field.isKeyField()){if(typeof v!="string")throw new q(U.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof v}`);if(!CP(s)&&v.indexOf("/")!==-1)throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${v}' contains a slash.`);const x=s.path.child(Se.fromString(v));if(!X.isDocumentKey(x))throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const b=new X(x);m.push(Wc(o,b))}else{const x=g$(l,c,v);m.push(x)}}return new pl(m,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function i4(t,e,n){if(typeof(n=le(n))=="string"){if(n==="")throw new q(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CP(e)&&n.indexOf("/")!==-1)throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Se.fromString(n));if(!X.isDocumentKey(r))throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wc(t,new X(r))}if(n instanceof st)return Wc(t,n._key);throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Aw(n)}.`)}function a4(t,e){if(!Array.isArray(t)||t.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function E$(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class E2{convertValue(e,n="none"){switch(fl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Rl(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[ch].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>Et(s.doubleValue));return new ja(n)}convertGeoPoint(e){return new ra(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Rw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($p(e));default:return null}}convertTimestamp(e){const n=Ms(e);return new ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Se.fromString(e);oe(h8(r),9688,{name:e});const i=new hl(r.get(1),r.get(3)),a=new X(r.popFirst(5));return i.isEqual(n)||Wt(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Qhe extends E2{constructor(e){super(),this.firestore=e}convertBytes(e){return new or(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,n)}}class yc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Vi=class T$ extends Xp{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Hw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=T$._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Vi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vi._jsonSchema={type:ln("string",Vi._jsonSchemaVersion),bundleSource:ln("string","DocumentSnapshot"),bundleName:ln("string"),bundle:ln("string")};let sp=class extends Vi{data(e={}){return super.data(e)}},ia=class S${constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new yc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new sp(this._firestore,this._userDataWriter,r.key,r,new yc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new sp(i._firestore,i._userDataWriter,o.doc.key,o.doc,new yc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new sp(i._firestore,i._userDataWriter,o.doc.key,o.doc,new yc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:Xhe(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=S$._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xP.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Xhe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re(61501,{type:t})}}function A$(t,e){return t instanceof Vi&&e instanceof Vi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ia&&e instanceof ia&&t._firestore===e._firestore&&u$(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zhe(t){t=ke(t,st);const e=ke(t.firestore,Zt);return r$(mr(e),t._key).then(n=>S2(e,t,n))}ia._jsonSchemaVersion="firestore/querySnapshot/1.0",ia._jsonSchema={type:ln("string",ia._jsonSchemaVersion),bundleSource:ln("string","QuerySnapshot"),bundleName:ln("string"),bundle:ln("string")};class Tu extends E2{constructor(e){super(),this.firestore=e}convertBytes(e){return new or(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,n)}}function Jhe(t){t=ke(t,st);const e=ke(t.firestore,Zt),n=mr(e),r=new Tu(e);return whe(n,t._key).then(i=>new Vi(e,r,t._key,i,new yc(i!==null&&i.hasLocalMutations,!0),t.converter))}function efe(t){t=ke(t,st);const e=ke(t.firestore,Zt);return r$(mr(e),t._key,{source:"server"}).then(n=>S2(e,t,n))}function N$(t){t=ke(t,Ir);const e=ke(t.firestore,Zt),n=mr(e),r=new Tu(e);return b$(t._query),i$(n,t._query).then(i=>new ia(e,r,t,i))}function tfe(t){t=ke(t,Ir);const e=ke(t.firestore,Zt),n=mr(e),r=new Tu(e);return _he(n,t._query).then(i=>new ia(e,r,t,i))}function nfe(t){t=ke(t,Ir);const e=ke(t.firestore,Zt),n=mr(e),r=new Tu(e);return i$(n,t._query,{source:"server"}).then(i=>new ia(e,r,t,i))}function s4(t,e,n){t=ke(t,st);const r=ke(t.firestore,Zt),i=Qw(t.converter,e,n);return ly(r,[qw(_u(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,At.none())])}function o4(t,e,n,...r){t=ke(t,st);const i=ke(t.firestore,Zt),a=_u(i);let s;return s=typeof(e=le(e))=="string"||e instanceof vl?y2(a,"updateDoc",t._key,e,n,r):g2(a,"updateDoc",t._key,e),ly(i,[s.toMutation(t._key,At.exists(!0))])}function rfe(t){return ly(ke(t.firestore,Zt),[new Zh(t._key,At.none())])}function ife(t,e){const n=ke(t.firestore,Zt),r=Mx(t),i=Qw(t.converter,e);return ly(n,[qw(_u(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,At.exists(!1))]).then(()=>r)}function T2(t,...e){var l,c,u;t=le(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||sA(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(sA(e[r])){const h=e[r];e[r]=(l=h.next)==null?void 0:l.bind(h),e[r+1]=(c=h.error)==null?void 0:c.bind(h),e[r+2]=(u=h.complete)==null?void 0:u.bind(h)}let a,s,o;if(t instanceof st)s=ke(t.firestore,Zt),o=Qh(t._key.path),a={next:h=>{e[r]&&e[r](S2(s,t,h))},error:e[r+1],complete:e[r+2]};else{const h=ke(t,Ir);s=ke(h.firestore,Zt),o=h._query;const f=new Tu(s);a={next:m=>{e[r]&&e[r](new ia(s,f,h,m))},error:e[r+1],complete:e[r+2]},b$(t._query)}return function(f,m,y,v){const x=new Bw(v),b=new r2(m,x,y);return f.asyncQueue.enqueueAndForget(async()=>e2(await bh(f),b)),()=>{x.Nu(),f.asyncQueue.enqueueAndForget(async()=>t2(await bh(f),b))}}(mr(s),o,i,a)}function afe(t,e){return Ehe(mr(t=ke(t,Zt)),sA(e)?e:{next:e})}function ly(t,e){return function(r,i){const a=new Xn;return r.asyncQueue.enqueueAndForget(async()=>Qde(await d2(r),i,a)),a.promise}(mr(t),e)}function S2(t,e,n){const r=n.docs.get(e._key),i=new Tu(t);return new Vi(t,i,e._key,r,new yc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sfe={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ofe=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=_u(e)}set(e,n,r){this._verifyNotCommitted();const i=Bo(e,this._firestore),a=Qw(i.converter,n,r),s=qw(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,At.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=Bo(e,this._firestore);let s;return s=typeof(n=le(n))=="string"||n instanceof vl?y2(this._dataReader,"WriteBatch.update",a._key,n,r,i):g2(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,At.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Bo(e,this._firestore);return this._mutations=this._mutations.concat(new Zh(n._key,At.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new q(U.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Bo(t,e){if((t=le(t)).firestore!==e)throw new q(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lfe{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=_u(e)}get(e){const n=Bo(e,this._firestore),r=new Qhe(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return re(24041);const a=i[0];if(a.isFoundDocument())return new Xp(this._firestore,r,a.key,a,n.converter);if(a.isNoDocument())return new Xp(this._firestore,r,n._key,null,n.converter);throw re(18433,{doc:a})})}set(e,n,r){const i=Bo(e,this._firestore),a=Qw(i.converter,n,r),s=qw(this._dataReader,"Transaction.set",i._key,a,i.converter!==null,r);return this._transaction.set(i._key,s),this}update(e,n,r,...i){const a=Bo(e,this._firestore);let s;return s=typeof(n=le(n))=="string"||n instanceof vl?y2(this._dataReader,"Transaction.update",a._key,n,r,i):g2(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,s),this}delete(e){const n=Bo(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cfe=class extends lfe{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Bo(e,this._firestore),r=new Tu(this._firestore);return super.get(e).then(i=>new Vi(this._firestore,r,n._key,i._document,new yc(!1,!1),n.converter))}};function ufe(t,e,n){t=ke(t,Zt);const r={...sfe,...n};return function(a){if(a.maxAttempts<1)throw new q(U.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(a,s,o){const l=new Xn;return a.asyncQueue.enqueueAndForget(async()=>{const c=await vhe(a);new ghe(a.asyncQueue,c,o,s,l).ju()}),l.promise}(mr(t),i=>e(new cfe(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dfe(){return new sy("deleteField")}function hfe(){return new h2("serverTimestamp")}function ffe(...t){return new f2("arrayUnion",t)}function mfe(...t){return new m2("arrayRemove",t)}function pfe(t){return new p2("increment",t)}(function(e,n=!0){(function(i){Yh=i})(Ys),ks(new zi("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new Zt(new uce(r.getProvider("auth-internal")),new fce(s,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hl(c.options.projectId,u)}(s,i),s);return a={useFetchStreams:n,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),ui(LD,VD,e),ui(LD,VD,"esm2020")})();const gfe="@firebase/firestore-compat",yfe="0.4.2";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new q("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(){if(typeof Uint8Array>"u")throw new q("unimplemented","Uint8Arrays are not available in this environment.")}function c4(){if(!Wce())throw new q("unimplemented","Blobs are unavailable in Firestore in this environment.")}let I$=class lA{constructor(e){this._delegate=e}static fromBase64String(e){return c4(),new lA(or.fromBase64String(e))}static fromUint8Array(e){return l4(),new lA(or.fromUint8Array(e))}toBase64(){return c4(),this._delegate.toBase64()}toUint8Array(){return l4(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(t){return vfe(t,["next","error","complete"])}function vfe(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xfe{enableIndexedDbPersistence(e,n){return Che(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return jhe(e._delegate)}clearIndexedDbPersistence(e){return Rhe(e._delegate)}}class P${constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof hl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Va("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...n,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){Ahe(this._delegate,e,n,r)}enableNetwork(){return khe(this._delegate)}disableNetwork(){return Dhe(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,JB("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Ohe(this._delegate)}onSnapshotsInSync(e){return afe(this._delegate,e)}get app(){if(!this._appCompat)throw new q("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new wh(this,Dx(this._delegate,e))}catch(n){throw _r(n,"collection()","Firestore.collection()")}}doc(e){try{return new Oi(this,Mx(this._delegate,e))}catch(n){throw _r(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new wr(this,Nhe(this._delegate,e))}catch(n){throw _r(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return ufe(this._delegate,n=>e(new C$(this,n)))}batch(){return mr(this._delegate),new j$(new ofe(this._delegate,e=>ly(this._delegate,e)))}loadBundle(e){return Mhe(this._delegate,e)}namedQuery(e){return Lhe(this._delegate,e).then(n=>n?new wr(this,n):null)}}class Xw extends E2{constructor(e){super(),this.firestore=e}convertBytes(e){return new I$(new or(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Oi.forKey(n,this.firestore,null)}}function bfe(t){sce(t)}class C${constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Xw(e)}get(e){const n=vc(e);return this._delegate.get(n).then(r=>new Zp(this._firestore,new Vi(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=vc(e);return r?(A2("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const a=vc(e);return arguments.length===2?this._delegate.update(a,n):this._delegate.update(a,n,r,...i),this}delete(e){const n=vc(e);return this._delegate.delete(n),this}}class j${constructor(e){this._delegate=e}set(e,n,r){const i=vc(e);return r?(A2("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const a=vc(e);return arguments.length===2?this._delegate.update(a,n):this._delegate.update(a,n,r,...i),this}delete(e){const n=vc(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class nu{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new sp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Jp(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=nu.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(n);return a||(a=new nu(e,new Xw(e),n),i.set(n,a)),a}}nu.INSTANCES=new WeakMap;class Oi{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Xw(e)}static forPath(e,n,r){if(e.length%2!==0)throw new q("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Oi(n,new st(n._delegate,r,new X(e)))}static forKey(e,n,r){return new Oi(n,new st(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new wh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new wh(this.firestore,Dx(this._delegate,e))}catch(n){throw _r(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=le(e),e instanceof st?c$(this._delegate,e):!1}set(e,n){n=A2("DocumentReference.set",n);try{return n?s4(this._delegate,e,n):s4(this._delegate,e)}catch(r){throw _r(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?o4(this._delegate,e):o4(this._delegate,e,n,...r)}catch(i){throw _r(i,"updateDoc()","DocumentReference.update()")}}delete(){return rfe(this._delegate)}onSnapshot(...e){const n=R$(e),r=O$(e,i=>new Zp(this.firestore,new Vi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return T2(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Jhe(this._delegate):(e==null?void 0:e.source)==="server"?n=efe(this._delegate):n=Zhe(this._delegate),n.then(r=>new Zp(this.firestore,new Vi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Oi(this.firestore,e?this._delegate.withConverter(nu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function _r(t,e,n){return t.message=t.message.replace(e,n),t}function R$(t){for(const e of t)if(typeof e=="object"&&!cA(e))return e;return{}}function O$(t,e){var r,i;let n;return cA(t[0])?n=t[0]:cA(t[1])?n=t[1]:typeof t[0]=="function"?n={next:t[0],error:t[1],complete:t[2]}:n={next:t[1],error:t[2],complete:t[3]},{next:a=>{n.next&&n.next(e(a))},error:(r=n.error)==null?void 0:r.bind(n),complete:(i=n.complete)==null?void 0:i.bind(n)}}class Zp{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Oi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return A$(this._delegate,e._delegate)}}class Jp extends Zp{data(e){const n=this._delegate.data(e);return this._delegate._converter||oce(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}}class wr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Xw(e)}where(e,n,r){try{return new wr(this.firestore,ns(this._delegate,$he(e,n,r)))}catch(i){throw _r(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new wr(this.firestore,ns(this._delegate,w$(e,n)))}catch(r){throw _r(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new wr(this.firestore,ns(this._delegate,qhe(e)))}catch(n){throw _r(n,"limit()","Query.limit()")}}limitToLast(e){try{return new wr(this.firestore,ns(this._delegate,Hhe(e)))}catch(n){throw _r(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new wr(this.firestore,ns(this._delegate,Ghe(...e)))}catch(n){throw _r(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new wr(this.firestore,ns(this._delegate,Khe(...e)))}catch(n){throw _r(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new wr(this.firestore,ns(this._delegate,Whe(...e)))}catch(n){throw _r(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new wr(this.firestore,ns(this._delegate,Yhe(...e)))}catch(n){throw _r(n,"endAt()","Query.endAt()")}}isEqual(e){return u$(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=tfe(this._delegate):(e==null?void 0:e.source)==="server"?n=nfe(this._delegate):n=N$(this._delegate),n.then(r=>new uA(this.firestore,new ia(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=R$(e),r=O$(e,i=>new uA(this.firestore,new ia(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return T2(this._delegate,n,r)}withConverter(e){return new wr(this.firestore,e?this._delegate.withConverter(nu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class wfe{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Jp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class uA{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new wr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Jp(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new wfe(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Jp(this._firestore,r))})}isEqual(e){return A$(this._delegate,e._delegate)}}class wh extends wr{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Oi(this.firestore,e):null}doc(e){try{return e===void 0?new Oi(this.firestore,Mx(this._delegate)):new Oi(this.firestore,Mx(this._delegate,e))}catch(n){throw _r(n,"doc()","CollectionReference.doc()")}}add(e){return ife(this._delegate,e).then(n=>new Oi(this.firestore,n))}isEqual(e){return c$(this._delegate,e._delegate)}withConverter(e){return new wh(this.firestore,e?this._delegate.withConverter(nu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function vc(t){return ke(t,st)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(...e){this._delegate=new vl(...e)}static documentId(){return new N2(St.keyField().canonicalString())}isEqual(e){return e=le(e),e instanceof vl?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{static serverTimestamp(){const e=hfe();return e._methodName="FieldValue.serverTimestamp",new mc(e)}static delete(){const e=dfe();return e._methodName="FieldValue.delete",new mc(e)}static arrayUnion(...e){const n=ffe(...e);return n._methodName="FieldValue.arrayUnion",new mc(n)}static arrayRemove(...e){const n=mfe(...e);return n._methodName="FieldValue.arrayRemove",new mc(n)}static increment(e){const n=pfe(e);return n._methodName="FieldValue.increment",new mc(n)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _fe={Firestore:P$,GeoPoint:ra,Timestamp:ze,Blob:I$,Transaction:C$,WriteBatch:j$,DocumentReference:Oi,DocumentSnapshot:Zp,Query:wr,QueryDocumentSnapshot:Jp,QuerySnapshot:uA,CollectionReference:wh,FieldPath:N2,FieldValue:mc,setLogLevel:bfe,CACHE_SIZE_UNLIMITED:Phe};function Efe(t,e){t.INTERNAL.registerComponent(new zi("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({..._fe}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tfe(t){Efe(t,(e,n)=>new P$(e,n,new xfe)),t.registerVersion(gfe,yfe)}Tfe(Je);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$="firebasestorage.googleapis.com",D$="storageBucket",Sfe=2*60*1e3,Afe=10*60*1e3,Nfe=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt extends ur{constructor(e,n,r=0){super(DE(e),`Firebase Storage: ${n} (${DE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return DE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var bt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(bt||(bt={}));function DE(t){return"storage/"+t}function I2(){const t="An unknown error occurred, please check the error payload for server response.";return new kt(bt.UNKNOWN,t)}function Ife(t){return new kt(bt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Pfe(t){return new kt(bt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Cfe(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new kt(bt.UNAUTHENTICATED,t)}function jfe(){return new kt(bt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Rfe(t){return new kt(bt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function M$(){return new kt(bt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function L$(){return new kt(bt.CANCELED,"User canceled the upload/download.")}function Ofe(t){return new kt(bt.INVALID_URL,"Invalid URL '"+t+"'.")}function kfe(t){return new kt(bt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Dfe(){return new kt(bt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+D$+"' property when initializing the app?")}function V$(){return new kt(bt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Mfe(){return new kt(bt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Lfe(){return new kt(bt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Vfe(t){return new kt(bt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ld(t){return new kt(bt.INVALID_ARGUMENT,t)}function U$(){return new kt(bt.APP_DELETED,"The Firebase app was deleted.")}function z$(t){return new kt(bt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function op(t,e){return new kt(bt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function em(t){throw new kt(bt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=lr.makeFromUrl(e,n)}catch{return new lr(e,"")}if(r.path==="")return r;throw kfe(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(T){T.path_=decodeURIComponent(T.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${u}/b/${i}/o${f}`,"i"),y={bucket:1,path:3},v=n===k$?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",b=new RegExp(`^https?://${v}/${i}/${x}`,"i"),_=[{regex:o,indices:l,postModify:a},{regex:m,indices:y,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let T=0;T<_.length;T++){const I=_[T],j=I.regex.exec(e);if(j){const A=j[I.indices.bucket];let S=j[I.indices.path];S||(S=""),r=new lr(A,S),I.postModify(r);break}}if(r==null)throw Ofe(e);return r}}class Ufe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zfe(t,e,n){let r=1,i=null,a=null,s=!1,o=0;function l(){return o===2}let c=!1;function u(...x){c||(c=!0,e.apply(null,x))}function h(x){i=setTimeout(()=>{i=null,t(m,l())},x)}function f(){a&&clearTimeout(a)}function m(x,...b){if(c){f();return}if(x){f(),u.call(null,x,...b);return}if(l()||s){f(),u.call(null,x,...b);return}r<64&&(r*=2);let _;o===1?(o=2,_=0):_=(r+Math.random())*1e3,h(_)}let y=!1;function v(x){y||(y=!0,f(),!c&&(i!==null?(x||(o=2),clearTimeout(i),h(0)):x||(o=1)))}return h(0),a=setTimeout(()=>{s=!0,v(!0)},n),v}function Bfe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ffe(t){return t!==void 0}function $fe(t){return typeof t=="function"}function qfe(t){return typeof t=="object"&&!Array.isArray(t)}function Zw(t){return typeof t=="string"||t instanceof String}function u4(t){return P2()&&t instanceof Blob}function P2(){return typeof Blob<"u"}function dA(t,e,n,r){if(r<e)throw Ld(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ld(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function B$(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var jc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(jc||(jc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F$(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hfe{constructor(e,n,r,i,a,s,o,l,c,u,h,f=!0,m=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=f,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,v)=>{this.resolve_=y,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new vv(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===jc.NO_ERROR,l=a.getStatus();if(!o||F$(l,this.additionalRetryCodes_)&&this.retry){const u=a.getErrorCode()===jc.ABORT;r(!1,new vv(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new vv(c,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());Ffe(l)?a(l):a()}catch(l){s(l)}else if(o!==null){const l=I2();l.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,l)):s(l)}else if(i.canceled){const l=this.appDelete_?U$():L$();s(l)}else{const l=M$();s(l)}};this.canceled_?n(!1,new vv(!1,null,!0)):this.backoffId_=zfe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Bfe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vv{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Gfe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Kfe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Wfe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Yfe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Qfe(t,e,n,r,i,a,s=!0,o=!1){const l=B$(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return Wfe(u,e),Gfe(u,n),Kfe(u,a),Yfe(u,r),new Hfe(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xfe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Zfe(...t){const e=Xfe();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(P2())return new Blob(t);throw new kt(bt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Jfe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eme(t){if(typeof atob>"u")throw Vfe("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ME{constructor(e,n){this.data=e,this.contentType=n||null}}function $$(t,e){switch(t){case ki.RAW:return new ME(q$(e));case ki.BASE64:case ki.BASE64URL:return new ME(H$(t,e));case ki.DATA_URL:return new ME(nme(e),rme(e))}throw I2()}function q$(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,s=t.charCodeAt(++n);r=65536|(a&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function tme(t){let e;try{e=decodeURIComponent(t)}catch{throw op(ki.DATA_URL,"Malformed data URL.")}return q$(e)}function H$(t,e){switch(t){case ki.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw op(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ki.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw op(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=eme(e)}catch(i){throw i.message.includes("polyfill")?i:op(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class G${constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw op(ki.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=ime(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function nme(t){const e=new G$(t);return e.base64?H$(ki.BASE64,e.rest):tme(e.rest)}function rme(t){return new G$(t).contentType}function ime(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n){let r=0,i="";u4(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(u4(this.data_)){const r=this.data_,i=Jfe(r,e,n);return i===null?null:new as(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new as(r,!0)}}static getBlob(...e){if(P2()){const n=e.map(r=>r instanceof as?r.data_:r);return new as(Zfe.apply(null,n))}else{const n=e.map(s=>Zw(s)?$$(ki.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(s=>{for(let o=0;o<s.length;o++)i[a++]=s[o]}),new as(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t){let e;try{e=JSON.parse(t)}catch{return null}return qfe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ame(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function sme(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function K$(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ome(t,e){return e}class xr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||ome}}let xv=null;function lme(t){return!Zw(t)||t.length<2?t:K$(t)}function Jw(){if(xv)return xv;const t=[];t.push(new xr("bucket")),t.push(new xr("generation")),t.push(new xr("metageneration")),t.push(new xr("name","fullPath",!0));function e(a,s){return lme(s)}const n=new xr("name");n.xform=e,t.push(n);function r(a,s){return s!==void 0?Number(s):s}const i=new xr("size");return i.xform=r,t.push(i),t.push(new xr("timeCreated")),t.push(new xr("updated")),t.push(new xr("md5Hash",null,!0)),t.push(new xr("cacheControl",null,!0)),t.push(new xr("contentDisposition",null,!0)),t.push(new xr("contentEncoding",null,!0)),t.push(new xr("contentLanguage",null,!0)),t.push(new xr("contentType",null,!0)),t.push(new xr("metadata","customMetadata",!0)),xv=t,xv}function cme(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new lr(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function ume(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const s=n[a];r[s.local]=s.xform(r,e[s.server])}return cme(r,t),r}function W$(t,e,n){const r=C2(e);return r===null?null:ume(t,r,n)}function dme(t,e,n,r){const i=C2(e);if(i===null||!Zw(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(c=>{const u=t.bucket,h=t.fullPath,f="/b/"+s(u)+"/o/"+s(h),m=Dl(f,n,r),y=B$({alt:"media",token:c});return m+y})[0]}function j2(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="prefixes",h4="items";function hme(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[d4])for(const i of n[d4]){const a=i.replace(/\/$/,""),s=t._makeStorageReference(new lr(e,a));r.prefixes.push(s)}if(n[h4])for(const i of n[h4]){const a=t._makeStorageReference(new lr(e,i.name));r.items.push(a)}return r}function fme(t,e,n){const r=C2(n);return r===null?null:hme(t,e,r)}class no{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(t){if(!t)throw I2()}function e_(t,e){function n(r,i){const a=W$(t,i,e);return Ra(a!==null),a}return n}function mme(t,e){function n(r,i){const a=fme(t,e,i);return Ra(a!==null),a}return n}function pme(t,e){function n(r,i){const a=W$(t,i,e);return Ra(a!==null),dme(a,i,t.host,t._protocol)}return n}function rf(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=jfe():i=Cfe():n.getStatus()===402?i=Pfe(t.bucket):n.getStatus()===403?i=Rfe(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function t_(t){const e=rf(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=Ife(t.path)),a.serverResponse=i.serverResponse,a}return n}function Y$(t,e,n){const r=e.fullServerUrl(),i=Dl(r,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,o=new no(i,a,e_(t,n),s);return o.errorHandler=t_(e),o}function gme(t,e,n,r,i){const a={};e.isRoot?a.prefix="":a.prefix=e.path+"/",n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);const s=e.bucketOnlyServerUrl(),o=Dl(s,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,u=new no(o,l,mme(t,e.bucket),c);return u.urlParams=a,u.errorHandler=rf(e),u}function yme(t,e,n){const r=e.fullServerUrl(),i=Dl(r,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,o=new no(i,a,pme(t,n),s);return o.errorHandler=t_(e),o}function vme(t,e,n,r){const i=e.fullServerUrl(),a=Dl(i,t.host,t._protocol),s="PATCH",o=j2(n,r),l={"Content-Type":"application/json; charset=utf-8"},c=t.maxOperationRetryTime,u=new no(a,s,e_(t,r),c);return u.headers=l,u.body=o,u.errorHandler=t_(e),u}function xme(t,e){const n=e.fullServerUrl(),r=Dl(n,t.host,t._protocol),i="DELETE",a=t.maxOperationRetryTime;function s(l,c){}const o=new no(r,i,s,a);return o.successCodes=[200,204],o.errorHandler=t_(e),o}function bme(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Q$(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=bme(null,e)),r}function wme(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function o(){let _="";for(let T=0;T<2;T++)_=_+Math.random().toString().slice(2);return _}const l=o();s["Content-Type"]="multipart/related; boundary="+l;const c=Q$(e,r,i),u=j2(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",m=as.getBlob(h,r,f);if(m===null)throw V$();const y={name:c.fullPath},v=Dl(a,t.host,t._protocol),x="POST",b=t.maxUploadRetryTime,w=new no(v,x,e_(t,n),b);return w.urlParams=y,w.headers=s,w.body=m.uploadData(),w.errorHandler=rf(e),w}class Vx{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function R2(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Ra(!1)}return Ra(!!n&&(e||["active"]).indexOf(n)!==-1),n}function _me(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),s=Q$(e,r,i),o={name:s.fullPath},l=Dl(a,t.host,t._protocol),c="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},h=j2(s,n),f=t.maxUploadRetryTime;function m(v){R2(v);let x;try{x=v.getResponseHeader("X-Goog-Upload-URL")}catch{Ra(!1)}return Ra(Zw(x)),x}const y=new no(l,c,m,f);return y.urlParams=o,y.headers=u,y.body=h,y.errorHandler=rf(e),y}function Eme(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function a(c){const u=R2(c,["active","final"]);let h=null;try{h=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ra(!1)}h||Ra(!1);const f=Number(h);return Ra(!isNaN(f)),new Vx(f,r.size(),u==="final")}const s="POST",o=t.maxUploadRetryTime,l=new no(n,s,a,o);return l.headers=i,l.errorHandler=rf(e),l}const f4=256*1024;function Tme(t,e,n,r,i,a,s,o){const l=new Vx(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw Mfe();const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const h=l.current,f=h+u;let m="";u===0?m="finalize":c===u?m="upload, finalize":m="upload";const y={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":`${l.current}`},v=r.slice(h,f);if(v===null)throw V$();function x(T,I){const j=R2(T,["active","final"]),A=l.current+u,S=r.size();let P;return j==="final"?P=e_(e,a)(T,I):P=null,new Vx(A,S,j==="final",P)}const b="POST",w=e.maxUploadRetryTime,_=new no(n,b,x,w);return _.headers=y,_.body=v.uploadData(),_.progressCallback=o||null,_.errorHandler=rf(t),_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sme={STATE_CHANGED:"state_changed"},Er={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function LE(t){switch(t){case"running":case"pausing":case"canceling":return Er.RUNNING;case"paused":return Er.PAUSED;case"success":return Er.SUCCESS;case"canceled":return Er.CANCELED;case"error":return Er.ERROR;default:return Er.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ame{constructor(e,n,r){if($fe(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class Nme{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=jc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=jc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=jc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw em("cannot .send() more than once");if(Il(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw em("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw em("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw em("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw em("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Ime extends Nme{initXhr(){this.xhr_.responseType="text"}}function ba(){return new Ime}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Jw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(bt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(F$(i.status,[]))if(a)i=M$();else{this.sleepTime=Math.max(this.sleepTime*2,Nfe),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(bt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=_me(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ba,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=Eme(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,ba,n,r);this._request=a,a.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=f4*this._chunkMultiplier,n=new Vx(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let s;try{s=Tme(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const o=this._ref.storage._makeRequest(s,ba,i,a,!1);this._request=o,o.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){f4*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=Y$(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ba,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=wme(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ba,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=L$(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=LE(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const a=new Ame(n||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(LE(this._state)){case Er.SUCCESS:Fu(this._resolve.bind(null,this.snapshot))();break;case Er.CANCELED:case Er.ERROR:const n=this._reject;Fu(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(LE(this._state)){case Er.RUNNING:case Er.PAUSED:e.next&&Fu(e.next.bind(e,this.snapshot))();break;case Er.SUCCESS:e.complete&&Fu(e.complete.bind(e))();break;case Er.CANCELED:case Er.ERROR:e.error&&Fu(e.error.bind(e,this._error))();break;default:e.error&&Fu(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this._service=e,n instanceof lr?this._location=n:this._location=lr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ru(e,n)}get root(){const e=new lr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return K$(this._location.path)}get storage(){return this._service}get parent(){const e=ame(this._location.path);if(e===null)return null;const n=new lr(this._location.bucket,e);return new ru(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw z$(e)}}function Pme(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new X$(t,new as(e),n)}function Cme(t){const e={prefixes:[],items:[]};return Z$(t,e).then(()=>e)}async function Z$(t,e,n){const i=await J$(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await Z$(t,e,i.nextPageToken)}function J$(t,e){e!=null&&typeof e.maxResults=="number"&&dA("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=gme(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,ba)}function jme(t){t._throwIfRoot("getMetadata");const e=Y$(t.storage,t._location,Jw());return t.storage.makeRequestWithTokens(e,ba)}function Rme(t,e){t._throwIfRoot("updateMetadata");const n=vme(t.storage,t._location,e,Jw());return t.storage.makeRequestWithTokens(n,ba)}function Ome(t){t._throwIfRoot("getDownloadURL");const e=yme(t.storage,t._location,Jw());return t.storage.makeRequestWithTokens(e,ba).then(n=>{if(n===null)throw Lfe();return n})}function kme(t){t._throwIfRoot("deleteObject");const e=xme(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ba)}function e7(t,e){const n=sme(t._location.path,e),r=new lr(t._location.bucket,n);return new ru(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dme(t){return/^[A-Za-z]+:\/\//.test(t)}function Mme(t,e){return new ru(t,e)}function t7(t,e){if(t instanceof O2){const n=t;if(n._bucket==null)throw Dfe();const r=new ru(n,n._bucket);return e!=null?t7(r,e):r}else return e!==void 0?e7(t,e):t}function Lme(t,e){if(e&&Dme(e)){if(t instanceof O2)return Mme(t,e);throw Ld("To use ref(service, url), the first argument must be a Storage instance.")}else return t7(t,e)}function m4(t,e){const n=e==null?void 0:e[D$];return n==null?null:lr.makeFromBucketSpec(n,t)}function Vme(t,e,n,r={}){t.host=`${e}:${n}`;const i=Il(e);i&&(qI(`https://${t.host}/b`),HI("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:A9(a,t.app.options.projectId))}class O2{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=k$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Sfe,this._maxUploadRetryTime=Afe,this._requests=new Set,i!=null?this._bucket=lr.makeFromBucketSpec(i,this._host):this._bucket=m4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=lr.makeFromBucketSpec(this._url,e):this._bucket=m4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(pt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ru(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new Ufe(U$());{const s=Qfe(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const p4="@firebase/storage",g4="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ume="storage";function zme(t,e,n){return t=le(t),Pme(t,e,n)}function Bme(t){return t=le(t),jme(t)}function Fme(t,e){return t=le(t),Rme(t,e)}function $me(t,e){return t=le(t),J$(t,e)}function qme(t){return t=le(t),Cme(t)}function Hme(t){return t=le(t),Ome(t)}function Gme(t){return t=le(t),kme(t)}function y4(t,e){return t=le(t),Lme(t,e)}function Kme(t,e){return e7(t,e)}function Wme(t,e,n,r={}){Vme(t,e,n,r)}function Yme(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new O2(n,r,i,e,Ys)}function Qme(){ks(new zi(Ume,Yme,"PUBLIC").setMultipleInstances(!0)),ui(p4,g4,""),ui(p4,g4,"esm2020")}Qme();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new bv(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new bv(r,this,this._ref))},n)}on(e,n,r,i){let a;return n&&(typeof n=="function"?a=s=>n(new bv(s,this,this._ref)):a={next:n.next?s=>n.next(new bv(s,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)}}class x4{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new bs(e,this._service))}get items(){return this._delegate.items.map(e=>new bs(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=Kme(this._delegate,e);return new bs(n,this.storage)}get root(){return new bs(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new bs(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new v4(zme(this._delegate,e,n),this)}putString(e,n=ki.RAW,r){this._throwIfRoot("putString");const i=$$(n,e),a={...r};return a.contentType==null&&i.contentType!=null&&(a.contentType=i.contentType),new v4(new X$(this._delegate,new as(i.data,!0),a),this)}listAll(){return qme(this._delegate).then(e=>new x4(e,this.storage))}list(e){return $me(this._delegate,e||void 0).then(n=>new x4(n,this.storage))}getMetadata(){return Bme(this._delegate)}updateMetadata(e){return Fme(this._delegate,e)}getDownloadURL(){return Hme(this._delegate)}delete(){return this._throwIfRoot("delete"),Gme(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw z$(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(b4(e))throw Ld("ref() expected a child path but got a URL, use refFromURL instead.");return new bs(y4(this._delegate,e),this)}refFromURL(e){if(!b4(e))throw Ld("refFromURL() expected a full URL but got a child path, use ref() instead.");try{lr.makeFromUrl(e,this._delegate.host)}catch{throw Ld("refFromUrl() expected a valid full URL but got an invalid one.")}return new bs(y4(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){Wme(this._delegate,e,n,r)}}function b4(t){return/^[A-Za-z]+:\/\//.test(t)}const Xme="@firebase/storage-compat",Zme="0.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jme="storage-compat";function epe(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new n7(n,r)}function tpe(t){const e={TaskState:Er,TaskEvent:Sme,StringFormat:ki,Storage:n7,Reference:bs};t.INTERNAL.registerComponent(new zi(Jme,epe,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(Xme,Zme)}tpe(Je);const npe={apiKey:"AIzaSyDzEay5fGB-2r5_V9UXOO8cOv-nJdHwDRg",authDomain:"rush-coffee.firebaseapp.com",projectId:"rush-coffee",storageBucket:"rush-coffee.appspot.com",messagingSenderId:"423413538635",appId:"1:423413538635:web:ded0369f50c3a9086bd2ce"};Je.apps.length||Je.initializeApp(npe);const Yl=Je.auth(),ge=Je.firestore(),rpe=Je.storage(),r7=g.createContext(void 0),Hr=()=>{const t=g.useContext(r7);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},VE=async t=>{var i;const n=await ge.collection("users").doc(t).get();if(!n.exists)throw new Error("User profile not found.");const r=n.data();return{uid:t,email:r.email,firstName:r.firstName||"User",lastName:r.lastName||"",phone:r.phone||"",photoURL:r.photoURL,createdAt:((i=r.createdAt)==null?void 0:i.toDate())||new Date,role:r.role,totalOrders:r.totalOrders??0,totalSpent:r.totalSpent??0,currentPoints:r.currentPoints??0,lifetimePoints:r.lifetimePoints??0,tier:r.tier||"bronze",rewardsHistory:(r.rewardsHistory||[]).map(a=>({...a,date:a.date.toDate()})).sort((a,s)=>s.date-a.date),preferences:r.preferences||{notifications:{push:!0,emailUpdates:!0,marketing:!1},theme:"auto",privacy:{shareUsageData:!0,personalizedRecs:!0}}}},ipe=({children:t})=>{const[e,n]=g.useState(null),[r,i]=g.useState(!0);g.useEffect(()=>{let m;const y=Yl.onAuthStateChanged(async v=>{m&&m(),v?m=ge.collection("users").doc(v.uid).onSnapshot(b=>{var w;if(b.exists){const _=b.data(),T={uid:v.uid,email:v.email,firstName:_.firstName||"User",lastName:_.lastName||"",phone:_.phone||"",photoURL:_.photoURL,createdAt:((w=_.createdAt)==null?void 0:w.toDate())||new Date,role:_.role,totalOrders:_.totalOrders??0,totalSpent:_.totalSpent??0,currentPoints:_.currentPoints??0,lifetimePoints:_.lifetimePoints??0,tier:_.tier||"bronze",rewardsHistory:(_.rewardsHistory||[]).map(I=>({...I,date:I.date.toDate()})).sort((I,j)=>j.date-I.date),preferences:_.preferences||{notifications:{push:!0,emailUpdates:!0,marketing:!1},theme:"auto",privacy:{shareUsageData:!0,personalizedRecs:!0}}};n(T)}else console.log("User document not found for UID:",v.uid);i(!1)},b=>{console.error("Error listening to user document:",b),n(null),i(!1)}):(n(null),i(!1))});return()=>{y(),m&&m()}},[]);const f={currentUser:e,loading:r,register:async(m,y,v,x,b)=>{const _=(await Yl.createUserWithEmailAndPassword(m,y)).user,T={id:`rh-${Date.now()}`,type:"earned",points:25,description:"Welcome Bonus",date:new Date},I={firstName:v,lastName:x,phone:b||"",createdAt:new Date,totalOrders:0,totalSpent:0,currentPoints:25,lifetimePoints:25,tier:"bronze",rewardsHistory:[T],preferences:{notifications:{push:!0,emailUpdates:!0,marketing:!1},theme:"auto",privacy:{shareUsageData:!0,personalizedRecs:!0}},cart:[]};return await ge.collection("users").doc(_.uid).set(I),VE(_.uid)},login:async(m,y,v)=>{const x=v?Je.auth.Auth.Persistence.LOCAL:Je.auth.Auth.Persistence.SESSION;await Yl.setPersistence(x);const b=await Yl.signInWithEmailAndPassword(m,y);return VE(b.user.uid)},logout:async()=>{await Yl.signOut()},sendPasswordReset:async m=>{await Yl.sendPasswordResetEmail(m)},signInWithGoogle:async()=>{var b;const m=new Je.auth.GoogleAuthProvider,y=await Yl.signInWithPopup(m),v=y.user,x=y.additionalUserInfo;if(x!=null&&x.isNewUser){const w=((b=v.displayName)==null?void 0:b.split(" "))||["New","User"],_=w[0],T=w.slice(1).join(" ")||"",I={id:`rh-${Date.now()}`,type:"earned",points:25,description:"Welcome Bonus",date:new Date},j={firstName:_,lastName:T,photoURL:v.photoURL||void 0,createdAt:new Date,totalOrders:0,totalSpent:0,currentPoints:25,lifetimePoints:25,tier:"bronze",rewardsHistory:[I],preferences:{notifications:{push:!0,emailUpdates:!0,marketing:!1},theme:"auto",privacy:{shareUsageData:!0,personalizedRecs:!0}},cart:[]};await ge.collection("users").doc(v.uid).set(j)}return VE(v.uid)},updateUserProfile:async m=>{if(!e)return;await ge.collection("users").doc(e.uid).update(m)},updateUserPhoto:async m=>{if(!e)return;await ge.collection("users").doc(e.uid).update({photoURL:m})}};return d.jsx(r7.Provider,{value:f,children:!r&&t})},be=t=>`/RushCoffee-Capstone/${t}`,hA=[{id:"cb-01",name:"Spanish Latte",description:"A creamy and sweet latte with a Spanish twist, featuring condensed milk for a rich flavor.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:be("coffee-based/spanish-latte.png"),available:!0,stock:99,popular:!0,displayOrder:1,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:150},{ingredientId:"condensed-milk",quantity:30}]},{id:"cb-02",name:"Rush Coffee Blend",description:"Our signature house blend, perfectly balanced for a smooth and satisfying coffee experience.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:89}],imageUrl:be("coffee-based/rush-coffee-blend.png"),available:!0,stock:99,popular:!0,displayOrder:2,recipe:[{ingredientId:"coffee-beans-blend",quantity:18},{ingredientId:"hot-water",quantity:200}]},{id:"cb-03",name:"Caramel Chocolate Mocha",description:"A decadent mix of rich chocolate, espresso, and creamy caramel for the ultimate treat.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:be("coffee-based/caramel-chocolate-mocha.jpg"),available:!0,stock:99,popular:!0,displayOrder:3,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:150},{ingredientId:"chocolate-sauce",quantity:20},{ingredientId:"caramel-sauce",quantity:15}]},{id:"cb-04",name:"Dark Chocolate Mocha",description:"A bold and intense mocha experience with premium dark chocolate and strong espresso.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:be("coffee-based/dark-chocolate-mocha.jpg"),available:!0,stock:99,displayOrder:4},{id:"cb-05",name:"Mocha Latte",description:"A classic blend of smooth espresso, rich chocolate sauce, and steamed milk.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:be("coffee-based/mocha-latte.jpg"),available:!0,stock:99,displayOrder:5},{id:"cb-06",name:"Americano",description:"Bold espresso shots topped with hot water to create a light layer of crema.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:be("coffee-based/americano.jpg"),available:!0,stock:99,displayOrder:6},{id:"cb-07",name:"Biscoff Latte",description:"An indulgent latte infused with the irresistible flavor of caramelized Biscoff cookies.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:99},{name:"Venti",size:"22oz",price:199}],imageUrl:be("coffee-based/biscoff-latte.jpg"),available:!0,stock:99,displayOrder:7},{id:"cb-08",name:"Reeses Latte",description:"The perfect combination of peanut butter, chocolate, and espresso. A candy lover's dream.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:be("coffee-based/reeses-latte.jpg"),available:!0,stock:99,displayOrder:8},{id:"cb-09",name:"Brown Sugar Latte",description:"A comforting latte sweetened with rich, molasses-like brown sugar syrup.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:79}],imageUrl:be("coffee-based/brown-sugar-latte.jpg"),available:!0,stock:99,displayOrder:9},{id:"cb-10",name:"Iced Latte",description:"A simple classic. Chilled espresso with cold milk served over ice.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:69}],imageUrl:be("coffee-based/iced-latte.jpg"),available:!0,stock:99,displayOrder:10},{id:"cb-11",name:"Orange Latte",description:"A unique and refreshing latte with a zesty hint of natural orange flavor.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:89}],imageUrl:be("coffee-based/orange-latte.jpg"),available:!0,stock:99,displayOrder:11},{id:"cb-12",name:"Coffee Jelly",description:"A delightful iced coffee drink with chewy, coffee-flavored jelly cubes.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:99}],imageUrl:be("coffee-based/coffee-jelly.jpg"),available:!0,stock:99,displayOrder:12},{id:"nc-01",name:"Red Velvet",description:"A sweet and creamy drink inspired by the classic red velvet cake, with hints of cocoa and vanilla.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:be("non-coffee/red-velvet.jpg"),available:!0,stock:99,displayOrder:13},{id:"nc-02",name:"Red Velvet Matcha Latte",description:"A beautiful and delicious blend of earthy matcha and sweet red velvet flavors.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:be("non-coffee/red-velvet-matcha-latte.jpg"),available:!0,stock:99,displayOrder:14},{id:"nc-03",name:"Milky Choco",description:"A rich and comforting chocolate drink made with high-quality cocoa and fresh milk.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:be("non-coffee/milky-choco.jpg"),available:!0,stock:99,displayOrder:15},{id:"nc-04",name:"Strawberry Milk",description:"A refreshing and creamy drink made with real strawberries and fresh milk.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:be("non-coffee/strawberry-milk.jpg"),available:!0,stock:99,displayOrder:16},{id:"nc-05",name:"Biscoff Milky",description:"A non-coffee treat blending the sweet, caramelized taste of Biscoff with creamy milk.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:be("non-coffee/biscoff-milky.jpg"),available:!0,stock:99,displayOrder:17},{id:"nc-06",name:"Oreo Latte",description:"A fun and delicious drink packed with the classic cookies and cream flavor of Oreos.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:be("non-coffee/oreo-latte.jpg"),available:!0,stock:99,displayOrder:18},{id:"ms-01",name:"Matcha Latte",description:"Premium Japanese matcha green tea with steamed milk, a perfect balance of earthy and creamy.",category:"Matcha Series",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:89}],imageUrl:be("matcha-series/matcha-latte.jpg"),available:!0,stock:99,popular:!0,displayOrder:19,recipe:[{ingredientId:"matcha-powder",quantity:5},{ingredientId:"milk",quantity:200}]},{id:"ms-02",name:"Strawberry Matcha",description:"A delightful pairing of sweet strawberry puree and high-quality matcha green tea.",category:"Matcha Series",sizes:[{name:"Grande",size:"16oz",price:99},{name:"Venti",size:"22oz",price:109}],imageUrl:be("matcha-series/strawberry-matcha.jpg"),available:!0,stock:99,displayOrder:20},{id:"ms-03",name:"Matcha Cream Cheese",description:"Earthy matcha topped with a rich, savory, and slightly sweet cream cheese foam.",category:"Matcha Series",sizes:[{name:"Grande",size:"16oz",price:99},{name:"Venti",size:"22oz",price:109}],imageUrl:be("matcha-series/matcha-cream-cheese.jpg"),available:!0,stock:99,displayOrder:21},{id:"ms-04",name:"Matcha Oreo",description:"A creative blend of matcha and crushed Oreo cookies for a unique texture and flavor.",category:"Matcha Series",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:be("matcha-series/matcha-oreo.jpg"),available:!0,stock:99,displayOrder:22},{id:"rf-01",name:"Flamangooverload Shake",description:"An explosive mix of flamingo and mango for an overload of fruity goodness.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:be("refreshments/flamangooverload.jpg"),available:!0,stock:99,displayOrder:23},{id:"rf-02",name:"Mangoberry Shake",description:"A delightful blend of sweet mangoes and tangy berries, perfectly refreshing.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:be("refreshments/mangoberry.jpg"),available:!0,stock:99,displayOrder:24},{id:"rf-03",name:"Mango Caramel Shake",description:"Creamy mango shake drizzled with rich, buttery caramel sauce.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:be("refreshments/mango-caramel.jpg"),available:!0,stock:99,displayOrder:25},{id:"rf-04",name:"Blueberry Shake",description:"A classic fruit shake made with sweet and juicy blueberries.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:be("refreshments/blueberry-shake.jpg"),available:!0,stock:99,displayOrder:26},{id:"rf-05",name:"Strawberry Shake",description:"A creamy and delicious shake made with ripe, sweet strawberries.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:be("refreshments/strawberry-shake.jpg"),available:!0,stock:99,displayOrder:27},{id:"rf-06",name:"Green Apple Shake",description:"A tart and refreshing shake with the crisp taste of green apples.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:be("refreshments/green-apple-shake.jpg"),available:!0,stock:99,displayOrder:28},{id:"rf-07",name:"Blueberry Soda Pop",description:"Fizzy and fun, this soda pop is bursting with sweet blueberry flavor.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:be("refreshments/blueberry-soda.jpg"),available:!0,stock:99,displayOrder:29},{id:"rf-08",name:"Strawberry Soda Pop",description:"A refreshing soda pop with the sweet taste of summer strawberries.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:be("refreshments/strawberry-soda.jpg"),available:!0,stock:99,displayOrder:30},{id:"rf-09",name:"Green Apple Soda Pop",description:"A crisp and bubbly soda with a tangy green apple twist.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:be("refreshments/green-apple-soda.jpg"),available:!0,stock:99,displayOrder:31},{id:"rf-10",name:"Lemon Soda Pop",description:"A zesty and invigorating soda pop with a classic lemon flavor.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:be("refreshments/lemon-soda.jpg"),available:!0,stock:99,displayOrder:32},{id:"rf-11",name:"Lychee Soda Pop",description:"An exotic and fragrant soda pop with the sweet, floral taste of lychee.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:be("refreshments/lychee-soda.jpg"),available:!0,stock:99,displayOrder:33},{id:"rf-12",name:"Mango Soda Pop",description:"A tropical and bubbly soda bursting with sweet mango flavor.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:be("refreshments/mango-soda.jpg"),available:!0,stock:99,displayOrder:34},{id:"ml-01",name:"Breaded Bacon",description:"Crispy breaded bacon served with creamy white sauce and golden fries.",category:"Meals",sizes:[{name:"Ala Carte",size:"w/ Fries",price:119},{name:"Combo Meal",size:"w/ Fries & Drink",price:139}],imageUrl:be("menu/ala-carte-breaded-bacon-with-white-sauce and fries.jpg"),comboImageUrl:be("menu/combo-meals-breaded-bacon-with-white-sauce,-fries-and-a-drink.jpg"),available:!0,stock:99,popular:!0,displayOrder:35},{id:"ml-02",name:"Breaded Porkchop",description:"A juicy breaded porkchop fried to perfection, served with white sauce and fries.",category:"Meals",sizes:[{name:"Ala Carte",size:"w/ Fries",price:129},{name:"Combo Meal",size:"w/ Fries & Drink",price:149}],imageUrl:be("menu/ala-carte-breaded-porkchop-with-white-sauce-and-fries.jpg"),comboImageUrl:be("menu/combo-meals-breaded-porkchop-with-white-sauce-and-fries-w-drink.jpg"),available:!0,stock:99,popular:!0,displayOrder:36},{id:"ml-03",name:"Breaded Chicken",description:"Tender breaded chicken fillet with a side of fries and our signature white sauce.",category:"Meals",sizes:[{name:"Ala Carte",size:"w/ Fries",price:119},{name:"Combo Meal",size:"w/ Fries & Drink",price:139}],imageUrl:be("menu/ala-carte-chicken-with-white-sauce-and-fries.jpg"),comboImageUrl:be("menu/combo-meals-breaded-chicken-with-white-sauce,-fries-and-a-drink.jpg"),available:!0,stock:99,displayOrder:37}],i7=g.createContext(void 0),af=()=>{const t=g.useContext(i7);if(!t)throw new Error("useProduct must be used within a ProductProvider");return t},ape=({children:t})=>{const[e,n]=g.useState([]),[r,i]=g.useState(!0),[a,s]=g.useState(null),o=g.useCallback(async()=>{i(!0),s(null);try{const y=await ge.collection("products").orderBy("displayOrder","asc").get();if(y.empty){console.info("Products collection is empty in Firestore. Using local mock data."),n(hA);return}const v=y.docs.map(x=>({id:x.id,...x.data()}));n(v)}catch(f){f.code==="permission-denied"?console.info("Firestore permission denied. This is expected if security rules are not yet configured or if you are offline. Falling back to mock data for demonstration."):console.warn("Error fetching products from Firestore. Falling back to mock data.",f),n(hA),s(null)}finally{i(!1)}},[]);g.useEffect(()=>{o()},[o]);const h={products:e,isLoading:r,error:a,addProduct:async f=>{try{await ge.collection("products").add(f),await o()}catch(m){throw console.error("Error adding product: ",m),new Error("Failed to add product.")}},updateProduct:async(f,m)=>{try{await ge.collection("products").doc(f).update(m),await o()}catch(y){throw console.error("Error updating product: ",y),new Error("Failed to update product.")}},deleteProduct:async f=>{try{await ge.collection("products").doc(f).delete(),await o()}catch(m){throw console.error("Error deleting product: ",m),new Error("Failed to delete product.")}}};return d.jsx(i7.Provider,{value:h,children:t})},a7=g.createContext(void 0),pr=()=>{const t=g.useContext(a7);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t},spe=({children:t})=>{const[e,n]=g.useState([]),[r,i]=g.useState(!1),[a,s]=g.useState(null),[o,l]=g.useState(!0),{currentUser:c}=Hr(),{products:u,isLoading:h}=af();g.useEffect(()=>{if(a){const A=setTimeout(()=>s(null),4e3);return()=>clearTimeout(A)}},[a]);const f=g.useCallback(A=>{s(A)},[]);g.useEffect(()=>{c?(async()=>{var S;if(!(!c||h)){l(!0);try{const C=await ge.collection("users").doc(c.uid).get();if(C.exists){const k=(((S=C.data())==null?void 0:S.cart)||[]).map(O=>{const B=u.find(F=>F.id===O.productId);if(!B)return null;const J=B.sizes.find(F=>F.name===O.sizeName);return J?{id:`${B.id}-${J.name}`,product:B,selectedSize:J,quantity:O.quantity}:null}).filter(O=>O!==null);n(k)}}catch(P){console.error("Error fetching cart from Firestore:",P),f("Couldn't load your cart.")}finally{l(!1)}}})():(n([]),l(!1))},[c,u,h,f]);const m=g.useCallback(async A=>{if(c)try{const S=ge.collection("users").doc(c.uid),P=A.map(C=>({productId:C.product.id,sizeName:C.selectedSize.name,quantity:C.quantity}));await S.update({cart:P})}catch(S){console.error("Error updating Firestore cart:",S),f("Error saving your cart.")}},[c,f]),y=g.useMemo(()=>e.reduce((A,S)=>A+S.quantity,0),[e]),v=()=>i(!0),j={cartItems:e,isCartOpen:r,toastMessage:a,totalCartItems:y,isCartLoading:o,addToCart:(A,S)=>{const P=`${A.id}-${S.name}`;let C;e.find(k=>k.id===P)?C=e.map(k=>k.id===P?{...k,quantity:Math.min(k.quantity+1,A.stock)}:k):C=[...e,{id:P,product:A,selectedSize:S,quantity:1}],n(C),m(C),f(`${A.name} (${S.name}) added to cart!`),v()},addMultipleToCart:A=>{if(!A||A.length===0)return;let S=[...e],P=0;A.forEach(C=>{const R=`${C.product.id}-${C.selectedSize.name}`,k=S.findIndex(O=>O.id===R);if(k>-1){const O=S[k],B=O.quantity+C.quantity;S[k]={...O,quantity:Math.min(B,C.product.stock)}}else S.push({id:R,product:C.product,selectedSize:C.selectedSize,quantity:Math.min(C.quantity,C.product.stock)});P+=C.quantity}),n(S),m(S),f(`${P} item(s) added to your cart!`),v()},updateQuantity:(A,S)=>{let P;S<1?P=e.filter(C=>C.id!==A):P=e.map(C=>C.id===A?{...C,quantity:Math.min(S,C.product.stock)}:C),n(P),m(P)},removeFromCart:A=>{const S=e.find(C=>C.id===A),P=e.filter(C=>C.id!==A);n(P),m(P),S&&f(`${S.product.name} (${S.selectedSize.name}) removed from cart.`)},openCart:v,closeCart:()=>i(!1),showToast:f,clearCart:()=>{n([]),m([])}};return d.jsx(a7.Provider,{value:j,children:t})},vn=({className:t,...e})=>d.jsxs("svg",{viewBox:"0 0 241 175",xmlns:"http://www.w3.org/2000/svg",className:t,fill:"currentColor",...e,children:[d.jsx("path",{d:"M153.092 78.5C178.275 50.84 210.393 19.4076 222.5 17.5C234.607 15.5924 239.5 30 239.5 30C239.5 30 244.137 46.596 236.388 72.8253C228.64 99.0547 199 128.5 199 128.5C199 128.5 177.5 152.5 147.5 167C147.5 167 114.686 183.001 104.889 169.159C95.0912 155.316 127.909 106.16 153.092 78.5Z"}),d.jsx("path",{d:"M8.99445 86.0801C8.99445 86.0801 -16.2682 31.1886 17.8826 14.4198C33.7618 9.56756 76 55.675 76 64.5C76 70 63.7899 86.337 59 101.5C54.887 114.52 55.557 134.266 52.0896 135.774C48.0468 137.533 37.3644 137.835 8.99445 86.0801Z"}),d.jsx("path",{d:"M47 12.5C41.0274 7.52362 41.5502 -7.59339e-06 52.5 0C63.4498 7.5934e-06 69.3348 2.24286 82.0884 7.45282C95.3718 12.8792 105.888 16.4103 109.463 23.875C111.5 32.5 107.979 33.026 103.5 38.5C99.0205 43.9741 96 44.1666 91 43.5C83.5342 42.5047 52.9726 17.4764 47 12.5Z"}),d.jsx("path",{d:"M200.048 20.8891C212.988 11.4339 207.491 2.52815 200.048 2.97405C192.604 3.41995 127.379 9.72972 89.5542 67.6673C85.4261 73.9905 72.4385 95.2439 69.1452 112.455C65.6022 130.971 65.8681 149.097 73.6272 157.74C81.0528 166.012 88.1891 164.145 92.2823 156.482C96.4277 148.721 97.4982 135.065 100.004 127.882C104.983 113.605 104.907 116.382 109.393 106.379C114.278 95.4879 120.938 86.2377 126.993 78.4363C154.543 42.9442 190.775 27.6646 200.048 20.8891Z"})]}),ope=[{href:"/",label:"Home"},{href:"/about",label:"About"},{href:"/menu",label:"Menu"},{href:"/contact",label:"Contact"}],lpe=[{href:"/menu",label:"Menu"},{href:"/queue",label:"Queue"},{href:"/rewards",label:"Rewards"}],w4=[{href:"/profile",label:"My Profile",Icon:Rs},{href:"/rewards",label:"My Rewards",Icon:Ip},{href:"/about",label:"About",Icon:pne},{href:"/contact",label:"Contact",Icon:js}],un=()=>{const[t,e]=g.useState(!1),[n,r]=g.useState(!1),i=g.useRef(null),{currentUser:a,logout:s}=Hr(),{totalCartItems:o,openCart:l}=pr(),c=Hi(),u=a?lpe:ope,h=()=>e(!1);g.useEffect(()=>{const x=b=>{i.current&&!i.current.contains(b.target)&&r(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]),g.useEffect(()=>{const x=()=>{window.innerWidth>=768&&e(!1)};return window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]),g.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]);const f=async()=>{await s(),h(),r(!1),c("/")},m=()=>e(!t),y=(x=!1)=>{const b="rounded-full text-sm font-semibold transition-colors",w="block w-full text-center py-3 text-base",_="px-6 py-2",T=x?h:void 0;return a?d.jsxs("div",{className:`relative ${x?"w-full":""}`,ref:i,children:[d.jsxs("button",{onClick:()=>r(!n),className:`flex w-full items-center justify-center gap-2 rounded-full border border-primary-600 px-4 py-2 text-sm font-semibold text-primary-600 transition-colors hover:bg-primary-50 ${x?"text-base":""}`,"aria-haspopup":"true","aria-expanded":n,children:[d.jsxs("span",{children:["Welcome, ",a.firstName,"!"]}),d.jsx($h,{className:`h-4 w-4 transition-transform ${n?"rotate-180":""}`})]}),n&&!x&&d.jsx("div",{className:"absolute right-0 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:d.jsxs("div",{className:"py-1",role:"menu","aria-orientation":"vertical",children:[w4.map(I=>d.jsxs(Ei,{to:I.href,onClick:()=>r(!1),className:({isActive:j})=>`flex items-center gap-3 px-4 py-2 text-sm transition-colors hover:bg-gray-100 ${j?"text-primary-600 font-semibold":"text-gray-700"}`,role:"menuitem",children:[d.jsx(I.Icon,{className:"h-4 w-4"}),I.label]},I.label)),a.role==="admin"&&d.jsxs(d.Fragment,{children:[d.jsx("hr",{className:"my-1"}),d.jsxs(Ei,{to:"/admin",onClick:()=>r(!1),className:"flex items-center gap-3 px-4 py-2 text-sm font-semibold text-yellow-700 transition-colors hover:bg-yellow-50",role:"menuitem",children:[d.jsx(Pp,{className:"h-4 w-4"}),"Admin Dashboard"]})]}),d.jsx("hr",{className:"my-1"}),d.jsxs("button",{onClick:f,className:"flex w-full items-center gap-3 px-4 py-2 text-left text-sm text-red-600 transition-colors hover:bg-red-50",role:"menuitem",children:[d.jsx(lx,{className:"h-4 w-4"}),"Logout"]})]})})]}):d.jsxs("div",{className:`flex items-center ${x?"flex-col space-y-3":"gap-4"}`,children:[d.jsx(Ei,{to:"/auth/login",onClick:T,className:`${b} border border-primary-600 text-primary-600 hover:bg-primary-50 ${x?w:_}`,children:"Login"}),d.jsx(Ei,{to:"/auth/register",onClick:T,className:`${b} bg-primary-600 text-white shadow-sm hover:bg-primary-700 ${x?w:_}`,children:"Sign Up"})]})},v=()=>d.jsxs("button",{onClick:l,className:"relative rounded-full p-2 text-gray-700 transition hover:bg-gray-100","aria-label":`Open cart with ${o} items`,children:[d.jsx(VI,{className:"h-6 w-6"}),o>0&&d.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-xs font-bold text-white","aria-hidden":"true",children:o})]});return d.jsxs(d.Fragment,{children:[d.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-gray-200/80 bg-white/95 shadow-md backdrop-blur-sm",children:d.jsxs("div",{className:"container mx-auto grid h-20 grid-cols-3 items-center px-4 sm:px-6 lg:px-8",children:[d.jsxs(Ei,{to:"/",className:"flex items-center gap-2",children:[d.jsx(vn,{className:"h-8 w-8 text-primary-600"}),d.jsx("span",{className:"text-2xl font-bold text-primary-600",children:"Rush Coffee"})]}),d.jsx("nav",{className:"hidden items-center justify-center space-x-8 md:flex",children:u.map(x=>d.jsx(Ei,{to:x.href,className:({isActive:b})=>`relative text-sm font-normal uppercase transition-colors hover:text-primary-600 ${b?"text-primary-600":"text-gray-700"} after:absolute after:bottom-0 after:left-0 after:h-[1px] after:w-full after:origin-center after:transform after:bg-primary-600 after:transition-transform after:duration-300 ${b?"after:scale-x-100":"after:scale-x-0"} hover:after:scale-x-100`,children:x.label},x.label))}),d.jsxs("div",{className:"hidden items-center justify-end gap-2 md:flex",children:[y(),a&&d.jsx(v,{})]}),d.jsxs("div",{className:"flex items-center gap-2 md:hidden",children:[a&&d.jsx(v,{}),d.jsx("button",{onClick:m,className:"rounded-md p-2 text-gray-700 transition hover:bg-gray-100","aria-label":"Toggle menu","aria-expanded":t,children:d.jsx(g9,{className:"h-6 w-6"})})]})]})}),d.jsxs("div",{className:`fixed inset-0 z-40 transform transition-opacity duration-300 md:hidden ${t?"opacity-100":"opacity-0 pointer-events-none"}`,children:[d.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:h,"aria-hidden":"true"}),d.jsxs("div",{className:`fixed top-0 right-0 flex h-full w-4/5 max-w-sm flex-col bg-white shadow-2xl transition-transform duration-300 ease-in-out ${t?"translate-x-0":"translate-x-full"}`,role:"dialog","aria-modal":"true","aria-labelledby":"mobile-menu-title",children:[d.jsxs("div",{className:"flex items-center justify-between border-b p-4",children:[d.jsxs(Ei,{to:"/",className:"flex items-center gap-2",onClick:h,children:[d.jsx(vn,{className:"h-7 w-7 text-primary-600"}),d.jsx("span",{id:"mobile-menu-title",className:"text-xl font-bold text-primary-600",children:"Rush Coffee"})]}),d.jsx("button",{onClick:h,className:"rounded-md p-2 text-gray-700 transition hover:bg-gray-100","aria-label":"Close menu",children:d.jsx(Nl,{className:"h-6 w-6"})})]}),d.jsxs("nav",{className:"flex flex-1 flex-col gap-4 overflow-y-auto p-4",children:[u.map(x=>d.jsx(Ei,{to:x.href,onClick:h,className:({isActive:b})=>`rounded-md px-3 py-2 text-lg font-medium transition-colors hover:bg-gray-100 ${b?"bg-primary-50 text-primary-600":"text-gray-800"}`,children:x.label},x.label)),a&&d.jsxs("div",{className:"border-t pt-4 mt-2",children:[w4.map(x=>d.jsxs(Ei,{to:x.href,onClick:h,className:({isActive:b})=>`flex items-center gap-3 rounded-md px-3 py-2 text-lg font-medium transition-colors hover:bg-gray-100 ${b?"bg-primary-50 text-primary-600":"text-gray-800"}`,children:[d.jsx(x.Icon,{className:"h-5 w-5"}),x.label]},x.label)),a.role==="admin"&&d.jsxs(Ei,{to:"/admin",onClick:h,className:({isActive:x})=>`flex items-center gap-3 rounded-md px-3 py-2 text-lg font-medium transition-colors hover:bg-yellow-50 ${x?"bg-yellow-100 text-yellow-800":"text-yellow-700"}`,children:[d.jsx(Pp,{className:"h-5 w-5"}),"Admin Dashboard"]})]})]}),d.jsx("div",{className:"mt-auto border-t p-4 space-y-3",children:a?d.jsxs("button",{onClick:f,className:"flex w-full items-center justify-center gap-2 rounded-full bg-red-500 px-6 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-red-600",children:[d.jsx(lx,{className:"h-5 w-5"}),"Logout"]}):y(!0)})]})]})]})},dn=()=>d.jsxs("footer",{className:"bg-coffee-900 text-coffee-100",children:[d.jsxs("div",{className:"container mx-auto grid grid-cols-1 gap-8 px-6 py-12 md:grid-cols-2 lg:grid-cols-4",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs(He,{to:"/",className:"flex items-center gap-2",children:[d.jsx(vn,{className:"h-8 w-8 text-primary-400"}),d.jsx("span",{className:"text-2xl font-bold text-primary-400",children:"Rush Coffee"})]}),d.jsx("p",{className:"font-semibold",children:"Premium coffee, no waiting."}),d.jsx("p",{className:"text-sm text-coffee-100/80",children:"Join the digital queue and get your coffee fix faster than ever."})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"mb-4 font-semibold text-primary-400",children:"Quick Links"}),d.jsxs("ul",{className:"space-y-2",children:[d.jsx("li",{children:d.jsx(He,{to:"/",className:"transition hover:text-primary-400",children:"Home"})}),d.jsx("li",{children:d.jsx(He,{to:"/about",className:"transition hover:text-primary-400",children:"About Us"})}),d.jsx("li",{children:d.jsx(He,{to:"/menu",className:"transition hover:text-primary-400",children:"Menu"})}),d.jsx("li",{children:d.jsx(He,{to:"/faq",className:"transition hover:text-primary-400",children:"FAQ"})}),d.jsx("li",{children:d.jsx(He,{to:"/contact",className:"transition hover:text-primary-400",children:"Contact"})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"mb-4 font-semibold text-primary-400",children:"Legal"}),d.jsxs("ul",{className:"space-y-2",children:[d.jsx("li",{children:d.jsx(He,{to:"/terms",className:"transition hover:text-primary-400",children:"Terms of Service"})}),d.jsx("li",{children:d.jsx(He,{to:"/privacy",className:"transition hover:text-primary-400",children:"Privacy Policy"})}),d.jsx("li",{children:d.jsx(He,{to:"/cookies",className:"transition hover:text-primary-400",children:"Cookie Policy"})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"mb-4 font-semibold text-primary-400",children:"Contact & Connect"}),d.jsx("address",{className:"not-italic",children:d.jsxs("ul",{className:"space-y-3",children:[d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(MI,{className:"mt-1 h-5 w-5 flex-shrink-0"}),d.jsx("span",{children:"123 Coffee Street, Manila"})]}),d.jsxs("li",{className:"flex items-center gap-3",children:[d.jsx(js,{className:"h-5 w-5 flex-shrink-0"}),d.jsx("a",{href:"tel:+639171234567",className:"transition hover:text-primary-400",children:"+63 917 123 4567"})]}),d.jsxs("li",{className:"flex items-center gap-3",children:[d.jsx(Ma,{className:"h-5 w-5 flex-shrink-0"}),d.jsx("a",{href:"mailto:hello@rushcoffee.ph",className:"transition hover:text-primary-400",children:"hello@rushcoffee.ph"})]})]})}),d.jsxs("div",{className:"mt-6 flex gap-4",children:[d.jsx("a",{href:"#","aria-label":"Facebook",className:"transition hover:text-primary-400",children:d.jsx(m9,{className:"h-6 w-6"})}),d.jsx("a",{href:"#","aria-label":"Instagram",className:"transition hover:text-primary-400",children:d.jsx(p9,{className:"h-6 w-6"})}),d.jsx("a",{href:"#","aria-label":"Twitter",className:"transition hover:text-primary-400",children:d.jsx(_9,{className:"h-6 w-6"})})]})]})]}),d.jsx("div",{className:"border-t border-coffee-800 bg-coffee-900/50",children:d.jsxs("div",{className:"container mx-auto flex flex-col items-center justify-between gap-2 px-6 py-4 text-center text-sm sm:flex-row",children:[d.jsxs("p",{children:[" ",new Date().getFullYear()," Rush Coffee. All rights reserved."]}),d.jsx("p",{children:"Made with  and "})]})})]}),cpe=[{Icon:vu,title:"Live Queue Updates",description:"Track your position in real-time and know exactly when your coffee will be ready. No more waiting around!",iconBgColor:"bg-primary-100",iconTextColor:"text-primary-600"},{Icon:vn,title:"Order Ahead",description:"Browse our menu, customize your drink, and order from anywhere. Your coffee, your way.",iconBgColor:"bg-coffee-100",iconTextColor:"text-coffee-800"},{Icon:Ip,title:"Loyalty Rewards",description:"Earn points with every purchase and redeem for free drinks and exclusive perks.",iconBgColor:"bg-green-100",iconTextColor:"text-green-600"},{Icon:E9,title:"Multiple Payment Options",description:"Pay with GCash or cash on pickupwhatever works best for you.",iconBgColor:"bg-blue-100",iconTextColor:"text-blue-600"}],_4=[{number:1,Icon:g9,title:"Browse & Customize",description:"Explore our menu of premium coffee drinks and customize your order exactly how you like it.",hasAnimation:!0},{number:2,Icon:Cp,title:"Join Virtual Queue",description:"Place your order and automatically join the queue. Get your position and estimated wait time instantly."},{number:3,Icon:uw,title:"Pickup & Enjoy",description:"Receive real-time notifications. When ready, breeze past the line and grab your coffee.",isPulsing:!0}],upe=[{quote:"Rush Coffee changed my morning routine! No more waiting in long lines. I order on my way and pick up when it's ready. Absolutely love it!",name:"Sarah M.",title:"Regular Customer",initial:"S",avatarBg:"bg-primary-100",avatarText:"text-primary-600"},{quote:"The queue system is genius. I can track exactly when my coffee will be ready. Plus, earning rewards with every purchase is a nice bonus!",name:"Miguel R.",title:"Gold Member",initial:"M",avatarBg:"bg-blue-100",avatarText:"text-blue-600"},{quote:"Best coffee experience in Manila. Fast, convenient, and the coffee is always perfect. The mobile app makes everything so easy!",name:"Ana L.",title:"VIP Member",initial:"A",avatarBg:"bg-green-100",avatarText:"text-green-600"}],dpe=()=>{const{currentUser:t}=Hr(),e=t?"/menu":"/auth/register";return d.jsxs("div",{className:"bg-white",children:[d.jsx(un,{}),d.jsxs("main",{children:[d.jsxs("section",{className:"relative flex min-h-[calc(100vh-5rem)] items-center overflow-hidden bg-white",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-50 via-coffee-100 to-white"}),d.jsx("div",{className:"container relative mx-auto max-w-7xl px-6 py-20",children:d.jsxs("div",{className:"grid grid-cols-1 items-center gap-12 lg:grid-cols-2",children:[d.jsxs("div",{className:"animate-fade-in-up text-center lg:text-left",children:[d.jsx("p",{className:"mb-4 font-medium text-primary-600",style:{animationDelay:"100ms",opacity:0},children:" Welcome to Rush Coffee"}),d.jsxs("h1",{className:"font-display text-5xl font-bold text-coffee-900 md:text-6xl lg:text-7xl",children:[d.jsx("span",{className:"block",style:{animation:"fade-in-up 0.8s ease-out 200ms forwards",opacity:0},children:"Skip the Line,"}),d.jsx("span",{className:"block text-primary-600",style:{animation:"fade-in-up 0.8s ease-out 300ms forwards",opacity:0},children:"Get Your Coffee"}),d.jsx("span",{className:"block",style:{animation:"fade-in-up 0.8s ease-out 400ms forwards",opacity:0},children:"Faster."})]}),d.jsx("p",{className:"mx-auto mt-6 max-w-2xl text-lg text-gray-600 md:text-xl lg:mx-0",style:{animation:"fade-in-up 0.8s ease-out 500ms forwards",opacity:0},children:"Join our digital queue system. Order ahead, track your position in real-time, and breeze through pickup. Your perfect cup awaitswithout the wait."}),d.jsxs("div",{className:"mt-8 flex flex-wrap justify-center gap-2 lg:justify-start",style:{animation:"fade-in-up 0.8s ease-out 600ms forwards",opacity:0},children:[d.jsx(Dn,{className:"animate-pulse-slow",children:" Real-Time Queue"}),d.jsx(Dn,{className:"animate-pulse-slow",children:" Mobile Ordering"}),d.jsx(Dn,{className:"animate-pulse-slow",children:" Rewards Program"})]}),d.jsxs("div",{className:"mt-8 flex flex-col items-center gap-4 sm:flex-row sm:justify-center lg:justify-start",style:{animation:"fade-in-up 0.8s ease-out 700ms forwards",opacity:0},children:[d.jsxs(He,{to:e,className:"flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-8 py-4 text-lg font-semibold text-white shadow-lg transition-transform hover:scale-105 hover:bg-primary-700 sm:w-auto",children:[d.jsx(vn,{className:"h-5 w-5"}),"Order Now"]}),d.jsxs("button",{onClick:()=>{var n;(n=document.getElementById("features"))==null||n.scrollIntoView({behavior:"smooth",block:"start"})},className:"flex w-full items-center justify-center gap-2 rounded-full border-2 border-primary-600 px-8 py-4 text-lg font-semibold text-primary-600 transition-transform hover:scale-105 hover:bg-primary-50 sm:w-auto",children:[d.jsx(Mte,{className:"h-5 w-5"}),"View Features"]})]}),d.jsx("p",{className:"mt-6 text-sm text-gray-500",style:{animation:"fade-in-up 0.8s ease-out 800ms forwards",opacity:0},children:"Join 5,000+ happy customers "})]}),d.jsxs("div",{className:"relative hidden h-96 lg:flex lg:items-center lg:justify-center",children:[d.jsx("div",{className:"absolute h-80 w-80 animate-float rounded-full bg-primary-200/50 blur-3xl"}),d.jsx("div",{className:"absolute bottom-0 right-0 h-64 w-64 animate-float-delay rounded-full bg-coffee-800/10 blur-2xl"}),d.jsx("div",{className:"relative animate-fade-in-up",style:{animationDelay:"500ms",opacity:0},children:d.jsx(vn,{className:"h-auto w-[250px] animate-float drop-shadow-2xl lg:w-[350px]"})})]})]})})]}),d.jsx("section",{id:"features",className:"bg-white px-6 py-20",children:d.jsxs("div",{className:"container mx-auto max-w-7xl",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"mb-2 font-medium text-primary-600",children:"Why Rush Coffee?"}),d.jsx("h2",{className:"mb-4 font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"Everything You Need for a Seamless Coffee Experience"}),d.jsx("p",{className:"mx-auto mb-12 max-w-2xl text-gray-600",children:"From ordering to pickup, we've got you covered."})]}),d.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:cpe.map((n,r)=>d.jsxs(fe,{hover:!0,className:"text-center",children:[d.jsx("div",{className:`mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-xl ${n.iconBgColor}`,children:d.jsx(n.Icon,{className:`h-8 w-8 ${n.iconTextColor}`})}),d.jsx("h3",{className:"mb-2 font-display text-xl font-semibold text-coffee-900",children:n.title}),d.jsx("p",{className:"text-sm leading-relaxed text-gray-600",children:n.description})]},r))})]})}),d.jsx("section",{id:"how-it-works",className:"bg-gradient-to-b from-coffee-50 to-white px-6 py-20",children:d.jsxs("div",{className:"container mx-auto max-w-7xl",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"mb-2 font-medium text-primary-600",children:"Simple Process"}),d.jsx("h2",{className:"mb-4 font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"How Rush Coffee Works"}),d.jsx("p",{className:"mx-auto mb-16 max-w-2xl text-gray-600",children:"Get your perfect cup in three easy steps."})]}),d.jsx("div",{className:"flex flex-col items-stretch justify-center gap-16 lg:flex-row lg:items-center lg:gap-8",children:_4.map((n,r)=>d.jsxs(g.Fragment,{children:[d.jsxs("div",{className:"relative w-full max-w-sm flex-1 text-center",children:[d.jsx("div",{className:"absolute -top-4 left-1/2 z-10 flex h-12 w-12 -translate-x-1/2 items-center justify-center rounded-full bg-primary-600 font-display text-xl font-bold text-white shadow-lg",children:n.number}),d.jsxs(fe,{className:"pt-8",children:[d.jsxs("div",{className:"relative mx-auto flex h-20 w-20 items-center justify-center rounded-2xl bg-gradient-to-br from-primary-100 to-coffee-100 p-4",children:[n.hasAnimation&&d.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-2xl",children:[d.jsx("div",{className:"absolute left-1/2 top-2 h-4 w-px -translate-x-1/2 animate-steam-1 rounded-full bg-primary-300/80"}),d.jsx("div",{className:"absolute left-1/3 top-2 h-5 w-px animate-steam-2 rounded-full bg-primary-300/80"}),d.jsx("div",{className:"absolute left-2/3 top-2 h-3 w-px animate-steam-1 rounded-full bg-primary-300/80"})]}),d.jsx(n.Icon,{className:`h-10 w-10 text-primary-600 ${n.isPulsing?"animate-pulse-slow":""}`})]}),d.jsx("h3",{className:"mb-2 mt-4 font-display text-xl font-semibold text-coffee-900",children:n.title}),d.jsx("p",{className:"text-sm text-gray-600",children:n.description})]})]}),r<_4.length-1&&d.jsx("div",{className:"hidden text-primary-400 lg:flex",children:d.jsx(Zd,{className:"h-10 w-10"})})]},n.number))})]})}),d.jsx("section",{id:"testimonials",className:"bg-white py-20 px-6",children:d.jsxs("div",{className:"container mx-auto max-w-7xl",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"mb-2 font-medium text-primary-600",children:"Customer Love"}),d.jsx("h2",{className:"mb-4 font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"What Our Customers Say"}),d.jsx("p",{className:"mx-auto mb-12 max-w-2xl text-gray-600",children:"Join thousands of satisfied coffee lovers."})]}),d.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:upe.map((n,r)=>d.jsxs(fe,{hover:!0,className:"flex flex-col border-l-4 border-primary-400 transition-transform duration-300 hover:scale-105",children:[d.jsx(Fne,{className:"h-8 w-8 text-primary-200"}),d.jsx("div",{className:"my-4 text-yellow-400",children:""}),d.jsxs("p",{className:"flex-grow font-sans italic text-gray-700",children:['"',n.quote,'"']}),d.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[d.jsx("div",{className:`flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full font-bold ${n.avatarBg} ${n.avatarText}`,children:n.initial}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-coffee-900",children:n.name}),d.jsx(Dn,{className:"bg-gray-100 text-gray-600 text-xs px-2 py-0.5",children:n.title})]})]})]},r))})]})}),d.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-r from-primary-600 via-coffee-600 to-primary-700 py-16 px-6",children:[d.jsx("div",{className:"absolute top-0 left-0 -translate-x-1/3 -translate-y-1/3 opacity-10",children:d.jsx(vn,{className:"h-48 w-48 animate-float text-white"})}),d.jsx("div",{className:"absolute bottom-0 right-0 translate-x-1/3 translate-y-1/3 opacity-10",children:d.jsx(vn,{className:"h-64 w-64 animate-float-delay text-white"})}),d.jsxs("div",{className:"relative z-10 mx-auto max-w-4xl text-center",children:[d.jsxs("div",{className:"relative mx-auto mb-4 inline-block",children:[d.jsx("span",{className:"text-5xl",role:"img","aria-label":"Coffee cup",children:""}),d.jsxs("div",{className:"absolute -top-4 left-0 right-0 h-12",children:[d.jsx("div",{className:"absolute left-1/2 h-6 w-px -translate-x-1/2 animate-steam-1 rounded-full bg-white/50"}),d.jsx("div",{className:"absolute left-1/3 h-8 w-px animate-steam-2 rounded-full bg-white/50"}),d.jsx("div",{className:"absolute left-2/3 h-5 w-px animate-steam-1 rounded-full bg-white/50"})]})]}),d.jsx("h2",{className:"mb-4 font-display text-4xl font-bold text-white md:text-5xl",children:"Ready to Rush Through Your Day?"}),d.jsx("p",{className:"mb-2 text-xl text-primary-100",children:"Join 5,000+ customers who've already skipped the line."}),d.jsxs("div",{className:"my-8 flex flex-col items-center justify-center gap-4 sm:flex-row",children:[d.jsx("span",{className:"rounded-full bg-white/10 px-4 py-2 text-sm font-medium text-white backdrop-blur",children:"10,000+ Orders Completed"}),d.jsx("span",{className:"rounded-full bg-white/10 px-4 py-2 text-sm font-medium text-white backdrop-blur",children:"4.9 Average Rating"}),d.jsx("span",{className:"rounded-full bg-white/10 px-4 py-2 text-sm font-medium text-white backdrop-blur",children:"< 5 min Average Wait"})]}),d.jsxs(He,{to:e,className:"inline-flex transform items-center justify-center gap-2 rounded-full bg-white px-8 py-4 text-lg font-semibold text-primary-600 shadow-lg transition hover:scale-105 hover:shadow-2xl",children:["Start Ordering Now",d.jsx(Zd,{className:"h-5 w-5"})]}),d.jsxs("p",{className:"mt-4 text-sm",children:[d.jsx("span",{className:"text-white/80",children:"Already have an account? "}),d.jsx(He,{to:"/auth/login",className:"font-semibold text-white underline transition hover:text-primary-100",children:"Login"})]})]})]})]}),d.jsx(dn,{})]})},kn=g.forwardRef(({className:t,type:e,label:n,error:r,helperText:i,success:a,startIcon:s,endIcon:o,containerClassName:l,id:c,inputSize:u="md",...h},f)=>{const m={sm:"px-3 py-2 text-sm",md:"px-4 py-3.5 text-sm",lg:"px-5 py-4 text-base"};return d.jsxs("div",{className:`w-full ${l||""}`,children:[n&&d.jsx("label",{htmlFor:c,className:"mb-1.5 block text-sm font-medium text-coffee-900",children:n}),d.jsxs("div",{className:"relative group",children:[s&&d.jsx("div",{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 transition-colors group-focus-within:text-primary-600",children:s}),d.jsx("input",{id:c,type:e,className:`
              w-full rounded-xl border bg-white text-gray-900 
              placeholder:text-gray-500 placeholder:font-medium transition-all duration-200 ease-in-out
              focus:border-primary-500 focus:outline-none focus:ring-4 focus:ring-primary-500/10
              disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500
              ${s?"pl-10":""}
              ${o?"pr-10":""}
              ${m[u]}
              ${r?"border-red-300 focus:border-red-500 focus:ring-red-500/10":a?"border-green-300 focus:border-green-500 focus:ring-green-500/10":"border-gray-500 shadow-sm hover:border-primary-400"}
              ${t||""}
            `,ref:f,...h}),o&&d.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:o})]}),r&&d.jsx("p",{className:"mt-1.5 text-xs font-medium text-red-600 animate-fade-in-up",children:r}),!r&&a&&d.jsx("p",{className:"mt-1.5 text-xs font-medium text-green-600 animate-fade-in-up",children:a}),!r&&!a&&i&&d.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:i})]})});kn.displayName="Input";const hpe=()=>d.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),d.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),d.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z",fill:"#FBBC05"}),d.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),fpe=()=>{const[t,e]=g.useState(""),[n,r]=g.useState(""),[i,a]=g.useState(!1),[s,o]=g.useState(!1),[l,c]=g.useState({}),[u,h]=g.useState(null),[f,m]=g.useState(!1),[y,v]=g.useState(!1),x=Hi(),{login:b,signInWithGoogle:w}=Hr(),_=()=>{const j={};return t?/\S+@\S+\.\S+/.test(t)||(j.email="Email address is invalid"):j.email="Email is required",n||(j.password="Password is required"),j},T=async j=>{j.preventDefault(),h(null);const A=_();if(Object.keys(A).length>0){c(A);return}c({}),m(!0);try{(await b(t,n,s)).role==="admin"?x("/admin"):x("/")}catch(S){let P="An unexpected error occurred. Please try again.";switch(S.code){case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":P="Invalid email or password. Please try again.";break;case"auth/too-many-requests":P="Too many failed login attempts. Please try again later.";break}h(P)}finally{m(!1)}},I=async()=>{h(null),v(!0);try{(await w()).role==="admin"?x("/admin"):x("/")}catch(j){console.error("Google Sign-In Error: ",j.code,j.message),h("Failed to sign in with Google. Please try again.")}finally{v(!1)}};return d.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-primary-50 via-coffee-50 to-white",children:[d.jsx(un,{}),d.jsx("main",{className:"flex flex-1 items-center justify-center px-4 py-12 sm:px-6 lg:px-8",children:d.jsx("div",{className:"w-full max-w-md",children:d.jsxs(fe,{className:"rounded-2xl p-8 shadow-xl",children:[d.jsxs("div",{className:"mb-6 text-center",children:[d.jsx(vn,{className:"mx-auto h-12 w-12 text-primary-600"}),d.jsx("h2",{className:"mt-4 font-display text-3xl font-bold text-coffee-900",children:"Rush Coffee"}),d.jsx("p",{className:"mt-2 text-gray-600",children:"Welcome back! "})]}),u&&d.jsxs("div",{className:"mb-4 flex items-start gap-3 rounded-lg bg-red-50 p-4 text-sm text-red-700",role:"alert",children:[d.jsx(Ws,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),d.jsx("div",{children:u})]}),d.jsxs("form",{onSubmit:T,noValidate:!0,className:"space-y-6",children:[d.jsx(kn,{id:"email",name:"email",type:"email",label:"Email address",autoComplete:"email",required:!0,value:t,onChange:j=>e(j.target.value),placeholder:"name@company.com",error:l.email,startIcon:d.jsx(Ma,{className:"h-5 w-5"})}),d.jsx(kn,{id:"password",name:"password",type:i?"text":"password",label:"Password",autoComplete:"current-password",required:!0,value:n,onChange:j=>r(j.target.value),placeholder:"",error:l.password,startIcon:d.jsx(ox,{className:"h-5 w-5"}),endIcon:d.jsx("button",{type:"button",onClick:()=>a(!i),className:"focus:outline-none hover:text-gray-600 transition-colors","aria-label":i?"Hide password":"Show password",children:i?d.jsx(wS,{className:"h-5 w-5"}):d.jsx(_S,{className:"h-5 w-5"})})}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:s,onChange:j=>o(j.target.checked),className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),d.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),d.jsx("div",{className:"text-sm",children:d.jsx(He,{to:"/auth/forgot-password",className:"font-medium text-primary-600 hover:text-primary-500",children:"Forgot your password?"})})]}),d.jsx("div",{children:d.jsx("button",{type:"submit",disabled:f||y,className:"flex w-full justify-center rounded-full bg-primary-600 px-4 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-primary-400",children:f?d.jsx(jt,{className:"h-6 w-6 animate-spin"}):"Login"})})]}),d.jsxs("div",{className:"my-6 flex items-center",children:[d.jsx("div",{className:"flex-grow border-t border-gray-300"}),d.jsx("span",{className:"mx-4 flex-shrink text-sm text-gray-500",children:"or"}),d.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),d.jsxs("button",{type:"button",disabled:f||y,onClick:I,className:"flex w-full items-center justify-center gap-3 rounded-full border border-gray-300 px-4 py-3 text-base font-medium text-gray-700 transition-colors hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-60",children:[y?d.jsx(jt,{className:"h-5 w-5 animate-spin"}):d.jsx(hpe,{}),"Continue with Google"]}),d.jsxs("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Don't have an account?"," ",d.jsx(He,{to:"/auth/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign up"})]})]})})}),d.jsx(dn,{})]})},mpe=()=>d.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),d.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),d.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z",fill:"#FBBC05"}),d.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),ppe=t=>{let e=0;return t.length>=8&&e++,t.match(/[a-z]/)&&e++,t.match(/[A-Z]/)&&e++,t.match(/[0-9]/)&&e++,t.match(/[^a-zA-Z0-9]/)&&e++,e/5*100},gpe=()=>{const[t,e]=g.useState({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",terms:!1}),[n,r]=g.useState({}),[i,a]=g.useState({}),[s,o]=g.useState(null),[l,c]=g.useState(!1),[u,h]=g.useState(!1),[f,m]=g.useState(!1),[y,v]=g.useState(!1),[x,b]=g.useState(0),w=Hi(),{register:_,signInWithGoogle:T}=Hr(),I=g.useCallback(()=>{const k={};return t.firstName?t.firstName.length<2&&(k.firstName="First name must be at least 2 characters"):k.firstName="First name is required",t.lastName?t.lastName.length<2&&(k.lastName="Last name must be at least 2 characters"):k.lastName="Last name is required",t.email?/\S+@\S+\.\S+/.test(t.email)||(k.email="Email address is invalid"):k.email="Email is required",t.phone&&!/^(09|\+639)\d{9}$/.test(t.phone)&&(k.phone="Invalid Philippine phone number"),t.password?t.password.length<8?k.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])/.test(t.password)||(k.password="Must contain uppercase, lowercase, and a number"):k.password="Password is required",t.confirmPassword?t.password!==t.confirmPassword&&(k.confirmPassword="Passwords do not match"):k.confirmPassword="Please confirm your password",t.terms||(k.terms="You must accept the terms and conditions"),k},[t]);g.useEffect(()=>{i.password&&b(ppe(t.password))},[t.password,i.password]),g.useEffect(()=>{Object.keys(i).length>0&&r(I())},[t,i,I]);const j=k=>{const{name:O,value:B,type:J,checked:F}=k.target;e(H=>({...H,[O]:J==="checkbox"?F:B}))},A=k=>{const{name:O}=k.target;a(B=>({...B,[O]:!0}))},S=async k=>{k.preventDefault(),o(null),a({firstName:!0,lastName:!0,email:!0,phone:!0,password:!0,confirmPassword:!0,terms:!0});const O=I();if(Object.keys(O).length>0){r(O);return}c(!0);try{(await _(t.email,t.password,t.firstName,t.lastName,t.phone)).role==="admin"?w("/admin"):w("/")}catch(B){let J="An unexpected error occurred. Please try again.";switch(B.code){case"auth/email-already-in-use":J="This email address is already registered.";break;case"auth/invalid-email":J="The email address is not valid.";break;case"auth/weak-password":J="The password is too weak.";break}o(J)}finally{c(!1)}},P=async()=>{o(null),h(!0);try{(await T()).role==="admin"?w("/admin"):w("/")}catch(k){console.error("Google Sign-Up Error: ",k.code,k.message),o("Failed to sign up with Google. Please try again.")}finally{h(!1)}},C=()=>x<40?"bg-red-500":x<80?"bg-yellow-500":"bg-green-500",R=()=>x<40?"Weak":x<80?"Medium":"Strong";return d.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-primary-50 via-coffee-50 to-white",children:[d.jsx(un,{}),d.jsx("main",{className:"flex flex-1 items-center justify-center px-4 py-12 sm:px-6 lg:px-8",children:d.jsx("div",{className:"w-full max-w-2xl",children:d.jsxs(fe,{className:"rounded-2xl p-8 shadow-xl",children:[d.jsxs("div",{className:"mb-6 text-center",children:[d.jsx(vn,{className:"mx-auto h-12 w-12 text-primary-600"}),d.jsx("h2",{className:"mt-4 font-display text-3xl font-bold text-coffee-900",children:"Join Rush Coffee"}),d.jsx("p",{className:"mt-2 text-gray-600",children:"Start skipping the line today "})]}),s&&d.jsxs("div",{className:"mb-4 flex items-start gap-3 rounded-lg bg-red-50 p-4 text-sm text-red-700",role:"alert",children:[d.jsx(Ws,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),d.jsx("div",{children:s})]}),d.jsxs("form",{onSubmit:S,noValidate:!0,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-2",children:[d.jsx(kn,{id:"firstName",name:"firstName",label:"First Name",type:"text",placeholder:"First Name",startIcon:d.jsx(Rs,{className:"h-5 w-5"}),autoComplete:"given-name",value:t.firstName,onChange:j,onBlur:A,error:i.firstName?n.firstName:void 0,required:!0}),d.jsx(kn,{id:"lastName",name:"lastName",label:"Last Name",type:"text",placeholder:"Last Name",startIcon:d.jsx(Rs,{className:"h-5 w-5"}),autoComplete:"family-name",value:t.lastName,onChange:j,onBlur:A,error:i.lastName?n.lastName:void 0,required:!0})]}),d.jsx(kn,{id:"email",name:"email",label:"Email address",type:"email",placeholder:"Email address",startIcon:d.jsx(Ma,{className:"h-5 w-5"}),autoComplete:"email",value:t.email,onChange:j,onBlur:A,error:i.email?n.email:void 0,required:!0}),d.jsx(kn,{id:"phone",name:"phone",label:"Phone Number (Optional)",type:"tel",placeholder:"Phone Number (e.g., 09xxxxxxxxx)",startIcon:d.jsx(js,{className:"h-5 w-5"}),autoComplete:"tel",value:t.phone,onChange:j,onBlur:A,error:i.phone?n.phone:void 0}),d.jsxs("div",{className:"relative",children:[d.jsx(kn,{id:"password",name:"password",label:"Password",type:f?"text":"password",placeholder:"Password",startIcon:d.jsx(ox,{className:"h-5 w-5"}),autoComplete:"new-password",value:t.password,onChange:j,onBlur:A,error:i.password?n.password:void 0,required:!0,endIcon:d.jsx("button",{type:"button",onClick:()=>m(!f),className:"focus:outline-none hover:text-gray-600 transition-colors","aria-label":f?"Hide password":"Show password",children:f?d.jsx(wS,{className:"h-5 w-5"}):d.jsx(_S,{className:"h-5 w-5"})})}),i.password&&d.jsxs("div",{className:"mt-2 space-y-1",children:[d.jsx("div",{className:"h-2 w-full rounded-full bg-gray-200",children:d.jsx("div",{className:`h-2 rounded-full ${C()}`,style:{width:`${x}%`,transition:"width 0.3s, background-color 0.3s"}})}),d.jsx("p",{className:"text-xs font-medium",style:{color:C().replace("bg-","text-")},children:R()})]})]}),d.jsx(kn,{id:"confirmPassword",name:"confirmPassword",label:"Confirm Password",type:y?"text":"password",placeholder:"Confirm Password",startIcon:d.jsx(ox,{className:"h-5 w-5"}),autoComplete:"new-password",value:t.confirmPassword,onChange:j,onBlur:A,error:i.confirmPassword?n.confirmPassword:void 0,required:!0,endIcon:d.jsx("button",{type:"button",onClick:()=>v(!y),className:"focus:outline-none hover:text-gray-600 transition-colors","aria-label":y?"Hide password":"Show password",children:y?d.jsx(wS,{className:"h-5 w-5"}):d.jsx(_S,{className:"h-5 w-5"})})}),d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex h-6 items-center",children:d.jsx("input",{id:"terms",name:"terms",type:"checkbox",checked:t.terms,onChange:j,onBlur:A,className:`h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500 ${i.terms&&n.terms?"border-red-500":""}`})}),d.jsxs("div",{className:"ml-3 text-sm leading-6",children:[d.jsxs("label",{htmlFor:"terms",className:"font-medium text-gray-900",children:["I agree to the"," ",d.jsx(He,{to:"/terms",className:"font-semibold text-primary-600 hover:underline",children:"Terms of Service"})," and ",d.jsx(He,{to:"/privacy",className:"font-semibold text-primary-600 hover:underline",children:"Privacy Policy"}),"."]}),i.terms&&n.terms&&d.jsx("p",{className:"mt-1 text-xs text-red-600",children:n.terms})]})]}),d.jsx("div",{children:d.jsx("button",{type:"submit",disabled:l||u,className:"flex w-full justify-center rounded-full bg-primary-600 px-4 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-primary-400",children:l?d.jsx(jt,{className:"h-6 w-6 animate-spin"}):"Create Account"})})]}),d.jsxs("div",{className:"my-6 flex items-center",children:[d.jsx("div",{className:"flex-grow border-t border-gray-300"}),d.jsx("span",{className:"mx-4 flex-shrink text-sm text-gray-500",children:"or"}),d.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),d.jsxs("button",{type:"button",disabled:l||u,onClick:P,className:"flex w-full items-center justify-center gap-3 rounded-full border border-gray-300 px-4 py-3 text-base font-medium text-gray-700 transition-colors hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-60",children:[u?d.jsx(jt,{className:"h-5 w-5 animate-spin"}):d.jsx(mpe,{}),"Sign up with Google"]}),d.jsxs("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Already have an account?"," ",d.jsx(He,{to:"/auth/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Login"})]})]})})}),d.jsx(dn,{})]})},ype=()=>{const[t,e]=g.useState(""),[n,r]=g.useState(null),[i,a]=g.useState(null),[s,o]=g.useState(!1),{sendPasswordReset:l}=Hr(),c=async u=>{if(u.preventDefault(),r(null),a(null),t){if(!/\S+@\S+\.\S+/.test(t)){r("Please enter a valid email address");return}}else{r("Email is required");return}o(!0);try{await l(t),a("Password reset link sent to your email. Please check your inbox.")}catch(h){let f="An unexpected error occurred. Please try again.";(h.code==="auth/user-not-found"||h.code==="auth/invalid-email")&&(f="No user found with this email address."),r(f)}finally{o(!1)}};return d.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-primary-50 via-coffee-50 to-white",children:[d.jsx(un,{}),d.jsx("main",{className:"flex flex-1 items-center justify-center px-4 py-12 sm:px-6 lg:px-8",children:d.jsx("div",{className:"w-full max-w-md",children:d.jsxs(fe,{className:"rounded-2xl p-8 shadow-xl",children:[d.jsxs("div",{className:"mb-6 text-center",children:[d.jsx(vn,{className:"mx-auto h-12 w-12 text-primary-600"}),d.jsx("h2",{className:"mt-4 font-display text-3xl font-bold text-coffee-900",children:"Reset Password"}),d.jsx("p",{className:"mt-2 text-gray-600",children:"Enter your email to receive a reset link."})]}),n&&d.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded-lg bg-red-50 p-3 text-sm text-red-700",role:"alert",children:[d.jsx(Ws,{className:"h-5 w-5 flex-shrink-0"}),d.jsx("span",{children:n})]}),i&&d.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded-lg bg-green-50 p-3 text-sm text-green-700",role:"alert",children:[d.jsx(DI,{className:"h-5 w-5 flex-shrink-0"}),d.jsx("span",{children:i})]}),d.jsxs("form",{onSubmit:c,noValidate:!0,className:"space-y-6",children:[d.jsx(kn,{id:"email",name:"email",type:"email",label:"Email address",autoComplete:"email",required:!0,value:t,onChange:u=>e(u.target.value),placeholder:"Email address",startIcon:d.jsx(Ma,{className:"h-5 w-5"})}),d.jsx("div",{children:d.jsx("button",{type:"submit",disabled:s,className:"flex w-full justify-center rounded-full bg-primary-600 px-4 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-primary-400",children:s?d.jsx(jt,{className:"h-6 w-6 animate-spin"}):"Send Reset Link"})})]}),d.jsxs("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Remember your password?"," ",d.jsx(He,{to:"/auth/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Back to Login"})]})]})})}),d.jsx(dn,{})]})},k2=g.createContext({});function D2(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}const n_=g.createContext(null),M2=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class vpe extends g.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function xpe({children:t,isPresent:e}){const n=g.useId(),r=g.useRef(null),i=g.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=g.useContext(M2);return g.useInsertionEffect(()=>{const{width:s,height:o,top:l,left:c}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return a&&(u.nonce=a),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),d.jsx(vpe,{isPresent:e,childRef:r,sizeRef:i,children:g.cloneElement(t,{ref:r})})}const bpe=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:s})=>{const o=D2(wpe),l=g.useId(),c=g.useCallback(h=>{o.set(h,!0);for(const f of o.values())if(!f)return;r&&r()},[o,r]),u=g.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c,register:h=>(o.set(h,!1),()=>o.delete(h))}),a?[Math.random(),c]:[n,c]);return g.useMemo(()=>{o.forEach((h,f)=>o.set(f,!1))},[n]),g.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),s==="popLayout"&&(t=d.jsx(xpe,{isPresent:n,children:t})),d.jsx(n_.Provider,{value:u,children:t})};function wpe(){return new Map}function s7(t=!0){const e=g.useContext(n_);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=g.useId();g.useEffect(()=>{t&&i(a)},[t]);const s=g.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,s]:[!0]}const wv=t=>t.key||"";function E4(t){const e=[];return g.Children.forEach(t,n=>{g.isValidElement(n)&&e.push(n)}),e}const L2=typeof window<"u",o7=L2?g.useLayoutEffect:g.useEffect,cy=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1})=>{const[o,l]=s7(s),c=g.useMemo(()=>E4(t),[t]),u=s&&!o?[]:c.map(wv),h=g.useRef(!0),f=g.useRef(c),m=D2(()=>new Map),[y,v]=g.useState(c),[x,b]=g.useState(c);o7(()=>{h.current=!1,f.current=c;for(let T=0;T<x.length;T++){const I=wv(x[T]);u.includes(I)?m.delete(I):m.get(I)!==!0&&m.set(I,!1)}},[x,u.length,u.join("-")]);const w=[];if(c!==y){let T=[...c];for(let I=0;I<x.length;I++){const j=x[I],A=wv(j);u.includes(A)||(T.splice(I,0,j),w.push(j))}a==="wait"&&w.length&&(T=w),b(E4(T)),v(c);return}const{forceRender:_}=g.useContext(k2);return d.jsx(d.Fragment,{children:x.map(T=>{const I=wv(T),j=s&&!o?!1:c===x||u.includes(I),A=()=>{if(m.has(I))m.set(I,!0);else return;let S=!0;m.forEach(P=>{P||(S=!1)}),S&&(_==null||_(),b(f.current),s&&(l==null||l()),r&&r())};return d.jsx(bpe,{isPresent:j,initial:!h.current||n?void 0:!1,custom:j?void 0:e,presenceAffectsLayout:i,mode:a,onExitComplete:j?void 0:A,children:T},I)})})},di=t=>t;let l7=di;function V2(t){let e;return()=>(e===void 0&&(e=t()),e)}const _h=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ws=t=>t*1e3,_s=t=>t/1e3,_pe={useManualTiming:!1};function Epe(t){let e=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function o(c){a.has(c)&&(l.schedule(c),t()),c(s)}const l={schedule:(c,u=!1,h=!1)=>{const m=h&&r?e:n;return u&&a.add(c),m.has(c)||m.add(c),c},cancel:c=>{n.delete(c),a.delete(c)},process:c=>{if(s=c,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(o),e.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const _v=["read","resolveKeyframes","update","preRender","render","postRender"],Tpe=40;function c7(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=_v.reduce((b,w)=>(b[w]=Epe(a),b),{}),{read:o,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:f}=s,m=()=>{const b=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(b-i.timestamp,Tpe),1),i.timestamp=b,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),h.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))},y=()=>{n=!0,r=!0,i.isProcessing||t(m)};return{schedule:_v.reduce((b,w)=>{const _=s[w];return b[w]=(T,I=!1,j=!1)=>(n||y(),_.schedule(T,I,j)),b},{}),cancel:b=>{for(let w=0;w<_v.length;w++)s[_v[w]].cancel(b)},state:i,steps:s}}const{schedule:yt,cancel:xl,state:$n,steps:UE}=c7(typeof requestAnimationFrame<"u"?requestAnimationFrame:di,!0),u7=g.createContext({strict:!1}),T4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Eh={};for(const t in T4)Eh[t]={isEnabled:e=>T4[t].some(n=>!!e[n])};function Spe(t){for(const e in t)Eh[e]={...Eh[e],...t[e]}}const Ape=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ux(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Ape.has(t)}let d7=t=>!Ux(t);function Npe(t){t&&(d7=e=>e.startsWith("on")?!Ux(e):t(e))}try{Npe(require("@emotion/is-prop-valid").default)}catch{}function Ipe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(d7(i)||n===!0&&Ux(i)||!e&&!Ux(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Ppe(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const r_=g.createContext({});function eg(t){return typeof t=="string"||Array.isArray(t)}function i_(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const U2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],z2=["initial",...U2];function a_(t){return i_(t.animate)||z2.some(e=>eg(t[e]))}function h7(t){return!!(a_(t)||t.variants)}function Cpe(t,e){if(a_(t)){const{initial:n,animate:r}=t;return{initial:n===!1||eg(n)?n:void 0,animate:eg(r)?r:void 0}}return t.inherit!==!1?e:{}}function jpe(t){const{initial:e,animate:n}=Cpe(t,g.useContext(r_));return g.useMemo(()=>({initial:e,animate:n}),[S4(e),S4(n)])}function S4(t){return Array.isArray(t)?t.join(" "):t}const Rpe=Symbol.for("motionComponentSymbol");function gd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Ope(t,e,n){return g.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):gd(n)&&(n.current=r))},[e])}const B2=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),kpe="framerAppearId",f7="data-"+B2(kpe),{schedule:F2}=c7(queueMicrotask,!1),m7=g.createContext({});function Dpe(t,e,n,r,i){var a,s;const{visualElement:o}=g.useContext(r_),l=g.useContext(u7),c=g.useContext(n_),u=g.useContext(M2).reducedMotion,h=g.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const f=h.current,m=g.useContext(m7);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&Mpe(h.current,n,i,m);const y=g.useRef(!1);g.useInsertionEffect(()=>{f&&y.current&&f.update(n,c)});const v=n[f7],x=g.useRef(!!v&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,v))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,v)));return o7(()=>{f&&(y.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),F2.render(f.render),x.current&&f.animationState&&f.animationState.animateChanges())}),g.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,v)}),x.current=!1))}),f}function Mpe(t,e,n,r){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:p7(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||o&&gd(o),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function p7(t){if(t)return t.options.allowProjection!==!1?t.projection:p7(t.parent)}function Lpe({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var a,s;t&&Spe(t);function o(c,u){let h;const f={...g.useContext(M2),...c,layoutId:Vpe(c)},{isStatic:m}=f,y=jpe(c),v=r(c,m);if(!m&&L2){Upe();const x=zpe(f);h=x.MeasureLayout,y.visualElement=Dpe(i,v,f,e,x.ProjectionNode)}return d.jsxs(r_.Provider,{value:y,children:[h&&y.visualElement?d.jsx(h,{visualElement:y.visualElement,...f}):null,n(i,c,Ope(v,y.visualElement,u),v,m,y.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(s=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&s!==void 0?s:""})`}`;const l=g.forwardRef(o);return l[Rpe]=i,l}function Vpe({layoutId:t}){const e=g.useContext(k2).id;return e&&t!==void 0?e+"-"+t:t}function Upe(t,e){g.useContext(u7).strict}function zpe(t){const{drag:e,layout:n}=Eh;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Bpe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $2(t){return typeof t!="string"||t.includes("-")?!1:!!(Bpe.indexOf(t)>-1||/[A-Z]/u.test(t))}function A4(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function q2(t,e,n,r){if(typeof e=="function"){const[i,a]=A4(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=A4(r);e=e(n!==void 0?n:t.custom,i,a)}return e}const fA=t=>Array.isArray(t),Fpe=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),$pe=t=>fA(t)?t[t.length-1]||0:t,cr=t=>!!(t&&t.getVelocity);function E0(t){const e=cr(t)?t.get():t;return Fpe(e)?e.toValue():e}function qpe({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,a){const s={latestValues:Hpe(r,i,a,t),renderState:e()};return n&&(s.onMount=o=>n({props:r,current:o,...s}),s.onUpdate=o=>n(o)),s}const g7=t=>(e,n)=>{const r=g.useContext(r_),i=g.useContext(n_),a=()=>qpe(t,e,r,i);return n?a():D2(a)};function Hpe(t,e,n,r){const i={},a=r(t,{});for(const f in a)i[f]=E0(a[f]);let{initial:s,animate:o}=t;const l=a_(t),c=h7(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),o===void 0&&(o=e.animate));let u=n?n.initial===!1:!1;u=u||s===!1;const h=u?o:s;if(h&&typeof h!="boolean"&&!i_(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const y=q2(t,f[m]);if(y){const{transitionEnd:v,transition:x,...b}=y;for(const w in b){let _=b[w];if(Array.isArray(_)){const T=u?_.length-1:0;_=_[T]}_!==null&&(i[w]=_)}for(const w in v)i[w]=v[w]}}}return i}const sf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Su=new Set(sf),y7=t=>e=>typeof e=="string"&&e.startsWith(t),v7=y7("--"),Gpe=y7("var(--"),H2=t=>Gpe(t)?Kpe.test(t.split("/*")[0].trim()):!1,Kpe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,x7=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Vs=(t,e,n)=>n>e?e:n<t?t:n,of={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},tg={...of,transform:t=>Vs(0,1,t)},Ev={...of,default:1},uy=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Eo=uy("deg"),Oa=uy("%"),ue=uy("px"),Wpe=uy("vh"),Ype=uy("vw"),N4={...Oa,parse:t=>Oa.parse(t)/100,transform:t=>Oa.transform(t*100)},Qpe={borderWidth:ue,borderTopWidth:ue,borderRightWidth:ue,borderBottomWidth:ue,borderLeftWidth:ue,borderRadius:ue,radius:ue,borderTopLeftRadius:ue,borderTopRightRadius:ue,borderBottomRightRadius:ue,borderBottomLeftRadius:ue,width:ue,maxWidth:ue,height:ue,maxHeight:ue,top:ue,right:ue,bottom:ue,left:ue,padding:ue,paddingTop:ue,paddingRight:ue,paddingBottom:ue,paddingLeft:ue,margin:ue,marginTop:ue,marginRight:ue,marginBottom:ue,marginLeft:ue,backgroundPositionX:ue,backgroundPositionY:ue},Xpe={rotate:Eo,rotateX:Eo,rotateY:Eo,rotateZ:Eo,scale:Ev,scaleX:Ev,scaleY:Ev,scaleZ:Ev,skew:Eo,skewX:Eo,skewY:Eo,distance:ue,translateX:ue,translateY:ue,translateZ:ue,x:ue,y:ue,z:ue,perspective:ue,transformPerspective:ue,opacity:tg,originX:N4,originY:N4,originZ:ue},I4={...of,transform:Math.round},G2={...Qpe,...Xpe,zIndex:I4,size:ue,fillOpacity:tg,strokeOpacity:tg,numOctaves:I4},Zpe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Jpe=sf.length;function ege(t,e,n){let r="",i=!0;for(let a=0;a<Jpe;a++){const s=sf[a],o=t[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const c=x7(o,G2[s]);if(!l){i=!1;const u=Zpe[s]||s;r+=`${u}(${c}) `}n&&(e[s]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function K2(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let s=!1,o=!1;for(const l in e){const c=e[l];if(Su.has(l)){s=!0;continue}else if(v7(l)){i[l]=c;continue}else{const u=x7(c,G2[l]);l.startsWith("origin")?(o=!0,a[l]=u):r[l]=u}}if(e.transform||(s||n?r.transform=ege(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=a;r.transformOrigin=`${l} ${c} ${u}`}}const tge={offset:"stroke-dashoffset",array:"stroke-dasharray"},nge={offset:"strokeDashoffset",array:"strokeDasharray"};function rge(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?tge:nge;t[a.offset]=ue.transform(-r);const s=ue.transform(e),o=ue.transform(n);t[a.array]=`${s} ${o}`}function P4(t,e,n){return typeof t=="string"?t:ue.transform(e+n*t)}function ige(t,e,n){const r=P4(e,t.x,t.width),i=P4(n,t.y,t.height);return`${r} ${i}`}function W2(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},u,h){if(K2(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m,dimensions:y}=t;f.transform&&(y&&(m.transform=f.transform),delete f.transform),y&&(i!==void 0||a!==void 0||m.transform)&&(m.transformOrigin=ige(y,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&rge(f,s,o,l,!1)}const Y2=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),b7=()=>({...Y2(),attrs:{}}),Q2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function w7(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const _7=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function E7(t,e,n,r){w7(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(_7.has(i)?i:B2(i),e.attrs[i])}const zx={};function age(t){Object.assign(zx,t)}function T7(t,{layout:e,layoutId:n}){return Su.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!zx[t]||t==="opacity")}function X2(t,e,n){var r;const{style:i}=t,a={};for(const s in i)(cr(i[s])||e.style&&cr(e.style[s])||T7(s,t)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[s]=i[s]);return a}function S7(t,e,n){const r=X2(t,e,n);for(const i in t)if(cr(t[i])||cr(e[i])){const a=sf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}function sge(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const C4=["x","y","width","height","cx","cy","r"],oge={useVisualState:g7({scrapeMotionValuesFromProps:S7,createRenderState:b7,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!t.drag;if(!a){for(const o in i)if(Su.has(o)){a=!0;break}}if(!a)return;let s=!e;if(e)for(let o=0;o<C4.length;o++){const l=C4[o];t[l]!==e[l]&&(s=!0)}s&&yt.read(()=>{sge(n,r),yt.render(()=>{W2(r,i,Q2(n.tagName),t.transformTemplate),E7(n,r)})})}})},lge={useVisualState:g7({scrapeMotionValuesFromProps:X2,createRenderState:Y2})};function A7(t,e,n){for(const r in e)!cr(e[r])&&!T7(r,n)&&(t[r]=e[r])}function cge({transformTemplate:t},e){return g.useMemo(()=>{const n=Y2();return K2(n,e,t),Object.assign({},n.vars,n.style)},[e])}function uge(t,e){const n=t.style||{},r={};return A7(r,n,t),Object.assign(r,cge(t,e)),r}function dge(t,e){const n={},r=uge(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function hge(t,e,n,r){const i=g.useMemo(()=>{const a=b7();return W2(a,e,Q2(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};A7(a,t.style,t),i.style={...a,...i.style}}return i}function fge(t=!1){return(n,r,i,{latestValues:a},s)=>{const l=($2(n)?hge:dge)(r,a,s,n),c=Ipe(r,typeof n=="string",t),u=n!==g.Fragment?{...c,...l,ref:i}:{},{children:h}=r,f=g.useMemo(()=>cr(h)?h.get():h,[h]);return g.createElement(n,{...u,children:f})}}function mge(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...$2(r)?oge:lge,preloadedFeatures:t,useRender:fge(i),createVisualElement:e,Component:r};return Lpe(s)}}function N7(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function s_(t,e,n){const r=t.getProps();return q2(r,e,n!==void 0?n:r.custom,t)}const pge=V2(()=>window.ScrollTimeline!==void 0);class gge{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(pge()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class yge extends gge{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Z2(t,e){return t?t[e]||t.default||t:void 0}const mA=2e4;function I7(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<mA;)e+=n,r=t.next(e);return e>=mA?1/0:e}function J2(t){return typeof t=="function"}function j4(t,e){t.timeline=e,t.onfinish=null}const eC=t=>Array.isArray(t)&&typeof t[0]=="number",vge={linearEasing:void 0};function xge(t,e){const n=V2(t);return()=>{var r;return(r=vge[e])!==null&&r!==void 0?r:n()}}const Bx=xge(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),P7=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=t(_h(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function C7(t){return!!(typeof t=="function"&&Bx()||!t||typeof t=="string"&&(t in pA||Bx())||eC(t)||Array.isArray(t)&&t.every(C7))}const Am=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,pA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Am([0,.65,.55,1]),circOut:Am([.55,0,1,.45]),backIn:Am([.31,.01,.66,-.59]),backOut:Am([.33,1.53,.69,.99])};function j7(t,e){if(t)return typeof t=="function"&&Bx()?P7(t,e):eC(t)?Am(t):Array.isArray(t)?t.map(n=>j7(n,e)||pA.easeOut):pA[t]}const Qi={x:!1,y:!1};function R7(){return Qi.x||Qi.y}function bge(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function O7(t,e){const n=bge(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function R4(t){return e=>{e.pointerType==="touch"||R7()||t(e)}}function wge(t,e,n={}){const[r,i,a]=O7(t,n),s=R4(o=>{const{target:l}=o,c=e(o);if(typeof c!="function"||!l)return;const u=R4(h=>{c(h),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,i)});return r.forEach(o=>{o.addEventListener("pointerenter",s,i)}),a}const k7=(t,e)=>e?t===e?!0:k7(t,e.parentElement):!1,tC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,_ge=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Ege(t){return _ge.has(t.tagName)||t.tabIndex!==-1}const Nm=new WeakSet;function O4(t){return e=>{e.key==="Enter"&&t(e)}}function zE(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Tge=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=O4(()=>{if(Nm.has(n))return;zE(n,"down");const i=O4(()=>{zE(n,"up")}),a=()=>zE(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function k4(t){return tC(t)&&!R7()}function Sge(t,e,n={}){const[r,i,a]=O7(t,n),s=o=>{const l=o.currentTarget;if(!k4(o)||Nm.has(l))return;Nm.add(l);const c=e(o),u=(m,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!k4(m)||!Nm.has(l))&&(Nm.delete(l),typeof c=="function"&&c(m,{success:y}))},h=m=>{u(m,n.useGlobalTarget||k7(l,m.target))},f=m=>{u(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return r.forEach(o=>{!Ege(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",s,i),o.addEventListener("focus",c=>Tge(c,i),i)}),a}function Age(t){return t==="x"||t==="y"?Qi[t]?null:(Qi[t]=!0,()=>{Qi[t]=!1}):Qi.x||Qi.y?null:(Qi.x=Qi.y=!0,()=>{Qi.x=Qi.y=!1})}const D7=new Set(["width","height","top","left","right","bottom",...sf]);let T0;function Nge(){T0=void 0}const ka={now:()=>(T0===void 0&&ka.set($n.isProcessing||_pe.useManualTiming?$n.timestamp:performance.now()),T0),set:t=>{T0=t,queueMicrotask(Nge)}};function nC(t,e){t.indexOf(e)===-1&&t.push(e)}function rC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class iC{constructor(){this.subscriptions=[]}add(e){return nC(this.subscriptions,e),()=>rC(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function M7(t,e){return e?t*(1e3/e):0}const D4=30,Ige=t=>!isNaN(parseFloat(t));class Pge{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=ka.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ka.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Ige(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new iC);const r=this.events[e].add(n);return e==="change"?()=>{r(),yt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ka.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>D4)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,D4);return M7(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ng(t,e){return new Pge(t,e)}function Cge(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ng(n))}function jge(t,e){const n=s_(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const s in a){const o=$pe(a[s]);Cge(t,s,o)}}function Rge(t){return!!(cr(t)&&t.add)}function gA(t,e){const n=t.getValue("willChange");if(Rge(n))return n.add(e)}function L7(t){return t.props[f7]}const V7=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Oge=1e-7,kge=12;function Dge(t,e,n,r,i){let a,s,o=0;do s=e+(n-e)/2,a=V7(s,r,i)-t,a>0?n=s:e=s;while(Math.abs(a)>Oge&&++o<kge);return s}function dy(t,e,n,r){if(t===e&&n===r)return di;const i=a=>Dge(a,0,1,t,n);return a=>a===0||a===1?a:V7(i(a),e,r)}const U7=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,z7=t=>e=>1-t(1-e),B7=dy(.33,1.53,.69,.99),aC=z7(B7),F7=U7(aC),$7=t=>(t*=2)<1?.5*aC(t):.5*(2-Math.pow(2,-10*(t-1))),sC=t=>1-Math.sin(Math.acos(t)),q7=z7(sC),H7=U7(sC),G7=t=>/^0[^.\s]+$/u.test(t);function Mge(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||G7(t):!0}const lp=t=>Math.round(t*1e5)/1e5,oC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Lge(t){return t==null}const Vge=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lC=(t,e)=>n=>!!(typeof n=="string"&&Vge.test(n)&&n.startsWith(t)||e&&!Lge(n)&&Object.prototype.hasOwnProperty.call(n,e)),K7=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,s,o]=r.match(oC);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},Uge=t=>Vs(0,255,t),BE={...of,transform:t=>Math.round(Uge(t))},xc={test:lC("rgb","red"),parse:K7("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+BE.transform(t)+", "+BE.transform(e)+", "+BE.transform(n)+", "+lp(tg.transform(r))+")"};function zge(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const yA={test:lC("#"),parse:zge,transform:xc.transform},yd={test:lC("hsl","hue"),parse:K7("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Oa.transform(lp(e))+", "+Oa.transform(lp(n))+", "+lp(tg.transform(r))+")"},rr={test:t=>xc.test(t)||yA.test(t)||yd.test(t),parse:t=>xc.test(t)?xc.parse(t):yd.test(t)?yd.parse(t):yA.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?xc.transform(t):yd.transform(t)},Bge=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Fge(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(oC))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Bge))===null||n===void 0?void 0:n.length)||0)>0}const W7="number",Y7="color",$ge="var",qge="var(",M4="${}",Hge=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function rg(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const o=e.replace(Hge,l=>(rr.test(l)?(r.color.push(a),i.push(Y7),n.push(rr.parse(l))):l.startsWith(qge)?(r.var.push(a),i.push($ge),n.push(l)):(r.number.push(a),i.push(W7),n.push(parseFloat(l))),++a,M4)).split(M4);return{values:n,split:o,indexes:r,types:i}}function Q7(t){return rg(t).values}function X7(t){const{split:e,types:n}=rg(t),r=e.length;return i=>{let a="";for(let s=0;s<r;s++)if(a+=e[s],i[s]!==void 0){const o=n[s];o===W7?a+=lp(i[s]):o===Y7?a+=rr.transform(i[s]):a+=i[s]}return a}}const Gge=t=>typeof t=="number"?0:t;function Kge(t){const e=Q7(t);return X7(t)(e.map(Gge))}const bl={test:Fge,parse:Q7,createTransformer:X7,getAnimatableNone:Kge},Wge=new Set(["brightness","contrast","saturate","opacity"]);function Yge(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(oC)||[];if(!r)return t;const i=n.replace(r,"");let a=Wge.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const Qge=/\b([a-z-]*)\(.*?\)/gu,vA={...bl,getAnimatableNone:t=>{const e=t.match(Qge);return e?e.map(Yge).join(" "):t}},Xge={...G2,color:rr,backgroundColor:rr,outlineColor:rr,fill:rr,stroke:rr,borderColor:rr,borderTopColor:rr,borderRightColor:rr,borderBottomColor:rr,borderLeftColor:rr,filter:vA,WebkitFilter:vA},cC=t=>Xge[t];function Z7(t,e){let n=cC(t);return n!==vA&&(n=bl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Zge=new Set(["auto","none","0"]);function Jge(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!Zge.has(a)&&rg(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=Z7(n,i)}const L4=t=>t===of||t===ue,V4=(t,e)=>parseFloat(t.split(", ")[e]),U4=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return V4(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?V4(a[1],t):0}},eye=new Set(["x","y","z"]),tye=sf.filter(t=>!eye.has(t));function nye(t){const e=[];return tye.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Th={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:U4(4,13),y:U4(5,14)};Th.translateX=Th.x;Th.translateY=Th.y;const Rc=new Set;let xA=!1,bA=!1;function J7(){if(bA){const t=Array.from(Rc).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=nye(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,s])=>{var o;(o=r.getValue(a))===null||o===void 0||o.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}bA=!1,xA=!1,Rc.forEach(t=>t.complete()),Rc.clear()}function eq(){Rc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(bA=!0)})}function rye(){eq(),J7()}class uC{constructor(e,n,r,i,a,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Rc.add(this),xA||(xA=!0,yt.read(eq),yt.resolveKeyframes(J7))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Rc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Rc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const tq=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),iye=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function aye(t){const e=iye.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function nq(t,e,n=1){const[r,i]=aye(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const s=a.trim();return tq(s)?parseFloat(s):s}return H2(i)?nq(i,e,n+1):i}const rq=t=>e=>e.test(t),sye={test:t=>t==="auto",parse:t=>t},iq=[of,ue,Oa,Eo,Ype,Wpe,sye],z4=t=>iq.find(rq(t));class aq extends uC{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),H2(c))){const u=nq(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!D7.has(r)||e.length!==2)return;const[i,a]=e,s=z4(i),o=z4(a);if(s!==o)if(L4(s)&&L4(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Mge(e[i])&&r.push(i);r.length&&Jge(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Th[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=Th[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const B4=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(bl.test(t)||t==="0")&&!t.startsWith("url("));function oye(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function lye(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],s=B4(i,e),o=B4(a,e);return!s||!o?!1:oye(t)||(n==="spring"||J2(n))&&r}const cye=t=>t!==null;function o_(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(cye),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const uye=40;class sq{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ka.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:s,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>uye?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&rye(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ka.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:s,onComplete:o,onUpdate:l,isGenerator:c}=this.options;if(!c&&!lye(e,r,i,a))if(s)this.options.duration=0;else{l&&l(o_(e,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ct=(t,e,n)=>t+(e-t)*n;function FE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function dye({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,s=0;if(!e)i=a=s=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=FE(l,o,t+1/3),a=FE(l,o,t),s=FE(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}function Fx(t,e){return n=>n>0?e:t}const $E=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},hye=[yA,xc,yd],fye=t=>hye.find(e=>e.test(t));function F4(t){const e=fye(t);if(!e)return!1;let n=e.parse(t);return e===yd&&(n=dye(n)),n}const $4=(t,e)=>{const n=F4(t),r=F4(e);if(!n||!r)return Fx(t,e);const i={...n};return a=>(i.red=$E(n.red,r.red,a),i.green=$E(n.green,r.green,a),i.blue=$E(n.blue,r.blue,a),i.alpha=Ct(n.alpha,r.alpha,a),xc.transform(i))},mye=(t,e)=>n=>e(t(n)),hy=(...t)=>t.reduce(mye),wA=new Set(["none","hidden"]);function pye(t,e){return wA.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function gye(t,e){return n=>Ct(t,e,n)}function dC(t){return typeof t=="number"?gye:typeof t=="string"?H2(t)?Fx:rr.test(t)?$4:xye:Array.isArray(t)?oq:typeof t=="object"?rr.test(t)?$4:yye:Fx}function oq(t,e){const n=[...t],r=n.length,i=t.map((a,s)=>dC(a)(a,e[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}}function yye(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=dC(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function vye(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const s=e.types[a],o=t.indexes[s][i[s]],l=(n=t.values[o])!==null&&n!==void 0?n:0;r[a]=l,i[s]++}return r}const xye=(t,e)=>{const n=bl.createTransformer(e),r=rg(t),i=rg(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?wA.has(t)&&!i.values.length||wA.has(e)&&!r.values.length?pye(t,e):hy(oq(vye(r,i),i.values),n):Fx(t,e)};function lq(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ct(t,e,n):dC(t)(t,e)}const bye=5;function cq(t,e,n){const r=Math.max(e-bye,0);return M7(n-t(r),e-r)}const Vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qE=.001;function wye({duration:t=Vt.duration,bounce:e=Vt.bounce,velocity:n=Vt.velocity,mass:r=Vt.mass}){let i,a,s=1-e;s=Vs(Vt.minDamping,Vt.maxDamping,s),t=Vs(Vt.minDuration,Vt.maxDuration,_s(t)),s<1?(i=c=>{const u=c*s,h=u*t,f=u-n,m=_A(c,s),y=Math.exp(-h);return qE-f/m*y},a=c=>{const h=c*s*t,f=h*n+n,m=Math.pow(s,2)*Math.pow(c,2)*t,y=Math.exp(-h),v=_A(Math.pow(c,2),s);return(-i(c)+qE>0?-1:1)*((f-m)*y)/v}):(i=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-qE+u*h},a=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const o=5/t,l=Eye(i,a,o);if(t=ws(t),isNaN(l))return{stiffness:Vt.stiffness,damping:Vt.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const _ye=12;function Eye(t,e,n){let r=n;for(let i=1;i<_ye;i++)r=r-t(r)/e(r);return r}function _A(t,e){return t*Math.sqrt(1-e*e)}const Tye=["duration","bounce"],Sye=["stiffness","damping","mass"];function q4(t,e){return e.some(n=>t[n]!==void 0)}function Aye(t){let e={velocity:Vt.velocity,stiffness:Vt.stiffness,damping:Vt.damping,mass:Vt.mass,isResolvedFromDuration:!1,...t};if(!q4(t,Sye)&&q4(t,Tye))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Vs(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Vt.mass,stiffness:i,damping:a}}else{const n=wye(t);e={...e,...n,mass:Vt.mass},e.isResolvedFromDuration=!0}return e}function uq(t=Vt.visualDuration,e=Vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:u,duration:h,velocity:f,isResolvedFromDuration:m}=Aye({...n,velocity:-_s(n.velocity||0)}),y=f||0,v=c/(2*Math.sqrt(l*u)),x=s-a,b=_s(Math.sqrt(l/u)),w=Math.abs(x)<5;r||(r=w?Vt.restSpeed.granular:Vt.restSpeed.default),i||(i=w?Vt.restDelta.granular:Vt.restDelta.default);let _;if(v<1){const I=_A(b,v);_=j=>{const A=Math.exp(-v*b*j);return s-A*((y+v*b*x)/I*Math.sin(I*j)+x*Math.cos(I*j))}}else if(v===1)_=I=>s-Math.exp(-b*I)*(x+(y+b*x)*I);else{const I=b*Math.sqrt(v*v-1);_=j=>{const A=Math.exp(-v*b*j),S=Math.min(I*j,300);return s-A*((y+v*b*x)*Math.sinh(S)+I*x*Math.cosh(S))/I}}const T={calculatedDuration:m&&h||null,next:I=>{const j=_(I);if(m)o.done=I>=h;else{let A=0;v<1&&(A=I===0?ws(y):cq(_,I,j));const S=Math.abs(A)<=r,P=Math.abs(s-j)<=i;o.done=S&&P}return o.value=o.done?s:j,o},toString:()=>{const I=Math.min(I7(T),mA),j=P7(A=>T.next(I*A).value,I,30);return I+"ms "+j}};return T}function H4({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},m=S=>o!==void 0&&S<o||l!==void 0&&S>l,y=S=>o===void 0?l:l===void 0||Math.abs(o-S)<Math.abs(l-S)?o:l;let v=n*e;const x=h+v,b=s===void 0?x:s(x);b!==x&&(v=b-h);const w=S=>-v*Math.exp(-S/r),_=S=>b+w(S),T=S=>{const P=w(S),C=_(S);f.done=Math.abs(P)<=c,f.value=f.done?b:C};let I,j;const A=S=>{m(f.value)&&(I=S,j=uq({keyframes:[f.value,y(f.value)],velocity:cq(_,S,f.value),damping:i,stiffness:a,restDelta:c,restSpeed:u}))};return A(0),{calculatedDuration:null,next:S=>{let P=!1;return!j&&I===void 0&&(P=!0,T(S),A(S)),I!==void 0&&S>=I?j.next(S-I):(!P&&T(S),f)}}}const Nye=dy(.42,0,1,1),Iye=dy(0,0,.58,1),dq=dy(.42,0,.58,1),Pye=t=>Array.isArray(t)&&typeof t[0]!="number",Cye={linear:di,easeIn:Nye,easeInOut:dq,easeOut:Iye,circIn:sC,circInOut:H7,circOut:q7,backIn:aC,backInOut:F7,backOut:B7,anticipate:$7},G4=t=>{if(eC(t)){l7(t.length===4);const[e,n,r,i]=t;return dy(e,n,r,i)}else if(typeof t=="string")return Cye[t];return t};function jye(t,e,n){const r=[],i=n||lq,a=t.length-1;for(let s=0;s<a;s++){let o=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||di:e;o=hy(l,o)}r.push(o)}return r}function Rye(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(l7(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=jye(e,r,i),l=o.length,c=u=>{if(s&&u<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=_h(t[h],t[h+1],u);return o[h](f)};return n?u=>c(Vs(t[0],t[a-1],u)):c}function Oye(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=_h(0,e,r);t.push(Ct(n,1,i))}}function kye(t){const e=[0];return Oye(e,t.length-1),e}function Dye(t,e){return t.map(n=>n*e)}function Mye(t,e){return t.map(()=>e||dq).splice(0,t.length-1)}function $x({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Pye(r)?r.map(G4):G4(r),a={done:!1,value:e[0]},s=Dye(n&&n.length===e.length?n:kye(e),t),o=Rye(s,e,{ease:Array.isArray(i)?i:Mye(e,i)});return{calculatedDuration:t,next:l=>(a.value=o(l),a.done=l>=t,a)}}const Lye=t=>{const e=({timestamp:n})=>t(n);return{start:()=>yt.update(e,!0),stop:()=>xl(e),now:()=>$n.isProcessing?$n.timestamp:ka.now()}},Vye={decay:H4,inertia:H4,tween:$x,keyframes:$x,spring:uq},Uye=t=>t/100;class hC extends sq{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,s=(i==null?void 0:i.KeyframeResolver)||uC,o=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new s(a,o,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=this.options,o=J2(n)?n:Vye[n]||$x;let l,c;o!==$x&&typeof e[0]!="number"&&(l=hy(Uye,lq(e[0],e[1])),e=[0,100]);const u=o({...this.options,keyframes:e});a==="mirror"&&(c=o({...this.options,keyframes:[...e].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=I7(u));const{calculatedDuration:h}=u,f=h+i,m=f*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:s,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return a.next(0);const{delay:f,repeat:m,repeatType:y,repeatDelay:v,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const b=this.currentTime-f*(this.speed>=0?1:-1),w=this.speed>=0?b<0:b>u;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let _=this.currentTime,T=a;if(m){const S=Math.min(this.currentTime,u)/h;let P=Math.floor(S),C=S%1;!C&&S>=1&&(C=1),C===1&&P--,P=Math.min(P,m+1),!!(P%2)&&(y==="reverse"?(C=1-C,v&&(C-=v/h)):y==="mirror"&&(T=s)),_=Vs(0,1,C)*h}const I=w?{done:!1,value:l[0]}:T.next(_);o&&(I.value=o(I.value));let{done:j}=I;!w&&c!==null&&(j=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return A&&i!==void 0&&(I.value=o_(l,this.options,i)),x&&x(I.value),A&&this.finish(),I}get duration(){const{resolved:e}=this;return e?_s(e.calculatedDuration):0}get time(){return _s(this.currentTime)}set time(e){e=ws(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=_s(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Lye,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const zye=new Set(["opacity","clipPath","filter","transform"]);function Bye(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=j7(o,i);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}const Fye=V2(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),qx=10,$ye=2e4;function qye(t){return J2(t.type)||t.type==="spring"||!C7(t.ease)}function Hye(t,e){const n=new hC({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<$ye;)r=n.sample(a),i.push(r.value),a+=qx;return{times:void 0,keyframes:i,duration:a-qx,ease:"linear"}}const hq={anticipate:$7,backInOut:F7,circInOut:H7};function Gye(t){return t in hq}class K4 extends sq{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new aq(a,(s,o)=>this.onKeyframesResolved(s,o),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:a,type:s,motionValue:o,name:l,startTime:c}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof a=="string"&&Bx()&&Gye(a)&&(a=hq[a]),qye(this.options)){const{onComplete:h,onUpdate:f,motionValue:m,element:y,...v}=this.options,x=Hye(e,v);e=x.keyframes,e.length===1&&(e[1]=e[0]),r=x.duration,i=x.times,a=x.ease,s="keyframes"}const u=Bye(o.owner.current,l,e,{...this.options,duration:r,times:i,ease:a});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(j4(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;o.set(o_(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:s,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return _s(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return _s(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ws(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return di;const{animation:r}=n;j4(r,e)}return di}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:a,ease:s,times:o}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:h,element:f,...m}=this.options,y=new hC({...m,keyframes:r,duration:i,type:a,ease:s,times:o,isGenerator:!0}),v=ws(this.time);c.setWithVelocity(y.sample(v-qx).value,y.sample(v).value,qx)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:s,type:o}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Fye()&&r&&zye.has(r)&&!l&&!c&&!i&&a!=="mirror"&&s!==0&&o!=="inertia"}}const Kye={type:"spring",stiffness:500,damping:25,restSpeed:10},Wye=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Yye={type:"keyframes",duration:.8},Qye={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Xye=(t,{keyframes:e})=>e.length>2?Yye:Su.has(t)?t.startsWith("scale")?Wye(e[1]):Kye:Qye;function Zye({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const fC=(t,e,n,r={},i,a)=>s=>{const o=Z2(r,t)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-ws(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:f=>{e.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:a?void 0:i};Zye(o)||(u={...u,...Xye(t,u)}),u.duration&&(u.duration=ws(u.duration)),u.repeatDelay&&(u.repeatDelay=ws(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!a&&e.get()!==void 0){const f=o_(u.keyframes,o);if(f!==void 0)return yt.update(()=>{u.onUpdate(f),u.onComplete()}),new yge([])}return!a&&K4.supports(u)?new K4(u):new hC(u)};function Jye({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function fq(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(s=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const f=t.getValue(h,(a=t.latestValues[h])!==null&&a!==void 0?a:null),m=l[h];if(m===void 0||u&&Jye(u,h))continue;const y={delay:n,...Z2(s||{},h)};let v=!1;if(window.MotionHandoffAnimation){const b=L7(t);if(b){const w=window.MotionHandoffAnimation(b,h,yt);w!==null&&(y.startTime=w,v=!0)}}gA(t,h),f.start(fC(h,f,m,t.shouldReduceMotion&&D7.has(h)?{type:!1}:y,t,v));const x=f.animation;x&&c.push(x)}return o&&Promise.all(c).then(()=>{yt.update(()=>{o&&jge(t,o)})}),c}function EA(t,e,n={}){var r;const i=s_(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const s=i?()=>Promise.all(fq(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=a;return eve(t,e,u+c,h,f,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,u]=l==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function eve(t,e,n=0,r=0,i=1,a){const s=[],o=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>o-c*r;return Array.from(t.variantChildren).sort(tve).forEach((c,u)=>{c.notify("AnimationStart",e),s.push(EA(c,e,{...a,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function tve(t,e){return t.sortNodePosition(e)}function nve(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>EA(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=EA(t,e,n);else{const i=typeof e=="function"?s_(t,e,n.custom):e;r=Promise.all(fq(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const rve=z2.length;function mq(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?mq(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<rve;n++){const r=z2[n],i=t.props[r];(eg(i)||i===!1)&&(e[r]=i)}return e}const ive=[...U2].reverse(),ave=U2.length;function sve(t){return e=>Promise.all(e.map(({animation:n,options:r})=>nve(t,n,r)))}function ove(t){let e=sve(t),n=W4(),r=!0;const i=l=>(c,u)=>{var h;const f=s_(t,u,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:y,...v}=f;c={...c,...v,...y}}return c};function a(l){e=l(t)}function s(l){const{props:c}=t,u=mq(t.parent)||{},h=[],f=new Set;let m={},y=1/0;for(let x=0;x<ave;x++){const b=ive[x],w=n[b],_=c[b]!==void 0?c[b]:u[b],T=eg(_),I=b===l?w.isActive:null;I===!1&&(y=x);let j=_===u[b]&&_!==c[b]&&T;if(j&&r&&t.manuallyAnimateOnMount&&(j=!1),w.protectedKeys={...m},!w.isActive&&I===null||!_&&!w.prevProp||i_(_)||typeof _=="boolean")continue;const A=lve(w.prevProp,_);let S=A||b===l&&w.isActive&&!j&&T||x>y&&T,P=!1;const C=Array.isArray(_)?_:[_];let R=C.reduce(i(b),{});I===!1&&(R={});const{prevResolvedValues:k={}}=w,O={...k,...R},B=H=>{S=!0,f.has(H)&&(P=!0,f.delete(H)),w.needsAnimating[H]=!0;const Q=t.getValue(H);Q&&(Q.liveStyle=!1)};for(const H in O){const Q=R[H],ne=k[H];if(m.hasOwnProperty(H))continue;let pe=!1;fA(Q)&&fA(ne)?pe=!N7(Q,ne):pe=Q!==ne,pe?Q!=null?B(H):f.add(H):Q!==void 0&&f.has(H)?B(H):w.protectedKeys[H]=!0}w.prevProp=_,w.prevResolvedValues=R,w.isActive&&(m={...m,...R}),r&&t.blockInitialAnimation&&(S=!1),S&&(!(j&&A)||P)&&h.push(...C.map(H=>({animation:H,options:{type:b}})))}if(f.size){const x={};f.forEach(b=>{const w=t.getBaseTarget(b),_=t.getValue(b);_&&(_.liveStyle=!0),x[b]=w??null}),h.push({animation:x})}let v=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(h):Promise.resolve()}function o(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const h=s(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n,reset:()=>{n=W4(),r=!0}}}function lve(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!N7(e,t):!1}function Ql(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function W4(){return{animate:Ql(!0),whileInView:Ql(),whileHover:Ql(),whileTap:Ql(),whileDrag:Ql(),whileFocus:Ql(),exit:Ql()}}class Ml{constructor(e){this.isMounted=!1,this.node=e}update(){}}class cve extends Ml{constructor(e){super(e),e.animationState||(e.animationState=ove(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();i_(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let uve=0;class dve extends Ml{constructor(){super(...arguments),this.id=uve++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const hve={animation:{Feature:cve},exit:{Feature:dve}};function ig(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function fy(t){return{point:{x:t.pageX,y:t.pageY}}}const fve=t=>e=>tC(e)&&t(e,fy(e));function cp(t,e,n,r){return ig(t,e,fve(n),r)}const Y4=(t,e)=>Math.abs(t-e);function mve(t,e){const n=Y4(t.x,e.x),r=Y4(t.y,e.y);return Math.sqrt(n**2+r**2)}class pq{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=GE(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=mve(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:y}=h,{timestamp:v}=$n;this.history.push({...y,timestamp:v});const{onStart:x,onMove:b}=this.handlers;f||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=HE(f,this.transformPagePoint),yt.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=GE(h.type==="pointercancel"?this.lastMoveEventInfo:HE(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,x),y&&y(h,x)},!tC(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=fy(e),o=HE(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=$n;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,GE(o,this.history)),this.removeListeners=hy(cp(this.contextWindow,"pointermove",this.handlePointerMove),cp(this.contextWindow,"pointerup",this.handlePointerUp),cp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),xl(this.updatePoint)}}function HE(t,e){return e?{point:e(t.point)}:t}function Q4(t,e){return{x:t.x-e.x,y:t.y-e.y}}function GE({point:t},e){return{point:t,delta:Q4(t,gq(e)),offset:Q4(t,pve(e)),velocity:gve(e,.1)}}function pve(t){return t[0]}function gq(t){return t[t.length-1]}function gve(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=gq(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ws(e)));)n--;if(!r)return{x:0,y:0};const a=_s(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}const yq=1e-4,yve=1-yq,vve=1+yq,vq=.01,xve=0-vq,bve=0+vq;function yi(t){return t.max-t.min}function wve(t,e,n){return Math.abs(t-e)<=n}function X4(t,e,n,r=.5){t.origin=r,t.originPoint=Ct(e.min,e.max,t.origin),t.scale=yi(n)/yi(e),t.translate=Ct(n.min,n.max,t.origin)-t.originPoint,(t.scale>=yve&&t.scale<=vve||isNaN(t.scale))&&(t.scale=1),(t.translate>=xve&&t.translate<=bve||isNaN(t.translate))&&(t.translate=0)}function up(t,e,n,r){X4(t.x,e.x,n.x,r?r.originX:void 0),X4(t.y,e.y,n.y,r?r.originY:void 0)}function Z4(t,e,n){t.min=n.min+e.min,t.max=t.min+yi(e)}function _ve(t,e,n){Z4(t.x,e.x,n.x),Z4(t.y,e.y,n.y)}function J4(t,e,n){t.min=e.min-n.min,t.max=t.min+yi(e)}function dp(t,e,n){J4(t.x,e.x,n.x),J4(t.y,e.y,n.y)}function Eve(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ct(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ct(n,t,r.max):Math.min(t,n)),t}function e6(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Tve(t,{top:e,left:n,bottom:r,right:i}){return{x:e6(t.x,n,i),y:e6(t.y,e,r)}}function t6(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Sve(t,e){return{x:t6(t.x,e.x),y:t6(t.y,e.y)}}function Ave(t,e){let n=.5;const r=yi(t),i=yi(e);return i>r?n=_h(e.min,e.max-r,t.min):r>i&&(n=_h(t.min,t.max-i,e.min)),Vs(0,1,n)}function Nve(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const TA=.35;function Ive(t=TA){return t===!1?t=0:t===!0&&(t=TA),{x:n6(t,"left","right"),y:n6(t,"top","bottom")}}function n6(t,e,n){return{min:r6(t,e),max:r6(t,n)}}function r6(t,e){return typeof t=="number"?t:t[e]||0}const i6=()=>({translate:0,scale:1,origin:0,originPoint:0}),vd=()=>({x:i6(),y:i6()}),a6=()=>({min:0,max:0}),Gt=()=>({x:a6(),y:a6()});function Ti(t){return[t("x"),t("y")]}function xq({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Pve({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Cve(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function KE(t){return t===void 0||t===1}function SA({scale:t,scaleX:e,scaleY:n}){return!KE(t)||!KE(e)||!KE(n)}function ic(t){return SA(t)||bq(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function bq(t){return s6(t.x)||s6(t.y)}function s6(t){return t&&t!=="0%"}function Hx(t,e,n){const r=t-n,i=e*r;return n+i}function o6(t,e,n,r,i){return i!==void 0&&(t=Hx(t,i,r)),Hx(t,n,r)+e}function AA(t,e=0,n=1,r,i){t.min=o6(t.min,e,n,r,i),t.max=o6(t.max,e,n,r,i)}function wq(t,{x:e,y:n}){AA(t.x,e.translate,e.scale,e.originPoint),AA(t.y,n.translate,n.scale,n.originPoint)}const l6=.999999999999,c6=1.0000000000001;function jve(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&bd(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,wq(t,s)),r&&ic(a.latestValues)&&bd(t,a.latestValues))}e.x<c6&&e.x>l6&&(e.x=1),e.y<c6&&e.y>l6&&(e.y=1)}function xd(t,e){t.min=t.min+e,t.max=t.max+e}function u6(t,e,n,r,i=.5){const a=Ct(t.min,t.max,i);AA(t,e,n,a,r)}function bd(t,e){u6(t.x,e.x,e.scaleX,e.scale,e.originX),u6(t.y,e.y,e.scaleY,e.scale,e.originY)}function _q(t,e){return xq(Cve(t.getBoundingClientRect(),e))}function Rve(t,e,n){const r=_q(t,n),{scroll:i}=e;return i&&(xd(r.x,i.offset.x),xd(r.y,i.offset.y)),r}const Eq=({current:t})=>t?t.ownerDocument.defaultView:null,Ove=new WeakMap;class kve{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(fy(u).point)},a=(u,h)=>{const{drag:f,dragPropagation:m,onDragStart:y}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Age(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ti(x=>{let b=this.getAxisMotionValue(x).get()||0;if(Oa.test(b)){const{projection:w}=this.visualElement;if(w&&w.layout){const _=w.layout.layoutBox[x];_&&(b=yi(_)*(parseFloat(b)/100))}}this.originPoint[x]=b}),y&&yt.postRender(()=>y(u,h)),gA(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},s=(u,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:y,onDrag:v}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:x}=h;if(m&&this.currentDirection===null){this.currentDirection=Dve(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),v&&v(u,h)},o=(u,h)=>this.stop(u,h),l=()=>Ti(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new pq(e,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Eq(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&yt.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Tv(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=Eve(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&gd(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Tve(i.layoutBox,n):this.constraints=!1,this.elastic=Ive(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ti(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Nve(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!gd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Rve(r,i.root,this.visualElement.getTransformPagePoint());let s=Sve(i.layout.layoutBox,a);if(n){const o=n(Pve(s));this.hasMutatedConstraints=!!o,o&&(s=xq(o))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Ti(u=>{if(!Tv(u,n,this.currentDirection))return;let h=l&&l[u]||{};s&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(u,y)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return gA(this.visualElement,e),r.start(fC(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ti(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ti(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ti(n=>{const{drag:r}=this.getProps();if(!Tv(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(e[n]-Ct(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!gd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ti(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();i[s]=Ave({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ti(s=>{if(!Tv(s,e,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(Ct(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;Ove.set(this.visualElement,this);const e=this.visualElement.current,n=cp(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();gd(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),yt.read(r);const s=ig(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ti(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=TA,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function Tv(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Dve(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Mve extends Ml{constructor(e){super(e),this.removeGroupControls=di,this.removeListeners=di,this.controls=new kve(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||di}unmount(){this.removeGroupControls(),this.removeListeners()}}const d6=t=>(e,n)=>{t&&yt.postRender(()=>t(e,n))};class Lve extends Ml{constructor(){super(...arguments),this.removePointerDownListener=di}onPointerDown(e){this.session=new pq(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Eq(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:d6(e),onStart:d6(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&yt.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=cp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const S0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function h6(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const tm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ue.test(t))t=parseFloat(t);else return t;const n=h6(t,e.target.x),r=h6(t,e.target.y);return`${n}% ${r}%`}},Vve={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=bl.parse(t);if(i.length>5)return r;const a=bl.createTransformer(t),s=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=o,i[1+s]/=l;const c=Ct(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),a(i)}};class Uve extends g.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;age(zve),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),S0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||yt.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),F2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Tq(t){const[e,n]=s7(),r=g.useContext(k2);return d.jsx(Uve,{...t,layoutGroup:r,switchLayoutGroup:g.useContext(m7),isPresent:e,safeToRemove:n})}const zve={borderRadius:{...tm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tm,borderTopRightRadius:tm,borderBottomLeftRadius:tm,borderBottomRightRadius:tm,boxShadow:Vve};function Bve(t,e,n){const r=cr(t)?t:ng(t);return r.start(fC("",r,e,n)),r.animation}function Fve(t){return t instanceof SVGElement&&t.tagName!=="svg"}const $ve=(t,e)=>t.depth-e.depth;class qve{constructor(){this.children=[],this.isDirty=!1}add(e){nC(this.children,e),this.isDirty=!0}remove(e){rC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort($ve),this.isDirty=!1,this.children.forEach(e)}}function Hve(t,e){const n=ka.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(xl(r),t(a-e))};return yt.read(r,!0),()=>xl(r)}const Sq=["TopLeft","TopRight","BottomLeft","BottomRight"],Gve=Sq.length,f6=t=>typeof t=="string"?parseFloat(t):t,m6=t=>typeof t=="number"||ue.test(t);function Kve(t,e,n,r,i,a){i?(t.opacity=Ct(0,n.opacity!==void 0?n.opacity:1,Wve(r)),t.opacityExit=Ct(e.opacity!==void 0?e.opacity:1,0,Yve(r))):a&&(t.opacity=Ct(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Gve;s++){const o=`border${Sq[s]}Radius`;let l=p6(e,o),c=p6(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||m6(l)===m6(c)?(t[o]=Math.max(Ct(f6(l),f6(c),r),0),(Oa.test(c)||Oa.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=Ct(e.rotate||0,n.rotate||0,r))}function p6(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Wve=Aq(0,.5,q7),Yve=Aq(.5,.95,di);function Aq(t,e,n){return r=>r<t?0:r>e?1:n(_h(t,e,r))}function g6(t,e){t.min=e.min,t.max=e.max}function xi(t,e){g6(t.x,e.x),g6(t.y,e.y)}function y6(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function v6(t,e,n,r,i){return t-=e,t=Hx(t,1/n,r),i!==void 0&&(t=Hx(t,1/i,r)),t}function Qve(t,e=0,n=1,r=.5,i,a=t,s=t){if(Oa.test(e)&&(e=parseFloat(e),e=Ct(s.min,s.max,e/100)-s.min),typeof e!="number")return;let o=Ct(a.min,a.max,r);t===a&&(o-=e),t.min=v6(t.min,e,n,o,i),t.max=v6(t.max,e,n,o,i)}function x6(t,e,[n,r,i],a,s){Qve(t,e[n],e[r],e[i],e.scale,a,s)}const Xve=["x","scaleX","originX"],Zve=["y","scaleY","originY"];function b6(t,e,n,r){x6(t.x,e,Xve,n?n.x:void 0,r?r.x:void 0),x6(t.y,e,Zve,n?n.y:void 0,r?r.y:void 0)}function w6(t){return t.translate===0&&t.scale===1}function Nq(t){return w6(t.x)&&w6(t.y)}function _6(t,e){return t.min===e.min&&t.max===e.max}function Jve(t,e){return _6(t.x,e.x)&&_6(t.y,e.y)}function E6(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Iq(t,e){return E6(t.x,e.x)&&E6(t.y,e.y)}function T6(t){return yi(t.x)/yi(t.y)}function S6(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class e0e{constructor(){this.members=[]}add(e){nC(this.members,e),e.scheduleRender()}remove(e){if(rC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function t0e(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,s=(n==null?void 0:n.z)||0;if((i||a||s)&&(r=`translate3d(${i}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:f,skewX:m,skewY:y}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const ac={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Im=typeof window<"u"&&window.MotionDebug!==void 0,WE=["","X","Y","Z"],n0e={visibility:"hidden"},A6=1e3;let r0e=0;function YE(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Pq(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=L7(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",yt,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Pq(r)}function Cq({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=e==null?void 0:e()){this.id=r0e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Im&&(ac.totalNodes=ac.resolvedTargetDeltas=ac.recalculatedProjection=0),this.nodes.forEach(s0e),this.nodes.forEach(d0e),this.nodes.forEach(h0e),this.nodes.forEach(o0e),Im&&window.MotionDebug.record(ac)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new qve)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new iC),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Fve(s),this.instance=s;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Hve(f,250),S0.hasAnimatedSinceResize&&(S0.hasAnimatedSinceResize=!1,this.nodes.forEach(I6))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||y0e,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=u.getProps(),w=!this.targetLayout||!Iq(this.targetLayout,y)||m,_=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,_);const T={...Z2(v,"layout"),onPlay:x,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else f||I6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,xl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(f0e),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Pq(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(N6);return}this.isUpdating||this.nodes.forEach(c0e),this.isUpdating=!1,this.nodes.forEach(u0e),this.nodes.forEach(i0e),this.nodes.forEach(a0e),this.clearAllSnapshots();const o=ka.now();$n.delta=Vs(0,1e3/60,o-$n.timestamp),$n.timestamp=o,$n.isProcessing=!0,UE.update.process($n),UE.preRender.process($n),UE.render.process($n),$n.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,F2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(l0e),this.sharedNodes.forEach(m0e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,yt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){yt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!Nq(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&(o||ic(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),v0e(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:o}=this.options;if(!o)return Gt();const l=o.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(x0e))){const{scroll:u}=this.root;u&&(xd(l.x,u.offset.x),xd(l.y,u.offset.y))}return l}removeElementScroll(s){var o;const l=Gt();if(xi(l,s),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&xi(l,s),xd(l.x,h.offset.x),xd(l.y,h.offset.y))}return l}applyTransform(s,o=!1){const l=Gt();xi(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&bd(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ic(u.latestValues)&&bd(l,u.latestValues)}return ic(this.latestValues)&&bd(l,this.latestValues),l}removeTransform(s){const o=Gt();xi(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ic(c.latestValues))continue;SA(c.latestValues)&&c.updateSnapshot();const u=Gt(),h=c.measurePageBox();xi(u,h),b6(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return ic(this.latestValues)&&b6(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$n.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=$n.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),dp(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),xi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Gt(),this.targetWithTransforms=Gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_ve(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xi(this.target,this.layout.layoutBox),wq(this.target,this.targetDelta)):xi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),dp(this.relativeTargetOrigin,this.target,m.target),xi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Im&&ac.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||SA(this.parent.latestValues)||bq(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===$n.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;xi(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;jve(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Gt());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(y6(this.prevProjectionDelta.x,this.projectionDelta.x),y6(this.prevProjectionDelta.y,this.projectionDelta.y)),up(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!S6(this.projectionDelta.x,this.prevProjectionDelta.x)||!S6(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Im&&ac.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vd(),this.projectionDelta=vd(),this.projectionDeltaWithTransform=vd()}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=vd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Gt(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,v=m!==y,x=this.getStack(),b=!x||x.members.length<=1,w=!!(v&&!b&&this.options.crossfade===!0&&!this.path.some(g0e));this.animationProgress=0;let _;this.mixTargetDelta=T=>{const I=T/1e3;P6(h.x,s.x,I),P6(h.y,s.y,I),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dp(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p0e(this.relativeTarget,this.relativeTargetOrigin,f,I),_&&Jve(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Gt()),xi(_,this.relativeTarget)),v&&(this.animationValues=u,Kve(u,c,this.latestValues,I,w,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(xl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=yt.update(()=>{S0.hasAnimatedSinceResize=!0,this.currentAnimation=Bve(0,A6,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(A6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&jq(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Gt();const h=yi(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+h;const f=yi(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+f}xi(o,l),bd(o,u),up(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new e0e),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&YE("z",s,c,this.animationValues);for(let u=0;u<WE.length;u++)YE(`rotate${WE[u]}`,s,c,this.animationValues),YE(`skew${WE[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}getProjectionStyles(s){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return n0e;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=E0(s==null?void 0:s.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=E0(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!ic(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=t0e(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:m,y}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in zx){if(f[v]===void 0)continue;const{correct:x,applyTo:b}=zx[v],w=c.transform==="none"?f[v]:x(f[v],h);if(b){const _=b.length;for(let T=0;T<_;T++)c[b[T]]=w}else c[v]=w}return this.options.layoutId&&(c.pointerEvents=h===this?E0(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(N6),this.root.sharedNodes.clear()}}}function i0e(t){t.updateLayout()}function a0e(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,s=n.source!==t.layout.source;a==="size"?Ti(h=>{const f=s?n.measuredBox[h]:n.layoutBox[h],m=yi(f);f.min=r[h].min,f.max=f.min+m}):jq(a,n.layoutBox,r)&&Ti(h=>{const f=s?n.measuredBox[h]:n.layoutBox[h],m=yi(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const o=vd();up(o,r,n.layoutBox);const l=vd();s?up(l,t.applyTransform(i,!0),n.measuredBox):up(l,r,n.layoutBox);const c=!Nq(o);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const y=Gt();dp(y,n.layoutBox,f.layoutBox);const v=Gt();dp(v,r,m.layoutBox),Iq(y,v)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=y,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function s0e(t){Im&&ac.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function o0e(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function l0e(t){t.clearSnapshot()}function N6(t){t.clearMeasurements()}function c0e(t){t.isLayoutDirty=!1}function u0e(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function I6(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function d0e(t){t.resolveTargetDelta()}function h0e(t){t.calcProjection()}function f0e(t){t.resetSkewAndRotation()}function m0e(t){t.removeLeadSnapshot()}function P6(t,e,n){t.translate=Ct(e.translate,0,n),t.scale=Ct(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function C6(t,e,n,r){t.min=Ct(e.min,n.min,r),t.max=Ct(e.max,n.max,r)}function p0e(t,e,n,r){C6(t.x,e.x,n.x,r),C6(t.y,e.y,n.y,r)}function g0e(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const y0e={duration:.45,ease:[.4,0,.1,1]},j6=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),R6=j6("applewebkit/")&&!j6("chrome/")?Math.round:di;function O6(t){t.min=R6(t.min),t.max=R6(t.max)}function v0e(t){O6(t.x),O6(t.y)}function jq(t,e,n){return t==="position"||t==="preserve-aspect"&&!wve(T6(e),T6(n),.2)}function x0e(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const b0e=Cq({attachResizeListener:(t,e)=>ig(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),QE={current:void 0},Rq=Cq({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!QE.current){const t=new b0e({});t.mount(window),t.setOptions({layoutScroll:!0}),QE.current=t}return QE.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),w0e={pan:{Feature:Lve},drag:{Feature:Mve,ProjectionNode:Rq,MeasureLayout:Tq}};function k6(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&yt.postRender(()=>a(e,fy(e)))}class _0e extends Ml{mount(){const{current:e}=this.node;e&&(this.unmount=wge(e,n=>(k6(this.node,n,"Start"),r=>k6(this.node,r,"End"))))}unmount(){}}class E0e extends Ml{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hy(ig(this.node.current,"focus",()=>this.onFocus()),ig(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function D6(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&yt.postRender(()=>a(e,fy(e)))}class T0e extends Ml{mount(){const{current:e}=this.node;e&&(this.unmount=Sge(e,n=>(D6(this.node,n,"Start"),(r,{success:i})=>D6(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const NA=new WeakMap,XE=new WeakMap,S0e=t=>{const e=NA.get(t.target);e&&e(t)},A0e=t=>{t.forEach(S0e)};function N0e({root:t,...e}){const n=t||document;XE.has(n)||XE.set(n,{});const r=XE.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(A0e,{root:t,...e})),r[i]}function I0e(t,e,n){const r=N0e(e);return NA.set(t,n),r.observe(t),()=>{NA.delete(t),r.unobserve(t)}}const P0e={some:0,all:1};class C0e extends Ml{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:P0e[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=c?u:h;f&&f(l)};return I0e(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(j0e(e,n))&&this.startObserver()}unmount(){}}function j0e({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const R0e={inView:{Feature:C0e},tap:{Feature:T0e},focus:{Feature:E0e},hover:{Feature:_0e}},O0e={layout:{ProjectionNode:Rq,MeasureLayout:Tq}},IA={current:null},Oq={current:!1};function k0e(){if(Oq.current=!0,!!L2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>IA.current=t.matches;t.addListener(e),e()}else IA.current=!1}const D0e=[...iq,rr,bl],M0e=t=>D0e.find(rq(t)),M6=new WeakMap;function L0e(t,e,n){for(const r in e){const i=e[r],a=n[r];if(cr(i))t.addValue(r,i);else if(cr(a))t.addValue(r,ng(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,ng(s!==void 0?s:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const L6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class V0e{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=uC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=ka.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,yt.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=s;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=a_(n),this.isVariantNode=h7(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in f){const y=f[m];l[m]!==void 0&&cr(y)&&y.set(l[m],!1)}}mount(e){this.current=e,M6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Oq.current||k0e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:IA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){M6.delete(this.current),this.projection&&this.projection.unmount(),xl(this.notifyUpdate),xl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Su.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&yt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Eh){const n=Eh[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<L6.length;r++){const i=L6[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=e[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=L0e(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ng(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(tq(i)||G7(i))?i=parseFloat(i):!M0e(i)&&bl.test(n)&&(i=Z7(e,n)),this.setBaseTarget(e,cr(i)?i.get():i)),cr(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=q2(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!cr(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new iC),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class kq extends V0e{constructor(){super(...arguments),this.KeyframeResolver=aq}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;cr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function U0e(t){return window.getComputedStyle(t)}class z0e extends kq{constructor(){super(...arguments),this.type="html",this.renderInstance=w7}readValueFromInstance(e,n){if(Su.has(n)){const r=cC(n);return r&&r.default||0}else{const r=U0e(e),i=(v7(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return _q(e,n)}build(e,n,r){K2(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return X2(e,n,r)}}class B0e extends kq{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Gt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Su.has(n)){const r=cC(n);return r&&r.default||0}return n=_7.has(n)?n:B2(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return S7(e,n,r)}build(e,n,r){W2(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){E7(e,n,r,i)}mount(e){this.isSVGTag=Q2(e.tagName),super.mount(e)}}const F0e=(t,e)=>$2(t)?new B0e(e):new z0e(e,{allowProjection:t!==g.Fragment}),$0e=mge({...hve,...R0e,...w0e,...O0e},F0e),za=Ppe($0e),q0e=({product:t,onAddToCart:e,isLoggedIn:n})=>{const{name:r,description:i,category:a,imageUrl:s,comboImageUrl:o,available:l,stock:c,popular:u,new:h}=t,f=Hi(),[m,y]=g.useState(t.sizes[0]),v=m.name==="Combo Meal"&&o?o:s,x=!l||c===0,b=()=>{n?e(t,m):f("/auth/login")},w=()=>x?d.jsx("p",{className:"text-sm font-medium text-red-600",children:"Out of Stock"}):c<5?d.jsxs("p",{className:"text-sm font-medium text-orange-600",children:["Only ",c," left"]}):d.jsx("p",{className:"text-sm font-medium text-green-600",children:"In Stock"});return d.jsxs(fe,{className:"flex flex-col overflow-hidden transition-transform duration-300 hover:-translate-y-1",hover:!0,children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:v,alt:r,className:"h-48 w-full object-cover"}),d.jsxs("div",{className:"absolute top-2 right-2 flex flex-col items-end gap-1",children:[x?d.jsx(Dn,{className:"bg-red-100 text-red-800",children:"Out of Stock"}):c>0&&c<5?d.jsx(Dn,{className:"bg-orange-100 text-orange-800",children:"Low Stock"}):null,u&&!x&&d.jsx(Dn,{className:"bg-primary-100 text-primary-800",children:"Popular"}),h&&!x&&d.jsx(Dn,{className:"bg-blue-100 text-blue-800",children:"New"})]})]}),d.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:a}),d.jsx("h3",{className:"mt-1 text-lg font-semibold text-coffee-900",children:r}),d.jsx("p",{className:"mt-1 h-10 text-sm text-gray-600 line-clamp-2",children:i})]}),d.jsxs("div",{className:"mt-auto pt-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("p",{className:"text-xl font-bold text-primary-600",children:["",m.price.toFixed(2)]}),w()]}),d.jsx("div",{className:"mt-4 flex w-full rounded-full border border-gray-200 bg-gray-50 p-1",children:t.sizes.map(_=>d.jsxs("button",{onClick:()=>y(_),className:`w-1/2 rounded-full py-1.5 text-sm font-semibold transition-colors ${m.name===_.name?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:[_.name," (",_.size,")"]},_.name))}),d.jsx("button",{onClick:b,disabled:x,className:"mt-3 flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-gray-400","aria-label":n?`Add ${r} to cart`:`Login to order ${r}`,children:x?"Out of Stock":n?d.jsxs(d.Fragment,{children:[d.jsx(VI,{className:"h-4 w-4"}),"Add to Cart"]}):"Login to Order"})]})]})]})},Dq=()=>d.jsxs(fe,{className:"flex animate-pulse flex-col overflow-hidden",children:[d.jsx("div",{className:"relative",children:d.jsx("div",{className:"h-48 w-full bg-gray-300"})}),d.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[d.jsxs("div",{children:[d.jsx("div",{className:"h-4 w-1/4 rounded bg-gray-300"}),d.jsx("div",{className:"mt-2 h-6 w-3/4 rounded bg-gray-300"}),d.jsxs("div",{className:"mt-2 space-y-2",children:[d.jsx("div",{className:"h-4 rounded bg-gray-300"}),d.jsx("div",{className:"h-4 w-5/6 rounded bg-gray-300"})]})]}),d.jsxs("div",{className:"mt-auto pt-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"h-8 w-1/3 rounded bg-gray-300"}),d.jsx("div",{className:"h-5 w-1/4 rounded bg-gray-300"})]}),d.jsx("div",{className:"mt-3 h-10 w-full rounded-full bg-gray-300"})]})]})]}),H0e=[{value:"default",label:"Default"},{value:"price-asc",label:"Price: Low to High"},{value:"price-desc",label:"Price: High to Low"},{value:"name-asc",label:"Name: A-Z"},{value:"name-desc",label:"Name: Z-A"}],G0e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},K0e={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},W0e=()=>{const{products:t,isLoading:e,error:n}=af(),[r,i]=g.useState("All"),[a,s]=g.useState(""),[o,l]=g.useState("default"),[c,u]=g.useState(!1),h=g.useRef(null),f=g.useRef(null),{addToCart:m}=pr(),{currentUser:y}=Hr(),v=g.useMemo(()=>t.length===0?["All"]:["All",...[...new Set(t.map(w=>w.category))].sort()],[t]);g.useEffect(()=>{const b=w=>{h.current&&!h.current.contains(w.target)&&u(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]);const x=g.useMemo(()=>{const w=[...t.filter(_=>{const T=r==="All"||_.category===r,I=a.trim()===""||_.name.toLowerCase().includes(a.toLowerCase())||_.description.toLowerCase().includes(a.toLowerCase());return T&&I})];switch(o){case"price-asc":w.sort((_,T)=>_.sizes[0].price-T.sizes[0].price);break;case"price-desc":w.sort((_,T)=>T.sizes[0].price-_.sizes[0].price);break;case"name-asc":w.sort((_,T)=>_.name.localeCompare(T.name));break;case"name-desc":w.sort((_,T)=>T.name.localeCompare(_.name));break}return w},[r,a,t,o]);return d.jsxs("div",{className:"flex min-h-screen flex-col bg-white",children:[d.jsx(un,{}),d.jsxs("main",{children:[d.jsx("section",{className:"bg-gradient-to-r from-primary-50 to-coffee-50 px-6 py-12 text-center",children:d.jsxs("div",{className:"container mx-auto max-w-4xl",children:[d.jsx("h1",{className:"font-display text-4xl font-bold text-coffee-900 md:text-5xl",children:"Our Menu"}),d.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"Discover your perfect cup "}),d.jsxs("div",{className:"mx-auto mt-6 flex max-w-2xl flex-col items-center gap-4 sm:flex-row",children:[d.jsxs("div",{className:"relative w-full flex-grow",children:[d.jsx(ux,{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),d.jsx("input",{type:"text",value:a,onChange:b=>s(b.target.value),placeholder:"Search for coffee, matcha...",className:"w-full rounded-full border border-gray-300 py-3 pl-12 pr-4 text-gray-700 placeholder:text-gray-400 shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500"})]}),d.jsxs("div",{className:"relative flex w-full justify-end sm:w-auto sm:justify-start",ref:h,children:[d.jsx("button",{onClick:()=>u(!c),className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-full border border-primary-600 bg-white shadow-sm transition-colors hover:bg-primary-50","aria-haspopup":"true","aria-expanded":c,"aria-label":"Sort products",children:d.jsx(h9,{className:"h-5 w-5 text-gray-500"})}),d.jsx("div",{className:`absolute right-0 top-full z-40 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none transition-all duration-200 ease-out ${c?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,role:"menu","aria-orientation":"vertical",children:d.jsx("div",{className:"py-1",role:"none",children:H0e.map(b=>d.jsxs("button",{onClick:()=>{l(b.value),u(!1)},className:`flex w-full items-center justify-between px-4 py-2 text-sm text-left font-medium transition-colors ${o===b.value?"bg-primary-50 text-primary-600":"text-gray-700 hover:bg-gray-100"}`,role:"menuitem",children:[d.jsx("span",{children:b.label}),o===b.value&&d.jsx(qc,{className:"h-4 w-4"})]},b.value))})})]})]})]})}),d.jsx("div",{className:"sticky top-20 z-30 border-b border-gray-200 bg-white/95 py-3 backdrop-blur-sm",children:d.jsx("div",{className:"container mx-auto flex max-w-7xl gap-2 overflow-x-auto px-6 pb-2",children:v.map(b=>d.jsx("button",{onClick:()=>{var w;i(b),(w=f.current)==null||w.scrollIntoView({behavior:"smooth"})},className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition-colors ${r===b?"bg-primary-600 text-white shadow":"border border-gray-300 bg-white text-gray-700 hover:bg-gray-100"}`,children:b},b))})}),d.jsx("section",{ref:f,className:"bg-gray-50 px-6 py-8 scroll-mt-36",children:d.jsx("div",{className:"container mx-auto max-w-7xl",children:e?d.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:Array.from({length:8}).map((b,w)=>d.jsx(Dq,{},w))}):n?d.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-red-200 bg-red-50 py-20 text-center text-red-700",children:[d.jsx(Ws,{className:"h-16 w-16"}),d.jsx("h3",{className:"mt-4 text-xl font-semibold",children:"Oops! Something went wrong."}),d.jsx("p",{className:"mt-2",children:n})]}):x.length>0?d.jsx(za.div,{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",variants:G0e,initial:"hidden",animate:"visible",children:x.map(b=>d.jsx(za.div,{variants:K0e,layout:!0,className:"flex",children:d.jsx(q0e,{product:b,onAddToCart:m,isLoggedIn:!!y})},b.id))}):d.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[d.jsx(ux,{className:"h-24 w-24 text-gray-300"}),d.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-800",children:"No products found"}),d.jsx("p",{className:"mt-2 text-gray-500",children:"Try adjusting your filters or search query."})]})})})]}),d.jsx(dn,{})]})},Y0e=({selectedMethod:t,onSelectMethod:e})=>{const n=t==="gcash",r=t==="cash",i=({isSelected:a})=>d.jsx("div",{className:`absolute top-4 right-4 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full border-2 transition-all ${a?"border-primary-600 bg-primary-600":"border-gray-400 bg-white"}`,children:a&&d.jsx(qc,{className:"h-4 w-4 text-white"})});return d.jsxs("div",{className:"w-full",children:[d.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Payment Method"}),d.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",role:"radiogroup",children:[d.jsxs("div",{onClick:()=>e("gcash"),role:"radio","aria-checked":n,tabIndex:0,onKeyDown:a=>(a.key===" "||a.key==="Enter")&&e("gcash"),className:`relative cursor-pointer rounded-xl border-2 p-6 transition-all duration-200 ease-in-out hover:border-primary-300 ${n?"border-primary-600 bg-primary-50 shadow-lg":"border-gray-200 bg-white"}`,children:[d.jsxs("div",{className:"flex gap-4",children:[d.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-blue-100",children:d.jsx(E9,{className:"h-7 w-7 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"pr-8 font-display text-lg font-bold text-coffee-900",children:"GCash"}),d.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Pay securely via GCash QR code."})]})]}),d.jsx("div",{className:"mt-4",children:d.jsx(Dn,{className:n?"bg-blue-200 text-blue-800":"bg-gray-100 text-gray-700",children:"Instant confirmation"})}),d.jsx(i,{isSelected:n})]}),d.jsxs("div",{onClick:()=>e("cash"),role:"radio","aria-checked":r,tabIndex:0,onKeyDown:a=>(a.key===" "||a.key==="Enter")&&e("cash"),className:`relative cursor-pointer rounded-xl border-2 p-6 transition-all duration-200 ease-in-out hover:border-primary-300 ${r?"border-primary-600 bg-primary-50 shadow-lg":"border-gray-200 bg-white"}`,children:[d.jsxs("div",{className:"flex gap-4",children:[d.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-green-100",children:d.jsx(Ste,{className:"h-7 w-7 text-green-600"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"pr-8 font-display text-lg font-bold text-coffee-900",children:"Cash on Pickup"}),d.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Pay when you collect your order."})]})]}),d.jsx("div",{className:"mt-4",children:d.jsx(Dn,{className:r?"bg-green-200 text-green-800":"bg-gray-100 text-gray-700",children:"Pay at counter"})}),d.jsx(i,{isSelected:r})]})]})]})},Q0e=({totalAmount:t,orderNumber:e,receipt:n,onReceiptUpload:r})=>{const[i,a]=g.useState(null);g.useEffect(()=>{if(!n){a(null);return}const l=URL.createObjectURL(n);return a(l),()=>URL.revokeObjectURL(l)},[n]);const s=l=>{l.target.files&&l.target.files[0]&&r(l.target.files[0]),l.target.value=""},o=()=>{r(null)};return d.jsxs("div",{className:"w-full max-w-md mx-auto space-y-6",children:[d.jsx("div",{className:"rounded-lg border-l-4 border-blue-400 bg-blue-50 p-4",role:"alert",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx(Ws,{className:"h-5 w-5 text-blue-400","aria-hidden":"true"})}),d.jsx("div",{className:"ml-3",children:d.jsx("p",{className:"text-sm text-blue-700",children:"Please scan the QR code, complete the payment, and upload a screenshot of your receipt."})})]})}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"mx-auto flex h-64 w-64 items-center justify-center rounded-xl border-4 border-primary-600 bg-white p-4 shadow-lg",children:d.jsx("div",{className:"relative flex h-full w-full items-center justify-center bg-[radial-gradient(#1e1612_1px,transparent_1px),radial-gradient(#1e1612_1px,transparent_1px)] bg-[length:12px_12px] bg-[position:0_0,6px_6px]",children:d.jsx("div",{className:"bg-white p-2 font-mono text-sm font-bold text-coffee-900",children:e})})}),d.jsxs("p",{className:"mt-4 text-sm font-medium text-gray-600",children:["Merchant: ",d.jsx("span",{className:"font-bold text-coffee-900",children:"Rush Coffee"})]}),d.jsxs("p",{className:"font-display text-3xl font-bold text-primary-600",children:["",t.toFixed(2)]})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("input",{type:"file",id:"receipt-upload",className:"hidden",accept:"image/*",onChange:s}),n?d.jsxs("div",{className:"relative rounded-lg border border-gray-300 bg-white p-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[i?d.jsx("img",{src:i,alt:"Receipt preview",className:"h-16 w-16 flex-shrink-0 rounded-md object-cover"}):d.jsx("div",{className:"flex h-16 w-16 flex-shrink-0 items-center justify-center rounded-md bg-gray-100",children:d.jsx(sne,{className:"h-8 w-8 text-gray-400"})}),d.jsxs("div",{className:"flex-1 overflow-hidden",children:[d.jsx("p",{className:"truncate text-sm font-medium text-gray-800",children:n.name}),d.jsxs("p",{className:"text-xs text-gray-500",children:[(n.size/1024).toFixed(2)," KB"]})]})]}),d.jsx("button",{onClick:o,className:"absolute -top-2 -right-2 flex h-6 w-6 items-center justify-center rounded-full bg-red-500 text-white transition-transform hover:scale-110","aria-label":"Remove receipt",children:d.jsx(Nl,{className:"h-4 w-4"})})]}):d.jsxs("label",{htmlFor:"receipt-upload",className:"flex cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-6 text-center transition hover:bg-gray-100",children:[d.jsx(Xte,{className:"h-12 w-12 text-gray-400"}),d.jsx("span",{className:"mt-2 block text-sm font-semibold text-gray-600",children:"Upload Receipt"}),d.jsx("span",{className:"mt-1 block text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})]})]})},X0e=({items:t,subtotal:e,serviceFee:n=0,total:r})=>d.jsx("div",{className:"w-full lg:sticky lg:top-24",children:d.jsxs(fe,{className:"rounded-xl border-gray-200 p-6 shadow-none",children:[d.jsx("h2",{className:"mb-4 font-display text-lg font-semibold text-coffee-900",children:"Order Summary"}),d.jsx("div",{className:"max-h-60 space-y-2 overflow-y-auto pr-2",children:t.map((i,a)=>d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"text-gray-700",children:i.productName}),d.jsxs("span",{className:"ml-2 rounded-md bg-gray-100 px-1.5 py-0.5 text-xs font-medium text-gray-600",children:["",i.quantity]})]}),d.jsxs("span",{className:"font-medium text-gray-900",children:["",(i.price*i.quantity).toFixed(2)]})]},a))}),d.jsx("hr",{className:"my-4 border-gray-200"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Subtotal"}),d.jsxs("span",{className:"font-medium text-gray-900",children:["",e.toFixed(2)]})]}),n>0&&d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Service Fee"}),d.jsxs("span",{className:"font-medium text-gray-900",children:["",n.toFixed(2)]})]})]}),d.jsx("hr",{className:"my-4 border-dashed border-gray-300"}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-base font-bold text-gray-900",children:"Total"}),d.jsxs("span",{className:"font-display text-2xl font-bold text-primary-600",children:["",r.toFixed(2)]})]})]})}),Mq=g.createContext(void 0),mC=()=>{const t=g.useContext(Mq);if(t===void 0)throw new Error("useOrder must be used within an OrderProvider");return t},Z0e=({children:t})=>{const[e,n]=g.useState(null),[r,i]=g.useState([]),[a,s]=g.useState(!0),{currentUser:o}=Hr();g.useEffect(()=>{o?(async()=>{s(!0);try{const y=(await ge.collection("orders").where("userId","==",o.uid).get()).docs.map(x=>({id:x.id,...x.data(),timestamp:x.data().timestamp.toDate()}));y.sort((x,b)=>b.timestamp.getTime()-x.timestamp.getTime()),i(y);const v=y.find(x=>x.status!=="completed");n(v||null)}catch(h){console.error("Error fetching order history:",h)}finally{s(!1)}})():(i([]),n(null),s(!1))},[o]),g.useEffect(()=>{if(e&&e.status!=="completed"){const u=["waiting","preparing","ready","completed"],h=e.status,f=u.indexOf(h);if(f===-1||f>=u.length-1)return;const m=setTimeout(()=>{const y=u[f+1];n(v=>v?{...v,status:y}:null)},1e4);return()=>clearTimeout(m)}},[e]);const c={activeOrder:e,setActiveOrder:n,orderHistory:r,addOrderToHistory:async u=>{try{const h=await ge.collection("orders").add({...u,timestamp:Je.firestore.FieldValue.serverTimestamp()}),f={...u,id:h.id,timestamp:new Date};i(m=>[f,...m]),n(f)}catch(h){console.error("Error adding order to Firestore:",h)}},isHistoryLoading:a};return d.jsx(Mq.Provider,{value:c,children:t})},J0e=()=>{const t=Hi(),{cartItems:e,showToast:n,totalCartItems:r,clearCart:i}=pr(),{currentUser:a}=Hr(),{setActiveOrder:s,addOrderToHistory:o}=mC(),[l,c]=g.useState(null),[u,h]=g.useState({name:"",phone:""}),[f,m]=g.useState(""),[y,v]=g.useState({}),[x,b]=g.useState(null),[w,_]=g.useState(!1),[T,I]=g.useState(!1),{subtotal:j,serviceFee:A,total:S}=g.useMemo(()=>{const O=e.reduce((J,F)=>J+F.selectedSize.price*F.quantity,0),B=15;return{subtotal:O,serviceFee:B,total:O+B}},[e]),P=g.useMemo(()=>e.map(O=>({productName:`${O.product.name} (${O.selectedSize.name})`,quantity:O.quantity,price:O.selectedSize.price})),[e]);g.useEffect(()=>{if(!a){n("Please log in to proceed to checkout."),t("/auth/login",{state:{from:"/checkout"}});return}r===0&&!w&&!T&&(n("Your cart is empty. Add items to checkout."),t("/menu"))},[r,t,n,w,T,a]),g.useEffect(()=>{a&&h({name:`${a.firstName} ${a.lastName}`,phone:a.phone||""})},[a]);const C=()=>{const O={};return u.name.trim().length<2&&(O.name="Name must be at least 2 characters long."),/^(09|\+639)\d{9}$/.test(u.phone)||(O.phone="Please enter a valid Philippine phone number (e.g., 09xxxxxxxxx)."),l||(O.payment="Please select a payment method."),l==="gcash"&&!x&&(O.gcash="Please upload your payment receipt to proceed."),v(O),Object.keys(O).length===0},R=async O=>{if(O.preventDefault(),!a||!C()){n("Please correct the errors before proceeding.");return}_(!0);const B=`RC-2025-${Math.floor(1e3+Math.random()*9e3)}`;setTimeout(async()=>{const J={userId:a.uid,customerName:u.name,orderNumber:B,position:Math.floor(Math.random()*5)+1,status:"waiting",orderItems:e.map(F=>({productId:F.product.id,productName:`${F.product.name} (${F.selectedSize.name})`,quantity:F.quantity,price:F.selectedSize.price})),totalAmount:S,paymentMethod:l,paymentStatus:l==="gcash"?"paid":"pending",estimatedTime:10};await o(J),i(),_(!1),I(!0),t("/queue",{state:{fromCheckout:!0,orderNumber:B}})},2e3)},k=w||!l||!u.name||!/^(09|\+639)\d{9}$/.test(u.phone)||l==="gcash"&&!x;return!a||r===0&&!T?d.jsxs("div",{className:"flex min-h-screen flex-col",children:[d.jsx(un,{}),d.jsx("main",{className:"flex flex-1 items-center justify-center bg-gray-50 text-center",children:d.jsxs("div",{children:[d.jsx(dw,{className:"mx-auto h-24 w-24 text-gray-300"}),d.jsx("h1",{className:"mt-4 text-2xl font-bold text-gray-800",children:"Your cart is empty"}),d.jsx("p",{className:"mt-2 text-gray-500",children:"Add some delicious coffee to get started."}),d.jsx("button",{onClick:()=>t("/menu"),className:"mt-6 rounded-full bg-primary-600 px-6 py-2 font-semibold text-white hover:bg-primary-700",children:"Browse Menu"})]})}),d.jsx(dn,{})]}):d.jsxs("div",{className:"flex min-h-screen flex-col bg-gray-50",children:[d.jsx(un,{}),d.jsxs("main",{className:"container mx-auto max-w-7xl px-4 py-8",children:[d.jsx("h1",{className:"mb-6 font-display text-3xl font-bold text-coffee-900",children:"Checkout"}),d.jsxs("form",{onSubmit:R,id:"checkout-form",className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[d.jsxs("div",{className:"space-y-8 lg:col-span-2",children:[d.jsxs("div",{className:"rounded-xl border bg-white p-6",children:[d.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Your Information"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),d.jsx(Rs,{className:"absolute left-3 top-10 h-5 w-5 text-gray-400"}),d.jsx("input",{type:"text",id:"name",value:u.name,onChange:O=>h({...u,name:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 py-2 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Juan dela Cruz"}),y.name&&d.jsx("p",{className:"mt-1 text-xs text-red-500",children:y.name})]}),d.jsxs("div",{className:"relative",children:[d.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),d.jsx(js,{className:"absolute left-3 top-10 h-5 w-5 text-gray-400"}),d.jsx("input",{type:"tel",id:"phone",value:u.phone,onChange:O=>h({...u,phone:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 py-2 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"09171234567"}),y.phone&&d.jsx("p",{className:"mt-1 text-xs text-red-500",children:y.phone})]})]})]}),d.jsxs("div",{className:"rounded-xl border bg-white p-6",children:[d.jsx(Y0e,{selectedMethod:l,onSelectMethod:c}),y.payment&&d.jsx("p",{className:"mt-2 text-xs text-red-500",children:y.payment}),l==="gcash"&&d.jsxs("div",{className:"mt-6 border-t pt-6",children:[d.jsx(Q0e,{totalAmount:S,orderNumber:`TEMP-${Date.now()}`,receipt:x,onReceiptUpload:b}),y.gcash&&d.jsx("p",{className:"mt-2 text-xs text-red-500 text-center",children:y.gcash})]}),l==="cash"&&d.jsx("div",{className:"mt-6 rounded-lg border-l-4 border-green-400 bg-green-50 p-4",role:"alert",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx(Ws,{className:"h-5 w-5 text-green-400"})}),d.jsx("div",{className:"ml-3",children:d.jsx("p",{className:"text-sm text-green-700",children:"Please prepare the exact amount. You can pay at the counter upon pickup."})})]})})]}),d.jsxs("div",{className:"rounded-xl border bg-white p-6",children:[d.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Special Instructions (Optional)"}),d.jsxs("div",{className:"relative",children:[d.jsx(qh,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),d.jsx("textarea",{id:"notes",value:f,onChange:O=>m(O.target.value),rows:3,className:"block w-full rounded-md border-gray-300 py-2 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"e.g., less ice, extra shot..."})]})]}),d.jsx("div",{className:"hidden lg:block",children:d.jsx("button",{type:"submit",form:"checkout-form",disabled:k,className:"mt-2 flex w-full max-w-xs justify-center rounded-full bg-primary-600 px-4 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 disabled:cursor-not-allowed disabled:bg-primary-400",children:w?d.jsx(jt,{className:"h-6 w-6 animate-spin"}):"Place Order"})})]}),d.jsx("div",{className:"lg:col-span-1",children:d.jsx(X0e,{items:P,subtotal:j,serviceFee:A,total:S})})]})]}),d.jsx("div",{className:"sticky bottom-0 left-0 right-0 border-t border-gray-200 bg-white/90 p-4 backdrop-blur-sm lg:hidden",children:d.jsx("button",{type:"submit",form:"checkout-form",disabled:k,className:"flex w-full justify-center rounded-full bg-primary-600 px-4 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 disabled:cursor-not-allowed disabled:bg-primary-400",children:w?d.jsx(jt,{className:"h-6 w-6 animate-spin"}):`Place Order (${S.toFixed(2)})`})}),d.jsx(dn,{})]})};function Le(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Us(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function exe(t,e){const n=Le(t);return isNaN(e)?Us(t,NaN):(e&&n.setDate(n.getDate()+e),n)}const Lq=6048e5,txe=864e5,Sv=43200,V6=1440;let nxe={};function my(){return nxe}function ag(t,e){var o,l,c,u;const n=my(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=Le(t),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Gx(t){return ag(t,{weekStartsOn:1})}function Vq(t){const e=Le(t),n=e.getFullYear(),r=Us(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Gx(r),a=Us(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const s=Gx(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function Kx(t){const e=Le(t);return e.setHours(0,0,0,0),e}function Wx(t){const e=Le(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function rxe(t,e){const n=Kx(t),r=Kx(e),i=+n-Wx(n),a=+r-Wx(r);return Math.round((i-a)/txe)}function ixe(t){const e=Vq(t),n=Us(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Gx(n)}function A0(t,e){const n=Le(t),r=Le(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function axe(t){return Us(t,Date.now())}function sxe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function oxe(t){if(!sxe(t)&&typeof t!="number")return!1;const e=Le(t);return!isNaN(Number(e))}function lxe(t,e){const n=Le(t),r=Le(e),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function cxe(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function uxe(t,e){return+Le(t)-+Le(e)}function Uq(t){const e=Le(t);return e.setHours(23,59,59,999),e}function dxe(t){const e=Le(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function hxe(t){const e=Le(t);return+Uq(e)==+dxe(e)}function fxe(t,e){const n=Le(t),r=Le(e),i=A0(n,r),a=Math.abs(lxe(n,r));let s;if(a<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*a);let o=A0(n,r)===-i;hxe(Le(t))&&a===1&&A0(t,r)===1&&(o=!1),s=i*(a-Number(o))}return s===0?0:s}function mxe(t,e,n){const r=uxe(t,e)/1e3;return cxe(n==null?void 0:n.roundingMethod)(r)}function pxe(t,e){const n=Le(t.start),r=Le(t.end);let i=+n>+r;const a=i?+n:+r,s=i?r:n;s.setHours(0,0,0,0);let o=1;const l=[];for(;+s<=a;)l.push(Le(s)),s.setDate(s.getDate()+o),s.setHours(0,0,0,0);return i?l.reverse():l}function gxe(t){const e=Le(t),n=Us(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const yxe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vxe=(t,e,n)=>{let r;const i=yxe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ZE(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const xxe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bxe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},wxe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_xe={date:ZE({formats:xxe,defaultWidth:"full"}),time:ZE({formats:bxe,defaultWidth:"full"}),dateTime:ZE({formats:wxe,defaultWidth:"full"})},Exe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Txe=(t,e,n,r)=>Exe[t];function nm(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const Sxe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Axe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Nxe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ixe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Pxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Cxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jxe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Rxe={ordinalNumber:jxe,era:nm({values:Sxe,defaultWidth:"wide"}),quarter:nm({values:Axe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:nm({values:Nxe,defaultWidth:"wide"}),day:nm({values:Ixe,defaultWidth:"wide"}),dayPeriod:nm({values:Pxe,defaultWidth:"wide",formattingValues:Cxe,defaultFormattingWidth:"wide"})};function rm(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?kxe(o,h=>h.test(s)):Oxe(o,h=>h.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function Oxe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function kxe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Dxe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const Mxe=/^(\d+)(th|st|nd|rd)?/i,Lxe=/\d+/i,Vxe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Uxe={any:[/^b/i,/^(a|c)/i]},zxe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Bxe={any:[/1/i,/2/i,/3/i,/4/i]},Fxe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$xe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qxe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Hxe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Gxe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Kxe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Wxe={ordinalNumber:Dxe({matchPattern:Mxe,parsePattern:Lxe,valueCallback:t=>parseInt(t,10)}),era:rm({matchPatterns:Vxe,defaultMatchWidth:"wide",parsePatterns:Uxe,defaultParseWidth:"any"}),quarter:rm({matchPatterns:zxe,defaultMatchWidth:"wide",parsePatterns:Bxe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:rm({matchPatterns:Fxe,defaultMatchWidth:"wide",parsePatterns:$xe,defaultParseWidth:"any"}),day:rm({matchPatterns:qxe,defaultMatchWidth:"wide",parsePatterns:Hxe,defaultParseWidth:"any"}),dayPeriod:rm({matchPatterns:Gxe,defaultMatchWidth:"any",parsePatterns:Kxe,defaultParseWidth:"any"})},zq={code:"en-US",formatDistance:vxe,formatLong:_xe,formatRelative:Txe,localize:Rxe,match:Wxe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Yxe(t){const e=Le(t);return rxe(e,gxe(e))+1}function Qxe(t){const e=Le(t),n=+Gx(e)-+ixe(e);return Math.round(n/Lq)+1}function Bq(t,e){var u,h,f,m;const n=Le(t),r=n.getFullYear(),i=my(),a=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(f=i.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,s=Us(t,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const o=ag(s,e),l=Us(t,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const c=ag(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Xxe(t,e){var o,l,c,u;const n=my(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=Bq(t,e),a=Us(t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),ag(a,e)}function Zxe(t,e){const n=Le(t),r=+ag(n,e)-+Xxe(n,e);return Math.round(r/Lq)+1}function Fe(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const _o={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Fe(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Fe(n+1,2)},d(t,e){return Fe(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Fe(t.getHours()%12||12,e.length)},H(t,e){return Fe(t.getHours(),e.length)},m(t,e){return Fe(t.getMinutes(),e.length)},s(t,e){return Fe(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Fe(i,e.length)}},$u={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},U6={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return _o.y(t,e)},Y:function(t,e,n,r){const i=Bq(t,r),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return Fe(s,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):Fe(a,e.length)},R:function(t,e){const n=Vq(t);return Fe(n,e.length)},u:function(t,e){const n=t.getFullYear();return Fe(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Fe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Fe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return _o.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Fe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Zxe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Fe(i,e.length)},I:function(t,e,n){const r=Qxe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Fe(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):_o.d(t,e)},D:function(t,e,n){const r=Yxe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Fe(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Fe(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Fe(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Fe(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=$u.noon:r===0?i=$u.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=$u.evening:r>=12?i=$u.afternoon:r>=4?i=$u.morning:i=$u.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return _o.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):_o.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Fe(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Fe(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):_o.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):_o.s(t,e)},S:function(t,e){return _o.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return B6(r);case"XXXX":case"XX":return sc(r);case"XXXXX":case"XXX":default:return sc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return B6(r);case"xxxx":case"xx":return sc(r);case"xxxxx":case"xxx":default:return sc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+z6(r,":");case"OOOO":default:return"GMT"+sc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+z6(r,":");case"zzzz":default:return"GMT"+sc(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Fe(r,e.length)},T:function(t,e,n){const r=t.getTime();return Fe(r,e.length)}};function z6(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+Fe(a,2)}function B6(t,e){return t%60===0?(t>0?"-":"+")+Fe(Math.abs(t)/60,2):sc(t,e)}function sc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Fe(Math.trunc(r/60),2),a=Fe(r%60,2);return n+i+e+a}const F6=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Fq=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Jxe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return F6(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",F6(r,e)).replace("{{time}}",Fq(i,e))},ebe={p:Fq,P:Jxe},tbe=/^D+$/,nbe=/^Y+$/,rbe=["D","DD","YY","YYYY"];function ibe(t){return tbe.test(t)}function abe(t){return nbe.test(t)}function sbe(t,e,n){const r=obe(t,e,n);if(console.warn(r),rbe.includes(t))throw new RangeError(r)}function obe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const lbe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cbe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ube=/^'([^]*?)'?$/,dbe=/''/g,hbe=/[a-zA-Z]/;function Oc(t,e,n){var u,h,f,m;const r=my(),i=r.locale??zq,a=r.firstWeekContainsDate??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,s=r.weekStartsOn??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,o=Le(t);if(!oxe(o))throw new RangeError("Invalid time value");let l=e.match(cbe).map(y=>{const v=y[0];if(v==="p"||v==="P"){const x=ebe[v];return x(y,i.formatLong)}return y}).join("").match(lbe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:fbe(y)};if(U6[v])return{isToken:!0,value:y};if(v.match(hbe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const v=y.value;(abe(v)||ibe(v))&&sbe(v,e,String(t));const x=U6[v[0]];return x(o,v,i.localize,c)}).join("")}function fbe(t){const e=t.match(ube);return e?e[1].replace(dbe,"'"):t}function mbe(t,e,n){const r=my(),i=(n==null?void 0:n.locale)??r.locale??zq,a=2520,s=A0(t,e);if(isNaN(s))throw new RangeError("Invalid time value");const o=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:s});let l,c;s>0?(l=Le(e),c=Le(t)):(l=Le(t),c=Le(e));const u=mxe(c,l),h=(Wx(c)-Wx(l))/1e3,f=Math.round((u-h)/60);let m;if(f<2)return n!=null&&n.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,o):u<10?i.formatDistance("lessThanXSeconds",10,o):u<20?i.formatDistance("lessThanXSeconds",20,o):u<40?i.formatDistance("halfAMinute",0,o):u<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):f===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",f,o);if(f<45)return i.formatDistance("xMinutes",f,o);if(f<90)return i.formatDistance("aboutXHours",1,o);if(f<V6){const y=Math.round(f/60);return i.formatDistance("aboutXHours",y,o)}else{if(f<a)return i.formatDistance("xDays",1,o);if(f<Sv){const y=Math.round(f/V6);return i.formatDistance("xDays",y,o)}else if(f<Sv*2)return m=Math.round(f/Sv),i.formatDistance("aboutXMonths",m,o)}if(m=fxe(c,l),m<12){const y=Math.round(f/Sv);return i.formatDistance("xMonths",y,o)}else{const y=m%12,v=Math.trunc(m/12);return y<3?i.formatDistance("aboutXYears",v,o):y<9?i.formatDistance("overXYears",v,o):i.formatDistance("almostXYears",v+1,o)}}function l_(t,e){return mbe(t,axe(t),e)}function $6(t,e){return exe(t,-e)}const pbe=({children:t,className:e="",hover:n=!1})=>{const r=n?"hover:shadow-xl transition-all duration-300":"";return d.jsx("div",{className:`rounded-lg border border-gray-100 bg-white p-6 shadow-sm ${r} ${e}`,children:t})},Oe=g.forwardRef(({children:t,variant:e="primary",size:n="md",className:r="",asChild:i=!1,isLoading:a=!1,startIcon:s,endIcon:o,fullWidth:l=!1,disabled:c,...u},h)=>{const f="inline-flex items-center justify-center gap-2 rounded-full font-semibold transition-all duration-200 ease-in-out focus:outline-none focus:ring-4 disabled:cursor-not-allowed disabled:opacity-60 active:scale-95",m={primary:"bg-primary-600 text-white shadow-lg hover:bg-primary-700 hover:shadow-xl focus:ring-primary-500/30 active:bg-primary-800",secondary:"bg-coffee-600 text-white shadow-lg hover:bg-coffee-700 hover:shadow-xl focus:ring-coffee-500/30 active:bg-coffee-800",outline:"border-2 border-primary-600 bg-transparent text-primary-600 hover:bg-primary-50 focus:ring-primary-500/20 active:bg-primary-100",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500/20 active:bg-gray-200",danger:"bg-red-600 text-white shadow-lg hover:bg-red-700 hover:shadow-xl focus:ring-red-500/30 active:bg-red-800"},y={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg",xl:"px-10 py-5 text-xl"},v=l?"w-full":"",x=`${f} ${m[e]} ${y[n]} ${v} ${r}`,b=d.jsxs(d.Fragment,{children:[a&&d.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!a&&s&&d.jsx("span",{className:"inline-flex items-center flex-shrink-0",children:s}),d.jsx("span",{className:"inline-flex items-center",children:t}),!a&&o&&d.jsx("span",{className:"inline-flex items-center flex-shrink-0",children:o})]});return i?d.jsx("span",{className:x,children:b}):d.jsx("button",{ref:h,className:x,disabled:c||a,...u,children:b})});Oe.displayName="Button";const gbe={waiting:{Icon:vu,text:"Your order is in the queue.",color:"text-yellow-600",bgColor:"bg-yellow-100",progress:10,progressText:"Ordered"},preparing:{Icon:na,text:"Your order is being prepared.",color:"text-blue-600",bgColor:"bg-blue-100",progress:50,progressText:"Preparing"},ready:{Icon:uw,text:"Your order is ready for pickup!",color:"text-green-600",bgColor:"bg-green-100",progress:100,progressText:"Ready"},completed:{Icon:qc,text:"Your order has been completed.",color:"text-primary-600",bgColor:"bg-primary-100",progress:100,progressText:"Completed"}},ybe=({order:t})=>{const[e,n]=g.useState(!1),r=Hi(),i=gbe[t.status],{addMultipleToCart:a,showToast:s}=pr(),{products:o}=af(),l=()=>{const u=[],h=[];for(const f of t.orderItems){const m=o.find(b=>b.id===f.productId);if(!m||!m.available||m.stock===0){h.push(f.productName);continue}const y=f.productName.match(/\((Grande|Venti)\)$/),v=y?y[1]:null;if(!v){h.push(f.productName);continue}const x=m.sizes.find(b=>b.name===v);if(!x){h.push(f.productName);continue}u.push({product:m,selectedSize:x,quantity:f.quantity})}u.length>0&&a(u),h.length>0&&s(`Could not add: ${h.join(", ")}. They may be unavailable.`)},c=()=>{t.status==="completed"?r("/menu"):l()};return d.jsxs(pbe,{className:"w-full max-w-md rounded-2xl p-6 shadow-lg",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:`flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full ${i.bgColor}`,children:d.jsx(i.Icon,{className:`h-6 w-6 ${i.color}`})}),d.jsxs("div",{children:[d.jsx("h2",{className:"font-display text-xl font-bold text-coffee-900",children:i.text}),d.jsxs("p",{className:"text-sm text-gray-500",children:["Order #",t.orderNumber]})]})]}),d.jsxs("div",{className:"mt-6 space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-600",children:[d.jsx("span",{children:"Ordered"}),d.jsx("span",{children:"Preparing"}),d.jsx("span",{children:"Ready"})]}),d.jsx("div",{className:"h-2 w-full rounded-full bg-gray-200",children:d.jsx("div",{className:"h-2 rounded-full bg-primary-600 transition-all duration-500 ease-out",style:{width:`${i.progress}%`}})}),d.jsx("p",{className:"text-right text-sm font-semibold text-primary-600",children:i.progressText})]}),d.jsxs("div",{className:"mt-6 border-t border-gray-200 pt-4",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"Time Placed"}),d.jsx("span",{className:"font-medium text-gray-800",children:Oc(t.timestamp,"p")})]}),d.jsxs("div",{className:"mt-1 flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"Estimated Wait"}),d.jsxs("span",{className:"font-medium text-gray-800",children:["~",t.estimatedTime," min"]})]}),d.jsxs("div",{className:"mt-3 flex justify-between text-lg font-bold",children:[d.jsx("span",{className:"text-gray-800",children:"Total"}),d.jsxs("span",{className:"text-primary-600",children:["",t.totalAmount.toFixed(2)]})]})]}),d.jsxs("div",{className:"mt-4 border-t border-gray-200",children:[d.jsxs("button",{onClick:()=>n(!e),className:"flex w-full items-center justify-between py-3 text-left font-semibold text-gray-700 hover:text-primary-600",children:[d.jsxs("span",{children:["View Items (",t.orderItems.length,")"]}),d.jsx($h,{className:`h-5 w-5 transform transition-transform duration-300 ${e?"rotate-180":""}`})]}),d.jsx(cy,{children:e&&d.jsx(za.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:d.jsx("ul",{className:"space-y-2 pb-2",children:t.orderItems.map((u,h)=>d.jsxs("li",{className:"flex justify-between border-b border-gray-100 py-1 text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-gray-800",children:u.productName}),d.jsxs("span",{className:"ml-2 text-gray-500",children:["x",u.quantity]})]}),d.jsxs("span",{className:"text-gray-600",children:["",(u.price*u.quantity).toFixed(2)]})]},h))})})})]}),d.jsx("div",{className:"mt-4 border-t border-gray-200 pt-4",children:d.jsx(Oe,{size:"lg",className:"w-full",onClick:c,variant:t.status==="completed"?"primary":"secondary",children:t.status==="completed"?d.jsxs(d.Fragment,{children:[d.jsx(VI,{className:"mr-2 h-5 w-5"}),"Start New Order"]}):d.jsxs(d.Fragment,{children:[d.jsx(v9,{className:"mr-2 h-5 w-5"}),"Reorder Items"]})})})]})},vbe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQ2IiBoZWlnaHQ9IjE3OCIgdmlld0JveD0iMCAwIDI0NiAxNzgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xNTQuNTAzIDgwQzE4MC41MDMgNTEgMjEzLjAwMyAyMC41IDIyNS41MDMgMTguNUMyMzguMDAzIDE2LjUgMjQ0LjAwMyAyOS41IDI0NC4wMDMgMjkuNUMyNDQuMDAzIDI5LjUgMjQ4LjUwMyA1Mi41IDI0MC41MDMgODBDMjMyLjUwMyAxMDcuNSAyMTEuNTAzIDEyNCAyMTEuNTAzIDEyNEMyMTEuNTAzIDEyNCAxNjYuNTAzIDE3MSAxNDcuMDAzIDE3NUMxNDcuMDAzIDE3NSAxMTkuMDAzIDE4MS41IDEwNy4wMDMgMTcyLjVDOTUuMDAyNSAxNjMuNSAxMjguNTAzIDEwOSAxNTQuNTAzIDgwWiIgZmlsbD0iI0VCNUYxNiIvPgo8cGF0aCBkPSJNMTIuMDAyNSA4OUMxMi4wMDI1IDg5IC0yMS4wMjkzIDIyLjAyMyAyMi41MDI1IDE3QzM1LjUwMjUgMTUuNSA4MC4wMDI1IDU2IDc5LjUwMjUgNTkuNUM4Mi41MDI1IDc1IDcyLjAwMjUgODcgNjQuNTAyNSA5N0M2MS4xMzM2IDEwMS40OTIgNjAuMDAyNSAxMDcuNSA1OC4wMDI1IDExOS41QzU4LjAwMjUgMTM5IDUzLjAwMjUgMTM4LjUgNTMuMDAyNSAxMzguNUM1My4wMDI1IDEzOC41IDQwLjUwMjUgMTQxIDEyLjAwMjUgODlaIiBmaWxsPSIjRUI1RjE2IiIvPgo8cGF0aCBkPSJNNDcuMDAyNSAxN0M0MS4wMDI1IDEyLjAwMDEgNDIuMDAyNSAtNy42MjkzOWUtMDYgNTMuMDAyNSAwQzY0LjAwMjUgNy42Mjk0ZS0wNiA3NC4xOTA0IDQuNzY1MzQgODcuMDAyNSAxMEMxMDAuMzQ3IDE1LjQ1MjEgMTEwLjkxMSAxOSAxMTQuNTAzIDI2LjVDMTE4LjA5NCAzNCAxMTQuNTAzIDM5LjUgMTEwLjAwMyA0NUMxMDUuNTAzIDUwLjUgMTAyLjAwMyA1MiA5NC41MDI1IDUxQzg3LjAwMjUgNTAgNTMuMDAyNSAyMiA0Ny4wMDI1IDE3WiIgZmlsbD0iI0VCNUYxNiIvPgo8cGF0aCBkPSJNMjA1LjUwMyAyMy41QzIxOC41MDMgMTQgMjA1LjUwMyA1LjUgMjA1LjUwMyA1LjVDMTYyLjIzOSAxLjQzMjUyIDEyMi40MDggMzEuOTMyNCA4Mi4wMDI1IDg4LjVDNzEuNjQ1NCAxMDMgNjIuNTU4MyAxNTAuMzIyIDc4LjUwMjUgMTYxQzk3LjE3ODQgMTczLjUwOCAxMDIuNjM0IDE2Ny4xMDkgMTAzLjUwMyAxMzJDMTIxLjUwMyA1MSAxOTIuNTAzIDMzIDIwNS41MDMgMjMuNVoiIGZpbGw9IiNFQjVGMTYiLz4KPC9zdmc+Cg==",xbe=()=>{var u;const{currentUser:t}=Hr(),{activeOrder:e}=mC(),n=ca(),r=Hi(),[i,a]=g.useState("default"),[s,o]=g.useState(!1),l=g.useRef(null);g.useEffect(()=>{"Notification"in window&&(a(Notification.permission),Notification.permission==="default"&&o(!0))},[]),g.useEffect(()=>{if(e&&e.status==="ready"&&i==="granted"&&l.current!==e.id){const h="Your Order is Ready! ",f={body:`Your Rush Coffee order (${e.orderNumber}) is now ready for pickup.`,icon:vbe,tag:e.id},m=new Notification(h,f);m.onclick=()=>{window.focus()},l.current=e.id}(!e||e.status==="completed")&&(l.current=null)},[e,i]);const c=async()=>{if(!("Notification"in window)){alert("This browser does not support desktop notification");return}const h=await Notification.requestPermission();a(h),(h==="granted"||h==="denied")&&o(!1)};return t?e?d.jsxs("div",{className:"flex min-h-screen flex-col bg-gray-50",children:[d.jsx(un,{}),d.jsx("main",{className:"flex flex-1 items-center justify-center px-4 py-12 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex w-full max-w-md flex-col items-center gap-6",children:[((u=n.state)==null?void 0:u.fromCheckout)&&d.jsxs("div",{className:"w-full rounded-lg bg-green-100 p-4 text-center text-green-800 animate-fade-in-up",children:[d.jsx("h2",{className:"font-bold",children:"Order Placed Successfully!"}),d.jsx("p",{className:"text-sm",children:"You are now in the queue. We'll start preparing your order shortly."})]}),s&&i==="default"&&e.status!=="completed"&&d.jsxs("div",{className:"relative w-full animate-fade-in-up rounded-lg border border-primary-200 bg-white p-4 shadow-sm",children:[d.jsx("button",{onClick:()=>o(!1),className:"absolute top-2 right-2 rounded-full p-1 text-gray-400 transition-colors hover:text-gray-600","aria-label":"Dismiss",children:d.jsx(Nl,{className:"h-4 w-4"})}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full bg-primary-100",children:d.jsx(uw,{className:"h-6 w-6 text-primary-600"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-gray-800",children:"Get Order Updates"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Know the moment your coffee is ready!"})]})]}),d.jsx("button",{onClick:c,className:"mt-3 w-full rounded-full bg-primary-600 px-4 py-2 text-sm font-semibold text-white transition-colors hover:bg-primary-700",children:"Enable Notifications"})]}),d.jsx(ybe,{order:e})]})}),d.jsx(dn,{})]}):d.jsxs("div",{className:"flex min-h-screen flex-col bg-gray-50",children:[d.jsx(un,{}),d.jsx("main",{className:"flex flex-1 items-center justify-center px-6 py-20 text-center",children:d.jsxs("div",{children:[d.jsx(vn,{className:"mx-auto h-24 w-24 text-gray-300 opacity-50"}),d.jsx("h1",{className:"mt-4 font-display text-2xl font-bold text-coffee-900",children:"Your queue is empty"}),d.jsx("p",{className:"mt-2 text-gray-600",children:"Ready for your next coffee fix?"}),d.jsxs("button",{onClick:()=>r("/menu"),className:"mt-8 inline-flex items-center justify-center gap-2 rounded-full bg-primary-600 px-8 py-3 font-semibold text-white shadow-lg transition-transform hover:scale-105",children:["Start a New Order",d.jsx(Zd,{className:"h-5 w-5"})]})]})}),d.jsx(dn,{})]}):d.jsxs("div",{className:"flex min-h-screen flex-col bg-gray-50",children:[d.jsx(un,{}),d.jsx("main",{className:"flex flex-1 items-center justify-center px-6 py-20 text-center",children:d.jsxs("div",{children:[d.jsx(vn,{className:"mx-auto h-24 w-24 text-gray-300 opacity-50"}),d.jsx("h1",{className:"mt-4 font-display text-2xl font-bold text-coffee-900",children:"You're not in the queue"}),d.jsx("p",{className:"mt-2 text-gray-600",children:"Please log in and place an order to see your queue status."}),d.jsxs("div",{className:"mt-8 flex justify-center gap-4",children:[d.jsx(He,{to:"/auth/login",className:"rounded-full bg-primary-600 px-8 py-3 font-semibold text-white transition-transform hover:scale-105",children:"Login"}),d.jsx(He,{to:"/menu",className:"rounded-full border-2 border-primary-600 px-8 py-3 font-semibold text-primary-600 transition-transform hover:scale-105 hover:bg-primary-50",children:"View Menu"})]})]})}),d.jsx(dn,{})]})},wl=({isOpen:t,onClose:e,title:n,children:r,footer:i,size:a="md"})=>{if(g.useEffect(()=>{const o=l=>{l.key==="Escape"&&e()};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[e]),!t)return null;const s={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg"};return d.jsx("div",{className:"fixed inset-0 z-50 flex animate-fade-in-up items-center justify-center bg-black/60 p-4 backdrop-blur-sm",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",onClick:e,style:{animationDuration:"0.3s"},children:d.jsx("div",{className:`relative w-full transform transition-all ${s[a]}`,onClick:o=>o.stopPropagation(),children:d.jsxs(fe,{className:"rounded-xl p-0 shadow-2xl",children:[d.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-4",children:[d.jsx("h3",{id:"modal-title",className:"text-lg font-semibold text-coffee-900",children:n}),d.jsx("button",{onClick:e,className:"rounded-full p-1 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-700","aria-label":"Close modal",children:d.jsx(Nl,{className:"h-5 w-5"})})]}),d.jsx("div",{className:"p-6",children:r}),i&&d.jsx("div",{className:"flex justify-end gap-3 rounded-b-xl border-t border-gray-200 bg-gray-50 p-4",children:i})]})})})},bbe={bronze:{Icon:Pne,name:"Bronze Member",gradient:"from-orange-400 to-orange-600",nextTierName:"Silver",progressColor:"bg-gray-400",minPoints:0},silver:{Icon:Ete,name:"Silver Member",gradient:"from-gray-300 to-gray-500",nextTierName:"Gold",progressColor:"bg-yellow-400",minPoints:300},gold:{Icon:ene,name:"Gold Member",gradient:"from-yellow-400 to-yellow-600",nextTierName:null,progressColor:"",minPoints:1e3}},wbe=({tier:t,currentPoints:e,nextTierPoints:n,showProgress:r=!0})=>{const i=bbe[t],a=n-e,s=t!=="gold"?Math.max(0,Math.min(100,(e-i.minPoints)/(n-i.minPoints)*100)):100;return d.jsxs("div",{className:`relative w-full max-w-sm overflow-hidden rounded-2xl bg-gradient-to-br p-6 text-center text-white shadow-lg md:p-8 ${i.gradient}`,children:[d.jsx("div",{className:"absolute inset-0 -translate-x-full animate-shimmer bg-gradient-to-r from-transparent via-white/30 to-transparent"}),d.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[d.jsx(i.Icon,{className:"h-16 w-16 animate-pulse-slow drop-shadow-lg"}),d.jsx("h2",{className:"mt-4 font-display text-2xl font-bold drop-shadow-md md:text-3xl",children:i.name}),d.jsxs("p",{className:"font-semibold text-white/80",children:[e," points"]})]}),r&&t!=="gold"&&d.jsxs("div",{className:"relative z-10 mt-6 text-left",children:[d.jsxs("p",{className:"text-xs font-semibold md:text-sm",children:[d.jsx("span",{className:"font-bold",children:a>0?a:0})," points to ",i.nextTierName]}),d.jsx("div",{className:"mt-1 h-2.5 w-full overflow-hidden rounded-full bg-black/20",children:d.jsx("div",{className:`h-full rounded-full ${i.progressColor} transition-all duration-500 ease-out`,style:{width:`${s}%`}})})]})]})},_be={drink:"bg-blue-100 text-blue-800",food:"bg-green-100 text-green-800",discount:"bg-yellow-100 text-yellow-800"},Ebe=({reward:t,currentPoints:e,onRedeem:n})=>{const{id:r,name:i,description:a,pointsCost:s,imageUrl:o,category:l,available:c}=t,u=e>=s,h=c&&u,f=s-e,m=()=>c?u?"Redeem Now":d.jsxs(d.Fragment,{children:[d.jsx(ox,{className:"h-4 w-4"}),"Need ",f," more points"]}):"Unavailable";return d.jsxs(fe,{className:"flex flex-col overflow-hidden transition-transform duration-300 hover:-translate-y-1",hover:!0,children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:o,alt:i,className:`h-40 w-full object-cover ${c?"":"grayscale"}`}),d.jsx(Dn,{className:`absolute top-2 left-2 capitalize ${_be[l]}`,children:l}),!c&&d.jsx(Dn,{className:"absolute top-2 right-2 bg-gray-500 text-white",children:"Temporarily Unavailable"})]}),d.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[d.jsxs("div",{className:"flex-grow",children:[d.jsx("h3",{className:"text-lg font-semibold text-coffee-900",children:i}),d.jsx("p",{className:"mt-1 h-10 text-sm text-gray-600 line-clamp-2",children:a})]}),d.jsx("div",{className:"mt-4 flex items-center justify-between",children:d.jsxs("div",{className:"flex items-center gap-2 text-primary-600",children:[d.jsx(Ip,{className:"h-5 w-5"}),d.jsxs("p",{className:"text-lg font-bold",children:[s," points"]})]})}),d.jsx("button",{onClick:()=>n(r),disabled:!h,className:"mt-4 flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-gray-400 disabled:text-gray-100","aria-label":h?`Redeem ${i}`:`Cannot redeem ${i}`,children:m()})]})]})},Tbe=({history:t})=>{const[e,n]=g.useState("all"),r=g.useMemo(()=>e==="all"?t:t.filter(s=>s.type===e),[t,e]),i=g.useMemo(()=>[...r].sort((s,o)=>o.date.getTime()-s.date.getTime()),[r]),a=s=>s==="earned"?d.jsx("div",{className:"absolute left-1 top-0 flex h-10 w-10 -translate-x-1/2 items-center justify-center rounded-full bg-gradient-to-br from-green-400 to-green-600 shadow-lg ring-2 ring-white transition-transform hover:scale-110",children:d.jsx(Ug,{className:"h-4 w-4 text-white",strokeWidth:3})}):d.jsx("div",{className:"absolute left-1 top-0 flex h-10 w-10 -translate-x-1/2 items-center justify-center rounded-full bg-gradient-to-br from-red-400 to-red-600 shadow-lg ring-2 ring-white transition-transform hover:scale-110",children:d.jsx(y9,{className:"h-4 w-4 text-white",strokeWidth:3})});return d.jsxs(fe,{className:"bg-gradient-to-br from-white to-gray-50",children:[d.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900",children:"Points History"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track your rewards journey"})]}),d.jsx("div",{className:"flex gap-2 rounded-full bg-white p-1.5 shadow-sm ring-1 ring-gray-200",children:["all","earned","redeemed"].map(s=>d.jsx("button",{onClick:()=>n(s),className:`rounded-full px-4 py-2 text-sm font-semibold capitalize transition-all duration-200 ${e===s?"bg-gradient-to-r from-primary-600 to-primary-700 text-white shadow-md":"text-gray-700 hover:bg-gray-100"}`,children:s},s))})]}),d.jsx("div",{className:"mt-8 max-h-[500px] overflow-y-auto pr-2 scrollbar-thin scrollbar-track-gray-100 scrollbar-thumb-gray-300",children:i.length>0?d.jsx("div",{className:"relative border-l-2 border-gray-300 pl-6",children:i.map((s,o)=>d.jsxs("div",{className:`group relative transition-all duration-200 hover:translate-x-1 ${o<i.length-1?"pb-10":""}`,children:[a(s.type),d.jsxs("div",{className:"ml-8 flex items-start justify-between gap-4 rounded-lg bg-white p-4 shadow-sm ring-1 ring-gray-100 transition-shadow duration-200 group-hover:shadow-md",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"truncate font-semibold text-gray-900",children:s.description}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:l_(s.date,{addSuffix:!0})})]}),d.jsx("div",{className:"flex-shrink-0",children:d.jsxs("p",{className:`text-xl font-bold ${s.type==="earned"?"text-green-600":"text-red-600"}`,children:[s.type==="earned"?"+":"",s.points]})})]})]},s.id))}):d.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 rounded-lg bg-gray-50 py-16 text-center",children:[d.jsx("div",{className:"rounded-full bg-gray-100 p-4",children:d.jsx(dne,{className:"h-12 w-12 text-gray-400"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-lg font-semibold text-gray-700",children:"No transactions yet"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Your points history for this filter will appear here."})]})]})})]})},PA={bronze:{min:0,max:299,name:"Bronze"},silver:{min:300,max:999,name:"Silver"},gold:{min:1e3,max:1/0,name:"Gold"}},Av=t=>`/RushCoffee-Capstone/${t}`,Sbe=[{name:"Free Grande Drink",description:"Redeem your points for any Grande-sized drink on our menu. A perfect treat!",pointsCost:200,imageUrl:Av("Rewards/Free-Iced-Grande-Drink.jpg"),category:"drink",available:!0,displayOrder:1},{name:"10% Off Total Order",description:"Get a 10% discount on your entire order. Great for when you're treating friends!",pointsCost:200,imageUrl:Av("Rewards/10-percent-off.jpg"),category:"discount",available:!0,displayOrder:2},{name:"Free Rice Meal",description:"Choose any Tasty Rice Meal from our selection to complement your coffee.",pointsCost:350,imageUrl:Av("Rewards/Free-Rice-Meal.jpg"),category:"food",available:!0,displayOrder:3},{name:"Upgrade to Venti",description:"Get a free size upgrade from Grande to Venti on any drink.",pointsCost:300,imageUrl:Av("Rewards/Free-Iced-Venti-Drink.jpg"),category:"drink",available:!0,displayOrder:4}],Abe=()=>{var T;const{currentUser:t}=Hr(),{showToast:e}=pr(),[n,r]=g.useState([]),[i,a]=g.useState(!0),[s,o]=g.useState(!1),[l,c]=g.useState(null),[u,h]=g.useState(!1),[f,m]=g.useState("");g.useEffect(()=>{(async()=>{a(!0);const j=Sbe.map((A,S)=>({...A,id:`mock-reward-${S}`}));r(j),a(!1)})()},[]);const y=(t==null?void 0:t.tier)==="bronze"?"silver":(t==null?void 0:t.tier)==="silver"?"gold":null,v=y&&((T=PA[y])==null?void 0:T.min)||0,x=I=>{c(I),o(!0)},b=async()=>{if(!(!t||!l)){h(!0);try{if(t.currentPoints<l.pointsCost)throw new Error("You don't have enough points.");const I=ge.collection("users").doc(t.uid),j={id:`rh-${Date.now()}`,type:"redeemed",points:-l.pointsCost,description:`Redeemed: ${l.name}`,date:new Date};await I.update({currentPoints:Je.firestore.FieldValue.increment(-l.pointsCost),rewardsHistory:Je.firestore.FieldValue.arrayUnion(j)}),m(`RC-REDEEM-${Math.random().toString(36).substr(2,9).toUpperCase()}`)}catch(I){e(I.message||"Failed to redeem reward."),h(!1)}}},w=()=>{navigator.clipboard&&(navigator.clipboard.writeText(f),e("Code copied to clipboard!"))},_=()=>{o(!1),c(null),h(!1),m("")};return t?d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx(un,{}),d.jsxs("main",{children:[d.jsx("section",{className:"bg-gradient-to-r from-primary-50 to-coffee-50 px-6 py-12",children:d.jsx("div",{className:"container mx-auto max-w-7xl",children:d.jsxs("div",{className:"grid grid-cols-1 items-center gap-8 md:grid-cols-3",children:[d.jsxs("div",{className:"md:col-span-2",children:[d.jsxs("h1",{className:"font-display text-4xl font-bold text-coffee-900 md:text-5xl",children:["Welcome, ",t.firstName,"!"]}),d.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"You're doing great! Keep earning points for amazing rewards."})]}),d.jsx("div",{className:"flex justify-center md:justify-end",children:d.jsx(wbe,{tier:t.tier,currentPoints:t.currentPoints,nextTierPoints:v})})]})})}),d.jsx("section",{className:"px-6 py-16",children:d.jsxs("div",{className:"container mx-auto max-w-7xl",children:[d.jsxs("div",{className:"mb-8 flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900",children:"Redeem Your Points"}),d.jsx("p",{className:"mt-1 text-gray-600",children:"Use your points to claim these exciting rewards."})]}),d.jsxs("div",{className:"rounded-full bg-white px-4 py-2 text-lg font-semibold text-primary-600 shadow-md",children:["Your Points: ",d.jsx("span",{className:"font-bold",children:t.currentPoints})]})]}),i?d.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Array.from({length:4}).map((I,j)=>d.jsx(Dq,{},j))}):n.length>0?d.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:n.map(I=>d.jsx(Ebe,{reward:I,currentPoints:t.currentPoints,onRedeem:()=>x(I)},I.id))}):d.jsxs(fe,{className:"py-20 text-center",children:[d.jsx(Ip,{className:"mx-auto h-16 w-16 text-gray-300"}),d.jsx("h3",{className:"mt-4 font-semibold text-gray-800",children:"No Rewards Available"}),d.jsx("p",{className:"mt-1 text-gray-500",children:"Please check back later for new rewards."})]})]})}),d.jsx("section",{className:"bg-white px-6 py-16",children:d.jsx("div",{className:"container mx-auto max-w-4xl",children:d.jsx(Tbe,{history:t.rewardsHistory})})})]}),d.jsx(dn,{}),d.jsx(wl,{isOpen:s,onClose:_,title:f?"Reward Claimed!":`Redeem: ${(l==null?void 0:l.name)||""}`,children:f?d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-green-100",children:d.jsx(qc,{className:"h-8 w-8 text-green-600"})}),d.jsx("h3",{className:"mt-4 text-lg font-semibold text-gray-900",children:"Success!"}),d.jsx("p",{className:"mt-1 text-gray-600",children:"Show this code at the counter to claim your reward:"}),d.jsxs("div",{className:"relative my-4 rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-4",children:[d.jsx("p",{className:"font-mono text-2xl font-bold text-primary-700 tracking-widest",children:f}),d.jsx("button",{onClick:w,className:"absolute top-2 right-2 text-gray-400 hover:text-primary-600",children:d.jsx(Gte,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"mt-2 flex items-center justify-center gap-2 rounded-lg bg-yellow-50 p-3 text-sm text-yellow-800",children:[d.jsx(Ws,{className:"h-5 w-5 flex-shrink-0"}),d.jsx("span",{children:"This code is for one-time use only."})]}),d.jsx("div",{className:"mt-6",children:d.jsx(Oe,{onClick:_,children:"Close"})})]}):d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-center text-gray-600",children:["Are you sure you want to spend ",d.jsxs("span",{className:"font-bold text-primary-600",children:[l==null?void 0:l.pointsCost," points"]})," to redeem this reward?"]}),d.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[d.jsx(Oe,{variant:"ghost",onClick:_,children:"Cancel"}),d.jsxs(Oe,{onClick:b,disabled:u,children:[u?d.jsx(jt,{className:"mr-2 h-4 w-4 animate-spin"}):d.jsx(qc,{className:"mr-2 h-4 w-4"}),"Confirm"]})]})]})})]}):d.jsxs("div",{className:"flex min-h-screen flex-col bg-gray-50",children:[d.jsx(un,{}),d.jsx("main",{className:"flex flex-1 items-center justify-center px-6 py-20 text-center",children:d.jsxs("div",{children:[d.jsx(Ip,{className:"mx-auto h-24 w-24 text-gray-300 opacity-50"}),d.jsx("h1",{className:"mt-4 font-display text-2xl font-bold text-coffee-900",children:"Join Our Rewards Program"}),d.jsx("p",{className:"mt-2 text-gray-600",children:"Log in or create an account to start earning points and get free coffee!"}),d.jsxs("div",{className:"mt-8 flex justify-center gap-4",children:[d.jsx(He,{to:"/auth/login",className:"rounded-full bg-primary-600 px-8 py-3 font-semibold text-white transition-transform hover:scale-105",children:"Login"}),d.jsx(He,{to:"/auth/register",className:"rounded-full border-2 border-primary-600 px-8 py-3 font-semibold text-primary-600 transition-transform hover:scale-105 hover:bg-primary-50",children:"Sign Up"})]})]})}),d.jsx(dn,{})]})},Nbe=({user:t,onEditPhoto:e})=>{const n=(r,i)=>`${r.charAt(0)}${i.charAt(0)}`.toUpperCase();return d.jsxs("div",{className:"w-full",children:[d.jsx("div",{className:"relative h-48 w-full bg-gradient-to-r from-primary-500 to-coffee-600"}),d.jsxs("div",{className:"-mt-16 px-6",children:[d.jsxs("div",{className:"relative mx-auto h-32 w-32",children:[t.photoURL?d.jsx("img",{src:t.photoURL,alt:`${t.firstName} ${t.lastName}`,className:"h-full w-full rounded-full border-4 border-white object-cover shadow-lg"}):d.jsx("div",{className:"flex h-full w-full items-center justify-center rounded-full border-4 border-white bg-gradient-to-br from-primary-400 to-primary-600 text-white shadow-lg",children:d.jsx("span",{className:"font-display text-4xl font-bold",children:n(t.firstName,t.lastName)})}),d.jsx("button",{onClick:e,className:"absolute bottom-0 right-0 flex h-10 w-10 items-center justify-center rounded-full bg-primary-600 text-white shadow-lg transition-colors hover:bg-primary-700","aria-label":"Edit profile photo",children:d.jsx(Pte,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"mt-4 text-center",children:[d.jsxs("h1",{className:"font-display text-3xl font-bold text-coffee-900",children:[t.firstName," ",t.lastName]}),d.jsx("p",{className:"text-gray-600",children:t.email}),t.role&&d.jsxs(Dn,{className:"mt-2 bg-yellow-100 text-yellow-800 capitalize",children:[d.jsx(Pp,{className:"mr-1 h-3 w-3"}),t.role]})]})]}),d.jsxs("div",{className:"mt-8 grid grid-cols-3 gap-4 border-y border-gray-200 bg-gray-50/50 px-6 py-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx(na,{className:"mx-auto mb-1 h-6 w-6 text-primary-600"}),d.jsx("p",{className:"text-xl font-bold text-coffee-900",children:t.totalOrders}),d.jsx("p",{className:"text-xs text-gray-500",children:"Total Orders"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx(zte,{className:"mx-auto mb-1 h-6 w-6 text-primary-600"}),d.jsxs("p",{className:"text-xl font-bold text-coffee-900",children:["",t.totalSpent.toLocaleString()]}),d.jsx("p",{className:"text-xs text-gray-500",children:"Total Spent"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx(md,{className:"mx-auto mb-1 h-6 w-6 text-primary-600"}),d.jsx("p",{className:"text-xl font-bold text-coffee-900",children:Oc(t.createdAt,"MMMM yyyy")}),d.jsx("p",{className:"text-xs text-gray-500",children:"Member Since"})]})]})]})},Ibe=({user:t,onSave:e,onCancel:n})=>{const[r,i]=g.useState({firstName:t.firstName,lastName:t.lastName,phone:t.phone||""}),[a,s]=g.useState({}),[o,l]=g.useState(!1),[c,u]=g.useState(!1),{showToast:h}=pr();g.useEffect(()=>{const v=r.firstName!==t.firstName||r.lastName!==t.lastName||r.phone!==(t.phone||"");u(v)},[r,t]);const f=()=>{const v={};return r.firstName.length<2&&(v.firstName="First name must be at least 2 characters."),r.lastName.length<2&&(v.lastName="Last name must be at least 2 characters."),r.phone&&!/^(09|\+639)\d{9}$/.test(r.phone)&&(v.phone="Invalid Philippine phone number format."),s(v),Object.keys(v).length===0},m=v=>{i({...r,[v.target.name]:v.target.value})},y=v=>{v.preventDefault(),f()&&(l(!0),setTimeout(()=>{e(r),l(!1),h("Profile updated successfully!")},1e3))};return d.jsxs(fe,{className:"w-full",children:[d.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Edit Profile Information"}),d.jsxs("form",{onSubmit:y,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),d.jsxs("div",{className:"relative mt-1",children:[d.jsx(Rs,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),d.jsx("input",{type:"text",name:"firstName",id:"firstName",value:r.firstName,onChange:m,className:"w-full rounded-md border-gray-300 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0})]}),a.firstName&&d.jsx("p",{className:"mt-1 text-xs text-red-500",children:a.firstName})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),d.jsxs("div",{className:"relative mt-1",children:[d.jsx(Rs,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),d.jsx("input",{type:"text",name:"lastName",id:"lastName",value:r.lastName,onChange:m,className:"w-full rounded-md border-gray-300 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0})]}),a.lastName&&d.jsx("p",{className:"mt-1 text-xs text-red-500",children:a.lastName})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),d.jsxs("div",{className:"relative mt-1",children:[d.jsx(js,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),d.jsx("input",{type:"tel",name:"phone",id:"phone",value:r.phone,onChange:m,className:"w-full rounded-md border-gray-300 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),a.phone&&d.jsx("p",{className:"mt-1 text-xs text-red-500",children:a.phone})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),d.jsxs("div",{className:"relative mt-1",children:[d.jsx(Ma,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),d.jsx("input",{type:"email",name:"email",id:"email",value:t.email||"",className:"w-full rounded-md border-gray-300 bg-gray-100 pl-10 text-gray-500 shadow-sm",disabled:!0,readOnly:!0})]}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Contact support to change your email address."})]}),d.jsxs("div",{className:"flex justify-end gap-3 border-t border-gray-200 pt-4",children:[d.jsxs(Oe,{type:"button",variant:"ghost",onClick:n,children:[d.jsx(Nl,{className:"mr-2 h-4 w-4"}),"Cancel"]}),d.jsxs(Oe,{type:"submit",variant:"primary",disabled:!c||o,children:[o?d.jsx(jt,{className:"mr-2 h-4 w-4 animate-spin"}):d.jsx(zg,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]})]})]})},q6={completed:{icon:qc,color:"bg-green-100 text-green-800"},cancelled:{icon:Nl,color:"bg-red-100 text-red-800"},preparing:{icon:na,color:"bg-blue-100 text-blue-800"},waiting:{icon:na,color:"bg-yellow-100 text-yellow-800"},ready:{icon:na,color:"bg-purple-100 text-purple-800"}},Pbe={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},Cbe={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},jbe=({order:t})=>{var l,c;const e=((l=q6[t.status])==null?void 0:l.icon)||na,n=((c=q6[t.status])==null?void 0:c.color)||"bg-gray-100 text-gray-800",{addMultipleToCart:r,showToast:i}=pr(),{products:a}=af(),s=()=>{const u=[],h=[];for(const f of t.orderItems){const m=a.find(b=>b.id===f.productId);if(!m||!m.available||m.stock===0){h.push(f.productName);continue}const y=f.productName.match(/\((Grande|Venti)\)$/),v=y?y[1]:null;if(!v){h.push(f.productName);continue}const x=m.sizes.find(b=>b.name===v);if(!x){h.push(f.productName);continue}u.push({product:m,selectedSize:x,quantity:f.quantity})}u.length>0&&r(u),h.length>0&&i(`Could not add: ${h.join(", ")}. They may be unavailable.`)},o=()=>{const u=t.orderItems;return u.length<=2?u.map(f=>`${f.quantity}x ${f.productName}`).join(", "):`${u.slice(0,2).map(f=>f.productName).join(", ")}, and ${u.length-2} more item(s)`};return d.jsx(fe,{hover:!0,className:"transition-shadow duration-300",children:d.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[d.jsxs("div",{className:"flex-grow",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("p",{className:"font-mono text-sm font-semibold text-primary-700",children:t.orderNumber}),d.jsxs(Dn,{className:`capitalize ${n}`,children:[d.jsx(e,{className:"mr-1 h-3 w-3"}),t.status]})]}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:Oc(t.timestamp,"MMM dd, yyyy  hh:mm a")}),d.jsx("p",{className:"mt-2 text-sm text-gray-700",children:o()})]}),d.jsxs("div",{className:"flex-shrink-0 text-right sm:ml-4",children:[d.jsxs("p",{className:"font-display text-2xl font-bold text-coffee-900",children:["",t.totalAmount.toFixed(2)]}),d.jsxs(Oe,{size:"sm",variant:"secondary",className:"mt-2",onClick:s,children:[d.jsx(v9,{className:"mr-2 h-4 w-4"}),"Reorder"]})]})]})})},H6=({orders:t,limit:e,showViewAll:n,onViewAll:r})=>{const i=[...t].sort((s,o)=>o.timestamp.getTime()-s.timestamp.getTime()),a=e?i.slice(0,e):i;return t.length===0?d.jsxs("div",{className:"py-16 text-center",children:[d.jsx(dw,{className:"mx-auto h-16 w-16 text-gray-300"}),d.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-800",children:"No Orders Yet"}),d.jsx("p",{className:"mt-2 text-gray-600",children:"Your past orders will appear here."}),d.jsx(Oe,{size:"lg",className:"mt-6",children:"Browse Menu"})]}):d.jsxs("div",{children:[d.jsx(za.div,{className:"space-y-4",variants:Pbe,initial:"hidden",animate:"visible",children:a.map(s=>d.jsx(za.div,{variants:Cbe,layout:!0,children:d.jsx(jbe,{order:s})},s.id))}),n&&i.length>(e||0)&&d.jsx("div",{className:"mt-6 text-center",children:d.jsx(Oe,{variant:"ghost",onClick:r,children:"View All Orders"})})]})},im=({label:t,description:e,enabled:n,onChange:r,Icon:i})=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(i,{className:"h-5 w-5 text-gray-500"}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-gray-800",children:t}),d.jsx("p",{className:"text-sm text-gray-500",children:e})]})]}),d.jsx("button",{type:"button",className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${n?"bg-primary-600":"bg-gray-200"}`,role:"switch","aria-checked":n,onClick:()=>r(!n),children:d.jsx("span",{"aria-hidden":"true",className:`inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${n?"translate-x-5":"translate-x-0"}`})})]}),Rbe=({preferences:t,onUpdatePreferences:e})=>{const[n,r]=g.useState(t),[i,a]=g.useState(!1),[s,o]=g.useState(!1),{showToast:l}=pr(),c=(T,I,j)=>{const A={...n,[T]:{...n[T],[I]:j}};r(A),e({[T]:A[T]}),l("Preferences updated!")},[u,h]=g.useState({current:"",new:"",confirm:""}),[f,m]=g.useState({current:!1,new:!1,confirm:!1}),[y,v]=g.useState(!1),[x,b]=g.useState({password:"",checkbox:!1}),[w,_]=g.useState(!1);return d.jsxs(d.Fragment,{children:[d.jsxs(fe,{children:[d.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900",children:"Preferences & Settings"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"font-semibold text-gray-500",children:"Notifications"}),d.jsx(im,{Icon:uw,label:"Push Notifications",description:"Get notified when order is ready",enabled:n.notifications.push,onChange:T=>c("notifications","push",T)}),d.jsx(im,{Icon:Ma,label:"Email Updates",description:"Receive order updates via email",enabled:n.notifications.emailUpdates,onChange:T=>c("notifications","emailUpdates",T)}),d.jsx(im,{Icon:Ma,label:"Marketing Emails",description:"Get news and promotions",enabled:n.notifications.marketing,onChange:T=>c("notifications","marketing",T)})]}),d.jsx("hr",{className:"my-6"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Vne,{className:"h-5 w-5 text-gray-500"}),d.jsx("h3",{className:"font-semibold text-gray-800",children:"Appearance"})]}),d.jsx("div",{className:"flex gap-2 rounded-full bg-gray-100 p-1",children:["light","dark","auto"].map(T=>d.jsx("button",{onClick:()=>c("theme","theme",T),className:`w-full rounded-full py-1.5 text-sm font-semibold capitalize transition-colors ${n.theme===T?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:T},T))})]}),d.jsx("hr",{className:"my-6"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"font-semibold text-gray-500",children:"Privacy"}),d.jsx(im,{Icon:Pp,label:"Share anonymous usage data",description:"Help us improve our services",enabled:n.privacy.shareUsageData,onChange:T=>c("privacy","shareUsageData",T)}),d.jsx(im,{Icon:Pp,label:"Personalized recommendations",description:"Get recommendations based on your activity",enabled:n.privacy.personalizedRecs,onChange:T=>c("privacy","personalizedRecs",T)})]})]}),d.jsxs(fe,{className:"mt-6 border-l-4 border-red-500",children:[d.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-red-700",children:"Account Management"}),d.jsxs("div",{className:"flex flex-col items-start gap-4 md:flex-row md:items-center md:justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-gray-800",children:"Change Password"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Update your password for better security."})]}),d.jsxs(Oe,{variant:"secondary",onClick:()=>a(!0),children:[d.jsx(vne,{className:"mr-2 h-4 w-4"}),"Change Password"]})]}),d.jsx("hr",{className:"my-4"}),d.jsxs("div",{className:"flex flex-col items-start gap-4 md:flex-row md:items-center md:justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-gray-800",children:"Delete Account"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Permanently delete your account and all data."})]}),d.jsxs(Oe,{variant:"danger",onClick:()=>o(!0),children:[d.jsx(hw,{className:"mr-2 h-4 w-4"}),"Delete Account"]})]})]}),d.jsx(wl,{isOpen:i,onClose:()=>a(!1),title:"Change Password",children:d.jsx("form",{className:"space-y-4",children:d.jsx("p",{className:"text-sm text-gray-600",children:"Password change functionality is coming soon."})})}),d.jsx(wl,{isOpen:s,onClose:()=>o(!1),title:"Delete Account",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-red-100",children:d.jsx(UI,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),d.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Are you absolutely sure?"}),d.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"This action cannot be undone. This will permanently delete your account, orders, and rewards."}),d.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Account deletion functionality is coming soon."})]})})]})},Obe=["Poor","Fair","Good","Very Good","Excellent"],kbe={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"},Yx=({rating:t,onRatingChange:e,readonly:n=!1,size:r="md",className:i=""})=>{const[a,s]=g.useState(0),o=!n&&e,l=m=>{o&&e(m)},c=m=>{o&&s(m)},u=()=>{o&&s(0)},h=a||t,f=h>0?Obe[h-1]:"";return d.jsxs("div",{className:`flex flex-col items-center gap-2 ${i}`,children:[d.jsx("div",{className:"flex",onMouseLeave:u,role:o?"radiogroup":"img","aria-label":o?"Star rating":`Rating: ${t} out of 5 stars`,children:[...Array(5)].map((m,y)=>{const v=y+1,x=v<=h;return d.jsx("button",{type:"button",disabled:!o,onClick:()=>l(v),onMouseEnter:()=>c(v),className:`transition-colors duration-200 ${o?"cursor-pointer":"cursor-default"}`,"aria-label":o?`${v} star`:void 0,"aria-checked":o?t===v:void 0,role:o?"radio":void 0,children:d.jsx(w9,{className:`
                  ${kbe[r]}
                  ${x?"text-yellow-400":"text-gray-300"}
                  transition-transform duration-200
                  ${o&&x?"hover:scale-110":""}
                `,fill:x?"currentColor":"none"})},y)})}),o&&d.jsx("div",{className:"h-5 text-sm font-medium text-gray-600",children:f})]})},Dbe=({user:t})=>{const[e,n]=g.useState(0),[r,i]=g.useState("food"),[a,s]=g.useState(""),[o,l]=g.useState(!1),[c,u]=g.useState([]),[h,f]=g.useState(!0),[m,y]=g.useState(null),{showToast:v}=pr();g.useEffect(()=>{if(!t)return;const _=ge.collection("feedback").where("userId","==",t.uid).onSnapshot(T=>{const I=[];T.forEach(j=>{var S,P;const A=j.data();I.push({id:j.id,...A,createdAt:(S=A.createdAt)==null?void 0:S.toDate(),updatedAt:(P=A.updatedAt)==null?void 0:P.toDate()})}),I.sort((j,A)=>{var S,P;return(((S=A.createdAt)==null?void 0:S.getTime())||0)-(((P=j.createdAt)==null?void 0:P.getTime())||0)}),u(I),f(!1)});return()=>_()},[t]);const x=async w=>{if(w.preventDefault(),e===0||a.trim().length<10){v("Please provide a rating and a comment (at least 10 characters).");return}l(!0);try{await ge.collection("feedback").add({userId:t.uid,rating:e,category:r,comment:a,status:"pending",createdAt:Je.firestore.FieldValue.serverTimestamp(),updatedAt:Je.firestore.FieldValue.serverTimestamp()}),v("Feedback submitted successfully!"),n(0),i("food"),s("")}catch(_){console.error("Error submitting feedback: ",_),v("Failed to submit feedback. Please try again.")}finally{l(!1)}},b={pending:"bg-yellow-100 text-yellow-800",reviewed:"bg-blue-100 text-blue-800",resolved:"bg-green-100 text-green-800"};return d.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[d.jsx("div",{className:"lg:col-span-2",children:d.jsxs(fe,{children:[d.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900",children:"Your Feedback History"}),h?d.jsx("div",{className:"flex items-center justify-center p-8",children:d.jsx(jt,{className:"h-8 w-8 animate-spin text-primary-600"})}):c.length>0?d.jsx("div",{className:"space-y-3",children:c.map(w=>d.jsxs("div",{className:"rounded-lg border border-gray-200",children:[d.jsxs("button",{onClick:()=>y(m===w.id?null:w.id),className:"flex w-full items-center justify-between p-4 text-left",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(Yx,{rating:w.rating,size:"sm",readonly:!0}),d.jsxs("div",{className:"flex-1 overflow-hidden",children:[d.jsx("p",{className:"font-semibold text-gray-800 truncate",children:w.comment}),d.jsx("p",{className:"text-xs text-gray-500",children:w.createdAt?l_(w.createdAt,{addSuffix:!0}):"Just now"})]})]}),d.jsx($h,{className:`h-5 w-5 transform transition-transform ${m===w.id?"rotate-180":""}`})]}),d.jsx(cy,{children:m===w.id&&d.jsx(za.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:d.jsxs("div",{className:"border-t p-4",children:[d.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:w.comment}),w.response&&d.jsxs("div",{className:"mt-4 rounded-md border-l-4 border-primary-400 bg-primary-50 p-3",children:[d.jsx("p",{className:"font-semibold text-primary-800",children:"Response from Rush Coffee:"}),d.jsxs("p",{className:"mt-1 text-sm text-primary-700 italic",children:['"',w.response,'"']})]}),d.jsx("div",{className:"mt-3",children:d.jsx(Dn,{className:`capitalize ${b[w.status]}`,children:w.status})})]})})})]},w.id))}):d.jsxs("div",{className:"py-10 text-center text-gray-500",children:[d.jsx(qh,{className:"mx-auto h-12 w-12 text-gray-300"}),d.jsx("p",{className:"mt-2 font-semibold",children:"No feedback history found."}),d.jsx("p",{className:"text-sm",children:"Share your thoughts with us using the form!"})]})]})}),d.jsx("div",{children:d.jsxs(fe,{children:[d.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900",children:"Leave Feedback"}),d.jsxs("form",{onSubmit:x,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Overall Rating"}),d.jsx(Yx,{rating:e,onRatingChange:n})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),d.jsxs("select",{id:"category",value:r,onChange:w=>i(w.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[d.jsx("option",{value:"food",children:"Food & Drinks"}),d.jsx("option",{value:"service",children:"Service"}),d.jsx("option",{value:"system",children:"App/Website"}),d.jsx("option",{value:"other",children:"Other"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700",children:"Comments"}),d.jsx("textarea",{id:"comment",value:a,onChange:w=>s(w.target.value),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Tell us more about your experience..."})]}),d.jsxs(Oe,{type:"submit",disabled:o,className:"w-full",children:[o?d.jsx(jt,{className:"mr-2 h-4 w-4 animate-spin"}):d.jsx(LI,{className:"mr-2 h-4 w-4"}),o?"Submitting...":"Submit Feedback"]})]})]})})]})},G6=()=>d.jsx(fe,{className:"animate-pulse",children:d.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[d.jsxs("div",{className:"flex-grow space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"h-4 w-1/3 rounded bg-gray-300"}),d.jsx("div",{className:"h-5 w-1/4 rounded-full bg-gray-300"})]}),d.jsx("div",{className:"h-3 w-1/4 rounded bg-gray-300"}),d.jsx("div",{className:"h-4 w-1/2 rounded bg-gray-300"})]}),d.jsxs("div",{className:"flex-shrink-0 space-y-2 text-right sm:ml-4",children:[d.jsx("div",{className:"h-8 w-24 rounded bg-gray-300 ml-auto"}),d.jsx("div",{className:"h-8 w-28 rounded-full bg-gray-300 ml-auto"})]})]})}),Mbe=()=>{const{currentUser:t,updateUserProfile:e,updateUserPhoto:n}=Hr(),{orderHistory:r,isHistoryLoading:i}=mC(),[a,s]=g.useState(null),[o,l]=g.useState("overview"),[c,u]=g.useState(!1),[h,f]=g.useState(!1),[m,y]=g.useState(null),[v,x]=g.useState(null),[b,w]=g.useState(!1),_=g.useRef(null),{showToast:T,addToCart:I}=pr();g.useEffect(()=>{s(t)},[t]),g.useEffect(()=>{if(!m){x(null);return}const B=URL.createObjectURL(m);return x(B),()=>URL.revokeObjectURL(B)},[m]);const j=g.useMemo(()=>a?hA.find(B=>B.id==="cb-01"):null,[a]),A=B=>{a&&e&&(e(B),u(!1))},S=B=>{a&&s(J=>J?{...J,preferences:{...J.preferences,...B}}:null)},P=B=>{if(B.target.files&&B.target.files[0]){if(B.target.files[0].size>2*1024*1024){T("File size should not exceed 2MB.");return}y(B.target.files[0])}},C=()=>{if(!m||!a||!n)return;w(!0);const B=new FileReader;B.readAsDataURL(m),B.onloadend=async()=>{const J=B.result;try{await n(J),w(!1),f(!1),y(null),T("Profile photo updated!")}catch(F){console.error("Error updating photo:",F),T("Failed to update photo."),w(!1)}}},R=()=>{j&&I(j,j.sizes[0])};if(!a)return d.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50",children:d.jsx(jt,{className:"h-12 w-12 animate-spin text-primary-600"})});const k=[{id:"overview",label:"Overview",Icon:Rs},{id:"orders",label:"Order History",Icon:dw},{id:"feedback",label:"My Feedback",Icon:qh},{id:"settings",label:"Settings",Icon:x9}],O=()=>{switch(o){case"orders":return i?d.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((B,J)=>d.jsx(G6,{},J))}):d.jsx(H6,{orders:r});case"settings":return d.jsx(Rbe,{preferences:a.preferences,onUpdatePreferences:S});case"feedback":return d.jsx(Dbe,{user:a});case"overview":default:return d.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[d.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[c?d.jsx(Ibe,{user:a,onSave:A,onCancel:()=>u(!1)}):d.jsxs(fe,{children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"font-display text-xl font-bold text-coffee-900",children:"Quick Info"}),d.jsxs(Oe,{variant:"ghost",size:"sm",onClick:()=>u(!0),children:[d.jsx(b9,{className:"mr-2 h-4 w-4"})," Edit Profile"]})]}),d.jsxs("ul",{className:"mt-4 space-y-3 text-gray-700",children:[d.jsxs("li",{className:"flex items-center gap-3",children:[d.jsx(Ma,{className:"h-5 w-5 text-gray-400"})," ",a.email]}),d.jsxs("li",{className:"flex items-center gap-3",children:[d.jsx(js,{className:"h-5 w-5 text-gray-400"})," ",a.phone||"Not provided"]}),d.jsxs("li",{className:"flex items-center gap-3",children:[d.jsx(md,{className:"h-5 w-5 text-gray-400"})," Member since ",Oc(a.createdAt,"MMMM dd, yyyy")]})]})]}),i?d.jsxs(fe,{children:[d.jsx("h3",{className:"font-display text-xl font-bold text-coffee-900",children:"Recent Orders"}),d.jsx("div",{className:"mt-4 space-y-4",children:Array.from({length:3}).map((B,J)=>d.jsx(G6,{},J))})]}):d.jsx(H6,{orders:r,limit:3,showViewAll:!0,onViewAll:()=>l("orders")})]}),d.jsxs("div",{className:"space-y-6 lg:col-span-1",children:[j&&d.jsxs(fe,{children:[d.jsx("h3",{className:"font-display text-xl font-bold text-coffee-900",children:"Your Favorite"}),d.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[d.jsx("img",{src:j.imageUrl,alt:j.name,className:"h-20 w-20 rounded-lg object-cover"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-gray-800",children:j.name}),d.jsx("p",{className:"text-sm text-gray-500",children:j.category}),d.jsx(Oe,{size:"sm",variant:"secondary",className:"mt-2",onClick:R,children:"Order Again"})]})]})]}),d.jsxs(fe,{children:[d.jsx("h3",{className:"font-display text-xl font-bold text-coffee-900",children:"Quick Stats"}),d.jsxs("ul",{className:"mt-4 space-y-3 text-gray-700",children:[d.jsxs("li",{className:"flex justify-between",children:[d.jsx("span",{children:"Orders this week:"})," ",d.jsx("span",{className:"font-bold",children:"5"})]}),d.jsxs("li",{className:"flex justify-between",children:[d.jsx("span",{children:"Orders this month:"})," ",d.jsx("span",{className:"font-bold",children:"12"})]}),d.jsxs("li",{className:"flex justify-between",children:[d.jsx("span",{children:"Total Savings:"})," ",d.jsx("span",{className:"font-bold text-green-600",children:"250.00"})]})]})]})]})]})}};return d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx(un,{}),d.jsxs("main",{children:[d.jsx(Nbe,{user:a,onEditPhoto:()=>f(!0)}),d.jsx("div",{className:"sticky top-20 z-30 border-b border-gray-200 bg-white/95 backdrop-blur-sm",children:d.jsx("div",{className:"container mx-auto max-w-7xl px-6",children:d.jsx("nav",{className:"-mb-px flex space-x-6 overflow-x-auto",children:k.map(B=>d.jsxs("button",{onClick:()=>l(B.id),className:`group inline-flex shrink-0 items-center gap-2 whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium transition-colors ${o===B.id?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:[d.jsx(B.Icon,{className:`h-5 w-5 ${o!==B.id&&"text-gray-400 group-hover:text-gray-500"}`}),B.label]},B.id))})})}),d.jsx("div",{className:"container mx-auto max-w-7xl p-6",children:O()})]}),d.jsx(dn,{}),d.jsx(wl,{isOpen:h,onClose:()=>f(!1),title:"Upload New Photo",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("input",{type:"file",ref:_,onChange:P,accept:"image/*",className:"hidden"}),d.jsx("div",{className:"flex cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-6 text-center transition hover:bg-gray-100",onClick:()=>{var B;return(B=_.current)==null?void 0:B.click()},children:v?d.jsx("img",{src:v,alt:"Preview",className:"h-32 w-32 rounded-full object-cover"}):d.jsxs(d.Fragment,{children:[d.jsx(eD,{className:"h-12 w-12 text-gray-400"}),d.jsx("span",{className:"mt-2 block text-sm font-semibold text-gray-600",children:"Click to upload"}),d.jsx("span",{className:"mt-1 block text-xs text-gray-500",children:"PNG or JPG (MAX. 2MB)"})]})}),b&&d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:d.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full animate-pulse",style:{width:"100%"}})}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx(Oe,{variant:"ghost",onClick:()=>f(!1),children:"Cancel"}),d.jsxs(Oe,{onClick:C,disabled:!m||b,children:[b?d.jsx(jt,{className:"mr-2 h-4 w-4 animate-spin"}):d.jsx(eD,{className:"mr-2 h-4 w-4"}),"Upload Photo"]})]})]})})]})},Lbe=(t,e=2e3)=>{const[n,r]=g.useState(0),i=g.useRef(null),a=t%1!==0?1:0;return g.useEffect(()=>{const s=new IntersectionObserver(([l])=>{if(l.isIntersecting){let c=0;const u=t;if(c===u){r(u);return}const h=Math.round(e/(1e3/60)),f=(u-c)/h,m=()=>{c+=f,c<u?(r(c),requestAnimationFrame(m)):r(u)};requestAnimationFrame(m),s.disconnect()}},{threshold:.1}),o=i.current;return o&&s.observe(o),()=>{o&&s.unobserve(o)}},[t,e]),{count:n.toFixed(a),ref:i}},Nv=({icon:t,value:e,label:n,suffix:r=""})=>{const{count:i,ref:a}=Lbe(e),s=i.includes(".");return d.jsxs("div",{className:"flex flex-col items-center text-center",children:[d.jsx(t,{className:"mb-2 h-10 w-10 text-primary-600"}),d.jsxs("span",{ref:a,className:"font-display text-4xl font-bold text-coffee-900",children:[Number(i).toLocaleString(void 0,{minimumFractionDigits:s?1:0,maximumFractionDigits:s?1:0}),r]}),d.jsx("p",{className:"mt-1 text-gray-600",children:n})]})},Vbe=()=>d.jsxs("div",{className:"bg-white",children:[d.jsx(un,{}),d.jsxs("main",{children:[d.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-primary-50 via-coffee-100 to-white px-6 py-24 text-center",children:[d.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/az-subtle.png')] opacity-30"}),d.jsxs("div",{className:"relative z-10 mx-auto max-w-4xl",children:[d.jsx("h1",{className:"animate-fade-in-up font-display text-5xl font-bold text-coffee-900 md:text-6xl",style:{animationDelay:"100ms",opacity:0},children:"About Rush Coffee"}),d.jsx("p",{className:"animate-fade-in-up mt-4 text-xl text-gray-700 md:text-2xl",style:{animationDelay:"300ms",opacity:0},children:"More than just coffee, it's a revolution in your daily ritual."})]})]}),d.jsx("section",{className:"px-6 py-20",children:d.jsxs("div",{className:"container mx-auto grid max-w-7xl items-center gap-12 md:grid-cols-2",children:[d.jsxs("div",{className:"animate-fade-in-up",children:[d.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"Our Story"}),d.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"Founded in 2023 by a group of passionate coffee aficionados and tech enthusiasts, Rush Coffee was born from a simple yet powerful idea: your coffee break should be a moment of joy, not a test of patience."}),d.jsx("p",{className:"mt-4 text-gray-600",children:"We saw the long lines, the rushed orders, and the precious minutes slipping away from people's days. Our mission became clear: to blend the rich tradition of artisanal coffee with the seamless efficiency of modern technology. We're not just serving coffee; we're giving you back your time, one perfectly brewed cup at a time."})]}),d.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"200ms",opacity:0},children:d.jsx("img",{src:"/Menu/free-pastry-item.jpg",alt:"Inside Rush Coffee shop",className:"h-80 w-full rounded-lg object-cover shadow-xl"})})]})}),d.jsx("section",{className:"bg-gray-50 px-6 py-20",children:d.jsxs("div",{className:"container mx-auto max-w-7xl",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"What We Stand For"}),d.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-gray-600",children:"Our core values guide every bean we roast and every line of code we write."})]}),d.jsxs("div",{className:"mt-12 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-4",children:[d.jsxs(fe,{hover:!0,className:"text-center",children:[d.jsx(na,{className:"mx-auto mb-4 h-12 w-12 text-primary-600"}),d.jsx("h3",{className:"font-display text-xl font-semibold text-coffee-900",children:"Quality"}),d.jsx("p",{className:"mt-2 text-gray-600",children:"From ethically sourced, premium beans to the perfect extraction, excellence is in every cup."})]}),d.jsxs(fe,{hover:!0,className:"text-center",children:[d.jsx(pre,{className:"mx-auto mb-4 h-12 w-12 text-primary-600"}),d.jsx("h3",{className:"font-display text-xl font-semibold text-coffee-900",children:"Speed"}),d.jsx("p",{className:"mt-2 text-gray-600",children:"Our digital queue system ensures your order is ready when you are. Fast, efficient, and always fresh."})]}),d.jsxs(fe,{hover:!0,className:"text-center",children:[d.jsx(Cp,{className:"mx-auto mb-4 h-12 w-12 text-primary-600"}),d.jsx("h3",{className:"font-display text-xl font-semibold text-coffee-900",children:"Community"}),d.jsx("p",{className:"mt-2 text-gray-600",children:"We're more than a coffee shop; we're a hub for connection, creativity, and caffeine lovers."})]}),d.jsxs(fe,{hover:!0,className:"text-center",children:[d.jsx(_ne,{className:"mx-auto mb-4 h-12 w-12 text-primary-600"}),d.jsx("h3",{className:"font-display text-xl font-semibold text-coffee-900",children:"Innovation"}),d.jsx("p",{className:"mt-2 text-gray-600",children:"Continuously improving your experience by thoughtfully integrating technology with tradition."})]})]})]})}),d.jsx("section",{className:"bg-white px-6 py-20",children:d.jsx("div",{className:"container mx-auto max-w-7xl",children:d.jsxs("div",{className:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-4",children:[d.jsx(Nv,{icon:Cp,value:1e4,label:"Happy Customers",suffix:"+"}),d.jsx(Nv,{icon:na,value:5e4,label:"Coffees Served",suffix:"+"}),d.jsx(Nv,{icon:w9,value:4.9,label:"Average Rating"}),d.jsx(Nv,{icon:hre,value:5,label:"Minutes Average Wait"})]})})}),d.jsx("section",{className:"bg-gray-50 px-6 py-20",children:d.jsxs("div",{className:"container mx-auto grid max-w-7xl items-center gap-12 lg:grid-cols-2",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"Visit Us"}),d.jsx("p",{className:"mt-4 text-gray-600",children:"Experience the Rush Coffee difference in person. We're ready to serve you."}),d.jsxs("ul",{className:"mt-6 space-y-4",children:[d.jsxs("li",{className:"flex items-start gap-4",children:[d.jsx(MI,{className:"mt-1 h-6 w-6 flex-shrink-0 text-primary-600"}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-coffee-900",children:"Address"}),d.jsx("p",{className:"text-gray-600",children:"123 Coffee Street, Malate, Manila, 1004 Metro Manila"})]})]}),d.jsxs("li",{className:"flex items-start gap-4",children:[d.jsx(vu,{className:"mt-1 h-6 w-6 flex-shrink-0 text-primary-600"}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-coffee-900",children:"Operating Hours"}),d.jsx("p",{className:"text-gray-600",children:"Monday - Friday: 7:00 AM - 8:00 PM"}),d.jsx("p",{className:"text-gray-600",children:"Saturday - Sunday: 8:00 AM - 6:00 PM"})]})]}),d.jsxs("li",{className:"flex items-start gap-4",children:[d.jsx(js,{className:"mt-1 h-6 w-6 flex-shrink-0 text-primary-600"}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-coffee-900",children:"Contact"}),d.jsx("a",{href:"tel:+639171234567",className:"text-primary-600 transition hover:text-primary-700",children:"+63 917 123 4567"})]})]})]}),d.jsx(Oe,{size:"lg",className:"mt-8",children:"Get Directions"})]}),d.jsx("div",{className:"h-96 overflow-hidden rounded-lg shadow-xl",children:d.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gray-300 bg-cover bg-center",style:{backgroundImage:"url('/Coffee Based/coffee-jelly.jpg')"},children:d.jsx("span",{className:"rounded bg-white/80 px-4 py-2 font-semibold text-gray-700 backdrop-blur-sm",children:"[Google Maps Placeholder]"})})})]})}),d.jsxs("section",{className:"relative bg-gradient-to-r from-primary-600 via-coffee-600 to-primary-700 px-6 py-20",children:[d.jsx("div",{className:"absolute -left-1/4 -top-1/4 opacity-10",children:d.jsx(vn,{className:"h-64 w-64 animate-float text-white"})}),d.jsx("div",{className:"absolute -bottom-1/4 -right-1/4 opacity-10",children:d.jsx(vn,{className:"h-80 w-80 animate-float-delay text-white"})}),d.jsxs("div",{className:"relative z-10 mx-auto max-w-4xl text-center",children:[d.jsx("h2",{className:"font-display text-4xl font-bold text-white md:text-5xl",children:"Ready to Experience the Rush?"}),d.jsx("p",{className:"mb-8 mt-4 text-xl text-primary-100",children:"Join thousands of customers who've already skipped the line."}),d.jsxs(He,{to:"/auth/register",className:"inline-flex transform items-center justify-center gap-2 rounded-full bg-white px-8 py-4 text-lg font-semibold text-primary-600 shadow-lg transition hover:scale-105 hover:shadow-2xl",children:["Order Now",d.jsx(Zd,{className:"h-5 w-5"})]}),d.jsxs("p",{className:"mt-4 text-sm",children:[d.jsx("span",{className:"text-white/80",children:"Already have an account? "}),d.jsx(He,{to:"/auth/login",className:"font-semibold text-white underline transition hover:text-primary-100",children:"Login"})]})]})]})]}),d.jsx(dn,{})]}),pC=g.forwardRef(({className:t,label:e,error:n,helperText:r,startIcon:i,containerClassName:a,id:s,showCharCount:o=!1,maxLength:l,autoResize:c=!1,value:u,onChange:h,...f},m)=>{const[y,v]=td.useState(0),x=td.useRef(null);td.useEffect(()=>{u!==void 0&&v(String(u).length)},[u]),td.useEffect(()=>{c&&x.current&&(x.current.style.height="auto",x.current.style.height=`${x.current.scrollHeight}px`)},[u,c]);const b=_=>{v(_.target.value.length),h&&h(_)},w=_=>{x.current=_,typeof m=="function"?m(_):m&&(m.current=_)};return d.jsxs("div",{className:`w-full ${a||""}`,children:[e&&d.jsx("label",{htmlFor:s,className:"mb-1.5 block text-sm font-medium text-coffee-900",children:e}),d.jsxs("div",{className:"relative group",children:[i&&d.jsx("div",{className:"pointer-events-none absolute left-3 top-3 text-gray-400 transition-colors group-focus-within:text-primary-600",children:i}),d.jsx("textarea",{id:s,className:`
              w-full rounded-xl border bg-white px-4 py-3.5 text-sm text-gray-900 
              placeholder:text-gray-500 placeholder:font-medium transition-all duration-200 ease-in-out resize-none
              focus:border-primary-500 focus:outline-none focus:ring-4 focus:ring-primary-500/10
              disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500
              ${i?"pl-10":""}
              ${n?"border-red-300 focus:border-red-500 focus:ring-red-500/10":"border-gray-500 shadow-sm hover:border-primary-400"}
              ${c?"overflow-hidden":""}
              ${t||""}
            `,ref:w,value:u,onChange:b,maxLength:l,...f})]}),d.jsxs("div",{className:"mt-1.5 flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[n&&d.jsx("p",{className:"text-xs font-medium text-red-600 animate-fade-in-up",children:n}),!n&&r&&d.jsx("p",{className:"text-xs text-gray-500",children:r})]}),o&&l&&d.jsxs("p",{className:`text-xs ml-2 flex-shrink-0 transition-colors ${y>l*.9?"text-amber-600 font-medium":"text-gray-400"}`,children:[y,"/",l]})]})]})});pC.displayName="Textarea";const $q=g.forwardRef(({className:t,label:e,error:n,helperText:r,startIcon:i,containerClassName:a,id:s,options:o,children:l,...c},u)=>d.jsxs("div",{className:`w-full ${a||""}`,children:[e&&d.jsx("label",{htmlFor:s,className:"mb-1.5 block text-sm font-medium text-coffee-900",children:e}),d.jsxs("div",{className:"relative group",children:[i&&d.jsx("div",{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 transition-colors group-focus-within:text-primary-600 z-10",children:i}),d.jsx("select",{id:s,className:`
              w-full appearance-none rounded-xl border bg-white px-4 py-3.5 text-sm text-gray-900 
              cursor-pointer transition-all duration-200 ease-in-out
              focus:border-primary-500 focus:outline-none focus:ring-4 focus:ring-primary-500/10
              disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500
              ${i?"pl-10":""}
              pr-10
              ${n?"border-red-300 focus:border-red-500 focus:ring-red-500/10":"border-gray-500 shadow-sm hover:border-primary-400"}
              ${t||""}
            `,ref:u,...c,children:o?o.map(h=>d.jsx("option",{value:h.value,disabled:h.disabled,children:h.label},h.value)):l}),d.jsx("div",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:d.jsx($h,{className:"h-5 w-5"})})]}),n&&d.jsx("p",{className:"mt-1.5 text-xs font-medium text-red-600 animate-fade-in-up",children:n}),!n&&r&&d.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:r})]}));$q.displayName="Select";const Ube=[{question:"What are your operating hours?",answer:"We are open Monday to Friday from 7:00 AM to 8:00 PM, and Saturday to Sunday from 8:00 AM to 6:00 PM."},{question:"How does the digital queue system work?",answer:"Simply place your order through our app or website. You'll be added to our virtual queue and receive real-time updates on your order status, including your position and estimated wait time. You'll get a notification when it's ready for pickup!"},{question:"Can I customize my drink?",answer:"Absolutely! Most of our drinks can be customized. You can choose your milk, sweetness level, add extra shots, and more right from the order page."},{question:"Do you offer catering services for events?",answer:"Yes, we do! We offer a range of catering options for meetings, parties, and events. Please use the contact form and select 'Partnership' as the subject to discuss your needs with us."},{question:"How do I earn and redeem rewards points?",answer:"You earn points with every purchase made through your account. You can view your points balance and redeem available rewards on the 'Rewards' page in the app."}],zbe=({question:t,answer:e,isOpen:n,onClick:r})=>d.jsxs("div",{className:"border-b border-gray-200",children:[d.jsxs("button",{onClick:r,className:"flex w-full items-center justify-between py-4 text-left text-lg font-medium text-gray-800 focus:outline-none",children:[d.jsx("span",{children:t}),d.jsx($h,{className:`h-6 w-6 transform transition-transform duration-300 ${n?"rotate-180":""}`})]}),d.jsx(cy,{children:n&&d.jsx(za.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:d.jsx("p",{className:"pb-4 text-gray-600",children:e})})})]}),Iv=({icon:t,title:e,children:n})=>d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:"mt-1 flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-primary-100",children:d.jsx(t,{className:"h-6 w-6 text-primary-600"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-display text-xl font-bold text-coffee-900",children:e}),n]})]}),Bbe=()=>{const[t,e]=g.useState(0),[n,r]=g.useState({name:"",email:"",phone:"",subject:"",message:""}),[i,a]=g.useState({}),[s,o]=g.useState(!1),[l,c]=g.useState(!1),u=()=>{const m={};return n.name.length<2&&(m.name="Name must be at least 2 characters."),/\S+@\S+\.\S+/.test(n.email)||(m.email="Please enter a valid email address."),n.subject||(m.subject="Please select a subject."),n.message.length<10&&(m.message="Message must be at least 10 characters."),a(m),Object.keys(m).length===0},h=m=>{m.preventDefault(),u()&&(o(!0),c(!1),setTimeout(()=>{o(!1),c(!0),r({name:"",email:"",phone:"",subject:"",message:""}),setTimeout(()=>c(!1),5e3)},1500))},f=m=>{r({...n,[m.target.name]:m.target.value})};return d.jsxs("div",{className:"bg-white",children:[d.jsx(un,{}),d.jsxs("main",{children:[d.jsxs("section",{className:"bg-gradient-to-br from-primary-50 to-coffee-50 px-6 py-20 text-center",children:[d.jsx("h1",{className:"font-display text-5xl font-bold text-coffee-900 md:text-6xl",children:"Get in Touch"}),d.jsx("p",{className:"mt-4 text-xl text-gray-700",children:"We're here to help and answer any question you might have."})]}),d.jsx("section",{className:"px-6 py-20",children:d.jsxs("div",{className:"container mx-auto grid max-w-7xl gap-12 lg:grid-cols-5",children:[d.jsx("div",{className:"lg:col-span-3",children:d.jsx(fe,{children:d.jsxs("div",{className:"p-8",children:[d.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900",children:"Send us a Message"}),l&&d.jsxs(za.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mt-4 flex items-center gap-3 rounded-xl bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 p-4 shadow-sm",children:[d.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-green-500",children:d.jsx(DI,{className:"h-6 w-6 text-white"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-green-900",children:"Message Sent Successfully!"}),d.jsx("p",{className:"text-sm text-green-700",children:"We'll get back to you within 24 hours."})]})]}),d.jsxs("form",{onSubmit:h,className:"mt-6 space-y-6",children:[d.jsx(kn,{id:"name",name:"name",label:"Name",value:n.name,onChange:f,placeholder:"Full Name",required:!0,error:i.name,startIcon:d.jsx(Rs,{className:"h-5 w-5"})}),d.jsx(kn,{id:"email",name:"email",type:"email",label:"Email",value:n.email,onChange:f,placeholder:"name@company.com",required:!0,error:i.email,startIcon:d.jsx(Ma,{className:"h-5 w-5"})}),d.jsx(kn,{id:"phone",name:"phone",type:"tel",label:"Phone",value:n.phone,onChange:f,placeholder:"Phone Number (Optional)",startIcon:d.jsx(js,{className:"h-5 w-5"})}),d.jsxs($q,{id:"subject",name:"subject",label:"Subject",value:n.subject,onChange:f,required:!0,error:i.subject,startIcon:d.jsx(cne,{className:"h-5 w-5"}),children:[d.jsx("option",{value:"",disabled:!0,children:"Select a subject..."}),d.jsx("option",{value:"general",children:"General Inquiry"}),d.jsx("option",{value:"feedback",children:"Feedback"}),d.jsx("option",{value:"partnership",children:"Partnership"}),d.jsx("option",{value:"support",children:"Support"})]}),d.jsx(pC,{id:"message",name:"message",label:"Message",value:n.message,onChange:f,placeholder:"How can we help you today?",rows:5,required:!0,error:i.message,startIcon:d.jsx(qh,{className:"h-5 w-5"}),showCharCount:!0,maxLength:500,helperText:"Please provide as much detail as possible"}),d.jsx(Oe,{type:"submit",size:"lg",fullWidth:!0,isLoading:s,startIcon:!s&&d.jsx(LI,{className:"h-5 w-5"}),children:s?"Sending...":"Send Message"})]})]})})}),d.jsxs("div",{className:"space-y-8 lg:col-span-2 lg:pt-16",children:[d.jsxs(Iv,{icon:MI,title:"Visit Us",children:[d.jsx("p",{className:"mt-1 text-gray-600",children:"123 Coffee Street, Malate, Manila"}),d.jsx(Oe,{variant:"secondary",size:"sm",className:"mt-2",children:"Get Directions"})]}),d.jsxs(Iv,{icon:js,title:"Call Us",children:[d.jsx("a",{href:"tel:+639171234567",className:"mt-1 text-primary-600 transition hover:text-primary-700",children:"+63 917 123 4567"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Mon-Sun: 7AM - 8PM"})]}),d.jsxs(Iv,{icon:Ma,title:"Email Us",children:[d.jsx("a",{href:"mailto:hello@rushcoffee.ph",className:"mt-1 text-primary-600 transition hover:text-primary-700",children:"hello@rushcoffee.ph"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Responds within 24 hours"})]}),d.jsx(Iv,{icon:Yne,title:"Follow Us",children:d.jsxs("div",{className:"mt-2 flex gap-4",children:[d.jsx("a",{href:"#","aria-label":"Facebook",className:"text-gray-500 transition hover:text-primary-600",children:d.jsx(m9,{})}),d.jsx("a",{href:"#","aria-label":"Instagram",className:"text-gray-500 transition hover:text-primary-600",children:d.jsx(p9,{})}),d.jsx("a",{href:"#","aria-label":"Twitter",className:"text-gray-500 transition hover:text-primary-600",children:d.jsx(_9,{})})]})})]})]})}),d.jsx("section",{className:"bg-gray-50 px-6 py-20",children:d.jsxs("div",{className:"container mx-auto max-w-4xl",children:[d.jsx("h2",{className:"text-center font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"Frequently Asked Questions"}),d.jsx("div",{className:"mt-8",children:Ube.map((m,y)=>d.jsx(zbe,{...m,isOpen:t===y,onClick:()=>e(t===y?null:y)},y))})]})}),d.jsx("section",{children:d.jsx("div",{className:"h-96 w-full bg-gray-300 flex items-center justify-center",children:d.jsx("p",{className:"text-gray-600 font-semibold",children:"[Google Maps Embed Placeholder]"})})})]}),d.jsx(dn,{})]})},qq=[{category:"Ordering & Queue",question:"How do I join the virtual queue?",answer:"Simply place an order through our website or app. You'll automatically join the queue and receive your position number."},{category:"Ordering & Queue",question:"Can I see my queue position in real-time?",answer:"Yes! Your queue page updates in real-time showing your current position and estimated wait time."},{category:"Ordering & Queue",question:"What happens if I miss my turn?",answer:"Don't worry! You have a 10-minute grace period to pick up your order once it's ready. After that, your order will be held for you, but you may need to wait briefly if we are busy."},{category:"Ordering & Queue",question:"Can I cancel my order?",answer:"Yes, you can cancel an order directly from your order history as long as its status is still 'waiting'. Once it moves to 'preparing', it can no longer be canceled. Refunds for successful cancellations are processed within 3-5 business days."},{category:"Payments",question:"What payment methods do you accept?",answer:"We currently accept GCash for pre-payment and cash on pickup. We are working on adding more digital payment options soon!"},{category:"Payments",question:"Is it safe to pay via GCash?",answer:"Absolutely! We use a secure payment process, and your payment information is encrypted and handled safely."},{category:"Payments",question:"Do I need to pay upfront?",answer:"For GCash payments, yes, payment is required upon placing the order. For cash payments, you can pay at the counter when you pick up your order."},{category:"Rewards",question:"How do I earn rewards points?",answer:"You earn points with every purchase made through your Rush Coffee account! The current rate is 1 point for every 10 spent. Keep an eye out for special promotions to earn bonus points."},{category:"Rewards",question:"When do my points expire?",answer:"Good news - your points never expire! You can save them up for as long as you like and redeem them for rewards whenever you're ready."},{category:"Rewards",question:"What are the tier benefits?",answer:"We have three tiers! Bronze (0-299pts): Earn 1x points. Silver (300-999pts): Earn 1.5x points and get access to exclusive silver rewards. Gold (1000+pts): Earn 2x points, get VIP perks, and early access to new items."},{category:"Account",question:"Do I need an account to order?",answer:"Yes, creating an account is necessary. It allows us to manage your orders in the queue, track your rewards points, and save your preferences for a faster checkout next time."},{category:"Account",question:"How do I reset my password?",answer:"On the login page, click the 'Forgot your password?' link. We'll send a password reset link to the email address associated with your account."},{category:"Account",question:"Can I change my email address?",answer:"To update the email address on your account, please contact our support team at hello@rushcoffee.ph, and we'll be happy to assist you."},{category:"Technical",question:"The website isn't working correctly. What should I do?",answer:"First, try refreshing the page. If that doesn't work, clearing your browser's cache and cookies often resolves the issue. If you're still experiencing problems, please contact our support team with details about the issue."},{category:"Technical",question:"Do you have a mobile app?",answer:"A dedicated mobile app for iOS and Android is currently in development and will be launching soon! For now, our website is fully responsive and works great on all mobile browsers."},{category:"General",question:"What are your operating hours?",answer:"We're open Monday to Sunday, from 7:00 AM to 10:00 PM. Hours may vary on public holidays."},{category:"General",question:"Do you offer WiFi in your store?",answer:"Yes, we offer complimentary high-speed WiFi for all our customers. Just ask our staff for the network details."},{category:"General",question:"Can I customize my drink?",answer:"Absolutely! You can customize aspects like milk type, sweetness level, add extra espresso shots, and choose from various syrups and toppings directly on the product page before adding an item to your cart."}],Fbe=["All",...Array.from(new Set(qq.map(t=>t.category)))],$be=({question:t,answer:e,isOpen:n,onClick:r,highlight:i})=>{const a=(s,o)=>{if(!o.trim())return s;const l=new RegExp(`(${o})`,"gi");return s.split(l).map((c,u)=>l.test(c)?d.jsx("mark",{className:"bg-primary-100 text-primary-700 rounded-sm",children:c},u):c)};return d.jsxs("div",{className:"border-b border-gray-200",children:[d.jsxs("button",{onClick:r,className:"flex w-full items-center justify-between py-5 text-left text-lg font-medium text-gray-800 focus:outline-none focus:bg-gray-50 rounded-md",children:[d.jsx("span",{className:"flex-1 pr-4",children:a(t,i)}),d.jsx($h,{className:`h-6 w-6 transform text-primary-600 transition-transform duration-300 ${n?"rotate-180":""}`})]}),d.jsx(cy,{children:n&&d.jsx(za.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:d.jsx("div",{className:"pb-5 pr-6 text-gray-600 leading-relaxed",children:a(e,i)})})})]})},qbe=()=>{const[t,e]=g.useState(""),[n,r]=g.useState("All"),[i,a]=g.useState(0),s=g.useMemo(()=>qq.filter(o=>{const l=n==="All"||o.category===n,c=t.trim()===""||o.question.toLowerCase().includes(t.toLowerCase())||o.answer.toLowerCase().includes(t.toLowerCase());return l&&c}),[t,n]);return d.jsxs("div",{className:"bg-white",children:[d.jsx(un,{}),d.jsxs("main",{children:[d.jsx("section",{className:"bg-gradient-to-br from-primary-50 to-coffee-50 px-6 py-16",children:d.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[d.jsx("h1",{className:"font-display text-5xl font-bold text-coffee-900 md:text-6xl",children:"Frequently Asked Questions"}),d.jsx("p",{className:"mt-4 text-xl text-gray-700",children:"Everything you need to know about Rush Coffee"}),d.jsxs("div",{className:"relative mx-auto mt-8 max-w-2xl",children:[d.jsx(ux,{className:"absolute left-6 top-1/2 h-6 w-6 -translate-y-1/2 text-gray-400"}),d.jsx("input",{type:"search",placeholder:"Search for answers...",value:t,onChange:o=>e(o.target.value),className:"w-full rounded-full border border-gray-300 bg-white py-4 pl-16 pr-6 text-lg shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500"})]})]})}),d.jsx("div",{className:"sticky top-20 z-30 border-b border-gray-200 bg-white/95 py-3 backdrop-blur-sm",children:d.jsx("div",{className:"container mx-auto flex max-w-7xl gap-2 overflow-x-auto px-6 pb-2",children:Fbe.map(o=>d.jsx("button",{onClick:()=>r(o),className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition-colors ${n===o?"bg-primary-600 text-white shadow":"border border-gray-300 bg-white text-gray-700 hover:bg-gray-100"}`,children:o},o))})}),d.jsx("section",{className:"px-6 py-16",children:d.jsx("div",{className:"container mx-auto max-w-4xl",children:s.length>0?d.jsxs("div",{children:[d.jsxs("p",{className:"mb-4 text-sm text-gray-500",children:[s.length," question(s) found"]}),s.map((o,l)=>d.jsx($be,{question:o.question,answer:o.answer,isOpen:i===l,onClick:()=>a(i===l?null:l),highlight:t},`${o.category}-${l}`))]}):d.jsxs("div",{className:"py-20 text-center",children:[d.jsx(ux,{className:"mx-auto h-16 w-16 text-gray-300"}),d.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-800",children:"No Results Found"}),d.jsxs("p",{className:"mt-2 text-gray-500",children:[`We couldn't find any answers for "`,t,'". Try a different search term or category.']})]})})}),d.jsx("section",{className:"bg-gray-50 px-6 py-20",children:d.jsx("div",{className:"container mx-auto max-w-4xl",children:d.jsxs(fe,{className:"text-center",children:[d.jsx(Fte,{className:"mx-auto h-12 w-12 text-primary-600"}),d.jsx("h2",{className:"mt-4 font-display text-3xl font-bold text-coffee-900",children:"Still have questions?"}),d.jsx("p",{className:"mt-2 text-gray-600",children:"If you can't find the answer you're looking for, please get in touch with our support team."}),d.jsx("div",{className:"mt-6 flex flex-col items-center justify-center gap-4 sm:flex-row",children:d.jsx(He,{to:"/contact",children:d.jsxs(Oe,{size:"lg",children:[d.jsx(One,{className:"mr-2 h-5 w-5"}),"Contact Support"]})})})]})})})]}),d.jsx(dn,{})]})},Hbe=({cartItems:t,isOpen:e,onClose:n,onUpdateQuantity:r,onRemoveItem:i,onCheckout:a})=>{const s=Hi(),o=t.reduce((u,h)=>u+h.quantity,0),l=t.reduce((u,h)=>u+h.selectedSize.price*h.quantity,0),c=()=>{n(),s("/menu")};return d.jsxs(d.Fragment,{children:[d.jsx("div",{onClick:n,className:`fixed inset-0 z-40 bg-black/50 transition-opacity duration-300 ${e?"opacity-100":"opacity-0 pointer-events-none"}`,"aria-hidden":"true"}),d.jsx("aside",{className:`fixed top-0 right-0 z-50 h-full w-full transform bg-white shadow-2xl transition-transform duration-300 ease-in-out sm:w-96 md:w-[450px] ${e?"translate-x-0":"translate-x-full"}`,role:"dialog","aria-modal":"true","aria-labelledby":"cart-heading",children:d.jsxs("div",{className:"flex h-full flex-col",children:[d.jsxs("header",{className:"flex items-center justify-between border-b border-gray-200 p-6",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h2",{id:"cart-heading",className:"font-display text-xl font-bold text-coffee-900",children:"Your Order"}),o>0&&d.jsxs(Dn,{children:[o," ",o===1?"item":"items"]})]}),d.jsx("button",{onClick:n,className:"rounded-md p-2 text-gray-500 transition-colors hover:bg-gray-100 hover:text-gray-800","aria-label":"Close cart",children:d.jsx(Nl,{className:"h-6 w-6"})})]}),t.length===0?d.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-4 p-6 text-center",children:[d.jsx(vn,{className:"h-24 w-24 text-gray-300 opacity-50"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Your cart is empty"}),d.jsx("p",{className:"text-gray-500",children:"Looks like you haven't added anything yet."}),d.jsx("button",{onClick:c,className:"mt-4 rounded-full bg-primary-600 px-6 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-700",children:"Start Ordering"})]}):d.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:d.jsx("ul",{className:"-my-4 divide-y divide-gray-200",children:t.map(u=>{const h=u.selectedSize.name==="Combo Meal",f=h?`${u.product.name} (${u.selectedSize.name})`:u.product.name,m=h&&u.product.comboImageUrl?u.product.comboImageUrl:u.product.imageUrl;return d.jsxs("li",{className:"relative flex items-center gap-4 py-4",children:[d.jsx("div",{className:"h-16 w-16 flex-shrink-0 overflow-hidden rounded-md border border-gray-200",children:d.jsx("img",{src:m,alt:f,className:"h-full w-full object-cover object-center"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-semibold text-gray-800",children:f}),d.jsxs("p",{className:"text-sm text-gray-500",children:[u.selectedSize.size," - ",u.selectedSize.price.toFixed(2)]}),d.jsxs("div",{className:"mt-2 flex items-center",children:[d.jsx("button",{onClick:()=>r(u.id,u.quantity-1),disabled:u.quantity===1,className:"flex h-8 w-8 items-center justify-center rounded-full border border-gray-300 text-gray-600 transition hover:bg-gray-100 disabled:cursor-not-allowed disabled:opacity-50","aria-label":`Decrease quantity of ${f}`,children:d.jsx(y9,{className:"h-4 w-4"})}),d.jsx("span",{className:"w-12 text-center font-semibold text-gray-800","aria-live":"polite",children:u.quantity}),d.jsx("button",{onClick:()=>r(u.id,u.quantity+1),className:"flex h-8 w-8 items-center justify-center rounded-full border border-gray-300 text-gray-600 transition hover:bg-gray-100","aria-label":`Increase quantity of ${f}`,children:d.jsx(Ug,{className:"h-4 w-4"})})]})]}),d.jsxs("p",{className:"font-semibold text-gray-900",children:["",(u.selectedSize.price*u.quantity).toFixed(2)]}),d.jsx("button",{onClick:()=>i(u.id),className:"absolute top-4 right-0 p-1 text-gray-400 transition-colors hover:text-red-600","aria-label":`Remove ${f} from cart`,children:d.jsx(hw,{className:"h-5 w-5"})})]},u.id)})})}),t.length>0&&d.jsxs("footer",{className:"mt-auto border-t border-gray-200 p-6",children:[d.jsxs("div",{className:"flex items-center justify-between text-lg font-semibold text-gray-900",children:[d.jsx("span",{children:"Subtotal"}),d.jsxs("span",{children:["",l.toFixed(2)]})]}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Taxes and service fee calculated at checkout."}),d.jsx("div",{className:"mt-6",children:d.jsxs("button",{onClick:a,disabled:t.length===0,className:"flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-6 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-gray-400",children:["Proceed to Checkout",d.jsx(Zd,{className:"h-5 w-5"})]})})]})]})})]})},Gbe=()=>{const{pathname:t}=ca();return g.useEffect(()=>{window.scrollTo(0,0)},[t]),null},Kbe=()=>{const{currentUser:t,loading:e}=Hr(),n=ca();return e?d.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-gray-50",children:d.jsx(jt,{className:"h-12 w-12 animate-spin text-primary-600"})}):t?t.role!=="admin"?d.jsx(Qk,{to:"/",replace:!0}):d.jsx(a9,{}):d.jsx(Qk,{to:"/auth/login",state:{from:n},replace:!0})},Wbe={blue:{bg:"bg-blue-100",text:"text-blue-600"},green:{bg:"bg-green-100",text:"text-green-600"},yellow:{bg:"bg-yellow-100",text:"text-yellow-600"},purple:{bg:"bg-purple-100",text:"text-purple-600"}},Fo=({title:t,value:e,Icon:n,isLoading:r,color:i})=>{const{bg:a,text:s}=Wbe[i];return d.jsxs(fe,{className:"flex items-start gap-4 p-6",children:[d.jsx("div",{className:`flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full ${a}`,children:d.jsx(n,{className:`h-6 w-6 ${s}`})}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("p",{className:"text-sm text-gray-500",children:t}),r?d.jsx("div",{className:"mt-1 h-8 w-24 animate-pulse rounded-md bg-gray-200"}):d.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e})]})]})},Ybe=(t="today")=>{const[e,n]=g.useState([]),[r,i]=g.useState([]),[a,s]=g.useState([]),[o,l]=g.useState([]),[c,u]=g.useState(!0);return g.useEffect(()=>{(async()=>{u(!0);try{const{startDate:f,endDate:m}=Qbe(t),v=(await ge.collection("orders").where("timestamp",">=",f).where("timestamp","<",m).get()).docs.map(_=>({id:_.id,..._.data()})),x=Xbe(v,t);n(x);const b=Zbe(v);i(b);const w=Jbe(v);if(s(w),t==="today"||t==="week"){const _=ewe(v);l(_)}}catch(f){console.error("Error fetching sales data:",f)}finally{u(!1)}})()},[t]),{salesData:e,topProducts:r,categorySales:a,peakHours:o,isLoading:c}};function Qbe(t){const e=new Date;let n,r=new Date(e);switch(t){case"today":n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1);break;case"week":n=new Date(e),n.setDate(e.getDate()-7);break;case"month":n=new Date(e),n.setDate(e.getDate()-30);break;case"year":n=new Date(e),n.setFullYear(e.getFullYear()-1);break;default:n=new Date(e.getFullYear(),e.getMonth(),e.getDate())}return{startDate:n,endDate:r}}function Xbe(t,e){const n=new Map;return t.forEach(r=>{var o;const i=(o=r.timestamp)!=null&&o.toDate?r.timestamp.toDate():new Date(r.timestamp);let a;switch(e){case"today":a=`${i.getHours()}:00`;break;case"week":a=i.toLocaleDateString("en-US",{month:"short",day:"numeric"});break;case"month":a=i.toLocaleDateString("en-US",{month:"short",day:"numeric"});break;case"year":a=i.toLocaleDateString("en-US",{month:"short",year:"numeric"});break;default:a=i.toLocaleDateString()}const s=n.get(a)||{revenue:0,orders:0};n.set(a,{revenue:s.revenue+(r.totalAmount||0),orders:s.orders+1})}),Array.from(n.entries()).map(([r,i])=>({date:r,revenue:i.revenue,orders:i.orders,averageOrderValue:i.orders>0?i.revenue/i.orders:0})).sort((r,i)=>e==="today"?parseInt(r.date)-parseInt(i.date):0)}function Zbe(t){const e=new Map;return t.forEach(n=>{var r;(r=n.orderItems)==null||r.forEach(i=>{const a=e.get(i.productId)||{name:i.productName,quantity:0,revenue:0};e.set(i.productId,{name:i.productName,quantity:a.quantity+i.quantity,revenue:a.revenue+i.price*i.quantity})})}),Array.from(e.entries()).map(([n,r])=>({productId:n,productName:r.name,quantity:r.quantity,revenue:r.revenue})).sort((n,r)=>r.revenue-n.revenue).slice(0,10)}function Jbe(t){const e=new Map;return t.forEach(n=>{var r;(r=n.orderItems)==null||r.forEach(i=>{const a=twe(i.productName),s=e.get(a)||{revenue:0,orders:new Set};e.set(a,{revenue:s.revenue+i.price*i.quantity,orders:s.orders.add(n.id)})})}),Array.from(e.entries()).map(([n,r])=>({category:n,revenue:r.revenue,orders:r.orders.size})).sort((n,r)=>r.revenue-n.revenue)}function ewe(t){const e=new Map;for(let n=0;n<24;n++)e.set(n,{orders:0,revenue:0});return t.forEach(n=>{var s;const i=((s=n.timestamp)!=null&&s.toDate?n.timestamp.toDate():new Date(n.timestamp)).getHours(),a=e.get(i)||{orders:0,revenue:0};e.set(i,{orders:a.orders+1,revenue:a.revenue+(n.totalAmount||0)})}),Array.from(e.entries()).map(([n,r])=>({hour:n,orders:r.orders,revenue:r.revenue})).filter(n=>n.orders>0)}function twe(t){const e=t.toLowerCase();return e.includes("latte")||e.includes("espresso")||e.includes("cappuccino")||e.includes("mocha")?"Coffee Based":e.includes("matcha")?"Matcha Series":e.includes("chocolate")||e.includes("milk")?"Non-Coffee Based":e.includes("tea")||e.includes("lemon")||e.includes("soda")?"Refreshments":e.includes("waffle")||e.includes("pasta")||e.includes("sandwich")?"Meals":"Other"}function Hq(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Hq(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Re(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Hq(t))&&(r&&(r+=" "),r+=e);return r}var nwe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function gC(t){if(typeof t!="string")return!1;var e=nwe;return e.includes(t)}var rwe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function Gq(t){if(typeof t!="string")return!1;var e=rwe;return e.includes(t)}function Kq(t){return typeof t=="string"&&t.startsWith("data-")}function Pr(t){var e=Object.entries(t).filter(n=>{var[r]=n;return Gq(r)||Kq(r)});return Object.fromEntries(e)}function iu(t){if(t==null)return null;if(g.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Pr(e)}return typeof t=="object"&&!Array.isArray(t)?Pr(t):null}function fr(t){var e=Object.entries(t).filter(n=>{var[r]=n;return Gq(r)||Kq(r)||gC(r)});return Object.fromEntries(e)}function iwe(t){return t==null?null:g.isValidElement(t)?fr(t.props):typeof t=="object"&&!Array.isArray(t)?fr(t):null}var awe=["children","width","height","viewBox","className","style","title","desc"];function CA(){return CA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CA.apply(null,arguments)}function swe(t,e){if(t==null)return{};var n,r,i=owe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function owe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var yC=g.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:c}=t,u=swe(t,awe),h=a||{width:r,height:i,x:0,y:0},f=Re("recharts-surface",s);return g.createElement("svg",CA({},fr(u),{className:f,width:r,height:i,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),g.createElement("title",null,l),g.createElement("desc",null,c),n)}),lwe=["children","className"];function jA(){return jA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jA.apply(null,arguments)}function cwe(t,e){if(t==null)return{};var n,r,i=uwe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Bt=g.forwardRef((t,e)=>{var{children:n,className:r}=t,i=cwe(t,lwe),a=Re("recharts-layer",r);return g.createElement("g",jA({className:a},fr(i),{ref:e}),n)}),Wq=g.createContext(null),dwe=()=>g.useContext(Wq);function it(t){return function(){return t}}const Yq=Math.cos,Qx=Math.sin,ua=Math.sqrt,Xx=Math.PI,c_=2*Xx,RA=Math.PI,OA=2*RA,oc=1e-6,hwe=OA-oc;function Qq(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function fwe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Qq;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class mwe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Qq:fwe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,c=i-n,u=s-e,h=o-n,f=u*u+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>oc)if(!(Math.abs(h*l-c*u)>oc)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-s,y=i-o,v=l*l+c*c,x=m*m+y*y,b=Math.sqrt(v),w=Math.sqrt(f),_=a*Math.tan((RA-Math.acos((v+f-x)/(2*b*w)))/2),T=_/w,I=_/b;Math.abs(T-1)>oc&&this._append`L${e+T*u},${n+T*h}`,this._append`A${a},${a},0,0,${+(h*m>u*y)},${this._x1=e+I*l},${this._y1=n+I*c}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,u=n+l,h=1^s,f=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>oc||Math.abs(this._y1-u)>oc)&&this._append`L${c},${u}`,r&&(f<0&&(f=f%OA+OA),f>hwe?this._append`A${r},${r},0,1,${h},${e-o},${n-l}A${r},${r},0,1,${h},${this._x1=c},${this._y1=u}`:f>oc&&this._append`A${r},${r},0,${+(f>=RA)},${h},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function vC(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new mwe(e)}function xC(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Xq(t){this._context=t}Xq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function u_(t){return new Xq(t)}function Zq(t){return t[0]}function Jq(t){return t[1]}function eH(t,e){var n=it(!0),r=null,i=u_,a=null,s=vC(o);t=typeof t=="function"?t:t===void 0?Zq:it(t),e=typeof e=="function"?e:e===void 0?Jq:it(e);function o(l){var c,u=(l=xC(l)).length,h,f=!1,m;for(r==null&&(a=i(m=s())),c=0;c<=u;++c)!(c<u&&n(h=l[c],c,l))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(h,c,l),+e(h,c,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:it(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:it(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:it(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function Pv(t,e,n){var r=null,i=it(!0),a=null,s=u_,o=null,l=vC(c);t=typeof t=="function"?t:t===void 0?Zq:it(+t),e=typeof e=="function"?e:it(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Jq:it(+n);function c(h){var f,m,y,v=(h=xC(h)).length,x,b=!1,w,_=new Array(v),T=new Array(v);for(a==null&&(o=s(w=l())),f=0;f<=v;++f){if(!(f<v&&i(x=h[f],f,h))===b)if(b=!b)m=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),y=f-1;y>=m;--y)o.point(_[y],T[y]);o.lineEnd(),o.areaEnd()}b&&(_[f]=+t(x,f,h),T[f]=+e(x,f,h),o.point(r?+r(x,f,h):_[f],n?+n(x,f,h):T[f]))}if(w)return o=null,w+""||null}function u(){return eH().defined(i).curve(s).context(a)}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:it(+h),r=null,c):t},c.x0=function(h){return arguments.length?(t=typeof h=="function"?h:it(+h),c):t},c.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:it(+h),c):r},c.y=function(h){return arguments.length?(e=typeof h=="function"?h:it(+h),n=null,c):e},c.y0=function(h){return arguments.length?(e=typeof h=="function"?h:it(+h),c):e},c.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:it(+h),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:it(!!h),c):i},c.curve=function(h){return arguments.length?(s=h,a!=null&&(o=s(a)),c):s},c.context=function(h){return arguments.length?(h==null?a=o=null:o=s(a=h),c):a},c}class tH{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function pwe(t){return new tH(t,!0)}function gwe(t){return new tH(t,!1)}const bC={draw(t,e){const n=ua(e/Xx);t.moveTo(n,0),t.arc(0,0,n,0,c_)}},ywe={draw(t,e){const n=ua(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},nH=ua(1/3),vwe=nH*2,xwe={draw(t,e){const n=ua(e/vwe),r=n*nH;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},bwe={draw(t,e){const n=ua(e),r=-n/2;t.rect(r,r,n,n)}},wwe=.8908130915292852,rH=Qx(Xx/10)/Qx(7*Xx/10),_we=Qx(c_/10)*rH,Ewe=-Yq(c_/10)*rH,Twe={draw(t,e){const n=ua(e*wwe),r=_we*n,i=Ewe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=c_*a/5,o=Yq(s),l=Qx(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},JE=ua(3),Swe={draw(t,e){const n=-ua(e/(JE*3));t.moveTo(0,n*2),t.lineTo(-JE*n,-n),t.lineTo(JE*n,-n),t.closePath()}},bi=-.5,wi=ua(3)/2,kA=1/ua(12),Awe=(kA/2+1)*3,Nwe={draw(t,e){const n=ua(e/Awe),r=n/2,i=n*kA,a=r,s=n*kA+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(bi*r-wi*i,wi*r+bi*i),t.lineTo(bi*a-wi*s,wi*a+bi*s),t.lineTo(bi*o-wi*l,wi*o+bi*l),t.lineTo(bi*r+wi*i,bi*i-wi*r),t.lineTo(bi*a+wi*s,bi*s-wi*a),t.lineTo(bi*o+wi*l,bi*l-wi*o),t.closePath()}};function Iwe(t,e){let n=null,r=vC(i);t=typeof t=="function"?t:it(t||bC),e=typeof e=="function"?e:it(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:it(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:it(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Zx(){}function Jx(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function iH(t){this._context=t}iH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Pwe(t){return new iH(t)}function aH(t){this._context=t}aH.prototype={areaStart:Zx,areaEnd:Zx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Jx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Cwe(t){return new aH(t)}function sH(t){this._context=t}sH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Jx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jwe(t){return new sH(t)}function oH(t){this._context=t}oH.prototype={areaStart:Zx,areaEnd:Zx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Rwe(t){return new oH(t)}function K6(t){return t<0?-1:1}function W6(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(K6(a)+K6(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function Y6(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function eT(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function eb(t){this._context=t}eb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:eT(this,this._t0,Y6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,eT(this,Y6(this,n=W6(this,t,e)),n);break;default:eT(this,this._t0,n=W6(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function lH(t){this._context=new cH(t)}(lH.prototype=Object.create(eb.prototype)).point=function(t,e){eb.prototype.point.call(this,e,t)};function cH(t){this._context=t}cH.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Owe(t){return new eb(t)}function kwe(t){return new lH(t)}function uH(t){this._context=t}uH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Q6(t),i=Q6(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Q6(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Dwe(t){return new uH(t)}function d_(t,e){this._context=t,this._t=e}d_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Mwe(t){return new d_(t,.5)}function Lwe(t){return new d_(t,0)}function Vwe(t){return new d_(t,1)}function Sh(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function DA(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Uwe(t,e){return t[e]}function zwe(t){const e=[];return e.key=t,e}function Bwe(){var t=it([]),e=DA,n=Sh,r=Uwe;function i(a){var s=Array.from(t.apply(this,arguments),zwe),o,l=s.length,c=-1,u;for(const h of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(h,s[o].key,c,a)]).data=h;for(o=0,u=xC(e(s));o<l;++o)s[u[o]].index=o;return n(s,u),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:it(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:it(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?DA:typeof a=="function"?a:it(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Sh,i):n},i}function Fwe(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Sh(t,e)}}function $we(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Sh(t,e)}}function qwe(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var u=t[e[o]],h=u[r][1]||0,f=u[r-1][1]||0,m=(h-f)/2,y=0;y<o;++y){var v=t[e[y]],x=v[r][1]||0,b=v[r-1][1]||0;m+=x-b}l+=h,c+=m*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Sh(t,e)}}var h_={},dH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(dH);var wC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(wC);var f_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(f_);var m_={},hH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(hH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hH,n=f_;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",c="",u=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const h=i[o];c?h==="\\"&&o+1<s?(o++,l+=i[o]):h===c?c="":l+=h:u?h==='"'||h==="'"?c=h:h==="]"?(u=!1,a.push(l),l=""):l+=h:h==="["?(u=!0,l&&(a.push(l),l="")):h==="."?l&&(a.push(l),l=""):l+=h,o++}return l&&a.push(l),a}t.toPath=r})(m_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dH,n=wC,r=f_,i=m_;function a(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?n.isDeepKey(l)?a(o,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const u=o[l];return u===void 0?c:u}default:{if(Array.isArray(l))return s(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?c:u}}}function s(o,l,c){if(l.length===0)return c;let u=o;for(let h=0;h<l.length;h++){if(u==null||e.isUnsafeProperty(l[h]))return c;u=u[l[h]]}return u===void 0?c:u}t.get=a})(h_);var Hwe=h_.get;const au=Ga(Hwe);var Mn=t=>t===0?0:t>0?1:-1,Fi=t=>typeof t=="number"&&t!=+t,zs=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ie=t=>(typeof t=="number"||t instanceof Number)&&!Fi(t),Ba=t=>ie(t)||typeof t=="string",Gwe=0,sg=t=>{var e=++Gwe;return"".concat(t||"").concat(e)},hr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(e)&&typeof e!="string")return r;var a;if(zs(e)){if(n==null)return r;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Fi(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},fH=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Ue(t,e,n){return ie(t)&&ie(e)?t+n*(e-t):e}function mH(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):au(r,e))===n)}var vt=t=>t===null||typeof t>"u",py=t=>vt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Kwe(t){return t!=null}function Au(){}var Wwe=["type","size","sizeType"];function MA(){return MA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MA.apply(null,arguments)}function X6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X6(Object(n),!0).forEach(function(r){Ywe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ywe(t,e,n){return(e=Qwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qwe(t){var e=Xwe(t,"string");return typeof e=="symbol"?e:e+""}function Xwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zwe(t,e){if(t==null)return{};var n,r,i=Jwe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pH={symbolCircle:bC,symbolCross:ywe,symbolDiamond:xwe,symbolSquare:bwe,symbolStar:Twe,symbolTriangle:Swe,symbolWye:Nwe},e_e=Math.PI/180,t_e=t=>{var e="symbol".concat(py(t));return pH[e]||bC},n_e=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*e_e;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},r_e=(t,e)=>{pH["symbol".concat(py(t))]=e},_C=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Zwe(t,Wwe),a=Z6(Z6({},i),{},{type:e,size:n,sizeType:r}),s="circle";typeof e=="string"&&(s=e);var o=()=>{var f=t_e(s),m=Iwe().type(f).size(n_e(n,r,s)),y=m();if(y!==null)return y},{className:l,cx:c,cy:u}=a,h=fr(a);return ie(c)&&ie(u)&&ie(n)?g.createElement("path",MA({},h,{className:Re("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:o()})):null};_C.registerSymbol=r_e;var gH=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,EC=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(g.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{gC(i)&&(r[i]=a=>n[i](n,a))}),r},i_e=(t,e,n)=>r=>(t(e,n,r),null),gy=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];gC(i)&&typeof a=="function"&&(r||(r={}),r[i]=i_e(a,e,n))}),r};function J6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a_e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J6(Object(n),!0).forEach(function(r){s_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s_e(t,e,n){return(e=o_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o_e(t){var e=l_e(t,"string");return typeof e=="symbol"?e:e+""}function l_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qt(t,e){var n=a_e({},t),r=e,i=Object.keys(e),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}function tb(){return tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tb.apply(null,arguments)}function e5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c_e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e5(Object(n),!0).forEach(function(r){u_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u_e(t,e,n){return(e=d_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d_e(t){var e=h_e(t,"string");return typeof e=="symbol"?e:e+""}function h_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Si=32,f_e={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function m_e(t){var{data:e,iconType:n,inactiveColor:r}=t,i=Si/2,a=Si/6,s=Si/3,o=e.inactive?r:e.color,l=n??e.type;if(l==="none")return null;if(l==="plainline"){var c;return g.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(c=e.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:i,x2:Si,y2:i,className:"recharts-legend-icon"})}if(l==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Si,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return g.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Si/8,"h").concat(Si,"v").concat(Si*3/4,"h").concat(-Si,"z"),className:"recharts-legend-icon"});if(g.isValidElement(e.legendIcon)){var u=c_e({},e);return delete u.legendIcon,g.cloneElement(e.legendIcon,u)}return g.createElement(_C,{fill:o,cx:i,cy:i,size:Si,sizeType:"diameter",type:l})}function p_e(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=t,o={x:0,y:0,width:Si,height:Si},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((u,h)=>{var f=u.formatter||i,m=Re({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:u.inactive});if(u.type==="none")return null;var y=u.inactive?a:u.color,v=f?f(u.value,u,h):u.value;return g.createElement("li",tb({className:m,style:l,key:"legend-item-".concat(h)},gy(t,u,h)),g.createElement(yC,{width:n,height:n,viewBox:o,style:c,"aria-label":"".concat(v," legend icon")},g.createElement(m_e,{data:u,iconType:s,inactiveColor:a})),g.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},v))})}var g_e=t=>{var e=qt(t,f_e),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:a},g.createElement(p_e,tb({},e,{payload:n})))},yH={},vH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}t.uniqBy=e})(vH);var TC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(TC);var xH={},p_={},bH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(bH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bH;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(p_);var wH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(wH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p_,n=wH;function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(xH);var _H={},EH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h_;function n(r){return function(i){return e.get(i,r)}}t.property=n})(EH);var TH={},SC={},SH={},AC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(AC);var NC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(NC);var IC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(IC);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AC,n=NC,r=IC;function i(u,h,f){return typeof f!="function"?i(u,h,()=>{}):a(u,h,function m(y,v,x,b,w,_){const T=f(y,v,x,b,w,_);return T!==void 0?!!T:a(y,v,m,_)},new Map)}function a(u,h,f,m){if(h===u)return!0;switch(typeof h){case"object":return s(u,h,f,m);case"function":return Object.keys(h).length>0?a(u,{...h},f,m):r.eq(u,h);default:return e.isObject(u)?typeof h=="string"?h==="":!0:r.eq(u,h)}}function s(u,h,f,m){if(h==null)return!0;if(Array.isArray(h))return l(u,h,f,m);if(h instanceof Map)return o(u,h,f,m);if(h instanceof Set)return c(u,h,f,m);const y=Object.keys(h);if(u==null)return y.length===0;if(y.length===0)return!0;if(m!=null&&m.has(h))return m.get(h)===u;m==null||m.set(h,u);try{for(let v=0;v<y.length;v++){const x=y[v];if(!n.isPrimitive(u)&&!(x in u)||h[x]===void 0&&u[x]!==void 0||h[x]===null&&u[x]!==null||!f(u[x],h[x],x,u,h,m))return!1}return!0}finally{m==null||m.delete(h)}}function o(u,h,f,m){if(h.size===0)return!0;if(!(u instanceof Map))return!1;for(const[y,v]of h.entries()){const x=u.get(y);if(f(x,v,y,u,h,m)===!1)return!1}return!0}function l(u,h,f,m){if(h.length===0)return!0;if(!Array.isArray(u))return!1;const y=new Set;for(let v=0;v<h.length;v++){const x=h[v];let b=!1;for(let w=0;w<u.length;w++){if(y.has(w))continue;const _=u[w];let T=!1;if(f(_,x,v,u,h,m)&&(T=!0),T){y.add(w),b=!0;break}}if(!b)return!1}return!0}function c(u,h,f,m){return h.size===0?!0:u instanceof Set?l([...u],[...h],f,m):!1}t.isMatchWith=i,t.isSetMatch=c})(SH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SH;function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(SC);var AH={},PC={},NH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(NH);var CC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(CC);var jC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",h="[object Function]",f="[object ArrayBuffer]",m="[object Object]",y="[object Error]",v="[object DataView]",x="[object Uint8Array]",b="[object Uint8ClampedArray]",w="[object Uint16Array]",_="[object Uint32Array]",T="[object BigUint64Array]",I="[object Int8Array]",j="[object Int16Array]",A="[object Int32Array]",S="[object BigInt64Array]",P="[object Float32Array]",C="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=f,t.arrayTag=u,t.bigInt64ArrayTag=S,t.bigUint64ArrayTag=T,t.booleanTag=i,t.dataViewTag=v,t.dateTag=o,t.errorTag=y,t.float32ArrayTag=P,t.float64ArrayTag=C,t.functionTag=h,t.int16ArrayTag=j,t.int32ArrayTag=A,t.int8ArrayTag=I,t.mapTag=l,t.numberTag=r,t.objectTag=m,t.regexpTag=e,t.setTag=c,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=w,t.uint32ArrayTag=_,t.uint8ArrayTag=x,t.uint8ClampedArrayTag=b})(jC);var IH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(IH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NH,n=CC,r=jC,i=NC,a=IH;function s(u,h){return o(u,void 0,u,new Map,h)}function o(u,h,f,m=new Map,y=void 0){const v=y==null?void 0:y(u,h,f,m);if(v!==void 0)return v;if(i.isPrimitive(u))return u;if(m.has(u))return m.get(u);if(Array.isArray(u)){const x=new Array(u.length);m.set(u,x);for(let b=0;b<u.length;b++)x[b]=o(u[b],b,f,m,y);return Object.hasOwn(u,"index")&&(x.index=u.index),Object.hasOwn(u,"input")&&(x.input=u.input),x}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const x=new RegExp(u.source,u.flags);return x.lastIndex=u.lastIndex,x}if(u instanceof Map){const x=new Map;m.set(u,x);for(const[b,w]of u)x.set(b,o(w,b,f,m,y));return x}if(u instanceof Set){const x=new Set;m.set(u,x);for(const b of u)x.add(o(b,void 0,f,m,y));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(a.isTypedArray(u)){const x=new(Object.getPrototypeOf(u)).constructor(u.length);m.set(u,x);for(let b=0;b<u.length;b++)x[b]=o(u[b],b,f,m,y);return x}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const x=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return m.set(u,x),l(x,u,f,m,y),x}if(typeof File<"u"&&u instanceof File){const x=new File([u],u.name,{type:u.type});return m.set(u,x),l(x,u,f,m,y),x}if(typeof Blob<"u"&&u instanceof Blob){const x=new Blob([u],{type:u.type});return m.set(u,x),l(x,u,f,m,y),x}if(u instanceof Error){const x=new u.constructor;return m.set(u,x),x.message=u.message,x.name=u.name,x.stack=u.stack,x.cause=u.cause,l(x,u,f,m,y),x}if(u instanceof Boolean){const x=new Boolean(u.valueOf());return m.set(u,x),l(x,u,f,m,y),x}if(u instanceof Number){const x=new Number(u.valueOf());return m.set(u,x),l(x,u,f,m,y),x}if(u instanceof String){const x=new String(u.valueOf());return m.set(u,x),l(x,u,f,m,y),x}if(typeof u=="object"&&c(u)){const x=Object.create(Object.getPrototypeOf(u));return m.set(u,x),l(x,u,f,m,y),x}return u}function l(u,h,f=u,m,y){const v=[...Object.keys(h),...e.getSymbols(h)];for(let x=0;x<v.length;x++){const b=v[x],w=Object.getOwnPropertyDescriptor(u,b);(w==null||w.writable)&&(u[b]=o(h[b],b,f,m,y))}}function c(u){switch(n.getTag(u)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=o,t.copyProperties=l})(PC);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PC;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(AH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SC,n=AH;function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(TH);var PH={},CH={},jH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PC,n=jC;function r(i,a){return e.cloneDeepWith(i,(s,o,l,c)=>{const u=a==null?void 0:a(s,o,l,c);if(u!==void 0)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(h,i),h}case n.argumentsTag:{const h={};return e.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}t.cloneDeepWith=r})(jH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jH;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(CH);var RH={},RC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(RC);var OH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CC;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(OH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wC,n=RC,r=OH,i=m_;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=s;for(let u=0;u<l.length;u++){const h=l[u];if((c==null||!Object.hasOwn(c,h))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(h)&&h<c.length))return!1;c=c[h]}return!0}t.has=a})(RH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SC,n=f_,r=CH,i=h_,a=RH;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(c){const u=i.get(c,o);return u===void 0?a.has(c,o):l===void 0?u===void 0:e.isMatch(u,l)}}t.matchesProperty=s})(PH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TC,n=EH,r=TH,i=PH;function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=a})(_H);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vH,n=TC,r=xH,i=_H;function a(s,o=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(o)):[]}t.uniqBy=a})(yH);var y_e=yH.uniqBy;const t5=Ga(y_e);function kH(t,e,n){return e===!0?t5(t,n):typeof e=="function"?t5(t,e):t}var DH={exports:{}},MH={},LH={exports:{}},VH={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah=g;function v_e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var x_e=typeof Object.is=="function"?Object.is:v_e,b_e=Ah.useState,w_e=Ah.useEffect,__e=Ah.useLayoutEffect,E_e=Ah.useDebugValue;function T_e(t,e){var n=e(),r=b_e({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return __e(function(){i.value=n,i.getSnapshot=e,tT(i)&&a({inst:i})},[t,n,e]),w_e(function(){return tT(i)&&a({inst:i}),t(function(){tT(i)&&a({inst:i})})},[t]),E_e(n),n}function tT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!x_e(t,n)}catch{return!0}}function S_e(t,e){return e()}var A_e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?S_e:T_e;VH.useSyncExternalStore=Ah.useSyncExternalStore!==void 0?Ah.useSyncExternalStore:A_e;LH.exports=VH;var N_e=LH.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_=g,I_e=N_e;function P_e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var C_e=typeof Object.is=="function"?Object.is:P_e,j_e=I_e.useSyncExternalStore,R_e=g_.useRef,O_e=g_.useEffect,k_e=g_.useMemo,D_e=g_.useDebugValue;MH.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var a=R_e(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=k_e(function(){function l(m){if(!c){if(c=!0,u=m,m=r(m),i!==void 0&&s.hasValue){var y=s.value;if(i(y,m))return h=y}return h=m}if(y=h,C_e(u,m))return y;var v=r(m);return i!==void 0&&i(y,v)?(u=m,y):(u=m,h=v)}var c=!1,u,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var o=j_e(t,a[0],a[1]);return O_e(function(){s.hasValue=!0,s.value=o},[o]),D_e(o),o};DH.exports=MH;var M_e=DH.exports,OC=g.createContext(null),L_e=t=>t,lt=()=>{var t=g.useContext(OC);return t?t.store.dispatch:L_e},N0=()=>{},V_e=()=>N0,U_e=(t,e)=>t===e;function se(t){var e=g.useContext(OC);return M_e.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:V_e,e?e.store.getState:N0,e?e.store.getState:N0,e?t:N0,U_e)}function z_e(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function B_e(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function F_e(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var n5=t=>Array.isArray(t)?t:[t];function $_e(t){const e=Array.isArray(t[0])?t[0]:t;return F_e(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function q_e(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var H_e=class{constructor(t){this.value=t}deref(){return this.value}},G_e=typeof WeakRef<"u"?WeakRef:H_e,K_e=0,r5=1;function Cv(){return{s:K_e,v:void 0,o:null,p:null}}function UH(t,e={}){let n=Cv();const{resultEqualityCheck:r}=e;let i,a=0;function s(){var h;let o=n;const{length:l}=arguments;for(let f=0,m=l;f<m;f++){const y=arguments[f];if(typeof y=="function"||typeof y=="object"&&y!==null){let v=o.o;v===null&&(o.o=v=new WeakMap);const x=v.get(y);x===void 0?(o=Cv(),v.set(y,o)):o=x}else{let v=o.p;v===null&&(o.p=v=new Map);const x=v.get(y);x===void 0?(o=Cv(),v.set(y,o)):o=x}}const c=o;let u;if(o.s===r5)u=o.v;else if(u=t.apply(null,arguments),a++,r){const f=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;f!=null&&r(f,u)&&(u=f,a!==0&&a--),i=typeof u=="object"&&u!==null||typeof u=="function"?new G_e(u):u}return c.s=r5,c.v=u,u}return s.clearCache=()=>{n=Cv(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function W_e(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,s=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),z_e(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...l},{memoize:h,memoizeOptions:f=[],argsMemoize:m=UH,argsMemoizeOptions:y=[]}=u,v=n5(f),x=n5(y),b=$_e(i),w=h(function(){return a++,c.apply(null,arguments)},...v),_=m(function(){s++;const I=q_e(b,arguments);return o=w.apply(null,I),o},...x);return Object.assign(_,{resultFunc:c,memoizedResultFunc:w,dependencies:b,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:h,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var V=W_e(UH),Y_e=Object.assign((t,e=V)=>{B_e(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>Y_e}),zH={},BH={},FH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=e(r),o=e(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};t.compareValues=n})(FH);var $H={},kC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(kC);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kC,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})($H);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FH,n=$H,r=m_;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const c=(m,y)=>{let v=m;for(let x=0;x<y.length&&v!=null;++x)v=v[y[x]];return v},u=(m,y)=>y==null||m==null?y:typeof m=="object"&&"key"in m?Object.hasOwn(y,m.key)?y[m.key]:c(y,m.path):typeof m=="function"?m(y):Array.isArray(m)?c(y,m):typeof y=="object"?y[m]:y,h=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return a.map(m=>({original:m,criteria:h.map(y=>u(y,m))})).slice().sort((m,y)=>{for(let v=0;v<h.length;v++){const x=e.compareValues(m.criteria[v],y.criteria[v],o[v]);if(x!==0)return x}return 0}).map(m=>m.original)}t.orderBy=i})(BH);var qH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let c=0;c<o.length;c++){const u=o[c];Array.isArray(u)&&l<a?s(u,l+1):i.push(u)}};return s(n,0),i}t.flatten=e})(qH);var DC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RC,n=p_,r=AC,i=IC;function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],s):!1}t.isIterateeCall=a})(DC);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BH,n=qH,r=DC;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=i})(zH);var Q_e=zH.sortBy;const y_=Ga(Q_e);var HH=t=>t.legend.settings,X_e=t=>t.legend.size,Z_e=t=>t.legend.payload,J_e=V([Z_e,HH],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?y_(r,n):r});function e1e(){return se(J_e)}var jv=1;function GH(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=g.useState({height:0,left:0,top:0,width:0}),r=g.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>jv||Math.abs(s.left-e.left)>jv||Math.abs(s.top-e.top)>jv||Math.abs(s.width-e.width)>jv)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Fn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var t1e=typeof Symbol=="function"&&Symbol.observable||"@@observable",i5=t1e,nT=()=>Math.random().toString(36).substring(7).split("").join("."),n1e={INIT:`@@redux/INIT${nT()}`,REPLACE:`@@redux/REPLACE${nT()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${nT()}`},nb=n1e;function MC(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function KH(t,e,n){if(typeof t!="function")throw new Error(Fn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Fn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Fn(1));return n(KH)(t,e)}let r=t,i=e,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((x,b)=>{s.set(b,x)}))}function u(){if(l)throw new Error(Fn(3));return i}function h(x){if(typeof x!="function")throw new Error(Fn(4));if(l)throw new Error(Fn(5));let b=!0;c();const w=o++;return s.set(w,x),function(){if(b){if(l)throw new Error(Fn(6));b=!1,c(),s.delete(w),a=null}}}function f(x){if(!MC(x))throw new Error(Fn(7));if(typeof x.type>"u")throw new Error(Fn(8));if(typeof x.type!="string")throw new Error(Fn(17));if(l)throw new Error(Fn(9));try{l=!0,i=r(i,x)}finally{l=!1}return(a=s).forEach(w=>{w()}),x}function m(x){if(typeof x!="function")throw new Error(Fn(10));r=x,f({type:nb.REPLACE})}function y(){const x=h;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(Fn(11));function w(){const T=b;T.next&&T.next(u())}return w(),{unsubscribe:x(w)}},[i5](){return this}}}return f({type:nb.INIT}),{dispatch:f,subscribe:h,getState:u,replaceReducer:m,[i5]:y}}function r1e(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:nb.INIT})>"u")throw new Error(Fn(12));if(typeof n(void 0,{type:nb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Fn(13))})}function WH(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{r1e(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const c={};for(let u=0;u<r.length;u++){const h=r[u],f=n[h],m=s[h],y=f(m,o);if(typeof y>"u")throw o&&o.type,new Error(Fn(14));c[h]=y,l=l||y!==m}return l=l||r.length!==Object.keys(s).length,l?c:s}}function rb(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function i1e(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Fn(15))};const s={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},o=t.map(l=>l(s));return a=rb(...o)(i.dispatch),{...i,dispatch:a}}}function YH(t){return MC(t)&&"type"in t&&typeof t.type=="string"}var QH=Symbol.for("immer-nothing"),a5=Symbol.for("immer-draftable"),vi=Symbol.for("immer-state");function Ji(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var og=Object.getPrototypeOf;function su(t){return!!t&&!!t[vi]}function Bs(t){var e;return t?XH(t)||Array.isArray(t)||!!t[a5]||!!((e=t.constructor)!=null&&e[a5])||yy(t)||x_(t):!1}var a1e=Object.prototype.constructor.toString(),s5=new WeakMap;function XH(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=s5.get(n);return r===void 0&&(r=Function.toString.call(n),s5.set(n,r)),r===a1e}function ib(t,e,n=!0){v_(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function v_(t){const e=t[vi];return e?e.type_:Array.isArray(t)?1:yy(t)?2:x_(t)?3:0}function LA(t,e){return v_(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function ZH(t,e,n){const r=v_(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function s1e(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function yy(t){return t instanceof Map}function x_(t){return t instanceof Set}function lc(t){return t.copy_||t.base_}function VA(t,e){if(yy(t))return new Map(t);if(x_(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=XH(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[vi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(og(t),r)}else{const r=og(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function LC(t,e=!1){return b_(t)||su(t)||!Bs(t)||(v_(t)>1&&Object.defineProperties(t,{set:Rv,add:Rv,clear:Rv,delete:Rv}),Object.freeze(t),e&&Object.values(t).forEach(n=>LC(n,!0))),t}function o1e(){Ji(2)}var Rv={value:o1e};function b_(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var l1e={};function ou(t){const e=l1e[t];return e||Ji(0,t),e}var lg;function JH(){return lg}function c1e(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function o5(t,e){e&&(ou("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function UA(t){zA(t),t.drafts_.forEach(u1e),t.drafts_=null}function zA(t){t===lg&&(lg=t.parent_)}function l5(t){return lg=c1e(lg,t)}function u1e(t){const e=t[vi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function c5(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[vi].modified_&&(UA(e),Ji(4)),Bs(t)&&(t=ab(e,t),e.parent_||sb(e,t)),e.patches_&&ou("Patches").generateReplacementPatches_(n[vi].base_,t,e.patches_,e.inversePatches_)):t=ab(e,n,[]),UA(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==QH?t:void 0}function ab(t,e,n){if(b_(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[vi];if(!i)return ib(e,(a,s)=>u5(t,i,e,a,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return sb(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),ib(s,(l,c)=>u5(t,i,a,l,c,n,o),r),sb(t,a,!1),n&&t.patches_&&ou("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function u5(t,e,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=b_(i);if(!(o&&!s)){if(su(i)){const l=a&&e&&e.type_!==3&&!LA(e.assigned_,r)?a.concat(r):void 0,c=ab(t,i,l);if(ZH(n,r,c),su(c))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Bs(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&o)return;ab(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(yy(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&sb(t,i)}}}function sb(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&LC(e,n)}function d1e(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:JH(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=VC;n&&(i=[r],a=cg);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var VC={get(t,e){if(e===vi)return t;const n=lc(t);if(!LA(n,e))return h1e(t,n,e);const r=n[e];return t.finalized_||!Bs(r)?r:r===rT(t.base_,e)?(iT(t),t.copy_[e]=FA(r,t)):r},has(t,e){return e in lc(t)},ownKeys(t){return Reflect.ownKeys(lc(t))},set(t,e,n){const r=eG(lc(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=rT(lc(t),e),a=i==null?void 0:i[vi];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(s1e(n,i)&&(n!==void 0||LA(t.base_,e)))return!0;iT(t),BA(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return rT(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,iT(t),BA(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=lc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ji(11)},getPrototypeOf(t){return og(t.base_)},setPrototypeOf(){Ji(12)}},cg={};ib(VC,(t,e)=>{cg[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});cg.deleteProperty=function(t,e){return cg.set.call(this,t,e,void 0)};cg.set=function(t,e,n){return VC.set.call(this,t[0],e,n,t[0])};function rT(t,e){const n=t[vi];return(n?lc(n):t)[e]}function h1e(t,e,n){var i;const r=eG(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function eG(t,e){if(!(e in t))return;let n=og(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=og(n)}}function BA(t){t.modified_||(t.modified_=!0,t.parent_&&BA(t.parent_))}function iT(t){t.copy_||(t.copy_=VA(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var f1e=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(l=a,...c){return s.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&Ji(6),r!==void 0&&typeof r!="function"&&Ji(7);let i;if(Bs(e)){const a=l5(this),s=FA(e,void 0);let o=!0;try{i=n(s),o=!1}finally{o?UA(a):zA(a)}return o5(a,r),c5(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===QH&&(i=void 0),this.autoFreeze_&&LC(i,!0),r){const a=[],s=[];ou("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else Ji(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,l=>e(l,...o));let r,i;return[this.produce(e,n,(s,o)=>{r=s,i=o}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Bs(t)||Ji(8),su(t)&&(t=Es(t));const e=l5(this),n=FA(t,void 0);return n[vi].isManual_=!0,zA(e),n}finishDraft(t,e){const n=t&&t[vi];(!n||!n.isManual_)&&Ji(9);const{scope_:r}=n;return o5(r,e),c5(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=ou("Patches").applyPatches_;return su(t)?r(t,e):this.produce(t,i=>r(i,e))}};function FA(t,e){const n=yy(t)?ou("MapSet").proxyMap_(t,e):x_(t)?ou("MapSet").proxySet_(t,e):d1e(t,e);return(e?e.scope_:JH()).drafts_.push(n),n}function Es(t){return su(t)||Ji(10,t),tG(t)}function tG(t){if(!Bs(t)||b_(t))return t;const e=t[vi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=VA(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=VA(t,!0);return ib(n,(i,a)=>{ZH(n,i,tG(a))},r),e&&(e.finalized_=!1),n}var $A=new f1e,nG=$A.produce,m1e=$A.setUseStrictIteration.bind($A);function rG(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var p1e=rG(),g1e=rG,y1e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?rb:rb.apply(null,arguments)};function $i(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(hi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>YH(r)&&r.type===t,n}var iG=class Pm extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Pm.prototype)}static get[Symbol.species](){return Pm}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Pm(...e[0].concat(this)):new Pm(...e.concat(this))}};function d5(t){return Bs(t)?nG(t,()=>{}):t}function Ov(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function v1e(t){return typeof t=="boolean"}var x1e=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new iG;return n&&(v1e(n)?s.push(p1e):s.push(g1e(n.extraArgument))),s},aG="RTK_autoBatch",gn=()=>t=>({payload:t,meta:{[aG]:!0}}),h5=t=>e=>{setTimeout(e,t)},sG=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:h5(10):t.type==="callback"?t.queueNotification:h5(t.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const h=()=>i&&u(),f=r.subscribe(h);return o.add(u),()=>{f(),o.delete(u)}},dispatch(u){var h;try{return i=!((h=u==null?void 0:u.meta)!=null&&h[aG]),a=!i,a&&(s||(s=!0,l(c))),r.dispatch(u)}finally{i=!0}}})},b1e=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new iG(t);return r&&i.push(sG(typeof r=="object"?r:void 0)),i};function w1e(t){const e=x1e(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(MC(n))o=WH(n);else throw new Error(hi(1));let l;typeof r=="function"?l=r(e):l=e();let c=rb;i&&(c=y1e({trace:!1,...typeof i=="object"&&i}));const u=i1e(...l),h=b1e(u);let f=typeof s=="function"?s(h):h();const m=c(...f);return KH(o,a,m)}function oG(t){const e={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(hi(28));if(o in e)throw new Error(hi(29));return e[o]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}m1e(!1);function _1e(t){return typeof t=="function"}function E1e(t,e){let[n,r,i]=oG(e),a;if(_1e(t))a=()=>d5(t());else{const o=d5(t);a=()=>o}function s(o=a(),l){let c=[n[l.type],...r.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,h)=>{if(h)if(su(u)){const m=h(u,l);return m===void 0?u:m}else{if(Bs(u))return nG(u,f=>h(f,l));{const f=h(u,l);if(f===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return u},o)}return s.getInitialState=a,s}var T1e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",S1e=(t=21)=>{let e="",n=t;for(;n--;)e+=T1e[Math.random()*64|0];return e},A1e=Symbol.for("rtk-slice-createasyncthunk");function N1e(t,e){return`${t}/${e}`}function I1e({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[A1e];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(hi(11));const o=(typeof i.reducers=="function"?i.reducers(C1e()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(T,I){const j=typeof T=="string"?T:T.type;if(!j)throw new Error(hi(12));if(j in c.sliceCaseReducersByType)throw new Error(hi(13));return c.sliceCaseReducersByType[j]=I,u},addMatcher(T,I){return c.sliceMatchers.push({matcher:T,reducer:I}),u},exposeAction(T,I){return c.actionCreators[T]=I,u},exposeCaseReducer(T,I){return c.sliceCaseReducersByName[T]=I,u}};l.forEach(T=>{const I=o[T],j={reducerName:T,type:N1e(a,T),createNotation:typeof i.reducers=="function"};R1e(I)?k1e(j,I,u,e):j1e(j,I,u)});function h(){const[T={},I=[],j=void 0]=typeof i.extraReducers=="function"?oG(i.extraReducers):[i.extraReducers],A={...T,...c.sliceCaseReducersByType};return E1e(i.initialState,S=>{for(let P in A)S.addCase(P,A[P]);for(let P of c.sliceMatchers)S.addMatcher(P.matcher,P.reducer);for(let P of I)S.addMatcher(P.matcher,P.reducer);j&&S.addDefaultCase(j)})}const f=T=>T,m=new Map,y=new WeakMap;let v;function x(T,I){return v||(v=h()),v(T,I)}function b(){return v||(v=h()),v.getInitialState()}function w(T,I=!1){function j(S){let P=S[T];return typeof P>"u"&&I&&(P=Ov(y,j,b)),P}function A(S=f){const P=Ov(m,I,()=>new WeakMap);return Ov(P,S,()=>{const C={};for(const[R,k]of Object.entries(i.selectors??{}))C[R]=P1e(k,S,()=>Ov(y,S,b),I);return C})}return{reducerPath:T,getSelectors:A,get selectors(){return A(j)},selectSlice:j}}const _={name:a,reducer:x,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:b,...w(s),injectInto(T,{reducerPath:I,...j}={}){const A=I??s;return T.inject({reducerPath:A,reducer:x},j),{..._,...w(A,!0)}}};return _}}function P1e(t,e,n,r){function i(a,...s){let o=e(a);return typeof o>"u"&&r&&(o=n()),t(o,...s)}return i.unwrapped=t,i}var Gr=I1e();function C1e(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function j1e({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!O1e(r))throw new Error(hi(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?$i(t,s):$i(t))}function R1e(t){return t._reducerDefinitionType==="asyncThunk"}function O1e(t){return t._reducerDefinitionType==="reducerWithPrepare"}function k1e({type:t,reducerName:e},n,r,i){if(!i)throw new Error(hi(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:u}=n,h=i(t,a,u);r.exposeAction(e,h),s&&r.addCase(h.fulfilled,s),o&&r.addCase(h.pending,o),l&&r.addCase(h.rejected,l),c&&r.addMatcher(h.settled,c),r.exposeCaseReducer(e,{fulfilled:s||kv,pending:o||kv,rejected:l||kv,settled:c||kv})}function kv(){}var D1e="task",lG="listener",cG="completed",UC="cancelled",M1e=`task-${UC}`,L1e=`task-${cG}`,qA=`${lG}-${UC}`,V1e=`${lG}-${cG}`,w_=class{constructor(t){P1(this,"name","TaskAbortError");P1(this,"message");this.code=t,this.message=`${D1e} ${UC} (reason: ${t})`}},zC=(t,e)=>{if(typeof t!="function")throw new TypeError(hi(32))},ob=()=>{},uG=(t,e=ob)=>(t.catch(e),t),dG=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),kc=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Dc=t=>{if(t.aborted){const{reason:e}=t;throw new w_(e)}};function hG(t,e){let n=ob;return new Promise((r,i)=>{const a=()=>i(new w_(t.reason));if(t.aborted){a();return}n=dG(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=ob})}var U1e=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof w_?"cancelled":"rejected",error:n}}finally{e==null||e()}},lb=t=>e=>uG(hG(t,e).then(n=>(Dc(t),n))),fG=t=>{const e=lb(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Vd}=Object,f5={},__="listenerMiddleware",z1e=(t,e)=>{const n=r=>dG(t,()=>kc(r,t.reason));return(r,i)=>{zC(r);const a=new AbortController;n(a);const s=U1e(async()=>{Dc(t),Dc(a.signal);const o=await r({pause:lb(a.signal),delay:fG(a.signal),signal:a.signal});return Dc(a.signal),o},()=>kc(a,L1e));return i!=null&&i.autoJoin&&e.push(s.catch(ob)),{result:lb(t)(s),cancel(){kc(a,M1e)}}}},B1e=(t,e)=>{const n=async(r,i)=>{Dc(e);let a=()=>{};const o=[new Promise((l,c)=>{let u=t({predicate:r,effect:(h,f)=>{f.unsubscribe(),l([h,f.getState(),f.getOriginalState()])}});a=()=>{u(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await hG(e,Promise.race(o));return Dc(e),l}finally{a()}};return(r,i)=>uG(n(r,i))},mG=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=$i(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(hi(21));return zC(a),{predicate:i,type:e,effect:a}},pG=Vd(t=>{const{type:e,predicate:n,effect:r}=mG(t);return{id:S1e(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(hi(22))}}},{withTypes:()=>pG}),m5=(t,e)=>{const{type:n,effect:r,predicate:i}=mG(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},HA=t=>{t.pending.forEach(e=>{kc(e,qA)})},F1e=(t,e)=>()=>{for(const n of e.keys())HA(n);t.clear()},p5=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},gG=Vd($i(`${__}/add`),{withTypes:()=>gG}),$1e=$i(`${__}/removeAll`),yG=Vd($i(`${__}/remove`),{withTypes:()=>yG}),q1e=(...t)=>{console.error(`${__}/error`,...t)},vy=(t={})=>{const e=new Map,n=new Map,r=m=>{const y=n.get(m)??0;n.set(m,y+1)},i=m=>{const y=n.get(m)??1;y===1?n.delete(m):n.set(m,y-1)},{extra:a,onError:s=q1e}=t;zC(s);const o=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),y=>{m.unsubscribe(),y!=null&&y.cancelActive&&HA(m)}),l=m=>{const y=m5(e,m)??pG(m);return o(y)};Vd(l,{withTypes:()=>l});const c=m=>{const y=m5(e,m);return y&&(y.unsubscribe(),m.cancelActive&&HA(y)),!!y};Vd(c,{withTypes:()=>c});const u=async(m,y,v,x)=>{const b=new AbortController,w=B1e(l,b.signal),_=[];try{m.pending.add(b),r(m),await Promise.resolve(m.effect(y,Vd({},v,{getOriginalState:x,condition:(T,I)=>w(T,I).then(Boolean),take:w,delay:fG(b.signal),pause:lb(b.signal),extra:a,signal:b.signal,fork:z1e(b.signal,_),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((T,I,j)=>{T!==b&&(kc(T,qA),j.delete(T))})},cancel:()=>{kc(b,qA),m.pending.delete(b)},throwIfCancelled:()=>{Dc(b.signal)}})))}catch(T){T instanceof w_||p5(s,T,{raisedBy:"effect"})}finally{await Promise.all(_),kc(b,V1e),i(m),m.pending.delete(b)}},h=F1e(e,n);return{middleware:m=>y=>v=>{if(!YH(v))return y(v);if(gG.match(v))return l(v.payload);if($1e.match(v)){h();return}if(yG.match(v))return c(v.payload);let x=m.getState();const b=()=>{if(x===f5)throw new Error(hi(23));return x};let w;try{if(w=y(v),e.size>0){const _=m.getState(),T=Array.from(e.values());for(const I of T){let j=!1;try{j=I.predicate(v,_,x)}catch(A){j=!1,p5(s,A,{raisedBy:"predicate"})}j&&u(I,v,m,b)}}}finally{x=f5}return w},startListening:l,stopListening:c,clearListeners:h}};function hi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var H1e={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},vG=Gr({name:"chartLayout",initialState:H1e,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:G1e,setLayout:K1e,setChartSize:W1e,setScale:Y1e}=vG.actions,Q1e=vG.reducer;function xG(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function g5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g5(Object(n),!0).forEach(function(r){X1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X1e(t,e,n){return(e=Z1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z1e(t){var e=J1e(t,"string");return typeof e=="symbol"?e:e+""}function J1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xe(t,e,n){return vt(t)||vt(e)?n:Ba(e)?au(t,e,n):typeof e=="function"?e(t):n}var eEe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=e;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&ie(t[a]))return wd(wd({},t),{},{[a]:t[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&ie(t[s]))return wd(wd({},t),{},{[s]:t[s]+(i||0)})}return t},Ya=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",bG=(t,e,n,r)=>{if(r)return t.map(o=>o.coordinate);var i,a,s=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(e),a||s.push(n),s},wG=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:h,niceTicks:f,axisType:m}=t;if(!s)return null;var y=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,v=i==="category"&&s.bandwidth?s.bandwidth()/y:0;if(v=m==="angleAxis"&&a&&a.length>=2?Mn(a[0]-a[1])*2*v:v,h||f){var x=(h||f||[]).map((b,w)=>{var _=r?r.indexOf(b):b;return{coordinate:s(_)+v,value:b,offset:v,index:w}});return x.filter(b=>!Fi(b.coordinate))}return l&&c?c.map((b,w)=>({coordinate:s(b)+v,value:b,index:w,offset:v})):s.ticks&&u!=null?s.ticks(u).map((b,w)=>({coordinate:s(b)+v,value:b,offset:v,index:w})):s.domain().map((b,w)=>({coordinate:s(b)+v,value:r?r[b]:b,index:w,offset:v}))},y5=1e-4,tEe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-y5,a=Math.max(r[0],r[1])+y5,s=t(e[0]),o=t(e[n-1]);(s<i||s>a||o<i||o>a)&&t.domain([e[0],e[n-1]])}},nEe=(t,e)=>{if(!e||e.length!==2||!ie(e[0])||!ie(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!ie(t[0])||t[0]<n)&&(i[0]=n),(!ie(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},rEe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,s=0;s<e;++s){var o=Fi(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=a,t[s][n][1]=a+o,a=t[s][n][1])}},iEe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var s=Fi(t[a][n][1])?t[a][n][0]:t[a][n][1];s>=0?(t[a][n][0]=i,t[a][n][1]=i+s,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},aEe={sign:rEe,expand:Fwe,none:Sh,silhouette:$we,wiggle:qwe,positive:iEe},sEe=(t,e,n)=>{var r=aEe[n],i=Bwe().keys(e).value((a,s)=>Number(Xe(a,s,0))).order(DA).offset(r);return i(t)};function _G(t){return t==null?void 0:String(t)}function cb(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!vt(i[e.dataKey])){var o=mH(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=Xe(i,vt(s)?e.dataKey:s);return vt(l)?null:e.scale(l)}var v5=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:s}=t;if(e.type==="category")return n[s]?n[s].coordinate+r:null;var o=Xe(a,e.dataKey,e.scale.domain()[s]);return vt(o)?null:e.scale(o)-i/2+r},oEe=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},lEe=t=>{var e=t.flat(2).filter(ie);return[Math.min(...e),Math.max(...e)]},cEe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],uEe=(t,e,n)=>{if(t!=null)return cEe(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:s}=a,o=s.reduce((l,c)=>{var u=xG(c,e,n),h=lEe(u);return[Math.min(l[0],h[0]),Math.max(l[1],h[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},x5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,b5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_l=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=y_(e,u=>u.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function w5(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return wd(wd({},e),{},{dataKey:n,payload:r,value:i,name:a})}function Ll(t,e){if(t)return String(t);if(typeof e=="string")return e}var dEe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},hEe=(t,e)=>e==="centric"?t.angle:t.radius,ro=t=>t.layout.width,io=t=>t.layout.height,fEe=t=>t.layout.scale,EG=t=>t.layout.margin,E_=V(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),T_=V(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),TG="data-recharts-item-index",SG="data-recharts-item-data-key",xy=60;function _5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_5(Object(n),!0).forEach(function(r){mEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mEe(t,e,n){return(e=pEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pEe(t){var e=gEe(t,"string");return typeof e=="symbol"?e:e+""}function gEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yEe=t=>t.brush.height;function vEe(t){var e=T_(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:xy;return n+i}return n},0)}function xEe(t){var e=T_(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:xy;return n+i}return n},0)}function bEe(t){var e=E_(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function wEe(t){var e=E_(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var _n=V([ro,io,EG,yEe,vEe,xEe,bEe,wEe,HH,X_e],(t,e,n,r,i,a,s,o,l,c)=>{var u={left:(n.left||0)+i,right:(n.right||0)+a},h={top:(n.top||0)+s,bottom:(n.bottom||0)+o},f=Dv(Dv({},h),u),m=f.bottom;f.bottom+=r,f=eEe(f,l,c);var y=t-f.left-f.right,v=e-f.top-f.bottom;return Dv(Dv({brushBottom:m},f),{},{width:Math.max(y,0),height:Math.max(v,0)})}),_Ee=V(_n,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),BC=V(ro,io,(t,e)=>({x:0,y:0,width:t,height:e})),EEe=g.createContext(null),Un=()=>g.useContext(EEe)!=null,S_=t=>t.brush,A_=V([S_,_n,EG],(t,e,n)=>({height:t.height,x:ie(t.x)?t.x:e.left,y:ie(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:ie(t.width)?t.width:e.width})),AG={},NG={},IG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),u=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},h=()=>{c&&u(),v()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,h()},r)},y=()=>{f!==null&&(clearTimeout(f),f=null)},v=()=>{y(),s=void 0,o=null},x=()=>{u()},b=function(...w){if(i!=null&&i.aborted)return;s=this,o=w;const _=f==null;m(),l&&_&&u()};return b.schedule=m,b.cancel=v,b.flush=x,i==null||i.addEventListener("abort",v,{once:!0}),b}t.debounce=e})(IG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IG;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let u,h=null;const f=e.debounce(function(...v){u=r.apply(this,v),h=null},i,{edges:c}),m=function(...v){return l!=null&&(h===null&&(h=Date.now()),Date.now()-h>=l)?(u=r.apply(this,v),h=Date.now(),f.cancel(),f.schedule(),u):(f.apply(this,v),u)},y=()=>(f.flush(),u);return m.cancel=f.cancel,m.flush=y,m}t.debounce=n})(NG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NG;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return e.debounce(r,i,{leading:s,maxWait:i,trailing:o})}t.throttle=n})(AG);var TEe=AG.throttle;const SEe=Ga(TEe);var ub=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},PG=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=zs(r)?t:Number(r),l=zs(i)?e:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},AEe={width:0,height:0,overflow:"visible"},NEe={width:0,overflowX:"visible"},IEe={height:0,overflowY:"visible"},PEe={},CEe=t=>{var{width:e,height:n}=t,r=zs(e),i=zs(n);return r&&i?AEe:r?NEe:i?IEe:PEe};function jEe(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function wt(t){return Number.isFinite(t)}function Fa(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function GA(){return GA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GA.apply(null,arguments)}function E5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E5(Object(n),!0).forEach(function(r){REe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function REe(t,e,n){return(e=OEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OEe(t){var e=kEe(t,"string");return typeof e=="symbol"?e:e+""}function kEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CG=g.createContext({width:-1,height:-1});function DEe(t){return Fa(t.width)&&Fa(t.height)}function jG(t){var{children:e,width:n,height:r}=t,i=g.useMemo(()=>({width:n,height:r}),[n,r]);return DEe(i)?g.createElement(CG.Provider,{value:i},e):null}var FC=()=>g.useContext(CG),MEe=g.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:u=0,id:h,className:f,onResize:m,style:y={}}=t,v=g.useRef(null),x=g.useRef();x.current=m,g.useImperativeHandle(e,()=>v.current);var[b,w]=g.useState({containerWidth:r.width,containerHeight:r.height}),_=g.useCallback((S,P)=>{w(C=>{var R=Math.round(S),k=Math.round(P);return C.containerWidth===R&&C.containerHeight===k?C:{containerWidth:R,containerHeight:k}})},[]);g.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return Au;var S=k=>{var O,{width:B,height:J}=k[0].contentRect;_(B,J),(O=x.current)===null||O===void 0||O.call(x,B,J)};u>0&&(S=SEe(S,u,{trailing:!0,leading:!1}));var P=new ResizeObserver(S),{width:C,height:R}=v.current.getBoundingClientRect();return _(C,R),P.observe(v.current),()=>{P.disconnect()}},[_,u]);var{containerWidth:T,containerHeight:I}=b;ub(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:j,calculatedHeight:A}=PG(T,I,{width:i,height:a,aspect:n,maxHeight:l});return ub(j!=null&&j>0||A!=null&&A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,A,i,a,s,o,n),g.createElement("div",{id:h?"".concat(h):void 0,className:Re("recharts-responsive-container",f),style:T5(T5({},y),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:v},g.createElement("div",{style:CEe({width:i,height:a})},g.createElement(jG,{width:j,height:A},c)))}),ug=g.forwardRef((t,e)=>{var n=FC();if(Fa(n.width)&&Fa(n.height))return t.children;var{width:r,height:i}=jEe({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=PG(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return ie(a)&&ie(s)?g.createElement(jG,{width:a,height:s},t.children):g.createElement(MEe,GA({},t,{width:r,height:i,ref:e}))});function RG(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var N_=()=>{var t,e=Un(),n=se(_Ee),r=se(A_),i=(t=se(S_))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},LEe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},OG=()=>{var t;return(t=se(_n))!==null&&t!==void 0?t:LEe},$C=()=>se(ro),qC=()=>se(io),VEe=()=>se(t=>t.layout.margin),Ae=t=>t.layout.layoutType,lf=()=>se(Ae),UEe=()=>{var t=lf();return t!==void 0},I_=t=>{var e=lt(),n=Un(),{width:r,height:i}=t,a=FC(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),g.useEffect(()=>{!n&&Fa(s)&&Fa(o)&&e(W1e({width:s,height:o}))},[e,n,s,o]),null},zEe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},kG=Gr({name:"legend",initialState:zEe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:gn()},removeLegendPayload:{reducer(t,e){var n=Es(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:gn()}}}),{setLegendSize:S5,setLegendSettings:BEe,addLegendPayload:DG,removeLegendPayload:MG}=kG.actions,FEe=kG.reducer,$Ee=["contextPayload"];function KA(){return KA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KA.apply(null,arguments)}function A5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A5(Object(n),!0).forEach(function(r){qEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qEe(t,e,n){return(e=HEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HEe(t){var e=GEe(t,"string");return typeof e=="symbol"?e:e+""}function GEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KEe(t,e){if(t==null)return{};var n,r,i=WEe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function WEe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function YEe(t){return t.value}function QEe(t){var{contextPayload:e}=t,n=KEe(t,$Ee),r=kH(e,t.payloadUniqBy,YEe),i=Nh(Nh({},n),{},{payload:r});return g.isValidElement(t.content)?g.cloneElement(t.content,i):typeof t.content=="function"?g.createElement(t.content,i):g.createElement(g_e,i)}function XEe(t,e,n,r,i,a){var{layout:s,align:o,verticalAlign:l}=e,c,u;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&s==="vertical"?c={left:((r||0)-a.width)/2}:c=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(l==="middle"?u={top:((i||0)-a.height)/2}:u=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Nh(Nh({},c),u)}function ZEe(t){var e=lt();return g.useEffect(()=>{e(BEe(t))},[e,t]),null}function JEe(t){var e=lt();return g.useEffect(()=>(e(S5(t)),()=>{e(S5({width:0,height:0}))}),[e,t]),null}function eTe(t,e,n,r){return t==="vertical"&&ie(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var tTe={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Ih(t){var e=qt(t,tTe),n=e1e(),r=dwe(),i=VEe(),{width:a,height:s,wrapperStyle:o,portal:l}=e,[c,u]=GH([n]),h=$C(),f=qC();if(h==null||f==null)return null;var m=h-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),y=eTe(e.layout,s,a,m),v=l?o:Nh(Nh({position:"absolute",width:(y==null?void 0:y.width)||a||"auto",height:(y==null?void 0:y.height)||s||"auto"},XEe(o,e,i,h,f,c)),o),x=l??r;if(x==null||n==null)return null;var b=g.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:u},g.createElement(ZEe,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),g.createElement(JEe,{width:c.width,height:c.height}),g.createElement(QEe,KA({},e,y,{margin:i,chartWidth:h,chartHeight:f,contextPayload:n})));return Hb.createPortal(b,x)}Ih.displayName="Legend";function WA(){return WA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WA.apply(null,arguments)}function N5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N5(Object(n),!0).forEach(function(r){nTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nTe(t,e,n){return(e=rTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rTe(t){var e=iTe(t,"string");return typeof e=="symbol"?e:e+""}function iTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aTe(t){return Array.isArray(t)&&Ba(t[0])&&Ba(t[1])?t.join(" ~ "):t}var sTe=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:h,accessibilityLayer:f=!1}=t,m=()=>{if(a&&a.length){var I={padding:0,margin:0},j=(o?y_(a,o):a).map((A,S)=>{if(A.type==="none")return null;var P=A.formatter||s||aTe,{value:C,name:R}=A,k=C,O=R;if(P){var B=P(C,R,A,S,a);if(Array.isArray(B))[k,O]=B;else if(B!=null)k=B;else return null}var J=aT({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},r);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:J},Ba(O)?g.createElement("span",{className:"recharts-tooltip-item-name"},O):null,Ba(O)?g.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,g.createElement("span",{className:"recharts-tooltip-item-value"},k),g.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:I},j)}return null},y=aT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=aT({margin:0},i),x=!vt(u),b=x?u:"",w=Re("recharts-default-tooltip",l),_=Re("recharts-tooltip-label",c);x&&h&&a!==void 0&&a!==null&&(b=h(u,a));var T=f?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",WA({className:w,style:y},T),g.createElement("p",{className:_,style:v},g.isValidElement(b)?b:"".concat(b)),m())},am="recharts-tooltip-wrapper",oTe={visibility:"hidden"};function lTe(t){var{coordinate:e,translateX:n,translateY:r}=t;return Re(am,{["".concat(am,"-right")]:ie(n)&&e&&ie(e.x)&&n>=e.x,["".concat(am,"-left")]:ie(n)&&e&&ie(e.x)&&n<e.x,["".concat(am,"-bottom")]:ie(r)&&e&&ie(e.y)&&r>=e.y,["".concat(am,"-top")]:ie(r)&&e&&ie(e.y)&&r<e.y})}function I5(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=t;if(a&&ie(a[r]))return a[r];var u=n[r]-o-(i>0?i:0),h=n[r]+i;if(e[r])return s[r]?u:h;var f=l[r];if(f==null)return 0;if(s[r]){var m=u,y=f;return m<y?Math.max(h,f):Math.max(u,f)}if(c==null)return 0;var v=h+o,x=f+c;return v>x?Math.max(u,f):Math.max(h,f)}function cTe(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function uTe(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=t,c,u,h;return s.height>0&&s.width>0&&n?(u=I5({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),h=I5({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=cTe({translateX:u,translateY:h,useTranslate3d:o})):c=oTe,{cssProperties:c,cssClasses:lTe({translateX:u,translateY:h,coordinate:n})}}function P5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P5(Object(n),!0).forEach(function(r){YA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YA(t,e,n){return(e=dTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dTe(t){var e=hTe(t,"string");return typeof e=="symbol"?e:e+""}function hTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class fTe extends g.PureComponent{constructor(){super(...arguments),YA(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),YA(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:h,useTranslate3d:f,viewBox:m,wrapperStyle:y,lastBoundingBox:v,innerRef:x,hasPortalFromProps:b}=this.props,{cssClasses:w,cssProperties:_}=uTe({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:c,position:u,reverseDirection:h,tooltipBox:{height:v.height,width:v.width},useTranslate3d:f,viewBox:m}),T=b?{}:Mv(Mv({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),I=Mv(Mv({},T),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},y);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:I,ref:x},a)}}var mTe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ao={devToolsEnabled:!1,isSsr:mTe()},LG=()=>{var t;return(t=se(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function QA(){return QA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QA.apply(null,arguments)}function C5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C5(Object(n),!0).forEach(function(r){pTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pTe(t,e,n){return(e=gTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gTe(t){var e=yTe(t,"string");return typeof e=="symbol"?e:e+""}function yTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var R5={curveBasisClosed:Cwe,curveBasisOpen:jwe,curveBasis:Pwe,curveBumpX:pwe,curveBumpY:gwe,curveLinearClosed:Rwe,curveLinear:u_,curveMonotoneX:Owe,curveMonotoneY:kwe,curveNatural:Dwe,curveStep:Mwe,curveStepAfter:Vwe,curveStepBefore:Lwe},db=t=>wt(t.x)&&wt(t.y),O5=t=>t.base!=null&&db(t.base)&&db(t),sm=t=>t.x,om=t=>t.y,vTe=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(py(t));return(n==="curveMonotone"||n==="curveBump")&&e?R5["".concat(n).concat(e==="vertical"?"Y":"X")]:R5[n]||u_},xTe=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,s=vTe(e,i),o=a?n.filter(db):n,l;if(Array.isArray(r)){var c=n.map((m,y)=>j5(j5({},m),{},{base:r[y]}));i==="vertical"?l=Pv().y(om).x1(sm).x0(m=>m.base.x):l=Pv().x(sm).y1(om).y0(m=>m.base.y);var u=l.defined(O5).curve(s),h=a?c.filter(O5):c;return u(h)}i==="vertical"&&ie(r)?l=Pv().y(om).x1(sm).x0(r):ie(r)?l=Pv().x(sm).y1(om).y0(r):l=eH().x(sm).y(om);var f=l.defined(db).curve(s);return f(o)},Ud=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?xTe(t):r;return g.createElement("path",QA({},Pr(t),EC(t),{className:Re("recharts-curve",e),d:a===null?void 0:a,ref:i}))},bTe=["x","y","top","left","width","height","className"];function XA(){return XA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XA.apply(null,arguments)}function k5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wTe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k5(Object(n),!0).forEach(function(r){_Te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Te(t,e,n){return(e=ETe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ETe(t){var e=TTe(t,"string");return typeof e=="symbol"?e:e+""}function TTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function STe(t,e){if(t==null)return{};var n,r,i=ATe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ATe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var NTe=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),ITe=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=t,l=STe(t,bTe),c=wTe({x:e,y:n,top:r,left:i,width:a,height:s},l);return!ie(e)||!ie(n)||!ie(a)||!ie(s)||!ie(r)||!ie(i)?null:g.createElement("path",XA({},fr(c),{className:Re("recharts-cross",o),d:NTe(e,n,a,s,r,i)}))};function PTe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function D5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D5(Object(n),!0).forEach(function(r){CTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CTe(t,e,n){return(e=jTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jTe(t){var e=RTe(t,"string");return typeof e=="symbol"?e:e+""}function RTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OTe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),VG=(t,e,n)=>t.map(r=>"".concat(OTe(r)," ").concat(e,"ms ").concat(n)).join(","),kTe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),dg=(t,e)=>Object.keys(e).reduce((n,r)=>M5(M5({},n),{},{[r]:t(r,e[r])}),{});function L5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L5(Object(n),!0).forEach(function(r){DTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DTe(t,e,n){return(e=MTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MTe(t){var e=LTe(t,"string");return typeof e=="symbol"?e:e+""}function LTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hb=(t,e,n)=>t+(e-t)*n,ZA=t=>{var{from:e,to:n}=t;return e!==n},UG=(t,e,n)=>{var r=dg((i,a)=>{if(ZA(a)){var[s,o]=t(a.from,a.to,a.velocity);return pn(pn({},a),{},{from:s,velocity:o})}return a},e);return n<1?dg((i,a)=>ZA(a)?pn(pn({},a),{},{velocity:hb(a.velocity,r[i].velocity,n),from:hb(a.from,r[i].from,n)}):a,e):UG(t,r,n-1)};function VTe(t,e,n,r,i,a){var s,o=r.reduce((f,m)=>pn(pn({},f),{},{[m]:{from:t[m],velocity:0,to:e[m]}}),{}),l=()=>dg((f,m)=>m.from,o),c=()=>!Object.values(o).filter(ZA).length,u=null,h=f=>{s||(s=f);var m=f-s,y=m/n.dt;o=UG(n,o,y),i(pn(pn(pn({},t),e),l())),s=f,c()||(u=a.setTimeout(h))};return()=>(u=a.setTimeout(h),()=>{var f;(f=u)===null||f===void 0||f()})}function UTe(t,e,n,r,i,a,s){var o=null,l=i.reduce((h,f)=>pn(pn({},h),{},{[f]:[t[f],e[f]]}),{}),c,u=h=>{c||(c=h);var f=(h-c)/r,m=dg((v,x)=>hb(...x,n(f)),l);if(a(pn(pn(pn({},t),e),m)),f<1)o=s.setTimeout(u);else{var y=dg((v,x)=>hb(...x,n(1)),l);a(pn(pn(pn({},t),e),y))}};return()=>(o=s.setTimeout(u),()=>{var h;(h=o)===null||h===void 0||h()})}const zTe=(t,e,n,r,i,a)=>{var s=kTe(t,e);return n==null?()=>(i(pn(pn({},t),e)),()=>{}):n.isStepper===!0?VTe(t,e,n,s,i,a):UTe(t,e,n,r,s,i,a)};var fb=1e-4,zG=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],BG=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),V5=(t,e)=>n=>{var r=zG(t,e);return BG(r,n)},BTe=(t,e)=>n=>{var r=zG(t,e),i=[...r.map((a,s)=>a*s).slice(1),0];return BG(i,n)},FTe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},$Te=(t,e,n,r)=>{var i=V5(t,n),a=V5(e,r),s=BTe(t,n),o=c=>c>1?1:c<0?0:c,l=c=>{for(var u=c>1?1:c,h=u,f=0;f<8;++f){var m=i(h)-u,y=s(h);if(Math.abs(m-u)<fb||y<fb)return a(h);h=o(h-m/y)}return a(h)};return l.isStepper=!1,l},U5=function(){return $Te(...FTe(...arguments))},qTe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(s,o,l)=>{var c=-(s-o)*n,u=l*r,h=l+(c-u)*i/1e3,f=l*i/1e3+s;return Math.abs(f-o)<fb&&Math.abs(h)<fb?[o,0]:[f,h]};return a.isStepper=!0,a.dt=i,a},HTe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return U5(t);case"spring":return qTe();default:if(t.split("(")[0]==="cubic-bezier")return U5(t)}return typeof t=="function"?t:null};function GTe(t){var e,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...c]=o;if(typeof l=="number"){i=t.setTimeout(a.bind(null,c),l);return}a(l),i=t.setTimeout(a.bind(null,c));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class KTe{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function WTe(){return GTe(new KTe)}var YTe=g.createContext(WTe);function QTe(t,e){var n=g.useContext(YTe);return g.useMemo(()=>e??n(t),[t,e,n])}var XTe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},z5={t:0},sT={t:1};function cf(t){var e=qt(t,XTe),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:c}=e,u=QTe(e.animationId,e.animationManager),[h,f]=g.useState(n?z5:sT),m=g.useRef(null);return g.useEffect(()=>{n||f(sT)},[n]),g.useEffect(()=>{if(!n||!r)return Au;var y=zTe(z5,sT,HTe(a),i,f,u.getTimeoutController()),v=()=>{m.current=y()};return u.start([l,s,v,i,o]),()=>{u.stop(),m.current&&m.current(),o()}},[n,r,i,a,s,l,o,u]),c(h.t)}function uf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=g.useRef(sg(e)),r=g.useRef(t);return r.current!==t&&(n.current=sg(e),r.current=t),n.current}var ZTe=["radius"],JTe=["radius"];function B5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B5(Object(n),!0).forEach(function(r){eSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eSe(t,e,n){return(e=tSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tSe(t){var e=nSe(t,"string");return typeof e=="symbol"?e:e+""}function nSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mb(){return mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mb.apply(null,arguments)}function $5(t,e){if(t==null)return{};var n,r,i=rSe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var q5=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,o=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,c;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],h=0,f=4;h<f;h++)u[h]=i[h]>a?a:i[h];c="M".concat(t,",").concat(e+s*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(t+o*u[0],",").concat(e)),c+="L ".concat(t+n-o*u[1],",").concat(e),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(t+n,",").concat(e+s*u[1])),c+="L ".concat(t+n,",").concat(e+r-s*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(t+n-o*u[2],",").concat(e+r)),c+="L ".concat(t+o*u[3],",").concat(e+r),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(e+r-s*u[3])),c+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);c="M ".concat(t,",").concat(e+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(t+o*m,",").concat(e,`
            L `).concat(t+n-o*m,",").concat(e,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(t+n,",").concat(e+s*m,`
            L `).concat(t+n,",").concat(e+r-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(t+n-o*m,",").concat(e+r,`
            L `).concat(t+o*m,",").concat(e+r,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(t,",").concat(e+r-s*m," Z")}else c="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return c},H5={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FG=t=>{var e=qt(t,H5),n=g.useRef(null),[r,i]=g.useState(-1);g.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var H=n.current.getTotalLength();H&&i(H)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:c,className:u}=e,{animationEasing:h,animationDuration:f,animationBegin:m,isAnimationActive:y,isUpdateAnimationActive:v}=e,x=g.useRef(o),b=g.useRef(l),w=g.useRef(a),_=g.useRef(s),T=g.useMemo(()=>({x:a,y:s,width:o,height:l,radius:c}),[a,s,o,l,c]),I=uf(T,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var j=Re("recharts-rectangle",u);if(!v){var A=fr(e),{radius:S}=A,P=$5(A,ZTe);return g.createElement("path",mb({},P,{radius:typeof c=="number"?c:void 0,className:j,d:q5(a,s,o,l,c)}))}var C=x.current,R=b.current,k=w.current,O=_.current,B="0px ".concat(r===-1?1:r,"px"),J="".concat(r,"px 0px"),F=VG(["strokeDasharray"],f,typeof h=="string"?h:H5.animationEasing);return g.createElement(cf,{animationId:I,key:I,canBegin:r>0,duration:f,easing:h,isActive:v,begin:m},H=>{var Q=Ue(C,o,H),ne=Ue(R,l,H),pe=Ue(k,a,H),Jt=Ue(O,s,H);n.current&&(x.current=Q,b.current=ne,w.current=pe,_.current=Jt);var fn;y?H>0?fn={transition:F,strokeDasharray:J}:fn={strokeDasharray:B}:fn={strokeDasharray:J};var Jn=fr(e),{radius:ct}=Jn,er=$5(Jn,JTe);return g.createElement("path",mb({},er,{radius:typeof c=="number"?c:void 0,className:j,d:q5(pe,Jt,Q,ne,c),ref:n,style:F5(F5({},fn),e.style)}))})};function G5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G5(Object(n),!0).forEach(function(r){iSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iSe(t,e,n){return(e=aSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aSe(t){var e=sSe(t,"string");return typeof e=="symbol"?e:e+""}function sSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pb=Math.PI/180,oSe=t=>t*180/Math.PI,cn=(t,e,n,r)=>({x:t+Math.cos(-pb*r)*n,y:e+Math.sin(-pb*r)*n}),$G=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},lSe=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},cSe=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,s=lSe({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:oSe(l),angleInRadian:l}},uSe=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},dSe=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return t+s*360},hSe=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=cSe({x:n,y:r},e),{innerRadius:s,outerRadius:o}=e;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:c}=uSe(e),u=a,h;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;h=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;h=u>=c&&u<=l}return h?K5(K5({},e),{},{radius:i,angle:dSe(u,e)}):null};function qG(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,s=cn(e,n,r,i),o=cn(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function JA(){return JA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JA.apply(null,arguments)}var fSe=(t,e)=>{var n=Mn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Lv=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=t,c=o*(s?1:-1)+r,u=Math.asin(o/c)/pb,h=l?i:i+a*u,f=cn(e,n,c,h),m=cn(e,n,r,h),y=l?i-a*u:i,v=cn(e,n,c*Math.cos(u*pb),y);return{center:f,circleTangency:m,lineTangency:v,theta:u}},HG=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=t,o=fSe(a,s),l=a+o,c=cn(e,n,i,a),u=cn(e,n,i,l),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(r>0){var f=cn(e,n,r,a),m=cn(e,n,r,l);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=l),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(e,",").concat(n," Z");return h},mSe=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=t,u=Mn(c-l),{circleTangency:h,lineTangency:f,theta:m}=Lv({cx:e,cy:n,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:o}),{circleTangency:y,lineTangency:v,theta:x}=Lv({cx:e,cy:n,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:o}),b=o?Math.abs(l-c):Math.abs(l-c)-m-x;if(b<0)return s?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):HG({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var w="M ".concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(v.x,",").concat(v.y,`
  `);if(r>0){var{circleTangency:_,lineTangency:T,theta:I}=Lv({cx:e,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:j,lineTangency:A,theta:S}=Lv({cx:e,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),P=o?Math.abs(l-c):Math.abs(l-c)-I-S;if(P<0&&a===0)return"".concat(w,"L").concat(e,",").concat(n,"Z");w+="L".concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(P>180),",").concat(+(u>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(T.x,",").concat(T.y,"Z")}else w+="L".concat(e,",").concat(n,"Z");return w},pSe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},GG=t=>{var e=qt(t,pSe),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u,className:h}=e;if(a<i||c===u)return null;var f=Re("recharts-sector",h),m=a-i,y=hr(s,m,0,!0),v;return y>0&&Math.abs(c-u)<360?v=mSe({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(y,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}):v=HG({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u}),g.createElement("path",JA({},fr(e),{className:f,d:v}))};function gSe(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(gH(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=e,l=cn(r,i,a,o),c=cn(r,i,s,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return qG(e)}}var KG={},WG={},YG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kC;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(YG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YG;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(WG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DC,n=WG;function r(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=s;return l}t.range=r})(KG);var ySe=KG.range;const QG=Ga(ySe);function rl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vSe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function HC(t){let e,n,r;t.length!==2?(e=rl,n=(o,l)=>rl(t(o),l),r=(o,l)=>t(o)-l):(e=t===rl||t===vSe?t:xSe,n=t,r=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const h=c+u>>>1;n(o[h],l)<0?c=h+1:u=h}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const h=c+u>>>1;n(o[h],l)<=0?c=h+1:u=h}while(c<u)}return c}function s(o,l,c=0,u=o.length){const h=i(o,l,c,u-1);return h>c&&r(o[h-1],l)>-r(o[h],l)?h-1:h}return{left:i,center:s,right:a}}function xSe(){return 0}function XG(t){return t===null?NaN:+t}function*bSe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const wSe=HC(rl),by=wSe.right;HC(XG).center;class W5 extends Map{constructor(e,n=TSe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Y5(this,e))}has(e){return super.has(Y5(this,e))}set(e,n){return super.set(_Se(this,e),n)}delete(e){return super.delete(ESe(this,e))}}function Y5({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function _Se({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ESe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function TSe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function SSe(t=rl){if(t===rl)return ZG;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function ZG(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const ASe=Math.sqrt(50),NSe=Math.sqrt(10),ISe=Math.sqrt(2);function gb(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=ASe?10:a>=NSe?5:a>=ISe?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?gb(t,e,n*2):[o,l,c]}function eN(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?gb(e,t,n):gb(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function tN(t,e,n){return e=+e,t=+t,n=+n,gb(t,e,n)[2]}function nN(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?tN(e,t,n):tN(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Q5(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function X5(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function JG(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?ZG:SSe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),h=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*h*(l-h)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(e-c*h/l+f)),y=Math.min(r,Math.floor(e+(l-c)*h/l+f));JG(t,e,m,y,i)}const a=t[e];let s=n,o=r;for(lm(t,n,e),i(t[r],a)>0&&lm(t,n,r);s<o;){for(lm(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?lm(t,n,o):(++o,lm(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function lm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function PSe(t,e,n){if(t=Float64Array.from(bSe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return X5(t);if(e>=1)return Q5(t);var r,i=(r-1)*e,a=Math.floor(i),s=Q5(JG(t,a).subarray(0,a+1)),o=X5(t.subarray(a+1));return s+(o-s)*(i-a)}}function CSe(t,e,n=XG){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function jSe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Gi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function so(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const rN=Symbol("implicit");function GC(){var t=new W5,e=[],n=[],r=rN;function i(a){let s=t.get(a);if(s===void 0){if(r!==rN)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new W5;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return GC(e,n).unknown(r)},Gi.apply(i,arguments),i}function KC(){var t=GC().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete t.unknown;function h(){var f=e().length,m=i<r,y=m?i:r,v=m?r:i;a=(v-y)/Math.max(1,f-l+c*2),o&&(a=Math.floor(a)),y+=(v-y-a*(f-l))*u,s=a*(1-l),o&&(y=Math.round(y),s=Math.round(s));var x=jSe(f).map(function(b){return y+a*b});return n(m?x.reverse():x)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,o=!0,h()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(f){return arguments.length?(o=!!f,h()):o},t.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),h()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},t.paddingOuter=function(f){return arguments.length?(c=+f,h()):c},t.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),h()):u},t.copy=function(){return KC(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},Gi.apply(h(),arguments)}function eK(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return eK(e())},t}function RSe(){return eK(KC.apply(null,arguments).paddingInner(1))}function WC(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function tK(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function wy(){}var hg=.7,yb=1/hg,zd="\\s*([+-]?\\d+)\\s*",fg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Da="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",OSe=/^#([0-9a-f]{3,8})$/,kSe=new RegExp(`^rgb\\(${zd},${zd},${zd}\\)$`),DSe=new RegExp(`^rgb\\(${Da},${Da},${Da}\\)$`),MSe=new RegExp(`^rgba\\(${zd},${zd},${zd},${fg}\\)$`),LSe=new RegExp(`^rgba\\(${Da},${Da},${Da},${fg}\\)$`),VSe=new RegExp(`^hsl\\(${fg},${Da},${Da}\\)$`),USe=new RegExp(`^hsla\\(${fg},${Da},${Da},${fg}\\)$`),Z5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};WC(wy,mg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:J5,formatHex:J5,formatHex8:zSe,formatHsl:BSe,formatRgb:eL,toString:eL});function J5(){return this.rgb().formatHex()}function zSe(){return this.rgb().formatHex8()}function BSe(){return nK(this).formatHsl()}function eL(){return this.rgb().formatRgb()}function mg(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=OSe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?tL(e):n===3?new Br(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Vv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Vv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=kSe.exec(t))?new Br(e[1],e[2],e[3],1):(e=DSe.exec(t))?new Br(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=MSe.exec(t))?Vv(e[1],e[2],e[3],e[4]):(e=LSe.exec(t))?Vv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=VSe.exec(t))?iL(e[1],e[2]/100,e[3]/100,1):(e=USe.exec(t))?iL(e[1],e[2]/100,e[3]/100,e[4]):Z5.hasOwnProperty(t)?tL(Z5[t]):t==="transparent"?new Br(NaN,NaN,NaN,0):null}function tL(t){return new Br(t>>16&255,t>>8&255,t&255,1)}function Vv(t,e,n,r){return r<=0&&(t=e=n=NaN),new Br(t,e,n,r)}function FSe(t){return t instanceof wy||(t=mg(t)),t?(t=t.rgb(),new Br(t.r,t.g,t.b,t.opacity)):new Br}function iN(t,e,n,r){return arguments.length===1?FSe(t):new Br(t,e,n,r??1)}function Br(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}WC(Br,iN,tK(wy,{brighter(t){return t=t==null?yb:Math.pow(yb,t),new Br(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?hg:Math.pow(hg,t),new Br(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Br(Mc(this.r),Mc(this.g),Mc(this.b),vb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nL,formatHex:nL,formatHex8:$Se,formatRgb:rL,toString:rL}));function nL(){return`#${bc(this.r)}${bc(this.g)}${bc(this.b)}`}function $Se(){return`#${bc(this.r)}${bc(this.g)}${bc(this.b)}${bc((isNaN(this.opacity)?1:this.opacity)*255)}`}function rL(){const t=vb(this.opacity);return`${t===1?"rgb(":"rgba("}${Mc(this.r)}, ${Mc(this.g)}, ${Mc(this.b)}${t===1?")":`, ${t})`}`}function vb(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Mc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function bc(t){return t=Mc(t),(t<16?"0":"")+t.toString(16)}function iL(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ea(t,e,n,r)}function nK(t){if(t instanceof ea)return new ea(t.h,t.s,t.l,t.opacity);if(t instanceof wy||(t=mg(t)),!t)return new ea;if(t instanceof ea)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new ea(s,o,l,t.opacity)}function qSe(t,e,n,r){return arguments.length===1?nK(t):new ea(t,e,n,r??1)}function ea(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}WC(ea,qSe,tK(wy,{brighter(t){return t=t==null?yb:Math.pow(yb,t),new ea(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?hg:Math.pow(hg,t),new ea(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Br(oT(t>=240?t-240:t+120,i,r),oT(t,i,r),oT(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ea(aL(this.h),Uv(this.s),Uv(this.l),vb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=vb(this.opacity);return`${t===1?"hsl(":"hsla("}${aL(this.h)}, ${Uv(this.s)*100}%, ${Uv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function aL(t){return t=(t||0)%360,t<0?t+360:t}function Uv(t){return Math.max(0,Math.min(1,t||0))}function oT(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const YC=t=>()=>t;function HSe(t,e){return function(n){return t+n*e}}function GSe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function KSe(t){return(t=+t)==1?rK:function(e,n){return n-e?GSe(e,n,t):YC(isNaN(e)?n:e)}}function rK(t,e){var n=e-t;return n?HSe(t,n):YC(isNaN(t)?e:t)}const sL=function t(e){var n=KSe(e);function r(i,a){var s=n((i=iN(i)).r,(a=iN(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=rK(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function WSe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function YSe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function QSe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=df(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function XSe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function xb(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ZSe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=df(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var aN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lT=new RegExp(aN.source,"g");function JSe(t){return function(){return t}}function eAe(t){return function(e){return t(e)+""}}function tAe(t,e){var n=aN.lastIndex=lT.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=aN.exec(t))&&(i=lT.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:xb(r,i)})),n=lT.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?eAe(l[0].x):JSe(e):(e=l.length,function(c){for(var u=0,h;u<e;++u)o[(h=l[u]).i]=h.x(c);return o.join("")})}function df(t,e){var n=typeof e,r;return e==null||n==="boolean"?YC(e):(n==="number"?xb:n==="string"?(r=mg(e))?(e=r,sL):tAe:e instanceof mg?sL:e instanceof Date?XSe:YSe(e)?WSe:Array.isArray(e)?QSe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ZSe:xb)(t,e)}function QC(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function nAe(t,e){e===void 0&&(e=t,t=df);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function rAe(t){return function(){return t}}function bb(t){return+t}var oL=[0,1];function Ar(t){return t}function sN(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:rAe(isNaN(e)?NaN:.5)}function iAe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function aAe(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=sN(i,r),a=n(s,a)):(r=sN(r,i),a=n(a,s)),function(o){return a(r(o))}}function sAe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=sN(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=by(t,o,1,r)-1;return a[l](i[l](o))}}function _y(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function P_(){var t=oL,e=oL,n=df,r,i,a,s=Ar,o,l,c;function u(){var f=Math.min(t.length,e.length);return s!==Ar&&(s=iAe(t[0],t[f-1])),o=f>2?sAe:aAe,l=c=null,h}function h(f){return f==null||isNaN(f=+f)?a:(l||(l=o(t.map(r),e,n)))(r(s(f)))}return h.invert=function(f){return s(i((c||(c=o(e,t.map(r),xb)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,bb),u()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=QC,u()},h.clamp=function(f){return arguments.length?(s=f?!0:Ar,u()):s!==Ar},h.interpolate=function(f){return arguments.length?(n=f,u()):n},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,m){return r=f,i=m,u()}}function XC(){return P_()(Ar,Ar)}function oAe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function wb(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ph(t){return t=wb(Math.abs(t)),t?t[1]:NaN}function lAe(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function cAe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var uAe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pg(t){if(!(e=uAe.exec(t)))throw new Error("invalid format: "+t);var e;return new ZC({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}pg.prototype=ZC.prototype;function ZC(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ZC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dAe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var iK;function hAe(t,e){var n=wb(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(iK=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+wb(t,Math.max(0,e+a-1))[0]}function lL(t,e){var n=wb(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const cL={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:oAe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>lL(t*100,e),r:lL,s:hAe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function uL(t){return t}var dL=Array.prototype.map,hL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fAe(t){var e=t.grouping===void 0||t.thousands===void 0?uL:lAe(dL.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?uL:cAe(dL.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(h){h=pg(h);var f=h.fill,m=h.align,y=h.sign,v=h.symbol,x=h.zero,b=h.width,w=h.comma,_=h.precision,T=h.trim,I=h.type;I==="n"?(w=!0,I="g"):cL[I]||(_===void 0&&(_=12),T=!0,I="g"),(x||f==="0"&&m==="=")&&(x=!0,f="0",m="=");var j=v==="$"?n:v==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",A=v==="$"?r:/[%p]/.test(I)?s:"",S=cL[I],P=/[defgprs%]/.test(I);_=_===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function C(R){var k=j,O=A,B,J,F;if(I==="c")O=S(R)+O,R="";else{R=+R;var H=R<0||1/R<0;if(R=isNaN(R)?l:S(Math.abs(R),_),T&&(R=dAe(R)),H&&+R==0&&y!=="+"&&(H=!1),k=(H?y==="("?y:o:y==="-"||y==="("?"":y)+k,O=(I==="s"?hL[8+iK/3]:"")+O+(H&&y==="("?")":""),P){for(B=-1,J=R.length;++B<J;)if(F=R.charCodeAt(B),48>F||F>57){O=(F===46?i+R.slice(B+1):R.slice(B))+O,R=R.slice(0,B);break}}}w&&!x&&(R=e(R,1/0));var Q=k.length+R.length+O.length,ne=Q<b?new Array(b-Q+1).join(f):"";switch(w&&x&&(R=e(ne+R,ne.length?b-O.length:1/0),ne=""),m){case"<":R=k+R+O+ne;break;case"=":R=k+ne+R+O;break;case"^":R=ne.slice(0,Q=ne.length>>1)+k+R+O+ne.slice(Q);break;default:R=ne+k+R+O;break}return a(R)}return C.toString=function(){return h+""},C}function u(h,f){var m=c((h=pg(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(Ph(f)/3)))*3,v=Math.pow(10,-y),x=hL[8+y/3];return function(b){return m(v*b)+x}}return{format:c,formatPrefix:u}}var zv,JC,aK;mAe({thousands:",",grouping:[3],currency:["$",""]});function mAe(t){return zv=fAe(t),JC=zv.format,aK=zv.formatPrefix,zv}function pAe(t){return Math.max(0,-Ph(Math.abs(t)))}function gAe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ph(e)/3)))*3-Ph(Math.abs(t)))}function yAe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ph(e)-Ph(t))+1}function sK(t,e,n,r){var i=nN(t,e,n),a;switch(r=pg(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=gAe(i,s))&&(r.precision=a),aK(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=yAe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=pAe(i))&&(r.precision=a-(r.type==="%")*2);break}}return JC(r)}function Vl(t){var e=t.domain;return t.ticks=function(n){var r=e();return eN(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return sK(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=tN(s,o,n),c===l)return r[i]=s,r[a]=o,e(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function oK(){var t=XC();return t.copy=function(){return _y(t,oK())},Gi.apply(t,arguments),Vl(t)}function lK(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,bb),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return lK(t).unknown(e)},t=arguments.length?Array.from(t,bb):[0,1],Vl(n)}function cK(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function fL(t){return Math.log(t)}function mL(t){return Math.exp(t)}function vAe(t){return-Math.log(-t)}function xAe(t){return-Math.exp(-t)}function bAe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function wAe(t){return t===10?bAe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function _Ae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function pL(t){return(e,n)=>-t(-e,n)}function ej(t){const e=t(fL,mL),n=e.domain;let r=10,i,a;function s(){return i=_Ae(r),a=wAe(r),n()[0]<0?(i=pL(i),a=pL(a),t(vAe,xAe)):t(fL,mL),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let c=l[0],u=l[l.length-1];const h=u<c;h&&([c,u]=[u,c]);let f=i(c),m=i(u),y,v;const x=o==null?10:+o;let b=[];if(!(r%1)&&m-f<x){if(f=Math.floor(f),m=Math.ceil(m),c>0){for(;f<=m;++f)for(y=1;y<r;++y)if(v=f<0?y/a(-f):y*a(f),!(v<c)){if(v>u)break;b.push(v)}}else for(;f<=m;++f)for(y=r-1;y>=1;--y)if(v=f>0?y/a(-f):y*a(f),!(v<c)){if(v>u)break;b.push(v)}b.length*2<x&&(b=eN(c,u,x))}else b=eN(f,m,Math.min(m-f,x)).map(a);return h?b.reverse():b},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=pg(l)).precision==null&&(l.trim=!0),l=JC(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return u=>{let h=u/a(Math.round(i(u)));return h*r<r-.5&&(h*=r),h<=c?l(u):""}},e.nice=()=>n(cK(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function uK(){const t=ej(P_()).domain([1,10]);return t.copy=()=>_y(t,uK()).base(t.base()),Gi.apply(t,arguments),t}function gL(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function yL(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function tj(t){var e=1,n=t(gL(e),yL(e));return n.constant=function(r){return arguments.length?t(gL(e=+r),yL(e)):e},Vl(n)}function dK(){var t=tj(P_());return t.copy=function(){return _y(t,dK()).constant(t.constant())},Gi.apply(t,arguments)}function vL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function EAe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function TAe(t){return t<0?-t*t:t*t}function nj(t){var e=t(Ar,Ar),n=1;function r(){return n===1?t(Ar,Ar):n===.5?t(EAe,TAe):t(vL(n),vL(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Vl(e)}function rj(){var t=nj(P_());return t.copy=function(){return _y(t,rj()).exponent(t.exponent())},Gi.apply(t,arguments),t}function SAe(){return rj.apply(null,arguments).exponent(.5)}function xL(t){return Math.sign(t)*t*t}function AAe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function hK(){var t=XC(),e=[0,1],n=!1,r;function i(a){var s=AAe(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(xL(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,bb)).map(xL)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return hK(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Gi.apply(i,arguments),Vl(i)}function fK(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=CSe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[by(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(rl),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return fK().domain(t).range(e).unknown(r)},Gi.apply(a,arguments)}function mK(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[by(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return mK().domain([t,e]).range(i).unknown(a)},Gi.apply(Vl(s),arguments)}function pK(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[by(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return pK().domain(t).range(e).unknown(n)},Gi.apply(i,arguments)}const cT=new Date,uT=new Date;function En(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>En(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(cT.setTime(+a),uT.setTime(+s),t(cT),t(uT),Math.floor(n(cT,uT))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const _b=En(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);_b.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?En(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):_b);_b.range;const fs=1e3,Di=fs*60,ms=Di*60,Fs=ms*24,ij=Fs*7,bL=Fs*30,dT=Fs*365,wc=En(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*fs)},(t,e)=>(e-t)/fs,t=>t.getUTCSeconds());wc.range;const aj=En(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fs)},(t,e)=>{t.setTime(+t+e*Di)},(t,e)=>(e-t)/Di,t=>t.getMinutes());aj.range;const sj=En(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Di)},(t,e)=>(e-t)/Di,t=>t.getUTCMinutes());sj.range;const oj=En(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fs-t.getMinutes()*Di)},(t,e)=>{t.setTime(+t+e*ms)},(t,e)=>(e-t)/ms,t=>t.getHours());oj.range;const lj=En(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ms)},(t,e)=>(e-t)/ms,t=>t.getUTCHours());lj.range;const Ey=En(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Di)/Fs,t=>t.getDate()-1);Ey.range;const C_=En(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fs,t=>t.getUTCDate()-1);C_.range;const gK=En(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fs,t=>Math.floor(t/Fs));gK.range;function Nu(t){return En(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Di)/ij)}const j_=Nu(0),Eb=Nu(1),NAe=Nu(2),IAe=Nu(3),Ch=Nu(4),PAe=Nu(5),CAe=Nu(6);j_.range;Eb.range;NAe.range;IAe.range;Ch.range;PAe.range;CAe.range;function Iu(t){return En(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/ij)}const R_=Iu(0),Tb=Iu(1),jAe=Iu(2),RAe=Iu(3),jh=Iu(4),OAe=Iu(5),kAe=Iu(6);R_.range;Tb.range;jAe.range;RAe.range;jh.range;OAe.range;kAe.range;const cj=En(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());cj.range;const uj=En(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());uj.range;const $s=En(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());$s.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:En(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});$s.range;const qs=En(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());qs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:En(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});qs.range;function yK(t,e,n,r,i,a){const s=[[wc,1,fs],[wc,5,5*fs],[wc,15,15*fs],[wc,30,30*fs],[a,1,Di],[a,5,5*Di],[a,15,15*Di],[a,30,30*Di],[i,1,ms],[i,3,3*ms],[i,6,6*ms],[i,12,12*ms],[r,1,Fs],[r,2,2*Fs],[n,1,ij],[e,1,bL],[e,3,3*bL],[t,1,dT]];function o(c,u,h){const f=u<c;f&&([c,u]=[u,c]);const m=h&&typeof h.range=="function"?h:l(c,u,h),y=m?m.range(c,+u+1):[];return f?y.reverse():y}function l(c,u,h){const f=Math.abs(u-c)/h,m=HC(([,,x])=>x).right(s,f);if(m===s.length)return t.every(nN(c/dT,u/dT,h));if(m===0)return _b.every(Math.max(nN(c,u,h),1));const[y,v]=s[f/s[m-1][2]<s[m][2]/f?m-1:m];return y.every(v)}return[o,l]}const[DAe,MAe]=yK(qs,uj,R_,gK,lj,sj),[LAe,VAe]=yK($s,cj,j_,Ey,oj,aj);function hT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function fT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function cm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function UAe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=um(i),u=dm(i),h=um(a),f=dm(a),m=um(s),y=dm(s),v=um(o),x=dm(o),b=um(l),w=dm(l),_={a:H,A:Q,b:ne,B:pe,c:null,d:AL,e:AL,f:lNe,g:vNe,G:bNe,H:aNe,I:sNe,j:oNe,L:vK,m:cNe,M:uNe,p:Jt,q:fn,Q:PL,s:CL,S:dNe,u:hNe,U:fNe,V:mNe,w:pNe,W:gNe,x:null,X:null,y:yNe,Y:xNe,Z:wNe,"%":IL},T={a:Jn,A:ct,b:er,B:Qa,c:null,d:NL,e:NL,f:SNe,g:DNe,G:LNe,H:_Ne,I:ENe,j:TNe,L:bK,m:ANe,M:NNe,p:An,q:Bl,Q:PL,s:CL,S:INe,u:PNe,U:CNe,V:jNe,w:RNe,W:ONe,x:null,X:null,y:kNe,Y:MNe,Z:VNe,"%":IL},I={a:C,A:R,b:k,B:O,c:B,d:TL,e:TL,f:tNe,g:EL,G:_L,H:SL,I:SL,j:XAe,L:eNe,m:QAe,M:ZAe,p:P,q:YAe,Q:rNe,s:iNe,S:JAe,u:qAe,U:HAe,V:GAe,w:$Ae,W:KAe,x:J,X:F,y:EL,Y:_L,Z:WAe,"%":nNe};_.x=j(n,_),_.X=j(r,_),_.c=j(e,_),T.x=j(n,T),T.X=j(r,T),T.c=j(e,T);function j(K,we){return function(Ce){var Y=[],Nn=-1,Be=0,gr=K.length,Bn,Wi,bf;for(Ce instanceof Date||(Ce=new Date(+Ce));++Nn<gr;)K.charCodeAt(Nn)===37&&(Y.push(K.slice(Be,Nn)),(Wi=wL[Bn=K.charAt(++Nn)])!=null?Bn=K.charAt(++Nn):Wi=Bn==="e"?" ":"0",(bf=we[Bn])&&(Bn=bf(Ce,Wi)),Y.push(Bn),Be=Nn+1);return Y.push(K.slice(Be,Nn)),Y.join("")}}function A(K,we){return function(Ce){var Y=cm(1900,void 0,1),Nn=S(Y,K,Ce+="",0),Be,gr;if(Nn!=Ce.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(we&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Be=fT(cm(Y.y,0,1)),gr=Be.getUTCDay(),Be=gr>4||gr===0?Tb.ceil(Be):Tb(Be),Be=C_.offset(Be,(Y.V-1)*7),Y.y=Be.getUTCFullYear(),Y.m=Be.getUTCMonth(),Y.d=Be.getUTCDate()+(Y.w+6)%7):(Be=hT(cm(Y.y,0,1)),gr=Be.getDay(),Be=gr>4||gr===0?Eb.ceil(Be):Eb(Be),Be=Ey.offset(Be,(Y.V-1)*7),Y.y=Be.getFullYear(),Y.m=Be.getMonth(),Y.d=Be.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),gr="Z"in Y?fT(cm(Y.y,0,1)).getUTCDay():hT(cm(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(gr+5)%7:Y.w+Y.U*7-(gr+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,fT(Y)):hT(Y)}}function S(K,we,Ce,Y){for(var Nn=0,Be=we.length,gr=Ce.length,Bn,Wi;Nn<Be;){if(Y>=gr)return-1;if(Bn=we.charCodeAt(Nn++),Bn===37){if(Bn=we.charAt(Nn++),Wi=I[Bn in wL?we.charAt(Nn++):Bn],!Wi||(Y=Wi(K,Ce,Y))<0)return-1}else if(Bn!=Ce.charCodeAt(Y++))return-1}return Y}function P(K,we,Ce){var Y=c.exec(we.slice(Ce));return Y?(K.p=u.get(Y[0].toLowerCase()),Ce+Y[0].length):-1}function C(K,we,Ce){var Y=m.exec(we.slice(Ce));return Y?(K.w=y.get(Y[0].toLowerCase()),Ce+Y[0].length):-1}function R(K,we,Ce){var Y=h.exec(we.slice(Ce));return Y?(K.w=f.get(Y[0].toLowerCase()),Ce+Y[0].length):-1}function k(K,we,Ce){var Y=b.exec(we.slice(Ce));return Y?(K.m=w.get(Y[0].toLowerCase()),Ce+Y[0].length):-1}function O(K,we,Ce){var Y=v.exec(we.slice(Ce));return Y?(K.m=x.get(Y[0].toLowerCase()),Ce+Y[0].length):-1}function B(K,we,Ce){return S(K,e,we,Ce)}function J(K,we,Ce){return S(K,n,we,Ce)}function F(K,we,Ce){return S(K,r,we,Ce)}function H(K){return s[K.getDay()]}function Q(K){return a[K.getDay()]}function ne(K){return l[K.getMonth()]}function pe(K){return o[K.getMonth()]}function Jt(K){return i[+(K.getHours()>=12)]}function fn(K){return 1+~~(K.getMonth()/3)}function Jn(K){return s[K.getUTCDay()]}function ct(K){return a[K.getUTCDay()]}function er(K){return l[K.getUTCMonth()]}function Qa(K){return o[K.getUTCMonth()]}function An(K){return i[+(K.getUTCHours()>=12)]}function Bl(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var we=j(K+="",_);return we.toString=function(){return K},we},parse:function(K){var we=A(K+="",!1);return we.toString=function(){return K},we},utcFormat:function(K){var we=j(K+="",T);return we.toString=function(){return K},we},utcParse:function(K){var we=A(K+="",!0);return we.toString=function(){return K},we}}}var wL={"-":"",_:" ",0:"0"},zn=/^\s*\d+/,zAe=/^%/,BAe=/[\\^$*+?|[\]().{}]/g;function De(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function FAe(t){return t.replace(BAe,"\\$&")}function um(t){return new RegExp("^(?:"+t.map(FAe).join("|")+")","i")}function dm(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function $Ae(t,e,n){var r=zn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function qAe(t,e,n){var r=zn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function HAe(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function GAe(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function KAe(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function _L(t,e,n){var r=zn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function EL(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function WAe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function YAe(t,e,n){var r=zn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function QAe(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function TL(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function XAe(t,e,n){var r=zn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function SL(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ZAe(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function JAe(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function eNe(t,e,n){var r=zn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function tNe(t,e,n){var r=zn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function nNe(t,e,n){var r=zAe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function rNe(t,e,n){var r=zn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function iNe(t,e,n){var r=zn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function AL(t,e){return De(t.getDate(),e,2)}function aNe(t,e){return De(t.getHours(),e,2)}function sNe(t,e){return De(t.getHours()%12||12,e,2)}function oNe(t,e){return De(1+Ey.count($s(t),t),e,3)}function vK(t,e){return De(t.getMilliseconds(),e,3)}function lNe(t,e){return vK(t,e)+"000"}function cNe(t,e){return De(t.getMonth()+1,e,2)}function uNe(t,e){return De(t.getMinutes(),e,2)}function dNe(t,e){return De(t.getSeconds(),e,2)}function hNe(t){var e=t.getDay();return e===0?7:e}function fNe(t,e){return De(j_.count($s(t)-1,t),e,2)}function xK(t){var e=t.getDay();return e>=4||e===0?Ch(t):Ch.ceil(t)}function mNe(t,e){return t=xK(t),De(Ch.count($s(t),t)+($s(t).getDay()===4),e,2)}function pNe(t){return t.getDay()}function gNe(t,e){return De(Eb.count($s(t)-1,t),e,2)}function yNe(t,e){return De(t.getFullYear()%100,e,2)}function vNe(t,e){return t=xK(t),De(t.getFullYear()%100,e,2)}function xNe(t,e){return De(t.getFullYear()%1e4,e,4)}function bNe(t,e){var n=t.getDay();return t=n>=4||n===0?Ch(t):Ch.ceil(t),De(t.getFullYear()%1e4,e,4)}function wNe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+De(e/60|0,"0",2)+De(e%60,"0",2)}function NL(t,e){return De(t.getUTCDate(),e,2)}function _Ne(t,e){return De(t.getUTCHours(),e,2)}function ENe(t,e){return De(t.getUTCHours()%12||12,e,2)}function TNe(t,e){return De(1+C_.count(qs(t),t),e,3)}function bK(t,e){return De(t.getUTCMilliseconds(),e,3)}function SNe(t,e){return bK(t,e)+"000"}function ANe(t,e){return De(t.getUTCMonth()+1,e,2)}function NNe(t,e){return De(t.getUTCMinutes(),e,2)}function INe(t,e){return De(t.getUTCSeconds(),e,2)}function PNe(t){var e=t.getUTCDay();return e===0?7:e}function CNe(t,e){return De(R_.count(qs(t)-1,t),e,2)}function wK(t){var e=t.getUTCDay();return e>=4||e===0?jh(t):jh.ceil(t)}function jNe(t,e){return t=wK(t),De(jh.count(qs(t),t)+(qs(t).getUTCDay()===4),e,2)}function RNe(t){return t.getUTCDay()}function ONe(t,e){return De(Tb.count(qs(t)-1,t),e,2)}function kNe(t,e){return De(t.getUTCFullYear()%100,e,2)}function DNe(t,e){return t=wK(t),De(t.getUTCFullYear()%100,e,2)}function MNe(t,e){return De(t.getUTCFullYear()%1e4,e,4)}function LNe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?jh(t):jh.ceil(t),De(t.getUTCFullYear()%1e4,e,4)}function VNe(){return"+0000"}function IL(){return"%"}function PL(t){return+t}function CL(t){return Math.floor(+t/1e3)}var qu,_K,EK;UNe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function UNe(t){return qu=UAe(t),_K=qu.format,qu.parse,EK=qu.utcFormat,qu.utcParse,qu}function zNe(t){return new Date(t)}function BNe(t){return t instanceof Date?+t:+new Date(+t)}function dj(t,e,n,r,i,a,s,o,l,c){var u=XC(),h=u.invert,f=u.domain,m=c(".%L"),y=c(":%S"),v=c("%I:%M"),x=c("%I %p"),b=c("%a %d"),w=c("%b %d"),_=c("%B"),T=c("%Y");function I(j){return(l(j)<j?m:o(j)<j?y:s(j)<j?v:a(j)<j?x:r(j)<j?i(j)<j?b:w:n(j)<j?_:T)(j)}return u.invert=function(j){return new Date(h(j))},u.domain=function(j){return arguments.length?f(Array.from(j,BNe)):f().map(zNe)},u.ticks=function(j){var A=f();return t(A[0],A[A.length-1],j??10)},u.tickFormat=function(j,A){return A==null?I:c(A)},u.nice=function(j){var A=f();return(!j||typeof j.range!="function")&&(j=e(A[0],A[A.length-1],j??10)),j?f(cK(A,j)):u},u.copy=function(){return _y(u,dj(t,e,n,r,i,a,s,o,l,c))},u}function FNe(){return Gi.apply(dj(LAe,VAe,$s,cj,j_,Ey,oj,aj,wc,_K).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $Ne(){return Gi.apply(dj(DAe,MAe,qs,uj,R_,C_,lj,sj,wc,EK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function O_(){var t=0,e=1,n,r,i,a,s=Ar,o=!1,l;function c(h){return h==null||isNaN(h=+h)?l:s(i===0?.5:(h=(a(h)-n)*i,o?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([t,e]=h,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(h){return arguments.length?(o=!!h,c):o},c.interpolator=function(h){return arguments.length?(s=h,c):s};function u(h){return function(f){var m,y;return arguments.length?([m,y]=f,s=h(m,y),c):[s(0),s(1)]}}return c.range=u(df),c.rangeRound=u(QC),c.unknown=function(h){return arguments.length?(l=h,c):l},function(h){return a=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),c}}function Ul(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function TK(){var t=Vl(O_()(Ar));return t.copy=function(){return Ul(t,TK())},so.apply(t,arguments)}function SK(){var t=ej(O_()).domain([1,10]);return t.copy=function(){return Ul(t,SK()).base(t.base())},so.apply(t,arguments)}function AK(){var t=tj(O_());return t.copy=function(){return Ul(t,AK()).constant(t.constant())},so.apply(t,arguments)}function hj(){var t=nj(O_());return t.copy=function(){return Ul(t,hj()).exponent(t.exponent())},so.apply(t,arguments)}function qNe(){return hj.apply(null,arguments).exponent(.5)}function NK(){var t=[],e=Ar;function n(r){if(r!=null&&!isNaN(r=+r))return e((by(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(rl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>PSe(t,a/r))},n.copy=function(){return NK(e).domain(t)},so.apply(n,arguments)}function k_(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,c=Ar,u,h=!1,f;function m(v){return isNaN(v=+v)?f:(v=.5+((v=+u(v))-a)*(r*v<r*a?o:l),c(h?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([t,e,n]=v,i=u(t=+t),a=u(e=+e),s=u(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m):[t,e,n]},m.clamp=function(v){return arguments.length?(h=!!v,m):h},m.interpolator=function(v){return arguments.length?(c=v,m):c};function y(v){return function(x){var b,w,_;return arguments.length?([b,w,_]=x,c=nAe(v,[b,w,_]),m):[c(0),c(.5),c(1)]}}return m.range=y(df),m.rangeRound=y(QC),m.unknown=function(v){return arguments.length?(f=v,m):f},function(v){return u=v,i=v(t),a=v(e),s=v(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m}}function IK(){var t=Vl(k_()(Ar));return t.copy=function(){return Ul(t,IK())},so.apply(t,arguments)}function PK(){var t=ej(k_()).domain([.1,1,10]);return t.copy=function(){return Ul(t,PK()).base(t.base())},so.apply(t,arguments)}function CK(){var t=tj(k_());return t.copy=function(){return Ul(t,CK()).constant(t.constant())},so.apply(t,arguments)}function fj(){var t=nj(k_());return t.copy=function(){return Ul(t,fj()).exponent(t.exponent())},so.apply(t,arguments)}function HNe(){return fj.apply(null,arguments).exponent(.5)}const Cm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:KC,scaleDiverging:IK,scaleDivergingLog:PK,scaleDivergingPow:fj,scaleDivergingSqrt:HNe,scaleDivergingSymlog:CK,scaleIdentity:lK,scaleImplicit:rN,scaleLinear:oK,scaleLog:uK,scaleOrdinal:GC,scalePoint:RSe,scalePow:rj,scaleQuantile:fK,scaleQuantize:mK,scaleRadial:hK,scaleSequential:TK,scaleSequentialLog:SK,scaleSequentialPow:hj,scaleSequentialQuantile:NK,scaleSequentialSqrt:qNe,scaleSequentialSymlog:AK,scaleSqrt:SAe,scaleSymlog:dK,scaleThreshold:pK,scaleTime:FNe,scaleUtc:$Ne,tickFormat:sK},Symbol.toStringTag,{value:"Module"}));var zl=t=>t.chartData,mj=V([zl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Ty=(t,e,n,r)=>r?mj(t):zl(t);function lu(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(wt(e)&&wt(n))return!0}return!1}function jL(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function jK(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(wt(n))i=n;else if(typeof n=="function")return;if(wt(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(lu(s))return s}}function GNe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(lu(r))return jL(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,o;if(i==="auto")e!=null&&(s=Math.min(...e));else if(ie(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&x5.test(i)){var l=x5.exec(i);if(l==null||e==null)s=void 0;else{var c=+l[1];s=e[0]-c}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(o=Math.max(...e));else if(ie(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&b5.test(a)){var u=b5.exec(a);if(u==null||e==null)o=void 0;else{var h=+u[1];o=e[1]+h}}else o=e==null?void 0:e[1];var f=[s,o];if(lu(f))return e==null?f:jL(f,e,n)}}}var hf=1e9,KNe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},gj,Nt=!0,qi="[DecimalError] ",Lc=qi+"Invalid argument: ",pj=qi+"Exponent out of range: ",ff=Math.floor,cc=Math.pow,WNe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ni,Cn=1e7,ht=7,RK=9007199254740991,Sb=ff(RK/ht),ae={};ae.absoluteValue=ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ae.comparedTo=ae.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ht;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ae.dividedBy=ae.div=function(t){return Ts(this,new this.constructor(t))};ae.dividedToIntegerBy=ae.idiv=function(t){var e=this,n=e.constructor;return et(Ts(e,new n(t),0,1),n.precision)};ae.equals=ae.eq=function(t){return!this.cmp(t)};ae.exponent=function(){return hn(this)};ae.greaterThan=ae.gt=function(t){return this.cmp(t)>0};ae.greaterThanOrEqualTo=ae.gte=function(t){return this.cmp(t)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(t){return this.cmp(t)<0};ae.lessThanOrEqualTo=ae.lte=function(t){return this.cmp(t)<1};ae.logarithm=ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ni))throw Error(qi+"NaN");if(n.s<1)throw Error(qi+(n.s?"NaN":"-Infinity"));return n.eq(ni)?new r(0):(Nt=!1,e=Ts(gg(n,a),gg(t,a),a),Nt=!0,et(e,i))};ae.minus=ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?DK(e,t):OK(e,(t.s=-t.s,t))};ae.modulo=ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(qi+"NaN");return n.s?(Nt=!1,e=Ts(n,t,0,1).times(t),Nt=!0,n.minus(e)):et(new r(n),i)};ae.naturalExponential=ae.exp=function(){return kK(this)};ae.naturalLogarithm=ae.ln=function(){return gg(this)};ae.negated=ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ae.plus=ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?OK(e,t):DK(e,(t.s=-t.s,t))};ae.precision=ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Lc+t);if(e=hn(i)+1,r=i.d.length-1,n=r*ht+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ae.squareRoot=ae.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(qi+"NaN")}for(t=hn(o),Nt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Na(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ff((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Ts(o,a,s+2)).times(.5),Na(a.d).slice(0,s)===(e=Na(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(et(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return Nt=!0,et(r,n)};ae.times=ae.mul=function(t){var e,n,r,i,a,s,o,l,c,u=this,h=u.constructor,f=u.d,m=(t=new h(t)).d;if(!u.s||!t.s)return new h(0);for(t.s*=u.s,n=u.e+t.e,l=f.length,c=m.length,l<c&&(a=f,f=m,m=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+m[r]*f[i-r-1]+e,a[i--]=o%Cn|0,e=o/Cn|0;a[i]=(a[i]+e)%Cn|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Nt?et(t,h.precision):t};ae.toDecimalPlaces=ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:($a(t,0,hf),e===void 0?e=r.rounding:$a(e,0,8),et(n,t+hn(n)+1,e))};ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=cu(r,!0):($a(t,0,hf),e===void 0?e=i.rounding:$a(e,0,8),r=et(new i(r),t+1,e),n=cu(r,!0,t+1)),n};ae.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?cu(i):($a(t,0,hf),e===void 0?e=a.rounding:$a(e,0,8),r=et(new a(i),t+hn(i)+1,e),n=cu(r.abs(),!1,t+hn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ae.toInteger=ae.toint=function(){var t=this,e=t.constructor;return et(new e(t),hn(t)+1,e.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(ni);if(o=new l(o),!o.s){if(t.s<1)throw Error(qi+"Infinity");return o}if(o.eq(ni))return o;if(r=l.precision,t.eq(ni))return et(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=u<0?-u:u)<=RK){for(i=new l(ni),e=Math.ceil(r/ht+4),Nt=!1;n%2&&(i=i.times(o),OL(i.d,e)),n=ff(n/2),n!==0;)o=o.times(o),OL(o.d,e);return Nt=!0,t.s<0?new l(ni).div(i):et(i,r)}}else if(a<0)throw Error(qi+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Nt=!1,i=t.times(gg(o,r+c)),Nt=!0,i=kK(i),i.s=a,i};ae.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=hn(i),r=cu(i,n<=a.toExpNeg||n>=a.toExpPos)):($a(t,1,hf),e===void 0?e=a.rounding:$a(e,0,8),i=et(new a(i),t,e),n=hn(i),r=cu(i,t<=n||n<=a.toExpNeg,t)),r};ae.toSignificantDigits=ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):($a(t,1,hf),e===void 0?e=r.rounding:$a(e,0,8)),et(new r(n),t,e)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=hn(t),n=t.constructor;return cu(t,e<=n.toExpNeg||e>=n.toExpPos)};function OK(t,e){var n,r,i,a,s,o,l,c,u=t.constructor,h=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Nt?et(e,h):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(h/ht),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/Cn|0,l[a]%=Cn;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Nt?et(e,h):e}function $a(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Lc+t)}function Na(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=ht-r.length,n&&(a+=Ao(n)),a+=r;s=t[e],r=s+"",n=ht-r.length,n&&(a+=Ao(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ts=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%Cn|0,s=a/Cn|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Cn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,u,h,f,m,y,v,x,b,w,_,T,I,j,A,S,P=r.constructor,C=r.s==i.s?1:-1,R=r.d,k=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(qi+"Division by zero");for(l=r.e-i.e,A=k.length,I=R.length,m=new P(C),y=m.d=[],c=0;k[c]==(R[c]||0);)++c;if(k[c]>(R[c]||0)&&--l,a==null?w=a=P.precision:s?w=a+(hn(r)-hn(i))+1:w=a,w<0)return new P(0);if(w=w/ht+2|0,c=0,A==1)for(u=0,k=k[0],w++;(c<I||u)&&w--;c++)_=u*Cn+(R[c]||0),y[c]=_/k|0,u=_%k|0;else{for(u=Cn/(k[0]+1)|0,u>1&&(k=t(k,u),R=t(R,u),A=k.length,I=R.length),T=A,v=R.slice(0,A),x=v.length;x<A;)v[x++]=0;S=k.slice(),S.unshift(0),j=k[0],k[1]>=Cn/2&&++j;do u=0,o=e(k,v,A,x),o<0?(b=v[0],A!=x&&(b=b*Cn+(v[1]||0)),u=b/j|0,u>1?(u>=Cn&&(u=Cn-1),h=t(k,u),f=h.length,x=v.length,o=e(h,v,f,x),o==1&&(u--,n(h,A<f?S:k,f))):(u==0&&(o=u=1),h=k.slice()),f=h.length,f<x&&h.unshift(0),n(v,h,x),o==-1&&(x=v.length,o=e(k,v,A,x),o<1&&(u++,n(v,A<x?S:k,x))),x=v.length):o===0&&(u++,v=[0]),y[c++]=u,o&&v[0]?v[x++]=R[T]||0:(v=[R[T]],x=1);while((T++<I||v[0]!==void 0)&&w--)}return y[0]||y.shift(),m.e=l,et(m,s?a+hn(m)+1:a)}}();function kK(t,e){var n,r,i,a,s,o,l=0,c=0,u=t.constructor,h=u.precision;if(hn(t)>16)throw Error(pj+hn(t));if(!t.s)return new u(ni);for(Nt=!1,o=h,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(cc(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new u(ni),u.precision=o;;){if(i=et(i.times(t),o),n=n.times(++l),s=a.plus(Ts(i,n,o)),Na(s.d).slice(0,o)===Na(a.d).slice(0,o)){for(;c--;)a=et(a.times(a),o);return u.precision=h,e==null?(Nt=!0,et(a,h)):a}a=s}}function hn(t){for(var e=t.e*ht,n=t.d[0];n>=10;n/=10)e++;return e}function mT(t,e,n){if(e>t.LN10.sd())throw Nt=!0,n&&(t.precision=n),Error(qi+"LN10 precision limit exceeded");return et(new t(t.LN10),e)}function Ao(t){for(var e="";t--;)e+="0";return e}function gg(t,e){var n,r,i,a,s,o,l,c,u,h=1,f=10,m=t,y=m.d,v=m.constructor,x=v.precision;if(m.s<1)throw Error(qi+(m.s?"NaN":"-Infinity"));if(m.eq(ni))return new v(0);if(e==null?(Nt=!1,c=x):c=e,m.eq(10))return e==null&&(Nt=!0),mT(v,c);if(c+=f,v.precision=c,n=Na(y),r=n.charAt(0),a=hn(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Na(m.d),r=n.charAt(0),h++;a=hn(m),r>1?(m=new v("0."+n),a++):m=new v(r+"."+n.slice(1))}else return l=mT(v,c+2,x).times(a+""),m=gg(new v(r+"."+n.slice(1)),c-f).plus(l),v.precision=x,e==null?(Nt=!0,et(m,x)):m;for(o=s=m=Ts(m.minus(ni),m.plus(ni),c),u=et(m.times(m),c),i=3;;){if(s=et(s.times(u),c),l=o.plus(Ts(s,new v(i),c)),Na(l.d).slice(0,c)===Na(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(mT(v,c+2,x).times(a+""))),o=Ts(o,new v(h),c),v.precision=x,e==null?(Nt=!0,et(o,x)):o;o=l,i+=2}}function RL(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=ff(n/ht),t.d=[],r=(n+1)%ht,n<0&&(r+=ht),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ht;r<i;)t.d.push(+e.slice(r,r+=ht));e=e.slice(r),r=ht-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Nt&&(t.e>Sb||t.e<-Sb))throw Error(pj+n)}else t.s=0,t.e=0,t.d=[0];return t}function et(t,e,n){var r,i,a,s,o,l,c,u,h=t.d;for(s=1,a=h[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=ht,i=e,c=h[u=0];else{if(u=Math.ceil((r+1)/ht),a=h.length,u>=a)return t;for(c=a=h[u],s=1;a>=10;a/=10)s++;r%=ht,i=r-ht+s}if(n!==void 0&&(a=cc(10,s-i-1),o=c/a%10|0,l=e<0||h[u+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/cc(10,s-i):0:h[u-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return l?(a=hn(t),h.length=1,e=e-a-1,h[0]=cc(10,(ht-e%ht)%ht),t.e=ff(-e/ht)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=u,a=1,u--):(h.length=u+1,a=cc(10,ht-r),h[u]=i>0?(c/cc(10,s-i)%cc(10,i)|0)*a:0),l)for(;;)if(u==0){(h[0]+=a)==Cn&&(h[0]=1,++t.e);break}else{if(h[u]+=a,h[u]!=Cn)break;h[u--]=0,a=1}for(r=h.length;h[--r]===0;)h.pop();if(Nt&&(t.e>Sb||t.e<-Sb))throw Error(pj+hn(t));return t}function DK(t,e){var n,r,i,a,s,o,l,c,u,h,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),Nt?et(e,m):e;if(l=t.d,h=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(u=s<0,u?(n=l,s=-s,o=h.length):(n=h,r=c,o=l.length),i=Math.max(Math.ceil(m/ht),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=h.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=h[i]){u=l[i]<h[i];break}s=0}for(u&&(n=l,l=h,h=n,e.s=-e.s),o=l.length,i=h.length-o;i>0;--i)l[o++]=0;for(i=h.length;i>s;){if(l[--i]<h[i]){for(a=i;a&&l[--a]===0;)l[a]=Cn-1;--l[a],l[i]+=Cn}l[i]-=h[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Nt?et(e,m):e):new f(0)}function cu(t,e,n){var r,i=hn(t),a=Na(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Ao(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ao(-i-1)+a,n&&(r=n-s)>0&&(a+=Ao(r))):i>=s?(a+=Ao(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Ao(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Ao(r))),t.s<0?"-"+a:a}function OL(t,e){if(t.length>e)return t.length=e,!0}function MK(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Lc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return RL(s,a.toString())}else if(typeof a!="string")throw Error(Lc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,WNe.test(a))RL(s,a);else throw Error(Lc+a)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=MK,i.config=i.set=YNe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function YNe(t){if(!t||typeof t!="object")throw Error(qi+"Object expected");var e,n,r,i=["precision",1,hf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(ff(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Lc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Lc+n+": "+r);return this}var gj=MK(KNe);ni=new gj(1);const qe=gj;var QNe=t=>t,LK={},VK=t=>t===LK,kL=t=>function e(){return arguments.length===0||arguments.length===1&&VK(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},UK=(t,e)=>t===1?e:kL(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==LK).length;return a>=t?e(...r):UK(t-a,kL(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var c=r.map(u=>VK(u)?o.shift():u);return e(...c,...o)}))}),D_=t=>UK(t.length,t),oN=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},XNe=D_((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),ZNe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return QNe;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}},lN=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),zK=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((s,o)=>{var l;return s===((l=e)===null||l===void 0?void 0:l[o])})||(e=i,n=t(...i)),n}};function BK(t){var e;return t===0?e=1:e=Math.floor(new qe(t).abs().log(10).toNumber())+1,e}function FK(t,e,n){for(var r=new qe(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}D_((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});D_((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});D_((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var $K=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},qK=(t,e,n)=>{if(t.lte(0))return new qe(0);var r=BK(t.toNumber()),i=new qe(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new qe(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?new qe(l.toNumber()):new qe(Math.ceil(l.toNumber()))},JNe=(t,e,n)=>{var r=new qe(1),i=new qe(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new qe(10).pow(BK(t)-1),i=new qe(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new qe(Math.floor(t)))}else t===0?i=new qe(Math.floor((e-1)/2)):n||(i=new qe(Math.floor(t)));var s=Math.floor((e-1)/2),o=ZNe(XNe(l=>i.add(new qe(l-s).mul(r)).toNumber()),oN);return o(0,e)},HK=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new qe(0),tickMin:new qe(0),tickMax:new qe(0)};var s=qK(new qe(n).sub(e).div(r-1),i,a),o;e<=0&&n>=0?o=new qe(0):(o=new qe(e).add(n).div(2),o=o.sub(new qe(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new qe(n).sub(o).div(s).toNumber()),u=l+c+1;return u>r?HK(e,n,r,i,a+1):(u<r&&(c=n>0?c+(r-u):c,l=n>0?l:l+(r-u)),{step:s,tickMin:o.sub(new qe(l).mul(s)),tickMax:o.add(new qe(c).mul(s))})};function eIe(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[s,o]=$K([e,n]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...oN(0,r-1).map(()=>1/0)]:[...oN(0,r-1).map(()=>-1/0),o];return e>n?lN(l):l}if(s===o)return JNe(s,r,i);var{step:c,tickMin:u,tickMax:h}=HK(s,o,a,i,0),f=FK(u,h.add(new qe(.1).mul(c)),c);return e>n?lN(f):f}function tIe(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=$K([n,r]);if(a===-1/0||s===1/0)return[n,r];if(a===s)return[a];var o=Math.max(e,2),l=qK(new qe(s).sub(a).div(o-1),i,0),c=[...FK(new qe(a),new qe(s),l),s];return i===!1&&(c=c.map(u=>Math.round(u))),n>r?lN(c):c}var nIe=zK(eIe),rIe=zK(tIe),GK=t=>t.rootProps.maxBarSize,iIe=t=>t.rootProps.barGap,KK=t=>t.rootProps.barCategoryGap,aIe=t=>t.rootProps.barSize,Sy=t=>t.rootProps.stackOffset,yj=t=>t.options.chartName,vj=t=>t.rootProps.syncId,WK=t=>t.rootProps.syncMethod,xj=t=>t.options.eventEmitter,sIe=t=>t.rootProps.baseValue,Yt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ss={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Zr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},M_=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},oIe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ss.angleAxisId,includeHidden:!1,name:void 0,reversed:ss.reversed,scale:ss.scale,tick:ss.tick,tickCount:void 0,ticks:void 0,type:ss.type,unit:void 0},lIe={allowDataOverflow:Zr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Zr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zr.scale,tick:Zr.tick,tickCount:Zr.tickCount,ticks:void 0,type:Zr.type,unit:void 0},cIe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ss.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ss.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ss.scale,tick:ss.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},uIe={allowDataOverflow:Zr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Zr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zr.scale,tick:Zr.tick,tickCount:Zr.tickCount,ticks:void 0,type:"category",unit:void 0},bj=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?cIe:oIe,wj=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?uIe:lIe,L_=t=>t.polarOptions,_j=V([ro,io,_n],$G),YK=V([L_,_j],(t,e)=>{if(t!=null)return hr(t.innerRadius,e,0)}),QK=V([L_,_j],(t,e)=>{if(t!=null)return hr(t.outerRadius,e,e*.8)}),dIe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},XK=V([L_],dIe);V([bj,XK],M_);var ZK=V([_j,YK,QK],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});V([wj,ZK],M_);var JK=V([Ae,L_,YK,QK,ro,io],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:c}=e;return{cx:hr(s,i,i/2),cy:hr(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),Pt=(t,e)=>e,Ay=(t,e,n)=>n;function V_(t){return t==null?void 0:t.id}function eW(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return t.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var u=V_(o);c.forEach((h,f)=>{var m=a==null||i?f:String(Xe(h,a,null)),y=Xe(h,o.dataKey,0),v;s.has(m)?v=s.get(m):v={},Object.assign(v,{[u]:y}),s.set(m,v)})}}),Array.from(s.values())}function U_(t){return t.stackId!=null&&t.dataKey!=null}var z_=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function B_(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function hIe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Tn=t=>{var e=Ae(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},mf=t=>t.tooltip.settings.axisId;function DL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ab(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DL(Object(n),!0).forEach(function(r){fIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fIe(t,e,n){return(e=mIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mIe(t){var e=pIe(t,"string");return typeof e=="symbol"?e:e+""}function pIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cN=[0,"auto"],Wr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},tW=(t,e)=>t.cartesianAxis.xAxis[e],oo=(t,e)=>{var n=tW(t,e);return n??Wr},Yr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:cN,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:xy},nW=(t,e)=>t.cartesianAxis.yAxis[e],lo=(t,e)=>{var n=nW(t,e);return n??Yr},gIe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Ej=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??gIe},Dt=(t,e,n)=>{switch(e){case"xAxis":return oo(t,n);case"yAxis":return lo(t,n);case"zAxis":return Ej(t,n);case"angleAxis":return bj(t,n);case"radiusAxis":return wj(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},yIe=(t,e,n)=>{switch(e){case"xAxis":return oo(t,n);case"yAxis":return lo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Ny=(t,e,n)=>{switch(e){case"xAxis":return oo(t,n);case"yAxis":return lo(t,n);case"angleAxis":return bj(t,n);case"radiusAxis":return wj(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},rW=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function Tj(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Iy=t=>t.graphicalItems.cartesianItems,vIe=V([Pt,Ay],Tj),Sj=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Py=V([Iy,Dt,vIe],Sj,{memoizeOptions:{resultEqualityCheck:B_}}),iW=V([Py],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(U_)),aW=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),xIe=V([Py],aW),Aj=t=>t.map(e=>e.data).filter(Boolean).flat(1),bIe=V([Py],Aj,{memoizeOptions:{resultEqualityCheck:B_}}),Nj=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},Ij=V([bIe,Ty],Nj),Pj=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Xe(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Xe(i,r)}))):t.map(r=>({value:r})),F_=V([Ij,Dt,Py],Pj);function sW(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function I0(t){if(Ba(t)||t instanceof Date){var e=Number(t);if(wt(e))return e}}function ML(t){if(Array.isArray(t)){var e=[I0(t[0]),I0(t[1])];return lu(e)?e:void 0}var n=I0(t);if(n!=null)return[n,n]}function Hs(t){return t.map(I0).filter(Kwe)}function wIe(t,e,n){return!n||typeof e!="number"||Fi(e)?[]:n.length?Hs(n.flatMap(r=>{var i=Xe(t,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!wt(a)||!wt(s)))return[e-a,e+s]})):[]}var Sn=t=>{var e=Tn(t),n=mf(t);return Ny(t,e,n)},oW=V([Sn],t=>t==null?void 0:t.dataKey),_Ie=V([iW,Ty,Sn],eW),lW=(t,e,n)=>{var r={},i=e.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[s,o]=a,l=o.map(V_);return[s,{stackedData:sEe(t,l,n),graphicalItems:o}]}))},yg=V([_Ie,iW,Sy],lW),cW=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var s=uEe(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},EIe=V([Dt],t=>t.allowDataOverflow),Cj=t=>{var e;if(t==null||!("domain"in t))return cN;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Hs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:cN},jj=V([Dt],Cj),Rj=V([jj,EIe],jK),TIe=V([yg,zl,Pt,Rj],cW,{memoizeOptions:{resultEqualityCheck:z_}}),$_=t=>t.errorBars,SIe=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>sW(n,r)),Nb=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},Oj=(t,e,n,r,i)=>{var a,s;if(n.length>0&&t.forEach(o=>{n.forEach(l=>{var c,u,h=(c=r[l.id])===null||c===void 0?void 0:c.filter(b=>sW(i,b)),f=Xe(o,(u=e.dataKey)!==null&&u!==void 0?u:l.dataKey),m=wIe(o,f,h);if(m.length>=2){var y=Math.min(...m),v=Math.max(...m);(a==null||y<a)&&(a=y),(s==null||v>s)&&(s=v)}var x=ML(f);x!=null&&(a=a==null?x[0]:Math.min(a,x[0]),s=s==null?x[1]:Math.max(s,x[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(o=>{var l=ML(Xe(o,e.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),wt(a)&&wt(s))return[a,s]},AIe=V([Ij,Dt,xIe,$_,Pt],Oj,{memoizeOptions:{resultEqualityCheck:z_}});function NIe(t){var{value:e}=t;if(Ba(e)||e instanceof Date)return e}var IIe=(t,e,n)=>{var r=t.map(NIe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&fH(r))?QG(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},uW=t=>t.referenceElements.dots,pf=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),PIe=V([uW,Pt,Ay],pf),dW=t=>t.referenceElements.areas,CIe=V([dW,Pt,Ay],pf),hW=t=>t.referenceElements.lines,jIe=V([hW,Pt,Ay],pf),fW=(t,e)=>{var n=Hs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},RIe=V(PIe,Pt,fW),mW=(t,e)=>{var n=Hs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},OIe=V([CIe,Pt],mW);function kIe(t){var e;if(t.x!=null)return Hs([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Hs(n)}function DIe(t){var e;if(t.y!=null)return Hs([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Hs(n)}var pW=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?kIe(r):DIe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},MIe=V([jIe,Pt],pW),LIe=V(RIe,MIe,OIe,(t,e,n)=>Nb(t,n,e)),kj=(t,e,n,r,i,a,s,o)=>{if(n!=null)return n;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",c=l?Nb(r,a,i):Nb(a,i);return GNe(e,c,t.allowDataOverflow)},VIe=V([Dt,jj,Rj,TIe,AIe,LIe,Ae,Pt],kj,{memoizeOptions:{resultEqualityCheck:z_}}),UIe=[0,1],Dj=(t,e,n,r,i,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=t,c=Ya(e,a);if(c&&o==null){var u;return QG(0,(u=n==null?void 0:n.length)!==null&&u!==void 0?u:0)}return l==="category"?IIe(r,t,c):i==="expand"?UIe:s}},Mj=V([Dt,Ae,Ij,F_,Sy,Pt,VIe],Dj),gW=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(py(a));return o in Cm?o:"point"}}},gf=V([Dt,Ae,rW,yj,Pt],gW);function zIe(t){if(t!=null){if(t in Cm)return Cm[t]();var e="scale".concat(py(t));if(e in Cm)return Cm[e]()}}function Lj(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=zIe(e);if(i!=null){var a=i.domain(n).range(r);return tEe(a),a}}}var Vj=(t,e,n)=>{var r=Cj(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&lu(t))return nIe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&lu(t))return rIe(t,e.tickCount,e.allowDecimals)}},Uj=V([Mj,Ny,gf],Vj),zj=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&lu(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],s=e[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return e},BIe=V([Dt,Mj,Uj,Pt],zj),FIe=V(F_,Dt,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Hs(t.map(o=>o.value))).sort((o,l)=>o-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),yW=V(FIe,Ae,KK,_n,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!wt(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=hr(n,t*a),o=t*a/2;return o-s-(o-s)/a*s}return 0}),$Ie=(t,e)=>{var n=oo(t,e);return n==null||typeof n.padding!="string"?0:yW(t,"xAxis",e,n.padding)},qIe=(t,e)=>{var n=lo(t,e);return n==null||typeof n.padding!="string"?0:yW(t,"yAxis",e,n.padding)},HIe=V(oo,$Ie,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),GIe=V(lo,qIe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),KIe=V([_n,HIe,A_,S_,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),WIe=V([_n,Ae,GIe,A_,S_,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Cy=(t,e,n,r)=>{var i;switch(e){case"xAxis":return KIe(t,n,r);case"yAxis":return WIe(t,n,r);case"zAxis":return(i=Ej(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return XK(t);case"radiusAxis":return ZK(t,n);default:return}},vW=V([Dt,Cy],M_),yf=V([Dt,gf,BIe,vW],Lj);V([Py,$_,Pt],SIe);function xW(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var q_=(t,e)=>e,H_=(t,e,n)=>n,YIe=V(E_,q_,H_,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(xW)),QIe=V(T_,q_,H_,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(xW)),bW=(t,e)=>({width:t.width,height:e.height}),XIe=(t,e)=>{var n=typeof e.width=="number"?e.width:xy;return{width:n,height:t.height}},wW=V(_n,oo,bW),ZIe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},JIe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},ePe=V(io,_n,YIe,q_,H_,(t,e,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=bW(e,o);s==null&&(s=ZIe(e,r,t));var c=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(c)*l.height,s+=(c?-1:1)*l.height}),a}),tPe=V(ro,_n,QIe,q_,H_,(t,e,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=XIe(e,o);s==null&&(s=JIe(e,r,t));var c=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(c)*l.width,s+=(c?-1:1)*l.width}),a}),nPe=(t,e)=>{var n=oo(t,e);if(n!=null)return ePe(t,n.orientation,n.mirror)},rPe=V([_n,oo,nPe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),iPe=(t,e)=>{var n=lo(t,e);if(n!=null)return tPe(t,n.orientation,n.mirror)},aPe=V([_n,lo,iPe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),_W=V(_n,lo,(t,e)=>{var n=typeof e.width=="number"?e.width:xy;return{width:n,height:t.height}}),LL=(t,e,n)=>{switch(e){case"xAxis":return wW(t,n).width;case"yAxis":return _W(t,n).height;default:return}},EW=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=Ya(t,r),l=e.map(c=>c.value);if(s&&o&&a==="category"&&i&&fH(l))return l}},Bj=V([Ae,F_,Dt,Pt],EW),TW=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=Ya(t,r);if(s&&(i==="number"||a!=="auto"))return e.map(o=>o.value)}},Fj=V([Ae,F_,Ny,Pt],TW),VL=V([Ae,yIe,gf,yf,Bj,Fj,Cy,Uj,Pt],(t,e,n,r,i,a,s,o,l)=>{if(e!=null){var c=Ya(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:n,scale:r}}}),sPe=(t,e,n,r,i,a,s,o,l)=>{if(!(e==null||r==null)){var c=Ya(t,l),{type:u,ticks:h,tickCount:f}=e,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,y=u==="category"&&r.bandwidth?r.bandwidth()/m:0;y=l==="angleAxis"&&a!=null&&a.length>=2?Mn(a[0]-a[1])*2*y:y;var v=h||i;if(v){var x=v.map((b,w)=>{var _=s?s.indexOf(b):b;return{index:w,coordinate:r(_)+y,value:b,offset:y}});return x.filter(b=>wt(b.coordinate))}return c&&o?o.map((b,w)=>({coordinate:r(b)+y,value:b,index:w,offset:y})).filter(b=>wt(b.coordinate)):r.ticks?r.ticks(f).map(b=>({coordinate:r(b)+y,value:b,offset:y})):r.domain().map((b,w)=>({coordinate:r(b)+y,value:s?s[b]:b,index:w,offset:y}))}},SW=V([Ae,Ny,gf,yf,Uj,Cy,Bj,Fj,Pt],sPe),oPe=(t,e,n,r,i,a,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var o=Ya(t,s),{tickCount:l}=e,c=0;return c=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Mn(r[0]-r[1])*2*c:c,o&&a?a.map((u,h)=>({coordinate:n(u)+c,value:u,index:h,offset:c})):n.ticks?n.ticks(l).map(u=>({coordinate:n(u)+c,value:u,offset:c})):n.domain().map((u,h)=>({coordinate:n(u)+c,value:i?i[u]:u,index:h,offset:c}))}},qa=V([Ae,Ny,yf,Cy,Bj,Fj,Pt],oPe),Ha=V(Dt,yf,(t,e)=>{if(!(t==null||e==null))return Ab(Ab({},t),{},{scale:e})}),lPe=V([Dt,gf,Mj,vW],Lj);V((t,e,n)=>Ej(t,n),lPe,(t,e)=>{if(!(t==null||e==null))return Ab(Ab({},t),{},{scale:e})});var cPe=V([Ae,E_,T_],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),AW=t=>t.options.defaultTooltipEventType,NW=t=>t.options.validateTooltipEventTypes;function IW(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function $j(t,e){var n=AW(t),r=NW(t);return IW(e,n,r)}function uPe(t){return se(e=>$j(e,t))}var PW=(t,e)=>{var n,r=Number(e);if(!(Fi(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},dPe=t=>t.tooltip.settings,Oo={active:!1,index:null,dataKey:void 0,coordinate:void 0},hPe={itemInteraction:{click:Oo,hover:Oo},axisInteraction:{click:Oo,hover:Oo},keyboardInteraction:Oo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},CW=Gr({name:"tooltip",initialState:hPe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:gn()},removeTooltipEntrySettings:{reducer(t,e){var n=Es(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:gn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:fPe,removeTooltipEntrySettings:mPe,setTooltipSettingsState:pPe,setActiveMouseOverItemIndex:jW,mouseLeaveItem:gPe,mouseLeaveChart:RW,setActiveClickItemIndex:yPe,setMouseOverAxisIndex:OW,setMouseClickAxisIndex:vPe,setSyncInteraction:uN,setKeyboardInteraction:dN}=CW.actions,xPe=CW.reducer;function UL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UL(Object(n),!0).forEach(function(r){bPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bPe(t,e,n){return(e=wPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wPe(t){var e=_Pe(t,"string");return typeof e=="symbol"?e:e+""}function _Pe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EPe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function TPe(t){return t.index!=null}var kW=(t,e,n,r)=>{if(e==null)return Oo;var i=EPe(t,e,n);if(i==null)return Oo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(TPe(i)){if(a)return Bv(Bv({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Bv(Bv({},Oo),{},{coordinate:i.coordinate})},qj=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!wt(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},DW=(t,e,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],c=l==null?void 0:o(l.positions,a);if(c!=null)return c;var u=i==null?void 0:i[Number(a)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:u.coordinate}}}},MW=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},jy=t=>t.options.tooltipPayloadSearcher,vf=t=>t.tooltip;function zL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zL(Object(n),!0).forEach(function(r){SPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SPe(t,e,n){return(e=APe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function APe(t){var e=NPe(t,"string");return typeof e=="symbol"?e:e+""}function NPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IPe(t,e){return t??e}var LW=(t,e,n,r,i,a,s)=>{if(!(e==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=n,h=[];return t.reduce((f,m)=>{var y,{dataDefinedOnItem:v,settings:x}=m,b=IPe(v,o),w=Array.isArray(b)?xG(b,c,u):b,_=(y=x==null?void 0:x.dataKey)!==null&&y!==void 0?y:r,T=x==null?void 0:x.nameKey,I;if(r&&Array.isArray(w)&&!Array.isArray(w[0])&&s==="axis"?I=mH(w,r,i):I=a(w,e,l,T),Array.isArray(I))I.forEach(A=>{var S=BL(BL({},x),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});f.push(w5({tooltipEntrySettings:S,dataKey:A.dataKey,payload:A.payload,value:Xe(A.payload,A.dataKey),name:A.name}))});else{var j;f.push(w5({tooltipEntrySettings:x,dataKey:_,payload:I,value:Xe(I,_),name:(j=Xe(I,T))!==null&&j!==void 0?j:x==null?void 0:x.name}))}return f},h)}},Hj=V([Sn,Ae,rW,yj,Tn],gW),PPe=V([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),CPe=V([Tn,mf],Tj),Ry=V([PPe,Sn,CPe],Sj,{memoizeOptions:{resultEqualityCheck:B_}}),jPe=V([Ry],t=>t.filter(U_)),RPe=V([Ry],Aj,{memoizeOptions:{resultEqualityCheck:B_}}),xf=V([RPe,zl],Nj),OPe=V([jPe,zl,Sn],eW),Gj=V([xf,Sn,Ry],Pj),VW=V([Sn],Cj),kPe=V([Sn],t=>t.allowDataOverflow),UW=V([VW,kPe],jK),DPe=V([Ry],t=>t.filter(U_)),MPe=V([OPe,DPe,Sy],lW),LPe=V([MPe,zl,Tn,UW],cW),VPe=V([Ry],aW),UPe=V([xf,Sn,VPe,$_,Tn],Oj,{memoizeOptions:{resultEqualityCheck:z_}}),zPe=V([uW,Tn,mf],pf),BPe=V([zPe,Tn],fW),FPe=V([dW,Tn,mf],pf),$Pe=V([FPe,Tn],mW),qPe=V([hW,Tn,mf],pf),HPe=V([qPe,Tn],pW),GPe=V([BPe,HPe,$Pe],Nb),KPe=V([Sn,VW,UW,LPe,UPe,GPe,Ae,Tn],kj),zW=V([Sn,Ae,xf,Gj,Sy,Tn,KPe],Dj),WPe=V([zW,Sn,Hj],Vj),YPe=V([Sn,zW,WPe,Tn],zj),BW=t=>{var e=Tn(t),n=mf(t),r=!1;return Cy(t,e,n,r)},FW=V([Sn,BW],M_),$W=V([Sn,Hj,YPe,FW],Lj),QPe=V([Ae,Gj,Sn,Tn],EW),XPe=V([Ae,Gj,Sn,Tn],TW),ZPe=(t,e,n,r,i,a,s,o)=>{if(e){var{type:l}=e,c=Ya(t,o);if(r){var u=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=l==="category"&&r.bandwidth?r.bandwidth()/u:0;return h=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Mn(i[0]-i[1])*2*h:h,c&&s?s.map((f,m)=>({coordinate:r(f)+h,value:f,index:m,offset:h})):r.domain().map((f,m)=>({coordinate:r(f)+h,value:a?a[f]:f,index:m,offset:h}))}}},co=V([Ae,Sn,Hj,$W,BW,QPe,XPe,Tn],ZPe),Kj=V([AW,NW,dPe],(t,e,n)=>IW(n.shared,t,e)),qW=t=>t.tooltip.settings.trigger,Wj=t=>t.tooltip.settings.defaultIndex,G_=V([vf,Kj,qW,Wj],kW),El=V([G_,xf],qj),HW=V([co,El],PW),GW=V([G_],t=>{if(t)return t.dataKey}),KW=V([vf,Kj,qW,Wj],MW),JPe=V([ro,io,Ae,_n,co,Wj,KW,jy],DW),e2e=V([G_,JPe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),t2e=V([G_],t=>t.active),n2e=V([KW,El,zl,oW,HW,jy,Kj],LW),r2e=V([n2e],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function FL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $L(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FL(Object(n),!0).forEach(function(r){i2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i2e(t,e,n){return(e=a2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a2e(t){var e=s2e(t,"string");return typeof e=="symbol"?e:e+""}function s2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o2e=()=>se(Sn),l2e=()=>{var t=o2e(),e=se(co),n=se($W);return _l(!t||!n?void 0:$L($L({},t),{},{scale:n}),e)};function qL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(n),!0).forEach(function(r){c2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c2e(t,e,n){return(e=u2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u2e(t){var e=d2e(t,"string");return typeof e=="symbol"?e:e+""}function d2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var h2e=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},f2e=(t,e,n,r)=>{var i=e.find(c=>c&&c.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=r;return Hu(Hu(Hu({},r),cn(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return Hu(Hu(Hu({},r),cn(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function m2e(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var WW=(t,e,n,r,i)=>{var a,s=-1,o=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(o<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?n[l-1].coordinate:n[o-1].coordinate,u=n[l].coordinate,h=l>=o-1?n[0].coordinate:n[l+1].coordinate,f=void 0;if(Mn(u-c)!==Mn(h-u)){var m=[];if(Mn(h-u)===Mn(i[1]-i[0])){f=h;var y=u+i[1]-i[0];m[0]=Math.min(y,(y+c)/2),m[1]=Math.max(y,(y+c)/2)}else{f=c;var v=h+i[1]-i[0];m[0]=Math.min(u,(v+u)/2),m[1]=Math.max(u,(v+u)/2)}var x=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(t>x[0]&&t<=x[1]||t>=m[0]&&t<=m[1]){({index:s}=n[l]);break}}else{var b=Math.min(c,h),w=Math.max(c,h);if(t>(b+u)/2&&t<=(w+u)/2){({index:s}=n[l]);break}}}else if(e){for(var _=0;_<o;_++)if(_===0&&t<=(e[_].coordinate+e[_+1].coordinate)/2||_>0&&_<o-1&&t>(e[_].coordinate+e[_-1].coordinate)/2&&t<=(e[_].coordinate+e[_+1].coordinate)/2||_===o-1&&t>(e[_].coordinate+e[_-1].coordinate)/2){({index:s}=e[_]);break}}return s},YW=()=>se(yj),Yj=(t,e)=>e,QW=(t,e,n)=>n,Qj=(t,e,n,r)=>r,p2e=V(co,t=>y_(t,e=>e.coordinate)),Xj=V([vf,Yj,QW,Qj],kW),XW=V([Xj,xf],qj),g2e=(t,e,n)=>{if(e!=null){var r=vf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},ZW=V([vf,Yj,QW,Qj],MW),Ib=V([ro,io,Ae,_n,co,Qj,ZW,jy],DW),y2e=V([Xj,Ib],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),JW=V([co,XW],PW),v2e=V([ZW,XW,zl,oW,JW,jy,Yj],LW),x2e=V([Xj],t=>({isActive:t.active,activeIndex:t.index})),b2e=(t,e,n,r,i,a,s)=>{if(!(!t||!n||!r||!i)&&m2e(t,s)){var o=dEe(t,e),l=WW(o,a,i,n,r),c=h2e(e,i,l,t);return{activeIndex:String(l),activeCoordinate:c}}},w2e=(t,e,n,r,i,a,s)=>{if(!(!t||!r||!i||!a||!n)){var o=hSe(t,n);if(o){var l=hEe(o,e),c=WW(l,s,a,r,i),u=f2e(e,a,c,o);return{activeIndex:String(c),activeCoordinate:u}}}},_2e=(t,e,n,r,i,a,s,o)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?b2e(t,e,r,i,a,s,o):w2e(t,e,n,r,i,a,s)},E2e=V(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),T2e=V(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Yt)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:hIe}});function HL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HL(Object(n),!0).forEach(function(r){S2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S2e(t,e,n){return(e=A2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A2e(t){var e=N2e(t,"string");return typeof e=="symbol"?e:e+""}function N2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I2e={},P2e={zIndexMap:Object.values(Yt).reduce((t,e)=>GL(GL({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),I2e)},C2e=new Set(Object.values(Yt));function j2e(t){return C2e.has(t)}var eY=Gr({name:"zIndex",initialState:P2e,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:gn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!j2e(n)&&delete t.zIndexMap[n])},prepare:gn()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:gn()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:gn()}}}),{registerZIndexPortal:R2e,unregisterZIndexPortal:O2e,registerZIndexPortalId:k2e,unregisterZIndexPortalId:D2e}=eY.actions,M2e=eY.reducer;function jr(t){var{zIndex:e,children:n}=t,r=UEe(),i=r&&e!==void 0&&e!==0,a=Un(),s=lt();g.useLayoutEffect(()=>i?(s(R2e({zIndex:e})),()=>{s(O2e({zIndex:e}))}):Au,[s,e,i]);var o=se(c=>E2e(c,e,a));if(!i)return n;if(!o)return null;var l=document.getElementById(o);return l?Hb.createPortal(n,l):null}function hN(){return hN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hN.apply(null,arguments)}function KL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(n),!0).forEach(function(r){L2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L2e(t,e,n){return(e=V2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V2e(t){var e=U2e(t,"string");return typeof e=="symbol"?e:e+""}function U2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z2e(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return g.isValidElement(e)?g.cloneElement(e,r):g.createElement(n,r)}function B2e(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:c,chartName:u}=t,h=n,f=r,m=i;if(!l||!h||u!=="ScatterChart"&&c!=="axis")return null;var y,v,x;if(u==="ScatterChart")y=h,v=ITe,x=Yt.cursorLine;else if(u==="BarChart")y=PTe(o,h,a,s),v=FG,x=Yt.cursorRectangle;else if(o==="radial"&&gH(h)){var{cx:b,cy:w,radius:_,startAngle:T,endAngle:I}=qG(h);y={cx:b,cy:w,startAngle:T,endAngle:I,innerRadius:_,outerRadius:_},v=GG,x=Yt.cursorLine}else y={points:gSe(o,h,a)},v=Ud,x=Yt.cursorLine;var j=typeof l=="object"&&"className"in l?l.className:void 0,A=Fv(Fv(Fv(Fv({stroke:"#ccc",pointerEvents:"none"},a),y),iu(l)),{},{payload:f,payloadIndex:m,className:Re("recharts-tooltip-cursor",j)});return g.createElement(jr,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:x},g.createElement(z2e,{cursor:l,cursorComp:v,cursorProps:A}))}function F2e(t){var e=l2e(),n=OG(),r=lf(),i=YW();return e==null||n==null||r==null||i==null?null:g.createElement(B2e,hN({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var tY=g.createContext(null),$2e=()=>g.useContext(tY),nY={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new i(u,h||l,f),y=n?n+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,y=new Array(m);f<m;f++)y[f]=h[f].fn;return y},o.prototype.listenerCount=function(c){var u=n?n+c:c,h=this._events[u];return h?h.fn?1:h.length:0},o.prototype.emit=function(c,u,h,f,m,y){var v=n?n+c:c;if(!this._events[v])return!1;var x=this._events[v],b=arguments.length,w,_;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,h),!0;case 4:return x.fn.call(x.context,u,h,f),!0;case 5:return x.fn.call(x.context,u,h,f,m),!0;case 6:return x.fn.call(x.context,u,h,f,m,y),!0}for(_=1,w=new Array(b-1);_<b;_++)w[_-1]=arguments[_];x.fn.apply(x.context,w)}else{var T=x.length,I;for(_=0;_<T;_++)switch(x[_].once&&this.removeListener(c,x[_].fn,void 0,!0),b){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,u);break;case 3:x[_].fn.call(x[_].context,u,h);break;case 4:x[_].fn.call(x[_].context,u,h,f);break;default:if(!w)for(I=1,w=new Array(b-1);I<b;I++)w[I-1]=arguments[I];x[_].fn.apply(x[_].context,w)}}return!0},o.prototype.on=function(c,u,h){return a(this,c,u,h,!1)},o.prototype.once=function(c,u,h){return a(this,c,u,h,!0)},o.prototype.removeListener=function(c,u,h,f){var m=n?n+c:c;if(!this._events[m])return this;if(!u)return s(this,m),this;var y=this._events[m];if(y.fn)y.fn===u&&(!f||y.once)&&(!h||y.context===h)&&s(this,m);else{for(var v=0,x=[],b=y.length;v<b;v++)(y[v].fn!==u||f&&!y[v].once||h&&y[v].context!==h)&&x.push(y[v]);x.length?this._events[m]=x.length===1?x[0]:x:s(this,m)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(nY);var q2e=nY.exports;const H2e=Ga(q2e);var vg=new H2e,fN="recharts.syncEvent.tooltip",WL="recharts.syncEvent.brush";function K_(t,e){if(e){var n=Number.parseInt(e,10);if(!Fi(n))return t==null?void 0:t[n]}}var G2e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},rY=Gr({name:"options",initialState:G2e,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),K2e=rY.reducer,{createEventEmitter:W2e}=rY.actions;function Y2e(t){return t.tooltip.syncInteraction}var Q2e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},iY=Gr({name:"chartData",initialState:Q2e,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:YL,setDataStartEndIndexes:X2e,setComputedData:R6e}=iY.actions,Z2e=iY.reducer,J2e=["x","y"];function QL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QL(Object(n),!0).forEach(function(r){eCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eCe(t,e,n){return(e=tCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tCe(t){var e=nCe(t,"string");return typeof e=="symbol"?e:e+""}function nCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rCe(t,e){if(t==null)return{};var n,r,i=iCe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function iCe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function aCe(){var t=se(vj),e=se(xj),n=lt(),r=se(WK),i=se(co),a=lf(),s=N_(),o=se(l=>l.rootProps.className);g.useEffect(()=>{if(t==null)return Au;var l=(c,u,h)=>{if(e!==h&&t===c){if(r==="index"){var f;if(s&&u!==null&&u!==void 0&&(f=u.payload)!==null&&f!==void 0&&f.coordinate&&u.payload.sourceViewBox){var m=u.payload.coordinate,{x:y,y:v}=m,x=rCe(m,J2e),{x:b,y:w,width:_,height:T}=u.payload.sourceViewBox,I=Gu(Gu({},x),{},{x:s.x+(_?(y-b)/_:0)*s.width,y:s.y+(T?(v-w)/T:0)*s.height});n(Gu(Gu({},u),{},{payload:Gu(Gu({},u.payload),{},{coordinate:I})}))}else n(u);return}if(i!=null){var j;if(typeof r=="function"){var A={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},S=r(i,A);j=i[S]}else r==="value"&&(j=i.find(F=>String(F.value)===u.payload.label));var{coordinate:P}=u.payload;if(j==null||u.payload.active===!1||P==null||s==null){n(uN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:C,y:R}=P,k=Math.min(C,s.x+s.width),O=Math.min(R,s.y+s.height),B={x:a==="horizontal"?j.coordinate:k,y:a==="horizontal"?O:j.coordinate},J=uN({active:u.payload.active,coordinate:B,dataKey:u.payload.dataKey,index:String(j.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox});n(J)}}};return vg.on(fN,l),()=>{vg.off(fN,l)}},[o,n,e,t,r,i,a,s])}function sCe(){var t=se(vj),e=se(xj),n=lt();g.useEffect(()=>{if(t==null)return Au;var r=(i,a,s)=>{e!==s&&t===i&&n(X2e(a))};return vg.on(WL,r),()=>{vg.off(WL,r)}},[n,e,t])}function oCe(){var t=lt();g.useEffect(()=>{t(W2e())},[t]),aCe(),sCe()}function lCe(t,e,n,r,i,a){var s=se(m=>g2e(m,t,e)),o=se(xj),l=se(vj),c=se(WK),u=se(Y2e),h=u==null?void 0:u.active,f=N_();g.useEffect(()=>{if(!h&&l!=null&&o!=null){var m=uN({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:f});vg.emit(fN,l,m,o)}},[h,n,s,i,r,o,l,c,a,f])}function XL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XL(Object(n),!0).forEach(function(r){cCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cCe(t,e,n){return(e=uCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uCe(t){var e=dCe(t,"string");return typeof e=="symbol"?e:e+""}function dCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hCe(t){return t.dataKey}function fCe(t,e){return g.isValidElement(t)?g.cloneElement(t,e):typeof t=="function"?g.createElement(t,e):g.createElement(sTe,e)}var JL=[],mCe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ao.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function xg(t){var e,n,r=qt(t,mCe),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:c,isAnimationActive:u,offset:h,payloadUniqBy:f,position:m,reverseDirection:y,useTranslate3d:v,wrapperStyle:x,cursor:b,shared:w,trigger:_,defaultIndex:T,portal:I,axisId:j}=r,A=lt(),S=typeof T=="number"?String(T):T;g.useEffect(()=>{A(pPe({shared:w,trigger:_,axisId:j,active:i,defaultIndex:S}))},[A,w,_,j,i,S]);var P=N_(),C=LG(),R=uPe(w),{activeIndex:k,isActive:O}=(e=se(An=>x2e(An,R,_,S)))!==null&&e!==void 0?e:{},B=se(An=>v2e(An,R,_,S)),J=se(An=>JW(An,R,_,S)),F=se(An=>y2e(An,R,_,S)),H=B,Q=$2e(),ne=(n=i??O)!==null&&n!==void 0?n:!1,[pe,Jt]=GH([H,ne]),fn=R==="axis"?J:void 0;lCe(R,_,F,fn,k,ne);var Jn=I??Q;if(Jn==null||P==null||R==null)return null;var ct=H??JL;ne||(ct=JL),c&&ct.length&&(ct=kH(ct.filter(An=>An.value!=null&&(An.hide!==!0||r.includeHidden)),f,hCe));var er=ct.length>0,Qa=g.createElement(fTe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:u,active:ne,coordinate:F,hasPayload:er,offset:h,position:m,reverseDirection:y,useTranslate3d:v,viewBox:P,wrapperStyle:x,lastBoundingBox:pe,innerRef:Jt,hasPortalFromProps:!!I},fCe(l,ZL(ZL({},r),{},{payload:ct,label:fn,active:ne,activeIndex:k,coordinate:F,accessibilityLayer:C})));return g.createElement(g.Fragment,null,Hb.createPortal(Qa,Jn),ne&&g.createElement(F2e,{cursor:b,tooltipEventType:R,coordinate:F,payload:ct,index:k}))}var Pu=t=>null;Pu.displayName="Cell";function pCe(t,e,n){return(e=gCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gCe(t){var e=yCe(t,"string");return typeof e=="symbol"?e:e+""}function yCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class vCe{constructor(e){pCe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function e3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xCe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e3(Object(n),!0).forEach(function(r){bCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bCe(t,e,n){return(e=wCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wCe(t){var e=_Ce(t,"string");return typeof e=="symbol"?e:e+""}function _Ce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ECe={cacheSize:2e3,enableCache:!0},aY=xCe({},ECe),t3=new vCe(aY.cacheSize),TCe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},n3="recharts_measurement_span";function SCe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var r3=(t,e)=>{try{var n=document.getElementById(n3);n||(n=document.createElement("span"),n.setAttribute("id",n3),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,TCe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},hp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ao.isSsr)return{width:0,height:0};if(!aY.enableCache)return r3(e,n);var r=SCe(e,n),i=t3.get(r);if(i)return i;var a=r3(e,n);return t3.set(r,a),a},i3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,a3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ACe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NCe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,sY={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ICe=Object.keys(sY),_d="NaN";function PCe(t,e){return t*sY[e]}class Mr{static parse(e){var n,[,r,i]=(n=NCe.exec(e))!==null&&n!==void 0?n:[];return new Mr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Fi(e)&&(this.unit=""),n!==""&&!ACe.test(n)&&(this.num=NaN,this.unit=""),ICe.includes(n)&&(this.num=PCe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Mr(NaN,""):new Mr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Mr(NaN,""):new Mr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Mr(NaN,""):new Mr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Mr(NaN,""):new Mr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Fi(this.num)}}function oY(t){if(t.includes(_d))return _d;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=i3.exec(e))!==null&&n!==void 0?n:[],s=Mr.parse(r??""),o=Mr.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return _d;e=e.replace(i3,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,u,h,f]=(c=a3.exec(e))!==null&&c!==void 0?c:[],m=Mr.parse(u??""),y=Mr.parse(f??""),v=h==="+"?m.add(y):m.subtract(y);if(v.isNaN())return _d;e=e.replace(a3,v.toString())}return e}var s3=/\(([^()]*)\)/;function CCe(t){for(var e=t,n;(n=s3.exec(e))!=null;){var[,r]=n;e=e.replace(s3,oY(r))}return e}function jCe(t){var e=t.replace(/\s+/g,"");return e=CCe(e),e=oY(e),e}function RCe(t){try{return jCe(t)}catch{return _d}}function pT(t){var e=RCe(t.slice(5,-1));return e===_d?"":e}var OCe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],kCe=["dx","dy","angle","className","breakAll"];function mN(){return mN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mN.apply(null,arguments)}function o3(t,e){if(t==null)return{};var n,r,i=DCe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function DCe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lY=/[ \f\n\r\t\v\u2028\u2029]+/,cY=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];vt(e)||(n?i=e.toString().split(""):i=e.toString().split(lY));var a=i.map(o=>({word:o,width:hp(o,r).width})),s=n?0:hp("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function MCe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var uY=(t,e,n,r)=>t.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(e==null||r||l.width+o+n<Number(e)))l.words.push(s),l.width+=o+n;else{var c={words:[s],width:o};i.push(c)}return i},[]),dY=t=>t.reduce((e,n)=>e.width>n.width?e:n),LCe="",l3=(t,e,n,r,i,a,s,o)=>{var l=t.slice(0,e),c=cY({breakAll:n,style:r,children:l+LCe});if(!c)return[!1,[]];var u=uY(c.wordsWithComputedWidth,a,s,o),h=u.length>i||dY(u).width>Number(a);return[h,u]},VCe=(t,e,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=t,c=ie(a),u=String(s),h=uY(e,r,n,i);if(!c||i)return h;var f=h.length>a||dY(h).width>Number(r);if(!f)return h;for(var m=0,y=u.length-1,v=0,x;m<=y&&v<=u.length-1;){var b=Math.floor((m+y)/2),w=b-1,[_,T]=l3(u,w,l,o,a,r,n,i),[I]=l3(u,b,l,o,a,r,n,i);if(!_&&!I&&(m=b+1),_&&I&&(y=b-1),!_&&I){x=T;break}v++}return x||h},c3=t=>{var e=vt(t)?[]:t.toString().split(lY);return[{words:e,width:void 0}]},UCe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=t;if((e||n)&&!ao.isSsr){var o,l,c=cY({breakAll:a,children:r,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:h}=c;o=u,l=h}else return c3(r);return VCe({breakAll:a,children:r,maxLines:s,style:i},o,l,e,!!n)}return c3(r)},hY="#808080",zCe={breakAll:!1,capHeight:"0.71em",fill:hY,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},W_=g.forwardRef((t,e)=>{var n=qt(t,zCe),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:u}=n,h=o3(n,OCe),f=g.useMemo(()=>UCe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:m,dy:y,angle:v,className:x,breakAll:b}=h,w=o3(h,kCe);if(!Ba(r)||!Ba(i)||f.length===0)return null;var _=Number(r)+(ie(m)?m:0),T=Number(i)+(ie(y)?y:0);if(!wt(_)||!wt(T))return null;var I;switch(u){case"start":I=pT("calc(".concat(s,")"));break;case"middle":I=pT("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:I=pT("calc(".concat(f.length-1," * -").concat(a,")"));break}var j=[];if(l){var A=f[0].width,{width:S}=h;j.push("scale(".concat(ie(S)&&ie(A)?S/A:1,")"))}return v&&j.push("rotate(".concat(v,", ").concat(_,", ").concat(T,")")),j.length&&(w.transform=j.join(" ")),g.createElement("text",mN({},fr(w),{ref:e,x:_,y:T,className:Re("recharts-text",x),textAnchor:c,fill:o.includes("url")?hY:o}),f.map((P,C)=>{var R=P.words.join(b?"":" ");return g.createElement("tspan",{x:_,dy:C===0?I:a,key:"".concat(R,"-").concat(C)},R)}))});W_.displayName="Text";var BCe=["labelRef"];function FCe(t,e){if(t==null)return{};var n,r,i=$Ce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $Ce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function u3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u3(Object(n),!0).forEach(function(r){qCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qCe(t,e,n){return(e=HCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HCe(t){var e=GCe(t,"string");return typeof e=="symbol"?e:e+""}function GCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function os(){return os=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},os.apply(null,arguments)}var fY=g.createContext(null),KCe=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=t,l=g.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[e,n,r,i,a,s]);return g.createElement(fY.Provider,{value:l},o)},mY=()=>{var t=g.useContext(fY),e=N_();return t||RG(e)},WCe=g.createContext(null),YCe=()=>{var t=g.useContext(WCe),e=se(JK);return t||e},QCe=t=>{var{value:e,formatter:n}=t,r=vt(t.children)?e:t.children;return typeof n=="function"?n(r):r},Zj=t=>t!=null&&typeof t=="function",XCe=(t,e)=>{var n=Mn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},ZCe=(t,e,n,r,i)=>{var{offset:a,className:s}=t,{cx:o,cy:l,innerRadius:c,outerRadius:u,startAngle:h,endAngle:f,clockWise:m}=i,y=(c+u)/2,v=XCe(h,f),x=v>=0?1:-1,b,w;switch(e){case"insideStart":b=h+x*a,w=m;break;case"insideEnd":b=f-x*a,w=!m;break;case"end":b=f+x*a,w=m;break;default:throw new Error("Unsupported position ".concat(e))}w=v<=0?w:!w;var _=cn(o,l,y,b),T=cn(o,l,y,b+(w?1:-1)*359),I="M".concat(_.x,",").concat(_.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(w?0:1,`,
    `).concat(T.x,",").concat(T.y),j=vt(t.id)?sg("recharts-radial-line-"):t.id;return g.createElement("text",os({},r,{dominantBaseline:"central",className:Re("recharts-radial-bar-label",s)}),g.createElement("defs",null,g.createElement("path",{id:j,d:I})),g.createElement("textPath",{xlinkHref:"#".concat(j)},n))},JCe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=t,c=(o+l)/2;if(n==="outside"){var{x:u,y:h}=cn(r,i,s+e,c);return{x:u,y:h,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(a+s)/2,{x:m,y}=cn(r,i,f,c);return{x:m,y,textAnchor:"middle",verticalAnchor:"middle"}},pN=t=>"cx"in t&&ie(t.cx),eje=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!pN(n)&&(a=n);var{x:s,y:o,upperWidth:l,lowerWidth:c,height:u}=e,h=s,f=s+(l-c)/2,m=(h+f)/2,y=(l+c)/2,v=h+l/2,x=u>=0?1:-1,b=x*r,w=x>0?"end":"start",_=x>0?"start":"end",T=l>=0?1:-1,I=T*r,j=T>0?"end":"start",A=T>0?"start":"end";if(i==="top"){var S={x:h+l/2,y:o-b,textAnchor:"middle",verticalAnchor:w};return Ht(Ht({},S),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var P={x:f+c/2,y:o+u+b,textAnchor:"middle",verticalAnchor:_};return Ht(Ht({},P),a?{height:Math.max(a.y+a.height-(o+u),0),width:c}:{})}if(i==="left"){var C={x:m-I,y:o+u/2,textAnchor:j,verticalAnchor:"middle"};return Ht(Ht({},C),a?{width:Math.max(C.x-a.x,0),height:u}:{})}if(i==="right"){var R={x:m+y+I,y:o+u/2,textAnchor:A,verticalAnchor:"middle"};return Ht(Ht({},R),a?{width:Math.max(a.x+a.width-R.x,0),height:u}:{})}var k=a?{width:y,height:u}:{};return i==="insideLeft"?Ht({x:m+I,y:o+u/2,textAnchor:A,verticalAnchor:"middle"},k):i==="insideRight"?Ht({x:m+y-I,y:o+u/2,textAnchor:j,verticalAnchor:"middle"},k):i==="insideTop"?Ht({x:h+l/2,y:o+b,textAnchor:"middle",verticalAnchor:_},k):i==="insideBottom"?Ht({x:f+c/2,y:o+u-b,textAnchor:"middle",verticalAnchor:w},k):i==="insideTopLeft"?Ht({x:h+I,y:o+b,textAnchor:A,verticalAnchor:_},k):i==="insideTopRight"?Ht({x:h+l-I,y:o+b,textAnchor:j,verticalAnchor:_},k):i==="insideBottomLeft"?Ht({x:f+I,y:o+u-b,textAnchor:A,verticalAnchor:w},k):i==="insideBottomRight"?Ht({x:f+c-I,y:o+u-b,textAnchor:j,verticalAnchor:w},k):i&&typeof i=="object"&&(ie(i.x)||zs(i.x))&&(ie(i.y)||zs(i.y))?Ht({x:s+hr(i.x,y),y:o+hr(i.y,u),textAnchor:"end",verticalAnchor:"end"},k):Ht({x:v,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},k)},tje={offset:5,zIndex:Yt.label};function No(t){var e=qt(t,tje),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:c}=e,u=YCe(),h=mY(),f=r==="center"?h:u??h,m,y,v;if(n==null?m=f:pN(n)?m=n:m=RG(n),!m||vt(i)&&vt(a)&&!g.isValidElement(s)&&typeof s!="function")return null;var x=Ht(Ht({},e),{},{viewBox:m});if(g.isValidElement(s)){var{labelRef:b}=x,w=FCe(x,BCe);return g.cloneElement(s,w)}if(typeof s=="function"){if(y=g.createElement(s,x),g.isValidElement(y))return y}else y=QCe(e);var _=fr(e);if(pN(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return ZCe(e,r,y,_,m);v=JCe(m,e.offset,e.position)}else v=eje(e,m);return g.createElement(jr,{zIndex:e.zIndex},g.createElement(W_,os({ref:c,className:Re("recharts-label",o)},_,v,{textAnchor:MCe(_.textAnchor)?_.textAnchor:v.textAnchor,breakAll:l}),y))}No.displayName="Label";var nje=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?g.createElement(No,os({key:"label-implicit"},r)):Ba(t)?g.createElement(No,os({key:"label-implicit",value:t},r)):g.isValidElement(t)?t.type===No?g.cloneElement(t,Ht({key:"label-implicit"},r)):g.createElement(No,os({key:"label-implicit",content:t},r)):Zj(t)?g.createElement(No,os({key:"label-implicit",content:t},r)):t&&typeof t=="object"?g.createElement(No,os({},t,{key:"label-implicit"},r)):null};function rje(t){var{label:e,labelRef:n}=t,r=mY();return nje(e,r,n)||null}var pY={},gY={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(gY);var yY={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(yY);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gY,n=yY,r=p_;function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(pY);var ije=pY.last;const aje=Ga(ije);var sje=["valueAccessor"],oje=["dataKey","clockWise","id","textBreakAll","zIndex"];function Pb(){return Pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pb.apply(null,arguments)}function d3(t,e){if(t==null)return{};var n,r,i=lje(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lje(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cje=t=>Array.isArray(t.value)?aje(t.value):t.value,vY=g.createContext(void 0),Jj=vY.Provider,xY=g.createContext(void 0),uje=xY.Provider;function dje(){return g.useContext(vY)}function hje(){return g.useContext(xY)}function P0(t){var{valueAccessor:e=cje}=t,n=d3(t,sje),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,l=d3(n,oje),c=dje(),u=hje(),h=c||u;return!h||!h.length?null:g.createElement(jr,{zIndex:o??Yt.label},g.createElement(Bt,{className:"recharts-label-list"},h.map((f,m)=>{var y,v=vt(r)?e(f,m):Xe(f&&f.payload,r),x=vt(a)?{}:{id:"".concat(a,"-").concat(m)};return g.createElement(No,Pb({key:"label-".concat(m)},fr(f),l,x,{fill:(y=n.fill)!==null&&y!==void 0?y:f.fill,parentViewBox:f.parentViewBox,value:v,textBreakAll:s,viewBox:f.viewBox,index:m,zIndex:0}))})))}P0.displayName="LabelList";function Y_(t){var{label:e}=t;return e?e===!0?g.createElement(P0,{key:"labelList-implicit"}):g.isValidElement(e)||Zj(e)?g.createElement(P0,{key:"labelList-implicit",content:e}):typeof e=="object"?g.createElement(P0,Pb({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function gN(){return gN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gN.apply(null,arguments)}var bY=t=>{var{cx:e,cy:n,r,className:i}=t,a=Re("recharts-dot",i);return ie(e)&&ie(n)&&ie(r)?g.createElement("circle",gN({},Pr(t),EC(t),{className:a,cx:e,cy:n,r})):null},wY=t=>t.graphicalItems.polarItems,fje=V([Pt,Ay],Tj),Q_=V([wY,Dt,fje],Sj),mje=V([Q_],Aj),X_=V([mje,mj],Nj),pje=V([X_,Dt,Q_],Pj);V([X_,Dt,Q_],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,s=Xe(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Xe(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var h3=()=>{},gje=V([X_,Dt,Q_,$_,Pt],Oj),yje=V([Dt,jj,Rj,h3,gje,h3,Ae,Pt],kj),_Y=V([Dt,Ae,X_,pje,Sy,Pt,yje],Dj),vje=V([_Y,Dt,gf],Vj);V([Dt,_Y,vje,Pt],zj);var xje={radiusAxis:{},angleAxis:{}},EY=Gr({name:"polarAxis",initialState:xje,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:O6e,removeRadiusAxis:k6e,addAngleAxis:D6e,removeAngleAxis:M6e}=EY.actions,bje=EY.reducer;function f3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f3(Object(n),!0).forEach(function(r){wje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wje(t,e,n){return(e=_je(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _je(t){var e=Eje(t,"string");return typeof e=="symbol"?e:e+""}function Eje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tje=(t,e)=>e,eR=V([wY,Tje],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Sje=[],tR=(t,e,n)=>(n==null?void 0:n.length)===0?Sje:n,TY=V([mj,eR,tR],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>m3(m3({},e.presentationProps),a.props))),i!=null)return i}}),Aje=V([TY,eR,tR],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,s=Xe(r,e.nameKey,e.name),o;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=e.fill,{value:Ll(s,e.dataKey),color:o,payload:r,type:e.legendType}})}),Nje=V([TY,eR,tR,_n],(t,e,n,r)=>{if(!(e==null||t==null))return TRe({offset:r,pieSettings:e,displayedData:t,cells:n})}),SY={exports:{}},nt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nR=Symbol.for("react.transitional.element"),rR=Symbol.for("react.portal"),Z_=Symbol.for("react.fragment"),J_=Symbol.for("react.strict_mode"),e1=Symbol.for("react.profiler"),t1=Symbol.for("react.consumer"),n1=Symbol.for("react.context"),r1=Symbol.for("react.forward_ref"),i1=Symbol.for("react.suspense"),a1=Symbol.for("react.suspense_list"),s1=Symbol.for("react.memo"),o1=Symbol.for("react.lazy"),Ije=Symbol.for("react.view_transition"),Pje=Symbol.for("react.client.reference");function Ki(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case nR:switch(t=t.type,t){case Z_:case e1:case J_:case i1:case a1:case Ije:return t;default:switch(t=t&&t.$$typeof,t){case n1:case r1:case o1:case s1:return t;case t1:return t;default:return e}}case rR:return e}}}nt.ContextConsumer=t1;nt.ContextProvider=n1;nt.Element=nR;nt.ForwardRef=r1;nt.Fragment=Z_;nt.Lazy=o1;nt.Memo=s1;nt.Portal=rR;nt.Profiler=e1;nt.StrictMode=J_;nt.Suspense=i1;nt.SuspenseList=a1;nt.isContextConsumer=function(t){return Ki(t)===t1};nt.isContextProvider=function(t){return Ki(t)===n1};nt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===nR};nt.isForwardRef=function(t){return Ki(t)===r1};nt.isFragment=function(t){return Ki(t)===Z_};nt.isLazy=function(t){return Ki(t)===o1};nt.isMemo=function(t){return Ki(t)===s1};nt.isPortal=function(t){return Ki(t)===rR};nt.isProfiler=function(t){return Ki(t)===e1};nt.isStrictMode=function(t){return Ki(t)===J_};nt.isSuspense=function(t){return Ki(t)===i1};nt.isSuspenseList=function(t){return Ki(t)===a1};nt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Z_||t===e1||t===J_||t===i1||t===a1||typeof t=="object"&&t!==null&&(t.$$typeof===o1||t.$$typeof===s1||t.$$typeof===n1||t.$$typeof===t1||t.$$typeof===r1||t.$$typeof===Pje||t.getModuleId!==void 0)};nt.typeOf=Ki;SY.exports=nt;var Cje=SY.exports,p3=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",g3=null,gT=null,AY=t=>{if(t===g3&&Array.isArray(gT))return gT;var e=[];return g.Children.forEach(t,n=>{vt(n)||(Cje.isFragment(n)?e=e.concat(AY(n.props.children)):e.push(n))}),gT=e,g3=t,e};function iR(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>p3(i)):r=[p3(e)],AY(t).forEach(i=>{var a=au(i,"type.displayName")||au(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var aR=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,NY={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(NY);var jje=NY.isPlainObject;const Rje=Ga(jje);function y3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y3(Object(n),!0).forEach(function(r){Oje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oje(t,e,n){return(e=kje(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kje(t){var e=Dje(t,"string");return typeof e=="symbol"?e:e+""}function Dje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cb(){return Cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cb.apply(null,arguments)}var x3=(t,e,n,r,i)=>{var a=n-r,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+n,",").concat(e),s+="L ".concat(t+n-a/2,",").concat(e+i),s+="L ".concat(t+n-a/2-r,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},Mje={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lje=t=>{var e=qt(t,Mje),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=e,{animationEasing:l,animationDuration:c,animationBegin:u,isUpdateAnimationActive:h}=e,f=g.useRef(null),[m,y]=g.useState(-1),v=g.useRef(i),x=g.useRef(a),b=g.useRef(s),w=g.useRef(n),_=g.useRef(r),T=uf(t,"trapezoid-");if(g.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var B=f.current.getTotalLength();B&&y(B)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var I=Re("recharts-trapezoid",o);if(!h)return g.createElement("g",null,g.createElement("path",Cb({},fr(e),{className:I,d:x3(n,r,i,a,s)})));var j=v.current,A=x.current,S=b.current,P=w.current,C=_.current,R="0px ".concat(m===-1?1:m,"px"),k="".concat(m,"px 0px"),O=VG(["strokeDasharray"],c,l);return g.createElement(cf,{animationId:T,key:T,canBegin:m>0,duration:c,easing:l,isActive:h,begin:u},B=>{var J=Ue(j,i,B),F=Ue(A,a,B),H=Ue(S,s,B),Q=Ue(P,n,B),ne=Ue(C,r,B);f.current&&(v.current=J,x.current=F,b.current=H,w.current=Q,_.current=ne);var pe=B>0?{transition:O,strokeDasharray:k}:{strokeDasharray:R};return g.createElement("path",Cb({},fr(e),{className:I,d:x3(Q,ne,J,F,H),ref:f,style:v3(v3({},pe),e.style)}))})},Vje=["option","shapeType","propTransformer","activeClassName","isActive"];function Uje(t,e){if(t==null)return{};var n,r,i=zje(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zje(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function b3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b3(Object(n),!0).forEach(function(r){Bje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bje(t,e,n){return(e=Fje(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fje(t){var e=$je(t,"string");return typeof e=="symbol"?e:e+""}function $je(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qje(t,e){return jb(jb({},e),t)}function Hje(t,e){return t==="symbols"}function w3(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return g.createElement(FG,n);case"trapezoid":return g.createElement(Lje,n);case"sector":return g.createElement(GG,n);case"symbols":if(Hje(e))return g.createElement(_C,n);break;case"curve":return g.createElement(Ud,n);default:return null}}function Gje(t){return g.isValidElement(t)?t.props:t}function sR(t){var{option:e,shapeType:n,propTransformer:r=qje,activeClassName:i="recharts-active-shape",isActive:a}=t,s=Uje(t,Vje),o;if(g.isValidElement(e))o=g.cloneElement(e,jb(jb({},s),Gje(e)));else if(typeof e=="function")o=e(s);else if(Rje(e)&&typeof e!="boolean"){var l=r(e,s);o=g.createElement(w3,{shapeType:n,elementProps:l})}else{var c=s;o=g.createElement(w3,{shapeType:n,elementProps:c})}return a?g.createElement(Bt,{className:i},o):o}var oR=(t,e)=>{var n=lt();return(r,i)=>a=>{t==null||t(r,i,a),n(jW({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},lR=t=>{var e=lt();return(n,r)=>i=>{t==null||t(n,r,i),e(gPe())}},cR=(t,e)=>{var n=lt();return(r,i)=>a=>{t==null||t(r,i,a),n(yPe({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function l1(t){var{fn:e,args:n}=t,r=lt(),i=Un();return g.useLayoutEffect(()=>{if(!i){var a=e(n);return r(fPe(a)),()=>{r(mPe(a))}}},[e,n,r,i]),null}function uR(t){var{legendPayload:e}=t,n=lt(),r=Un();return g.useLayoutEffect(()=>r?Au:(n(DG(e)),()=>{n(MG(e))}),[n,r,e]),null}function Kje(t){var{legendPayload:e}=t,n=lt(),r=se(Ae);return g.useLayoutEffect(()=>r!=="centric"&&r!=="radial"?Au:(n(DG(e)),()=>{n(MG(e))}),[n,r,e]),null}var yT,Wje=()=>{var[t]=g.useState(()=>sg("uid-"));return t},Yje=(yT=dX.useId)!==null&&yT!==void 0?yT:Wje;function IY(t,e){var n=Yje();return e||(t?"".concat(t,"-").concat(n):n)}var Qje=g.createContext(void 0),c1=t=>{var{id:e,type:n,children:r}=t,i=IY("recharts-".concat(n),e);return g.createElement(Qje.Provider,{value:i},r(i))},Xje={cartesianItems:[],polarItems:[]},PY=Gr({name:"graphicalItems",initialState:Xje,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:gn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Es(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:gn()},removeCartesianGraphicalItem:{reducer(t,e){var n=Es(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:gn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:gn()},removePolarGraphicalItem:{reducer(t,e){var n=Es(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:gn()}}}),{addCartesianGraphicalItem:Zje,replaceCartesianGraphicalItem:Jje,removeCartesianGraphicalItem:eRe,addPolarGraphicalItem:tRe,removePolarGraphicalItem:nRe}=PY.actions,rRe=PY.reducer;function dR(t){var e=lt(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?e(Zje(t)):n.current!==t&&e(Jje({prev:n.current,next:t})),n.current=t},[e,t]),g.useLayoutEffect(()=>()=>{n.current&&(e(eRe(n.current)),n.current=null)},[e]),null}function iRe(t){var e=lt();return g.useLayoutEffect(()=>(e(tRe(t)),()=>{e(nRe(t))}),[e,t]),null}var aRe=["onMouseEnter","onClick","onMouseLeave"],sRe=["id"],oRe=["id"];function hR(t,e){if(t==null)return{};var n,r,i=lRe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lRe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_3(Object(n),!0).forEach(function(r){cRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cRe(t,e,n){return(e=uRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uRe(t){var e=dRe(t,"string");return typeof e=="symbol"?e:e+""}function dRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tl(){return Tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tl.apply(null,arguments)}function hRe(t){var e=g.useMemo(()=>iR(t.children,Pu),[t.children]),n=se(r=>Aje(r,t.id,e));return n==null?null:g.createElement(Kje,{legendPayload:n})}function fRe(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c}=t;return{dataDefinedOnItem:r.map(u=>u.tooltipPayload),positions:r.map(u=>u.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:e,nameKey:n,name:Ll(o,e),hide:l,type:c,color:s,unit:""}}}var mRe=(t,e)=>t>e?"start":t<e?"end":"middle",pRe=(t,e,n)=>hr(typeof e=="function"?e(t):e,n,n*.8),gRe=(t,e,n)=>{var{top:r,left:i,width:a,height:s}=e,o=$G(a,s),l=i+hr(t.cx,a,a/2),c=r+hr(t.cy,s,s/2),u=hr(t.innerRadius,o,0),h=pRe(n,t.outerRadius,o),f=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:h,maxRadius:f}},yRe=(t,e)=>{var n=Mn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function vRe(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var xRe=(t,e)=>{if(g.isValidElement(t))return g.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Re("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return g.createElement(Ud,Tl({},e,{type:"linear",className:n}))},bRe=(t,e,n)=>{if(g.isValidElement(t))return g.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),g.isValidElement(r)))return r;var i=Re("recharts-pie-label-text",vRe(t));return g.createElement(W_,Tl({},e,{alignmentBaseline:"middle",className:i}),r)};function wRe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!e)return null;var o=Pr(n),l=iu(i),c=iu(a),u=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,h=e.map((f,m)=>{var y=(f.startAngle+f.endAngle)/2,v=cn(f.cx,f.cy,f.outerRadius+u,y),x=Tt(Tt(Tt(Tt({},o),f),{},{stroke:"none"},l),{},{index:m,textAnchor:mRe(v.x,f.cx)},v),b=Tt(Tt(Tt(Tt({},o),f),{},{fill:"none",stroke:f.fill},c),{},{index:m,points:[cn(f.cx,f.cy,f.outerRadius,y),v],key:"line"});return g.createElement(jr,{zIndex:Yt.label,key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(m)},g.createElement(Bt,null,a&&xRe(a,b),bRe(i,x,Xe(f,s))))});return g.createElement(Bt,{className:"recharts-pie-labels"},h)}function _Re(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?g.createElement(Y_,{label:i}):g.createElement(wRe,{sectors:e,props:n,showLabels:r})}function ERe(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i}=t,a=se(El),{onMouseEnter:s,onClick:o,onMouseLeave:l}=i,c=hR(i,aRe),u=oR(s,i.dataKey),h=lR(l),f=cR(o,i.dataKey);return e==null||e.length===0?null:g.createElement(g.Fragment,null,e.map((m,y)=>{if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&e.length!==1)return null;var v=n&&String(y)===a,x=a?r:null,b=v?n:x,w=Tt(Tt({},m),{},{stroke:m.stroke,tabIndex:-1,[TG]:y,[SG]:i.dataKey});return g.createElement(Bt,Tl({key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(y),tabIndex:-1,className:"recharts-pie-sector"},gy(c,m,y),{onMouseEnter:u(m,y),onMouseLeave:h(m,y),onClick:f(m,y)}),g.createElement(sR,Tl({option:b,isActive:v,shapeType:"sector"},w)))}))}function TRe(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:c,nameKey:u,tooltipType:h}=n,f=Math.abs(n.minAngle),m=yRe(o,l),y=Math.abs(m),v=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,x=r.filter(j=>Xe(j,c,0)!==0).length,b=(y>=360?x:x-1)*v,w=y-x*f-b,_=r.reduce((j,A)=>{var S=Xe(A,c,0);return j+(ie(S)?S:0)},0),T;if(_>0){var I;T=r.map((j,A)=>{var S=Xe(j,c,0),P=Xe(j,u,A),C=gRe(n,a,j),R=(ie(S)?S:0)/_,k,O=Tt(Tt({},j),i&&i[A]&&i[A].props);A?k=I.endAngle+Mn(m)*v*(S!==0?1:0):k=o;var B=k+Mn(m)*((S!==0?f:0)+R*w),J=(k+B)/2,F=(C.innerRadius+C.outerRadius)/2,H=[{name:P,value:S,payload:O,dataKey:c,type:h}],Q=cn(C.cx,C.cy,F,J);return I=Tt(Tt(Tt(Tt({},n.presentationProps),{},{percent:R,cornerRadius:typeof s=="string"?parseFloat(s):s,name:P,tooltipPayload:H,midAngle:J,middleRadius:F,tooltipPosition:Q},O),C),{},{value:S,startAngle:k,endAngle:B,payload:O,paddingAngle:Mn(m)*v}),I})}return T}function SRe(t){var{showLabels:e,sectors:n,children:r}=t,i=g.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return g.createElement(uje,{value:e?i:void 0},r)}function ARe(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o,activeShape:l,inactiveShape:c,onAnimationStart:u,onAnimationEnd:h}=e,f=uf(e,"recharts-pie-"),m=n.current,[y,v]=g.useState(!1),x=g.useCallback(()=>{typeof h=="function"&&h(),v(!1)},[h]),b=g.useCallback(()=>{typeof u=="function"&&u(),v(!0)},[u]);return g.createElement(SRe,{showLabels:!y,sectors:r},g.createElement(cf,{animationId:f,begin:a,duration:s,isActive:i,easing:o,onAnimationStart:b,onAnimationEnd:x,key:f},w=>{var _=[],T=r&&r[0],I=T==null?void 0:T.startAngle;return r==null||r.forEach((j,A)=>{var S=m&&m[A],P=A>0?au(j,"paddingAngle",0):0;if(S){var C=Ue(S.endAngle-S.startAngle,j.endAngle-j.startAngle,w),R=Tt(Tt({},j),{},{startAngle:I+P,endAngle:I+C+P});_.push(R),I=R.endAngle}else{var{endAngle:k,startAngle:O}=j,B=Ue(0,k-O,w),J=Tt(Tt({},j),{},{startAngle:I+P,endAngle:I+B+P});_.push(J),I=J.endAngle}}),n.current=_,g.createElement(Bt,null,g.createElement(ERe,{sectors:_,activeShape:l,inactiveShape:c,allOtherPieProps:e}))}),g.createElement(_Re,{showLabels:!y,sectors:r,props:e}),e.children)}var NRe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!ao.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Yt.area};function IRe(t){var{id:e}=t,n=hR(t,sRe),{hide:r,className:i,rootTabIndex:a}=t,s=g.useMemo(()=>iR(t.children,Pu),[t.children]),o=se(u=>Nje(u,e,s)),l=g.useRef(null),c=Re("recharts-pie",i);return r||o==null?(l.current=null,g.createElement(Bt,{tabIndex:a,className:c})):g.createElement(jr,{zIndex:t.zIndex},g.createElement(l1,{fn:fRe,args:Tt(Tt({},t),{},{sectors:o})}),g.createElement(Bt,{tabIndex:a,className:c},g.createElement(ARe,{props:Tt(Tt({},n),{},{sectors:o}),previousSectorsRef:l})))}function CY(t){var e=qt(t,NRe),{id:n}=e,r=hR(e,oRe),i=Pr(r);return g.createElement(c1,{id:n,type:"pie"},a=>g.createElement(g.Fragment,null,g.createElement(iRe,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),g.createElement(hRe,Tl({},r,{id:a})),g.createElement(IRe,Tl({},r,{id:a}))))}CY.displayName="Pie";var PRe=["points"];function E3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E3(Object(n),!0).forEach(function(r){CRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CRe(t,e,n){return(e=jRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jRe(t){var e=RRe(t,"string");return typeof e=="symbol"?e:e+""}function RRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rb(){return Rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rb.apply(null,arguments)}function ORe(t,e){if(t==null)return{};var n,r,i=kRe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kRe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function DRe(t){var{option:e,dotProps:n,className:r}=t;if(g.isValidElement(e))return g.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Re(r,typeof e!="boolean"?e.className:""),a=n??{},{points:s}=a,o=ORe(a,PRe);return g.createElement(bY,Rb({},o,{className:i}))}function MRe(t,e){return t==null?!1:e?!0:t.length===1}function jY(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:c=Yt.scatter}=t;if(!MRe(e,n))return null;var u=aR(n),h=iwe(n),f=e.map((y,v)=>{var x,b,w=vT(vT(vT({r:3},s),h),{},{index:v,cx:(x=y.x)!==null&&x!==void 0?x:void 0,cy:(b=y.y)!==null&&b!==void 0?b:void 0,dataKey:a,value:y.value,payload:y.payload,points:e});return g.createElement(DRe,{key:"dot-".concat(v),option:n,dotProps:w,className:i})}),m={};return o&&l!=null&&(m.clipPath="url(#clipPath-".concat(u?"":"dots-").concat(l,")")),g.createElement(jr,{zIndex:c},g.createElement(Bt,Rb({className:r},m),f))}function T3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T3(Object(n),!0).forEach(function(r){LRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LRe(t,e,n){return(e=VRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VRe(t){var e=URe(t,"string");return typeof e=="symbol"?e:e+""}function URe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zRe={xAxis:{},yAxis:{},zAxis:{}},RY=Gr({name:"cartesianAxis",initialState:zRe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:gn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:gn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:gn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:gn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:gn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:gn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);t.yAxis[n]=S3(S3({},t.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:BRe,removeXAxis:FRe,addYAxis:$Re,removeYAxis:qRe,addZAxis:L6e,removeZAxis:V6e,updateYAxisWidth:HRe}=RY.actions,GRe=RY.reducer,KRe=V([_n],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),WRe=V([KRe,ro,io],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),u1=()=>se(WRe),YRe=()=>se(r2e);function A3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A3(Object(n),!0).forEach(function(r){QRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QRe(t,e,n){return(e=XRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XRe(t){var e=ZRe(t,"string");return typeof e=="symbol"?e:e+""}function ZRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JRe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var s={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},o=xT(xT(xT({},s),iu(i)),EC(i)),l;return g.isValidElement(i)?l=g.cloneElement(i,o):typeof i=="function"?l=i(o):l=g.createElement(bY,o),g.createElement(Bt,{className:"recharts-active-dot"},l)};function yN(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,zIndex:a=Yt.activeDot}=t,s=se(El),o=YRe();if(e==null||o==null)return null;var l=e.find(c=>o.includes(c.payload));return vt(l)?null:g.createElement(jr,{zIndex:a},g.createElement(JRe,{point:l,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r}))}var eOe="Invariant failed";function tOe(t,e){throw new Error(eOe)}var nOe=["x","y"];function vN(){return vN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vN.apply(null,arguments)}function N3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N3(Object(n),!0).forEach(function(r){rOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rOe(t,e,n){return(e=iOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iOe(t){var e=aOe(t,"string");return typeof e=="symbol"?e:e+""}function aOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sOe(t,e){if(t==null)return{};var n,r,i=oOe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lOe(t,e){var{x:n,y:r}=t,i=sOe(t,nOe),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),u=parseInt(c,10),h="".concat(e.width||i.width),f=parseInt(h,10);return hm(hm(hm(hm(hm({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:f,name:e.name,radius:e.radius})}function Ob(t){return g.createElement(sR,vN({shapeType:"rectangle",propTransformer:lOe,activeClassName:"recharts-active-bar"},t))}var cOe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ie(e))return e;var a=ie(r)||vt(r);return a?e(r,i):(a||tOe(),n)}},uOe={},OY=Gr({name:"errorBars",initialState:uOe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:U6e,replaceErrorBar:z6e,removeErrorBar:B6e}=OY.actions,dOe=OY.reducer,hOe=["children"];function fOe(t,e){if(t==null)return{};var n,r,i=mOe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pOe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},gOe=g.createContext(pOe);function kY(t){var{children:e}=t,n=fOe(t,hOe);return g.createElement(gOe.Provider,{value:n},e)}function d1(t,e){var n,r,i=se(c=>oo(c,t)),a=se(c=>lo(c,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Wr.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Yr.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function fR(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=u1(),{needClipX:a,needClipY:s,needClip:o}=d1(e,n);if(!o||!i)return null;var{x:l,y:c,width:u,height:h}=i;return g.createElement("clipPath",{id:"clipPath-".concat(r)},g.createElement("rect",{x:a?l:l-u/2,y:s?c:c-h/2,width:a?u:u*2,height:s?h:h*2}))}function yOe(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&wt(t.zIndex)?t.zIndex:e}var vOe=["onMouseEnter","onMouseLeave","onClick"],xOe=["value","background","tooltipPosition"],bOe=["id"],wOe=["onMouseEnter","onClick","onMouseLeave"];function Gs(){return Gs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gs.apply(null,arguments)}function I3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I3(Object(n),!0).forEach(function(r){_Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Oe(t,e,n){return(e=EOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EOe(t){var e=TOe(t,"string");return typeof e=="symbol"?e:e+""}function TOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kb(t,e){if(t==null)return{};var n,r,i=SOe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function SOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var AOe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Ll(n,e),payload:t}]};function NOe(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:o}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Ll(a,e),hide:s,type:t.tooltipType,color:t.fill,unit:o}}}function IOe(t){var e=se(El),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:s,onMouseLeave:o,onClick:l}=a,c=kb(a,vOe),u=oR(s,r),h=lR(o),f=cR(l,r);if(!i||n==null)return null;var m=iu(i);return g.createElement(jr,{zIndex:yOe(i,Yt.barBackground)},n.map((y,v)=>{var{value:x,background:b,tooltipPosition:w}=y,_=kb(y,xOe);if(!b)return null;var T=u(y,v),I=h(y,v),j=f(y,v),A=Tr(Tr(Tr(Tr(Tr({option:i,isActive:String(v)===e},_),{},{fill:"#eee"},b),m),gy(c,y,v)),{},{onMouseEnter:T,onMouseLeave:I,onClick:j,dataKey:r,index:v,className:"recharts-bar-background-rectangle"});return g.createElement(Ob,Gs({key:"background-bar-".concat(v)},A))}))}function POe(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Tr(Tr({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return g.createElement(Jj,{value:e?i:void 0},n)}function COe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:s}=t,o=se(El),l=se(GW),c=n&&String(a)===o&&(l==null||s===l),u=c?n:e;return c?g.createElement(jr,{zIndex:Yt.activeBar},g.createElement(Ob,Gs({},r,{name:String(r.name)},i,{isActive:c,option:u,index:a,dataKey:s}))):g.createElement(Ob,Gs({},r,{name:String(r.name)},i,{isActive:c,option:u,index:a,dataKey:s}))}function jOe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return g.createElement(Ob,Gs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:a}))}function ROe(t){var e,{data:n,props:r}=t,i=(e=Pr(r))!==null&&e!==void 0?e:{},{id:a}=i,s=kb(i,bOe),{shape:o,dataKey:l,activeBar:c}=r,{onMouseEnter:u,onClick:h,onMouseLeave:f}=r,m=kb(r,wOe),y=oR(u,l),v=lR(f),x=cR(h,l);return n?g.createElement(g.Fragment,null,n.map((b,w)=>g.createElement(Bt,Gs({key:"rectangle-".concat(b==null?void 0:b.x,"-").concat(b==null?void 0:b.y,"-").concat(b==null?void 0:b.value,"-").concat(w),className:"recharts-bar-rectangle"},gy(m,b,w),{onMouseEnter:y(b,w),onMouseLeave:v(b,w),onClick:x(b,w)}),c?g.createElement(COe,{shape:o,activeBar:c,baseProps:s,entry:b,index:w,dataKey:l}):g.createElement(jOe,{shape:o,baseProps:s,entry:b,index:w,dataKey:l})))):null}function OOe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=e,h=n.current,f=uf(e,"recharts-bar-"),[m,y]=g.useState(!1),v=!m,x=g.useCallback(()=>{typeof c=="function"&&c(),y(!1)},[c]),b=g.useCallback(()=>{typeof u=="function"&&u(),y(!0)},[u]);return g.createElement(POe,{showLabels:v,rects:r},g.createElement(cf,{animationId:f,begin:s,duration:o,isActive:a,easing:l,onAnimationEnd:x,onAnimationStart:b,key:f},w=>{var _=w===1?r:r==null?void 0:r.map((T,I)=>{var j=h&&h[I];if(j)return Tr(Tr({},T),{},{x:Ue(j.x,T.x,w),y:Ue(j.y,T.y,w),width:Ue(j.width,T.width,w),height:Ue(j.height,T.height,w)});if(i==="horizontal"){var A=Ue(0,T.height,w),S=Ue(T.stackedBarStart,T.y,w);return Tr(Tr({},T),{},{y:S,height:A})}var P=Ue(0,T.width,w),C=Ue(T.stackedBarStart,T.x,w);return Tr(Tr({},T),{},{width:P,x:C})});return w>0&&(n.current=_??null),_==null?null:g.createElement(Bt,null,g.createElement(ROe,{props:e,data:_}))}),g.createElement(Y_,{label:e.label}),e.children)}function kOe(t){var e=g.useRef(null);return g.createElement(OOe,{previousRectanglesRef:e,props:t})}var DY=0,DOe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Xe(t,e)}};class MOe extends g.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:s,needClip:o,background:l,id:c}=this.props;if(e||n==null)return null;var u=Re("recharts-bar",i),h=c;return g.createElement(Bt,{className:u,id:c},o&&g.createElement("defs",null,g.createElement(fR,{clipPathId:h,xAxisId:a,yAxisId:s})),g.createElement(Bt,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(h,")"):void 0},g.createElement(IOe,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),g.createElement(kOe,this.props)))}}var LOe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ao.isSsr,legendType:"rect",minPointSize:DY,xAxisId:0,yAxisId:0,zIndex:Yt.bar};function VOe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:u}=t,{needClip:h}=d1(e,n),f=lf(),m=Un(),y=iR(t.children,Pu),v=se(w=>hke(w,e,n,m,t.id,y));if(f!=="vertical"&&f!=="horizontal")return null;var x,b=v==null?void 0:v[0];return b==null||b.height==null||b.width==null?x=0:x=f==="vertical"?b.height/2:b.width/2,g.createElement(kY,{xAxisId:e,yAxisId:n,data:v,dataPointFormatter:DOe,errorBarOffset:x},g.createElement(MOe,Gs({},t,{layout:f,needClip:h,data:v,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:u})))}function UOe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:h,offset:f,cells:m,parentViewBox:y,dataStartIndex:v}=t,x=e==="horizontal"?o:s,b=u?x.scale.domain():null,w=oEe({numericAxis:x}),_=x.scale(w);return h.map((T,I)=>{var j,A,S,P,C,R;u?j=nEe(u[I+v],b):(j=Xe(T,n),Array.isArray(j)||(j=[w,j]));var k=cOe(r,DY)(j[1],I);if(e==="horizontal"){var O,[B,J]=[o.scale(j[0]),o.scale(j[1])];A=v5({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:T,index:I}),S=(O=J??B)!==null&&O!==void 0?O:void 0,P=i.size;var F=B-J;if(C=Fi(F)?0:F,R={x:A,y:f.top,width:P,height:f.height},Math.abs(k)>0&&Math.abs(C)<Math.abs(k)){var H=Mn(C||k)*(Math.abs(k)-Math.abs(C));S-=H,C+=H}}else{var[Q,ne]=[s.scale(j[0]),s.scale(j[1])];if(A=Q,S=v5({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:T,index:I}),P=ne-Q,C=i.size,R={x:f.left,y:S,width:f.width,height:C},Math.abs(k)>0&&Math.abs(P)<Math.abs(k)){var pe=Mn(P||k)*(Math.abs(k)-Math.abs(P));P+=pe}}if(A==null||S==null||P==null||C==null)return null;var Jt=Tr(Tr({},T),{},{stackedBarStart:_,x:A,y:S,width:P,height:C,value:u?j:j[1],payload:T,background:R,tooltipPosition:{x:A+P/2,y:S+C/2},parentViewBox:y},m&&m[I]&&m[I].props);return Jt}).filter(Boolean)}function zOe(t){var e=qt(t,LOe),n=Un();return g.createElement(c1,{id:e.id,type:"bar"},r=>g.createElement(g.Fragment,null,g.createElement(uR,{legendPayload:AOe(e)}),g.createElement(l1,{fn:NOe,args:e}),g.createElement(dR,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:_G(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),g.createElement(jr,{zIndex:e.zIndex},g.createElement(VOe,Gs({},e,{id:r})))))}var bg=g.memo(zOe);bg.displayName="Bar";function P3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $v(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P3(Object(n),!0).forEach(function(r){BOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BOe(t,e,n){return(e=FOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FOe(t){var e=$Oe(t,"string");return typeof e=="symbol"?e:e+""}function $Oe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qOe=(t,e)=>e,HOe=(t,e,n)=>n,GOe=(t,e,n,r)=>r,KOe=(t,e,n,r,i)=>i,Oy=V([Iy,KOe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),WOe=V([Oy],t=>t==null?void 0:t.maxBarSize),YOe=(t,e,n,r,i,a)=>a,C3=(t,e,n)=>{var r=n??t;if(!vt(r))return hr(r,e,0)},QOe=V([Ae,Iy,qOe,HOe,GOe],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),XOe=(t,e,n,r)=>{var i=Ae(t);return i==="horizontal"?yg(t,"yAxis",n,r):yg(t,"xAxis",e,r)},ZOe=(t,e,n)=>{var r=Ae(t);return r==="horizontal"?LL(t,"xAxis",e):LL(t,"yAxis",n)},JOe=(t,e,n)=>{var r={},i=t.filter(U_),a=t.filter(c=>c.stackId==null),s=i.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),r),o=Object.entries(s).map(c=>{var[u,h]=c,f=h.map(y=>y.dataKey),m=C3(e,n,h[0].barSize);return{stackId:u,dataKeys:f,barSize:m}}),l=a.map(c=>{var u=[c.dataKey].filter(f=>f!=null),h=C3(e,n,c.barSize);return{stackId:void 0,dataKeys:u,barSize:h}});return[...o,...l]},eke=V([QOe,aIe,ZOe],JOe),tke=(t,e,n,r,i)=>{var a,s,o=Oy(t,e,n,r,i);if(o!=null){var l=Ae(t),c=GK(t),{maxBarSize:u}=o,h=vt(u)?c:u,f,m;return l==="horizontal"?(f=Ha(t,"xAxis",e,r),m=qa(t,"xAxis",e,r)):(f=Ha(t,"yAxis",n,r),m=qa(t,"yAxis",n,r)),(a=(s=_l(f,m,!0))!==null&&s!==void 0?s:h)!==null&&a!==void 0?a:0}},MY=(t,e,n,r)=>{var i=Ae(t),a,s;return i==="horizontal"?(a=Ha(t,"xAxis",e,r),s=qa(t,"xAxis",e,r)):(a=Ha(t,"yAxis",n,r),s=qa(t,"yAxis",n,r)),_l(a,s)};function nke(t,e,n,r,i){var a=r.length;if(!(a<1)){var s=hr(t,n,0,!0),o,l=[];if(wt(r[0].barSize)){var c=!1,u=n/a,h=r.reduce((b,w)=>b+(w.barSize||0),0);h+=(a-1)*s,h>=n&&(h-=(a-1)*s,s=0),h>=n&&u>0&&(c=!0,u*=.9,h=a*u);var f=(n-h)/2>>0,m={offset:f-s,size:0};o=r.reduce((b,w)=>{var _,T={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:m.offset+m.size+s,size:c?u:(_=w.barSize)!==null&&_!==void 0?_:0}},I=[...b,T];return m=I[I.length-1].position,I},l)}else{var y=hr(e,n,0,!0);n-2*y-(a-1)*s<=0&&(s=0);var v=(n-2*y-(a-1)*s)/a;v>1&&(v>>=0);var x=wt(i)?Math.min(v,i):v;o=r.reduce((b,w,_)=>[...b,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:y+(v+s)*_+(v-x)/2,size:x}}],l)}return o}}var rke=(t,e,n,r,i,a,s)=>{var o=vt(s)?e:s,l=nke(n,r,i!==a?i:a,t,o);return i!==a&&l!=null&&(l=l.map(c=>$v($v({},c),{},{position:$v($v({},c.position),{},{offset:c.position.offset-i/2})}))),l},ike=V([eke,GK,iIe,KK,tke,MY,WOe],rke),ake=(t,e,n,r)=>Ha(t,"xAxis",e,r),ske=(t,e,n,r)=>Ha(t,"yAxis",n,r),oke=(t,e,n,r)=>qa(t,"xAxis",e,r),lke=(t,e,n,r)=>qa(t,"yAxis",n,r),cke=V([ike,Oy],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),uke=(t,e)=>{var n=V_(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===n)}}}},dke=V([XOe,Oy],uke),hke=V([_n,BC,ake,ske,oke,lke,cke,Ae,Ty,MY,dke,Oy,YOe],(t,e,n,r,i,a,s,o,l,c,u,h,f)=>{var{chartData:m,dataStartIndex:y,dataEndIndex:v}=l;if(!(h==null||s==null||e==null||o!=="horizontal"&&o!=="vertical"||n==null||r==null||i==null||a==null||c==null)){var{data:x}=h,b;if(x!=null&&x.length>0?b=x:b=m==null?void 0:m.slice(y,v+1),b!=null)return UOe({layout:o,barSettings:h,pos:s,parentViewBox:e,bandSize:c,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:u,displayedData:b,offset:t,cells:f,dataStartIndex:y})}}),LY=t=>{var{chartData:e}=t,n=lt(),r=Un();return g.useEffect(()=>r?()=>{}:(n(YL(e)),()=>{n(YL(void 0))}),[e,n,r]),null},j3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},VY=Gr({name:"brush",initialState:j3,reducers:{setBrushSettings(t,e){return e.payload==null?j3:e.payload}}}),{setBrushSettings:F6e}=VY.actions,fke=VY.reducer;function mke(t,e,n){return(e=pke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pke(t){var e=gke(t,"string");return typeof e=="symbol"?e:e+""}function gke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class mR{static create(e){return new mR(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}mke(mR,"EPS",1e-4);function yke(t){return(t%180+180)%180}var vke=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=yke(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},xke={dots:[],areas:[],lines:[]},UY=Gr({name:"referenceElements",initialState:xke,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Es(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Es(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Es(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:$6e,removeDot:q6e,addArea:H6e,removeArea:G6e,addLine:K6e,removeLine:W6e}=UY.actions,bke=UY.reducer,wke=g.createContext(void 0),_ke=t=>{var{children:e}=t,[n]=g.useState("".concat(sg("recharts"),"-clip")),r=u1();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return g.createElement(wke.Provider,{value:n},g.createElement("defs",null,g.createElement("clipPath",{id:n},g.createElement("rect",{x:i,y:a,height:o,width:s}))),e)};function Rh(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function zY(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function Eke(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return vke(r,n)}function Tke(t,e,n){var r=n==="width",{x:i,y:a,width:s,height:o}=t;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function Db(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Ske(t,e){return zY(t,e+1)}function Ake(t,e,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=e,l=0,c=1,u=s,h=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:zY(r,c)};var v=l,x,b=()=>(x===void 0&&(x=n(y,v)),x),w=y.coordinate,_=l===0||Db(t,w,b,u,o);_||(l=0,u=s,c+=1),_&&(u=w+t*(b()/2+i),l+=c)},f;c<=a.length;)if(f=h(),f)return f.v;return[]}function R3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R3(Object(n),!0).forEach(function(r){Nke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nke(t,e,n){return(e=Ike(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ike(t){var e=Pke(t,"string");return typeof e=="symbol"?e:e+""}function Pke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cke(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=e,{end:l}=e,c=function(f){var m=a[f],y,v=()=>(y===void 0&&(y=n(m,f)),y);if(f===s-1){var x=t*(m.coordinate+t*v()/2-l);a[f]=m=ir(ir({},m),{},{tickCoord:x>0?m.coordinate-x*t:m.coordinate})}else a[f]=m=ir(ir({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var b=Db(t,m.tickCoord,v,o,l);b&&(l=m.tickCoord-t*(v()/2+i),a[f]=ir(ir({},m),{},{isShow:!0}))}},u=s-1;u>=0;u--)c(u);return a}function jke(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:c}=e;if(a){var u=r[o-1],h=n(u,o-1),f=t*(u.coordinate+t*h/2-c);if(s[o-1]=u=ir(ir({},u),{},{tickCoord:f>0?u.coordinate-f*t:u.coordinate}),u.tickCoord!=null){var m=Db(t,u.tickCoord,()=>h,l,c);m&&(c=u.tickCoord-t*(h/2+i),s[o-1]=ir(ir({},u),{},{isShow:!0}))}}for(var y=a?o-1:o,v=function(w){var _=s[w],T,I=()=>(T===void 0&&(T=n(_,w)),T);if(w===0){var j=t*(_.coordinate-t*I()/2-l);s[w]=_=ir(ir({},_),{},{tickCoord:j<0?_.coordinate-j*t:_.coordinate})}else s[w]=_=ir(ir({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var A=Db(t,_.tickCoord,I,l,c);A&&(l=_.tickCoord+t*(I()/2+i),s[w]=ir(ir({},_),{},{isShow:!0}))}},x=0;x<y;x++)v(x);return s}function pR(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:c,unit:u,angle:h}=t;if(!i||!i.length||!r)return[];if(ie(l)||ao.isSsr){var f;return(f=Ske(i,ie(l)?l:0))!==null&&f!==void 0?f:[]}var m=[],y=o==="top"||o==="bottom"?"width":"height",v=u&&y==="width"?hp(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=(_,T)=>{var I=typeof c=="function"?c(_.value,T):_.value;return y==="width"?Eke(hp(I,{fontSize:e,letterSpacing:n}),v,h):hp(I,{fontSize:e,letterSpacing:n})[y]},b=i.length>=2?Mn(i[1].coordinate-i[0].coordinate):1,w=Tke(a,b,y);return l==="equidistantPreserveStart"?Ake(b,w,x,i,s):(l==="preserveStart"||l==="preserveStartEnd"?m=jke(b,w,x,i,s,l==="preserveStartEnd"):m=Cke(b,w,x,i,s),m.filter(_=>_.isShow))}var Rke=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(u=>{if(u){var h=u.getBoundingClientRect();h.width>s&&(s=h.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,c=s+l+o+(n?r:0);return Math.round(c)}return 0},Oke=["axisLine","width","height","className","hide","ticks","axisType"],kke=["viewBox"],Dke=["viewBox"];function xN(t,e){if(t==null)return{};var n,r,i=Mke(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mke(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function uu(){return uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uu.apply(null,arguments)}function O3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O3(Object(n),!0).forEach(function(r){Lke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lke(t,e,n){return(e=Vke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vke(t){var e=Uke(t,"string");return typeof e=="symbol"?e:e+""}function Uke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gR={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Yt.axis};function zke(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=t;if(!o)return null;var c=nn(nn(nn({},l),Pr(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var u=+(a==="top"&&!s||a==="bottom"&&s);c=nn(nn({},c),{},{x1:e,y1:n+u*i,x2:e+r,y2:n+u*i})}else{var h=+(a==="left"&&!s||a==="right"&&s);c=nn(nn({},c),{},{x1:e+h*r,y1:n,x2:e+h*r,y2:n+i})}return g.createElement("line",uu({},c,{className:Re("recharts-cartesian-axis-line",au(o,"className"))}))}function Bke(t,e,n,r,i,a,s,o,l){var c,u,h,f,m,y,v=o?-1:1,x=t.tickSize||s,b=ie(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":c=u=t.coordinate,f=n+ +!o*i,h=f-v*x,y=h-v*l,m=b;break;case"left":h=f=t.coordinate,u=e+ +!o*r,c=u-v*x,m=c-v*l,y=b;break;case"right":h=f=t.coordinate,u=e+ +o*r,c=u+v*x,m=c+v*l,y=b;break;default:c=u=t.coordinate,f=n+ +o*i,h=f+v*x,y=h+v*l,m=b;break}return{line:{x1:c,y1:h,x2:u,y2:f},tick:{x:m,y}}}function Fke(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function $ke(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function qke(t){var{option:e,tickProps:n,value:r}=t,i,a=Re(n.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(e))i=g.cloneElement(e,nn(nn({},n),{},{className:a}));else if(typeof e=="function")i=e(nn(nn({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=Re(s,e==null?void 0:e.className)),i=g.createElement(W_,uu({},n,{className:s}),r)}return i}var Hke=g.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:c,orientation:u,mirror:h,x:f,y:m,width:y,height:v,tickSize:x,tickMargin:b,fontSize:w,letterSpacing:_,getTicksConfig:T,events:I,axisType:j}=t,A=pR(nn(nn({},T),{},{ticks:n}),w,_),S=Fke(u,h),P=$ke(u,h),C=Pr(T),R=iu(r),k={};typeof i=="object"&&(k=i);var O=nn(nn({},C),{},{fill:"none"},k),B=A.map(H=>nn({entry:H},Bke(H,f,m,y,v,u,x,h,b))),J=B.map(H=>{var{entry:Q,line:ne}=H;return g.createElement(Bt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Q.value,"-").concat(Q.coordinate,"-").concat(Q.tickCoord)},i&&g.createElement("line",uu({},O,ne,{className:Re("recharts-cartesian-axis-tick-line",au(i,"className"))})))}),F=B.map((H,Q)=>{var{entry:ne,tick:pe}=H,Jt=nn(nn(nn(nn({textAnchor:S,verticalAnchor:P},C),{},{stroke:"none",fill:a},R),pe),{},{index:Q,payload:ne,visibleTicksCount:A.length,tickFormatter:s,padding:l},c);return g.createElement(Bt,uu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ne.value,"-").concat(ne.coordinate,"-").concat(ne.tickCoord)},gy(I,ne,Q)),r&&g.createElement(qke,{option:r,tickProps:Jt,value:"".concat(typeof s=="function"?s(ne.value,Q):ne.value).concat(o||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(j,"-ticks")},F.length>0&&g.createElement(jr,{zIndex:Yt.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(j,"-tick-labels"),ref:e},F)),J.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(j,"-tick-lines")},J))}),Gke=g.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:l}=t,c=xN(t,Oke),[u,h]=g.useState(""),[f,m]=g.useState(""),y=g.useRef(null);g.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var x;return Rke({ticks:y.current,label:(x=t.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var v=g.useCallback(x=>{if(x){var b=x.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=b;var w=b[0];if(w){var _=window.getComputedStyle(w),T=_.fontSize,I=_.letterSpacing;(T!==u||I!==f)&&(h(T),m(I))}}},[u,f]);return s||r!=null&&r<=0||i!=null&&i<=0?null:g.createElement(jr,{zIndex:t.zIndex},g.createElement(Bt,{className:Re("recharts-cartesian-axis",a)},g.createElement(zke,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Pr(t)}),g.createElement(Hke,{ref:v,axisType:l,events:c,fontSize:u,getTicksConfig:t,height:t.height,letterSpacing:f,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),g.createElement(KCe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},g.createElement(rje,{label:t.label,labelRef:t.labelRef}),t.children)))}),Kke=g.memo(Gke,(t,e)=>{var{viewBox:n}=t,r=xN(t,kke),{viewBox:i}=e,a=xN(e,Dke);return Rh(n,i)&&Rh(r,a)}),yR=g.forwardRef((t,e)=>{var n=qt(t,gR);return g.createElement(Kke,uu({},n,{ref:e}))});yR.displayName="CartesianAxis";var Wke=["x1","y1","x2","y2","key"],Yke=["offset"],Qke=["xAxisId","yAxisId"],Xke=["xAxisId","yAxisId"];function k3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k3(Object(n),!0).forEach(function(r){Zke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zke(t,e,n){return(e=Jke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jke(t){var e=eDe(t,"string");return typeof e=="symbol"?e:e+""}function eDe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _c(){return _c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_c.apply(null,arguments)}function Mb(t,e){if(t==null)return{};var n,r,i=tDe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tDe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nDe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=t;return g.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function BY(t){var{option:e,lineItemProps:n}=t,r;if(g.isValidElement(e))r=g.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:s,x2:o,y2:l,key:c}=n,u=Mb(n,Wke),h=(i=Pr(u))!==null&&i!==void 0?i:{},{offset:f}=h,m=Mb(h,Yke);r=g.createElement("line",_c({},m,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:c}))}return r}function rDe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,o=Mb(t,Qke),l=i.map((c,u)=>{var h=sr(sr({},o),{},{x1:e,y1:c,x2:e+n,y2:c,key:"line-".concat(u),index:u});return g.createElement(BY,{key:"line-".concat(u),option:r,lineItemProps:h})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function iDe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,o=Mb(t,Xke),l=i.map((c,u)=>{var h=sr(sr({},o),{},{x1:c,y1:e,x2:c,y2:e+n,key:"line-".concat(u),index:u});return g.createElement(BY,{option:r,lineItemProps:h,key:"line-".concat(u)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function aDe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=t;if(!l||!e||!e.length||o==null)return null;var c=o.map(h=>Math.round(h+i-i)).sort((h,f)=>h-f);i!==c[0]&&c.unshift(0);var u=c.map((h,f)=>{var m=!c[f+1],y=m?i+s-h:c[f+1]-h;if(y<=0)return null;var v=f%e.length;return g.createElement("rect",{key:"react-".concat(f),y:h,x:r,height:y,width:a,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function sDe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=t;if(!e||!n||!n.length)return null;var c=l.map(h=>Math.round(h+i-i)).sort((h,f)=>h-f);i!==c[0]&&c.unshift(0);var u=c.map((h,f)=>{var m=!c[f+1],y=m?i+s-h:c[f+1]-h;if(y<=0)return null;var v=f%n.length;return g.createElement("rect",{key:"react-".concat(f),x:h,y:a,width:y,height:o,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var oDe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return bG(pR(sr(sr(sr({},gR),n),{},{ticks:wG(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},lDe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return bG(pR(sr(sr(sr({},gR),n),{},{ticks:wG(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},cDe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Yt.grid};function wg(t){var e=$C(),n=qC(),r=OG(),i=sr(sr({},qt(t,cDe)),{},{x:ie(t.x)?t.x:r.left,y:ie(t.y)?t.y:r.top,width:ie(t.width)?t.width:r.width,height:ie(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:c,height:u,syncWithTicks:h,horizontalValues:f,verticalValues:m}=i,y=Un(),v=se(P=>VL(P,"xAxis",a,y)),x=se(P=>VL(P,"yAxis",s,y));if(!Fa(c)||!Fa(u)||!ie(o)||!ie(l))return null;var b=i.verticalCoordinatesGenerator||oDe,w=i.horizontalCoordinatesGenerator||lDe,{horizontalPoints:_,verticalPoints:T}=i;if((!_||!_.length)&&typeof w=="function"){var I=f&&f.length,j=w({yAxis:x?sr(sr({},x),{},{ticks:I?f:x.ticks}):void 0,width:e??c,height:n??u,offset:r},I?!0:h);ub(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(_=j)}if((!T||!T.length)&&typeof b=="function"){var A=m&&m.length,S=b({xAxis:v?sr(sr({},v),{},{ticks:A?m:v.ticks}):void 0,width:e??c,height:n??u,offset:r},A?!0:h);ub(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(T=S)}return g.createElement(jr,{zIndex:i.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(nDe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),g.createElement(aDe,_c({},i,{horizontalPoints:_})),g.createElement(sDe,_c({},i,{verticalPoints:T})),g.createElement(rDe,_c({},i,{offset:r,horizontalPoints:_,xAxis:v,yAxis:x})),g.createElement(iDe,_c({},i,{offset:r,verticalPoints:T,xAxis:v,yAxis:x}))))}wg.displayName="CartesianGrid";var FY=(t,e,n,r)=>Ha(t,"xAxis",e,r),$Y=(t,e,n,r)=>qa(t,"xAxis",e,r),qY=(t,e,n,r)=>Ha(t,"yAxis",n,r),HY=(t,e,n,r)=>qa(t,"yAxis",n,r),uDe=V([Ae,FY,qY,$Y,HY],(t,e,n,r,i)=>Ya(t,"xAxis")?_l(e,r,!1):_l(n,i,!1)),dDe=(t,e,n,r,i)=>i;function hDe(t){return t.type==="line"}var fDe=V([Iy,dDe],(t,e)=>t.filter(hDe).find(n=>n.id===e)),mDe=V([Ae,FY,qY,$Y,HY,fDe,uDe,Ty],(t,e,n,r,i,a,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=o;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null)){var{dataKey:h,data:f}=a,m;if(f!=null&&f.length>0?m=f:m=l==null?void 0:l.slice(c,u+1),m!=null)return kDe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:h,bandSize:s,displayedData:m})}});function GY(t){var e=iu(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var pDe=["id"],gDe=["type","layout","connectNulls","needClip","shape"],yDe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function _g(){return _g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_g.apply(null,arguments)}function D3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D3(Object(n),!0).forEach(function(r){vDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vDe(t,e,n){return(e=xDe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xDe(t){var e=bDe(t,"string");return typeof e=="symbol"?e:e+""}function bDe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vR(t,e){if(t==null)return{};var n,r,i=wDe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wDe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _De=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Ll(n,e),payload:t}]};function EDe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Ll(s,e),hide:o,type:t.tooltipType,color:t.stroke,unit:l}}}var KY=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function TDe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var SDe=(t,e,n)=>{var r=n.reduce((h,f)=>h+f);if(!r)return KY(e,t);for(var i=Math.floor(t/r),a=t%r,s=e-t,o=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>a){o=[...n.slice(0,l),a-c];break}var u=o.length%2===0?[0,s]:[s];return[...TDe(n,i),...o,...u].map(h=>"".concat(h,"px")).join(", ")};function ADe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:s}=r,{id:o}=r,l=vR(r,pDe),c=Pr(l);return g.createElement(jY,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:c,needClip:s,clipPathId:e})}function NDe(t){var{showLabels:e,children:n,points:r}=t,i=g.useMemo(()=>r==null?void 0:r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return pa(pa({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return g.createElement(Jj,{value:e?i:void 0},n)}function M3(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:s,layout:o,connectNulls:l,needClip:c,shape:u}=a,h=vR(a,gDe),f=pa(pa({},fr(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(e,")"):void 0,points:r,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return g.createElement(g.Fragment,null,(r==null?void 0:r.length)>1&&g.createElement(sR,_g({shapeType:"curve",option:u},f,{pathRef:n})),g.createElement(ADe,{points:r,clipPathId:e,props:a}))}function IDe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function PDe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:h,animateNewValues:f,width:m,height:y,onAnimationEnd:v,onAnimationStart:x}=n,b=i.current,w=uf(n,"recharts-line-"),[_,T]=g.useState(!1),I=!_,j=g.useCallback(()=>{typeof v=="function"&&v(),T(!1)},[v]),A=g.useCallback(()=>{typeof x=="function"&&x(),T(!0)},[x]),S=IDe(r.current),P=a.current;return g.createElement(NDe,{points:s,showLabels:I},n.children,g.createElement(cf,{animationId:w,begin:c,duration:u,isActive:l,easing:h,onAnimationEnd:j,onAnimationStart:A,key:w},C=>{var R=Ue(P,S+P,C),k=Math.min(R,S),O;if(l)if(o){var B="".concat(o).split(/[,\s]+/gim).map(H=>parseFloat(H));O=SDe(k,S,B)}else O=KY(S,k);else O=o==null?void 0:String(o);if(b){var J=b.length/s.length,F=C===1?s:s.map((H,Q)=>{var ne=Math.floor(Q*J);if(b[ne]){var pe=b[ne];return pa(pa({},H),{},{x:Ue(pe.x,H.x,C),y:Ue(pe.y,H.y,C)})}return f?pa(pa({},H),{},{x:Ue(m*2,H.x,C),y:Ue(y/2,H.y,C)}):pa(pa({},H),{},{x:H.x,y:H.y})});return i.current=F,g.createElement(M3,{props:n,points:F,clipPathId:e,pathRef:r,strokeDasharray:O})}return C>0&&S>0&&(i.current=s,a.current=k),g.createElement(M3,{props:n,points:s,clipPathId:e,pathRef:r,strokeDasharray:O})}),g.createElement(Y_,{label:n.label}))}function CDe(t){var{clipPathId:e,props:n}=t,r=g.useRef(null),i=g.useRef(0),a=g.useRef(null);return g.createElement(PDe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var jDe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Xe(t.payload,e)}};class RDe extends g.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:c,height:u,id:h,needClip:f,zIndex:m}=this.props;if(e)return null;var y=Re("recharts-line",i),v=h,{r:x,strokeWidth:b}=GY(n),w=aR(n),_=x*2+b;return g.createElement(jr,{zIndex:m},g.createElement(Bt,{className:y},f&&g.createElement("defs",null,g.createElement(fR,{clipPathId:v,xAxisId:a,yAxisId:s}),!w&&g.createElement("clipPath",{id:"clipPath-dots-".concat(v)},g.createElement("rect",{x:l-_/2,y:o-_/2,width:c+_,height:u+_}))),g.createElement(kY,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:jDe,errorBarOffset:0},g.createElement(CDe,{props:this.props,clipPathId:v}))),g.createElement(yN,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var WY={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!ao.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Yt.line};function ODe(t){var e=qt(t,WY),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:c,isAnimationActive:u,label:h,legendType:f,xAxisId:m,yAxisId:y,id:v}=e,x=vR(e,yDe),{needClip:b}=d1(m,y),w=u1(),_=lf(),T=Un(),I=se(C=>mDe(C,m,y,T,v));if(_!=="horizontal"&&_!=="vertical"||I==null||w==null)return null;var{height:j,width:A,x:S,y:P}=w;return g.createElement(RDe,_g({},x,{id:v,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:u,hide:c,label:h,legendType:f,xAxisId:m,yAxisId:y,points:I,layout:_,height:j,width:A,left:S,top:P,needClip:b}))}function kDe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=t;return l.map((c,u)=>{var h=Xe(c,s);if(e==="horizontal"){var f=cb({axis:n,ticks:i,bandSize:o,entry:c,index:u}),m=vt(h)?null:r.scale(h);return{x:f,y:m,value:h,payload:c}}var y=vt(h)?null:n.scale(h),v=cb({axis:r,ticks:a,bandSize:o,entry:c,index:u});return y==null||v==null?null:{x:y,y:v,value:h,payload:c}}).filter(Boolean)}function DDe(t){var e=qt(t,WY),n=Un();return g.createElement(c1,{id:e.id,type:"line"},r=>g.createElement(g.Fragment,null,g.createElement(uR,{legendPayload:_De(e)}),g.createElement(l1,{fn:EDe,args:e}),g.createElement(dR,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),g.createElement(ODe,_g({},e,{id:r}))))}var C0=g.memo(DDe);C0.displayName="Line";var YY=(t,e,n,r)=>Ha(t,"xAxis",e,r),QY=(t,e,n,r)=>qa(t,"xAxis",e,r),XY=(t,e,n,r)=>Ha(t,"yAxis",n,r),ZY=(t,e,n,r)=>qa(t,"yAxis",n,r),MDe=V([Ae,YY,XY,QY,ZY],(t,e,n,r,i)=>Ya(t,"xAxis")?_l(e,r,!1):_l(n,i,!1)),LDe=(t,e,n,r,i)=>i,JY=V([Iy,LDe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),VDe=(t,e,n,r,i)=>{var a,s=JY(t,e,n,r,i);if(s!=null){var o=Ae(t),l=Ya(o,"xAxis"),c;if(l?c=yg(t,"yAxis",n,r):c=yg(t,"xAxis",e,r),c!=null){var{stackId:u}=s,h=V_(s);if(!(u==null||h==null)){var f=(a=c[u])===null||a===void 0?void 0:a.stackedData;return f==null?void 0:f.find(m=>m.key===h)}}}},UDe=V([Ae,YY,XY,QY,ZY,VDe,Ty,MDe,JY,sIe],(t,e,n,r,i,a,s,o,l,c)=>{var{chartData:u,dataStartIndex:h,dataEndIndex:f}=s;if(!(l==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{data:m}=l,y;if(m&&m.length>0?y=m:y=u==null?void 0:u.slice(h,f+1),y!=null)return iMe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:h,areaSettings:l,stackedData:a,displayedData:y,chartBaseValue:c,bandSize:o})}}),zDe=["id"],BDe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Vc(){return Vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vc.apply(null,arguments)}function eQ(t,e){if(t==null)return{};var n,r,i=FDe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function FDe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function L3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L3(Object(n),!0).forEach(function(r){$De(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $De(t,e,n){return(e=qDe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qDe(t){var e=HDe(t,"string");return typeof e=="symbol"?e:e+""}function HDe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lb(t,e){return t&&t!=="none"?t:e}var GDe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:Lb(r,i),value:Ll(n,e),payload:t}]};function KDe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Ll(s,e),hide:o,type:t.tooltipType,color:Lb(r,a),unit:l}}}function WDe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:a,dataKey:s}=r,o=Pr(r);return g.createElement(jY,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:o,needClip:i,clipPathId:e})}function YDe(t){var{showLabels:e,children:n,points:r}=t,i=r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ed(Ed({},l),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return g.createElement(Jj,{value:e?i:void 0},n)}function V3(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:a}=t,{layout:s,type:o,stroke:l,connectNulls:c,isRange:u}=a,{id:h}=a,f=eQ(a,zDe),m=Pr(f),y=fr(f);return g.createElement(g.Fragment,null,(e==null?void 0:e.length)>1&&g.createElement(Bt,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},g.createElement(Ud,Vc({},y,{id:h,points:e,connectNulls:c,type:o,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),l!=="none"&&g.createElement(Ud,Vc({},m,{className:"recharts-area-curve",layout:s,type:o,connectNulls:c,fill:"none",points:e})),l!=="none"&&u&&g.createElement(Ud,Vc({},m,{className:"recharts-area-curve",layout:s,type:o,connectNulls:c,fill:"none",points:n}))),g.createElement(WDe,{points:e,props:f,clipPathId:i}))}function QDe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].y,s=r[r.length-1].y;if(!wt(a)||!wt(s))return null;var o=e*Math.abs(a-s),l=Math.max(...r.map(c=>c.x||0));return ie(n)?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(...n.map(c=>c.x||0),l)),ie(l)?g.createElement("rect",{x:0,y:a<s?a:a-o,width:l+(i?parseInt("".concat(i),10):1),height:Math.floor(o)}):null}function XDe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].x,s=r[r.length-1].x;if(!wt(a)||!wt(s))return null;var o=e*Math.abs(a-s),l=Math.max(...r.map(c=>c.y||0));return ie(n)?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(...n.map(c=>c.y||0),l)),ie(l)?g.createElement("rect",{x:a<s?a:a-o,y:0,width:o,height:Math.floor(l+(i?parseInt("".concat(i),10):1))}):null}function ZDe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:a}=t;return n==="vertical"?g.createElement(QDe,{alpha:e,points:r,baseLine:i,strokeWidth:a}):g.createElement(XDe,{alpha:e,points:r,baseLine:i,strokeWidth:a})}function JDe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=t,{points:s,baseLine:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:h,onAnimationStart:f,onAnimationEnd:m}=r,y=uf(r,"recharts-area-"),[v,x]=g.useState(!1),b=!v,w=g.useCallback(()=>{typeof m=="function"&&m(),x(!1)},[m]),_=g.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]),T=i.current,I=a.current;return g.createElement(YDe,{showLabels:b,points:s},r.children,g.createElement(cf,{animationId:y,begin:c,duration:u,isActive:l,easing:h,onAnimationEnd:w,onAnimationStart:_,key:y},j=>{if(T){var A=T.length/s.length,S=j===1?s:s.map((C,R)=>{var k=Math.floor(R*A);if(T[k]){var O=T[k];return Ed(Ed({},C),{},{x:Ue(O.x,C.x,j),y:Ue(O.y,C.y,j)})}return C}),P;return ie(o)?P=Ue(I,o,j):vt(o)||Fi(o)?P=Ue(I,0,j):P=o.map((C,R)=>{var k=Math.floor(R*A);if(Array.isArray(I)&&I[k]){var O=I[k];return Ed(Ed({},C),{},{x:Ue(O.x,C.x,j),y:Ue(O.y,C.y,j)})}return C}),j>0&&(i.current=S,a.current=P),g.createElement(V3,{points:S,baseLine:P,needClip:e,clipPathId:n,props:r})}return j>0&&(i.current=s,a.current=o),g.createElement(Bt,null,l&&g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(n)},g.createElement(ZDe,{alpha:j,points:s,baseLine:o,layout:r.layout,strokeWidth:r.strokeWidth}))),g.createElement(Bt,{clipPath:"url(#animationClipPath-".concat(n,")")},g.createElement(V3,{points:s,baseLine:o,needClip:e,clipPathId:n,props:r})))}),g.createElement(Y_,{label:r.label}))}function eMe(t){var{needClip:e,clipPathId:n,props:r}=t,i=g.useRef(null),a=g.useRef();return g.createElement(JDe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class tMe extends g.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:a,left:s,needClip:o,xAxisId:l,yAxisId:c,width:u,height:h,id:f,baseLine:m,zIndex:y}=this.props;if(e)return null;var v=Re("recharts-area",i),x=f,{r:b,strokeWidth:w}=GY(n),_=aR(n),T=b*2+w;return g.createElement(jr,{zIndex:y},g.createElement(Bt,{className:v},o&&g.createElement("defs",null,g.createElement(fR,{clipPathId:x,xAxisId:l,yAxisId:c}),!_&&g.createElement("clipPath",{id:"clipPath-dots-".concat(x)},g.createElement("rect",{x:s-T/2,y:a-T/2,width:u+T,height:h+T}))),g.createElement(eMe,{needClip:o,clipPathId:x,props:this.props})),g.createElement(yN,{points:r,mainColor:Lb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(m)&&g.createElement(yN,{points:m,mainColor:Lb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var tQ={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!ao.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0,zIndex:Yt.area};function nMe(t){var e,n=qt(t,tQ),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,fill:c,fillOpacity:u,hide:h,isAnimationActive:f,legendType:m,stroke:y,xAxisId:v,yAxisId:x}=n,b=eQ(n,BDe),w=lf(),_=YW(),{needClip:T}=d1(v,x),I=Un(),{points:j,isRange:A,baseLine:S}=(e=se(B=>UDe(B,v,x,I,t.id)))!==null&&e!==void 0?e:{},P=u1();if(w!=="horizontal"&&w!=="vertical"||P==null||_!=="AreaChart"&&_!=="ComposedChart")return null;var{height:C,width:R,x:k,y:O}=P;return!j||!j.length?null:g.createElement(tMe,Vc({},b,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:S,connectNulls:o,dot:l,fill:c,fillOpacity:u,height:C,hide:h,layout:w,isAnimationActive:f,isRange:A,legendType:m,needClip:T,points:j,stroke:y,width:R,left:k,top:O,xAxisId:v,yAxisId:x}))}var rMe=(t,e,n,r,i)=>{var a=n??e;if(ie(a))return a;var s=t==="horizontal"?i:r,o=s.scale.domain();if(s.type==="number"){var l=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return a==="dataMin"?c:a==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return a==="dataMin"?o[0]:a==="dataMax"?o[1]:o[0]};function iMe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:s,xAxis:o,yAxis:l,displayedData:c,dataStartIndex:u,xAxisTicks:h,yAxisTicks:f,bandSize:m}=t,y=i&&i.length,v=rMe(a,s,n,o,l),x=a==="horizontal",b=!1,w=c.map((T,I)=>{var j;y?j=i[u+I]:(j=Xe(T,r),Array.isArray(j)?b=!0:j=[v,j]);var A=j[1]==null||y&&!e&&Xe(T,r)==null;return x?{x:cb({axis:o,ticks:h,bandSize:m,entry:T,index:I}),y:A?null:l.scale(j[1]),value:j,payload:T}:{x:A?null:o.scale(j[1]),y:cb({axis:l,ticks:f,bandSize:m,entry:T,index:I}),value:j,payload:T}}),_;return y||b?_=w.map(T=>{var I=Array.isArray(T.value)?T.value[0]:null;return x?{x:T.x,y:I!=null&&T.y!=null?l.scale(I):null,payload:T.payload}:{x:I!=null?o.scale(I):null,y:T.y,payload:T.payload}}):_=x?l.scale(v):o.scale(v),{points:w,baseLine:_,isRange:b}}function aMe(t){var e=qt(t,tQ),n=Un();return g.createElement(c1,{id:e.id,type:"area"},r=>g.createElement(g.Fragment,null,g.createElement(uR,{legendPayload:GDe(e)}),g.createElement(l1,{fn:KDe,args:e}),g.createElement(dR,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:_G(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),g.createElement(nMe,Vc({},e,{id:r}))))}var bN=g.memo(aMe);bN.displayName="Area";var sMe=["dangerouslySetInnerHTML","ticks"],oMe=["id"],lMe=["domain"],cMe=["domain"];function wN(){return wN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wN.apply(null,arguments)}function Vb(t,e){if(t==null)return{};var n,r,i=uMe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function dMe(t){var e=lt();return g.useLayoutEffect(()=>(e(BRe(t)),()=>{e(FRe(t))}),[t,e]),null}var hMe=t=>{var{xAxisId:e,className:n}=t,r=se(BC),i=Un(),a="xAxis",s=se(x=>yf(x,a,e,i)),o=se(x=>SW(x,a,e,i)),l=se(x=>wW(x,e)),c=se(x=>rPe(x,e)),u=se(x=>tW(x,e));if(l==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:h,ticks:f}=t,m=Vb(t,sMe),{id:y}=u,v=Vb(u,oMe);return g.createElement(yR,wN({},m,v,{scale:s,x:c.x,y:c.y,width:l.width,height:l.height,className:Re("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:o,axisType:a}))},fMe={allowDataOverflow:Wr.allowDataOverflow,allowDecimals:Wr.allowDecimals,allowDuplicatedCategory:Wr.allowDuplicatedCategory,height:Wr.height,hide:!1,mirror:Wr.mirror,orientation:Wr.orientation,padding:Wr.padding,reversed:Wr.reversed,scale:Wr.scale,tickCount:Wr.tickCount,type:Wr.type,xAxisId:0},mMe=t=>{var e,n,r,i,a,s=qt(t,fMe);return g.createElement(g.Fragment,null,g.createElement(dMe,{interval:(e=s.interval)!==null&&e!==void 0?e:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),g.createElement(hMe,s))},pMe=(t,e)=>{var{domain:n}=t,r=Vb(t,lMe),{domain:i}=e,a=Vb(e,cMe);return Rh(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Rh({domain:n},{domain:i}):!1},Eg=g.memo(mMe,pMe);Eg.displayName="XAxis";var gMe=["dangerouslySetInnerHTML","ticks"],yMe=["id"],vMe=["domain"],xMe=["domain"];function _N(){return _N=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_N.apply(null,arguments)}function Ub(t,e){if(t==null)return{};var n,r,i=bMe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wMe(t){var e=lt();return g.useLayoutEffect(()=>(e($Re(t)),()=>{e(qRe(t))}),[t,e]),null}var _Me=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=g.useRef(null),s=g.useRef(null),o=se(BC),l=Un(),c=lt(),u="yAxis",h=se(I=>yf(I,u,e,l)),f=se(I=>_W(I,e)),m=se(I=>aPe(I,e)),y=se(I=>SW(I,u,e,l)),v=se(I=>nW(I,e));if(g.useLayoutEffect(()=>{if(!(r!=="auto"||!f||Zj(i)||g.isValidElement(i)||v==null)){var I=a.current;if(I){var j=I.getCalculatedWidth();Math.round(f.width)!==Math.round(j)&&c(HRe({id:e,width:j}))}}},[y,f,c,i,e,r,v]),f==null||m==null||v==null)return null;var{dangerouslySetInnerHTML:x,ticks:b}=t,w=Ub(t,gMe),{id:_}=v,T=Ub(v,yMe);return g.createElement(yR,_N({},w,T,{ref:a,labelRef:s,scale:h,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:Re("recharts-".concat(u," ").concat(u),n),viewBox:o,ticks:y,axisType:u}))},EMe={allowDataOverflow:Yr.allowDataOverflow,allowDecimals:Yr.allowDecimals,allowDuplicatedCategory:Yr.allowDuplicatedCategory,hide:!1,mirror:Yr.mirror,orientation:Yr.orientation,padding:Yr.padding,reversed:Yr.reversed,scale:Yr.scale,tickCount:Yr.tickCount,type:Yr.type,width:Yr.width,yAxisId:0},TMe=t=>{var e,n,r,i,a,s=qt(t,EMe);return g.createElement(g.Fragment,null,g.createElement(wMe,{interval:(e=s.interval)!==null&&e!==void 0?e:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),g.createElement(_Me,s))},SMe=(t,e)=>{var{domain:n}=t,r=Ub(t,vMe),{domain:i}=e,a=Ub(e,xMe);return Rh(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Rh({domain:n},{domain:i}):!1},Tg=g.memo(TMe,SMe);Tg.displayName="YAxis";var AMe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky=g;function NMe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var IMe=typeof Object.is=="function"?Object.is:NMe,PMe=ky.useSyncExternalStore,CMe=ky.useRef,jMe=ky.useEffect,RMe=ky.useMemo,OMe=ky.useDebugValue;AMe.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var a=CMe(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=RMe(function(){function l(m){if(!c){if(c=!0,u=m,m=r(m),i!==void 0&&s.hasValue){var y=s.value;if(i(y,m))return h=y}return h=m}if(y=h,IMe(u,m))return y;var v=r(m);return i!==void 0&&i(y,v)?(u=m,y):(u=m,h=v)}var c=!1,u,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var o=PMe(t,a[0],a[1]);return jMe(function(){s.hasValue=!0,s.value=o},[o]),OMe(o),o};function kMe(t){t()}function DMe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){kMe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var U3={notify(){},get:()=>[]};function MMe(t,e){let n,r=U3,i=0,a=!1;function s(v){u();const x=r.subscribe(v);let b=!1;return()=>{b||(b=!0,x(),h())}}function o(){r.notify()}function l(){y.onStateChange&&y.onStateChange()}function c(){return a}function u(){i++,n||(n=t.subscribe(l),r=DMe())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=U3)}function f(){a||(a=!0,u())}function m(){a&&(a=!1,h())}const y={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>r};return y}var LMe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VMe=LMe(),UMe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",zMe=UMe(),BMe=()=>VMe||zMe?g.useLayoutEffect:g.useEffect,FMe=BMe(),bT=Symbol.for("react-redux-context"),wT=typeof globalThis<"u"?globalThis:{};function $Me(){if(!g.createContext)return{};const t=wT[bT]??(wT[bT]=new Map);let e=t.get(g.createContext);return e||(e=g.createContext(null),t.set(g.createContext,e)),e}var qMe=$Me();function HMe(t){const{children:e,context:n,serverState:r,store:i}=t,a=g.useMemo(()=>{const l=MMe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=g.useMemo(()=>i.getState(),[i]);FMe(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||qMe;return g.createElement(o.Provider,{value:a},e)}var GMe=HMe,KMe=(t,e)=>e,xR=V([KMe,Ae,JK,Tn,FW,co,p2e,_n],_2e),bR=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},nQ=$i("mouseClick"),rQ=vy();rQ.startListening({actionCreator:nQ,effect:(t,e)=>{var n=t.payload,r=xR(e.getState(),bR(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(vPe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var EN=$i("mouseMove"),iQ=vy();iQ.startListening({actionCreator:EN,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=$j(r,r.tooltip.settings.shared),a=xR(r,bR(n));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?e.dispatch(OW({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(RW()))}});var z3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},aQ=Gr({name:"rootProps",initialState:z3,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:z3.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue}}}),WMe=aQ.reducer,{updateOptions:YMe}=aQ.actions,sQ=Gr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:QMe}=sQ.actions,XMe=sQ.reducer,oQ=$i("keyDown"),lQ=$i("focus"),wR=vy();wR.startListening({actionCreator:oQ,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(qj(i,xf(n))),o=co(n);if(a==="Enter"){var l=Ib(n,"axis","hover",String(i.index));e.dispatch(dN({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var c=cPe(n),u=c==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,f=s+h*u;if(!(o==null||f>=o.length||f<0)){var m=Ib(n,"axis","hover",String(f));e.dispatch(dN({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});wR.startListening({actionCreator:lQ,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=Ib(n,"axis","hover",String(a));e.dispatch(dN({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var _i=$i("externalEvent"),cQ=vy();cQ.startListening({actionCreator:_i,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:e2e(n),activeDataKey:GW(n),activeIndex:El(n),activeLabel:HW(n),activeTooltipIndex:El(n),isTooltipActive:t2e(n)};t.payload.handler(r,t.payload.reactEvent)}}});var ZMe=V([vf],t=>t.tooltipItemPayloads),JMe=V([ZMe,jy,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(o=>o.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,n);return s}}}),uQ=$i("touchMove"),dQ=vy();dQ.startListening({actionCreator:uQ,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=$j(r,r.tooltip.settings.shared);if(i==="axis"){var a=xR(r,bR({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(OW({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=n.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(TG),u=(s=l.getAttribute(SG))!==null&&s!==void 0?s:void 0,h=JMe(e.getState(),c,u);e.dispatch(jW({activeDataKey:u,activeIndex:c,activeCoordinate:h}))}}}});var e4e=WH({brush:fke,cartesianAxis:GRe,chartData:Z2e,errorBars:dOe,graphicalItems:rRe,layout:Q1e,legend:FEe,options:K2e,polarAxis:bje,polarOptions:XMe,referenceElements:bke,rootProps:WMe,tooltip:xPe,zIndex:M2e}),t4e=function(e){return w1e({reducer:e4e,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([rQ.middleware,iQ.middleware,wR.middleware,cQ.middleware,dQ.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(sG({type:"raf"}))},devTools:ao.devToolsEnabled})};function hQ(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Un(),a=g.useRef(null);if(i)return n;a.current==null&&(a.current=t4e(e));var s=OC;return g.createElement(GMe,{context:s,store:a.current},n)}function fQ(t){var{layout:e,margin:n}=t,r=lt(),i=Un();return g.useEffect(()=>{i||(r(K1e(e)),r(G1e(n)))},[r,i,e,n]),null}function mQ(t){var e=lt();return g.useEffect(()=>{e(YMe(t))},[e,t]),null}function B3(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=IY("".concat(r).concat(e)),a=lt();return g.useLayoutEffect(()=>(a(k2e({zIndex:e,elementId:i,isPanorama:n})),()=>{a(D2e({zIndex:e,isPanorama:n}))}),[a,e,i,n]),g.createElement("g",{id:i})}function F3(t){var{children:e,isPanorama:n}=t,r=se(T2e);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return g.createElement(g.Fragment,null,i.map(s=>g.createElement(B3,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>g.createElement(B3,{key:s,zIndex:s,isPanorama:n})))}var n4e=["children"];function r4e(t,e){if(t==null)return{};var n,r,i=i4e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function i4e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zb(){return zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zb.apply(null,arguments)}var a4e={width:"100%",height:"100%",display:"block"},s4e=g.forwardRef((t,e)=>{var n=$C(),r=qC(),i=LG();if(!Fa(n)||!Fa(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=t,c,u;return s!=null&&(typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?u=s.role:u=i?"application":void 0),g.createElement(yC,zb({},s,{title:o,desc:l,role:u,tabIndex:c,width:n,height:r,style:a4e,ref:e}),a)}),o4e=t=>{var{children:e}=t,n=se(A_);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return g.createElement(yC,{width:r,height:i,x:s,y:a},e)},$3=g.forwardRef((t,e)=>{var{children:n}=t,r=r4e(t,n4e),i=Un();return i?g.createElement(o4e,null,g.createElement(F3,{isPanorama:!0},n)):g.createElement(s4e,zb({ref:e},r),g.createElement(F3,{isPanorama:!1},n))});function l4e(){var t=lt(),[e,n]=g.useState(null),r=se(fEe);return g.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;wt(a)&&a!==r&&t(Y1e(a))}},[e,t,r]),n}function q3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c4e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q3(Object(n),!0).forEach(function(r){u4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u4e(t,e,n){return(e=d4e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d4e(t){var e=h4e(t,"string");return typeof e=="symbol"?e:e+""}function h4e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},du.apply(null,arguments)}var f4e=()=>(oCe(),null);function Bb(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var m4e=g.forwardRef((t,e)=>{var n,r,i=g.useRef(null),[a,s]=g.useState({containerWidth:Bb((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Bb((r=t.style)===null||r===void 0?void 0:r.height)}),o=g.useCallback((c,u)=>{s(h=>{var f=Math.round(c),m=Math.round(u);return h.containerWidth===f&&h.containerHeight===m?h:{containerWidth:f,containerHeight:m}})},[]),l=g.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null&&typeof ResizeObserver<"u"){var{width:u,height:h}=c.getBoundingClientRect();o(u,h);var f=y=>{var{width:v,height:x}=y[0].contentRect;o(v,x)},m=new ResizeObserver(f);m.observe(c),i.current=m}},[e,o]);return g.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[o]),g.createElement(g.Fragment,null,g.createElement(I_,{width:a.containerWidth,height:a.containerHeight}),g.createElement("div",du({ref:l},t)))}),p4e=g.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=g.useState({containerWidth:Bb(n),containerHeight:Bb(r)}),s=g.useCallback((l,c)=>{a(u=>{var h=Math.round(l),f=Math.round(c);return u.containerWidth===h&&u.containerHeight===f?u:{containerWidth:h,containerHeight:f}})},[]),o=g.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:c,height:u}=l.getBoundingClientRect();s(c,u)}},[e,s]);return g.createElement(g.Fragment,null,g.createElement(I_,{width:i.containerWidth,height:i.containerHeight}),g.createElement("div",du({ref:o},t)))}),g4e=g.forwardRef((t,e)=>{var{width:n,height:r}=t;return g.createElement(g.Fragment,null,g.createElement(I_,{width:n,height:r}),g.createElement("div",du({ref:e},t)))}),y4e=g.forwardRef((t,e)=>{var{width:n,height:r}=t;return zs(n)||zs(r)?g.createElement(p4e,du({},t,{ref:e})):g.createElement(g4e,du({},t,{ref:e}))});function v4e(t){return t===!0?m4e:y4e}var x4e=g.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:h,onMouseUp:f,onTouchEnd:m,onTouchMove:y,onTouchStart:v,style:x,width:b,responsive:w,dispatchTouchEvents:_=!0}=t,T=g.useRef(null),I=lt(),[j,A]=g.useState(null),[S,P]=g.useState(null),C=l4e(),R=FC(),k=(R==null?void 0:R.width)>0?R.width:b,O=(R==null?void 0:R.height)>0?R.height:i,B=g.useCallback(K=>{C(K),typeof e=="function"&&e(K),A(K),P(K),K!=null&&(T.current=K)},[C,e,A,P]),J=g.useCallback(K=>{I(nQ(K)),I(_i({handler:a,reactEvent:K}))},[I,a]),F=g.useCallback(K=>{I(EN(K)),I(_i({handler:c,reactEvent:K}))},[I,c]),H=g.useCallback(K=>{I(RW()),I(_i({handler:u,reactEvent:K}))},[I,u]),Q=g.useCallback(K=>{I(EN(K)),I(_i({handler:h,reactEvent:K}))},[I,h]),ne=g.useCallback(()=>{I(lQ())},[I]),pe=g.useCallback(K=>{I(oQ(K.key))},[I]),Jt=g.useCallback(K=>{I(_i({handler:s,reactEvent:K}))},[I,s]),fn=g.useCallback(K=>{I(_i({handler:o,reactEvent:K}))},[I,o]),Jn=g.useCallback(K=>{I(_i({handler:l,reactEvent:K}))},[I,l]),ct=g.useCallback(K=>{I(_i({handler:f,reactEvent:K}))},[I,f]),er=g.useCallback(K=>{I(_i({handler:v,reactEvent:K}))},[I,v]),Qa=g.useCallback(K=>{_&&I(uQ(K)),I(_i({handler:y,reactEvent:K}))},[I,_,y]),An=g.useCallback(K=>{I(_i({handler:m,reactEvent:K}))},[I,m]),Bl=v4e(w);return g.createElement(tY.Provider,{value:j},g.createElement(Wq.Provider,{value:S},g.createElement(Bl,{width:k??(x==null?void 0:x.width),height:O??(x==null?void 0:x.height),className:Re("recharts-wrapper",r),style:c4e({position:"relative",cursor:"default",width:k,height:O},x),onClick:J,onContextMenu:Jt,onDoubleClick:fn,onFocus:ne,onKeyDown:pe,onMouseDown:Jn,onMouseEnter:F,onMouseLeave:H,onMouseMove:Q,onMouseUp:ct,onTouchEnd:An,onTouchMove:Qa,onTouchStart:er,ref:B},g.createElement(f4e,null),n)))}),b4e=["width","height","responsive","children","className","style","compact","title","desc"];function w4e(t,e){if(t==null)return{};var n,r,i=_4e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _4e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pQ=g.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:l,title:c,desc:u}=t,h=w4e(t,b4e),f=Pr(h);return l?g.createElement(g.Fragment,null,g.createElement(I_,{width:n,height:r}),g.createElement($3,{otherAttributes:f,title:c,desc:u},a)):g.createElement(x4e,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},g.createElement($3,{otherAttributes:f,title:c,desc:u,ref:e},g.createElement(_ke,null,a)))});function TN(){return TN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TN.apply(null,arguments)}var E4e={top:5,right:5,bottom:5,left:5},T4e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:E4e,reverseStackOrder:!1,syncMethod:"index",responsive:!1},_R=g.forwardRef(function(e,n){var r,i=qt(e.categoricalChartProps,T4e),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=e,u={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return g.createElement(hQ,{preloadedState:{options:u},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:a},g.createElement(LY,{chartData:c.data}),g.createElement(fQ,{layout:i.layout,margin:i.margin}),g.createElement(mQ,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),g.createElement(pQ,TN({},i,{ref:n})))}),S4e=["axis"],A4e=g.forwardRef((t,e)=>g.createElement(_R,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:S4e,tooltipPayloadSearcher:K_,categoricalChartProps:t,ref:e})),N4e=["axis","item"],gQ=g.forwardRef((t,e)=>g.createElement(_R,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:N4e,tooltipPayloadSearcher:K_,categoricalChartProps:t,ref:e}));function I4e(t){var e=lt();return g.useEffect(()=>{e(QMe(t))},[e,t]),null}var P4e=["layout"];function SN(){return SN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SN.apply(null,arguments)}function C4e(t,e){if(t==null)return{};var n,r,i=j4e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function j4e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var R4e={top:5,right:5,bottom:5,left:5},O4e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:R4e,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},k4e=g.forwardRef(function(e,n){var r,i=qt(e.categoricalChartProps,O4e),{layout:a}=i,s=C4e(i,P4e),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u}=e,h={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return g.createElement(hQ,{preloadedState:{options:h},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:o},g.createElement(LY,{chartData:i.data}),g.createElement(fQ,{layout:a,margin:i.margin}),g.createElement(mQ,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),g.createElement(I4e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),g.createElement(pQ,SN({},s,{ref:n})))}),D4e=["item"],M4e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},L4e=g.forwardRef((t,e)=>{var n=qt(t,M4e);return g.createElement(k4e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:D4e,tooltipPayloadSearcher:K_,categoricalChartProps:n,ref:e})}),V4e=["axis"],U4e=g.forwardRef((t,e)=>g.createElement(_R,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:V4e,tooltipPayloadSearcher:K_,categoricalChartProps:t,ref:e}));const z4e=({data:t,showOrders:e=!0,type:n="area"})=>{const r=({active:i,payload:a,label:s})=>i&&a&&a.length?d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border border-gray-200",children:[d.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:s}),d.jsxs("p",{className:"text-sm text-blue-600",children:["Revenue: ",a[0].value.toLocaleString("en-US",{minimumFractionDigits:2})]}),e&&a[1]&&d.jsxs("p",{className:"text-sm text-green-600",children:["Orders: ",a[1].value]}),a[2]&&d.jsxs("p",{className:"text-sm text-purple-600",children:["Avg Order: ",a[2].value.toLocaleString("en-US",{minimumFractionDigits:2})]})]}):null;return n==="area"?d.jsx(ug,{width:"100%",height:"100%",children:d.jsxs(U4e,{data:t,children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),d.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]}),e&&d.jsxs("linearGradient",{id:"colorOrders",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.3}),d.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]})]}),d.jsx(wg,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),d.jsx(Eg,{dataKey:"date",stroke:"#6B7280",style:{fontSize:"12px"}}),d.jsx(Tg,{stroke:"#6B7280",style:{fontSize:"12px"},tickFormatter:i=>`${i.toLocaleString()}`}),d.jsx(xg,{content:d.jsx(r,{}),cursor:!1,wrapperStyle:{outline:"none"}}),d.jsx(Ih,{wrapperStyle:{paddingTop:"20px"},iconType:"circle"}),d.jsx(bN,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenue)",name:"Revenue"}),e&&d.jsx(bN,{type:"monotone",dataKey:"orders",stroke:"#10B981",strokeWidth:2,fillOpacity:1,fill:"url(#colorOrders)",name:"Orders"})]})}):d.jsx(ug,{width:"100%",height:"100%",children:d.jsxs(A4e,{data:t,children:[d.jsx(wg,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),d.jsx(Eg,{dataKey:"date",stroke:"#6B7280",style:{fontSize:"12px"}}),d.jsx(Tg,{stroke:"#6B7280",style:{fontSize:"12px"},tickFormatter:i=>`${i.toLocaleString()}`}),d.jsx(xg,{content:d.jsx(r,{}),cursor:!1,wrapperStyle:{outline:"none"}}),d.jsx(Ih,{wrapperStyle:{paddingTop:"20px"},iconType:"circle"}),d.jsx(C0,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",strokeWidth:3,dot:{fill:"#3B82F6",r:4},activeDot:{r:6},name:"Revenue"}),e&&d.jsx(C0,{type:"monotone",dataKey:"orders",stroke:"#10B981",strokeWidth:3,dot:{fill:"#10B981",r:4},activeDot:{r:6},name:"Orders"}),d.jsx(C0,{type:"monotone",dataKey:"averageOrderValue",stroke:"#8B5CF6",strokeWidth:2,strokeDasharray:"5 5",dot:{fill:"#8B5CF6",r:3},name:"Avg Order Value"})]})})},H3=["#3B82F6","#10B981","#F59E0B","#8B5CF6","#EC4899","#14B8A6","#F97316","#6366F1","#EF4444","#06B6D4"],B4e=({data:t,showRevenue:e=!0})=>{const n=({active:r,payload:i,label:a})=>r&&i&&i.length?d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border border-gray-200",children:[d.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:a}),d.jsxs("p",{className:"text-sm text-blue-600",children:["Quantity Sold: ",i[0].value]}),e&&i[1]&&d.jsxs("p",{className:"text-sm text-green-600",children:["Revenue: ",i[1].value.toLocaleString("en-US",{minimumFractionDigits:2})]})]}):null;return t.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[d.jsx(Hm,{className:"w-12 h-12 mb-3 opacity-50"}),d.jsx("p",{children:"No sales data available"})]}):d.jsx(ug,{width:"100%",height:"100%",children:d.jsxs(gQ,{data:t,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(wg,{strokeDasharray:"3 3",stroke:"#E5E7EB",horizontal:!0}),d.jsx(Eg,{type:"number",stroke:"#6B7280",style:{fontSize:"12px"}}),d.jsx(Tg,{type:"category",dataKey:"productName",stroke:"#6B7280",style:{fontSize:"11px"},width:120,tickFormatter:r=>r.length>15?r.substring(0,15)+"...":r}),d.jsx(xg,{content:d.jsx(n,{}),cursor:!1,wrapperStyle:{outline:"none"}}),d.jsx(Ih,{wrapperStyle:{paddingTop:"10px"},iconType:"circle"}),d.jsx(bg,{dataKey:"quantity",name:"Quantity Sold",radius:[0,8,8,0],children:t.map((r,i)=>d.jsx(Pu,{fill:H3[i%H3.length]},`cell-${i}`))}),e&&d.jsx(bg,{dataKey:"revenue",name:"Revenue ()",fill:"#10B981",radius:[0,8,8,0],opacity:.7})]})})},G3={"Coffee Based":"#8B4513","Non-Coffee Based":"#D2691E","Matcha Series":"#90EE90",Refreshments:"#87CEEB",Meals:"#FFD700",Other:"#9CA3AF"},F4e=({data:t})=>{const e=({active:a,payload:s})=>{if(a&&s&&s.length){const o=s[0].payload,l=(o.revenue/o.total*100).toFixed(1);return d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border border-gray-200",children:[d.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:o.category}),d.jsxs("p",{className:"text-sm text-blue-600",children:["Revenue: ",o.revenue.toLocaleString("en-US",{minimumFractionDigits:2})]}),d.jsxs("p",{className:"text-sm text-green-600",children:["Orders: ",o.orders]}),d.jsxs("p",{className:"text-sm text-purple-600",children:["Share: ",l,"%"]})]})}return null},n=({cx:a,cy:s,midAngle:o,innerRadius:l,outerRadius:c,percent:u})=>{const h=Math.PI/180,f=l+(c-l)*.5,m=a+f*Math.cos(-o*h),y=s+f*Math.sin(-o*h);return u<.05?null:d.jsx("text",{x:m,y,fill:"white",textAnchor:m>a?"start":"end",dominantBaseline:"central",className:"font-semibold text-sm",children:`${(u*100).toFixed(0)}%`})};if(t.length===0)return d.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[d.jsx(cx,{className:"w-12 h-12 mb-3 opacity-50"}),d.jsx("p",{children:"No category data available"})]});const r=t.reduce((a,s)=>a+s.revenue,0),i=t.map(a=>({...a,total:r}));return d.jsx(ug,{width:"100%",height:"100%",children:d.jsxs(L4e,{children:[d.jsx(CY,{data:i,cx:"50%",cy:"50%",labelLine:!1,label:n,outerRadius:100,fill:"#8884d8",dataKey:"revenue",animationBegin:0,animationDuration:800,children:i.map((a,s)=>d.jsx(Pu,{fill:G3[a.category]||G3.Other},`cell-${s}`))}),d.jsx(xg,{content:d.jsx(e,{}),wrapperStyle:{outline:"none"}}),d.jsx(Ih,{verticalAlign:"bottom",height:36,iconType:"circle",formatter:(a,s)=>{const o=(s.payload.revenue/r*100).toFixed(1);return`${a} (${o}%)`}})]})})},$4e=({data:t})=>{const e=({active:a,payload:s,label:o})=>a&&s&&s.length?d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border border-gray-200",children:[d.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:n(o)}),d.jsxs("p",{className:"text-sm text-blue-600",children:["Orders: ",s[0].value]}),d.jsxs("p",{className:"text-sm text-green-600",children:["Revenue: ",s[1].value.toLocaleString("en-US",{minimumFractionDigits:2})]})]}):null,n=a=>{const s=a>=12?"PM":"AM";return`${a===0?12:a>12?a-12:a}:00 ${s}`},r=(a,s)=>{const o=a/s;return o>.7?"#EF4444":o>.4?"#F59E0B":"#3B82F6"};if(t.length===0)return d.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[d.jsx(vu,{className:"w-12 h-12 mb-3 opacity-50"}),d.jsx("p",{children:"No peak hours data available"})]});const i=Math.max(...t.map(a=>a.orders));return d.jsx(ug,{width:"100%",height:"100%",children:d.jsxs(gQ,{data:t,children:[d.jsx(wg,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),d.jsx(Eg,{dataKey:"hour",stroke:"#6B7280",style:{fontSize:"11px"},tickFormatter:n,interval:0,angle:-45,textAnchor:"end",height:70}),d.jsx(Tg,{stroke:"#6B7280",style:{fontSize:"12px"}}),d.jsx(xg,{content:d.jsx(e,{}),cursor:!1,wrapperStyle:{outline:"none"}}),d.jsx(Ih,{wrapperStyle:{paddingTop:"10px"},iconType:"circle"}),d.jsx(bg,{dataKey:"orders",name:"Orders",radius:[8,8,0,0],children:t.map((a,s)=>d.jsx(Pu,{fill:r(a.orders,i)},`cell-orders-${s}`))}),d.jsx(bg,{dataKey:"revenue",name:"Revenue ()",fill:"#10B981",radius:[8,8,0,0],opacity:.7})]})})},q4e=()=>{const[t,e]=g.useState("today"),{salesData:n,topProducts:r,categorySales:i,peakHours:a,isLoading:s}=Ybe(t),o=[{value:"today",label:"Today",icon:md},{value:"week",label:"This Week",icon:md},{value:"month",label:"This Month",icon:md},{value:"year",label:"This Year",icon:md}],l=n.reduce((h,f)=>h+f.revenue,0),c=n.reduce((h,f)=>h+f.orders,0),u=c>0?l/c:0;return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Sales Overview"}),d.jsx("div",{className:"flex gap-2",children:o.map(h=>{const f=h.icon;return d.jsxs("button",{onClick:()=>e(h.value),className:`
                  flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all
                  ${t===h.value?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}
                `,children:[d.jsx(f,{className:"w-4 h-4"}),h.label]},h.value)})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx(fe,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-blue-700 mb-1",children:"Total Revenue"}),d.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["",l.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),d.jsx("div",{className:"p-3 bg-blue-200 rounded-lg",children:d.jsx(Hm,{className:"w-6 h-6 text-blue-700"})})]})}),d.jsx(fe,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-green-700 mb-1",children:"Total Orders"}),d.jsx("p",{className:"text-2xl font-bold text-green-900",children:c})]}),d.jsx("div",{className:"p-3 bg-green-200 rounded-lg",children:d.jsx(cx,{className:"w-6 h-6 text-green-700"})})]})}),d.jsx(fe,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-purple-700 mb-1",children:"Avg Order Value"}),d.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:["",u.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),d.jsx("div",{className:"p-3 bg-purple-200 rounded-lg",children:d.jsx(h9,{className:"w-6 h-6 text-purple-700"})})]})})]}),d.jsxs(fe,{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Hm,{className:"w-5 h-5 text-blue-600"}),d.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Revenue & Orders Trend"})]}),d.jsx("div",{className:"h-80",children:s?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[d.jsx(Hm,{className:"w-12 h-12 mb-3 opacity-50"}),d.jsx("p",{children:"No sales data available for this period"})]}):d.jsx(z4e,{data:n,showOrders:!0,type:"area"})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs(fe,{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(cx,{className:"w-5 h-5 text-green-600"}),d.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Top Selling Products"})]}),d.jsx("div",{className:"h-96",children:s?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):d.jsx(B4e,{data:r,showRevenue:!0})})]}),d.jsxs(fe,{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Rte,{className:"w-5 h-5 text-purple-600"}),d.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Sales by Category"})]}),d.jsx("div",{className:"h-96",children:s?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):d.jsx(F4e,{data:i})})]})]}),(t==="today"||t==="week")&&a.length>0&&d.jsxs(fe,{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(vu,{className:"w-5 h-5 text-orange-600"}),d.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Peak Hours Analysis"})]}),d.jsx("div",{className:"h-80",children:s?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):d.jsx($4e,{data:a})})]})]})},H4e=()=>{const[t,e]=g.useState({revenueToday:0,ordersToday:0,newCustomersToday:0,pendingOrders:0}),[n,r]=g.useState(!0);return g.useEffect(()=>{const i=new Date,a=new Date(i.getFullYear(),i.getMonth(),i.getDate()),s=new Date(i.getFullYear(),i.getMonth(),i.getDate()+1),o=ge.collection("orders").where("timestamp",">=",a).where("timestamp","<",s),l=o.onSnapshot(y=>{let v=0;const x=y.size;y.forEach(b=>{const w=b.data();w.status==="completed"&&(v+=w.totalAmount)}),e(b=>({...b,revenueToday:v,ordersToday:x}))},y=>console.error("Error fetching today's orders:",y)),c=ge.collection("users").where("createdAt",">=",a).where("createdAt","<",s),u=c.onSnapshot(y=>{e(v=>({...v,newCustomersToday:y.size}))},y=>console.error("Error fetching new users:",y)),h=ge.collection("orders").where("status","in",["waiting","preparing"]),f=h.onSnapshot(y=>{e(v=>({...v,pendingOrders:y.size}))},y=>console.error("Error fetching pending orders:",y)),m=[o.get(),c.get(),h.get()];return Promise.all(m).finally(()=>{r(!1)}),()=>{l(),u(),f()}},[]),d.jsxs("div",{children:[d.jsx("h1",{className:"mb-6 font-display text-3xl font-bold text-gray-800",children:"Admin Dashboard"}),d.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[d.jsx(Fo,{title:"Total Revenue Today",value:`${t.revenueToday.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,Icon:f9,isLoading:n,color:"blue"}),d.jsx(Fo,{title:"Orders Today",value:t.ordersToday,Icon:na,isLoading:n,color:"green"}),d.jsx(Fo,{title:"New Customers Today",value:t.newCustomersToday,Icon:Cp,isLoading:n,color:"yellow"}),d.jsx(Fo,{title:"Pending Orders",value:t.pendingOrders,Icon:kI,isLoading:n,color:"purple"})]}),d.jsx("div",{className:"mt-8",children:d.jsx(q4e,{})})]})},G4e={waiting:{text:"Start Preparing",nextStatus:"preparing",color:"bg-blue-500 hover:bg-blue-600"},preparing:{text:"Mark as Ready",nextStatus:"ready",color:"bg-green-500 hover:bg-green-600"},ready:{text:"Complete Order",nextStatus:"completed",color:"bg-primary-600 hover:bg-primary-700"}},K4e=({order:t,onUpdateStatus:e})=>{const n=G4e[t.status],r=l_(t.timestamp,{addSuffix:!0});return d.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm transition-shadow hover:shadow-md",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"font-mono text-sm font-bold text-primary-700",children:t.orderNumber}),d.jsxs("p",{className:"font-display text-lg font-bold text-gray-800",children:["",t.totalAmount.toFixed(2)]})]}),d.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Rs,{className:"h-4 w-4"}),d.jsx("span",{children:t.customerName})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(vu,{className:"h-4 w-4"}),d.jsx("span",{children:r})]})]}),d.jsx("div",{className:"mt-3 border-t pt-2",children:d.jsx("ul",{className:"text-xs text-gray-500",children:t.orderItems.map((i,a)=>d.jsxs("li",{children:[i.quantity,"x ",i.productName]},a))})}),n&&d.jsxs("button",{onClick:()=>e(t.id,n.nextStatus),className:`mt-4 flex w-full items-center justify-center gap-2 rounded-full px-4 py-2 text-sm font-semibold text-white shadow-sm transition-colors ${n.color}`,children:[d.jsx("span",{children:n.text}),n.nextStatus==="completed"?d.jsx(qc,{className:"h-4 w-4"}):d.jsx(Zd,{className:"h-4 w-4"})]})]})},W4e={yellow:"border-yellow-400",blue:"border-blue-400",green:"border-green-400"},_T=({title:t,orders:e,onUpdateStatus:n,color:r})=>d.jsxs("div",{className:"flex flex-col rounded-lg bg-gray-100 p-4",children:[d.jsxs("h2",{className:`mb-4 border-b-4 pb-2 font-display text-xl font-bold text-gray-700 ${W4e[r]}`,children:[t," ",d.jsxs("span",{className:"text-base font-medium text-gray-500",children:["(",e.length,")"]})]}),d.jsxs("div",{className:"flex-grow space-y-4 overflow-y-auto",children:[d.jsx(cy,{children:e.map(i=>d.jsx(za.div,{layout:!0,initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},children:d.jsx(K4e,{order:i,onUpdateStatus:n})},i.id))}),e.length===0&&d.jsx("div",{className:"flex h-32 items-center justify-center text-sm text-gray-500",children:"No orders in this stage."})]})]}),Y4e=()=>{const[t,e]=g.useState([]),[n,r]=g.useState(!0),{showToast:i}=pr();g.useEffect(()=>{const u=ge.collection("orders").where("status","in",["waiting","preparing","ready"]).onSnapshot(h=>{const f=[];h.forEach(m=>{f.push({id:m.id,...m.data(),timestamp:m.data().timestamp.toDate()})}),f.sort((m,y)=>m.timestamp.getTime()-y.timestamp.getTime()),e(f),r(!1)},h=>{console.error("Error fetching real-time orders: ",h),r(!1)});return()=>u()},[]);const a=async(c,u)=>{try{await ge.runTransaction(async h=>{const f=ge.collection("orders").doc(c),m=await h.get(f);if(!m.exists)throw new Error("Order does not exist!");const y=m.data(),v=y.status;let x=null;const b=new Map,w=new Map;if(u==="completed"&&v!=="completed"){const j=ge.collection("users").doc(y.userId);x=await h.get(j)}if(v==="waiting"&&u==="preparing"){const j=y.orderItems.map(S=>ge.collection("products").doc(S.productId)),A=await Promise.all(j.map(S=>h.get(S)));for(let S=0;S<y.orderItems.length;S++){const P=y.orderItems[S],C=A[S];if(C.exists&&C.data().recipe)for(const R of C.data().recipe){const k=ge.collection("ingredients").doc(R.ingredientId),O=R.quantity*P.quantity;b.set(k.path,k),w.set(k.path,(w.get(k.path)||0)+O)}}}const _=await Promise.all(Array.from(b.values()).map(j=>h.get(j)));if(v==="waiting"&&u==="preparing"){const j=new Map(_.map(A=>[A.ref.path,A]));for(const[A,S]of w.entries()){const P=j.get(A);if(!P||!P.exists){const C=A.split("/").pop();throw new Error(`Ingredient '${C}' not found.`)}if(P.data().stock<S)throw new Error(`Insufficient stock for '${P.data().name}'.`)}}let T=0,I="bronze";if(u==="completed"&&v!=="completed"&&x&&x.exists){const j=x.data();let A=0;for(const k of y.orderItems)k.productName.includes("(Grande)")?A+=4*k.quantity:k.productName.includes("(Venti)")&&(A+=5*k.quantity);let S=1;const P=j.tier||"bronze";P==="silver"&&(S=1.5),P==="gold"&&(S=2),T=Math.floor(A*S);const R=(j.lifetimePoints||0)+T;I=P,I==="bronze"&&R>=PA.silver.min&&(I="silver"),I==="silver"&&R>=PA.gold.min&&(I="gold")}if(v==="waiting"&&u==="preparing")for(const[j,A]of w.entries()){const S=ge.doc(j);h.update(S,{stock:Je.firestore.FieldValue.increment(-A)})}if(u==="completed"&&v!=="completed"&&x&&x.exists){const j={id:`rh-${Date.now()}`,type:"earned",points:T,description:`Order #${y.orderNumber}`,date:new Date},A=ge.collection("users").doc(y.userId);h.update(A,{totalOrders:Je.firestore.FieldValue.increment(1),totalSpent:Je.firestore.FieldValue.increment(y.totalAmount),currentPoints:Je.firestore.FieldValue.increment(T),lifetimePoints:Je.firestore.FieldValue.increment(T),tier:I,rewardsHistory:Je.firestore.FieldValue.arrayUnion(j)})}h.update(f,{status:u})})}catch(h){console.error("Error updating order status and stock: ",h),i(h.message||"Failed to update order. Please check inventory.")}},s=g.useMemo(()=>t.filter(c=>c.status==="waiting"),[t]),o=g.useMemo(()=>t.filter(c=>c.status==="preparing"),[t]),l=g.useMemo(()=>t.filter(c=>c.status==="ready"),[t]);return n?d.jsx("div",{className:"flex h-full items-center justify-center",children:d.jsx(jt,{className:"h-12 w-12 animate-spin text-primary-600"})}):d.jsxs("div",{children:[d.jsx("h1",{className:"mb-6 font-display text-3xl font-bold text-gray-800",children:"Live Order Queue"}),t.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border-2 border-dashed bg-gray-50 p-12 text-center",children:[d.jsx(na,{className:"h-16 w-16 text-gray-400"}),d.jsx("h2",{className:"mt-4 text-xl font-semibold text-gray-700",children:"No Active Orders"}),d.jsx("p",{className:"mt-1 text-gray-500",children:"New orders will appear here in real-time."})]}):d.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[d.jsx(_T,{title:"Waiting",orders:s,onUpdateStatus:a,color:"yellow"}),d.jsx(_T,{title:"Preparing",orders:o,onUpdateStatus:a,color:"blue"}),d.jsx(_T,{title:"Ready for Pickup",orders:l,onUpdateStatus:a,color:"green"})]})]})},Q4e=({isOpen:t,onClose:e,onConfirm:n})=>d.jsxs(wl,{isOpen:t,onClose:e,title:"Confirm Logout",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-red-100",children:d.jsx(UI,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),d.jsx("h3",{className:"mt-3 text-lg font-medium text-gray-900",children:"Are you sure?"}),d.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"You will be returned to the login page."})]}),d.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[d.jsx(Oe,{variant:"ghost",onClick:e,className:"w-full",children:"Cancel"}),d.jsxs(Oe,{variant:"danger",onClick:n,className:"w-full",children:[d.jsx(lx,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]}),X4e=[{to:"/admin",text:"Dashboard",icon:bne},{to:"/admin/queue",text:"Queue Management",icon:Wte},{to:"/admin/inventory",text:"Inventory",icon:cx},{to:"/admin/products",text:"Products",icon:na},{to:"/admin/feedback",text:"Feedback",icon:qh},{to:"/admin/analytics",text:"Analytics",icon:kI},{to:"/admin/settings",text:"Settings",icon:x9}],Z4e=()=>{const{logout:t}=Hr(),e=Hi(),[n,r]=g.useState(!1),i=()=>{r(!0)},a=async()=>{try{await t(),e("/auth/login")}catch(s){console.error("Failed to log out:",s)}finally{r(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-100",children:[d.jsxs("aside",{className:"hidden w-64 flex-shrink-0 bg-gray-800 p-4 text-white md:flex md:flex-col",children:[d.jsxs("div",{className:"mb-8 flex items-center gap-2 px-2",children:[d.jsx(vn,{className:"h-8 w-8 text-primary-400"}),d.jsx("span",{className:"text-xl font-bold text-white",children:"Admin Panel"})]}),d.jsx("nav",{className:"flex-grow",children:d.jsx("ul",{children:X4e.map(({to:s,text:o,icon:l})=>d.jsx("li",{className:"mb-1",children:d.jsxs(Ei,{to:s,end:s==="/admin",className:({isActive:c})=>`flex items-center gap-3 rounded-md px-3 py-2 transition-colors ${c?"bg-primary-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[d.jsx(l,{className:"h-5 w-5"}),d.jsx("span",{children:o})]})},s))})}),d.jsx("div",{className:"mt-4 border-t border-gray-700 pt-4",children:d.jsxs("button",{onClick:i,className:"flex w-full items-center gap-3 rounded-md px-3 py-2 text-left text-gray-300 transition-colors hover:bg-red-500/80 hover:text-white",children:[d.jsx(lx,{className:"h-5 w-5"}),d.jsx("span",{children:"Logout"})]})}),d.jsx("div",{className:"mt-4 text-center text-xs text-gray-400",children:d.jsxs("p",{children:[" ",new Date().getFullYear()," Rush Coffee"]})})]}),d.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[d.jsx("header",{className:"border-b bg-white shadow-sm",children:d.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[d.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Dashboard"}),d.jsx("div",{})]})}),d.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:d.jsx(a9,{})})]}),d.jsx(Q4e,{isOpen:n,onClose:()=>r(!1),onConfirm:a})]})},J4e=({ingredient:t,onClose:e,onUpdate:n})=>{const[r,i]=g.useState("add"),[a,s]=g.useState(""),o=l=>{l.preventDefault(),typeof a=="number"&&a>=0&&n(t.id,a,r)};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:e,children:d.jsxs("div",{className:"w-full max-w-md rounded-lg bg-white p-6 shadow-xl",onClick:l=>l.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("h2",{className:"font-display text-xl font-bold text-gray-800",children:["Update Stock: ",t.name]}),d.jsx("button",{onClick:e,className:"rounded-full p-1 text-gray-500 hover:bg-gray-100",children:d.jsx(Nl,{})})]}),d.jsx("div",{className:"mt-4 text-sm",children:d.jsxs("p",{children:["Current Stock: ",d.jsxs("span",{className:"font-bold",children:[t.stock.toLocaleString()," ",t.unit]})]})}),d.jsxs("form",{onSubmit:o,className:"mt-6",children:[d.jsxs("div",{className:"flex gap-2 rounded-full bg-gray-100 p-1",children:[d.jsx("button",{type:"button",onClick:()=>i("add"),className:`w-full rounded-full py-2 text-sm font-semibold transition-colors ${r==="add"?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:"Add Stock"}),d.jsx("button",{type:"button",onClick:()=>i("set"),className:`w-full rounded-full py-2 text-sm font-semibold transition-colors ${r==="set"?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:"Set New Total"})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:r==="add"?`Amount to Add (${t.unit})`:`New Total Stock (${t.unit})`}),d.jsx("input",{type:"number",id:"amount",value:a,onChange:l=>s(l.target.value===""?"":Number(l.target.value)),min:"0",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0,autoFocus:!0})]}),d.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:e,className:"rounded-full bg-gray-200 px-4 py-2 text-sm font-semibold text-gray-800 hover:bg-gray-300",children:"Cancel"}),d.jsxs("button",{type:"submit",className:"flex items-center gap-2 rounded-full bg-primary-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-700 disabled:bg-primary-400",disabled:a===""||a<0,children:[d.jsx(zg,{className:"h-4 w-4"}),"Update Stock"]})]})]})]})})},e6e=({isOpen:t,onClose:e,onAdd:n})=>{const[r,i]=g.useState({name:"",stock:0,unit:"g",lowStockThreshold:10}),[a,s]=g.useState(!1),o=c=>{const{name:u,value:h,type:f}=c.target;i(m=>({...m,[u]:f==="number"?Math.max(0,Number(h)):h}))},l=async c=>{if(c.preventDefault(),!!r.name.trim()){s(!0);try{await n(r)}catch(u){console.error("Failed to add ingredient",u)}finally{s(!1)}}};return d.jsx(wl,{isOpen:t,onClose:e,title:"Add New Ingredient",children:d.jsxs("form",{onSubmit:l,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Ingredient Name"}),d.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0,autoFocus:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-700",children:"Initial Stock"}),d.jsx("input",{type:"number",id:"stock",name:"stock",value:r.stock,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0,min:"0"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700",children:"Unit"}),d.jsxs("select",{id:"unit",name:"unit",value:r.unit,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[d.jsx("option",{value:"g",children:"Grams (g)"}),d.jsx("option",{value:"ml",children:"Milliliters (ml)"}),d.jsx("option",{value:"pcs",children:"Pieces (pcs)"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"lowStockThreshold",className:"block text-sm font-medium text-gray-700",children:"Low Stock Threshold"}),d.jsx("input",{type:"number",id:"lowStockThreshold",name:"lowStockThreshold",value:r.lowStockThreshold,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0,min:"0"})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[d.jsx(Oe,{type:"button",variant:"ghost",onClick:e,children:"Cancel"}),d.jsxs(Oe,{type:"submit",disabled:a,children:[a?d.jsx(jt,{className:"mr-2 h-4 w-4 animate-spin"}):d.jsx(zg,{className:"mr-2 h-4 w-4"}),"Save Ingredient"]})]})]})})},t6e=[{name:"Espresso Shot",stock:1e3,unit:"pcs",lowStockThreshold:100},{name:"Milk",stock:2e4,unit:"ml",lowStockThreshold:2e3},{name:"Condensed Milk",stock:5e3,unit:"ml",lowStockThreshold:500},{name:"Coffee Beans (Blend)",stock:1e4,unit:"g",lowStockThreshold:1e3},{name:"Hot Water",stock:99999,unit:"ml",lowStockThreshold:1e4},{name:"Chocolate Sauce",stock:3e3,unit:"ml",lowStockThreshold:300},{name:"Caramel Sauce",stock:3e3,unit:"ml",lowStockThreshold:300},{name:"Matcha Powder",stock:2e3,unit:"g",lowStockThreshold:200}],n6e=()=>{const[t,e]=g.useState([]),[n,r]=g.useState(!0),[i,a]=g.useState(!1),[s,o]=g.useState(!1),[l,c]=g.useState(null),{showToast:u}=pr();g.useEffect(()=>{const w=async()=>{const T=ge.collection("ingredients");if((await T.get()).empty){console.log("Seeding ingredients with specific IDs...");const S=ge.batch();t6e.forEach(P=>{const{id:C,...R}=P,k=T.doc(C);S.set(k,R)}),await S.commit()}return ge.collection("ingredients").orderBy("name","asc").onSnapshot(S=>{const P=[];S.forEach(C=>{P.push({id:C.id,...C.data()})}),e(P),r(!1)},S=>{console.error("Error fetching inventory: ",S),r(!1)})};let _;return w().then(T=>{T&&(_=T)}),()=>{_&&_()}},[]);const h=w=>{c(w),a(!0)},f=()=>{a(!1),c(null)},m=()=>{o(!0)},y=()=>{o(!1)},v=async w=>{try{await ge.collection("ingredients").add(w),u(`Ingredient "${w.name}" added successfully.`),y()}catch(_){throw console.error("Error adding ingredient: ",_),u("Failed to add ingredient."),_}},x=async(w,_,T)=>{const I=ge.collection("ingredients").doc(w);try{T==="add"?await I.update({stock:Je.firestore.FieldValue.increment(_)}):await I.update({stock:_}),f()}catch(j){console.error("Error updating stock: ",j)}},b=w=>w.stock<=0?{text:"Out of Stock",color:"text-red-600",Icon:qte}:w.stock<=w.lowStockThreshold?{text:"Low Stock",color:"text-yellow-600",Icon:UI}:{text:"In Stock",color:"text-green-600",Icon:DI};return n?d.jsx("div",{className:"flex h-full items-center justify-center",children:d.jsx(jt,{className:"h-12 w-12 animate-spin text-primary-600"})}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h1",{className:"font-display text-3xl font-bold text-gray-800",children:"Inventory Management"}),d.jsxs("button",{onClick:m,className:"flex items-center gap-2 rounded-full bg-primary-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-700",children:[d.jsx(Ug,{className:"h-4 w-4"}),"Add Ingredient"]})]}),d.jsx("div",{className:"overflow-x-auto rounded-lg border bg-white shadow-sm",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Ingredient"}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Current Stock"}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),d.jsx("th",{scope:"col",className:"relative px-6 py-3",children:d.jsx("span",{className:"sr-only",children:"Edit"})})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:t.map(w=>{const _=b(w);return d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:d.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.name})}),d.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:d.jsxs("div",{className:"text-sm text-gray-900",children:[w.stock.toLocaleString()," ",d.jsx("span",{className:"text-gray-500",children:w.unit})]})}),d.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:d.jsxs("div",{className:`inline-flex items-center gap-1 text-sm font-semibold ${_.color}`,children:[d.jsx(_.Icon,{className:"h-4 w-4"}),_.text]})}),d.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium",children:d.jsx("button",{onClick:()=>h(w),className:"text-primary-600 hover:text-primary-800",children:"Update Stock"})})]},w.id)})})]})}),i&&l&&d.jsx(J4e,{ingredient:l,onClose:f,onUpdate:x}),d.jsx(e6e,{isOpen:s,onClose:y,onAdd:v})]})},K3={name:"",description:"",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:0},{name:"Venti",size:"22oz",price:0}],imageUrl:"",available:!0,stock:0,popular:!1,new:!1,displayOrder:99,recipe:[]},r6e=({isOpen:t,onClose:e,productToEdit:n})=>{var S,P;const[r,i]=g.useState(K3),[a,s]=g.useState([]),[o,l]=g.useState(!1),{addProduct:c,updateProduct:u}=af(),{showToast:h}=pr(),[f,m]=g.useState(null),[y,v]=g.useState(null),x=g.useRef(null);g.useEffect(()=>{t&&(async()=>{const k=(await ge.collection("ingredients").get()).docs.map(O=>({id:O.id,...O.data()}));s(k)})()},[t]),g.useEffect(()=>{n?(i(n),v(n.imageUrl)):(i(K3),v(null)),m(null)},[n,t]);const b=C=>{if(C.target.files&&C.target.files[0]){const R=C.target.files[0];if(R.size>2*1024*1024){h("Image file should be less than 2MB.");return}m(R);const k=URL.createObjectURL(R);v(k)}},w=C=>{const{name:R,value:k,type:O}=C.target,B=C.target.checked;i(J=>({...J,[R]:O==="checkbox"?B:k}))},_=(C,R)=>{i(k=>({...k,sizes:k.sizes.map(O=>O.name===C?{...O,price:R}:O)}))},T=(C,R,k)=>{const O=[...r.recipe||[]];O[C][R]=k,i(B=>({...B,recipe:O}))},I=()=>{const C=[...r.recipe||[],{ingredientId:"",quantity:0}];i(R=>({...R,recipe:C}))},j=C=>{const R=[...r.recipe||[]];R.splice(C,1),i(k=>({...k,recipe:R}))},A=async C=>{C.preventDefault(),l(!0);let R=r.imageUrl;if(f)try{R=await(await rpe.ref(`product_images/${Date.now()}-${f.name}`).put(f)).ref.getDownloadURL()}catch(O){console.error("Error uploading image:",O),h("Failed to upload image. Please try again."),l(!1);return}const k={...r,imageUrl:R};try{if(n){const{id:O,...B}={...k,id:n.id};await u(O,B),h("Product updated successfully!")}else await c(k),h("Product added successfully!");e()}catch(O){console.error(O),h("An error occurred. Please try again.")}finally{l(!1)}};return d.jsx(wl,{isOpen:t,onClose:e,title:n?"Edit Product":"Add New Product",size:"lg",children:d.jsxs("form",{onSubmit:A,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),d.jsx("input",{type:"text",name:"name",id:"name",value:r.name,onChange:w,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),d.jsxs("select",{name:"category",id:"category",value:r.category,onChange:w,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",children:[d.jsx("option",{children:"Coffee Based"}),d.jsx("option",{children:"Non-Coffee Based"}),d.jsx("option",{children:"Matcha Series"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),d.jsx("textarea",{name:"description",id:"description",value:r.description,onChange:w,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Image"}),d.jsxs("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md cursor-pointer hover:border-primary-500 bg-gray-50",onClick:()=>{var C;return(C=x.current)==null?void 0:C.click()},children:[d.jsx("input",{ref:x,id:"file-upload",name:"file-upload",type:"file",className:"sr-only",accept:"image/png, image/jpeg",onChange:b}),y?d.jsx("img",{src:y,alt:"Product preview",className:"max-h-40 rounded-lg object-contain"}):d.jsxs("div",{className:"space-y-1 text-center",children:[d.jsx(fne,{className:"mx-auto h-12 w-12 text-gray-400"}),d.jsxs("p",{className:"text-sm text-gray-600",children:[d.jsx("span",{className:"font-medium text-primary-600",children:"Click to upload"})," or drag and drop"]}),d.jsx("p",{className:"text-xs text-gray-500",children:"PNG or JPG up to 2MB"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Grande Price ()"}),d.jsx("input",{type:"number",value:(S=r.sizes.find(C=>C.name==="Grande"))==null?void 0:S.price,onChange:C=>_("Grande",+C.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Venti Price ()"}),d.jsx("input",{type:"number",value:(P=r.sizes.find(C=>C.name==="Venti"))==null?void 0:P.price,onChange:C=>_("Venti",+C.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-700",children:"Stock"}),d.jsx("input",{type:"number",name:"stock",id:"stock",value:r.stock,onChange:C=>i(R=>({...R,stock:+C.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"displayOrder",className:"block text-sm font-medium text-gray-700",children:"Display Order"}),d.jsx("input",{type:"number",name:"displayOrder",id:"displayOrder",value:r.displayOrder,onChange:C=>i(R=>({...R,displayOrder:+C.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]})]}),d.jsxs("div",{className:"flex items-center space-x-6",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",name:"available",checked:r.available,onChange:w,className:"h-4 w-4 rounded"}),d.jsx("label",{className:"ml-2 text-sm",children:"Available"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",name:"popular",checked:r.popular,onChange:w,className:"h-4 w-4 rounded"}),d.jsx("label",{className:"ml-2 text-sm",children:"Popular"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",name:"new",checked:r.new,onChange:w,className:"h-4 w-4 rounded"}),d.jsx("label",{className:"ml-2 text-sm",children:"New"})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-md font-medium text-gray-800",children:"Recipe"}),d.jsxs("div",{className:"mt-2 space-y-2 rounded-md border bg-gray-50 p-3",children:[(r.recipe||[]).map((C,R)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("select",{value:C.ingredientId,onChange:k=>T(R,"ingredientId",k.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm",children:[d.jsx("option",{value:"",disabled:!0,children:"Select Ingredient"}),a.map(k=>d.jsx("option",{value:k.id,children:k.name},k.id))]}),d.jsx("input",{type:"number",value:C.quantity,onChange:k=>T(R,"quantity",+k.target.value),className:"block w-32 rounded-md border-gray-300 shadow-sm",placeholder:"Qty"}),d.jsx(Oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>j(R),className:"px-2",children:d.jsx(hw,{className:"h-4 w-4 text-red-500"})})]},R)),d.jsxs(Oe,{type:"button",variant:"secondary",size:"sm",onClick:I,children:[d.jsx(Ug,{className:"mr-1 h-4 w-4"}),"Add Ingredient"]})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx(Oe,{type:"button",variant:"ghost",onClick:e,children:"Cancel"}),d.jsxs(Oe,{type:"submit",disabled:o,children:[o?d.jsx(jt,{className:"mr-2 h-4 w-4 animate-spin"}):d.jsx(zg,{className:"mr-2 h-4 w-4"}),n?"Save Changes":"Add Product"]})]})]})})},i6e=()=>{const{products:t,isLoading:e,error:n,deleteProduct:r}=af(),[i,a]=g.useState(!1),[s,o]=g.useState(null),{showToast:l}=pr(),c=(f=null)=>{o(f),a(!0)},u=()=>{a(!1),o(null)},h=async(f,m)=>{if(window.confirm(`Are you sure you want to delete "${m}"? This action cannot be undone.`))try{await r(f),l(`"${m}" has been deleted.`)}catch{l(`Failed to delete "${m}".`)}};return e?d.jsx("div",{className:"flex h-full items-center justify-center",children:d.jsx(jt,{className:"h-12 w-12 animate-spin text-primary-600"})}):n?d.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-red-200 bg-red-50 py-20 text-center text-red-700",children:[d.jsx(Ws,{className:"h-16 w-16"}),d.jsx("h3",{className:"mt-4 text-xl font-semibold",children:"Oops! Something went wrong."}),d.jsx("p",{className:"mt-2",children:n})]}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h1",{className:"font-display text-3xl font-bold text-gray-800",children:"Product Management"}),d.jsxs("button",{onClick:()=>c(),className:"flex items-center gap-2 rounded-full bg-primary-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-700",children:[d.jsx(Ug,{className:"h-4 w-4"}),"Add New Product"]})]}),d.jsx("div",{className:"overflow-x-auto rounded-lg border bg-white shadow-sm",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Product"}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Category"}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Price (G/V)"}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Stock"}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),d.jsx("th",{scope:"col",className:"relative px-6 py-3",children:d.jsx("span",{className:"sr-only",children:"Actions"})})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:t.map(f=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:d.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:f.imageUrl,alt:f.name})}),d.jsx("div",{className:"ml-4",children:d.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.name})})]})}),d.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:f.category}),d.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:["",f.sizes[0].price.toFixed(2)," / ",f.sizes[1].price.toFixed(2)]}),d.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:f.stock}),d.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:f.available?d.jsx("span",{className:"inline-flex rounded-full bg-green-100 px-2 text-xs font-semibold leading-5 text-green-800",children:"Available"}):d.jsx("span",{className:"inline-flex rounded-full bg-red-100 px-2 text-xs font-semibold leading-5 text-red-800",children:"Unavailable"})}),d.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium",children:[d.jsx("button",{onClick:()=>c(f),className:"p-1 text-primary-600 hover:text-primary-800",children:d.jsx(b9,{className:"h-4 w-4"})}),d.jsx("button",{onClick:()=>h(f.id,f.name),className:"ml-2 p-1 text-red-600 hover:text-red-800",children:d.jsx(hw,{className:"h-4 w-4"})})]})]},f.id))})]})}),d.jsx(r6e,{isOpen:i,onClose:u,productToEdit:s})]})},a6e=({data:t,isLoading:e})=>{if(e)return d.jsx("div",{className:"flex h-64 items-center justify-center bg-gray-100 rounded-lg animate-pulse",children:d.jsx(kI,{className:"h-10 w-10 text-gray-400"})});if(t.length===0)return d.jsx("div",{className:"flex h-64 items-center justify-center bg-gray-50 rounded-lg",children:d.jsx("p",{className:"text-gray-500",children:"No sales data for this period."})});const n=Math.max(...t.map(r=>r.value),1);return d.jsx("div",{className:"h-64 flex items-end justify-around gap-2 pt-4",children:t.map((r,i)=>d.jsxs("div",{className:"flex h-full flex-col items-center justify-end flex-1 group",children:[d.jsx("div",{className:"w-full bg-primary-200 rounded-t-md hover:bg-primary-400 transition-all duration-300",style:{height:`${r.value/n*100}%`},children:d.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gray-800 text-white text-xs rounded-md py-1 px-2 absolute -top-8 left-1/2 -translate-x-1/2",children:["",r.value.toFixed(2)]})}),d.jsx("div",{className:"mt-2 text-xs text-gray-500 text-center",children:r.label})]},i))})},s6e=()=>{const[t,e]=g.useState({totalRevenue:0,totalOrders:0,avgOrderValue:0,newCustomers:0}),[n,r]=g.useState([]),[i,a]=g.useState([]),[s,o]=g.useState("7d"),[l,c]=g.useState(!0);return g.useEffect(()=>{(async()=>{c(!0);const h=new Date;let f;switch(s){case"7d":f=Kx($6(h,6));break;case"30d":f=Kx($6(h,29));break;case"all":default:f=new Date(2020,0,1);break}const m=ge.collection("orders").where("timestamp",">=",f),y=ge.collection("users").where("createdAt",">=",f),[v,x]=await Promise.all([m.get(),y.get()]),w=v.docs.map(P=>({...P.data(),timestamp:P.data().timestamp.toDate()})).filter(P=>P.status==="completed"),_=w.reduce((P,C)=>P+C.totalAmount,0),T=w.length,I=T>0?_/T:0,j=x.size;if(e({totalRevenue:_,totalOrders:T,avgOrderValue:I,newCustomers:j}),s!=="all"){const C=pxe({start:f,end:Uq(h)}).reduce((k,O)=>(k[Oc(O,"yyyy-MM-dd")]=0,k),{});w.forEach(k=>{const O=Oc(k.timestamp,"yyyy-MM-dd");C[O]!==void 0&&(C[O]+=k.totalAmount)});const R=Object.entries(C).map(([k,O])=>({label:Oc(new Date(k),"d MMM"),value:O}));r(R)}else r([]);const A=new Map;w.forEach(P=>{P.orderItems.forEach(C=>{const R=A.get(C.productName)||{quantity:0,revenue:0};A.set(C.productName,{quantity:R.quantity+C.quantity,revenue:R.revenue+C.price*C.quantity})})});const S=Array.from(A.entries()).map(([P,C])=>({name:P,...C})).sort((P,C)=>C.quantity-P.quantity).slice(0,5);a(S),c(!1)})().catch(console.error)},[s]),d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[d.jsx("h1",{className:"font-display text-3xl font-bold text-gray-800",children:"Analytics & Reports"}),d.jsx("div",{className:"flex mt-4 md:mt-0 gap-2 rounded-full bg-gray-200 p-1",children:["7d","30d","all"].map(u=>d.jsx("button",{onClick:()=>o(u),className:`rounded-full px-4 py-1.5 text-sm font-semibold capitalize transition-colors ${s===u?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:u==="7d"?"Last 7 Days":u==="30d"?"Last 30 Days":"All Time"},u))})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[d.jsx(Fo,{title:"Total Revenue",value:`${t.totalRevenue.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,Icon:f9,isLoading:l,color:"blue"}),d.jsx(Fo,{title:"Total Orders",value:t.totalOrders.toLocaleString(),Icon:dw,isLoading:l,color:"green"}),d.jsx(Fo,{title:"Avg. Order Value",value:`${t.avgOrderValue.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,Icon:Hm,isLoading:l,color:"purple"}),d.jsx(Fo,{title:"New Customers",value:t.newCustomers.toLocaleString(),Icon:Cp,isLoading:l,color:"yellow"})]}),d.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-6 lg:grid-cols-5",children:[d.jsxs(fe,{className:"lg:col-span-3",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Sales Overview"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Revenue from completed orders per day."}),d.jsx(a6e,{data:n,isLoading:l})]}),d.jsxs(fe,{className:"lg:col-span-2",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Top Selling Products"}),d.jsx("p",{className:"text-sm text-gray-500",children:"By units sold in the selected period."}),d.jsx("div",{className:"mt-4 space-y-3",children:l?Array.from({length:5}).map((u,h)=>d.jsxs("div",{className:"flex items-center justify-between animate-pulse",children:[d.jsx("div",{className:"h-5 w-3/5 rounded-md bg-gray-200"}),d.jsx("div",{className:"h-5 w-1/5 rounded-md bg-gray-200"})]},h)):i.length>0?i.map((u,h)=>d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:`font-bold ${h<3?"text-primary-700":"text-gray-500"}`,children:[h+1,"."]}),d.jsx("p",{className:"font-medium text-gray-800 truncate",children:u.name})]}),d.jsxs(Dn,{className:"bg-primary-100 text-primary-800",children:[u.quantity," sold"]})]},u.name)):d.jsx("div",{className:"flex h-48 items-center justify-center",children:d.jsx("p",{className:"text-gray-500",children:"No product data for this period."})})})]})]})]})},o6e={pending:"bg-yellow-100 text-yellow-800",reviewed:"bg-blue-100 text-blue-800",resolved:"bg-green-100 text-green-800"},l6e=({feedback:t,onRespond:e})=>{const n=t.user?`${t.user.firstName} ${t.user.lastName}`:`User ${t.userId.substring(0,6)}`;return d.jsxs("div",{className:"flex flex-col rounded-lg border bg-white p-4 shadow-sm transition-shadow hover:shadow-md",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-gray-800",children:n}),d.jsx("p",{className:"text-xs text-gray-500",children:t.createdAt?l_(t.createdAt,{addSuffix:!0}):"Just now"})]}),d.jsx(Dn,{className:`capitalize ${o6e[t.status]}`,children:t.status})]}),d.jsx("div",{className:"my-3 flex justify-start",children:d.jsx(Yx,{rating:t.rating,readonly:!0,size:"sm"})}),d.jsxs("p",{className:"flex-grow text-sm text-gray-600 line-clamp-3",children:['"',t.comment,'"']}),d.jsx("div",{className:"mt-4 border-t pt-3",children:d.jsx("button",{onClick:e,className:"w-full rounded-full bg-primary-100 px-4 py-2 text-sm font-semibold text-primary-700 transition-colors hover:bg-primary-200",children:"View & Respond"})})]})},c6e=({isOpen:t,onClose:e,feedback:n})=>{const[r,i]=g.useState(n.response||""),[a,s]=g.useState(n.status),[o,l]=g.useState(!1);g.useEffect(()=>{t&&(i(n.response||""),s(n.status))},[t,n]);const c=async h=>{h.preventDefault(),l(!0);try{await ge.collection("feedback").doc(n.id).update({response:r,status:a,updatedAt:Je.firestore.FieldValue.serverTimestamp()}),e()}catch(f){console.error("Error updating feedback: ",f)}finally{l(!1)}},u=n.user?`${n.user.firstName} ${n.user.lastName}`:`User ID: ${n.userId}`;return d.jsx(wl,{isOpen:t,onClose:e,title:`Feedback from ${u}`,children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-gray-500",children:"Rating"}),d.jsx(Yx,{rating:n.rating,readonly:!0})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-gray-500",children:"Comment"}),d.jsx("p",{className:"mt-1 max-h-40 overflow-y-auto rounded-md bg-gray-50 p-3 text-gray-700 whitespace-pre-wrap",children:n.comment})]}),d.jsxs("form",{onSubmit:c,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"response",className:"block text-sm font-medium text-gray-700",children:"Your Response"}),d.jsx("textarea",{id:"response",value:r,onChange:h=>i(h.target.value),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Write a response to the customer..."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Update Status"}),d.jsx("div",{className:"mt-2 flex gap-2 rounded-full bg-gray-100 p-1",children:["pending","reviewed","resolved"].map(h=>d.jsx("button",{type:"button",onClick:()=>s(h),className:`w-full rounded-full py-1.5 text-sm font-semibold capitalize transition-colors ${a===h?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:h},h))})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[d.jsx(Oe,{type:"button",variant:"ghost",onClick:e,children:"Cancel"}),d.jsxs(Oe,{type:"submit",disabled:o,children:[o?d.jsx(jt,{className:"mr-2 h-4 w-4 animate-spin"}):d.jsx(LI,{className:"mr-2 h-4 w-4"}),"Save Response"]})]})]})]})})},u6e=()=>{const[t,e]=g.useState([]),[n,r]=g.useState(!0),[i,a]=g.useState("pending"),[s,o]=g.useState(!1),[l,c]=g.useState(null);g.useEffect(()=>{const m=new Map,y=async()=>{if(m.size>0)return m;const b=Dx(ge,"users");return(await N$(b)).forEach(_=>{const T=_.data();m.set(_.id,{firstName:T.firstName,lastName:T.lastName,email:T.email})}),m},v=ns(Dx(ge,"feedback"),w$("createdAt","desc")),x=T2(v,async b=>{const w=await y(),_=[];b.forEach(T=>{var j,A;const I=T.data();_.push({id:T.id,...I,createdAt:(j=I.createdAt)==null?void 0:j.toDate(),updatedAt:(A=I.updatedAt)==null?void 0:A.toDate(),user:w.get(I.userId)})}),e(_),r(!1)},b=>{console.error("Error fetching feedback: ",b),r(!1)});return()=>x()},[]);const u=g.useMemo(()=>i==="all"?t:t.filter(m=>m.status===i),[i,t]),h=m=>{c(m),o(!0)},f=()=>{o(!1),c(null)};return n?d.jsx("div",{className:"flex h-full items-center justify-center",children:d.jsx(jt,{className:"h-12 w-12 animate-spin text-primary-600"})}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[d.jsx("h1",{className:"font-display text-3xl font-bold text-gray-800",children:"Customer Feedback"}),d.jsx("div",{className:"flex mt-4 md:mt-0 gap-2 rounded-full bg-gray-200 p-1",children:["pending","reviewed","resolved","all"].map(m=>d.jsx("button",{onClick:()=>a(m),className:`rounded-full px-3 py-1.5 text-sm font-semibold capitalize transition-colors ${i===m?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:m},m))})]}),u.length>0?d.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:u.map(m=>d.jsx(l6e,{feedback:m,onRespond:()=>h(m)},m.id))}):d.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border-2 border-dashed bg-gray-50 p-12 text-center",children:[d.jsx(qh,{className:"h-16 w-16 text-gray-400"}),d.jsx("h2",{className:"mt-4 text-xl font-semibold text-gray-700",children:"No Feedback Here"}),d.jsxs("p",{className:"mt-1 text-gray-500",children:['No feedback matching the "',i,'" filter.']})]}),l&&d.jsx(c6e,{isOpen:s,onClose:f,feedback:l})]})},d6e=({enabled:t,onChange:e,label:n,description:r,Icon:i})=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[i&&d.jsx(i,{className:"h-5 w-5 text-gray-500"}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-gray-800",children:n}),r&&d.jsx("p",{className:"text-sm text-gray-500",children:r})]})]}),d.jsx("button",{type:"button",className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${t?"bg-primary-600":"bg-gray-200"}`,role:"switch","aria-checked":t,onClick:()=>e(!t),children:d.jsx("span",{"aria-hidden":"true",className:`inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${t?"translate-x-5":"translate-x-0"}`})})]}),qv={shopName:"Rush Coffee",address:"123 Coffee Street, Malate, Manila",phone:"+63 917 123 4567",email:"hello@rushcoffee.ph",operatingHours:"Mon-Sun: 7:00 AM - 10:00 PM",announcement:{enabled:!1,message:"Welcome to Rush Coffee! Enjoy our new Matcha series."}},h6e=()=>{const[t,e]=g.useState(qv),[n,r]=g.useState(!0),[i,a]=g.useState(!1),[s,o]=g.useState(null),{showToast:l}=pr();g.useEffect(()=>{(async()=>{const m=ge.collection("settings").doc("shopConfig");try{const y=await m.get();y.exists?e({...qv,...y.data()}):e(qv)}catch(y){if(console.error("Error fetching settings:",y),y.code==="permission-denied"){const x=d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"font-bold",children:"Permission Denied: Cannot access Shop Settings."}),d.jsx("p",{className:"mt-1",children:"This is a Firestore security rule issue. Please update your rules in the Firebase Console to allow admins to manage settings."}),d.jsxs("p",{className:"mt-2",children:["Ensure you have a rule like this in your ",d.jsx("code",{className:"bg-red-200 text-red-900 px-1 rounded",children:"firestore.rules"})," file:"]}),d.jsx("pre",{className:"mt-2 text-xs bg-red-200 text-red-900 p-2 rounded-md overflow-x-auto",children:d.jsx("code",{children:`
service cloud.firestore {
  match /databases/{database}/documents {
    // ... your other rules ...

    // ADD OR UPDATE THIS RULE:
    match /settings/{docId} {
      allow read: if true;
      allow write: if get(/databases/$(database)/documents/users/$(request.auth.uid)).data.role == 'admin';
    }
  }
}`.trim()})})]});o(x)}else o("An error occurred while loading shop settings. Please check the console for details.");e(qv)}finally{r(!1)}})()},[]);const c=f=>{const{name:m,value:y}=f.target;e(v=>({...v,[m]:y}))},u=(f,m)=>{e(y=>({...y,announcement:{...y.announcement,[f]:m}}))},h=async f=>{f.preventDefault(),a(!0);try{await ge.collection("settings").doc("shopConfig").set(t,{merge:!0}),l("Settings saved successfully!"),s&&o(null)}catch(m){console.error("Error saving settings:",m),m.code==="permission-denied"?o("Save Failed: Your account does not have permission to write to shop settings. Please check your Firestore security rules. Changes were not saved."):o("Failed to save settings. An error occurred.")}finally{a(!1)}};return n?d.jsx("div",{className:"flex h-full items-center justify-center",children:d.jsx(jt,{className:"h-12 w-12 animate-spin text-primary-600"})}):d.jsxs("div",{children:[d.jsx("h1",{className:"mb-6 font-display text-3xl font-bold text-gray-800",children:"Shop Settings"}),s&&d.jsxs("div",{className:"mb-6 flex items-start gap-3 rounded-lg bg-red-50 p-4 text-sm text-red-700",children:[d.jsx(Ws,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),d.jsx("div",{children:s})]}),d.jsxs("form",{onSubmit:h,className:"mx-auto max-w-4xl space-y-6",children:[d.jsxs("fieldset",{disabled:!!s,className:"space-y-6 disabled:opacity-50",children:[d.jsxs(fe,{children:[d.jsxs("h2",{className:"mb-4 flex items-center gap-2 text-xl font-bold text-gray-800",children:[d.jsx(nre,{className:"h-5 w-5 text-primary-600"}),"Shop Information"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(kn,{label:"Shop Name",name:"shopName",id:"shopName",value:t.shopName,onChange:c,placeholder:"Enter shop name"}),d.jsx(kn,{label:"Address",name:"address",id:"address",value:t.address,onChange:c,placeholder:"Enter shop address"}),d.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[d.jsx(kn,{label:"Contact Phone",name:"phone",id:"phone",type:"tel",value:t.phone,onChange:c,placeholder:"Enter contact phone"}),d.jsx(kn,{label:"Contact Email",name:"email",id:"email",type:"email",value:t.email,onChange:c,placeholder:"Enter contact email"})]})]})]}),d.jsxs(fe,{children:[d.jsxs("h2",{className:"mb-4 flex items-center gap-2 text-xl font-bold text-gray-800",children:[d.jsx(vu,{className:"h-5 w-5 text-primary-600"}),"Operating Hours"]}),d.jsx("div",{children:d.jsx(pC,{label:"Display Text",name:"operatingHours",id:"operatingHours",value:t.operatingHours,onChange:c,rows:3,placeholder:`e.g., Mon-Fri: 7am - 8pm
Sat-Sun: 8am - 6pm`,helperText:"This text will be displayed in the footer and contact page."})})]}),d.jsxs(fe,{children:[d.jsxs("h2",{className:"mb-4 flex items-center gap-2 text-xl font-bold text-gray-800",children:[d.jsx(Jk,{className:"h-5 w-5 text-primary-600"}),"System-wide Announcement"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(d6e,{Icon:Jk,label:"Enable Announcement Banner",description:"Show a banner at the top of the site.",enabled:t.announcement.enabled,onChange:f=>u("enabled",f)}),d.jsx("div",{children:d.jsx(kn,{label:"Announcement Message",name:"announcementMessage",id:"announcementMessage",value:t.announcement.message,onChange:f=>u("message",f.target.value),placeholder:"Enter announcement message"})})]})]})]}),d.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-end gap-3",children:d.jsxs(Oe,{type:"submit",disabled:i||!!s,size:"lg",className:"w-full sm:w-auto",children:[i?d.jsx(jt,{className:"mr-2 h-5 w-5 animate-spin"}):d.jsx(zg,{className:"mr-2 h-5 w-5"}),"Save Settings"]})})]})]})},f6e=()=>d.jsxs("div",{className:"bg-white",children:[d.jsx(un,{}),d.jsxs("main",{children:[d.jsxs("section",{className:"bg-gradient-to-br from-primary-50 to-coffee-50 px-6 py-20 text-center",children:[d.jsx("h1",{className:"font-display text-5xl font-bold text-coffee-900 md:text-6xl",children:"Terms of Service"}),d.jsxs("p",{className:"mt-4 text-xl text-gray-700",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),d.jsx("section",{className:"px-6 py-16",children:d.jsxs("div",{className:"prose prose-lg mx-auto max-w-4xl text-gray-700 prose-headings:font-display prose-headings:text-coffee-900 prose-a:text-primary-600 hover:prose-a:text-primary-700",children:[d.jsx("h2",{children:"1. Introduction"}),d.jsx("p",{children:'Welcome to Rush Coffee ("we," "our," or "us"). These Terms of Service govern your use of our website, mobile application, and services (collectively, the "Services"). By accessing or using our Services, you agree to be bound by these terms.'}),d.jsx("h2",{children:"2. User Accounts"}),d.jsx("p",{children:"To use certain features of our Services, you must register for an account. You agree to provide accurate, current, and complete information during the registration process and to update such information to keep it accurate, current, and complete. You are responsible for safeguarding your password and for all activities that occur under your account."}),d.jsx("h2",{children:"3. Orders and Payments"}),d.jsx("p",{children:"When you place an order through our Services, you are making an offer to purchase the products you have selected. All orders are subject to our acceptance. We reserve the right to refuse or cancel any order for any reason, including limitations on quantities available for purchase, inaccuracies, or errors in product or pricing information."}),d.jsx("p",{children:'Payment for all orders must be made at the time of placing the order, unless you select "Cash on Pickup." We accept payment through GCash and other methods as may be made available from time to time.'}),d.jsx("h2",{children:"4. Rewards Program"}),d.jsx("p",{children:"Our rewards program allows you to earn points for purchases and redeem them for rewards. Points are non-transferable and have no cash value. We reserve the right to modify, suspend, or terminate the rewards program at any time without notice."}),d.jsx("h2",{children:"5. Limitation of Liability"}),d.jsx("p",{children:"To the fullest extent permitted by applicable law, Rush Coffee shall not be liable for any indirect, incidental, special, consequential, or punitive damages, or any loss of profits or revenues, whether incurred directly or indirectly, or any loss of data, use, goodwill, or other intangible losses, resulting from (a) your access to or use of or inability to access or use the services; (b) any conduct or content of any third party on the services; or (c) unauthorized access, use, or alteration of your transmissions or content."}),d.jsx("h2",{children:"6. Changes to Terms"}),d.jsx("p",{children:"We may modify these Terms of Service from time to time. We will provide notice of any changes by posting the new Terms of Service on this page. You are advised to review these Terms of Service periodically for any changes."}),d.jsx("h2",{children:"7. Contact Us"}),d.jsxs("p",{children:["If you have any questions about these Terms of Service, please contact us at ",d.jsx("a",{href:"mailto:hello@rushcoffee.ph",children:"hello@rushcoffee.ph"}),"."]})]})})]}),d.jsx(dn,{})]}),m6e=()=>d.jsxs("div",{className:"bg-white",children:[d.jsx(un,{}),d.jsxs("main",{children:[d.jsxs("section",{className:"bg-gradient-to-br from-primary-50 to-coffee-50 px-6 py-20 text-center",children:[d.jsx("h1",{className:"font-display text-5xl font-bold text-coffee-900 md:text-6xl",children:"Privacy Policy"}),d.jsx("p",{className:"mt-4 text-xl text-gray-700",children:"Your privacy is important to us."}),d.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),d.jsx("section",{className:"px-6 py-16",children:d.jsxs("div",{className:"prose prose-lg mx-auto max-w-4xl text-gray-700 prose-headings:font-display prose-headings:text-coffee-900 prose-a:text-primary-600 hover:prose-a:text-primary-700",children:[d.jsx("h2",{children:"1. Information We Collect"}),d.jsx("p",{children:"We collect information you provide directly to us when you create an account, place an order, or communicate with us. This information may include your name, email address, phone number, and order details."}),d.jsx("h2",{children:"2. How We Use Your Information"}),d.jsx("p",{children:"We use the information we collect to:"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Process your transactions and fulfill your orders."}),d.jsx("li",{children:"Communicate with you about your orders, account, and our services."}),d.jsx("li",{children:"Operate and improve our Services, including our rewards program."}),d.jsx("li",{children:"Personalize your experience."})]}),d.jsx("h2",{children:"3. Information Sharing"}),d.jsx("p",{children:"We do not share your personal information with third parties except as necessary to provide our Services (e.g., with payment processors) or as required by law. We do not sell your personal data."}),d.jsx("h2",{children:"4. Data Security"}),d.jsx("p",{children:"We implement reasonable security measures to protect your information from unauthorized access, alteration, disclosure, or destruction. However, no internet-based service is 100% secure, so we cannot guarantee absolute security."}),d.jsx("h2",{children:"5. Your Choices"}),d.jsx("p",{children:"You may review and update your account information at any time by logging into your account and visiting your profile page. You can also unsubscribe from our marketing emails by following the instructions in those emails."}),d.jsx("h2",{children:"6. Contact Us"}),d.jsxs("p",{children:["If you have any questions about this Privacy Policy, please contact us at ",d.jsx("a",{href:"mailto:hello@rushcoffee.ph",children:"hello@rushcoffee.ph"}),"."]})]})})]}),d.jsx(dn,{})]}),p6e=({title:t})=>d.jsxs("div",{className:"flex min-h-screen flex-col",children:[d.jsx(un,{}),d.jsx("main",{className:"flex flex-1 items-center justify-center bg-gradient-to-br from-primary-50 to-coffee-50",children:d.jsxs("div",{className:"p-4 text-center",children:[d.jsx(vn,{className:"mx-auto mb-4 h-16 w-16 text-gray-400 opacity-50"}),d.jsx("h1",{className:"mb-4 font-display text-4xl font-bold text-gray-900",children:t}),d.jsx("p",{className:"mb-8 text-gray-600",children:"We're brewing something special. Check back soon!"}),d.jsx(He,{to:"/",className:"font-medium text-primary-600 transition-colors hover:text-primary-700",children:" Back to Home"})]})}),d.jsx(dn,{})]}),g6e=()=>d.jsxs("div",{className:"flex min-h-screen flex-col",children:[d.jsx(un,{}),d.jsx("main",{className:"flex flex-1 items-center justify-center bg-gradient-to-br from-primary-50 to-coffee-50",children:d.jsxs("div",{className:"p-4 text-center",children:[d.jsx(vn,{className:"mx-auto mb-4 h-16 w-16 text-gray-400 opacity-50"}),d.jsx("h1",{className:"mb-4 font-display text-4xl font-bold text-gray-900",children:"404 - Page Not Found"}),d.jsx("p",{className:"mb-8 text-gray-600",children:"This coffee blend doesn't exist on our menu. Maybe it got lost in the daily grind?"}),d.jsx(He,{to:"/",className:"font-medium text-primary-600 transition-colors hover:text-primary-700",children:" Back to Home"})]})}),d.jsx(dn,{})]}),y6e=()=>{const{isCartOpen:t,closeCart:e,cartItems:n,updateQuantity:r,removeFromCart:i,toastMessage:a}=pr(),s=Hi(),o=()=>{e(),s("/checkout")};return d.jsxs(d.Fragment,{children:[d.jsx(Gbe,{}),d.jsxs(Lee,{children:[d.jsx(rt,{path:"/",element:d.jsx(dpe,{})}),d.jsx(rt,{path:"/about",element:d.jsx(Vbe,{})}),d.jsx(rt,{path:"/menu",element:d.jsx(W0e,{})}),d.jsx(rt,{path:"/contact",element:d.jsx(Bbe,{})}),d.jsx(rt,{path:"/auth/login",element:d.jsx(fpe,{})}),d.jsx(rt,{path:"/auth/register",element:d.jsx(gpe,{})}),d.jsx(rt,{path:"/auth/forgot-password",element:d.jsx(ype,{})}),d.jsx(rt,{path:"/checkout",element:d.jsx(J0e,{})}),d.jsx(rt,{path:"/queue",element:d.jsx(xbe,{})}),d.jsx(rt,{path:"/rewards",element:d.jsx(Abe,{})}),d.jsx(rt,{path:"/profile",element:d.jsx(Mbe,{})}),d.jsx(rt,{path:"/faq",element:d.jsx(qbe,{})}),d.jsx(rt,{path:"/terms",element:d.jsx(f6e,{})}),d.jsx(rt,{path:"/privacy",element:d.jsx(m6e,{})}),d.jsx(rt,{path:"/cookies",element:d.jsx(p6e,{title:"Cookie Policy"})}),d.jsx(rt,{element:d.jsx(Kbe,{}),children:d.jsxs(rt,{path:"/admin",element:d.jsx(Z4e,{}),children:[d.jsx(rt,{index:!0,element:d.jsx(H4e,{})}),d.jsx(rt,{path:"queue",element:d.jsx(Y4e,{})}),d.jsx(rt,{path:"inventory",element:d.jsx(n6e,{})}),d.jsx(rt,{path:"products",element:d.jsx(i6e,{})}),d.jsx(rt,{path:"analytics",element:d.jsx(s6e,{})}),d.jsx(rt,{path:"feedback",element:d.jsx(u6e,{})}),d.jsx(rt,{path:"settings",element:d.jsx(h6e,{})})]})}),d.jsx(rt,{path:"*",element:d.jsx(g6e,{})})]}),d.jsx(Hbe,{isOpen:t,onClose:e,cartItems:n,onUpdateQuantity:r,onRemoveItem:i,onCheckout:o}),a&&d.jsx("div",{className:"fixed bottom-4 right-4 z-[100] animate-fade-in-up rounded-lg bg-gray-900 px-4 py-3 text-white shadow-lg",children:a})]})},v6e=()=>d.jsx(ipe,{children:d.jsx(ape,{children:d.jsx(Z0e,{children:d.jsx(spe,{children:d.jsx(ste,{children:d.jsx(y6e,{})})})})})}),yQ=document.getElementById("root");if(!yQ)throw new Error("Could not find root element to mount to");const x6e=qJ.createRoot(yQ);x6e.render(d.jsx(td.StrictMode,{children:d.jsx(v6e,{})}));
