var lX=Object.defineProperty;var cX=(t,e,n)=>e in t?lX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var z_=(t,e,n)=>cX(t,typeof e!="symbol"?e+"":e,n);function uX(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Qa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cV={exports:{}},Zb={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dX=Symbol.for("react.transitional.element"),hX=Symbol.for("react.fragment");function uV(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:dX,type:t,key:r,ref:e!==void 0?e:null,props:n}}Zb.Fragment=hX;Zb.jsx=uV;Zb.jsxs=uV;cV.exports=Zb;var c=cV.exports,dV={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MN=Symbol.for("react.transitional.element"),fX=Symbol.for("react.portal"),mX=Symbol.for("react.fragment"),pX=Symbol.for("react.strict_mode"),gX=Symbol.for("react.profiler"),yX=Symbol.for("react.consumer"),vX=Symbol.for("react.context"),xX=Symbol.for("react.forward_ref"),bX=Symbol.for("react.suspense"),wX=Symbol.for("react.memo"),hV=Symbol.for("react.lazy"),_X=Symbol.for("react.activity"),AO=Symbol.iterator;function EX(t){return t===null||typeof t!="object"?null:(t=AO&&t[AO]||t["@@iterator"],typeof t=="function"?t:null)}var fV={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mV=Object.assign,pV={};function qh(t,e,n){this.props=t,this.context=e,this.refs=pV,this.updater=n||fV}qh.prototype.isReactComponent={};qh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gV(){}gV.prototype=qh.prototype;function LN(t,e,n){this.props=t,this.context=e,this.refs=pV,this.updater=n||fV}var VN=LN.prototype=new gV;VN.constructor=LN;mV(VN,qh.prototype);VN.isPureReactComponent=!0;var NO=Array.isArray;function DS(){}var bt={H:null,A:null,T:null,S:null},yV=Object.prototype.hasOwnProperty;function zN(t,e,n){var r=n.ref;return{$$typeof:MN,type:t,key:e,ref:r!==void 0?r:null,props:n}}function SX(t,e){return zN(t.type,e,t.props)}function UN(t){return typeof t=="object"&&t!==null&&t.$$typeof===MN}function TX(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var IO=/\/+/g;function U_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?TX(""+t.key):e.toString(36)}function AX(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(DS,DS):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function nd(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case MN:case fX:s=!0;break;case hV:return s=t._init,nd(s(t._payload),e,n,r,i)}}if(s)return i=i(t),s=r===""?"."+U_(t,0):r,NO(i)?(n="",s!=null&&(n=s.replace(IO,"$&/")+"/"),nd(i,e,n,"",function(u){return u})):i!=null&&(UN(i)&&(i=SX(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(IO,"$&/")+"/")+s)),e.push(i)),1;s=0;var o=r===""?".":r+":";if(NO(t))for(var l=0;l<t.length;l++)r=t[l],a=o+U_(r,l),s+=nd(r,e,n,a,i);else if(l=EX(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,a=o+U_(r,l++),s+=nd(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return nd(AX(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function r0(t,e,n){if(t==null)return t;var r=[],i=0;return nd(t,r,"","",function(a){return e.call(n,a,i++)}),r}function NX(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jO=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},IX={map:r0,forEach:function(t,e,n){r0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return r0(t,function(){e++}),e},toArray:function(t){return r0(t,function(e){return e})||[]},only:function(t){if(!UN(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Activity=_X;ve.Children=IX;ve.Component=qh;ve.Fragment=mX;ve.Profiler=gX;ve.PureComponent=LN;ve.StrictMode=pX;ve.Suspense=bX;ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=bt;ve.__COMPILER_RUNTIME={__proto__:null,c:function(t){return bt.H.useMemoCache(t)}};ve.cache=function(t){return function(){return t.apply(null,arguments)}};ve.cacheSignal=function(){return null};ve.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=mV({},t.props),i=t.key;if(e!=null)for(a in e.key!==void 0&&(i=""+e.key),e)!yV.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return zN(t.type,i,r)};ve.createContext=function(t){return t={$$typeof:vX,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:yX,_context:t},t};ve.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)yV.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return zN(t,a,i)};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:xX,render:t}};ve.isValidElement=UN;ve.lazy=function(t){return{$$typeof:hV,_payload:{_status:-1,_result:t},_init:NX}};ve.memo=function(t,e){return{$$typeof:wX,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=bt.T,n={};bt.T=n;try{var r=t(),i=bt.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(DS,jO)}catch(a){jO(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),bt.T=e}};ve.unstable_useCacheRefresh=function(){return bt.H.useCacheRefresh()};ve.use=function(t){return bt.H.use(t)};ve.useActionState=function(t,e,n){return bt.H.useActionState(t,e,n)};ve.useCallback=function(t,e){return bt.H.useCallback(t,e)};ve.useContext=function(t){return bt.H.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t,e){return bt.H.useDeferredValue(t,e)};ve.useEffect=function(t,e){return bt.H.useEffect(t,e)};ve.useEffectEvent=function(t){return bt.H.useEffectEvent(t)};ve.useId=function(){return bt.H.useId()};ve.useImperativeHandle=function(t,e,n){return bt.H.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return bt.H.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return bt.H.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return bt.H.useMemo(t,e)};ve.useOptimistic=function(t,e){return bt.H.useOptimistic(t,e)};ve.useReducer=function(t,e,n){return bt.H.useReducer(t,e,n)};ve.useRef=function(t){return bt.H.useRef(t)};ve.useState=function(t){return bt.H.useState(t)};ve.useSyncExternalStore=function(t,e,n){return bt.H.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return bt.H.useTransition()};ve.version="19.2.0";dV.exports=ve;var g=dV.exports;const zo=Qa(g),jX=uX({__proto__:null,default:zo},[g]);var vV={exports:{}},Jb={},xV={exports:{}},bV={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,q){var H=B.length;B.push(q);e:for(;0<H;){var J=H-1>>>1,oe=B[J];if(0<i(oe,q))B[J]=q,B[H]=oe,H=J;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var q=B[0],H=B.pop();if(H!==q){B[0]=H;e:for(var J=0,oe=B.length,et=oe>>>1;J<et;){var Rt=2*(J+1)-1,he=B[Rt],fe=Rt+1,st=B[fe];if(0>i(he,H))fe<oe&&0>i(st,he)?(B[J]=st,B[fe]=H,J=fe):(B[J]=he,B[Rt]=H,J=Rt);else if(fe<oe&&0>i(st,H))B[J]=st,B[fe]=H,J=fe;else break e}}return q}function i(B,q){var H=B.sortIndex-q.sortIndex;return H!==0?H:B.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,h=null,f=3,m=!1,y=!1,v=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function S(B){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=B)r(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(u)}}function A(B){if(v=!1,S(B),!y)if(n(l)!==null)y=!0,C||(C=!0,R());else{var q=n(u);q!==null&&L(A,q.startTime-B)}}var C=!1,N=-1,T=5,I=-1;function P(){return x?!0:!(t.unstable_now()-I<T)}function k(){if(x=!1,C){var B=t.unstable_now();I=B;var q=!0;try{e:{y=!1,v&&(v=!1,w(N),N=-1),m=!0;var H=f;try{t:{for(S(B),h=n(l);h!==null&&!(h.expirationTime>B&&P());){var J=h.callback;if(typeof J=="function"){h.callback=null,f=h.priorityLevel;var oe=J(h.expirationTime<=B);if(B=t.unstable_now(),typeof oe=="function"){h.callback=oe,S(B),q=!0;break t}h===n(l)&&r(l),S(B)}else r(l);h=n(l)}if(h!==null)q=!0;else{var et=n(u);et!==null&&L(A,et.startTime-B),q=!1}}break e}finally{h=null,f=H,m=!1}q=void 0}}finally{q?R():C=!1}}}var R;if(typeof _=="function")R=function(){_(k)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,M=O.port2;O.port1.onmessage=k,R=function(){M.postMessage(null)}}else R=function(){b(k,0)};function L(B,q){N=b(function(){B(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(B){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var H=f;f=q;try{return B()}finally{f=H}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(B,q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var H=f;f=B;try{return q()}finally{f=H}},t.unstable_scheduleCallback=function(B,q,H){var J=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?J+H:J):H=J,B){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=H+oe,B={id:d++,callback:q,priorityLevel:B,startTime:H,expirationTime:oe,sortIndex:-1},H>J?(B.sortIndex=H,e(u,B),n(l)===null&&B===n(u)&&(v?(w(N),N=-1):v=!0,L(A,H-J))):(B.sortIndex=oe,e(l,B),y||m||(y=!0,C||(C=!0,R()))),B},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(B){var q=f;return function(){var H=f;f=q;try{return B.apply(this,arguments)}finally{f=H}}}})(bV);xV.exports=bV;var CX=xV.exports,wV={exports:{}},Rr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PX=g;function _V(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function wo(){}var jr={d:{f:wo,r:function(){throw Error(_V(522))},D:wo,C:wo,L:wo,m:wo,X:wo,S:wo,M:wo},p:0,findDOMNode:null},kX=Symbol.for("react.portal");function OX(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kX,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var $m=PX.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ew(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Rr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=jr;Rr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(_V(299));return OX(t,e,null,n)};Rr.flushSync=function(t){var e=$m.T,n=jr.p;try{if($m.T=null,jr.p=2,t)return t()}finally{$m.T=e,jr.p=n,jr.d.f()}};Rr.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,jr.d.C(t,e))};Rr.prefetchDNS=function(t){typeof t=="string"&&jr.d.D(t)};Rr.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=ew(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?jr.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&jr.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Rr.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=ew(e.as,e.crossOrigin);jr.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&jr.d.M(t)};Rr.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=ew(n,e.crossOrigin);jr.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Rr.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=ew(e.as,e.crossOrigin);jr.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else jr.d.m(t)};Rr.requestFormReset=function(t){jr.d.r(t)};Rr.unstable_batchedUpdates=function(t,e){return t(e)};Rr.useFormState=function(t,e,n){return $m.H.useFormState(t,e,n)};Rr.useFormStatus=function(){return $m.H.useHostTransitionStatus()};Rr.version="19.2.0";function EV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(EV)}catch(t){console.error(t)}}EV(),wV.exports=Rr;var tw=wV.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var En=CX,SV=g,RX=tw;function G(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function TV(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mg(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function AV(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function NV(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function CO(t){if(Mg(t)!==t)throw Error(G(188))}function DX(t){var e=t.alternate;if(!e){if(e=Mg(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return CO(i),t;if(a===r)return CO(i),e;a=a.sibling}throw Error(G(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function IV(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=IV(t),e!==null)return e;t=t.sibling}return null}var Et=Object.assign,MX=Symbol.for("react.element"),i0=Symbol.for("react.transitional.element"),Tm=Symbol.for("react.portal"),ud=Symbol.for("react.fragment"),jV=Symbol.for("react.strict_mode"),MS=Symbol.for("react.profiler"),CV=Symbol.for("react.consumer"),hs=Symbol.for("react.context"),BN=Symbol.for("react.forward_ref"),LS=Symbol.for("react.suspense"),VS=Symbol.for("react.suspense_list"),FN=Symbol.for("react.memo"),Io=Symbol.for("react.lazy"),zS=Symbol.for("react.activity"),LX=Symbol.for("react.memo_cache_sentinel"),PO=Symbol.iterator;function Yf(t){return t===null||typeof t!="object"?null:(t=PO&&t[PO]||t["@@iterator"],typeof t=="function"?t:null)}var VX=Symbol.for("react.client.reference");function US(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===VX?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ud:return"Fragment";case MS:return"Profiler";case jV:return"StrictMode";case LS:return"Suspense";case VS:return"SuspenseList";case zS:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Tm:return"Portal";case hs:return t.displayName||"Context";case CV:return(t._context.displayName||"Context")+".Consumer";case BN:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case FN:return e=t.displayName||null,e!==null?e:US(t.type)||"Memo";case Io:e=t._payload,t=t._init;try{return US(t(e))}catch{}}return null}var Am=Array.isArray,ge=SV.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ue=RX.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Cc={pending:!1,data:null,method:null,action:null},BS=[],dd=-1;function Xa(t){return{current:t}}function zn(t){0>dd||(t.current=BS[dd],BS[dd]=null,dd--)}function ct(t,e){dd++,BS[dd]=t.current,t.current=e}var ka=Xa(null),Tp=Xa(null),Yo=Xa(null),Uv=Xa(null);function Bv(t,e){switch(ct(Yo,e),ct(Tp,t),ct(ka,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?LR(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=LR(e),t=Q9(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}zn(ka),ct(ka,t)}function Xd(){zn(ka),zn(Tp),zn(Yo)}function FS(t){t.memoizedState!==null&&ct(Uv,t);var e=ka.current,n=Q9(e,t.type);e!==n&&(ct(Tp,t),ct(ka,n))}function Fv(t){Tp.current===t&&(zn(ka),zn(Tp)),Uv.current===t&&(zn(Uv),Mp._currentValue=Cc)}var B_,kO;function ic(t){if(B_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);B_=e&&e[1]||"",kO=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+B_+t+kO}var F_=!1;function $_(t,e){if(!t||F_)return"";F_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(m){var f=m}Reflect.construct(t,[],h)}else{try{h.call()}catch(m){f=m}t.call(h.prototype)}}else{try{throw Error()}catch(m){f=m}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(m){if(m&&f&&typeof m.stack=="string")return[m.stack,f.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split(`
`),u=o.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var d=`
`+l[r].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=r&&0<=i);break}}}finally{F_=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?ic(n):""}function zX(t,e){switch(t.tag){case 26:case 27:case 5:return ic(t.type);case 16:return ic("Lazy");case 13:return t.child!==e&&e!==null?ic("Suspense Fallback"):ic("Suspense");case 19:return ic("SuspenseList");case 0:case 15:return $_(t.type,!1);case 11:return $_(t.type.render,!1);case 1:return $_(t.type,!0);case 31:return ic("Activity");default:return""}}function OO(t){try{var e="",n=null;do e+=zX(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var $S=Object.prototype.hasOwnProperty,$N=En.unstable_scheduleCallback,q_=En.unstable_cancelCallback,UX=En.unstable_shouldYield,BX=En.unstable_requestPaint,ci=En.unstable_now,FX=En.unstable_getCurrentPriorityLevel,PV=En.unstable_ImmediatePriority,kV=En.unstable_UserBlockingPriority,$v=En.unstable_NormalPriority,$X=En.unstable_LowPriority,OV=En.unstable_IdlePriority,qX=En.log,HX=En.unstable_setDisableYieldValue,Lg=null,ui=null;function Uo(t){if(typeof qX=="function"&&HX(t),ui&&typeof ui.setStrictMode=="function")try{ui.setStrictMode(Lg,t)}catch{}}var di=Math.clz32?Math.clz32:WX,GX=Math.log,KX=Math.LN2;function WX(t){return t>>>=0,t===0?32:31-(GX(t)/KX|0)|0}var a0=256,s0=262144,o0=4194304;function ac(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function nw(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~a,r!==0?i=ac(r):(s&=o,s!==0?i=ac(s):n||(n=o&~t,n!==0&&(i=ac(n))))):(o=r&~a,o!==0?i=ac(o):s!==0?i=ac(s):n||(n=r&~t,n!==0&&(i=ac(n)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function Vg(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function YX(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RV(){var t=o0;return o0<<=1,!(o0&62914560)&&(o0=4194304),t}function H_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zg(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function QX(t,e,n,r,i,a){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,u=t.hiddenUpdates;for(n=s&~n;0<n;){var d=31-di(n),h=1<<d;o[d]=0,l[d]=-1;var f=u[d];if(f!==null)for(u[d]=null,d=0;d<f.length;d++){var m=f[d];m!==null&&(m.lane&=-536870913)}n&=~h}r!==0&&DV(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(s&~e))}function DV(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-di(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function MV(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-di(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function LV(t,e){var n=e&-e;return n=n&42?1:qN(n),n&(t.suspendedLanes|e)?0:n}function qN(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function HN(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function VV(){var t=Ue.p;return t!==0?t:(t=window.event,t===void 0?32:oU(t.type))}function RO(t,e){var n=Ue.p;try{return Ue.p=t,e()}finally{Ue.p=n}}var Ol=Math.random().toString(36).slice(2),Yn="__reactFiber$"+Ol,Kr="__reactProps$"+Ol,Hh="__reactContainer$"+Ol,qS="__reactEvents$"+Ol,XX="__reactListeners$"+Ol,ZX="__reactHandles$"+Ol,DO="__reactResources$"+Ol,Ug="__reactMarker$"+Ol;function GN(t){delete t[Yn],delete t[Kr],delete t[qS],delete t[XX],delete t[ZX]}function hd(t){var e=t[Yn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hh]||n[Yn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=FR(t);t!==null;){if(n=t[Yn])return n;t=FR(t)}return e}t=n,n=t.parentNode}return null}function Gh(t){if(t=t[Yn]||t[Hh]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Nm(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(G(33))}function kd(t){var e=t[DO];return e||(e=t[DO]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Dn(t){t[Ug]=!0}var zV=new Set,UV={};function bu(t,e){Zd(t,e),Zd(t+"Capture",e)}function Zd(t,e){for(UV[t]=e,t=0;t<e.length;t++)zV.add(e[t])}var JX=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),MO={},LO={};function eZ(t){return $S.call(LO,t)?!0:$S.call(MO,t)?!1:JX.test(t)?LO[t]=!0:(MO[t]=!0,!1)}function J0(t,e,n){if(eZ(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function l0(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function ts(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function Pi(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function BV(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tZ(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function HS(t){if(!t._valueTracker){var e=BV(t)?"checked":"value";t._valueTracker=tZ(t,e,""+t[e])}}function FV(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=BV(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var nZ=/[\n"\\]/g;function Ri(t){return t.replace(nZ,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function GS(t,e,n,r,i,a,s,o){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Pi(e)):t.value!==""+Pi(e)&&(t.value=""+Pi(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?KS(t,s,Pi(e)):n!=null?KS(t,s,Pi(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Pi(o):t.removeAttribute("name")}function $V(t,e,n,r,i,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){HS(t);return}n=n!=null?""+Pi(n):"",e=e!=null?""+Pi(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s),HS(t)}function KS(t,e,n){e==="number"&&qv(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Od(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Pi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qV(t,e,n){if(e!=null&&(e=""+Pi(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Pi(n):""}function HV(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(G(92));if(Am(r)){if(1<r.length)throw Error(G(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Pi(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),HS(t)}function Jd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var rZ=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function VO(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||rZ.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function GV(t,e,n){if(e!=null&&typeof e!="object")throw Error(G(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&VO(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&VO(t,a,e[a])}function KN(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iZ=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),aZ=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ev(t){return aZ.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function fs(){}var WS=null;function WN(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fd=null,Rd=null;function zO(t){var e=Gh(t);if(e&&(t=e.stateNode)){var n=t[Kr]||null;e:switch(t=e.stateNode,e.type){case"input":if(GS(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ri(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[Kr]||null;if(!i)throw Error(G(90));GS(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&FV(r)}break e;case"textarea":qV(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Od(t,!!n.multiple,e,!1)}}}var G_=!1;function KV(t,e,n){if(G_)return t(e,n);G_=!0;try{var r=t(e);return r}finally{if(G_=!1,(fd!==null||Rd!==null)&&(mw(),fd&&(e=fd,t=Rd,Rd=fd=null,zO(e),t)))for(e=0;e<t.length;e++)zO(t[e])}}function Ap(t,e){var n=t.stateNode;if(n===null)return null;var r=n[Kr]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),YS=!1;if(js)try{var Qf={};Object.defineProperty(Qf,"passive",{get:function(){YS=!0}}),window.addEventListener("test",Qf,Qf),window.removeEventListener("test",Qf,Qf)}catch{YS=!1}var Bo=null,YN=null,tv=null;function WV(){if(tv)return tv;var t,e=YN,n=e.length,r,i="value"in Bo?Bo.value:Bo.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return tv=i.slice(t,1<r?1-r:void 0)}function nv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function c0(){return!0}function UO(){return!1}function Wr(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?c0:UO,this.isPropagationStopped=UO,this}return Et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=c0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=c0)},persist:function(){},isPersistent:c0}),e}var wu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rw=Wr(wu),Bg=Et({},wu,{view:0,detail:0}),sZ=Wr(Bg),K_,W_,Xf,iw=Et({},Bg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:QN,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xf&&(Xf&&t.type==="mousemove"?(K_=t.screenX-Xf.screenX,W_=t.screenY-Xf.screenY):W_=K_=0,Xf=t),K_)},movementY:function(t){return"movementY"in t?t.movementY:W_}}),BO=Wr(iw),oZ=Et({},iw,{dataTransfer:0}),lZ=Wr(oZ),cZ=Et({},Bg,{relatedTarget:0}),Y_=Wr(cZ),uZ=Et({},wu,{animationName:0,elapsedTime:0,pseudoElement:0}),dZ=Wr(uZ),hZ=Et({},wu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fZ=Wr(hZ),mZ=Et({},wu,{data:0}),FO=Wr(mZ),pZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vZ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yZ[t])?!!e[t]:!1}function QN(){return vZ}var xZ=Et({},Bg,{key:function(t){if(t.key){var e=pZ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=nv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gZ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:QN,charCode:function(t){return t.type==="keypress"?nv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?nv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bZ=Wr(xZ),wZ=Et({},iw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$O=Wr(wZ),_Z=Et({},Bg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:QN}),EZ=Wr(_Z),SZ=Et({},wu,{propertyName:0,elapsedTime:0,pseudoElement:0}),TZ=Wr(SZ),AZ=Et({},iw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NZ=Wr(AZ),IZ=Et({},wu,{newState:0,oldState:0}),jZ=Wr(IZ),CZ=[9,13,27,32],XN=js&&"CompositionEvent"in window,qm=null;js&&"documentMode"in document&&(qm=document.documentMode);var PZ=js&&"TextEvent"in window&&!qm,YV=js&&(!XN||qm&&8<qm&&11>=qm),qO=" ",HO=!1;function QV(t,e){switch(t){case"keyup":return CZ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XV(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var md=!1;function kZ(t,e){switch(t){case"compositionend":return XV(e);case"keypress":return e.which!==32?null:(HO=!0,qO);case"textInput":return t=e.data,t===qO&&HO?null:t;default:return null}}function OZ(t,e){if(md)return t==="compositionend"||!XN&&QV(t,e)?(t=WV(),tv=YN=Bo=null,md=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return YV&&e.locale!=="ko"?null:e.data;default:return null}}var RZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function GO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!RZ[t.type]:e==="textarea"}function ZV(t,e,n,r){fd?Rd?Rd.push(r):Rd=[r]:fd=r,e=lx(e,"onChange"),0<e.length&&(n=new rw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Hm=null,Np=null;function DZ(t){K9(t,0)}function aw(t){var e=Nm(t);if(FV(e))return t}function KO(t,e){if(t==="change")return e}var JV=!1;if(js){var Q_;if(js){var X_="oninput"in document;if(!X_){var WO=document.createElement("div");WO.setAttribute("oninput","return;"),X_=typeof WO.oninput=="function"}Q_=X_}else Q_=!1;JV=Q_&&(!document.documentMode||9<document.documentMode)}function YO(){Hm&&(Hm.detachEvent("onpropertychange",ez),Np=Hm=null)}function ez(t){if(t.propertyName==="value"&&aw(Np)){var e=[];ZV(e,Np,t,WN(t)),KV(DZ,e)}}function MZ(t,e,n){t==="focusin"?(YO(),Hm=e,Np=n,Hm.attachEvent("onpropertychange",ez)):t==="focusout"&&YO()}function LZ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return aw(Np)}function VZ(t,e){if(t==="click")return aw(e)}function zZ(t,e){if(t==="input"||t==="change")return aw(e)}function UZ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yi=typeof Object.is=="function"?Object.is:UZ;function Ip(t,e){if(yi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$S.call(e,i)||!yi(t[i],e[i]))return!1}return!0}function QO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function XO(t,e){var n=QO(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=QO(n)}}function tz(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?tz(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nz(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=qv(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qv(t.document)}return e}function ZN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var BZ=js&&"documentMode"in document&&11>=document.documentMode,pd=null,QS=null,Gm=null,XS=!1;function ZO(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;XS||pd==null||pd!==qv(r)||(r=pd,"selectionStart"in r&&ZN(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gm&&Ip(Gm,r)||(Gm=r,r=lx(QS,"onSelect"),0<r.length&&(e=new rw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=pd)))}function ec(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gd={animationend:ec("Animation","AnimationEnd"),animationiteration:ec("Animation","AnimationIteration"),animationstart:ec("Animation","AnimationStart"),transitionrun:ec("Transition","TransitionRun"),transitionstart:ec("Transition","TransitionStart"),transitioncancel:ec("Transition","TransitionCancel"),transitionend:ec("Transition","TransitionEnd")},Z_={},rz={};js&&(rz=document.createElement("div").style,"AnimationEvent"in window||(delete gd.animationend.animation,delete gd.animationiteration.animation,delete gd.animationstart.animation),"TransitionEvent"in window||delete gd.transitionend.transition);function _u(t){if(Z_[t])return Z_[t];if(!gd[t])return t;var e=gd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in rz)return Z_[t]=e[n];return t}var iz=_u("animationend"),az=_u("animationiteration"),sz=_u("animationstart"),FZ=_u("transitionrun"),$Z=_u("transitionstart"),qZ=_u("transitioncancel"),oz=_u("transitionend"),lz=new Map,ZS="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ZS.push("scrollEnd");function da(t,e){lz.set(t,e),bu(e,[t])}var Hv=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ci=[],yd=0,JN=0;function sw(){for(var t=yd,e=JN=yd=0;e<t;){var n=Ci[e];Ci[e++]=null;var r=Ci[e];Ci[e++]=null;var i=Ci[e];Ci[e++]=null;var a=Ci[e];if(Ci[e++]=null,r!==null&&i!==null){var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}a!==0&&cz(n,i,a)}}function ow(t,e,n,r){Ci[yd++]=t,Ci[yd++]=e,Ci[yd++]=n,Ci[yd++]=r,JN|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function e2(t,e,n,r){return ow(t,e,n,r),Gv(t)}function Eu(t,e){return ow(t,null,null,e),Gv(t)}function cz(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-di(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function Gv(t){if(50<tp)throw tp=0,xT=null,Error(G(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var vd={};function HZ(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(t,e,n,r){return new HZ(t,e,n,r)}function t2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xs(t,e){var n=t.alternate;return n===null?(n=ai(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function uz(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function rv(t,e,n,r,i,a){var s=0;if(r=t,typeof t=="function")t2(t)&&(s=1);else if(typeof t=="string")s=QJ(t,n,ka.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case zS:return t=ai(31,n,e,i),t.elementType=zS,t.lanes=a,t;case ud:return Pc(n.children,i,a,e);case jV:s=8,i|=24;break;case MS:return t=ai(12,n,e,i|2),t.elementType=MS,t.lanes=a,t;case LS:return t=ai(13,n,e,i),t.elementType=LS,t.lanes=a,t;case VS:return t=ai(19,n,e,i),t.elementType=VS,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hs:s=10;break e;case CV:s=9;break e;case BN:s=11;break e;case FN:s=14;break e;case Io:s=16,r=null;break e}s=29,n=Error(G(130,t===null?"null":typeof t,"")),r=null}return e=ai(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Pc(t,e,n,r){return t=ai(7,t,r,e),t.lanes=n,t}function J_(t,e,n){return t=ai(6,t,null,e),t.lanes=n,t}function dz(t){var e=ai(18,null,null,0);return e.stateNode=t,e}function eE(t,e,n){return e=ai(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var JO=new WeakMap;function Di(t,e){if(typeof t=="object"&&t!==null){var n=JO.get(t);return n!==void 0?n:(e={value:t,source:e,stack:OO(e)},JO.set(t,e),e)}return{value:t,source:e,stack:OO(e)}}var xd=[],bd=0,Kv=null,jp=0,ki=[],Oi=0,dl=null,Ta=1,Aa="";function os(t,e){xd[bd++]=jp,xd[bd++]=Kv,Kv=t,jp=e}function hz(t,e,n){ki[Oi++]=Ta,ki[Oi++]=Aa,ki[Oi++]=dl,dl=t;var r=Ta;t=Aa;var i=32-di(r)-1;r&=~(1<<i),n+=1;var a=32-di(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ta=1<<32-di(e)+i|n<<i|r,Aa=a+t}else Ta=1<<a|n<<i|r,Aa=t}function n2(t){t.return!==null&&(os(t,1),hz(t,1,0))}function r2(t){for(;t===Kv;)Kv=xd[--bd],xd[bd]=null,jp=xd[--bd],xd[bd]=null;for(;t===dl;)dl=ki[--Oi],ki[Oi]=null,Aa=ki[--Oi],ki[Oi]=null,Ta=ki[--Oi],ki[Oi]=null}function fz(t,e){ki[Oi++]=Ta,ki[Oi++]=Aa,ki[Oi++]=dl,Ta=e.id,Aa=e.overflow,dl=t}var Qn=null,yt=null,Pe=!1,Qo=null,Mi=!1,JS=Error(G(519));function hl(t){var e=Error(G(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cp(Di(e,t)),JS}function eR(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Yn]=t,e[Kr]=r,n){case"dialog":Se("cancel",e),Se("close",e);break;case"iframe":case"object":case"embed":Se("load",e);break;case"video":case"audio":for(n=0;n<Rp.length;n++)Se(Rp[n],e);break;case"source":Se("error",e);break;case"img":case"image":case"link":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"input":Se("invalid",e),$V(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Se("invalid",e);break;case"textarea":Se("invalid",e),HV(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||Y9(e.textContent,n)?(r.popover!=null&&(Se("beforetoggle",e),Se("toggle",e)),r.onScroll!=null&&Se("scroll",e),r.onScrollEnd!=null&&Se("scrollend",e),r.onClick!=null&&(e.onclick=fs),e=!0):e=!1,e||hl(t,!0)}function tR(t){for(Qn=t.return;Qn;)switch(Qn.tag){case 5:case 31:case 13:Mi=!1;return;case 27:case 3:Mi=!0;return;default:Qn=Qn.return}}function Bu(t){if(t!==Qn)return!1;if(!Pe)return tR(t),Pe=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||ST(t.type,t.memoizedProps)),n=!n),n&&yt&&hl(t),tR(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));yt=BR(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));yt=BR(t)}else e===27?(e=yt,Rl(t.type)?(t=IT,IT=null,yt=t):yt=e):yt=Qn?Bi(t.stateNode.nextSibling):null;return!0}function Gc(){yt=Qn=null,Pe=!1}function tE(){var t=Qo;return t!==null&&(zr===null?zr=t:zr.push.apply(zr,t),Qo=null),t}function Cp(t){Qo===null?Qo=[t]:Qo.push(t)}var eT=Xa(null),Su=null,ms=null;function Oo(t,e,n){ct(eT,e._currentValue),e._currentValue=n}function bs(t){t._currentValue=eT.current,zn(eT)}function tT(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function nT(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=i;for(var l=0;l<e.length;l++)if(o.context===e[l]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),tT(a.return,n,t),r||(s=null);break e}a=o.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(G(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),tT(s,n,t),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function Kh(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(G(387));if(s=s.memoizedProps,s!==null){var o=i.type;yi(i.pendingProps.value,s.value)||(t!==null?t.push(o):t=[o])}}else if(i===Uv.current){if(s=i.alternate,s===null)throw Error(G(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Mp):t=[Mp])}i=i.return}t!==null&&nT(e,t,n,r),e.flags|=262144}function Wv(t){for(t=t.firstContext;t!==null;){if(!yi(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Kc(t){Su=t,ms=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zn(t){return mz(Su,t)}function u0(t,e){return Su===null&&Kc(t),mz(t,e)}function mz(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ms===null){if(t===null)throw Error(G(308));ms=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ms=ms.next=e;return n}var GZ=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},KZ=En.unstable_scheduleCallback,WZ=En.unstable_NormalPriority,un={$$typeof:hs,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function i2(){return{controller:new GZ,data:new Map,refCount:0}}function Fg(t){t.refCount--,t.refCount===0&&KZ(WZ,function(){t.controller.abort()})}var Km=null,rT=0,eh=0,Dd=null;function YZ(t,e){if(Km===null){var n=Km=[];rT=0,eh=j2(),Dd={status:"pending",value:void 0,then:function(r){n.push(r)}}}return rT++,e.then(nR,nR),e}function nR(){if(--rT===0&&Km!==null){Dd!==null&&(Dd.status="fulfilled");var t=Km;Km=null,eh=0,Dd=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function QZ(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var rR=ge.S;ge.S=function(t,e){I9=ci(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&YZ(t,e),rR!==null&&rR(t,e)};var kc=Xa(null);function a2(){var t=kc.current;return t!==null?t:it.pooledCache}function iv(t,e){e===null?ct(kc,kc.current):ct(kc,e.pool)}function pz(){var t=a2();return t===null?null:{parent:un._currentValue,pool:t}}var Wh=Error(G(460)),s2=Error(G(474)),lw=Error(G(542)),Yv={then:function(){}};function iR(t){return t=t.status,t==="fulfilled"||t==="rejected"}function gz(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(fs,fs),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,sR(t),t;default:if(typeof e.status=="string")e.then(fs,fs);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(G(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,sR(t),t}throw Oc=e,Wh}}function sc(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Oc=n,Wh):n}}var Oc=null;function aR(){if(Oc===null)throw Error(G(459));var t=Oc;return Oc=null,t}function sR(t){if(t===Wh||t===lw)throw Error(G(483))}var Md=null,Pp=0;function d0(t){var e=Pp;return Pp+=1,Md===null&&(Md=[]),gz(Md,t,e)}function Zf(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function h0(t,e){throw e.$$typeof===MX?Error(G(525)):(t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function yz(t){function e(b,w){if(t){var _=b.deletions;_===null?(b.deletions=[w],b.flags|=16):_.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b){for(var w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(b,w){return b=xs(b,w),b.index=0,b.sibling=null,b}function a(b,w,_){return b.index=_,t?(_=b.alternate,_!==null?(_=_.index,_<w?(b.flags|=67108866,w):_):(b.flags|=67108866,w)):(b.flags|=1048576,w)}function s(b){return t&&b.alternate===null&&(b.flags|=67108866),b}function o(b,w,_,S){return w===null||w.tag!==6?(w=J_(_,b.mode,S),w.return=b,w):(w=i(w,_),w.return=b,w)}function l(b,w,_,S){var A=_.type;return A===ud?d(b,w,_.props.children,S,_.key):w!==null&&(w.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Io&&sc(A)===w.type)?(w=i(w,_.props),Zf(w,_),w.return=b,w):(w=rv(_.type,_.key,_.props,null,b.mode,S),Zf(w,_),w.return=b,w)}function u(b,w,_,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=eE(_,b.mode,S),w.return=b,w):(w=i(w,_.children||[]),w.return=b,w)}function d(b,w,_,S,A){return w===null||w.tag!==7?(w=Pc(_,b.mode,S,A),w.return=b,w):(w=i(w,_),w.return=b,w)}function h(b,w,_){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=J_(""+w,b.mode,_),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case i0:return _=rv(w.type,w.key,w.props,null,b.mode,_),Zf(_,w),_.return=b,_;case Tm:return w=eE(w,b.mode,_),w.return=b,w;case Io:return w=sc(w),h(b,w,_)}if(Am(w)||Yf(w))return w=Pc(w,b.mode,_,null),w.return=b,w;if(typeof w.then=="function")return h(b,d0(w),_);if(w.$$typeof===hs)return h(b,u0(b,w),_);h0(b,w)}return null}function f(b,w,_,S){var A=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return A!==null?null:o(b,w,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case i0:return _.key===A?l(b,w,_,S):null;case Tm:return _.key===A?u(b,w,_,S):null;case Io:return _=sc(_),f(b,w,_,S)}if(Am(_)||Yf(_))return A!==null?null:d(b,w,_,S,null);if(typeof _.then=="function")return f(b,w,d0(_),S);if(_.$$typeof===hs)return f(b,w,u0(b,_),S);h0(b,_)}return null}function m(b,w,_,S,A){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return b=b.get(_)||null,o(w,b,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case i0:return b=b.get(S.key===null?_:S.key)||null,l(w,b,S,A);case Tm:return b=b.get(S.key===null?_:S.key)||null,u(w,b,S,A);case Io:return S=sc(S),m(b,w,_,S,A)}if(Am(S)||Yf(S))return b=b.get(_)||null,d(w,b,S,A,null);if(typeof S.then=="function")return m(b,w,_,d0(S),A);if(S.$$typeof===hs)return m(b,w,_,u0(w,S),A);h0(w,S)}return null}function y(b,w,_,S){for(var A=null,C=null,N=w,T=w=0,I=null;N!==null&&T<_.length;T++){N.index>T?(I=N,N=null):I=N.sibling;var P=f(b,N,_[T],S);if(P===null){N===null&&(N=I);break}t&&N&&P.alternate===null&&e(b,N),w=a(P,w,T),C===null?A=P:C.sibling=P,C=P,N=I}if(T===_.length)return n(b,N),Pe&&os(b,T),A;if(N===null){for(;T<_.length;T++)N=h(b,_[T],S),N!==null&&(w=a(N,w,T),C===null?A=N:C.sibling=N,C=N);return Pe&&os(b,T),A}for(N=r(N);T<_.length;T++)I=m(N,b,T,_[T],S),I!==null&&(t&&I.alternate!==null&&N.delete(I.key===null?T:I.key),w=a(I,w,T),C===null?A=I:C.sibling=I,C=I);return t&&N.forEach(function(k){return e(b,k)}),Pe&&os(b,T),A}function v(b,w,_,S){if(_==null)throw Error(G(151));for(var A=null,C=null,N=w,T=w=0,I=null,P=_.next();N!==null&&!P.done;T++,P=_.next()){N.index>T?(I=N,N=null):I=N.sibling;var k=f(b,N,P.value,S);if(k===null){N===null&&(N=I);break}t&&N&&k.alternate===null&&e(b,N),w=a(k,w,T),C===null?A=k:C.sibling=k,C=k,N=I}if(P.done)return n(b,N),Pe&&os(b,T),A;if(N===null){for(;!P.done;T++,P=_.next())P=h(b,P.value,S),P!==null&&(w=a(P,w,T),C===null?A=P:C.sibling=P,C=P);return Pe&&os(b,T),A}for(N=r(N);!P.done;T++,P=_.next())P=m(N,b,T,P.value,S),P!==null&&(t&&P.alternate!==null&&N.delete(P.key===null?T:P.key),w=a(P,w,T),C===null?A=P:C.sibling=P,C=P);return t&&N.forEach(function(R){return e(b,R)}),Pe&&os(b,T),A}function x(b,w,_,S){if(typeof _=="object"&&_!==null&&_.type===ud&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case i0:e:{for(var A=_.key;w!==null;){if(w.key===A){if(A=_.type,A===ud){if(w.tag===7){n(b,w.sibling),S=i(w,_.props.children),S.return=b,b=S;break e}}else if(w.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Io&&sc(A)===w.type){n(b,w.sibling),S=i(w,_.props),Zf(S,_),S.return=b,b=S;break e}n(b,w);break}else e(b,w);w=w.sibling}_.type===ud?(S=Pc(_.props.children,b.mode,S,_.key),S.return=b,b=S):(S=rv(_.type,_.key,_.props,null,b.mode,S),Zf(S,_),S.return=b,b=S)}return s(b);case Tm:e:{for(A=_.key;w!==null;){if(w.key===A)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(b,w.sibling),S=i(w,_.children||[]),S.return=b,b=S;break e}else{n(b,w);break}else e(b,w);w=w.sibling}S=eE(_,b.mode,S),S.return=b,b=S}return s(b);case Io:return _=sc(_),x(b,w,_,S)}if(Am(_))return y(b,w,_,S);if(Yf(_)){if(A=Yf(_),typeof A!="function")throw Error(G(150));return _=A.call(_),v(b,w,_,S)}if(typeof _.then=="function")return x(b,w,d0(_),S);if(_.$$typeof===hs)return x(b,w,u0(b,_),S);h0(b,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,w!==null&&w.tag===6?(n(b,w.sibling),S=i(w,_),S.return=b,b=S):(n(b,w),S=J_(_,b.mode,S),S.return=b,b=S),s(b)):n(b,w)}return function(b,w,_,S){try{Pp=0;var A=x(b,w,_,S);return Md=null,A}catch(N){if(N===Wh||N===lw)throw N;var C=ai(29,N,null,b.mode);return C.lanes=S,C.return=b,C}finally{}}}var Wc=yz(!0),vz=yz(!1),jo=!1;function o2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function iT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Xo(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=Gv(t),cz(t,null,n),e}return ow(t,r,e,n),Gv(t)}function Wm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,MV(t,n)}}function nE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var aT=!1;function Ym(){if(aT){var t=Dd;if(t!==null)throw t}}function Qm(t,e,n,r){aT=!1;var i=t.updateQueue;jo=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(a!==null){var h=i.baseState;s=0,d=u=l=null,o=a;do{var f=o.lane&-536870913,m=f!==o.lane;if(m?(je&f)===f:(r&f)===f){f!==0&&f===eh&&(aT=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var y=t,v=o;f=e;var x=n;switch(v.tag){case 1:if(y=v.payload,typeof y=="function"){h=y.call(x,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,f=typeof y=="function"?y.call(x,h,f):y,f==null)break e;h=Et({},h,f);break e;case 2:jo=!0}}f=o.callback,f!==null&&(t.flags|=64,m&&(t.flags|=8192),m=i.callbacks,m===null?i.callbacks=[f]:m.push(f))}else m={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,s|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;m=o,o=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,a===null&&(i.shared.lanes=0),ml|=s,t.lanes=s,t.memoizedState=h}}function xz(t,e){if(typeof t!="function")throw Error(G(191,t));t.call(e)}function bz(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)xz(n[t],e)}var th=Xa(null),Qv=Xa(0);function oR(t,e){t=Os,ct(Qv,t),ct(th,e),Os=t|e.baseLanes}function sT(){ct(Qv,Os),ct(th,th.current)}function l2(){Os=Qv.current,zn(th),zn(Qv)}var vi=Xa(null),Ui=null;function Ro(t){var e=t.alternate;ct(Zt,Zt.current&1),ct(vi,t),Ui===null&&(e===null||th.current!==null||e.memoizedState!==null)&&(Ui=t)}function oT(t){ct(Zt,Zt.current),ct(vi,t),Ui===null&&(Ui=t)}function wz(t){t.tag===22?(ct(Zt,Zt.current),ct(vi,t),Ui===null&&(Ui=t)):Do()}function Do(){ct(Zt,Zt.current),ct(vi,vi.current)}function ri(t){zn(vi),Ui===t&&(Ui=null),zn(Zt)}var Zt=Xa(0);function Xv(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||AT(n)||NT(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Cs=0,xe=null,Ze=null,ln=null,Zv=!1,Ld=!1,Yc=!1,Jv=0,kp=0,Vd=null,XZ=0;function Ft(){throw Error(G(321))}function c2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yi(t[n],e[n]))return!1;return!0}function u2(t,e,n,r,i,a){return Cs=a,xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ge.H=t===null||t.memoizedState===null?Zz:w2,Yc=!1,a=n(r,i),Yc=!1,Ld&&(a=Ez(e,n,r,i)),_z(t),a}function _z(t){ge.H=Op;var e=Ze!==null&&Ze.next!==null;if(Cs=0,ln=Ze=xe=null,Zv=!1,kp=0,Vd=null,e)throw Error(G(300));t===null||dn||(t=t.dependencies,t!==null&&Wv(t)&&(dn=!0))}function Ez(t,e,n,r){xe=t;var i=0;do{if(Ld&&(Vd=null),kp=0,Ld=!1,25<=i)throw Error(G(301));if(i+=1,ln=Ze=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}ge.H=Jz,a=e(n,r)}while(Ld);return a}function ZZ(){var t=ge.H,e=t.useState()[0];return e=typeof e.then=="function"?$g(e):e,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(xe.flags|=1024),e}function d2(){var t=Jv!==0;return Jv=0,t}function h2(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function f2(t){if(Zv){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Zv=!1}Cs=0,ln=Ze=xe=null,Ld=!1,kp=Jv=0,Vd=null}function Sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?xe.memoizedState=ln=t:ln=ln.next=t,ln}function tn(){if(Ze===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var e=ln===null?xe.memoizedState:ln.next;if(e!==null)ln=e,Ze=t;else{if(t===null)throw xe.alternate===null?Error(G(467)):Error(G(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},ln===null?xe.memoizedState=ln=t:ln=ln.next=t}return ln}function cw(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $g(t){var e=kp;return kp+=1,Vd===null&&(Vd=[]),t=gz(Vd,t,e),e=xe,(ln===null?e.memoizedState:ln.next)===null&&(e=e.alternate,ge.H=e===null||e.memoizedState===null?Zz:w2),t}function uw(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return $g(t);if(t.$$typeof===hs)return Zn(t)}throw Error(G(438,String(t)))}function m2(t){var e=null,n=xe.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=xe.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=cw(),xe.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=LX;return e.index++,n}function Ps(t,e){return typeof e=="function"?e(t):e}function av(t){var e=tn();return p2(e,Ze,t)}function p2(t,e,n){var r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var o=s=null,l=null,u=e,d=!1;do{var h=u.lane&-536870913;if(h!==u.lane?(je&h)===h:(Cs&h)===h){var f=u.revertLane;if(f===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===eh&&(d=!0);else if((Cs&f)===f){u=u.next,f===eh&&(d=!0);continue}else h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=h,s=a):l=l.next=h,xe.lanes|=f,ml|=f;h=u.action,Yc&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=f,s=a):l=l.next=f,xe.lanes|=h,ml|=h;u=u.next}while(u!==null&&u!==e);if(l===null?s=a:l.next=o,!yi(a,t.memoizedState)&&(dn=!0,d&&(n=Dd,n!==null)))throw n;t.memoizedState=a,t.baseState=s,t.baseQueue=l,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function rE(t){var e=tn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);yi(a,e.memoizedState)||(dn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Sz(t,e,n){var r=xe,i=tn(),a=Pe;if(a){if(n===void 0)throw Error(G(407));n=n()}else n=e();var s=!yi((Ze||i).memoizedState,n);if(s&&(i.memoizedState=n,dn=!0),i=i.queue,g2(Nz.bind(null,r,i,t),[t]),i.getSnapshot!==e||s||ln!==null&&ln.memoizedState.tag&1){if(r.flags|=2048,nh(9,{destroy:void 0},Az.bind(null,r,i,n,e),null),it===null)throw Error(G(349));a||Cs&127||Tz(r,e,n)}return n}function Tz(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xe.updateQueue,e===null?(e=cw(),xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Az(t,e,n,r){e.value=n,e.getSnapshot=r,Iz(e)&&jz(t)}function Nz(t,e,n){return n(function(){Iz(e)&&jz(t)})}function Iz(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yi(t,n)}catch{return!0}}function jz(t){var e=Eu(t,2);e!==null&&Gr(e,t,2)}function lT(t){var e=Sr();if(typeof t=="function"){var n=t;if(t=n(),Yc){Uo(!0);try{n()}finally{Uo(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:t},e}function Cz(t,e,n,r){return t.baseState=n,p2(t,Ze,typeof r=="function"?r:Ps)}function JZ(t,e,n,r,i){if(hw(t))throw Error(G(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};ge.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,Pz(e,a)):(a.next=n.next,e.pending=n.next=a)}}function Pz(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=ge.T,s={};ge.T=s;try{var o=n(i,r),l=ge.S;l!==null&&l(s,o),lR(t,e,o)}catch(u){cT(t,e,u)}finally{a!==null&&s.types!==null&&(a.types=s.types),ge.T=a}}else try{a=n(i,r),lR(t,e,a)}catch(u){cT(t,e,u)}}function lR(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){cR(t,e,r)},function(r){return cT(t,e,r)}):cR(t,e,n)}function cR(t,e,n){e.status="fulfilled",e.value=n,kz(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Pz(t,n)))}function cT(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,kz(e),e=e.next;while(e!==r)}t.action=null}function kz(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Oz(t,e){return e}function uR(t,e){if(Pe){var n=it.formState;if(n!==null){e:{var r=xe;if(Pe){if(yt){t:{for(var i=yt,a=Mi;i.nodeType!==8;){if(!a){i=null;break t}if(i=Bi(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){yt=Bi(i.nextSibling),r=i.data==="F!";break e}}hl(r)}r=!1}r&&(e=n[0])}}return n=Sr(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oz,lastRenderedState:e},n.queue=r,n=Yz.bind(null,xe,r),r.dispatch=n,r=lT(!1),a=b2.bind(null,xe,!1,r.queue),r=Sr(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=JZ.bind(null,xe,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function dR(t){var e=tn();return Rz(e,Ze,t)}function Rz(t,e,n){if(e=p2(t,e,Oz)[0],t=av(Ps)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=$g(e)}catch(s){throw s===Wh?lw:s}else r=e;e=tn();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(xe.flags|=2048,nh(9,{destroy:void 0},eJ.bind(null,i,n),null)),[r,a,t]}function eJ(t,e){t.action=e}function hR(t){var e=tn(),n=Ze;if(n!==null)return Rz(e,n,t);tn(),e=e.memoizedState,n=tn();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function nh(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=xe.updateQueue,e===null&&(e=cw(),xe.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Dz(){return tn().memoizedState}function sv(t,e,n,r){var i=Sr();xe.flags|=t,i.memoizedState=nh(1|e,{destroy:void 0},n,r===void 0?null:r)}function dw(t,e,n,r){var i=tn();r=r===void 0?null:r;var a=i.memoizedState.inst;Ze!==null&&r!==null&&c2(r,Ze.memoizedState.deps)?i.memoizedState=nh(e,a,n,r):(xe.flags|=t,i.memoizedState=nh(1|e,a,n,r))}function fR(t,e){sv(8390656,8,t,e)}function g2(t,e){dw(2048,8,t,e)}function tJ(t){xe.flags|=4;var e=xe.updateQueue;if(e===null)e=cw(),xe.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function Mz(t){var e=tn().memoizedState;return tJ({ref:e,nextImpl:t}),function(){if(Ve&2)throw Error(G(440));return e.impl.apply(void 0,arguments)}}function Lz(t,e){return dw(4,2,t,e)}function Vz(t,e){return dw(4,4,t,e)}function zz(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Uz(t,e,n){n=n!=null?n.concat([t]):null,dw(4,4,zz.bind(null,e,t),n)}function y2(){}function Bz(t,e){var n=tn();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&c2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Fz(t,e){var n=tn();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&c2(e,r[1]))return r[0];if(r=t(),Yc){Uo(!0);try{t()}finally{Uo(!1)}}return n.memoizedState=[r,e],r}function v2(t,e,n){return n===void 0||Cs&1073741824&&!(je&261930)?t.memoizedState=e:(t.memoizedState=n,t=C9(),xe.lanes|=t,ml|=t,n)}function $z(t,e,n,r){return yi(n,e)?n:th.current!==null?(t=v2(t,n,r),yi(t,e)||(dn=!0),t):!(Cs&42)||Cs&1073741824&&!(je&261930)?(dn=!0,t.memoizedState=n):(t=C9(),xe.lanes|=t,ml|=t,e)}function qz(t,e,n,r,i){var a=Ue.p;Ue.p=a!==0&&8>a?a:8;var s=ge.T,o={};ge.T=o,b2(t,!1,e,n);try{var l=i(),u=ge.S;if(u!==null&&u(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=QZ(l,r);Xm(t,e,d,hi(t))}else Xm(t,e,r,hi(t))}catch(h){Xm(t,e,{then:function(){},status:"rejected",reason:h},hi())}finally{Ue.p=a,s!==null&&o.types!==null&&(s.types=o.types),ge.T=s}}function nJ(){}function uT(t,e,n,r){if(t.tag!==5)throw Error(G(476));var i=Hz(t).queue;qz(t,i,e,Cc,n===null?nJ:function(){return Gz(t),n(r)})}function Hz(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Cc,baseState:Cc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:Cc},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Gz(t){var e=Hz(t);e.next===null&&(e=t.alternate.memoizedState),Xm(t,e.next.queue,{},hi())}function x2(){return Zn(Mp)}function Kz(){return tn().memoizedState}function Wz(){return tn().memoizedState}function rJ(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=hi();t=Xo(n);var r=Zo(e,t,n);r!==null&&(Gr(r,e,n),Wm(r,e,n)),e={cache:i2()},t.payload=e;return}e=e.return}}function iJ(t,e,n){var r=hi();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},hw(t)?Qz(e,n):(n=e2(t,e,n,r),n!==null&&(Gr(n,t,r),Xz(n,e,r)))}function Yz(t,e,n){var r=hi();Xm(t,e,n,r)}function Xm(t,e,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(hw(t))Qz(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,yi(o,s))return ow(t,e,i,0),it===null&&sw(),!1}catch{}finally{}if(n=e2(t,e,i,r),n!==null)return Gr(n,t,r),Xz(n,e,r),!0}return!1}function b2(t,e,n,r){if(r={lane:2,revertLane:j2(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},hw(t)){if(e)throw Error(G(479))}else e=e2(t,n,r,2),e!==null&&Gr(e,t,2)}function hw(t){var e=t.alternate;return t===xe||e!==null&&e===xe}function Qz(t,e){Ld=Zv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Xz(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,MV(t,n)}}var Op={readContext:Zn,use:uw,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft};Op.useEffectEvent=Ft;var Zz={readContext:Zn,use:uw,useCallback:function(t,e){return Sr().memoizedState=[t,e===void 0?null:e],t},useContext:Zn,useEffect:fR,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,sv(4194308,4,zz.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sv(4194308,4,t,e)},useInsertionEffect:function(t,e){sv(4,2,t,e)},useMemo:function(t,e){var n=Sr();e=e===void 0?null:e;var r=t();if(Yc){Uo(!0);try{t()}finally{Uo(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Sr();if(n!==void 0){var i=n(e);if(Yc){Uo(!0);try{n(e)}finally{Uo(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=iJ.bind(null,xe,t),[r.memoizedState,t]},useRef:function(t){var e=Sr();return t={current:t},e.memoizedState=t},useState:function(t){t=lT(t);var e=t.queue,n=Yz.bind(null,xe,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:y2,useDeferredValue:function(t,e){var n=Sr();return v2(n,t,e)},useTransition:function(){var t=lT(!1);return t=qz.bind(null,xe,t.queue,!0,!1),Sr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=xe,i=Sr();if(Pe){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),it===null)throw Error(G(349));je&127||Tz(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,fR(Nz.bind(null,r,a,t),[t]),r.flags|=2048,nh(9,{destroy:void 0},Az.bind(null,r,a,n,e),null),n},useId:function(){var t=Sr(),e=it.identifierPrefix;if(Pe){var n=Aa,r=Ta;n=(r&~(1<<32-di(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Jv++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=XZ++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:x2,useFormState:uR,useActionState:uR,useOptimistic:function(t){var e=Sr();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=b2.bind(null,xe,!0,n),n.dispatch=e,[t,e]},useMemoCache:m2,useCacheRefresh:function(){return Sr().memoizedState=rJ.bind(null,xe)},useEffectEvent:function(t){var e=Sr(),n={impl:t};return e.memoizedState=n,function(){if(Ve&2)throw Error(G(440));return n.impl.apply(void 0,arguments)}}},w2={readContext:Zn,use:uw,useCallback:Bz,useContext:Zn,useEffect:g2,useImperativeHandle:Uz,useInsertionEffect:Lz,useLayoutEffect:Vz,useMemo:Fz,useReducer:av,useRef:Dz,useState:function(){return av(Ps)},useDebugValue:y2,useDeferredValue:function(t,e){var n=tn();return $z(n,Ze.memoizedState,t,e)},useTransition:function(){var t=av(Ps)[0],e=tn().memoizedState;return[typeof t=="boolean"?t:$g(t),e]},useSyncExternalStore:Sz,useId:Kz,useHostTransitionStatus:x2,useFormState:dR,useActionState:dR,useOptimistic:function(t,e){var n=tn();return Cz(n,Ze,t,e)},useMemoCache:m2,useCacheRefresh:Wz};w2.useEffectEvent=Mz;var Jz={readContext:Zn,use:uw,useCallback:Bz,useContext:Zn,useEffect:g2,useImperativeHandle:Uz,useInsertionEffect:Lz,useLayoutEffect:Vz,useMemo:Fz,useReducer:rE,useRef:Dz,useState:function(){return rE(Ps)},useDebugValue:y2,useDeferredValue:function(t,e){var n=tn();return Ze===null?v2(n,t,e):$z(n,Ze.memoizedState,t,e)},useTransition:function(){var t=rE(Ps)[0],e=tn().memoizedState;return[typeof t=="boolean"?t:$g(t),e]},useSyncExternalStore:Sz,useId:Kz,useHostTransitionStatus:x2,useFormState:hR,useActionState:hR,useOptimistic:function(t,e){var n=tn();return Ze!==null?Cz(n,Ze,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:m2,useCacheRefresh:Wz};Jz.useEffectEvent=Mz;function iE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var dT={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=hi(),i=Xo(r);i.payload=e,n!=null&&(i.callback=n),e=Zo(t,i,r),e!==null&&(Gr(e,t,r),Wm(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=hi(),i=Xo(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Zo(t,i,r),e!==null&&(Gr(e,t,r),Wm(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hi(),r=Xo(n);r.tag=2,e!=null&&(r.callback=e),e=Zo(t,r,n),e!==null&&(Gr(e,t,n),Wm(e,t,n))}};function mR(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!Ip(n,r)||!Ip(i,a):!0}function pR(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&dT.enqueueReplaceState(e,e.state,null)}function Qc(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Et({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function e9(t){Hv(t)}function t9(t){console.error(t)}function n9(t){Hv(t)}function ex(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function gR(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function hT(t,e,n){return n=Xo(n),n.tag=3,n.payload={element:null},n.callback=function(){ex(t,e)},n}function r9(t){return t=Xo(t),t.tag=3,t}function i9(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){gR(e,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){gR(e,n,r),typeof i!="function"&&(Jo===null?Jo=new Set([this]):Jo.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function aJ(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&Kh(e,n,i,!0),n=vi.current,n!==null){switch(n.tag){case 31:case 13:return Ui===null?ax():n.alternate===null&&qt===0&&(qt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Yv?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),pE(t,r,i)),!1;case 22:return n.flags|=65536,r===Yv?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),pE(t,r,i)),!1}throw Error(G(435,n.tag))}return pE(t,r,i),ax(),!1}if(Pe)return e=vi.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==JS&&(t=Error(G(422),{cause:r}),Cp(Di(t,n)))):(r!==JS&&(e=Error(G(423),{cause:r}),Cp(Di(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=Di(r,n),i=hT(t.stateNode,r,i),nE(t,i),qt!==4&&(qt=2)),!1;var a=Error(G(520),{cause:r});if(a=Di(a,n),ep===null?ep=[a]:ep.push(a),qt!==4&&(qt=2),e===null)return!0;r=Di(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=hT(n.stateNode,r,t),nE(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Jo===null||!Jo.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=r9(i),i9(i,t,n,r),nE(n,i),!1}n=n.return}while(n!==null);return!1}var _2=Error(G(461)),dn=!1;function Gn(t,e,n,r){e.child=t===null?vz(e,null,n,r):Wc(e,t.child,n,r)}function yR(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}else s=r;return Kc(e),r=u2(t,e,n,s,a,i),o=d2(),t!==null&&!dn?(h2(t,e,i),ks(t,e,i)):(Pe&&o&&n2(e),e.flags|=1,Gn(t,e,r,i),e.child)}function vR(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!t2(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,a9(t,e,a,r,i)):(t=rv(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!E2(t,i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ip,n(s,r)&&t.ref===e.ref)return ks(t,e,i)}return e.flags|=1,t=xs(a,r),t.ref=e.ref,t.return=e,e.child=t}function a9(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Ip(a,r)&&t.ref===e.ref)if(dn=!1,e.pendingProps=r=a,E2(t,i))t.flags&131072&&(dn=!0);else return e.lanes=t.lanes,ks(t,e,i)}return fT(t,e,n,r,i)}function s9(t,e,n,r){var i=r.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,e.child=null;return xR(t,e,a,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&iv(e,a!==null?a.cachePool:null),a!==null?oR(e,a):sT(),wz(e);else return r=e.lanes=536870912,xR(t,e,a!==null?a.baseLanes|n:n,n,r)}else a!==null?(iv(e,a.cachePool),oR(e,a),Do(),e.memoizedState=null):(t!==null&&iv(e,null),sT(),Do());return Gn(t,e,i,n),e.child}function Im(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function xR(t,e,n,r,i){var a=a2();return a=a===null?null:{parent:un._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&iv(e,null),sT(),wz(e),t!==null&&Kh(t,e,r,!0),e.childLanes=i,null}function ov(t,e){return e=tx({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function bR(t,e,n){return Wc(e,t.child,null,n),t=ov(e,e.pendingProps),t.flags|=2,ri(e),e.memoizedState=null,t}function sJ(t,e,n){var r=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Pe){if(r.mode==="hidden")return t=ov(e,r),e.lanes=536870912,Im(null,t);if(oT(e),(t=yt)?(t=Z9(t,Mi),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:dl!==null?{id:Ta,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},n=dz(t),n.return=e,e.child=n,Qn=e,yt=null)):t=null,t===null)throw hl(e);return e.lanes=536870912,null}return ov(e,r)}var a=t.memoizedState;if(a!==null){var s=a.dehydrated;if(oT(e),i)if(e.flags&256)e.flags&=-257,e=bR(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(G(558));else if(dn||Kh(t,e,n,!1),i=(n&t.childLanes)!==0,dn||i){if(r=it,r!==null&&(s=LV(r,n),s!==0&&s!==a.retryLane))throw a.retryLane=s,Eu(t,s),Gr(r,t,s),_2;ax(),e=bR(t,e,n)}else t=a.treeContext,yt=Bi(s.nextSibling),Qn=e,Pe=!0,Qo=null,Mi=!1,t!==null&&fz(e,t),e=ov(e,r),e.flags|=4096;return e}return t=xs(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function lv(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(G(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function fT(t,e,n,r,i){return Kc(e),n=u2(t,e,n,r,void 0,i),r=d2(),t!==null&&!dn?(h2(t,e,i),ks(t,e,i)):(Pe&&r&&n2(e),e.flags|=1,Gn(t,e,n,i),e.child)}function wR(t,e,n,r,i,a){return Kc(e),e.updateQueue=null,n=Ez(e,r,n,i),_z(t),r=d2(),t!==null&&!dn?(h2(t,e,a),ks(t,e,a)):(Pe&&r&&n2(e),e.flags|=1,Gn(t,e,n,a),e.child)}function _R(t,e,n,r,i){if(Kc(e),e.stateNode===null){var a=vd,s=n.contextType;typeof s=="object"&&s!==null&&(a=Zn(s)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=dT,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},o2(e),s=n.contextType,a.context=typeof s=="object"&&s!==null?Zn(s):vd,a.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(iE(e,n,s,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&dT.enqueueReplaceState(a,a.state,null),Qm(e,r,a,i),Ym(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var o=e.memoizedProps,l=Qc(n,o);a.props=l;var u=a.context,d=n.contextType;s=vd,typeof d=="object"&&d!==null&&(s=Zn(d));var h=n.getDerivedStateFromProps;d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||u!==s)&&pR(e,a,r,s),jo=!1;var f=e.memoizedState;a.state=f,Qm(e,r,a,i),Ym(),u=e.memoizedState,o||f!==u||jo?(typeof h=="function"&&(iE(e,n,h,r),u=e.memoizedState),(l=jo||mR(e,n,l,r,f,u,s))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=s,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,iT(t,e),s=e.memoizedProps,d=Qc(n,s),a.props=d,h=e.pendingProps,f=a.context,u=n.contextType,l=vd,typeof u=="object"&&u!==null&&(l=Zn(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==h||f!==l)&&pR(e,a,r,l),jo=!1,f=e.memoizedState,a.state=f,Qm(e,r,a,i),Ym();var m=e.memoizedState;s!==h||f!==m||jo||t!==null&&t.dependencies!==null&&Wv(t.dependencies)?(typeof o=="function"&&(iE(e,n,o,r),m=e.memoizedState),(d=jo||mR(e,n,d,r,f,m,l)||t!==null&&t.dependencies!==null&&Wv(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=l,r=d):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,lv(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=Wc(e,t.child,null,i),e.child=Wc(e,null,n,i)):Gn(t,e,n,i),e.memoizedState=a.state,t=e.child):t=ks(t,e,i),t}function ER(t,e,n,r){return Gc(),e.flags|=256,Gn(t,e,n,r),e.child}var aE={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sE(t){return{baseLanes:t,cachePool:pz()}}function oE(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=oi),t}function o9(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(Zt.current&2)!==0),s&&(i=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(Pe){if(i?Ro(e):Do(),(t=yt)?(t=Z9(t,Mi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:dl!==null?{id:Ta,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},n=dz(t),n.return=e,e.child=n,Qn=e,yt=null)):t=null,t===null)throw hl(e);return NT(t)?e.lanes=32:e.lanes=536870912,null}var o=r.children;return r=r.fallback,i?(Do(),i=e.mode,o=tx({mode:"hidden",children:o},i),r=Pc(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r=e.child,r.memoizedState=sE(n),r.childLanes=oE(t,s,n),e.memoizedState=aE,Im(null,r)):(Ro(e),mT(e,o))}var l=t.memoizedState;if(l!==null&&(o=l.dehydrated,o!==null)){if(a)e.flags&256?(Ro(e),e.flags&=-257,e=lE(t,e,n)):e.memoizedState!==null?(Do(),e.child=t.child,e.flags|=128,e=null):(Do(),o=r.fallback,i=e.mode,r=tx({mode:"visible",children:r.children},i),o=Pc(o,i,n,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,Wc(e,t.child,null,n),r=e.child,r.memoizedState=sE(n),r.childLanes=oE(t,s,n),e.memoizedState=aE,e=Im(null,r));else if(Ro(e),NT(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(G(419)),r.stack="",r.digest=s,Cp({value:r,source:null,stack:null}),e=lE(t,e,n)}else if(dn||Kh(t,e,n,!1),s=(n&t.childLanes)!==0,dn||s){if(s=it,s!==null&&(r=LV(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,Eu(t,r),Gr(s,t,r),_2;AT(o)||ax(),e=lE(t,e,n)}else AT(o)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,yt=Bi(o.nextSibling),Qn=e,Pe=!0,Qo=null,Mi=!1,t!==null&&fz(e,t),e=mT(e,r.children),e.flags|=4096);return e}return i?(Do(),o=r.fallback,i=e.mode,l=t.child,u=l.sibling,r=xs(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?o=xs(u,o):(o=Pc(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,Im(null,r),r=e.child,o=t.child.memoizedState,o===null?o=sE(n):(i=o.cachePool,i!==null?(l=un._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=pz(),o={baseLanes:o.baseLanes|n,cachePool:i}),r.memoizedState=o,r.childLanes=oE(t,s,n),e.memoizedState=aE,Im(t.child,r)):(Ro(e),n=t.child,t=n.sibling,n=xs(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function mT(t,e){return e=tx({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function tx(t,e){return t=ai(22,t,null,e),t.lanes=0,t}function lE(t,e,n){return Wc(e,t.child,null,n),t=mT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function SR(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),tT(t.return,e,n)}function cE(t,e,n,r,i,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=a)}function l9(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var s=Zt.current,o=(s&2)!==0;if(o?(s=s&1|2,e.flags|=128):s&=1,ct(Zt,s),Gn(t,e,r,n),r=Pe?jp:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&SR(t,n,e);else if(t.tag===19)SR(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Xv(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),cE(e,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xv(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}cE(e,!0,n,null,a,r);break;case"together":cE(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function ks(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ml|=e.lanes,!(n&e.childLanes))if(t!==null){if(Kh(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=xs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function E2(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Wv(t)))}function oJ(t,e,n){switch(e.tag){case 3:Bv(e,e.stateNode.containerInfo),Oo(e,un,t.memoizedState.cache),Gc();break;case 27:case 5:FS(e);break;case 4:Bv(e,e.stateNode.containerInfo);break;case 10:Oo(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,oT(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Ro(e),e.flags|=128,null):n&e.child.childLanes?o9(t,e,n):(Ro(e),t=ks(t,e,n),t!==null?t.sibling:null);Ro(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(Kh(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return l9(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ct(Zt,Zt.current),r)break;return null;case 22:return e.lanes=0,s9(t,e,n,e.pendingProps);case 24:Oo(e,un,t.memoizedState.cache)}return ks(t,e,n)}function c9(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)dn=!0;else{if(!E2(t,n)&&!(e.flags&128))return dn=!1,oJ(t,e,n);dn=!!(t.flags&131072)}else dn=!1,Pe&&e.flags&1048576&&hz(e,jp,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=sc(e.elementType),e.type=t,typeof t=="function")t2(t)?(r=Qc(t,r),e.tag=1,e=_R(null,e,t,r,n)):(e.tag=0,e=fT(null,e,t,r,n));else{if(t!=null){var i=t.$$typeof;if(i===BN){e.tag=11,e=yR(null,e,t,r,n);break e}else if(i===FN){e.tag=14,e=vR(null,e,t,r,n);break e}}throw e=US(t)||t,Error(G(306,e,""))}}return e;case 0:return fT(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=Qc(r,e.pendingProps),_R(t,e,r,i,n);case 3:e:{if(Bv(e,e.stateNode.containerInfo),t===null)throw Error(G(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,iT(t,e),Qm(e,r,null,n);var s=e.memoizedState;if(r=s.cache,Oo(e,un,r),r!==a.cache&&nT(e,[un],n,!0),Ym(),r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=ER(t,e,r,n);break e}else if(r!==i){i=Di(Error(G(424)),e),Cp(i),e=ER(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(yt=Bi(t.firstChild),Qn=e,Pe=!0,Qo=null,Mi=!0,n=vz(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Gc(),r===i){e=ks(t,e,n);break e}Gn(t,e,r,n)}e=e.child}return e;case 26:return lv(t,e),t===null?(n=qR(e.type,null,e.pendingProps,null))?e.memoizedState=n:Pe||(n=e.type,t=e.pendingProps,r=cx(Yo.current).createElement(n),r[Yn]=e,r[Kr]=t,Jn(r,n,t),Dn(r),e.stateNode=r):e.memoizedState=qR(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return FS(e),t===null&&Pe&&(r=e.stateNode=J9(e.type,e.pendingProps,Yo.current),Qn=e,Mi=!0,i=yt,Rl(e.type)?(IT=i,yt=Bi(r.firstChild)):yt=i),Gn(t,e,e.pendingProps.children,n),lv(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Pe&&((i=r=yt)&&(r=LJ(r,e.type,e.pendingProps,Mi),r!==null?(e.stateNode=r,Qn=e,yt=Bi(r.firstChild),Mi=!1,i=!0):i=!1),i||hl(e)),FS(e),i=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,r=a.children,ST(i,a)?r=null:s!==null&&ST(i,s)&&(e.flags|=32),e.memoizedState!==null&&(i=u2(t,e,ZZ,null,null,n),Mp._currentValue=i),lv(t,e),Gn(t,e,r,n),e.child;case 6:return t===null&&Pe&&((t=n=yt)&&(n=VJ(n,e.pendingProps,Mi),n!==null?(e.stateNode=n,Qn=e,yt=null,t=!0):t=!1),t||hl(e)),null;case 13:return o9(t,e,n);case 4:return Bv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wc(e,null,r,n):Gn(t,e,r,n),e.child;case 11:return yR(t,e,e.type,e.pendingProps,n);case 7:return Gn(t,e,e.pendingProps,n),e.child;case 8:return Gn(t,e,e.pendingProps.children,n),e.child;case 12:return Gn(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,Oo(e,e.type,r.value),Gn(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,Kc(e),i=Zn(i),r=r(i),e.flags|=1,Gn(t,e,r,n),e.child;case 14:return vR(t,e,e.type,e.pendingProps,n);case 15:return a9(t,e,e.type,e.pendingProps,n);case 19:return l9(t,e,n);case 31:return sJ(t,e,n);case 22:return s9(t,e,n,e.pendingProps);case 24:return Kc(e),r=Zn(un),t===null?(i=a2(),i===null&&(i=it,a=i2(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},o2(e),Oo(e,un,i)):(t.lanes&n&&(iT(t,e),Qm(e,null,null,n),Ym()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Oo(e,un,r)):(r=a.cache,Oo(e,un,r),r!==i.cache&&nT(e,[un],n,!0))),Gn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(G(156,e.tag))}function ns(t){t.flags|=4}function uE(t,e,n,r,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(O9())t.flags|=8192;else throw Oc=Yv,s2}else t.flags&=-16777217}function TR(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!nU(e))if(O9())t.flags|=8192;else throw Oc=Yv,s2}function f0(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?RV():536870912,t.lanes|=e,rh|=e)}function Jf(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function lJ(t,e,n){var r=e.pendingProps;switch(r2(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(e),null;case 1:return pt(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),bs(un),Xd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Bu(e)?ns(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tE())),pt(e),null;case 26:var i=e.type,a=e.memoizedState;return t===null?(ns(e),a!==null?(pt(e),TR(e,a)):(pt(e),uE(e,i,null,r,n))):a?a!==t.memoizedState?(ns(e),pt(e),TR(e,a)):(pt(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&ns(e),pt(e),uE(e,i,t,r,n)),null;case 27:if(Fv(e),n=Yo.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&ns(e);else{if(!r){if(e.stateNode===null)throw Error(G(166));return pt(e),null}t=ka.current,Bu(e)?eR(e):(t=J9(i,r,n),e.stateNode=t,ns(e))}return pt(e),null;case 5:if(Fv(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&ns(e);else{if(!r){if(e.stateNode===null)throw Error(G(166));return pt(e),null}if(a=ka.current,Bu(e))eR(e);else{var s=cx(Yo.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=s.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a=typeof r.is=="string"?s.createElement(i,{is:r.is}):s.createElement(i)}}a[Yn]=e,a[Kr]=r;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)a.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=a;e:switch(Jn(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ns(e)}}return pt(e),uE(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&ns(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(t=Yo.current,Bu(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=Qn,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[Yn]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||Y9(t.nodeValue,n)),t||hl(e,!0)}else t=cx(t).createTextNode(r),t[Yn]=e,e.stateNode=t}return pt(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=Bu(e),n!==null){if(t===null){if(!r)throw Error(G(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(557));t[Yn]=e}else Gc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pt(e),t=!1}else n=tE(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(ri(e),e):(ri(e),null);if(e.flags&128)throw Error(G(558))}return pt(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Bu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(G(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[Yn]=e}else Gc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pt(e),i=!1}else i=tE(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(ri(e),e):(ri(e),null)}return ri(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),f0(e,e.updateQueue),pt(e),null);case 4:return Xd(),t===null&&C2(e.stateNode.containerInfo),pt(e),null;case 10:return bs(e.type),pt(e),null;case 19:if(zn(Zt),r=e.memoizedState,r===null)return pt(e),null;if(i=(e.flags&128)!==0,a=r.rendering,a===null)if(i)Jf(r,!1);else{if(qt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Xv(t),a!==null){for(e.flags|=128,Jf(r,!1),t=a.updateQueue,e.updateQueue=t,f0(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)uz(n,t),n=n.sibling;return ct(Zt,Zt.current&1|2),Pe&&os(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&ci()>rx&&(e.flags|=128,i=!0,Jf(r,!1),e.lanes=4194304)}else{if(!i)if(t=Xv(a),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,f0(e,t),Jf(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Pe)return pt(e),null}else 2*ci()-r.renderingStartTime>rx&&n!==536870912&&(e.flags|=128,i=!0,Jf(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(t=r.last,t!==null?t.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=ci(),t.sibling=null,n=Zt.current,ct(Zt,i?n&1|2:n&1),Pe&&os(e,r.treeForkCount),t):(pt(e),null);case 22:case 23:return ri(e),l2(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(pt(e),e.subtreeFlags&6&&(e.flags|=8192)):pt(e),n=e.updateQueue,n!==null&&f0(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&zn(kc),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),bs(un),pt(e),null;case 25:return null;case 30:return null}throw Error(G(156,e.tag))}function cJ(t,e){switch(r2(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bs(un),Xd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Fv(e),null;case 31:if(e.memoizedState!==null){if(ri(e),e.alternate===null)throw Error(G(340));Gc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(ri(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));Gc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return zn(Zt),null;case 4:return Xd(),null;case 10:return bs(e.type),null;case 22:case 23:return ri(e),l2(),t!==null&&zn(kc),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return bs(un),null;case 25:return null;default:return null}}function u9(t,e){switch(r2(e),e.tag){case 3:bs(un),Xd();break;case 26:case 27:case 5:Fv(e);break;case 4:Xd();break;case 31:e.memoizedState!==null&&ri(e);break;case 13:ri(e);break;case 19:zn(Zt);break;case 10:bs(e.type);break;case 22:case 23:ri(e),l2(),t!==null&&zn(kc);break;case 24:bs(un)}}function qg(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){We(e,e.return,o)}}function fl(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var s=r.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,i=e;var l=n,u=o;try{u()}catch(d){We(i,l,d)}}}r=r.next}while(r!==a)}}catch(d){We(e,e.return,d)}}function d9(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{bz(e,n)}catch(r){We(t,t.return,r)}}}function h9(t,e,n){n.props=Qc(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){We(t,e,r)}}function Zm(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){We(t,e,i)}}function Na(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){We(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){We(t,e,i)}else n.current=null}function f9(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){We(t,t.return,i)}}function dE(t,e,n){try{var r=t.stateNode;PJ(r,t.type,n,e),r[Kr]=e}catch(i){We(t,t.return,i)}}function m9(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Rl(t.type)||t.tag===4}function hE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||m9(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Rl(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pT(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=fs));else if(r!==4&&(r===27&&Rl(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(pT(t,e,n),t=t.sibling;t!==null;)pT(t,e,n),t=t.sibling}function nx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Rl(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(nx(t,e,n),t=t.sibling;t!==null;)nx(t,e,n),t=t.sibling}function p9(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Jn(e,r,n),e[Yn]=t,e[Kr]=n}catch(a){We(t,t.return,a)}}var ls=!1,cn=!1,fE=!1,AR=typeof WeakSet=="function"?WeakSet:Set,On=null;function uJ(t,e){if(t=t.containerInfo,_T=fx,t=nz(t),ZN(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(o=s+i),h!==a||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===i&&(o=s),f===a&&++d===r&&(l=s),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ET={focusedElem:t,selectionRange:n},fx=!1,On=e;On!==null;)if(e=On,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,On=t;else for(;On!==null;){switch(e=On,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var y=Qc(n.type,i);t=r.getSnapshotBeforeUpdate(y,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(v){We(n,n.return,v)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)TT(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":TT(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(G(163))}if(t=e.sibling,t!==null){t.return=e.return,On=t;break}On=e.return}}function g9(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:is(t,n),r&4&&qg(5,n);break;case 1:if(is(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){We(n,n.return,s)}else{var i=Qc(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){We(n,n.return,s)}}r&64&&d9(n),r&512&&Zm(n,n.return);break;case 3:if(is(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{bz(t,e)}catch(s){We(n,n.return,s)}}break;case 27:e===null&&r&4&&p9(n);case 26:case 5:is(t,n),e===null&&r&4&&f9(n),r&512&&Zm(n,n.return);break;case 12:is(t,n);break;case 31:is(t,n),r&4&&x9(t,n);break;case 13:is(t,n),r&4&&b9(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=xJ.bind(null,n),zJ(t,n))));break;case 22:if(r=n.memoizedState!==null||ls,!r){e=e!==null&&e.memoizedState!==null||cn,i=ls;var a=cn;ls=r,(cn=e)&&!a?as(t,n,(n.subtreeFlags&8772)!==0):is(t,n),ls=i,cn=a}break;case 30:break;default:is(t,n)}}function y9(t){var e=t.alternate;e!==null&&(t.alternate=null,y9(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&GN(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,Vr=!1;function rs(t,e,n){for(n=n.child;n!==null;)v9(t,e,n),n=n.sibling}function v9(t,e,n){if(ui&&typeof ui.onCommitFiberUnmount=="function")try{ui.onCommitFiberUnmount(Lg,n)}catch{}switch(n.tag){case 26:cn||Na(n,e),rs(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:cn||Na(n,e);var r=At,i=Vr;Rl(n.type)&&(At=n.stateNode,Vr=!1),rs(t,e,n),np(n.stateNode),At=r,Vr=i;break;case 5:cn||Na(n,e);case 6:if(r=At,i=Vr,At=null,rs(t,e,n),At=r,Vr=i,At!==null)if(Vr)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(n.stateNode)}catch(a){We(n,e,a)}else try{At.removeChild(n.stateNode)}catch(a){We(n,e,a)}break;case 18:At!==null&&(Vr?(t=At,zR(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),oh(t)):zR(At,n.stateNode));break;case 4:r=At,i=Vr,At=n.stateNode.containerInfo,Vr=!0,rs(t,e,n),At=r,Vr=i;break;case 0:case 11:case 14:case 15:fl(2,n,e),cn||fl(4,n,e),rs(t,e,n);break;case 1:cn||(Na(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&h9(n,e,r)),rs(t,e,n);break;case 21:rs(t,e,n);break;case 22:cn=(r=cn)||n.memoizedState!==null,rs(t,e,n),cn=r;break;default:rs(t,e,n)}}function x9(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{oh(t)}catch(n){We(e,e.return,n)}}}function b9(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{oh(t)}catch(n){We(e,e.return,n)}}function dJ(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new AR),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new AR),e;default:throw Error(G(435,t.tag))}}function m0(t,e){var n=dJ(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var i=bJ.bind(null,t,r);r.then(i,i)}})}function Mr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 27:if(Rl(o.type)){At=o.stateNode,Vr=!1;break e}break;case 5:At=o.stateNode,Vr=!1;break e;case 3:case 4:At=o.stateNode.containerInfo,Vr=!0;break e}o=o.return}if(At===null)throw Error(G(160));v9(a,s,i),At=null,Vr=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)w9(e,t),e=e.sibling}var ra=null;function w9(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mr(e,t),Lr(t),r&4&&(fl(3,t,t.return),qg(3,t),fl(5,t,t.return));break;case 1:Mr(e,t),Lr(t),r&512&&(cn||n===null||Na(n,n.return)),r&64&&ls&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=ra;if(Mr(e,t),Lr(t),r&512&&(cn||n===null||Na(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[Ug]||a[Yn]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),Jn(a,r,n),a[Yn]=t,Dn(a),r=a;break e;case"link":var s=GR("link","href",i).get(r+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break t}}a=i.createElement(r),Jn(a,r,n),i.head.appendChild(a);break;case"meta":if(s=GR("meta","content",i).get(r+(n.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break t}}a=i.createElement(r),Jn(a,r,n),i.head.appendChild(a);break;default:throw Error(G(468,r))}a[Yn]=t,Dn(a),r=a}t.stateNode=r}else KR(i,t.type,t.stateNode);else t.stateNode=HR(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?KR(i,t.type,t.stateNode):HR(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&dE(t,t.memoizedProps,n.memoizedProps)}break;case 27:Mr(e,t),Lr(t),r&512&&(cn||n===null||Na(n,n.return)),n!==null&&r&4&&dE(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Mr(e,t),Lr(t),r&512&&(cn||n===null||Na(n,n.return)),t.flags&32){i=t.stateNode;try{Jd(i,"")}catch(y){We(t,t.return,y)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,dE(t,i,n!==null?n.memoizedProps:i)),r&1024&&(fE=!0);break;case 6:if(Mr(e,t),Lr(t),r&4){if(t.stateNode===null)throw Error(G(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(y){We(t,t.return,y)}}break;case 3:if(dv=null,i=ra,ra=ux(e.containerInfo),Mr(e,t),ra=i,Lr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{oh(e.containerInfo)}catch(y){We(t,t.return,y)}fE&&(fE=!1,_9(t));break;case 4:r=ra,ra=ux(t.stateNode.containerInfo),Mr(e,t),Lr(t),ra=r;break;case 12:Mr(e,t),Lr(t);break;case 31:Mr(e,t),Lr(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,m0(t,r)));break;case 13:Mr(e,t),Lr(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(fw=ci()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,m0(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=ls,d=cn;if(ls=u||i,cn=d||l,Mr(e,t),cn=d,ls=u,Lr(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||ls||cn||oc(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(a=l.stateNode,i)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=l.stateNode;var h=l.memoizedProps.style,f=h!=null&&h.hasOwnProperty("display")?h.display:null;o.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(y){We(l,l.return,y)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(y){We(l,l.return,y)}}}else if(e.tag===18){if(n===null){l=e;try{var m=l.stateNode;i?UR(m,!0):UR(l.stateNode,!1)}catch(y){We(l,l.return,y)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,m0(t,n))));break;case 19:Mr(e,t),Lr(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,m0(t,r)));break;case 30:break;case 21:break;default:Mr(e,t),Lr(t)}}function Lr(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(m9(r)){n=r;break}r=r.return}if(n==null)throw Error(G(160));switch(n.tag){case 27:var i=n.stateNode,a=hE(t);nx(t,a,i);break;case 5:var s=n.stateNode;n.flags&32&&(Jd(s,""),n.flags&=-33);var o=hE(t);nx(t,o,s);break;case 3:case 4:var l=n.stateNode.containerInfo,u=hE(t);pT(t,u,l);break;default:throw Error(G(161))}}catch(d){We(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _9(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;_9(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function is(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)g9(t,e.alternate,e),e=e.sibling}function oc(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:fl(4,e,e.return),oc(e);break;case 1:Na(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&h9(e,e.return,n),oc(e);break;case 27:np(e.stateNode);case 26:case 5:Na(e,e.return),oc(e);break;case 22:e.memoizedState===null&&oc(e);break;case 30:oc(e);break;default:oc(e)}t=t.sibling}}function as(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:as(i,a,n),qg(4,a);break;case 1:if(as(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){We(r,r.return,u)}if(r=a,i=r.updateQueue,i!==null){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)xz(l[i],o)}catch(u){We(r,r.return,u)}}n&&s&64&&d9(a),Zm(a,a.return);break;case 27:p9(a);case 26:case 5:as(i,a,n),n&&r===null&&s&4&&f9(a),Zm(a,a.return);break;case 12:as(i,a,n);break;case 31:as(i,a,n),n&&s&4&&x9(i,a);break;case 13:as(i,a,n),n&&s&4&&b9(i,a);break;case 22:a.memoizedState===null&&as(i,a,n),Zm(a,a.return);break;case 30:break;default:as(i,a,n)}e=e.sibling}}function S2(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Fg(n))}function T2(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Fg(t))}function ta(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)E9(t,e,n,r),e=e.sibling}function E9(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:ta(t,e,n,r),i&2048&&qg(9,e);break;case 1:ta(t,e,n,r);break;case 3:ta(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Fg(t)));break;case 12:if(i&2048){ta(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){We(e,e.return,l)}}else ta(t,e,n,r);break;case 31:ta(t,e,n,r);break;case 13:ta(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,s=e.alternate,e.memoizedState!==null?a._visibility&2?ta(t,e,n,r):Jm(t,e):a._visibility&2?ta(t,e,n,r):(a._visibility|=2,rd(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),i&2048&&S2(s,e);break;case 24:ta(t,e,n,r),i&2048&&T2(e.alternate,e);break;default:ta(t,e,n,r)}}function rd(t,e,n,r,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,s=e,o=n,l=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:rd(a,s,o,l,i),qg(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?rd(a,s,o,l,i):Jm(a,s):(d._visibility|=2,rd(a,s,o,l,i)),i&&u&2048&&S2(s.alternate,s);break;case 24:rd(a,s,o,l,i),i&&u&2048&&T2(s.alternate,s);break;default:rd(a,s,o,l,i)}e=e.sibling}}function Jm(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:Jm(n,r),i&2048&&S2(r.alternate,r);break;case 24:Jm(n,r),i&2048&&T2(r.alternate,r);break;default:Jm(n,r)}e=e.sibling}}var jm=8192;function Fu(t,e,n){if(t.subtreeFlags&jm)for(t=t.child;t!==null;)S9(t,e,n),t=t.sibling}function S9(t,e,n){switch(t.tag){case 26:Fu(t,e,n),t.flags&jm&&t.memoizedState!==null&&XJ(n,ra,t.memoizedState,t.memoizedProps);break;case 5:Fu(t,e,n);break;case 3:case 4:var r=ra;ra=ux(t.stateNode.containerInfo),Fu(t,e,n),ra=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=jm,jm=16777216,Fu(t,e,n),jm=r):Fu(t,e,n));break;default:Fu(t,e,n)}}function T9(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function em(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];On=r,N9(r,t)}T9(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)A9(t),t=t.sibling}function A9(t){switch(t.tag){case 0:case 11:case 15:em(t),t.flags&2048&&fl(9,t,t.return);break;case 3:em(t);break;case 12:em(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,cv(t)):em(t);break;default:em(t)}}function cv(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];On=r,N9(r,t)}T9(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:fl(8,e,e.return),cv(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,cv(e));break;default:cv(e)}t=t.sibling}}function N9(t,e){for(;On!==null;){var n=On;switch(n.tag){case 0:case 11:case 15:fl(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Fg(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,On=r;else e:for(n=t;On!==null;){r=On;var i=r.sibling,a=r.return;if(y9(r),r===n){On=null;break e}if(i!==null){i.return=a,On=i;break e}On=a}}}var hJ={getCacheForType:function(t){var e=Zn(un),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Zn(un).controller.signal}},fJ=typeof WeakMap=="function"?WeakMap:Map,Ve=0,it=null,Ae=null,je=0,Ge=0,ei=null,Fo=!1,Yh=!1,A2=!1,Os=0,qt=0,ml=0,Rc=0,N2=0,oi=0,rh=0,ep=null,zr=null,gT=!1,fw=0,I9=0,rx=1/0,ix=null,Jo=null,wn=0,el=null,ih=null,ws=0,yT=0,vT=null,j9=null,tp=0,xT=null;function hi(){return Ve&2&&je!==0?je&-je:ge.T!==null?j2():VV()}function C9(){if(oi===0)if(!(je&536870912)||Pe){var t=s0;s0<<=1,!(s0&3932160)&&(s0=262144),oi=t}else oi=536870912;return t=vi.current,t!==null&&(t.flags|=32),oi}function Gr(t,e,n){(t===it&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)&&(ah(t,0),$o(t,je,oi,!1)),zg(t,n),(!(Ve&2)||t!==it)&&(t===it&&(!(Ve&2)&&(Rc|=n),qt===4&&$o(t,je,oi,!1)),Za(t))}function P9(t,e,n){if(Ve&6)throw Error(G(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Vg(t,e),i=r?gJ(t,e):mE(t,e,!0),a=r;do{if(i===0){Yh&&!r&&$o(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!mJ(n)){i=mE(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var o=t;i=ep;var l=o.current.memoizedState.isDehydrated;if(l&&(ah(o,s).flags|=256),s=mE(o,s,!1),s!==2){if(A2&&!l){o.errorRecoveryDisabledLanes|=a,Rc|=a,i=4;break e}a=zr,zr=i,a!==null&&(zr===null?zr=a:zr.push.apply(zr,a))}i=s}if(a=!1,i!==2)continue}}if(i===1){ah(t,0),$o(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error(G(345));case 4:if((e&4194048)!==e)break;case 6:$o(r,e,oi,!Fo);break e;case 2:zr=null;break;case 3:case 5:break;default:throw Error(G(329))}if((e&62914560)===e&&(i=fw+300-ci(),10<i)){if($o(r,e,oi,!Fo),nw(r,0,!0)!==0)break e;ws=e,r.timeoutHandle=X9(NR.bind(null,r,n,zr,ix,gT,e,oi,Rc,rh,Fo,a,"Throttled",-0,0),i);break e}NR(r,n,zr,ix,gT,e,oi,Rc,rh,Fo,a,null,-0,0)}}break}while(!0);Za(t)}function NR(t,e,n,r,i,a,s,o,l,u,d,h,f,m){if(t.timeoutHandle=-1,h=e.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fs},S9(e,a,h);var y=(a&62914560)===a?fw-ci():(a&4194048)===a?I9-ci():0;if(y=ZJ(h,y),y!==null){ws=a,t.cancelPendingCommit=y(jR.bind(null,t,e,a,n,r,i,s,o,l,d,h,null,f,m)),$o(t,a,s,!u);return}}jR(t,e,a,n,r,i,s,o,l)}function mJ(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!yi(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $o(t,e,n,r){e&=~N2,e&=~Rc,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-di(i),s=1<<a;r[a]=-1,i&=~s}n!==0&&DV(t,n,e)}function mw(){return Ve&6?!0:(Hg(0),!1)}function I2(){if(Ae!==null){if(Ge===0)var t=Ae.return;else t=Ae,ms=Su=null,f2(t),Md=null,Pp=0,t=Ae;for(;t!==null;)u9(t.alternate,t),t=t.return;Ae=null}}function ah(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,RJ(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),ws=0,I2(),it=t,Ae=n=xs(t.current,null),je=e,Ge=0,ei=null,Fo=!1,Yh=Vg(t,e),A2=!1,rh=oi=N2=Rc=ml=qt=0,zr=ep=null,gT=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-di(r),a=1<<i;e|=t[i],r&=~a}return Os=e,sw(),n}function k9(t,e){xe=null,ge.H=Op,e===Wh||e===lw?(e=aR(),Ge=3):e===s2?(e=aR(),Ge=4):Ge=e===_2?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,ei=e,Ae===null&&(qt=1,ex(t,Di(e,t.current)))}function O9(){var t=vi.current;return t===null?!0:(je&4194048)===je?Ui===null:(je&62914560)===je||je&536870912?t===Ui:!1}function R9(){var t=ge.H;return ge.H=Op,t===null?Op:t}function D9(){var t=ge.A;return ge.A=hJ,t}function ax(){qt=4,Fo||(je&4194048)!==je&&vi.current!==null||(Yh=!0),!(ml&134217727)&&!(Rc&134217727)||it===null||$o(it,je,oi,!1)}function mE(t,e,n){var r=Ve;Ve|=2;var i=R9(),a=D9();(it!==t||je!==e)&&(ix=null,ah(t,e)),e=!1;var s=qt;e:do try{if(Ge!==0&&Ae!==null){var o=Ae,l=ei;switch(Ge){case 8:I2(),s=6;break e;case 3:case 2:case 9:case 6:vi.current===null&&(e=!0);var u=Ge;if(Ge=0,ei=null,wd(t,o,l,u),n&&Yh){s=0;break e}break;default:u=Ge,Ge=0,ei=null,wd(t,o,l,u)}}pJ(),s=qt;break}catch(d){k9(t,d)}while(!0);return e&&t.shellSuspendCounter++,ms=Su=null,Ve=r,ge.H=i,ge.A=a,Ae===null&&(it=null,je=0,sw()),s}function pJ(){for(;Ae!==null;)M9(Ae)}function gJ(t,e){var n=Ve;Ve|=2;var r=R9(),i=D9();it!==t||je!==e?(ix=null,rx=ci()+500,ah(t,e)):Yh=Vg(t,e);e:do try{if(Ge!==0&&Ae!==null){e=Ae;var a=ei;t:switch(Ge){case 1:Ge=0,ei=null,wd(t,e,a,1);break;case 2:case 9:if(iR(a)){Ge=0,ei=null,IR(e);break}e=function(){Ge!==2&&Ge!==9||it!==t||(Ge=7),Za(t)},a.then(e,e);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:iR(a)?(Ge=0,ei=null,IR(e)):(Ge=0,ei=null,wd(t,e,a,7));break;case 5:var s=null;switch(Ae.tag){case 26:s=Ae.memoizedState;case 5:case 27:var o=Ae;if(s?nU(s):o.stateNode.complete){Ge=0,ei=null;var l=o.sibling;if(l!==null)Ae=l;else{var u=o.return;u!==null?(Ae=u,pw(u)):Ae=null}break t}}Ge=0,ei=null,wd(t,e,a,5);break;case 6:Ge=0,ei=null,wd(t,e,a,6);break;case 8:I2(),qt=6;break e;default:throw Error(G(462))}}yJ();break}catch(d){k9(t,d)}while(!0);return ms=Su=null,ge.H=r,ge.A=i,Ve=n,Ae!==null?0:(it=null,je=0,sw(),qt)}function yJ(){for(;Ae!==null&&!UX();)M9(Ae)}function M9(t){var e=c9(t.alternate,t,Os);t.memoizedProps=t.pendingProps,e===null?pw(t):Ae=e}function IR(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=wR(n,e,e.pendingProps,e.type,void 0,je);break;case 11:e=wR(n,e,e.pendingProps,e.type.render,e.ref,je);break;case 5:f2(e);default:u9(n,e),e=Ae=uz(e,Os),e=c9(n,e,Os)}t.memoizedProps=t.pendingProps,e===null?pw(t):Ae=e}function wd(t,e,n,r){ms=Su=null,f2(e),Md=null,Pp=0;var i=e.return;try{if(aJ(t,i,e,n,je)){qt=1,ex(t,Di(n,t.current)),Ae=null;return}}catch(a){if(i!==null)throw Ae=i,a;qt=1,ex(t,Di(n,t.current)),Ae=null;return}e.flags&32768?(Pe||r===1?t=!0:Yh||je&536870912?t=!1:(Fo=t=!0,(r===2||r===9||r===3||r===6)&&(r=vi.current,r!==null&&r.tag===13&&(r.flags|=16384))),L9(e,t)):pw(e)}function pw(t){var e=t;do{if(e.flags&32768){L9(e,Fo);return}t=e.return;var n=lJ(e.alternate,e,Os);if(n!==null){Ae=n;return}if(e=e.sibling,e!==null){Ae=e;return}Ae=e=t}while(e!==null);qt===0&&(qt=5)}function L9(t,e){do{var n=cJ(t.alternate,t);if(n!==null){n.flags&=32767,Ae=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Ae=t;return}Ae=t=n}while(t!==null);qt=6,Ae=null}function jR(t,e,n,r,i,a,s,o,l){t.cancelPendingCommit=null;do gw();while(wn!==0);if(Ve&6)throw Error(G(327));if(e!==null){if(e===t.current)throw Error(G(177));if(a=e.lanes|e.childLanes,a|=JN,QX(t,n,a,s,o,l),t===it&&(Ae=it=null,je=0),ih=e,el=t,ws=n,yT=a,vT=i,j9=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,wJ($v,function(){return F9(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=ge.T,ge.T=null,i=Ue.p,Ue.p=2,s=Ve,Ve|=4;try{uJ(t,e,n)}finally{Ve=s,Ue.p=i,ge.T=r}}wn=1,V9(),z9(),U9()}}function V9(){if(wn===1){wn=0;var t=el,e=ih,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=ge.T,ge.T=null;var r=Ue.p;Ue.p=2;var i=Ve;Ve|=4;try{w9(e,t);var a=ET,s=nz(t.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&tz(o.ownerDocument.documentElement,o)){if(l!==null&&ZN(o)){var u=l.start,d=l.end;if(d===void 0&&(d=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(d,o.value.length);else{var h=o.ownerDocument||document,f=h&&h.defaultView||window;if(f.getSelection){var m=f.getSelection(),y=o.textContent.length,v=Math.min(l.start,y),x=l.end===void 0?v:Math.min(l.end,y);!m.extend&&v>x&&(s=x,x=v,v=s);var b=XO(o,v),w=XO(o,x);if(b&&w&&(m.rangeCount!==1||m.anchorNode!==b.node||m.anchorOffset!==b.offset||m.focusNode!==w.node||m.focusOffset!==w.offset)){var _=h.createRange();_.setStart(b.node,b.offset),m.removeAllRanges(),v>x?(m.addRange(_),m.extend(w.node,w.offset)):(_.setEnd(w.node,w.offset),m.addRange(_))}}}}for(h=[],m=o;m=m.parentNode;)m.nodeType===1&&h.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<h.length;o++){var S=h[o];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}fx=!!_T,ET=_T=null}finally{Ve=i,Ue.p=r,ge.T=n}}t.current=e,wn=2}}function z9(){if(wn===2){wn=0;var t=el,e=ih,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=ge.T,ge.T=null;var r=Ue.p;Ue.p=2;var i=Ve;Ve|=4;try{g9(t,e.alternate,e)}finally{Ve=i,Ue.p=r,ge.T=n}}wn=3}}function U9(){if(wn===4||wn===3){wn=0,BX();var t=el,e=ih,n=ws,r=j9;e.subtreeFlags&10256||e.flags&10256?wn=5:(wn=0,ih=el=null,B9(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Jo=null),HN(n),e=e.stateNode,ui&&typeof ui.onCommitFiberRoot=="function")try{ui.onCommitFiberRoot(Lg,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=ge.T,i=Ue.p,Ue.p=2,ge.T=null;try{for(var a=t.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{ge.T=e,Ue.p=i}}ws&3&&gw(),Za(t),i=t.pendingLanes,n&261930&&i&42?t===xT?tp++:(tp=0,xT=t):tp=0,Hg(0)}}function B9(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Fg(e)))}function gw(){return V9(),z9(),U9(),F9()}function F9(){if(wn!==5)return!1;var t=el,e=yT;yT=0;var n=HN(ws),r=ge.T,i=Ue.p;try{Ue.p=32>n?32:n,ge.T=null,n=vT,vT=null;var a=el,s=ws;if(wn=0,ih=el=null,ws=0,Ve&6)throw Error(G(331));var o=Ve;if(Ve|=4,A9(a.current),E9(a,a.current,s,n),Ve=o,Hg(0,!1),ui&&typeof ui.onPostCommitFiberRoot=="function")try{ui.onPostCommitFiberRoot(Lg,a)}catch{}return!0}finally{Ue.p=i,ge.T=r,B9(t,e)}}function CR(t,e,n){e=Di(n,e),e=hT(t.stateNode,e,2),t=Zo(t,e,2),t!==null&&(zg(t,2),Za(t))}function We(t,e,n){if(t.tag===3)CR(t,t,n);else for(;e!==null;){if(e.tag===3){CR(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jo===null||!Jo.has(r))){t=Di(n,t),n=r9(2),r=Zo(e,n,2),r!==null&&(i9(n,r,e,t),zg(r,2),Za(r));break}}e=e.return}}function pE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new fJ;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(A2=!0,i.add(n),t=vJ.bind(null,t,e,n),e.then(t,t))}function vJ(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,it===t&&(je&n)===n&&(qt===4||qt===3&&(je&62914560)===je&&300>ci()-fw?!(Ve&2)&&ah(t,0):N2|=n,rh===je&&(rh=0)),Za(t)}function $9(t,e){e===0&&(e=RV()),t=Eu(t,e),t!==null&&(zg(t,e),Za(t))}function xJ(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$9(t,n)}function bJ(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(G(314))}r!==null&&r.delete(e),$9(t,n)}function wJ(t,e){return $N(t,e)}var sx=null,id=null,bT=!1,ox=!1,gE=!1,qo=0;function Za(t){t!==id&&t.next===null&&(id===null?sx=id=t:id=id.next=t),ox=!0,bT||(bT=!0,EJ())}function Hg(t,e){if(!gE&&ox){gE=!0;do for(var n=!1,r=sx;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-di(42|t)+1)-1,a&=i&~(s&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,PR(r,a))}else a=je,a=nw(r,r===it?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Vg(r,a)||(n=!0,PR(r,a));r=r.next}while(n);gE=!1}}function _J(){q9()}function q9(){ox=bT=!1;var t=0;qo!==0&&OJ()&&(t=qo);for(var e=ci(),n=null,r=sx;r!==null;){var i=r.next,a=H9(r,e);a===0?(r.next=null,n===null?sx=i:n.next=i,i===null&&(id=n)):(n=r,(t!==0||a&3)&&(ox=!0)),r=i}wn!==0&&wn!==5||Hg(t),qo!==0&&(qo=0)}function H9(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var s=31-di(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=YX(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}if(e=it,n=je,n=nw(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&q_(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Vg(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&q_(r),HN(n)){case 2:case 8:n=kV;break;case 32:n=$v;break;case 268435456:n=OV;break;default:n=$v}return r=G9.bind(null,t),n=$N(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&q_(r),t.callbackPriority=2,t.callbackNode=null,2}function G9(t,e){if(wn!==0&&wn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(gw()&&t.callbackNode!==n)return null;var r=je;return r=nw(t,t===it?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(P9(t,r,e),H9(t,ci()),t.callbackNode!=null&&t.callbackNode===n?G9.bind(null,t):null)}function PR(t,e){if(gw())return null;P9(t,e,!0)}function EJ(){DJ(function(){Ve&6?$N(PV,_J):q9()})}function j2(){if(qo===0){var t=eh;t===0&&(t=a0,a0<<=1,!(a0&261888)&&(a0=256)),qo=t}return qo}function kR(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ev(""+t)}function OR(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function SJ(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=kR((i[Kr]||null).action),s=r.submitter;s&&(e=(e=s[Kr]||null)?kR(e.formAction):s.getAttribute("formAction"),e!==null&&(a=e,s=null));var o=new rw("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(qo!==0){var l=s?OR(i,s):new FormData(i);uT(n,{pending:!0,data:l,method:i.method,action:a},null,l)}}else typeof a=="function"&&(o.preventDefault(),l=s?OR(i,s):new FormData(i),uT(n,{pending:!0,data:l,method:i.method,action:a},a,l))},currentTarget:i}]})}}for(var yE=0;yE<ZS.length;yE++){var vE=ZS[yE],TJ=vE.toLowerCase(),AJ=vE[0].toUpperCase()+vE.slice(1);da(TJ,"on"+AJ)}da(iz,"onAnimationEnd");da(az,"onAnimationIteration");da(sz,"onAnimationStart");da("dblclick","onDoubleClick");da("focusin","onFocus");da("focusout","onBlur");da(FZ,"onTransitionRun");da($Z,"onTransitionStart");da(qZ,"onTransitionCancel");da(oz,"onTransitionEnd");Zd("onMouseEnter",["mouseout","mouseover"]);Zd("onMouseLeave",["mouseout","mouseover"]);Zd("onPointerEnter",["pointerout","pointerover"]);Zd("onPointerLeave",["pointerout","pointerover"]);bu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bu("onBeforeInput",["compositionend","keypress","textInput","paste"]);bu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NJ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rp));function K9(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(d){Hv(d)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(d){Hv(d)}i.currentTarget=null,a=l}}}}function Se(t,e){var n=e[qS];n===void 0&&(n=e[qS]=new Set);var r=t+"__bubble";n.has(r)||(W9(e,t,2,!1),n.add(r))}function xE(t,e,n){var r=0;e&&(r|=4),W9(n,t,r,e)}var p0="_reactListening"+Math.random().toString(36).slice(2);function C2(t){if(!t[p0]){t[p0]=!0,zV.forEach(function(n){n!=="selectionchange"&&(NJ.has(n)||xE(n,!1,t),xE(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[p0]||(e[p0]=!0,xE("selectionchange",!1,e))}}function W9(t,e,n,r){switch(oU(e)){case 2:var i=tee;break;case 8:i=nee;break;default:i=R2}n=i.bind(null,e,n,t),i=void 0,!YS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function bE(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;o!==null;){if(s=hd(o),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue e}o=o.parentNode}}r=r.return}KV(function(){var u=a,d=WN(n),h=[];e:{var f=lz.get(t);if(f!==void 0){var m=rw,y=t;switch(t){case"keypress":if(nv(n)===0)break e;case"keydown":case"keyup":m=bZ;break;case"focusin":y="focus",m=Y_;break;case"focusout":y="blur",m=Y_;break;case"beforeblur":case"afterblur":m=Y_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=BO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=lZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=EZ;break;case iz:case az:case sz:m=dZ;break;case oz:m=TZ;break;case"scroll":case"scrollend":m=sZ;break;case"wheel":m=NZ;break;case"copy":case"cut":case"paste":m=fZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=$O;break;case"toggle":case"beforetoggle":m=jZ}var v=(e&4)!==0,x=!v&&(t==="scroll"||t==="scrollend"),b=v?f!==null?f+"Capture":null:f;v=[];for(var w=u,_;w!==null;){var S=w;if(_=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||_===null||b===null||(S=Ap(w,b),S!=null&&v.push(Dp(w,S,_))),x)break;w=w.return}0<v.length&&(f=new m(f,y,null,n,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==WS&&(y=n.relatedTarget||n.fromElement)&&(hd(y)||y[Hh]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?hd(y):null,y!==null&&(x=Mg(y),v=y.tag,y!==x||v!==5&&v!==27&&v!==6)&&(y=null)):(m=null,y=u),m!==y)){if(v=BO,S="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=$O,S="onPointerLeave",b="onPointerEnter",w="pointer"),x=m==null?f:Nm(m),_=y==null?f:Nm(y),f=new v(S,w+"leave",m,n,d),f.target=x,f.relatedTarget=_,S=null,hd(d)===u&&(v=new v(b,w+"enter",y,n,d),v.target=_,v.relatedTarget=x,S=v),x=S,m&&y)t:{for(v=IJ,b=m,w=y,_=0,S=b;S;S=v(S))_++;S=0;for(var A=w;A;A=v(A))S++;for(;0<_-S;)b=v(b),_--;for(;0<S-_;)w=v(w),S--;for(;_--;){if(b===w||w!==null&&b===w.alternate){v=b;break t}b=v(b),w=v(w)}v=null}else v=null;m!==null&&RR(h,f,m,v,!1),y!==null&&x!==null&&RR(h,x,y,v,!0)}}e:{if(f=u?Nm(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var C=KO;else if(GO(f))if(JV)C=zZ;else{C=LZ;var N=MZ}else m=f.nodeName,!m||m.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?u&&KN(u.elementType)&&(C=KO):C=VZ;if(C&&(C=C(t,u))){ZV(h,C,n,d);break e}N&&N(t,f,u),t==="focusout"&&u&&f.type==="number"&&u.memoizedProps.value!=null&&KS(f,"number",f.value)}switch(N=u?Nm(u):window,t){case"focusin":(GO(N)||N.contentEditable==="true")&&(pd=N,QS=u,Gm=null);break;case"focusout":Gm=QS=pd=null;break;case"mousedown":XS=!0;break;case"contextmenu":case"mouseup":case"dragend":XS=!1,ZO(h,n,d);break;case"selectionchange":if(BZ)break;case"keydown":case"keyup":ZO(h,n,d)}var T;if(XN)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else md?QV(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(YV&&n.locale!=="ko"&&(md||I!=="onCompositionStart"?I==="onCompositionEnd"&&md&&(T=WV()):(Bo=d,YN="value"in Bo?Bo.value:Bo.textContent,md=!0)),N=lx(u,I),0<N.length&&(I=new FO(I,t,null,n,d),h.push({event:I,listeners:N}),T?I.data=T:(T=XV(n),T!==null&&(I.data=T)))),(T=PZ?kZ(t,n):OZ(t,n))&&(I=lx(u,"onBeforeInput"),0<I.length&&(N=new FO("onBeforeInput","beforeinput",null,n,d),h.push({event:N,listeners:I}),N.data=T)),SJ(h,t,u,n,d)}K9(h,e)})}function Dp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function lx(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=Ap(t,n),i!=null&&r.unshift(Dp(t,i,a)),i=Ap(t,e),i!=null&&r.push(Dp(t,i,a))),t.tag===3)return r;t=t.return}return[]}function IJ(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function RR(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,l!==null&&l===r)break;o!==5&&o!==26&&o!==27||u===null||(l=u,i?(u=Ap(n,a),u!=null&&s.unshift(Dp(n,u,l))):i||(u=Ap(n,a),u!=null&&s.push(Dp(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var jJ=/\r\n?/g,CJ=/\u0000|\uFFFD/g;function DR(t){return(typeof t=="string"?t:""+t).replace(jJ,`
`).replace(CJ,"")}function Y9(t,e){return e=DR(e),DR(t)===e}function Xe(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Jd(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Jd(t,""+r);break;case"className":l0(t,"class",r);break;case"tabIndex":l0(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":l0(t,n,r);break;case"style":GV(t,r,a);break;case"data":if(e!=="object"){l0(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=ev(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&Xe(t,e,"name",i.name,i,null),Xe(t,e,"formEncType",i.formEncType,i,null),Xe(t,e,"formMethod",i.formMethod,i,null),Xe(t,e,"formTarget",i.formTarget,i,null)):(Xe(t,e,"encType",i.encType,i,null),Xe(t,e,"method",i.method,i,null),Xe(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=ev(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=fs);break;case"onScroll":r!=null&&Se("scroll",t);break;case"onScrollEnd":r!=null&&Se("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(G(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(G(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=ev(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":Se("beforetoggle",t),Se("toggle",t),J0(t,"popover",r);break;case"xlinkActuate":ts(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ts(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ts(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ts(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ts(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ts(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ts(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ts(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ts(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":J0(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=iZ.get(n)||n,J0(t,n,r))}}function wT(t,e,n,r,i,a){switch(n){case"style":GV(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(G(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(G(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Jd(t,r):(typeof r=="number"||typeof r=="bigint")&&Jd(t,""+r);break;case"onScroll":r!=null&&Se("scroll",t);break;case"onScrollEnd":r!=null&&Se("scrollend",t);break;case"onClick":r!=null&&(t.onclick=fs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!UV.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[Kr]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):J0(t,n,r)}}}function Jn(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",t),Se("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(G(137,e));default:Xe(t,e,a,s,n,null)}}i&&Xe(t,e,"srcSet",n.srcSet,n,null),r&&Xe(t,e,"src",n.src,n,null);return;case"input":Se("invalid",t);var o=a=s=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case"name":i=d;break;case"type":s=d;break;case"checked":l=d;break;case"defaultChecked":u=d;break;case"value":a=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(G(137,e));break;default:Xe(t,e,r,d,n,null)}}$V(t,a,o,l,u,s,i,!1);return;case"select":Se("invalid",t),r=s=a=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":r=o;default:Xe(t,e,i,o,n,null)}e=a,n=s,t.multiple=!!r,e!=null?Od(t,!!r,e,!1):n!=null&&Od(t,!!r,n,!0);return;case"textarea":Se("invalid",t),a=i=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":i=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(G(91));break;default:Xe(t,e,s,o,n,null)}HV(t,r,i,a);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Xe(t,e,l,r,n,null)}return;case"dialog":Se("beforetoggle",t),Se("toggle",t),Se("cancel",t),Se("close",t);break;case"iframe":case"object":Se("load",t);break;case"video":case"audio":for(r=0;r<Rp.length;r++)Se(Rp[r],t);break;case"image":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"embed":case"source":case"link":Se("error",t),Se("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(G(137,e));default:Xe(t,e,u,r,n,null)}return;default:if(KN(e)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&wT(t,e,d,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&Xe(t,e,o,r,n,null))}function PJ(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,o=null,l=null,u=null,d=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&h!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":l=h;default:r.hasOwnProperty(m)||Xe(t,e,m,null,r,h)}}for(var f in r){var m=r[f];if(h=n[f],r.hasOwnProperty(f)&&(m!=null||h!=null))switch(f){case"type":a=m;break;case"name":i=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":s=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(G(137,e));break;default:m!==h&&Xe(t,e,f,m,r,h)}}GS(t,s,o,l,u,d,a,i);return;case"select":m=s=o=f=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":m=l;default:r.hasOwnProperty(a)||Xe(t,e,a,null,r,l)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(a!=null||l!=null))switch(i){case"value":f=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==l&&Xe(t,e,i,a,r,l)}e=o,n=s,r=m,f!=null?Od(t,!!n,f,!1):!!r!=!!n&&(e!=null?Od(t,!!n,e,!0):Od(t,!!n,n?[]:"",!1));return;case"textarea":m=f=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Xe(t,e,o,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":f=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(G(91));break;default:i!==a&&Xe(t,e,s,i,r,a)}qV(t,f,m);return;case"option":for(var y in n)if(f=n[y],n.hasOwnProperty(y)&&f!=null&&!r.hasOwnProperty(y))switch(y){case"selected":t.selected=!1;break;default:Xe(t,e,y,null,r,f)}for(l in r)if(f=r[l],m=n[l],r.hasOwnProperty(l)&&f!==m&&(f!=null||m!=null))switch(l){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Xe(t,e,l,f,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in n)f=n[v],n.hasOwnProperty(v)&&f!=null&&!r.hasOwnProperty(v)&&Xe(t,e,v,null,r,f);for(u in r)if(f=r[u],m=n[u],r.hasOwnProperty(u)&&f!==m&&(f!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(G(137,e));break;default:Xe(t,e,u,f,r,m)}return;default:if(KN(e)){for(var x in n)f=n[x],n.hasOwnProperty(x)&&f!==void 0&&!r.hasOwnProperty(x)&&wT(t,e,x,void 0,r,f);for(d in r)f=r[d],m=n[d],!r.hasOwnProperty(d)||f===m||f===void 0&&m===void 0||wT(t,e,d,f,r,m);return}}for(var b in n)f=n[b],n.hasOwnProperty(b)&&f!=null&&!r.hasOwnProperty(b)&&Xe(t,e,b,null,r,f);for(h in r)f=r[h],m=n[h],!r.hasOwnProperty(h)||f===m||f==null&&m==null||Xe(t,e,h,f,r,m)}function MR(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kJ(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,s=i.initiatorType,o=i.duration;if(a&&o&&MR(s)){for(s=0,o=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>o)break;var d=l.transferSize,h=l.initiatorType;d&&MR(h)&&(l=l.responseEnd,s+=d*(l<o?1:(o-u)/(l-u)))}if(--r,e+=8*(a+s)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var _T=null,ET=null;function cx(t){return t.nodeType===9?t:t.ownerDocument}function LR(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Q9(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function ST(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wE=null;function OJ(){var t=window.event;return t&&t.type==="popstate"?t===wE?!1:(wE=t,!0):(wE=null,!1)}var X9=typeof setTimeout=="function"?setTimeout:void 0,RJ=typeof clearTimeout=="function"?clearTimeout:void 0,VR=typeof Promise=="function"?Promise:void 0,DJ=typeof queueMicrotask=="function"?queueMicrotask:typeof VR<"u"?function(t){return VR.resolve(null).then(t).catch(MJ)}:X9;function MJ(t){setTimeout(function(){throw t})}function Rl(t){return t==="head"}function zR(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(i),oh(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")np(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,np(n);for(var a=n.firstChild;a;){var s=a.nextSibling,o=a.nodeName;a[Ug]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=s}}else n==="body"&&np(t.ownerDocument.body);n=i}while(n);oh(e)}function UR(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function TT(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":TT(n),GN(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function LJ(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Ug])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=Bi(t.nextSibling),t===null)break}return null}function VJ(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Bi(t.nextSibling),t===null))return null;return t}function Z9(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Bi(t.nextSibling),t===null))return null;return t}function AT(t){return t.data==="$?"||t.data==="$~"}function NT(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function zJ(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Bi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var IT=null;function BR(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Bi(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function FR(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function J9(t,e,n){switch(e=cx(n),t){case"html":if(t=e.documentElement,!t)throw Error(G(452));return t;case"head":if(t=e.head,!t)throw Error(G(453));return t;case"body":if(t=e.body,!t)throw Error(G(454));return t;default:throw Error(G(451))}}function np(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);GN(t)}var $i=new Map,$R=new Set;function ux(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xs=Ue.d;Ue.d={f:UJ,r:BJ,D:FJ,C:$J,L:qJ,m:HJ,X:KJ,S:GJ,M:WJ};function UJ(){var t=Xs.f(),e=mw();return t||e}function BJ(t){var e=Gh(t);e!==null&&e.tag===5&&e.type==="form"?Gz(e):Xs.r(t)}var Qh=typeof document>"u"?null:document;function eU(t,e,n){var r=Qh;if(r&&typeof e=="string"&&e){var i=Ri(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),$R.has(i)||($R.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),Jn(e,"link",t),Dn(e),r.head.appendChild(e)))}}function FJ(t){Xs.D(t),eU("dns-prefetch",t,null)}function $J(t,e){Xs.C(t,e),eU("preconnect",t,e)}function qJ(t,e,n){Xs.L(t,e,n);var r=Qh;if(r&&t&&e){var i='link[rel="preload"][as="'+Ri(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Ri(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Ri(n.imageSizes)+'"]')):i+='[href="'+Ri(t)+'"]';var a=i;switch(e){case"style":a=sh(t);break;case"script":a=Xh(t)}$i.has(a)||(t=Et({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),$i.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(Gg(a))||e==="script"&&r.querySelector(Kg(a))||(e=r.createElement("link"),Jn(e,"link",t),Dn(e),r.head.appendChild(e)))}}function HJ(t,e){Xs.m(t,e);var n=Qh;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Ri(r)+'"][href="'+Ri(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Xh(t)}if(!$i.has(a)&&(t=Et({rel:"modulepreload",href:t},e),$i.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Kg(a)))return}r=n.createElement("link"),Jn(r,"link",t),Dn(r),n.head.appendChild(r)}}}function GJ(t,e,n){Xs.S(t,e,n);var r=Qh;if(r&&t){var i=kd(r).hoistableStyles,a=sh(t);e=e||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Gg(a)))o.loading=5;else{t=Et({rel:"stylesheet",href:t,"data-precedence":e},n),(n=$i.get(a))&&P2(t,n);var l=s=r.createElement("link");Dn(l),Jn(l,"link",t),l._p=new Promise(function(u,d){l.onload=u,l.onerror=d}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,uv(s,e,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}}function KJ(t,e){Xs.X(t,e);var n=Qh;if(n&&t){var r=kd(n).hoistableScripts,i=Xh(t),a=r.get(i);a||(a=n.querySelector(Kg(i)),a||(t=Et({src:t,async:!0},e),(e=$i.get(i))&&k2(t,e),a=n.createElement("script"),Dn(a),Jn(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function WJ(t,e){Xs.M(t,e);var n=Qh;if(n&&t){var r=kd(n).hoistableScripts,i=Xh(t),a=r.get(i);a||(a=n.querySelector(Kg(i)),a||(t=Et({src:t,async:!0,type:"module"},e),(e=$i.get(i))&&k2(t,e),a=n.createElement("script"),Dn(a),Jn(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function qR(t,e,n,r){var i=(i=Yo.current)?ux(i):null;if(!i)throw Error(G(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=sh(n.href),n=kd(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=sh(n.href);var a=kd(i).hoistableStyles,s=a.get(t);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,s),(a=i.querySelector(Gg(t)))&&!a._p&&(s.instance=a,s.state.loading=5),$i.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},$i.set(t,n),a||YJ(i,t,n,s.state))),e&&r===null)throw Error(G(528,""));return s}if(e&&r!==null)throw Error(G(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Xh(n),n=kd(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(G(444,t))}}function sh(t){return'href="'+Ri(t)+'"'}function Gg(t){return'link[rel="stylesheet"]['+t+"]"}function tU(t){return Et({},t,{"data-precedence":t.precedence,precedence:null})}function YJ(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Jn(e,"link",n),Dn(e),t.head.appendChild(e))}function Xh(t){return'[src="'+Ri(t)+'"]'}function Kg(t){return"script[async]"+t}function HR(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Ri(n.href)+'"]');if(r)return e.instance=r,Dn(r),r;var i=Et({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Dn(r),Jn(r,"style",i),uv(r,n.precedence,t),e.instance=r;case"stylesheet":i=sh(n.href);var a=t.querySelector(Gg(i));if(a)return e.state.loading|=4,e.instance=a,Dn(a),a;r=tU(n),(i=$i.get(i))&&P2(r,i),a=(t.ownerDocument||t).createElement("link"),Dn(a);var s=a;return s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),Jn(a,"link",r),e.state.loading|=4,uv(a,n.precedence,t),e.instance=a;case"script":return a=Xh(n.src),(i=t.querySelector(Kg(a)))?(e.instance=i,Dn(i),i):(r=n,(i=$i.get(a))&&(r=Et({},n),k2(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),Dn(i),Jn(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(G(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,uv(r,n.precedence,t));return e.instance}function uv(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===e)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function P2(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function k2(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var dv=null;function GR(t,e,n){if(dv===null){var r=new Map,i=dv=new Map;i.set(n,r)}else i=dv,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[Ug]||a[Yn]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(e)||"";s=t+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function KR(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function QJ(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function nU(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function XJ(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=sh(r.href),a=e.querySelector(Gg(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=dx.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,Dn(a);return}a=e.ownerDocument||e,r=tU(r),(i=$i.get(i))&&P2(r,i),a=a.createElement("link"),Dn(a);var s=a;s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),Jn(a,"link",r),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=dx.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var _E=0;function ZJ(t,e){return t.stylesheets&&t.count===0&&hv(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&hv(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&_E===0&&(_E=62500*kJ());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&hv(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>_E?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function dx(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hv(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hx=null;function hv(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,hx=new Map,e.forEach(JJ,t),hx=null,dx.call(t))}function JJ(t,e){if(!(e.state.loading&4)){var n=hx.get(t);if(n)var r=n.get(null);else{n=new Map,hx.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}i=e.instance,s=i.getAttribute("data-precedence"),a=n.get(s)||r,a===r&&n.set(null,i),n.set(s,i),this.count++,r=dx.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Mp={$$typeof:hs,Provider:null,Consumer:null,_currentValue:Cc,_currentValue2:Cc,_threadCount:0};function eee(t,e,n,r,i,a,s,o,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=H_(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=H_(0),this.hiddenUpdates=H_(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function rU(t,e,n,r,i,a,s,o,l,u,d,h){return t=new eee(t,e,n,s,l,u,d,h,o),e=1,a===!0&&(e|=24),a=ai(3,null,null,e),t.current=a,a.stateNode=t,e=i2(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},o2(a),t}function iU(t){return t?(t=vd,t):vd}function aU(t,e,n,r,i,a){i=iU(i),r.context===null?r.context=i:r.pendingContext=i,r=Xo(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Zo(t,r,e),n!==null&&(Gr(n,t,e),Wm(n,t,e))}function WR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function O2(t,e){WR(t,e),(t=t.alternate)&&WR(t,e)}function sU(t){if(t.tag===13||t.tag===31){var e=Eu(t,67108864);e!==null&&Gr(e,t,67108864),O2(t,67108864)}}function YR(t){if(t.tag===13||t.tag===31){var e=hi();e=qN(e);var n=Eu(t,e);n!==null&&Gr(n,t,e),O2(t,e)}}var fx=!0;function tee(t,e,n,r){var i=ge.T;ge.T=null;var a=Ue.p;try{Ue.p=2,R2(t,e,n,r)}finally{Ue.p=a,ge.T=i}}function nee(t,e,n,r){var i=ge.T;ge.T=null;var a=Ue.p;try{Ue.p=8,R2(t,e,n,r)}finally{Ue.p=a,ge.T=i}}function R2(t,e,n,r){if(fx){var i=jT(r);if(i===null)bE(t,e,r,mx,n),QR(t,r);else if(iee(i,t,e,n,r))r.stopPropagation();else if(QR(t,r),e&4&&-1<ree.indexOf(t)){for(;i!==null;){var a=Gh(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=ac(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-di(s);o.entanglements[1]|=l,s&=~l}Za(a),!(Ve&6)&&(rx=ci()+500,Hg(0))}}break;case 31:case 13:o=Eu(a,2),o!==null&&Gr(o,a,2),mw(),O2(a,2)}if(a=jT(r),a===null&&bE(t,e,r,mx,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else bE(t,e,r,null,n)}}function jT(t){return t=WN(t),D2(t)}var mx=null;function D2(t){if(mx=null,t=hd(t),t!==null){var e=Mg(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=AV(e),t!==null)return t;t=null}else if(n===31){if(t=NV(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return mx=t,null}function oU(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(FX()){case PV:return 2;case kV:return 8;case $v:case $X:return 32;case OV:return 268435456;default:return 32}default:return 32}}var CT=!1,tl=null,nl=null,rl=null,Lp=new Map,Vp=new Map,Mo=[],ree="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function QR(t,e){switch(t){case"focusin":case"focusout":tl=null;break;case"dragenter":case"dragleave":nl=null;break;case"mouseover":case"mouseout":rl=null;break;case"pointerover":case"pointerout":Lp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vp.delete(e.pointerId)}}function tm(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Gh(e),e!==null&&sU(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function iee(t,e,n,r,i){switch(e){case"focusin":return tl=tm(tl,t,e,n,r,i),!0;case"dragenter":return nl=tm(nl,t,e,n,r,i),!0;case"mouseover":return rl=tm(rl,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Lp.set(a,tm(Lp.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Vp.set(a,tm(Vp.get(a)||null,t,e,n,r,i)),!0}return!1}function lU(t){var e=hd(t.target);if(e!==null){var n=Mg(e);if(n!==null){if(e=n.tag,e===13){if(e=AV(n),e!==null){t.blockedOn=e,RO(t.priority,function(){YR(n)});return}}else if(e===31){if(e=NV(n),e!==null){t.blockedOn=e,RO(t.priority,function(){YR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jT(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);WS=r,n.target.dispatchEvent(r),WS=null}else return e=Gh(n),e!==null&&sU(e),t.blockedOn=n,!1;e.shift()}return!0}function XR(t,e,n){fv(t)&&n.delete(e)}function aee(){CT=!1,tl!==null&&fv(tl)&&(tl=null),nl!==null&&fv(nl)&&(nl=null),rl!==null&&fv(rl)&&(rl=null),Lp.forEach(XR),Vp.forEach(XR)}function g0(t,e){t.blockedOn===e&&(t.blockedOn=null,CT||(CT=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,aee)))}var y0=null;function ZR(t){y0!==t&&(y0=t,En.unstable_scheduleCallback(En.unstable_NormalPriority,function(){y0===t&&(y0=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(D2(r||n)===null)continue;break}var a=Gh(n);a!==null&&(t.splice(e,3),e-=3,uT(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function oh(t){function e(l){return g0(l,t)}tl!==null&&g0(tl,t),nl!==null&&g0(nl,t),rl!==null&&g0(rl,t),Lp.forEach(e),Vp.forEach(e);for(var n=0;n<Mo.length;n++){var r=Mo[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Mo.length&&(n=Mo[0],n.blockedOn===null);)lU(n),n.blockedOn===null&&Mo.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[Kr]||null;if(typeof a=="function")s||ZR(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[Kr]||null)o=s.formAction;else if(D2(i)!==null)continue}else o=s.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),ZR(n)}}}function cU(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(s){return i=s})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function M2(t){this._internalRoot=t}yw.prototype.render=M2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));var n=e.current,r=hi();aU(n,r,t,e,null,null)};yw.prototype.unmount=M2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;aU(t.current,2,null,t,null,null),mw(),e[Hh]=null}};function yw(t){this._internalRoot=t}yw.prototype.unstable_scheduleHydration=function(t){if(t){var e=VV();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mo.length&&e!==0&&e<Mo[n].priority;n++);Mo.splice(n,0,t),n===0&&lU(t)}};var JR=SV.version;if(JR!=="19.2.0")throw Error(G(527,JR,"19.2.0"));Ue.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=DX(e),t=t!==null?IV(t):null,t=t===null?null:t.stateNode,t};var see={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ge,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var v0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!v0.isDisabled&&v0.supportsFiber)try{Lg=v0.inject(see),ui=v0}catch{}}Jb.createRoot=function(t,e){if(!TV(t))throw Error(G(299));var n=!1,r="",i=e9,a=t9,s=n9;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=rU(t,1,!1,null,null,n,r,null,i,a,s,cU),t[Hh]=e.current,C2(t),new M2(e)};Jb.hydrateRoot=function(t,e,n){if(!TV(t))throw Error(G(299));var r=!1,i="",a=e9,s=t9,o=n9,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=rU(t,1,!0,e,n??null,r,i,l,a,s,o,cU),e.context=iU(null),n=e.current,r=hi(),r=qN(r),i=Xo(r),i.callback=null,Zo(n,i,r),n=r,e.current.lanes=n,zg(e,n),Za(e),t[Hh]=e.current,C2(t),new yw(e)};Jb.version="19.2.0";function uU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uU)}catch(t){console.error(t)}}uU(),vV.exports=Jb;var oee=vV.exports;const lee=Qa(oee);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var eD="popstate";function cee(t={}){function e(i,a){let{pathname:s="/",search:o="",hash:l=""}=Tu(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),PT("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof a=="string"?a:zp(a))}function r(i,a){xi(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return dee(e,n,r,t)}function kt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uee(){return Math.random().toString(36).substring(2,10)}function tD(t,e){return{usr:t.state,key:t.key,idx:e}}function PT(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Tu(e):e,state:n,key:e&&e.key||r||uee()}}function zp({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Tu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function dee(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",l=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function h(){o="POP";let x=d(),b=x==null?null:x-u;u=x,l&&l({action:o,location:v.location,delta:b})}function f(x,b){o="PUSH";let w=PT(v.location,x,b);n&&n(w,x),u=d()+1;let _=tD(w,u),S=v.createHref(w);try{s.pushState(_,"",S)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(S)}a&&l&&l({action:o,location:v.location,delta:1})}function m(x,b){o="REPLACE";let w=PT(v.location,x,b);n&&n(w,x),u=d();let _=tD(w,u),S=v.createHref(w);s.replaceState(_,"",S),a&&l&&l({action:o,location:v.location,delta:0})}function y(x){return hee(x)}let v={get action(){return o},get location(){return t(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(eD,h),l=x,()=>{i.removeEventListener(eD,h),l=null}},createHref(x){return e(i,x)},createURL:y,encodeLocation(x){let b=y(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:m,go(x){return s.go(x)}};return v}function hee(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),kt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:zp(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function dU(t,e,n="/"){return fee(t,e,n,!1)}function fee(t,e,n,r){let i=typeof e=="string"?Tu(e):e,a=Rs(i.pathname||"/",n);if(a==null)return null;let s=hU(t);mee(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=Tee(a);o=Eee(s[l],u,r)}return o}function hU(t,e=[],n=[],r="",i=!1){let a=(s,o,l=i,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;kt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let h=_s([r,d.relativePath]),f=n.concat(d);s.children&&s.children.length>0&&(kt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),hU(s.children,e,f,h,l)),!(s.path==null&&!s.index)&&e.push({path:h,score:wee(h,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let u of fU(s.path))a(s,o,!0,u)}),e}function fU(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=fU(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function mee(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_ee(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var pee=/^:[\w-]+$/,gee=3,yee=2,vee=1,xee=10,bee=-2,nD=t=>t==="*";function wee(t,e){let n=t.split("/"),r=n.length;return n.some(nD)&&(r+=bee),e&&(r+=yee),n.filter(i=>!nD(i)).reduce((i,a)=>i+(pee.test(a)?gee:a===""?vee:xee),r)}function _ee(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Eee(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=a==="/"?e:e.slice(a.length)||"/",h=px({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=px({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:_s([a,h.pathname]),pathnameBase:Cee(_s([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=_s([a,h.pathnameBase]))}return s}function px(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=See(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let y=o[f]||"";s=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function See(t,e=!1,n=!0){xi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Tee(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Rs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var Aee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nee=t=>Aee.test(t);function Iee(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Tu(t):t,a;if(n)if(Nee(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),xi(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?a=rD(n.substring(1),"/"):a=rD(n,e)}else a=e;return{pathname:a,search:Pee(r),hash:kee(i)}}function rD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function EE(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jee(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function L2(t){let e=jee(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function V2(t,e,n,r=!1){let i;typeof t=="string"?i=Tu(t):(i={...t},kt(!i.pathname||!i.pathname.includes("?"),EE("?","pathname","search",i)),kt(!i.pathname||!i.pathname.includes("#"),EE("#","pathname","hash",i)),kt(!i.search||!i.search.includes("#"),EE("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=Iee(i,o),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var _s=t=>t.join("/").replace(/\/\/+/g,"/"),Cee=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Pee=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kee=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Oee(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var mU=["POST","PUT","PATCH","DELETE"];new Set(mU);var Ree=["GET",...mU];new Set(Ree);var Zh=g.createContext(null);Zh.displayName="DataRouter";var vw=g.createContext(null);vw.displayName="DataRouterState";g.createContext(!1);var pU=g.createContext({isTransitioning:!1});pU.displayName="ViewTransition";var Dee=g.createContext(new Map);Dee.displayName="Fetchers";var Mee=g.createContext(null);Mee.displayName="Await";var ha=g.createContext(null);ha.displayName="Navigation";var Wg=g.createContext(null);Wg.displayName="Location";var fa=g.createContext({outlet:null,matches:[],isDataRoute:!1});fa.displayName="Route";var z2=g.createContext(null);z2.displayName="RouteError";function Lee(t,{relative:e}={}){kt(Jh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=g.useContext(ha),{hash:i,pathname:a,search:s}=Yg(t,{relative:e}),o=a;return n!=="/"&&(o=a==="/"?n:_s([n,a])),r.createHref({pathname:o,search:s,hash:i})}function Jh(){return g.useContext(Wg)!=null}function Yi(){return kt(Jh(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Wg).location}var gU="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yU(t){g.useContext(ha).static||g.useLayoutEffect(t)}function Qi(){let{isDataRoute:t}=g.useContext(fa);return t?Zee():Vee()}function Vee(){kt(Jh(),"useNavigate() may be used only in the context of a <Router> component.");let t=g.useContext(Zh),{basename:e,navigator:n}=g.useContext(ha),{matches:r}=g.useContext(fa),{pathname:i}=Yi(),a=JSON.stringify(L2(r)),s=g.useRef(!1);return yU(()=>{s.current=!0}),g.useCallback((l,u={})=>{if(xi(s.current,gU),!s.current)return;if(typeof l=="number"){n.go(l);return}let d=V2(l,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:_s([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,a,i,t])}var zee=g.createContext(null);function Uee(t){let e=g.useContext(fa).outlet;return g.useMemo(()=>e&&g.createElement(zee.Provider,{value:t},e),[e,t])}function Yg(t,{relative:e}={}){let{matches:n}=g.useContext(fa),{pathname:r}=Yi(),i=JSON.stringify(L2(n));return g.useMemo(()=>V2(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Bee(t,e){return vU(t,e)}function vU(t,e,n,r,i){var w;kt(Jh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=g.useContext(ha),{matches:s}=g.useContext(fa),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let _=h&&h.path||"";xU(u,!h||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let f=Yi(),m;if(e){let _=typeof e=="string"?Tu(e):e;kt(d==="/"||((w=_.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${_.pathname}" was given in the \`location\` prop.`),m=_}else m=f;let y=m.pathname||"/",v=y;if(d!=="/"){let _=d.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=dU(t,{pathname:v});xi(h||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),xi(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=Gee(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:_s([d,a.encodeLocation?a.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?d:_s([d,a.encodeLocation?a.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),s,n,r,i);return e&&b?g.createElement(Wg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},b):b}function Fee(){let t=Xee(),e=Oee(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:a},"ErrorBoundary")," or"," ",g.createElement("code",{style:a},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:i},n):null,s)}var $ee=g.createElement(Fee,null),qee=class extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?g.createElement(fa.Provider,{value:this.props.routeContext},g.createElement(z2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Hee({routeContext:t,match:e,children:n}){let r=g.useContext(Zh);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),g.createElement(fa.Provider,{value:t},n)}function Gee(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n==null?void 0:n.errors;if(s!=null){let d=a.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);kt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let o=!1,l=-1;if(n)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=d),h.route.id){let{loaderData:f,errors:m}=n,y=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}let u=n&&r?(d,h)=>{var f,m;r(d,{location:n.location,params:((m=(f=n.matches)==null?void 0:f[0])==null?void 0:m.params)??{},errorInfo:h})}:void 0;return a.reduceRight((d,h,f)=>{let m,y=!1,v=null,x=null;n&&(m=s&&h.route.id?s[h.route.id]:void 0,v=h.route.errorElement||$ee,o&&(l<0&&f===0?(xU("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,x=null):l===f&&(y=!0,x=h.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,f+1)),w=()=>{let _;return m?_=v:y?_=x:h.route.Component?_=g.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=d,g.createElement(Hee,{match:h,routeContext:{outlet:d,matches:b,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?g.createElement(qee,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:u}):w()},null)}function U2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kee(t){let e=g.useContext(Zh);return kt(e,U2(t)),e}function Wee(t){let e=g.useContext(vw);return kt(e,U2(t)),e}function Yee(t){let e=g.useContext(fa);return kt(e,U2(t)),e}function B2(t){let e=Yee(t),n=e.matches[e.matches.length-1];return kt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Qee(){return B2("useRouteId")}function Xee(){var r;let t=g.useContext(z2),e=Wee("useRouteError"),n=B2("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Zee(){let{router:t}=Kee("useNavigate"),e=B2("useNavigate"),n=g.useRef(!1);return yU(()=>{n.current=!0}),g.useCallback(async(i,a={})=>{xi(n.current,gU),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var iD={};function xU(t,e,n){!e&&!iD[t]&&(iD[t]=!0,xi(!1,n))}g.memo(Jee);function Jee({routes:t,future:e,state:n,unstable_onError:r}){return vU(t,void 0,n,r,e)}function aD({to:t,replace:e,state:n,relative:r}){kt(Jh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=g.useContext(ha);xi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=g.useContext(fa),{pathname:s}=Yi(),o=Qi(),l=V2(t,L2(a),s,r==="path"),u=JSON.stringify(l);return g.useEffect(()=>{o(JSON.parse(u),{replace:e,state:n,relative:r})},[o,u,r,e,n]),null}function bU(t){return Uee(t.context)}function ot(t){kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ete({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){kt(!Jh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),o=g.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof n=="string"&&(n=Tu(n));let{pathname:l="/",search:u="",hash:d="",state:h=null,key:f="default"}=n,m=g.useMemo(()=>{let y=Rs(l,s);return y==null?null:{location:{pathname:y,search:u,hash:d,state:h,key:f},navigationType:r}},[s,l,u,d,h,f,r]);return xi(m!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:g.createElement(ha.Provider,{value:o},g.createElement(Wg.Provider,{children:e,value:m}))}function tte({children:t,location:e}){return Bee(kT(t),e)}function kT(t,e=[]){let n=[];return g.Children.forEach(t,(r,i)=>{if(!g.isValidElement(r))return;let a=[...e,i];if(r.type===g.Fragment){n.push.apply(n,kT(r.props.children,a));return}kt(r.type===ot,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=kT(r.props.children,a)),n.push(s)}),n}var mv="get",pv="application/x-www-form-urlencoded";function xw(t){return t!=null&&typeof t.tagName=="string"}function nte(t){return xw(t)&&t.tagName.toLowerCase()==="button"}function rte(t){return xw(t)&&t.tagName.toLowerCase()==="form"}function ite(t){return xw(t)&&t.tagName.toLowerCase()==="input"}function ate(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ste(t,e){return t.button===0&&(!e||e==="_self")&&!ate(t)}var x0=null;function ote(){if(x0===null)try{new FormData(document.createElement("form"),0),x0=!1}catch{x0=!0}return x0}var lte=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function SE(t){return t!=null&&!lte.has(t)?(xi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pv}"`),null):t}function cte(t,e){let n,r,i,a,s;if(rte(t)){let o=t.getAttribute("action");r=o?Rs(o,e):null,n=t.getAttribute("method")||mv,i=SE(t.getAttribute("enctype"))||pv,a=new FormData(t)}else if(nte(t)||ite(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?Rs(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||mv,i=SE(t.getAttribute("formenctype"))||SE(o.getAttribute("enctype"))||pv,a=new FormData(o,t),!ote()){let{name:u,type:d,value:h}=t;if(d==="image"){let f=u?`${u}.`:"";a.append(`${f}x`,"0"),a.append(`${f}y`,"0")}else u&&a.append(u,h)}}else{if(xw(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mv,r=null,i=pv,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function F2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ute(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Rs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function dte(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hte(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function fte(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await dte(a,n);return s.links?s.links():[]}return[]}));return yte(r.flat(1).filter(hte).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function sD(t,e,n,r,i,a){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,o=(l,u)=>{var d;return n[u].pathname!==l.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return a==="assets"?e.filter((l,u)=>s(l,u)||o(l,u)):a==="data"?e.filter((l,u)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(s(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function mte(t,e,{includeHydrateFallback:n}={}){return pte(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function pte(t){return[...new Set(t)]}function gte(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function yte(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(gte(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function wU(){let t=g.useContext(Zh);return F2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function vte(){let t=g.useContext(vw);return F2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var $2=g.createContext(void 0);$2.displayName="FrameworkContext";function _U(){let t=g.useContext($2);return F2(t,"You must render this element inside a <HydratedRouter> element"),t}function xte(t,e){let n=g.useContext($2),[r,i]=g.useState(!1),[a,s]=g.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,f=g.useRef(null);g.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let v=b=>{b.forEach(w=>{s(w.isIntersecting)})},x=new IntersectionObserver(v,{threshold:.5});return f.current&&x.observe(f.current),()=>{x.disconnect()}}},[t]),g.useEffect(()=>{if(r){let v=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(v)}}},[r]);let m=()=>{i(!0)},y=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,f,{}]:[a,f,{onFocus:nm(o,m),onBlur:nm(l,y),onMouseEnter:nm(u,m),onMouseLeave:nm(d,y),onTouchStart:nm(h,m)}]:[!1,f,{}]}function nm(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function bte({page:t,...e}){let{router:n}=wU(),r=g.useMemo(()=>dU(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?g.createElement(_te,{page:t,matches:r,...e}):null}function wte(t){let{manifest:e,routeModules:n}=_U(),[r,i]=g.useState([]);return g.useEffect(()=>{let a=!1;return fte(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function _te({page:t,matches:e,...n}){let r=Yi(),{manifest:i,routeModules:a}=_U(),{basename:s}=wU(),{loaderData:o,matches:l}=vte(),u=g.useMemo(()=>sD(t,e,l,i,r,"data"),[t,e,l,i,r]),d=g.useMemo(()=>sD(t,e,l,i,r,"assets"),[t,e,l,i,r]),h=g.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let y=new Set,v=!1;if(e.forEach(b=>{var _;let w=i.routes[b.route.id];!w||!w.hasLoader||(!u.some(S=>S.route.id===b.route.id)&&b.route.id in o&&((_=a[b.route.id])!=null&&_.shouldRevalidate)||w.hasClientLoader?v=!0:y.add(b.route.id))}),y.size===0)return[];let x=ute(t,s,"data");return v&&y.size>0&&x.searchParams.set("_routes",e.filter(b=>y.has(b.route.id)).map(b=>b.route.id).join(",")),[x.pathname+x.search]},[s,o,r,i,u,e,t,a]),f=g.useMemo(()=>mte(d,i),[d,i]),m=wte(d);return g.createElement(g.Fragment,null,h.map(y=>g.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),f.map(y=>g.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),m.map(({key:y,link:v})=>g.createElement("link",{key:y,nonce:n.nonce,...v})))}function Ete(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var EU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{EU&&(window.__reactRouterVersion="7.9.6")}catch{}function Ste({basename:t,children:e,window:n}){let r=g.useRef();r.current==null&&(r.current=cee({window:n,v5Compat:!0}));let i=r.current,[a,s]=g.useState({action:i.action,location:i.location}),o=g.useCallback(l=>{g.startTransition(()=>s(l))},[s]);return g.useLayoutEffect(()=>i.listen(o),[i,o]),g.createElement(ete,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var SU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Be=g.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h,...f},m){let{basename:y}=g.useContext(ha),v=typeof u=="string"&&SU.test(u),x,b=!1;if(typeof u=="string"&&v&&(x=u,EU))try{let I=new URL(window.location.href),P=u.startsWith("//")?new URL(I.protocol+u):new URL(u),k=Rs(P.pathname,y);P.origin===I.origin&&k!=null?u=k+P.search+P.hash:b=!0}catch{xi(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=Lee(u,{relative:i}),[_,S,A]=xte(r,f),C=Nte(u,{replace:s,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:h});function N(I){e&&e(I),I.defaultPrevented||C(I)}let T=g.createElement("a",{...f,...A,href:x||w,onClick:b||a?e:N,ref:Ete(m,S),target:l,"data-discover":!v&&n==="render"?"true":void 0});return _&&!v?g.createElement(g.Fragment,null,T,g.createElement(bte,{page:w})):T});Be.displayName="Link";var Ni=g.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:o,children:l,...u},d){let h=Yg(s,{relative:u.relative}),f=Yi(),m=g.useContext(vw),{navigator:y,basename:v}=g.useContext(ha),x=m!=null&&kte(h)&&o===!0,b=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,w=f.pathname,_=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(w=w.toLowerCase(),_=_?_.toLowerCase():null,b=b.toLowerCase()),_&&v&&(_=Rs(_,v)||_);const S=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let A=w===b||!i&&w.startsWith(b)&&w.charAt(S)==="/",C=_!=null&&(_===b||!i&&_.startsWith(b)&&_.charAt(b.length)==="/"),N={isActive:A,isPending:C,isTransitioning:x},T=A?e:void 0,I;typeof r=="function"?I=r(N):I=[r,A?"active":null,C?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(N):a;return g.createElement(Be,{...u,"aria-current":T,className:I,ref:d,style:P,to:s,viewTransition:o},typeof l=="function"?l(N):l)});Ni.displayName="NavLink";var Tte=g.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=mv,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...f},m)=>{let y=Cte(),v=Pte(o,{relative:u}),x=s.toLowerCase()==="get"?"get":"post",b=typeof o=="string"&&SU.test(o),w=_=>{if(l&&l(_),_.defaultPrevented)return;_.preventDefault();let S=_.nativeEvent.submitter,A=(S==null?void 0:S.getAttribute("formmethod"))||s;y(S||_.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:i,state:a,relative:u,preventScrollReset:d,viewTransition:h})};return g.createElement("form",{ref:m,method:x,action:v,onSubmit:r?l:w,...f,"data-discover":!b&&t==="render"?"true":void 0})});Tte.displayName="Form";function Ate(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TU(t){let e=g.useContext(Zh);return kt(e,Ate(t)),e}function Nte(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let o=Qi(),l=Yi(),u=Yg(t,{relative:a});return g.useCallback(d=>{if(ste(d,e)){d.preventDefault();let h=n!==void 0?n:zp(l)===zp(u);o(t,{replace:h,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[l,o,u,n,r,e,t,i,a,s])}var Ite=0,jte=()=>`__${String(++Ite)}__`;function Cte(){let{router:t}=TU("useSubmit"),{basename:e}=g.useContext(ha),n=Qee();return g.useCallback(async(r,i={})=>{let{action:a,method:s,encType:o,formData:l,body:u}=cte(r,e);if(i.navigate===!1){let d=i.fetcherKey||jte();await t.fetch(d,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function Pte(t,{relative:e}={}){let{basename:n}=g.useContext(ha),r=g.useContext(fa);kt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Yg(t||".",{relative:e})},s=Yi();if(t==null){a.search=s.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();a.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:_s([n,a.pathname])),zp(a)}function kte(t,{relative:e}={}){let n=g.useContext(pU);kt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=TU("useViewTransitionState"),i=Yg(t,{relative:e});if(!n.isTransitioning)return!1;let a=Rs(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Rs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return px(i.pathname,s)!=null||px(i.pathname,a)!=null}/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ote=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rte=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),oD=t=>{const e=Rte(t);return e.charAt(0).toUpperCase()+e.slice(1)},AU=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Dte=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>g.createElement("svg",{ref:l,...Mte,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:AU("lucide",i),...!a&&!Dte(o)&&{"aria-hidden":"true"},...o},[...s.map(([u,d])=>g.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=(t,e)=>{const n=g.forwardRef(({className:r,...i},a)=>g.createElement(Lte,{ref:a,iconNode:e,className:AU(`lucide-${Ote(oD(t))}`,`lucide-${t}`,r),...i}));return n.displayName=oD(t),n};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=[["path",{d:"M12 6.528V3a1 1 0 0 1 1-1h0",key:"11qiee"}],["path",{d:"M18.237 21A15 15 0 0 0 22 11a6 6 0 0 0-10-4.472A6 6 0 0 0 2 11a15.1 15.1 0 0 0 3.763 10 3 3 0 0 0 3.648.648 5.5 5.5 0 0 1 5.178 0A3 3 0 0 0 18.237 21",key:"110c12"}]],NU=X("apple",Vte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ute=X("arrow-left",zte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Xc=X("arrow-right",Bte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],IU=X("arrow-up-down",Fte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],q2=X("award",$te);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Hte=X("banknote",qte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=[["path",{d:"M17 11h1a3 3 0 0 1 0 6h-1",key:"1yp76v"}],["path",{d:"M9 12v6",key:"1u1cab"}],["path",{d:"M13 12v6",key:"1sugkk"}],["path",{d:"M14 7.5c-1 0-1.44.5-3 .5s-2-.5-3-.5-1.72.5-2.5.5a2.5 2.5 0 0 1 0-5c.78 0 1.57.5 2.5.5S9.44 2 11 2s2 1.5 3 1.5 1.72-.5 2.5-.5a2.5 2.5 0 0 1 0 5c-.78 0-1.5-.5-2.5-.5Z",key:"1510fo"}],["path",{d:"M5 8v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8",key:"19jb7n"}]],Kte=X("beer",Gte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wte=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ef=X("bell",Wte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Qte=X("box",Yte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_d=X("calendar",Xte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Jte=X("camera",Zte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ene=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Up=X("chart-column",ene);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tne=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],nne=X("chart-pie",tne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rne=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ua=X("check",rne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ine=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],tf=X("chevron-down",ine);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ane=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ja=X("circle-alert",ane);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sne=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],bw=X("circle-check-big",sne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const one=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],lne=X("circle-check",one);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],une=X("circle-dollar-sign",cne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],hne=X("circle-question-mark",dne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],gx=X("circle-x",fne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mne=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]],pne=X("clipboard-copy",mne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gne=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],yne=X("clipboard-list",gne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vne=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Zs=X("clock",vne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xne=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],bne=X("cloud-upload",xne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wne=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],hr=X("coffee",wne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ne=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],TE=X("cookie",_ne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ene=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Sne=X("credit-card",Ene);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tne=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ane=X("crown",Tne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nne=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],lD=X("database",Nne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ine=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],jU=X("dollar-sign",Ine);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jne=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],cD=X("droplet",jne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cne=[["path",{d:"M15.4 15.63a7.875 6 135 1 1 6.23-6.23 4.5 3.43 135 0 0-6.23 6.23",key:"1dtqwm"}],["path",{d:"m8.29 12.71-2.6 2.6a2.5 2.5 0 1 0-1.65 4.65A2.5 2.5 0 1 0 8.7 18.3l2.59-2.59",key:"1oq1fw"}]],Pne=X("drumstick",Cne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kne=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],OT=X("eye-off",kne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const One=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yx=X("eye",One);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rne=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],CU=X("facebook",Rne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dne=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],Mne=X("file-image",Dne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lne=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],uD=X("file-text",Lne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vne=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Bp=X("gift",Vne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Une=X("globe",zne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bne=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Fne=X("hash",Bne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ne=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],qne=X("history",$ne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hne=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Gne=X("image",Hne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],vx=X("info",Kne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wne=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],PU=X("instagram",Wne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yne=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Qne=X("key",Yne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xne=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Zne=X("layout-dashboard",Xne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jne=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],kU=X("leaf",Jne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],tre=X("lightbulb",ere);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nre=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Mt=X("loader-circle",nre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],lh=X("lock",rre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xx=X("log-out",ire);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],gr=X("mail",are);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],H2=X("map-pin",sre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ore=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],lre=X("medal",ore);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],dD=X("megaphone",cre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ure=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],G2=X("menu",ure);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],hre=X("message-circle",dre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],nf=X("message-square",fre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mre=[["path",{d:"M8 2h8",key:"1ssgc1"}],["path",{d:"M9 2v2.789a4 4 0 0 1-.672 2.219l-.656.984A4 4 0 0 0 7 10.212V20a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-9.789a4 4 0 0 0-.672-2.219l-.656-.984A4 4 0 0 1 15 4.788V2",key:"qtp12x"}],["path",{d:"M7 15a6.472 6.472 0 0 1 5 0 6.47 6.47 0 0 0 5 0",key:"ygeh44"}]],pre=X("milk",mre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gre=[["path",{d:"M5 12h14",key:"1ays0h"}]],bx=X("minus",gre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yre=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],pl=X("package",yre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vre=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],xre=X("palette",vre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bre=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Ds=X("phone",bre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wre=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rf=X("plus",wre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _re=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],Ere=X("quote",_re);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sre=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],K2=X("refresh-cw",Sre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tre=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Qg=X("save",Tre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ch=X("search",Are);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nre=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],W2=X("send",Nre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ire=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rp=X("settings",Ire);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jre=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Cre=X("share-2",jre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pre=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ba=X("shield",Pre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kre=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],ww=X("shopping-bag",kre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ore=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],OU=X("shopping-cart",Ore);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rre=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],RU=X("snowflake",Rre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dre=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],DU=X("sparkles",Dre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mre=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],MU=X("square-pen",Mre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lre=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Fp=X("star",Lre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vre=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],zre=X("store",Vre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ure=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Bre=X("thumbs-up",Ure);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fre=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_w=X("trash-2",Fre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $re=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],zd=X("trending-up",$re);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qre=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Zc=X("triangle-alert",qre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hre=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],Gre=X("twitter",Hre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kre=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],hD=X("upload",Kre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wre=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fD=X("user-check",Wre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yre=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ms=X("user",Yre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qre=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Xg=X("users",Qre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xre=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],Zre=X("utensils-crossed",Xre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jre=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],LU=X("wallet",Jre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eie=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],tie=X("wrench",eie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nie=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xi=X("x",nie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rie=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],VU=X("zap",rie),pe=({children:t,className:e="",hover:n=!1,variant:r="default",padding:i="md",clickable:a=!1,onClick:s})=>{const o="rounded-2xl transition-all duration-300 ease-out",l={default:"border border-gray-100 bg-white/80 backdrop-blur-sm shadow-lg",elevated:"bg-white shadow-xl border-0",outlined:"border-2 border-primary-200 bg-white",glass:"bg-white/70 backdrop-blur-md border border-white/20 shadow-xl"},u={none:"",sm:"p-4",md:"p-6",lg:"p-8"},d=n?"hover:shadow-2xl hover:-translate-y-1 hover:scale-[1.02]":"",h=a?"cursor-pointer active:scale-[0.98]":"";return c.jsx("div",{className:`${o} ${l[r]} ${u[i]} ${d} ${h} ${e}`,onClick:a?s:void 0,role:a?"button":void 0,tabIndex:a?0:void 0,children:t})},cr=({children:t,className:e="",variant:n="solid",color:r="primary",size:i="md"})=>{const a="inline-flex items-center gap-1.5 rounded-full font-medium",s={xs:"px-2 py-0.5 text-xs",sm:"px-2.5 py-1 text-xs",md:"px-3 py-1 text-sm",lg:"px-4 py-1.5 text-base"},o={primary:"bg-primary-100 text-primary-800",success:"bg-green-100 text-green-800",warning:"bg-amber-100 text-amber-800",error:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800",gray:"bg-gray-100 text-gray-800"},l={primary:"border-2 border-primary-300 text-primary-700 bg-transparent",success:"border-2 border-green-300 text-green-700 bg-transparent",warning:"border-2 border-amber-300 text-amber-700 bg-transparent",error:"border-2 border-red-300 text-red-700 bg-transparent",info:"border-2 border-blue-300 text-blue-700 bg-transparent",gray:"border-2 border-gray-300 text-gray-700 bg-transparent"},u={primary:"bg-primary-500",success:"bg-green-500",warning:"bg-amber-500",error:"bg-red-500",info:"bg-blue-500",gray:"bg-gray-500"},d=n==="outline"?l[r]:o[r];return c.jsxs("span",{className:`${a} ${s[i]} ${d} ${e}`,children:[n==="dot"&&c.jsx("span",{className:`h-2 w-2 rounded-full ${u[r]} animate-pulse`}),t]})},iie=()=>{};var mD={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},aie=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},UU={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=a>>2,h=(a&3)<<4|o>>4;let f=(o&15)<<2|u>>6,m=u&63;l||(m=64,s||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aie(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||u==null||h==null)throw new sie;const f=a<<2|o>>4;if(r.push(f),u!==64){const m=o<<4&240|u>>2;if(r.push(m),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oie=function(t){const e=zU(t);return UU.encodeByteArray(e,!0)},wx=function(t){return oie(t).replace(/\./g,"")},Y2=function(t){try{return UU.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _x(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!lie(n)||(t[n]=_x(t[n],e[n]));return t}function lie(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cie=()=>Q2().__FIREBASE_DEFAULTS__,uie=()=>{if(typeof process>"u"||typeof mD>"u")return;const t=mD.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},die=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Y2(t[1]);return e&&JSON.parse(e)},X2=()=>{try{return iie()||cie()||uie()||die()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Z2=()=>{var t;return(t=X2())==null?void 0:t.config},hie=t=>{var e;return(e=X2())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function J2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[wx(JSON.stringify(n)),wx(JSON.stringify(s)),""].join(".")}const ip={};function mie(){const t={prod:[],emulator:[]};for(const e of Object.keys(ip))ip[e]?t.emulator.push(e):t.prod.push(e);return t}function pie(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let pD=!1;function eI(t,e){if(typeof window>"u"||typeof document>"u"||!Dl(window.location.host)||ip[t]===e||ip[t]||pD)return;ip[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",a=mie().prod.length>0;function s(){const f=document.getElementById(r);f&&f.remove()}function o(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{pD=!0,s()},f}function d(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=pie(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),v=n("learnmore"),x=document.getElementById(v)||document.createElement("a"),b=n("preprendIcon"),w=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const _=f.element;o(_),d(x,v);const S=u();l(w,b),_.append(w,y,x,S),document.body.appendChild(_)}a?(y.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function Ew(){var e;const t=(e=X2())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yie(){return typeof window<"u"||FU()}function FU(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function vie(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $U(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qU(){const t=Lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HU(){return!Ew()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GU(){return!Ew()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function $p(){try{return typeof indexedDB=="object"}catch{return!1}}function xie(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bie="FirebaseError";class fr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bie,Object.setPrototypeOf(this,fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Au.prototype.create)}}class Au{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?wie(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new fr(i,o,r)}}function wie(t,e){return t.replace(_ie,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _ie=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Eie(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(yD(a)&&yD(s)){if(!gl(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function yD(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ed(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Cm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function KU(t,e){const n=new Sie(t,e);return n.subscribe.bind(n)}class Sie{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Tie(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=AE),i.error===void 0&&(i.error=AE),i.complete===void 0&&(i.complete=AE);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tie(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function AE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t){return t&&t._delegate?t._delegate:t}class qi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aie=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new fie;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Iie(e))try{this.getOrInitializeService({instanceIdentifier:lc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=lc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lc){return this.instances.has(e)}getOptions(e=lc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Nie(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=lc){return this.component?this.component.multipleInstances?e:lc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Nie(t){return t===lc?void 0:t}function Iie(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Aie(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=[];var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const YU={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},jie=Te.INFO,Cie={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},Pie=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Cie[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sw{constructor(e){this.name=e,this._logLevel=jie,this._logHandler=Pie,this._userLogHandler=null,nI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}function kie(t){nI.forEach(e=>{e.setLogLevel(t)})}function Oie(t,e){for(const n of nI){let r=null;e&&e.level&&(r=YU[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,a,...s)=>{const o=s.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");a>=(r??i.logLevel)&&t({level:Te[a].toLowerCase(),message:o,args:s,type:i.name})}}}const Rie=(t,e)=>e.some(n=>t instanceof n);let vD,xD;function Die(){return vD||(vD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mie(){return xD||(xD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QU=new WeakMap,RT=new WeakMap,XU=new WeakMap,NE=new WeakMap,rI=new WeakMap;function Lie(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(il(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&QU.set(n,t)}).catch(()=>{}),rI.set(e,t),e}function Vie(t){if(RT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});RT.set(t,e)}let DT={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return RT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XU.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return il(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zie(t){DT=t(DT)}function Uie(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(IE(this),e,...n);return XU.set(r,e.sort?e.sort():[e]),il(r)}:Mie().includes(t)?function(...e){return t.apply(IE(this),e),il(QU.get(this))}:function(...e){return il(t.apply(IE(this),e))}}function Bie(t){return typeof t=="function"?Uie(t):(t instanceof IDBTransaction&&Vie(t),Rie(t,Die())?new Proxy(t,DT):t)}function il(t){if(t instanceof IDBRequest)return Lie(t);if(NE.has(t))return NE.get(t);const e=Bie(t);return e!==t&&(NE.set(t,e),rI.set(e,t)),e}const IE=t=>rI.get(t);function Fie(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=il(s);return r&&s.addEventListener("upgradeneeded",l=>{r(il(s.result),l.oldVersion,l.newVersion,il(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const $ie=["get","getKey","getAll","getAllKeys","count"],qie=["put","add","delete","clear"],jE=new Map;function bD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jE.get(e))return jE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=qie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$ie.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return jE.set(e,a),a}zie(t=>({...t,get:(e,n,r)=>bD(e,n)||t.get(e,n,r),has:(e,n)=>!!bD(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hie{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Gie(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Gie(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ex="@firebase/app",MT="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new Sw("@firebase/app"),Kie="@firebase/app-compat",Wie="@firebase/analytics-compat",Yie="@firebase/analytics",Qie="@firebase/app-check-compat",Xie="@firebase/app-check",Zie="@firebase/auth",Jie="@firebase/auth-compat",eae="@firebase/database",tae="@firebase/data-connect",nae="@firebase/database-compat",rae="@firebase/functions",iae="@firebase/functions-compat",aae="@firebase/installations",sae="@firebase/installations-compat",oae="@firebase/messaging",lae="@firebase/messaging-compat",cae="@firebase/performance",uae="@firebase/performance-compat",dae="@firebase/remote-config",hae="@firebase/remote-config-compat",fae="@firebase/storage",mae="@firebase/storage-compat",pae="@firebase/firestore",gae="@firebase/ai",yae="@firebase/firestore-compat",vae="firebase",xae="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="[DEFAULT]",bae={[Ex]:"fire-core",[Kie]:"fire-core-compat",[Yie]:"fire-analytics",[Wie]:"fire-analytics-compat",[Xie]:"fire-app-check",[Qie]:"fire-app-check-compat",[Zie]:"fire-auth",[Jie]:"fire-auth-compat",[eae]:"fire-rtdb",[tae]:"fire-data-connect",[nae]:"fire-rtdb-compat",[rae]:"fire-fn",[iae]:"fire-fn-compat",[aae]:"fire-iid",[sae]:"fire-iid-compat",[oae]:"fire-fcm",[lae]:"fire-fcm-compat",[cae]:"fire-perf",[uae]:"fire-perf-compat",[dae]:"fire-rc",[hae]:"fire-rc-compat",[fae]:"fire-gcs",[mae]:"fire-gcs-compat",[pae]:"fire-fst",[yae]:"fire-fst-compat",[gae]:"fire-vertex","fire-js":"fire-js",[vae]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=new Map,uh=new Map,dh=new Map;function qp(t,e){try{t.container.addComponent(e)}catch(n){Ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ZU(t,e){t.container.addOrOverwriteComponent(e)}function Vs(t){const e=t.name;if(dh.has(e))return Ls.debug(`There were multiple attempts to register component ${e}.`),!1;dh.set(e,t);for(const n of vl.values())qp(n,t);for(const n of uh.values())qp(n,t);return!0}function JU(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wae(t,e,n=yl){JU(t,e).clearInstance(n)}function iI(t){return t.options!==void 0}function eB(t){return iI(t)?!1:"authIdToken"in t||"appCheckToken"in t||"releaseOnDeref"in t||"automaticDataCollectionEnabled"in t}function xt(t){return t==null?!1:t.settings!==void 0}function _ae(){dh.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eae={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fi=new Au("app","Firebase",Eae);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tB=class{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fi.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t,e){const n=Y2(t.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(n).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3,a=new Date().getTime();i-a<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class Sae extends tB{constructor(e,n,r,i){const a=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!0,s={name:r,automaticDataCollectionEnabled:a};if(e.apiKey!==void 0)super(e,s,i);else{const o=e;super(o.options,s,i)}this._serverConfig={automaticDataCollectionEnabled:a,...n},this._serverConfig.authIdToken&&wD(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&wD(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,mi(Ex,MT,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){sI(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw fi.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=xae;function aI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:yl,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw fi.create("bad-app-name",{appName:String(i)});if(n||(n=Z2()),!n)throw fi.create("no-options");const a=vl.get(i);if(a){if(gl(n,a.options)&&gl(r,a.config))return a;throw fi.create("duplicate-app",{appName:i})}const s=new WU(i);for(const l of dh.values())s.addComponent(l);const o=new tB(n,r,s);return vl.set(i,o),o}function Tae(t,e={}){if(yie()&&!FU())throw fi.create("invalid-server-app-environment");let n,r=e||{};if(t&&(iI(t)?n=t.options:eB(t)?r=t:n=t),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),n||(n=Z2()),!n)throw fi.create("no-options");const i={...r,...n};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const a=d=>[...d].reduce((h,f)=>Math.imul(31,h)+f.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw fi.create("finalization-registry-not-supported",{});const s=""+a(JSON.stringify(i)),o=uh.get(s);if(o)return o.incRefCount(r.releaseOnDeref),o;const l=new WU(s);for(const d of dh.values())l.addComponent(d);const u=new Sae(n,r,s,l);return uh.set(s,u),u}function Aae(t=yl){const e=vl.get(t);if(!e&&t===yl&&Z2())return aI();if(!e)throw fi.create("no-app",{appName:t});return e}function Nae(){return Array.from(vl.values())}async function sI(t){let e=!1;const n=t.name;vl.has(n)?(e=!0,vl.delete(n)):uh.has(n)&&t.decRefCount()<=0&&(uh.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function mi(t,e,n){let r=bae[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ls.warn(s.join(" "));return}Vs(new qi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function nB(t,e){if(t!==null&&typeof t!="function")throw fi.create("invalid-log-argument");Oie(t,e)}function rB(t){kie(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iae="firebase-heartbeat-database",jae=1,Hp="firebase-heartbeat-store";let CE=null;function iB(){return CE||(CE=Fie(Iae,jae,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hp)}catch(n){console.warn(n)}}}}).catch(t=>{throw fi.create("idb-open",{originalErrorMessage:t.message})})),CE}async function Cae(t){try{const n=(await iB()).transaction(Hp),r=await n.objectStore(Hp).get(aB(t));return await n.done,r}catch(e){if(e instanceof fr)Ls.warn(e.message);else{const n=fi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ls.warn(n.message)}}}async function _D(t,e){try{const r=(await iB()).transaction(Hp,"readwrite");await r.objectStore(Hp).put(e,aB(t)),await r.done}catch(n){if(n instanceof fr)Ls.warn(n.message);else{const r=fi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ls.warn(r.message)}}}function aB(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pae=1024,kae=30;class Oae{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Dae(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ED();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>kae){const s=Mae(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ls.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ED(),{heartbeatsToSend:r,unsentEntries:i}=Rae(this._heartbeatsCache.heartbeats),a=wx(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Ls.warn(n),""}}}function ED(){return new Date().toISOString().substring(0,10)}function Rae(t,e=Pae){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),SD(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),SD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Dae{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $p()?xie().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Cae(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _D(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _D(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function SD(t){return wx(JSON.stringify({version:2,heartbeats:t})).length}function Mae(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lae(t){Vs(new qi("platform-logger",e=>new Hie(e),"PRIVATE")),Vs(new qi("heartbeat",e=>new Oae(e),"PRIVATE")),mi(Ex,MT,t),mi(Ex,MT,"esm2020"),mi("fire-js","")}Lae("");const Vae=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:fr,SDK_VERSION:Js,_DEFAULT_ENTRY_NAME:yl,_addComponent:qp,_addOrOverwriteComponent:ZU,_apps:vl,_clearComponents:_ae,_components:dh,_getProvider:JU,_isFirebaseApp:iI,_isFirebaseServerApp:xt,_isFirebaseServerAppSettings:eB,_registerComponent:Vs,_removeServiceInstance:wae,_serverApps:uh,deleteApp:sI,getApp:Aae,getApps:Nae,initializeApp:aI,initializeServerApp:Tae,onLog:nB,registerVersion:mi,setLogLevel:rB},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zae{constructor(e,n){this._delegate=e,this.firebase=n,qp(e,new qi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),sI(this._delegate)))}_getService(e,n=yl){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=yl){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){qp(this._delegate,e)}_addOrOverwriteComponent(e){ZU(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uae={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},TD=new Au("app-compat","Firebase",Uae);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bae(t){const e={},n={__esModule:!0,initializeApp:a,app:i,registerVersion:mi,setLogLevel:rB,onLog:nB,apps:null,SDK_VERSION:Js,INTERNAL:{registerComponent:o,removeApp:r,useAsService:l,modularAPIs:Vae}};n.default=n,Object.defineProperty(n,"apps",{get:s});function r(u){delete e[u]}function i(u){if(u=u||yl,!gD(e,u))throw TD.create("no-app",{appName:u});return e[u]}i.App=t;function a(u,d={}){const h=aI(u,d);if(gD(e,h.name))return e[h.name];const f=new t(h,n);return e[h.name]=f,f}function s(){return Object.keys(e).map(u=>e[u])}function o(u){const d=u.name,h=d.replace("-compat","");if(Vs(u)&&u.type==="PUBLIC"){const f=(m=i())=>{if(typeof m[h]!="function")throw TD.create("invalid-app-argument",{appName:d});return m[h]()};u.serviceProps!==void 0&&_x(f,u.serviceProps),n[h]=f,t.prototype[h]=function(...m){return this._getService.bind(this,d).apply(this,u.multipleInstances?m:[])}}return u.type==="PUBLIC"?n[h]:null}function l(u,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(){const t=Bae(zae);t.INTERNAL={...t.INTERNAL,createFirebaseNamespace:sB,extendNamespace:e,createSubscribe:KU,ErrorFactory:Au,deepExtend:_x};function e(n){_x(t,n)}return t}const Fae=sB();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=new Sw("@firebase/app-compat"),$ae="@firebase/app-compat",qae="0.5.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hae(t){mi($ae,qae,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=Q2();if(t.firebase!==void 0){AD.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&AD.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const nt=Fae;Hae();var Gae="firebase",Kae="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nt.registerVersion(Gae,Kae,"app-compat");const rm={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},$u={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wae(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function oB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Yae=Wae,Qae=oB,lB=new Au("auth","Firebase",oB());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=new Sw("@firebase/auth");function Xae(t,...e){Sx.logLevel<=Te.WARN&&Sx.warn(`Auth (${Js}): ${t}`,...e)}function gv(t,...e){Sx.logLevel<=Te.ERROR&&Sx.error(`Auth (${Js}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t,...e){throw lI(t,...e)}function _n(t,...e){return lI(t,...e)}function oI(t,e,n){const r={...Qae(),[e]:n};return new Au("auth","Firebase",r).create(e,{appName:t.name})}function Un(t){return oI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sf(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&tr(t,"argument-error"),oI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lI(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lB.create(t,...e)}function Q(t,e,...n){if(!t)throw lI(e,...n)}function Ia(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gv(e),new Error(e)}function ua(t,e){t||Ia(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function cI(){return ND()==="http:"||ND()==="https:"}function ND(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zae(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cI()||$U()||"connection"in navigator)?navigator.onLine:!0}function Jae(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n){this.shortDelay=e,this.longDelay=n,ua(n>e,"Short delay should be less than long delay!"),this.isMobile=gie()||tI()}get(){return Zae()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(t,e){ua(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ia("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ia("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ia("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ese={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tse=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nse=new Zg(3e4,6e4);function Kt(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Wt(t,e,n,r,i={}){return uB(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=af({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...a};return vie()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Dl(t.emulatorConfig.host)&&(u.credentials="include"),cB.fetch()(await dB(t,t.config.apiHost,n,o),u)})}async function uB(t,e,n){t._canInitEmulator=!1;const r={...ese,...e};try{const i=new ise(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Pm(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pm(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Pm(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Pm(t,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw oI(t,d,u);tr(t,d)}}catch(i){if(i instanceof fr)throw i;tr(t,"network-request-failed",{message:String(i)})}}async function eo(t,e,n,r,i={}){const a=await Wt(t,e,n,r,i);return"mfaPendingCredential"in a&&tr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function dB(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?uI(t.config,i):`${t.config.apiScheme}://${i}`;return tse.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function rse(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ise{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_n(this.auth,"network-request-failed")),nse.get())})}}function Pm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_n(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t){return t!==void 0&&t.getResponse!==void 0}function jD(t){return t!==void 0&&t.enterprise!==void 0}class hB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rse(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ase(t){return(await Wt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function fB(t,e){return Wt(t,"GET","/v2/recaptchaConfig",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sse(t,e){return Wt(t,"POST","/v1/accounts:delete",e)}async function ose(t,e){return Wt(t,"POST","/v1/accounts:update",e)}async function Tx(t,e){return Wt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lse(t,e=!1){const n=ce(t),r=await n.getIdToken(e),i=Tw(r);Q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:ap(PE(i.auth_time)),issuedAtTime:ap(PE(i.iat)),expirationTime:ap(PE(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function PE(t){return Number(t)*1e3}function Tw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gv("JWT malformed, contained fewer than 3 sections"),null;try{const i=Y2(n);return i?JSON.parse(i):(gv("Failed to decode base64 JWT payload"),null)}catch(i){return gv("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function CD(t){const e=Tw(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof fr&&cse(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function cse({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class use{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ap(this.lastLoginAt),this.creationTime=ap(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kp(t){var h;const e=t.auth,n=await t.getIdToken(),r=await zs(t,Tx(e,{idToken:n}));Q(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(h=i.providerUserInfo)!=null&&h.length?mB(i.providerUserInfo):[],s=hse(t.providerData,a),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),u=o?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new LT(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function dse(t){const e=ce(t);await Kp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hse(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function mB(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fse(t,e){const n=await uB(t,{},async()=>{const r=af({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await dB(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&Dl(t.emulatorConfig.host)&&(l.credentials="include"),cB.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mse(t,e){return Wt(t,"POST","/v2/accounts:revokeToken",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");const n=CD(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await fse(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new Ud;return r&&(Q(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Q(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ud,this.toJSON())}_performRefresh(){return Ia("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class oa{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new use(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new LT(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await zs(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lse(this,e)}reload(){return dse(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new oa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Kp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xt(this.auth.app))return Promise.reject(Un(this.auth));const e=await this.getIdToken();return await zs(this,sse(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:f,isAnonymous:m,providerData:y,stsTokenManager:v}=n;Q(h&&v,e,"internal-error");const x=Ud.fromJSON(this.name,v);Q(typeof h=="string",e,"internal-error"),_o(r,e.name),_o(i,e.name),Q(typeof f=="boolean",e,"internal-error"),Q(typeof m=="boolean",e,"internal-error"),_o(a,e.name),_o(s,e.name),_o(o,e.name),_o(l,e.name),_o(u,e.name),_o(d,e.name);const b=new oa({uid:h,auth:e,email:i,emailVerified:f,displayName:r,isAnonymous:m,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:x,createdAt:u,lastLoginAt:d});return y&&Array.isArray(y)&&(b.providerData=y.map(w=>({...w}))),l&&(b._redirectEventId=l),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ud;i.updateFromServerResponse(n);const a=new oa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Kp(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Q(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?mB(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new Ud;o.updateFromIdToken(r);const l=new oa({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new LT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=new Map;function li(t){ua(t instanceof Function,"Expected a class definition");let e=PD.get(t);return e?(ua(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,PD.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pB.type="NONE";const hh=pB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(t,e,n){return`firebase:${t}:${e}:${n}`}class Bd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Dc(this.userKey,i.apiKey,a),this.fullPersistenceKey=Dc("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Tx(this.auth,{idToken:e}).catch(()=>{});return n?oa._fromGetAccountInfoResponse(this.auth,n,e):null}return oa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bd(li(hh),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||li(hh);const s=Dc(r,e.config.apiKey,e.name);let o=null;for(const u of n)try{const d=await u._get(s);if(d){let h;if(typeof d=="string"){const f=await Tx(e,{idToken:d}).catch(()=>{});if(!f)break;h=await oa._fromGetAccountInfoResponse(e,f,d)}else h=oa._fromJSON(e,d);u!==a&&(o=h),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Bd(a,e,r):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new Bd(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bB(e))return"Blackberry";if(wB(e))return"Webos";if(yB(e))return"Safari";if((e.includes("chrome/")||vB(e))&&!e.includes("edge/"))return"Chrome";if(Jg(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function gB(t=Lt()){return/firefox\//i.test(t)}function yB(t=Lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vB(t=Lt()){return/crios\//i.test(t)}function xB(t=Lt()){return/iemobile/i.test(t)}function Jg(t=Lt()){return/android/i.test(t)}function bB(t=Lt()){return/blackberry/i.test(t)}function wB(t=Lt()){return/webos/i.test(t)}function ey(t=Lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pse(t=Lt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function gse(t=Lt()){var e;return ey(t)&&!!((e=window.navigator)!=null&&e.standalone)}function yse(){return qU()&&document.documentMode===10}function _B(t=Lt()){return ey(t)||Jg(t)||wB(t)||bB(t)||/windows phone/i.test(t)||xB(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EB(t,e=[]){let n;switch(t){case"Browser":n=kD(Lt());break;case"Worker":n=`${kD(Lt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Js}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vse{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xse(t,e={}){return Wt(t,"GET","/v2/passwordPolicy",Kt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bse=6;class wse{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??bse,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _se{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OD(this),this.idTokenSubscription=new OD(this),this.beforeStateQueue=new vse(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Bd.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Tx(this,{idToken:e}),r=await oa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(xt(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Jae()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xt(this.app))return Promise.reject(Un(this));const n=e?ce(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xt(this.app)?Promise.reject(Un(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xt(this.app)?Promise.reject(Un(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xse(this),n=new wse(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Au("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await mse(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&li(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await Bd.create(this,[li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=EB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Xae(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Vt(t){return ce(t)}class OD{constructor(e){this.auth=e,this.observer=null,this.addObserver=KU(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ty={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ese(t){ty=t}function dI(t){return ty.loadJS(t)}function Sse(){return ty.recaptchaV2Script}function Tse(){return ty.recaptchaEnterpriseScript}function Ase(){return ty.gapiScript}function SB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nse=500,Ise=6e4,b0=1e12;class jse{constructor(e){this.auth=e,this.counter=b0,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new kse(e,this.auth.name,n||{})),this.counter++,r}reset(e){var r;const n=e||b0;(r=this._widgets.get(n))==null||r.delete(),this._widgets.delete(n)}getResponse(e){var r;const n=e||b0;return((r=this._widgets.get(n))==null?void 0:r.getResponse())||""}async execute(e){var r;const n=e||b0;return(r=this._widgets.get(n))==null||r.execute(),""}}class Cse{constructor(){this.enterprise=new Pse}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Pse{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class kse{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;Q(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Ose(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},Ise)},Nse))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Ose(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const Rse="recaptcha-enterprise",sp="NO_RECAPTCHA";class TB{constructor(e){this.type=Rse,this.auth=Vt(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{fB(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new hB(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,s(u.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;jD(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(u=>{s(u)}).catch(()=>{s(sp)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Cse().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&jD(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Tse();l.length!==0&&(l+=o),dI(l).then(()=>{i(o,a,s)}).catch(u=>{s(u)})}}).catch(o=>{s(o)})})}}async function im(t,e,n,r=!1,i=!1){const a=new TB(t);let s;if(i)s=sp;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function al(t,e,n,r,i){var a,s;if(i==="EMAIL_PASSWORD_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await im(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await im(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)});else if(i==="PHONE_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("PHONE_PROVIDER")){const o=await im(t,e,n);return r(t,o).catch(async l=>{var u;if(((u=t._getRecaptchaConfig())==null?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const d=await im(t,e,n,!1,!0);return r(t,d)}return Promise.reject(l)})}else{const o=await im(t,e,n,!1,!0);return r(t,o)}else return Promise.reject(i+" provider is not supported.")}async function Dse(t){const e=Vt(t),n=await fB(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new hB(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new TB(e).verify()}function Mse(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(li);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Lse(t,e,n){const r=Vt(t);Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),a=AB(e),{host:s,port:o}=Vse(e),l=o===null?"":`:${o}`,u={url:`${a}//${s}${l}/`},d=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Q(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Q(gl(u,r.config.emulator)&&gl(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Dl(s)?(J2(`${a}//${s}${l}`),eI("Auth",!0)):i||zse()}function AB(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Vse(t){const e=AB(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:RD(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:RD(s)}}}function RD(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zse(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ia("not implemented")}_getIdTokenResponse(e){return Ia("not implemented")}_linkToIdToken(e,n){return Ia("not implemented")}_getReauthenticationResolver(e){return Ia("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NB(t,e){return Wt(t,"POST","/v1/accounts:resetPassword",Kt(t,e))}async function Use(t,e){return Wt(t,"POST","/v1/accounts:update",e)}async function Bse(t,e){return Wt(t,"POST","/v1/accounts:signUp",e)}async function Fse(t,e){return Wt(t,"POST","/v1/accounts:update",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $se(t,e){return eo(t,"POST","/v1/accounts:signInWithPassword",Kt(t,e))}async function Aw(t,e){return Wt(t,"POST","/v1/accounts:sendOobCode",Kt(t,e))}async function qse(t,e){return Aw(t,e)}async function Hse(t,e){return Aw(t,e)}async function Gse(t,e){return Aw(t,e)}async function Kse(t,e){return Aw(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wse(t,e){return eo(t,"POST","/v1/accounts:signInWithEmailLink",Kt(t,e))}async function Yse(t,e){return eo(t,"POST","/v1/accounts:signInWithEmailLink",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp extends of{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Wp(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Wp(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return al(e,n,"signInWithPassword",$se,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Wse(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return al(e,r,"signUpPassword",Bse,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Yse(e,{idToken:n,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Es(t,e){return eo(t,"POST","/v1/accounts:signInWithIdp",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qse="http://localhost";class Fa extends of{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new Fa(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Es(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Es(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Es(e,n)}buildRequest(){const e={requestUri:Qse,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=af(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(t,e){return Wt(t,"POST","/v1/accounts:sendVerificationCode",Kt(t,e))}async function Xse(t,e){return eo(t,"POST","/v1/accounts:signInWithPhoneNumber",Kt(t,e))}async function Zse(t,e){const n=await eo(t,"POST","/v1/accounts:signInWithPhoneNumber",Kt(t,e));if(n.temporaryProof)throw Pm(t,"account-exists-with-different-credential",n);return n}const Jse={USER_NOT_FOUND:"user-not-found"};async function eoe(t,e){const n={...e,operation:"REAUTH"};return eo(t,"POST","/v1/accounts:signInWithPhoneNumber",Kt(t,n),Jse)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends of{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Mc({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Mc({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return Xse(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return Zse(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return eoe(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a}=e;return!r&&!n&&!i&&!a?null:new Mc({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function toe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function noe(t){const e=Ed(Cm(t)).link,n=e?Ed(Cm(e)).deep_link_id:null,r=Ed(Cm(t)).deep_link_id;return(r?Ed(Cm(r)).link:null)||r||n||e||t}class Nw{constructor(e){const n=Ed(Cm(e)),r=n.apiKey??null,i=n.oobCode??null,a=toe(n.mode??null);Q(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=noe(e);try{return new Nw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(){this.providerId=Ml.PROVIDER_ID}static credential(e,n){return Wp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Nw.parseLink(n);return Q(r,"argument-error"),Wp._fromEmailAndCode(e,r.code,r.tenantId)}}Ml.PROVIDER_ID="password";Ml.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ml.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf extends to{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Fd extends lf{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return Q("providerId"in n&&"signInMethod"in n,"argument-error"),Fa._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return Q(e.idToken||e.accessToken,"argument-error"),Fa._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Fd.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Fd.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:a,nonce:s,providerId:o}=e;if(!r&&!i&&!n&&!a||!o)return null;try{return new Fd(o)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:a})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends lf{constructor(){super("facebook.com")}static credential(e){return Fa._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ba.credential(e.oauthAccessToken)}catch{return null}}}ba.FACEBOOK_SIGN_IN_METHOD="facebook.com";ba.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends lf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fa._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return wa.credential(n,r)}catch{return null}}}wa.GOOGLE_SIGN_IN_METHOD="google.com";wa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends lf{constructor(){super("github.com")}static credential(e){return Fa._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _a.credential(e.oauthAccessToken)}catch{return null}}}_a.GITHUB_SIGN_IN_METHOD="github.com";_a.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const roe="http://localhost";class fh extends of{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Es(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Es(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Es(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:a}=n;return!r||!i||!a||r!==i?null:new fh(r,a)}static _create(e,n){return new fh(e,n)}buildRequest(){return{requestUri:roe,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ioe="saml.";class Ax extends to{constructor(e){Q(e.startsWith(ioe),"argument-error"),super(e)}static credentialFromResult(e){return Ax.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Ax.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=fh.fromJSON(e);return Q(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return fh._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends lf{constructor(){super("twitter.com")}static credential(e,n){return Fa._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ea.credentialFromTaggedObject(e)}static credentialFromError(e){return Ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ea.credential(n,r)}catch{return null}}}Ea.TWITTER_SIGN_IN_METHOD="twitter.com";Ea.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IB(t,e){return eo(t,"POST","/v1/accounts:signUp",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await oa._fromIdTokenResponse(e,r,i),s=MD(r);return new Hi({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=MD(r);return new Hi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function MD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aoe(t){var i;if(xt(t.app))return Promise.reject(Un(t));const e=Vt(t);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new Hi({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await IB(e,{returnSecureToken:!0}),r=await Hi._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx extends fr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Nx.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Nx(e,n,r,i)}}function jB(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Nx._fromErrorAndOperation(t,a,e,r):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function soe(t,e){const n=ce(t);await Iw(!0,n,e);const{providerUserInfo:r}=await ose(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=CB(r||[]);return n.providerData=n.providerData.filter(a=>i.has(a.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function hI(t,e,n=!1){const r=await zs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Hi._forOperation(t,"link",r)}async function Iw(t,e,n){await Kp(e);const r=CB(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";Q(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PB(t,e,n=!1){const{auth:r}=t;if(xt(r.app))return Promise.reject(Un(r));const i="reauthenticate";try{const a=await zs(t,jB(r,i,e,t),n);Q(a.idToken,r,"internal-error");const s=Tw(a.idToken);Q(s,r,"internal-error");const{sub:o}=s;return Q(t.uid===o,r,"user-mismatch"),Hi._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&tr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kB(t,e,n=!1){if(xt(t.app))return Promise.reject(Un(t));const r="signIn",i=await jB(t,r,e),a=await Hi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function jw(t,e){return kB(Vt(t),e)}async function OB(t,e){const n=ce(t);return await Iw(!1,n,e.providerId),hI(n,e)}async function RB(t,e){return PB(ce(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ooe(t,e){return eo(t,"POST","/v1/accounts:signInWithCustomToken",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function loe(t,e){if(xt(t.app))return Promise.reject(Un(t));const n=Vt(t),r=await ooe(n,{token:e,returnSecureToken:!0}),i=await Hi._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?fI._fromServerResponse(e,n):"totpInfo"in n?mI._fromServerResponse(e,n):tr(e,"internal-error")}}class fI extends ny{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new fI(n)}}class mI extends ny{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new mI(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(t,e,n){var r;Q(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),Q(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),Q(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Q(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Q(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(t){const e=Vt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function coe(t,e,n){const r=Vt(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Cw(r,i,n),await al(r,i,"getOobCode",Hse,"EMAIL_PASSWORD_PROVIDER")}async function uoe(t,e,n){await NB(ce(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&pI(t),r})}async function doe(t,e){await Fse(ce(t),{oobCode:e})}async function DB(t,e){const n=ce(t),r=await NB(n,{oobCode:e}),i=r.requestType;switch(Q(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(r.mfaInfo,n,"internal-error");default:Q(r.email,n,"internal-error")}let a=null;return r.mfaInfo&&(a=ny._fromServerResponse(Vt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:a},operation:i}}async function hoe(t,e){const{data:n}=await DB(ce(t),e);return n.email}async function foe(t,e,n){if(xt(t.app))return Promise.reject(Un(t));const r=Vt(t),s=await al(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",IB,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&pI(t),l}),o=await Hi._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function moe(t,e,n){return xt(t.app)?Promise.reject(Un(t)):jw(ce(t),Ml.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&pI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function poe(t,e,n){const r=Vt(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(s,o){Q(o.handleCodeInApp,r,"argument-error"),o&&Cw(r,s,o)}a(i,n),await al(r,i,"getOobCode",Gse,"EMAIL_PASSWORD_PROVIDER")}function goe(t,e){const n=Nw.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function yoe(t,e,n){if(xt(t.app))return Promise.reject(Un(t));const r=ce(t),i=Ml.credentialWithLink(e,n||Gp());return Q(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),jw(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function voe(t,e){return Wt(t,"POST","/v1/accounts:createAuthUri",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xoe(t,e){const n=cI()?Gp():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await voe(ce(t),r);return i||[]}async function boe(t,e){const n=ce(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Cw(n.auth,i,e);const{email:a}=await qse(n.auth,i);a!==t.email&&await t.reload()}async function woe(t,e,n){const r=ce(t),a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Cw(r.auth,a,n);const{email:s}=await Kse(r.auth,a);s!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _oe(t,e){return Wt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eoe(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ce(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await zs(r,_oe(r.auth,a));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function Soe(t,e){const n=ce(t);return xt(n.auth.app)?Promise.reject(Un(n.auth)):MB(n,e,null)}function Toe(t,e){return MB(ce(t),null,e)}async function MB(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(a.email=e),n&&(a.password=n);const s=await zs(t,Use(r,a));await t._updateTokensIfNecessary(s,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aoe(t){var i,a;if(!t)return null;const{providerId:e}=t,n=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},r=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(t!=null&&t.idToken)){const s=(a=(i=Tw(t.idToken))==null?void 0:i.firebase)==null?void 0:a.sign_in_provider;if(s){const o=s!=="anonymous"&&s!=="custom"?s:null;return new $d(r,o)}}if(!e)return null;switch(e){case"facebook.com":return new Noe(r,n);case"github.com":return new Ioe(r,n);case"google.com":return new joe(r,n);case"twitter.com":return new Coe(r,n,t.screenName||null);case"custom":case"anonymous":return new $d(r,null);default:return new $d(r,e,n)}}class $d{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class LB extends $d{constructor(e,n,r,i){super(e,n,r),this.username=i}}class Noe extends $d{constructor(e,n){super(e,"facebook.com",n)}}class Ioe extends LB{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class joe extends $d{constructor(e,n){super(e,"google.com",n)}}class Coe extends LB{constructor(e,n,r){super(e,"twitter.com",n,r)}}function Poe(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Aoe(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new _c("enroll",e,n)}static _fromMfaPendingCredential(e){return new _c("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if((n=e.multiFactorSession)!=null&&n.pendingCredential)return _c._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((r=e.multiFactorSession)!=null&&r.idToken)return _c._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Vt(e),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map(o=>ny._fromServerResponse(r,o));Q(i.mfaPendingCredential,r,"internal-error");const s=_c._fromMfaPendingCredential(i.mfaPendingCredential);return new gI(s,a,async o=>{const l=await o._process(r,s);delete i.mfaInfo,delete i.mfaPendingCredential;const u={...i,idToken:l.idToken,refreshToken:l.refreshToken};switch(n.operationType){case"signIn":const d=await Hi._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(d.user),d;case"reauthenticate":return Q(n.user,r,"internal-error"),Hi._forOperation(n.user,n.operationType,u);default:tr(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function koe(t,e){var i;const n=ce(t),r=e;return Q(e.customData.operationType,n,"argument-error"),Q((i=r.customData._serverResponse)==null?void 0:i.mfaPendingCredential,n,"argument-error"),gI._fromError(n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(t,e){return Wt(t,"POST","/v2/accounts/mfaEnrollment:start",Kt(t,e))}function Ooe(t,e){return Wt(t,"POST","/v2/accounts/mfaEnrollment:finalize",Kt(t,e))}function Roe(t,e){return Wt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Kt(t,e))}class yI{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>ny._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new yI(e)}async getSession(){return _c._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),a=await zs(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(a),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await zs(this.user,Roe(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:a})=>a!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const kE=new WeakMap;function Doe(t){const e=ce(t);return kE.has(e)||kE.set(e,yI._fromUser(e)),kE.get(e)}const Ix="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ix,"1"),this.storage.removeItem(Ix),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Moe=1e3,Loe=10;class zB extends VB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_B(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);yse()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Loe):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Moe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zB.type="LOCAL";const vI=zB;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB extends VB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}UB.type="SESSION";const Jc=UB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Voe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Pw(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async u=>u(n.origin,a)),l=await Voe(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zoe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const u=ry("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(f.data.response);break;default:clearTimeout(d),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return window}function Uoe(t){sn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(){return typeof sn().WorkerGlobalScope<"u"&&typeof sn().importScripts=="function"}async function Boe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Foe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function $oe(){return xI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB="firebaseLocalStorageDb",qoe=1,jx="firebaseLocalStorage",FB="fbase_key";class iy{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kw(t,e){return t.transaction([jx],e?"readwrite":"readonly").objectStore(jx)}function Hoe(){const t=indexedDB.deleteDatabase(BB);return new iy(t).toPromise()}function VT(){const t=indexedDB.open(BB,qoe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jx,{keyPath:FB})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jx)?e(r):(r.close(),await Hoe(),e(await VT()))})})}async function VD(t,e,n){const r=kw(t,!0).put({[FB]:e,value:n});return new iy(r).toPromise()}async function Goe(t,e){const n=kw(t,!1).get(e),r=await new iy(n).toPromise();return r===void 0?null:r.value}function zD(t,e){const n=kw(t,!0).delete(e);return new iy(n).toPromise()}const Koe=800,Woe=3;class $B{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await VT(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Woe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pw._getInstance($oe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Boe(),!this.activeServiceWorker)return;this.sender=new zoe(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Foe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await VT();return await VD(e,Ix,"1"),await zD(e,Ix),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>VD(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Goe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zD(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=kw(i,!1).getAll();return new iy(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Koe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$B.type="LOCAL";const Yp=$B;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t,e){return Wt(t,"POST","/v2/accounts/mfaSignIn:start",Kt(t,e))}function Yoe(t,e){return Wt(t,"POST","/v2/accounts/mfaSignIn:finalize",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=SB("rcb"),Qoe=new Zg(3e4,6e4);class Xoe{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=sn().grecaptcha)!=null&&e.render)}load(e,n=""){return Q(Zoe(n),e,"argument-error"),this.shouldResolveImmediately(n)&&ID(sn().grecaptcha)?Promise.resolve(sn().grecaptcha):new Promise((r,i)=>{const a=sn().setTimeout(()=>{i(_n(e,"network-request-failed"))},Qoe.get());sn()[OE]=()=>{sn().clearTimeout(a),delete sn()[OE];const o=sn().grecaptcha;if(!o||!ID(o)){i(_n(e,"internal-error"));return}const l=o.render;o.render=(u,d)=>{const h=l(u,d);return this.counter++,h},this.hostLanguage=n,r(o)};const s=`${Sse()}?${af({onload:OE,render:"explicit",hl:n})}`;dI(s).catch(()=>{clearTimeout(a),i(_n(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!((n=sn().grecaptcha)!=null&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Zoe(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class Joe{async load(e){return new jse(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="recaptcha",ele={theme:"light",type:"image"};let tle=class{constructor(e,n,r={...ele}){this.parameters=r,this.type=op,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vt(e),this.isInvisible=this.parameters.size==="invisible",Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;Q(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Joe:new Xoe,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const a=s=>{s&&(this.tokenChangeListeners.delete(a),i(s))};this.tokenChangeListeners.add(a),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=sn()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Q(cI()&&!xI(),this.auth,"internal-error"),await nle(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await ase(this.auth);Q(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function nle(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Mc._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function rle(t,e,n){if(xt(t.app))return Promise.reject(Un(t));const r=Vt(t),i=await Ow(r,e,ce(n));return new bI(i,a=>jw(r,a))}async function ile(t,e,n){const r=ce(t);await Iw(!1,r,"phone");const i=await Ow(r.auth,e,ce(n));return new bI(i,a=>OB(r,a))}async function ale(t,e,n){const r=ce(t);if(xt(r.auth.app))return Promise.reject(Un(r.auth));const i=await Ow(r.auth,e,ce(n));return new bI(i,a=>RB(r,a))}async function Ow(t,e,n){var r;if(!t._getRecaptchaConfig())try{await Dse(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const a=i.session;if("phoneNumber"in i){Q(a.type==="enroll",t,"internal-error");const s={idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await al(t,s,"mfaSmsEnrollment",async(d,h)=>{if(h.phoneEnrollmentInfo.captchaResponse===sp){Q((n==null?void 0:n.type)===op,d,"argument-error");const f=await RE(d,h,n);return LD(d,f)}return LD(d,h)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).phoneSessionInfo.sessionInfo}else{Q(a.type==="signin",t,"internal-error");const s=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;Q(s,t,"missing-multi-factor-info");const o={mfaPendingCredential:a.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await al(t,o,"mfaSmsSignIn",async(h,f)=>{if(f.phoneSignInInfo.captchaResponse===sp){Q((n==null?void 0:n.type)===op,h,"argument-error");const m=await RE(h,f,n);return UD(h,m)}return UD(h,f)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneResponseInfo.sessionInfo}}else{const a={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await al(t,a,"sendVerificationCode",async(u,d)=>{if(d.captchaResponse===sp){Q((n==null?void 0:n.type)===op,u,"argument-error");const h=await RE(u,d,n);return DD(u,h)}return DD(u,d)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).sessionInfo}}finally{n==null||n._reset()}}async function sle(t,e){const n=ce(t);if(xt(n.auth.app))return Promise.reject(Un(n.auth));await hI(n,e)}async function RE(t,e,n){Q(n.type===op,t,"argument-error");const r=await n.verify();Q(typeof r=="string",t,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const a=i.phoneEnrollmentInfo.phoneNumber,s=i.phoneEnrollmentInfo.captchaResponse,o=i.phoneEnrollmentInfo.clientType,l=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r,captchaResponse:s,clientType:o,recaptchaVersion:l}}),i}else if("phoneSignInInfo"in i){const a=i.phoneSignInInfo.captchaResponse,s=i.phoneSignInInfo.clientType,o=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:a,clientType:s,recaptchaVersion:o}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eu=class yv{constructor(e){this.providerId=yv.PROVIDER_ID,this.auth=Vt(e)}verifyPhoneNumber(e,n){return Ow(this.auth,e,ce(n))}static credential(e,n){return Mc._fromVerification(e,n)}static credentialFromResult(e){const n=e;return yv.credentialFromTaggedObject(n)}static credentialFromError(e){return yv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Mc._fromTokenResponse(n,r):null}};eu.PROVIDER_ID="phone";eu.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t,e){return e?li(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI extends of{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Es(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Es(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Es(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ole(t){return kB(t.auth,new wI(t),t.bypassAuthState)}function lle(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),PB(n,new wI(t),t.bypassAuthState)}async function cle(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),hI(n,new wI(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ole;case"linkViaPopup":case"linkViaRedirect":return cle;case"reauthViaPopup":case"reauthViaRedirect":return lle;default:tr(this.auth,"internal-error")}}resolve(e){ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ule=new Zg(2e3,1e4);async function dle(t,e,n){if(xt(t.app))return Promise.reject(_n(t,"operation-not-supported-in-this-environment"));const r=Vt(t);sf(t,e,to);const i=Nu(r,n);return new ps(r,"signInViaPopup",e,i).executeNotNull()}async function hle(t,e,n){const r=ce(t);if(xt(r.auth.app))return Promise.reject(_n(r.auth,"operation-not-supported-in-this-environment"));sf(r.auth,e,to);const i=Nu(r.auth,n);return new ps(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function fle(t,e,n){const r=ce(t);sf(r.auth,e,to);const i=Nu(r.auth,n);return new ps(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class ps extends qB{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,ps.currentPopupAction&&ps.currentPopupAction.cancel(),ps.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){ua(this.filter.length===1,"Popup operations only handle one event");const e=ry();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(_n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ps.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ule.get())};e()}}ps.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mle="pendingRedirect",lp=new Map;class ple extends qB{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lp.get(this.auth._key());if(!e){try{const r=await gle(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lp.set(this.auth._key(),e)}return this.bypassAuthState||lp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gle(t,e){const n=GB(e),r=HB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function _I(t,e){return HB(t)._set(GB(e),"true")}function yle(){lp.clear()}function EI(t,e){lp.set(t._key(),e)}function HB(t){return li(t._redirectPersistence)}function GB(t){return Dc(mle,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vle(t,e,n){return xle(t,e,n)}async function xle(t,e,n){if(xt(t.app))return Promise.reject(Un(t));const r=Vt(t);sf(t,e,to),await r._initializationPromise;const i=Nu(r,n);return await _I(i,r),i._openRedirect(r,e,"signInViaRedirect")}function ble(t,e,n){return wle(t,e,n)}async function wle(t,e,n){const r=ce(t);if(sf(r.auth,e,to),xt(r.auth.app))return Promise.reject(Un(r.auth));await r.auth._initializationPromise;const i=Nu(r.auth,n);await _I(i,r.auth);const a=await KB(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",a)}function _le(t,e,n){return Ele(t,e,n)}async function Ele(t,e,n){const r=ce(t);sf(r.auth,e,to),await r.auth._initializationPromise;const i=Nu(r.auth,n);await Iw(!1,r,e.providerId),await _I(i,r.auth);const a=await KB(r);return i._openRedirect(r.auth,e,"linkViaRedirect",a)}async function Sle(t,e){return await Vt(t)._initializationPromise,Rw(t,e,!1)}async function Rw(t,e,n=!1){if(xt(t.app))return Promise.reject(Un(t));const r=Vt(t),i=Nu(r,e),s=await new ple(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}async function KB(t){const e=ry(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tle=10*60*1e3;class WB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ale(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!YB(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(_n(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Tle&&this.cachedEventUids.clear(),this.cachedEventUids.has(BD(e))}saveEventToCache(e){this.cachedEventUids.add(BD(e)),this.lastProcessedEventTime=Date.now()}}function BD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YB({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Ale(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YB(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QB(t,e={}){return Wt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nle=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ile=/^https?/;async function jle(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QB(t);for(const n of e)try{if(Cle(n))return}catch{}tr(t,"unauthorized-domain")}function Cle(t){const e=Gp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Ile.test(n))return!1;if(Nle.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ple=new Zg(3e4,6e4);function FD(){const t=sn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kle(t){return new Promise((e,n)=>{var i,a,s;function r(){FD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{FD(),n(_n(t,"network-request-failed"))},timeout:Ple.get()})}if((a=(i=sn().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=sn().gapi)!=null&&s.load)r();else{const o=SB("iframefcb");return sn()[o]=()=>{gapi.load?r():n(_n(t,"network-request-failed"))},dI(`${Ase()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw vv=null,e})}let vv=null;function Ole(t){return vv=vv||kle(t),vv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rle=new Zg(5e3,15e3),Dle="__/auth/iframe",Mle="emulator/auth/iframe",Lle={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vle=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zle(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?uI(e,Mle):`https://${t.config.authDomain}/${Dle}`,r={apiKey:e.apiKey,appName:t.name,v:Js},i=Vle.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${af(r).slice(1)}`}async function Ule(t){const e=await Ole(t),n=sn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:zle(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lle,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=_n(t,"network-request-failed"),o=sn().setTimeout(()=>{a(s)},Rle.get());function l(){sn().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ble={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fle=500,$le=600,qle="_blank",Hle="http://localhost";class $D{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Gle(t,e,n,r=Fle,i=$le){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...Ble,width:r.toString(),height:i.toString(),top:a,left:s},u=Lt().toLowerCase();n&&(o=vB(u)?qle:n),gB(u)&&(e=e||Hle,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,y])=>`${f}${m}=${y},`,"");if(gse(u)&&o!=="_self")return Kle(e||"",o),new $D(null);const h=window.open(e||"",o,d);Q(h,t,"popup-blocked");try{h.focus()}catch{}return new $D(h)}function Kle(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wle="__/auth/handler",Yle="emulator/auth/handler",Qle=encodeURIComponent("fac");async function zT(t,e,n,r,i,a){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Js,eventId:i};if(e instanceof to){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Eie(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(a||{}))s[d]=h}if(e instanceof lf){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await t._getAppCheckToken(),u=l?`#${Qle}=${encodeURIComponent(l)}`:"";return`${Xle(t)}?${af(o).slice(1)}${u}`}function Xle({config:t}){return t.emulator?uI(t,Yle):`https://${t.authDomain}/${Wle}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="webStorageSupport";class Zle{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jc,this._completeRedirectFn=Rw,this._overrideRedirectResult=EI}async _openPopup(e,n,r,i){var s;ua((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await zT(e,n,r,Gp(),i);return Gle(e,a,ry())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await zT(e,n,r,Gp(),i);return Uoe(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(ua(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Ule(e),r=new WB(e);return n.register("authEvent",i=>(Q(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(DE,{type:DE},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[DE];a!==void 0&&n(!!a),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jle(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _B()||yB()||ey()}}const Jle=Zle;class ece{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Ia("unexpected MultiFactorSessionType")}}}class SI extends ece{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new SI(e)}_finalizeEnroll(e,n,r){return Ooe(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return Yoe(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class XB{constructor(){}static assertion(e){return SI._fromCredential(e)}}XB.FACTOR_ID="phone";var qD="@firebase/auth",HD="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tce{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nce(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rce(t){Vs(new qi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;Q(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EB(t)},u=new _se(r,i,a,l);return Mse(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vs(new qi("auth-internal",e=>{const n=Vt(e.getProvider("auth").getImmediate());return(r=>new tce(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mi(qD,HD,nce(t)),mi(qD,HD,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ice=5*60;hie("authIdTokenMaxAge");function ace(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Ese({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=_n("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",ace().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rce("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sce=2e3;async function oce(t,e,n){const{BuildInfo:r}=tu();ua(e.sessionId,"AuthEvent did not contain a session ID");const i=await hce(e.sessionId),a={};return ey()?a.ibi=r.packageName:Jg()?a.apn=r.packageName:tr(t,"operation-not-supported-in-this-environment"),r.displayName&&(a.appDisplayName=r.displayName),a.sessionId=i,zT(t,n,e.type,void 0,e.eventId??void 0,a)}async function lce(t){const{BuildInfo:e}=tu(),n={};ey()?n.iosBundleId=e.packageName:Jg()?n.androidPackageName=e.packageName:tr(t,"operation-not-supported-in-this-environment"),await QB(t,n)}function cce(t){const{cordova:e}=tu();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,pse()?"_blank":"_system","location=yes"),n(i)})})}async function uce(t,e,n){const{cordova:r}=tu();let i=()=>{};try{await new Promise((a,s)=>{let o=null;function l(){var f;a();const h=(f=r.plugins.browsertab)==null?void 0:f.close;typeof h=="function"&&h(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function u(){o||(o=window.setTimeout(()=>{s(_n(t,"redirect-cancelled-by-user"))},sce))}function d(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(l),document.addEventListener("resume",u,!1),Jg()&&document.addEventListener("visibilitychange",d,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",d,!1),o&&window.clearTimeout(o)}})}finally{i()}}function dce(t){var n,r,i,a,s,o,l,u,d,h;const e=tu();Q(typeof((n=e==null?void 0:e.universalLinks)==null?void 0:n.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Q(typeof((r=e==null?void 0:e.BuildInfo)==null?void 0:r.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Q(typeof((s=(a=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:a.browsertab)==null?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q(typeof((u=(l=(o=e==null?void 0:e.cordova)==null?void 0:o.plugins)==null?void 0:l.browsertab)==null?void 0:u.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q(typeof((h=(d=e==null?void 0:e.cordova)==null?void 0:d.InAppBrowser)==null?void 0:h.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function hce(t){const e=fce(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function fce(t){if(ua(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mce=20;class pce extends WB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function gce(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:xce(),postBody:null,tenantId:t.tenantId,error:_n(t,"no-auth-event")}}function yce(t,e){return UT()._set(BT(t),e)}async function GD(t){const e=await UT()._get(BT(t));return e&&await UT()._remove(BT(t)),e}function vce(t,e){var r,i;const n=wce(e);if(n.includes("/__/auth/callback")){const a=xv(n),s=a.firebaseError?bce(decodeURIComponent(a.firebaseError)):null,o=(i=(r=s==null?void 0:s.code)==null?void 0:r.split("auth/"))==null?void 0:i[1],l=o?_n(o):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:n,postBody:null}}return null}function xce(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<mce;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function UT(){return li(vI)}function BT(t){return Dc("authEvent",t.config.apiKey,t.name)}function bce(t){try{return JSON.parse(t)}catch{return null}}function wce(t){const e=xv(t),n=e.link?decodeURIComponent(e.link):void 0,r=xv(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return xv(i).link||i||r||n||t}function xv(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Ed(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ce=500;class Ece{constructor(){this._redirectPersistence=Jc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Rw,this._overrideRedirectResult=EI}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new pce(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){tr(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){dce(e);const a=await this._initialize(e);await a.initialized(),a.resetRedirect(),yle(),await this._originValidation(e);const s=gce(e,r,i);await yce(e,s);const o=await oce(e,s,n),l=await cce(o);return uce(e,a,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lce(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:a}=tu(),s=setTimeout(async()=>{await GD(e),n.onEvent(KD())},_ce),o=async d=>{clearTimeout(s);const h=await GD(e);let f=null;h&&(d!=null&&d.url)&&(f=vce(h,d.url)),n.onEvent(f||KD())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,o);const l=i,u=`${a.packageName.toLowerCase()}://`;tu().handleOpenURL=async d=>{if(d.toLowerCase().startsWith(u)&&o({url:d}),typeof l=="function")try{l(d)}catch(h){console.error(h)}}}}const Sce=Ece;function KD(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_n("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tce(t,e){Vt(t)._logFramework(e)}var Ace="@firebase/auth-compat",Nce="0.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ice=1e3;function cp(){var t;return((t=self==null?void 0:self.location)==null?void 0:t.protocol)||null}function jce(){return cp()==="http:"||cp()==="https:"}function ZB(t=Lt()){return!!((cp()==="file:"||cp()==="ionic:"||cp()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Cce(){return tI()||Ew()}function Pce(){return qU()&&(document==null?void 0:document.documentMode)===11}function kce(t=Lt()){return/Edge\/\d+/.test(t)}function Oce(t=Lt()){return Pce()||kce(t)}function JB(){try{const t=self.localStorage,e=ry();if(t)return t.setItem(e,"1"),t.removeItem(e),Oce()?$p():!0}catch{return TI()&&$p()}return!1}function TI(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ME(){return(jce()||$U()||ZB())&&!Cce()&&JB()&&!TI()}function eF(){return ZB()&&typeof document<"u"}async function Rce(){return eF()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},Ice);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function Dce(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii={LOCAL:"local",NONE:"none",SESSION:"session"},am=Q,tF="persistence";function Mce(t,e){if(am(Object.values(ii).includes(e),t,"invalid-persistence-type"),tI()){am(e!==ii.SESSION,t,"unsupported-persistence-type");return}if(Ew()){am(e===ii.NONE,t,"unsupported-persistence-type");return}if(TI()){am(e===ii.NONE||e===ii.LOCAL&&$p(),t,"unsupported-persistence-type");return}am(e===ii.NONE||JB(),t,"unsupported-persistence-type")}async function FT(t){await t._initializationPromise;const e=nF(),n=Dc(tF,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistenceType())}function Lce(t,e){const n=nF();if(!n)return[];const r=Dc(tF,t,e);switch(n.getItem(r)){case ii.NONE:return[hh];case ii.LOCAL:return[Yp,Jc];case ii.SESSION:return[Jc];default:return[]}}function nF(){var t;try{return((t=Dce())==null?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vce=Q;class Ho{constructor(){this.browserResolver=li(Jle),this.cordovaResolver=li(Sce),this.underlyingResolver=null,this._redirectPersistence=Jc,this._completeRedirectFn=Rw,this._overrideRedirectResult=EI}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return eF()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vce(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await Rce();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(t){return t.unwrap()}function zce(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uce(t){return iF(t)}function Bce(t,e){var r;const n=(r=e.customData)==null?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new Fce(t,koe(t,e))}else if(n){const i=iF(e),a=e;i&&(a.credential=i,a.tenantId=n.tenantId||void 0,a.email=n.email||void 0,a.phoneNumber=n.phoneNumber||void 0)}}function iF(t){const{_tokenResponse:e}=t instanceof fr?t.customData:t;if(!e)return null;if(!(t instanceof fr)&&"temporaryProof"in e&&"phoneNumber"in e)return eu.credentialFromResult(t);const n=e.providerId;if(!n||n===rm.PASSWORD)return null;let r;switch(n){case rm.GOOGLE:r=wa;break;case rm.FACEBOOK:r=ba;break;case rm.GITHUB:r=_a;break;case rm.TWITTER:r=Ea;break;default:const{oauthIdToken:i,oauthAccessToken:a,oauthTokenSecret:s,pendingToken:o,nonce:l}=e;return!a&&!s&&!i&&!o?null:o?n.startsWith("saml.")?fh._create(n,o):Fa._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:i,accessToken:a}):new Fd(n).credential({idToken:i,accessToken:a,rawNonce:l})}return t instanceof fr?r.credentialFromError(t):r.credentialFromResult(t)}function Br(t,e){return e.catch(n=>{throw n instanceof fr&&Bce(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:Uce(n),additionalUserInfo:Poe(n),user:Dw.getOrCreate(i)}})}async function $T(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Br(t,n.confirm(r))}}class Fce{constructor(e,n){this.resolver=n,this.auth=zce(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Br(rF(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dw=class km{constructor(e){this._delegate=e,this.multiFactor=Doe(e)}static getOrCreate(e){return km.USER_MAP.has(e)||km.USER_MAP.set(e,new km(e)),km.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Br(this.auth,OB(this._delegate,e))}async linkWithPhoneNumber(e,n){return $T(this.auth,ile(this._delegate,e,n))}async linkWithPopup(e){return Br(this.auth,fle(this._delegate,e,Ho))}async linkWithRedirect(e){return await FT(Vt(this.auth)),_le(this._delegate,e,Ho)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Br(this.auth,RB(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return $T(this.auth,ale(this._delegate,e,n))}reauthenticateWithPopup(e){return Br(this.auth,hle(this._delegate,e,Ho))}async reauthenticateWithRedirect(e){return await FT(Vt(this.auth)),ble(this._delegate,e,Ho)}sendEmailVerification(e){return boe(this._delegate,e)}async unlink(e){return await soe(this._delegate,e),this}updateEmail(e){return Soe(this._delegate,e)}updatePassword(e){return Toe(this._delegate,e)}updatePhoneNumber(e){return sle(this._delegate,e)}updateProfile(e){return Eoe(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return woe(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Dw.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=Q;class qT{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;sm(r,"invalid-api-key",{appName:e.name}),sm(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Ho:void 0;this._delegate=n.initialize({options:{persistence:$ce(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Yae),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Dw.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){Lse(this._delegate,e,n)}applyActionCode(e){return doe(this._delegate,e)}checkActionCode(e){return DB(this._delegate,e)}confirmPasswordReset(e,n){return uoe(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Br(this._delegate,foe(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return xoe(this._delegate,e)}isSignInWithEmailLink(e){return goe(this._delegate,e)}async getRedirectResult(){sm(ME(),this._delegate,"operation-not-supported-in-this-environment");const e=await Sle(this._delegate,Ho);return e?Br(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){Tce(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:a,complete:s}=WD(e,n,r);return this._delegate.onAuthStateChanged(i,a,s)}onIdTokenChanged(e,n,r){const{next:i,error:a,complete:s}=WD(e,n,r);return this._delegate.onIdTokenChanged(i,a,s)}sendSignInLinkToEmail(e,n){return poe(this._delegate,e,n)}sendPasswordResetEmail(e,n){return coe(this._delegate,e,n||void 0)}async setPersistence(e){Mce(this._delegate,e);let n;switch(e){case ii.SESSION:n=Jc;break;case ii.LOCAL:n=await li(Yp)._isAvailable()?Yp:vI;break;case ii.NONE:n=hh;break;default:return tr("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Br(this._delegate,aoe(this._delegate))}signInWithCredential(e){return Br(this._delegate,jw(this._delegate,e))}signInWithCustomToken(e){return Br(this._delegate,loe(this._delegate,e))}signInWithEmailAndPassword(e,n){return Br(this._delegate,moe(this._delegate,e,n))}signInWithEmailLink(e,n){return Br(this._delegate,yoe(this._delegate,e,n))}signInWithPhoneNumber(e,n){return $T(this._delegate,rle(this._delegate,e,n))}async signInWithPopup(e){return sm(ME(),this._delegate,"operation-not-supported-in-this-environment"),Br(this._delegate,dle(this._delegate,e,Ho))}async signInWithRedirect(e){return sm(ME(),this._delegate,"operation-not-supported-in-this-environment"),await FT(this._delegate),vle(this._delegate,e,Ho)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return hoe(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}qT.Persistence=ii;function WD(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:s=>i(s&&Dw.getOrCreate(s)),error:e,complete:n}}function $ce(t,e){const n=Lce(t,e);if(typeof self<"u"&&!n.includes(Yp)&&n.push(Yp),typeof window<"u")for(const r of[vI,Jc])n.includes(r)||n.push(r);return n.includes(hh)||n.push(hh),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{static credential(e,n){return eu.credential(e,n)}constructor(){this.providerId="phone",this._delegate=new eu(rF(nt.auth()))}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}AI.PHONE_SIGN_IN_METHOD=eu.PHONE_SIGN_IN_METHOD;AI.PROVIDER_ID=eu.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qce=Q;class Hce{constructor(e,n,r=nt.app()){var i;qce((i=r.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new tle(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gce="auth-compat";function Kce(t){t.INTERNAL.registerComponent(new qi(Gce,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new qT(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:$u.EMAIL_SIGNIN,PASSWORD_RESET:$u.PASSWORD_RESET,RECOVER_EMAIL:$u.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:$u.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:$u.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:$u.VERIFY_EMAIL}},EmailAuthProvider:Ml,FacebookAuthProvider:ba,GithubAuthProvider:_a,GoogleAuthProvider:wa,OAuthProvider:Fd,SAMLAuthProvider:Ax,PhoneAuthProvider:AI,PhoneMultiFactorGenerator:XB,RecaptchaVerifier:Hce,TwitterAuthProvider:Ea,Auth:qT,AuthCredential:of,Error:fr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(Ace,Nce)}Kce(nt);var YD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sl,aF;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,T){function I(){}I.prototype=T.prototype,N.F=T.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(P,k,R){for(var O=Array(arguments.length-2),M=2;M<arguments.length;M++)O[M-2]=arguments[M];return T.prototype[k].apply(P,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,T,I){I||(I=0);const P=Array(16);if(typeof T=="string")for(var k=0;k<16;++k)P[k]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(k=0;k<16;++k)P[k]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=N.g[0],I=N.g[1],k=N.g[2];let R=N.g[3],O;O=T+(R^I&(k^R))+P[0]+3614090360&4294967295,T=I+(O<<7&4294967295|O>>>25),O=R+(k^T&(I^k))+P[1]+3905402710&4294967295,R=T+(O<<12&4294967295|O>>>20),O=k+(I^R&(T^I))+P[2]+606105819&4294967295,k=R+(O<<17&4294967295|O>>>15),O=I+(T^k&(R^T))+P[3]+3250441966&4294967295,I=k+(O<<22&4294967295|O>>>10),O=T+(R^I&(k^R))+P[4]+4118548399&4294967295,T=I+(O<<7&4294967295|O>>>25),O=R+(k^T&(I^k))+P[5]+1200080426&4294967295,R=T+(O<<12&4294967295|O>>>20),O=k+(I^R&(T^I))+P[6]+2821735955&4294967295,k=R+(O<<17&4294967295|O>>>15),O=I+(T^k&(R^T))+P[7]+4249261313&4294967295,I=k+(O<<22&4294967295|O>>>10),O=T+(R^I&(k^R))+P[8]+1770035416&4294967295,T=I+(O<<7&4294967295|O>>>25),O=R+(k^T&(I^k))+P[9]+2336552879&4294967295,R=T+(O<<12&4294967295|O>>>20),O=k+(I^R&(T^I))+P[10]+4294925233&4294967295,k=R+(O<<17&4294967295|O>>>15),O=I+(T^k&(R^T))+P[11]+2304563134&4294967295,I=k+(O<<22&4294967295|O>>>10),O=T+(R^I&(k^R))+P[12]+1804603682&4294967295,T=I+(O<<7&4294967295|O>>>25),O=R+(k^T&(I^k))+P[13]+4254626195&4294967295,R=T+(O<<12&4294967295|O>>>20),O=k+(I^R&(T^I))+P[14]+2792965006&4294967295,k=R+(O<<17&4294967295|O>>>15),O=I+(T^k&(R^T))+P[15]+1236535329&4294967295,I=k+(O<<22&4294967295|O>>>10),O=T+(k^R&(I^k))+P[1]+4129170786&4294967295,T=I+(O<<5&4294967295|O>>>27),O=R+(I^k&(T^I))+P[6]+3225465664&4294967295,R=T+(O<<9&4294967295|O>>>23),O=k+(T^I&(R^T))+P[11]+643717713&4294967295,k=R+(O<<14&4294967295|O>>>18),O=I+(R^T&(k^R))+P[0]+3921069994&4294967295,I=k+(O<<20&4294967295|O>>>12),O=T+(k^R&(I^k))+P[5]+3593408605&4294967295,T=I+(O<<5&4294967295|O>>>27),O=R+(I^k&(T^I))+P[10]+38016083&4294967295,R=T+(O<<9&4294967295|O>>>23),O=k+(T^I&(R^T))+P[15]+3634488961&4294967295,k=R+(O<<14&4294967295|O>>>18),O=I+(R^T&(k^R))+P[4]+3889429448&4294967295,I=k+(O<<20&4294967295|O>>>12),O=T+(k^R&(I^k))+P[9]+568446438&4294967295,T=I+(O<<5&4294967295|O>>>27),O=R+(I^k&(T^I))+P[14]+3275163606&4294967295,R=T+(O<<9&4294967295|O>>>23),O=k+(T^I&(R^T))+P[3]+4107603335&4294967295,k=R+(O<<14&4294967295|O>>>18),O=I+(R^T&(k^R))+P[8]+1163531501&4294967295,I=k+(O<<20&4294967295|O>>>12),O=T+(k^R&(I^k))+P[13]+2850285829&4294967295,T=I+(O<<5&4294967295|O>>>27),O=R+(I^k&(T^I))+P[2]+4243563512&4294967295,R=T+(O<<9&4294967295|O>>>23),O=k+(T^I&(R^T))+P[7]+1735328473&4294967295,k=R+(O<<14&4294967295|O>>>18),O=I+(R^T&(k^R))+P[12]+2368359562&4294967295,I=k+(O<<20&4294967295|O>>>12),O=T+(I^k^R)+P[5]+4294588738&4294967295,T=I+(O<<4&4294967295|O>>>28),O=R+(T^I^k)+P[8]+2272392833&4294967295,R=T+(O<<11&4294967295|O>>>21),O=k+(R^T^I)+P[11]+1839030562&4294967295,k=R+(O<<16&4294967295|O>>>16),O=I+(k^R^T)+P[14]+4259657740&4294967295,I=k+(O<<23&4294967295|O>>>9),O=T+(I^k^R)+P[1]+2763975236&4294967295,T=I+(O<<4&4294967295|O>>>28),O=R+(T^I^k)+P[4]+1272893353&4294967295,R=T+(O<<11&4294967295|O>>>21),O=k+(R^T^I)+P[7]+4139469664&4294967295,k=R+(O<<16&4294967295|O>>>16),O=I+(k^R^T)+P[10]+3200236656&4294967295,I=k+(O<<23&4294967295|O>>>9),O=T+(I^k^R)+P[13]+681279174&4294967295,T=I+(O<<4&4294967295|O>>>28),O=R+(T^I^k)+P[0]+3936430074&4294967295,R=T+(O<<11&4294967295|O>>>21),O=k+(R^T^I)+P[3]+3572445317&4294967295,k=R+(O<<16&4294967295|O>>>16),O=I+(k^R^T)+P[6]+76029189&4294967295,I=k+(O<<23&4294967295|O>>>9),O=T+(I^k^R)+P[9]+3654602809&4294967295,T=I+(O<<4&4294967295|O>>>28),O=R+(T^I^k)+P[12]+3873151461&4294967295,R=T+(O<<11&4294967295|O>>>21),O=k+(R^T^I)+P[15]+530742520&4294967295,k=R+(O<<16&4294967295|O>>>16),O=I+(k^R^T)+P[2]+3299628645&4294967295,I=k+(O<<23&4294967295|O>>>9),O=T+(k^(I|~R))+P[0]+4096336452&4294967295,T=I+(O<<6&4294967295|O>>>26),O=R+(I^(T|~k))+P[7]+1126891415&4294967295,R=T+(O<<10&4294967295|O>>>22),O=k+(T^(R|~I))+P[14]+2878612391&4294967295,k=R+(O<<15&4294967295|O>>>17),O=I+(R^(k|~T))+P[5]+4237533241&4294967295,I=k+(O<<21&4294967295|O>>>11),O=T+(k^(I|~R))+P[12]+1700485571&4294967295,T=I+(O<<6&4294967295|O>>>26),O=R+(I^(T|~k))+P[3]+2399980690&4294967295,R=T+(O<<10&4294967295|O>>>22),O=k+(T^(R|~I))+P[10]+4293915773&4294967295,k=R+(O<<15&4294967295|O>>>17),O=I+(R^(k|~T))+P[1]+2240044497&4294967295,I=k+(O<<21&4294967295|O>>>11),O=T+(k^(I|~R))+P[8]+1873313359&4294967295,T=I+(O<<6&4294967295|O>>>26),O=R+(I^(T|~k))+P[15]+4264355552&4294967295,R=T+(O<<10&4294967295|O>>>22),O=k+(T^(R|~I))+P[6]+2734768916&4294967295,k=R+(O<<15&4294967295|O>>>17),O=I+(R^(k|~T))+P[13]+1309151649&4294967295,I=k+(O<<21&4294967295|O>>>11),O=T+(k^(I|~R))+P[4]+4149444226&4294967295,T=I+(O<<6&4294967295|O>>>26),O=R+(I^(T|~k))+P[11]+3174756917&4294967295,R=T+(O<<10&4294967295|O>>>22),O=k+(T^(R|~I))+P[2]+718787259&4294967295,k=R+(O<<15&4294967295|O>>>17),O=I+(R^(k|~T))+P[9]+3951481745&4294967295,N.g[0]=N.g[0]+T&4294967295,N.g[1]=N.g[1]+(k+(O<<21&4294967295|O>>>11))&4294967295,N.g[2]=N.g[2]+k&4294967295,N.g[3]=N.g[3]+R&4294967295}r.prototype.v=function(N,T){T===void 0&&(T=N.length);const I=T-this.blockSize,P=this.C;let k=this.h,R=0;for(;R<T;){if(k==0)for(;R<=I;)i(this,N,R),R+=this.blockSize;if(typeof N=="string"){for(;R<T;)if(P[k++]=N.charCodeAt(R++),k==this.blockSize){i(this,P),k=0;break}}else for(;R<T;)if(P[k++]=N[R++],k==this.blockSize){i(this,P),k=0;break}}this.h=k,this.o+=T},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var T=1;T<N.length-8;++T)N[T]=0;T=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=T&255,T/=256;for(this.v(N),N=Array(16),T=0,I=0;I<4;++I)for(let P=0;P<32;P+=8)N[T++]=this.g[I]>>>P&255;return N};function a(N,T){var I=o;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=T(N)}function s(N,T){this.h=T;const I=[];let P=!0;for(let k=N.length-1;k>=0;k--){const R=N[k]|0;P&&R==T||(I[k]=R,P=!1)}this.g=I}var o={};function l(N){return-128<=N&&N<128?a(N,function(T){return new s([T|0],T<0?-1:0)}):new s([N|0],N<0?-1:0)}function u(N){if(isNaN(N)||!isFinite(N))return h;if(N<0)return x(u(-N));const T=[];let I=1;for(let P=0;N>=I;P++)T[P]=N/I|0,I*=4294967296;return new s(T,0)}function d(N,T){if(N.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(N.charAt(0)=="-")return x(d(N.substring(1),T));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=u(Math.pow(T,8));let P=h;for(let R=0;R<N.length;R+=8){var k=Math.min(8,N.length-R);const O=parseInt(N.substring(R,R+k),T);k<8?(k=u(Math.pow(T,k)),P=P.j(k).add(u(O))):(P=P.j(I),P=P.add(u(O)))}return P}var h=l(0),f=l(1),m=l(16777216);t=s.prototype,t.m=function(){if(v(this))return-x(this).m();let N=0,T=1;for(let I=0;I<this.g.length;I++){const P=this.i(I);N+=(P>=0?P:4294967296+P)*T,T*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(y(this))return"0";if(v(this))return"-"+x(this).toString(N);const T=u(Math.pow(N,6));var I=this;let P="";for(;;){const k=S(I,T).g;I=b(I,k.j(T));let R=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=k,y(I))return R+P;for(;R.length<6;)R="0"+R;P=R+P}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function y(N){if(N.h!=0)return!1;for(let T=0;T<N.g.length;T++)if(N.g[T]!=0)return!1;return!0}function v(N){return N.h==-1}t.l=function(N){return N=b(this,N),v(N)?-1:y(N)?0:1};function x(N){const T=N.g.length,I=[];for(let P=0;P<T;P++)I[P]=~N.g[P];return new s(I,~N.h).add(f)}t.abs=function(){return v(this)?x(this):this},t.add=function(N){const T=Math.max(this.g.length,N.g.length),I=[];let P=0;for(let k=0;k<=T;k++){let R=P+(this.i(k)&65535)+(N.i(k)&65535),O=(R>>>16)+(this.i(k)>>>16)+(N.i(k)>>>16);P=O>>>16,R&=65535,O&=65535,I[k]=O<<16|R}return new s(I,I[I.length-1]&-2147483648?-1:0)};function b(N,T){return N.add(x(T))}t.j=function(N){if(y(this)||y(N))return h;if(v(this))return v(N)?x(this).j(x(N)):x(x(this).j(N));if(v(N))return x(this.j(x(N)));if(this.l(m)<0&&N.l(m)<0)return u(this.m()*N.m());const T=this.g.length+N.g.length,I=[];for(var P=0;P<2*T;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(let k=0;k<N.g.length;k++){const R=this.i(P)>>>16,O=this.i(P)&65535,M=N.i(k)>>>16,L=N.i(k)&65535;I[2*P+2*k]+=O*L,w(I,2*P+2*k),I[2*P+2*k+1]+=R*L,w(I,2*P+2*k+1),I[2*P+2*k+1]+=O*M,w(I,2*P+2*k+1),I[2*P+2*k+2]+=R*M,w(I,2*P+2*k+2)}for(N=0;N<T;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=T;N<2*T;N++)I[N]=0;return new s(I,0)};function w(N,T){for(;(N[T]&65535)!=N[T];)N[T+1]+=N[T]>>>16,N[T]&=65535,T++}function _(N,T){this.g=N,this.h=T}function S(N,T){if(y(T))throw Error("division by zero");if(y(N))return new _(h,h);if(v(N))return T=S(x(N),T),new _(x(T.g),x(T.h));if(v(T))return T=S(N,x(T)),new _(x(T.g),T.h);if(N.g.length>30){if(v(N)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var I=f,P=T;P.l(N)<=0;)I=A(I),P=A(P);var k=C(I,1),R=C(P,1);for(P=C(P,2),I=C(I,2);!y(P);){var O=R.add(P);O.l(N)<=0&&(k=k.add(I),R=O),P=C(P,1),I=C(I,1)}return T=b(N,k.j(T)),new _(k,T)}for(k=h;N.l(T)>=0;){for(I=Math.max(1,Math.floor(N.m()/T.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),R=u(I),O=R.j(T);v(O)||O.l(N)>0;)I-=P,R=u(I),O=R.j(T);y(R)&&(R=f),k=k.add(R),N=b(N,O)}return new _(k,N)}t.B=function(N){return S(this,N).h},t.and=function(N){const T=Math.max(this.g.length,N.g.length),I=[];for(let P=0;P<T;P++)I[P]=this.i(P)&N.i(P);return new s(I,this.h&N.h)},t.or=function(N){const T=Math.max(this.g.length,N.g.length),I=[];for(let P=0;P<T;P++)I[P]=this.i(P)|N.i(P);return new s(I,this.h|N.h)},t.xor=function(N){const T=Math.max(this.g.length,N.g.length),I=[];for(let P=0;P<T;P++)I[P]=this.i(P)^N.i(P);return new s(I,this.h^N.h)};function A(N){const T=N.g.length+1,I=[];for(let P=0;P<T;P++)I[P]=N.i(P)<<1|N.i(P-1)>>>31;return new s(I,N.h)}function C(N,T){const I=T>>5;T%=32;const P=N.g.length-I,k=[];for(let R=0;R<P;R++)k[R]=T>0?N.i(R+I)>>>T|N.i(R+I+1)<<32-T:N.i(R+I);return new s(k,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,aF=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,sl=s}).apply(typeof YD<"u"?YD:typeof self<"u"?self:typeof window<"u"?window:{});var w0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sF,Om,oF,bv,HT,lF,cF,uF;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof w0=="object"&&w0];for(var E=0;E<p.length;++E){var j=p[E];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var r=n(this);function i(p,E){if(E)e:{var j=r;p=p.split(".");for(var D=0;D<p.length-1;D++){var z=p[D];if(!(z in j))break e;j=j[z]}p=p[p.length-1],D=j[p],E=E(D),E!=D&&E!=null&&e(j,p,{configurable:!0,writable:!0,value:E})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(E){var j=[],D;for(D in E)Object.prototype.hasOwnProperty.call(E,D)&&j.push([D,E[D]]);return j}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function l(p,E,j){return p.call.apply(p.bind,arguments)}function u(p,E,j){return u=l,u.apply(null,arguments)}function d(p,E){var j=Array.prototype.slice.call(arguments,1);return function(){var D=j.slice();return D.push.apply(D,arguments),p.apply(this,D)}}function h(p,E){function j(){}j.prototype=E.prototype,p.Z=E.prototype,p.prototype=new j,p.prototype.constructor=p,p.Ob=function(D,z,$){for(var te=Array(arguments.length-2),we=2;we<arguments.length;we++)te[we-2]=arguments[we];return E.prototype[z].apply(D,te)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function m(p){const E=p.length;if(E>0){const j=Array(E);for(let D=0;D<E;D++)j[D]=p[D];return j}return[]}function y(p,E){for(let D=1;D<arguments.length;D++){const z=arguments[D];var j=typeof z;if(j=j!="object"?j:z?Array.isArray(z)?"array":j:"null",j=="array"||j=="object"&&typeof z.length=="number"){j=p.length||0;const $=z.length||0;p.length=j+$;for(let te=0;te<$;te++)p[j+te]=z[te]}else p.push(z)}}class v{constructor(E,j){this.i=E,this.j=j,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function x(p){s.setTimeout(()=>{throw p},0)}function b(){var p=N;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class w{constructor(){this.h=this.g=null}add(E,j){const D=_.get();D.set(E,j),this.h?this.h.next=D:this.g=D,this.h=D}}var _=new v(()=>new S,p=>p.reset());class S{constructor(){this.next=this.g=this.h=null}set(E,j){this.h=E,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let A,C=!1,N=new w,T=()=>{const p=Promise.resolve(void 0);A=()=>{p.then(I)}};function I(){for(var p;p=b();){try{p.h.call(p.g)}catch(j){x(j)}var E=_;E.j(p),E.h<100&&(E.h++,p.next=E.g,E.g=p)}C=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const j=()=>{};s.addEventListener("test",j,E),s.removeEventListener("test",j,E)}catch{}return p}();function O(p){return/^[\s\xa0]*$/.test(p)}function M(p,E){k.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,E)}h(M,k),M.prototype.init=function(p,E){const j=this.type=p.type,D=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget,E||(j=="mouseover"?E=p.fromElement:j=="mouseout"&&(E=p.toElement)),this.relatedTarget=E,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&M.Z.h.call(this)},M.prototype.h=function(){M.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var L="closure_listenable_"+(Math.random()*1e6|0),B=0;function q(p,E,j,D,z){this.listener=p,this.proxy=null,this.src=E,this.type=j,this.capture=!!D,this.ha=z,this.key=++B,this.da=this.fa=!1}function H(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function J(p,E,j){for(const D in p)E.call(j,p[D],D,p)}function oe(p,E){for(const j in p)E.call(void 0,p[j],j,p)}function et(p){const E={};for(const j in p)E[j]=p[j];return E}const Rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(p,E){let j,D;for(let z=1;z<arguments.length;z++){D=arguments[z];for(j in D)p[j]=D[j];for(let $=0;$<Rt.length;$++)j=Rt[$],Object.prototype.hasOwnProperty.call(D,j)&&(p[j]=D[j])}}function fe(p){this.src=p,this.g={},this.h=0}fe.prototype.add=function(p,E,j,D,z){const $=p.toString();p=this.g[$],p||(p=this.g[$]=[],this.h++);const te=yn(p,E,D,z);return te>-1?(E=p[te],j||(E.fa=!1)):(E=new q(E,this.src,$,!!D,z),E.fa=j,p.push(E)),E};function st(p,E){const j=E.type;if(j in p.g){var D=p.g[j],z=Array.prototype.indexOf.call(D,E,void 0),$;($=z>=0)&&Array.prototype.splice.call(D,z,1),$&&(H(E),p.g[j].length==0&&(delete p.g[j],p.h--))}}function yn(p,E,j,D){for(let z=0;z<p.length;++z){const $=p[z];if(!$.da&&$.listener==E&&$.capture==!!j&&$.ha==D)return z}return-1}var ft="closure_lm_"+(Math.random()*1e6|0),Wl={};function Y(p,E,j,D,z){if(Array.isArray(E)){for(let $=0;$<E.length;$++)Y(p,E[$],j,D,z);return null}return j=kf(j),p&&p[L]?p.J(E,j,o(D)?!!D.capture:!1,z):Ee(p,E,j,!1,D,z)}function Ee(p,E,j,D,z,$){if(!E)throw Error("Invalid event type");const te=o(z)?!!z.capture:!!z;let we=$n(p);if(we||(p[ft]=we=new fe(p)),j=we.add(E,j,D,te,$),j.proxy)return j;if(D=Oe(),j.proxy=D,D.src=p,D.listener=j,p.addEventListener)R||(z=te),z===void 0&&(z=!1),p.addEventListener(E.toString(),D,z);else if(p.attachEvent)p.attachEvent(qe(E.toString()),D);else if(p.addListener&&p.removeListener)p.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return j}function Oe(){function p(j){return E.call(p.src,p.listener,j)}const E=br;return p}function Z(p,E,j,D,z){if(Array.isArray(E))for(var $=0;$<E.length;$++)Z(p,E[$],j,D,z);else D=o(D)?!!D.capture:!!D,j=kf(j),p&&p[L]?(p=p.i,$=String(E).toString(),$ in p.g&&(E=p.g[$],j=yn(E,j,D,z),j>-1&&(H(E[j]),Array.prototype.splice.call(E,j,1),E.length==0&&(delete p.g[$],p.h--)))):p&&(p=$n(p))&&(E=p.g[E.toString()],p=-1,E&&(p=yn(E,j,D,z)),(j=p>-1?E[p]:null)&&jn(j))}function jn(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[L])st(E.i,p);else{var j=p.type,D=p.proxy;E.removeEventListener?E.removeEventListener(j,D,p.capture):E.detachEvent?E.detachEvent(qe(j),D):E.addListener&&E.removeListener&&E.removeListener(D),(j=$n(E))?(st(j,p),j.h==0&&(j.src=null,E[ft]=null)):H(p)}}}function qe(p){return p in Wl?Wl[p]:Wl[p]="on"+p}function br(p,E){if(p.da)p=!0;else{E=new M(E,this);const j=p.listener,D=p.ha||p.src;p.fa&&jn(p),p=j.call(D,E)}return p}function $n(p){return p=p[ft],p instanceof fe?p:null}var ea="__closure_events_fn_"+(Math.random()*1e9>>>0);function kf(p){return typeof p=="function"?p:(p[ea]||(p[ea]=function(E){return p.handleEvent(E)}),p[ea])}function nr(){P.call(this),this.i=new fe(this),this.M=this,this.G=null}h(nr,P),nr.prototype[L]=!0,nr.prototype.removeEventListener=function(p,E,j,D){Z(this,p,E,j,D)};function wr(p,E){var j,D=p.G;if(D)for(j=[];D;D=D.G)j.push(D);if(p=p.M,D=E.type||E,typeof E=="string")E=new k(E,p);else if(E instanceof k)E.target=E.target||p;else{var z=E;E=new k(D,p),he(E,z)}z=!0;let $,te;if(j)for(te=j.length-1;te>=0;te--)$=E.g=j[te],z=Hy($,D,!0,E)&&z;if($=E.g=p,z=Hy($,D,!0,E)&&z,z=Hy($,D,!1,E)&&z,j)for(te=0;te<j.length;te++)$=E.g=j[te],z=Hy($,D,!1,E)&&z}nr.prototype.N=function(){if(nr.Z.N.call(this),this.i){var p=this.i;for(const E in p.g){const j=p.g[E];for(let D=0;D<j.length;D++)H(j[D]);delete p.g[E],p.h--}}this.G=null},nr.prototype.J=function(p,E,j,D){return this.i.add(String(p),E,!1,j,D)},nr.prototype.K=function(p,E,j,D){return this.i.add(String(p),E,!0,j,D)};function Hy(p,E,j,D){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();let z=!0;for(let $=0;$<E.length;++$){const te=E[$];if(te&&!te.da&&te.capture==j){const we=te.listener,vn=te.ha||te.src;te.fa&&st(p.i,te),z=we.call(vn,D)!==!1&&z}}return z&&!D.defaultPrevented}function MQ(p,E){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=u(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:s.setTimeout(p,E||0)}function kk(p){p.g=MQ(()=>{p.g=null,p.i&&(p.i=!1,kk(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class LQ extends P{constructor(E,j){super(),this.m=E,this.l=j,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:kk(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Of(p){P.call(this),this.h=p,this.g={}}h(Of,P);var Ok=[];function Rk(p){J(p.g,function(E,j){this.g.hasOwnProperty(j)&&jn(E)},p),p.g={}}Of.prototype.N=function(){Of.Z.N.call(this),Rk(this)},Of.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var __=s.JSON.stringify,VQ=s.JSON.parse,zQ=class{stringify(p){return s.JSON.stringify(p,void 0)}parse(p){return s.JSON.parse(p,void 0)}};function Dk(){}function Mk(){}var Rf={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function E_(){k.call(this,"d")}h(E_,k);function S_(){k.call(this,"c")}h(S_,k);var Yl={},Lk=null;function Gy(){return Lk=Lk||new nr}Yl.Ia="serverreachability";function Vk(p){k.call(this,Yl.Ia,p)}h(Vk,k);function Df(p){const E=Gy();wr(E,new Vk(E))}Yl.STAT_EVENT="statevent";function zk(p,E){k.call(this,Yl.STAT_EVENT,p),this.stat=E}h(zk,k);function _r(p){const E=Gy();wr(E,new zk(E,p))}Yl.Ja="timingevent";function Uk(p,E){k.call(this,Yl.Ja,p),this.size=E}h(Uk,k);function Mf(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){p()},E)}function Lf(){this.g=!0}Lf.prototype.ua=function(){this.g=!1};function UQ(p,E,j,D,z,$){p.info(function(){if(p.g)if($){var te="",we=$.split("&");for(let tt=0;tt<we.length;tt++){var vn=we[tt].split("=");if(vn.length>1){const Cn=vn[0];vn=vn[1];const ga=Cn.split("_");te=ga.length>=2&&ga[1]=="type"?te+(Cn+"="+vn+"&"):te+(Cn+"=redacted&")}}}else te=null;else te=$;return"XMLHTTP REQ ("+D+") [attempt "+z+"]: "+E+`
`+j+`
`+te})}function BQ(p,E,j,D,z,$,te){p.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+z+"]: "+E+`
`+j+`
`+$+" "+te})}function Vu(p,E,j,D){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+$Q(p,j)+(D?" "+D:"")})}function FQ(p,E){p.info(function(){return"TIMEOUT: "+E})}Lf.prototype.info=function(){};function $Q(p,E){if(!p.g)return E;if(!E)return null;try{const $=JSON.parse(E);if($){for(p=0;p<$.length;p++)if(Array.isArray($[p])){var j=$[p];if(!(j.length<2)){var D=j[1];if(Array.isArray(D)&&!(D.length<1)){var z=D[0];if(z!="noop"&&z!="stop"&&z!="close")for(let te=1;te<D.length;te++)D[te]=""}}}}return __($)}catch{return E}}var Ky={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bk={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fk;function T_(){}h(T_,Dk),T_.prototype.g=function(){return new XMLHttpRequest},Fk=new T_;function Vf(p){return encodeURIComponent(String(p))}function qQ(p){var E=1;p=p.split(":");const j=[];for(;E>0&&p.length;)j.push(p.shift()),E--;return p.length&&j.push(p.join(":")),j}function po(p,E,j,D){this.j=p,this.i=E,this.l=j,this.S=D||1,this.V=new Of(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $k}function $k(){this.i=null,this.g="",this.h=!1}var qk={},A_={};function N_(p,E,j){p.M=1,p.A=Yy(pa(E)),p.u=j,p.R=!0,Hk(p,null)}function Hk(p,E){p.F=Date.now(),Wy(p),p.B=pa(p.A);var j=p.B,D=p.S;Array.isArray(D)||(D=[String(D)]),iO(j.i,"t",D),p.C=0,j=p.j.L,p.h=new $k,p.g=_O(p.j,j?E:null,!p.u),p.P>0&&(p.O=new LQ(u(p.Y,p,p.g),p.P)),E=p.V,j=p.g,D=p.ba;var z="readystatechange";Array.isArray(z)||(z&&(Ok[0]=z.toString()),z=Ok);for(let $=0;$<z.length;$++){const te=Y(j,z[$],D||E.handleEvent,!1,E.h||E);if(!te)break;E.g[te.key]=te}E=p.J?et(p.J):{},p.u?(p.v||(p.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,E)):(p.v="GET",p.g.ea(p.B,p.v,null,E)),Df(),UQ(p.i,p.v,p.B,p.l,p.S,p.u)}po.prototype.ba=function(p){p=p.target;const E=this.O;E&&vo(p)==3?E.j():this.Y(p)},po.prototype.Y=function(p){try{if(p==this.g)e:{const we=vo(this.g),vn=this.g.ya(),tt=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||dO(this.g)))){this.K||we!=4||vn==7||(vn==8||tt<=0?Df(3):Df(2)),I_(this);var E=this.g.ca();this.X=E;var j=HQ(this);if(this.o=E==200,BQ(this.i,this.v,this.B,this.l,this.S,we,E),this.o){if(this.U&&!this.L){t:{if(this.g){var D,z=this.g;if((D=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(D)){var $=D;break t}}$=null}if(p=$)Vu(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,j_(this,p);else{this.o=!1,this.m=3,_r(12),Ql(this),zf(this);break e}}if(this.R){p=!0;let Cn;for(;!this.K&&this.C<j.length;)if(Cn=GQ(this,j),Cn==A_){we==4&&(this.m=4,_r(14),p=!1),Vu(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==qk){this.m=4,_r(15),Vu(this.i,this.l,j,"[Invalid Chunk]"),p=!1;break}else Vu(this.i,this.l,Cn,null),j_(this,Cn);if(Gk(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||j.length!=0||this.h.h||(this.m=1,_r(16),p=!1),this.o=this.o&&p,!p)Vu(this.i,this.l,j,"[Invalid Chunked Response]"),Ql(this),zf(this);else if(j.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),L_(te),te.P=!0,_r(11))}}else Vu(this.i,this.l,j,null),j_(this,j);we==4&&Ql(this),this.o&&!this.K&&(we==4?vO(this.j,this):(this.o=!1,Wy(this)))}else sX(this.g),E==400&&j.indexOf("Unknown SID")>0?(this.m=3,_r(12)):(this.m=0,_r(13)),Ql(this),zf(this)}}}catch{}finally{}};function HQ(p){if(!Gk(p))return p.g.la();const E=dO(p.g);if(E==="")return"";let j="";const D=E.length,z=vo(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Ql(p),zf(p),"";p.h.i=new s.TextDecoder}for(let $=0;$<D;$++)p.h.h=!0,j+=p.h.i.decode(E[$],{stream:!(z&&$==D-1)});return E.length=0,p.h.g+=j,p.C=0,p.h.g}function Gk(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function GQ(p,E){var j=p.C,D=E.indexOf(`
`,j);return D==-1?A_:(j=Number(E.substring(j,D)),isNaN(j)?qk:(D+=1,D+j>E.length?A_:(E=E.slice(D,D+j),p.C=D+j,E)))}po.prototype.cancel=function(){this.K=!0,Ql(this)};function Wy(p){p.T=Date.now()+p.H,Kk(p,p.H)}function Kk(p,E){if(p.D!=null)throw Error("WatchDog timer not null");p.D=Mf(u(p.aa,p),E)}function I_(p){p.D&&(s.clearTimeout(p.D),p.D=null)}po.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(FQ(this.i,this.B),this.M!=2&&(Df(),_r(17)),Ql(this),this.m=2,zf(this)):Kk(this,this.T-p)};function zf(p){p.j.I==0||p.K||vO(p.j,p)}function Ql(p){I_(p);var E=p.O;E&&typeof E.dispose=="function"&&E.dispose(),p.O=null,Rk(p.V),p.g&&(E=p.g,p.g=null,E.abort(),E.dispose())}function j_(p,E){try{var j=p.j;if(j.I!=0&&(j.g==p||C_(j.h,p))){if(!p.L&&C_(j.h,p)&&j.I==3){try{var D=j.Ba.g.parse(E)}catch{D=null}if(Array.isArray(D)&&D.length==3){var z=D;if(z[0]==0){e:if(!j.v){if(j.g)if(j.g.F+3e3<p.F)e0(j),Zy(j);else break e;M_(j),_r(18)}}else j.xa=z[1],0<j.xa-j.K&&z[2]<37500&&j.F&&j.A==0&&!j.C&&(j.C=Mf(u(j.Va,j),6e3));Qk(j.h)<=1&&j.ta&&(j.ta=void 0)}else Zl(j,11)}else if((p.L||j.g==p)&&e0(j),!O(E))for(z=j.Ba.g.parse(E),E=0;E<z.length;E++){let tt=z[E];const Cn=tt[0];if(!(Cn<=j.K))if(j.K=Cn,tt=tt[1],j.I==2)if(tt[0]=="c"){j.M=tt[1],j.ba=tt[2];const ga=tt[3];ga!=null&&(j.ka=ga,j.j.info("VER="+j.ka));const Jl=tt[4];Jl!=null&&(j.za=Jl,j.j.info("SVER="+j.za));const xo=tt[5];xo!=null&&typeof xo=="number"&&xo>0&&(D=1.5*xo,j.O=D,j.j.info("backChannelRequestTimeoutMs_="+D)),D=j;const bo=p.g;if(bo){const n0=bo.g?bo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(n0){var $=D.h;$.g||n0.indexOf("spdy")==-1&&n0.indexOf("quic")==-1&&n0.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(P_($,$.h),$.h=null))}if(D.G){const V_=bo.g?bo.g.getResponseHeader("X-HTTP-Session-Id"):null;V_&&(D.wa=V_,mt(D.J,D.G,V_))}}j.I=3,j.l&&j.l.ra(),j.aa&&(j.T=Date.now()-p.F,j.j.info("Handshake RTT: "+j.T+"ms")),D=j;var te=p;if(D.na=wO(D,D.L?D.ba:null,D.W),te.L){Xk(D.h,te);var we=te,vn=D.O;vn&&(we.H=vn),we.D&&(I_(we),Wy(we)),D.g=te}else gO(D);j.i.length>0&&Jy(j)}else tt[0]!="stop"&&tt[0]!="close"||Zl(j,7);else j.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Zl(j,7):D_(j):tt[0]!="noop"&&j.l&&j.l.qa(tt),j.A=0)}}Df(4)}catch{}}var KQ=class{constructor(p,E){this.g=p,this.map=E}};function Wk(p){this.l=p||10,s.PerformanceNavigationTiming?(p=s.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yk(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Qk(p){return p.h?1:p.g?p.g.size:0}function C_(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function P_(p,E){p.g?p.g.add(E):p.h=E}function Xk(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}Wk.prototype.cancel=function(){if(this.i=Zk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Zk(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const j of p.g.values())E=E.concat(j.G);return E}return m(p.i)}var Jk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function WQ(p,E){if(p){p=p.split("&");for(let j=0;j<p.length;j++){const D=p[j].indexOf("=");let z,$=null;D>=0?(z=p[j].substring(0,D),$=p[j].substring(D+1)):z=p[j],E(z,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function go(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;p instanceof go?(this.l=p.l,Uf(this,p.j),this.o=p.o,this.g=p.g,Bf(this,p.u),this.h=p.h,k_(this,aO(p.i)),this.m=p.m):p&&(E=String(p).match(Jk))?(this.l=!1,Uf(this,E[1]||"",!0),this.o=Ff(E[2]||""),this.g=Ff(E[3]||"",!0),Bf(this,E[4]),this.h=Ff(E[5]||"",!0),k_(this,E[6]||"",!0),this.m=Ff(E[7]||"")):(this.l=!1,this.i=new qf(null,this.l))}go.prototype.toString=function(){const p=[];var E=this.j;E&&p.push($f(E,eO,!0),":");var j=this.g;return(j||E=="file")&&(p.push("//"),(E=this.o)&&p.push($f(E,eO,!0),"@"),p.push(Vf(j).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.u,j!=null&&p.push(":",String(j))),(j=this.h)&&(this.g&&j.charAt(0)!="/"&&p.push("/"),p.push($f(j,j.charAt(0)=="/"?XQ:QQ,!0))),(j=this.i.toString())&&p.push("?",j),(j=this.m)&&p.push("#",$f(j,JQ)),p.join("")},go.prototype.resolve=function(p){const E=pa(this);let j=!!p.j;j?Uf(E,p.j):j=!!p.o,j?E.o=p.o:j=!!p.g,j?E.g=p.g:j=p.u!=null;var D=p.h;if(j)Bf(E,p.u);else if(j=!!p.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var z=E.h.lastIndexOf("/");z!=-1&&(D=E.h.slice(0,z+1)+D)}if(z=D,z==".."||z==".")D="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){D=z.lastIndexOf("/",0)==0,z=z.split("/");const $=[];for(let te=0;te<z.length;){const we=z[te++];we=="."?D&&te==z.length&&$.push(""):we==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),D&&te==z.length&&$.push("")):($.push(we),D=!0)}D=$.join("/")}else D=z}return j?E.h=D:j=p.i.toString()!=="",j?k_(E,aO(p.i)):j=!!p.m,j&&(E.m=p.m),E};function pa(p){return new go(p)}function Uf(p,E,j){p.j=j?Ff(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function Bf(p,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);p.u=E}else p.u=null}function k_(p,E,j){E instanceof qf?(p.i=E,eX(p.i,p.l)):(j||(E=$f(E,ZQ)),p.i=new qf(E,p.l))}function mt(p,E,j){p.i.set(E,j)}function Yy(p){return mt(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Ff(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function $f(p,E,j){return typeof p=="string"?(p=encodeURI(p).replace(E,YQ),j&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function YQ(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var eO=/[#\/\?@]/g,QQ=/[#\?:]/g,XQ=/[#\?]/g,ZQ=/[#\?@]/g,JQ=/#/g;function qf(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function Xl(p){p.g||(p.g=new Map,p.h=0,p.i&&WQ(p.i,function(E,j){p.add(decodeURIComponent(E.replace(/\+/g," ")),j)}))}t=qf.prototype,t.add=function(p,E){Xl(this),this.i=null,p=zu(this,p);let j=this.g.get(p);return j||this.g.set(p,j=[]),j.push(E),this.h+=1,this};function tO(p,E){Xl(p),E=zu(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function nO(p,E){return Xl(p),E=zu(p,E),p.g.has(E)}t.forEach=function(p,E){Xl(this),this.g.forEach(function(j,D){j.forEach(function(z){p.call(E,z,D,this)},this)},this)};function rO(p,E){Xl(p);let j=[];if(typeof E=="string")nO(p,E)&&(j=j.concat(p.g.get(zu(p,E))));else for(p=Array.from(p.g.values()),E=0;E<p.length;E++)j=j.concat(p[E]);return j}t.set=function(p,E){return Xl(this),this.i=null,p=zu(this,p),nO(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},t.get=function(p,E){return p?(p=rO(this,p),p.length>0?String(p[0]):E):E};function iO(p,E,j){tO(p,E),j.length>0&&(p.i=null,p.g.set(zu(p,E),m(j)),p.h+=j.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(let D=0;D<E.length;D++){var j=E[D];const z=Vf(j);j=rO(this,j);for(let $=0;$<j.length;$++){let te=z;j[$]!==""&&(te+="="+Vf(j[$])),p.push(te)}}return this.i=p.join("&")};function aO(p){const E=new qf;return E.i=p.i,p.g&&(E.g=new Map(p.g),E.h=p.h),E}function zu(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function eX(p,E){E&&!p.j&&(Xl(p),p.i=null,p.g.forEach(function(j,D){const z=D.toLowerCase();D!=z&&(tO(this,D),iO(this,z,j))},p)),p.j=E}function tX(p,E){const j=new Lf;if(s.Image){const D=new Image;D.onload=d(yo,j,"TestLoadImage: loaded",!0,E,D),D.onerror=d(yo,j,"TestLoadImage: error",!1,E,D),D.onabort=d(yo,j,"TestLoadImage: abort",!1,E,D),D.ontimeout=d(yo,j,"TestLoadImage: timeout",!1,E,D),s.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=p}else E(!1)}function nX(p,E){const j=new Lf,D=new AbortController,z=setTimeout(()=>{D.abort(),yo(j,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:D.signal}).then($=>{clearTimeout(z),$.ok?yo(j,"TestPingServer: ok",!0,E):yo(j,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(z),yo(j,"TestPingServer: error",!1,E)})}function yo(p,E,j,D,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),D(j)}catch{}}function rX(){this.g=new zQ}function O_(p){this.i=p.Sb||null,this.h=p.ab||!1}h(O_,Dk),O_.prototype.g=function(){return new Qy(this.i,this.h)};function Qy(p,E){nr.call(this),this.H=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Qy,nr),t=Qy.prototype,t.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=E,this.readyState=1,Gf(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(E.body=p),(this.H||s).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hf(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Gf(this)),this.g&&(this.readyState=3,Gf(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sO(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function sO(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?Hf(this):Gf(this),this.readyState==3&&sO(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,Hf(this))},t.Na=function(p){this.g&&(this.response=p,Hf(this))},t.ga=function(){this.g&&Hf(this)};function Hf(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Gf(p)}t.setRequestHeader=function(p,E){this.A.append(p,E)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var j=E.next();!j.done;)j=j.value,p.push(j[0]+": "+j[1]),j=E.next();return p.join(`\r
`)};function Gf(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Qy.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function oO(p){let E="";return J(p,function(j,D){E+=D,E+=":",E+=j,E+=`\r
`}),E}function R_(p,E,j){e:{for(D in j){var D=!1;break e}D=!0}D||(j=oO(j),typeof p=="string"?j!=null&&Vf(j):mt(p,E,j))}function Bt(p){nr.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Bt,nr);var iX=/^https?$/i,aX=["POST","PUT"];t=Bt.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,E,j,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fk.g(),this.g.onreadystatechange=f(u(this.Ca,this));try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch($){lO(this,$);return}if(p=j||"",j=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var z in D)j.set(z,D[z]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const $ of D.keys())j.set($,D.get($));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(j.keys()).find($=>$.toLowerCase()=="content-type"),z=s.FormData&&p instanceof s.FormData,!(Array.prototype.indexOf.call(aX,E,void 0)>=0)||D||z||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,te]of j)this.g.setRequestHeader($,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch($){lO(this,$)}};function lO(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.o=5,cO(p),Xy(p)}function cO(p){p.A||(p.A=!0,wr(p,"complete"),wr(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,wr(this,"complete"),wr(this,"abort"),Xy(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xy(this,!0)),Bt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?uO(this):this.Xa())},t.Xa=function(){uO(this)};function uO(p){if(p.h&&typeof a<"u"){if(p.v&&vo(p)==4)setTimeout(p.Ca.bind(p),0);else if(wr(p,"readystatechange"),vo(p)==4){p.h=!1;try{const $=p.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var j;if(!(j=E)){var D;if(D=$===0){let te=String(p.D).match(Jk)[1]||null;!te&&s.self&&s.self.location&&(te=s.self.location.protocol.slice(0,-1)),D=!iX.test(te?te.toLowerCase():"")}j=D}if(j)wr(p,"complete"),wr(p,"success");else{p.o=6;try{var z=vo(p)>2?p.g.statusText:""}catch{z=""}p.l=z+" ["+p.ca()+"]",cO(p)}}finally{Xy(p)}}}}function Xy(p,E){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const j=p.g;p.g=null,E||wr(p,"ready");try{j.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function vo(p){return p.g?p.g.readyState:0}t.ca=function(){try{return vo(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),VQ(E)}};function dO(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function sX(p){const E={};p=(p.g&&vo(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<p.length;D++){if(O(p[D]))continue;var j=qQ(p[D]);const z=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const $=E[z]||[];E[z]=$,$.push(j)}oe(E,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kf(p,E,j){return j&&j.internalChannelParams&&j.internalChannelParams[p]||E}function hO(p){this.za=0,this.i=[],this.j=new Lf,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Kf("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Kf("baseRetryDelayMs",5e3,p),this.Za=Kf("retryDelaySeedMs",1e4,p),this.Ta=Kf("forwardChannelMaxRetries",2,p),this.va=Kf("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new Wk(p&&p.concurrentRequestLimit),this.Ba=new rX,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=hO.prototype,t.ka=8,t.I=1,t.connect=function(p,E,j,D){_r(0),this.W=p,this.H=E||{},j&&D!==void 0&&(this.H.OSID=j,this.H.OAID=D),this.F=this.X,this.J=wO(this,null,this.W),Jy(this)};function D_(p){if(fO(p),p.I==3){var E=p.V++,j=pa(p.J);if(mt(j,"SID",p.M),mt(j,"RID",E),mt(j,"TYPE","terminate"),Wf(p,j),E=new po(p,p.j,E),E.M=2,E.A=Yy(pa(j)),j=!1,s.navigator&&s.navigator.sendBeacon)try{j=s.navigator.sendBeacon(E.A.toString(),"")}catch{}!j&&s.Image&&(new Image().src=E.A,j=!0),j||(E.g=_O(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Wy(E)}bO(p)}function Zy(p){p.g&&(L_(p),p.g.cancel(),p.g=null)}function fO(p){Zy(p),p.v&&(s.clearTimeout(p.v),p.v=null),e0(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&s.clearTimeout(p.m),p.m=null)}function Jy(p){if(!Yk(p.h)&&!p.m){p.m=!0;var E=p.Ea;A||T(),C||(A(),C=!0),N.add(E,p),p.D=0}}function oX(p,E){return Qk(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=E.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=Mf(u(p.Ea,p,E),xO(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const z=new po(this,this.j,p);let $=this.o;if(this.U&&($?($=et($),he($,this.U)):$=this.U),this.u!==null||this.R||(z.J=$,$=null),this.S)e:{for(var E=0,j=0;j<this.i.length;j++){t:{var D=this.i[j];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(E+=D,E>4096){E=j;break e}if(E===4096||j===this.i.length-1){E=j+1;break e}}E=1e3}else E=1e3;E=pO(this,z,E),j=pa(this.J),mt(j,"RID",p),mt(j,"CVER",22),this.G&&mt(j,"X-HTTP-Session-Id",this.G),Wf(this,j),$&&(this.R?E="headers="+Vf(oO($))+"&"+E:this.u&&R_(j,this.u,$)),P_(this.h,z),this.Ra&&mt(j,"TYPE","init"),this.S?(mt(j,"$req",E),mt(j,"SID","null"),z.U=!0,N_(z,j,null)):N_(z,j,E),this.I=2}}else this.I==3&&(p?mO(this,p):this.i.length==0||Yk(this.h)||mO(this))};function mO(p,E){var j;E?j=E.l:j=p.V++;const D=pa(p.J);mt(D,"SID",p.M),mt(D,"RID",j),mt(D,"AID",p.K),Wf(p,D),p.u&&p.o&&R_(D,p.u,p.o),j=new po(p,p.j,j,p.D+1),p.u===null&&(j.J=p.o),E&&(p.i=E.G.concat(p.i)),E=pO(p,j,1e3),j.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),P_(p.h,j),N_(j,D,E)}function Wf(p,E){p.H&&J(p.H,function(j,D){mt(E,D,j)}),p.l&&J({},function(j,D){mt(E,D,j)})}function pO(p,E,j){j=Math.min(p.i.length,j);const D=p.l?u(p.l.Ka,p.l,p):null;e:{var z=p.i;let we=-1;for(;;){const vn=["count="+j];we==-1?j>0?(we=z[0].g,vn.push("ofs="+we)):we=0:vn.push("ofs="+we);let tt=!0;for(let Cn=0;Cn<j;Cn++){var $=z[Cn].g;const ga=z[Cn].map;if($-=we,$<0)we=Math.max(0,z[Cn].g-100),tt=!1;else try{$="req"+$+"_"||"";try{var te=ga instanceof Map?ga:Object.entries(ga);for(const[Jl,xo]of te){let bo=xo;o(xo)&&(bo=__(xo)),vn.push($+Jl+"="+encodeURIComponent(bo))}}catch(Jl){throw vn.push($+"type="+encodeURIComponent("_badmap")),Jl}}catch{D&&D(ga)}}if(tt){te=vn.join("&");break e}}te=void 0}return p=p.i.splice(0,j),E.G=p,te}function gO(p){if(!p.g&&!p.v){p.Y=1;var E=p.Da;A||T(),C||(A(),C=!0),N.add(E,p),p.A=0}}function M_(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=Mf(u(p.Da,p),xO(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,yO(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=Mf(u(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_r(10),Zy(this),yO(this))};function L_(p){p.B!=null&&(s.clearTimeout(p.B),p.B=null)}function yO(p){p.g=new po(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var E=pa(p.na);mt(E,"RID","rpc"),mt(E,"SID",p.M),mt(E,"AID",p.K),mt(E,"CI",p.F?"0":"1"),!p.F&&p.ia&&mt(E,"TO",p.ia),mt(E,"TYPE","xmlhttp"),Wf(p,E),p.u&&p.o&&R_(E,p.u,p.o),p.O&&(p.g.H=p.O);var j=p.g;p=p.ba,j.M=1,j.A=Yy(pa(E)),j.u=null,j.R=!0,Hk(j,p)}t.Va=function(){this.C!=null&&(this.C=null,Zy(this),M_(this),_r(19))};function e0(p){p.C!=null&&(s.clearTimeout(p.C),p.C=null)}function vO(p,E){var j=null;if(p.g==E){e0(p),L_(p),p.g=null;var D=2}else if(C_(p.h,E))j=E.G,Xk(p.h,E),D=1;else return;if(p.I!=0){if(E.o)if(D==1){j=E.u?E.u.length:0,E=Date.now()-E.F;var z=p.D;D=Gy(),wr(D,new Uk(D,j)),Jy(p)}else gO(p);else if(z=E.m,z==3||z==0&&E.X>0||!(D==1&&oX(p,E)||D==2&&M_(p)))switch(j&&j.length>0&&(E=p.h,E.i=E.i.concat(j)),z){case 1:Zl(p,5);break;case 4:Zl(p,10);break;case 3:Zl(p,6);break;default:Zl(p,2)}}}function xO(p,E){let j=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(j*=2),j*E}function Zl(p,E){if(p.j.info("Error code "+E),E==2){var j=u(p.bb,p),D=p.Ua;const z=!D;D=new go(D||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Uf(D,"https"),Yy(D),z?tX(D.toString(),j):nX(D.toString(),j)}else _r(2);p.I=0,p.l&&p.l.pa(E),bO(p),fO(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),_r(2)):(this.j.info("Failed to ping google.com"),_r(1))};function bO(p){if(p.I=0,p.ja=[],p.l){const E=Zk(p.h);(E.length!=0||p.i.length!=0)&&(y(p.ja,E),y(p.ja,p.i),p.h.i.length=0,m(p.i),p.i.length=0),p.l.oa()}}function wO(p,E,j){var D=j instanceof go?pa(j):new go(j);if(D.g!="")E&&(D.g=E+"."+D.g),Bf(D,D.u);else{var z=s.location;D=z.protocol,E=E?E+"."+z.hostname:z.hostname,z=+z.port;const $=new go(null);D&&Uf($,D),E&&($.g=E),z&&Bf($,z),j&&($.h=j),D=$}return j=p.G,E=p.wa,j&&E&&mt(D,j,E),mt(D,"VER",p.ka),Wf(p,D),D}function _O(p,E,j){if(E&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Aa&&!p.ma?new Bt(new O_({ab:j})):new Bt(p.ma),E.Fa(p.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function EO(){}t=EO.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function t0(){}t0.prototype.g=function(p,E){return new Xr(p,E)};function Xr(p,E){nr.call(this),this.g=new hO(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(p?p["X-WebChannel-Client-Profile"]=E.sa:p={"X-WebChannel-Client-Profile":E.sa}),this.g.U=p,(p=E&&E.Qb)&&!O(p)&&(this.g.u=p),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!O(E)&&(this.g.G=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new Uu(this)}h(Xr,nr),Xr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Xr.prototype.close=function(){D_(this.g)},Xr.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var j={};j.__data__=p,p=j}else this.v&&(j={},j.__data__=__(p),p=j);E.i.push(new KQ(E.Ya++,p)),E.I==3&&Jy(E)},Xr.prototype.N=function(){this.g.l=null,delete this.j,D_(this.g),delete this.g,Xr.Z.N.call(this)};function SO(p){E_.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const j in E){p=j;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}h(SO,E_);function TO(){S_.call(this),this.status=1}h(TO,S_);function Uu(p){this.g=p}h(Uu,EO),Uu.prototype.ra=function(){wr(this.g,"a")},Uu.prototype.qa=function(p){wr(this.g,new SO(p))},Uu.prototype.pa=function(p){wr(this.g,new TO)},Uu.prototype.oa=function(){wr(this.g,"b")},t0.prototype.createWebChannel=t0.prototype.g,Xr.prototype.send=Xr.prototype.o,Xr.prototype.open=Xr.prototype.m,Xr.prototype.close=Xr.prototype.close,uF=function(){return new t0},cF=function(){return Gy()},lF=Yl,HT={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ky.NO_ERROR=0,Ky.TIMEOUT=8,Ky.HTTP_ERROR=6,bv=Ky,Bk.COMPLETE="complete",oF=Bk,Mk.EventType=Rf,Rf.OPEN="a",Rf.CLOSE="b",Rf.ERROR="c",Rf.MESSAGE="d",nr.prototype.listen=nr.prototype.J,Om=Mk,Bt.prototype.listenOnce=Bt.prototype.K,Bt.prototype.getLastError=Bt.prototype.Ha,Bt.prototype.getLastErrorCode=Bt.prototype.ya,Bt.prototype.getStatus=Bt.prototype.ca,Bt.prototype.getResponseJson=Bt.prototype.La,Bt.prototype.getResponseText=Bt.prototype.la,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Fa,sF=Bt}).apply(typeof w0<"u"?w0:typeof self<"u"?self:typeof window<"u"?window:{});const QD="@firebase/firestore",XD="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cf="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=new Sw("@firebase/firestore");function ad(){return xl.logLevel}function Wce(t){xl.setLogLevel(t)}function W(t,...e){if(xl.logLevel<=Te.DEBUG){const n=e.map(NI);xl.debug(`Firestore (${cf}): ${t}`,...n)}}function Jt(t,...e){if(xl.logLevel<=Te.ERROR){const n=e.map(NI);xl.error(`Firestore (${cf}): ${t}`,...n)}}function $a(t,...e){if(xl.logLevel<=Te.WARN){const n=e.map(NI);xl.warn(`Firestore (${cf}): ${t}`,...n)}}function NI(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,dF(t,r,n)}function dF(t,e,n){let r=`FIRESTORE (${cf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Jt(r),new Error(r)}function le(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||dF(e,i,r)}function Yce(t,e){t||re(57014,e)}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends fr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rn.UNAUTHENTICATED))}shutdown(){}}class Xce{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Zce{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){le(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new er;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new er,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new er)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(le(typeof r.accessToken=="string",31837,{l:r}),new hF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return le(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class Jce{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eue{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Jce(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ZD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tue{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){le(this.o===void 0,3512);const r=a=>{a.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,W("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ZD(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(le(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ZD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nue(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=nue(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function ye(t,e){return t<e?-1:t>e?1:0}function GT(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return LE(i)===LE(a)?ye(i,a):LE(i)?1:-1}return ye(t.length,e.length)}const rue=55296,iue=57343;function LE(t){const e=t.charCodeAt(0);return e>=rue&&e<=iue}function mh(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function fF(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="__name__";class ya{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&re(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ya.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ya?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=ya.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return ye(e.length,n.length)}static compareSegments(e,n){const r=ya.isNumericId(e),i=ya.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ya.extractNumericId(e).compare(ya.extractNumericId(n)):GT(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sl.fromString(e.substring(4,e.length-2))}}class Ne extends ya{construct(e,n,r){return new Ne(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const aue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends ya{construct(e,n,r){return new jt(e,n,r)}static isValidIdentifier(e){return aue.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===JD}static keyField(){return new jt([JD])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new K(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new K(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new K(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Ne.fromString(e))}static fromName(e){return new ee(Ne.fromString(e).popFirst(5))}static empty(){return new ee(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Ne(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(t,e,n){if(!n)throw new K(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mF(t,e,n,r){if(e===!0&&r===!0)throw new K(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eM(t){if(!ee.isDocumentKey(t))throw new K(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tM(t){if(ee.isDocumentKey(t))throw new K(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pF(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Mw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re(12329,{type:typeof t})}function Me(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mw(t);throw new K(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function gF(t,e){if(e<=0)throw new K(F.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t,e){const n={typeString:t};return e&&(n.value=e),n}function ay(t,e){if(!pF(t))throw new K(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new K(F.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=-62135596800,rM=1e6;class $e{static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*rM);return new $e(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<nM)throw new K(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rM}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ay(e,$e._jsonSchema))return new $e(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$e._jsonSchemaVersion="firestore/timestamp/1.0",$e._jsonSchema={type:hn("string",$e._jsonSchemaVersion),seconds:hn("number"),nanoseconds:hn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{static fromTimestamp(e){return new ue(e)}static min(){return new ue(new $e(0,0))}static max(){return new ue(new $e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=-1;class Cx{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function KT(t){return t.fields.find(e=>e.kind===2)}function cc(t){return t.fields.filter(e=>e.kind!==2)}Cx.UNKNOWN_ID=-1;class wv{constructor(e,n){this.fieldPath=e,this.kind=n}}class Qp{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Qp(0,bi.min())}}function yF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new $e(n+1,0):new $e(n,r));return new bi(i,ee.empty(),e)}function vF(t){return new bi(t.readTime,t.key,ph)}class bi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bi(ue.min(),ee.empty(),ph)}static max(){return new bi(ue.max(),ee.empty(),ph)}}function CI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==xF)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(i=>i?V.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new V((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const u=l;n(e[u]).next(d=>{s[u]=d,++o,o===a&&r(s)},d=>i(d))}})}static doWhile(e,n){return new V((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="SimpleDb";class Lw{static open(e,n,r,i){try{return new Lw(n,e.transaction(i,r))}catch(a){throw new up(n,a)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new er,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new up(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=PI(r.target.error);this.S.reject(new up(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(W(ti,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new oue(n)}}class Oa{static delete(e){return W(ti,"Removing database:",e),yc(Q2().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!$p())return!1;if(Oa.F())return!0;const e=Lt(),n=Oa.M(e),r=0<n&&n<10,i=wF(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Oa.M(Lt())===12.2&&Jt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(W(ti,"Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const s=a.target.result;n(s)},i.onblocked=()=>{r(new up(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const s=a.target.error;s.name==="VersionError"?r(new K(F.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new K(F.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new up(e,s))},i.onupgradeneeded=a=>{W(ti,'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const s=a.target.result;this.N.k(s,i.transaction,a.oldVersion,this.version).next(()=>{W(ti,"Database upgrade to version "+this.version+" complete")})}})),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const a=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.L(e);const o=Lw.open(this.db,e,a?"readonly":"readwrite",r),l=i(o).next(u=>(o.C(),u)).catch(u=>(o.abort(u),V.reject(u))).toPromise();return l.catch(()=>{}),await o.D,l}catch(o){const l=o,u=l.name!=="FirebaseError"&&s<3;if(W(ti,"Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function wF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class sue{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return yc(this.U.delete())}}class up extends K{constructor(e,n){super(F.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Vl(t){return t.name==="IndexedDbTransactionError"}class oue{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(W(ti,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(W(ti,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),yc(r)}add(e){return W(ti,"ADD",this.store.name,e,e),yc(this.store.add(e))}get(e){return yc(this.store.get(e)).next(n=>(n===void 0&&(n=null),W(ti,"GET",this.store.name,e,n),n))}delete(e){return W(ti,"DELETE",this.store.name,e),yc(this.store.delete(e))}count(){return W(ti,"COUNT",this.store.name),yc(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(r.range);return new V((s,o)=>{a.onerror=l=>{o(l.target.error)},a.onsuccess=l=>{s(l.target.result)}})}{const a=this.cursor(r),s=[];return this.H(a,(o,l)=>{s.push(l)}).next(()=>s)}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new V((i,a)=>{r.onerror=s=>{a(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}Z(e,n){W(ti,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,(a,s,o)=>o.delete())}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new V((r,i)=>{n.onerror=a=>{const s=PI(a.target.error);i(s)},n.onsuccess=a=>{const s=a.target.result;s?e(s.primaryKey,s.value).next(o=>{o?s.continue():r()}):r()}})}H(e,n){const r=[];return new V((i,a)=>{e.onerror=s=>{a(s.target.error)},e.onsuccess=s=>{const o=s.target.result;if(!o)return void i();const l=new sue(o),u=n(o.primaryKey,o.value,l);if(u instanceof V){const d=u.catch(h=>(l.done(),V.reject(h)));r.push(d)}l.isDone?i():l.G===null?o.continue():o.continue(l.G)}}).next(()=>V.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function yc(t){return new V((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=PI(r.target.error);n(i)}})}let iM=!1;function PI(t){const e=Oa.M(Lt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new K("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return iM||(iM=!0,setTimeout(()=>{throw r},0)),r}}return t}const dp="IndexBackfiller";class lue{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){W(dp,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const n=await this.ne.ie();W(dp,`Documents written: ${n}`)}catch(n){Vl(n)?W(dp,"Ignoring IndexedDB error during index backfill: ",n):await Ll(n)}await this.re(6e4)})}}class cue{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.se(n,e))}se(e,n){const r=new Set;let i=n,a=!0;return V.doWhile(()=>a===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return W(dp,`Processing collection: ${s}`),this.oe(e,s,i).next(o=>{i-=o,r.add(s)});a=!1})).next(()=>n-i)}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(a=>{const s=a.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this._e(i,a)).next(o=>(W(dp,`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,n,o))).next(()=>s.size)}))}_e(e,n){let r=e;return n.changes.forEach((i,a)=>{const s=vF(a);CI(s,r)>0&&(r=s)}),new bi(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Fr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=-1;function sy(t){return t==null}function Xp(t){return t===0&&1/t==-1/0}function _F(t){return typeof t=="number"&&Number.isInteger(t)&&!Xp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="";function mr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=aM(e)),e=uue(t.get(n),e);return aM(e)}function uue(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case Px:n+="";break;default:n+=a}}return n}function aM(t){return t+Px+""}function ja(t){const e=t.length;if(le(e>=2,64408,{path:t}),e===2)return le(t.charAt(0)===Px&&t.charAt(1)==="",56145,{path:t}),Ne.emptyPath();const n=e-2,r=[];let i="";for(let a=0;a<e;){const s=t.indexOf(Px,a);switch((s<0||s>n)&&re(50515,{path:t}),t.charAt(s+1)){case"":const o=t.substring(a,s);let l;i.length===0?l=o:(i+=o,l=i,i=""),r.push(l);break;case"":i+=t.substring(a,s),i+="\0";break;case"":i+=t.substring(a,s+1);break;default:re(61167,{path:t})}a=s+2}return new Ne(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc="remoteDocuments",oy="owner",qu="owner",Zp="mutationQueues",due="userId",ia="mutations",sM="batchId",Ec="userMutationsIndex",oM=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t,e){return[t,mr(e)]}function EF(t,e,n){return[t,mr(e),n]}const hue={},gh="documentMutations",kx="remoteDocumentsV14",fue=["prefixPath","collectionGroup","readTime","documentId"],Ev="documentKeyIndex",mue=["prefixPath","collectionGroup","documentId"],SF="collectionGroupIndex",pue=["collectionGroup","readTime","prefixPath","documentId"],Jp="remoteDocumentGlobal",WT="remoteDocumentGlobalKey",yh="targets",TF="queryTargetsIndex",gue=["canonicalId","targetId"],vh="targetDocuments",yue=["targetId","path"],kI="documentTargetsIndex",vue=["path","targetId"],Ox="targetGlobalKey",Lc="targetGlobal",eg="collectionParents",xue=["collectionId","parent"],xh="clientMetadata",bue="clientId",Vw="bundles",wue="bundleId",zw="namedQueries",_ue="name",OI="indexConfiguration",Eue="indexId",YT="collectionGroupIndex",Sue="collectionGroup",hp="indexState",Tue=["indexId","uid"],AF="sequenceNumberIndex",Aue=["uid","sequenceNumber"],fp="indexEntries",Nue=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],NF="documentKeyIndex",Iue=["indexId","uid","orderedDocumentKey"],Uw="documentOverlays",jue=["userId","collectionPath","documentId"],QT="collectionPathOverlayIndex",Cue=["userId","collectionPath","largestBatchId"],IF="collectionGroupOverlayIndex",Pue=["userId","collectionGroup","largestBatchId"],RI="globals",kue="name",jF=[Zp,ia,gh,uc,yh,oy,Lc,vh,xh,Jp,eg,Vw,zw],Oue=[...jF,Uw],CF=[Zp,ia,gh,kx,yh,oy,Lc,vh,xh,Jp,eg,Vw,zw,Uw],PF=CF,DI=[...PF,OI,hp,fp],Rue=DI,kF=[...DI,RI],Due=kF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT extends bF{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Sn(t,e){const n=ne(t);return Oa.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||Kn.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kn.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _0(this.root,e,this.comparator,!1)}getReverseIterator(){return new _0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _0(this.root,e,this.comparator,!0)}}class _0{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Kn.RED,this.left=i??Kn.EMPTY,this.right=a??Kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Kn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Kn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw re(27949);return e+(this.isRed()?0:1)}}Kn.EMPTY=null,Kn.RED=!0,Kn.BLACK=!1;Kn.EMPTY=new class{constructor(){this.size=0}get key(){throw re(57766)}get value(){throw re(16141)}get color(){throw re(16727)}get left(){throw re(29726)}get right(){throw re(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cM(this.data.getIterator())}getIteratorFrom(e){return new cM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qe(this.comparator);return n.data=e,n}}class cM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Hu(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new $r([])}unionWith(e){let n=new Qe(jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $r(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mh(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mue(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new RF("Invalid base64 string: "+a):a}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const Lue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(t){if(le(!!t,39018),typeof t=="string"){let e=0;const n=Lue.exec(t);if(le(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nt(t.seconds),nanos:Nt(t.nanos)}}function Nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bs(t){return typeof t=="string"?Ht.fromBase64String(t):Ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF="server_timestamp",MF="__type__",LF="__previous_value__",VF="__local_write_time__";function Bw(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[MF])==null?void 0:r.stringValue)===DF}function Fw(t){const e=t.mapValue.fields[LF];return Bw(e)?Fw(e):e}function tg(t){const e=Us(t.mapValue.fields[VF].timestampValue);return new $e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vue{constructor(e,n,r,i,a,s,o,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const ZT="(default)";class bl{constructor(e,n){this.projectId=e,this.database=n||ZT}static empty(){return new bl("","")}get isDefaultDatabase(){return this.database===ZT}isEqual(e){return e instanceof bl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="__type__",zF="__max__",Go={mapValue:{fields:{__type__:{stringValue:zF}}}},LI="__vector__",bh="value",Sv={nullValue:"NULL_VALUE"};function wl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bw(t)?4:UF(t)?9007199254740991:$w(t)?10:11:re(28295,{value:t})}function qa(t,e){if(t===e)return!0;const n=wl(t);if(n!==wl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tg(t).isEqual(tg(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Us(i.timestampValue),o=Us(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Bs(i.bytesValue).isEqual(Bs(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Nt(i.geoPointValue.latitude)===Nt(a.geoPointValue.latitude)&&Nt(i.geoPointValue.longitude)===Nt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Nt(i.integerValue)===Nt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Nt(i.doubleValue),o=Nt(a.doubleValue);return s===o?Xp(s)===Xp(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return mh(t.arrayValue.values||[],e.arrayValue.values||[],qa);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(lM(s)!==lM(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!qa(s[l],o[l])))return!1;return!0}(t,e);default:return re(52216,{left:t})}}function ng(t,e){return(t.values||[]).find(n=>qa(n,e))!==void 0}function _l(t,e){if(t===e)return 0;const n=wl(t),r=wl(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=Nt(a.integerValue||a.doubleValue),l=Nt(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return uM(t.timestampValue,e.timestampValue);case 4:return uM(tg(t),tg(e));case 5:return GT(t.stringValue,e.stringValue);case 6:return function(a,s){const o=Bs(a),l=Bs(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const d=ye(o[u],l[u]);if(d!==0)return d}return ye(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=ye(Nt(a.latitude),Nt(s.latitude));return o!==0?o:ye(Nt(a.longitude),Nt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return dM(t.arrayValue,e.arrayValue);case 10:return function(a,s){var f,m,y,v;const o=a.fields||{},l=s.fields||{},u=(f=o[bh])==null?void 0:f.arrayValue,d=(m=l[bh])==null?void 0:m.arrayValue,h=ye(((y=u==null?void 0:u.values)==null?void 0:y.length)||0,((v=d==null?void 0:d.values)==null?void 0:v.length)||0);return h!==0?h:dM(u,d)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===Go.mapValue&&s===Go.mapValue)return 0;if(a===Go.mapValue)return 1;if(s===Go.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),u=s.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=GT(l[h],d[h]);if(f!==0)return f;const m=_l(o[l[h]],u[d[h]]);if(m!==0)return m}return ye(l.length,d.length)}(t.mapValue,e.mapValue);default:throw re(23264,{he:n})}}function uM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);const n=Us(t),r=Us(e),i=ye(n.seconds,r.seconds);return i!==0?i:ye(n.nanos,r.nanos)}function dM(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=_l(n[i],r[i]);if(a)return a}return ye(n.length,r.length)}function wh(t){return JT(t)}function JT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Us(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Bs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=JT(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${JT(n.fields[s])}`;return i+"}"}(t.mapValue):re(61005,{value:t})}function Tv(t){switch(wl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fw(t);return e?16+Tv(e):16;case 5:return 2*t.stringValue.length;case 6:return Bs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Tv(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return zl(r.fields,(a,s)=>{i+=a.length+Tv(s)}),i}(t.mapValue);default:throw re(13486,{value:t})}}function nu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function eA(t){return!!t&&"integerValue"in t}function rg(t){return!!t&&"arrayValue"in t}function hM(t){return!!t&&"nullValue"in t}function fM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Av(t){return!!t&&"mapValue"in t}function $w(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[MI])==null?void 0:r.stringValue)===LI}function mp(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return zl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=mp(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mp(t.arrayValue.values[n]);return e}return{...t}}function UF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===zF}const BF={mapValue:{fields:{[MI]:{stringValue:LI},[bh]:{arrayValue:{}}}}};function zue(t){return"nullValue"in t?Sv:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?nu(bl.empty(),ee.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?$w(t)?BF:{mapValue:{}}:re(35942,{value:t})}function Uue(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?nu(bl.empty(),ee.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?BF:"mapValue"in t?$w(t)?{mapValue:{}}:Go:re(61959,{value:t})}function mM(t,e){const n=_l(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function pM(t,e){const n=_l(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Av(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mp(n)}setAll(e){let n=jt.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=mp(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Av(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Av(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){zl(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Xn(mp(this.value))}}function FF(t){const e=[];return zl(t.fields,(n,r)=>{const i=new jt([n]);if(Av(r)){const a=FF(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new $r(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new vt(e,0,ue.min(),ue.min(),ue.min(),Xn.empty(),0)}static newFoundDocument(e,n,r,i){return new vt(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new vt(e,2,n,ue.min(),ue.min(),Xn.empty(),0)}static newUnknownDocument(e,n){return new vt(e,3,n,ue.min(),ue.min(),Xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n){this.position=e,this.inclusive=n}}function gM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=ee.comparator(ee.fromName(s.referenceValue),n.key):r=_l(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function yM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n="asc"){this.field=e,this.dir=n}}function Bue(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{}class Ce extends $F{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Fue(e,n,r):n==="array-contains"?new Hue(e,r):n==="in"?new YF(e,r):n==="not-in"?new Gue(e,r):n==="array-contains-any"?new Kue(e,r):new Ce(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $ue(e,r):new que(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_l(n,this.value)):n!==null&&wl(this.value)===wl(n)&&this.matchesComparison(_l(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ye extends $F{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ye(e,n)}matches(e){return _h(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _h(t){return t.op==="and"}function tA(t){return t.op==="or"}function VI(t){return qF(t)&&_h(t)}function qF(t){for(const e of t.filters)if(e instanceof Ye)return!1;return!0}function nA(t){if(t instanceof Ce)return t.field.canonicalString()+t.op.toString()+wh(t.value);if(VI(t))return t.filters.map(e=>nA(e)).join(",");{const e=t.filters.map(n=>nA(n)).join(",");return`${t.op}(${e})`}}function HF(t,e){return t instanceof Ce?function(r,i){return i instanceof Ce&&r.op===i.op&&r.field.isEqual(i.field)&&qa(r.value,i.value)}(t,e):t instanceof Ye?function(r,i){return i instanceof Ye&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&HF(s,i.filters[o]),!0):!1}(t,e):void re(19439)}function GF(t,e){const n=t.filters.concat(e);return Ye.create(n,t.op)}function KF(t){return t instanceof Ce?function(n){return`${n.field.canonicalString()} ${n.op} ${wh(n.value)}`}(t):t instanceof Ye?function(n){return n.op.toString()+" {"+n.getFilters().map(KF).join(" ,")+"}"}(t):"Filter"}class Fue extends Ce{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class $ue extends Ce{constructor(e,n){super(e,"in",n),this.keys=WF("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class que extends Ce{constructor(e,n){super(e,"not-in",n),this.keys=WF("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WF(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class Hue extends Ce{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rg(n)&&ng(n.arrayValue,this.value)}}class YF extends Ce{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ng(this.value.arrayValue,n)}}class Gue extends Ce{constructor(e,n){super(e,"not-in",n)}matches(e){if(ng(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ng(this.value.arrayValue,n)}}class Kue extends Ce{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ng(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wue{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function rA(t,e=null,n=[],r=[],i=null,a=null,s=null){return new Wue(t,e,n,r,i,a,s)}function ru(t){const e=ne(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>nA(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),sy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wh(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wh(r)).join(",")),e.Te=n}return e.Te}function ly(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Bue(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!HF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yM(t.startAt,e.startAt)&&yM(t.endAt,e.endAt)}function Rx(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Dx(t,e){return t.filters.filter(n=>n instanceof Ce&&n.field.isEqual(e))}function vM(t,e,n){let r=Sv,i=!0;for(const a of Dx(t,e)){let s=Sv,o=!0;switch(a.op){case"<":case"<=":s=zue(a.value);break;case"==":case"in":case">=":s=a.value;break;case">":s=a.value,o=!1;break;case"!=":case"not-in":s=Sv}mM({value:r,inclusive:i},{value:s,inclusive:o})<0&&(r=s,i=o)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const s=n.position[a];mM({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function xM(t,e,n){let r=Go,i=!0;for(const a of Dx(t,e)){let s=Go,o=!0;switch(a.op){case">=":case">":s=Uue(a.value),o=!1;break;case"==":case"in":case"<=":s=a.value;break;case"<":s=a.value,o=!1;break;case"!=":case"not-in":s=Go}pM({value:r,inclusive:i},{value:s,inclusive:o})>0&&(r=s,i=o)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const s=n.position[a];pM({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function QF(t,e,n,r,i,a,s,o){return new no(t,e,n,r,i,a,s,o)}function uf(t){return new no(t)}function bM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zI(t){return t.collectionGroup!==null}function qd(t){const e=ne(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Qe(jt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new ig(a,r))}),n.has(jt.keyField().canonicalString())||e.Ie.push(new ig(jt.keyField(),r))}return e.Ie}function Pr(t){const e=ne(t);return e.Ee||(e.Ee=Yue(e,qd(t))),e.Ee}function Yue(t,e){if(t.limitType==="F")return rA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new ig(i.field,a)});const n=t.endAt?new El(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new El(t.startAt.position,t.startAt.inclusive):null;return rA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function iA(t,e){const n=t.filters.concat([e]);return new no(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Mx(t,e,n){return new no(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cy(t,e){return ly(Pr(t),Pr(e))&&t.limitType===e.limitType}function XF(t){return`${ru(Pr(t))}|lt:${t.limitType}`}function sd(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>KF(i)).join(", ")}]`),sy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>wh(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>wh(i)).join(",")),`Target(${r})`}(Pr(t))}; limitType=${t.limitType})`}function uy(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ee.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of qd(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,l){const u=gM(s,o,l);return s.inclusive?u<=0:u<0}(r.startAt,qd(r),i)||r.endAt&&!function(s,o,l){const u=gM(s,o,l);return s.inclusive?u>=0:u>0}(r.endAt,qd(r),i))}(t,e)}function ZF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JF(t){return(e,n)=>{let r=!1;for(const i of qd(t)){const a=Que(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function Que(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(a,s,o){const l=s.data.field(a),u=o.data.field(a);return l!==null&&u!==null?_l(l,u):re(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zl(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return OF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xue=new dt(ee.comparator);function qr(){return Xue}const e8=new dt(ee.comparator);function Rm(...t){let e=e8;for(const n of t)e=e.insert(n.key,n);return e}function t8(t){let e=e8;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ca(){return pp()}function n8(){return pp()}function pp(){return new ro(t=>t.toString(),(t,e)=>t.isEqual(e))}const Zue=new dt(ee.comparator),Jue=new Qe(ee.comparator);function be(...t){let e=Jue;for(const n of t)e=e.add(n);return e}const ede=new Qe(ye);function UI(){return ede}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xp(e)?"-0":e}}function r8(t){return{integerValue:""+t}}function i8(t,e){return _F(e)?r8(e):BI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(){this._=void 0}}function tde(t,e,n){return t instanceof Eh?function(i,a){const s={fields:{[MF]:{stringValue:DF},[VF]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Bw(a)&&(a=Fw(a)),a&&(s.fields[LF]=a),{mapValue:s}}(n,e):t instanceof iu?s8(t,e):t instanceof au?o8(t,e):function(i,a){const s=a8(i,a),o=wM(s)+wM(i.Ae);return eA(s)&&eA(i.Ae)?r8(o):BI(i.serializer,o)}(t,e)}function nde(t,e,n){return t instanceof iu?s8(t,e):t instanceof au?o8(t,e):n}function a8(t,e){return t instanceof Sh?function(r){return eA(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Eh extends qw{}class iu extends qw{constructor(e){super(),this.elements=e}}function s8(t,e){const n=l8(e);for(const r of t.elements)n.some(i=>qa(i,r))||n.push(r);return{arrayValue:{values:n}}}class au extends qw{constructor(e){super(),this.elements=e}}function o8(t,e){let n=l8(e);for(const r of t.elements)n=n.filter(i=>!qa(i,r));return{arrayValue:{values:n}}}class Sh extends qw{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function wM(t){return Nt(t.integerValue||t.doubleValue)}function l8(t){return rg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n){this.field=e,this.transform=n}}function rde(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof iu&&i instanceof iu||r instanceof au&&i instanceof au?mh(r.elements,i.elements,qa):r instanceof Sh&&i instanceof Sh?qa(r.Ae,i.Ae):r instanceof Eh&&i instanceof Eh}(t.transform,e.transform)}class ide{constructor(e,n){this.version=e,this.transformResults=n}}class Ct{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ct}static exists(e){return new Ct(void 0,e)}static updateTime(e){return new Ct(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hw{}function c8(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hf(t.key,Ct.none()):new df(t.key,t.data,Ct.none());{const n=t.data,r=Xn.empty();let i=new Qe(jt.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new io(t.key,r,new $r(i.toArray()),Ct.none())}}function ade(t,e,n){t instanceof df?function(i,a,s){const o=i.value.clone(),l=EM(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof io?function(i,a,s){if(!Nv(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=EM(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(u8(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function gp(t,e,n,r){return t instanceof df?function(a,s,o,l){if(!Nv(a.precondition,s))return o;const u=a.value.clone(),d=SM(a.fieldTransforms,l,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof io?function(a,s,o,l){if(!Nv(a.precondition,s))return o;const u=SM(a.fieldTransforms,l,s),d=s.data;return d.setAll(u8(a)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(a,s,o){return Nv(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function sde(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=a8(r.transform,i||null);a!=null&&(n===null&&(n=Xn.empty()),n.set(r.field,a))}return n||null}function _M(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&mh(r,i,(a,s)=>rde(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class df extends Hw{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class io extends Hw{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function u8(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function EM(t,e,n){const r=new Map;le(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,nde(s,o,n[i]))}return r}function SM(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,tde(a,s,e))}return r}class hf extends Hw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FI extends Hw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&ade(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=n8();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=c8(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&mh(this.mutations,e.mutations,(n,r)=>_M(n,r))&&mh(this.baseMutations,e.baseMutations,(n,r)=>_M(n,r))}}class qI{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){le(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return Zue}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new qI(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ode{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,Re;function d8(t){switch(t){case F.OK:return re(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return re(15467,{code:t})}}function h8(t){if(t===void 0)return Jt("GRPC error has no .code"),F.UNKNOWN;switch(t){case an.OK:return F.OK;case an.CANCELLED:return F.CANCELLED;case an.UNKNOWN:return F.UNKNOWN;case an.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case an.INTERNAL:return F.INTERNAL;case an.UNAVAILABLE:return F.UNAVAILABLE;case an.UNAUTHENTICATED:return F.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case an.NOT_FOUND:return F.NOT_FOUND;case an.ALREADY_EXISTS:return F.ALREADY_EXISTS;case an.PERMISSION_DENIED:return F.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case an.ABORTED:return F.ABORTED;case an.OUT_OF_RANGE:return F.OUT_OF_RANGE;case an.UNIMPLEMENTED:return F.UNIMPLEMENTED;case an.DATA_LOSS:return F.DATA_LOSS;default:return re(39323,{code:t})}}(Re=an||(an={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lde=new sl([4294967295,4294967295],0);function TM(t){const e=f8().encode(t),n=new aF;return n.update(e),new Uint8Array(n.digest())}function AM(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new sl([n,r],0),new sl([i,a],0)]}class GI{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Dm(`Invalid padding: ${n}`);if(r<0)throw new Dm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Dm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Dm(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=sl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(sl.fromNumber(r)));return i.compare(lde)===1&&(i=new sl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=TM(e),[r,i]=AM(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new GI(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const n=TM(e),[r,i]=AM(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Dm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,fy.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hy(ue.min(),i,new dt(ye),qr(),be())}}class fy{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fy(r,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class m8{constructor(e,n){this.targetId=e,this.Ce=n}}class p8{constructor(e,n,r=Ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class NM{constructor(){this.ve=0,this.Fe=IM(),this.Me=Ht.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=be(),n=be(),r=be();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re(38017,{changeType:a})}}),new fy(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=IM()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,le(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cde{constructor(e){this.Ge=e,this.ze=new Map,this.je=qr(),this.Je=E0(),this.He=E0(),this.Ye=new dt(ye)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:re(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(Rx(a))if(r===0){const s=new ee(a.path);this.et(n,s,vt.newNoDocument(s,ue.min()))}else le(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const o=this.ut(e),l=o?this.ct(o,e,s):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=Bs(r).toUint8Array()}catch(l){if(l instanceof RF)return $a("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new GI(s,i,a)}catch(l){return $a(l instanceof Dm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&Rx(o.target)){const l=new ee(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,vt.newNoDocument(l,e))}a.Be&&(n.set(s,a.ke()),a.qe())}});let r=be();this.He.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const i=new hy(e,n,this.Ye,this.je,r);return this.je=qr(),this.Je=E0(),this.He=E0(),this.Ye=new dt(ye),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new NM,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Qe(ye),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Qe(ye),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new NM),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function E0(){return new dt(ee.comparator)}function IM(){return new dt(ee.comparator)}const ude={asc:"ASCENDING",desc:"DESCENDING"},dde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hde={and:"AND",or:"OR"};class fde{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function aA(t,e){return t.useProto3Json||sy(e)?e:{value:e}}function Th(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function g8(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mde(t,e){return Th(t,e.toTimestamp())}function nn(t){return le(!!t,49232),ue.fromTimestamp(function(n){const r=Us(n);return new $e(r.seconds,r.nanos)}(t))}function KI(t,e){return sA(t,e).canonicalString()}function sA(t,e){const n=function(i){return new Ne(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function y8(t){const e=Ne.fromString(t);return le(N8(e),10190,{key:e.toString()}),e}function ag(t,e){return KI(t.databaseId,e.path)}function Ra(t,e){const n=y8(e);if(n.get(1)!==t.databaseId.projectId)throw new K(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(b8(n))}function v8(t,e){return KI(t.databaseId,e)}function x8(t){const e=y8(t);return e.length===4?Ne.emptyPath():b8(e)}function oA(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function b8(t){return le(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function jM(t,e,n){return{name:ag(t,e),fields:n.value.mapValue.fields}}function w8(t,e,n){const r=Ra(t,e.name),i=nn(e.updateTime),a=e.createTime?nn(e.createTime):ue.min(),s=new Xn({mapValue:{fields:e.fields}}),o=vt.newFoundDocument(r,i,a,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function pde(t,e){return"found"in e?function(r,i){le(!!i.found,43571),i.found.name,i.found.updateTime;const a=Ra(r,i.found.name),s=nn(i.found.updateTime),o=i.found.createTime?nn(i.found.createTime):ue.min(),l=new Xn({mapValue:{fields:i.found.fields}});return vt.newFoundDocument(a,s,o,l)}(t,e):"missing"in e?function(r,i){le(!!i.missing,3894),le(!!i.readTime,22933);const a=Ra(r,i.missing),s=nn(i.readTime);return vt.newNoDocument(a,s)}(t,e):re(7234,{result:e})}function gde(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:re(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(le(d===void 0||typeof d=="string",58123),Ht.fromBase64String(d||"")):(le(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Ht.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(u){const d=u.code===void 0?F.UNKNOWN:h8(u.code);return new K(d,u.message||"")}(s);n=new p8(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ra(t,r.document.name),a=nn(r.document.updateTime),s=r.document.createTime?nn(r.document.createTime):ue.min(),o=new Xn({mapValue:{fields:r.document.fields}}),l=vt.newFoundDocument(i,a,s,o),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Iv(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ra(t,r.document),a=r.readTime?nn(r.readTime):ue.min(),s=vt.newNoDocument(i,a),o=r.removedTargetIds||[];n=new Iv([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ra(t,r.document),a=r.removedTargetIds||[];n=new Iv([],a,i,null)}else{if(!("filter"in e))return re(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new ode(i,a),o=r.targetId;n=new m8(o,s)}}return n}function sg(t,e){let n;if(e instanceof df)n={update:jM(t,e.key,e.value)};else if(e instanceof hf)n={delete:ag(t,e.key)};else if(e instanceof io)n={update:jM(t,e.key,e.data),updateMask:_de(e.fieldMask)};else{if(!(e instanceof FI))return re(16599,{Vt:e.type});n={verify:ag(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof Eh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof iu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof au)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Sh)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw re(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:mde(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:re(27497)}(t,e.precondition)),n}function lA(t,e){const n=e.currentDocument?function(a){return a.updateTime!==void 0?Ct.updateTime(nn(a.updateTime)):a.exists!==void 0?Ct.exists(a.exists):Ct.none()}(e.currentDocument):Ct.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let l=null;if("setToServerValue"in o)le(o.setToServerValue==="REQUEST_TIME",16630,{proto:o}),l=new Eh;else if("appendMissingElements"in o){const d=o.appendMissingElements.values||[];l=new iu(d)}else if("removeAllFromArray"in o){const d=o.removeAllFromArray.values||[];l=new au(d)}else"increment"in o?l=new Sh(s,o.increment):re(16584,{proto:o});const u=jt.fromServerFormat(o.fieldPath);return new dy(u,l)}(t,i)):[];if(e.update){e.update.name;const i=Ra(t,e.update.name),a=new Xn({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=function(l){const u=l.fieldPaths||[];return new $r(u.map(d=>jt.fromServerFormat(d)))}(e.updateMask);return new io(i,a,s,n,r)}return new df(i,a,n,r)}if(e.delete){const i=Ra(t,e.delete);return new hf(i,n)}if(e.verify){const i=Ra(t,e.verify);return new FI(i,n)}return re(1463,{proto:e})}function yde(t,e){return t&&t.length>0?(le(e!==void 0,14353),t.map(n=>function(i,a){let s=i.updateTime?nn(i.updateTime):nn(a);return s.isEqual(ue.min())&&(s=nn(a)),new ide(s,i.transformResults||[])}(n,e))):[]}function _8(t,e){return{documents:[v8(t,e.path)]}}function E8(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=v8(t,i);const a=function(u){if(u.length!==0)return A8(Ye.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:od(f.field),direction:xde(f.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=aA(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function S8(t){let e=x8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){le(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];n.where&&(a=function(h){const f=T8(h);return f instanceof Ye&&VI(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(f=>function(y){return new ig(ld(y.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let o=null;n.limit&&(o=function(h){let f;return f=typeof h=="object"?h.value:h,sy(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new El(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new El(m,f)}(n.endAt)),QF(e,i,s,a,o,"F",l,u)}function vde(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function T8(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ld(n.unaryFilter.field);return Ce.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ld(n.unaryFilter.field);return Ce.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ld(n.unaryFilter.field);return Ce.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ld(n.unaryFilter.field);return Ce.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return re(61313);default:return re(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ce.create(ld(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return re(58110);default:return re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ye.create(n.compositeFilter.filters.map(r=>T8(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re(1026)}}(n.compositeFilter.op))}(t):re(30097,{filter:t})}function xde(t){return ude[t]}function bde(t){return dde[t]}function wde(t){return hde[t]}function od(t){return{fieldPath:t.canonicalString()}}function ld(t){return jt.fromServerFormat(t.fieldPath)}function A8(t){return t instanceof Ce?function(n){if(n.op==="=="){if(fM(n.value))return{unaryFilter:{field:od(n.field),op:"IS_NAN"}};if(hM(n.value))return{unaryFilter:{field:od(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fM(n.value))return{unaryFilter:{field:od(n.field),op:"IS_NOT_NAN"}};if(hM(n.value))return{unaryFilter:{field:od(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:od(n.field),op:bde(n.op),value:n.value}}}(t):t instanceof Ye?function(n){const r=n.getFilters().map(i=>A8(i));return r.length===1?r[0]:{compositeFilter:{op:wde(n.op),filters:r}}}(t):re(54877,{filter:t})}function _de(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function N8(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n,r,i,a=ue.min(),s=ue.min(),o=Ht.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(e){this.yt=e}}function Ede(t,e){let n;if(e.document)n=w8(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ee.fromSegments(e.noDocument.path),i=ou(e.noDocument.readTime);n=vt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return re(56709);{const r=ee.fromSegments(e.unknownDocument.path),i=ou(e.unknownDocument.version);n=vt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const a=new $e(i[0],i[1]);return ue.fromTimestamp(a)}(e.readTime)),n}function CM(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Lx(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(a,s){return{name:ag(a,s.key),fields:s.data.value.mapValue.fields,updateTime:Th(a,s.version.toTimestamp()),createTime:Th(a,s.createTime.toTimestamp())}}(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:su(e.version)};else{if(!e.isUnknownDocument())return re(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:su(e.version)}}return r}function Lx(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function su(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ou(t){const e=new $e(t.seconds,t.nanoseconds);return ue.fromTimestamp(e)}function vc(t,e){const n=(e.baseMutations||[]).map(a=>lA(t.yt,a));for(let a=0;a<e.mutations.length-1;++a){const s=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const o=e.mutations[a+1];s.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const r=e.mutations.map(a=>lA(t.yt,a)),i=$e.fromMillis(e.localWriteTimeMs);return new $I(e.batchId,i,n,r)}function Mm(t){const e=ou(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ou(t.lastLimboFreeSnapshotVersion):ue.min();let r;return r=function(a){return a.documents!==void 0}(t.query)?function(a){const s=a.documents.length;return le(s===1,1966,{count:s}),Pr(uf(x8(a.documents[0])))}(t.query):function(a){return Pr(S8(a))}(t.query),new gs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ht.fromBase64String(t.resumeToken))}function j8(t,e){const n=su(e.snapshotVersion),r=su(e.lastLimboFreeSnapshotVersion);let i;i=Rx(e.target)?_8(t.yt,e.target):E8(t.yt,e.target).ft;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ru(e.target),readTime:n,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function WI(t){const e=S8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mx(e,e.limit,"L"):e}function VE(t,e){return new HI(e.largestBatchId,lA(t.yt,e.overlayMutation))}function PM(t,e){const n=e.path.lastSegment();return[t,mr(e.path.popLast()),n]}function kM(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:su(r.readTime),documentKey:mr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sde{getBundleMetadata(e,n){return OM(e).get(n).next(r=>{if(r)return function(a){return{id:a.bundleId,createTime:ou(a.createTime),version:a.version}}(r)})}saveBundleMetadata(e,n){return OM(e).put(function(i){return{bundleId:i.id,createTime:su(nn(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return RM(e).get(n).next(r=>{if(r)return function(a){return{name:a.name,query:WI(a.bundledQuery),readTime:ou(a.readTime)}}(r)})}saveNamedQuery(e,n){return RM(e).put(function(i){return{name:i.name,readTime:su(nn(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function OM(t){return Sn(t,Vw)}function RM(t){return Sn(t,zw)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new Gw(e,r)}getOverlay(e,n){return om(e).get(PM(this.userId,n)).next(r=>r?VE(this.serializer,r):null)}getOverlays(e,n){const r=Ca();return V.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((a,s)=>{const o=new HI(n,s);i.push(this.St(e,o))}),V.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(mr(s.getCollectionPath())));const a=[];return i.forEach(s=>{const o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);a.push(om(e).Z(QT,o))}),V.waitFor(a)}getOverlaysForCollection(e,n,r){const i=Ca(),a=mr(n),s=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return om(e).J(QT,s).next(o=>{for(const l of o){const u=VE(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const a=Ca();let s;const o=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return om(e).ee({index:IF,range:o},(l,u,d)=>{const h=VE(this.serializer,u);a.size()<i||h.largestBatchId===s?(a.set(h.getKey(),h),s=h.largestBatchId):d.done()}).next(()=>a)}St(e,n){return om(e).put(function(i,a,s){const[o,l,u]=PM(a,s.mutation.key);return{userId:a,collectionPath:l,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:sg(i.yt,s.mutation)}}(this.serializer,this.userId,n))}}function om(t){return Sn(t,Uw)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tde{bt(e){return Sn(e,RI)}getSessionToken(e){return this.bt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?Ht.fromUint8Array(r):Ht.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Nt(e.integerValue));else if("doubleValue"in e){const r=Nt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Xp(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Us(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Bs(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?UF(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):$w(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):re(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var s,o;const r=e.fields||{};this.Ft(n,53);const i=bh,a=((o=(s=r[i].arrayValue)==null?void 0:s.values)==null?void 0:o.length)||0;this.Ft(n,15),n.Mt(Nt(a)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),ee.fromName(e).path.forEach(r=>{this.Ft(n,60),this.Ut(r,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}xc.Kt=new xc;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=255;function Ade(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function DM(t){const e=64-function(r){let i=0;for(let a=0;a<8;++a){const s=Ade(255&r[a]);if(i+=s,s!==8)break}return i}(t);return Math.ceil(e/8)}class Nde{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=DM(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=DM(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(Gu),this.sn(255)}_n(){this.an(Gu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=function(a){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,a,!1),new Uint8Array(s.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Gu?(this.sn(Gu),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Gu?(this.an(Gu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Ide{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class jde{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class lm{constructor(){this.cn=new Nde,this.ln=new Ide(this.cn),this.hn=new jde(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new bc(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:jv(this.En),directionalValue:jv(this.dn),orderedDocumentKey:jv(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Eo(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=MM(t.En,e.En),n!==0?n:(n=MM(t.dn,e.dn),n!==0?n:ee.comparator(t.In,e.In)))}function MM(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function jv(t){return GU()?function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r}(t):t}function LM(t){return typeof t!="string"?t:function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(t)}class VM{constructor(e){this.mn=new Qe((n,r)=>jt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(le(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=KT(e);if(n!==void 0&&!this.wn(n))return!1;const r=cc(e);let i=new Set,a=0,s=0;for(;a<r.length&&this.wn(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(this.mn.size>0){const o=this.mn.getIterator().getNext();if(!i.has(o.field.canonicalString())){const l=r[a];if(!this.Sn(o,l)||!this.bn(this.fn[s++],l))return!1}++a}for(;a<r.length;++a){const o=r[a];if(s>=this.fn.length||!this.bn(this.fn[s++],o))return!1}return!0}Dn(){if(this.pn)return null;let e=new Qe(jt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new wv(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new wv(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new wv(r.field,r.dir==="asc"?0:1)));return new Cx(Cx.UNKNOWN_ID,this.collectionId,n,Qp.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C8(t){var n,r;if(le(t instanceof Ce||t instanceof Ye,20012),t instanceof Ce){if(t instanceof YF){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map(a=>Ce.create(t.field,"==",a)))||[];return Ye.create(i,"or")}return t}const e=t.filters.map(i=>C8(i));return Ye.create(e,t.op)}function Cde(t){if(t.getFilters().length===0)return[];const e=dA(C8(t));return le(P8(e),7391),cA(e)||uA(e)?[e]:e.getFilters()}function cA(t){return t instanceof Ce}function uA(t){return t instanceof Ye&&VI(t)}function P8(t){return cA(t)||uA(t)||function(n){if(n instanceof Ye&&tA(n)){for(const r of n.getFilters())if(!cA(r)&&!uA(r))return!1;return!0}return!1}(t)}function dA(t){if(le(t instanceof Ce||t instanceof Ye,34018),t instanceof Ce)return t;if(t.filters.length===1)return dA(t.filters[0]);const e=t.filters.map(r=>dA(r));let n=Ye.create(e,t.op);return n=Vx(n),P8(n)?n:(le(n instanceof Ye,64498),le(_h(n),40251),le(n.filters.length>1,57927),n.filters.reduce((r,i)=>YI(r,i)))}function YI(t,e){let n;return le(t instanceof Ce||t instanceof Ye,38388),le(e instanceof Ce||e instanceof Ye,25473),n=t instanceof Ce?e instanceof Ce?function(i,a){return Ye.create([i,a],"and")}(t,e):zM(t,e):e instanceof Ce?zM(e,t):function(i,a){if(le(i.filters.length>0&&a.filters.length>0,48005),_h(i)&&_h(a))return GF(i,a.getFilters());const s=tA(i)?i:a,o=tA(i)?a:i,l=s.filters.map(u=>YI(u,o));return Ye.create(l,"or")}(t,e),Vx(n)}function zM(t,e){if(_h(e))return GF(e,t.getFilters());{const n=e.filters.map(r=>YI(t,r));return Ye.create(n,"or")}}function Vx(t){if(le(t instanceof Ce||t instanceof Ye,11850),t instanceof Ce)return t;const e=t.getFilters();if(e.length===1)return Vx(e[0]);if(qF(t))return t;const n=e.map(i=>Vx(i)),r=[];return n.forEach(i=>{i instanceof Ce?r.push(i):i instanceof Ye&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Ye.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pde{constructor(){this.Cn=new QI}addToCollectionParentIndex(e,n){return this.Cn.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(bi.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(bi.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class QI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Qe(Ne.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qe(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM="IndexedDbIndexManager",S0=new Uint8Array(0);class kde{constructor(e,n){this.databaseId=n,this.vn=new QI,this.Fn=new ro(r=>ru(r),(r,i)=>ly(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.vn.add(n)});const a={collectionId:r,parent:mr(i)};return BM(e).put(a)}return V.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[fF(n),""],!1,!0);return BM(e).J(i).next(a=>{for(const s of a){if(s.collectionId!==n)break;r.push(ja(s.parent))}return r})}addFieldIndex(e,n){const r=cm(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const a=r.add(i);if(n.indexState){const s=Wu(e);return a.next(o=>{s.put(kM(o,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return a.next()}deleteFieldIndex(e,n){const r=cm(e),i=Wu(e),a=Ku(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=cm(e),r=Ku(e),i=Wu(e);return n.Z().next(()=>r.Z()).next(()=>i.Z())}createTargetIndexes(e,n){return V.forEach(this.Mn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const a=new VM(r).Dn();if(a!=null)return this.addFieldIndex(e,a)}}))}getDocumentsMatchingTarget(e,n){const r=Ku(e);let i=!0;const a=new Map;return V.forEach(this.Mn(n),s=>this.xn(e,s).next(o=>{i&&(i=!!o),a.set(s,o)})).next(()=>{if(i){let s=be();const o=[];return V.forEach(a,(l,u)=>{W(UM,`Using index ${function(_){return`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(S=>`${S.fieldPath}:${S.kind}`).join(",")}`}(l)} to execute ${ru(n)}`);const d=function(_,S){const A=KT(S);if(A===void 0)return null;for(const C of Dx(_,A.fieldPath))switch(C.op){case"array-contains-any":return C.value.arrayValue.values||[];case"array-contains":return[C.value]}return null}(u,l),h=function(_,S){const A=new Map;for(const C of cc(S))for(const N of Dx(_,C.fieldPath))switch(N.op){case"==":case"in":A.set(C.fieldPath.canonicalString(),N.value);break;case"not-in":case"!=":return A.set(C.fieldPath.canonicalString(),N.value),Array.from(A.values())}return null}(u,l),f=function(_,S){const A=[];let C=!0;for(const N of cc(S)){const T=N.kind===0?vM(_,N.fieldPath,_.startAt):xM(_,N.fieldPath,_.startAt);A.push(T.value),C&&(C=T.inclusive)}return new El(A,C)}(u,l),m=function(_,S){const A=[];let C=!0;for(const N of cc(S)){const T=N.kind===0?xM(_,N.fieldPath,_.endAt):vM(_,N.fieldPath,_.endAt);A.push(T.value),C&&(C=T.inclusive)}return new El(A,C)}(u,l),y=this.On(l,u,f),v=this.On(l,u,m),x=this.Nn(l,u,h),b=this.Bn(l.indexId,d,y,f.inclusive,v,m.inclusive,x);return V.forEach(b,w=>r.Y(w,n.limit).next(_=>{_.forEach(S=>{const A=ee.fromSegments(S.documentKey);s.has(A)||(s=s.add(A),o.push(A))})}))}).next(()=>o)}return V.resolve(null)})}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=Cde(Ye.create(e.filters,"and")).map(r=>rA(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Fn.set(e,n),n)}Bn(e,n,r,i,a,s,o){const l=(n!=null?n.length:1)*Math.max(r.length,a.length),u=l/(n!=null?n.length:1),d=[];for(let h=0;h<l;++h){const f=n?this.Ln(n[h/u]):S0,m=this.kn(e,f,r[h%u],i),y=this.qn(e,f,a[h%u],s),v=o.map(x=>this.kn(e,f,x,!0));d.push(...this.createRange(m,y,v))}return d}kn(e,n,r,i){const a=new bc(e,ee.empty(),n,r);return i?a:a.An()}qn(e,n,r,i){const a=new bc(e,ee.empty(),n,r);return i?a.An():a}xn(e,n){const r=new VM(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let s=null;for(const o of a)r.yn(o)&&(!s||o.fields.length>s.fields.length)&&(s=o);return s})}getIndexType(e,n){let r=2;const i=this.Mn(n);return V.forEach(i,a=>this.xn(e,a).next(s=>{s?r!==0&&s.fields.length<function(l){let u=new Qe(jt.comparator),d=!1;for(const h of l.filters)for(const f of h.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?d=!0:u=u.add(f.field));for(const h of l.orderBy)h.field.isKeyField()||(u=u.add(h.field));return u.size+(d?1:0)}(a)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}Qn(e,n){const r=new lm;for(const i of cc(e)){const a=n.data.field(i.fieldPath);if(a==null)return null;const s=r.Pn(i.kind);xc.Kt.Dt(a,s)}return r.un()}Ln(e){const n=new lm;return xc.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new lm;return xc.Kt.Dt(nu(this.databaseId,n),r.Pn(function(a){const s=cc(a);return s.length===0?0:s[s.length-1].kind}(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new lm);let a=0;for(const s of cc(e)){const o=r[a++];for(const l of i)if(this.Un(n,s.fieldPath)&&rg(o))i=this.Kn(i,s,o);else{const u=l.Pn(s.kind);xc.Kt.Dt(o,u)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],a=[];for(const s of r.arrayValue.values||[])for(const o of i){const l=new lm;l.seed(o.un()),xc.Kt.Dt(s,l.Pn(n.kind)),a.push(l)}return a}Un(e,n){return!!e.filters.find(r=>r instanceof Ce&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=cm(e),i=Wu(e);return(n?r.J(YT,IDBKeyRange.bound(n,n)):r.J()).next(a=>{const s=[];return V.forEach(a,o=>i.get([o.indexId,this.uid]).next(l=>{s.push(function(d,h){const f=h?new Qp(h.sequenceNumber,new bi(ou(h.readTime),new ee(ja(h.documentKey)),h.largestBatchId)):Qp.empty(),m=d.fields.map(([y,v])=>new wv(jt.fromServerFormat(y),v));return new Cx(d.indexId,d.collectionGroup,m,f)}(o,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:ye(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=cm(e),a=Wu(e);return this.Gn(e).next(s=>i.J(YT,IDBKeyRange.bound(n,n)).next(o=>V.forEach(o,l=>a.put(kM(l.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){const r=new Map;return V.forEach(n,(i,a)=>{const s=r.get(i.collectionGroup);return(s?V.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(o=>(r.set(i.collectionGroup,o),V.forEach(o,l=>this.zn(e,i,l).next(u=>{const d=this.jn(a,l);return u.isEqual(d)?V.resolve():this.Jn(e,a,l,u,d)}))))})}Hn(e,n,r,i){return Ku(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return Ku(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=Ku(e);let a=new Qe(Eo);return i.ee({index:NF,range:IDBKeyRange.only([r.indexId,this.uid,jv(this.$n(r,n))])},(s,o)=>{a=a.add(new bc(r.indexId,n,LM(o.arrayValue),LM(o.directionalValue)))}).next(()=>a)}jn(e,n){let r=new Qe(Eo);const i=this.Qn(n,e);if(i==null)return r;const a=KT(n);if(a!=null){const s=e.data.field(a.fieldPath);if(rg(s))for(const o of s.arrayValue.values||[])r=r.add(new bc(n.indexId,e.key,this.Ln(o),i))}else r=r.add(new bc(n.indexId,e.key,S0,i));return r}Jn(e,n,r,i,a){W(UM,"Updating index entries for document '%s'",n.key);const s=[];return function(l,u,d,h,f){const m=l.getIterator(),y=u.getIterator();let v=Hu(m),x=Hu(y);for(;v||x;){let b=!1,w=!1;if(v&&x){const _=d(v,x);_<0?w=!0:_>0&&(b=!0)}else v!=null?w=!0:b=!0;b?(h(x),x=Hu(y)):w?(f(v),v=Hu(m)):(v=Hu(m),x=Hu(y))}}(i,a,Eo,o=>{s.push(this.Hn(e,n,r,o))},o=>{s.push(this.Yn(e,n,r,o))}),V.waitFor(s)}Gn(e){let n=1;return Wu(e).ee({index:AF,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,o)=>Eo(s,o)).filter((s,o,l)=>!o||Eo(s,l[o-1])!==0);const i=[];i.push(e);for(const s of r){const o=Eo(s,e),l=Eo(s,n);if(o===0)i[0]=e.An();else if(o>0&&l<0)i.push(s),i.push(s.An());else if(l>0)break}i.push(n);const a=[];for(let s=0;s<i.length;s+=2){if(this.Zn(i[s],i[s+1]))return[];const o=i[s].Vn(this.uid,S0,ee.empty()),l=i[s+1].Vn(this.uid,S0,ee.empty());a.push(IDBKeyRange.bound(o,l))}return a}Zn(e,n){return Eo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(FM)}getMinOffset(e,n){return V.mapArray(this.Mn(n),r=>this.xn(e,r).next(i=>i||re(44426))).next(FM)}}function BM(t){return Sn(t,eg)}function Ku(t){return Sn(t,fp)}function cm(t){return Sn(t,OI)}function Wu(t){return Sn(t,hp)}function FM(t){le(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;CI(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new bi(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},k8=41943040;class sr{static withCacheSize(e){return new sr(e,sr.DEFAULT_COLLECTION_PERCENTILE,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(t,e,n){const r=t.store(ia),i=t.store(gh),a=[],s=IDBKeyRange.only(n.batchId);let o=0;const l=r.ee({range:s},(d,h,f)=>(o++,f.delete()));a.push(l.next(()=>{le(o===1,47070,{batchId:n.batchId})}));const u=[];for(const d of n.mutations){const h=EF(e,d.key.path,n.batchId);a.push(i.delete(h)),u.push(d.key)}return V.waitFor(a).next(()=>u)}function zx(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw re(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sr.DEFAULT_COLLECTION_PERCENTILE=10,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sr.DEFAULT=new sr(k8,sr.DEFAULT_COLLECTION_PERCENTILE,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sr.DISABLED=new sr(-1,0,0);class Kw{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){le(e.uid!=="",64387);const a=e.isAuthenticated()?e.uid:"";return new Kw(a,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return So(e).ee({index:Ec,range:r},(i,a,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const a=cd(e),s=So(e);return s.add({}).next(o=>{le(typeof o=="number",49019);const l=new $I(o,n,r,i),u=function(m,y,v){const x=v.baseMutations.map(w=>sg(m.yt,w)),b=v.mutations.map(w=>sg(m.yt,w));return{userId:y,batchId:v.batchId,localWriteTimeMs:v.localWriteTime.toMillis(),baseMutations:x,mutations:b}}(this.serializer,this.userId,l),d=[];let h=new Qe((f,m)=>ye(f.canonicalString(),m.canonicalString()));for(const f of i){const m=EF(this.userId,f.key.path,o);h=h.add(f.key.path.popLast()),d.push(s.put(u)),d.push(a.put(m,hue))}return h.forEach(f=>{d.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Xn[o]=l.keys()}),V.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return So(e).get(n).next(r=>r?(le(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),vc(this.serializer,r)):null)}er(e,n){return this.Xn[n]?V.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return So(e).ee({index:Ec,range:i},(s,o,l)=>{o.userId===this.userId&&(le(o.batchId>=r,47524,{tr:r}),a=vc(this.serializer,o)),l.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=ol;return So(e).ee({index:Ec,range:n,reverse:!0},(i,a,s)=>{r=a.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,ol],[this.userId,Number.POSITIVE_INFINITY]);return So(e).J(Ec,n).next(r=>r.map(i=>vc(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=_v(this.userId,n.path),i=IDBKeyRange.lowerBound(r),a=[];return cd(e).ee({range:i},(s,o,l)=>{const[u,d,h]=s,f=ja(d);if(u===this.userId&&n.path.isEqual(f))return So(e).get(h).next(m=>{if(!m)throw re(61480,{nr:s,batchId:h});le(m.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:m.userId,batchId:h}),a.push(vc(this.serializer,m))});l.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(ye);const i=[];return n.forEach(a=>{const s=_v(this.userId,a.path),o=IDBKeyRange.lowerBound(s),l=cd(e).ee({range:o},(u,d,h)=>{const[f,m,y]=u,v=ja(m);f===this.userId&&a.path.isEqual(v)?r=r.add(y):h.done()});i.push(l)}),V.waitFor(i).next(()=>this.rr(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,a=_v(this.userId,r),s=IDBKeyRange.lowerBound(a);let o=new Qe(ye);return cd(e).ee({range:s},(l,u,d)=>{const[h,f,m]=l,y=ja(f);h===this.userId&&r.isPrefixOf(y)?y.length===i&&(o=o.add(m)):d.done()}).next(()=>this.rr(e,o))}rr(e,n){const r=[],i=[];return n.forEach(a=>{i.push(So(e).get(a).next(s=>{if(s===null)throw re(35274,{batchId:a});le(s.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:s.userId,batchId:a}),r.push(vc(this.serializer,s))}))}),V.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return O8(e.le,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.ir(n.batchId)}),V.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return V.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return cd(e).ee({range:r},(a,s,o)=>{if(a[0]===this.userId){const l=ja(a[1]);i.push(l)}else o.done()}).next(()=>{le(i.length===0,56720,{sr:i.map(a=>a.canonicalString())})})})}containsKey(e,n){return R8(e,this.userId,n)}_r(e){return D8(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:ol,lastStreamToken:""})}}function R8(t,e,n){const r=_v(e,n.path),i=r[1],a=IDBKeyRange.lowerBound(r);let s=!1;return cd(t).ee({range:a,X:!0},(o,l,u)=>{const[d,h,f]=o;d===e&&h===i&&(s=!0),u.done()}).next(()=>s)}function So(t){return Sn(t,ia)}function cd(t){return Sn(t,gh)}function D8(t){return Sn(t,Zp)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new lu(0)}static cr(){return new lu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ode{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next(n=>{const r=new lu(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.lr(e).next(n=>ue.fromTimestamp(new $e(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.lr(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.lr(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i)))}addTargetData(e,n){return this.Pr(e,n).next(()=>this.lr(e).next(r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Yu(e).delete(n.targetId)).next(()=>this.lr(e)).next(r=>(le(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r)))}removeTargets(e,n,r){let i=0;const a=[];return Yu(e).ee((s,o)=>{const l=Mm(o);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,a.push(this.removeTargetData(e,l)))}).next(()=>V.waitFor(a)).next(()=>i)}forEachTarget(e,n){return Yu(e).ee((r,i)=>{const a=Mm(i);n(a)})}lr(e){return qM(e).get(Ox).next(n=>(le(n!==null,2888),n))}hr(e,n){return qM(e).put(Ox,n)}Pr(e,n){return Yu(e).put(j8(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next(n=>n.targetCount)}getTargetData(e,n){const r=ru(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Yu(e).ee({range:i,index:TF},(s,o,l)=>{const u=Mm(o);ly(n,u.target)&&(a=u,l.done())}).next(()=>a)}addMatchingKeys(e,n,r){const i=[],a=Lo(e);return n.forEach(s=>{const o=mr(s.path);i.push(a.put({targetId:r,path:o})),i.push(this.referenceDelegate.addReference(e,r,s))}),V.waitFor(i)}removeMatchingKeys(e,n,r){const i=Lo(e);return V.forEach(n,a=>{const s=mr(a.path);return V.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,n){const r=Lo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Lo(e);let a=be();return i.ee({range:r,X:!0},(s,o,l)=>{const u=ja(s[1]),d=new ee(u);a=a.add(d)}).next(()=>a)}containsKey(e,n){const r=mr(n.path),i=IDBKeyRange.bound([r],[fF(r)],!1,!0);let a=0;return Lo(e).ee({index:kI,X:!0,range:i},([s,o],l,u)=>{s!==0&&(a++,u.done())}).next(()=>a>0)}At(e,n){return Yu(e).get(n).next(r=>r?Mm(r):null)}}function Yu(t){return Sn(t,yh)}function qM(t){return Sn(t,Lc)}function Lo(t){return Sn(t,vh)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM="LruGarbageCollector",Rde=1048576;function GM([t,e],[n,r]){const i=ye(t,n);return i===0?ye(e,r):i}class Dde{constructor(e){this.Ir=e,this.buffer=new Qe(GM),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();GM(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class M8{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){W(HM,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vl(n)?W(HM,"Ignoring IndexedDB error during garbage collection: ",n):await Ll(n)}await this.Vr(3e5)})}}class Mde{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return V.resolve(Fr.ce);const r=new Dde(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve($M)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$M):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,s,o,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,o=Date.now(),this.removeTargets(e,r,n))).next(h=>(a=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),ad()<=Te.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:h})))}}function L8(t,e){return new Mde(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lde{constructor(e,n){this.db=e,this.garbageCollector=L8(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,(r,i)=>n(i))}addReference(e,n,r){return T0(e,r)}removeReference(e,n,r){return T0(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return T0(e,n)}br(e,n){return function(i,a){let s=!1;return D8(i).te(o=>R8(i,o,a).next(l=>(l&&(s=!0),V.resolve(!l)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Sr(e,(s,o)=>{if(o<=n){const l=this.br(e,s).next(u=>{if(!u)return a++,r.getEntry(e,s).next(()=>(r.removeEntry(s,ue.min()),Lo(e).delete(function(h){return[0,mr(h.path)]}(s))))});i.push(l)}}).next(()=>V.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return T0(e,n)}Sr(e,n){const r=Lo(e);let i,a=Fr.ce;return r.ee({index:kI},([s,o],{path:l,sequenceNumber:u})=>{s===0?(a!==Fr.ce&&n(new ee(ja(i)),a),a=u,i=l):a=Fr.ce}).next(()=>{a!==Fr.ce&&n(new ee(ja(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function T0(t,e){return Lo(t).put(function(r,i){return{targetId:0,path:mr(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(){this.changes=new ro(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vde{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return tc(e).put(r)}removeEntry(e,n,r){return tc(e).delete(function(a,s){const o=a.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Lx(s),o[o.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Dr(e,r)))}getEntry(e,n){let r=vt.newInvalidDocument(n);return tc(e).ee({index:Ev,range:IDBKeyRange.only(um(n))},(i,a)=>{r=this.Cr(n,a)}).next(()=>r)}vr(e,n){let r={size:0,document:vt.newInvalidDocument(n)};return tc(e).ee({index:Ev,range:IDBKeyRange.only(um(n))},(i,a)=>{r={document:this.Cr(n,a),size:zx(a)}}).next(()=>r)}getEntries(e,n){let r=qr();return this.Fr(e,n,(i,a)=>{const s=this.Cr(i,a);r=r.insert(i,s)}).next(()=>r)}Mr(e,n){let r=qr(),i=new dt(ee.comparator);return this.Fr(e,n,(a,s)=>{const o=this.Cr(a,s);r=r.insert(a,o),i=i.insert(a,zx(s))}).next(()=>({documents:r,Or:i}))}Fr(e,n,r){if(n.isEmpty())return V.resolve();let i=new Qe(YM);n.forEach(l=>i=i.add(l));const a=IDBKeyRange.bound(um(i.first()),um(i.last())),s=i.getIterator();let o=s.getNext();return tc(e).ee({index:Ev,range:a},(l,u,d)=>{const h=ee.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;o&&YM(o,h)<0;)r(o,null),o=s.getNext();o&&o.isEqual(h)&&(r(o,u),o=s.hasNext()?s.getNext():null),o?d.j(um(o)):d.done()}).next(()=>{for(;o;)r(o,null),o=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,a){const s=n.path,o=[s.popLast().toArray(),s.lastSegment(),Lx(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return tc(e).J(IDBKeyRange.bound(o,l,!0)).next(u=>{a==null||a.incrementDocumentReadCount(u.length);let d=qr();for(const h of u){const f=this.Cr(ee.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);f.isFoundDocument()&&(uy(n,f)||i.has(f.key))&&(d=d.insert(f.key,f))}return d})}getAllFromCollectionGroup(e,n,r,i){let a=qr();const s=WM(n,r),o=WM(n,bi.max());return tc(e).ee({index:SF,range:IDBKeyRange.bound(s,o,!0)},(l,u,d)=>{const h=this.Cr(ee.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);a=a.insert(h.key,h),a.size===i&&d.done()}).next(()=>a)}newChangeBuffer(e){return new zde(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return KM(e).get(WT).next(n=>(le(!!n,20021),n))}Dr(e,n){return KM(e).put(WT,n)}Cr(e,n){if(n){const r=Ede(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ue.min())))return r}return vt.newInvalidDocument(e)}}function z8(t){return new Vde(t)}class zde extends V8{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new ro(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Qe((a,s)=>ye(a.canonicalString(),s.canonicalString()));return this.changes.forEach((a,s)=>{const o=this.Br.get(a);if(n.push(this.Nr.removeEntry(e,a,o.readTime)),s.isValidDocument()){const l=CM(this.Nr.serializer,s);i=i.add(a.path.popLast());const u=zx(l);r+=u-o.size,n.push(this.Nr.addEntry(e,a,l))}else if(r-=o.size,this.trackRemovals){const l=CM(this.Nr.serializer,s.convertToNoDocument(ue.min()));n.push(this.Nr.addEntry(e,a,l))}}),i.forEach(a=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,a))}),n.push(this.Nr.updateMetadata(e,r)),V.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next(r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next(({documents:r,Or:i})=>(i.forEach((a,s)=>{this.Br.set(a,{size:s,readTime:r.get(a).readTime})}),r))}}function KM(t){return Sn(t,Jp)}function tc(t){return Sn(t,kx)}function um(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function WM(t,e){const n=e.documentKey.path.toArray();return[t,Lx(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function YM(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<n.length-2&&a<r.length-2;++a)if(i=ye(n[a],r[a]),i)return i;return i=ye(n.length,r.length),i||(i=ye(n[n.length-2],r[r.length-2]),i||ye(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ude{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&gp(r.mutation,i,$r.empty(),$e.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const i=Ca();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=Rm();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Ca();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=qr();const s=pp(),o=function(){return pp()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof io)?a=a.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),gp(d.mutation,u,d.mutation.getFieldMask(),$e.now())):s.set(u.key,$r.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>o.set(u,new Ude(d,s.get(u)??null))),o))}recalculateAndSaveOverlays(e,n){const r=pp();let i=new dt((s,o)=>s-o),a=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||$r.empty();d=o.applyToLocalView(u,d),r.set(l,d);const h=(i.get(o.batchId)||be()).add(l);i=i.insert(o.batchId,h)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,d=l.value,h=n8();d.forEach(f=>{if(!a.has(f)){const m=c8(n.get(f),r.get(f));m!==null&&h.set(f,m),a=a.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return V.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):V.resolve(Ca());let o=ph,l=a;return s.next(u=>V.forEach(u,(d,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),a.get(d)?V.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,be())).next(d=>({batchId:o,changes:t8(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=Rm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=Rm();return this.indexManager.getCollectionParents(e,a).next(o=>V.forEach(o,l=>{const u=function(h,f){return new no(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{s=s.insert(h,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((l,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,vt.newInvalidDocument(d)))});let o=Rm();return s.forEach((l,u)=>{const d=a.get(l);d!==void 0&&gp(d.mutation,u,$r.empty(),$e.now()),uy(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bde{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return V.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:nn(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:WI(i.bundledQuery),readTime:nn(i.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fde{constructor(){this.overlays=new dt(ee.comparator),this.qr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ca();return V.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const i=Ca(),a=n.length+1,s=new ee(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new dt((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=a.get(u.largestBatchId);d===null&&(d=Ca(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=Ca(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=i)););return V.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new HI(n,r));let a=this.qr.get(n);a===void 0&&(a=be(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $de{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,V.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(){this.Qr=new Qe(Pn.$r),this.Ur=new Qe(Pn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Pn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Pn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ee(new Ne([])),r=new Pn(n,e),i=new Pn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),a.push(s.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ee(new Ne([])),r=new Pn(n,e),i=new Pn(n,e+1);let a=be();return this.Ur.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new Pn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ee.comparator(e.key,n.key)||ye(e.Yr,n.Yr)}static Kr(e,n){return ye(e.Yr,n.Yr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qde{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Qe(Pn.$r)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new $I(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.Zr=this.Zr.add(new Pn(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return V.resolve(s)}lookupMutationBatch(e,n){return V.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return V.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?ol:this.tr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pn(n,0),i=new Pn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],s=>{const o=this.Xr(s.Yr);a.push(o)}),V.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(ye);return n.forEach(i=>{const a=new Pn(i,0),s=new Pn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],o=>{r=r.add(o.Yr)})}),V.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ee.isDocumentKey(a)||(a=a.child(""));const s=new Pn(new ee(a),0);let o=new Qe(ye);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Yr)),!0)},s),V.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){le(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return V.forEach(n.mutations,i=>{const a=new Pn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Pn(n,0),i=this.Zr.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hde{constructor(e){this.ri=e,this.docs=function(){return new dt(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():vt.newInvalidDocument(n))}getEntries(e,n){let r=qr();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():vt.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=qr();const s=n.path,o=new ee(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||CI(vF(d),r)<=0||(i.has(d.key)||uy(n,d))&&(a=a.insert(d.key,d.mutableCopy()))}return V.resolve(a)}getAllFromCollectionGroup(e,n,r,i){re(9500)}ii(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Gde(this)}getSize(e){return V.resolve(this.size)}}class Gde extends V8{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kde{constructor(e){this.persistence=e,this.si=new ro(n=>ru(n),ly),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.oi=0,this._i=new XI,this.targetCount=0,this.ai=lu.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),V.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new lu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.Pr(n),V.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),V.waitFor(a).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),V.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),V.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n){this.ui={},this.overlays={},this.ci=new Fr(0),this.li=!1,this.li=!0,this.hi=new $de,this.referenceDelegate=e(this),this.Pi=new Kde(this),this.indexManager=new Pde,this.remoteDocumentCache=function(i){return new Hde(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new I8(n),this.Ii=new Bde(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Fde,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new qde(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new Wde(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,n){return V.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class Wde extends bF{constructor(e){super(),this.currentSequenceNumber=e}}class Ww{constructor(e){this.persistence=e,this.Ri=new XI,this.Vi=null}static mi(e){return new Ww(e)}get fi(){if(this.Vi)return this.Vi;throw re(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),V.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.fi,r=>{const i=ee.fromPath(r);return this.gi(e,i).next(a=>{a||n.removeEntry(i,ue.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return V.or([()=>V.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ux{constructor(e,n){this.persistence=e,this.pi=new ro(r=>mr(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=L8(this,n)}static mi(e,n){return new Ux(e,n)}Ei(){}di(e){return V.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return V.forEach(this.pi,(r,i)=>this.br(e,r,i).next(a=>a?V.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(o=>{o||(r++,a.removeEntry(s,ue.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),V.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),V.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),V.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),V.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Tv(e.data.value)),n}br(e,n,r){return V.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return V.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yde{constructor(e){this.serializer=e}k(e,n,r,i){const a=new Lw("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore(oy)}(e),function(l){l.createObjectStore(Zp,{keyPath:due}),l.createObjectStore(ia,{keyPath:sM,autoIncrement:!0}).createIndex(Ec,oM,{unique:!0}),l.createObjectStore(gh)}(e),QM(e),function(l){l.createObjectStore(uc)}(e));let s=V.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore(vh),l.deleteObjectStore(yh),l.deleteObjectStore(Lc)}(e),QM(e)),s=s.next(()=>function(l){const u=l.store(Lc),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ue.min().toTimestamp(),targetCount:0};return u.put(Ox,d)}(a))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(l,u){return u.store(ia).J().next(h=>{l.deleteObjectStore(ia),l.createObjectStore(ia,{keyPath:sM,autoIncrement:!0}).createIndex(Ec,oM,{unique:!0});const f=u.store(ia),m=h.map(y=>f.put(y));return V.waitFor(m)})}(e,a))),s=s.next(()=>{(function(l){l.createObjectStore(xh,{keyPath:bue})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.yi(a))),r<6&&i>=6&&(s=s.next(()=>(function(l){l.createObjectStore(Jp)}(e),this.wi(a)))),r<7&&i>=7&&(s=s.next(()=>this.Si(a))),r<8&&i>=8&&(s=s.next(()=>this.bi(e,a))),r<9&&i>=9&&(s=s.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.Di(a))),r<11&&i>=11&&(s=s.next(()=>{(function(l){l.createObjectStore(Vw,{keyPath:wue})})(e),function(l){l.createObjectStore(zw,{keyPath:_ue})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(l){const u=l.createObjectStore(Uw,{keyPath:jue});u.createIndex(QT,Cue,{unique:!1}),u.createIndex(IF,Pue,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(l){const u=l.createObjectStore(kx,{keyPath:fue});u.createIndex(Ev,mue),u.createIndex(SF,pue)}(e)).next(()=>this.Ci(e,a)).next(()=>e.deleteObjectStore(uc))),r<14&&i>=14&&(s=s.next(()=>this.Fi(e,a))),r<15&&i>=15&&(s=s.next(()=>function(l){l.createObjectStore(OI,{keyPath:Eue,autoIncrement:!0}).createIndex(YT,Sue,{unique:!1}),l.createObjectStore(hp,{keyPath:Tue}).createIndex(AF,Aue,{unique:!1}),l.createObjectStore(fp,{keyPath:Nue}).createIndex(NF,Iue,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{n.objectStore(hp).clear()}).next(()=>{n.objectStore(fp).clear()})),r<17&&i>=17&&(s=s.next(()=>{(function(l){l.createObjectStore(RI,{keyPath:kue})})(e)})),r<18&&i>=18&&GU()&&(s=s.next(()=>{n.objectStore(hp).clear()}).next(()=>{n.objectStore(fp).clear()})),s}wi(e){let n=0;return e.store(uc).ee((r,i)=>{n+=zx(i)}).next(()=>{const r={byteSize:n};return e.store(Jp).put(WT,r)})}yi(e){const n=e.store(Zp),r=e.store(ia);return n.J().next(i=>V.forEach(i,a=>{const s=IDBKeyRange.bound([a.userId,ol],[a.userId,a.lastAcknowledgedBatchId]);return r.J(Ec,s).next(o=>V.forEach(o,l=>{le(l.userId===a.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const u=vc(this.serializer,l);return O8(e,a.userId,u).next(()=>{})}))}))}Si(e){const n=e.store(vh),r=e.store(uc);return e.store(Lc).get(Ox).next(i=>{const a=[];return r.ee((s,o)=>{const l=new Ne(s),u=function(h){return[0,mr(h)]}(l);a.push(n.get(u).next(d=>d?V.resolve():(h=>n.put({targetId:0,path:mr(h),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>V.waitFor(a))})}bi(e,n){e.createObjectStore(eg,{keyPath:xue});const r=n.store(eg),i=new QI,a=s=>{if(i.add(s)){const o=s.lastSegment(),l=s.popLast();return r.put({collectionId:o,parent:mr(l)})}};return n.store(uc).ee({X:!0},(s,o)=>{const l=new Ne(s);return a(l.popLast())}).next(()=>n.store(gh).ee({X:!0},([s,o,l],u)=>{const d=ja(o);return a(d.popLast())}))}Di(e){const n=e.store(yh);return n.ee((r,i)=>{const a=Mm(i),s=j8(this.serializer,a);return n.put(s)})}Ci(e,n){const r=n.store(uc),i=[];return r.ee((a,s)=>{const o=n.store(kx),l=function(h){return h.document?new ee(Ne.fromString(h.document.name).popFirst(5)):h.noDocument?ee.fromSegments(h.noDocument.path):h.unknownDocument?ee.fromSegments(h.unknownDocument.path):re(36783)}(s).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(o.put(u))}).next(()=>V.waitFor(i))}Fi(e,n){const r=n.store(ia),i=z8(this.serializer),a=new ZI(Ww.mi,this.serializer.yt);return r.J().next(s=>{const o=new Map;return s.forEach(l=>{let u=o.get(l.userId)??be();vc(this.serializer,l).keys().forEach(d=>u=u.add(d)),o.set(l.userId,u)}),V.forEach(o,(l,u)=>{const d=new Rn(u),h=Gw.wt(this.serializer,d),f=a.getIndexManager(d),m=Kw.wt(d,this.serializer,f,a.referenceDelegate);return new U8(i,m,h,f).recalculateAndSaveOverlaysForDocumentKeys(new XT(n,Fr.ce),l).next()})})}}function QM(t){t.createObjectStore(vh,{keyPath:yue}).createIndex(kI,vue,{unique:!0}),t.createObjectStore(yh,{keyPath:"targetId"}).createIndex(TF,gue,{unique:!0}),t.createObjectStore(Lc)}const To="IndexedDbPersistence",zE=18e5,UE=5e3,BE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",B8="main";class JI{constructor(e,n,r,i,a,s,o,l,u,d,h=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=a,this.window=s,this.document=o,this.xi=u,this.Oi=d,this.Ni=h,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=f=>Promise.resolve(),!JI.v())throw new K(F.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Lde(this,i),this.$i=n+B8,this.serializer=new I8(l),this.Ui=new Oa(this.$i,this.Ni,new Yde(this.serializer)),this.hi=new Tde,this.Pi=new Ode(this.referenceDelegate,this.serializer),this.remoteDocumentCache=z8(this.serializer),this.Ii=new Sde,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,d===!1&&Jt(To,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new K(F.FAILED_PRECONDITION,BE);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Pi.getHighestSequenceNumber(e))}).then(e=>{this.ci=new Fr(e,this.xi)}).then(()=>{this.li=!0}).catch(e=>(this.Ui&&this.Ui.close(),Promise.reject(e)))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget(async()=>{this.started&&await this.Wi()}))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>A0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Hi(e).next(n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)))})}).next(()=>this.Yi(e)).next(n=>this.isPrimary&&!n?this.Zi(e).next(()=>!1):!!n&&this.Xi(e).next(()=>!0))).catch(e=>{if(Vl(e))return W(To,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return W(To,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable(()=>this.Qi(e)),this.isPrimary=e})}Hi(e){return dm(e).get(qu).next(n=>V.resolve(this.es(n)))}ts(e){return A0(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,zE)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Sn(n,xh);return r.J().next(i=>{const a=this.ss(i,zE),s=i.filter(o=>a.indexOf(o)===-1);return V.forEach(s,o=>r.delete(o.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Wi().then(()=>this.ns()).then(()=>this.ji()))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?V.resolve(!0):dm(e).get(qu).next(n=>{if(n!==null&&this.rs(n.leaseTimestampMs,UE)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new K(F.FAILED_PRECONDITION,BE);return!1}}return!(!this.networkEnabled||!this.inForeground)||A0(e).J().next(r=>this.ss(r,UE).find(i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(a||s&&o)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&W(To,`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[oy,xh],e=>{const n=new XT(e,Fr.ce);return this.Zi(n).next(()=>this.ts(n))}),this.Ui.close(),this.Ps()}ss(e,n){return e.filter(r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId))}Ts(){return this.runTransaction("getActiveClients","readonly",e=>A0(e).J().next(n=>this.ss(n,zE).map(r=>r.clientId)))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return Kw.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new kde(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Gw.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){W(To,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",a=function(l){return l===18?Due:l===17?kF:l===16?Rue:l===15?DI:l===14?PF:l===13?CF:l===12?Oue:l===11?jF:void re(60245)}(this.Ni);let s;return this.Ui.runTransaction(e,i,a,o=>(s=new XT(o,this.ci?this.ci.next():Fr.ce),n==="readwrite-primary"?this.Hi(s).next(l=>!!l||this.Yi(s)).next(l=>{if(!l)throw Jt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)),new K(F.FAILED_PRECONDITION,xF);return r(s)}).next(l=>this.Xi(s).next(()=>l)):this.Is(s).next(()=>r(s)))).then(o=>(s.raiseOnCommittedEvent(),o))}Is(e){return dm(e).get(qu).next(n=>{if(n!==null&&this.rs(n.leaseTimestampMs,UE)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new K(F.FAILED_PRECONDITION,BE)})}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return dm(e).put(qu,n)}static v(){return Oa.v()}Zi(e){const n=dm(e);return n.get(qu).next(r=>this.es(r)?(W(To,"Releasing primary lease."),n.delete(qu)):V.resolve())}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Jt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi()))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;HU()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return W(To,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Jt(To,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Jt("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function dm(t){return Sn(t,oy)}function A0(t){return Sn(t,xh)}function ej(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=be(),i=be();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new tj(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qde{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return HU()?8:wF(Lt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ws(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new Qde;return this.Ss(e,n,s).next(o=>{if(a.result=o,this.Vs)return this.bs(e,n,s,o.size)})}).next(()=>a.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(ad()<=Te.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",sd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),V.resolve()):(ad()<=Te.DEBUG&&W("QueryEngine","Query:",sd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ad()<=Te.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",sd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(n))):V.resolve())}ys(e,n){if(bM(n))return V.resolve(null);let r=Pr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Mx(n,null,"F"),r=Pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=be(...a);return this.ps.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,o);return this.Cs(n,u,s,l.readTime)?this.ys(e,Mx(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return bM(n)||i.isEqual(ue.min())?V.resolve(null):this.ps.getDocuments(e,r).next(a=>{const s=this.Ds(n,a);return this.Cs(n,s,r,i)?V.resolve(null):(ad()<=Te.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sd(n)),this.vs(e,s,n,yF(i,ph)).next(o=>o))})}Ds(e,n){let r=new Qe(JF(e));return n.forEach((i,a)=>{uy(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return ad()<=Te.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",sd(n)),this.ps.getDocumentsMatchingQuery(e,n,bi.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="LocalStore",Xde=3e8;class Zde{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new dt(ye),this.xs=new ro(a=>ru(a),ly),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U8(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function $8(t,e,n,r){return new Zde(t,e,n,r)}async function q8(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=be();for(const u of i){s.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of a){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:o}))})})}function Jde(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,u,d){const h=u.batch,f=h.keys();let m=V.resolve();return f.forEach(y=>{m=m.next(()=>d.getEntry(l,y)).next(v=>{const x=u.docVersions.get(y);le(x!==null,48541),v.version.compareTo(x)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=be();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function H8(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function ehe(t,e){const n=ne(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;o.push(n.Pi.removeMatchingKeys(a,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(a,d.addedDocuments,h)));let m=f.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Ht.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(v,x,b){return v.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=Xde?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(f,m,d)&&o.push(n.Pi.updateTargetData(a,m))});let l=qr(),u=be();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,d))}),o.push(G8(a,s,e.documentUpdates).next(d=>{l=d.ks,u=d.qs})),!r.isEqual(ue.min())){const d=n.Pi.getLastRemoteSnapshotVersion(a).next(h=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(d)}return V.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(n.Ms=i,a))}function G8(t,e,n){let r=be(),i=be();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=qr();return n.forEach((o,l)=>{const u=a.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):W(nj,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{ks:s,qs:i}})}function the(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ol),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ah(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(a=>a?(i=a,V.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new gs(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Nh(t,e,n){const r=ne(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Vl(s))throw s;W(nj,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Bx(t,e,n){const r=ne(t);let i=ue.min(),a=be();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,d){const h=ne(l),f=h.xs.get(d);return f!==void 0?V.resolve(h.Ms.get(f)):h.Pi.getTargetData(u,d)}(r,s,Pr(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:ue.min(),n?a:be())).next(o=>(Y8(r,ZF(e),o),{documents:o,Qs:a})))}function K8(t,e){const n=ne(t),r=ne(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",a=>r.At(a,e).next(s=>s?s.target:null))}function W8(t,e){const n=ne(t),r=n.Os.get(e)||ue.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Ns.getAllFromCollectionGroup(i,e,yF(r,ph),Number.MAX_SAFE_INTEGER)).then(i=>(Y8(n,e,i),i))}function Y8(t,e,n){let r=t.Os.get(e)||ue.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}async function nhe(t,e,n,r){const i=ne(t);let a=be(),s=qr();for(const u of n){const d=e.$s(u.metadata.name);u.document&&(a=a.add(d));const h=e.Us(u);h.setReadTime(e.Ks(u.metadata.readTime)),s=s.insert(d,h)}const o=i.Ns.newChangeBuffer({trackRemovals:!0}),l=await Ah(i,function(d){return Pr(uf(Ne.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>G8(u,o,s).next(d=>(o.apply(u),d)).next(d=>i.Pi.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Pi.addMatchingKeys(u,a,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,d.ks,d.qs)).next(()=>d.ks)))}async function rhe(t,e,n=be()){const r=await Ah(t,Pr(WI(e.bundledQuery))),i=ne(t);return i.persistence.runTransaction("Save named query","readwrite",a=>{const s=nn(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ii.saveNamedQuery(a,e);const o=r.withResumeToken(Ht.EMPTY_BYTE_STRING,s);return i.Ms=i.Ms.insert(o.targetId,o),i.Pi.updateTargetData(a,o).next(()=>i.Pi.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Pi.addMatchingKeys(a,n,r.targetId)).next(()=>i.Ii.saveNamedQuery(a,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q8="firestore_clients";function XM(t,e){return`${Q8}_${t}_${e}`}const X8="firestore_mutations";function ZM(t,e,n){let r=`${X8}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const Z8="firestore_targets";function FE(t,e){return`${Z8}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="SharedClientState";class Fx{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let a,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(a=new K(i.error.code,i.error.message))),s?new Fx(e,n,i.state,a):(Jt(va,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yp{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,a=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return a&&r.error&&(a=typeof r.error.message=="string"&&typeof r.error.code=="string",a&&(i=new K(r.error.code,r.error.message))),a?new yp(e,r.state,i):(Jt(va,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $x{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,a=UI();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=_F(r.activeTargetIds[s]),a=a.add(r.activeTargetIds[s]);return i?new $x(e,a):(Jt(va,`Failed to parse client data for instance '${e}': ${n}`),null)}}class rj{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new rj(n.clientId,n.onlineState):(Jt(va,`Failed to parse online state: ${e}`),null)}}class hA{constructor(){this.activeTargetIds=UI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $E{constructor(e,n,r,i,a){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new dt(ye),this.started=!1,this.Xs=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.eo=XM(this.persistenceKey,this.Js),this.no=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new hA),this.ro=new RegExp(`^${Q8}_${s}_([^_]*)$`),this.io=new RegExp(`^${X8}_${s}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${Z8}_${s}_(\\d+)$`),this.oo=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this._o=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(XM(this.persistenceKey,r));if(i){const a=$x.Ws(r,i);a&&(this.Zs=this.Zs.insert(a.clientId,a))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(FE(this.persistenceKey,e));if(i){const a=yp.Ws(e,i);a&&(r=a.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(FE(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Po(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return W(va,"READ",e,n),n}setItem(e,n){W(va,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){W(va,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(W(va,"EVENT",n.key,n.newValue),n.key===this.eo)return void Jt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=function(a){let s=Fr.ce;if(a!=null)try{const o=JSON.parse(a);le(typeof o=="number",30636,{So:a}),s=o}catch(o){Jt(va,"Failed to read sequence number from WebStorage",o)}return s}(n.newValue);r!==Fr.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Do(i)))}}}else this.Xs.push(n)})}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new Fx(this.currentUser,e,n,r),a=ZM(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Gs())}Po(e){const n=ZM(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=FE(this.persistenceKey,e),a=new yp(e,n,r);this.setItem(i,a.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return $x.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),a=r[2]!==void 0?r[2]:null;return Fx.Ws(new Rn(a),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return yp.Ws(i,n)}uo(e){return rj.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);W(va,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),a=this.lo(r),s=[],o=[];return a.forEach(l=>{i.has(l)||s.push(l)}),i.forEach(l=>{a.has(l)||o.push(l)}),this.syncEngine.Fo(s,o).then(()=>{this.Zs=r})}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=UI();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class J8{constructor(){this.Mo=new hA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new hA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ihe{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM="ConnectivityMonitor";class e4{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){W(JM,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){W(JM,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N0=null;function fA(){return N0===null?N0=function(){return 268435456+Math.round(2147483648*Math.random())}():N0++,"0x"+N0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="RestConnection",ahe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class she{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===ZT?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const s=fA(),o=this.zo(e,n.toUriEncodedString());W(qE,`Sending RPC '${e}' ${s}:`,o,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:u}=new URL(o),d=Dl(u);return this.Jo(e,o,l,r,d).then(h=>(W(qE,`Received RPC '${e}' ${s}: `,h),h),h=>{throw $a(qE,`RPC '${e}' ${s} failed with error: `,h,"url: ",o,"request:",r),h})}Ho(e,n,r,i,a,s){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cf}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}zo(e,n){const r=ahe[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ohe{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="WebChannelConnection";class lhe extends she{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const s=fA();return new Promise((o,l)=>{const u=new sF;u.setWithCredentials(!0),u.listenOnce(oF.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case bv.NO_ERROR:const h=u.getResponseJson();W(rr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case bv.TIMEOUT:W(rr,`RPC '${e}' ${s} timed out`),l(new K(F.DEADLINE_EXCEEDED,"Request time out"));break;case bv.HTTP_ERROR:const f=u.getStatus();if(W(rr,`RPC '${e}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const v=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(w)>=0?w:F.UNKNOWN}(y.status);l(new K(v,y.message))}else l(new K(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new K(F.UNAVAILABLE,"Connection failed."));break;default:re(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{W(rr,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);W(rr,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}T_(e,n,r){const i=fA(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=uF(),o=cF(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=a.join("");W(rr,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=s.createWebChannel(d,l);this.I_(h);let f=!1,m=!1;const y=new ohe({Yo:x=>{m?W(rr,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(f||(W(rr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),W(rr,`RPC '${e}' stream ${i} sending:`,x),h.send(x))},Zo:()=>h.close()}),v=(x,b,w)=>{x.listen(b,_=>{try{w(_)}catch(S){setTimeout(()=>{throw S},0)}})};return v(h,Om.EventType.OPEN,()=>{m||(W(rr,`RPC '${e}' stream ${i} transport opened.`),y.o_())}),v(h,Om.EventType.CLOSE,()=>{m||(m=!0,W(rr,`RPC '${e}' stream ${i} transport closed`),y.a_(),this.E_(h))}),v(h,Om.EventType.ERROR,x=>{m||(m=!0,$a(rr,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),y.a_(new K(F.UNAVAILABLE,"The operation could not be completed")))}),v(h,Om.EventType.MESSAGE,x=>{var b;if(!m){const w=x.data[0];le(!!w,16349);const _=w,S=(_==null?void 0:_.error)||((b=_[0])==null?void 0:b.error);if(S){W(rr,`RPC '${e}' stream ${i} received error:`,S);const A=S.status;let C=function(I){const P=an[I];if(P!==void 0)return h8(P)}(A),N=S.message;C===void 0&&(C=F.INTERNAL,N="Unknown error status: "+A+" with message "+S.message),m=!0,y.a_(new K(C,N)),h.close()}else W(rr,`RPC '${e}' stream ${i} received:`,w),y.u_(w)}}),v(o,lF.STAT_EVENT,x=>{x.stat===HT.PROXY?W(rr,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===HT.NOPROXY&&W(rr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(){return typeof window<"u"?window:null}function Cv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t){return new fde(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4="PersistentStream";class t${constructor(e,n,r,i,a,s,o,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ij(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Jt(n.toString()),Jt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new K(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return W(t4,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(W(t4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class che extends t${constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=gde(this.serializer,e),r=function(a){if(!("targetChange"in a))return ue.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?ue.min():s.readTime?nn(s.readTime):ue.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=oA(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=Rx(l)?{documents:_8(a,l)}:{query:E8(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=g8(a,s.resumeToken);const u=aA(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(ue.min())>0){o.readTime=Th(a,s.snapshotVersion.toTimestamp());const u=aA(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=vde(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=oA(this.serializer),n.removeTarget=e,this.q_(n)}}class uhe extends t${constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=yde(e.writeResults,e.commitTime),r=nn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=oA(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>sg(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dhe{}class hhe extends dhe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new K(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Go(e,sA(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new K(F.UNKNOWN,a.toString())})}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(e,sA(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(F.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class fhe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Jt(n),this.aa=!1):W("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu="RemoteStore";class mhe{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{Ul(this)&&(W(cu,"Restarting streams for network reachability change."),await async function(l){const u=ne(l);u.Ea.add(4),await ff(u),u.Ra.set("Unknown"),u.Ea.delete(4),await py(u)}(this))})}),this.Ra=new fhe(r,i)}}async function py(t){if(Ul(t))for(const e of t.da)await e(!0)}async function ff(t){for(const e of t.da)await e(!1)}function Yw(t,e){const n=ne(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),oj(n)?sj(n):pf(n).O_()&&aj(n,e))}function Ih(t,e){const n=ne(t),r=pf(n);n.Ia.delete(e),r.O_()&&n$(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ul(n)&&n.Ra.set("Unknown"))}function aj(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pf(t).Y_(e)}function n$(t,e){t.Va.Ue(e),pf(t).Z_(e)}function sj(t){t.Va=new cde({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),pf(t).start(),t.Ra.ua()}function oj(t){return Ul(t)&&!pf(t).x_()&&t.Ia.size>0}function Ul(t){return ne(t).Ea.size===0}function r$(t){t.Va=void 0}async function phe(t){t.Ra.set("Online")}async function ghe(t){t.Ia.forEach((e,n)=>{aj(t,e)})}async function yhe(t,e){r$(t),oj(t)?(t.Ra.ha(e),sj(t)):t.Ra.set("Unknown")}async function vhe(t,e,n){if(t.Ra.set("Online"),e instanceof p8&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(r){W(cu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qx(t,r)}else if(e instanceof Iv?t.Va.Ze(e):e instanceof m8?t.Va.st(e):t.Va.tt(e),!n.isEqual(ue.min()))try{const r=await H8(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.Va.Tt(s);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=a.Ia.get(u);d&&a.Ia.set(u,d.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,u)=>{const d=a.Ia.get(l);if(!d)return;a.Ia.set(l,d.withResumeToken(Ht.EMPTY_BYTE_STRING,d.snapshotVersion)),n$(a,l);const h=new gs(d.target,l,u,d.sequenceNumber);aj(a,h)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){W(cu,"Failed to raise snapshot:",r),await qx(t,r)}}async function qx(t,e,n){if(!Vl(e))throw e;t.Ea.add(1),await ff(t),t.Ra.set("Offline"),n||(n=()=>H8(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W(cu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await py(t)})}function i$(t,e){return e().catch(n=>qx(t,n,e))}async function mf(t){const e=ne(t),n=Sl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ol;for(;xhe(e);)try{const i=await the(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,bhe(e,i)}catch(i){await qx(e,i)}a$(e)&&s$(e)}function xhe(t){return Ul(t)&&t.Ta.length<10}function bhe(t,e){t.Ta.push(e);const n=Sl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function a$(t){return Ul(t)&&!Sl(t).x_()&&t.Ta.length>0}function s$(t){Sl(t).start()}async function whe(t){Sl(t).ra()}async function _he(t){const e=Sl(t);for(const n of t.Ta)e.ea(n.mutations)}async function Ehe(t,e,n){const r=t.Ta.shift(),i=qI.from(r,e,n);await i$(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await mf(t)}async function She(t,e){e&&Sl(t).X_&&await async function(r,i){if(function(s){return d8(s)&&s!==F.ABORTED}(i.code)){const a=r.Ta.shift();Sl(r).B_(),await i$(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await mf(r)}}(t,e),a$(t)&&s$(t)}async function n4(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),W(cu,"RemoteStore received new credentials");const r=Ul(n);n.Ea.add(3),await ff(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await py(n)}async function mA(t,e){const n=ne(t);e?(n.Ea.delete(2),await py(n)):e||(n.Ea.add(2),await ff(n),n.Ra.set("Unknown"))}function pf(t){return t.ma||(t.ma=function(n,r,i){const a=ne(n);return a.sa(),new che(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:phe.bind(null,t),t_:ghe.bind(null,t),r_:yhe.bind(null,t),H_:vhe.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),oj(t)?sj(t):t.Ra.set("Unknown")):(await t.ma.stop(),r$(t))})),t.ma}function Sl(t){return t.fa||(t.fa=function(n,r,i){const a=ne(n);return a.sa(),new uhe(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:whe.bind(null,t),r_:She.bind(null,t),ta:_he.bind(null,t),na:Ehe.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await mf(t)):(await t.fa.stop(),t.Ta.length>0&&(W(cu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new lj(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gf(t,e){if(Jt("AsyncQueue",`${e}: ${t}`),Vl(t))return new K(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{static emptySet(e){return new Hd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=Rm(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Hd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this.ga=new dt(ee.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):re(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class jh{constructor(e,n,r,i,a,s,o,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new jh(e,n,Hd.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class The{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Ahe{constructor(){this.queries=i4(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ne(n),a=i.queries;i.queries=i4(),a.forEach((s,o)=>{for(const l of o.Sa)l.onError(r)})})(this,new K(F.ABORTED,"Firestore shutting down"))}}function i4(){return new ro(t=>XF(t),cy)}async function cj(t,e){const n=ne(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new The,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=gf(s,`Initialization of query '${sd(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&dj(n)}async function uj(t,e){const n=ne(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Nhe(t,e){const n=ne(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.Sa)o.Fa(i)&&(r=!0);s.wa=i}}r&&dj(n)}function Ihe(t,e,n){const r=ne(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function dj(t){t.Ca.forEach(e=>{e.next()})}var pA,a4;(a4=pA||(pA={})).Ma="default",a4.Cache="cache";class hj{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new jh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=jh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==pA.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jhe{constructor(e,n){this.Qa=e,this.byteLength=n}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e){this.serializer=e}$s(e){return Ra(this.serializer,e)}Us(e){return e.metadata.exists?w8(this.serializer,e.document,!1):vt.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return nn(e)}}class Che{constructor(e,n){this.Ua=e,this.serializer=n,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=o$(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++n;const r=Ne.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,{...this.progress}):null}za(e){const n=new Map,r=new s4(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.$s(i.metadata.name);for(const s of i.metadata.queries){const o=(n.get(s)||be()).add(a);n.set(s,o)}}return n}async ja(e){const n=await nhe(e,new s4(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)await rhe(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:n}}}function o$(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(e){this.key=e}}class c${constructor(e){this.key=e}}class u${constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=be(),this.mutatedKeys=be(),this.eu=JF(e),this.tu=new Hd(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new r4,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=uy(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;f&&m?f.data.isEqual(m.data)?y!==v&&(r.track({type:3,doc:m}),x=!0):this.su(f,m)||(r.track({type:2,doc:m}),x=!0,(l&&this.eu(m,l)>0||u&&this.eu(m,u)<0)&&(o=!0)):!f&&m?(r.track({type:0,doc:m}),x=!0):f&&!m&&(r.track({type:1,doc:f}),x=!0,(l||u)&&(o=!0)),x&&(m?(s=s.add(m),a=v?a.add(d):a.delete(d)):(s=s.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),a=a.delete(d.key),r.track({type:1,doc:d})}return{tu:s,iu:r,Cs:o,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((d,h)=>function(m,y){const v=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re(20277,{Rt:x})}};return v(m)-v(y)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,s.length!==0||u?{snapshot:new jh(this.query,e.tu,a,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new r4,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=be(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new c$(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new l$(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return jh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Bl="SyncEngine";class Phe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class khe{constructor(e){this.key=e,this.hu=!1}}class Ohe{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new ro(o=>XF(o),cy),this.Iu=new Map,this.Eu=new Set,this.du=new dt(ee.comparator),this.Au=new Map,this.Ru=new XI,this.Vu={},this.mu=new Map,this.fu=lu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Rhe(t,e,n=!0){const r=Qw(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await d$(r,e,n,!0),i}async function Dhe(t,e){const n=Qw(t);await d$(n,e,!0,!1)}async function d$(t,e,n,r){const i=await Ah(t.localStore,Pr(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await fj(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&Yw(t.remoteStore,i),o}async function fj(t,e,n,r,i){t.pu=(h,f,m)=>async function(v,x,b,w){let _=x.view.ru(b);_.Cs&&(_=await Bx(v.localStore,x.query,!1).then(({documents:N})=>x.view.ru(N,_)));const S=w&&w.targetChanges.get(x.targetId),A=w&&w.targetMismatches.get(x.targetId)!=null,C=x.view.applyChanges(_,v.isPrimaryClient,S,A);return gA(v,x.targetId,C.au),C.snapshot}(t,h,f,m);const a=await Bx(t.localStore,e,!0),s=new u$(e,a.Qs),o=s.ru(a.documents),l=fy.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(o,t.isPrimaryClient,l);gA(t,n,u.au);const d=new Phe(e,n,s);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function Mhe(t,e,n){const r=ne(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(s=>!cy(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Nh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ih(r.remoteStore,i.targetId),Ch(r,i.targetId)}).catch(Ll)):(Ch(r,i.targetId),await Nh(r.localStore,i.targetId,!0))}async function Lhe(t,e){const n=ne(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ih(n.remoteStore,r.targetId))}async function Vhe(t,e,n){const r=yj(t);try{const i=await function(s,o){const l=ne(s),u=$e.now(),d=o.reduce((m,y)=>m.add(y.key),be());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=qr(),v=be();return l.Ns.getEntries(m,d).next(x=>{y=x,y.forEach((b,w)=>{w.isValidDocument()||(v=v.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(x=>{h=x;const b=[];for(const w of o){const _=sde(w,h.get(w.key).overlayedDocument);_!=null&&b.push(new io(w.key,_,FF(_.value.mapValue),Ct.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,b,o)}).next(x=>{f=x;const b=x.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(m,x.batchId,b)})}).then(()=>({batchId:f.batchId,changes:t8(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.Vu[s.currentUser.toKey()];u||(u=new dt(ye)),u=u.insert(o,l),s.Vu[s.currentUser.toKey()]=u}(r,i.batchId,n),await ao(r,i.changes),await mf(r.remoteStore)}catch(i){const a=gf(i,"Failed to persist write");n.reject(a)}}async function h$(t,e){const n=ne(t);try{const r=await ehe(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Au.get(a);s&&(le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?le(s.hu,14607):i.removedDocuments.size>0&&(le(s.hu,42227),s.hu=!1))}),await ao(n,r,e)}catch(r){await Ll(r)}}function o4(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=ne(s);l.onlineState=o;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.Sa)f.va(o)&&(u=!0)}),u&&dj(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zhe(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new dt(ee.comparator);s=s.insert(a,vt.newNoDocument(a,ue.min()));const o=be().add(a),l=new hy(ue.min(),new Map,new dt(ye),s,o);await h$(r,l),r.du=r.du.remove(a),r.Au.delete(e),gj(r)}else await Nh(r.localStore,e,!1).then(()=>Ch(r,e,n)).catch(Ll)}async function Uhe(t,e){const n=ne(t),r=e.batch.batchId;try{const i=await Jde(n.localStore,e);pj(n,r,null),mj(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ao(n,i)}catch(i){await Ll(i)}}async function Bhe(t,e,n){const r=ne(t);try{const i=await function(s,o){const l=ne(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,o).next(h=>(le(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);pj(r,e,n),mj(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ao(r,i)}catch(i){await Ll(i)}}async function Fhe(t,e){const n=ne(t);Ul(n.remoteStore)||W(Bl,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const o=ne(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>o.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===ol)return void e.resolve();const i=n.mu.get(r)||[];i.push(e),n.mu.set(r,i)}catch(r){const i=gf(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function mj(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function pj(t,e,n){const r=ne(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Ch(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||f$(t,r)})}function f$(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ih(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),gj(t))}function gA(t,e,n){for(const r of n)r instanceof l$?(t.Ru.addReference(r.key,e),$he(t,r)):r instanceof c$?(W(Bl,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||f$(t,r.key)):re(19791,{wu:r})}function $he(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(W(Bl,"New document in limbo: "+n),t.Eu.add(r),gj(t))}function gj(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ee(Ne.fromString(e)),r=t.fu.next();t.Au.set(r,new khe(n)),t.du=t.du.insert(n,r),Yw(t.remoteStore,new gs(Pr(uf(n.path)),r,"TargetPurposeLimboResolution",Fr.ce))}}async function ao(t,e,n){const r=ne(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{s.push(r.pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=tj.As(l.targetId,u);a.push(h)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,u){const d=ne(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>V.forEach(u,f=>V.forEach(f.Es,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>V.forEach(f.ds,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!Vl(h))throw h;W(nj,"Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.Ms.get(f),y=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(y);d.Ms=d.Ms.insert(f,v)}}}(r.localStore,a))}async function qhe(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){W(Bl,"User change. New user:",e.toKey());const r=await q8(n.localStore,e);n.currentUser=e,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new K(F.CANCELLED,s))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ao(n,r.Ls)}}function Hhe(t,e){const n=ne(t),r=n.Au.get(e);if(r&&r.hu)return be().add(r.key);{let i=be();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const o=n.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}async function Ghe(t,e){const n=ne(t),r=await Bx(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&gA(n,e.targetId,i.au),i}async function Khe(t,e){const n=ne(t);return W8(n.localStore,e).then(r=>ao(n,r))}async function Whe(t,e,n,r){const i=ne(t),a=await function(o,l){const u=ne(o),d=ne(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",h=>d.er(h,l).next(f=>f?u.localDocuments.getDocuments(h,f):V.resolve(null)))}(i.localStore,e);a!==null?(n==="pending"?await mf(i.remoteStore):n==="acknowledged"||n==="rejected"?(pj(i,e,r||null),mj(i,e),function(o,l){ne(ne(o).mutationQueue).ir(l)}(i.localStore,e)):re(6720,"Unknown batchState",{Su:n}),await ao(i,a)):W(Bl,"Cannot apply mutation batch with id: "+e)}async function Yhe(t,e){const n=ne(t);if(Qw(n),yj(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await l4(n,r.toArray());n.gu=!0,await mA(n.remoteStore,!0);for(const a of i)Yw(n.remoteStore,a)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach((a,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(Ch(n,s),Nh(n.localStore,s,!0))),Ih(n.remoteStore,s)}),await i,await l4(n,r),function(s){const o=ne(s);o.Au.forEach((l,u)=>{Ih(o.remoteStore,u)}),o.Ru.Jr(),o.Au=new Map,o.du=new dt(ee.comparator)}(n),n.gu=!1,await mA(n.remoteStore,!1)}}async function l4(t,e,n){const r=ne(t),i=[],a=[];for(const s of e){let o;const l=r.Iu.get(s);if(l&&l.length!==0){o=await Ah(r.localStore,Pr(l[0]));for(const u of l){const d=r.Tu.get(u),h=await Ghe(r,d);h.snapshot&&a.push(h.snapshot)}}else{const u=await K8(r.localStore,s);o=await Ah(r.localStore,u),await fj(r,m$(u),s,!1,o.resumeToken)}i.push(o)}return r.Pu.H_(a),i}function m$(t){return QF(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Qhe(t){return function(n){return ne(ne(n).persistence).Ts()}(ne(t).localStore)}async function Xhe(t,e,n,r){const i=ne(t);if(i.gu)return void W(Bl,"Ignoring unexpected query state notification.");const a=i.Iu.get(e);if(a&&a.length>0)switch(n){case"current":case"not-current":{const s=await W8(i.localStore,ZF(a[0])),o=hy.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Ht.EMPTY_BYTE_STRING);await ao(i,s,o);break}case"rejected":await Nh(i.localStore,e,!0),Ch(i,e,r);break;default:re(64155,n)}}async function Zhe(t,e,n){const r=Qw(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){W(Bl,"Adding an already active target "+i);continue}const a=await K8(r.localStore,i),s=await Ah(r.localStore,a);await fj(r,m$(a),s.targetId,!1,s.resumeToken),Yw(r.remoteStore,s)}for(const i of n)r.Iu.has(i)&&await Nh(r.localStore,i,!1).then(()=>{Ih(r.remoteStore,i),Ch(r,i)}).catch(Ll)}}function Qw(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=h$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hhe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zhe.bind(null,e),e.Pu.H_=Nhe.bind(null,e.eventManager),e.Pu.yu=Ihe.bind(null,e.eventManager),e}function yj(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Uhe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bhe.bind(null,e),e}function Jhe(t,e,n){const r=ne(t);(async function(a,s,o){try{const l=await s.getMetadata();if(await function(m,y){const v=ne(m),x=nn(y.createTime);return v.persistence.runTransaction("hasNewerBundle","readonly",b=>v.Ii.getBundleMetadata(b,y.id)).then(b=>!!b&&b.createTime.compareTo(x)>=0)}(a.localStore,l))return await s.close(),o._completeWith(function(m){return{taskState:"Success",documentsLoaded:m.totalDocuments,bytesLoaded:m.totalBytes,totalDocuments:m.totalDocuments,totalBytes:m.totalBytes}}(l)),Promise.resolve(new Set);o._updateProgress(o$(l));const u=new Che(l,s.serializer);let d=await s.bu();for(;d;){const f=await u.Ga(d);f&&o._updateProgress(f),d=await s.bu()}const h=await u.ja(a.localStore);return await ao(a,h.Ha,void 0),await function(m,y){const v=ne(m);return v.persistence.runTransaction("Save bundle","readwrite",x=>v.Ii.saveBundleMetadata(x,y))}(a.localStore,l),o._completeWith(h.progress),Promise.resolve(h.Ja)}catch(l){return $a(Bl,`Loading bundle failed with ${l}`),o._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class og{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=my(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return $8(this.persistence,new F8,e.initialUser,this.serializer)}Cu(e){return new ZI(Ww.mi,this.serializer)}Du(e){return new J8}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}og.provider={build:()=>new og};class efe extends og{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){le(this.persistence.referenceDelegate instanceof Ux,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new M8(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?sr.withCacheSize(this.cacheSizeBytes):sr.DEFAULT;return new ZI(r=>Ux.mi(r,n),this.serializer)}}class p$ extends og{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await yj(this.xu.syncEngine),await mf(this.xu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return $8(this.persistence,new F8,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new M8(r,e.asyncQueue,n)}Mu(e,n){const r=new cue(n,this.persistence);return new lue(e.asyncQueue,r)}Cu(e){const n=ej(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?sr.withCacheSize(this.cacheSizeBytes):sr.DEFAULT;return new JI(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,e$(),Cv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new J8}}class tfe extends p${constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof $E&&(this.sharedClientState.syncEngine={Co:Whe.bind(null,n),vo:Xhe.bind(null,n),Fo:Zhe.bind(null,n),Ts:Qhe.bind(null,n),Do:Khe.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji(async r=>{await Yhe(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Du(e){const n=e$();if(!$E.v(n))throw new K(F.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=ej(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new $E(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class lg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>o4(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qhe.bind(null,this.syncEngine),await mA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ahe}()}createDatastore(e){const n=my(e.databaseInfo.databaseId),r=function(a){return new lhe(a)}(e.databaseInfo);return function(a,s,o,l){return new hhe(a,s,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new mhe(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>o4(this.syncEngine,n,0),function(){return e4.v()?new e4:new ihe}())}createSyncEngine(e,n){return function(i,a,s,o,l,u,d){const h=new Ohe(i,a,s,o,l,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=ne(i);W(cu,"RemoteStore shutting down."),a.Ea.add(5),await ff(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}lg.provider={build:()=>new lg};function c4(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Jt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nfe{constructor(e,n){this.Bu=e,this.serializer=n,this.metadata=new er,this.buffer=new Uint8Array,this.Lu=function(){return new TextDecoder("utf-8")}(),this.ku().then(r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Qa)}`))},r=>this.metadata.reject(r))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const n=this.Lu.decode(e),r=Number(n);isNaN(r)&&this.Qu(`length string (${n}) is not valid number`);const i=await this.$u(r);return new jhe(JSON.parse(i),e.length+r)}Uu(){return this.buffer.findIndex(e=>e===123)}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const n=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rfe{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new K(F.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,a){const s=ne(i),o={documents:a.map(h=>ag(s.serializer,h))},l=await s.Ho("BatchGetDocuments",s.serializer.databaseId,Ne.emptyPath(),o,a.length),u=new Map;l.forEach(h=>{const f=pde(s.serializer,h);u.set(f.key.toString(),f)});const d=[];return a.forEach(h=>{const f=u.get(h.toString());le(!!f,55234,{key:h}),d.push(f)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new hf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=ee.fromPath(r);this.mutations.push(new FI(i,this.precondition(i)))}),await async function(r,i){const a=ne(r),s={writes:i.map(o=>sg(a.serializer,o))};await a.Go("Commit",a.serializer.databaseId,Ne.emptyPath(),s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw re(50498,{Gu:e.constructor.name});n=ue.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new K(F.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ue.min())?Ct.exists(!1):Ct.updateTime(n):Ct.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ue.min()))throw new K(F.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ct.updateTime(n)}return Ct.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ife{constructor(e,n,r,i,a){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.zu=r.maxAttempts,this.M_=new ij(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new rfe(this.datastore),n=this.Hu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Yu(i)}))}).catch(r=>{this.Yu(r)})})}Hu(e){try{const n=this.updateFunction(e);return!sy(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!d8(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl="FirestoreClient";class afe{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rn.UNAUTHENTICATED,this.clientId=II.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{W(Tl,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(W(Tl,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function HE(t,e){t.asyncQueue.verifyOperationInProgress(),W(Tl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await q8(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function u4(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vj(t);W(Tl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>n4(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>n4(e.remoteStore,i)),t._onlineComponents=e}async function vj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W(Tl,"Using user provided OfflineComponentProvider");try{await HE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;$a("Error using user provided cache. Falling back to memory cache: "+n),await HE(t,new og)}}else W(Tl,"Using default OfflineComponentProvider"),await HE(t,new efe(void 0));return t._offlineComponents}async function Zw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W(Tl,"Using user provided OnlineComponentProvider"),await u4(t,t._uninitializedComponentsProvider._online)):(W(Tl,"Using default OnlineComponentProvider"),await u4(t,new lg))),t._onlineComponents}function g$(t){return vj(t).then(e=>e.persistence)}function xj(t){return vj(t).then(e=>e.localStore)}function y$(t){return Zw(t).then(e=>e.remoteStore)}function bj(t){return Zw(t).then(e=>e.syncEngine)}function sfe(t){return Zw(t).then(e=>e.datastore)}async function Ph(t){const e=await Zw(t),n=e.eventManager;return n.onListen=Rhe.bind(null,e.syncEngine),n.onUnlisten=Mhe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Dhe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Lhe.bind(null,e.syncEngine),n}function ofe(t){return t.asyncQueue.enqueue(async()=>{const e=await g$(t),n=await y$(t);return e.setNetworkEnabled(!0),function(i){const a=ne(i);return a.Ea.delete(0),py(a)}(n)})}function lfe(t){return t.asyncQueue.enqueue(async()=>{const e=await g$(t),n=await y$(t);return e.setNetworkEnabled(!1),async function(i){const a=ne(i);a.Ea.add(0),await ff(a),a.Ra.set("Offline")}(n)})}function cfe(t,e){const n=new er;return t.asyncQueue.enqueueAndForget(async()=>async function(i,a,s){try{const o=await function(u,d){const h=ne(u);return h.persistence.runTransaction("read document","readonly",f=>h.localDocuments.getDocument(f,d))}(i,a);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new K(F.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const l=gf(o,`Failed to get document '${a} from cache`);s.reject(l)}}(await xj(t),e,n)),n.promise}function v$(t,e,n={}){const r=new er;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const d=new Xw({next:f=>{d.Nu(),s.enqueueAndForget(()=>uj(a,h));const m=f.docs.has(o);!m&&f.fromCache?u.reject(new K(F.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?u.reject(new K(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new hj(uf(o.path),d,{includeMetadataChanges:!0,qa:!0});return cj(a,h)}(await Ph(t),t.asyncQueue,e,n,r)),r.promise}function ufe(t,e){const n=new er;return t.asyncQueue.enqueueAndForget(async()=>async function(i,a,s){try{const o=await Bx(i,a,!0),l=new u$(a,o.Qs),u=l.ru(o.documents),d=l.applyChanges(u,!1);s.resolve(d.snapshot)}catch(o){const l=gf(o,`Failed to execute query '${a} against cache`);s.reject(l)}}(await xj(t),e,n)),n.promise}function x$(t,e,n={}){const r=new er;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const d=new Xw({next:f=>{d.Nu(),s.enqueueAndForget(()=>uj(a,h)),f.fromCache&&l.source==="server"?u.reject(new K(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new hj(o,d,{includeMetadataChanges:!0,qa:!0});return cj(a,h)}(await Ph(t),t.asyncQueue,e,n,r)),r.promise}function dfe(t,e){const n=new Xw(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,a){ne(i).Ca.add(a),a.next()}(await Ph(t),n)),()=>{n.Nu(),t.asyncQueue.enqueueAndForget(async()=>function(i,a){ne(i).Ca.delete(a)}(await Ph(t),n))}}function hfe(t,e,n,r){const i=function(s,o){let l;return l=typeof s=="string"?f8().encode(s):s,function(d,h){return new nfe(d,h)}(function(d,h){if(d instanceof Uint8Array)return c4(d,h);if(d instanceof ArrayBuffer)return c4(new Uint8Array(d),h);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),o)}(n,my(e));t.asyncQueue.enqueueAndForget(async()=>{Jhe(await bj(t),i,r)})}function ffe(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const a=ne(r);return a.persistence.runTransaction("Get named query","readonly",s=>a.Ii.getNamedQuery(s,i))}(await xj(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w$="firestore.googleapis.com",h4=!0;class f4{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new K(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=w$,this.ssl=h4}else this.host=e.host,this.ssl=e.ssl??h4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=k8;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Rde)throw new K(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b$(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new K(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new K(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new K(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Qce;switch(r.type){case"firstParty":return new eue(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=d4.get(n);r&&(W("ComponentProvider","Removing Datastore"),d4.delete(n),r.terminate())}(this),Promise.resolve()}}function mfe(t,e,n,r={}){var u;t=Me(t,gy);const i=Dl(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(J2(`https://${o}`),eI("Firestore",!0)),a.host!==w$&&a.host!==o&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:r};if(!gl(l,s)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Rn.MOCK_USER;else{d=BU(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new K(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Rn(f)}t._authCredentials=new Xce(new hF(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kr=class _${constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _$(this.firestore,e,this._query)}},ut=class Lm{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lm(this.firestore,e,this._key)}toJSON(){return{type:Lm._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ay(n,Lm._jsonSchema))return new Lm(e,r||null,new ee(Ne.fromString(n.referencePath)))}};ut._jsonSchemaVersion="firestore/documentReference/1.0",ut._jsonSchema={type:hn("string",ut._jsonSchemaVersion),referencePath:hn("string")};let ll=class E$ extends kr{constructor(e,n,r){super(e,n,uf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new ee(e))}withConverter(e){return new E$(this.firestore,e,this._path)}};function Hx(t,e,...n){if(t=ce(t),jI("collection","path",e),t instanceof gy){const r=Ne.fromString(e,...n);return tM(r),new ll(t,null,r)}{if(!(t instanceof ut||t instanceof ll))throw new K(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return tM(r),new ll(t.firestore,null,r)}}function pfe(t,e){if(t=Me(t,gy),jI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new K(F.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new kr(t,null,function(r){return new no(Ne.emptyPath(),r)}(e))}function Gx(t,e,...n){if(t=ce(t),arguments.length===1&&(e=II.newId()),jI("doc","path",e),t instanceof gy){const r=Ne.fromString(e,...n);return eM(r),new ut(t,null,new ee(r))}{if(!(t instanceof ut||t instanceof ll))throw new K(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return eM(r),new ut(t.firestore,t instanceof ll?t.converter:null,new ee(r))}}function S$(t,e){return t=ce(t),e=ce(e),(t instanceof ut||t instanceof ll)&&(e instanceof ut||e instanceof ll)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function T$(t,e){return t=ce(t),e=ce(e),t instanceof kr&&e instanceof kr&&t.firestore===e.firestore&&cy(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4="AsyncQueue";class p4{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ij(this,"async_queue_retry"),this._c=()=>{const r=Cv();r&&W(m4,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Cv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Cv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new er;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Vl(e))throw e;W(m4,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Jt("INTERNAL UNHANDLED ERROR: ",g4(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=lj.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&re(47125,{Pc:g4(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function g4(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class gfe{constructor(){this._progressObserver={},this._taskCompletionResolver=new er,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yfe=-1;let rn=class extends gy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new p4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p4(e),this._firestoreClient=void 0,await e}}};function vr(t){if(t._terminated)throw new K(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||A$(t),t._firestoreClient}function A$(t){var r,i,a;const e=t._freezeSettings(),n=function(o,l,u,d){return new Vue(o,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,b$(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new afe(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}function vfe(t,e){$a("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return N$(t,lg.provider,{build:r=>new p$(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function xfe(t){$a("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();N$(t,lg.provider,{build:n=>new tfe(n,e.cacheSizeBytes)})}function N$(t,e,n){if((t=Me(t,rn))._firestoreClient||t._terminated)throw new K(F.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new K(F.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},A$(t)}function bfe(t){if(t._initialized&&!t._terminated)throw new K(F.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new er;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Oa.v())return Promise.resolve();const i=r+B8;await Oa.delete(i)}(ej(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function wfe(t){return function(n){const r=new er;return n.asyncQueue.enqueueAndForget(async()=>Fhe(await bj(n),r)),r.promise}(vr(t=Me(t,rn)))}function _fe(t){return ofe(vr(t=Me(t,rn)))}function Efe(t){return lfe(vr(t=Me(t,rn)))}function Sfe(t,e){const n=vr(t=Me(t,rn)),r=new gfe;return hfe(n,t._databaseId,e,r),r}function Tfe(t,e){return ffe(vr(t=Me(t,rn)),e).then(n=>n?new kr(t,null,n.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lr(Ht.fromBase64String(e))}catch(n){throw new K(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new lr(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:lr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ay(e,lr._jsonSchema))return lr.fromBase64String(e.bytes)}}lr._jsonSchemaVersion="firestore/bytes/1.0",lr._jsonSchema={type:hn("string",lr._jsonSchemaVersion),bytes:hn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iu=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:la._jsonSchemaVersion}}static fromJSON(e){if(ay(e,la._jsonSchema))return new la(e.latitude,e.longitude)}}la._jsonSchemaVersion="firestore/geoPoint/1.0",la._jsonSchema={type:hn("string",la._jsonSchemaVersion),latitude:hn("number"),longitude:hn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Da._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ay(e,Da._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Da(e.vectorValues);throw new K(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Da._jsonSchemaVersion="firestore/vectorValue/1.0",Da._jsonSchema={type:hn("string",Da._jsonSchemaVersion),vectorValues:hn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Afe=/^__.*__$/;class Nfe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new io(e,this.data,this.fieldMask,n,this.fieldTransforms):new df(e,this.data,n,this.fieldTransforms)}}class I${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new io(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function j$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re(40011,{Ac:t})}}class Jw{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Jw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Kx(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(j$(this.Ac)&&Afe.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Ife{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||my(e)}Cc(e,n,r,i=!1){return new Jw({Ac:e,methodName:n,Dc:r,path:jt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ju(t){const e=t._freezeSettings(),n=my(t._databaseId);return new Ife(t._databaseId,!!e.ignoreUndefinedProperties,n)}function e1(t,e,n,r,i,a={}){const s=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);Nj("Data must be an object, but it was:",s,r);const o=k$(r,s);let l,u;if(a.merge)l=new $r(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const d=[];for(const h of a.mergeFields){const f=vA(e,h,n);if(!s.contains(f))throw new K(F.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);R$(d,f)||d.push(f)}l=new $r(d),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new Nfe(new Xn(o),l,u)}class yy extends Iu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yy}}function C$(t,e,n){return new Jw({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class wj extends Iu{_toFieldTransform(e){return new dy(e.path,new Eh)}isEqual(e){return e instanceof wj}}class _j extends Iu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=C$(this,e,!0),r=this.vc.map(a=>Cu(a,n)),i=new iu(r);return new dy(e.path,i)}isEqual(e){return e instanceof _j&&gl(this.vc,e.vc)}}class Ej extends Iu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=C$(this,e,!0),r=this.vc.map(a=>Cu(a,n)),i=new au(r);return new dy(e.path,i)}isEqual(e){return e instanceof Ej&&gl(this.vc,e.vc)}}class Sj extends Iu{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Sh(e.serializer,i8(e.serializer,this.Fc));return new dy(e.path,n)}isEqual(e){return e instanceof Sj&&this.Fc===e.Fc}}function Tj(t,e,n,r){const i=t.Cc(1,e,n);Nj("Data must be an object, but it was:",i,r);const a=[],s=Xn.empty();zl(r,(l,u)=>{const d=Ij(e,l,n);u=ce(u);const h=i.yc(d);if(u instanceof yy)a.push(d);else{const f=Cu(u,h);f!=null&&(a.push(d),s.set(d,f))}});const o=new $r(a);return new I$(s,o,i.fieldTransforms)}function Aj(t,e,n,r,i,a){const s=t.Cc(1,e,n),o=[vA(e,r,n)],l=[i];if(a.length%2!=0)throw new K(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<a.length;f+=2)o.push(vA(e,a[f])),l.push(a[f+1]);const u=[],d=Xn.empty();for(let f=o.length-1;f>=0;--f)if(!R$(u,o[f])){const m=o[f];let y=l[f];y=ce(y);const v=s.yc(m);if(y instanceof yy)u.push(m);else{const x=Cu(y,v);x!=null&&(u.push(m),d.set(m,x))}}const h=new $r(u);return new I$(d,h,s.fieldTransforms)}function P$(t,e,n,r=!1){return Cu(n,t.Cc(r?4:3,e))}function Cu(t,e){if(O$(t=ce(t)))return Nj("Unsupported field value:",e,t),k$(t,e);if(t instanceof Iu)return function(r,i){if(!j$(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=Cu(o,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=ce(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return i8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=$e.fromDate(r);return{timestampValue:Th(i.serializer,a)}}if(r instanceof $e){const a=new $e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Th(i.serializer,a)}}if(r instanceof la)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof lr)return{bytesValue:g8(i.serializer,r._byteString)};if(r instanceof ut){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:KI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Da)return function(s,o){return{mapValue:{fields:{[MI]:{stringValue:LI},[bh]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return BI(o.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Mw(r)}`)}(t,e)}function k$(t,e){const n={};return OF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zl(t,(r,i)=>{const a=Cu(i,e.mc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function O$(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof la||t instanceof lr||t instanceof ut||t instanceof Iu||t instanceof Da)}function Nj(t,e,n){if(!O$(n)||!pF(n)){const r=Mw(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function vA(t,e,n){if((e=ce(e))instanceof Al)return e._internalPath;if(typeof e=="string")return Ij(t,e);throw Kx("Field path arguments must be of type string or ",t,!1,void 0,n)}const jfe=new RegExp("[~\\*/\\[\\]]");function Ij(t,e,n){if(e.search(jfe)>=0)throw Kx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Al(...e.split("."))._internalPath}catch{throw Kx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kx(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new K(F.INVALID_ARGUMENT,o+t+l)}function R$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Cfe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(t1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Cfe extends cg{data(){return super.data()}}function t1(t,e){return typeof e=="string"?Ij(t,e):e instanceof Al?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jj{}class vy extends jj{}function ss(t,e,...n){let r=[];e instanceof jj&&r.push(e),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof Cj).length,o=a.filter(l=>l instanceof n1).length;if(s>1||s>0&&o>0)throw new K(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class n1 extends vy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new n1(e,n,r)}_apply(e){const n=this._parse(e);return V$(e._query,n),new kr(e.firestore,e.converter,iA(e._query,n))}_parse(e){const n=ju(e.firestore);return function(a,s,o,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new K(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){v4(h,d);const y=[];for(const v of h)y.push(y4(l,a,v));f={arrayValue:{values:y}}}else f=y4(l,a,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||v4(h,d),f=P$(o,s,h,d==="in"||d==="not-in");return Ce.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Pfe(t,e,n){const r=e,i=t1("where",t);return n1._create(i,r,n)}class Cj extends jj{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Cj(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ye.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)V$(s,l),s=iA(s,l)}(e._query,n),new kr(e.firestore,e.converter,iA(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pj extends vy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Pj(e,n)}_apply(e){const n=function(i,a,s){if(i.startAt!==null)throw new K(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new K(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ig(a,s)}(e._query,this._field,this._direction);return new kr(e.firestore,e.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new no(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function M$(t,e="asc"){const n=e,r=t1("orderBy",t);return Pj._create(r,n)}class r1 extends vy{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new r1(e,n,r)}_apply(e){return new kr(e.firestore,e.converter,Mx(e._query,this._limit,this._limitType))}}function kfe(t){return gF("limit",t),r1._create("limit",t,"F")}function Ofe(t){return gF("limitToLast",t),r1._create("limitToLast",t,"L")}class i1 extends vy{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new i1(e,n,r)}_apply(e){const n=L$(e,this.type,this._docOrFields,this._inclusive);return new kr(e.firestore,e.converter,function(i,a){return new no(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)}(e._query,n))}}function Rfe(...t){return i1._create("startAt",t,!0)}function Dfe(...t){return i1._create("startAfter",t,!1)}class a1 extends vy{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new a1(e,n,r)}_apply(e){const n=L$(e,this.type,this._docOrFields,this._inclusive);return new kr(e.firestore,e.converter,function(i,a){return new no(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)}(e._query,n))}}function Mfe(...t){return a1._create("endBefore",t,!1)}function Lfe(...t){return a1._create("endAt",t,!0)}function L$(t,e,n,r){if(n[0]=ce(n[0]),n[0]instanceof cg)return function(a,s,o,l,u){if(!l)throw new K(F.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const d=[];for(const h of qd(a))if(h.field.isKeyField())d.push(nu(s,l.key));else{const f=l.data.field(h.field);if(Bw(f))throw new K(F.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const m=h.field.canonicalString();throw new K(F.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}d.push(f)}return new El(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=ju(t.firestore);return function(s,o,l,u,d,h){const f=s.explicitOrderBy;if(d.length>f.length)throw new K(F.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let y=0;y<d.length;y++){const v=d[y];if(f[y].field.isKeyField()){if(typeof v!="string")throw new K(F.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof v}`);if(!zI(s)&&v.indexOf("/")!==-1)throw new K(F.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${v}' contains a slash.`);const x=s.path.child(Ne.fromString(v));if(!ee.isDocumentKey(x))throw new K(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const b=new ee(x);m.push(nu(o,b))}else{const x=P$(l,u,v);m.push(x)}}return new El(m,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function y4(t,e,n){if(typeof(n=ce(n))=="string"){if(n==="")throw new K(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zI(e)&&n.indexOf("/")!==-1)throw new K(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ne.fromString(n));if(!ee.isDocumentKey(r))throw new K(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nu(t,new ee(r))}if(n instanceof ut)return nu(t,n._key);throw new K(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mw(n)}.`)}function v4(t,e){if(!Array.isArray(t)||t.length===0)throw new K(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function V$(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class kj{convertValue(e,n="none"){switch(wl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return zl(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[bh].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>Nt(s.doubleValue));return new Da(n)}convertGeoPoint(e){return new la(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Fw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tg(e));default:return null}}convertTimestamp(e){const n=Us(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ne.fromString(e);le(N8(r),9688,{name:e});const i=new bl(r.get(1),r.get(3)),a=new ee(r.popFirst(5));return i.isEqual(n)||Jt(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Vfe extends kj{constructor(e){super(),this.firestore=e}convertBytes(e){return new lr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}}class Sc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Fi=class z$ extends cg{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(t1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=z$._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Fi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fi._jsonSchema={type:hn("string",Fi._jsonSchemaVersion),bundleSource:hn("string","DocumentSnapshot"),bundleName:hn("string"),bundle:hn("string")};let vp=class extends Fi{data(e={}){return super.data(e)}},ca=class U${constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Sc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vp(this._firestore,this._userDataWriter,r.key,r,new Sc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new vp(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Sc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new vp(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Sc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),d=s.indexOf(o.doc.key)),{type:zfe(o.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=U$._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=II.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function zfe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re(61501,{type:t})}}function B$(t,e){return t instanceof Fi&&e instanceof Fi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ca&&e instanceof ca&&t._firestore===e._firestore&&T$(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ufe(t){t=Me(t,ut);const e=Me(t.firestore,rn);return v$(vr(e),t._key).then(n=>Rj(e,t,n))}ca._jsonSchemaVersion="firestore/querySnapshot/1.0",ca._jsonSchema={type:hn("string",ca._jsonSchemaVersion),bundleSource:hn("string","QuerySnapshot"),bundleName:hn("string"),bundle:hn("string")};class Pu extends kj{constructor(e){super(),this.firestore=e}convertBytes(e){return new lr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}}function Bfe(t){t=Me(t,ut);const e=Me(t.firestore,rn),n=vr(e),r=new Pu(e);return cfe(n,t._key).then(i=>new Fi(e,r,t._key,i,new Sc(i!==null&&i.hasLocalMutations,!0),t.converter))}function Ffe(t){t=Me(t,ut);const e=Me(t.firestore,rn);return v$(vr(e),t._key,{source:"server"}).then(n=>Rj(e,t,n))}function F$(t){t=Me(t,kr);const e=Me(t.firestore,rn),n=vr(e),r=new Pu(e);return D$(t._query),x$(n,t._query).then(i=>new ca(e,r,t,i))}function $fe(t){t=Me(t,kr);const e=Me(t.firestore,rn),n=vr(e),r=new Pu(e);return ufe(n,t._query).then(i=>new ca(e,r,t,i))}function qfe(t){t=Me(t,kr);const e=Me(t.firestore,rn),n=vr(e),r=new Pu(e);return x$(n,t._query,{source:"server"}).then(i=>new ca(e,r,t,i))}function x4(t,e,n){t=Me(t,ut);const r=Me(t.firestore,rn),i=s1(t.converter,e,n);return xy(r,[e1(ju(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ct.none())])}function b4(t,e,n,...r){t=Me(t,ut);const i=Me(t.firestore,rn),a=ju(i);let s;return s=typeof(e=ce(e))=="string"||e instanceof Al?Aj(a,"updateDoc",t._key,e,n,r):Tj(a,"updateDoc",t._key,e),xy(i,[s.toMutation(t._key,Ct.exists(!0))])}function Hfe(t){return xy(Me(t.firestore,rn),[new hf(t._key,Ct.none())])}function Gfe(t,e){const n=Me(t.firestore,rn),r=Gx(t),i=s1(t.converter,e);return xy(n,[e1(ju(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ct.exists(!1))]).then(()=>r)}function Oj(t,...e){var l,u,d;t=ce(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||yA(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(yA(e[r])){const h=e[r];e[r]=(l=h.next)==null?void 0:l.bind(h),e[r+1]=(u=h.error)==null?void 0:u.bind(h),e[r+2]=(d=h.complete)==null?void 0:d.bind(h)}let a,s,o;if(t instanceof ut)s=Me(t.firestore,rn),o=uf(t._key.path),a={next:h=>{e[r]&&e[r](Rj(s,t,h))},error:e[r+1],complete:e[r+2]};else{const h=Me(t,kr);s=Me(h.firestore,rn),o=h._query;const f=new Pu(s);a={next:m=>{e[r]&&e[r](new ca(s,f,h,m))},error:e[r+1],complete:e[r+2]},D$(t._query)}return function(f,m,y,v){const x=new Xw(v),b=new hj(m,x,y);return f.asyncQueue.enqueueAndForget(async()=>cj(await Ph(f),b)),()=>{x.Nu(),f.asyncQueue.enqueueAndForget(async()=>uj(await Ph(f),b))}}(vr(s),o,i,a)}function Kfe(t,e){return dfe(vr(t=Me(t,rn)),yA(e)?e:{next:e})}function xy(t,e){return function(r,i){const a=new er;return r.asyncQueue.enqueueAndForget(async()=>Vhe(await bj(r),i,a)),a.promise}(vr(t),e)}function Rj(t,e,n){const r=n.docs.get(e._key),i=new Pu(t);return new Fi(t,i,e._key,r,new Sc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wfe={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yfe=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ju(e)}set(e,n,r){this._verifyNotCommitted();const i=Ko(e,this._firestore),a=s1(i.converter,n,r),s=e1(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Ct.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=Ko(e,this._firestore);let s;return s=typeof(n=ce(n))=="string"||n instanceof Al?Aj(this._dataReader,"WriteBatch.update",a._key,n,r,i):Tj(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,Ct.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ko(e,this._firestore);return this._mutations=this._mutations.concat(new hf(n._key,Ct.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new K(F.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ko(t,e){if((t=ce(t)).firestore!==e)throw new K(F.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qfe{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=ju(e)}get(e){const n=Ko(e,this._firestore),r=new Vfe(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return re(24041);const a=i[0];if(a.isFoundDocument())return new cg(this._firestore,r,a.key,a,n.converter);if(a.isNoDocument())return new cg(this._firestore,r,n._key,null,n.converter);throw re(18433,{doc:a})})}set(e,n,r){const i=Ko(e,this._firestore),a=s1(i.converter,n,r),s=e1(this._dataReader,"Transaction.set",i._key,a,i.converter!==null,r);return this._transaction.set(i._key,s),this}update(e,n,r,...i){const a=Ko(e,this._firestore);let s;return s=typeof(n=ce(n))=="string"||n instanceof Al?Aj(this._dataReader,"Transaction.update",a._key,n,r,i):Tj(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,s),this}delete(e){const n=Ko(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xfe=class extends Qfe{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ko(e,this._firestore),r=new Pu(this._firestore);return super.get(e).then(i=>new Fi(this._firestore,r,n._key,i._document,new Sc(!1,!1),n.converter))}};function Zfe(t,e,n){t=Me(t,rn);const r={...Wfe,...n};return function(a){if(a.maxAttempts<1)throw new K(F.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(a,s,o){const l=new er;return a.asyncQueue.enqueueAndForget(async()=>{const u=await sfe(a);new ife(a.asyncQueue,u,o,s,l).ju()}),l.promise}(vr(t),i=>e(new Xfe(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jfe(){return new yy("deleteField")}function eme(){return new wj("serverTimestamp")}function tme(...t){return new _j("arrayUnion",t)}function nme(...t){return new Ej("arrayRemove",t)}function rme(t){return new Sj("increment",t)}(function(e,n=!0){(function(i){cf=i})(Js),Vs(new qi("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new rn(new Zce(r.getProvider("auth-internal")),new tue(s,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new K(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(u.options.projectId,d)}(s,i),s);return a={useFetchStreams:n,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),mi(QD,XD,e),mi(QD,XD,"esm2020")})();const ime="@firebase/firestore-compat",ame="0.4.2";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new K("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(){if(typeof Uint8Array>"u")throw new K("unimplemented","Uint8Arrays are not available in this environment.")}function _4(){if(!Mue())throw new K("unimplemented","Blobs are unavailable in Firestore in this environment.")}let $$=class xA{constructor(e){this._delegate=e}static fromBase64String(e){return _4(),new xA(lr.fromBase64String(e))}static fromUint8Array(e){return w4(),new xA(lr.fromUint8Array(e))}toBase64(){return _4(),this._delegate.toBase64()}toUint8Array(){return w4(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t){return sme(t,["next","error","complete"])}function sme(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ome{enableIndexedDbPersistence(e,n){return vfe(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return xfe(e._delegate)}clearIndexedDbPersistence(e){return bfe(e._delegate)}}class q${constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof bl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&$a("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...n,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){mfe(this._delegate,e,n,r)}enableNetwork(){return _fe(this._delegate)}disableNetwork(){return Efe(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,mF("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return wfe(this._delegate)}onSnapshotsInSync(e){return Kfe(this._delegate,e)}get app(){if(!this._appCompat)throw new K("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new kh(this,Hx(this._delegate,e))}catch(n){throw Ar(n,"collection()","Firestore.collection()")}}doc(e){try{return new Li(this,Gx(this._delegate,e))}catch(n){throw Ar(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Tr(this,pfe(this._delegate,e))}catch(n){throw Ar(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Zfe(this._delegate,n=>e(new H$(this,n)))}batch(){return vr(this._delegate),new G$(new Yfe(this._delegate,e=>xy(this._delegate,e)))}loadBundle(e){return Sfe(this._delegate,e)}namedQuery(e){return Tfe(this._delegate,e).then(n=>n?new Tr(this,n):null)}}class o1 extends kj{constructor(e){super(),this.firestore=e}convertBytes(e){return new $$(new lr(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Li.forKey(n,this.firestore,null)}}function lme(t){Wce(t)}class H${constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new o1(e)}get(e){const n=Tc(e);return this._delegate.get(n).then(r=>new ug(this._firestore,new Fi(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Tc(e);return r?(Dj("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const a=Tc(e);return arguments.length===2?this._delegate.update(a,n):this._delegate.update(a,n,r,...i),this}delete(e){const n=Tc(e);return this._delegate.delete(n),this}}class G${constructor(e){this._delegate=e}set(e,n,r){const i=Tc(e);return r?(Dj("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const a=Tc(e);return arguments.length===2?this._delegate.update(a,n):this._delegate.update(a,n,r,...i),this}delete(e){const n=Tc(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class uu{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new vp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new dg(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=uu.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(n);return a||(a=new uu(e,new o1(e),n),i.set(n,a)),a}}uu.INSTANCES=new WeakMap;class Li{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new o1(e)}static forPath(e,n,r){if(e.length%2!==0)throw new K("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Li(n,new ut(n._delegate,r,new ee(e)))}static forKey(e,n,r){return new Li(n,new ut(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new kh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new kh(this.firestore,Hx(this._delegate,e))}catch(n){throw Ar(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ce(e),e instanceof ut?S$(this._delegate,e):!1}set(e,n){n=Dj("DocumentReference.set",n);try{return n?x4(this._delegate,e,n):x4(this._delegate,e)}catch(r){throw Ar(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?b4(this._delegate,e):b4(this._delegate,e,n,...r)}catch(i){throw Ar(i,"updateDoc()","DocumentReference.update()")}}delete(){return Hfe(this._delegate)}onSnapshot(...e){const n=K$(e),r=W$(e,i=>new ug(this.firestore,new Fi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Oj(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Bfe(this._delegate):(e==null?void 0:e.source)==="server"?n=Ffe(this._delegate):n=Ufe(this._delegate),n.then(r=>new ug(this.firestore,new Fi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Li(this.firestore,e?this._delegate.withConverter(uu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ar(t,e,n){return t.message=t.message.replace(e,n),t}function K$(t){for(const e of t)if(typeof e=="object"&&!bA(e))return e;return{}}function W$(t,e){var r,i;let n;return bA(t[0])?n=t[0]:bA(t[1])?n=t[1]:typeof t[0]=="function"?n={next:t[0],error:t[1],complete:t[2]}:n={next:t[1],error:t[2],complete:t[3]},{next:a=>{n.next&&n.next(e(a))},error:(r=n.error)==null?void 0:r.bind(n),complete:(i=n.complete)==null?void 0:i.bind(n)}}class ug{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Li(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return B$(this._delegate,e._delegate)}}class dg extends ug{data(e){const n=this._delegate.data(e);return this._delegate._converter||Yce(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}}class Tr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new o1(e)}where(e,n,r){try{return new Tr(this.firestore,ss(this._delegate,Pfe(e,n,r)))}catch(i){throw Ar(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Tr(this.firestore,ss(this._delegate,M$(e,n)))}catch(r){throw Ar(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Tr(this.firestore,ss(this._delegate,kfe(e)))}catch(n){throw Ar(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Tr(this.firestore,ss(this._delegate,Ofe(e)))}catch(n){throw Ar(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Tr(this.firestore,ss(this._delegate,Rfe(...e)))}catch(n){throw Ar(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Tr(this.firestore,ss(this._delegate,Dfe(...e)))}catch(n){throw Ar(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Tr(this.firestore,ss(this._delegate,Mfe(...e)))}catch(n){throw Ar(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Tr(this.firestore,ss(this._delegate,Lfe(...e)))}catch(n){throw Ar(n,"endAt()","Query.endAt()")}}isEqual(e){return T$(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=$fe(this._delegate):(e==null?void 0:e.source)==="server"?n=qfe(this._delegate):n=F$(this._delegate),n.then(r=>new wA(this.firestore,new ca(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=K$(e),r=W$(e,i=>new wA(this.firestore,new ca(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Oj(this._delegate,n,r)}withConverter(e){return new Tr(this.firestore,e?this._delegate.withConverter(uu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class cme{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new dg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class wA{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Tr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new dg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new cme(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new dg(this._firestore,r))})}isEqual(e){return B$(this._delegate,e._delegate)}}class kh extends Tr{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Li(this.firestore,e):null}doc(e){try{return e===void 0?new Li(this.firestore,Gx(this._delegate)):new Li(this.firestore,Gx(this._delegate,e))}catch(n){throw Ar(n,"doc()","CollectionReference.doc()")}}add(e){return Gfe(this._delegate,e).then(n=>new Li(this.firestore,n))}isEqual(e){return S$(this._delegate,e._delegate)}withConverter(e){return new kh(this.firestore,e?this._delegate.withConverter(uu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Tc(t){return Me(t,ut)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(...e){this._delegate=new Al(...e)}static documentId(){return new Mj(jt.keyField().canonicalString())}isEqual(e){return e=ce(e),e instanceof Al?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{static serverTimestamp(){const e=eme();return e._methodName="FieldValue.serverTimestamp",new wc(e)}static delete(){const e=Jfe();return e._methodName="FieldValue.delete",new wc(e)}static arrayUnion(...e){const n=tme(...e);return n._methodName="FieldValue.arrayUnion",new wc(n)}static arrayRemove(...e){const n=nme(...e);return n._methodName="FieldValue.arrayRemove",new wc(n)}static increment(e){const n=rme(e);return n._methodName="FieldValue.increment",new wc(n)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ume={Firestore:q$,GeoPoint:la,Timestamp:$e,Blob:$$,Transaction:H$,WriteBatch:G$,DocumentReference:Li,DocumentSnapshot:ug,Query:Tr,QueryDocumentSnapshot:dg,QuerySnapshot:wA,CollectionReference:kh,FieldPath:Mj,FieldValue:wc,setLogLevel:lme,CACHE_SIZE_UNLIMITED:yfe};function dme(t,e){t.INTERNAL.registerComponent(new qi("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...ume}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hme(t){dme(t,(e,n)=>new q$(e,n,new ome)),t.registerVersion(ime,ame)}hme(nt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$="firebasestorage.googleapis.com",Q$="storageBucket",fme=2*60*1e3,mme=10*60*1e3,pme=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt extends fr{constructor(e,n,r=0){super(GE(e),`Firebase Storage: ${n} (${GE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return GE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var St;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(St||(St={}));function GE(t){return"storage/"+t}function Lj(){const t="An unknown error occurred, please check the error payload for server response.";return new zt(St.UNKNOWN,t)}function gme(t){return new zt(St.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function yme(t){return new zt(St.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function vme(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new zt(St.UNAUTHENTICATED,t)}function xme(){return new zt(St.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bme(t){return new zt(St.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function X$(){return new zt(St.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Z$(){return new zt(St.CANCELED,"User canceled the upload/download.")}function wme(t){return new zt(St.INVALID_URL,"Invalid URL '"+t+"'.")}function _me(t){return new zt(St.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Eme(){return new zt(St.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Q$+"' property when initializing the app?")}function J$(){return new zt(St.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Sme(){return new zt(St.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Tme(){return new zt(St.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Ame(t){return new zt(St.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Gd(t){return new zt(St.INVALID_ARGUMENT,t)}function e7(){return new zt(St.APP_DELETED,"The Firebase app was deleted.")}function t7(t){return new zt(St.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xp(t,e){return new zt(St.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function hm(t){throw new zt(St.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ur.makeFromUrl(e,n)}catch{return new ur(e,"")}if(r.path==="")return r;throw _me(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(S){S.path_=decodeURIComponent(S.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),y={bucket:1,path:3},v=n===Y$?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",b=new RegExp(`^https?://${v}/${i}/${x}`,"i"),_=[{regex:o,indices:l,postModify:a},{regex:m,indices:y,postModify:u},{regex:b,indices:{bucket:1,path:2},postModify:u}];for(let S=0;S<_.length;S++){const A=_[S],C=A.regex.exec(e);if(C){const N=C[A.indices.bucket];let T=C[A.indices.path];T||(T=""),r=new ur(N,T),A.postModify(r);break}}if(r==null)throw wme(e);return r}}class Nme{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ime(t,e,n){let r=1,i=null,a=null,s=!1,o=0;function l(){return o===2}let u=!1;function d(...x){u||(u=!0,e.apply(null,x))}function h(x){i=setTimeout(()=>{i=null,t(m,l())},x)}function f(){a&&clearTimeout(a)}function m(x,...b){if(u){f();return}if(x){f(),d.call(null,x,...b);return}if(l()||s){f(),d.call(null,x,...b);return}r<64&&(r*=2);let _;o===1?(o=2,_=0):_=(r+Math.random())*1e3,h(_)}let y=!1;function v(x){y||(y=!0,f(),!u&&(i!==null?(x||(o=2),clearTimeout(i),h(0)):x||(o=1)))}return h(0),a=setTimeout(()=>{s=!0,v(!0)},n),v}function jme(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cme(t){return t!==void 0}function Pme(t){return typeof t=="function"}function kme(t){return typeof t=="object"&&!Array.isArray(t)}function l1(t){return typeof t=="string"||t instanceof String}function E4(t){return Vj()&&t instanceof Blob}function Vj(){return typeof Blob<"u"}function _A(t,e,n,r){if(r<e)throw Gd(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Gd(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function n7(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Vc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Vc||(Vc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ome{constructor(e,n,r,i,a,s,o,l,u,d,h,f=!0,m=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,v)=>{this.resolve_=y,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new I0(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const l=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===Vc.NO_ERROR,l=a.getStatus();if(!o||r7(l,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===Vc.ABORT;r(!1,new I0(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new I0(u,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());Cme(l)?a(l):a()}catch(l){s(l)}else if(o!==null){const l=Lj();l.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,l)):s(l)}else if(i.canceled){const l=this.appDelete_?e7():Z$();s(l)}else{const l=X$();s(l)}};this.canceled_?n(!1,new I0(!1,null,!0)):this.backoffId_=Ime(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&jme(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class I0{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Rme(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Dme(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Mme(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Lme(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Vme(t,e,n,r,i,a,s=!0,o=!1){const l=n7(t.urlParams),u=t.url+l,d=Object.assign({},t.headers);return Mme(d,e),Rme(d,n),Dme(d,a),Lme(d,r),new Ome(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zme(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Ume(...t){const e=zme();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Vj())return new Blob(t);throw new zt(St.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Bme(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fme(t){if(typeof atob>"u")throw Ame("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class KE{constructor(e,n){this.data=e,this.contentType=n||null}}function i7(t,e){switch(t){case Vi.RAW:return new KE(a7(e));case Vi.BASE64:case Vi.BASE64URL:return new KE(s7(t,e));case Vi.DATA_URL:return new KE(qme(e),Hme(e))}throw Lj()}function a7(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,s=t.charCodeAt(++n);r=65536|(a&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function $me(t){let e;try{e=decodeURIComponent(t)}catch{throw xp(Vi.DATA_URL,"Malformed data URL.")}return a7(e)}function s7(t,e){switch(t){case Vi.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw xp(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Vi.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw xp(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Fme(e)}catch(i){throw i.message.includes("polyfill")?i:xp(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class o7{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw xp(Vi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Gme(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function qme(t){const e=new o7(t);return e.base64?s7(Vi.BASE64,e.rest):$me(e.rest)}function Hme(t){return new o7(t).contentType}function Gme(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n){let r=0,i="";E4(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(E4(this.data_)){const r=this.data_,i=Bme(r,e,n);return i===null?null:new cs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new cs(r,!0)}}static getBlob(...e){if(Vj()){const n=e.map(r=>r instanceof cs?r.data_:r);return new cs(Ume.apply(null,n))}else{const n=e.map(s=>l1(s)?i7(Vi.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(s=>{for(let o=0;o<s.length;o++)i[a++]=s[o]}),new cs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(t){let e;try{e=JSON.parse(t)}catch{return null}return kme(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kme(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Wme(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function l7(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yme(t,e){return e}class Er{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Yme}}let j0=null;function Qme(t){return!l1(t)||t.length<2?t:l7(t)}function c1(){if(j0)return j0;const t=[];t.push(new Er("bucket")),t.push(new Er("generation")),t.push(new Er("metageneration")),t.push(new Er("name","fullPath",!0));function e(a,s){return Qme(s)}const n=new Er("name");n.xform=e,t.push(n);function r(a,s){return s!==void 0?Number(s):s}const i=new Er("size");return i.xform=r,t.push(i),t.push(new Er("timeCreated")),t.push(new Er("updated")),t.push(new Er("md5Hash",null,!0)),t.push(new Er("cacheControl",null,!0)),t.push(new Er("contentDisposition",null,!0)),t.push(new Er("contentEncoding",null,!0)),t.push(new Er("contentLanguage",null,!0)),t.push(new Er("contentType",null,!0)),t.push(new Er("metadata","customMetadata",!0)),j0=t,j0}function Xme(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new ur(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function Zme(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const s=n[a];r[s.local]=s.xform(r,e[s.server])}return Xme(r,t),r}function c7(t,e,n){const r=zj(e);return r===null?null:Zme(t,r,n)}function Jme(t,e,n,r){const i=zj(e);if(i===null||!l1(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(u=>{const d=t.bucket,h=t.fullPath,f="/b/"+s(d)+"/o/"+s(h),m=Fl(f,n,r),y=n7({alt:"media",token:u});return m+y})[0]}function Uj(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4="prefixes",T4="items";function epe(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[S4])for(const i of n[S4]){const a=i.replace(/\/$/,""),s=t._makeStorageReference(new ur(e,a));r.prefixes.push(s)}if(n[T4])for(const i of n[T4]){const a=t._makeStorageReference(new ur(e,i.name));r.items.push(a)}return r}function tpe(t,e,n){const r=zj(n);return r===null?null:epe(t,e,r)}class so{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(t){if(!t)throw Lj()}function u1(t,e){function n(r,i){const a=c7(t,i,e);return Ma(a!==null),a}return n}function npe(t,e){function n(r,i){const a=tpe(t,e,i);return Ma(a!==null),a}return n}function rpe(t,e){function n(r,i){const a=c7(t,i,e);return Ma(a!==null),Jme(a,i,t.host,t._protocol)}return n}function yf(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=xme():i=vme():n.getStatus()===402?i=yme(t.bucket):n.getStatus()===403?i=bme(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function d1(t){const e=yf(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=gme(t.path)),a.serverResponse=i.serverResponse,a}return n}function u7(t,e,n){const r=e.fullServerUrl(),i=Fl(r,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,o=new so(i,a,u1(t,n),s);return o.errorHandler=d1(e),o}function ipe(t,e,n,r,i){const a={};e.isRoot?a.prefix="":a.prefix=e.path+"/",n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);const s=e.bucketOnlyServerUrl(),o=Fl(s,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,d=new so(o,l,npe(t,e.bucket),u);return d.urlParams=a,d.errorHandler=yf(e),d}function ape(t,e,n){const r=e.fullServerUrl(),i=Fl(r,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,o=new so(i,a,rpe(t,n),s);return o.errorHandler=d1(e),o}function spe(t,e,n,r){const i=e.fullServerUrl(),a=Fl(i,t.host,t._protocol),s="PATCH",o=Uj(n,r),l={"Content-Type":"application/json; charset=utf-8"},u=t.maxOperationRetryTime,d=new so(a,s,u1(t,r),u);return d.headers=l,d.body=o,d.errorHandler=d1(e),d}function ope(t,e){const n=e.fullServerUrl(),r=Fl(n,t.host,t._protocol),i="DELETE",a=t.maxOperationRetryTime;function s(l,u){}const o=new so(r,i,s,a);return o.successCodes=[200,204],o.errorHandler=d1(e),o}function lpe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function d7(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=lpe(null,e)),r}function cpe(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function o(){let _="";for(let S=0;S<2;S++)_=_+Math.random().toString().slice(2);return _}const l=o();s["Content-Type"]="multipart/related; boundary="+l;const u=d7(e,r,i),d=Uj(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",m=cs.getBlob(h,r,f);if(m===null)throw J$();const y={name:u.fullPath},v=Fl(a,t.host,t._protocol),x="POST",b=t.maxUploadRetryTime,w=new so(v,x,u1(t,n),b);return w.urlParams=y,w.headers=s,w.body=m.uploadData(),w.errorHandler=yf(e),w}class Wx{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function Bj(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Ma(!1)}return Ma(!!n&&(e||["active"]).indexOf(n)!==-1),n}function upe(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),s=d7(e,r,i),o={name:s.fullPath},l=Fl(a,t.host,t._protocol),u="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},h=Uj(s,n),f=t.maxUploadRetryTime;function m(v){Bj(v);let x;try{x=v.getResponseHeader("X-Goog-Upload-URL")}catch{Ma(!1)}return Ma(l1(x)),x}const y=new so(l,u,m,f);return y.urlParams=o,y.headers=d,y.body=h,y.errorHandler=yf(e),y}function dpe(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function a(u){const d=Bj(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ma(!1)}h||Ma(!1);const f=Number(h);return Ma(!isNaN(f)),new Wx(f,r.size(),d==="final")}const s="POST",o=t.maxUploadRetryTime,l=new so(n,s,a,o);return l.headers=i,l.errorHandler=yf(e),l}const A4=256*1024;function hpe(t,e,n,r,i,a,s,o){const l=new Wx(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw Sme();const u=l.total-l.current;let d=u;i>0&&(d=Math.min(d,i));const h=l.current,f=h+d;let m="";d===0?m="finalize":u===d?m="upload, finalize":m="upload";const y={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":`${l.current}`},v=r.slice(h,f);if(v===null)throw J$();function x(S,A){const C=Bj(S,["active","final"]),N=l.current+d,T=r.size();let I;return C==="final"?I=u1(e,a)(S,A):I=null,new Wx(N,T,C==="final",I)}const b="POST",w=e.maxUploadRetryTime,_=new so(n,b,x,w);return _.headers=y,_.body=v.uploadData(),_.progressCallback=o||null,_.errorHandler=yf(t),_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fpe={STATE_CHANGED:"state_changed"},Nr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function WE(t){switch(t){case"running":case"pausing":case"canceling":return Nr.RUNNING;case"paused":return Nr.PAUSED;case"success":return Nr.SUCCESS;case"canceled":return Nr.CANCELED;case"error":return Nr.ERROR;default:return Nr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mpe{constructor(e,n,r){if(Pme(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class ppe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw hm("cannot .send() more than once");if(Dl(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw hm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw hm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw hm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw hm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class gpe extends ppe{initXhr(){this.xhr_.responseType="text"}}function Sa(){return new gpe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=c1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(St.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(r7(i.status,[]))if(a)i=X$();else{this.sleepTime=Math.max(this.sleepTime*2,pme),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(St.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=upe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Sa,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=dpe(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,Sa,n,r);this._request=a,a.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=A4*this._chunkMultiplier,n=new Wx(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let s;try{s=hpe(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const o=this._ref.storage._makeRequest(s,Sa,i,a,!1);this._request=o,o.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){A4*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=u7(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Sa,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=cpe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Sa,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Z$(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=WE(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const a=new mpe(n||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(WE(this._state)){case Nr.SUCCESS:Qu(this._resolve.bind(null,this.snapshot))();break;case Nr.CANCELED:case Nr.ERROR:const n=this._reject;Qu(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(WE(this._state)){case Nr.RUNNING:case Nr.PAUSED:e.next&&Qu(e.next.bind(e,this.snapshot))();break;case Nr.SUCCESS:e.complete&&Qu(e.complete.bind(e))();break;case Nr.CANCELED:case Nr.ERROR:e.error&&Qu(e.error.bind(e,this._error))();break;default:e.error&&Qu(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){this._service=e,n instanceof ur?this._location=n:this._location=ur.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new du(e,n)}get root(){const e=new ur(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return l7(this._location.path)}get storage(){return this._service}get parent(){const e=Kme(this._location.path);if(e===null)return null;const n=new ur(this._location.bucket,e);return new du(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw t7(e)}}function ype(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new h7(t,new cs(e),n)}function vpe(t){const e={prefixes:[],items:[]};return f7(t,e).then(()=>e)}async function f7(t,e,n){const i=await m7(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await f7(t,e,i.nextPageToken)}function m7(t,e){e!=null&&typeof e.maxResults=="number"&&_A("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=ipe(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Sa)}function xpe(t){t._throwIfRoot("getMetadata");const e=u7(t.storage,t._location,c1());return t.storage.makeRequestWithTokens(e,Sa)}function bpe(t,e){t._throwIfRoot("updateMetadata");const n=spe(t.storage,t._location,e,c1());return t.storage.makeRequestWithTokens(n,Sa)}function wpe(t){t._throwIfRoot("getDownloadURL");const e=ape(t.storage,t._location,c1());return t.storage.makeRequestWithTokens(e,Sa).then(n=>{if(n===null)throw Tme();return n})}function _pe(t){t._throwIfRoot("deleteObject");const e=ope(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Sa)}function p7(t,e){const n=Wme(t._location.path,e),r=new ur(t._location.bucket,n);return new du(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Epe(t){return/^[A-Za-z]+:\/\//.test(t)}function Spe(t,e){return new du(t,e)}function g7(t,e){if(t instanceof Fj){const n=t;if(n._bucket==null)throw Eme();const r=new du(n,n._bucket);return e!=null?g7(r,e):r}else return e!==void 0?p7(t,e):t}function Tpe(t,e){if(e&&Epe(e)){if(t instanceof Fj)return Spe(t,e);throw Gd("To use ref(service, url), the first argument must be a Storage instance.")}else return g7(t,e)}function N4(t,e){const n=e==null?void 0:e[Q$];return n==null?null:ur.makeFromBucketSpec(n,t)}function Ape(t,e,n,r={}){t.host=`${e}:${n}`;const i=Dl(e);i&&(J2(`https://${t.host}/b`),eI("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:BU(a,t.app.options.projectId))}class Fj{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=Y$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fme,this._maxUploadRetryTime=mme,this._requests=new Set,i!=null?this._bucket=ur.makeFromBucketSpec(i,this._host):this._bucket=N4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ur.makeFromBucketSpec(this._url,e):this._bucket=N4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_A("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_A("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new du(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new Nme(e7());{const s=Vme(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const I4="@firebase/storage",j4="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Npe="storage";function Ipe(t,e,n){return t=ce(t),ype(t,e,n)}function jpe(t){return t=ce(t),xpe(t)}function Cpe(t,e){return t=ce(t),bpe(t,e)}function Ppe(t,e){return t=ce(t),m7(t,e)}function kpe(t){return t=ce(t),vpe(t)}function Ope(t){return t=ce(t),wpe(t)}function Rpe(t){return t=ce(t),_pe(t)}function C4(t,e){return t=ce(t),Tpe(t,e)}function Dpe(t,e){return p7(t,e)}function Mpe(t,e,n,r={}){Ape(t,e,n,r)}function Lpe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Fj(n,r,i,e,Js)}function Vpe(){Vs(new qi(Npe,Lpe,"PUBLIC").setMultipleInstances(!0)),mi(I4,j4,""),mi(I4,j4,"esm2020")}Vpe();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new C0(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new C0(r,this,this._ref))},n)}on(e,n,r,i){let a;return n&&(typeof n=="function"?a=s=>n(new C0(s,this,this._ref)):a={next:n.next?s=>n.next(new C0(s,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)}}class k4{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new Ss(e,this._service))}get items(){return this._delegate.items.map(e=>new Ss(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=Dpe(this._delegate,e);return new Ss(n,this.storage)}get root(){return new Ss(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new Ss(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new P4(Ipe(this._delegate,e,n),this)}putString(e,n=Vi.RAW,r){this._throwIfRoot("putString");const i=i7(n,e),a={...r};return a.contentType==null&&i.contentType!=null&&(a.contentType=i.contentType),new P4(new h7(this._delegate,new cs(i.data,!0),a),this)}listAll(){return kpe(this._delegate).then(e=>new k4(e,this.storage))}list(e){return Ppe(this._delegate,e||void 0).then(n=>new k4(n,this.storage))}getMetadata(){return jpe(this._delegate)}updateMetadata(e){return Cpe(this._delegate,e)}getDownloadURL(){return Ope(this._delegate)}delete(){return this._throwIfRoot("delete"),Rpe(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw t7(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(O4(e))throw Gd("ref() expected a child path but got a URL, use refFromURL instead.");return new Ss(C4(this._delegate,e),this)}refFromURL(e){if(!O4(e))throw Gd("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ur.makeFromUrl(e,this._delegate.host)}catch{throw Gd("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ss(C4(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){Mpe(this._delegate,e,n,r)}}function O4(t){return/^[A-Za-z]+:\/\//.test(t)}const zpe="@firebase/storage-compat",Upe="0.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bpe="storage-compat";function Fpe(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new y7(n,r)}function $pe(t){const e={TaskState:Nr,TaskEvent:fpe,StringFormat:Vi,Storage:y7,Reference:Ss};t.INTERNAL.registerComponent(new qi(Bpe,Fpe,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(zpe,Upe)}$pe(nt);const qpe={apiKey:"AIzaSyDzEay5fGB-2r5_V9UXOO8cOv-nJdHwDRg",authDomain:"rush-coffee.firebaseapp.com",projectId:"rush-coffee",storageBucket:"rush-coffee.appspot.com",messagingSenderId:"423413538635",appId:"1:423413538635:web:ded0369f50c3a9086bd2ce"};nt.apps.length||nt.initializeApp(qpe);const nc=nt.auth(),de=nt.firestore(),Hpe=nt.storage(),v7=g.createContext(void 0),Yr=()=>{const t=g.useContext(v7);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},YE=async t=>{var i;const n=await de.collection("users").doc(t).get();if(!n.exists)throw new Error("User profile not found.");const r=n.data();return{uid:t,email:r.email,firstName:r.firstName||"User",lastName:r.lastName||"",phone:r.phone||"",photoURL:r.photoURL,createdAt:((i=r.createdAt)==null?void 0:i.toDate())||new Date,role:r.role,totalOrders:r.totalOrders??0,totalSpent:r.totalSpent??0,currentPoints:r.currentPoints??0,lifetimePoints:r.lifetimePoints??0,tier:r.tier||"bronze",rewardsHistory:(r.rewardsHistory||[]).map(a=>({...a,date:a.date.toDate()})).sort((a,s)=>s.date-a.date),preferences:r.preferences||{notifications:{push:!0,emailUpdates:!0,marketing:!1},theme:"auto",privacy:{shareUsageData:!0,personalizedRecs:!0}}}},Gpe=({children:t})=>{const[e,n]=g.useState(null),[r,i]=g.useState(!0);g.useEffect(()=>{let m;const y=nc.onAuthStateChanged(async v=>{m&&m(),v?m=de.collection("users").doc(v.uid).onSnapshot(b=>{var w;if(b.exists){const _=b.data(),S={uid:v.uid,email:v.email,firstName:_.firstName||"User",lastName:_.lastName||"",phone:_.phone||"",photoURL:_.photoURL,createdAt:((w=_.createdAt)==null?void 0:w.toDate())||new Date,role:_.role,totalOrders:_.totalOrders??0,totalSpent:_.totalSpent??0,currentPoints:_.currentPoints??0,lifetimePoints:_.lifetimePoints??0,tier:_.tier||"bronze",rewardsHistory:(_.rewardsHistory||[]).map(A=>({...A,date:A.date.toDate()})).sort((A,C)=>C.date-A.date),preferences:_.preferences||{notifications:{push:!0,emailUpdates:!0,marketing:!1},theme:"auto",privacy:{shareUsageData:!0,personalizedRecs:!0}}};n(S)}else console.log("User document not found for UID:",v.uid);i(!1)},b=>{console.error("Error listening to user document:",b),n(null),i(!1)}):(n(null),i(!1))});return()=>{y(),m&&m()}},[]);const f={currentUser:e,loading:r,register:async(m,y,v,x,b)=>{const _=(await nc.createUserWithEmailAndPassword(m,y)).user,S={id:`rh-${Date.now()}`,type:"earned",points:25,description:"Welcome Bonus",date:new Date},A={firstName:v,lastName:x,phone:b||"",createdAt:new Date,totalOrders:0,totalSpent:0,currentPoints:25,lifetimePoints:25,tier:"bronze",rewardsHistory:[S],preferences:{notifications:{push:!0,emailUpdates:!0,marketing:!1},theme:"auto",privacy:{shareUsageData:!0,personalizedRecs:!0}},cart:[]};return await de.collection("users").doc(_.uid).set(A),YE(_.uid)},login:async(m,y,v)=>{const x=v?nt.auth.Auth.Persistence.LOCAL:nt.auth.Auth.Persistence.SESSION;await nc.setPersistence(x);const b=await nc.signInWithEmailAndPassword(m,y);return YE(b.user.uid)},logout:async()=>{await nc.signOut()},sendPasswordReset:async m=>{await nc.sendPasswordResetEmail(m)},signInWithGoogle:async()=>{var b;const m=new nt.auth.GoogleAuthProvider,y=await nc.signInWithPopup(m),v=y.user,x=y.additionalUserInfo;if(x!=null&&x.isNewUser){const w=((b=v.displayName)==null?void 0:b.split(" "))||["New","User"],_=w[0],S=w.slice(1).join(" ")||"",A={id:`rh-${Date.now()}`,type:"earned",points:25,description:"Welcome Bonus",date:new Date},C={firstName:_,lastName:S,photoURL:v.photoURL||void 0,createdAt:new Date,totalOrders:0,totalSpent:0,currentPoints:25,lifetimePoints:25,tier:"bronze",rewardsHistory:[A],preferences:{notifications:{push:!0,emailUpdates:!0,marketing:!1},theme:"auto",privacy:{shareUsageData:!0,personalizedRecs:!0}},cart:[]};await de.collection("users").doc(v.uid).set(C)}return YE(v.uid)},updateUserProfile:async m=>{if(!e)return;await de.collection("users").doc(e.uid).update(m)},updateUserPhoto:async m=>{if(!e)return;await de.collection("users").doc(e.uid).update({photoURL:m})}};return c.jsx(v7.Provider,{value:f,children:!r&&t})},_e=t=>`/RushCoffee-Capstone/${t}`,Pv=[{id:"cb-01",name:"Spanish Latte",description:"A creamy and sweet latte with a Spanish twist, featuring condensed milk for a rich flavor.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:_e("coffee-based/spanish-latte.png"),available:!0,stock:99,popular:!0,displayOrder:1,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:150},{ingredientId:"condensed-milk",quantity:30}]},{id:"cb-02",name:"Rush Coffee Blend",description:"Our signature house blend, perfectly balanced for a smooth and satisfying coffee experience.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:89}],imageUrl:_e("coffee-based/rush-coffee-blend.png"),available:!0,stock:99,popular:!0,displayOrder:2,recipe:[{ingredientId:"coffee-beans",quantity:18},{ingredientId:"hot-water",quantity:200}]},{id:"cb-03",name:"Caramel Chocolate Mocha",description:"A decadent mix of rich chocolate, espresso, and creamy caramel for the ultimate treat.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:_e("coffee-based/caramel-chocolate-mocha.jpg"),available:!0,stock:99,popular:!0,displayOrder:3,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:150},{ingredientId:"chocolate-sauce",quantity:20},{ingredientId:"caramel-sauce",quantity:15}]},{id:"cb-04",name:"Dark Chocolate Mocha",description:"A bold and intense mocha experience with premium dark chocolate and strong espresso.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:_e("coffee-based/dark-chocolate-mocha.jpg"),available:!0,stock:99,displayOrder:4,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:150},{ingredientId:"chocolate-sauce",quantity:25}]},{id:"cb-05",name:"Mocha Latte",description:"A classic blend of smooth espresso, rich chocolate sauce, and steamed milk.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:_e("coffee-based/mocha-latte.jpg"),available:!0,stock:99,displayOrder:5,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:180},{ingredientId:"chocolate-sauce",quantity:20}]},{id:"cb-06",name:"Americano",description:"Bold espresso shots topped with hot water to create a light layer of crema.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:_e("coffee-based/americano.jpg"),available:!0,stock:99,displayOrder:6,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"hot-water",quantity:220}]},{id:"cb-07",name:"Biscoff Latte",description:"An indulgent latte infused with the irresistible flavor of caramelized Biscoff cookies.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:99},{name:"Venti",size:"22oz",price:199}],imageUrl:_e("coffee-based/biscoff-latte.jpg"),available:!0,stock:99,displayOrder:7,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:170},{ingredientId:"biscoff-spread",quantity:30}]},{id:"cb-08",name:"Reeses Latte",description:"The perfect combination of peanut butter, chocolate, and espresso. A candy lover's dream.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:_e("coffee-based/reeses-latte.jpg"),available:!0,stock:99,displayOrder:8,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:160},{ingredientId:"chocolate-sauce",quantity:15},{ingredientId:"peanut-butter",quantity:20}]},{id:"cb-09",name:"Brown Sugar Latte",description:"A comforting latte sweetened with rich, molasses-like brown sugar syrup.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:79}],imageUrl:_e("coffee-based/brown-sugar-latte.jpg"),available:!0,stock:99,displayOrder:9,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:180},{ingredientId:"brown-sugar-syrup",quantity:25}]},{id:"cb-10",name:"Iced Latte",description:"A simple classic. Chilled espresso with cold milk served over ice.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:69}],imageUrl:_e("coffee-based/iced-latte.jpg"),available:!0,stock:99,displayOrder:10,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:180},{ingredientId:"ice-cubes",quantity:100}]},{id:"cb-11",name:"Orange Latte",description:"A unique and refreshing latte with a zesty hint of natural orange flavor.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:89}],imageUrl:_e("coffee-based/orange-latte.jpg"),available:!0,stock:99,displayOrder:11,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:170},{ingredientId:"orange-syrup",quantity:20}]},{id:"cb-12",name:"Coffee Jelly",description:"A delightful iced coffee drink with chewy, coffee-flavored jelly cubes.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:99}],imageUrl:_e("coffee-based/coffee-jelly.jpg"),available:!0,stock:99,displayOrder:12,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:150},{ingredientId:"coffee-jelly",quantity:80},{ingredientId:"ice-cubes",quantity:80}]},{id:"nc-01",name:"Red Velvet",description:"A sweet and creamy drink inspired by the classic red velvet cake, with hints of cocoa and vanilla.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:_e("non-coffee/red-velvet.jpg"),available:!0,stock:99,displayOrder:13,recipe:[{ingredientId:"milk",quantity:200},{ingredientId:"red-velvet-powder",quantity:25},{ingredientId:"chocolate-sauce",quantity:10},{ingredientId:"vanilla-syrup",quantity:15}]},{id:"nc-02",name:"Red Velvet Matcha Latte",description:"A beautiful and delicious blend of earthy matcha and sweet red velvet flavors.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:_e("non-coffee/red-velvet-matcha-latte.jpg"),available:!0,stock:99,displayOrder:14,recipe:[{ingredientId:"milk",quantity:180},{ingredientId:"matcha-powder",quantity:5},{ingredientId:"red-velvet-powder",quantity:15},{ingredientId:"vanilla-syrup",quantity:10}]},{id:"nc-03",name:"Milky Choco",description:"A rich and comforting chocolate drink made with high-quality cocoa and fresh milk.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:_e("non-coffee/milky-choco.jpg"),available:!0,stock:99,displayOrder:15,recipe:[{ingredientId:"milk",quantity:220},{ingredientId:"chocolate-sauce",quantity:30}]},{id:"nc-04",name:"Strawberry Milk",description:"A refreshing and creamy drink made with real strawberries and fresh milk.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:_e("non-coffee/strawberry-milk.jpg"),available:!0,stock:99,displayOrder:16,recipe:[{ingredientId:"milk",quantity:200},{ingredientId:"strawberry-puree",quantity:50}]},{id:"nc-05",name:"Biscoff Milky",description:"A non-coffee treat blending the sweet, caramelized taste of Biscoff with creamy milk.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:_e("non-coffee/biscoff-milky.jpg"),available:!0,stock:99,displayOrder:17,recipe:[{ingredientId:"milk",quantity:200},{ingredientId:"biscoff-spread",quantity:35}]},{id:"nc-06",name:"Oreo Latte",description:"A fun and delicious drink packed with the classic cookies and cream flavor of Oreos.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:_e("non-coffee/oreo-latte.jpg"),available:!0,stock:99,displayOrder:18,recipe:[{ingredientId:"milk",quantity:180},{ingredientId:"oreo-crumbs",quantity:40},{ingredientId:"chocolate-sauce",quantity:15}]},{id:"ms-01",name:"Matcha Latte",description:"Premium Japanese matcha green tea with steamed milk, a perfect balance of earthy and creamy.",category:"Matcha Series",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:89}],imageUrl:_e("matcha-series/matcha-latte.jpg"),available:!0,stock:99,popular:!0,displayOrder:19,recipe:[{ingredientId:"matcha-powder",quantity:5},{ingredientId:"milk",quantity:200}]},{id:"ms-02",name:"Strawberry Matcha",description:"A delightful pairing of sweet strawberry puree and high-quality matcha green tea.",category:"Matcha Series",sizes:[{name:"Grande",size:"16oz",price:99},{name:"Venti",size:"22oz",price:109}],imageUrl:_e("matcha-series/strawberry-matcha.jpg"),available:!0,stock:99,displayOrder:20,recipe:[{ingredientId:"matcha-powder",quantity:5},{ingredientId:"milk",quantity:180},{ingredientId:"strawberry-puree",quantity:40}]},{id:"ms-03",name:"Matcha Cream Cheese",description:"Earthy matcha topped with a rich, savory, and slightly sweet cream cheese foam.",category:"Matcha Series",sizes:[{name:"Grande",size:"16oz",price:99},{name:"Venti",size:"22oz",price:109}],imageUrl:_e("matcha-series/matcha-cream-cheese.jpg"),available:!0,stock:99,displayOrder:21,recipe:[{ingredientId:"matcha-powder",quantity:5},{ingredientId:"milk",quantity:180},{ingredientId:"cream-cheese",quantity:30}]},{id:"ms-04",name:"Matcha Oreo",description:"A creative blend of matcha and crushed Oreo cookies for a unique texture and flavor.",category:"Matcha Series",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:_e("matcha-series/matcha-oreo.jpg"),available:!0,stock:99,displayOrder:22,recipe:[{ingredientId:"matcha-powder",quantity:5},{ingredientId:"milk",quantity:180},{ingredientId:"oreo-crumbs",quantity:35}]},{id:"rf-01",name:"Flamangooverload Shake",description:"An explosive mix of flamingo and mango for an overload of fruity goodness.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:_e("refreshments/flamangooverload.jpg"),available:!0,stock:99,displayOrder:23,recipe:[{ingredientId:"mango-puree",quantity:100},{ingredientId:"strawberry-puree",quantity:50},{ingredientId:"ice-cubes",quantity:120},{ingredientId:"milk",quantity:80}]},{id:"rf-02",name:"Mangoberry Shake",description:"A delightful blend of sweet mangoes and tangy berries, perfectly refreshing.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:_e("refreshments/mangoberry.jpg"),available:!0,stock:99,displayOrder:24,recipe:[{ingredientId:"mango-puree",quantity:80},{ingredientId:"mixed-berries",quantity:50},{ingredientId:"ice-cubes",quantity:120},{ingredientId:"milk",quantity:80}]},{id:"rf-03",name:"Mango Caramel Shake",description:"Creamy mango shake drizzled with rich, buttery caramel sauce.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:_e("refreshments/mango-caramel.jpg"),available:!0,stock:99,displayOrder:25,recipe:[{ingredientId:"mango-puree",quantity:100},{ingredientId:"caramel-sauce",quantity:20},{ingredientId:"ice-cubes",quantity:120},{ingredientId:"milk",quantity:80}]},{id:"rf-04",name:"Blueberry Shake",description:"A classic fruit shake made with sweet and juicy blueberries.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:_e("refreshments/blueberry-shake.jpg"),available:!0,stock:99,displayOrder:26,recipe:[{ingredientId:"blueberry-puree",quantity:100},{ingredientId:"ice-cubes",quantity:120},{ingredientId:"milk",quantity:100}]},{id:"rf-05",name:"Strawberry Shake",description:"A creamy and delicious shake made with ripe, sweet strawberries.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:_e("refreshments/strawberry-shake.jpg"),available:!0,stock:99,displayOrder:27,recipe:[{ingredientId:"strawberry-puree",quantity:100},{ingredientId:"ice-cubes",quantity:120},{ingredientId:"milk",quantity:100}]},{id:"rf-06",name:"Green Apple Shake",description:"A tart and refreshing shake with the crisp taste of green apples.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:_e("refreshments/green-apple-shake.jpg"),available:!0,stock:99,displayOrder:28,recipe:[{ingredientId:"green-apple-puree",quantity:100},{ingredientId:"ice-cubes",quantity:120},{ingredientId:"milk",quantity:100}]},{id:"rf-07",name:"Blueberry Soda Pop",description:"Fizzy and fun, this soda pop is bursting with sweet blueberry flavor.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:_e("refreshments/blueberry-soda.jpg"),available:!0,stock:99,displayOrder:29,recipe:[{ingredientId:"blueberry-puree",quantity:60},{ingredientId:"soda-water",quantity:200},{ingredientId:"ice-cubes",quantity:100}]},{id:"rf-08",name:"Strawberry Soda Pop",description:"A refreshing soda pop with the sweet taste of summer strawberries.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:_e("refreshments/strawberry-soda.jpg"),available:!0,stock:99,displayOrder:30,recipe:[{ingredientId:"strawberry-puree",quantity:60},{ingredientId:"soda-water",quantity:200},{ingredientId:"ice-cubes",quantity:100}]},{id:"rf-09",name:"Green Apple Soda Pop",description:"A crisp and bubbly soda with a tangy green apple twist.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:_e("refreshments/green-apple-soda.jpg"),available:!0,stock:99,displayOrder:31,recipe:[{ingredientId:"green-apple-puree",quantity:60},{ingredientId:"soda-water",quantity:200},{ingredientId:"ice-cubes",quantity:100}]},{id:"rf-10",name:"Lemon Soda Pop",description:"A zesty and invigorating soda pop with a classic lemon flavor.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:_e("refreshments/lemon-soda.jpg"),available:!0,stock:99,displayOrder:32,recipe:[{ingredientId:"lemon-juice",quantity:60},{ingredientId:"soda-water",quantity:200},{ingredientId:"ice-cubes",quantity:100}]},{id:"rf-11",name:"Lychee Soda Pop",description:"An exotic and fragrant soda pop with the sweet, floral taste of lychee.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:_e("refreshments/lychee-soda.jpg"),available:!0,stock:99,displayOrder:33,recipe:[{ingredientId:"lychee-syrup",quantity:60},{ingredientId:"soda-water",quantity:200},{ingredientId:"ice-cubes",quantity:100}]},{id:"rf-12",name:"Mango Soda Pop",description:"A tropical and bubbly soda bursting with sweet mango flavor.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:_e("refreshments/mango-soda.jpg"),available:!0,stock:99,displayOrder:34,recipe:[{ingredientId:"mango-puree",quantity:60},{ingredientId:"soda-water",quantity:200},{ingredientId:"ice-cubes",quantity:100}]},{id:"ml-01",name:"Breaded Bacon",description:"Crispy breaded bacon served with creamy white sauce and golden fries.",category:"Meals",sizes:[{name:"Ala Carte",size:"w/ Fries",price:119},{name:"Combo Meal",size:"w/ Fries & Drink",price:139}],imageUrl:_e("menu/ala-carte-breaded-bacon-with-white-sauce and fries.jpg"),comboImageUrl:_e("menu/combo-meals-breaded-bacon-with-white-sauce,-fries-and-a-drink.jpg"),available:!0,stock:99,popular:!0,displayOrder:35,recipe:[{ingredientId:"bacon-strips",quantity:3},{ingredientId:"bread-crumbs",quantity:50},{ingredientId:"french-fries",quantity:1},{ingredientId:"white-sauce",quantity:30},{ingredientId:"cooking-oil",quantity:100}]},{id:"ml-02",name:"Breaded Porkchop",description:"A juicy breaded porkchop fried to perfection, served with white sauce and fries.",category:"Meals",sizes:[{name:"Ala Carte",size:"w/ Fries",price:129},{name:"Combo Meal",size:"w/ Fries & Drink",price:149}],imageUrl:_e("menu/ala-carte-breaded-porkchop-with-white-sauce-and-fries.jpg"),comboImageUrl:_e("menu/combo-meals-breaded-porkchop-with-white-sauce-and-fries-w-drink.jpg"),available:!0,stock:99,popular:!0,displayOrder:36,recipe:[{ingredientId:"porkchop",quantity:1},{ingredientId:"bread-crumbs",quantity:60},{ingredientId:"french-fries",quantity:1},{ingredientId:"white-sauce",quantity:30},{ingredientId:"cooking-oil",quantity:120}]},{id:"ml-03",name:"Breaded Chicken",description:"Tender breaded chicken fillet with a side of fries and our signature white sauce.",category:"Meals",sizes:[{name:"Ala Carte",size:"w/ Fries",price:119},{name:"Combo Meal",size:"w/ Fries & Drink",price:139}],imageUrl:_e("menu/ala-carte-chicken-with-white-sauce-and-fries.jpg"),comboImageUrl:_e("menu/combo-meals-breaded-chicken-with-white-sauce,-fries-and-a-drink.jpg"),available:!0,stock:99,displayOrder:37,recipe:[{ingredientId:"chicken-fillet",quantity:1},{ingredientId:"bread-crumbs",quantity:55},{ingredientId:"french-fries",quantity:1},{ingredientId:"white-sauce",quantity:30},{ingredientId:"cooking-oil",quantity:110}]}],x7=g.createContext(void 0),ku=()=>{const t=g.useContext(x7);if(!t)throw new Error("useProduct must be used within a ProductProvider");return t},Kpe=({children:t})=>{const[e,n]=g.useState([]),[r,i]=g.useState(!0),[a,s]=g.useState(null),o=g.useCallback(async()=>{i(!0),s(null);try{const f=de.collection("products"),m=f.orderBy("displayOrder","asc"),y=await m.get();if(y.empty){console.log("Products collection is empty. Seeding products with specific IDs...");const x=de.batch();Pv.forEach(_=>{const{id:S,...A}=_,C=f.doc(S);x.set(C,A)}),await x.commit(),console.log(`Successfully seeded ${Pv.length} products to Firestore!`);const w=(await m.get()).docs.map(_=>({id:_.id,..._.data()}));n(w);return}const v=y.docs.map(x=>({id:x.id,...x.data()}));n(v)}catch(f){f.code==="permission-denied"?console.info("Firestore permission denied. This is expected if security rules are not yet configured or if you are offline. Falling back to mock data for demonstration."):console.warn("Error fetching products from Firestore. Falling back to mock data.",f),n(Pv),s(null)}finally{i(!1)}},[]);g.useEffect(()=>{o()},[o]);const h={products:e,isLoading:r,error:a,addProduct:async f=>{try{await de.collection("products").add(f),await o()}catch(m){throw console.error("Error adding product: ",m),new Error("Failed to add product.")}},updateProduct:async(f,m)=>{try{await de.collection("products").doc(f).update(m),await o()}catch(y){throw console.error("Error updating product: ",y),new Error("Failed to update product.")}},deleteProduct:async f=>{try{await de.collection("products").doc(f).delete(),await o()}catch(m){throw console.error("Error deleting product: ",m),new Error("Failed to delete product.")}}};return c.jsx(x7.Provider,{value:h,children:t})},b7=g.createContext(void 0),xr=()=>{const t=g.useContext(b7);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t},Wpe=({children:t})=>{const[e,n]=g.useState([]),[r,i]=g.useState(!1),[a,s]=g.useState(null),[o,l]=g.useState(!0),[u,d]=g.useState([]),{currentUser:h}=Yr(),{products:f,isLoading:m}=ku();g.useEffect(()=>{if(a){const R=setTimeout(()=>s(null),4e3);return()=>clearTimeout(R)}},[a]);const y=g.useCallback(R=>{s(R)},[]);g.useEffect(()=>{h?(async()=>{var O;if(!(!h||m)){l(!0);try{const L=await de.collection("users").doc(h.uid).get();if(L.exists){const q=(((O=L.data())==null?void 0:O.cart)||[]).map(H=>{const J=f.find(he=>he.id===H.productId);if(!J)return null;const oe=J.sizes.find(he=>he.name===H.sizeName);if(!oe)return null;const et=H.customizations?JSON.stringify(H.customizations):"";return{id:`${J.id}-${oe.name}-${et}`,product:J,selectedSize:oe,quantity:H.quantity,customizations:H.customizations}}).filter(H=>H!==null);n(q)}}catch(M){console.error("Error fetching cart from Firestore:",M),y("Couldn't load your cart.")}finally{l(!1)}}})():(n([]),l(!1))},[h,f,m,y]);const v=g.useCallback(async R=>{if(h)try{const O=de.collection("users").doc(h.uid),M=R.map(L=>{const B={};return L.customizations&&(L.customizations.sugarLevel!==void 0&&(B.sugarLevel=L.customizations.sugarLevel),L.customizations.iceLevel!==void 0&&(B.iceLevel=L.customizations.iceLevel),L.customizations.toppings!==void 0&&(B.toppings=L.customizations.toppings)),{productId:L.product.id,sizeName:L.selectedSize.name,quantity:L.quantity,...Object.keys(B).length>0&&{customizations:B}}});await O.set({cart:M},{merge:!0})}catch(O){console.error("Error updating Firestore cart:",O),y("Error saving your cart.")}},[h,y]),x=g.useMemo(()=>e.reduce((R,O)=>R+O.quantity,0),[e]),b=()=>i(!0),w=()=>i(!1),_=(R,O,M,L=1)=>{const B=M?JSON.stringify(M):"",q=`${R.id}-${O.name}-${B}`;let H;e.find(oe=>oe.id===q)?H=e.map(oe=>oe.id===q?{...oe,quantity:Math.min(oe.quantity+L,R.stock)}:oe):H=[...e,{id:q,product:R,selectedSize:O,quantity:Math.min(L,R.stock),customizations:M}],n(H),v(H),y(`${R.name} (${O.name}) added to cart!`),b()},S=R=>{if(!R||R.length===0)return;let O=[...e],M=0;R.forEach(L=>{const B=L.customizations?JSON.stringify(L.customizations):"",q=`${L.product.id}-${L.selectedSize.name}-${B}`,H=O.findIndex(J=>J.id===q);if(H>-1){const J=O[H],oe=J.quantity+L.quantity;O[H]={...J,quantity:Math.min(oe,L.product.stock)}}else O.push({id:q,product:L.product,selectedSize:L.selectedSize,quantity:Math.min(L.quantity,L.product.stock),customizations:L.customizations});M+=L.quantity}),n(O),v(O),y(`${M} item(s) added to your cart!`),b()},A=(R,O)=>{let M;O<1?M=e.filter(L=>L.id!==R):M=e.map(L=>L.id===R?{...L,quantity:Math.min(O,L.product.stock)}:L),n(M),v(M)},C=R=>{const O=e.find(L=>L.id===R),M=e.filter(L=>L.id!==R);n(M),v(M),O&&y(`${O.product.name} (${O.selectedSize.name}) removed from cart.`)},N=()=>{n([]),d([]),v([])},T=R=>{d(O=>O.includes(R)?O.filter(M=>M!==R):[...O,R])},I=()=>{d(e.map(R=>R.id))},P=()=>{d([])};g.useEffect(()=>{const R=e.map(O=>O.id);d(O=>{const M=O.filter(B=>R.includes(B)),L=R.filter(B=>!O.includes(B));return[...M,...L]})},[e]);const k={cartItems:e,isCartOpen:r,toastMessage:a,totalCartItems:x,isCartLoading:o,selectedItemIds:u,addToCart:_,addMultipleToCart:S,updateQuantity:A,removeFromCart:C,openCart:b,closeCart:w,showToast:y,toggleItemSelection:T,selectAllItems:I,deselectAllItems:P,clearCart:N};return c.jsx(b7.Provider,{value:k,children:t})},Ln=({className:t,...e})=>c.jsxs("svg",{viewBox:"0 0 241 175",xmlns:"http://www.w3.org/2000/svg",className:t,fill:"currentColor",...e,children:[c.jsx("path",{d:"M153.092 78.5C178.275 50.84 210.393 19.4076 222.5 17.5C234.607 15.5924 239.5 30 239.5 30C239.5 30 244.137 46.596 236.388 72.8253C228.64 99.0547 199 128.5 199 128.5C199 128.5 177.5 152.5 147.5 167C147.5 167 114.686 183.001 104.889 169.159C95.0912 155.316 127.909 106.16 153.092 78.5Z"}),c.jsx("path",{d:"M8.99445 86.0801C8.99445 86.0801 -16.2682 31.1886 17.8826 14.4198C33.7618 9.56756 76 55.675 76 64.5C76 70 63.7899 86.337 59 101.5C54.887 114.52 55.557 134.266 52.0896 135.774C48.0468 137.533 37.3644 137.835 8.99445 86.0801Z"}),c.jsx("path",{d:"M47 12.5C41.0274 7.52362 41.5502 -7.59339e-06 52.5 0C63.4498 7.5934e-06 69.3348 2.24286 82.0884 7.45282C95.3718 12.8792 105.888 16.4103 109.463 23.875C111.5 32.5 107.979 33.026 103.5 38.5C99.0205 43.9741 96 44.1666 91 43.5C83.5342 42.5047 52.9726 17.4764 47 12.5Z"}),c.jsx("path",{d:"M200.048 20.8891C212.988 11.4339 207.491 2.52815 200.048 2.97405C192.604 3.41995 127.379 9.72972 89.5542 67.6673C85.4261 73.9905 72.4385 95.2439 69.1452 112.455C65.6022 130.971 65.8681 149.097 73.6272 157.74C81.0528 166.012 88.1891 164.145 92.2823 156.482C96.4277 148.721 97.4982 135.065 100.004 127.882C104.983 113.605 104.907 116.382 109.393 106.379C114.278 95.4879 120.938 86.2377 126.993 78.4363C154.543 42.9442 190.775 27.6646 200.048 20.8891Z"})]}),Ype=[{href:"/",label:"Home"},{href:"/about",label:"About"},{href:"/menu",label:"Menu"},{href:"/contact",label:"Contact"}],Qpe=[{href:"/menu",label:"Menu"},{href:"/queue",label:"Queue"},{href:"/rewards",label:"Rewards"}],R4=[{href:"/profile",label:"My Profile",Icon:Ms},{href:"/rewards",label:"My Rewards",Icon:Bp},{href:"/about",label:"About",Icon:vx},{href:"/contact",label:"Contact",Icon:Ds}],mn=()=>{const[t,e]=g.useState(!1),[n,r]=g.useState(!1),i=g.useRef(null),{currentUser:a,logout:s}=Yr(),{totalCartItems:o,openCart:l}=xr(),u=Qi(),d=a?Qpe:Ype,h=()=>e(!1);g.useEffect(()=>{const x=b=>{i.current&&!i.current.contains(b.target)&&r(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]),g.useEffect(()=>{const x=()=>{window.innerWidth>=768&&e(!1)};return window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]),g.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]);const f=async()=>{await s(),h(),r(!1),u("/")},m=()=>e(!t),y=(x=!1)=>{const b="rounded-full text-sm font-semibold transition-colors",w="block w-full text-center py-3 text-base",_="px-6 py-2",S=x?h:void 0;return a?c.jsxs("div",{className:`relative ${x?"w-full":""}`,ref:i,children:[c.jsxs("button",{onClick:()=>r(!n),className:`flex w-full items-center justify-center gap-2 rounded-full border border-primary-600 px-4 py-2 text-sm font-semibold text-primary-600 transition-colors hover:bg-primary-50 ${x?"text-base":""}`,"aria-haspopup":"true","aria-expanded":n,children:[c.jsxs("span",{children:["Welcome, ",a.firstName,"!"]}),c.jsx(tf,{className:`h-4 w-4 transition-transform ${n?"rotate-180":""}`})]}),n&&!x&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:c.jsxs("div",{className:"py-1",role:"menu","aria-orientation":"vertical",children:[R4.map(A=>c.jsxs(Ni,{to:A.href,onClick:()=>r(!1),className:({isActive:C})=>`flex items-center gap-3 px-4 py-2 text-sm transition-colors hover:bg-gray-100 ${C?"text-primary-600 font-semibold":"text-gray-700"}`,role:"menuitem",children:[c.jsx(A.Icon,{className:"h-4 w-4"}),A.label]},A.label)),a.role==="admin"&&c.jsxs(c.Fragment,{children:[c.jsx("hr",{className:"my-1"}),c.jsxs(Ni,{to:"/admin",onClick:()=>r(!1),className:"flex items-center gap-3 px-4 py-2 text-sm font-semibold text-yellow-700 transition-colors hover:bg-yellow-50",role:"menuitem",children:[c.jsx(Ba,{className:"h-4 w-4"}),"Admin Dashboard"]})]}),c.jsx("hr",{className:"my-1"}),c.jsxs("button",{onClick:f,className:"flex w-full items-center gap-3 px-4 py-2 text-left text-sm text-red-600 transition-colors hover:bg-red-50",role:"menuitem",children:[c.jsx(xx,{className:"h-4 w-4"}),"Logout"]})]})})]}):c.jsxs("div",{className:`flex items-center ${x?"flex-col space-y-3":"gap-4"}`,children:[c.jsx(Ni,{to:"/auth/login",onClick:S,className:`${b} border border-primary-600 text-primary-600 hover:bg-primary-50 ${x?w:_}`,children:"Login"}),c.jsx(Ni,{to:"/auth/register",onClick:S,className:`${b} bg-primary-600 text-white shadow-sm hover:bg-primary-700 ${x?w:_}`,children:"Sign Up"})]})},v=()=>c.jsxs("button",{onClick:l,className:"relative rounded-full p-2 text-gray-700 transition hover:bg-gray-100","aria-label":`Open cart with ${o} items`,children:[c.jsx(OU,{className:"h-6 w-6"}),o>0&&c.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-xs font-bold text-white","aria-hidden":"true",children:o})]});return c.jsxs(c.Fragment,{children:[c.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-gray-200/80 bg-white/95 shadow-md backdrop-blur-sm",children:c.jsxs("div",{className:"container mx-auto flex h-16 items-center justify-between px-4 sm:h-20 sm:px-6 lg:px-8",children:[c.jsxs(Ni,{to:"/",className:"flex items-center gap-2 flex-shrink-0",children:[c.jsx(Ln,{className:"h-7 w-7 text-primary-600 sm:h-8 sm:w-8"}),c.jsx("span",{className:"text-lg font-bold text-primary-600 whitespace-nowrap sm:text-2xl",children:"Rush Coffee"})]}),c.jsx("nav",{className:"hidden items-center justify-center space-x-8 md:flex",children:d.map(x=>c.jsx(Ni,{to:x.href,className:({isActive:b})=>`relative text-sm font-normal uppercase transition-colors hover:text-primary-600 ${b?"text-primary-600":"text-gray-700"} after:absolute after:bottom-0 after:left-0 after:h-[1px] after:w-full after:origin-center after:transform after:bg-primary-600 after:transition-transform after:duration-300 ${b?"after:scale-x-100":"after:scale-x-0"} hover:after:scale-x-100`,children:x.label},x.label))}),c.jsxs("div",{className:"hidden items-center justify-end gap-2 md:flex",children:[y(),a&&c.jsx(v,{})]}),c.jsxs("div",{className:"flex items-center justify-end gap-2 md:hidden",children:[a&&c.jsx(v,{}),c.jsx("button",{onClick:m,className:"rounded-md p-2 text-gray-700 transition hover:bg-gray-100","aria-label":"Toggle menu","aria-expanded":t,children:c.jsx(G2,{className:"h-6 w-6"})})]})]})}),c.jsxs("div",{className:`fixed inset-0 z-[60] md:hidden ${t?"pointer-events-auto":"pointer-events-none"}`,children:[c.jsx("div",{className:`absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300 ${t?"opacity-100":"opacity-0"}`,onClick:h,"aria-hidden":"true"}),c.jsxs("div",{className:`absolute top-0 right-0 h-full w-4/5 max-w-sm transform bg-white shadow-2xl transition-transform duration-300 ease-out ${t?"translate-x-0":"translate-x-full"}`,role:"dialog","aria-modal":"true","aria-labelledby":"mobile-menu-title",children:[c.jsxs("div",{className:"flex items-center justify-between border-b p-4",children:[c.jsxs(Ni,{to:"/",className:"flex items-center gap-2",onClick:h,children:[c.jsx(Ln,{className:"h-7 w-7 text-primary-600"}),c.jsx("span",{id:"mobile-menu-title",className:"text-xl font-bold text-primary-600",children:"Rush Coffee"})]}),c.jsx("button",{onClick:h,className:"rounded-full p-2 text-gray-500 transition hover:bg-gray-100 hover:text-gray-700","aria-label":"Close menu",children:c.jsx(Xi,{className:"h-6 w-6"})})]}),c.jsxs("nav",{className:"flex flex-1 flex-col gap-2 overflow-y-auto p-4",children:[d.map(x=>c.jsx(Ni,{to:x.href,onClick:h,className:({isActive:b})=>`rounded-xl px-4 py-3 text-lg font-medium transition-all ${b?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:x.label},x.label)),a&&c.jsxs("div",{className:"mt-4 border-t pt-4",children:[c.jsx("p",{className:"mb-2 px-4 text-xs font-semibold uppercase tracking-wider text-gray-400",children:"Account"}),R4.map(x=>c.jsxs(Ni,{to:x.href,onClick:h,className:({isActive:b})=>`flex items-center gap-3 rounded-xl px-4 py-3 text-base font-medium transition-all ${b?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[c.jsx(x.Icon,{className:"h-5 w-5"}),x.label]},x.label)),a.role==="admin"&&c.jsxs(Ni,{to:"/admin",onClick:h,className:({isActive:x})=>`flex items-center gap-3 rounded-xl px-4 py-3 text-base font-medium transition-all ${x?"bg-yellow-50 text-yellow-800":"text-yellow-700 hover:bg-yellow-50"}`,children:[c.jsx(Ba,{className:"h-5 w-5"}),"Admin Dashboard"]})]})]}),c.jsx("div",{className:"border-t p-4",children:a?c.jsxs("button",{onClick:f,className:"flex w-full items-center justify-center gap-2 rounded-xl bg-red-50 px-6 py-3 text-base font-semibold text-red-600 transition-colors hover:bg-red-100",children:[c.jsx(xx,{className:"h-5 w-5"}),"Logout"]}):y(!0)})]})]})]})},pn=()=>c.jsxs("footer",{className:"relative bg-coffee-900 text-coffee-200",children:[c.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-5"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),c.jsxs("div",{className:"container relative z-10 mx-auto grid grid-cols-2 gap-8 px-6 py-12 md:grid-cols-2 lg:grid-cols-4",children:[c.jsxs("div",{className:"col-span-2 space-y-4 md:col-span-1 lg:col-span-1",children:[c.jsxs(Be,{to:"/",className:"flex items-center gap-2",children:[c.jsx(Ln,{className:"h-8 w-8 text-primary-500"}),c.jsx("span",{className:"font-display text-2xl font-bold text-white",children:"Rush Coffee"})]}),c.jsx("p",{className:"font-medium text-white",children:"Premium coffee, no waiting."}),c.jsx("p",{className:"text-sm leading-relaxed text-coffee-200/80",children:"Join the digital queue and get your coffee fix faster than ever. Experience the future of coffee ordering."})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"mb-6 font-display text-lg font-bold text-white",children:"Quick Links"}),c.jsxs("ul",{className:"space-y-3",children:[c.jsx("li",{children:c.jsx(Be,{to:"/",className:"transition-colors hover:text-primary-400 hover:underline",children:"Home"})}),c.jsx("li",{children:c.jsx(Be,{to:"/about",className:"transition-colors hover:text-primary-400 hover:underline",children:"About Us"})}),c.jsx("li",{children:c.jsx(Be,{to:"/menu",className:"transition-colors hover:text-primary-400 hover:underline",children:"Menu"})}),c.jsx("li",{children:c.jsx(Be,{to:"/faq",className:"transition-colors hover:text-primary-400 hover:underline",children:"FAQ"})}),c.jsx("li",{children:c.jsx(Be,{to:"/contact",className:"transition-colors hover:text-primary-400 hover:underline",children:"Contact"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"mb-6 font-display text-lg font-bold text-white",children:"Legal"}),c.jsxs("ul",{className:"space-y-3",children:[c.jsx("li",{children:c.jsx(Be,{to:"/terms",className:"transition-colors hover:text-primary-400 hover:underline",children:"Terms of Service"})}),c.jsx("li",{children:c.jsx(Be,{to:"/privacy",className:"transition-colors hover:text-primary-400 hover:underline",children:"Privacy Policy"})}),c.jsx("li",{children:c.jsx(Be,{to:"/cookies",className:"transition-colors hover:text-primary-400 hover:underline",children:"Cookie Policy"})})]})]}),c.jsxs("div",{className:"col-span-2 md:col-span-1 lg:col-span-1",children:[c.jsx("h3",{className:"mb-6 font-display text-lg font-bold text-white",children:"Contact & Connect"}),c.jsx("address",{className:"not-italic",children:c.jsxs("ul",{className:"space-y-4",children:[c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx(H2,{className:"mt-1 h-5 w-5 flex-shrink-0 text-primary-500"}),c.jsx("span",{children:"11 Visayan Ave. St. Galas, Quezon City, Philippines"})]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(Ds,{className:"h-5 w-5 flex-shrink-0 text-primary-500"}),c.jsx("a",{href:"tel:09304641022",className:"transition-colors hover:text-white",children:"0930 464 1022"})]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(gr,{className:"h-5 w-5 flex-shrink-0 text-primary-500"}),c.jsx("a",{href:"mailto:hello@rushcoffee.ph",className:"transition-colors hover:text-white",children:"hello@rushcoffee.ph"})]})]})}),c.jsxs("div",{className:"mt-8 flex gap-4",children:[c.jsx("a",{href:"https://www.facebook.com/profile.php?id=61551613276320",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",className:"rounded-full bg-white/5 p-2 transition-colors hover:bg-primary-600 hover:text-white",children:c.jsx(CU,{className:"h-5 w-5"})}),c.jsx("a",{href:"https://www.instagram.com/Rush_Coffee2023/",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",className:"rounded-full bg-white/5 p-2 transition-colors hover:bg-primary-600 hover:text-white",children:c.jsx(PU,{className:"h-5 w-5"})})]})]})]}),c.jsx("div",{className:"relative z-10 border-t border-white/10 bg-black/20",children:c.jsxs("div",{className:"container mx-auto flex flex-col items-center justify-between gap-4 px-6 py-6 text-center text-sm text-coffee-300 sm:flex-row",children:[c.jsx("p",{children:" 2023 Rush Coffee. All rights reserved."}),c.jsxs("p",{className:"flex items-center gap-1",children:["Made with ",c.jsx("span",{className:"text-red-500",children:""})," and ",c.jsx("span",{className:"text-amber-500",children:""})]})]})})]}),Xpe=[{Icon:Zs,title:"Live Queue Updates",description:"Track your position in real-time and know exactly when your coffee will be ready. No more waiting around!",iconBgColor:"bg-primary-100",iconTextColor:"text-primary-600"},{Icon:Ln,title:"Order Ahead",description:"Browse our menu, customize your drink, and order from anywhere. Your coffee, your way.",iconBgColor:"bg-coffee-100",iconTextColor:"text-coffee-800"},{Icon:Bp,title:"Loyalty Rewards",description:"Earn points with every purchase and redeem for free drinks and exclusive perks.",iconBgColor:"bg-green-100",iconTextColor:"text-green-600"},{Icon:LU,title:"Multiple Payment Options",description:"Pay with GCash or cash on pickupwhatever works best for you.",iconBgColor:"bg-blue-100",iconTextColor:"text-blue-600"}],Zpe=[{number:1,Icon:G2,title:"Browse & Customize",description:"Explore our menu of premium coffee drinks and customize your order exactly how you like it.",hasAnimation:!0},{number:2,Icon:Xg,title:"Join Virtual Queue",description:"Place your order and automatically join the queue. Get your position and estimated wait time instantly."},{number:3,Icon:ef,title:"Pickup & Enjoy",description:"Receive real-time notifications. When ready, breeze past the line and grab your coffee.",isPulsing:!0}],Jpe=[{quote:"Rush Coffee changed my morning routine! No more waiting in long lines. I order on my way and pick up when it's ready. Absolutely love it!",name:"Sarah M.",title:"Regular Customer",initial:"S",avatarBg:"bg-primary-100",avatarText:"text-primary-600"},{quote:"The queue system is genius. I can track exactly when my coffee will be ready. Plus, earning rewards with every purchase is a nice bonus!",name:"Miguel R.",title:"Gold Member",initial:"M",avatarBg:"bg-blue-100",avatarText:"text-blue-600"},{quote:"Best coffee experience in Manila. Fast, convenient, and the coffee is always perfect. The mobile app makes everything so easy!",name:"Ana L.",title:"VIP Member",initial:"A",avatarBg:"bg-green-100",avatarText:"text-green-600"}],ege=()=>{const{currentUser:t}=Yr(),e=t?"/menu":"/auth/register";return c.jsxs("div",{className:"bg-white",children:[c.jsx(mn,{}),c.jsxs("main",{children:[c.jsxs("section",{className:"relative flex min-h-[calc(100vh-5rem)] items-center overflow-hidden bg-gray-900",children:[c.jsxs("div",{className:"absolute inset-0 z-0",children:[c.jsx("img",{src:"https://images.unsplash.com/photo-1497935586351-b67a49e012bf?q=80&w=2071&auto=format&fit=crop",alt:"Coffee Shop Atmosphere",className:"h-full w-full object-cover opacity-40"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900 via-gray-900/80 to-transparent"})]}),c.jsx("div",{className:"container relative z-10 mx-auto max-w-7xl px-6 py-20",children:c.jsxs("div",{className:"grid grid-cols-1 items-center gap-12 lg:grid-cols-2",children:[c.jsxs("div",{className:"animate-fade-in-up text-center lg:text-left",children:[c.jsx("p",{className:"mb-4 font-medium text-primary-400",style:{animationDelay:"100ms",opacity:0},children:" Welcome to Rush Coffee"}),c.jsxs("h1",{className:"font-display text-5xl font-bold text-white md:text-6xl lg:text-7xl",children:[c.jsx("span",{className:"block",style:{animation:"fade-in-up 0.8s ease-out 200ms forwards",opacity:0},children:"Skip the Line,"}),c.jsx("span",{className:"block text-primary-400",style:{animation:"fade-in-up 0.8s ease-out 300ms forwards",opacity:0},children:"Get Your Coffee"}),c.jsx("span",{className:"block",style:{animation:"fade-in-up 0.8s ease-out 400ms forwards",opacity:0},children:"Faster."})]}),c.jsx("p",{className:"mx-auto mt-6 max-w-2xl text-lg text-gray-300 md:text-xl lg:mx-0",style:{animation:"fade-in-up 0.8s ease-out 500ms forwards",opacity:0},children:"Join our digital queue system. Order ahead, track your position in real-time, and breeze through pickup. Your perfect cup awaitswithout the wait."}),c.jsxs("div",{className:"mt-8 flex flex-wrap justify-center gap-2 lg:justify-start",style:{animation:"fade-in-up 0.8s ease-out 600ms forwards",opacity:0},children:[c.jsx(cr,{className:"bg-primary-900/50 text-white border border-primary-700",children:" Real-Time Queue"}),c.jsx(cr,{className:"bg-primary-900/50 text-white border border-primary-700",children:" Mobile Ordering"}),c.jsx(cr,{className:"bg-primary-900/50 text-white border border-primary-700",children:" Rewards Program"})]}),c.jsx("div",{className:"mt-8 flex flex-col items-center gap-4 sm:flex-row sm:justify-center lg:justify-start",style:{animation:"fade-in-up 0.8s ease-out 700ms forwards",opacity:0},children:c.jsxs(Be,{to:e,className:"flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-8 py-4 text-lg font-semibold text-white shadow-lg transition-transform hover:scale-105 hover:bg-primary-700 sm:w-auto",children:[c.jsx(Ln,{className:"h-5 w-5"}),"Order Now"]})}),c.jsx("p",{className:"mt-6 text-sm text-gray-400",style:{animation:"fade-in-up 0.8s ease-out 800ms forwards",opacity:0},children:"Join 4,000+ happy customers "})]}),c.jsxs("div",{className:"relative hidden h-96 lg:flex lg:items-center lg:justify-center",children:[c.jsx("div",{className:"absolute h-80 w-80 animate-float rounded-full bg-primary-500/20 blur-3xl"}),c.jsx("div",{className:"absolute bottom-0 right-0 h-64 w-64 animate-float-delay rounded-full bg-coffee-500/20 blur-2xl"}),c.jsx("div",{className:"relative animate-fade-in-up",style:{animationDelay:"500ms",opacity:0},children:c.jsx(Ln,{className:"h-auto w-[250px] animate-float drop-shadow-2xl text-white lg:w-[350px]"})})]})]})})]}),c.jsx("section",{id:"features",className:"bg-white px-6 py-20",children:c.jsxs("div",{className:"container mx-auto max-w-7xl",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"mb-2 font-medium text-primary-600",children:"Why Rush Coffee?"}),c.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900 md:text-4xl",children:"Everything You Need for a Seamless Coffee Experience"}),c.jsx("p",{className:"mx-auto mb-12 max-w-2xl text-sm text-gray-600 md:text-base",children:"From ordering to pickup, we've got you covered."})]}),c.jsx("div",{className:"grid grid-cols-2 gap-3 md:gap-4 md:grid-cols-2 lg:grid-cols-4",children:Xpe.map((n,r)=>c.jsxs(pe,{hover:!0,padding:"none",className:"text-center p-4 md:p-6",children:[c.jsx("div",{className:`mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-xl md:mb-4 md:h-16 md:w-16 ${n.iconBgColor}`,children:c.jsx(n.Icon,{className:`h-6 w-6 md:h-8 md:w-8 ${n.iconTextColor}`})}),c.jsx("h3",{className:"mb-1 font-display text-sm font-bold text-coffee-900 md:mb-2 md:text-xl md:font-semibold",children:n.title}),c.jsx("p",{className:"text-xs leading-snug text-gray-600 md:text-sm md:leading-relaxed",children:n.description})]},r))})]})}),c.jsx("section",{id:"how-it-works",className:"bg-gradient-to-b from-coffee-50 to-white px-6 py-12 md:py-20",children:c.jsxs("div",{className:"container mx-auto max-w-7xl",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"mb-2 font-medium text-primary-600",children:"Simple Process"}),c.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900 md:text-4xl",children:"How Rush Coffee Works"}),c.jsx("p",{className:"mx-auto mb-10 max-w-2xl text-sm text-gray-600 md:mb-16 md:text-base",children:"Get your perfect cup in three easy steps."})]}),c.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:Zpe.map((n,r)=>c.jsxs("div",{className:`relative w-full text-center ${r===2?"md:col-span-2 lg:col-span-1 md:w-[calc(50%-0.5rem)] md:mx-auto lg:w-full":""}`,children:[c.jsx("div",{className:"absolute -top-3 left-1/2 z-10 flex h-10 w-10 -translate-x-1/2 items-center justify-center rounded-full bg-primary-600 font-display text-lg font-bold text-white shadow-lg md:-top-4 md:h-12 md:w-12 md:text-xl",children:n.number}),c.jsxs(pe,{className:"pt-8 h-full",padding:"sm",children:[c.jsxs("div",{className:"relative mx-auto flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-primary-100 to-coffee-100 p-3 md:h-20 md:w-20 md:p-4",children:[n.hasAnimation&&c.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-2xl",children:[c.jsx("div",{className:"absolute left-1/2 top-2 h-4 w-px -translate-x-1/2 animate-steam-1 rounded-full bg-primary-300/80"}),c.jsx("div",{className:"absolute left-1/3 top-2 h-5 w-px animate-steam-2 rounded-full bg-primary-300/80"}),c.jsx("div",{className:"absolute left-2/3 top-2 h-3 w-px animate-steam-1 rounded-full bg-primary-300/80"})]}),c.jsx(n.Icon,{className:`h-8 w-8 text-primary-600 md:h-10 md:w-10 ${n.isPulsing?"animate-pulse-slow":""}`})]}),c.jsx("h3",{className:"mb-2 mt-3 font-display text-lg font-semibold text-coffee-900 md:mt-4 md:text-xl",children:n.title}),c.jsx("p",{className:"text-xs text-gray-600 md:text-sm",children:n.description})]})]},n.number))})]})}),c.jsx("section",{id:"testimonials",className:"bg-white py-12 px-6 md:py-20",children:c.jsxs("div",{className:"container mx-auto max-w-7xl",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"mb-2 font-medium text-primary-600",children:"Customer Love"}),c.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900 md:text-4xl",children:"What Our Customers Say"}),c.jsx("p",{className:"mx-auto mb-10 max-w-2xl text-sm text-gray-600 md:mb-12 md:text-base",children:"Join thousands of satisfied coffee lovers."})]}),c.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:Jpe.map((n,r)=>c.jsxs(pe,{hover:!0,padding:"sm",className:`flex flex-col border-l-4 border-primary-400 transition-transform duration-300 hover:scale-105 ${r===2?"md:col-span-2 lg:col-span-1 md:w-[calc(50%-0.5rem)] md:mx-auto lg:w-full":""}`,children:[c.jsx(Ere,{className:"h-6 w-6 text-primary-200 md:h-8 md:w-8"}),c.jsx("div",{className:"my-3 text-sm text-yellow-400 md:my-4 md:text-base",children:""}),c.jsxs("p",{className:"flex-grow font-sans italic text-sm text-gray-700 md:text-base",children:['"',n.quote,'"']}),c.jsxs("div",{className:"mt-4 flex items-center gap-3 md:gap-4",children:[c.jsx("div",{className:`flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full font-bold text-sm md:h-12 md:w-12 md:text-base ${n.avatarBg} ${n.avatarText}`,children:n.initial}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-coffee-900 md:text-base",children:n.name}),c.jsx(cr,{className:"bg-gray-100 text-gray-600 text-[10px] px-1.5 py-0.5 md:text-xs md:px-2",children:n.title})]})]})]},r))})]})}),c.jsxs("section",{className:"relative overflow-hidden bg-coffee-900 px-6 py-24 text-center text-white",children:[c.jsxs("div",{className:"absolute inset-0 z-0",children:[c.jsx("img",{src:"https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?q=80&w=2070&auto=format&fit=crop",alt:"Coffee shop atmosphere",className:"h-full w-full object-cover opacity-20"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-coffee-900/90 via-coffee-800/90 to-coffee-900/90"})]}),c.jsx("div",{className:"absolute -left-1/4 -top-1/4 opacity-5",children:c.jsx(Ln,{className:"h-96 w-96 animate-float text-white"})}),c.jsx("div",{className:"absolute -bottom-1/4 -right-1/4 opacity-5",children:c.jsx(Ln,{className:"h-[30rem] w-[30rem] animate-float-delay text-white"})}),c.jsxs("div",{className:"relative z-10 mx-auto max-w-3xl",children:[c.jsxs("div",{className:"relative mx-auto mb-6 inline-block",children:[c.jsx("span",{className:"text-6xl",role:"img","aria-label":"Coffee cup",children:""}),c.jsxs("div",{className:"absolute -top-4 left-0 right-0 h-12",children:[c.jsx("div",{className:"absolute left-1/2 h-6 w-px -translate-x-1/2 animate-steam-1 rounded-full bg-white/50"}),c.jsx("div",{className:"absolute left-1/3 h-8 w-px animate-steam-2 rounded-full bg-white/50"}),c.jsx("div",{className:"absolute left-2/3 h-5 w-px animate-steam-1 rounded-full bg-white/50"})]})]}),c.jsx("h2",{className:"font-display text-4xl font-bold md:text-5xl lg:text-6xl",children:"Ready to Rush Through Your Day?"}),c.jsx("p",{className:"mx-auto mb-8 mt-6 max-w-2xl text-xl text-gray-300",children:"Join 4,000+ customers who've already skipped the line. Experience the future of coffee ordering."}),c.jsxs("div",{className:"mb-10 flex flex-wrap justify-center gap-3",children:[c.jsx("span",{className:"rounded-full bg-white/10 px-4 py-1.5 text-sm font-medium text-white backdrop-blur-sm border border-white/10",children:"5,000+ Orders Completed"}),c.jsx("span",{className:"rounded-full bg-white/10 px-4 py-1.5 text-sm font-medium text-white backdrop-blur-sm border border-white/10",children:"4.9 Average Rating"}),c.jsx("span",{className:"rounded-full bg-white/10 px-4 py-1.5 text-sm font-medium text-white backdrop-blur-sm border border-white/10",children:"< 5 min Average Wait"})]}),c.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 sm:flex-row",children:[c.jsxs(Be,{to:e,className:"group inline-flex items-center justify-center gap-2 rounded-full bg-primary-600 px-8 py-4 text-lg font-semibold text-white shadow-lg transition-all hover:bg-primary-500 hover:shadow-primary-600/30 hover:-translate-y-1",children:["Start Ordering Now",c.jsx(Xc,{className:"h-5 w-5 transition-transform group-hover:translate-x-1"})]}),c.jsx(Be,{to:"/menu",className:"inline-flex items-center justify-center gap-2 rounded-full border border-white/20 bg-white/5 px-8 py-4 text-lg font-semibold text-white backdrop-blur-sm transition-all hover:bg-white/10 hover:-translate-y-1",children:"View Menu"})]}),c.jsxs("p",{className:"mt-8 text-sm text-gray-400",children:["Already have an account?"," ",c.jsx(Be,{to:"/auth/login",className:"font-medium text-primary-400 hover:text-primary-300 hover:underline",children:"Log in here"})]})]})]})]}),c.jsx(pn,{})]})},Mn=g.forwardRef(({className:t,type:e,label:n,error:r,helperText:i,success:a,startIcon:s,endIcon:o,containerClassName:l,id:u,inputSize:d="md",...h},f)=>{const m={sm:"px-3 py-2 text-sm",md:"px-4 py-3.5 text-sm",lg:"px-5 py-4 text-base"};return c.jsxs("div",{className:`w-full ${l||""}`,children:[n&&c.jsx("label",{htmlFor:u,className:"mb-1.5 block text-sm font-medium text-coffee-900",children:n}),c.jsxs("div",{className:"relative group",children:[s&&c.jsx("div",{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 transition-colors group-focus-within:text-primary-600",children:s}),c.jsx("input",{id:u,type:e,className:`
              w-full rounded-xl border bg-white text-gray-900 
              placeholder:text-gray-500 placeholder:font-medium transition-all duration-200 ease-in-out
              focus:border-primary-500 focus:outline-none focus:ring-4 focus:ring-primary-500/10
              disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500
              ${s?"pl-10":""}
              ${o?"pr-10":""}
              ${m[d]}
              ${r?"border-red-300 focus:border-red-500 focus:ring-red-500/10":a?"border-green-300 focus:border-green-500 focus:ring-green-500/10":"border-gray-500 shadow-sm hover:border-primary-400"}
              ${t||""}
            `,ref:f,...h}),o&&c.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:o})]}),r&&c.jsx("p",{className:"mt-1.5 text-xs font-medium text-red-600 animate-fade-in-up",children:r}),!r&&a&&c.jsx("p",{className:"mt-1.5 text-xs font-medium text-green-600 animate-fade-in-up",children:a}),!r&&!a&&i&&c.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:i})]})});Mn.displayName="Input";const tge=()=>{const[t,e]=g.useState(""),[n,r]=g.useState(""),[i,a]=g.useState(!1),[s,o]=g.useState(!1),[l,u]=g.useState({}),[d,h]=g.useState(null),[f,m]=g.useState(!1),[y,v]=g.useState(!1),x=Qi(),{login:b,signInWithGoogle:w}=Yr(),_=()=>{const A={};return t?/\S+@\S+\.\S+/.test(t)||(A.email="Email address is invalid"):A.email="Email is required",n||(A.password="Password is required"),A},S=async A=>{A.preventDefault(),h(null);const C=_();if(Object.keys(C).length>0){u(C);return}u({}),m(!0);try{(await b(t,n,s)).role==="admin"?x("/admin"):x("/")}catch(N){let T="An unexpected error occurred. Please try again.";switch(N.code){case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":T="Invalid email or password. Please try again.";break;case"auth/too-many-requests":T="Too many failed login attempts. Please try again later.";break}h(T)}finally{m(!1)}};return c.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-primary-50 via-coffee-50 to-white",children:[c.jsx(mn,{}),c.jsx("main",{className:"flex flex-1 items-center justify-center px-4 py-12 sm:px-6 lg:px-8",children:c.jsx("div",{className:"w-full max-w-md",children:c.jsxs(pe,{className:"rounded-2xl p-8 shadow-xl",children:[c.jsxs("div",{className:"mb-6 text-center",children:[c.jsx(Ln,{className:"mx-auto h-12 w-12 text-primary-600"}),c.jsx("h2",{className:"mt-4 font-display text-3xl font-bold text-coffee-900",children:"Rush Coffee"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Welcome back! "})]}),d&&c.jsxs("div",{className:"mb-4 flex items-start gap-3 rounded-lg bg-red-50 p-4 text-sm text-red-700",role:"alert",children:[c.jsx(Ja,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),c.jsx("div",{children:d})]}),c.jsxs("form",{onSubmit:S,noValidate:!0,className:"space-y-6",children:[c.jsx(Mn,{id:"email",name:"email",type:"email",label:"Email address",autoComplete:"email",required:!0,value:t,onChange:A=>e(A.target.value),placeholder:"name@company.com",error:l.email,startIcon:c.jsx(gr,{className:"h-5 w-5"})}),c.jsx(Mn,{id:"password",name:"password",type:i?"text":"password",label:"Password",autoComplete:"current-password",required:!0,value:n,onChange:A=>r(A.target.value),placeholder:"",error:l.password,startIcon:c.jsx(lh,{className:"h-5 w-5"}),endIcon:c.jsx("button",{type:"button",onClick:()=>a(!i),className:"focus:outline-none hover:text-gray-600 transition-colors","aria-label":i?"Hide password":"Show password",children:i?c.jsx(OT,{className:"h-5 w-5"}):c.jsx(yx,{className:"h-5 w-5"})})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:s,onChange:A=>o(A.target.checked),className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),c.jsx("div",{className:"text-sm",children:c.jsx(Be,{to:"/auth/forgot-password",className:"font-medium text-primary-600 hover:text-primary-500",children:"Forgot your password?"})})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:f||y,className:"flex w-full justify-center rounded-full bg-primary-600 px-4 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-primary-400",children:f?c.jsx(Mt,{className:"h-6 w-6 animate-spin"}):"Login"})})]}),c.jsxs("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Don't have an account?"," ",c.jsx(Be,{to:"/auth/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign up"})]})]})})}),c.jsx(pn,{})]})},nge=t=>{let e=0;return t.length>=8&&e++,t.match(/[a-z]/)&&e++,t.match(/[A-Z]/)&&e++,t.match(/[0-9]/)&&e++,t.match(/[^a-zA-Z0-9]/)&&e++,e/5*100},rge=()=>{const[t,e]=g.useState({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",terms:!1}),[n,r]=g.useState({}),[i,a]=g.useState({}),[s,o]=g.useState(null),[l,u]=g.useState(!1),[d,h]=g.useState(!1),[f,m]=g.useState(!1),[y,v]=g.useState(0),x=Qi(),{register:b,signInWithGoogle:w}=Yr(),_=g.useCallback(()=>{const I={};return t.firstName?t.firstName.length<2&&(I.firstName="First name must be at least 2 characters"):I.firstName="First name is required",t.lastName?t.lastName.length<2&&(I.lastName="Last name must be at least 2 characters"):I.lastName="Last name is required",t.email?/\S+@\S+\.\S+/.test(t.email)||(I.email="Email address is invalid"):I.email="Email is required",t.phone&&!/^(09|\+639)\d{9}$/.test(t.phone)&&(I.phone="Invalid Philippine phone number"),t.password?t.password.length<8?I.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])/.test(t.password)||(I.password="Must contain uppercase, lowercase, and a number"):I.password="Password is required",t.confirmPassword?t.password!==t.confirmPassword&&(I.confirmPassword="Passwords do not match"):I.confirmPassword="Please confirm your password",t.terms||(I.terms="You must accept the terms and conditions"),I},[t]);g.useEffect(()=>{i.password&&v(nge(t.password))},[t.password,i.password]),g.useEffect(()=>{Object.keys(i).length>0&&r(_())},[t,i,_]);const S=I=>{const{name:P,value:k,type:R,checked:O}=I.target;e(M=>({...M,[P]:R==="checkbox"?O:k}))},A=I=>{const{name:P}=I.target;a(k=>({...k,[P]:!0}))},C=async I=>{I.preventDefault(),o(null),a({firstName:!0,lastName:!0,email:!0,phone:!0,password:!0,confirmPassword:!0,terms:!0});const P=_();if(Object.keys(P).length>0){r(P);return}u(!0);try{(await b(t.email,t.password,t.firstName,t.lastName,t.phone)).role==="admin"?x("/admin"):x("/")}catch(k){let R="An unexpected error occurred. Please try again.";switch(k.code){case"auth/email-already-in-use":R="This email address is already registered.";break;case"auth/invalid-email":R="The email address is not valid.";break;case"auth/weak-password":R="The password is too weak.";break}o(R)}finally{u(!1)}},N=()=>y<40?"bg-red-500":y<80?"bg-yellow-500":"bg-green-500",T=()=>y<40?"Weak":y<80?"Medium":"Strong";return c.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-primary-50 via-coffee-50 to-white",children:[c.jsx(mn,{}),c.jsx("main",{className:"flex flex-1 items-center justify-center px-4 py-12 sm:px-6 lg:px-8",children:c.jsx("div",{className:"w-full max-w-2xl",children:c.jsxs(pe,{className:"rounded-2xl p-8 shadow-xl",children:[c.jsxs("div",{className:"mb-6 text-center",children:[c.jsx(Ln,{className:"mx-auto h-12 w-12 text-primary-600"}),c.jsx("h2",{className:"mt-4 font-display text-3xl font-bold text-coffee-900",children:"Join Rush Coffee"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Start skipping the line today "})]}),s&&c.jsxs("div",{className:"mb-4 flex items-start gap-3 rounded-lg bg-red-50 p-4 text-sm text-red-700",role:"alert",children:[c.jsx(Ja,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),c.jsx("div",{children:s})]}),c.jsxs("form",{onSubmit:C,noValidate:!0,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-2",children:[c.jsx(Mn,{id:"firstName",name:"firstName",label:"First Name",type:"text",placeholder:"First Name",startIcon:c.jsx(Ms,{className:"h-5 w-5"}),autoComplete:"given-name",value:t.firstName,onChange:S,onBlur:A,error:i.firstName?n.firstName:void 0,required:!0}),c.jsx(Mn,{id:"lastName",name:"lastName",label:"Last Name",type:"text",placeholder:"Last Name",startIcon:c.jsx(Ms,{className:"h-5 w-5"}),autoComplete:"family-name",value:t.lastName,onChange:S,onBlur:A,error:i.lastName?n.lastName:void 0,required:!0})]}),c.jsx(Mn,{id:"email",name:"email",label:"Email address",type:"email",placeholder:"Email address",startIcon:c.jsx(gr,{className:"h-5 w-5"}),autoComplete:"email",value:t.email,onChange:S,onBlur:A,error:i.email?n.email:void 0,required:!0}),c.jsx(Mn,{id:"phone",name:"phone",label:"Phone Number (Optional)",type:"tel",placeholder:"Phone Number (e.g., 09xxxxxxxxx)",startIcon:c.jsx(Ds,{className:"h-5 w-5"}),autoComplete:"tel",value:t.phone,onChange:S,onBlur:A,error:i.phone?n.phone:void 0}),c.jsxs("div",{className:"relative",children:[c.jsx(Mn,{id:"password",name:"password",label:"Password",type:d?"text":"password",placeholder:"Password",startIcon:c.jsx(lh,{className:"h-5 w-5"}),autoComplete:"new-password",value:t.password,onChange:S,onBlur:A,error:i.password?n.password:void 0,required:!0,endIcon:c.jsx("button",{type:"button",onClick:()=>h(!d),className:"focus:outline-none hover:text-gray-600 transition-colors","aria-label":d?"Hide password":"Show password",children:d?c.jsx(OT,{className:"h-5 w-5"}):c.jsx(yx,{className:"h-5 w-5"})})}),i.password&&c.jsxs("div",{className:"mt-2 space-y-1",children:[c.jsx("div",{className:"h-2 w-full rounded-full bg-gray-200",children:c.jsx("div",{className:`h-2 rounded-full ${N()}`,style:{width:`${y}%`,transition:"width 0.3s, background-color 0.3s"}})}),c.jsx("p",{className:"text-xs font-medium",style:{color:N().replace("bg-","text-")},children:T()})]})]}),c.jsx(Mn,{id:"confirmPassword",name:"confirmPassword",label:"Confirm Password",type:f?"text":"password",placeholder:"Confirm Password",startIcon:c.jsx(lh,{className:"h-5 w-5"}),autoComplete:"new-password",value:t.confirmPassword,onChange:S,onBlur:A,error:i.confirmPassword?n.confirmPassword:void 0,required:!0,endIcon:c.jsx("button",{type:"button",onClick:()=>m(!f),className:"focus:outline-none hover:text-gray-600 transition-colors","aria-label":f?"Hide password":"Show password",children:f?c.jsx(OT,{className:"h-5 w-5"}):c.jsx(yx,{className:"h-5 w-5"})})}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex h-6 items-center",children:c.jsx("input",{id:"terms",name:"terms",type:"checkbox",checked:t.terms,onChange:S,onBlur:A,className:`h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500 ${i.terms&&n.terms?"border-red-500":""}`})}),c.jsxs("div",{className:"ml-3 text-sm leading-6",children:[c.jsxs("label",{htmlFor:"terms",className:"font-medium text-gray-900",children:["I agree to the"," ",c.jsx(Be,{to:"/terms",className:"font-semibold text-primary-600 hover:underline",children:"Terms of Service"})," and ",c.jsx(Be,{to:"/privacy",className:"font-semibold text-primary-600 hover:underline",children:"Privacy Policy"}),"."]}),i.terms&&n.terms&&c.jsx("p",{className:"mt-1 text-xs text-red-600",children:n.terms})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:l,className:"flex w-full justify-center rounded-full bg-primary-600 px-4 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-primary-400",children:l?c.jsx(Mt,{className:"h-6 w-6 animate-spin"}):"Create Account"})})]}),c.jsxs("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Already have an account?"," ",c.jsx(Be,{to:"/auth/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Login"})]})]})})}),c.jsx(pn,{})]})},ige=()=>{const[t,e]=g.useState(""),[n,r]=g.useState(null),[i,a]=g.useState(null),[s,o]=g.useState(!1),{sendPasswordReset:l}=Yr(),u=async d=>{if(d.preventDefault(),r(null),a(null),t){if(!/\S+@\S+\.\S+/.test(t)){r("Please enter a valid email address");return}}else{r("Email is required");return}o(!0);try{await l(t),a("Password reset link sent to your email. Please check your inbox.")}catch(h){let f="An unexpected error occurred. Please try again.";(h.code==="auth/user-not-found"||h.code==="auth/invalid-email")&&(f="No user found with this email address."),r(f)}finally{o(!1)}};return c.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-primary-50 via-coffee-50 to-white",children:[c.jsx(mn,{}),c.jsx("main",{className:"flex flex-1 items-center justify-center px-4 py-12 sm:px-6 lg:px-8",children:c.jsx("div",{className:"w-full max-w-md",children:c.jsxs(pe,{className:"rounded-2xl p-8 shadow-xl",children:[c.jsxs("div",{className:"mb-6 text-center",children:[c.jsx(Ln,{className:"mx-auto h-12 w-12 text-primary-600"}),c.jsx("h2",{className:"mt-4 font-display text-3xl font-bold text-coffee-900",children:"Reset Password"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Enter your email to receive a reset link."})]}),n&&c.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded-lg bg-red-50 p-3 text-sm text-red-700",role:"alert",children:[c.jsx(Ja,{className:"h-5 w-5 flex-shrink-0"}),c.jsx("span",{children:n})]}),i&&c.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded-lg bg-green-50 p-3 text-sm text-green-700",role:"alert",children:[c.jsx(bw,{className:"h-5 w-5 flex-shrink-0"}),c.jsx("span",{children:i})]}),c.jsxs("form",{onSubmit:u,noValidate:!0,className:"space-y-6",children:[c.jsx(Mn,{id:"email",name:"email",type:"email",label:"Email address",autoComplete:"email",required:!0,value:t,onChange:d=>e(d.target.value),placeholder:"Email address",startIcon:c.jsx(gr,{className:"h-5 w-5"})}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:s,className:"flex w-full justify-center rounded-full bg-primary-600 px-4 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-primary-400",children:s?c.jsx(Mt,{className:"h-6 w-6 animate-spin"}):"Send Reset Link"})})]}),c.jsxs("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Remember your password?"," ",c.jsx(Be,{to:"/auth/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Back to Login"})]})]})})}),c.jsx(pn,{})]})},$j=g.createContext({});function qj(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}const h1=g.createContext(null),Hj=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class age extends g.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function sge({children:t,isPresent:e}){const n=g.useId(),r=g.useRef(null),i=g.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=g.useContext(Hj);return g.useInsertionEffect(()=>{const{width:s,height:o,top:l,left:u}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return a&&(d.nonce=a),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),c.jsx(age,{isPresent:e,childRef:r,sizeRef:i,children:g.cloneElement(t,{ref:r})})}const oge=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:s})=>{const o=qj(lge),l=g.useId(),u=g.useCallback(h=>{o.set(h,!0);for(const f of o.values())if(!f)return;r&&r()},[o,r]),d=g.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u,register:h=>(o.set(h,!1),()=>o.delete(h))}),a?[Math.random(),u]:[n,u]);return g.useMemo(()=>{o.forEach((h,f)=>o.set(f,!1))},[n]),g.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),s==="popLayout"&&(t=c.jsx(sge,{isPresent:n,children:t})),c.jsx(h1.Provider,{value:d,children:t})};function lge(){return new Map}function w7(t=!0){const e=g.useContext(h1);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=g.useId();g.useEffect(()=>{t&&i(a)},[t]);const s=g.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,s]:[!0]}const P0=t=>t.key||"";function D4(t){const e=[];return g.Children.forEach(t,n=>{g.isValidElement(n)&&e.push(n)}),e}const Gj=typeof window<"u",_7=Gj?g.useLayoutEffect:g.useEffect,cl=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1})=>{const[o,l]=w7(s),u=g.useMemo(()=>D4(t),[t]),d=s&&!o?[]:u.map(P0),h=g.useRef(!0),f=g.useRef(u),m=qj(()=>new Map),[y,v]=g.useState(u),[x,b]=g.useState(u);_7(()=>{h.current=!1,f.current=u;for(let S=0;S<x.length;S++){const A=P0(x[S]);d.includes(A)?m.delete(A):m.get(A)!==!0&&m.set(A,!1)}},[x,d.length,d.join("-")]);const w=[];if(u!==y){let S=[...u];for(let A=0;A<x.length;A++){const C=x[A],N=P0(C);d.includes(N)||(S.splice(A,0,C),w.push(C))}a==="wait"&&w.length&&(S=w),b(D4(S)),v(u);return}const{forceRender:_}=g.useContext($j);return c.jsx(c.Fragment,{children:x.map(S=>{const A=P0(S),C=s&&!o?!1:u===x||d.includes(A),N=()=>{if(m.has(A))m.set(A,!0);else return;let T=!0;m.forEach(I=>{I||(T=!1)}),T&&(_==null||_(),b(f.current),s&&(l==null||l()),r&&r())};return c.jsx(oge,{isPresent:C,initial:!h.current||n?void 0:!1,custom:C?void 0:e,presenceAffectsLayout:i,mode:a,onExitComplete:C?void 0:N,children:S},A)})})},pi=t=>t;let E7=pi;function Kj(t){let e;return()=>(e===void 0&&(e=t()),e)}const Oh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ts=t=>t*1e3,As=t=>t/1e3,cge={useManualTiming:!1};function uge(t){let e=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function o(u){a.has(u)&&(l.schedule(u),t()),u(s)}const l={schedule:(u,d=!1,h=!1)=>{const m=h&&r?e:n;return d&&a.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),a.delete(u)},process:u=>{if(s=u,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(o),e.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const k0=["read","resolveKeyframes","update","preRender","render","postRender"],dge=40;function S7(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=k0.reduce((b,w)=>(b[w]=uge(a),b),{}),{read:o,resolveKeyframes:l,update:u,preRender:d,render:h,postRender:f}=s,m=()=>{const b=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(b-i.timestamp,dge),1),i.timestamp=b,i.isProcessing=!0,o.process(i),l.process(i),u.process(i),d.process(i),h.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))},y=()=>{n=!0,r=!0,i.isProcessing||t(m)};return{schedule:k0.reduce((b,w)=>{const _=s[w];return b[w]=(S,A=!1,C=!1)=>(n||y(),_.schedule(S,A,C)),b},{}),cancel:b=>{for(let w=0;w<k0.length;w++)s[k0[w]].cancel(b)},state:i,steps:s}}const{schedule:wt,cancel:Nl,state:Hn,steps:QE}=S7(typeof requestAnimationFrame<"u"?requestAnimationFrame:pi,!0),T7=g.createContext({strict:!1}),M4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Rh={};for(const t in M4)Rh[t]={isEnabled:e=>M4[t].some(n=>!!e[n])};function hge(t){for(const e in t)Rh[e]={...Rh[e],...t[e]}}const fge=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fge.has(t)}let A7=t=>!Yx(t);function mge(t){t&&(A7=e=>e.startsWith("on")?!Yx(e):t(e))}try{mge(require("@emotion/is-prop-valid").default)}catch{}function pge(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(A7(i)||n===!0&&Yx(i)||!e&&!Yx(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function gge(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const f1=g.createContext({});function hg(t){return typeof t=="string"||Array.isArray(t)}function m1(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Wj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yj=["initial",...Wj];function p1(t){return m1(t.animate)||Yj.some(e=>hg(t[e]))}function N7(t){return!!(p1(t)||t.variants)}function yge(t,e){if(p1(t)){const{initial:n,animate:r}=t;return{initial:n===!1||hg(n)?n:void 0,animate:hg(r)?r:void 0}}return t.inherit!==!1?e:{}}function vge(t){const{initial:e,animate:n}=yge(t,g.useContext(f1));return g.useMemo(()=>({initial:e,animate:n}),[L4(e),L4(n)])}function L4(t){return Array.isArray(t)?t.join(" "):t}const xge=Symbol.for("motionComponentSymbol");function Sd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function bge(t,e,n){return g.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Sd(n)&&(n.current=r))},[e])}const Qj=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),wge="framerAppearId",I7="data-"+Qj(wge),{schedule:Xj}=S7(queueMicrotask,!1),j7=g.createContext({});function _ge(t,e,n,r,i){var a,s;const{visualElement:o}=g.useContext(f1),l=g.useContext(T7),u=g.useContext(h1),d=g.useContext(Hj).reducedMotion,h=g.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,m=g.useContext(j7);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&Ege(h.current,n,i,m);const y=g.useRef(!1);g.useInsertionEffect(()=>{f&&y.current&&f.update(n,u)});const v=n[I7],x=g.useRef(!!v&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,v))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,v)));return _7(()=>{f&&(y.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Xj.render(f.render),x.current&&f.animationState&&f.animationState.animateChanges())}),g.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,v)}),x.current=!1))}),f}function Ege(t,e,n,r){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:C7(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||o&&Sd(o),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function C7(t){if(t)return t.options.allowProjection!==!1?t.projection:C7(t.parent)}function Sge({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var a,s;t&&hge(t);function o(u,d){let h;const f={...g.useContext(Hj),...u,layoutId:Tge(u)},{isStatic:m}=f,y=vge(u),v=r(u,m);if(!m&&Gj){Age();const x=Nge(f);h=x.MeasureLayout,y.visualElement=_ge(i,v,f,e,x.ProjectionNode)}return c.jsxs(f1.Provider,{value:y,children:[h&&y.visualElement?c.jsx(h,{visualElement:y.visualElement,...f}):null,n(i,u,bge(v,y.visualElement,d),v,m,y.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(s=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&s!==void 0?s:""})`}`;const l=g.forwardRef(o);return l[xge]=i,l}function Tge({layoutId:t}){const e=g.useContext($j).id;return e&&t!==void 0?e+"-"+t:t}function Age(t,e){g.useContext(T7).strict}function Nge(t){const{drag:e,layout:n}=Rh;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Ige=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zj(t){return typeof t!="string"||t.includes("-")?!1:!!(Ige.indexOf(t)>-1||/[A-Z]/u.test(t))}function V4(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Jj(t,e,n,r){if(typeof e=="function"){const[i,a]=V4(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=V4(r);e=e(n!==void 0?n:t.custom,i,a)}return e}const EA=t=>Array.isArray(t),jge=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Cge=t=>EA(t)?t[t.length-1]||0:t,dr=t=>!!(t&&t.getVelocity);function kv(t){const e=dr(t)?t.get():t;return jge(e)?e.toValue():e}function Pge({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,a){const s={latestValues:kge(r,i,a,t),renderState:e()};return n&&(s.onMount=o=>n({props:r,current:o,...s}),s.onUpdate=o=>n(o)),s}const P7=t=>(e,n)=>{const r=g.useContext(f1),i=g.useContext(h1),a=()=>Pge(t,e,r,i);return n?a():qj(a)};function kge(t,e,n,r){const i={},a=r(t,{});for(const f in a)i[f]=kv(a[f]);let{initial:s,animate:o}=t;const l=p1(t),u=N7(t);e&&u&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const h=d?o:s;if(h&&typeof h!="boolean"&&!m1(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const y=Jj(t,f[m]);if(y){const{transitionEnd:v,transition:x,...b}=y;for(const w in b){let _=b[w];if(Array.isArray(_)){const S=d?_.length-1:0;_=_[S]}_!==null&&(i[w]=_)}for(const w in v)i[w]=v[w]}}}return i}const vf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ou=new Set(vf),k7=t=>e=>typeof e=="string"&&e.startsWith(t),O7=k7("--"),Oge=k7("var(--"),eC=t=>Oge(t)?Rge.test(t.split("/*")[0].trim()):!1,Rge=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,R7=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Fs=(t,e,n)=>n>e?e:n<t?t:n,xf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},fg={...xf,transform:t=>Fs(0,1,t)},O0={...xf,default:1},by=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),No=by("deg"),La=by("%"),me=by("px"),Dge=by("vh"),Mge=by("vw"),z4={...La,parse:t=>La.parse(t)/100,transform:t=>La.transform(t*100)},Lge={borderWidth:me,borderTopWidth:me,borderRightWidth:me,borderBottomWidth:me,borderLeftWidth:me,borderRadius:me,radius:me,borderTopLeftRadius:me,borderTopRightRadius:me,borderBottomRightRadius:me,borderBottomLeftRadius:me,width:me,maxWidth:me,height:me,maxHeight:me,top:me,right:me,bottom:me,left:me,padding:me,paddingTop:me,paddingRight:me,paddingBottom:me,paddingLeft:me,margin:me,marginTop:me,marginRight:me,marginBottom:me,marginLeft:me,backgroundPositionX:me,backgroundPositionY:me},Vge={rotate:No,rotateX:No,rotateY:No,rotateZ:No,scale:O0,scaleX:O0,scaleY:O0,scaleZ:O0,skew:No,skewX:No,skewY:No,distance:me,translateX:me,translateY:me,translateZ:me,x:me,y:me,z:me,perspective:me,transformPerspective:me,opacity:fg,originX:z4,originY:z4,originZ:me},U4={...xf,transform:Math.round},tC={...Lge,...Vge,zIndex:U4,size:me,fillOpacity:fg,strokeOpacity:fg,numOctaves:U4},zge={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Uge=vf.length;function Bge(t,e,n){let r="",i=!0;for(let a=0;a<Uge;a++){const s=vf[a],o=t[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const u=R7(o,tC[s]);if(!l){i=!1;const d=zge[s]||s;r+=`${d}(${u}) `}n&&(e[s]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function nC(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let s=!1,o=!1;for(const l in e){const u=e[l];if(Ou.has(l)){s=!0;continue}else if(O7(l)){i[l]=u;continue}else{const d=R7(u,tC[l]);l.startsWith("origin")?(o=!0,a[l]=d):r[l]=d}}if(e.transform||(s||n?r.transform=Bge(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:d=0}=a;r.transformOrigin=`${l} ${u} ${d}`}}const Fge={offset:"stroke-dashoffset",array:"stroke-dasharray"},$ge={offset:"strokeDashoffset",array:"strokeDasharray"};function qge(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?Fge:$ge;t[a.offset]=me.transform(-r);const s=me.transform(e),o=me.transform(n);t[a.array]=`${s} ${o}`}function B4(t,e,n){return typeof t=="string"?t:me.transform(e+n*t)}function Hge(t,e,n){const r=B4(e,t.x,t.width),i=B4(n,t.y,t.height);return`${r} ${i}`}function rC(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...u},d,h){if(nC(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m,dimensions:y}=t;f.transform&&(y&&(m.transform=f.transform),delete f.transform),y&&(i!==void 0||a!==void 0||m.transform)&&(m.transformOrigin=Hge(y,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&qge(f,s,o,l,!1)}const iC=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),D7=()=>({...iC(),attrs:{}}),aC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function M7(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const L7=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function V7(t,e,n,r){M7(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(L7.has(i)?i:Qj(i),e.attrs[i])}const Qx={};function Gge(t){Object.assign(Qx,t)}function z7(t,{layout:e,layoutId:n}){return Ou.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Qx[t]||t==="opacity")}function sC(t,e,n){var r;const{style:i}=t,a={};for(const s in i)(dr(i[s])||e.style&&dr(e.style[s])||z7(s,t)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[s]=i[s]);return a}function U7(t,e,n){const r=sC(t,e,n);for(const i in t)if(dr(t[i])||dr(e[i])){const a=vf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}function Kge(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const F4=["x","y","width","height","cx","cy","r"],Wge={useVisualState:P7({scrapeMotionValuesFromProps:U7,createRenderState:D7,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!t.drag;if(!a){for(const o in i)if(Ou.has(o)){a=!0;break}}if(!a)return;let s=!e;if(e)for(let o=0;o<F4.length;o++){const l=F4[o];t[l]!==e[l]&&(s=!0)}s&&wt.read(()=>{Kge(n,r),wt.render(()=>{rC(r,i,aC(n.tagName),t.transformTemplate),V7(n,r)})})}})},Yge={useVisualState:P7({scrapeMotionValuesFromProps:sC,createRenderState:iC})};function B7(t,e,n){for(const r in e)!dr(e[r])&&!z7(r,n)&&(t[r]=e[r])}function Qge({transformTemplate:t},e){return g.useMemo(()=>{const n=iC();return nC(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Xge(t,e){const n=t.style||{},r={};return B7(r,n,t),Object.assign(r,Qge(t,e)),r}function Zge(t,e){const n={},r=Xge(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function Jge(t,e,n,r){const i=g.useMemo(()=>{const a=D7();return rC(a,e,aC(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};B7(a,t.style,t),i.style={...a,...i.style}}return i}function eye(t=!1){return(n,r,i,{latestValues:a},s)=>{const l=(Zj(n)?Jge:Zge)(r,a,s,n),u=pge(r,typeof n=="string",t),d=n!==g.Fragment?{...u,...l,ref:i}:{},{children:h}=r,f=g.useMemo(()=>dr(h)?h.get():h,[h]);return g.createElement(n,{...d,children:f})}}function tye(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...Zj(r)?Wge:Yge,preloadedFeatures:t,useRender:eye(i),createVisualElement:e,Component:r};return Sge(s)}}function F7(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function g1(t,e,n){const r=t.getProps();return Jj(r,e,n!==void 0?n:r.custom,t)}const nye=Kj(()=>window.ScrollTimeline!==void 0);class rye{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(nye()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class iye extends rye{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function oC(t,e){return t?t[e]||t.default||t:void 0}const SA=2e4;function $7(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<SA;)e+=n,r=t.next(e);return e>=SA?1/0:e}function lC(t){return typeof t=="function"}function $4(t,e){t.timeline=e,t.onfinish=null}const cC=t=>Array.isArray(t)&&typeof t[0]=="number",aye={linearEasing:void 0};function sye(t,e){const n=Kj(t);return()=>{var r;return(r=aye[e])!==null&&r!==void 0?r:n()}}const Xx=sye(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),q7=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=t(Oh(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function H7(t){return!!(typeof t=="function"&&Xx()||!t||typeof t=="string"&&(t in TA||Xx())||cC(t)||Array.isArray(t)&&t.every(H7))}const Vm=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,TA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vm([0,.65,.55,1]),circOut:Vm([.55,0,1,.45]),backIn:Vm([.31,.01,.66,-.59]),backOut:Vm([.33,1.53,.69,.99])};function G7(t,e){if(t)return typeof t=="function"&&Xx()?q7(t,e):cC(t)?Vm(t):Array.isArray(t)?t.map(n=>G7(n,e)||TA.easeOut):TA[t]}const na={x:!1,y:!1};function K7(){return na.x||na.y}function oye(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function W7(t,e){const n=oye(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function q4(t){return e=>{e.pointerType==="touch"||K7()||t(e)}}function lye(t,e,n={}){const[r,i,a]=W7(t,n),s=q4(o=>{const{target:l}=o,u=e(o);if(typeof u!="function"||!l)return;const d=q4(h=>{u(h),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,i)});return r.forEach(o=>{o.addEventListener("pointerenter",s,i)}),a}const Y7=(t,e)=>e?t===e?!0:Y7(t,e.parentElement):!1,uC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,cye=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uye(t){return cye.has(t.tagName)||t.tabIndex!==-1}const zm=new WeakSet;function H4(t){return e=>{e.key==="Enter"&&t(e)}}function XE(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const dye=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=H4(()=>{if(zm.has(n))return;XE(n,"down");const i=H4(()=>{XE(n,"up")}),a=()=>XE(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function G4(t){return uC(t)&&!K7()}function hye(t,e,n={}){const[r,i,a]=W7(t,n),s=o=>{const l=o.currentTarget;if(!G4(o)||zm.has(l))return;zm.add(l);const u=e(o),d=(m,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!G4(m)||!zm.has(l))&&(zm.delete(l),typeof u=="function"&&u(m,{success:y}))},h=m=>{d(m,n.useGlobalTarget||Y7(l,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return r.forEach(o=>{!uye(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",s,i),o.addEventListener("focus",u=>dye(u,i),i)}),a}function fye(t){return t==="x"||t==="y"?na[t]?null:(na[t]=!0,()=>{na[t]=!1}):na.x||na.y?null:(na.x=na.y=!0,()=>{na.x=na.y=!1})}const Q7=new Set(["width","height","top","left","right","bottom",...vf]);let Ov;function mye(){Ov=void 0}const Va={now:()=>(Ov===void 0&&Va.set(Hn.isProcessing||cge.useManualTiming?Hn.timestamp:performance.now()),Ov),set:t=>{Ov=t,queueMicrotask(mye)}};function dC(t,e){t.indexOf(e)===-1&&t.push(e)}function hC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class fC{constructor(){this.subscriptions=[]}add(e){return dC(this.subscriptions,e),()=>hC(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function X7(t,e){return e?t*(1e3/e):0}const K4=30,pye=t=>!isNaN(parseFloat(t));class gye{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=Va.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Va.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=pye(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new fC);const r=this.events[e].add(n);return e==="change"?()=>{r(),wt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Va.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>K4)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,K4);return X7(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mg(t,e){return new gye(t,e)}function yye(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,mg(n))}function vye(t,e){const n=g1(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const s in a){const o=Cge(a[s]);yye(t,s,o)}}function xye(t){return!!(dr(t)&&t.add)}function AA(t,e){const n=t.getValue("willChange");if(xye(n))return n.add(e)}function Z7(t){return t.props[I7]}const J7=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,bye=1e-7,wye=12;function _ye(t,e,n,r,i){let a,s,o=0;do s=e+(n-e)/2,a=J7(s,r,i)-t,a>0?n=s:e=s;while(Math.abs(a)>bye&&++o<wye);return s}function wy(t,e,n,r){if(t===e&&n===r)return pi;const i=a=>_ye(a,0,1,t,n);return a=>a===0||a===1?a:J7(i(a),e,r)}const eq=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,tq=t=>e=>1-t(1-e),nq=wy(.33,1.53,.69,.99),mC=tq(nq),rq=eq(mC),iq=t=>(t*=2)<1?.5*mC(t):.5*(2-Math.pow(2,-10*(t-1))),pC=t=>1-Math.sin(Math.acos(t)),aq=tq(pC),sq=eq(pC),oq=t=>/^0[^.\s]+$/u.test(t);function Eye(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||oq(t):!0}const bp=t=>Math.round(t*1e5)/1e5,gC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Sye(t){return t==null}const Tye=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,yC=(t,e)=>n=>!!(typeof n=="string"&&Tye.test(n)&&n.startsWith(t)||e&&!Sye(n)&&Object.prototype.hasOwnProperty.call(n,e)),lq=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,s,o]=r.match(gC);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},Aye=t=>Fs(0,255,t),ZE={...xf,transform:t=>Math.round(Aye(t))},Ac={test:yC("rgb","red"),parse:lq("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ZE.transform(t)+", "+ZE.transform(e)+", "+ZE.transform(n)+", "+bp(fg.transform(r))+")"};function Nye(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const NA={test:yC("#"),parse:Nye,transform:Ac.transform},Td={test:yC("hsl","hue"),parse:lq("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+La.transform(bp(e))+", "+La.transform(bp(n))+", "+bp(fg.transform(r))+")"},ir={test:t=>Ac.test(t)||NA.test(t)||Td.test(t),parse:t=>Ac.test(t)?Ac.parse(t):Td.test(t)?Td.parse(t):NA.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ac.transform(t):Td.transform(t)},Iye=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jye(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(gC))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Iye))===null||n===void 0?void 0:n.length)||0)>0}const cq="number",uq="color",Cye="var",Pye="var(",W4="${}",kye=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pg(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const o=e.replace(kye,l=>(ir.test(l)?(r.color.push(a),i.push(uq),n.push(ir.parse(l))):l.startsWith(Pye)?(r.var.push(a),i.push(Cye),n.push(l)):(r.number.push(a),i.push(cq),n.push(parseFloat(l))),++a,W4)).split(W4);return{values:n,split:o,indexes:r,types:i}}function dq(t){return pg(t).values}function hq(t){const{split:e,types:n}=pg(t),r=e.length;return i=>{let a="";for(let s=0;s<r;s++)if(a+=e[s],i[s]!==void 0){const o=n[s];o===cq?a+=bp(i[s]):o===uq?a+=ir.transform(i[s]):a+=i[s]}return a}}const Oye=t=>typeof t=="number"?0:t;function Rye(t){const e=dq(t);return hq(t)(e.map(Oye))}const Il={test:jye,parse:dq,createTransformer:hq,getAnimatableNone:Rye},Dye=new Set(["brightness","contrast","saturate","opacity"]);function Mye(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(gC)||[];if(!r)return t;const i=n.replace(r,"");let a=Dye.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const Lye=/\b([a-z-]*)\(.*?\)/gu,IA={...Il,getAnimatableNone:t=>{const e=t.match(Lye);return e?e.map(Mye).join(" "):t}},Vye={...tC,color:ir,backgroundColor:ir,outlineColor:ir,fill:ir,stroke:ir,borderColor:ir,borderTopColor:ir,borderRightColor:ir,borderBottomColor:ir,borderLeftColor:ir,filter:IA,WebkitFilter:IA},vC=t=>Vye[t];function fq(t,e){let n=vC(t);return n!==IA&&(n=Il),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const zye=new Set(["auto","none","0"]);function Uye(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!zye.has(a)&&pg(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=fq(n,i)}const Y4=t=>t===xf||t===me,Q4=(t,e)=>parseFloat(t.split(", ")[e]),X4=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Q4(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?Q4(a[1],t):0}},Bye=new Set(["x","y","z"]),Fye=vf.filter(t=>!Bye.has(t));function $ye(t){const e=[];return Fye.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Dh={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:X4(4,13),y:X4(5,14)};Dh.translateX=Dh.x;Dh.translateY=Dh.y;const zc=new Set;let jA=!1,CA=!1;function mq(){if(CA){const t=Array.from(zc).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=$ye(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,s])=>{var o;(o=r.getValue(a))===null||o===void 0||o.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}CA=!1,jA=!1,zc.forEach(t=>t.complete()),zc.clear()}function pq(){zc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(CA=!0)})}function qye(){pq(),mq()}class xC{constructor(e,n,r,i,a,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(zc.add(this),jA||(jA=!0,wt.read(pq),wt.resolveKeyframes(mq))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),zc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,zc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const gq=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Hye=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Gye(t){const e=Hye.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function yq(t,e,n=1){const[r,i]=Gye(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const s=a.trim();return gq(s)?parseFloat(s):s}return eC(i)?yq(i,e,n+1):i}const vq=t=>e=>e.test(t),Kye={test:t=>t==="auto",parse:t=>t},xq=[xf,me,La,No,Mge,Dge,Kye],Z4=t=>xq.find(vq(t));class bq extends xC{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),eC(u))){const d=yq(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Q7.has(r)||e.length!==2)return;const[i,a]=e,s=Z4(i),o=Z4(a);if(s!==o)if(Y4(s)&&Y4(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Eye(e[i])&&r.push(i);r.length&&Uye(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Dh[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=Dh[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const J4=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Il.test(t)||t==="0")&&!t.startsWith("url("));function Wye(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Yye(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],s=J4(i,e),o=J4(a,e);return!s||!o?!1:Wye(t)||(n==="spring"||lC(n))&&r}const Qye=t=>t!==null;function y1(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Qye),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const Xye=40;class wq{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Va.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:s,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Xye?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&qye(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Va.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:s,onComplete:o,onUpdate:l,isGenerator:u}=this.options;if(!u&&!Yye(e,r,i,a))if(s)this.options.duration=0;else{l&&l(y1(e,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Dt=(t,e,n)=>t+(e-t)*n;function JE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Zye({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,s=0;if(!e)i=a=s=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=JE(l,o,t+1/3),a=JE(l,o,t),s=JE(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}function Zx(t,e){return n=>n>0?e:t}const eS=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Jye=[NA,Ac,Td],e0e=t=>Jye.find(e=>e.test(t));function e5(t){const e=e0e(t);if(!e)return!1;let n=e.parse(t);return e===Td&&(n=Zye(n)),n}const t5=(t,e)=>{const n=e5(t),r=e5(e);if(!n||!r)return Zx(t,e);const i={...n};return a=>(i.red=eS(n.red,r.red,a),i.green=eS(n.green,r.green,a),i.blue=eS(n.blue,r.blue,a),i.alpha=Dt(n.alpha,r.alpha,a),Ac.transform(i))},t0e=(t,e)=>n=>e(t(n)),_y=(...t)=>t.reduce(t0e),PA=new Set(["none","hidden"]);function n0e(t,e){return PA.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function r0e(t,e){return n=>Dt(t,e,n)}function bC(t){return typeof t=="number"?r0e:typeof t=="string"?eC(t)?Zx:ir.test(t)?t5:s0e:Array.isArray(t)?_q:typeof t=="object"?ir.test(t)?t5:i0e:Zx}function _q(t,e){const n=[...t],r=n.length,i=t.map((a,s)=>bC(a)(a,e[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}}function i0e(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=bC(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function a0e(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const s=e.types[a],o=t.indexes[s][i[s]],l=(n=t.values[o])!==null&&n!==void 0?n:0;r[a]=l,i[s]++}return r}const s0e=(t,e)=>{const n=Il.createTransformer(e),r=pg(t),i=pg(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?PA.has(t)&&!i.values.length||PA.has(e)&&!r.values.length?n0e(t,e):_y(_q(a0e(r,i),i.values),n):Zx(t,e)};function Eq(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Dt(t,e,n):bC(t)(t,e)}const o0e=5;function Sq(t,e,n){const r=Math.max(e-o0e,0);return X7(n-t(r),e-r)}const $t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tS=.001;function l0e({duration:t=$t.duration,bounce:e=$t.bounce,velocity:n=$t.velocity,mass:r=$t.mass}){let i,a,s=1-e;s=Fs($t.minDamping,$t.maxDamping,s),t=Fs($t.minDuration,$t.maxDuration,As(t)),s<1?(i=u=>{const d=u*s,h=d*t,f=d-n,m=kA(u,s),y=Math.exp(-h);return tS-f/m*y},a=u=>{const h=u*s*t,f=h*n+n,m=Math.pow(s,2)*Math.pow(u,2)*t,y=Math.exp(-h),v=kA(Math.pow(u,2),s);return(-i(u)+tS>0?-1:1)*((f-m)*y)/v}):(i=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-tS+d*h},a=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const o=5/t,l=u0e(i,a,o);if(t=Ts(t),isNaN(l))return{stiffness:$t.stiffness,damping:$t.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:t}}}const c0e=12;function u0e(t,e,n){let r=n;for(let i=1;i<c0e;i++)r=r-t(r)/e(r);return r}function kA(t,e){return t*Math.sqrt(1-e*e)}const d0e=["duration","bounce"],h0e=["stiffness","damping","mass"];function n5(t,e){return e.some(n=>t[n]!==void 0)}function f0e(t){let e={velocity:$t.velocity,stiffness:$t.stiffness,damping:$t.damping,mass:$t.mass,isResolvedFromDuration:!1,...t};if(!n5(t,h0e)&&n5(t,d0e))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Fs(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:$t.mass,stiffness:i,damping:a}}else{const n=l0e(t);e={...e,...n,mass:$t.mass},e.isResolvedFromDuration=!0}return e}function Tq(t=$t.visualDuration,e=$t.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=f0e({...n,velocity:-As(n.velocity||0)}),y=f||0,v=u/(2*Math.sqrt(l*d)),x=s-a,b=As(Math.sqrt(l/d)),w=Math.abs(x)<5;r||(r=w?$t.restSpeed.granular:$t.restSpeed.default),i||(i=w?$t.restDelta.granular:$t.restDelta.default);let _;if(v<1){const A=kA(b,v);_=C=>{const N=Math.exp(-v*b*C);return s-N*((y+v*b*x)/A*Math.sin(A*C)+x*Math.cos(A*C))}}else if(v===1)_=A=>s-Math.exp(-b*A)*(x+(y+b*x)*A);else{const A=b*Math.sqrt(v*v-1);_=C=>{const N=Math.exp(-v*b*C),T=Math.min(A*C,300);return s-N*((y+v*b*x)*Math.sinh(T)+A*x*Math.cosh(T))/A}}const S={calculatedDuration:m&&h||null,next:A=>{const C=_(A);if(m)o.done=A>=h;else{let N=0;v<1&&(N=A===0?Ts(y):Sq(_,A,C));const T=Math.abs(N)<=r,I=Math.abs(s-C)<=i;o.done=T&&I}return o.value=o.done?s:C,o},toString:()=>{const A=Math.min($7(S),SA),C=q7(N=>S.next(A*N).value,A,30);return A+"ms "+C}};return S}function r5({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=T=>o!==void 0&&T<o||l!==void 0&&T>l,y=T=>o===void 0?l:l===void 0||Math.abs(o-T)<Math.abs(l-T)?o:l;let v=n*e;const x=h+v,b=s===void 0?x:s(x);b!==x&&(v=b-h);const w=T=>-v*Math.exp(-T/r),_=T=>b+w(T),S=T=>{const I=w(T),P=_(T);f.done=Math.abs(I)<=u,f.value=f.done?b:P};let A,C;const N=T=>{m(f.value)&&(A=T,C=Tq({keyframes:[f.value,y(f.value)],velocity:Sq(_,T,f.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:T=>{let I=!1;return!C&&A===void 0&&(I=!0,S(T),N(T)),A!==void 0&&T>=A?C.next(T-A):(!I&&S(T),f)}}}const m0e=wy(.42,0,1,1),p0e=wy(0,0,.58,1),Aq=wy(.42,0,.58,1),g0e=t=>Array.isArray(t)&&typeof t[0]!="number",y0e={linear:pi,easeIn:m0e,easeInOut:Aq,easeOut:p0e,circIn:pC,circInOut:sq,circOut:aq,backIn:mC,backInOut:rq,backOut:nq,anticipate:iq},i5=t=>{if(cC(t)){E7(t.length===4);const[e,n,r,i]=t;return wy(e,n,r,i)}else if(typeof t=="string")return y0e[t];return t};function v0e(t,e,n){const r=[],i=n||Eq,a=t.length-1;for(let s=0;s<a;s++){let o=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||pi:e;o=_y(l,o)}r.push(o)}return r}function x0e(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(E7(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=v0e(e,r,i),l=o.length,u=d=>{if(s&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=Oh(t[h],t[h+1],d);return o[h](f)};return n?d=>u(Fs(t[0],t[a-1],d)):u}function b0e(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Oh(0,e,r);t.push(Dt(n,1,i))}}function w0e(t){const e=[0];return b0e(e,t.length-1),e}function _0e(t,e){return t.map(n=>n*e)}function E0e(t,e){return t.map(()=>e||Aq).splice(0,t.length-1)}function Jx({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=g0e(r)?r.map(i5):i5(r),a={done:!1,value:e[0]},s=_0e(n&&n.length===e.length?n:w0e(e),t),o=x0e(s,e,{ease:Array.isArray(i)?i:E0e(e,i)});return{calculatedDuration:t,next:l=>(a.value=o(l),a.done=l>=t,a)}}const S0e=t=>{const e=({timestamp:n})=>t(n);return{start:()=>wt.update(e,!0),stop:()=>Nl(e),now:()=>Hn.isProcessing?Hn.timestamp:Va.now()}},T0e={decay:r5,inertia:r5,tween:Jx,keyframes:Jx,spring:Tq},A0e=t=>t/100;class wC extends wq{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,s=(i==null?void 0:i.KeyframeResolver)||xC,o=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new s(a,o,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=this.options,o=lC(n)?n:T0e[n]||Jx;let l,u;o!==Jx&&typeof e[0]!="number"&&(l=_y(A0e,Eq(e[0],e[1])),e=[0,100]);const d=o({...this.options,keyframes:e});a==="mirror"&&(u=o({...this.options,keyframes:[...e].reverse(),velocity:-s})),d.calculatedDuration===null&&(d.calculatedDuration=$7(d));const{calculatedDuration:h}=d,f=h+i,m=f*(r+1)-i;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:s,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return a.next(0);const{delay:f,repeat:m,repeatType:y,repeatDelay:v,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const b=this.currentTime-f*(this.speed>=0?1:-1),w=this.speed>=0?b<0:b>d;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let _=this.currentTime,S=a;if(m){const T=Math.min(this.currentTime,d)/h;let I=Math.floor(T),P=T%1;!P&&T>=1&&(P=1),P===1&&I--,I=Math.min(I,m+1),!!(I%2)&&(y==="reverse"?(P=1-P,v&&(P-=v/h)):y==="mirror"&&(S=s)),_=Fs(0,1,P)*h}const A=w?{done:!1,value:l[0]}:S.next(_);o&&(A.value=o(A.value));let{done:C}=A;!w&&u!==null&&(C=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return N&&i!==void 0&&(A.value=y1(l,this.options,i)),x&&x(A.value),N&&this.finish(),A}get duration(){const{resolved:e}=this;return e?As(e.calculatedDuration):0}get time(){return As(this.currentTime)}set time(e){e=Ts(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=As(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=S0e,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const N0e=new Set(["opacity","clipPath","filter","transform"]);function I0e(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeInOut",times:l}={}){const u={[e]:n};l&&(u.offset=l);const d=G7(o,i);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}const j0e=Kj(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),eb=10,C0e=2e4;function P0e(t){return lC(t.type)||t.type==="spring"||!H7(t.ease)}function k0e(t,e){const n=new wC({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<C0e;)r=n.sample(a),i.push(r.value),a+=eb;return{times:void 0,keyframes:i,duration:a-eb,ease:"linear"}}const Nq={anticipate:iq,backInOut:rq,circInOut:sq};function O0e(t){return t in Nq}class a5 extends wq{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new bq(a,(s,o)=>this.onKeyframesResolved(s,o),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:a,type:s,motionValue:o,name:l,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof a=="string"&&Xx()&&O0e(a)&&(a=Nq[a]),P0e(this.options)){const{onComplete:h,onUpdate:f,motionValue:m,element:y,...v}=this.options,x=k0e(e,v);e=x.keyframes,e.length===1&&(e[1]=e[0]),r=x.duration,i=x.times,a=x.ease,s="keyframes"}const d=I0e(o.owner.current,l,e,{...this.options,duration:r,times:i,ease:a});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?($4(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;o.set(y1(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:i,type:s,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return As(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return As(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ts(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return pi;const{animation:r}=n;$4(r,e)}return pi}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:a,ease:s,times:o}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...m}=this.options,y=new wC({...m,keyframes:r,duration:i,type:a,ease:s,times:o,isGenerator:!0}),v=Ts(this.time);u.setWithVelocity(y.sample(v-eb).value,y.sample(v).value,eb)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:s,type:o}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return j0e()&&r&&N0e.has(r)&&!l&&!u&&!i&&a!=="mirror"&&s!==0&&o!=="inertia"}}const R0e={type:"spring",stiffness:500,damping:25,restSpeed:10},D0e=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),M0e={type:"keyframes",duration:.8},L0e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},V0e=(t,{keyframes:e})=>e.length>2?M0e:Ou.has(t)?t.startsWith("scale")?D0e(e[1]):R0e:L0e;function z0e({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const _C=(t,e,n,r={},i,a)=>s=>{const o=oC(r,t)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ts(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:f=>{e.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:a?void 0:i};z0e(o)||(d={...d,...V0e(t,d)}),d.duration&&(d.duration=Ts(d.duration)),d.repeatDelay&&(d.repeatDelay=Ts(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!a&&e.get()!==void 0){const f=y1(d.keyframes,o);if(f!==void 0)return wt.update(()=>{d.onUpdate(f),d.onComplete()}),new iye([])}return!a&&a5.supports(d)?new a5(d):new wC(d)};function U0e({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Iq(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(s=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const f=t.getValue(h,(a=t.latestValues[h])!==null&&a!==void 0?a:null),m=l[h];if(m===void 0||d&&U0e(d,h))continue;const y={delay:n,...oC(s||{},h)};let v=!1;if(window.MotionHandoffAnimation){const b=Z7(t);if(b){const w=window.MotionHandoffAnimation(b,h,wt);w!==null&&(y.startTime=w,v=!0)}}AA(t,h),f.start(_C(h,f,m,t.shouldReduceMotion&&Q7.has(h)?{type:!1}:y,t,v));const x=f.animation;x&&u.push(x)}return o&&Promise.all(u).then(()=>{wt.update(()=>{o&&vye(t,o)})}),u}function OA(t,e,n={}){var r;const i=g1(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const s=i?()=>Promise.all(Iq(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=a;return B0e(t,e,d+u,h,f,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[u,d]=l==="beforeChildren"?[s,o]:[o,s];return u().then(()=>d())}else return Promise.all([s(),o(n.delay)])}function B0e(t,e,n=0,r=0,i=1,a){const s=[],o=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(t.variantChildren).sort(F0e).forEach((u,d)=>{u.notify("AnimationStart",e),s.push(OA(u,e,{...a,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(s)}function F0e(t,e){return t.sortNodePosition(e)}function $0e(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>OA(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=OA(t,e,n);else{const i=typeof e=="function"?g1(t,e,n.custom):e;r=Promise.all(Iq(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const q0e=Yj.length;function jq(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?jq(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<q0e;n++){const r=Yj[n],i=t.props[r];(hg(i)||i===!1)&&(e[r]=i)}return e}const H0e=[...Wj].reverse(),G0e=Wj.length;function K0e(t){return e=>Promise.all(e.map(({animation:n,options:r})=>$0e(t,n,r)))}function W0e(t){let e=K0e(t),n=s5(),r=!0;const i=l=>(u,d)=>{var h;const f=g1(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:y,...v}=f;u={...u,...v,...y}}return u};function a(l){e=l(t)}function s(l){const{props:u}=t,d=jq(t.parent)||{},h=[],f=new Set;let m={},y=1/0;for(let x=0;x<G0e;x++){const b=H0e[x],w=n[b],_=u[b]!==void 0?u[b]:d[b],S=hg(_),A=b===l?w.isActive:null;A===!1&&(y=x);let C=_===d[b]&&_!==u[b]&&S;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),w.protectedKeys={...m},!w.isActive&&A===null||!_&&!w.prevProp||m1(_)||typeof _=="boolean")continue;const N=Y0e(w.prevProp,_);let T=N||b===l&&w.isActive&&!C&&S||x>y&&S,I=!1;const P=Array.isArray(_)?_:[_];let k=P.reduce(i(b),{});A===!1&&(k={});const{prevResolvedValues:R={}}=w,O={...R,...k},M=q=>{T=!0,f.has(q)&&(I=!0,f.delete(q)),w.needsAnimating[q]=!0;const H=t.getValue(q);H&&(H.liveStyle=!1)};for(const q in O){const H=k[q],J=R[q];if(m.hasOwnProperty(q))continue;let oe=!1;EA(H)&&EA(J)?oe=!F7(H,J):oe=H!==J,oe?H!=null?M(q):f.add(q):H!==void 0&&f.has(q)?M(q):w.protectedKeys[q]=!0}w.prevProp=_,w.prevResolvedValues=k,w.isActive&&(m={...m,...k}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(C&&N)||I)&&h.push(...P.map(q=>({animation:q,options:{type:b}})))}if(f.size){const x={};f.forEach(b=>{const w=t.getBaseTarget(b),_=t.getValue(b);_&&(_.liveStyle=!0),x[b]=w??null}),h.push({animation:x})}let v=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(h):Promise.resolve()}function o(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const h=s(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n,reset:()=>{n=s5(),r=!0}}}function Y0e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!F7(e,t):!1}function rc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function s5(){return{animate:rc(!0),whileInView:rc(),whileHover:rc(),whileTap:rc(),whileDrag:rc(),whileFocus:rc(),exit:rc()}}class $l{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Q0e extends $l{constructor(e){super(e),e.animationState||(e.animationState=W0e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();m1(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let X0e=0;class Z0e extends $l{constructor(){super(...arguments),this.id=X0e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const J0e={animation:{Feature:Q0e},exit:{Feature:Z0e}};function gg(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ey(t){return{point:{x:t.pageX,y:t.pageY}}}const eve=t=>e=>uC(e)&&t(e,Ey(e));function wp(t,e,n,r){return gg(t,e,eve(n),r)}const o5=(t,e)=>Math.abs(t-e);function tve(t,e){const n=o5(t.x,e.x),r=o5(t.y,e.y);return Math.sqrt(n**2+r**2)}class Cq{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=rS(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=tve(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:y}=h,{timestamp:v}=Hn;this.history.push({...y,timestamp:v});const{onStart:x,onMove:b}=this.handlers;f||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=nS(f,this.transformPagePoint),wt.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=rS(h.type==="pointercancel"?this.lastMoveEventInfo:nS(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,x),y&&y(h,x)},!uC(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Ey(e),o=nS(s,this.transformPagePoint),{point:l}=o,{timestamp:u}=Hn;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,rS(o,this.history)),this.removeListeners=_y(wp(this.contextWindow,"pointermove",this.handlePointerMove),wp(this.contextWindow,"pointerup",this.handlePointerUp),wp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Nl(this.updatePoint)}}function nS(t,e){return e?{point:e(t.point)}:t}function l5(t,e){return{x:t.x-e.x,y:t.y-e.y}}function rS({point:t},e){return{point:t,delta:l5(t,Pq(e)),offset:l5(t,nve(e)),velocity:rve(e,.1)}}function nve(t){return t[0]}function Pq(t){return t[t.length-1]}function rve(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Pq(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ts(e)));)n--;if(!r)return{x:0,y:0};const a=As(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}const kq=1e-4,ive=1-kq,ave=1+kq,Oq=.01,sve=0-Oq,ove=0+Oq;function wi(t){return t.max-t.min}function lve(t,e,n){return Math.abs(t-e)<=n}function c5(t,e,n,r=.5){t.origin=r,t.originPoint=Dt(e.min,e.max,t.origin),t.scale=wi(n)/wi(e),t.translate=Dt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=ive&&t.scale<=ave||isNaN(t.scale))&&(t.scale=1),(t.translate>=sve&&t.translate<=ove||isNaN(t.translate))&&(t.translate=0)}function _p(t,e,n,r){c5(t.x,e.x,n.x,r?r.originX:void 0),c5(t.y,e.y,n.y,r?r.originY:void 0)}function u5(t,e,n){t.min=n.min+e.min,t.max=t.min+wi(e)}function cve(t,e,n){u5(t.x,e.x,n.x),u5(t.y,e.y,n.y)}function d5(t,e,n){t.min=e.min-n.min,t.max=t.min+wi(e)}function Ep(t,e,n){d5(t.x,e.x,n.x),d5(t.y,e.y,n.y)}function uve(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Dt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Dt(n,t,r.max):Math.min(t,n)),t}function h5(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function dve(t,{top:e,left:n,bottom:r,right:i}){return{x:h5(t.x,n,i),y:h5(t.y,e,r)}}function f5(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function hve(t,e){return{x:f5(t.x,e.x),y:f5(t.y,e.y)}}function fve(t,e){let n=.5;const r=wi(t),i=wi(e);return i>r?n=Oh(e.min,e.max-r,t.min):r>i&&(n=Oh(t.min,t.max-i,e.min)),Fs(0,1,n)}function mve(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const RA=.35;function pve(t=RA){return t===!1?t=0:t===!0&&(t=RA),{x:m5(t,"left","right"),y:m5(t,"top","bottom")}}function m5(t,e,n){return{min:p5(t,e),max:p5(t,n)}}function p5(t,e){return typeof t=="number"?t:t[e]||0}const g5=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ad=()=>({x:g5(),y:g5()}),y5=()=>({min:0,max:0}),Xt=()=>({x:y5(),y:y5()});function Ii(t){return[t("x"),t("y")]}function Rq({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function gve({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function yve(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function iS(t){return t===void 0||t===1}function DA({scale:t,scaleX:e,scaleY:n}){return!iS(t)||!iS(e)||!iS(n)}function dc(t){return DA(t)||Dq(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Dq(t){return v5(t.x)||v5(t.y)}function v5(t){return t&&t!=="0%"}function tb(t,e,n){const r=t-n,i=e*r;return n+i}function x5(t,e,n,r,i){return i!==void 0&&(t=tb(t,i,r)),tb(t,n,r)+e}function MA(t,e=0,n=1,r,i){t.min=x5(t.min,e,n,r,i),t.max=x5(t.max,e,n,r,i)}function Mq(t,{x:e,y:n}){MA(t.x,e.translate,e.scale,e.originPoint),MA(t.y,n.translate,n.scale,n.originPoint)}const b5=.999999999999,w5=1.0000000000001;function vve(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Id(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,Mq(t,s)),r&&dc(a.latestValues)&&Id(t,a.latestValues))}e.x<w5&&e.x>b5&&(e.x=1),e.y<w5&&e.y>b5&&(e.y=1)}function Nd(t,e){t.min=t.min+e,t.max=t.max+e}function _5(t,e,n,r,i=.5){const a=Dt(t.min,t.max,i);MA(t,e,n,a,r)}function Id(t,e){_5(t.x,e.x,e.scaleX,e.scale,e.originX),_5(t.y,e.y,e.scaleY,e.scale,e.originY)}function Lq(t,e){return Rq(yve(t.getBoundingClientRect(),e))}function xve(t,e,n){const r=Lq(t,n),{scroll:i}=e;return i&&(Nd(r.x,i.offset.x),Nd(r.y,i.offset.y)),r}const Vq=({current:t})=>t?t.ownerDocument.defaultView:null,bve=new WeakMap;class wve{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ey(d).point)},a=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:y}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fye(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ii(x=>{let b=this.getAxisMotionValue(x).get()||0;if(La.test(b)){const{projection:w}=this.visualElement;if(w&&w.layout){const _=w.layout.layoutBox[x];_&&(b=wi(_)*(parseFloat(b)/100))}}this.originPoint[x]=b}),y&&wt.postRender(()=>y(d,h)),AA(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},s=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:y,onDrag:v}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:x}=h;if(m&&this.currentDirection===null){this.currentDirection=_ve(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),v&&v(d,h)},o=(d,h)=>this.stop(d,h),l=()=>Ii(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Cq(e,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Vq(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&wt.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!R0(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=uve(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&Sd(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=dve(i.layoutBox,n):this.constraints=!1,this.elastic=pve(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ii(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=mve(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Sd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=xve(r,i.root,this.visualElement.getTransformPagePoint());let s=hve(i.layout.layoutBox,a);if(n){const o=n(gve(s));this.hasMutatedConstraints=!!o,o&&(s=Rq(o))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=Ii(d=>{if(!R0(d,n,this.currentDirection))return;let h=l&&l[d]||{};s&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return AA(this.visualElement,e),r.start(_C(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ii(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ii(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ii(n=>{const{drag:r}=this.getProps();if(!R0(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(e[n]-Dt(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Sd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ii(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();i[s]=fve({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ii(s=>{if(!R0(s,e,null))return;const o=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];o.set(Dt(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;bve.set(this.visualElement,this);const e=this.visualElement.current,n=wp(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Sd(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),wt.read(r);const s=gg(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ii(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=RA,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function R0(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function _ve(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Eve extends $l{constructor(e){super(e),this.removeGroupControls=pi,this.removeListeners=pi,this.controls=new wve(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||pi}unmount(){this.removeGroupControls(),this.removeListeners()}}const E5=t=>(e,n)=>{t&&wt.postRender(()=>t(e,n))};class Sve extends $l{constructor(){super(...arguments),this.removePointerDownListener=pi}onPointerDown(e){this.session=new Cq(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Vq(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:E5(e),onStart:E5(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&wt.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=wp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Rv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function S5(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const fm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(me.test(t))t=parseFloat(t);else return t;const n=S5(t,e.target.x),r=S5(t,e.target.y);return`${n}% ${r}%`}},Tve={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Il.parse(t);if(i.length>5)return r;const a=Il.createTransformer(t),s=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=o,i[1+s]/=l;const u=Dt(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),a(i)}};class Ave extends g.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;Gge(Nve),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Rv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||wt.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Xj.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function zq(t){const[e,n]=w7(),r=g.useContext($j);return c.jsx(Ave,{...t,layoutGroup:r,switchLayoutGroup:g.useContext(j7),isPresent:e,safeToRemove:n})}const Nve={borderRadius:{...fm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fm,borderTopRightRadius:fm,borderBottomLeftRadius:fm,borderBottomRightRadius:fm,boxShadow:Tve};function Ive(t,e,n){const r=dr(t)?t:mg(t);return r.start(_C("",r,e,n)),r.animation}function jve(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Cve=(t,e)=>t.depth-e.depth;class Pve{constructor(){this.children=[],this.isDirty=!1}add(e){dC(this.children,e),this.isDirty=!0}remove(e){hC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Cve),this.isDirty=!1,this.children.forEach(e)}}function kve(t,e){const n=Va.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Nl(r),t(a-e))};return wt.read(r,!0),()=>Nl(r)}const Uq=["TopLeft","TopRight","BottomLeft","BottomRight"],Ove=Uq.length,T5=t=>typeof t=="string"?parseFloat(t):t,A5=t=>typeof t=="number"||me.test(t);function Rve(t,e,n,r,i,a){i?(t.opacity=Dt(0,n.opacity!==void 0?n.opacity:1,Dve(r)),t.opacityExit=Dt(e.opacity!==void 0?e.opacity:1,0,Mve(r))):a&&(t.opacity=Dt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Ove;s++){const o=`border${Uq[s]}Radius`;let l=N5(e,o),u=N5(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||A5(l)===A5(u)?(t[o]=Math.max(Dt(T5(l),T5(u),r),0),(La.test(u)||La.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=Dt(e.rotate||0,n.rotate||0,r))}function N5(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Dve=Bq(0,.5,aq),Mve=Bq(.5,.95,pi);function Bq(t,e,n){return r=>r<t?0:r>e?1:n(Oh(t,e,r))}function I5(t,e){t.min=e.min,t.max=e.max}function Ei(t,e){I5(t.x,e.x),I5(t.y,e.y)}function j5(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function C5(t,e,n,r,i){return t-=e,t=tb(t,1/n,r),i!==void 0&&(t=tb(t,1/i,r)),t}function Lve(t,e=0,n=1,r=.5,i,a=t,s=t){if(La.test(e)&&(e=parseFloat(e),e=Dt(s.min,s.max,e/100)-s.min),typeof e!="number")return;let o=Dt(a.min,a.max,r);t===a&&(o-=e),t.min=C5(t.min,e,n,o,i),t.max=C5(t.max,e,n,o,i)}function P5(t,e,[n,r,i],a,s){Lve(t,e[n],e[r],e[i],e.scale,a,s)}const Vve=["x","scaleX","originX"],zve=["y","scaleY","originY"];function k5(t,e,n,r){P5(t.x,e,Vve,n?n.x:void 0,r?r.x:void 0),P5(t.y,e,zve,n?n.y:void 0,r?r.y:void 0)}function O5(t){return t.translate===0&&t.scale===1}function Fq(t){return O5(t.x)&&O5(t.y)}function R5(t,e){return t.min===e.min&&t.max===e.max}function Uve(t,e){return R5(t.x,e.x)&&R5(t.y,e.y)}function D5(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function $q(t,e){return D5(t.x,e.x)&&D5(t.y,e.y)}function M5(t){return wi(t.x)/wi(t.y)}function L5(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Bve{constructor(){this.members=[]}add(e){dC(this.members,e),e.scheduleRender()}remove(e){if(hC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Fve(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,s=(n==null?void 0:n.z)||0;if((i||a||s)&&(r=`translate3d(${i}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:y}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const hc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Um=typeof window<"u"&&window.MotionDebug!==void 0,aS=["","X","Y","Z"],$ve={visibility:"hidden"},V5=1e3;let qve=0;function sS(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function qq(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Z7(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",wt,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&qq(r)}function Hq({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=e==null?void 0:e()){this.id=qve++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Um&&(hc.totalNodes=hc.resolvedTargetDeltas=hc.recalculatedProjection=0),this.nodes.forEach(Kve),this.nodes.forEach(Zve),this.nodes.forEach(Jve),this.nodes.forEach(Wve),Um&&window.MotionDebug.record(hc)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Pve)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new fC),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=jve(s),this.instance=s;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=kve(f,250),Rv.hasAnimatedSinceResize&&(Rv.hasAnimatedSinceResize=!1,this.nodes.forEach(U5))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||ixe,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=d.getProps(),w=!this.targetLayout||!$q(this.targetLayout,y)||m,_=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,_);const S={...oC(v,"layout"),onPlay:x,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else f||U5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Nl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(exe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qq(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(z5);return}this.isUpdating||this.nodes.forEach(Qve),this.isUpdating=!1,this.nodes.forEach(Xve),this.nodes.forEach(Hve),this.nodes.forEach(Gve),this.clearAllSnapshots();const o=Va.now();Hn.delta=Fs(0,1e3/60,o-Hn.timestamp),Hn.timestamp=o,Hn.isProcessing=!0,QE.update.process(Hn),QE.preRender.process(Hn),QE.render.process(Hn),Hn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Xj.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Yve),this.sharedNodes.forEach(txe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!Fq(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(o||dc(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),axe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:o}=this.options;if(!o)return Xt();const l=o.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(sxe))){const{scroll:d}=this.root;d&&(Nd(l.x,d.offset.x),Nd(l.y,d.offset.y))}return l}removeElementScroll(s){var o;const l=Xt();if(Ei(l,s),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Ei(l,s),Nd(l.x,h.offset.x),Nd(l.y,h.offset.y))}return l}applyTransform(s,o=!1){const l=Xt();Ei(l,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Id(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),dc(d.latestValues)&&Id(l,d.latestValues)}return dc(this.latestValues)&&Id(l,this.latestValues),l}removeTransform(s){const o=Xt();Ei(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!dc(u.latestValues))continue;DA(u.latestValues)&&u.updateSnapshot();const d=Xt(),h=u.measurePageBox();Ei(d,h),k5(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return dc(this.latestValues)&&k5(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Hn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Hn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xt(),this.relativeTargetOrigin=Xt(),Ep(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Ei(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Xt(),this.targetWithTransforms=Xt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cve(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ei(this.target,this.layout.layoutBox),Mq(this.target,this.targetDelta)):Ei(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xt(),this.relativeTargetOrigin=Xt(),Ep(this.relativeTargetOrigin,this.target,m.target),Ei(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Um&&hc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||DA(this.parent.latestValues)||Dq(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Hn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Ei(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;vve(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Xt());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(j5(this.prevProjectionDelta.x,this.projectionDelta.x),j5(this.prevProjectionDelta.y,this.projectionDelta.y)),_p(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!L5(this.projectionDelta.x,this.prevProjectionDelta.x)||!L5(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Um&&hc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ad(),this.projectionDelta=Ad(),this.projectionDeltaWithTransform=Ad()}setAnimationOrigin(s,o=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=Ad();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Xt(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,v=m!==y,x=this.getStack(),b=!x||x.members.length<=1,w=!!(v&&!b&&this.options.crossfade===!0&&!this.path.some(rxe));this.animationProgress=0;let _;this.mixTargetDelta=S=>{const A=S/1e3;B5(h.x,s.x,A),B5(h.y,s.y,A),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ep(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nxe(this.relativeTarget,this.relativeTargetOrigin,f,A),_&&Uve(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Xt()),Ei(_,this.relativeTarget)),v&&(this.animationValues=d,Rve(d,u,this.latestValues,A,w,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Nl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wt.update(()=>{Rv.hasAnimatedSinceResize=!0,this.currentAnimation=Ive(0,V5,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(V5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:d}=s;if(!(!o||!l||!u)){if(this!==s&&this.layout&&u&&Gq(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Xt();const h=wi(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+h;const f=wi(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+f}Ei(o,l),Id(o,d),_p(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Bve),this.sharedNodes.get(s).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&sS("z",s,u,this.animationValues);for(let d=0;d<aS.length;d++)sS(`rotate${aS[d]}`,s,u,this.animationValues),sS(`skew${aS[d]}`,s,u,this.animationValues);s.render();for(const d in u)s.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);s.scheduleRender()}getProjectionStyles(s){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return $ve;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=kv(s==null?void 0:s.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=kv(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!dc(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Fve(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in Qx){if(f[v]===void 0)continue;const{correct:x,applyTo:b}=Qx[v],w=u.transform==="none"?f[v]:x(f[v],h);if(b){const _=b.length;for(let S=0;S<_;S++)u[b[S]]=w}else u[v]=w}return this.options.layoutId&&(u.pointerEvents=h===this?kv(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(z5),this.root.sharedNodes.clear()}}}function Hve(t){t.updateLayout()}function Gve(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,s=n.source!==t.layout.source;a==="size"?Ii(h=>{const f=s?n.measuredBox[h]:n.layoutBox[h],m=wi(f);f.min=r[h].min,f.max=f.min+m}):Gq(a,n.layoutBox,r)&&Ii(h=>{const f=s?n.measuredBox[h]:n.layoutBox[h],m=wi(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const o=Ad();_p(o,r,n.layoutBox);const l=Ad();s?_p(l,t.applyTransform(i,!0),n.measuredBox):_p(l,r,n.layoutBox);const u=!Fq(o);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const y=Xt();Ep(y,n.layoutBox,f.layoutBox);const v=Xt();Ep(v,r,m.layoutBox),$q(y,v)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=y,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Kve(t){Um&&hc.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Wve(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Yve(t){t.clearSnapshot()}function z5(t){t.clearMeasurements()}function Qve(t){t.isLayoutDirty=!1}function Xve(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function U5(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Zve(t){t.resolveTargetDelta()}function Jve(t){t.calcProjection()}function exe(t){t.resetSkewAndRotation()}function txe(t){t.removeLeadSnapshot()}function B5(t,e,n){t.translate=Dt(e.translate,0,n),t.scale=Dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function F5(t,e,n,r){t.min=Dt(e.min,n.min,r),t.max=Dt(e.max,n.max,r)}function nxe(t,e,n,r){F5(t.x,e.x,n.x,r),F5(t.y,e.y,n.y,r)}function rxe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ixe={duration:.45,ease:[.4,0,.1,1]},$5=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),q5=$5("applewebkit/")&&!$5("chrome/")?Math.round:pi;function H5(t){t.min=q5(t.min),t.max=q5(t.max)}function axe(t){H5(t.x),H5(t.y)}function Gq(t,e,n){return t==="position"||t==="preserve-aspect"&&!lve(M5(e),M5(n),.2)}function sxe(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const oxe=Hq({attachResizeListener:(t,e)=>gg(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),oS={current:void 0},Kq=Hq({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!oS.current){const t=new oxe({});t.mount(window),t.setOptions({layoutScroll:!0}),oS.current=t}return oS.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),lxe={pan:{Feature:Sve},drag:{Feature:Eve,ProjectionNode:Kq,MeasureLayout:zq}};function G5(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&wt.postRender(()=>a(e,Ey(e)))}class cxe extends $l{mount(){const{current:e}=this.node;e&&(this.unmount=lye(e,n=>(G5(this.node,n,"Start"),r=>G5(this.node,r,"End"))))}unmount(){}}class uxe extends $l{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_y(gg(this.node.current,"focus",()=>this.onFocus()),gg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function K5(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&wt.postRender(()=>a(e,Ey(e)))}class dxe extends $l{mount(){const{current:e}=this.node;e&&(this.unmount=hye(e,n=>(K5(this.node,n,"Start"),(r,{success:i})=>K5(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const LA=new WeakMap,lS=new WeakMap,hxe=t=>{const e=LA.get(t.target);e&&e(t)},fxe=t=>{t.forEach(hxe)};function mxe({root:t,...e}){const n=t||document;lS.has(n)||lS.set(n,{});const r=lS.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(fxe,{root:t,...e})),r[i]}function pxe(t,e,n){const r=mxe(e);return LA.set(t,n),r.observe(t),()=>{LA.delete(t),r.unobserve(t)}}const gxe={some:0,all:1};class yxe extends $l{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:gxe[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return pxe(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(vxe(e,n))&&this.startObserver()}unmount(){}}function vxe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const xxe={inView:{Feature:yxe},tap:{Feature:dxe},focus:{Feature:uxe},hover:{Feature:cxe}},bxe={layout:{ProjectionNode:Kq,MeasureLayout:zq}},VA={current:null},Wq={current:!1};function wxe(){if(Wq.current=!0,!!Gj)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>VA.current=t.matches;t.addListener(e),e()}else VA.current=!1}const _xe=[...xq,ir,Il],Exe=t=>_xe.find(vq(t)),W5=new WeakMap;function Sxe(t,e,n){for(const r in e){const i=e[r],a=n[r];if(dr(i))t.addValue(r,i);else if(dr(a))t.addValue(r,mg(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,mg(s!==void 0?s:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Y5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Txe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Va.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,wt.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:d}=s;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=p1(n),this.isVariantNode=N7(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in f){const y=f[m];l[m]!==void 0&&dr(y)&&y.set(l[m],!1)}}mount(e){this.current=e,W5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Wq.current||wxe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:VA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){W5.delete(this.current),this.projection&&this.projection.unmount(),Nl(this.notifyUpdate),Nl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ou.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&wt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Rh){const n=Rh[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Y5.length;r++){const i=Y5[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=e[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Sxe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=mg(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(gq(i)||oq(i))?i=parseFloat(i):!Exe(i)&&Il.test(n)&&(i=fq(e,n)),this.setBaseTarget(e,dr(i)?i.get():i)),dr(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=Jj(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!dr(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new fC),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Yq extends Txe{constructor(){super(...arguments),this.KeyframeResolver=bq}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;dr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Axe(t){return window.getComputedStyle(t)}class Nxe extends Yq{constructor(){super(...arguments),this.type="html",this.renderInstance=M7}readValueFromInstance(e,n){if(Ou.has(n)){const r=vC(n);return r&&r.default||0}else{const r=Axe(e),i=(O7(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Lq(e,n)}build(e,n,r){nC(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return sC(e,n,r)}}class Ixe extends Yq{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ou.has(n)){const r=vC(n);return r&&r.default||0}return n=L7.has(n)?n:Qj(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return U7(e,n,r)}build(e,n,r){rC(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){V7(e,n,r,i)}mount(e){this.isSVGTag=aC(e.tagName),super.mount(e)}}const jxe=(t,e)=>Zj(t)?new Ixe(e):new Nxe(e,{allowProjection:t!==g.Fragment}),Cxe=tye({...J0e,...xxe,...lxe,...bxe},jxe),Wn=gge(Cxe),Pxe=({product:t,onAddToCart:e,isLoggedIn:n})=>{const{name:r,description:i,category:a,imageUrl:s,comboImageUrl:o,available:l,stock:u,popular:d,new:h}=t,f=Qi(),[m,y]=g.useState(t.sizes[0]),v=m.name==="Combo Meal"&&o?o:s,x=!l||u===0,b=()=>{n?e(t,m):f("/auth/login")},w=()=>x?c.jsx("p",{className:"text-[10px] sm:text-sm font-medium text-red-600",children:"Out of Stock"}):u<5?c.jsxs("p",{className:"text-[10px] sm:text-sm font-medium text-orange-600",children:["Only ",u," left"]}):c.jsx("p",{className:"text-[10px] sm:text-sm font-medium text-green-600",children:"In Stock"});return c.jsxs(pe,{className:"flex flex-col overflow-hidden transition-transform duration-300 hover:-translate-y-1",hover:!0,children:[c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:v,alt:r,className:"h-32 w-full object-cover sm:h-48"}),c.jsxs("div",{className:"absolute top-2 right-2 z-10 flex flex-col items-end gap-1",children:[x?c.jsx(cr,{className:"bg-red-100 text-red-800",size:"sm",children:"Out of Stock"}):u>0&&u<5?c.jsx(cr,{className:"bg-orange-100 text-orange-800",size:"sm",children:"Low Stock"}):null,d&&!x&&c.jsx("div",{className:"rounded-full bg-amber-100 p-1.5 text-amber-600 shadow-sm",title:"Popular",children:c.jsx(Fp,{className:"h-4 w-4 fill-current"})}),h&&!x&&c.jsx("div",{className:"rounded-full bg-blue-100 p-1.5 text-blue-600 shadow-sm",title:"New",children:c.jsx(DU,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{className:"flex flex-1 flex-col p-2.5 sm:p-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] text-gray-500 sm:text-xs",children:a}),c.jsx("h3",{className:"font-semibold text-coffee-900 text-sm sm:text-lg leading-tight",children:r}),c.jsx("p",{className:"hidden mt-1 h-10 text-sm text-gray-600 line-clamp-2 sm:block",children:i})]}),c.jsxs("div",{className:"mt-auto pt-2 sm:pt-4",children:[c.jsxs("div",{className:"flex items-end justify-between gap-1",children:[c.jsxs("p",{className:"text-base font-bold text-primary-600 sm:text-xl",children:["",m.price.toFixed(2)]}),w()]}),c.jsx("div",{className:"mt-2 flex w-full rounded-full border border-gray-200 bg-gray-50 p-1 sm:mt-4",children:t.sizes.map(_=>c.jsxs("button",{onClick:()=>y(_),className:`w-1/2 rounded-full py-1 text-[10px] sm:text-xs font-semibold transition-colors sm:py-1.5 ${m.name===_.name?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:[_.name," ",c.jsxs("span",{className:"hidden sm:inline",children:["(",_.size,")"]})]},_.name))}),c.jsx("button",{onClick:b,disabled:x,className:"mt-2 flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-3 py-2 text-[10px] font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-gray-400 sm:mt-3 sm:px-4 sm:py-2.5 sm:text-sm","aria-label":n?`Add ${r} to cart`:`Login to order ${r}`,children:x?"Out of Stock":n?c.jsxs(c.Fragment,{children:[c.jsx(OU,{className:"h-3 w-3 sm:h-4 sm:w-4"}),"Add to Cart"]}):"Login to Order"})]})]})]})},Qq=()=>c.jsxs(pe,{className:"flex animate-pulse flex-col overflow-hidden",children:[c.jsx("div",{className:"relative",children:c.jsx("div",{className:"h-32 w-full bg-gray-300 sm:h-48"})}),c.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"h-4 w-1/4 rounded bg-gray-300"}),c.jsx("div",{className:"mt-2 h-6 w-3/4 rounded bg-gray-300"}),c.jsxs("div",{className:"mt-2 space-y-2",children:[c.jsx("div",{className:"h-4 rounded bg-gray-300"}),c.jsx("div",{className:"h-4 w-5/6 rounded bg-gray-300"})]})]}),c.jsxs("div",{className:"mt-auto pt-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"h-8 w-1/3 rounded bg-gray-300"}),c.jsx("div",{className:"h-5 w-1/4 rounded bg-gray-300"})]}),c.jsx("div",{className:"mt-3 h-10 w-full rounded-full bg-gray-300"})]})]})]}),kxe=()=>{const[t,e]=g.useState([]),[n,r]=g.useState(!0),[i,a]=g.useState(null);return g.useEffect(()=>{(async()=>{try{r(!0);const l=await de.collection("ingredients").where("isTopping","==",!0).get(),u=[];l.forEach(d=>{const h=d.data();h.stock>0&&h.toppingPrice!==void 0&&h.portionSize!==void 0&&u.push({id:d.id,name:h.name,price:h.toppingPrice,stock:h.stock,portionSize:h.portionSize})}),u.sort((d,h)=>d.name.localeCompare(h.name)),e(u),a(null)}catch(o){console.error("Error fetching toppings:",o),a("Failed to load toppings"),e([{id:"pearls",name:"Pearls",price:10,stock:3e3,portionSize:30},{id:"pudding",name:"Pudding",price:15,stock:2e3,portionSize:40},{id:"grass-jelly",name:"Grass Jelly",price:15,stock:2500,portionSize:35}])}finally{r(!1)}})()},[]),{toppings:t,isLoading:n,error:i}},Uc={sugarLevels:[{value:"0%",label:"No Sugar",sugarAmount:0,sugarIngredientId:"brown-sugar-syrup"},{value:"25%",label:"25% Sweet",sugarAmount:5,sugarIngredientId:"brown-sugar-syrup"},{value:"50%",label:"50% Sweet",sugarAmount:10,sugarIngredientId:"brown-sugar-syrup"},{value:"75%",label:"75% Sweet",sugarAmount:15,sugarIngredientId:"brown-sugar-syrup"},{value:"100%",label:"Regular (100%)",sugarAmount:20,sugarIngredientId:"brown-sugar-syrup"}],iceLevels:[{value:"None",label:"No Ice",iceAmount:0,iceIngredientId:"ice-cubes"},{value:"Less",label:"Less Ice",iceAmount:50,iceIngredientId:"ice-cubes"},{value:"Normal",label:"Normal Ice",iceAmount:100,iceIngredientId:"ice-cubes"},{value:"Extra",label:"Extra Ice",iceAmount:150,iceIngredientId:"ice-cubes"}]},Xq=async()=>{try{const t=de.collection("settings").doc("customizationOptions");(await t.get()).exists?console.log(" Customization options already exist in Firestore"):(console.log("Seeding customization options to Firestore..."),await t.set(Uc),console.log(" Customization options seeded successfully"))}catch(t){throw console.error(" Error seeding customization options:",t),t}},Oxe=async()=>{try{const t=de.collection("settings").doc("customizationOptions"),e=await t.get();return e.exists?e.data():(await Xq(),(await t.get()).data())}catch(t){return console.error("Error fetching customization options:",t),Uc}},Rxe=()=>{const[t,e]=g.useState(Uc),[n,r]=g.useState(!0),[i,a]=g.useState(null);return g.useEffect(()=>{(async()=>{try{r(!0);const o=await Oxe();o&&o.sugarLevels&&o.iceLevels?(e(o),a(null)):e(Uc)}catch(o){console.error("Error fetching customization options:",o),a("Failed to load customization options"),e(Uc)}finally{r(!1)}})()},[]),{options:t,isLoading:n,error:i}},Dxe=({product:t,selectedSize:e,isOpen:n,onClose:r,onConfirm:i})=>{const[a,s]=g.useState("100%"),[o,l]=g.useState("Normal"),[u,d]=g.useState("None"),[h,f]=g.useState(1),{toppings:m,isLoading:y}=kxe(),{options:v,isLoading:x}=Rxe();if(zo.useEffect(()=>{n||(f(1),s("100%"),l("Normal"),d("None"))},[n]),!n)return null;const b=()=>{i({sugarLevel:a,iceLevel:o,toppings:u!=="None"?[u]:[]},h),r()},w=[{id:"none",name:"None",price:0},...m.map(N=>({id:N.id,name:N.name,price:N.price}))],_=w.find(N=>N.name===u),S=(_==null?void 0:_.price)||0,A=(e.price+S)*h,C=y||x;return c.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center sm:items-center animate-in fade-in duration-200",children:[c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:r}),c.jsxs("div",{className:"relative z-10 w-full max-w-lg overflow-hidden bg-white shadow-2xl transition-all duration-300 ease-out sm:rounded-3xl rounded-t-3xl max-h-[92vh] flex flex-col animate-in slide-in-from-bottom-4 sm:slide-in-from-bottom-0 sm:zoom-in-95",children:[c.jsxs("div",{className:"relative h-72 shrink-0 overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-50 to-primary-100",children:c.jsx("img",{src:t.imageUrl,alt:t.name,className:"h-full w-full object-cover scale-110 hover:scale-125 transition-transform duration-700"})}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),c.jsx("button",{onClick:r,className:"absolute right-4 top-4 flex h-10 w-10 items-center justify-center rounded-full bg-white/95 text-gray-900 shadow-xl backdrop-blur-sm transition-all hover:bg-white hover:scale-110 active:scale-95 z-10","aria-label":"Close modal",children:c.jsx(Xi,{className:"h-5 w-5"})}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 pb-8",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"font-display text-3xl sm:text-4xl font-bold leading-tight tracking-tight text-white drop-shadow-lg",children:t.name}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"inline-flex items-center rounded-full bg-white/20 backdrop-blur-md px-4 py-1.5 text-sm font-semibold text-white border border-white/30",children:e.name}),c.jsx("span",{className:"inline-flex items-center rounded-full bg-white/20 backdrop-blur-md px-4 py-1.5 text-sm font-semibold text-white border border-white/30",children:e.size})]})]})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6 pb-28",children:C?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(Mt,{className:"h-8 w-8 animate-spin text-primary-600"})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("h4",{className:"mb-4 font-display text-lg font-bold text-gray-900 flex items-center gap-2",children:[c.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-primary-600"}),"Sugar Level"]}),c.jsx("div",{className:"flex flex-wrap gap-2.5",children:v.sugarLevels.map(N=>c.jsx("button",{onClick:()=>s(N.value),className:`rounded-full px-5 py-2.5 text-sm font-semibold transition-all duration-200 ${a===N.value?"bg-primary-600 text-white shadow-lg shadow-primary-600/30 scale-105 ring-2 ring-primary-600 ring-offset-2":"bg-gray-100 text-gray-700 hover:bg-gray-200 hover:scale-105"}`,children:N.value},N.value))})]}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("h4",{className:"mb-4 font-display text-lg font-bold text-gray-900 flex items-center gap-2",children:[c.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-primary-600"}),"Ice Level"]}),c.jsx("div",{className:"flex flex-wrap gap-2.5",children:v.iceLevels.map(N=>c.jsx("button",{onClick:()=>l(N.value),className:`rounded-full px-5 py-2.5 text-sm font-semibold transition-all duration-200 ${o===N.value?"bg-primary-600 text-white shadow-lg shadow-primary-600/30 scale-105 ring-2 ring-primary-600 ring-offset-2":"bg-gray-100 text-gray-700 hover:bg-gray-200 hover:scale-105"}`,children:N.value},N.value))})]}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("h4",{className:"mb-4 font-display text-lg font-bold text-gray-900 flex items-center gap-2",children:[c.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-primary-600"}),"Choose Your Topping",c.jsx("span",{className:"ml-auto text-sm font-normal text-gray-500",children:"(Select one)"})]}),c.jsx("div",{className:"space-y-2.5",children:w.map(N=>{const T=u===N.name;return c.jsxs("label",{className:`flex cursor-pointer items-center justify-between rounded-2xl border-2 p-4 transition-all duration-200 ${T?"border-primary-600 bg-primary-50 shadow-md shadow-primary-600/10 scale-[1.02]":"border-gray-200 hover:border-primary-300 hover:bg-gray-50 hover:shadow-sm"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`flex h-6 w-6 items-center justify-center rounded-full border-2 transition-all duration-200 ${T?"border-primary-600 bg-primary-600 shadow-sm":"border-gray-400 bg-white"}`,children:T&&c.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-white animate-in zoom-in-50 duration-200"})}),c.jsx("input",{type:"radio",name:"topping",checked:T,onChange:()=>d(N.name),className:"hidden"}),c.jsx("span",{className:`font-semibold transition-colors ${T?"text-primary-900":"text-gray-700"}`,children:N.name})]}),N.price>0&&c.jsxs("span",{className:`font-bold transition-colors ${T?"text-primary-600":"text-gray-900"}`,children:["+",N.price]})]},N.id)})})]}),c.jsxs("div",{className:"flex items-center justify-between rounded-2xl bg-gray-50 p-4 border border-gray-200",children:[c.jsx("span",{className:"font-display text-lg font-bold text-gray-900",children:"Quantity"}),c.jsxs("div",{className:"flex items-center gap-4 rounded-full bg-white px-2 py-2 shadow-sm border border-gray-200",children:[c.jsx("button",{onClick:()=>f(Math.max(1,h-1)),className:"rounded-full p-2 text-gray-600 hover:bg-primary-50 hover:text-primary-600 disabled:opacity-40 disabled:hover:bg-transparent disabled:hover:text-gray-600 transition-all",disabled:h<=1,"aria-label":"Decrease quantity",children:c.jsx(bx,{className:"h-4 w-4"})}),c.jsx("span",{className:"w-8 text-center font-bold text-gray-900 tabular-nums",children:h}),c.jsx("button",{onClick:()=>f(h+1),className:"rounded-full p-2 text-gray-600 hover:bg-primary-50 hover:text-primary-600 transition-all","aria-label":"Increase quantity",children:c.jsx(rf,{className:"h-4 w-4"})})]})]})]})}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 border-t border-gray-200 bg-white/95 backdrop-blur-md p-5 shadow-[0_-8px_16px_-4px_rgba(0,0,0,0.08)]",children:c.jsxs("button",{onClick:b,disabled:C,className:"group flex w-full items-center justify-between rounded-2xl bg-gradient-to-r from-primary-600 to-primary-700 px-6 py-4 text-lg font-bold text-white shadow-xl shadow-primary-600/30 transition-all duration-200 hover:shadow-2xl hover:shadow-primary-600/40 hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("span",{className:"flex items-center gap-2",children:C?c.jsxs(c.Fragment,{children:[c.jsx(Mt,{className:"h-5 w-5 animate-spin"}),c.jsx("span",{children:"Loading..."})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{children:"Add to Cart"}),h>1&&c.jsxs("span",{className:"rounded-full bg-white/20 px-2.5 py-0.5 text-sm font-semibold",children:["",h]})]})}),c.jsxs("span",{className:"font-display text-xl tabular-nums",children:["",A.toFixed(2)]})]})})]})]})},Mxe=[{value:"default",label:"Default"},{value:"price-asc",label:"Price: Low to High"},{value:"price-desc",label:"Price: High to Low"},{value:"name-asc",label:"Name: A-Z"},{value:"name-desc",label:"Name: Z-A"}],Lxe={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},Vxe={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},zxe=()=>{const{products:t,isLoading:e,error:n}=ku(),[r,i]=g.useState("All"),[a,s]=g.useState(""),[o,l]=g.useState("default"),[u,d]=g.useState(!1),h=g.useRef(null),f=g.useRef(null),{addToCart:m}=xr(),{currentUser:y}=Yr(),[v,x]=g.useState(!1),[b,w]=g.useState(null),[_,S]=g.useState(null),A=(I,P)=>{["Coffee Based","Non Coffee","Refreshments","Matcha Series"].includes(I.category)?(w(I),S(P),x(!0)):m(I,P)},C=(I,P)=>{b&&_&&m(b,_,I,P)},N=g.useMemo(()=>t.length===0?["All"]:["All",...[...new Set(t.map(P=>P.category))].sort()],[t]);g.useEffect(()=>{const I=P=>{h.current&&!h.current.contains(P.target)&&d(!1)};return document.addEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}},[]);const T=g.useMemo(()=>{const P=[...t.filter(k=>{const R=r==="All"||k.category===r,O=a.trim()===""||k.name.toLowerCase().includes(a.toLowerCase())||k.description.toLowerCase().includes(a.toLowerCase());return R&&O})];switch(o){case"price-asc":P.sort((k,R)=>k.sizes[0].price-R.sizes[0].price);break;case"price-desc":P.sort((k,R)=>R.sizes[0].price-k.sizes[0].price);break;case"name-asc":P.sort((k,R)=>k.name.localeCompare(R.name));break;case"name-desc":P.sort((k,R)=>R.name.localeCompare(k.name));break}return P},[r,a,t,o]);return c.jsxs("div",{className:"flex min-h-screen flex-col bg-white",children:[c.jsx(mn,{}),c.jsxs("main",{children:[c.jsxs("section",{className:"relative flex min-h-[40vh] items-center justify-center bg-coffee-900 px-6 py-16 text-center text-white",children:[c.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1509042239860-f550ce710b93?q=80&w=2574&auto=format&fit=crop')] bg-cover bg-center opacity-20"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-coffee-900/80 to-coffee-900/90"}),c.jsxs("div",{className:"container relative z-40 mx-auto max-w-4xl",children:[c.jsx("h1",{className:"font-display text-4xl font-bold md:text-5xl",children:"Our Menu"}),c.jsx("p",{className:"mt-2 text-lg text-gray-200",children:"Discover your perfect cup "}),c.jsxs("div",{className:"mx-auto mt-8 flex max-w-2xl gap-3",children:[c.jsxs("div",{className:"relative flex-grow",children:[c.jsx(ch,{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",value:a,onChange:I=>s(I.target.value),placeholder:"Search for coffee, matcha...",className:"w-full rounded-full border-0 bg-white/10 py-3 pl-12 pr-4 text-white placeholder:text-gray-400 ring-1 ring-white/20 transition focus:bg-white/20 focus:ring-2 focus:ring-primary-500"})]}),c.jsxs("div",{className:"relative shrink-0",ref:h,children:[c.jsx("button",{onClick:()=>d(!u),className:"flex h-12 w-12 items-center justify-center rounded-full bg-white/10 text-white backdrop-blur-sm ring-1 ring-white/20 transition hover:bg-white/20","aria-haspopup":"true","aria-expanded":u,"aria-label":"Sort products",children:c.jsx(IU,{className:"h-5 w-5"})}),c.jsx("div",{className:`absolute right-0 top-full z-[100] mt-2 w-56 origin-top-right rounded-xl border border-gray-100 bg-white p-1 shadow-xl ring-1 ring-black ring-opacity-5 transition-all duration-200 ease-out ${u?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,role:"menu","aria-orientation":"vertical",children:c.jsx("div",{className:"py-1",role:"none",children:Mxe.map(I=>c.jsxs("button",{onClick:()=>{l(I.value),d(!1)},className:`flex w-full items-center justify-between rounded-lg px-4 py-2.5 text-sm text-left font-medium transition-colors ${o===I.value?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-50"}`,role:"menuitem",children:[c.jsx("span",{children:I.label}),o===I.value&&c.jsx(Ua,{className:"h-4 w-4"})]},I.value))})})]})]})]})]}),c.jsx("div",{className:"sticky top-16 z-20 border-b border-gray-200 bg-white/95 py-3 backdrop-blur-sm sm:top-20",children:c.jsx("div",{className:"container mx-auto flex max-w-7xl gap-2 overflow-x-auto px-6 pb-2",children:N.map(I=>c.jsx("button",{onClick:()=>{var P;i(I),(P=f.current)==null||P.scrollIntoView({behavior:"smooth"})},className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition-colors ${r===I?"bg-primary-600 text-white shadow":"border border-gray-300 bg-white text-gray-700 hover:bg-gray-100"}`,children:I},I))})}),c.jsx("section",{ref:f,className:"bg-gray-50 px-6 py-8 scroll-mt-36",children:c.jsx("div",{className:"container mx-auto max-w-7xl",children:e?c.jsx("div",{className:"grid grid-cols-2 gap-4 sm:gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:Array.from({length:8}).map((I,P)=>c.jsx(Qq,{},P))}):n?c.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-red-200 bg-red-50 py-20 text-center text-red-700",children:[c.jsx(Ja,{className:"h-16 w-16"}),c.jsx("h3",{className:"mt-4 text-xl font-semibold",children:"Oops! Something went wrong."}),c.jsx("p",{className:"mt-2",children:n})]}):T.length>0?c.jsx(Wn.div,{className:"grid grid-cols-2 gap-4 sm:gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",variants:Lxe,initial:"hidden",animate:"visible",children:T.map(I=>c.jsx(Wn.div,{variants:Vxe,layout:!0,className:"flex",children:c.jsx(Pxe,{product:I,onAddToCart:A,isLoggedIn:!!y})},I.id))}):c.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[c.jsx(ch,{className:"h-24 w-24 text-gray-300"}),c.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-800",children:"No products found"}),c.jsx("p",{className:"mt-2 text-gray-500",children:"Try adjusting your filters or search query."})]})})})]}),c.jsx(pn,{}),b&&_&&c.jsx(Dxe,{product:b,selectedSize:_,isOpen:v,onClose:()=>x(!1),onConfirm:C})]})},Uxe=({selectedMethod:t,onSelectMethod:e})=>{const n=t==="gcash",r=t==="cash",i=({isSelected:a})=>c.jsx("div",{className:`absolute top-4 right-4 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full border-2 transition-all ${a?"border-primary-600 bg-primary-600":"border-gray-400 bg-white"}`,children:a&&c.jsx(Ua,{className:"h-4 w-4 text-white"})});return c.jsxs("div",{className:"w-full",children:[c.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Payment Method"}),c.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",role:"radiogroup",children:[c.jsxs("div",{onClick:()=>e("gcash"),role:"radio","aria-checked":n,tabIndex:0,onKeyDown:a=>(a.key===" "||a.key==="Enter")&&e("gcash"),className:`relative cursor-pointer rounded-xl border-2 p-6 transition-all duration-200 ease-in-out hover:border-primary-300 ${n?"border-primary-600 bg-primary-50 shadow-lg":"border-gray-200 bg-white"}`,children:[c.jsxs("div",{className:"flex gap-4",children:[c.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-blue-100",children:c.jsx(LU,{className:"h-7 w-7 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"pr-8 font-display text-lg font-bold text-coffee-900",children:"GCash"}),c.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Pay securely via GCash QR code."})]})]}),c.jsx("div",{className:"mt-4",children:c.jsx(cr,{className:n?"bg-blue-200 text-blue-800":"bg-gray-100 text-gray-700",children:"Instant confirmation"})}),c.jsx(i,{isSelected:n})]}),c.jsxs("div",{onClick:()=>e("cash"),role:"radio","aria-checked":r,tabIndex:0,onKeyDown:a=>(a.key===" "||a.key==="Enter")&&e("cash"),className:`relative cursor-pointer rounded-xl border-2 p-6 transition-all duration-200 ease-in-out hover:border-primary-300 ${r?"border-primary-600 bg-primary-50 shadow-lg":"border-gray-200 bg-white"}`,children:[c.jsxs("div",{className:"flex gap-4",children:[c.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-green-100",children:c.jsx(Hte,{className:"h-7 w-7 text-green-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"pr-8 font-display text-lg font-bold text-coffee-900",children:"Cash on Pickup"}),c.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Pay when you collect your order."})]})]}),c.jsx("div",{className:"mt-4",children:c.jsx(cr,{className:r?"bg-green-200 text-green-800":"bg-gray-100 text-gray-700",children:"Pay at counter"})}),c.jsx(i,{isSelected:r})]})]})]})},Bxe=({totalAmount:t,orderNumber:e,receipt:n,onReceiptUpload:r})=>{const[i,a]=g.useState(null);g.useEffect(()=>{if(!n){a(null);return}const l=URL.createObjectURL(n);return a(l),()=>URL.revokeObjectURL(l)},[n]);const s=l=>{l.target.files&&l.target.files[0]&&r(l.target.files[0]),l.target.value=""},o=()=>{r(null)};return c.jsxs("div",{className:"w-full max-w-md mx-auto space-y-6",children:[c.jsx("div",{className:"rounded-lg border-l-4 border-blue-400 bg-blue-50 p-4",role:"alert",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx(Ja,{className:"h-5 w-5 text-blue-400","aria-hidden":"true"})}),c.jsx("div",{className:"ml-3",children:c.jsx("p",{className:"text-sm text-blue-700",children:"Please scan the QR code, complete the payment, and upload a screenshot of your receipt."})})]})}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto flex h-64 w-64 items-center justify-center rounded-xl border-4 border-primary-600 bg-white p-4 shadow-lg",children:c.jsx("div",{className:"relative flex h-full w-full items-center justify-center bg-[radial-gradient(#1e1612_1px,transparent_1px),radial-gradient(#1e1612_1px,transparent_1px)] bg-[length:12px_12px] bg-[position:0_0,6px_6px]",children:c.jsx("div",{className:"bg-white p-2 font-mono text-sm font-bold text-coffee-900",children:e})})}),c.jsxs("p",{className:"mt-4 text-sm font-medium text-gray-600",children:["Merchant: ",c.jsx("span",{className:"font-bold text-coffee-900",children:"Rush Coffee"})]}),c.jsxs("p",{className:"font-display text-3xl font-bold text-primary-600",children:["",t.toFixed(2)]})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("input",{type:"file",id:"receipt-upload",className:"hidden",accept:"image/*",onChange:s}),n?c.jsxs("div",{className:"relative rounded-lg border border-gray-300 bg-white p-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[i?c.jsx("img",{src:i,alt:"Receipt preview",className:"h-16 w-16 flex-shrink-0 rounded-md object-cover"}):c.jsx("div",{className:"flex h-16 w-16 flex-shrink-0 items-center justify-center rounded-md bg-gray-100",children:c.jsx(Mne,{className:"h-8 w-8 text-gray-400"})}),c.jsxs("div",{className:"flex-1 overflow-hidden",children:[c.jsx("p",{className:"truncate text-sm font-medium text-gray-800",children:n.name}),c.jsxs("p",{className:"text-xs text-gray-500",children:[(n.size/1024).toFixed(2)," KB"]})]})]}),c.jsx("button",{onClick:o,className:"absolute -top-2 -right-2 flex h-6 w-6 items-center justify-center rounded-full bg-red-500 text-white transition-transform hover:scale-110","aria-label":"Remove receipt",children:c.jsx(Xi,{className:"h-4 w-4"})})]}):c.jsxs("label",{htmlFor:"receipt-upload",className:"flex cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-6 text-center transition hover:bg-gray-100",children:[c.jsx(bne,{className:"h-12 w-12 text-gray-400"}),c.jsx("span",{className:"mt-2 block text-sm font-semibold text-gray-600",children:"Upload Receipt"}),c.jsx("span",{className:"mt-1 block text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})]})]})},Fxe=({items:t,subtotal:e,serviceFee:n=0,total:r})=>c.jsx("div",{className:"w-full lg:sticky lg:top-24",children:c.jsxs(pe,{className:"rounded-xl border-gray-200 p-6 shadow-none",children:[c.jsx("h2",{className:"mb-4 font-display text-lg font-semibold text-coffee-900",children:"Order Summary"}),c.jsx("div",{className:"max-h-60 space-y-2 overflow-y-auto pr-2",children:t.map((i,a)=>c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"text-gray-700",children:i.productName}),c.jsxs("span",{className:"ml-2 rounded-md bg-gray-100 px-1.5 py-0.5 text-xs font-medium text-gray-600",children:["",i.quantity]})]}),c.jsxs("span",{className:"font-medium text-gray-900",children:["",(i.price*i.quantity).toFixed(2)]})]},a))}),c.jsx("hr",{className:"my-4 border-gray-200"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Subtotal"}),c.jsxs("span",{className:"font-medium text-gray-900",children:["",e.toFixed(2)]})]}),n>0&&c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Service Fee"}),c.jsxs("span",{className:"font-medium text-gray-900",children:["",n.toFixed(2)]})]})]}),c.jsx("hr",{className:"my-4 border-dashed border-gray-300"}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-base font-bold text-gray-900",children:"Total"}),c.jsxs("span",{className:"font-display text-2xl font-bold text-primary-600",children:["",r.toFixed(2)]})]})]})}),Zq=g.createContext(void 0),Jq=()=>{const t=g.useContext(Zq);if(t===void 0)throw new Error("useNotification must be used within a NotificationProvider");return t},$xe=({children:t})=>{const[e,n]=g.useState({message:"",type:"info",isVisible:!1}),r=g.useCallback((s,o="info")=>{n({message:s,type:o,isVisible:!0}),setTimeout(()=>{n(l=>({...l,isVisible:!1}))},5e3)},[]),i=g.useCallback(()=>{n(s=>({...s,isVisible:!1}))},[]),a={notification:e,showNotification:r,hideNotification:i};return c.jsx(Zq.Provider,{value:a,children:t})},eH=g.createContext(void 0),EC=()=>{const t=g.useContext(eH);if(t===void 0)throw new Error("useOrder must be used within an OrderProvider");return t},qxe=({children:t})=>{const[e,n]=g.useState(null),[r,i]=g.useState([]),[a,s]=g.useState(!0),{currentUser:o}=Yr(),{showNotification:l}=Jq(),u=g.useRef(void 0);g.useEffect(()=>{let f;return o?(s(!0),f=de.collection("orders").where("userId","==",o.uid).onSnapshot(v=>{const x=v.docs.map(w=>{var _;return{id:w.id,...w.data(),timestamp:((_=w.data().timestamp)==null?void 0:_.toDate())||new Date}});x.sort((w,_)=>_.timestamp.getTime()-w.timestamp.getTime()),i(x);const b=x.find(w=>w.status!=="completed")||null;n(b),s(!1)},v=>{console.error("Error listening to order history:",v),s(!1)})):(i([]),n(null),s(!1)),()=>{f&&f()}},[o]),g.useEffect(()=>{const f=e==null?void 0:e.status,m=u.current;if(f==="ready"&&m!=="ready"){const y=e==null?void 0:e.orderItems.map(v=>v.productName).join(", ");l(`Your order for ${y} is ready!`,"success")}u.current=f},[e==null?void 0:e.status,e==null?void 0:e.orderItems,l]);const h={activeOrder:e,setActiveOrder:n,orderHistory:r,addOrderToHistory:async f=>{try{const m=await de.collection("orders").add({...f,timestamp:nt.firestore.FieldValue.serverTimestamp()}),y={...f,id:m.id,timestamp:new Date};i(v=>[y,...v]),n(y)}catch(m){console.error("Error adding order to Firestore:",m)}},isHistoryLoading:a};return c.jsx(eH.Provider,{value:h,children:t})},Hxe=()=>{const t=Qi(),{cartItems:e,showToast:n,totalCartItems:r,clearCart:i,selectedItemIds:a}=xr(),{currentUser:s}=Yr(),{setActiveOrder:o,addOrderToHistory:l}=EC(),u=g.useMemo(()=>e.filter(L=>a.includes(L.id)),[e,a]),[d,h]=g.useState(null),[f,m]=g.useState({name:"",phone:""}),[y,v]=g.useState(""),[x,b]=g.useState({}),[w,_]=g.useState(null),[S,A]=g.useState(!1),[C,N]=g.useState(!1),{subtotal:T,serviceFee:I,total:P}=g.useMemo(()=>{const L=u.reduce((q,H)=>q+H.selectedSize.price*H.quantity,0),B=15;return{subtotal:L,serviceFee:B,total:L+B}},[u]),k=g.useMemo(()=>u.map(L=>({productName:`${L.product.name} (${L.selectedSize.name})`,quantity:L.quantity,price:L.selectedSize.price})),[u]);g.useEffect(()=>{if(!s){n("Please log in to proceed to checkout."),t("/auth/login",{state:{from:"/checkout"}});return}r===0&&!S&&!C&&(n("Your cart is empty. Add items to checkout."),t("/menu"))},[r,t,n,S,C,s]),g.useEffect(()=>{s&&m({name:`${s.firstName} ${s.lastName}`,phone:s.phone||""})},[s]);const R=()=>{const L={};return f.name.trim().length<2&&(L.name="Name must be at least 2 characters long."),/^(09|\+639)\d{9}$/.test(f.phone)||(L.phone="Please enter a valid Philippine phone number (e.g., 09xxxxxxxxx)."),d||(L.payment="Please select a payment method."),d==="gcash"&&!w&&(L.gcash="Please upload your payment receipt to proceed."),b(L),Object.keys(L).length===0},O=async L=>{if(L.preventDefault(),!s||!R()){n("Please correct the errors before proceeding.");return}A(!0);const B=`RC-2025-${Math.floor(1e3+Math.random()*9e3)}`;setTimeout(async()=>{const q={userId:s.uid,customerName:f.name,orderNumber:B,position:Math.floor(Math.random()*5)+1,status:"waiting",orderItems:u.map(H=>({productId:H.product.id,productName:`${H.product.name} (${H.selectedSize.name})`,quantity:H.quantity,price:H.selectedSize.price})),totalAmount:P,paymentMethod:d,paymentStatus:d==="gcash"?"paid":"pending",estimatedTime:10};await l(q),i(),A(!1),N(!0),t("/queue",{state:{fromCheckout:!0,orderNumber:B}})},2e3)},M=S||!d||!f.name||!/^(09|\+639)\d{9}$/.test(f.phone)||d==="gcash"&&!w;return!s||r===0&&!C?c.jsxs("div",{className:"flex min-h-screen flex-col",children:[c.jsx(mn,{}),c.jsx("main",{className:"flex flex-1 items-center justify-center bg-gray-50 text-center",children:c.jsxs("div",{children:[c.jsx(ww,{className:"mx-auto h-24 w-24 text-gray-300"}),c.jsx("h1",{className:"mt-4 text-2xl font-bold text-gray-800",children:"Your cart is empty"}),c.jsx("p",{className:"mt-2 text-gray-500",children:"Add some delicious coffee to get started."}),c.jsx("button",{onClick:()=>t("/menu"),className:"mt-6 rounded-full bg-primary-600 px-6 py-2 font-semibold text-white hover:bg-primary-700",children:"Browse Menu"})]})}),c.jsx(pn,{})]}):c.jsxs("div",{className:"flex min-h-screen flex-col bg-gray-50",children:[c.jsx(mn,{}),c.jsxs("main",{className:"container mx-auto max-w-7xl px-4 py-8",children:[c.jsx("h1",{className:"mb-6 font-display text-3xl font-bold text-coffee-900",children:"Checkout"}),c.jsxs("form",{onSubmit:O,id:"checkout-form",className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[c.jsxs("div",{className:"space-y-8 lg:col-span-2",children:[c.jsxs("div",{className:"rounded-xl border bg-white p-6",children:[c.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Your Information"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),c.jsx(Ms,{className:"absolute left-3 top-10 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",id:"name",value:f.name,onChange:L=>m({...f,name:L.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 py-2 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Juan dela Cruz"}),x.name&&c.jsx("p",{className:"mt-1 text-xs text-red-500",children:x.name})]}),c.jsxs("div",{className:"relative",children:[c.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),c.jsx(Ds,{className:"absolute left-3 top-10 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"tel",id:"phone",value:f.phone,onChange:L=>m({...f,phone:L.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 py-2 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"09171234567"}),x.phone&&c.jsx("p",{className:"mt-1 text-xs text-red-500",children:x.phone})]})]})]}),c.jsxs("div",{className:"rounded-xl border bg-white p-6",children:[c.jsx(Uxe,{selectedMethod:d,onSelectMethod:h}),x.payment&&c.jsx("p",{className:"mt-2 text-xs text-red-500",children:x.payment}),d==="gcash"&&c.jsxs("div",{className:"mt-6 border-t pt-6",children:[c.jsx(Bxe,{totalAmount:P,orderNumber:`TEMP-${Date.now()}`,receipt:w,onReceiptUpload:_}),x.gcash&&c.jsx("p",{className:"mt-2 text-xs text-red-500 text-center",children:x.gcash})]}),d==="cash"&&c.jsx("div",{className:"mt-6 rounded-lg border-l-4 border-green-400 bg-green-50 p-4",role:"alert",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx(Ja,{className:"h-5 w-5 text-green-400"})}),c.jsx("div",{className:"ml-3",children:c.jsx("p",{className:"text-sm text-green-700",children:"Please prepare the exact amount. You can pay at the counter upon pickup."})})]})})]}),c.jsxs("div",{className:"rounded-xl border bg-white p-6",children:[c.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Special Instructions (Optional)"}),c.jsxs("div",{className:"relative",children:[c.jsx(nf,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),c.jsx("textarea",{id:"notes",value:y,onChange:L=>v(L.target.value),rows:3,className:"block w-full rounded-md border-gray-300 py-2 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"e.g., less ice, extra shot..."})]})]}),c.jsx("div",{className:"hidden lg:block",children:c.jsx("button",{type:"submit",form:"checkout-form",disabled:M,className:"mt-2 flex w-full max-w-xs justify-center rounded-full bg-primary-600 px-4 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 disabled:cursor-not-allowed disabled:bg-primary-400",children:S?c.jsx(Mt,{className:"h-6 w-6 animate-spin"}):"Place Order"})})]}),c.jsx("div",{className:"lg:col-span-1",children:c.jsx(Fxe,{items:k,subtotal:T,serviceFee:I,total:P})})]})]}),c.jsx("div",{className:"sticky bottom-0 left-0 right-0 border-t border-gray-200 bg-white/90 p-4 backdrop-blur-sm lg:hidden",children:c.jsx("button",{type:"submit",form:"checkout-form",disabled:M,className:"flex w-full justify-center rounded-full bg-primary-600 px-4 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 disabled:cursor-not-allowed disabled:bg-primary-400",children:S?c.jsx(Mt,{className:"h-6 w-6 animate-spin"}):`Place Order (${P.toFixed(2)})`})}),c.jsx(pn,{})]})},Q5=({children:t,className:e="",hover:n=!1})=>{const r=n?"hover:shadow-xl transition-all duration-300":"";return c.jsx("div",{className:`rounded-lg border border-gray-100 bg-white p-6 shadow-sm ${r} ${e}`,children:t})},ke=g.forwardRef(({children:t,variant:e="primary",size:n="md",className:r="",asChild:i=!1,isLoading:a=!1,startIcon:s,endIcon:o,fullWidth:l=!1,disabled:u,...d},h)=>{const f="inline-flex items-center justify-center gap-2 rounded-full font-semibold transition-all duration-200 ease-in-out focus:outline-none focus:ring-4 disabled:cursor-not-allowed disabled:opacity-60 active:scale-95",m={primary:"bg-primary-600 text-white shadow-lg hover:bg-primary-700 hover:shadow-xl focus:ring-primary-500/30 active:bg-primary-800",secondary:"bg-coffee-600 text-white shadow-lg hover:bg-coffee-700 hover:shadow-xl focus:ring-coffee-500/30 active:bg-coffee-800",outline:"border-2 border-primary-600 bg-transparent text-primary-600 hover:bg-primary-50 focus:ring-primary-500/20 active:bg-primary-100",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500/20 active:bg-gray-200",danger:"bg-red-600 text-white shadow-lg hover:bg-red-700 hover:shadow-xl focus:ring-red-500/30 active:bg-red-800"},y={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg",xl:"px-10 py-5 text-xl"},v=l?"w-full":"",x=`${f} ${m[e]} ${y[n]} ${v} ${r}`,b=c.jsxs(c.Fragment,{children:[a&&c.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!a&&s&&c.jsx("span",{className:"inline-flex items-center flex-shrink-0",children:s}),c.jsx("span",{className:"inline-flex items-center",children:t}),!a&&o&&c.jsx("span",{className:"inline-flex items-center flex-shrink-0",children:o})]});return i?c.jsx("span",{className:x,children:b}):c.jsx("button",{ref:h,className:x,disabled:u||a,...d,children:b})});ke.displayName="Button";const Gxe=({delay:t})=>{const e=Math.random()*300-150,n=Math.random()*300+50,r=Math.random()*360,i=["#EF4444","#F59E0B","#10B981","#3B82F6","#8B5CF6","#EC4899"],a=i[Math.floor(Math.random()*i.length)];return c.jsx(Wn.div,{initial:{opacity:1,x:0,y:-20,scale:.5,rotate:0},animate:{opacity:[1,1,0],x:e,y:n,scale:[.5,1,.5],rotate:r},transition:{duration:2.5,delay:t,ease:"easeOut"},style:{position:"absolute",top:0,left:"50%",width:"8px",height:"8px",backgroundColor:a,borderRadius:Math.random()>.5?"50%":"2px",zIndex:50}})},Kxe=()=>{const t=Array.from({length:60});return c.jsx("div",{className:"absolute top-0 left-0 right-0 h-full pointer-events-none overflow-hidden z-50",children:t.map((e,n)=>c.jsx(Gxe,{delay:Math.random()*.3},n))})},X5={waiting:{Icon:Zs,text:"Order Placed",subtext:"We've received your order.",color:"text-amber-600",bgColor:"bg-amber-100",borderColor:"border-amber-200",step:1},preparing:{Icon:hr,text:"Brewing Now",subtext:"Your coffee is being crafted.",color:"text-blue-600",bgColor:"bg-blue-100",borderColor:"border-blue-200",step:2},ready:{Icon:ef,text:"Ready for Pickup!",subtext:"Grab it at the counter.",color:"text-green-600",bgColor:"bg-green-100",borderColor:"border-green-200",step:3},completed:{Icon:Ua,text:"Enjoy!",subtext:"Order completed.",color:"text-primary-600",bgColor:"bg-primary-100",borderColor:"border-primary-200",step:4}},Wxe=({order:t,onDismiss:e})=>{const[n,r]=g.useState(!1),[i,a]=g.useState(!1),[s,o]=g.useState(!1),[l,u]=g.useState(0),[d,h]=g.useState(0),f=Qi(),m=X5[t.status]||X5.waiting,{addMultipleToCart:y,showToast:v}=xr(),{products:x}=ku();g.useEffect(()=>{const _=sessionStorage.getItem(`confetti_shown_${t.id}`);if(t.status==="ready"&&!_){a(!0),sessionStorage.setItem(`confetti_shown_${t.id}`,"true");const S=setTimeout(()=>a(!1),4e3);return()=>clearTimeout(S)}},[t.status,t.id]);const b=()=>{const _=[],S=[];for(const A of t.orderItems){const C=x.find(P=>P.id===A.productId);if(!C||!C.available||C.stock===0){S.push(A.productName);continue}const N=A.productName.match(/\((Grande|Venti)\)$/),T=N?N[1]:null;if(!T){S.push(A.productName);continue}const I=C.sizes.find(P=>P.name===T);if(!I){S.push(A.productName);continue}_.push({product:C,selectedSize:I,quantity:A.quantity,customizations:A.customizations})}_.length>0&&y(_),S.length>0&&v(`Could not add: ${S.join(", ")}. They may be unavailable.`)},w=async()=>{if(!s){o(!0);try{await de.collection("orders").doc(t.id).update({status:"completed"})}catch(_){console.error("Error updating order status:",_),v("Failed to update order status. Please try again.")}finally{o(!1)}}};return t.status==="completed"?c.jsxs(Q5,{className:"w-full max-w-md overflow-hidden rounded-3xl border-none shadow-2xl ring-1 ring-black/5 relative",children:[e&&c.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-20 rounded-full bg-white/20 p-2 text-white backdrop-blur-sm transition-colors hover:bg-white/30",children:c.jsx(Xi,{className:"h-5 w-5"})}),c.jsxs("div",{className:"bg-gradient-to-br from-primary-600 to-primary-800 px-6 py-10 text-center text-white",children:[c.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-white/20 backdrop-blur-md",children:c.jsx(Ua,{className:"h-8 w-8 text-white"})}),c.jsx("h2",{className:"font-display text-2xl font-bold",children:"Enjoy your coffee!"}),c.jsxs("p",{className:"mt-2 text-primary-100",children:["Order #",t.orderNumber," completed"]})]}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"mb-6 text-center",children:[c.jsx("p",{className:"mb-3 text-sm font-medium text-gray-500",children:"How was your experience?"}),c.jsx("div",{className:"flex justify-center gap-2",children:[1,2,3,4,5].map(_=>c.jsx("button",{onClick:()=>u(_),onMouseEnter:()=>h(_),onMouseLeave:()=>h(0),className:`rounded-full p-1 transition-colors focus:outline-none ${_<=(d||l)?"text-yellow-400":"text-gray-300"}`,children:c.jsx(Fp,{className:`h-8 w-8 ${_<=(d||l)?"fill-yellow-400":"fill-transparent"}`})},_))})]}),c.jsxs("div",{className:"space-y-3",children:[e&&c.jsx(ke,{size:"lg",className:"w-full rounded-xl bg-primary-600 text-white hover:bg-primary-700 shadow-md hover:shadow-lg transition-all",onClick:e,children:"Done"}),c.jsx(ke,{size:"lg",variant:"ghost",className:"w-full rounded-xl text-gray-600 hover:bg-gray-50",onClick:()=>f("/menu"),children:"Order Again"})]})]})]}):c.jsx("div",{className:"relative w-full max-w-md",children:c.jsxs(Q5,{className:"overflow-hidden rounded-3xl border-none shadow-2xl ring-1 ring-black/5 relative",children:[i&&c.jsx(Kxe,{}),c.jsxs(Wn.div,{className:`relative overflow-hidden px-6 py-8 transition-colors duration-500 ${m.bgColor}`,layout:!0,children:[c.jsx("div",{className:`absolute -right-10 -top-10 h-40 w-40 rounded-full opacity-20 blur-3xl transition-colors duration-500 ${m.color.replace("text-","bg-")}`}),c.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[c.jsx(cl,{mode:"wait",children:c.jsx(Wn.div,{initial:{scale:.8,opacity:0,rotate:-20},animate:{scale:1,opacity:1,rotate:0},exit:{scale:.8,opacity:0,rotate:20},transition:{type:"spring",stiffness:200,damping:15},className:`mb-4 flex h-20 w-20 items-center justify-center rounded-full bg-white shadow-sm ${m.color}`,children:c.jsx(m.Icon,{className:"h-10 w-10"})},t.status)}),c.jsx(cl,{mode:"wait",children:c.jsxs(Wn.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},exit:{y:-10,opacity:0},transition:{duration:.3},children:[c.jsx("h2",{className:"font-display text-2xl font-bold text-gray-900",children:m.text}),c.jsx("p",{className:"mt-1 text-gray-600",children:m.subtext})]},`${t.status}-text`)}),c.jsxs("div",{className:"mt-3 inline-flex items-center rounded-full bg-white/60 px-3 py-1 text-xs font-medium text-gray-500 backdrop-blur-sm",children:["Order #",t.orderNumber]})]})]}),c.jsx("div",{className:"px-6 py-6",children:c.jsxs("div",{className:"relative flex justify-between items-center",children:[c.jsx("div",{className:"absolute left-[20px] right-[20px] top-[20px] h-1 -translate-y-1/2 bg-gray-100 rounded-full z-0"}),c.jsx(Wn.div,{className:"absolute left-[20px] top-[20px] h-1 -translate-y-1/2 bg-primary-500 rounded-full z-0",initial:{width:"0%"},animate:{width:m.step===1?"0%":m.step===2?"50%":"calc(100% - 40px)"},transition:{duration:.5,ease:"easeInOut"}}),["waiting","preparing","ready"].map((_,S)=>{const A=S+1,C=m.step>=A,N=m.step===A;let T=Zs;return _==="preparing"&&(T=hr),_==="ready"&&(T=ef),c.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[c.jsx(Wn.div,{animate:{scale:N?1.1:1,backgroundColor:C?"#D97706":"#F3F4F6",borderColor:C?"#D97706":"#E5E7EB",boxShadow:N?"0 0 0 4px rgba(217, 119, 6, 0.2)":"none"},transition:{duration:.3},className:`flex h-10 w-10 items-center justify-center rounded-full border-2 transition-colors duration-300 bg-white ${C?"text-white border-primary-600 bg-primary-600":"text-gray-400 border-gray-200"}`,children:c.jsx(T,{className:"h-5 w-5"})}),c.jsx("span",{className:`mt-2 text-xs font-medium transition-colors duration-300 ${C?"text-primary-700":"text-gray-400"}`,children:_.charAt(0).toUpperCase()+_.slice(1)})]},_)})]})}),c.jsxs("div",{className:"border-t border-gray-100 bg-gray-50/50 px-6 py-6",children:[c.jsxs("div",{className:"mb-6 grid grid-cols-2 gap-4 rounded-xl bg-white p-4 shadow-sm ring-1 ring-gray-100",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Estimated Wait"}),c.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["~",t.estimatedTime," min"]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Total Amount"}),c.jsxs("p",{className:"text-lg font-bold text-primary-600",children:["",t.totalAmount.toFixed(2)]})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:()=>r(!n),className:"flex w-full items-center justify-between rounded-xl bg-white px-4 py-3 text-sm font-medium text-gray-700 shadow-sm ring-1 ring-gray-100 transition-all hover:bg-gray-50",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(hr,{className:"h-4 w-4 text-gray-400"}),"View Order Items (",t.orderItems.length,")"]}),c.jsx(tf,{className:`h-4 w-4 text-gray-400 transition-transform duration-300 ${n?"rotate-180":""}`})]}),c.jsx(cl,{children:n&&c.jsx(Wn.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden rounded-xl bg-white shadow-sm ring-1 ring-gray-100",children:c.jsx("ul",{className:"divide-y divide-gray-50 px-4",children:t.orderItems.map((_,S)=>c.jsxs("li",{className:"flex justify-between py-3 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-900",children:_.productName}),c.jsxs("div",{className:"text-xs text-gray-500",children:["Qty: ",_.quantity]})]}),c.jsxs("span",{className:"font-medium text-gray-600",children:["",(_.price*_.quantity).toFixed(2)]})]},S))})})}),t.status==="ready"?c.jsx(ke,{variant:"primary",className:"w-full rounded-xl bg-green-600 text-white hover:bg-green-700 shadow-md hover:shadow-lg transition-all",onClick:w,disabled:s,children:s?c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Updating..."]}):c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(Bre,{className:"h-4 w-4"}),"I've Received My Order"]})}):c.jsxs(ke,{variant:"primary",className:"w-full rounded-xl bg-primary-600 text-white hover:bg-primary-700 shadow-md hover:shadow-lg transition-all",onClick:b,children:[c.jsx(K2,{className:"mr-2 h-4 w-4"}),"Add More Items"]}),c.jsxs(ke,{variant:"ghost",className:"w-full rounded-xl text-gray-500 hover:bg-gray-50",onClick:()=>f("/menu"),children:[c.jsx(Ute,{className:"mr-2 h-4 w-4"}),"Back to Menu"]})]})]})]})})},Yxe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQ2IiBoZWlnaHQ9IjE3OCIgdmlld0JveD0iMCAwIDI0NiAxNzgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xNTQuNTAzIDgwQzE4MC41MDMgNTEgMjEzLjAwMyAyMC41IDIyNS41MDMgMTguNUMyMzguMDAzIDE2LjUgMjQ0LjAwMyAyOS41IDI0NC4wMDMgMjkuNUMyNDQuMDAzIDI5LjUgMjQ4LjUwMyA1Mi41IDI0MC41MDMgODBDMjMyLjUwMyAxMDcuNSAyMTEuNTAzIDEyNCAyMTEuNTAzIDEyNEMyMTEuNTAzIDEyNCAxNjYuNTAzIDE3MSAxNDcuMDAzIDE3NUMxNDcuMDAzIDE3NSAxMTkuMDAzIDE4MS41IDEwNy4wMDMgMTcyLjVDOTUuMDAyNSAxNjMuNSAxMjguNTAzIDEwOSAxNTQuNTAzIDgwWiIgZmlsbD0iI0VCNUYxNiIvPgo8cGF0aCBkPSJNMTIuMDAyNSA4OUMxMi4wMDI1IDg5IC0yMS4wMjkzIDIyLjAyMyAyMi41MDI1IDE3QzM1LjUwMjUgMTUuNSA4MC4wMDI1IDU2IDc5LjUwMjUgNTkuNUM4Mi41MDI1IDc1IDcyLjAwMjUgODcgNjQuNTAyNSA5N0M2MS4xMzM2IDEwMS40OTIgNjAuMDAyNSAxMDcuNSA1OC4wMDI1IDExOS41QzU4LjAwMjUgMTM5IDUzLjAwMjUgMTM4LjUgNTMuMDAyNSAxMzguNUM1My4wMDI1IDEzOC41IDQwLjUwMjUgMTQxIDEyLjAwMjUgODlaIiBmaWxsPSIjRUI1RjE2IiIvPgo8cGF0aCBkPSJNNDcuMDAyNSAxN0M0MS4wMDI1IDEyLjAwMDEgNDIuMDAyNSAtNy42MjkzOWUtMDYgNTMuMDAyNSAwQzY0LjAwMjUgNy42Mjk0ZS0wNiA3NC4xOTA0IDQuNzY1MzQgODcuMDAyNSAxMEMxMDAuMzQ3IDE1LjQ1MjEgMTEwLjkxMSAxOSAxMTQuNTAzIDI2LjVDMTE4LjA5NCAzNCAxMTQuNTAzIDM5LjUgMTEwLjAwMyA0NUMxMDUuNTAzIDUwLjUgMTAyLjAwMyA1MiA5NC41MDI1IDUxQzg3LjAwMjUgNTAgNTMuMDAyNSAyMiA0Ny4wMDI1IDE3WiIgZmlsbD0iI0VCNUYxNiIvPgo8cGF0aCBkPSJNMjA1LjUwMyAyMy41QzIxOC41MDMgMTQgMjA1LjUwMyA1LjUgMjA1LjUwMyA1LjVDMTYyLjIzOSAxLjQzMjUyIDEyMi40MDggMzEuOTMyNCA4Mi4wMDI1IDg4LjVDNzEuNjQ1NCAxMDMgNjIuNTU4MyAxNTAuMzIyIDc4LjUwMjUgMTYxQzk3LjE3ODQgMTczLjUwOCAxMDIuNjM0IDE2Ny4xMDkgMTAzLjUwMyAxMzJDMTIxLjUwMyA1MSAxOTIuNTAzIDMzIDIwNS41MDMgMjMuNVoiIGZpbGw9IiNFQjVGMTYiLz4KPC9zdmc+Cg==";let Z5=null;const Qxe=async()=>{if(console.log("[Notifications]  Checking notification support..."),!("Notification"in window))return console.warn("[Notifications]  Notifications are not supported in this browser"),"denied";console.log("[Notifications]  Notification API available"),console.log("[Notifications] Current permission:",Notification.permission);try{console.log("[Notifications]  Requesting notification permission...");const t=await Notification.requestPermission();return console.log("[Notifications] Permission result:",t),t}catch(t){return console.error("[Notifications]  Error requesting notification permission:",t),"denied"}},Xxe=async t=>{if(console.log("[Notifications]  Attempting to show notification:",t.title),!("Notification"in window))return console.warn("[Notifications]  Notifications are not supported"),!1;if(console.log("[Notifications] Current permission:",Notification.permission),Notification.permission!=="granted")return console.warn("[Notifications]  Notification permission not granted. Current:",Notification.permission),!1;const e={body:t.body,icon:t.icon,tag:t.tag,badge:t.icon,vibrate:[200,100,200],requireInteraction:!1,data:t.data};console.log("[Notifications] Notification options:",e);try{if(Z5&&"showNotification"in Z5,"Notification"in window&&typeof Notification=="function"){console.log("[Notifications]  Using direct Notification API (fallback)");const n=new Notification(t.title,e);return n.onclick=()=>{console.log("[Notifications]  Notification clicked"),window.focus(),n.close()},console.log("[Notifications]  Direct notification shown successfully!"),!0}return console.warn("[Notifications]  No notification method available"),!1}catch(n){return console.error("[Notifications]  Error showing notification:",n),!1}},Zxe=()=>{if(!("Notification"in window))return"denied";const t=Notification.permission;return console.log("[Notifications] Current permission status:",t),t},J5=()=>{const t="Notification"in window;return console.log("[Notifications] Notifications supported:",t),t},Jxe=()=>{var S;const{currentUser:t}=Yr(),{activeOrder:e,orderHistory:n}=EC(),{products:r}=ku(),i=Yi(),a=Qi(),[s,o]=g.useState("default"),[l,u]=g.useState(!1),d=g.useRef(null),[h,f]=g.useState([]),m=g.useMemo(()=>{if(e)return e;if(n.length>0){const A=n[0];if(A.status==="completed"&&!h.includes(A.id))return A}return null},[e,n,h]),[y,v]=g.useState(((S=i.state)==null?void 0:S.fromCheckout)||!1);g.useEffect(()=>{if(y){const A=setTimeout(()=>{v(!1),window.history.replaceState({},document.title)},2e3);return()=>clearTimeout(A)}},[y]),g.useEffect(()=>{if(J5()){const A=Zxe();o(A),A==="default"&&u(!0)}},[]),g.useEffect(()=>{e&&e.status==="ready"&&s==="granted"&&d.current!==e.id&&Xxe({title:"Your Order is Ready! ",body:`Your Rush Coffee order (${e.orderNumber}) is now ready for pickup.`,icon:Yxe,tag:e.id,data:{orderId:e.id,orderNumber:e.orderNumber}}).then(A=>{A&&(console.log("Notification sent successfully"),d.current=e.id)}),(!e||e.status==="completed")&&(d.current=null)},[e,s]);const x=async()=>{if(!J5()){alert("This browser does not support notifications");return}const A=await Qxe();o(A),(A==="granted"||A==="denied")&&u(!1)},b=()=>{m&&f(A=>[...A,m.id])},w=g.useMemo(()=>n.filter(A=>A.status==="completed").slice(0,3),[n]),_=A=>{const C=r.find(N=>N.id===A);return(C==null?void 0:C.imageUrl)||null};return t?m?c.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-coffee-50 via-gray-50 to-primary-50 relative",children:[c.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute top-10 left-10 h-32 w-32 rounded-full bg-coffee-600 blur-3xl opacity-5"}),c.jsx("div",{className:"absolute bottom-20 right-10 h-40 w-40 rounded-full bg-primary-600 blur-3xl opacity-5"}),c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 h-64 w-64 rounded-full bg-coffee-400 blur-3xl opacity-5"})]}),c.jsx(mn,{}),c.jsx("main",{className:"flex flex-1 items-center justify-center px-4 py-12 sm:px-6 lg:px-8 relative z-10",children:c.jsxs("div",{className:"flex w-full max-w-md flex-col items-center gap-6",children:[y&&c.jsxs("div",{className:"w-full rounded-2xl bg-gradient-to-r from-green-50 to-emerald-50 p-4 text-center border border-green-200 shadow-sm animate-fade-in-up",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[c.jsx("div",{className:"h-6 w-6 rounded-full bg-green-500 flex items-center justify-center",children:c.jsx("svg",{className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),c.jsx("h2",{className:"font-bold text-green-900",children:"Order Placed Successfully!"})]}),c.jsx("p",{className:"text-sm text-green-700",children:"You are now in the queue. We'll start preparing your order shortly."})]}),l&&s==="default"&&m.status!=="completed"&&c.jsxs("div",{className:"relative w-full animate-fade-in-up rounded-2xl border border-primary-200 bg-white/95 backdrop-blur-sm p-4 shadow-md",children:[c.jsx("button",{onClick:()=>u(!1),className:"absolute top-2 right-2 rounded-full p-1 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600","aria-label":"Dismiss",children:c.jsx(Xi,{className:"h-4 w-4"})}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-gradient-to-br from-primary-100 to-primary-200",children:c.jsx(ef,{className:"h-6 w-6 text-primary-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900",children:"Get Order Updates"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Know the moment your coffee is ready!"})]})]}),c.jsx("button",{onClick:x,className:"mt-4 w-full rounded-full bg-gradient-to-r from-primary-600 to-primary-700 px-4 py-2.5 text-sm font-semibold text-white transition-all hover:shadow-lg",children:"Enable Notifications"})]}),c.jsx(Wxe,{order:m,onDismiss:b})]})}),c.jsx(pn,{})]}):c.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-coffee-50 via-gray-50 to-primary-50 relative",children:[c.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute top-10 left-10 h-32 w-32 rounded-full bg-coffee-600 blur-3xl opacity-5"}),c.jsx("div",{className:"absolute bottom-20 right-10 h-40 w-40 rounded-full bg-primary-600 blur-3xl opacity-5"}),c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 h-64 w-64 rounded-full bg-coffee-400 blur-3xl opacity-5"})]}),c.jsx(mn,{}),c.jsxs("main",{className:"flex-1 w-full max-w-3xl mx-auto px-4 py-12 relative z-10",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx(Ln,{className:"mx-auto h-24 w-24 text-gray-300 opacity-50"}),c.jsx("h1",{className:"mt-6 font-display text-3xl font-bold text-coffee-900",children:"Your queue is empty"}),c.jsx("p",{className:"mt-3 text-gray-600 max-w-sm mx-auto",children:"Ready for your next coffee fix? Start a new order and skip the line!"}),c.jsxs("button",{onClick:()=>a("/menu"),className:"mt-8 inline-flex items-center justify-center gap-2 rounded-full bg-gradient-to-r from-primary-600 to-primary-700 px-8 py-3.5 font-semibold text-white shadow-lg transition-all hover:scale-105 hover:shadow-xl",children:["Start a New Order",c.jsx(Xc,{className:"h-5 w-5"})]})]}),t&&c.jsxs("div",{className:"mb-12",children:[c.jsx("h2",{className:"text-center text-xs font-bold text-gray-500 uppercase tracking-wider mb-6",children:"Your Coffee Journey"}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 sm:gap-6",children:[c.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-md border border-gray-100 hover:shadow-lg transition-shadow text-center",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center mb-3",children:c.jsx(Zs,{className:"h-6 w-6 text-blue-600"})}),c.jsx("p",{className:"text-3xl font-bold text-coffee-900",children:t.totalOrders||0}),c.jsx("p",{className:"text-sm text-gray-600 mt-1 font-medium",children:"Orders"})]})}),c.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-md border border-gray-100 hover:shadow-lg transition-shadow text-center",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-amber-100 to-amber-200 flex items-center justify-center mb-3",children:c.jsx(q2,{className:"h-6 w-6 text-amber-600"})}),c.jsx("p",{className:"text-3xl font-bold text-coffee-900",children:t.currentPoints||0}),c.jsx("p",{className:"text-sm text-gray-600 mt-1 font-medium",children:"Points"})]})}),c.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-md border border-gray-100 hover:shadow-lg transition-shadow text-center",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center mb-3",children:c.jsx(zd,{className:"h-6 w-6 text-green-600"})}),c.jsx("p",{className:"text-2xl font-bold text-coffee-900 capitalize",children:t.tier||"Bronze"}),c.jsx("p",{className:"text-sm text-gray-600 mt-1 font-medium",children:"Tier"})]})})]})]}),w.length>0&&c.jsxs("div",{className:"w-full",children:[c.jsx("h2",{className:"text-center text-xs font-bold text-gray-500 uppercase tracking-wider mb-6",children:"Recent Orders"}),c.jsx("div",{className:"space-y-4",children:w.map(A=>{const C=A.orderItems[0],N=C?_(C.productId):null;return c.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-5 shadow-md border border-gray-100 hover:shadow-lg transition-all",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex-shrink-0 h-16 w-16 rounded-xl overflow-hidden bg-gradient-to-br from-coffee-100 to-coffee-200 shadow-inner",children:N?c.jsx("img",{src:N,alt:C.productName,className:"h-full w-full object-cover"}):c.jsx("div",{className:"h-full w-full flex items-center justify-center",children:c.jsx(hr,{className:"h-8 w-8 text-coffee-600"})})}),c.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[c.jsxs("div",{className:"flex items-start justify-between mb-1",children:[c.jsx("h3",{className:"font-bold text-coffee-900 text-base truncate pr-4",children:(C==null?void 0:C.productName)||"Coffee Order"}),c.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0 font-medium bg-gray-100 px-2 py-1 rounded-full",children:new Date(A.timestamp).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),c.jsx("p",{className:"text-xs text-gray-500 mb-2 font-mono",children:A.orderNumber}),A.orderItems.length>1&&c.jsxs("p",{className:"text-xs text-gray-600 mb-3 italic",children:["+",A.orderItems.length-1," more item",A.orderItems.length>2?"s":""]}),c.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-gray-100",children:[c.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-700",children:"Completed"}),c.jsxs("p",{className:"text-base font-bold text-primary-600",children:["",A.totalAmount.toFixed(2)]})]})]})]})},A.id)})})]}),w.length===0&&t&&c.jsx("div",{className:"w-full max-w-md mx-auto",children:c.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-2xl p-8 border-2 border-dashed border-gray-200 text-center",children:[c.jsx(hr,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),c.jsx("p",{className:"text-sm text-gray-500",children:"No orders yet. Your coffee journey starts here! "})]})})]}),c.jsx(pn,{})]}):c.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-coffee-50 via-gray-50 to-primary-50 relative",children:[c.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute top-10 left-10 h-32 w-32 rounded-full bg-coffee-600 blur-3xl opacity-5"}),c.jsx("div",{className:"absolute bottom-20 right-10 h-40 w-40 rounded-full bg-primary-600 blur-3xl opacity-5"}),c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 h-64 w-64 rounded-full bg-coffee-400 blur-3xl opacity-5"})]}),c.jsx(mn,{}),c.jsx("main",{className:"flex flex-1 items-center justify-center px-6 py-20 text-center relative z-10",children:c.jsxs("div",{children:[c.jsx(Ln,{className:"mx-auto h-24 w-24 text-gray-300 opacity-50"}),c.jsx("h1",{className:"mt-4 font-display text-2xl font-bold text-coffee-900",children:"You're not in the queue"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Please log in and place an order to see your queue status."}),c.jsxs("div",{className:"mt-8 flex justify-center gap-4",children:[c.jsx(Be,{to:"/auth/login",className:"rounded-full bg-primary-600 px-8 py-3 font-semibold text-white transition-transform hover:scale-105 shadow-lg",children:"Login"}),c.jsx(Be,{to:"/menu",className:"rounded-full border-2 border-primary-600 px-8 py-3 font-semibold text-primary-600 transition-transform hover:scale-105 hover:bg-primary-50 shadow-sm",children:"View Menu"})]})]})}),c.jsx(pn,{})]})},jl=({isOpen:t,onClose:e,title:n,children:r,footer:i,size:a="md"})=>{if(g.useEffect(()=>{const o=l=>{l.key==="Escape"&&e()};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[e]),!t)return null;const s={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg"};return c.jsx("div",{className:"fixed inset-0 z-50 flex animate-fade-in-up items-center justify-center bg-black/60 p-4 backdrop-blur-sm",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",onClick:e,style:{animationDuration:"0.3s"},children:c.jsx("div",{className:`relative w-full transform transition-all ${s[a]}`,onClick:o=>o.stopPropagation(),children:c.jsxs(pe,{className:"rounded-xl p-0 shadow-2xl",children:[c.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-4",children:[c.jsx("h3",{id:"modal-title",className:"text-lg font-semibold text-coffee-900",children:n}),c.jsx("button",{onClick:e,className:"rounded-full p-1 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-700","aria-label":"Close modal",children:c.jsx(Xi,{className:"h-5 w-5"})})]}),c.jsx("div",{className:"p-6",children:r}),i&&c.jsx("div",{className:"flex justify-end gap-3 rounded-b-xl border-t border-gray-200 bg-gray-50 p-4",children:i})]})})})},ebe={bronze:{Icon:lre,name:"Bronze Member",gradient:"from-orange-400 to-orange-600",nextTierName:"Silver",progressColor:"bg-gray-400",minPoints:0},silver:{Icon:q2,name:"Silver Member",gradient:"from-gray-300 to-gray-500",nextTierName:"Gold",progressColor:"bg-yellow-400",minPoints:300},gold:{Icon:Ane,name:"Gold Member",gradient:"from-yellow-400 to-yellow-600",nextTierName:null,progressColor:"",minPoints:1e3}},tbe=({tier:t,currentPoints:e,nextTierPoints:n,showProgress:r=!0})=>{const i=ebe[t],a=n-e,s=t!=="gold"?Math.max(0,Math.min(100,(e-i.minPoints)/(n-i.minPoints)*100)):100;return c.jsxs("div",{className:`relative w-full max-w-sm overflow-hidden rounded-2xl bg-gradient-to-br p-6 text-center text-white shadow-lg md:p-8 ${i.gradient}`,children:[c.jsx("div",{className:"absolute inset-0 -translate-x-full animate-shimmer bg-gradient-to-r from-transparent via-white/30 to-transparent"}),c.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[c.jsx(i.Icon,{className:"h-16 w-16 animate-pulse-slow drop-shadow-lg"}),c.jsx("h2",{className:"mt-4 font-display text-2xl font-bold drop-shadow-md md:text-3xl",children:i.name}),c.jsxs("p",{className:"font-semibold text-white/80",children:[e," points"]})]}),r&&t!=="gold"&&c.jsxs("div",{className:"relative z-10 mt-6 text-left",children:[c.jsxs("p",{className:"text-xs font-semibold md:text-sm",children:[c.jsx("span",{className:"font-bold",children:a>0?a:0})," points to ",i.nextTierName]}),c.jsx("div",{className:"mt-1 h-2.5 w-full overflow-hidden rounded-full bg-black/20",children:c.jsx("div",{className:`h-full rounded-full ${i.progressColor} transition-all duration-500 ease-out`,style:{width:`${s}%`}})})]})]})},nbe={drink:"bg-blue-100 text-blue-800",food:"bg-green-100 text-green-800",discount:"bg-yellow-100 text-yellow-800"},rbe=({reward:t,currentPoints:e,onRedeem:n})=>{const{id:r,name:i,description:a,pointsCost:s,imageUrl:o,category:l,available:u}=t,d=e>=s,h=u&&d,f=s-e,m=()=>u?d?"Redeem Now":c.jsxs(c.Fragment,{children:[c.jsx(lh,{className:"h-4 w-4"}),"Need ",f," more points"]}):"Unavailable";return c.jsxs(pe,{className:"flex flex-col overflow-hidden transition-transform duration-300 hover:-translate-y-1",hover:!0,children:[c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:o,alt:i,className:`h-40 w-full object-cover ${u?"":"grayscale"}`}),c.jsx(cr,{className:`absolute top-2 left-2 capitalize ${nbe[l]}`,children:l}),!u&&c.jsx(cr,{className:"absolute top-2 right-2 bg-gray-500 text-white",children:"Temporarily Unavailable"})]}),c.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[c.jsxs("div",{className:"flex-grow",children:[c.jsx("h3",{className:"text-lg font-semibold text-coffee-900",children:i}),c.jsx("p",{className:"mt-1 h-10 text-sm text-gray-600 line-clamp-2",children:a})]}),c.jsx("div",{className:"mt-4 flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center gap-2 text-primary-600",children:[c.jsx(Bp,{className:"h-5 w-5"}),c.jsxs("p",{className:"text-lg font-bold",children:[s," points"]})]})}),c.jsx("button",{onClick:()=>n(r),disabled:!h,className:"mt-4 flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-gray-400 disabled:text-gray-100","aria-label":h?`Redeem ${i}`:`Cannot redeem ${i}`,children:m()})]})]})};function ze(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function $s(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function ibe(t,e){const n=ze(t);return isNaN(e)?$s(t,NaN):(e&&n.setDate(n.getDate()+e),n)}const tH=6048e5,abe=864e5,D0=43200,e6=1440;let sbe={};function Sy(){return sbe}function yg(t,e){var o,l,u,d;const n=Sy(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=ze(t),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function nb(t){return yg(t,{weekStartsOn:1})}function nH(t){const e=ze(t),n=e.getFullYear(),r=$s(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=nb(r),a=$s(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const s=nb(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function Co(t){const e=ze(t);return e.setHours(0,0,0,0),e}function rb(t){const e=ze(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function obe(t,e){const n=Co(t),r=Co(e),i=+n-rb(n),a=+r-rb(r);return Math.round((i-a)/abe)}function lbe(t){const e=nH(t),n=$s(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),nb(n)}function Dv(t,e){const n=ze(t),r=ze(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function cbe(t){return $s(t,Date.now())}function ube(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function dbe(t){if(!ube(t)&&typeof t!="number")return!1;const e=ze(t);return!isNaN(Number(e))}function hbe(t,e){const n=ze(t),r=ze(e),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function fbe(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function mbe(t,e){return+ze(t)-+ze(e)}function rH(t){const e=ze(t);return e.setHours(23,59,59,999),e}function pbe(t){const e=ze(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function gbe(t){const e=ze(t);return+rH(e)==+pbe(e)}function ybe(t,e){const n=ze(t),r=ze(e),i=Dv(n,r),a=Math.abs(hbe(n,r));let s;if(a<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*a);let o=Dv(n,r)===-i;gbe(ze(t))&&a===1&&Dv(t,r)===1&&(o=!1),s=i*(a-Number(o))}return s===0?0:s}function vbe(t,e,n){const r=mbe(t,e)/1e3;return fbe(n==null?void 0:n.roundingMethod)(r)}function xbe(t,e){const n=ze(t.start),r=ze(t.end);let i=+n>+r;const a=i?+n:+r,s=i?r:n;s.setHours(0,0,0,0);let o=1;const l=[];for(;+s<=a;)l.push(ze(s)),s.setDate(s.getDate()+o),s.setHours(0,0,0,0);return i?l.reverse():l}function bbe(t){const e=ze(t),n=$s(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const wbe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_be=(t,e,n)=>{let r;const i=wbe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function cS(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Ebe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Sbe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Tbe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Abe={date:cS({formats:Ebe,defaultWidth:"full"}),time:cS({formats:Sbe,defaultWidth:"full"}),dateTime:cS({formats:Tbe,defaultWidth:"full"})},Nbe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ibe=(t,e,n,r)=>Nbe[t];function mm(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const jbe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Cbe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Pbe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},kbe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Obe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Rbe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Dbe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Mbe={ordinalNumber:Dbe,era:mm({values:jbe,defaultWidth:"wide"}),quarter:mm({values:Cbe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:mm({values:Pbe,defaultWidth:"wide"}),day:mm({values:kbe,defaultWidth:"wide"}),dayPeriod:mm({values:Obe,defaultWidth:"wide",formattingValues:Rbe,defaultFormattingWidth:"wide"})};function pm(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?Vbe(o,h=>h.test(s)):Lbe(o,h=>h.test(s));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(s.length);return{value:u,rest:d}}}function Lbe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Vbe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function zbe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const Ube=/^(\d+)(th|st|nd|rd)?/i,Bbe=/\d+/i,Fbe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$be={any:[/^b/i,/^(a|c)/i]},qbe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Hbe={any:[/1/i,/2/i,/3/i,/4/i]},Gbe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Kbe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Wbe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ybe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Qbe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xbe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zbe={ordinalNumber:zbe({matchPattern:Ube,parsePattern:Bbe,valueCallback:t=>parseInt(t,10)}),era:pm({matchPatterns:Fbe,defaultMatchWidth:"wide",parsePatterns:$be,defaultParseWidth:"any"}),quarter:pm({matchPatterns:qbe,defaultMatchWidth:"wide",parsePatterns:Hbe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:pm({matchPatterns:Gbe,defaultMatchWidth:"wide",parsePatterns:Kbe,defaultParseWidth:"any"}),day:pm({matchPatterns:Wbe,defaultMatchWidth:"wide",parsePatterns:Ybe,defaultParseWidth:"any"}),dayPeriod:pm({matchPatterns:Qbe,defaultMatchWidth:"any",parsePatterns:Xbe,defaultParseWidth:"any"})},iH={code:"en-US",formatDistance:_be,formatLong:Abe,formatRelative:Ibe,localize:Mbe,match:Zbe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Jbe(t){const e=ze(t);return obe(e,bbe(e))+1}function ewe(t){const e=ze(t),n=+nb(e)-+lbe(e);return Math.round(n/tH)+1}function aH(t,e){var d,h,f,m;const n=ze(t),r=n.getFullYear(),i=Sy(),a=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(f=i.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,s=$s(t,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const o=yg(s,e),l=$s(t,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const u=yg(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function twe(t,e){var o,l,u,d;const n=Sy(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=aH(t,e),a=$s(t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),yg(a,e)}function nwe(t,e){const n=ze(t),r=+yg(n,e)-+twe(n,e);return Math.round(r/tH)+1}function He(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ao={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return He(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):He(n+1,2)},d(t,e){return He(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return He(t.getHours()%12||12,e.length)},H(t,e){return He(t.getHours(),e.length)},m(t,e){return He(t.getMinutes(),e.length)},s(t,e){return He(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return He(i,e.length)}},Xu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},t6={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ao.y(t,e)},Y:function(t,e,n,r){const i=aH(t,r),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return He(s,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):He(a,e.length)},R:function(t,e){const n=nH(t);return He(n,e.length)},u:function(t,e){const n=t.getFullYear();return He(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return He(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return He(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ao.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return He(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=nwe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):He(i,e.length)},I:function(t,e,n){const r=ewe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):He(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ao.d(t,e)},D:function(t,e,n){const r=Jbe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):He(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return He(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return He(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return He(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Xu.noon:r===0?i=Xu.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Xu.evening:r>=12?i=Xu.afternoon:r>=4?i=Xu.morning:i=Xu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ao.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ao.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):He(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):He(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ao.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ao.s(t,e)},S:function(t,e){return Ao.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return r6(r);case"XXXX":case"XX":return fc(r);case"XXXXX":case"XXX":default:return fc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return r6(r);case"xxxx":case"xx":return fc(r);case"xxxxx":case"xxx":default:return fc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+n6(r,":");case"OOOO":default:return"GMT"+fc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+n6(r,":");case"zzzz":default:return"GMT"+fc(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return He(r,e.length)},T:function(t,e,n){const r=t.getTime();return He(r,e.length)}};function n6(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+He(a,2)}function r6(t,e){return t%60===0?(t>0?"-":"+")+He(Math.abs(t)/60,2):fc(t,e)}function fc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=He(Math.trunc(r/60),2),a=He(r%60,2);return n+i+e+a}const i6=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},sH=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},rwe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return i6(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",i6(r,e)).replace("{{time}}",sH(i,e))},iwe={p:sH,P:rwe},awe=/^D+$/,swe=/^Y+$/,owe=["D","DD","YY","YYYY"];function lwe(t){return awe.test(t)}function cwe(t){return swe.test(t)}function uwe(t,e,n){const r=dwe(t,e,n);if(console.warn(r),owe.includes(t))throw new RangeError(r)}function dwe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const hwe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fwe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mwe=/^'([^]*?)'?$/,pwe=/''/g,gwe=/[a-zA-Z]/;function Kd(t,e,n){var d,h,f,m;const r=Sy(),i=r.locale??iH,a=r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=r.weekStartsOn??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,o=ze(t);if(!dbe(o))throw new RangeError("Invalid time value");let l=e.match(fwe).map(y=>{const v=y[0];if(v==="p"||v==="P"){const x=iwe[v];return x(y,i.formatLong)}return y}).join("").match(hwe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:ywe(y)};if(t6[v])return{isToken:!0,value:y};if(v.match(gwe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const v=y.value;(cwe(v)||lwe(v))&&uwe(v,e,String(t));const x=t6[v[0]];return x(o,v,i.localize,u)}).join("")}function ywe(t){const e=t.match(mwe);return e?e[1].replace(pwe,"'"):t}function vwe(t,e,n){const r=Sy(),i=(n==null?void 0:n.locale)??r.locale??iH,a=2520,s=Dv(t,e);if(isNaN(s))throw new RangeError("Invalid time value");const o=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:s});let l,u;s>0?(l=ze(e),u=ze(t)):(l=ze(t),u=ze(e));const d=vbe(u,l),h=(rb(u)-rb(l))/1e3,f=Math.round((d-h)/60);let m;if(f<2)return n!=null&&n.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,o):d<10?i.formatDistance("lessThanXSeconds",10,o):d<20?i.formatDistance("lessThanXSeconds",20,o):d<40?i.formatDistance("halfAMinute",0,o):d<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):f===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",f,o);if(f<45)return i.formatDistance("xMinutes",f,o);if(f<90)return i.formatDistance("aboutXHours",1,o);if(f<e6){const y=Math.round(f/60);return i.formatDistance("aboutXHours",y,o)}else{if(f<a)return i.formatDistance("xDays",1,o);if(f<D0){const y=Math.round(f/e6);return i.formatDistance("xDays",y,o)}else if(f<D0*2)return m=Math.round(f/D0),i.formatDistance("aboutXMonths",m,o)}if(m=ybe(u,l),m<12){const y=Math.round(f/D0);return i.formatDistance("xMonths",y,o)}else{const y=m%12,v=Math.trunc(m/12);return y<3?i.formatDistance("aboutXYears",v,o):y<9?i.formatDistance("overXYears",v,o):i.formatDistance("almostXYears",v+1,o)}}function v1(t,e){return vwe(t,cbe(t),e)}function Zu(t,e){return ibe(t,-e)}const xwe=({history:t})=>{const[e,n]=g.useState("all"),r=g.useMemo(()=>e==="all"?t:t.filter(s=>s.type===e),[t,e]),i=g.useMemo(()=>[...r].sort((s,o)=>o.date.getTime()-s.date.getTime()),[r]),a=s=>s==="earned"?c.jsx("div",{className:"absolute left-1 top-0 flex h-10 w-10 -translate-x-1/2 items-center justify-center rounded-full bg-gradient-to-br from-green-400 to-green-600 shadow-lg ring-2 ring-white transition-transform hover:scale-110",children:c.jsx(rf,{className:"h-4 w-4 text-white",strokeWidth:3})}):c.jsx("div",{className:"absolute left-1 top-0 flex h-10 w-10 -translate-x-1/2 items-center justify-center rounded-full bg-gradient-to-br from-red-400 to-red-600 shadow-lg ring-2 ring-white transition-transform hover:scale-110",children:c.jsx(bx,{className:"h-4 w-4 text-white",strokeWidth:3})});return c.jsxs(pe,{className:"bg-gradient-to-br from-white to-gray-50",children:[c.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900",children:"Points History"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track your rewards journey"})]}),c.jsx("div",{className:"flex gap-2 rounded-full bg-white p-1.5 shadow-sm ring-1 ring-gray-200",children:["all","earned","redeemed"].map(s=>c.jsx("button",{onClick:()=>n(s),className:`rounded-full px-4 py-2 text-sm font-semibold capitalize transition-all duration-200 ${e===s?"bg-gradient-to-r from-primary-600 to-primary-700 text-white shadow-md":"text-gray-700 hover:bg-gray-100"}`,children:s},s))})]}),c.jsx("div",{className:"mt-8 max-h-[500px] overflow-y-auto pr-2 scrollbar-thin scrollbar-track-gray-100 scrollbar-thumb-gray-300",children:i.length>0?c.jsx("div",{className:"relative border-l-2 border-gray-300 pl-6",children:i.map((s,o)=>c.jsxs("div",{className:`group relative transition-all duration-200 hover:translate-x-1 ${o<i.length-1?"pb-10":""}`,children:[a(s.type),c.jsxs("div",{className:"ml-8 flex items-start justify-between gap-4 rounded-lg bg-white p-4 shadow-sm ring-1 ring-gray-100 transition-shadow duration-200 group-hover:shadow-md",children:[c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("p",{className:"truncate font-semibold text-gray-900",children:s.description}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:v1(s.date,{addSuffix:!0})})]}),c.jsx("div",{className:"flex-shrink-0",children:c.jsxs("p",{className:`text-xl font-bold ${s.type==="earned"?"text-green-600":"text-red-600"}`,children:[s.type==="earned"?"+":"",s.points]})})]})]},s.id))}):c.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 rounded-lg bg-gray-50 py-16 text-center",children:[c.jsx("div",{className:"rounded-full bg-gray-100 p-4",children:c.jsx(qne,{className:"h-12 w-12 text-gray-400"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-lg font-semibold text-gray-700",children:"No transactions yet"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Your points history for this filter will appear here."})]})]})})]})},zA={bronze:{min:0,max:299,name:"Bronze"},silver:{min:300,max:999,name:"Silver"},gold:{min:1e3,max:1/0,name:"Gold"}},M0=t=>`/RushCoffee-Capstone/${t}`,bwe=[{name:"Free Grande Drink",description:"Redeem your points for any Grande-sized drink on our menu. A perfect treat!",pointsCost:200,imageUrl:M0("Rewards/Free-Iced-Grande-Drink.jpg"),category:"drink",available:!0,displayOrder:1},{name:"10% Off Total Order",description:"Get a 10% discount on your entire order. Great for when you're treating friends!",pointsCost:200,imageUrl:M0("Rewards/10-percent-off.jpg"),category:"discount",available:!0,displayOrder:2},{name:"Free Rice Meal",description:"Choose any Tasty Rice Meal from our selection to complement your coffee.",pointsCost:350,imageUrl:M0("Rewards/Free-Rice-Meal.jpg"),category:"food",available:!0,displayOrder:3},{name:"Upgrade to Venti",description:"Get a free size upgrade from Grande to Venti on any drink.",pointsCost:300,imageUrl:M0("Rewards/Free-Iced-Venti-Drink.jpg"),category:"drink",available:!0,displayOrder:4}],wwe=()=>{var S;const{currentUser:t}=Yr(),{showToast:e}=xr(),[n,r]=g.useState([]),[i,a]=g.useState(!0),[s,o]=g.useState(!1),[l,u]=g.useState(null),[d,h]=g.useState(!1),[f,m]=g.useState("");g.useEffect(()=>{(async()=>{a(!0);const C=bwe.map((N,T)=>({...N,id:`mock-reward-${T}`}));r(C),a(!1)})()},[]);const y=(t==null?void 0:t.tier)==="bronze"?"silver":(t==null?void 0:t.tier)==="silver"?"gold":null,v=y&&((S=zA[y])==null?void 0:S.min)||0,x=A=>{u(A),o(!0)},b=async()=>{if(!(!t||!l)){h(!0);try{if(t.currentPoints<l.pointsCost)throw new Error("You don't have enough points.");const A=de.collection("users").doc(t.uid),C={id:`rh-${Date.now()}`,type:"redeemed",points:-l.pointsCost,description:`Redeemed: ${l.name}`,date:new Date};await A.update({currentPoints:nt.firestore.FieldValue.increment(-l.pointsCost),rewardsHistory:nt.firestore.FieldValue.arrayUnion(C)}),m(`RC-REDEEM-${Math.random().toString(36).substr(2,9).toUpperCase()}`)}catch(A){e(A.message||"Failed to redeem reward."),h(!1)}}},w=()=>{navigator.clipboard&&(navigator.clipboard.writeText(f),e("Code copied to clipboard!"))},_=()=>{o(!1),u(null),h(!1),m("")};return t?c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx(mn,{}),c.jsxs("main",{children:[c.jsx("section",{className:"bg-gradient-to-r from-primary-50 to-coffee-50 px-6 py-12",children:c.jsx("div",{className:"container mx-auto max-w-7xl",children:c.jsxs("div",{className:"grid grid-cols-1 items-center gap-8 md:grid-cols-3",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsxs("h1",{className:"font-display text-4xl font-bold text-coffee-900 md:text-5xl",children:["Welcome, ",t.firstName,"!"]}),c.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"You're doing great! Keep earning points for amazing rewards."})]}),c.jsx("div",{className:"flex justify-center md:justify-end",children:c.jsx(tbe,{tier:t.tier,currentPoints:t.currentPoints,nextTierPoints:v})})]})})}),c.jsx("section",{className:"px-6 py-16",children:c.jsxs("div",{className:"container mx-auto max-w-7xl",children:[c.jsxs("div",{className:"mb-8 flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900",children:"Redeem Your Points"}),c.jsx("p",{className:"mt-1 text-gray-600",children:"Use your points to claim these exciting rewards."})]}),c.jsxs("div",{className:"rounded-full bg-white px-4 py-2 text-lg font-semibold text-primary-600 shadow-md",children:["Your Points: ",c.jsx("span",{className:"font-bold",children:t.currentPoints})]})]}),i?c.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Array.from({length:4}).map((A,C)=>c.jsx(Qq,{},C))}):n.length>0?c.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:n.map(A=>c.jsx(rbe,{reward:A,currentPoints:t.currentPoints,onRedeem:()=>x(A)},A.id))}):c.jsxs(pe,{className:"py-20 text-center",children:[c.jsx(Bp,{className:"mx-auto h-16 w-16 text-gray-300"}),c.jsx("h3",{className:"mt-4 font-semibold text-gray-800",children:"No Rewards Available"}),c.jsx("p",{className:"mt-1 text-gray-500",children:"Please check back later for new rewards."})]})]})}),c.jsx("section",{className:"bg-white px-6 py-16",children:c.jsx("div",{className:"container mx-auto max-w-4xl",children:c.jsx(xwe,{history:t.rewardsHistory})})})]}),c.jsx(pn,{}),c.jsx(jl,{isOpen:s,onClose:_,title:f?"Reward Claimed!":`Redeem: ${(l==null?void 0:l.name)||""}`,children:f?c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-green-100",children:c.jsx(Ua,{className:"h-8 w-8 text-green-600"})}),c.jsx("h3",{className:"mt-4 text-lg font-semibold text-gray-900",children:"Success!"}),c.jsx("p",{className:"mt-1 text-gray-600",children:"Show this code at the counter to claim your reward:"}),c.jsxs("div",{className:"relative my-4 rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-4",children:[c.jsx("p",{className:"font-mono text-2xl font-bold text-primary-700 tracking-widest",children:f}),c.jsx("button",{onClick:w,className:"absolute top-2 right-2 text-gray-400 hover:text-primary-600",children:c.jsx(pne,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"mt-2 flex items-center justify-center gap-2 rounded-lg bg-yellow-50 p-3 text-sm text-yellow-800",children:[c.jsx(Ja,{className:"h-5 w-5 flex-shrink-0"}),c.jsx("span",{children:"This code is for one-time use only."})]}),c.jsx("div",{className:"mt-6",children:c.jsx(ke,{onClick:_,children:"Close"})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"text-center text-gray-600",children:["Are you sure you want to spend ",c.jsxs("span",{className:"font-bold text-primary-600",children:[l==null?void 0:l.pointsCost," points"]})," to redeem this reward?"]}),c.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[c.jsx(ke,{variant:"ghost",onClick:_,children:"Cancel"}),c.jsxs(ke,{onClick:b,disabled:d,children:[d?c.jsx(Mt,{className:"mr-2 h-4 w-4 animate-spin"}):c.jsx(Ua,{className:"mr-2 h-4 w-4"}),"Confirm"]})]})]})})]}):c.jsxs("div",{className:"flex min-h-screen flex-col bg-gray-50",children:[c.jsx(mn,{}),c.jsx("main",{className:"flex flex-1 items-center justify-center px-6 py-20 text-center",children:c.jsxs("div",{children:[c.jsx(Bp,{className:"mx-auto h-24 w-24 text-gray-300 opacity-50"}),c.jsx("h1",{className:"mt-4 font-display text-2xl font-bold text-coffee-900",children:"Join Our Rewards Program"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Log in or create an account to start earning points and get free coffee!"}),c.jsxs("div",{className:"mt-8 flex justify-center gap-4",children:[c.jsx(Be,{to:"/auth/login",className:"rounded-full bg-primary-600 px-8 py-3 font-semibold text-white transition-transform hover:scale-105",children:"Login"}),c.jsx(Be,{to:"/auth/register",className:"rounded-full border-2 border-primary-600 px-8 py-3 font-semibold text-primary-600 transition-transform hover:scale-105 hover:bg-primary-50",children:"Sign Up"})]})]})}),c.jsx(pn,{})]})},_we=({user:t,onEditPhoto:e})=>{const n=(r,i)=>`${r.charAt(0)}${i.charAt(0)}`.toUpperCase();return c.jsxs("div",{className:"w-full",children:[c.jsx("div",{className:"relative h-48 w-full bg-gradient-to-r from-primary-500 to-coffee-600"}),c.jsxs("div",{className:"-mt-16 px-6",children:[c.jsxs("div",{className:"relative mx-auto h-32 w-32",children:[t.photoURL?c.jsx("img",{src:t.photoURL,alt:`${t.firstName} ${t.lastName}`,className:"h-full w-full rounded-full border-4 border-white object-cover shadow-lg"}):c.jsx("div",{className:"flex h-full w-full items-center justify-center rounded-full border-4 border-white bg-gradient-to-br from-primary-400 to-primary-600 text-white shadow-lg",children:c.jsx("span",{className:"font-display text-4xl font-bold",children:n(t.firstName,t.lastName)})}),c.jsx("button",{onClick:e,className:"absolute bottom-0 right-0 flex h-10 w-10 items-center justify-center rounded-full bg-primary-600 text-white shadow-lg transition-colors hover:bg-primary-700","aria-label":"Edit profile photo",children:c.jsx(Jte,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"mt-4 text-center",children:[c.jsxs("h1",{className:"font-display text-3xl font-bold text-coffee-900",children:[t.firstName," ",t.lastName]}),c.jsx("p",{className:"text-gray-600",children:t.email}),t.role&&c.jsxs(cr,{className:"mt-2 bg-yellow-100 text-yellow-800 capitalize",children:[c.jsx(Ba,{className:"mr-1 h-3 w-3"}),t.role]})]})]}),c.jsxs("div",{className:"mt-8 grid grid-cols-3 gap-4 border-y border-gray-200 bg-gray-50/50 px-6 py-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx(hr,{className:"mx-auto mb-1 h-6 w-6 text-primary-600"}),c.jsx("p",{className:"text-xl font-bold text-coffee-900",children:t.totalOrders}),c.jsx("p",{className:"text-xs text-gray-500",children:"Total Orders"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx(une,{className:"mx-auto mb-1 h-6 w-6 text-primary-600"}),c.jsxs("p",{className:"text-xl font-bold text-coffee-900",children:["",t.totalSpent.toLocaleString()]}),c.jsx("p",{className:"text-xs text-gray-500",children:"Total Spent"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx(_d,{className:"mx-auto mb-1 h-6 w-6 text-primary-600"}),c.jsx("p",{className:"text-xl font-bold text-coffee-900",children:Kd(t.createdAt,"MMMM yyyy")}),c.jsx("p",{className:"text-xs text-gray-500",children:"Member Since"})]})]})]})},Ewe=({user:t,onSave:e,onCancel:n})=>{const[r,i]=g.useState({firstName:t.firstName,lastName:t.lastName,phone:t.phone||""}),[a,s]=g.useState({}),[o,l]=g.useState(!1),[u,d]=g.useState(!1),{showToast:h}=xr();g.useEffect(()=>{const v=r.firstName!==t.firstName||r.lastName!==t.lastName||r.phone!==(t.phone||"");d(v)},[r,t]);const f=()=>{const v={};return r.firstName.length<2&&(v.firstName="First name must be at least 2 characters."),r.lastName.length<2&&(v.lastName="Last name must be at least 2 characters."),r.phone&&!/^(09|\+639)\d{9}$/.test(r.phone)&&(v.phone="Invalid Philippine phone number format."),s(v),Object.keys(v).length===0},m=v=>{i({...r,[v.target.name]:v.target.value})},y=v=>{v.preventDefault(),f()&&(l(!0),setTimeout(()=>{e(r),l(!1),h("Profile updated successfully!")},1e3))};return c.jsxs(pe,{className:"w-full",children:[c.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Edit Profile Information"}),c.jsxs("form",{onSubmit:y,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),c.jsxs("div",{className:"relative mt-1",children:[c.jsx(Ms,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",name:"firstName",id:"firstName",value:r.firstName,onChange:m,className:"w-full rounded-md border-gray-300 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0})]}),a.firstName&&c.jsx("p",{className:"mt-1 text-xs text-red-500",children:a.firstName})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),c.jsxs("div",{className:"relative mt-1",children:[c.jsx(Ms,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",name:"lastName",id:"lastName",value:r.lastName,onChange:m,className:"w-full rounded-md border-gray-300 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0})]}),a.lastName&&c.jsx("p",{className:"mt-1 text-xs text-red-500",children:a.lastName})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),c.jsxs("div",{className:"relative mt-1",children:[c.jsx(Ds,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"tel",name:"phone",id:"phone",value:r.phone,onChange:m,className:"w-full rounded-md border-gray-300 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),a.phone&&c.jsx("p",{className:"mt-1 text-xs text-red-500",children:a.phone})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),c.jsxs("div",{className:"relative mt-1",children:[c.jsx(gr,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"email",name:"email",id:"email",value:t.email||"",className:"w-full rounded-md border-gray-300 bg-gray-100 pl-10 text-gray-500 shadow-sm",disabled:!0,readOnly:!0})]}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Contact support to change your email address."})]}),c.jsxs("div",{className:"flex justify-end gap-3 border-t border-gray-200 pt-4",children:[c.jsxs(ke,{type:"button",variant:"ghost",onClick:n,children:[c.jsx(Xi,{className:"mr-2 h-4 w-4"}),"Cancel"]}),c.jsxs(ke,{type:"submit",variant:"primary",disabled:!u||o,children:[o?c.jsx(Mt,{className:"mr-2 h-4 w-4 animate-spin"}):c.jsx(Qg,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]})]})]})},a6={completed:{icon:Ua,color:"bg-green-100 text-green-800"},cancelled:{icon:Xi,color:"bg-red-100 text-red-800"},preparing:{icon:hr,color:"bg-blue-100 text-blue-800"},waiting:{icon:hr,color:"bg-yellow-100 text-yellow-800"},ready:{icon:hr,color:"bg-purple-100 text-purple-800"}},Swe={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},Twe={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},Awe=({order:t})=>{var l,u;const e=((l=a6[t.status])==null?void 0:l.icon)||hr,n=((u=a6[t.status])==null?void 0:u.color)||"bg-gray-100 text-gray-800",{addMultipleToCart:r,showToast:i}=xr(),{products:a}=ku(),s=()=>{const d=[],h=[];for(const f of t.orderItems){const m=a.find(b=>b.id===f.productId);if(!m||!m.available||m.stock===0){h.push(f.productName);continue}const y=f.productName.match(/\((Grande|Venti)\)$/),v=y?y[1]:null;if(!v){h.push(f.productName);continue}const x=m.sizes.find(b=>b.name===v);if(!x){h.push(f.productName);continue}d.push({product:m,selectedSize:x,quantity:f.quantity,customizations:f.customizations})}d.length>0&&r(d),h.length>0&&i(`Could not add: ${h.join(", ")}. They may be unavailable.`)},o=()=>{const d=t.orderItems;return d.length<=2?d.map(f=>`${f.quantity}x ${f.productName}`).join(", "):`${d.slice(0,2).map(f=>f.productName).join(", ")}, and ${d.length-2} more item(s)`};return c.jsx(pe,{hover:!0,className:"transition-shadow duration-300",children:c.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("div",{className:"flex-grow",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"font-mono text-sm font-semibold text-primary-700",children:t.orderNumber}),c.jsxs(cr,{className:`capitalize ${n}`,children:[c.jsx(e,{className:"mr-1 h-3 w-3"}),t.status]})]}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:Kd(t.timestamp,"MMM dd, yyyy  hh:mm a")}),c.jsx("p",{className:"mt-2 text-sm text-gray-700",children:o()})]}),c.jsxs("div",{className:"flex-shrink-0 text-right sm:ml-4",children:[c.jsxs("p",{className:"font-display text-2xl font-bold text-coffee-900",children:["",t.totalAmount.toFixed(2)]}),c.jsxs(ke,{size:"sm",variant:"secondary",className:"mt-2",onClick:s,children:[c.jsx(K2,{className:"mr-2 h-4 w-4"}),"Reorder"]})]})]})})},s6=({orders:t,limit:e,showViewAll:n,onViewAll:r})=>{const i=[...t].sort((s,o)=>o.timestamp.getTime()-s.timestamp.getTime()),a=e?i.slice(0,e):i;return t.length===0?c.jsxs("div",{className:"py-16 text-center",children:[c.jsx(ww,{className:"mx-auto h-16 w-16 text-gray-300"}),c.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-800",children:"No Orders Yet"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Your past orders will appear here."}),c.jsx(ke,{size:"lg",className:"mt-6",children:"Browse Menu"})]}):c.jsxs("div",{children:[c.jsx(Wn.div,{className:"space-y-4",variants:Swe,initial:"hidden",animate:"visible",children:a.map(s=>c.jsx(Wn.div,{variants:Twe,layout:!0,children:c.jsx(Awe,{order:s})},s.id))}),n&&i.length>(e||0)&&c.jsx("div",{className:"mt-6 text-center",children:c.jsx(ke,{variant:"ghost",onClick:r,children:"View All Orders"})})]})},gm=({label:t,description:e,enabled:n,onChange:r,Icon:i})=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(i,{className:"h-5 w-5 text-gray-500"}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-800",children:t}),c.jsx("p",{className:"text-sm text-gray-500",children:e})]})]}),c.jsx("button",{type:"button",className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${n?"bg-primary-600":"bg-gray-200"}`,role:"switch","aria-checked":n,onClick:()=>r(!n),children:c.jsx("span",{"aria-hidden":"true",className:`inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${n?"translate-x-5":"translate-x-0"}`})})]}),Nwe=({preferences:t,onUpdatePreferences:e})=>{const[n,r]=g.useState(t),[i,a]=g.useState(!1),[s,o]=g.useState(!1),{showToast:l}=xr(),u=(S,A,C)=>{const N={...n,[S]:{...n[S],[A]:C}};r(N),e({[S]:N[S]}),l("Preferences updated!")},[d,h]=g.useState({current:"",new:"",confirm:""}),[f,m]=g.useState({current:!1,new:!1,confirm:!1}),[y,v]=g.useState(!1),[x,b]=g.useState({password:"",checkbox:!1}),[w,_]=g.useState(!1);return c.jsxs(c.Fragment,{children:[c.jsxs(pe,{children:[c.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900",children:"Preferences & Settings"}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"font-semibold text-gray-500",children:"Notifications"}),c.jsx(gm,{Icon:ef,label:"Push Notifications",description:"Get notified when order is ready",enabled:n.notifications.push,onChange:S=>u("notifications","push",S)}),c.jsx(gm,{Icon:gr,label:"Email Updates",description:"Receive order updates via email",enabled:n.notifications.emailUpdates,onChange:S=>u("notifications","emailUpdates",S)}),c.jsx(gm,{Icon:gr,label:"Marketing Emails",description:"Get news and promotions",enabled:n.notifications.marketing,onChange:S=>u("notifications","marketing",S)})]}),c.jsx("hr",{className:"my-6"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(xre,{className:"h-5 w-5 text-gray-500"}),c.jsx("h3",{className:"font-semibold text-gray-800",children:"Appearance"})]}),c.jsx("div",{className:"flex gap-2 rounded-full bg-gray-100 p-1",children:["light","dark","auto"].map(S=>c.jsx("button",{onClick:()=>u("theme","theme",S),className:`w-full rounded-full py-1.5 text-sm font-semibold capitalize transition-colors ${n.theme===S?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:S},S))})]}),c.jsx("hr",{className:"my-6"}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"font-semibold text-gray-500",children:"Privacy"}),c.jsx(gm,{Icon:Ba,label:"Share anonymous usage data",description:"Help us improve our services",enabled:n.privacy.shareUsageData,onChange:S=>u("privacy","shareUsageData",S)}),c.jsx(gm,{Icon:Ba,label:"Personalized recommendations",description:"Get recommendations based on your activity",enabled:n.privacy.personalizedRecs,onChange:S=>u("privacy","personalizedRecs",S)})]})]}),c.jsxs(pe,{className:"mt-6 border-l-4 border-red-500",children:[c.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-red-700",children:"Account Management"}),c.jsxs("div",{className:"flex flex-col items-start gap-4 md:flex-row md:items-center md:justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-800",children:"Change Password"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Update your password for better security."})]}),c.jsxs(ke,{variant:"secondary",onClick:()=>a(!0),children:[c.jsx(Qne,{className:"mr-2 h-4 w-4"}),"Change Password"]})]}),c.jsx("hr",{className:"my-4"}),c.jsxs("div",{className:"flex flex-col items-start gap-4 md:flex-row md:items-center md:justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-800",children:"Delete Account"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Permanently delete your account and all data."})]}),c.jsxs(ke,{variant:"danger",onClick:()=>o(!0),children:[c.jsx(_w,{className:"mr-2 h-4 w-4"}),"Delete Account"]})]})]}),c.jsx(jl,{isOpen:i,onClose:()=>a(!1),title:"Change Password",children:c.jsx("form",{className:"space-y-4",children:c.jsx("p",{className:"text-sm text-gray-600",children:"Password change functionality is coming soon."})})}),c.jsx(jl,{isOpen:s,onClose:()=>o(!1),title:"Delete Account",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-red-100",children:c.jsx(Zc,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),c.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Are you absolutely sure?"}),c.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"This action cannot be undone. This will permanently delete your account, orders, and rewards."}),c.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Account deletion functionality is coming soon."})]})})]})},Iwe=["Poor","Fair","Good","Very Good","Excellent"],jwe={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"},ib=({rating:t,onRatingChange:e,readonly:n=!1,size:r="md",className:i=""})=>{const[a,s]=g.useState(0),o=!n&&e,l=m=>{o&&e(m)},u=m=>{o&&s(m)},d=()=>{o&&s(0)},h=a||t,f=h>0?Iwe[h-1]:"";return c.jsxs("div",{className:`flex flex-col items-center gap-2 ${i}`,children:[c.jsx("div",{className:"flex",onMouseLeave:d,role:o?"radiogroup":"img","aria-label":o?"Star rating":`Rating: ${t} out of 5 stars`,children:[...Array(5)].map((m,y)=>{const v=y+1,x=v<=h;return c.jsx("button",{type:"button",disabled:!o,onClick:()=>l(v),onMouseEnter:()=>u(v),className:`transition-colors duration-200 ${o?"cursor-pointer":"cursor-default"}`,"aria-label":o?`${v} star`:void 0,"aria-checked":o?t===v:void 0,role:o?"radio":void 0,children:c.jsx(Fp,{className:`
                  ${jwe[r]}
                  ${x?"text-yellow-400":"text-gray-300"}
                  transition-transform duration-200
                  ${o&&x?"hover:scale-110":""}
                `,fill:x?"currentColor":"none"})},y)})}),o&&c.jsx("div",{className:"h-5 text-sm font-medium text-gray-600",children:f})]})},Cwe=({user:t})=>{const[e,n]=g.useState(0),[r,i]=g.useState("food"),[a,s]=g.useState(""),[o,l]=g.useState(!1),[u,d]=g.useState([]),[h,f]=g.useState(!0),[m,y]=g.useState(null),{showToast:v}=xr();g.useEffect(()=>{if(!t)return;const _=de.collection("feedback").where("userId","==",t.uid).onSnapshot(S=>{const A=[];S.forEach(C=>{var T,I;const N=C.data();A.push({id:C.id,...N,createdAt:(T=N.createdAt)==null?void 0:T.toDate(),updatedAt:(I=N.updatedAt)==null?void 0:I.toDate()})}),A.sort((C,N)=>{var T,I;return(((T=N.createdAt)==null?void 0:T.getTime())||0)-(((I=C.createdAt)==null?void 0:I.getTime())||0)}),d(A),f(!1)});return()=>_()},[t]);const x=async w=>{if(w.preventDefault(),e===0||a.trim().length<10){v("Please provide a rating and a comment (at least 10 characters).");return}l(!0);try{await de.collection("feedback").add({userId:t.uid,rating:e,category:r,comment:a,status:"pending",createdAt:nt.firestore.FieldValue.serverTimestamp(),updatedAt:nt.firestore.FieldValue.serverTimestamp()}),v("Feedback submitted successfully!"),n(0),i("food"),s("")}catch(_){console.error("Error submitting feedback: ",_),v("Failed to submit feedback. Please try again.")}finally{l(!1)}},b={pending:"bg-yellow-100 text-yellow-800",reviewed:"bg-blue-100 text-blue-800",resolved:"bg-green-100 text-green-800"};return c.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[c.jsx("div",{className:"lg:col-span-2",children:c.jsxs(pe,{children:[c.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900",children:"Your Feedback History"}),h?c.jsx("div",{className:"flex items-center justify-center p-8",children:c.jsx(Mt,{className:"h-8 w-8 animate-spin text-primary-600"})}):u.length>0?c.jsx("div",{className:"space-y-3",children:u.map(w=>c.jsxs("div",{className:"rounded-lg border border-gray-200",children:[c.jsxs("button",{onClick:()=>y(m===w.id?null:w.id),className:"flex w-full items-center justify-between p-4 text-left",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(ib,{rating:w.rating,size:"sm",readonly:!0}),c.jsxs("div",{className:"flex-1 overflow-hidden",children:[c.jsx("p",{className:"font-semibold text-gray-800 truncate",children:w.comment}),c.jsx("p",{className:"text-xs text-gray-500",children:w.createdAt?v1(w.createdAt,{addSuffix:!0}):"Just now"})]})]}),c.jsx(tf,{className:`h-5 w-5 transform transition-transform ${m===w.id?"rotate-180":""}`})]}),c.jsx(cl,{children:m===w.id&&c.jsx(Wn.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:c.jsxs("div",{className:"border-t p-4",children:[c.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:w.comment}),w.response&&c.jsxs("div",{className:"mt-4 rounded-md border-l-4 border-primary-400 bg-primary-50 p-3",children:[c.jsx("p",{className:"font-semibold text-primary-800",children:"Response from Rush Coffee:"}),c.jsxs("p",{className:"mt-1 text-sm text-primary-700 italic",children:['"',w.response,'"']})]}),c.jsx("div",{className:"mt-3",children:c.jsx(cr,{className:`capitalize ${b[w.status]}`,children:w.status})})]})})})]},w.id))}):c.jsxs("div",{className:"py-10 text-center text-gray-500",children:[c.jsx(nf,{className:"mx-auto h-12 w-12 text-gray-300"}),c.jsx("p",{className:"mt-2 font-semibold",children:"No feedback history found."}),c.jsx("p",{className:"text-sm",children:"Share your thoughts with us using the form!"})]})]})}),c.jsx("div",{children:c.jsxs(pe,{children:[c.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900",children:"Leave Feedback"}),c.jsxs("form",{onSubmit:x,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Overall Rating"}),c.jsx(ib,{rating:e,onRatingChange:n})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),c.jsxs("select",{id:"category",value:r,onChange:w=>i(w.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[c.jsx("option",{value:"food",children:"Food & Drinks"}),c.jsx("option",{value:"service",children:"Service"}),c.jsx("option",{value:"system",children:"App/Website"}),c.jsx("option",{value:"other",children:"Other"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700",children:"Comments"}),c.jsx("textarea",{id:"comment",value:a,onChange:w=>s(w.target.value),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Tell us more about your experience..."})]}),c.jsxs(ke,{type:"submit",disabled:o,className:"w-full",children:[o?c.jsx(Mt,{className:"mr-2 h-4 w-4 animate-spin"}):c.jsx(W2,{className:"mr-2 h-4 w-4"}),o?"Submitting...":"Submit Feedback"]})]})]})})]})},o6=()=>c.jsx(pe,{className:"animate-pulse",children:c.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("div",{className:"flex-grow space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"h-4 w-1/3 rounded bg-gray-300"}),c.jsx("div",{className:"h-5 w-1/4 rounded-full bg-gray-300"})]}),c.jsx("div",{className:"h-3 w-1/4 rounded bg-gray-300"}),c.jsx("div",{className:"h-4 w-1/2 rounded bg-gray-300"})]}),c.jsxs("div",{className:"flex-shrink-0 space-y-2 text-right sm:ml-4",children:[c.jsx("div",{className:"h-8 w-24 rounded bg-gray-300 ml-auto"}),c.jsx("div",{className:"h-8 w-28 rounded-full bg-gray-300 ml-auto"})]})]})}),Pwe=()=>{const{currentUser:t,updateUserProfile:e,updateUserPhoto:n}=Yr(),{orderHistory:r,isHistoryLoading:i}=EC(),[a,s]=g.useState(null),[o,l]=g.useState("overview"),[u,d]=g.useState(!1),[h,f]=g.useState(!1),[m,y]=g.useState(null),[v,x]=g.useState(null),[b,w]=g.useState(!1),_=g.useRef(null),{showToast:S,addToCart:A}=xr();g.useEffect(()=>{s(t)},[t]),g.useEffect(()=>{if(!m){x(null);return}const M=URL.createObjectURL(m);return x(M),()=>URL.revokeObjectURL(M)},[m]);const C=g.useMemo(()=>a?Pv.find(M=>M.id==="cb-01"):null,[a]),N=M=>{a&&e&&(e(M),d(!1))},T=M=>{a&&s(L=>L?{...L,preferences:{...L.preferences,...M}}:null)},I=M=>{if(M.target.files&&M.target.files[0]){if(M.target.files[0].size>2*1024*1024){S("File size should not exceed 2MB.");return}y(M.target.files[0])}},P=()=>{if(!m||!a||!n)return;w(!0);const M=new FileReader;M.readAsDataURL(m),M.onloadend=async()=>{const L=M.result;try{await n(L),w(!1),f(!1),y(null),S("Profile photo updated!")}catch(B){console.error("Error updating photo:",B),S("Failed to update photo."),w(!1)}}},k=()=>{C&&A(C,C.sizes[0])};if(!a)return c.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50",children:c.jsx(Mt,{className:"h-12 w-12 animate-spin text-primary-600"})});const R=[{id:"overview",label:"Overview",Icon:Ms},{id:"orders",label:"Order History",Icon:ww},{id:"feedback",label:"My Feedback",Icon:nf},{id:"settings",label:"Settings",Icon:rp}],O=()=>{switch(o){case"orders":return i?c.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((M,L)=>c.jsx(o6,{},L))}):c.jsx(s6,{orders:r});case"settings":return c.jsx(Nwe,{preferences:a.preferences,onUpdatePreferences:T});case"feedback":return c.jsx(Cwe,{user:a});case"overview":default:return c.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[c.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[u?c.jsx(Ewe,{user:a,onSave:N,onCancel:()=>d(!1)}):c.jsxs(pe,{children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"font-display text-xl font-bold text-coffee-900",children:"Quick Info"}),c.jsxs(ke,{variant:"ghost",size:"sm",onClick:()=>d(!0),children:[c.jsx(MU,{className:"mr-2 h-4 w-4"})," Edit Profile"]})]}),c.jsxs("ul",{className:"mt-4 space-y-3 text-gray-700",children:[c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(gr,{className:"h-5 w-5 text-gray-400"})," ",a.email]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(Ds,{className:"h-5 w-5 text-gray-400"})," ",a.phone||"Not provided"]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(_d,{className:"h-5 w-5 text-gray-400"})," Member since ",Kd(a.createdAt,"MMMM dd, yyyy")]})]})]}),i?c.jsxs(pe,{children:[c.jsx("h3",{className:"font-display text-xl font-bold text-coffee-900",children:"Recent Orders"}),c.jsx("div",{className:"mt-4 space-y-4",children:Array.from({length:3}).map((M,L)=>c.jsx(o6,{},L))})]}):c.jsx(s6,{orders:r,limit:3,showViewAll:!0,onViewAll:()=>l("orders")})]}),c.jsxs("div",{className:"space-y-6 lg:col-span-1",children:[C&&c.jsxs(pe,{children:[c.jsx("h3",{className:"font-display text-xl font-bold text-coffee-900",children:"Your Favorite"}),c.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[c.jsx("img",{src:C.imageUrl,alt:C.name,className:"h-20 w-20 rounded-lg object-cover"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-800",children:C.name}),c.jsx("p",{className:"text-sm text-gray-500",children:C.category}),c.jsx(ke,{size:"sm",variant:"secondary",className:"mt-2",onClick:k,children:"Order Again"})]})]})]}),c.jsxs(pe,{children:[c.jsx("h3",{className:"font-display text-xl font-bold text-coffee-900",children:"Quick Stats"}),c.jsxs("ul",{className:"mt-4 space-y-3 text-gray-700",children:[c.jsxs("li",{className:"flex justify-between",children:[c.jsx("span",{children:"Orders this week:"})," ",c.jsx("span",{className:"font-bold",children:"5"})]}),c.jsxs("li",{className:"flex justify-between",children:[c.jsx("span",{children:"Orders this month:"})," ",c.jsx("span",{className:"font-bold",children:"12"})]}),c.jsxs("li",{className:"flex justify-between",children:[c.jsx("span",{children:"Total Savings:"})," ",c.jsx("span",{className:"font-bold text-green-600",children:"250.00"})]})]})]})]})]})}};return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx(mn,{}),c.jsxs("main",{children:[c.jsx(_we,{user:a,onEditPhoto:()=>f(!0)}),c.jsx("div",{className:"sticky top-16 z-30 border-b border-gray-200 bg-white/95 backdrop-blur-sm sm:top-20",children:c.jsx("div",{className:"container mx-auto max-w-7xl px-4 sm:px-6",children:c.jsx("nav",{className:"-mb-px flex space-x-4 overflow-x-auto sm:space-x-8 no-scrollbar",children:R.map(M=>c.jsxs("button",{onClick:()=>l(M.id),className:`group inline-flex shrink-0 items-center gap-2 whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium transition-all ${o===M.id?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:[c.jsx(M.Icon,{className:`h-5 w-5 ${o===M.id?"text-primary-600":"text-gray-400 group-hover:text-gray-500"}`}),M.label]},M.id))})})}),c.jsx("div",{className:"container mx-auto max-w-7xl p-6",children:O()})]}),c.jsx(pn,{}),c.jsx(jl,{isOpen:h,onClose:()=>f(!1),title:"Upload New Photo",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("input",{type:"file",ref:_,onChange:I,accept:"image/*",className:"hidden"}),c.jsx("div",{className:"flex cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-6 text-center transition hover:bg-gray-100",onClick:()=>{var M;return(M=_.current)==null?void 0:M.click()},children:v?c.jsx("img",{src:v,alt:"Preview",className:"h-32 w-32 rounded-full object-cover"}):c.jsxs(c.Fragment,{children:[c.jsx(hD,{className:"h-12 w-12 text-gray-400"}),c.jsx("span",{className:"mt-2 block text-sm font-semibold text-gray-600",children:"Click to upload"}),c.jsx("span",{className:"mt-1 block text-xs text-gray-500",children:"PNG or JPG (MAX. 2MB)"})]})}),b&&c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:c.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full animate-pulse",style:{width:"100%"}})}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx(ke,{variant:"ghost",onClick:()=>f(!1),children:"Cancel"}),c.jsxs(ke,{onClick:P,disabled:!m||b,children:[b?c.jsx(Mt,{className:"mr-2 h-4 w-4 animate-spin"}):c.jsx(hD,{className:"mr-2 h-4 w-4"}),"Upload Photo"]})]})]})})]})},kwe="/RushCoffee-Capstone/assets/rush-coffee-storefront-BCrquOJJ.jpg",Owe=()=>c.jsxs("div",{className:"bg-white",children:[c.jsx(mn,{}),c.jsxs("main",{children:[c.jsxs("section",{className:"relative flex min-h-[40vh] items-center justify-center overflow-hidden bg-coffee-900 px-6 py-24 text-center text-white",children:[c.jsxs("div",{className:"absolute inset-0 z-0",children:[c.jsx("img",{src:"https://images.unsplash.com/photo-1447933601403-0c6688de566e?q=80&w=2561&auto=format&fit=crop",alt:"Coffee beans close up",className:"h-full w-full object-cover opacity-40"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-coffee-900/60 via-coffee-900/40 to-coffee-900/90"})]}),c.jsxs("div",{className:"relative z-10 mx-auto max-w-4xl",children:[c.jsx("span",{className:"mb-4 inline-block rounded-full bg-primary-500/20 px-4 py-1.5 text-sm font-medium text-primary-300 backdrop-blur-sm",children:"Our Story & Mission"}),c.jsx("h1",{className:"animate-fade-in-up font-display text-5xl font-bold md:text-7xl",style:{animationDelay:"100ms",opacity:0},children:"Brewing the Future"}),c.jsx("p",{className:"animate-fade-in-up mx-auto mt-6 max-w-2xl text-xl text-gray-200 md:text-2xl",style:{animationDelay:"300ms",opacity:0},children:"Where artisanal tradition meets modern convenience. We're redefining your daily coffee ritual."})]}),c.jsx("button",{onClick:()=>{var t;return(t=document.getElementById("our-story"))==null?void 0:t.scrollIntoView({behavior:"smooth"})},className:"absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce text-white/50 hover:text-white transition-colors cursor-pointer","aria-label":"Scroll down",children:c.jsx(Xc,{className:"h-6 w-6 rotate-90"})})]}),c.jsx("section",{id:"our-story",className:"px-6 py-32",children:c.jsxs("div",{className:"container mx-auto grid max-w-7xl items-center gap-12 md:grid-cols-2",children:[c.jsxs("div",{className:"animate-fade-in-up",children:[c.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"Our Story"}),c.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"Founded in 2023 by a group of passionate coffee aficionados and tech enthusiasts, Rush Coffee was born from a simple yet powerful idea: your coffee break should be a moment of joy, not a test of patience."}),c.jsx("p",{className:"mt-4 text-gray-600",children:"We saw the long lines, the rushed orders, and the precious minutes slipping away from people's days. Our mission became clear: to blend the rich tradition of artisanal coffee with the seamless efficiency of modern technology. We're not just serving coffee; we're giving you back your time, one perfectly brewed cup at a time."})]}),c.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"200ms",opacity:0},children:c.jsx("img",{src:kwe,alt:"Inside Rush Coffee shop",className:"h-80 w-full rounded-lg object-cover shadow-xl"})})]})}),c.jsx("section",{className:"bg-gray-50 px-6 py-32",children:c.jsxs("div",{className:"container mx-auto max-w-7xl",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"What We Stand For"}),c.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-gray-600",children:"Our core values guide every bean we roast and every line of code we write."})]}),c.jsxs("div",{className:"mt-12 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-4",children:[c.jsxs(pe,{hover:!0,className:"text-center",children:[c.jsx(hr,{className:"mx-auto mb-4 h-12 w-12 text-primary-600"}),c.jsx("h3",{className:"font-display text-xl font-semibold text-coffee-900",children:"Quality"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"From ethically sourced, premium beans to the perfect extraction, excellence is in every cup."})]}),c.jsxs(pe,{hover:!0,className:"text-center",children:[c.jsx(VU,{className:"mx-auto mb-4 h-12 w-12 text-primary-600"}),c.jsx("h3",{className:"font-display text-xl font-semibold text-coffee-900",children:"Speed"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Our digital queue system ensures your order is ready when you are. Fast, efficient, and always fresh."})]}),c.jsxs(pe,{hover:!0,className:"text-center",children:[c.jsx(Xg,{className:"mx-auto mb-4 h-12 w-12 text-primary-600"}),c.jsx("h3",{className:"font-display text-xl font-semibold text-coffee-900",children:"Community"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"We're more than a coffee shop; we're a hub for connection, creativity, and caffeine lovers."})]}),c.jsxs(pe,{hover:!0,className:"text-center",children:[c.jsx(tre,{className:"mx-auto mb-4 h-12 w-12 text-primary-600"}),c.jsx("h3",{className:"font-display text-xl font-semibold text-coffee-900",children:"Innovation"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Continuously improving your experience by thoughtfully integrating technology with tradition."})]})]})]})}),c.jsx("section",{className:"bg-gray-50 px-6 py-20",children:c.jsxs("div",{className:"container mx-auto grid max-w-7xl items-center gap-12 lg:grid-cols-2",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"Visit Us"}),c.jsx("p",{className:"mt-4 text-gray-600",children:"Experience the Rush Coffee difference in person. We're ready to serve you."}),c.jsxs("ul",{className:"mt-6 space-y-4",children:[c.jsxs("li",{className:"flex items-start gap-4",children:[c.jsx(H2,{className:"mt-1 h-6 w-6 flex-shrink-0 text-primary-600"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-coffee-900",children:"Address"}),c.jsx("p",{className:"text-gray-600",children:"11 Visayan Ave. St. Galas, Quezon City, Philippines"})]})]}),c.jsxs("li",{className:"flex items-start gap-4",children:[c.jsx(Zs,{className:"mt-1 h-6 w-6 flex-shrink-0 text-primary-600"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-coffee-900",children:"Operating Hours"}),c.jsx("p",{className:"text-gray-600",children:"Monday - Sunday 12pm - 10pm"})]})]}),c.jsxs("li",{className:"flex items-start gap-4",children:[c.jsx(Ds,{className:"mt-1 h-6 w-6 flex-shrink-0 text-primary-600"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-coffee-900",children:"Contact"}),c.jsx("a",{href:"tel:09304641022",className:"text-primary-600 transition hover:text-primary-700",children:"0930 464 1022"})]})]})]}),c.jsx(ke,{size:"lg",className:"mt-8",children:"Get Directions"})]}),c.jsx("div",{className:"h-96 overflow-hidden rounded-lg shadow-xl",children:c.jsx("iframe",{src:"https://maps.google.com/maps?q=11%20Visayan%20Ave%20St.%20Galas%20Quezon%20City&t=&z=15&ie=UTF8&iwloc=&output=embed",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Rush Coffee Location"})})]})}),c.jsxs("section",{className:"relative overflow-hidden bg-coffee-900 px-6 py-24 text-center text-white",children:[c.jsxs("div",{className:"absolute inset-0 z-0",children:[c.jsx("img",{src:"https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?q=80&w=2070&auto=format&fit=crop",alt:"Coffee shop atmosphere",className:"h-full w-full object-cover opacity-20"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-coffee-900/90 via-coffee-800/90 to-coffee-900/90"})]}),c.jsx("div",{className:"absolute -left-1/4 -top-1/4 opacity-5",children:c.jsx(Ln,{className:"h-96 w-96 animate-float text-white"})}),c.jsx("div",{className:"absolute -bottom-1/4 -right-1/4 opacity-5",children:c.jsx(Ln,{className:"h-[30rem] w-[30rem] animate-float-delay text-white"})}),c.jsxs("div",{className:"relative z-10 mx-auto max-w-3xl",children:[c.jsx("h2",{className:"font-display text-4xl font-bold md:text-5xl lg:text-6xl",children:"Ready to Experience the Rush?"}),c.jsx("p",{className:"mx-auto mb-10 mt-6 max-w-2xl text-xl text-gray-300",children:"Join thousands of happy customers who've already upgraded their coffee routine. Skip the line, not the quality."}),c.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 sm:flex-row",children:[c.jsxs(Be,{to:"/auth/register",className:"group inline-flex items-center justify-center gap-2 rounded-full bg-primary-600 px-8 py-4 text-lg font-semibold text-white shadow-lg transition-all hover:bg-primary-500 hover:shadow-primary-600/30 hover:-translate-y-1",children:["Start Ordering",c.jsx(Xc,{className:"h-5 w-5 transition-transform group-hover:translate-x-1"})]}),c.jsx(Be,{to:"/menu",className:"inline-flex items-center justify-center gap-2 rounded-full border border-white/20 bg-white/5 px-8 py-4 text-lg font-semibold text-white backdrop-blur-sm transition-all hover:bg-white/10 hover:-translate-y-1",children:"View Menu"})]}),c.jsxs("p",{className:"mt-8 text-sm text-gray-400",children:["Already have an account?"," ",c.jsx(Be,{to:"/auth/login",className:"font-medium text-primary-400 hover:text-primary-300 hover:underline",children:"Log in here"})]})]})]})]}),c.jsx(pn,{})]}),SC=g.forwardRef(({className:t,label:e,error:n,helperText:r,startIcon:i,containerClassName:a,id:s,showCharCount:o=!1,maxLength:l,autoResize:u=!1,value:d,onChange:h,...f},m)=>{const[y,v]=zo.useState(0),x=zo.useRef(null);zo.useEffect(()=>{d!==void 0&&v(String(d).length)},[d]),zo.useEffect(()=>{u&&x.current&&(x.current.style.height="auto",x.current.style.height=`${x.current.scrollHeight}px`)},[d,u]);const b=_=>{v(_.target.value.length),h&&h(_)},w=_=>{x.current=_,typeof m=="function"?m(_):m&&(m.current=_)};return c.jsxs("div",{className:`w-full ${a||""}`,children:[e&&c.jsx("label",{htmlFor:s,className:"mb-1.5 block text-sm font-medium text-coffee-900",children:e}),c.jsxs("div",{className:"relative group",children:[i&&c.jsx("div",{className:"pointer-events-none absolute left-3 top-3 text-gray-400 transition-colors group-focus-within:text-primary-600",children:i}),c.jsx("textarea",{id:s,className:`
              w-full rounded-xl border bg-white px-4 py-3.5 text-sm text-gray-900 
              placeholder:text-gray-500 placeholder:font-medium transition-all duration-200 ease-in-out resize-none
              focus:border-primary-500 focus:outline-none focus:ring-4 focus:ring-primary-500/10
              disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500
              ${i?"pl-10":""}
              ${n?"border-red-300 focus:border-red-500 focus:ring-red-500/10":"border-gray-500 shadow-sm hover:border-primary-400"}
              ${u?"overflow-hidden":""}
              ${t||""}
            `,ref:w,value:d,onChange:b,maxLength:l,...f})]}),c.jsxs("div",{className:"mt-1.5 flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[n&&c.jsx("p",{className:"text-xs font-medium text-red-600 animate-fade-in-up",children:n}),!n&&r&&c.jsx("p",{className:"text-xs text-gray-500",children:r})]}),o&&l&&c.jsxs("p",{className:`text-xs ml-2 flex-shrink-0 transition-colors ${y>l*.9?"text-amber-600 font-medium":"text-gray-400"}`,children:[y,"/",l]})]})]})});SC.displayName="Textarea";const oH=g.forwardRef(({className:t,label:e,error:n,helperText:r,startIcon:i,containerClassName:a,id:s,options:o,children:l,...u},d)=>c.jsxs("div",{className:`w-full ${a||""}`,children:[e&&c.jsx("label",{htmlFor:s,className:"mb-1.5 block text-sm font-medium text-coffee-900",children:e}),c.jsxs("div",{className:"relative group",children:[i&&c.jsx("div",{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 transition-colors group-focus-within:text-primary-600 z-10",children:i}),c.jsx("select",{id:s,className:`
              w-full appearance-none rounded-xl border bg-white px-4 py-3.5 text-sm text-gray-900 
              cursor-pointer transition-all duration-200 ease-in-out
              focus:border-primary-500 focus:outline-none focus:ring-4 focus:ring-primary-500/10
              disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500
              ${i?"pl-10":""}
              pr-10
              ${n?"border-red-300 focus:border-red-500 focus:ring-red-500/10":"border-gray-500 shadow-sm hover:border-primary-400"}
              ${t||""}
            `,ref:d,...u,children:o?o.map(h=>c.jsx("option",{value:h.value,disabled:h.disabled,children:h.label},h.value)):l}),c.jsx("div",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:c.jsx(tf,{className:"h-5 w-5"})})]}),n&&c.jsx("p",{className:"mt-1.5 text-xs font-medium text-red-600 animate-fade-in-up",children:n}),!n&&r&&c.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:r})]}));oH.displayName="Select";const Rwe=[{question:"What are your operating hours?",answer:"We are open Monday - Sunday 12pm - 10pm."},{question:"How does the digital queue system work?",answer:"Simply place your order through our app or website. You'll be added to our virtual queue and receive real-time updates on your order status, including your position and estimated wait time. You'll get a notification when it's ready for pickup!"},{question:"Can I customize my drink?",answer:"Absolutely! Most of our drinks can be customized. You can choose your milk, sweetness level, add extra shots, and more right from the order page."},{question:"Do you offer catering services for events?",answer:"Yes, we do! We offer a range of catering options for meetings, parties, and events. Please use the contact form and select 'Partnership' as the subject to discuss your needs with us."},{question:"How do I earn and redeem rewards points?",answer:"You earn points with every purchase made through your account. You can view your points balance and redeem available rewards on the 'Rewards' page in the app."}],Dwe=({question:t,answer:e,isOpen:n,onClick:r})=>c.jsxs("div",{className:"border-b border-gray-200",children:[c.jsxs("button",{onClick:r,className:"flex w-full items-center justify-between py-4 text-left text-lg font-medium text-gray-800 focus:outline-none",children:[c.jsx("span",{children:t}),c.jsx(tf,{className:`h-6 w-6 transform transition-transform duration-300 ${n?"rotate-180":""}`})]}),c.jsx(cl,{children:n&&c.jsx(Wn.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:c.jsx("p",{className:"pb-4 text-gray-600",children:e})})})]}),Mwe=()=>{const[t,e]=g.useState(0),[n,r]=g.useState({name:"",email:"",phone:"",subject:"",message:""}),[i,a]=g.useState({}),[s,o]=g.useState(!1),[l,u]=g.useState(!1),d=()=>{const m={};return n.name.length<2&&(m.name="Name must be at least 2 characters."),/\S+@\S+\.\S+/.test(n.email)||(m.email="Please enter a valid email address."),n.subject||(m.subject="Please select a subject."),n.message.length<10&&(m.message="Message must be at least 10 characters."),a(m),Object.keys(m).length===0},h=m=>{m.preventDefault(),d()&&(o(!0),u(!1),setTimeout(()=>{o(!1),u(!0),r({name:"",email:"",phone:"",subject:"",message:""}),setTimeout(()=>u(!1),5e3)},1500))},f=m=>{r({...n,[m.target.name]:m.target.value})};return c.jsxs("div",{className:"bg-white",children:[c.jsx(mn,{}),c.jsxs("main",{children:[c.jsxs("section",{className:"relative flex min-h-[40vh] items-center justify-center overflow-hidden bg-coffee-900 px-6 py-20 text-center text-white",children:[c.jsxs("div",{className:"absolute inset-0 z-0",children:[c.jsx("img",{src:"https://images.unsplash.com/photo-1485182708500-e8f1f318ba72?q=80&w=2610&auto=format&fit=crop",alt:"Coffee shop conversation",className:"h-full w-full object-cover opacity-30"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-coffee-900/80 via-coffee-900/60 to-coffee-900/90"})]}),c.jsxs("div",{className:"relative z-10 mx-auto max-w-3xl",children:[c.jsx("span",{className:"mb-4 inline-block rounded-full bg-primary-500/20 px-4 py-1.5 text-sm font-medium text-primary-300 backdrop-blur-sm",children:"We'd Love to Hear From You"}),c.jsx("h1",{className:"animate-fade-in-up font-display text-5xl font-bold md:text-6xl",style:{animationDelay:"100ms",opacity:0},children:"Get in Touch"}),c.jsx("p",{className:"animate-fade-in-up mx-auto mt-4 max-w-2xl text-xl text-gray-200",style:{animationDelay:"300ms",opacity:0},children:"Have a question, feedback, or just want to say hello? We're here to help."})]})]}),c.jsx("section",{className:"bg-gray-50 px-6 py-24",children:c.jsx("div",{className:"container mx-auto max-w-6xl",children:c.jsxs("div",{className:"overflow-hidden rounded-3xl bg-white shadow-2xl lg:grid lg:grid-cols-5",children:[c.jsxs("div",{className:"p-8 lg:col-span-3 lg:p-12",children:[c.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900",children:"Send us a Message"}),l&&c.jsxs(Wn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mt-4 flex items-center gap-3 rounded-xl bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 p-4 shadow-sm",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-green-500",children:c.jsx(bw,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-green-900",children:"Message Sent Successfully!"}),c.jsx("p",{className:"text-sm text-green-700",children:"We'll get back to you within 24 hours."})]})]}),c.jsxs("form",{onSubmit:h,className:"mt-8 space-y-6",children:[c.jsx(Mn,{id:"name",name:"name",label:"Name",value:n.name,onChange:f,placeholder:"Full Name",required:!0,error:i.name,startIcon:c.jsx(Ms,{className:"h-5 w-5"})}),c.jsx(Mn,{id:"email",name:"email",type:"email",label:"Email",value:n.email,onChange:f,placeholder:"name@company.com",required:!0,error:i.email,startIcon:c.jsx(gr,{className:"h-5 w-5"})}),c.jsx(Mn,{id:"phone",name:"phone",type:"tel",label:"Phone",value:n.phone,onChange:f,placeholder:"Phone Number (Optional)",startIcon:c.jsx(Ds,{className:"h-5 w-5"})}),c.jsxs(oH,{id:"subject",name:"subject",label:"Subject",value:n.subject,onChange:f,required:!0,error:i.subject,startIcon:c.jsx(Fne,{className:"h-5 w-5"}),children:[c.jsx("option",{value:"",disabled:!0,children:"Select a subject..."}),c.jsx("option",{value:"general",children:"General Inquiry"}),c.jsx("option",{value:"feedback",children:"Feedback"}),c.jsx("option",{value:"partnership",children:"Partnership"}),c.jsx("option",{value:"support",children:"Support"})]}),c.jsx(SC,{id:"message",name:"message",label:"Message",value:n.message,onChange:f,placeholder:"How can we help you today?",rows:5,required:!0,error:i.message,startIcon:c.jsx(nf,{className:"h-5 w-5"}),showCharCount:!0,maxLength:500,helperText:"Please provide as much detail as possible"}),c.jsx(ke,{type:"submit",size:"lg",fullWidth:!0,isLoading:s,startIcon:!s&&c.jsx(W2,{className:"h-5 w-5"}),children:s?"Sending...":"Send Message"})]})]}),c.jsxs("div",{className:"bg-coffee-900 p-8 text-white lg:col-span-2 lg:p-12",children:[c.jsx("h3",{className:"mb-8 font-display text-2xl font-bold",children:"Contact Information"}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-white/10 backdrop-blur-sm",children:c.jsx(H2,{className:"h-6 w-6 text-primary-300"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-lg",children:"Visit Us"}),c.jsx("p",{className:"mt-1 text-gray-300",children:"11 Visayan Ave. St. Galas, Quezon City, Philippines"}),c.jsxs("a",{href:"https://www.google.com/maps/dir/?api=1&destination=11+Visayan+Ave+St.+Galas+Quezon+City",target:"_blank",rel:"noopener noreferrer",className:"mt-2 inline-flex items-center text-sm font-medium text-primary-300 hover:text-white",children:["Get Directions ",c.jsx(Xc,{className:"ml-1 h-4 w-4"})]})]})]}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-white/10 backdrop-blur-sm",children:c.jsx(Ds,{className:"h-6 w-6 text-primary-300"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-lg",children:"Call Us"}),c.jsx("a",{href:"tel:09304641022",className:"mt-1 block text-gray-300 hover:text-white transition-colors",children:"0930 464 1022"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Monday - Sunday 12pm - 10pm"})]})]}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-white/10 backdrop-blur-sm",children:c.jsx(gr,{className:"h-6 w-6 text-primary-300"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-lg",children:"Email Us"}),c.jsx("a",{href:"mailto:hello@rushcoffee.ph",className:"mt-1 block text-gray-300 hover:text-white transition-colors",children:"hello@rushcoffee.ph"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Responds within 24 hours"})]})]}),c.jsxs("div",{className:"pt-8 border-t border-white/10",children:[c.jsx("h4",{className:"font-bold text-lg mb-4",children:"Follow Us"}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("a",{href:"https://www.facebook.com/profile.php?id=61551613276320",target:"_blank",rel:"noopener noreferrer",className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/10 text-white transition hover:bg-primary-600 hover:scale-110",children:c.jsx(CU,{className:"h-5 w-5"})}),c.jsx("a",{href:"https://www.instagram.com/Rush_Coffee2023/",target:"_blank",rel:"noopener noreferrer",className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/10 text-white transition hover:bg-primary-600 hover:scale-110",children:c.jsx(PU,{className:"h-5 w-5"})}),c.jsx("a",{href:"#",className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/10 text-white transition hover:bg-primary-600 hover:scale-110",children:c.jsx(Gre,{className:"h-5 w-5"})})]})]})]})]})]})})}),c.jsx("section",{className:"bg-gray-50 px-6 py-20",children:c.jsxs("div",{className:"container mx-auto max-w-4xl",children:[c.jsx("h2",{className:"text-center font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"Frequently Asked Questions"}),c.jsx("div",{className:"mt-8",children:Rwe.map((m,y)=>c.jsx(Dwe,{...m,isOpen:t===y,onClick:()=>e(t===y?null:y)},y))})]})}),c.jsx("section",{className:"bg-gray-50 px-6 pb-24 pt-12",children:c.jsxs("div",{className:"container mx-auto max-w-6xl text-center",children:[c.jsx("h2",{className:"mb-2 font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"Find Your Way to Us"}),c.jsx("p",{className:"mb-8 text-gray-600",children:"Come visit our cozy spot in the heart of the city."}),c.jsx("div",{className:"h-96 w-full overflow-hidden rounded-3xl shadow-xl",children:c.jsx("iframe",{src:"https://maps.google.com/maps?q=11%20Visayan%20Ave%20St.%20Galas%20Quezon%20City&t=&z=15&ie=UTF8&iwloc=&output=embed",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Rush Coffee Location"})})]})})]}),c.jsx(pn,{})]})},lH=[{category:"Ordering & Queue",question:"How do I join the virtual queue?",answer:"Simply place an order through our website or app. You'll automatically join the queue and receive your position number."},{category:"Ordering & Queue",question:"Can I see my queue position in real-time?",answer:"Yes! Your queue page updates in real-time showing your current position and estimated wait time."},{category:"Ordering & Queue",question:"What happens if I miss my turn?",answer:"Don't worry! You have a 10-minute grace period to pick up your order once it's ready. After that, your order will be held for you, but you may need to wait briefly if we are busy."},{category:"Ordering & Queue",question:"Can I cancel my order?",answer:"Yes, you can cancel an order directly from your order history as long as its status is still 'waiting'. Once it moves to 'preparing', it can no longer be canceled. Refunds for successful cancellations are processed within 3-5 business days."},{category:"Payments",question:"What payment methods do you accept?",answer:"We currently accept GCash for pre-payment and cash on pickup. We are working on adding more digital payment options soon!"},{category:"Payments",question:"Is it safe to pay via GCash?",answer:"Absolutely! We use a secure payment process, and your payment information is encrypted and handled safely."},{category:"Payments",question:"Do I need to pay upfront?",answer:"For GCash payments, yes, payment is required upon placing the order. For cash payments, you can pay at the counter when you pick up your order."},{category:"Rewards",question:"How do I earn rewards points?",answer:"You earn points with every purchase made through your Rush Coffee account! The current rate is 1 point for every 10 spent. Keep an eye out for special promotions to earn bonus points."},{category:"Rewards",question:"When do my points expire?",answer:"Good news - your points never expire! You can save them up for as long as you like and redeem them for rewards whenever you're ready."},{category:"Rewards",question:"What are the tier benefits?",answer:"We have three tiers! Bronze (0-299pts): Earn 1x points. Silver (300-999pts): Earn 1.5x points and get access to exclusive silver rewards. Gold (1000+pts): Earn 2x points, get VIP perks, and early access to new items."},{category:"Account",question:"Do I need an account to order?",answer:"Yes, creating an account is necessary. It allows us to manage your orders in the queue, track your rewards points, and save your preferences for a faster checkout next time."},{category:"Account",question:"How do I reset my password?",answer:"On the login page, click the 'Forgot your password?' link. We'll send a password reset link to the email address associated with your account."},{category:"Account",question:"Can I change my email address?",answer:"To update the email address on your account, please contact our support team at hello@rushcoffee.ph, and we'll be happy to assist you."},{category:"Technical",question:"The website isn't working correctly. What should I do?",answer:"First, try refreshing the page. If that doesn't work, clearing your browser's cache and cookies often resolves the issue. If you're still experiencing problems, please contact our support team with details about the issue."},{category:"Technical",question:"Do you have a mobile app?",answer:"A dedicated mobile app for iOS and Android is currently in development and will be launching soon! For now, our website is fully responsive and works great on all mobile browsers."},{category:"General",question:"What are your operating hours?",answer:"We're open Monday to Sunday, from 12:00 PM to 10:00 PM. Hours may vary on public holidays."},{category:"General",question:"Do you offer WiFi in your store?",answer:"Yes, we offer complimentary high-speed WiFi for all our customers. Just ask our staff for the network details."},{category:"General",question:"Can I customize my drink?",answer:"Absolutely! You can customize aspects like milk type, sweetness level, add extra espresso shots, and choose from various syrups and toppings directly on the product page before adding an item to your cart."}],Lwe=["All",...Array.from(new Set(lH.map(t=>t.category)))],Vwe=({question:t,answer:e,isOpen:n,onClick:r,highlight:i})=>{const a=(s,o)=>{if(!o.trim())return s;const l=new RegExp(`(${o})`,"gi");return s.split(l).map((u,d)=>l.test(u)?c.jsx("mark",{className:"bg-primary-100 text-primary-700 rounded-sm",children:u},d):u)};return c.jsxs("div",{className:"border-b border-gray-200",children:[c.jsxs("button",{onClick:r,className:"flex w-full items-center justify-between py-5 text-left text-lg font-medium text-gray-800 focus:outline-none focus:bg-gray-50 rounded-md",children:[c.jsx("span",{className:"flex-1 pr-4",children:a(t,i)}),c.jsx(tf,{className:`h-6 w-6 transform text-primary-600 transition-transform duration-300 ${n?"rotate-180":""}`})]}),c.jsx(cl,{children:n&&c.jsx(Wn.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:c.jsx("div",{className:"pb-5 pr-6 text-gray-600 leading-relaxed",children:a(e,i)})})})]})},zwe=()=>{const[t,e]=g.useState(""),[n,r]=g.useState("All"),[i,a]=g.useState(0),s=g.useMemo(()=>lH.filter(o=>{const l=n==="All"||o.category===n,u=t.trim()===""||o.question.toLowerCase().includes(t.toLowerCase())||o.answer.toLowerCase().includes(t.toLowerCase());return l&&u}),[t,n]);return c.jsxs("div",{className:"bg-white",children:[c.jsx(mn,{}),c.jsxs("main",{children:[c.jsx("section",{className:"bg-gradient-to-br from-primary-50 to-coffee-50 px-6 py-16",children:c.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[c.jsx("h1",{className:"font-display text-5xl font-bold text-coffee-900 md:text-6xl",children:"Frequently Asked Questions"}),c.jsx("p",{className:"mt-4 text-xl text-gray-700",children:"Everything you need to know about Rush Coffee"}),c.jsxs("div",{className:"relative mx-auto mt-8 max-w-2xl",children:[c.jsx(ch,{className:"absolute left-6 top-1/2 h-6 w-6 -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"search",placeholder:"Search for answers...",value:t,onChange:o=>e(o.target.value),className:"w-full rounded-full border border-gray-300 bg-white py-4 pl-16 pr-6 text-lg shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500"})]})]})}),c.jsx("div",{className:"sticky top-20 z-30 border-b border-gray-200 bg-white/95 py-3 backdrop-blur-sm",children:c.jsx("div",{className:"container mx-auto flex max-w-7xl gap-2 overflow-x-auto px-6 pb-2",children:Lwe.map(o=>c.jsx("button",{onClick:()=>r(o),className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition-colors ${n===o?"bg-primary-600 text-white shadow":"border border-gray-300 bg-white text-gray-700 hover:bg-gray-100"}`,children:o},o))})}),c.jsx("section",{className:"px-6 py-16",children:c.jsx("div",{className:"container mx-auto max-w-4xl",children:s.length>0?c.jsxs("div",{children:[c.jsxs("p",{className:"mb-4 text-sm text-gray-500",children:[s.length," question(s) found"]}),s.map((o,l)=>c.jsx(Vwe,{question:o.question,answer:o.answer,isOpen:i===l,onClick:()=>a(i===l?null:l),highlight:t},`${o.category}-${l}`))]}):c.jsxs("div",{className:"py-20 text-center",children:[c.jsx(ch,{className:"mx-auto h-16 w-16 text-gray-300"}),c.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-800",children:"No Results Found"}),c.jsxs("p",{className:"mt-2 text-gray-500",children:[`We couldn't find any answers for "`,t,'". Try a different search term or category.']})]})})}),c.jsx("section",{className:"bg-gray-50 px-6 py-20",children:c.jsx("div",{className:"container mx-auto max-w-4xl",children:c.jsxs(pe,{className:"text-center",children:[c.jsx(hne,{className:"mx-auto h-12 w-12 text-primary-600"}),c.jsx("h2",{className:"mt-4 font-display text-3xl font-bold text-coffee-900",children:"Still have questions?"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"If you can't find the answer you're looking for, please get in touch with our support team."}),c.jsx("div",{className:"mt-6 flex flex-col items-center justify-center gap-4 sm:flex-row",children:c.jsx(Be,{to:"/contact",children:c.jsxs(ke,{size:"lg",children:[c.jsx(hre,{className:"mr-2 h-5 w-5"}),"Contact Support"]})})})]})})})]}),c.jsx(pn,{})]})},Uwe=()=>{const{notification:t,hideNotification:e}=Jq(),n={success:c.jsx(bw,{className:"h-6 w-6 text-green-500"}),info:c.jsx(vx,{className:"h-6 w-6 text-blue-500"}),warning:c.jsx(Zc,{className:"h-6 w-6 text-amber-500"}),error:c.jsx(gx,{className:"h-6 w-6 text-red-500"})},r={success:"bg-white border-green-100",info:"bg-white border-blue-100",warning:"bg-white border-amber-100",error:"bg-white border-red-100"};return c.jsx(cl,{children:t.isVisible&&c.jsxs(Wn.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{type:"spring",stiffness:300,damping:30},className:`fixed top-6 left-0 right-0 z-[100] mx-auto flex w-[90%] max-w-md items-center gap-3 rounded-xl border p-4 shadow-xl ${r[t.type]}`,children:[c.jsx("div",{className:"flex-shrink-0",children:n[t.type]}),c.jsx("div",{className:"flex-1",children:c.jsx("p",{className:"font-medium text-gray-900",children:t.message})}),c.jsx("button",{onClick:e,className:"flex-shrink-0 rounded-full p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-500",children:c.jsx(Xi,{className:"h-4 w-4"})})]})})},Bwe={Pearls:10,Pudding:15,"Grass Jelly":15},Fwe=({cartItems:t,isOpen:e,onClose:n,onUpdateQuantity:r,onRemoveItem:i,onCheckout:a,selectedItemIds:s,onToggleItemSelection:o,onSelectAll:l,onDeselectAll:u})=>{const d=Qi(),h=t.reduce((w,_)=>w+_.quantity,0),f=t.length>0&&s.length===t.length,m=s.length>0&&s.length<t.length,y=w=>w?w.reduce((_,S)=>_+(Bwe[S]||0),0):0,v=t.filter(w=>s.includes(w.id)).reduce((w,_)=>{var A;const S=y((A=_.customizations)==null?void 0:A.toppings);return w+(_.selectedSize.price+S)*_.quantity},0),x=()=>{n(),d("/menu")},b=()=>{f?u():l()};return c.jsxs(c.Fragment,{children:[c.jsx("div",{onClick:n,className:`fixed inset-0 z-40 bg-black/50 transition-opacity duration-300 ${e?"opacity-100":"opacity-0 pointer-events-none"}`,"aria-hidden":"true"}),c.jsx("aside",{className:`fixed top-0 right-0 z-50 h-full w-full transform bg-white shadow-2xl transition-transform duration-300 ease-in-out sm:w-96 md:w-[450px] ${e?"translate-x-0":"translate-x-full"}`,role:"dialog","aria-modal":"true","aria-labelledby":"cart-heading",children:c.jsxs("div",{className:"flex h-full flex-col",children:[c.jsxs("header",{className:"flex items-center justify-between border-b border-gray-200 p-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("h2",{id:"cart-heading",className:"font-display text-xl font-bold text-coffee-900",children:"Your Order"}),h>0&&c.jsxs(cr,{children:[h," ",h===1?"item":"items"]})]}),c.jsx("button",{onClick:n,className:"rounded-md p-2 text-gray-500 transition-colors hover:bg-gray-100 hover:text-gray-800","aria-label":"Close cart",children:c.jsx(Xi,{className:"h-6 w-6"})})]}),t.length>0&&c.jsx("div",{className:"border-b border-gray-200 px-6 py-3 bg-gray-50/50 backdrop-blur-sm sticky top-0 z-10",children:c.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group select-none",children:[c.jsxs("div",{className:"relative flex items-center justify-center h-5 w-5",children:[c.jsx("input",{type:"checkbox",checked:f,onChange:b,className:"peer h-5 w-5 cursor-pointer appearance-none rounded-md border-2 border-gray-300 bg-white transition-all checked:border-primary-600 checked:bg-primary-600 hover:border-primary-500 focus:ring-2 focus:ring-primary-500/20"}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-0 peer-checked:opacity-100 transition-opacity duration-200",children:m&&!f?c.jsx(bx,{className:"h-3.5 w-3.5 text-white",strokeWidth:3}):c.jsx(Ua,{className:"h-3.5 w-3.5 text-white",strokeWidth:3})})]}),c.jsx("span",{className:"text-sm font-semibold text-gray-700 group-hover:text-primary-700 transition-colors",children:f?"Deselect All":"Select All"}),s.length>0&&c.jsxs("span",{className:"ml-auto text-xs font-medium text-primary-600 bg-primary-50 px-2 py-1 rounded-full",children:[s.length," selected"]})]})}),t.length===0?c.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-4 p-6 text-center",children:[c.jsx(Ln,{className:"h-24 w-24 text-gray-300 opacity-50"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Your cart is empty"}),c.jsx("p",{className:"text-gray-500",children:"Looks like you haven't added anything yet."}),c.jsx("button",{onClick:x,className:"mt-4 rounded-full bg-primary-600 px-6 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-700",children:"Start Ordering"})]}):c.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:c.jsx("ul",{className:"-my-4 divide-y divide-gray-200",children:t.map(w=>{var I;const _=w.selectedSize.name==="Combo Meal",S=_?`${w.product.name} (${w.selectedSize.name})`:w.product.name,A=_&&w.product.comboImageUrl?w.product.comboImageUrl:w.product.imageUrl,C=y((I=w.customizations)==null?void 0:I.toppings),N=w.selectedSize.price+C,T=s.includes(w.id);return c.jsxs("li",{className:`relative flex items-start gap-3 py-4 transition-colors ${T?"bg-primary-50/30":""}`,children:[c.jsxs("div",{className:"pt-1 relative flex items-center justify-center h-5 w-5",children:[c.jsx("input",{type:"checkbox",checked:T,onChange:()=>o(w.id),className:"peer h-5 w-5 cursor-pointer appearance-none rounded-md border-2 border-gray-300 bg-white transition-all checked:border-primary-600 checked:bg-primary-600 hover:border-primary-500 focus:ring-2 focus:ring-primary-500/20"}),c.jsx(Ua,{className:"absolute h-3.5 w-3.5 text-white opacity-0 peer-checked:opacity-100 transition-opacity duration-200 pointer-events-none",strokeWidth:3})]}),c.jsx("div",{className:"h-16 w-16 flex-shrink-0 overflow-hidden rounded-md border border-gray-200",children:c.jsx("img",{src:A,alt:S,className:"h-full w-full object-cover object-center"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h4",{className:"font-semibold text-gray-800 truncate",children:S}),c.jsxs("p",{className:"text-sm text-gray-500",children:[w.selectedSize.size," - ",N.toFixed(2)]}),w.customizations&&c.jsxs("div",{className:"mt-1 text-xs text-gray-500 space-y-0.5",children:[w.customizations.sugarLevel&&c.jsxs("p",{children:["Sugar: ",w.customizations.sugarLevel]}),w.customizations.iceLevel&&c.jsxs("p",{children:["Ice: ",w.customizations.iceLevel]}),w.customizations.toppings&&w.customizations.toppings.length>0&&c.jsxs("p",{children:["Toppings: ",w.customizations.toppings.join(", ")]})]}),c.jsxs("div",{className:"mt-2 flex items-center",children:[c.jsx("button",{onClick:()=>r(w.id,w.quantity-1),disabled:w.quantity===1,className:"flex h-8 w-8 items-center justify-center rounded-full border border-gray-300 text-gray-600 transition hover:bg-gray-100 disabled:cursor-not-allowed disabled:opacity-50","aria-label":`Decrease quantity of ${S}`,children:c.jsx(bx,{className:"h-4 w-4"})}),c.jsx("span",{className:"w-12 text-center font-semibold text-gray-800","aria-live":"polite",children:w.quantity}),c.jsx("button",{onClick:()=>r(w.id,w.quantity+1),className:"flex h-8 w-8 items-center justify-center rounded-full border border-gray-300 text-gray-600 transition hover:bg-gray-100","aria-label":`Increase quantity of ${S}`,children:c.jsx(rf,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{className:"flex flex-col items-end gap-1",children:[c.jsxs("p",{className:"font-semibold text-gray-900",children:["",(N*w.quantity).toFixed(2)]}),c.jsx("button",{onClick:()=>i(w.id),className:"p-1 text-gray-400 transition-colors hover:text-red-600","aria-label":`Remove ${S} from cart`,children:c.jsx(_w,{className:"h-5 w-5"})})]})]},w.id)})})}),t.length>0&&c.jsxs("footer",{className:"mt-auto border-t border-gray-200 p-6",children:[c.jsxs("div",{className:"flex items-center justify-between text-lg font-semibold text-gray-900",children:[c.jsx("span",{children:"Subtotal"}),c.jsxs("span",{children:["",v.toFixed(2)]})]}),s.length<t.length&&c.jsx("p",{className:"mt-1 text-xs text-amber-600",children:s.length===0?"Please select items to checkout":`${t.length-s.length} item(s) not selected`}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Taxes and service fee calculated at checkout."}),c.jsx("div",{className:"mt-6",children:c.jsxs("button",{onClick:a,disabled:s.length===0,className:"flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-6 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-gray-400 disabled:opacity-50",children:["Proceed to Checkout",c.jsx(Xc,{className:"h-5 w-5"})]})})]})]})})]})},$we=()=>{const{pathname:t}=Yi();return g.useEffect(()=>{window.scrollTo(0,0)},[t]),null},qwe=()=>{const{currentUser:t,loading:e}=Yr(),n=Yi();return e?c.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-gray-50",children:c.jsx(Mt,{className:"h-12 w-12 animate-spin text-primary-600"})}):t?t.role!=="admin"?c.jsx(aD,{to:"/",replace:!0}):c.jsx(bU,{}):c.jsx(aD,{to:"/auth/login",state:{from:n},replace:!0})},Hwe={blue:{bg:"bg-blue-100",text:"text-blue-600"},green:{bg:"bg-green-100",text:"text-green-600"},yellow:{bg:"bg-yellow-100",text:"text-yellow-600"},purple:{bg:"bg-purple-100",text:"text-purple-600"}},Wo=({title:t,value:e,Icon:n,isLoading:r,color:i,trend:a})=>{const{bg:s,text:o}=Hwe[i];return c.jsxs(pe,{className:"flex items-start justify-between p-5 border border-gray-100 shadow-sm transition-all hover:shadow-md",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),r?c.jsx("div",{className:"mt-1 h-8 w-24 animate-pulse rounded-md bg-gray-200"}):c.jsx("div",{className:"flex items-baseline gap-2",children:c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e})}),!r&&a&&c.jsxs("div",{className:`flex items-center gap-1 text-xs font-medium ${a.value>=0?"text-green-600":"text-red-600"}`,children:[c.jsxs("span",{children:[a.value>0?"+":"",a.value,"%"]}),c.jsx("span",{className:"text-gray-400 font-normal",children:a.label})]})]}),c.jsx("div",{className:`flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-2xl ${s}`,children:c.jsx(n,{className:`h-6 w-6 ${o}`})})]})},Gwe=(t="today")=>{const[e,n]=g.useState([]),[r,i]=g.useState([]),[a,s]=g.useState([]),[o,l]=g.useState([]),[u,d]=g.useState(!0);return g.useEffect(()=>{(async()=>{d(!0);try{const{startDate:f,endDate:m}=Kwe(t),v=(await de.collection("orders").where("timestamp",">=",f).where("timestamp","<",m).get()).docs.map(_=>({id:_.id,..._.data()})),x=Wwe(v,t);n(x);const b=Ywe(v);i(b);const w=Qwe(v);if(s(w),t==="today"||t==="week"){const _=Xwe(v);l(_)}}catch(f){console.error("Error fetching sales data:",f)}finally{d(!1)}})()},[t]),{salesData:e,topProducts:r,categorySales:a,peakHours:o,isLoading:u}};function Kwe(t){const e=new Date;let n,r=new Date(e);switch(t){case"today":n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1);break;case"week":n=new Date(e),n.setDate(e.getDate()-7);break;case"month":n=new Date(e),n.setDate(e.getDate()-30);break;case"year":n=new Date(e),n.setFullYear(e.getFullYear()-1);break;default:n=new Date(e.getFullYear(),e.getMonth(),e.getDate())}return{startDate:n,endDate:r}}function Wwe(t,e){const n=new Map;return t.forEach(r=>{var o;const i=(o=r.timestamp)!=null&&o.toDate?r.timestamp.toDate():new Date(r.timestamp);let a;switch(e){case"today":a=`${i.getHours()}:00`;break;case"week":a=i.toLocaleDateString("en-US",{month:"short",day:"numeric"});break;case"month":a=i.toLocaleDateString("en-US",{month:"short",day:"numeric"});break;case"year":a=i.toLocaleDateString("en-US",{month:"short",year:"numeric"});break;default:a=i.toLocaleDateString()}const s=n.get(a)||{revenue:0,orders:0};n.set(a,{revenue:s.revenue+(r.totalAmount||0),orders:s.orders+1})}),Array.from(n.entries()).map(([r,i])=>({date:r,revenue:i.revenue,orders:i.orders,averageOrderValue:i.orders>0?i.revenue/i.orders:0})).sort((r,i)=>e==="today"?parseInt(r.date)-parseInt(i.date):0)}function Ywe(t){const e=new Map;return t.forEach(n=>{var r;(r=n.orderItems)==null||r.forEach(i=>{const a=e.get(i.productId)||{name:i.productName,quantity:0,revenue:0};e.set(i.productId,{name:i.productName,quantity:a.quantity+i.quantity,revenue:a.revenue+i.price*i.quantity})})}),Array.from(e.entries()).map(([n,r])=>({productId:n,productName:r.name,quantity:r.quantity,revenue:r.revenue})).sort((n,r)=>r.revenue-n.revenue).slice(0,10)}function Qwe(t){const e=new Map;return t.forEach(n=>{var r;(r=n.orderItems)==null||r.forEach(i=>{const a=Zwe(i.productName),s=e.get(a)||{revenue:0,orders:new Set};e.set(a,{revenue:s.revenue+i.price*i.quantity,orders:s.orders.add(n.id)})})}),Array.from(e.entries()).map(([n,r])=>({category:n,revenue:r.revenue,orders:r.orders.size})).sort((n,r)=>r.revenue-n.revenue)}function Xwe(t){const e=new Map;for(let n=0;n<24;n++)e.set(n,{orders:0,revenue:0});return t.forEach(n=>{var s;const i=((s=n.timestamp)!=null&&s.toDate?n.timestamp.toDate():new Date(n.timestamp)).getHours(),a=e.get(i)||{orders:0,revenue:0};e.set(i,{orders:a.orders+1,revenue:a.revenue+(n.totalAmount||0)})}),Array.from(e.entries()).map(([n,r])=>({hour:n,orders:r.orders,revenue:r.revenue})).filter(n=>n.orders>0)}function Zwe(t){const e=t.toLowerCase();return e.includes("latte")||e.includes("espresso")||e.includes("cappuccino")||e.includes("mocha")?"Coffee Based":e.includes("matcha")?"Matcha Series":e.includes("chocolate")||e.includes("milk")?"Non-Coffee Based":e.includes("tea")||e.includes("lemon")||e.includes("soda")?"Refreshments":e.includes("waffle")||e.includes("pasta")||e.includes("sandwich")?"Meals":"Other"}function cH(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=cH(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function De(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=cH(t))&&(r&&(r+=" "),r+=e);return r}var Jwe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function TC(t){if(typeof t!="string")return!1;var e=Jwe;return e.includes(t)}var e1e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function uH(t){if(typeof t!="string")return!1;var e=e1e;return e.includes(t)}function dH(t){return typeof t=="string"&&t.startsWith("data-")}function Or(t){var e=Object.entries(t).filter(n=>{var[r]=n;return uH(r)||dH(r)});return Object.fromEntries(e)}function hu(t){if(t==null)return null;if(g.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Or(e)}return typeof t=="object"&&!Array.isArray(t)?Or(t):null}function yr(t){var e=Object.entries(t).filter(n=>{var[r]=n;return uH(r)||dH(r)||TC(r)});return Object.fromEntries(e)}function t1e(t){return t==null?null:g.isValidElement(t)?yr(t.props):typeof t=="object"&&!Array.isArray(t)?yr(t):null}var n1e=["children","width","height","viewBox","className","style","title","desc"];function UA(){return UA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UA.apply(null,arguments)}function r1e(t,e){if(t==null)return{};var n,r,i=i1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function i1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var AC=g.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:u}=t,d=r1e(t,n1e),h=a||{width:r,height:i,x:0,y:0},f=De("recharts-surface",s);return g.createElement("svg",UA({},yr(d),{className:f,width:r,height:i,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),g.createElement("title",null,l),g.createElement("desc",null,u),n)}),a1e=["children","className"];function BA(){return BA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BA.apply(null,arguments)}function s1e(t,e){if(t==null)return{};var n,r,i=o1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function o1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Gt=g.forwardRef((t,e)=>{var{children:n,className:r}=t,i=s1e(t,a1e),a=De("recharts-layer",r);return g.createElement("g",BA({className:a},yr(i),{ref:e}),n)}),hH=g.createContext(null),l1e=()=>g.useContext(hH);function lt(t){return function(){return t}}const fH=Math.cos,ab=Math.sin,ma=Math.sqrt,sb=Math.PI,x1=2*sb,FA=Math.PI,$A=2*FA,mc=1e-6,c1e=$A-mc;function mH(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function u1e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return mH;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class d1e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?mH:u1e(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,u=i-n,d=s-e,h=o-n,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>mc)if(!(Math.abs(h*l-u*d)>mc)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-s,y=i-o,v=l*l+u*u,x=m*m+y*y,b=Math.sqrt(v),w=Math.sqrt(f),_=a*Math.tan((FA-Math.acos((v+f-x)/(2*b*w)))/2),S=_/w,A=_/b;Math.abs(S-1)>mc&&this._append`L${e+S*d},${n+S*h}`,this._append`A${a},${a},0,0,${+(h*m>d*y)},${this._x1=e+A*l},${this._y1=n+A*u}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=e+o,d=n+l,h=1^s,f=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>mc||Math.abs(this._y1-d)>mc)&&this._append`L${u},${d}`,r&&(f<0&&(f=f%$A+$A),f>c1e?this._append`A${r},${r},0,1,${h},${e-o},${n-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=d}`:f>mc&&this._append`A${r},${r},0,${+(f>=FA)},${h},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function NC(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new d1e(e)}function IC(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function pH(t){this._context=t}pH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function b1(t){return new pH(t)}function gH(t){return t[0]}function yH(t){return t[1]}function vH(t,e){var n=lt(!0),r=null,i=b1,a=null,s=NC(o);t=typeof t=="function"?t:t===void 0?gH:lt(t),e=typeof e=="function"?e:e===void 0?yH:lt(e);function o(l){var u,d=(l=IC(l)).length,h,f=!1,m;for(r==null&&(a=i(m=s())),u=0;u<=d;++u)!(u<d&&n(h=l[u],u,l))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(h,u,l),+e(h,u,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:lt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:lt(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:lt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function L0(t,e,n){var r=null,i=lt(!0),a=null,s=b1,o=null,l=NC(u);t=typeof t=="function"?t:t===void 0?gH:lt(+t),e=typeof e=="function"?e:lt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?yH:lt(+n);function u(h){var f,m,y,v=(h=IC(h)).length,x,b=!1,w,_=new Array(v),S=new Array(v);for(a==null&&(o=s(w=l())),f=0;f<=v;++f){if(!(f<v&&i(x=h[f],f,h))===b)if(b=!b)m=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),y=f-1;y>=m;--y)o.point(_[y],S[y]);o.lineEnd(),o.areaEnd()}b&&(_[f]=+t(x,f,h),S[f]=+e(x,f,h),o.point(r?+r(x,f,h):_[f],n?+n(x,f,h):S[f]))}if(w)return o=null,w+""||null}function d(){return vH().defined(i).curve(s).context(a)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:lt(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:lt(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:lt(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:lt(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:lt(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:lt(+h),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:lt(!!h),u):i},u.curve=function(h){return arguments.length?(s=h,a!=null&&(o=s(a)),u):s},u.context=function(h){return arguments.length?(h==null?a=o=null:o=s(a=h),u):a},u}class xH{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function h1e(t){return new xH(t,!0)}function f1e(t){return new xH(t,!1)}const jC={draw(t,e){const n=ma(e/sb);t.moveTo(n,0),t.arc(0,0,n,0,x1)}},m1e={draw(t,e){const n=ma(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},bH=ma(1/3),p1e=bH*2,g1e={draw(t,e){const n=ma(e/p1e),r=n*bH;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},y1e={draw(t,e){const n=ma(e),r=-n/2;t.rect(r,r,n,n)}},v1e=.8908130915292852,wH=ab(sb/10)/ab(7*sb/10),x1e=ab(x1/10)*wH,b1e=-fH(x1/10)*wH,w1e={draw(t,e){const n=ma(e*v1e),r=x1e*n,i=b1e*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=x1*a/5,o=fH(s),l=ab(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},uS=ma(3),_1e={draw(t,e){const n=-ma(e/(uS*3));t.moveTo(0,n*2),t.lineTo(-uS*n,-n),t.lineTo(uS*n,-n),t.closePath()}},Si=-.5,Ti=ma(3)/2,qA=1/ma(12),E1e=(qA/2+1)*3,S1e={draw(t,e){const n=ma(e/E1e),r=n/2,i=n*qA,a=r,s=n*qA+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(Si*r-Ti*i,Ti*r+Si*i),t.lineTo(Si*a-Ti*s,Ti*a+Si*s),t.lineTo(Si*o-Ti*l,Ti*o+Si*l),t.lineTo(Si*r+Ti*i,Si*i-Ti*r),t.lineTo(Si*a+Ti*s,Si*s-Ti*a),t.lineTo(Si*o+Ti*l,Si*l-Ti*o),t.closePath()}};function T1e(t,e){let n=null,r=NC(i);t=typeof t=="function"?t:lt(t||jC),e=typeof e=="function"?e:lt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:lt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:lt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function ob(){}function lb(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function _H(t){this._context=t}_H.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function A1e(t){return new _H(t)}function EH(t){this._context=t}EH.prototype={areaStart:ob,areaEnd:ob,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:lb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function N1e(t){return new EH(t)}function SH(t){this._context=t}SH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:lb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function I1e(t){return new SH(t)}function TH(t){this._context=t}TH.prototype={areaStart:ob,areaEnd:ob,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function j1e(t){return new TH(t)}function l6(t){return t<0?-1:1}function c6(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(l6(a)+l6(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function u6(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function dS(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function cb(t){this._context=t}cb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dS(this,this._t0,u6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,dS(this,u6(this,n=c6(this,t,e)),n);break;default:dS(this,this._t0,n=c6(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function AH(t){this._context=new NH(t)}(AH.prototype=Object.create(cb.prototype)).point=function(t,e){cb.prototype.point.call(this,e,t)};function NH(t){this._context=t}NH.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function C1e(t){return new cb(t)}function P1e(t){return new AH(t)}function IH(t){this._context=t}IH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=d6(t),i=d6(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function d6(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function k1e(t){return new IH(t)}function w1(t,e){this._context=t,this._t=e}w1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function O1e(t){return new w1(t,.5)}function R1e(t){return new w1(t,0)}function D1e(t){return new w1(t,1)}function Mh(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function HA(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function M1e(t,e){return t[e]}function L1e(t){const e=[];return e.key=t,e}function V1e(){var t=lt([]),e=HA,n=Mh,r=M1e;function i(a){var s=Array.from(t.apply(this,arguments),L1e),o,l=s.length,u=-1,d;for(const h of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+r(h,s[o].key,u,a)]).data=h;for(o=0,d=IC(e(s));o<l;++o)s[d[o]].index=o;return n(s,d),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:lt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:lt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?HA:typeof a=="function"?a:lt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Mh,i):n},i}function z1e(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Mh(t,e)}}function U1e(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Mh(t,e)}}function B1e(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,u=0;o<s;++o){for(var d=t[e[o]],h=d[r][1]||0,f=d[r-1][1]||0,m=(h-f)/2,y=0;y<o;++y){var v=t[e[y]],x=v[r][1]||0,b=v[r-1][1]||0;m+=x-b}l+=h,u+=m*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Mh(t,e)}}var _1={},jH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(jH);var CC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(CC);var E1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(E1);var S1={},CH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(CH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CH,n=E1;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",u="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const h=i[o];u?h==="\\"&&o+1<s?(o++,l+=i[o]):h===u?u="":l+=h:d?h==='"'||h==="'"?u=h:h==="]"?(d=!1,a.push(l),l=""):l+=h:h==="["?(d=!0,l&&(a.push(l),l="")):h==="."?l&&(a.push(l),l=""):l+=h,o++}return l&&a.push(l),a}t.toPath=r})(S1);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jH,n=CC,r=E1,i=S1;function a(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?n.isDeepKey(l)?a(o,i.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=o[l];return d===void 0?u:d}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?u:d}}}function s(o,l,u){if(l.length===0)return u;let d=o;for(let h=0;h<l.length;h++){if(d==null||e.isUnsafeProperty(l[h]))return u;d=d[l[h]]}return d===void 0?u:d}t.get=a})(_1);var F1e=_1.get;const fu=Qa(F1e);var Vn=t=>t===0?0:t>0?1:-1,Gi=t=>typeof t=="number"&&t!=+t,qs=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ie=t=>(typeof t=="number"||t instanceof Number)&&!Gi(t),Ha=t=>ie(t)||typeof t=="string",$1e=0,vg=t=>{var e=++$1e;return"".concat(t||"").concat(e)},pr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(e)&&typeof e!="string")return r;var a;if(qs(e)){if(n==null)return r;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Gi(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},PH=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Fe(t,e,n){return ie(t)&&ie(e)?t+n*(e-t):e}function kH(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):fu(r,e))===n)}var _t=t=>t===null||typeof t>"u",Ty=t=>_t(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function q1e(t){return t!=null}function Ru(){}var H1e=["type","size","sizeType"];function GA(){return GA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GA.apply(null,arguments)}function h6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function f6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h6(Object(n),!0).forEach(function(r){G1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G1e(t,e,n){return(e=K1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K1e(t){var e=W1e(t,"string");return typeof e=="symbol"?e:e+""}function W1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y1e(t,e){if(t==null)return{};var n,r,i=Q1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Q1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var OH={symbolCircle:jC,symbolCross:m1e,symbolDiamond:g1e,symbolSquare:y1e,symbolStar:w1e,symbolTriangle:_1e,symbolWye:S1e},X1e=Math.PI/180,Z1e=t=>{var e="symbol".concat(Ty(t));return OH[e]||jC},J1e=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*X1e;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},e_e=(t,e)=>{OH["symbol".concat(Ty(t))]=e},PC=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Y1e(t,H1e),a=f6(f6({},i),{},{type:e,size:n,sizeType:r}),s="circle";typeof e=="string"&&(s=e);var o=()=>{var f=Z1e(s),m=T1e().type(f).size(J1e(n,r,s)),y=m();if(y!==null)return y},{className:l,cx:u,cy:d}=a,h=yr(a);return ie(u)&&ie(d)&&ie(n)?g.createElement("path",GA({},h,{className:De("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};PC.registerSymbol=e_e;var RH=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,kC=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(g.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{TC(i)&&(r[i]=a=>n[i](n,a))}),r},t_e=(t,e,n)=>r=>(t(e,n,r),null),Ay=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];TC(i)&&typeof a=="function"&&(r||(r={}),r[i]=t_e(a,e,n))}),r};function m6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n_e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m6(Object(n),!0).forEach(function(r){r_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r_e(t,e,n){return(e=i_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i_e(t){var e=a_e(t,"string");return typeof e=="symbol"?e:e+""}function a_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yt(t,e){var n=n_e({},t),r=e,i=Object.keys(e),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}function ub(){return ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ub.apply(null,arguments)}function p6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s_e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p6(Object(n),!0).forEach(function(r){o_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o_e(t,e,n){return(e=l_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l_e(t){var e=c_e(t,"string");return typeof e=="symbol"?e:e+""}function c_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ji=32,u_e={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function d_e(t){var{data:e,iconType:n,inactiveColor:r}=t,i=ji/2,a=ji/6,s=ji/3,o=e.inactive?r:e.color,l=n??e.type;if(l==="none")return null;if(l==="plainline"){var u;return g.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=e.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:ji,y2:i,className:"recharts-legend-icon"})}if(l==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(ji,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return g.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(ji/8,"h").concat(ji,"v").concat(ji*3/4,"h").concat(-ji,"z"),className:"recharts-legend-icon"});if(g.isValidElement(e.legendIcon)){var d=s_e({},e);return delete d.legendIcon,g.cloneElement(e.legendIcon,d)}return g.createElement(PC,{fill:o,cx:i,cy:i,size:ji,sizeType:"diameter",type:l})}function h_e(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=t,o={x:0,y:0,width:ji,height:ji},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,h)=>{var f=d.formatter||i,m=De({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:d.inactive});if(d.type==="none")return null;var y=d.inactive?a:d.color,v=f?f(d.value,d,h):d.value;return g.createElement("li",ub({className:m,style:l,key:"legend-item-".concat(h)},Ay(t,d,h)),g.createElement(AC,{width:n,height:n,viewBox:o,style:u,"aria-label":"".concat(v," legend icon")},g.createElement(d_e,{data:d,iconType:s,inactiveColor:a})),g.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},v))})}var f_e=t=>{var e=Yt(t,u_e),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:a},g.createElement(h_e,ub({},e,{payload:n})))},DH={},MH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}t.uniqBy=e})(MH);var OC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(OC);var LH={},T1={},VH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(VH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VH;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(T1);var zH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(zH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=T1,n=zH;function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(LH);var UH={},BH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_1;function n(r){return function(i){return e.get(i,r)}}t.property=n})(BH);var FH={},RC={},$H={},DC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(DC);var MC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(MC);var LC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(LC);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DC,n=MC,r=LC;function i(d,h,f){return typeof f!="function"?i(d,h,()=>{}):a(d,h,function m(y,v,x,b,w,_){const S=f(y,v,x,b,w,_);return S!==void 0?!!S:a(y,v,m,_)},new Map)}function a(d,h,f,m){if(h===d)return!0;switch(typeof h){case"object":return s(d,h,f,m);case"function":return Object.keys(h).length>0?a(d,{...h},f,m):r.eq(d,h);default:return e.isObject(d)?typeof h=="string"?h==="":!0:r.eq(d,h)}}function s(d,h,f,m){if(h==null)return!0;if(Array.isArray(h))return l(d,h,f,m);if(h instanceof Map)return o(d,h,f,m);if(h instanceof Set)return u(d,h,f,m);const y=Object.keys(h);if(d==null)return y.length===0;if(y.length===0)return!0;if(m!=null&&m.has(h))return m.get(h)===d;m==null||m.set(h,d);try{for(let v=0;v<y.length;v++){const x=y[v];if(!n.isPrimitive(d)&&!(x in d)||h[x]===void 0&&d[x]!==void 0||h[x]===null&&d[x]!==null||!f(d[x],h[x],x,d,h,m))return!1}return!0}finally{m==null||m.delete(h)}}function o(d,h,f,m){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[y,v]of h.entries()){const x=d.get(y);if(f(x,v,y,d,h,m)===!1)return!1}return!0}function l(d,h,f,m){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const y=new Set;for(let v=0;v<h.length;v++){const x=h[v];let b=!1;for(let w=0;w<d.length;w++){if(y.has(w))continue;const _=d[w];let S=!1;if(f(_,x,v,d,h,m)&&(S=!0),S){y.add(w),b=!0;break}}if(!b)return!1}return!0}function u(d,h,f,m){return h.size===0?!0:d instanceof Set?l([...d],[...h],f,m):!1}t.isMatchWith=i,t.isSetMatch=u})($H);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$H;function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(RC);var qH={},VC={},HH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(HH);var zC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(zC);var UC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",h="[object Function]",f="[object ArrayBuffer]",m="[object Object]",y="[object Error]",v="[object DataView]",x="[object Uint8Array]",b="[object Uint8ClampedArray]",w="[object Uint16Array]",_="[object Uint32Array]",S="[object BigUint64Array]",A="[object Int8Array]",C="[object Int16Array]",N="[object Int32Array]",T="[object BigInt64Array]",I="[object Float32Array]",P="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=f,t.arrayTag=d,t.bigInt64ArrayTag=T,t.bigUint64ArrayTag=S,t.booleanTag=i,t.dataViewTag=v,t.dateTag=o,t.errorTag=y,t.float32ArrayTag=I,t.float64ArrayTag=P,t.functionTag=h,t.int16ArrayTag=C,t.int32ArrayTag=N,t.int8ArrayTag=A,t.mapTag=l,t.numberTag=r,t.objectTag=m,t.regexpTag=e,t.setTag=u,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=w,t.uint32ArrayTag=_,t.uint8ArrayTag=x,t.uint8ClampedArrayTag=b})(UC);var GH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(GH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HH,n=zC,r=UC,i=MC,a=GH;function s(d,h){return o(d,void 0,d,new Map,h)}function o(d,h,f,m=new Map,y=void 0){const v=y==null?void 0:y(d,h,f,m);if(v!==void 0)return v;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const x=new Array(d.length);m.set(d,x);for(let b=0;b<d.length;b++)x[b]=o(d[b],b,f,m,y);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;m.set(d,x);for(const[b,w]of d)x.set(b,o(w,b,f,m,y));return x}if(d instanceof Set){const x=new Set;m.set(d,x);for(const b of d)x.add(o(b,void 0,f,m,y));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,x);for(let b=0;b<d.length;b++)x[b]=o(d[b],b,f,m,y);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,x),l(x,d,f,m,y),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return m.set(d,x),l(x,d,f,m,y),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return m.set(d,x),l(x,d,f,m,y),x}if(d instanceof Error){const x=new d.constructor;return m.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,l(x,d,f,m,y),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return m.set(d,x),l(x,d,f,m,y),x}if(d instanceof Number){const x=new Number(d.valueOf());return m.set(d,x),l(x,d,f,m,y),x}if(d instanceof String){const x=new String(d.valueOf());return m.set(d,x),l(x,d,f,m,y),x}if(typeof d=="object"&&u(d)){const x=Object.create(Object.getPrototypeOf(d));return m.set(d,x),l(x,d,f,m,y),x}return d}function l(d,h,f=d,m,y){const v=[...Object.keys(h),...e.getSymbols(h)];for(let x=0;x<v.length;x++){const b=v[x],w=Object.getOwnPropertyDescriptor(d,b);(w==null||w.writable)&&(d[b]=o(h[b],b,f,m,y))}}function u(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=o,t.copyProperties=l})(VC);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VC;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(qH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RC,n=qH;function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(FH);var KH={},WH={},YH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VC,n=UC;function r(i,a){return e.cloneDeepWith(i,(s,o,l,u)=>{const d=a==null?void 0:a(s,o,l,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(h,i),h}case n.argumentsTag:{const h={};return e.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}t.cloneDeepWith=r})(YH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YH;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(WH);var QH={},BC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(BC);var XH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zC;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(XH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CC,n=BC,r=XH,i=S1;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=s;for(let d=0;d<l.length;d++){const h=l[d];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}t.has=a})(QH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RC,n=E1,r=WH,i=_1,a=QH;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(u){const d=i.get(u,o);return d===void 0?a.has(u,o):l===void 0?d===void 0:e.isMatch(d,l)}}t.matchesProperty=s})(KH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OC,n=BH,r=FH,i=KH;function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=a})(UH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MH,n=OC,r=LH,i=UH;function a(s,o=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(o)):[]}t.uniqBy=a})(DH);var m_e=DH.uniqBy;const g6=Qa(m_e);function ZH(t,e,n){return e===!0?g6(t,n):typeof e=="function"?g6(t,e):t}var JH={exports:{}},eG={},tG={exports:{}},nG={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lh=g;function p_e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var g_e=typeof Object.is=="function"?Object.is:p_e,y_e=Lh.useState,v_e=Lh.useEffect,x_e=Lh.useLayoutEffect,b_e=Lh.useDebugValue;function w_e(t,e){var n=e(),r=y_e({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return x_e(function(){i.value=n,i.getSnapshot=e,hS(i)&&a({inst:i})},[t,n,e]),v_e(function(){return hS(i)&&a({inst:i}),t(function(){hS(i)&&a({inst:i})})},[t]),b_e(n),n}function hS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!g_e(t,n)}catch{return!0}}function __e(t,e){return e()}var E_e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?__e:w_e;nG.useSyncExternalStore=Lh.useSyncExternalStore!==void 0?Lh.useSyncExternalStore:E_e;tG.exports=nG;var S_e=tG.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A1=g,T_e=S_e;function A_e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var N_e=typeof Object.is=="function"?Object.is:A_e,I_e=T_e.useSyncExternalStore,j_e=A1.useRef,C_e=A1.useEffect,P_e=A1.useMemo,k_e=A1.useDebugValue;eG.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var a=j_e(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=P_e(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var y=s.value;if(i(y,m))return h=y}return h=m}if(y=h,N_e(d,m))return y;var v=r(m);return i!==void 0&&i(y,v)?(d=m,y):(d=m,h=v)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var o=I_e(t,a[0],a[1]);return C_e(function(){s.hasValue=!0,s.value=o},[o]),k_e(o),o};JH.exports=eG;var O_e=JH.exports,FC=g.createContext(null),R_e=t=>t,ht=()=>{var t=g.useContext(FC);return t?t.store.dispatch:R_e},Mv=()=>{},D_e=()=>Mv,M_e=(t,e)=>t===e;function se(t){var e=g.useContext(FC);return O_e.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:D_e,e?e.store.getState:Mv,e?e.store.getState:Mv,e?t:Mv,M_e)}function L_e(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function V_e(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function z_e(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var y6=t=>Array.isArray(t)?t:[t];function U_e(t){const e=Array.isArray(t[0])?t[0]:t;return z_e(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function B_e(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var F_e=class{constructor(t){this.value=t}deref(){return this.value}},$_e=typeof WeakRef<"u"?WeakRef:F_e,q_e=0,v6=1;function V0(){return{s:q_e,v:void 0,o:null,p:null}}function rG(t,e={}){let n=V0();const{resultEqualityCheck:r}=e;let i,a=0;function s(){var h;let o=n;const{length:l}=arguments;for(let f=0,m=l;f<m;f++){const y=arguments[f];if(typeof y=="function"||typeof y=="object"&&y!==null){let v=o.o;v===null&&(o.o=v=new WeakMap);const x=v.get(y);x===void 0?(o=V0(),v.set(y,o)):o=x}else{let v=o.p;v===null&&(o.p=v=new Map);const x=v.get(y);x===void 0?(o=V0(),v.set(y,o)):o=x}}const u=o;let d;if(o.s===v6)d=o.v;else if(d=t.apply(null,arguments),a++,r){const f=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;f!=null&&r(f,d)&&(d=f,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new $_e(d):d}return u.s=v6,u.v=d,d}return s.clearCache=()=>{n=V0(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function H_e(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,s=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),L_e(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...l},{memoize:h,memoizeOptions:f=[],argsMemoize:m=rG,argsMemoizeOptions:y=[]}=d,v=y6(f),x=y6(y),b=U_e(i),w=h(function(){return a++,u.apply(null,arguments)},...v),_=m(function(){s++;const A=B_e(b,arguments);return o=w.apply(null,A),o},...x);return Object.assign(_,{resultFunc:u,memoizedResultFunc:w,dependencies:b,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:h,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var U=H_e(rG),G_e=Object.assign((t,e=U)=>{V_e(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>G_e}),iG={},aG={},sG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=e(r),o=e(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};t.compareValues=n})(sG);var oG={},$C={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})($C);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$C,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(oG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sG,n=oG,r=S1;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const u=(m,y)=>{let v=m;for(let x=0;x<y.length&&v!=null;++x)v=v[y[x]];return v},d=(m,y)=>y==null||m==null?y:typeof m=="object"&&"key"in m?Object.hasOwn(y,m.key)?y[m.key]:u(y,m.path):typeof m=="function"?m(y):Array.isArray(m)?u(y,m):typeof y=="object"?y[m]:y,h=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return a.map(m=>({original:m,criteria:h.map(y=>d(y,m))})).slice().sort((m,y)=>{for(let v=0;v<h.length;v++){const x=e.compareValues(m.criteria[v],y.criteria[v],o[v]);if(x!==0)return x}return 0}).map(m=>m.original)}t.orderBy=i})(aG);var lG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&l<a?s(d,l+1):i.push(d)}};return s(n,0),i}t.flatten=e})(lG);var qC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BC,n=T1,r=DC,i=LC;function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],s):!1}t.isIterateeCall=a})(qC);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aG,n=lG,r=qC;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=i})(iG);var K_e=iG.sortBy;const N1=Qa(K_e);var cG=t=>t.legend.settings,W_e=t=>t.legend.size,Y_e=t=>t.legend.payload,Q_e=U([Y_e,cG],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?N1(r,n):r});function X_e(){return se(Q_e)}var z0=1;function uG(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=g.useState({height:0,left:0,top:0,width:0}),r=g.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>z0||Math.abs(s.left-e.left)>z0||Math.abs(s.top-e.top)>z0||Math.abs(s.width-e.width)>z0)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function qn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Z_e=typeof Symbol=="function"&&Symbol.observable||"@@observable",x6=Z_e,fS=()=>Math.random().toString(36).substring(7).split("").join("."),J_e={INIT:`@@redux/INIT${fS()}`,REPLACE:`@@redux/REPLACE${fS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${fS()}`},db=J_e;function HC(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function dG(t,e,n){if(typeof t!="function")throw new Error(qn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(qn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(qn(1));return n(dG)(t,e)}let r=t,i=e,a=new Map,s=a,o=0,l=!1;function u(){s===a&&(s=new Map,a.forEach((x,b)=>{s.set(b,x)}))}function d(){if(l)throw new Error(qn(3));return i}function h(x){if(typeof x!="function")throw new Error(qn(4));if(l)throw new Error(qn(5));let b=!0;u();const w=o++;return s.set(w,x),function(){if(b){if(l)throw new Error(qn(6));b=!1,u(),s.delete(w),a=null}}}function f(x){if(!HC(x))throw new Error(qn(7));if(typeof x.type>"u")throw new Error(qn(8));if(typeof x.type!="string")throw new Error(qn(17));if(l)throw new Error(qn(9));try{l=!0,i=r(i,x)}finally{l=!1}return(a=s).forEach(w=>{w()}),x}function m(x){if(typeof x!="function")throw new Error(qn(10));r=x,f({type:db.REPLACE})}function y(){const x=h;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(qn(11));function w(){const S=b;S.next&&S.next(d())}return w(),{unsubscribe:x(w)}},[x6](){return this}}}return f({type:db.INIT}),{dispatch:f,subscribe:h,getState:d,replaceReducer:m,[x6]:y}}function eEe(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:db.INIT})>"u")throw new Error(qn(12));if(typeof n(void 0,{type:db.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(qn(13))})}function hG(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{eEe(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const u={};for(let d=0;d<r.length;d++){const h=r[d],f=n[h],m=s[h],y=f(m,o);if(typeof y>"u")throw o&&o.type,new Error(qn(14));u[h]=y,l=l||y!==m}return l=l||r.length!==Object.keys(s).length,l?u:s}}function hb(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function tEe(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(qn(15))};const s={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},o=t.map(l=>l(s));return a=hb(...o)(i.dispatch),{...i,dispatch:a}}}function fG(t){return HC(t)&&"type"in t&&typeof t.type=="string"}var mG=Symbol.for("immer-nothing"),b6=Symbol.for("immer-draftable"),_i=Symbol.for("immer-state");function aa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var xg=Object.getPrototypeOf;function mu(t){return!!t&&!!t[_i]}function Hs(t){var e;return t?pG(t)||Array.isArray(t)||!!t[b6]||!!((e=t.constructor)!=null&&e[b6])||Ny(t)||j1(t):!1}var nEe=Object.prototype.constructor.toString(),w6=new WeakMap;function pG(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=w6.get(n);return r===void 0&&(r=Function.toString.call(n),w6.set(n,r)),r===nEe}function fb(t,e,n=!0){I1(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function I1(t){const e=t[_i];return e?e.type_:Array.isArray(t)?1:Ny(t)?2:j1(t)?3:0}function KA(t,e){return I1(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function gG(t,e,n){const r=I1(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function rEe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ny(t){return t instanceof Map}function j1(t){return t instanceof Set}function pc(t){return t.copy_||t.base_}function WA(t,e){if(Ny(t))return new Map(t);if(j1(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=pG(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[_i];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(xg(t),r)}else{const r=xg(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function GC(t,e=!1){return C1(t)||mu(t)||!Hs(t)||(I1(t)>1&&Object.defineProperties(t,{set:U0,add:U0,clear:U0,delete:U0}),Object.freeze(t),e&&Object.values(t).forEach(n=>GC(n,!0))),t}function iEe(){aa(2)}var U0={value:iEe};function C1(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var aEe={};function pu(t){const e=aEe[t];return e||aa(0,t),e}var bg;function yG(){return bg}function sEe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function _6(t,e){e&&(pu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function YA(t){QA(t),t.drafts_.forEach(oEe),t.drafts_=null}function QA(t){t===bg&&(bg=t.parent_)}function E6(t){return bg=sEe(bg,t)}function oEe(t){const e=t[_i];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function S6(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[_i].modified_&&(YA(e),aa(4)),Hs(t)&&(t=mb(e,t),e.parent_||pb(e,t)),e.patches_&&pu("Patches").generateReplacementPatches_(n[_i].base_,t,e.patches_,e.inversePatches_)):t=mb(e,n,[]),YA(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==mG?t:void 0}function mb(t,e,n){if(C1(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[_i];if(!i)return fb(e,(a,s)=>T6(t,i,e,a,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return pb(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),fb(s,(l,u)=>T6(t,i,a,l,u,n,o),r),pb(t,a,!1),n&&t.patches_&&pu("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function T6(t,e,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=C1(i);if(!(o&&!s)){if(mu(i)){const l=a&&e&&e.type_!==3&&!KA(e.assigned_,r)?a.concat(r):void 0,u=mb(t,i,l);if(gG(n,r,u),mu(u))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Hs(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&o)return;mb(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Ny(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&pb(t,i)}}}function pb(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&GC(e,n)}function lEe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:yG(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=KC;n&&(i=[r],a=wg);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var KC={get(t,e){if(e===_i)return t;const n=pc(t);if(!KA(n,e))return cEe(t,n,e);const r=n[e];return t.finalized_||!Hs(r)?r:r===mS(t.base_,e)?(pS(t),t.copy_[e]=ZA(r,t)):r},has(t,e){return e in pc(t)},ownKeys(t){return Reflect.ownKeys(pc(t))},set(t,e,n){const r=vG(pc(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=mS(pc(t),e),a=i==null?void 0:i[_i];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(rEe(n,i)&&(n!==void 0||KA(t.base_,e)))return!0;pS(t),XA(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return mS(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,pS(t),XA(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=pc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){aa(11)},getPrototypeOf(t){return xg(t.base_)},setPrototypeOf(){aa(12)}},wg={};fb(KC,(t,e)=>{wg[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});wg.deleteProperty=function(t,e){return wg.set.call(this,t,e,void 0)};wg.set=function(t,e,n){return KC.set.call(this,t[0],e,n,t[0])};function mS(t,e){const n=t[_i];return(n?pc(n):t)[e]}function cEe(t,e,n){var i;const r=vG(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function vG(t,e){if(!(e in t))return;let n=xg(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=xg(n)}}function XA(t){t.modified_||(t.modified_=!0,t.parent_&&XA(t.parent_))}function pS(t){t.copy_||(t.copy_=WA(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var uEe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(l=a,...u){return s.produce(l,d=>n.call(this,d,...u))}}typeof n!="function"&&aa(6),r!==void 0&&typeof r!="function"&&aa(7);let i;if(Hs(e)){const a=E6(this),s=ZA(e,void 0);let o=!0;try{i=n(s),o=!1}finally{o?YA(a):QA(a)}return _6(a,r),S6(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===mG&&(i=void 0),this.autoFreeze_&&GC(i,!0),r){const a=[],s=[];pu("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else aa(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,l=>e(l,...o));let r,i;return[this.produce(e,n,(s,o)=>{r=s,i=o}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Hs(t)||aa(8),mu(t)&&(t=Ns(t));const e=E6(this),n=ZA(t,void 0);return n[_i].isManual_=!0,QA(e),n}finishDraft(t,e){const n=t&&t[_i];(!n||!n.isManual_)&&aa(9);const{scope_:r}=n;return _6(r,e),S6(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=pu("Patches").applyPatches_;return mu(t)?r(t,e):this.produce(t,i=>r(i,e))}};function ZA(t,e){const n=Ny(t)?pu("MapSet").proxyMap_(t,e):j1(t)?pu("MapSet").proxySet_(t,e):lEe(t,e);return(e?e.scope_:yG()).drafts_.push(n),n}function Ns(t){return mu(t)||aa(10,t),xG(t)}function xG(t){if(!Hs(t)||C1(t))return t;const e=t[_i];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=WA(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=WA(t,!0);return fb(n,(i,a)=>{gG(n,i,xG(a))},r),e&&(e.finalized_=!1),n}var JA=new uEe,bG=JA.produce,dEe=JA.setUseStrictIteration.bind(JA);function wG(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var hEe=wG(),fEe=wG,mEe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?hb:hb.apply(null,arguments)};function Ki(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(gi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>fG(r)&&r.type===t,n}var _G=class Bm extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Bm.prototype)}static get[Symbol.species](){return Bm}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Bm(...e[0].concat(this)):new Bm(...e.concat(this))}};function A6(t){return Hs(t)?bG(t,()=>{}):t}function B0(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function pEe(t){return typeof t=="boolean"}var gEe=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new _G;return n&&(pEe(n)?s.push(hEe):s.push(fEe(n.extraArgument))),s},EG="RTK_autoBatch",bn=()=>t=>({payload:t,meta:{[EG]:!0}}),N6=t=>e=>{setTimeout(e,t)},SG=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:N6(10):t.type==="callback"?t.queueNotification:N6(t.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),f=r.subscribe(h);return o.add(d),()=>{f(),o.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[EG]),a=!i,a&&(s||(s=!0,l(u))),r.dispatch(d)}finally{i=!0}}})},yEe=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new _G(t);return r&&i.push(SG(typeof r=="object"?r:void 0)),i};function vEe(t){const e=gEe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(HC(n))o=hG(n);else throw new Error(gi(1));let l;typeof r=="function"?l=r(e):l=e();let u=hb;i&&(u=mEe({trace:!1,...typeof i=="object"&&i}));const d=tEe(...l),h=yEe(d);let f=typeof s=="function"?s(h):h();const m=u(...f);return dG(o,a,m)}function TG(t){const e={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(gi(28));if(o in e)throw new Error(gi(29));return e[o]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}dEe(!1);function xEe(t){return typeof t=="function"}function bEe(t,e){let[n,r,i]=TG(e),a;if(xEe(t))a=()=>A6(t());else{const o=A6(t);a=()=>o}function s(o=a(),l){let u=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,h)=>{if(h)if(mu(d)){const m=h(d,l);return m===void 0?d:m}else{if(Hs(d))return bG(d,f=>h(f,l));{const f=h(d,l);if(f===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return d},o)}return s.getInitialState=a,s}var wEe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",_Ee=(t=21)=>{let e="",n=t;for(;n--;)e+=wEe[Math.random()*64|0];return e},EEe=Symbol.for("rtk-slice-createasyncthunk");function SEe(t,e){return`${t}/${e}`}function TEe({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[EEe];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(gi(11));const o=(typeof i.reducers=="function"?i.reducers(NEe()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(S,A){const C=typeof S=="string"?S:S.type;if(!C)throw new Error(gi(12));if(C in u.sliceCaseReducersByType)throw new Error(gi(13));return u.sliceCaseReducersByType[C]=A,d},addMatcher(S,A){return u.sliceMatchers.push({matcher:S,reducer:A}),d},exposeAction(S,A){return u.actionCreators[S]=A,d},exposeCaseReducer(S,A){return u.sliceCaseReducersByName[S]=A,d}};l.forEach(S=>{const A=o[S],C={reducerName:S,type:SEe(a,S),createNotation:typeof i.reducers=="function"};jEe(A)?PEe(C,A,d,e):IEe(C,A,d)});function h(){const[S={},A=[],C=void 0]=typeof i.extraReducers=="function"?TG(i.extraReducers):[i.extraReducers],N={...S,...u.sliceCaseReducersByType};return bEe(i.initialState,T=>{for(let I in N)T.addCase(I,N[I]);for(let I of u.sliceMatchers)T.addMatcher(I.matcher,I.reducer);for(let I of A)T.addMatcher(I.matcher,I.reducer);C&&T.addDefaultCase(C)})}const f=S=>S,m=new Map,y=new WeakMap;let v;function x(S,A){return v||(v=h()),v(S,A)}function b(){return v||(v=h()),v.getInitialState()}function w(S,A=!1){function C(T){let I=T[S];return typeof I>"u"&&A&&(I=B0(y,C,b)),I}function N(T=f){const I=B0(m,A,()=>new WeakMap);return B0(I,T,()=>{const P={};for(const[k,R]of Object.entries(i.selectors??{}))P[k]=AEe(R,T,()=>B0(y,T,b),A);return P})}return{reducerPath:S,getSelectors:N,get selectors(){return N(C)},selectSlice:C}}const _={name:a,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...w(s),injectInto(S,{reducerPath:A,...C}={}){const N=A??s;return S.inject({reducerPath:N,reducer:x},C),{..._,...w(N,!0)}}};return _}}function AEe(t,e,n,r){function i(a,...s){let o=e(a);return typeof o>"u"&&r&&(o=n()),t(o,...s)}return i.unwrapped=t,i}var Qr=TEe();function NEe(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function IEe({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!CEe(r))throw new Error(gi(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?Ki(t,s):Ki(t))}function jEe(t){return t._reducerDefinitionType==="asyncThunk"}function CEe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function PEe({type:t,reducerName:e},n,r,i){if(!i)throw new Error(gi(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:u,options:d}=n,h=i(t,a,d);r.exposeAction(e,h),s&&r.addCase(h.fulfilled,s),o&&r.addCase(h.pending,o),l&&r.addCase(h.rejected,l),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(e,{fulfilled:s||F0,pending:o||F0,rejected:l||F0,settled:u||F0})}function F0(){}var kEe="task",AG="listener",NG="completed",WC="cancelled",OEe=`task-${WC}`,REe=`task-${NG}`,eN=`${AG}-${WC}`,DEe=`${AG}-${NG}`,P1=class{constructor(t){z_(this,"name","TaskAbortError");z_(this,"message");this.code=t,this.message=`${kEe} ${WC} (reason: ${t})`}},YC=(t,e)=>{if(typeof t!="function")throw new TypeError(gi(32))},gb=()=>{},IG=(t,e=gb)=>(t.catch(e),t),jG=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Bc=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Fc=t=>{if(t.aborted){const{reason:e}=t;throw new P1(e)}};function CG(t,e){let n=gb;return new Promise((r,i)=>{const a=()=>i(new P1(t.reason));if(t.aborted){a();return}n=jG(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=gb})}var MEe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof P1?"cancelled":"rejected",error:n}}finally{e==null||e()}},yb=t=>e=>IG(CG(t,e).then(n=>(Fc(t),n))),PG=t=>{const e=yb(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Wd}=Object,I6={},k1="listenerMiddleware",LEe=(t,e)=>{const n=r=>jG(t,()=>Bc(r,t.reason));return(r,i)=>{YC(r);const a=new AbortController;n(a);const s=MEe(async()=>{Fc(t),Fc(a.signal);const o=await r({pause:yb(a.signal),delay:PG(a.signal),signal:a.signal});return Fc(a.signal),o},()=>Bc(a,REe));return i!=null&&i.autoJoin&&e.push(s.catch(gb)),{result:yb(t)(s),cancel(){Bc(a,OEe)}}}},VEe=(t,e)=>{const n=async(r,i)=>{Fc(e);let a=()=>{};const o=[new Promise((l,u)=>{let d=t({predicate:r,effect:(h,f)=>{f.unsubscribe(),l([h,f.getState(),f.getOriginalState()])}});a=()=>{d(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await CG(e,Promise.race(o));return Fc(e),l}finally{a()}};return(r,i)=>IG(n(r,i))},kG=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Ki(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(gi(21));return YC(a),{predicate:i,type:e,effect:a}},OG=Wd(t=>{const{type:e,predicate:n,effect:r}=kG(t);return{id:_Ee(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(gi(22))}}},{withTypes:()=>OG}),j6=(t,e)=>{const{type:n,effect:r,predicate:i}=kG(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},tN=t=>{t.pending.forEach(e=>{Bc(e,eN)})},zEe=(t,e)=>()=>{for(const n of e.keys())tN(n);t.clear()},C6=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},RG=Wd(Ki(`${k1}/add`),{withTypes:()=>RG}),UEe=Ki(`${k1}/removeAll`),DG=Wd(Ki(`${k1}/remove`),{withTypes:()=>DG}),BEe=(...t)=>{console.error(`${k1}/error`,...t)},Iy=(t={})=>{const e=new Map,n=new Map,r=m=>{const y=n.get(m)??0;n.set(m,y+1)},i=m=>{const y=n.get(m)??1;y===1?n.delete(m):n.set(m,y-1)},{extra:a,onError:s=BEe}=t;YC(s);const o=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),y=>{m.unsubscribe(),y!=null&&y.cancelActive&&tN(m)}),l=m=>{const y=j6(e,m)??OG(m);return o(y)};Wd(l,{withTypes:()=>l});const u=m=>{const y=j6(e,m);return y&&(y.unsubscribe(),m.cancelActive&&tN(y)),!!y};Wd(u,{withTypes:()=>u});const d=async(m,y,v,x)=>{const b=new AbortController,w=VEe(l,b.signal),_=[];try{m.pending.add(b),r(m),await Promise.resolve(m.effect(y,Wd({},v,{getOriginalState:x,condition:(S,A)=>w(S,A).then(Boolean),take:w,delay:PG(b.signal),pause:yb(b.signal),extra:a,signal:b.signal,fork:LEe(b.signal,_),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((S,A,C)=>{S!==b&&(Bc(S,eN),C.delete(S))})},cancel:()=>{Bc(b,eN),m.pending.delete(b)},throwIfCancelled:()=>{Fc(b.signal)}})))}catch(S){S instanceof P1||C6(s,S,{raisedBy:"effect"})}finally{await Promise.all(_),Bc(b,DEe),i(m),m.pending.delete(b)}},h=zEe(e,n);return{middleware:m=>y=>v=>{if(!fG(v))return y(v);if(RG.match(v))return l(v.payload);if(UEe.match(v)){h();return}if(DG.match(v))return u(v.payload);let x=m.getState();const b=()=>{if(x===I6)throw new Error(gi(23));return x};let w;try{if(w=y(v),e.size>0){const _=m.getState(),S=Array.from(e.values());for(const A of S){let C=!1;try{C=A.predicate(v,_,x)}catch(N){C=!1,C6(s,N,{raisedBy:"predicate"})}C&&d(A,v,m,b)}}}finally{x=I6}return w},startListening:l,stopListening:u,clearListeners:h}};function gi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var FEe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},MG=Qr({name:"chartLayout",initialState:FEe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:$Ee,setLayout:qEe,setChartSize:HEe,setScale:GEe}=MG.actions,KEe=MG.reducer;function LG(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function P6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P6(Object(n),!0).forEach(function(r){WEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WEe(t,e,n){return(e=YEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YEe(t){var e=QEe(t,"string");return typeof e=="symbol"?e:e+""}function QEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Je(t,e,n){return _t(t)||_t(e)?n:Ha(e)?fu(t,e,n):typeof e=="function"?e(t):n}var XEe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=e;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&ie(t[a]))return jd(jd({},t),{},{[a]:t[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&ie(t[s]))return jd(jd({},t),{},{[s]:t[s]+(i||0)})}return t},es=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",VG=(t,e,n,r)=>{if(r)return t.map(o=>o.coordinate);var i,a,s=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(e),a||s.push(n),s},zG=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:d,ticks:h,niceTicks:f,axisType:m}=t;if(!s)return null;var y=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,v=i==="category"&&s.bandwidth?s.bandwidth()/y:0;if(v=m==="angleAxis"&&a&&a.length>=2?Vn(a[0]-a[1])*2*v:v,h||f){var x=(h||f||[]).map((b,w)=>{var _=r?r.indexOf(b):b;return{coordinate:s(_)+v,value:b,offset:v,index:w}});return x.filter(b=>!Gi(b.coordinate))}return l&&u?u.map((b,w)=>({coordinate:s(b)+v,value:b,index:w,offset:v})):s.ticks&&d!=null?s.ticks(d).map((b,w)=>({coordinate:s(b)+v,value:b,offset:v,index:w})):s.domain().map((b,w)=>({coordinate:s(b)+v,value:r?r[b]:b,index:w,offset:v}))},k6=1e-4,ZEe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-k6,a=Math.max(r[0],r[1])+k6,s=t(e[0]),o=t(e[n-1]);(s<i||s>a||o<i||o>a)&&t.domain([e[0],e[n-1]])}},JEe=(t,e)=>{if(!e||e.length!==2||!ie(e[0])||!ie(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!ie(t[0])||t[0]<n)&&(i[0]=n),(!ie(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},eSe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,s=0;s<e;++s){var o=Gi(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=a,t[s][n][1]=a+o,a=t[s][n][1])}},tSe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var s=Gi(t[a][n][1])?t[a][n][0]:t[a][n][1];s>=0?(t[a][n][0]=i,t[a][n][1]=i+s,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},nSe={sign:eSe,expand:z1e,none:Mh,silhouette:U1e,wiggle:B1e,positive:tSe},rSe=(t,e,n)=>{var r=nSe[n],i=V1e().keys(e).value((a,s)=>Number(Je(a,s,0))).order(HA).offset(r);return i(t)};function UG(t){return t==null?void 0:String(t)}function vb(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!_t(i[e.dataKey])){var o=kH(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=Je(i,_t(s)?e.dataKey:s);return _t(l)?null:e.scale(l)}var O6=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:s}=t;if(e.type==="category")return n[s]?n[s].coordinate+r:null;var o=Je(a,e.dataKey,e.scale.domain()[s]);return _t(o)?null:e.scale(o)-i/2+r},iSe=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},aSe=t=>{var e=t.flat(2).filter(ie);return[Math.min(...e),Math.max(...e)]},sSe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],oSe=(t,e,n)=>{if(t!=null)return sSe(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:s}=a,o=s.reduce((l,u)=>{var d=LG(u,e,n),h=aSe(d);return[Math.min(l[0],h[0]),Math.max(l[1],h[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},R6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,D6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Cl=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=N1(e,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],u=i[s-1];a=Math.min((l.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function M6(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return jd(jd({},e),{},{dataKey:n,payload:r,value:i,name:a})}function ql(t,e){if(t)return String(t);if(typeof e=="string")return e}var lSe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},cSe=(t,e)=>e==="centric"?t.angle:t.radius,oo=t=>t.layout.width,lo=t=>t.layout.height,uSe=t=>t.layout.scale,BG=t=>t.layout.margin,O1=U(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),R1=U(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),FG="data-recharts-item-index",$G="data-recharts-item-data-key",jy=60;function L6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L6(Object(n),!0).forEach(function(r){dSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dSe(t,e,n){return(e=hSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hSe(t){var e=fSe(t,"string");return typeof e=="symbol"?e:e+""}function fSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mSe=t=>t.brush.height;function pSe(t){var e=R1(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:jy;return n+i}return n},0)}function gSe(t){var e=R1(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:jy;return n+i}return n},0)}function ySe(t){var e=O1(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function vSe(t){var e=O1(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Tn=U([oo,lo,BG,mSe,pSe,gSe,ySe,vSe,cG,W_e],(t,e,n,r,i,a,s,o,l,u)=>{var d={left:(n.left||0)+i,right:(n.right||0)+a},h={top:(n.top||0)+s,bottom:(n.bottom||0)+o},f=$0($0({},h),d),m=f.bottom;f.bottom+=r,f=XEe(f,l,u);var y=t-f.left-f.right,v=e-f.top-f.bottom;return $0($0({brushBottom:m},f),{},{width:Math.max(y,0),height:Math.max(v,0)})}),xSe=U(Tn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),QC=U(oo,lo,(t,e)=>({x:0,y:0,width:t,height:e})),bSe=g.createContext(null),Bn=()=>g.useContext(bSe)!=null,D1=t=>t.brush,M1=U([D1,Tn,BG],(t,e,n)=>({height:t.height,x:ie(t.x)?t.x:e.left,y:ie(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:ie(t.width)?t.width:e.width})),qG={},HG={},GG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},h=()=>{u&&d(),v()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,h()},r)},y=()=>{f!==null&&(clearTimeout(f),f=null)},v=()=>{y(),s=void 0,o=null},x=()=>{d()},b=function(...w){if(i!=null&&i.aborted)return;s=this,o=w;const _=f==null;m(),l&&_&&d()};return b.schedule=m,b.cancel=v,b.flush=x,i==null||i.addEventListener("abort",v,{once:!0}),b}t.debounce=e})(GG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GG;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let d,h=null;const f=e.debounce(function(...v){d=r.apply(this,v),h=null},i,{edges:u}),m=function(...v){return l!=null&&(h===null&&(h=Date.now()),Date.now()-h>=l)?(d=r.apply(this,v),h=Date.now(),f.cancel(),f.schedule(),d):(f.apply(this,v),d)},y=()=>(f.flush(),d);return m.cancel=f.cancel,m.flush=y,m}t.debounce=n})(HG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HG;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return e.debounce(r,i,{leading:s,maxWait:i,trailing:o})}t.throttle=n})(qG);var wSe=qG.throttle;const _Se=Qa(wSe);var xb=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},KG=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=qs(r)?t:Number(r),l=qs(i)?e:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},ESe={width:0,height:0,overflow:"visible"},SSe={width:0,overflowX:"visible"},TSe={height:0,overflowY:"visible"},ASe={},NSe=t=>{var{width:e,height:n}=t,r=qs(e),i=qs(n);return r&&i?ESe:r?SSe:i?TSe:ASe};function ISe(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Tt(t){return Number.isFinite(t)}function Ga(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function nN(){return nN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nN.apply(null,arguments)}function V6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V6(Object(n),!0).forEach(function(r){jSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jSe(t,e,n){return(e=CSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CSe(t){var e=PSe(t,"string");return typeof e=="symbol"?e:e+""}function PSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WG=g.createContext({width:-1,height:-1});function kSe(t){return Ga(t.width)&&Ga(t.height)}function YG(t){var{children:e,width:n,height:r}=t,i=g.useMemo(()=>({width:n,height:r}),[n,r]);return kSe(i)?g.createElement(WG.Provider,{value:i},e):null}var XC=()=>g.useContext(WG),OSe=g.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:u,debounce:d=0,id:h,className:f,onResize:m,style:y={}}=t,v=g.useRef(null),x=g.useRef();x.current=m,g.useImperativeHandle(e,()=>v.current);var[b,w]=g.useState({containerWidth:r.width,containerHeight:r.height}),_=g.useCallback((T,I)=>{w(P=>{var k=Math.round(T),R=Math.round(I);return P.containerWidth===k&&P.containerHeight===R?P:{containerWidth:k,containerHeight:R}})},[]);g.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return Ru;var T=R=>{var O,{width:M,height:L}=R[0].contentRect;_(M,L),(O=x.current)===null||O===void 0||O.call(x,M,L)};d>0&&(T=_Se(T,d,{trailing:!0,leading:!1}));var I=new ResizeObserver(T),{width:P,height:k}=v.current.getBoundingClientRect();return _(P,k),I.observe(v.current),()=>{I.disconnect()}},[_,d]);var{containerWidth:S,containerHeight:A}=b;xb(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:C,calculatedHeight:N}=KG(S,A,{width:i,height:a,aspect:n,maxHeight:l});return xb(C!=null&&C>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,N,i,a,s,o,n),g.createElement("div",{id:h?"".concat(h):void 0,className:De("recharts-responsive-container",f),style:z6(z6({},y),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:v},g.createElement("div",{style:NSe({width:i,height:a})},g.createElement(YG,{width:C,height:N},u)))}),_g=g.forwardRef((t,e)=>{var n=XC();if(Ga(n.width)&&Ga(n.height))return t.children;var{width:r,height:i}=ISe({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=KG(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return ie(a)&&ie(s)?g.createElement(YG,{width:a,height:s},t.children):g.createElement(OSe,nN({},t,{width:r,height:i,ref:e}))});function QG(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var L1=()=>{var t,e=Bn(),n=se(xSe),r=se(M1),i=(t=se(D1))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},RSe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},XG=()=>{var t;return(t=se(Tn))!==null&&t!==void 0?t:RSe},ZC=()=>se(oo),JC=()=>se(lo),DSe=()=>se(t=>t.layout.margin),Ie=t=>t.layout.layoutType,bf=()=>se(Ie),MSe=()=>{var t=bf();return t!==void 0},V1=t=>{var e=ht(),n=Bn(),{width:r,height:i}=t,a=XC(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),g.useEffect(()=>{!n&&Ga(s)&&Ga(o)&&e(HEe({width:s,height:o}))},[e,n,s,o]),null},LSe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},ZG=Qr({name:"legend",initialState:LSe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:bn()},removeLegendPayload:{reducer(t,e){var n=Ns(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:bn()}}}),{setLegendSize:U6,setLegendSettings:VSe,addLegendPayload:JG,removeLegendPayload:eK}=ZG.actions,zSe=ZG.reducer,USe=["contextPayload"];function rN(){return rN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rN.apply(null,arguments)}function B6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B6(Object(n),!0).forEach(function(r){BSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BSe(t,e,n){return(e=FSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FSe(t){var e=$Se(t,"string");return typeof e=="symbol"?e:e+""}function $Se(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qSe(t,e){if(t==null)return{};var n,r,i=HSe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function HSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function GSe(t){return t.value}function KSe(t){var{contextPayload:e}=t,n=qSe(t,USe),r=ZH(e,t.payloadUniqBy,GSe),i=Vh(Vh({},n),{},{payload:r});return g.isValidElement(t.content)?g.cloneElement(t.content,i):typeof t.content=="function"?g.createElement(t.content,i):g.createElement(f_e,i)}function WSe(t,e,n,r,i,a){var{layout:s,align:o,verticalAlign:l}=e,u,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&s==="vertical"?u={left:((r||0)-a.width)/2}:u=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(l==="middle"?d={top:((i||0)-a.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Vh(Vh({},u),d)}function YSe(t){var e=ht();return g.useEffect(()=>{e(VSe(t))},[e,t]),null}function QSe(t){var e=ht();return g.useEffect(()=>(e(U6(t)),()=>{e(U6({width:0,height:0}))}),[e,t]),null}function XSe(t,e,n,r){return t==="vertical"&&ie(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var ZSe={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function zh(t){var e=Yt(t,ZSe),n=X_e(),r=l1e(),i=DSe(),{width:a,height:s,wrapperStyle:o,portal:l}=e,[u,d]=uG([n]),h=ZC(),f=JC();if(h==null||f==null)return null;var m=h-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),y=XSe(e.layout,s,a,m),v=l?o:Vh(Vh({position:"absolute",width:(y==null?void 0:y.width)||a||"auto",height:(y==null?void 0:y.height)||s||"auto"},WSe(o,e,i,h,f,u)),o),x=l??r;if(x==null||n==null)return null;var b=g.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:d},g.createElement(YSe,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),g.createElement(QSe,{width:u.width,height:u.height}),g.createElement(KSe,rN({},e,y,{margin:i,chartWidth:h,chartHeight:f,contextPayload:n})));return tw.createPortal(b,x)}zh.displayName="Legend";function iN(){return iN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iN.apply(null,arguments)}function F6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F6(Object(n),!0).forEach(function(r){JSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JSe(t,e,n){return(e=eTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eTe(t){var e=tTe(t,"string");return typeof e=="symbol"?e:e+""}function tTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nTe(t){return Array.isArray(t)&&Ha(t[0])&&Ha(t[1])?t.join(" ~ "):t}var rTe=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:f=!1}=t,m=()=>{if(a&&a.length){var A={padding:0,margin:0},C=(o?N1(a,o):a).map((N,T)=>{if(N.type==="none")return null;var I=N.formatter||s||nTe,{value:P,name:k}=N,R=P,O=k;if(I){var M=I(P,k,N,T,a);if(Array.isArray(M))[R,O]=M;else if(M!=null)R=M;else return null}var L=gS({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:L},Ha(O)?g.createElement("span",{className:"recharts-tooltip-item-name"},O):null,Ha(O)?g.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,g.createElement("span",{className:"recharts-tooltip-item-value"},R),g.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:A},C)}return null},y=gS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=gS({margin:0},i),x=!_t(d),b=x?d:"",w=De("recharts-default-tooltip",l),_=De("recharts-tooltip-label",u);x&&h&&a!==void 0&&a!==null&&(b=h(d,a));var S=f?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",iN({className:w,style:y},S),g.createElement("p",{className:_,style:v},g.isValidElement(b)?b:"".concat(b)),m())},ym="recharts-tooltip-wrapper",iTe={visibility:"hidden"};function aTe(t){var{coordinate:e,translateX:n,translateY:r}=t;return De(ym,{["".concat(ym,"-right")]:ie(n)&&e&&ie(e.x)&&n>=e.x,["".concat(ym,"-left")]:ie(n)&&e&&ie(e.x)&&n<e.x,["".concat(ym,"-bottom")]:ie(r)&&e&&ie(e.y)&&r>=e.y,["".concat(ym,"-top")]:ie(r)&&e&&ie(e.y)&&r<e.y})}function $6(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=t;if(a&&ie(a[r]))return a[r];var d=n[r]-o-(i>0?i:0),h=n[r]+i;if(e[r])return s[r]?d:h;var f=l[r];if(f==null)return 0;if(s[r]){var m=d,y=f;return m<y?Math.max(h,f):Math.max(d,f)}if(u==null)return 0;var v=h+o,x=f+u;return v>x?Math.max(d,f):Math.max(h,f)}function sTe(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function oTe(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=t,u,d,h;return s.height>0&&s.width>0&&n?(d=$6({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),h=$6({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=sTe({translateX:d,translateY:h,useTranslate3d:o})):u=iTe,{cssProperties:u,cssClasses:aTe({translateX:d,translateY:h,coordinate:n})}}function q6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q6(Object(n),!0).forEach(function(r){aN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aN(t,e,n){return(e=lTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lTe(t){var e=cTe(t,"string");return typeof e=="symbol"?e:e+""}function cTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class uTe extends g.PureComponent{constructor(){super(...arguments),aN(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),aN(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:u,position:d,reverseDirection:h,useTranslate3d:f,viewBox:m,wrapperStyle:y,lastBoundingBox:v,innerRef:x,hasPortalFromProps:b}=this.props,{cssClasses:w,cssProperties:_}=oTe({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:h,tooltipBox:{height:v.height,width:v.width},useTranslate3d:f,viewBox:m}),S=b?{}:q0(q0({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),A=q0(q0({},S),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},y);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:A,ref:x},a)}}var dTe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),co={devToolsEnabled:!1,isSsr:dTe()},tK=()=>{var t;return(t=se(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function sN(){return sN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sN.apply(null,arguments)}function H6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H6(Object(n),!0).forEach(function(r){hTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hTe(t,e,n){return(e=fTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fTe(t){var e=mTe(t,"string");return typeof e=="symbol"?e:e+""}function mTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K6={curveBasisClosed:N1e,curveBasisOpen:I1e,curveBasis:A1e,curveBumpX:h1e,curveBumpY:f1e,curveLinearClosed:j1e,curveLinear:b1,curveMonotoneX:C1e,curveMonotoneY:P1e,curveNatural:k1e,curveStep:O1e,curveStepAfter:D1e,curveStepBefore:R1e},bb=t=>Tt(t.x)&&Tt(t.y),W6=t=>t.base!=null&&bb(t.base)&&bb(t),vm=t=>t.x,xm=t=>t.y,pTe=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Ty(t));return(n==="curveMonotone"||n==="curveBump")&&e?K6["".concat(n).concat(e==="vertical"?"Y":"X")]:K6[n]||b1},gTe=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,s=pTe(e,i),o=a?n.filter(bb):n,l;if(Array.isArray(r)){var u=n.map((m,y)=>G6(G6({},m),{},{base:r[y]}));i==="vertical"?l=L0().y(xm).x1(vm).x0(m=>m.base.x):l=L0().x(vm).y1(xm).y0(m=>m.base.y);var d=l.defined(W6).curve(s),h=a?u.filter(W6):u;return d(h)}i==="vertical"&&ie(r)?l=L0().y(xm).x1(vm).x0(r):ie(r)?l=L0().x(vm).y1(xm).y0(r):l=vH().x(vm).y(xm);var f=l.defined(bb).curve(s);return f(o)},Yd=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?gTe(t):r;return g.createElement("path",sN({},Or(t),kC(t),{className:De("recharts-curve",e),d:a===null?void 0:a,ref:i}))},yTe=["x","y","top","left","width","height","className"];function oN(){return oN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oN.apply(null,arguments)}function Y6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vTe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y6(Object(n),!0).forEach(function(r){xTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xTe(t,e,n){return(e=bTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bTe(t){var e=wTe(t,"string");return typeof e=="symbol"?e:e+""}function wTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Te(t,e){if(t==null)return{};var n,r,i=ETe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ETe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var STe=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),TTe=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=t,l=_Te(t,yTe),u=vTe({x:e,y:n,top:r,left:i,width:a,height:s},l);return!ie(e)||!ie(n)||!ie(a)||!ie(s)||!ie(r)||!ie(i)?null:g.createElement("path",oN({},yr(u),{className:De("recharts-cross",o),d:STe(e,n,a,s,r,i)}))};function ATe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Q6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q6(Object(n),!0).forEach(function(r){NTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NTe(t,e,n){return(e=ITe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ITe(t){var e=jTe(t,"string");return typeof e=="symbol"?e:e+""}function jTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CTe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),nK=(t,e,n)=>t.map(r=>"".concat(CTe(r)," ").concat(e,"ms ").concat(n)).join(","),PTe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Eg=(t,e)=>Object.keys(e).reduce((n,r)=>X6(X6({},n),{},{[r]:t(r,e[r])}),{});function Z6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z6(Object(n),!0).forEach(function(r){kTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kTe(t,e,n){return(e=OTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OTe(t){var e=RTe(t,"string");return typeof e=="symbol"?e:e+""}function RTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wb=(t,e,n)=>t+(e-t)*n,lN=t=>{var{from:e,to:n}=t;return e!==n},rK=(t,e,n)=>{var r=Eg((i,a)=>{if(lN(a)){var[s,o]=t(a.from,a.to,a.velocity);return xn(xn({},a),{},{from:s,velocity:o})}return a},e);return n<1?Eg((i,a)=>lN(a)?xn(xn({},a),{},{velocity:wb(a.velocity,r[i].velocity,n),from:wb(a.from,r[i].from,n)}):a,e):rK(t,r,n-1)};function DTe(t,e,n,r,i,a){var s,o=r.reduce((f,m)=>xn(xn({},f),{},{[m]:{from:t[m],velocity:0,to:e[m]}}),{}),l=()=>Eg((f,m)=>m.from,o),u=()=>!Object.values(o).filter(lN).length,d=null,h=f=>{s||(s=f);var m=f-s,y=m/n.dt;o=rK(n,o,y),i(xn(xn(xn({},t),e),l())),s=f,u()||(d=a.setTimeout(h))};return()=>(d=a.setTimeout(h),()=>{var f;(f=d)===null||f===void 0||f()})}function MTe(t,e,n,r,i,a,s){var o=null,l=i.reduce((h,f)=>xn(xn({},h),{},{[f]:[t[f],e[f]]}),{}),u,d=h=>{u||(u=h);var f=(h-u)/r,m=Eg((v,x)=>wb(...x,n(f)),l);if(a(xn(xn(xn({},t),e),m)),f<1)o=s.setTimeout(d);else{var y=Eg((v,x)=>wb(...x,n(1)),l);a(xn(xn(xn({},t),e),y))}};return()=>(o=s.setTimeout(d),()=>{var h;(h=o)===null||h===void 0||h()})}const LTe=(t,e,n,r,i,a)=>{var s=PTe(t,e);return n==null?()=>(i(xn(xn({},t),e)),()=>{}):n.isStepper===!0?DTe(t,e,n,s,i,a):MTe(t,e,n,r,s,i,a)};var _b=1e-4,iK=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],aK=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),J6=(t,e)=>n=>{var r=iK(t,e);return aK(r,n)},VTe=(t,e)=>n=>{var r=iK(t,e),i=[...r.map((a,s)=>a*s).slice(1),0];return aK(i,n)},zTe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},UTe=(t,e,n,r)=>{var i=J6(t,n),a=J6(e,r),s=VTe(t,n),o=u=>u>1?1:u<0?0:u,l=u=>{for(var d=u>1?1:u,h=d,f=0;f<8;++f){var m=i(h)-d,y=s(h);if(Math.abs(m-d)<_b||y<_b)return a(h);h=o(h-m/y)}return a(h)};return l.isStepper=!1,l},e3=function(){return UTe(...zTe(...arguments))},BTe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(s,o,l)=>{var u=-(s-o)*n,d=l*r,h=l+(u-d)*i/1e3,f=l*i/1e3+s;return Math.abs(f-o)<_b&&Math.abs(h)<_b?[o,0]:[f,h]};return a.isStepper=!0,a.dt=i,a},FTe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return e3(t);case"spring":return BTe();default:if(t.split("(")[0]==="cubic-bezier")return e3(t)}return typeof t=="function"?t:null};function $Te(t){var e,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){i=t.setTimeout(a.bind(null,u),l);return}a(l),i=t.setTimeout(a.bind(null,u));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class qTe{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function HTe(){return $Te(new qTe)}var GTe=g.createContext(HTe);function KTe(t,e){var n=g.useContext(GTe);return g.useMemo(()=>e??n(t),[t,e,n])}var WTe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},t3={t:0},yS={t:1};function wf(t){var e=Yt(t,WTe),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=e,d=KTe(e.animationId,e.animationManager),[h,f]=g.useState(n?t3:yS),m=g.useRef(null);return g.useEffect(()=>{n||f(yS)},[n]),g.useEffect(()=>{if(!n||!r)return Ru;var y=LTe(t3,yS,FTe(a),i,f,d.getTimeoutController()),v=()=>{m.current=y()};return d.start([l,s,v,i,o]),()=>{d.stop(),m.current&&m.current(),o()}},[n,r,i,a,s,l,o,d]),u(h.t)}function _f(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=g.useRef(vg(e)),r=g.useRef(t);return r.current!==t&&(n.current=vg(e),r.current=t),n.current}var YTe=["radius"],QTe=["radius"];function n3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n3(Object(n),!0).forEach(function(r){XTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XTe(t,e,n){return(e=ZTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZTe(t){var e=JTe(t,"string");return typeof e=="symbol"?e:e+""}function JTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eb.apply(null,arguments)}function i3(t,e){if(t==null)return{};var n,r,i=eAe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eAe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var a3=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,o=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,u;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,f=4;h<f;h++)d[h]=i[h]>a?a:i[h];u="M".concat(t,",").concat(e+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(t+o*d[0],",").concat(e)),u+="L ".concat(t+n-o*d[1],",").concat(e),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(t+n,",").concat(e+s*d[1])),u+="L ".concat(t+n,",").concat(e+r-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(t+n-o*d[2],",").concat(e+r)),u+="L ".concat(t+o*d[3],",").concat(e+r),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(e+r-s*d[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);u="M ".concat(t,",").concat(e+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(t+o*m,",").concat(e,`
            L `).concat(t+n-o*m,",").concat(e,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(t+n,",").concat(e+s*m,`
            L `).concat(t+n,",").concat(e+r-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(t+n-o*m,",").concat(e+r,`
            L `).concat(t+o*m,",").concat(e+r,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(t,",").concat(e+r-s*m," Z")}else u="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return u},s3={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sK=t=>{var e=Yt(t,s3),n=g.useRef(null),[r,i]=g.useState(-1);g.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var q=n.current.getTotalLength();q&&i(q)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:u,className:d}=e,{animationEasing:h,animationDuration:f,animationBegin:m,isAnimationActive:y,isUpdateAnimationActive:v}=e,x=g.useRef(o),b=g.useRef(l),w=g.useRef(a),_=g.useRef(s),S=g.useMemo(()=>({x:a,y:s,width:o,height:l,radius:u}),[a,s,o,l,u]),A=_f(S,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var C=De("recharts-rectangle",d);if(!v){var N=yr(e),{radius:T}=N,I=i3(N,YTe);return g.createElement("path",Eb({},I,{radius:typeof u=="number"?u:void 0,className:C,d:a3(a,s,o,l,u)}))}var P=x.current,k=b.current,R=w.current,O=_.current,M="0px ".concat(r===-1?1:r,"px"),L="".concat(r,"px 0px"),B=nK(["strokeDasharray"],f,typeof h=="string"?h:s3.animationEasing);return g.createElement(wf,{animationId:A,key:A,canBegin:r>0,duration:f,easing:h,isActive:v,begin:m},q=>{var H=Fe(P,o,q),J=Fe(k,l,q),oe=Fe(R,a,q),et=Fe(O,s,q);n.current&&(x.current=H,b.current=J,w.current=oe,_.current=et);var Rt;y?q>0?Rt={transition:B,strokeDasharray:L}:Rt={strokeDasharray:M}:Rt={strokeDasharray:L};var he=yr(e),{radius:fe}=he,st=i3(he,QTe);return g.createElement("path",Eb({},st,{radius:typeof u=="number"?u:void 0,className:C,d:a3(oe,et,H,J,u),ref:n,style:r3(r3({},Rt),e.style)}))})};function o3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o3(Object(n),!0).forEach(function(r){tAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tAe(t,e,n){return(e=nAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nAe(t){var e=rAe(t,"string");return typeof e=="symbol"?e:e+""}function rAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sb=Math.PI/180,iAe=t=>t*180/Math.PI,fn=(t,e,n,r)=>({x:t+Math.cos(-Sb*r)*n,y:e+Math.sin(-Sb*r)*n}),oK=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},aAe=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},sAe=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,s=aAe({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:iAe(l),angleInRadian:l}},oAe=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},lAe=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return t+s*360},cAe=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=sAe({x:n,y:r},e),{innerRadius:s,outerRadius:o}=e;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:u}=oAe(e),d=a,h;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;h=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=l}return h?l3(l3({},e),{},{radius:i,angle:lAe(d,e)}):null};function lK(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,s=fn(e,n,r,i),o=fn(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function cN(){return cN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cN.apply(null,arguments)}var uAe=(t,e)=>{var n=Vn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},H0=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=t,u=o*(s?1:-1)+r,d=Math.asin(o/u)/Sb,h=l?i:i+a*d,f=fn(e,n,u,h),m=fn(e,n,r,h),y=l?i-a*d:i,v=fn(e,n,u*Math.cos(d*Sb),y);return{center:f,circleTangency:m,lineTangency:v,theta:d}},cK=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=t,o=uAe(a,s),l=a+o,u=fn(e,n,i,a),d=fn(e,n,i,l),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var f=fn(e,n,r,a),m=fn(e,n,r,l);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=l),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(e,",").concat(n," Z");return h},dAe=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=t,d=Vn(u-l),{circleTangency:h,lineTangency:f,theta:m}=H0({cx:e,cy:n,radius:i,angle:l,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:y,lineTangency:v,theta:x}=H0({cx:e,cy:n,radius:i,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:o}),b=o?Math.abs(l-u):Math.abs(l-u)-m-x;if(b<0)return s?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):cK({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var w="M ".concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
  `);if(r>0){var{circleTangency:_,lineTangency:S,theta:A}=H0({cx:e,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:C,lineTangency:N,theta:T}=H0({cx:e,cy:n,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),I=o?Math.abs(l-u):Math.abs(l-u)-A-T;if(I<0&&a===0)return"".concat(w,"L").concat(e,",").concat(n,"Z");w+="L".concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(I>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,"Z")}else w+="L".concat(e,",").concat(n,"Z");return w},hAe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uK=t=>{var e=Yt(t,hAe),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d,className:h}=e;if(a<i||u===d)return null;var f=De("recharts-sector",h),m=a-i,y=pr(s,m,0,!0),v;return y>0&&Math.abs(u-d)<360?v=dAe({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(y,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}):v=cK({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),g.createElement("path",cN({},yr(e),{className:f,d:v}))};function fAe(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(RH(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=e,l=fn(r,i,a,o),u=fn(r,i,s,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return lK(e)}}var dK={},hK={},fK={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$C;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(fK);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fK;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(hK);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qC,n=hK;function r(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=s;return l}t.range=r})(dK);var mAe=dK.range;const mK=Qa(mAe);function ul(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pAe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function eP(t){let e,n,r;t.length!==2?(e=ul,n=(o,l)=>ul(t(o),l),r=(o,l)=>t(o)-l):(e=t===ul||t===pAe?t:gAe,n=t,r=t);function i(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;n(o[h],l)<0?u=h+1:d=h}while(u<d)}return u}function a(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;n(o[h],l)<=0?u=h+1:d=h}while(u<d)}return u}function s(o,l,u=0,d=o.length){const h=i(o,l,u,d-1);return h>u&&r(o[h-1],l)>-r(o[h],l)?h-1:h}return{left:i,center:s,right:a}}function gAe(){return 0}function pK(t){return t===null?NaN:+t}function*yAe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const vAe=eP(ul),Cy=vAe.right;eP(pK).center;class c3 extends Map{constructor(e,n=wAe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(u3(this,e))}has(e){return super.has(u3(this,e))}set(e,n){return super.set(xAe(this,e),n)}delete(e){return super.delete(bAe(this,e))}}function u3({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function xAe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function bAe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function wAe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function _Ae(t=ul){if(t===ul)return gK;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function gK(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const EAe=Math.sqrt(50),SAe=Math.sqrt(10),TAe=Math.sqrt(2);function Tb(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=EAe?10:a>=SAe?5:a>=TAe?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=n&&n<2?Tb(t,e,n*2):[o,l,u]}function uN(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?Tb(e,t,n):Tb(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function dN(t,e,n){return e=+e,t=+t,n=+n,Tb(t,e,n)[2]}function hN(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?dN(e,t,n):dN(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function d3(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function h3(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function yK(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?gK:_Ae(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,d=Math.log(l),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(l-h)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*h/l+f)),y=Math.min(r,Math.floor(e+(l-u)*h/l+f));yK(t,e,m,y,i)}const a=t[e];let s=n,o=r;for(bm(t,n,e),i(t[r],a)>0&&bm(t,n,r);s<o;){for(bm(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?bm(t,n,o):(++o,bm(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function bm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function AAe(t,e,n){if(t=Float64Array.from(yAe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return h3(t);if(e>=1)return d3(t);var r,i=(r-1)*e,a=Math.floor(i),s=d3(yK(t,a).subarray(0,a+1)),o=h3(t.subarray(a+1));return s+(o-s)*(i-a)}}function NAe(t,e,n=pK){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function IAe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Zi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function uo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const fN=Symbol("implicit");function tP(){var t=new c3,e=[],n=[],r=fN;function i(a){let s=t.get(a);if(s===void 0){if(r!==fN)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new c3;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return tP(e,n).unknown(r)},Zi.apply(i,arguments),i}function nP(){var t=tP().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,u=0,d=.5;delete t.unknown;function h(){var f=e().length,m=i<r,y=m?i:r,v=m?r:i;a=(v-y)/Math.max(1,f-l+u*2),o&&(a=Math.floor(a)),y+=(v-y-a*(f-l))*d,s=a*(1-l),o&&(y=Math.round(y),s=Math.round(s));var x=IAe(f).map(function(b){return y+a*b});return n(m?x.reverse():x)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,o=!0,h()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(f){return arguments.length?(o=!!f,h()):o},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),h()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},t.copy=function(){return nP(e(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(d)},Zi.apply(h(),arguments)}function vK(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return vK(e())},t}function jAe(){return vK(nP.apply(null,arguments).paddingInner(1))}function rP(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function xK(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Py(){}var Sg=.7,Ab=1/Sg,Qd="\\s*([+-]?\\d+)\\s*",Tg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",za="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",CAe=/^#([0-9a-f]{3,8})$/,PAe=new RegExp(`^rgb\\(${Qd},${Qd},${Qd}\\)$`),kAe=new RegExp(`^rgb\\(${za},${za},${za}\\)$`),OAe=new RegExp(`^rgba\\(${Qd},${Qd},${Qd},${Tg}\\)$`),RAe=new RegExp(`^rgba\\(${za},${za},${za},${Tg}\\)$`),DAe=new RegExp(`^hsl\\(${Tg},${za},${za}\\)$`),MAe=new RegExp(`^hsla\\(${Tg},${za},${za},${Tg}\\)$`),f3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rP(Py,Ag,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:m3,formatHex:m3,formatHex8:LAe,formatHsl:VAe,formatRgb:p3,toString:p3});function m3(){return this.rgb().formatHex()}function LAe(){return this.rgb().formatHex8()}function VAe(){return bK(this).formatHsl()}function p3(){return this.rgb().formatRgb()}function Ag(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=CAe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?g3(e):n===3?new Hr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?G0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?G0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=PAe.exec(t))?new Hr(e[1],e[2],e[3],1):(e=kAe.exec(t))?new Hr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=OAe.exec(t))?G0(e[1],e[2],e[3],e[4]):(e=RAe.exec(t))?G0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=DAe.exec(t))?x3(e[1],e[2]/100,e[3]/100,1):(e=MAe.exec(t))?x3(e[1],e[2]/100,e[3]/100,e[4]):f3.hasOwnProperty(t)?g3(f3[t]):t==="transparent"?new Hr(NaN,NaN,NaN,0):null}function g3(t){return new Hr(t>>16&255,t>>8&255,t&255,1)}function G0(t,e,n,r){return r<=0&&(t=e=n=NaN),new Hr(t,e,n,r)}function zAe(t){return t instanceof Py||(t=Ag(t)),t?(t=t.rgb(),new Hr(t.r,t.g,t.b,t.opacity)):new Hr}function mN(t,e,n,r){return arguments.length===1?zAe(t):new Hr(t,e,n,r??1)}function Hr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}rP(Hr,mN,xK(Py,{brighter(t){return t=t==null?Ab:Math.pow(Ab,t),new Hr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Sg:Math.pow(Sg,t),new Hr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Hr($c(this.r),$c(this.g),$c(this.b),Nb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:y3,formatHex:y3,formatHex8:UAe,formatRgb:v3,toString:v3}));function y3(){return`#${Nc(this.r)}${Nc(this.g)}${Nc(this.b)}`}function UAe(){return`#${Nc(this.r)}${Nc(this.g)}${Nc(this.b)}${Nc((isNaN(this.opacity)?1:this.opacity)*255)}`}function v3(){const t=Nb(this.opacity);return`${t===1?"rgb(":"rgba("}${$c(this.r)}, ${$c(this.g)}, ${$c(this.b)}${t===1?")":`, ${t})`}`}function Nb(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function $c(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Nc(t){return t=$c(t),(t<16?"0":"")+t.toString(16)}function x3(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new sa(t,e,n,r)}function bK(t){if(t instanceof sa)return new sa(t.h,t.s,t.l,t.opacity);if(t instanceof Py||(t=Ag(t)),!t)return new sa;if(t instanceof sa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new sa(s,o,l,t.opacity)}function BAe(t,e,n,r){return arguments.length===1?bK(t):new sa(t,e,n,r??1)}function sa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}rP(sa,BAe,xK(Py,{brighter(t){return t=t==null?Ab:Math.pow(Ab,t),new sa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Sg:Math.pow(Sg,t),new sa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Hr(vS(t>=240?t-240:t+120,i,r),vS(t,i,r),vS(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new sa(b3(this.h),K0(this.s),K0(this.l),Nb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Nb(this.opacity);return`${t===1?"hsl(":"hsla("}${b3(this.h)}, ${K0(this.s)*100}%, ${K0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function b3(t){return t=(t||0)%360,t<0?t+360:t}function K0(t){return Math.max(0,Math.min(1,t||0))}function vS(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const iP=t=>()=>t;function FAe(t,e){return function(n){return t+n*e}}function $Ae(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function qAe(t){return(t=+t)==1?wK:function(e,n){return n-e?$Ae(e,n,t):iP(isNaN(e)?n:e)}}function wK(t,e){var n=e-t;return n?FAe(t,n):iP(isNaN(t)?e:t)}const w3=function t(e){var n=qAe(e);function r(i,a){var s=n((i=mN(i)).r,(a=mN(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=wK(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function HAe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function GAe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function KAe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Ef(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function WAe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ib(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function YAe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ef(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var pN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xS=new RegExp(pN.source,"g");function QAe(t){return function(){return t}}function XAe(t){return function(e){return t(e)+""}}function ZAe(t,e){var n=pN.lastIndex=xS.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=pN.exec(t))&&(i=xS.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Ib(r,i)})),n=xS.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?XAe(l[0].x):QAe(e):(e=l.length,function(u){for(var d=0,h;d<e;++d)o[(h=l[d]).i]=h.x(u);return o.join("")})}function Ef(t,e){var n=typeof e,r;return e==null||n==="boolean"?iP(e):(n==="number"?Ib:n==="string"?(r=Ag(e))?(e=r,w3):ZAe:e instanceof Ag?w3:e instanceof Date?WAe:GAe(e)?HAe:Array.isArray(e)?KAe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?YAe:Ib)(t,e)}function aP(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function JAe(t,e){e===void 0&&(e=t,t=Ef);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function eNe(t){return function(){return t}}function jb(t){return+t}var _3=[0,1];function Cr(t){return t}function gN(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:eNe(isNaN(e)?NaN:.5)}function tNe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function nNe(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=gN(i,r),a=n(s,a)):(r=gN(r,i),a=n(a,s)),function(o){return a(r(o))}}function rNe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=gN(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=Cy(t,o,1,r)-1;return a[l](i[l](o))}}function ky(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function z1(){var t=_3,e=_3,n=Ef,r,i,a,s=Cr,o,l,u;function d(){var f=Math.min(t.length,e.length);return s!==Cr&&(s=tNe(t[0],t[f-1])),o=f>2?rNe:nNe,l=u=null,h}function h(f){return f==null||isNaN(f=+f)?a:(l||(l=o(t.map(r),e,n)))(r(s(f)))}return h.invert=function(f){return s(i((u||(u=o(e,t.map(r),Ib)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,jb),d()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=aP,d()},h.clamp=function(f){return arguments.length?(s=f?!0:Cr,d()):s!==Cr},h.interpolate=function(f){return arguments.length?(n=f,d()):n},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,m){return r=f,i=m,d()}}function sP(){return z1()(Cr,Cr)}function iNe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Cb(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Uh(t){return t=Cb(Math.abs(t)),t?t[1]:NaN}function aNe(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function sNe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var oNe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ng(t){if(!(e=oNe.exec(t)))throw new Error("invalid format: "+t);var e;return new oP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ng.prototype=oP.prototype;function oP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}oP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lNe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var _K;function cNe(t,e){var n=Cb(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(_K=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Cb(t,Math.max(0,e+a-1))[0]}function E3(t,e){var n=Cb(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const S3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:iNe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>E3(t*100,e),r:E3,s:cNe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function T3(t){return t}var A3=Array.prototype.map,N3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function uNe(t){var e=t.grouping===void 0||t.thousands===void 0?T3:aNe(A3.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?T3:sNe(A3.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Ng(h);var f=h.fill,m=h.align,y=h.sign,v=h.symbol,x=h.zero,b=h.width,w=h.comma,_=h.precision,S=h.trim,A=h.type;A==="n"?(w=!0,A="g"):S3[A]||(_===void 0&&(_=12),S=!0,A="g"),(x||f==="0"&&m==="=")&&(x=!0,f="0",m="=");var C=v==="$"?n:v==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",N=v==="$"?r:/[%p]/.test(A)?s:"",T=S3[A],I=/[defgprs%]/.test(A);_=_===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function P(k){var R=C,O=N,M,L,B;if(A==="c")O=T(k)+O,k="";else{k=+k;var q=k<0||1/k<0;if(k=isNaN(k)?l:T(Math.abs(k),_),S&&(k=lNe(k)),q&&+k==0&&y!=="+"&&(q=!1),R=(q?y==="("?y:o:y==="-"||y==="("?"":y)+R,O=(A==="s"?N3[8+_K/3]:"")+O+(q&&y==="("?")":""),I){for(M=-1,L=k.length;++M<L;)if(B=k.charCodeAt(M),48>B||B>57){O=(B===46?i+k.slice(M+1):k.slice(M))+O,k=k.slice(0,M);break}}}w&&!x&&(k=e(k,1/0));var H=R.length+k.length+O.length,J=H<b?new Array(b-H+1).join(f):"";switch(w&&x&&(k=e(J+k,J.length?b-O.length:1/0),J=""),m){case"<":k=R+k+O+J;break;case"=":k=R+J+k+O;break;case"^":k=J.slice(0,H=J.length>>1)+R+k+O+J.slice(H);break;default:k=J+R+k+O;break}return a(k)}return P.toString=function(){return h+""},P}function d(h,f){var m=u((h=Ng(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(Uh(f)/3)))*3,v=Math.pow(10,-y),x=N3[8+y/3];return function(b){return m(v*b)+x}}return{format:u,formatPrefix:d}}var W0,lP,EK;dNe({thousands:",",grouping:[3],currency:["$",""]});function dNe(t){return W0=uNe(t),lP=W0.format,EK=W0.formatPrefix,W0}function hNe(t){return Math.max(0,-Uh(Math.abs(t)))}function fNe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Uh(e)/3)))*3-Uh(Math.abs(t)))}function mNe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Uh(e)-Uh(t))+1}function SK(t,e,n,r){var i=hN(t,e,n),a;switch(r=Ng(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=fNe(i,s))&&(r.precision=a),EK(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=mNe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=hNe(i))&&(r.precision=a-(r.type==="%")*2);break}}return lP(r)}function Hl(t){var e=t.domain;return t.ticks=function(n){var r=e();return uN(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return SK(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=dN(s,o,n),u===l)return r[i]=s,r[a]=o,e(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function TK(){var t=sP();return t.copy=function(){return ky(t,TK())},Zi.apply(t,arguments),Hl(t)}function AK(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,jb),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return AK(t).unknown(e)},t=arguments.length?Array.from(t,jb):[0,1],Hl(n)}function NK(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function I3(t){return Math.log(t)}function j3(t){return Math.exp(t)}function pNe(t){return-Math.log(-t)}function gNe(t){return-Math.exp(-t)}function yNe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function vNe(t){return t===10?yNe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function xNe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function C3(t){return(e,n)=>-t(-e,n)}function cP(t){const e=t(I3,j3),n=e.domain;let r=10,i,a;function s(){return i=xNe(r),a=vNe(r),n()[0]<0?(i=C3(i),a=C3(a),t(pNe,gNe)):t(I3,j3),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let u=l[0],d=l[l.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=i(u),m=i(d),y,v;const x=o==null?10:+o;let b=[];if(!(r%1)&&m-f<x){if(f=Math.floor(f),m=Math.ceil(m),u>0){for(;f<=m;++f)for(y=1;y<r;++y)if(v=f<0?y/a(-f):y*a(f),!(v<u)){if(v>d)break;b.push(v)}}else for(;f<=m;++f)for(y=r-1;y>=1;--y)if(v=f>0?y/a(-f):y*a(f),!(v<u)){if(v>d)break;b.push(v)}b.length*2<x&&(b=uN(u,d,x))}else b=uN(f,m,Math.min(m-f,x)).map(a);return h?b.reverse():b},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Ng(l)).precision==null&&(l.trim=!0),l=lP(l)),o===1/0)return l;const u=Math.max(1,r*o/e.ticks().length);return d=>{let h=d/a(Math.round(i(d)));return h*r<r-.5&&(h*=r),h<=u?l(d):""}},e.nice=()=>n(NK(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function IK(){const t=cP(z1()).domain([1,10]);return t.copy=()=>ky(t,IK()).base(t.base()),Zi.apply(t,arguments),t}function P3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function k3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function uP(t){var e=1,n=t(P3(e),k3(e));return n.constant=function(r){return arguments.length?t(P3(e=+r),k3(e)):e},Hl(n)}function jK(){var t=uP(z1());return t.copy=function(){return ky(t,jK()).constant(t.constant())},Zi.apply(t,arguments)}function O3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function bNe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function wNe(t){return t<0?-t*t:t*t}function dP(t){var e=t(Cr,Cr),n=1;function r(){return n===1?t(Cr,Cr):n===.5?t(bNe,wNe):t(O3(n),O3(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Hl(e)}function hP(){var t=dP(z1());return t.copy=function(){return ky(t,hP()).exponent(t.exponent())},Zi.apply(t,arguments),t}function _Ne(){return hP.apply(null,arguments).exponent(.5)}function R3(t){return Math.sign(t)*t*t}function ENe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function CK(){var t=sP(),e=[0,1],n=!1,r;function i(a){var s=ENe(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(R3(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,jb)).map(R3)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return CK(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Zi.apply(i,arguments),Hl(i)}function PK(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=NAe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Cy(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(ul),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return PK().domain(t).range(e).unknown(r)},Zi.apply(a,arguments)}function kK(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Cy(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return kK().domain([t,e]).range(i).unknown(a)},Zi.apply(Hl(s),arguments)}function OK(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Cy(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return OK().domain(t).range(e).unknown(n)},Zi.apply(i,arguments)}const bS=new Date,wS=new Date;function An(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return l},i.filter=a=>An(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(bS.setTime(+a),wS.setTime(+s),t(bS),t(wS),Math.floor(n(bS,wS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Pb=An(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Pb.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?An(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Pb);Pb.range;const ys=1e3,zi=ys*60,vs=zi*60,Gs=vs*24,fP=Gs*7,D3=Gs*30,_S=Gs*365,Ic=An(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ys)},(t,e)=>(e-t)/ys,t=>t.getUTCSeconds());Ic.range;const mP=An(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ys)},(t,e)=>{t.setTime(+t+e*zi)},(t,e)=>(e-t)/zi,t=>t.getMinutes());mP.range;const pP=An(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*zi)},(t,e)=>(e-t)/zi,t=>t.getUTCMinutes());pP.range;const gP=An(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ys-t.getMinutes()*zi)},(t,e)=>{t.setTime(+t+e*vs)},(t,e)=>(e-t)/vs,t=>t.getHours());gP.range;const yP=An(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*vs)},(t,e)=>(e-t)/vs,t=>t.getUTCHours());yP.range;const Oy=An(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*zi)/Gs,t=>t.getDate()-1);Oy.range;const U1=An(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gs,t=>t.getUTCDate()-1);U1.range;const RK=An(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gs,t=>Math.floor(t/Gs));RK.range;function Du(t){return An(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*zi)/fP)}const B1=Du(0),kb=Du(1),SNe=Du(2),TNe=Du(3),Bh=Du(4),ANe=Du(5),NNe=Du(6);B1.range;kb.range;SNe.range;TNe.range;Bh.range;ANe.range;NNe.range;function Mu(t){return An(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/fP)}const F1=Mu(0),Ob=Mu(1),INe=Mu(2),jNe=Mu(3),Fh=Mu(4),CNe=Mu(5),PNe=Mu(6);F1.range;Ob.range;INe.range;jNe.range;Fh.range;CNe.range;PNe.range;const vP=An(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());vP.range;const xP=An(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());xP.range;const Ks=An(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ks.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:An(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ks.range;const Ws=An(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ws.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:An(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ws.range;function DK(t,e,n,r,i,a){const s=[[Ic,1,ys],[Ic,5,5*ys],[Ic,15,15*ys],[Ic,30,30*ys],[a,1,zi],[a,5,5*zi],[a,15,15*zi],[a,30,30*zi],[i,1,vs],[i,3,3*vs],[i,6,6*vs],[i,12,12*vs],[r,1,Gs],[r,2,2*Gs],[n,1,fP],[e,1,D3],[e,3,3*D3],[t,1,_S]];function o(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const m=h&&typeof h.range=="function"?h:l(u,d,h),y=m?m.range(u,+d+1):[];return f?y.reverse():y}function l(u,d,h){const f=Math.abs(d-u)/h,m=eP(([,,x])=>x).right(s,f);if(m===s.length)return t.every(hN(u/_S,d/_S,h));if(m===0)return Pb.every(Math.max(hN(u,d,h),1));const[y,v]=s[f/s[m-1][2]<s[m][2]/f?m-1:m];return y.every(v)}return[o,l]}const[kNe,ONe]=DK(Ws,xP,F1,RK,yP,pP),[RNe,DNe]=DK(Ks,vP,B1,Oy,gP,mP);function ES(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function SS(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function wm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function MNe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=_m(i),d=Em(i),h=_m(a),f=Em(a),m=_m(s),y=Em(s),v=_m(o),x=Em(o),b=_m(l),w=Em(l),_={a:q,A:H,b:J,B:oe,c:null,d:B3,e:B3,f:a2e,g:p2e,G:y2e,H:n2e,I:r2e,j:i2e,L:MK,m:s2e,M:o2e,p:et,q:Rt,Q:q3,s:H3,S:l2e,u:c2e,U:u2e,V:d2e,w:h2e,W:f2e,x:null,X:null,y:m2e,Y:g2e,Z:v2e,"%":$3},S={a:he,A:fe,b:st,B:yn,c:null,d:F3,e:F3,f:_2e,g:k2e,G:R2e,H:x2e,I:b2e,j:w2e,L:VK,m:E2e,M:S2e,p:ft,q:Wl,Q:q3,s:H3,S:T2e,u:A2e,U:N2e,V:I2e,w:j2e,W:C2e,x:null,X:null,y:P2e,Y:O2e,Z:D2e,"%":$3},A={a:P,A:k,b:R,B:O,c:M,d:z3,e:z3,f:ZNe,g:V3,G:L3,H:U3,I:U3,j:WNe,L:XNe,m:KNe,M:YNe,p:I,q:GNe,Q:e2e,s:t2e,S:QNe,u:BNe,U:FNe,V:$Ne,w:UNe,W:qNe,x:L,X:B,y:V3,Y:L3,Z:HNe,"%":JNe};_.x=C(n,_),_.X=C(r,_),_.c=C(e,_),S.x=C(n,S),S.X=C(r,S),S.c=C(e,S);function C(Y,Ee){return function(Oe){var Z=[],jn=-1,qe=0,br=Y.length,$n,ea,kf;for(Oe instanceof Date||(Oe=new Date(+Oe));++jn<br;)Y.charCodeAt(jn)===37&&(Z.push(Y.slice(qe,jn)),(ea=M3[$n=Y.charAt(++jn)])!=null?$n=Y.charAt(++jn):ea=$n==="e"?" ":"0",(kf=Ee[$n])&&($n=kf(Oe,ea)),Z.push($n),qe=jn+1);return Z.push(Y.slice(qe,jn)),Z.join("")}}function N(Y,Ee){return function(Oe){var Z=wm(1900,void 0,1),jn=T(Z,Y,Oe+="",0),qe,br;if(jn!=Oe.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(Ee&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(qe=SS(wm(Z.y,0,1)),br=qe.getUTCDay(),qe=br>4||br===0?Ob.ceil(qe):Ob(qe),qe=U1.offset(qe,(Z.V-1)*7),Z.y=qe.getUTCFullYear(),Z.m=qe.getUTCMonth(),Z.d=qe.getUTCDate()+(Z.w+6)%7):(qe=ES(wm(Z.y,0,1)),br=qe.getDay(),qe=br>4||br===0?kb.ceil(qe):kb(qe),qe=Oy.offset(qe,(Z.V-1)*7),Z.y=qe.getFullYear(),Z.m=qe.getMonth(),Z.d=qe.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),br="Z"in Z?SS(wm(Z.y,0,1)).getUTCDay():ES(wm(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(br+5)%7:Z.w+Z.U*7-(br+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,SS(Z)):ES(Z)}}function T(Y,Ee,Oe,Z){for(var jn=0,qe=Ee.length,br=Oe.length,$n,ea;jn<qe;){if(Z>=br)return-1;if($n=Ee.charCodeAt(jn++),$n===37){if($n=Ee.charAt(jn++),ea=A[$n in M3?Ee.charAt(jn++):$n],!ea||(Z=ea(Y,Oe,Z))<0)return-1}else if($n!=Oe.charCodeAt(Z++))return-1}return Z}function I(Y,Ee,Oe){var Z=u.exec(Ee.slice(Oe));return Z?(Y.p=d.get(Z[0].toLowerCase()),Oe+Z[0].length):-1}function P(Y,Ee,Oe){var Z=m.exec(Ee.slice(Oe));return Z?(Y.w=y.get(Z[0].toLowerCase()),Oe+Z[0].length):-1}function k(Y,Ee,Oe){var Z=h.exec(Ee.slice(Oe));return Z?(Y.w=f.get(Z[0].toLowerCase()),Oe+Z[0].length):-1}function R(Y,Ee,Oe){var Z=b.exec(Ee.slice(Oe));return Z?(Y.m=w.get(Z[0].toLowerCase()),Oe+Z[0].length):-1}function O(Y,Ee,Oe){var Z=v.exec(Ee.slice(Oe));return Z?(Y.m=x.get(Z[0].toLowerCase()),Oe+Z[0].length):-1}function M(Y,Ee,Oe){return T(Y,e,Ee,Oe)}function L(Y,Ee,Oe){return T(Y,n,Ee,Oe)}function B(Y,Ee,Oe){return T(Y,r,Ee,Oe)}function q(Y){return s[Y.getDay()]}function H(Y){return a[Y.getDay()]}function J(Y){return l[Y.getMonth()]}function oe(Y){return o[Y.getMonth()]}function et(Y){return i[+(Y.getHours()>=12)]}function Rt(Y){return 1+~~(Y.getMonth()/3)}function he(Y){return s[Y.getUTCDay()]}function fe(Y){return a[Y.getUTCDay()]}function st(Y){return l[Y.getUTCMonth()]}function yn(Y){return o[Y.getUTCMonth()]}function ft(Y){return i[+(Y.getUTCHours()>=12)]}function Wl(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var Ee=C(Y+="",_);return Ee.toString=function(){return Y},Ee},parse:function(Y){var Ee=N(Y+="",!1);return Ee.toString=function(){return Y},Ee},utcFormat:function(Y){var Ee=C(Y+="",S);return Ee.toString=function(){return Y},Ee},utcParse:function(Y){var Ee=N(Y+="",!0);return Ee.toString=function(){return Y},Ee}}}var M3={"-":"",_:" ",0:"0"},Fn=/^\s*\d+/,LNe=/^%/,VNe=/[\\^$*+?|[\]().{}]/g;function Le(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function zNe(t){return t.replace(VNe,"\\$&")}function _m(t){return new RegExp("^(?:"+t.map(zNe).join("|")+")","i")}function Em(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function UNe(t,e,n){var r=Fn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function BNe(t,e,n){var r=Fn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function FNe(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function $Ne(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function qNe(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function L3(t,e,n){var r=Fn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function V3(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function HNe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function GNe(t,e,n){var r=Fn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function KNe(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function z3(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function WNe(t,e,n){var r=Fn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function U3(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function YNe(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function QNe(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function XNe(t,e,n){var r=Fn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ZNe(t,e,n){var r=Fn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function JNe(t,e,n){var r=LNe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function e2e(t,e,n){var r=Fn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function t2e(t,e,n){var r=Fn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function B3(t,e){return Le(t.getDate(),e,2)}function n2e(t,e){return Le(t.getHours(),e,2)}function r2e(t,e){return Le(t.getHours()%12||12,e,2)}function i2e(t,e){return Le(1+Oy.count(Ks(t),t),e,3)}function MK(t,e){return Le(t.getMilliseconds(),e,3)}function a2e(t,e){return MK(t,e)+"000"}function s2e(t,e){return Le(t.getMonth()+1,e,2)}function o2e(t,e){return Le(t.getMinutes(),e,2)}function l2e(t,e){return Le(t.getSeconds(),e,2)}function c2e(t){var e=t.getDay();return e===0?7:e}function u2e(t,e){return Le(B1.count(Ks(t)-1,t),e,2)}function LK(t){var e=t.getDay();return e>=4||e===0?Bh(t):Bh.ceil(t)}function d2e(t,e){return t=LK(t),Le(Bh.count(Ks(t),t)+(Ks(t).getDay()===4),e,2)}function h2e(t){return t.getDay()}function f2e(t,e){return Le(kb.count(Ks(t)-1,t),e,2)}function m2e(t,e){return Le(t.getFullYear()%100,e,2)}function p2e(t,e){return t=LK(t),Le(t.getFullYear()%100,e,2)}function g2e(t,e){return Le(t.getFullYear()%1e4,e,4)}function y2e(t,e){var n=t.getDay();return t=n>=4||n===0?Bh(t):Bh.ceil(t),Le(t.getFullYear()%1e4,e,4)}function v2e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Le(e/60|0,"0",2)+Le(e%60,"0",2)}function F3(t,e){return Le(t.getUTCDate(),e,2)}function x2e(t,e){return Le(t.getUTCHours(),e,2)}function b2e(t,e){return Le(t.getUTCHours()%12||12,e,2)}function w2e(t,e){return Le(1+U1.count(Ws(t),t),e,3)}function VK(t,e){return Le(t.getUTCMilliseconds(),e,3)}function _2e(t,e){return VK(t,e)+"000"}function E2e(t,e){return Le(t.getUTCMonth()+1,e,2)}function S2e(t,e){return Le(t.getUTCMinutes(),e,2)}function T2e(t,e){return Le(t.getUTCSeconds(),e,2)}function A2e(t){var e=t.getUTCDay();return e===0?7:e}function N2e(t,e){return Le(F1.count(Ws(t)-1,t),e,2)}function zK(t){var e=t.getUTCDay();return e>=4||e===0?Fh(t):Fh.ceil(t)}function I2e(t,e){return t=zK(t),Le(Fh.count(Ws(t),t)+(Ws(t).getUTCDay()===4),e,2)}function j2e(t){return t.getUTCDay()}function C2e(t,e){return Le(Ob.count(Ws(t)-1,t),e,2)}function P2e(t,e){return Le(t.getUTCFullYear()%100,e,2)}function k2e(t,e){return t=zK(t),Le(t.getUTCFullYear()%100,e,2)}function O2e(t,e){return Le(t.getUTCFullYear()%1e4,e,4)}function R2e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Fh(t):Fh.ceil(t),Le(t.getUTCFullYear()%1e4,e,4)}function D2e(){return"+0000"}function $3(){return"%"}function q3(t){return+t}function H3(t){return Math.floor(+t/1e3)}var Ju,UK,BK;M2e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function M2e(t){return Ju=MNe(t),UK=Ju.format,Ju.parse,BK=Ju.utcFormat,Ju.utcParse,Ju}function L2e(t){return new Date(t)}function V2e(t){return t instanceof Date?+t:+new Date(+t)}function bP(t,e,n,r,i,a,s,o,l,u){var d=sP(),h=d.invert,f=d.domain,m=u(".%L"),y=u(":%S"),v=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),w=u("%b %d"),_=u("%B"),S=u("%Y");function A(C){return(l(C)<C?m:o(C)<C?y:s(C)<C?v:a(C)<C?x:r(C)<C?i(C)<C?b:w:n(C)<C?_:S)(C)}return d.invert=function(C){return new Date(h(C))},d.domain=function(C){return arguments.length?f(Array.from(C,V2e)):f().map(L2e)},d.ticks=function(C){var N=f();return t(N[0],N[N.length-1],C??10)},d.tickFormat=function(C,N){return N==null?A:u(N)},d.nice=function(C){var N=f();return(!C||typeof C.range!="function")&&(C=e(N[0],N[N.length-1],C??10)),C?f(NK(N,C)):d},d.copy=function(){return ky(d,bP(t,e,n,r,i,a,s,o,l,u))},d}function z2e(){return Zi.apply(bP(RNe,DNe,Ks,vP,B1,Oy,gP,mP,Ic,UK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function U2e(){return Zi.apply(bP(kNe,ONe,Ws,xP,F1,U1,yP,pP,Ic,BK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $1(){var t=0,e=1,n,r,i,a,s=Cr,o=!1,l;function u(h){return h==null||isNaN(h=+h)?l:s(i===0?.5:(h=(a(h)-n)*i,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(s=h,u):s};function d(h){return function(f){var m,y;return arguments.length?([m,y]=f,s=h(m,y),u):[s(0),s(1)]}}return u.range=d(Ef),u.rangeRound=d(aP),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return a=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function Gl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function FK(){var t=Hl($1()(Cr));return t.copy=function(){return Gl(t,FK())},uo.apply(t,arguments)}function $K(){var t=cP($1()).domain([1,10]);return t.copy=function(){return Gl(t,$K()).base(t.base())},uo.apply(t,arguments)}function qK(){var t=uP($1());return t.copy=function(){return Gl(t,qK()).constant(t.constant())},uo.apply(t,arguments)}function wP(){var t=dP($1());return t.copy=function(){return Gl(t,wP()).exponent(t.exponent())},uo.apply(t,arguments)}function B2e(){return wP.apply(null,arguments).exponent(.5)}function HK(){var t=[],e=Cr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Cy(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ul),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>AAe(t,a/r))},n.copy=function(){return HK(e).domain(t)},uo.apply(n,arguments)}function q1(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,u=Cr,d,h=!1,f;function m(v){return isNaN(v=+v)?f:(v=.5+((v=+d(v))-a)*(r*v<r*a?o:l),u(h?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([t,e,n]=v,i=d(t=+t),a=d(e=+e),s=d(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m):[t,e,n]},m.clamp=function(v){return arguments.length?(h=!!v,m):h},m.interpolator=function(v){return arguments.length?(u=v,m):u};function y(v){return function(x){var b,w,_;return arguments.length?([b,w,_]=x,u=JAe(v,[b,w,_]),m):[u(0),u(.5),u(1)]}}return m.range=y(Ef),m.rangeRound=y(aP),m.unknown=function(v){return arguments.length?(f=v,m):f},function(v){return d=v,i=v(t),a=v(e),s=v(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m}}function GK(){var t=Hl(q1()(Cr));return t.copy=function(){return Gl(t,GK())},uo.apply(t,arguments)}function KK(){var t=cP(q1()).domain([.1,1,10]);return t.copy=function(){return Gl(t,KK()).base(t.base())},uo.apply(t,arguments)}function WK(){var t=uP(q1());return t.copy=function(){return Gl(t,WK()).constant(t.constant())},uo.apply(t,arguments)}function _P(){var t=dP(q1());return t.copy=function(){return Gl(t,_P()).exponent(t.exponent())},uo.apply(t,arguments)}function F2e(){return _P.apply(null,arguments).exponent(.5)}const Fm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:nP,scaleDiverging:GK,scaleDivergingLog:KK,scaleDivergingPow:_P,scaleDivergingSqrt:F2e,scaleDivergingSymlog:WK,scaleIdentity:AK,scaleImplicit:fN,scaleLinear:TK,scaleLog:IK,scaleOrdinal:tP,scalePoint:jAe,scalePow:hP,scaleQuantile:PK,scaleQuantize:kK,scaleRadial:CK,scaleSequential:FK,scaleSequentialLog:$K,scaleSequentialPow:wP,scaleSequentialQuantile:HK,scaleSequentialSqrt:B2e,scaleSequentialSymlog:qK,scaleSqrt:_Ne,scaleSymlog:jK,scaleThreshold:OK,scaleTime:z2e,scaleUtc:U2e,tickFormat:SK},Symbol.toStringTag,{value:"Module"}));var Kl=t=>t.chartData,EP=U([Kl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Ry=(t,e,n,r)=>r?EP(t):Kl(t);function gu(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Tt(e)&&Tt(n))return!0}return!1}function G3(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function YK(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Tt(n))i=n;else if(typeof n=="function")return;if(Tt(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(gu(s))return s}}function $2e(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(gu(r))return G3(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,o;if(i==="auto")e!=null&&(s=Math.min(...e));else if(ie(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&R6.test(i)){var l=R6.exec(i);if(l==null||e==null)s=void 0;else{var u=+l[1];s=e[0]-u}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(o=Math.max(...e));else if(ie(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&D6.test(a)){var d=D6.exec(a);if(d==null||e==null)o=void 0;else{var h=+d[1];o=e[1]+h}}else o=e==null?void 0:e[1];var f=[s,o];if(gu(f))return e==null?f:G3(f,e,n)}}}var Sf=1e9,q2e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},TP,Pt=!0,Wi="[DecimalError] ",qc=Wi+"Invalid argument: ",SP=Wi+"Exponent out of range: ",Tf=Math.floor,gc=Math.pow,H2e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,si,kn=1e7,gt=7,QK=9007199254740991,Rb=Tf(QK/gt),ae={};ae.absoluteValue=ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ae.comparedTo=ae.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*gt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ae.dividedBy=ae.div=function(t){return Is(this,new this.constructor(t))};ae.dividedToIntegerBy=ae.idiv=function(t){var e=this,n=e.constructor;return rt(Is(e,new n(t),0,1),n.precision)};ae.equals=ae.eq=function(t){return!this.cmp(t)};ae.exponent=function(){return gn(this)};ae.greaterThan=ae.gt=function(t){return this.cmp(t)>0};ae.greaterThanOrEqualTo=ae.gte=function(t){return this.cmp(t)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(t){return this.cmp(t)<0};ae.lessThanOrEqualTo=ae.lte=function(t){return this.cmp(t)<1};ae.logarithm=ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(si))throw Error(Wi+"NaN");if(n.s<1)throw Error(Wi+(n.s?"NaN":"-Infinity"));return n.eq(si)?new r(0):(Pt=!1,e=Is(Ig(n,a),Ig(t,a),a),Pt=!0,rt(e,i))};ae.minus=ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?JK(e,t):XK(e,(t.s=-t.s,t))};ae.modulo=ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Wi+"NaN");return n.s?(Pt=!1,e=Is(n,t,0,1).times(t),Pt=!0,n.minus(e)):rt(new r(n),i)};ae.naturalExponential=ae.exp=function(){return ZK(this)};ae.naturalLogarithm=ae.ln=function(){return Ig(this)};ae.negated=ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ae.plus=ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?XK(e,t):JK(e,(t.s=-t.s,t))};ae.precision=ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(qc+t);if(e=gn(i)+1,r=i.d.length-1,n=r*gt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ae.squareRoot=ae.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Wi+"NaN")}for(t=gn(o),Pt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Pa(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Tf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Is(o,a,s+2)).times(.5),Pa(a.d).slice(0,s)===(e=Pa(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(rt(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return Pt=!0,rt(r,n)};ae.times=ae.mul=function(t){var e,n,r,i,a,s,o,l,u,d=this,h=d.constructor,f=d.d,m=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,n=d.e+t.e,l=f.length,u=m.length,l<u&&(a=f,f=m,m=a,s=l,l=u,u=s),a=[],s=l+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+m[r]*f[i-r-1]+e,a[i--]=o%kn|0,e=o/kn|0;a[i]=(a[i]+e)%kn|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Pt?rt(t,h.precision):t};ae.toDecimalPlaces=ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ka(t,0,Sf),e===void 0?e=r.rounding:Ka(e,0,8),rt(n,t+gn(n)+1,e))};ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=yu(r,!0):(Ka(t,0,Sf),e===void 0?e=i.rounding:Ka(e,0,8),r=rt(new i(r),t+1,e),n=yu(r,!0,t+1)),n};ae.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?yu(i):(Ka(t,0,Sf),e===void 0?e=a.rounding:Ka(e,0,8),r=rt(new a(i),t+gn(i)+1,e),n=yu(r.abs(),!1,t+gn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ae.toInteger=ae.toint=function(){var t=this,e=t.constructor;return rt(new e(t),gn(t)+1,e.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(si);if(o=new l(o),!o.s){if(t.s<1)throw Error(Wi+"Infinity");return o}if(o.eq(si))return o;if(r=l.precision,t.eq(si))return rt(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=d<0?-d:d)<=QK){for(i=new l(si),e=Math.ceil(r/gt+4),Pt=!1;n%2&&(i=i.times(o),W3(i.d,e)),n=Tf(n/2),n!==0;)o=o.times(o),W3(o.d,e);return Pt=!0,t.s<0?new l(si).div(i):rt(i,r)}}else if(a<0)throw Error(Wi+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Pt=!1,i=t.times(Ig(o,r+u)),Pt=!0,i=ZK(i),i.s=a,i};ae.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=gn(i),r=yu(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ka(t,1,Sf),e===void 0?e=a.rounding:Ka(e,0,8),i=rt(new a(i),t,e),n=gn(i),r=yu(i,t<=n||n<=a.toExpNeg,t)),r};ae.toSignificantDigits=ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ka(t,1,Sf),e===void 0?e=r.rounding:Ka(e,0,8)),rt(new r(n),t,e)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=gn(t),n=t.constructor;return yu(t,e<=n.toExpNeg||e>=n.toExpPos)};function XK(t,e){var n,r,i,a,s,o,l,u,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Pt?rt(e,h):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=u.length):(r=u,i=s,o=l.length),s=Math.ceil(h/gt),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/kn|0,l[a]%=kn;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Pt?rt(e,h):e}function Ka(t,e,n){if(t!==~~t||t<e||t>n)throw Error(qc+t)}function Pa(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=gt-r.length,n&&(a+=Po(n)),a+=r;s=t[e],r=s+"",n=gt-r.length,n&&(a+=Po(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Is=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%kn|0,s=a/kn|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*kn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,u,d,h,f,m,y,v,x,b,w,_,S,A,C,N,T,I=r.constructor,P=r.s==i.s?1:-1,k=r.d,R=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(Wi+"Division by zero");for(l=r.e-i.e,N=R.length,A=k.length,m=new I(P),y=m.d=[],u=0;R[u]==(k[u]||0);)++u;if(R[u]>(k[u]||0)&&--l,a==null?w=a=I.precision:s?w=a+(gn(r)-gn(i))+1:w=a,w<0)return new I(0);if(w=w/gt+2|0,u=0,N==1)for(d=0,R=R[0],w++;(u<A||d)&&w--;u++)_=d*kn+(k[u]||0),y[u]=_/R|0,d=_%R|0;else{for(d=kn/(R[0]+1)|0,d>1&&(R=t(R,d),k=t(k,d),N=R.length,A=k.length),S=N,v=k.slice(0,N),x=v.length;x<N;)v[x++]=0;T=R.slice(),T.unshift(0),C=R[0],R[1]>=kn/2&&++C;do d=0,o=e(R,v,N,x),o<0?(b=v[0],N!=x&&(b=b*kn+(v[1]||0)),d=b/C|0,d>1?(d>=kn&&(d=kn-1),h=t(R,d),f=h.length,x=v.length,o=e(h,v,f,x),o==1&&(d--,n(h,N<f?T:R,f))):(d==0&&(o=d=1),h=R.slice()),f=h.length,f<x&&h.unshift(0),n(v,h,x),o==-1&&(x=v.length,o=e(R,v,N,x),o<1&&(d++,n(v,N<x?T:R,x))),x=v.length):o===0&&(d++,v=[0]),y[u++]=d,o&&v[0]?v[x++]=k[S]||0:(v=[k[S]],x=1);while((S++<A||v[0]!==void 0)&&w--)}return y[0]||y.shift(),m.e=l,rt(m,s?a+gn(m)+1:a)}}();function ZK(t,e){var n,r,i,a,s,o,l=0,u=0,d=t.constructor,h=d.precision;if(gn(t)>16)throw Error(SP+gn(t));if(!t.s)return new d(si);for(Pt=!1,o=h,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(gc(2,u))/Math.LN10*2+5|0,o+=r,n=i=a=new d(si),d.precision=o;;){if(i=rt(i.times(t),o),n=n.times(++l),s=a.plus(Is(i,n,o)),Pa(s.d).slice(0,o)===Pa(a.d).slice(0,o)){for(;u--;)a=rt(a.times(a),o);return d.precision=h,e==null?(Pt=!0,rt(a,h)):a}a=s}}function gn(t){for(var e=t.e*gt,n=t.d[0];n>=10;n/=10)e++;return e}function TS(t,e,n){if(e>t.LN10.sd())throw Pt=!0,n&&(t.precision=n),Error(Wi+"LN10 precision limit exceeded");return rt(new t(t.LN10),e)}function Po(t){for(var e="";t--;)e+="0";return e}function Ig(t,e){var n,r,i,a,s,o,l,u,d,h=1,f=10,m=t,y=m.d,v=m.constructor,x=v.precision;if(m.s<1)throw Error(Wi+(m.s?"NaN":"-Infinity"));if(m.eq(si))return new v(0);if(e==null?(Pt=!1,u=x):u=e,m.eq(10))return e==null&&(Pt=!0),TS(v,u);if(u+=f,v.precision=u,n=Pa(y),r=n.charAt(0),a=gn(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Pa(m.d),r=n.charAt(0),h++;a=gn(m),r>1?(m=new v("0."+n),a++):m=new v(r+"."+n.slice(1))}else return l=TS(v,u+2,x).times(a+""),m=Ig(new v(r+"."+n.slice(1)),u-f).plus(l),v.precision=x,e==null?(Pt=!0,rt(m,x)):m;for(o=s=m=Is(m.minus(si),m.plus(si),u),d=rt(m.times(m),u),i=3;;){if(s=rt(s.times(d),u),l=o.plus(Is(s,new v(i),u)),Pa(l.d).slice(0,u)===Pa(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(TS(v,u+2,x).times(a+""))),o=Is(o,new v(h),u),v.precision=x,e==null?(Pt=!0,rt(o,x)):o;o=l,i+=2}}function K3(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Tf(n/gt),t.d=[],r=(n+1)%gt,n<0&&(r+=gt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=gt;r<i;)t.d.push(+e.slice(r,r+=gt));e=e.slice(r),r=gt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Pt&&(t.e>Rb||t.e<-Rb))throw Error(SP+n)}else t.s=0,t.e=0,t.d=[0];return t}function rt(t,e,n){var r,i,a,s,o,l,u,d,h=t.d;for(s=1,a=h[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=gt,i=e,u=h[d=0];else{if(d=Math.ceil((r+1)/gt),a=h.length,d>=a)return t;for(u=a=h[d],s=1;a>=10;a/=10)s++;r%=gt,i=r-gt+s}if(n!==void 0&&(a=gc(10,s-i-1),o=u/a%10|0,l=e<0||h[d+1]!==void 0||u%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?u/gc(10,s-i):0:h[d-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return l?(a=gn(t),h.length=1,e=e-a-1,h[0]=gc(10,(gt-e%gt)%gt),t.e=Tf(-e/gt)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=d,a=1,d--):(h.length=d+1,a=gc(10,gt-r),h[d]=i>0?(u/gc(10,s-i)%gc(10,i)|0)*a:0),l)for(;;)if(d==0){(h[0]+=a)==kn&&(h[0]=1,++t.e);break}else{if(h[d]+=a,h[d]!=kn)break;h[d--]=0,a=1}for(r=h.length;h[--r]===0;)h.pop();if(Pt&&(t.e>Rb||t.e<-Rb))throw Error(SP+gn(t));return t}function JK(t,e){var n,r,i,a,s,o,l,u,d,h,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),Pt?rt(e,m):e;if(l=t.d,h=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(d=s<0,d?(n=l,s=-s,o=h.length):(n=h,r=u,o=l.length),i=Math.max(Math.ceil(m/gt),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=h.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=h[i]){d=l[i]<h[i];break}s=0}for(d&&(n=l,l=h,h=n,e.s=-e.s),o=l.length,i=h.length-o;i>0;--i)l[o++]=0;for(i=h.length;i>s;){if(l[--i]<h[i]){for(a=i;a&&l[--a]===0;)l[a]=kn-1;--l[a],l[i]+=kn}l[i]-=h[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Pt?rt(e,m):e):new f(0)}function yu(t,e,n){var r,i=gn(t),a=Pa(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Po(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Po(-i-1)+a,n&&(r=n-s)>0&&(a+=Po(r))):i>=s?(a+=Po(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Po(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Po(r))),t.s<0?"-"+a:a}function W3(t,e){if(t.length>e)return t.length=e,!0}function eW(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(qc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return K3(s,a.toString())}else if(typeof a!="string")throw Error(qc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,H2e.test(a))K3(s,a);else throw Error(qc+a)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=eW,i.config=i.set=G2e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function G2e(t){if(!t||typeof t!="object")throw Error(Wi+"Object expected");var e,n,r,i=["precision",1,Sf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Tf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(qc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(qc+n+": "+r);return this}var TP=eW(q2e);si=new TP(1);const Ke=TP;var K2e=t=>t,tW={},nW=t=>t===tW,Y3=t=>function e(){return arguments.length===0||arguments.length===1&&nW(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},rW=(t,e)=>t===1?e:Y3(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==tW).length;return a>=t?e(...r):rW(t-a,Y3(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var u=r.map(d=>nW(d)?o.shift():d);return e(...u,...o)}))}),H1=t=>rW(t.length,t),yN=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},W2e=H1((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Y2e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return K2e;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}},vN=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),iW=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((s,o)=>{var l;return s===((l=e)===null||l===void 0?void 0:l[o])})||(e=i,n=t(...i)),n}};function aW(t){var e;return t===0?e=1:e=Math.floor(new Ke(t).abs().log(10).toNumber())+1,e}function sW(t,e,n){for(var r=new Ke(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}H1((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});H1((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});H1((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var oW=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},lW=(t,e,n)=>{if(t.lte(0))return new Ke(0);var r=aW(t.toNumber()),i=new Ke(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new Ke(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?new Ke(l.toNumber()):new Ke(Math.ceil(l.toNumber()))},Q2e=(t,e,n)=>{var r=new Ke(1),i=new Ke(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Ke(10).pow(aW(t)-1),i=new Ke(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ke(Math.floor(t)))}else t===0?i=new Ke(Math.floor((e-1)/2)):n||(i=new Ke(Math.floor(t)));var s=Math.floor((e-1)/2),o=Y2e(W2e(l=>i.add(new Ke(l-s).mul(r)).toNumber()),yN);return o(0,e)},cW=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ke(0),tickMin:new Ke(0),tickMax:new Ke(0)};var s=lW(new Ke(n).sub(e).div(r-1),i,a),o;e<=0&&n>=0?o=new Ke(0):(o=new Ke(e).add(n).div(2),o=o.sub(new Ke(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),u=Math.ceil(new Ke(n).sub(o).div(s).toNumber()),d=l+u+1;return d>r?cW(e,n,r,i,a+1):(d<r&&(u=n>0?u+(r-d):u,l=n>0?l:l+(r-d)),{step:s,tickMin:o.sub(new Ke(l).mul(s)),tickMax:o.add(new Ke(u).mul(s))})};function X2e(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[s,o]=oW([e,n]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...yN(0,r-1).map(()=>1/0)]:[...yN(0,r-1).map(()=>-1/0),o];return e>n?vN(l):l}if(s===o)return Q2e(s,r,i);var{step:u,tickMin:d,tickMax:h}=cW(s,o,a,i,0),f=sW(d,h.add(new Ke(.1).mul(u)),u);return e>n?vN(f):f}function Z2e(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=oW([n,r]);if(a===-1/0||s===1/0)return[n,r];if(a===s)return[a];var o=Math.max(e,2),l=lW(new Ke(s).sub(a).div(o-1),i,0),u=[...sW(new Ke(a),new Ke(s),l),s];return i===!1&&(u=u.map(d=>Math.round(d))),n>r?vN(u):u}var J2e=iW(X2e),eIe=iW(Z2e),uW=t=>t.rootProps.maxBarSize,tIe=t=>t.rootProps.barGap,dW=t=>t.rootProps.barCategoryGap,nIe=t=>t.rootProps.barSize,Dy=t=>t.rootProps.stackOffset,AP=t=>t.options.chartName,NP=t=>t.rootProps.syncId,hW=t=>t.rootProps.syncMethod,IP=t=>t.options.eventEmitter,rIe=t=>t.rootProps.baseValue,en={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},us={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ni={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},G1=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},iIe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:us.angleAxisId,includeHidden:!1,name:void 0,reversed:us.reversed,scale:us.scale,tick:us.tick,tickCount:void 0,ticks:void 0,type:us.type,unit:void 0},aIe={allowDataOverflow:ni.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ni.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ni.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ni.scale,tick:ni.tick,tickCount:ni.tickCount,ticks:void 0,type:ni.type,unit:void 0},sIe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:us.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:us.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:us.scale,tick:us.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},oIe={allowDataOverflow:ni.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ni.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ni.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ni.scale,tick:ni.tick,tickCount:ni.tickCount,ticks:void 0,type:"category",unit:void 0},jP=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?sIe:iIe,CP=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?oIe:aIe,K1=t=>t.polarOptions,PP=U([oo,lo,Tn],oK),fW=U([K1,PP],(t,e)=>{if(t!=null)return pr(t.innerRadius,e,0)}),mW=U([K1,PP],(t,e)=>{if(t!=null)return pr(t.outerRadius,e,e*.8)}),lIe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},pW=U([K1],lIe);U([jP,pW],G1);var gW=U([PP,fW,mW],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});U([CP,gW],G1);var yW=U([Ie,K1,fW,mW,oo,lo],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=e;return{cx:pr(s,i,i/2),cy:pr(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),Ot=(t,e)=>e,My=(t,e,n)=>n;function W1(t){return t==null?void 0:t.id}function vW(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return t.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var d=W1(o);u.forEach((h,f)=>{var m=a==null||i?f:String(Je(h,a,null)),y=Je(h,o.dataKey,0),v;s.has(m)?v=s.get(m):v={},Object.assign(v,{[d]:y}),s.set(m,v)})}}),Array.from(s.values())}function Y1(t){return t.stackId!=null&&t.dataKey!=null}var Q1=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function X1(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function cIe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Nn=t=>{var e=Ie(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Af=t=>t.tooltip.settings.axisId;function Q3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Db(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q3(Object(n),!0).forEach(function(r){uIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uIe(t,e,n){return(e=dIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dIe(t){var e=hIe(t,"string");return typeof e=="symbol"?e:e+""}function hIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xN=[0,"auto"],Zr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},xW=(t,e)=>t.cartesianAxis.xAxis[e],ho=(t,e)=>{var n=xW(t,e);return n??Zr},Jr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:xN,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:jy},bW=(t,e)=>t.cartesianAxis.yAxis[e],fo=(t,e)=>{var n=bW(t,e);return n??Jr},fIe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},kP=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??fIe},Ut=(t,e,n)=>{switch(e){case"xAxis":return ho(t,n);case"yAxis":return fo(t,n);case"zAxis":return kP(t,n);case"angleAxis":return jP(t,n);case"radiusAxis":return CP(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},mIe=(t,e,n)=>{switch(e){case"xAxis":return ho(t,n);case"yAxis":return fo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Ly=(t,e,n)=>{switch(e){case"xAxis":return ho(t,n);case"yAxis":return fo(t,n);case"angleAxis":return jP(t,n);case"radiusAxis":return CP(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},wW=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function OP(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Vy=t=>t.graphicalItems.cartesianItems,pIe=U([Ot,My],OP),RP=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),zy=U([Vy,Ut,pIe],RP,{memoizeOptions:{resultEqualityCheck:X1}}),_W=U([zy],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Y1)),EW=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),gIe=U([zy],EW),DP=t=>t.map(e=>e.data).filter(Boolean).flat(1),yIe=U([zy],DP,{memoizeOptions:{resultEqualityCheck:X1}}),MP=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},LP=U([yIe,Ry],MP),VP=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Je(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Je(i,r)}))):t.map(r=>({value:r})),Z1=U([LP,Ut,zy],VP);function SW(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Lv(t){if(Ha(t)||t instanceof Date){var e=Number(t);if(Tt(e))return e}}function X3(t){if(Array.isArray(t)){var e=[Lv(t[0]),Lv(t[1])];return gu(e)?e:void 0}var n=Lv(t);if(n!=null)return[n,n]}function Ys(t){return t.map(Lv).filter(q1e)}function vIe(t,e,n){return!n||typeof e!="number"||Gi(e)?[]:n.length?Ys(n.flatMap(r=>{var i=Je(t,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Tt(a)||!Tt(s)))return[e-a,e+s]})):[]}var In=t=>{var e=Nn(t),n=Af(t);return Ly(t,e,n)},TW=U([In],t=>t==null?void 0:t.dataKey),xIe=U([_W,Ry,In],vW),AW=(t,e,n)=>{var r={},i=e.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[s,o]=a,l=o.map(W1);return[s,{stackedData:rSe(t,l,n),graphicalItems:o}]}))},jg=U([xIe,_W,Dy],AW),NW=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var s=oSe(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},bIe=U([Ut],t=>t.allowDataOverflow),zP=t=>{var e;if(t==null||!("domain"in t))return xN;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Ys(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:xN},UP=U([Ut],zP),BP=U([UP,bIe],YK),wIe=U([jg,Kl,Ot,BP],NW,{memoizeOptions:{resultEqualityCheck:Q1}}),J1=t=>t.errorBars,_Ie=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>SW(n,r)),Mb=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},FP=(t,e,n,r,i)=>{var a,s;if(n.length>0&&t.forEach(o=>{n.forEach(l=>{var u,d,h=(u=r[l.id])===null||u===void 0?void 0:u.filter(b=>SW(i,b)),f=Je(o,(d=e.dataKey)!==null&&d!==void 0?d:l.dataKey),m=vIe(o,f,h);if(m.length>=2){var y=Math.min(...m),v=Math.max(...m);(a==null||y<a)&&(a=y),(s==null||v>s)&&(s=v)}var x=X3(f);x!=null&&(a=a==null?x[0]:Math.min(a,x[0]),s=s==null?x[1]:Math.max(s,x[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(o=>{var l=X3(Je(o,e.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),Tt(a)&&Tt(s))return[a,s]},EIe=U([LP,Ut,gIe,J1,Ot],FP,{memoizeOptions:{resultEqualityCheck:Q1}});function SIe(t){var{value:e}=t;if(Ha(e)||e instanceof Date)return e}var TIe=(t,e,n)=>{var r=t.map(SIe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&PH(r))?mK(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},IW=t=>t.referenceElements.dots,Nf=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),AIe=U([IW,Ot,My],Nf),jW=t=>t.referenceElements.areas,NIe=U([jW,Ot,My],Nf),CW=t=>t.referenceElements.lines,IIe=U([CW,Ot,My],Nf),PW=(t,e)=>{var n=Ys(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},jIe=U(AIe,Ot,PW),kW=(t,e)=>{var n=Ys(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},CIe=U([NIe,Ot],kW);function PIe(t){var e;if(t.x!=null)return Ys([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Ys(n)}function kIe(t){var e;if(t.y!=null)return Ys([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Ys(n)}var OW=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?PIe(r):kIe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},OIe=U([IIe,Ot],OW),RIe=U(jIe,OIe,CIe,(t,e,n)=>Mb(t,n,e)),$P=(t,e,n,r,i,a,s,o)=>{if(n!=null)return n;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=l?Mb(r,a,i):Mb(a,i);return $2e(e,u,t.allowDataOverflow)},DIe=U([Ut,UP,BP,wIe,EIe,RIe,Ie,Ot],$P,{memoizeOptions:{resultEqualityCheck:Q1}}),MIe=[0,1],qP=(t,e,n,r,i,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=t,u=es(e,a);if(u&&o==null){var d;return mK(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?TIe(r,t,u):i==="expand"?MIe:s}},HP=U([Ut,Ie,LP,Z1,Dy,Ot,DIe],qP),RW=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(Ty(a));return o in Fm?o:"point"}}},If=U([Ut,Ie,wW,AP,Ot],RW);function LIe(t){if(t!=null){if(t in Fm)return Fm[t]();var e="scale".concat(Ty(t));if(e in Fm)return Fm[e]()}}function GP(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=LIe(e);if(i!=null){var a=i.domain(n).range(r);return ZEe(a),a}}}var KP=(t,e,n)=>{var r=zP(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&gu(t))return J2e(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&gu(t))return eIe(t,e.tickCount,e.allowDecimals)}},WP=U([HP,Ly,If],KP),YP=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&gu(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],s=e[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return e},VIe=U([Ut,HP,WP,Ot],YP),zIe=U(Z1,Ut,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Ys(t.map(o=>o.value))).sort((o,l)=>o-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),DW=U(zIe,Ie,dW,Tn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Tt(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=pr(n,t*a),o=t*a/2;return o-s-(o-s)/a*s}return 0}),UIe=(t,e)=>{var n=ho(t,e);return n==null||typeof n.padding!="string"?0:DW(t,"xAxis",e,n.padding)},BIe=(t,e)=>{var n=fo(t,e);return n==null||typeof n.padding!="string"?0:DW(t,"yAxis",e,n.padding)},FIe=U(ho,UIe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),$Ie=U(fo,BIe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),qIe=U([Tn,FIe,M1,D1,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),HIe=U([Tn,Ie,$Ie,M1,D1,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Uy=(t,e,n,r)=>{var i;switch(e){case"xAxis":return qIe(t,n,r);case"yAxis":return HIe(t,n,r);case"zAxis":return(i=kP(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return pW(t);case"radiusAxis":return gW(t,n);default:return}},MW=U([Ut,Uy],G1),jf=U([Ut,If,VIe,MW],GP);U([zy,J1,Ot],_Ie);function LW(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var e_=(t,e)=>e,t_=(t,e,n)=>n,GIe=U(O1,e_,t_,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(LW)),KIe=U(R1,e_,t_,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(LW)),VW=(t,e)=>({width:t.width,height:e.height}),WIe=(t,e)=>{var n=typeof e.width=="number"?e.width:jy;return{width:n,height:t.height}},zW=U(Tn,ho,VW),YIe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},QIe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},XIe=U(lo,Tn,GIe,e_,t_,(t,e,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=VW(e,o);s==null&&(s=YIe(e,r,t));var u=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),a}),ZIe=U(oo,Tn,KIe,e_,t_,(t,e,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=WIe(e,o);s==null&&(s=QIe(e,r,t));var u=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),a}),JIe=(t,e)=>{var n=ho(t,e);if(n!=null)return XIe(t,n.orientation,n.mirror)},eje=U([Tn,ho,JIe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),tje=(t,e)=>{var n=fo(t,e);if(n!=null)return ZIe(t,n.orientation,n.mirror)},nje=U([Tn,fo,tje,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),UW=U(Tn,fo,(t,e)=>{var n=typeof e.width=="number"?e.width:jy;return{width:n,height:t.height}}),Z3=(t,e,n)=>{switch(e){case"xAxis":return zW(t,n).width;case"yAxis":return UW(t,n).height;default:return}},BW=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=es(t,r),l=e.map(u=>u.value);if(s&&o&&a==="category"&&i&&PH(l))return l}},QP=U([Ie,Z1,Ut,Ot],BW),FW=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=es(t,r);if(s&&(i==="number"||a!=="auto"))return e.map(o=>o.value)}},XP=U([Ie,Z1,Ly,Ot],FW),J3=U([Ie,mIe,If,jf,QP,XP,Uy,WP,Ot],(t,e,n,r,i,a,s,o,l)=>{if(e!=null){var u=es(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:n,scale:r}}}),rje=(t,e,n,r,i,a,s,o,l)=>{if(!(e==null||r==null)){var u=es(t,l),{type:d,ticks:h,tickCount:f}=e,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,y=d==="category"&&r.bandwidth?r.bandwidth()/m:0;y=l==="angleAxis"&&a!=null&&a.length>=2?Vn(a[0]-a[1])*2*y:y;var v=h||i;if(v){var x=v.map((b,w)=>{var _=s?s.indexOf(b):b;return{index:w,coordinate:r(_)+y,value:b,offset:y}});return x.filter(b=>Tt(b.coordinate))}return u&&o?o.map((b,w)=>({coordinate:r(b)+y,value:b,index:w,offset:y})).filter(b=>Tt(b.coordinate)):r.ticks?r.ticks(f).map(b=>({coordinate:r(b)+y,value:b,offset:y})):r.domain().map((b,w)=>({coordinate:r(b)+y,value:s?s[b]:b,index:w,offset:y}))}},$W=U([Ie,Ly,If,jf,WP,Uy,QP,XP,Ot],rje),ije=(t,e,n,r,i,a,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var o=es(t,s),{tickCount:l}=e,u=0;return u=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Vn(r[0]-r[1])*2*u:u,o&&a?a.map((d,h)=>({coordinate:n(d)+u,value:d,index:h,offset:u})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,h)=>({coordinate:n(d)+u,value:i?i[d]:d,index:h,offset:u}))}},Wa=U([Ie,Ly,jf,Uy,QP,XP,Ot],ije),Ya=U(Ut,jf,(t,e)=>{if(!(t==null||e==null))return Db(Db({},t),{},{scale:e})}),aje=U([Ut,If,HP,MW],GP);U((t,e,n)=>kP(t,n),aje,(t,e)=>{if(!(t==null||e==null))return Db(Db({},t),{},{scale:e})});var sje=U([Ie,O1,R1],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),qW=t=>t.options.defaultTooltipEventType,HW=t=>t.options.validateTooltipEventTypes;function GW(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function ZP(t,e){var n=qW(t),r=HW(t);return GW(e,n,r)}function oje(t){return se(e=>ZP(e,t))}var KW=(t,e)=>{var n,r=Number(e);if(!(Gi(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},lje=t=>t.tooltip.settings,Vo={active:!1,index:null,dataKey:void 0,coordinate:void 0},cje={itemInteraction:{click:Vo,hover:Vo},axisInteraction:{click:Vo,hover:Vo},keyboardInteraction:Vo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},WW=Qr({name:"tooltip",initialState:cje,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:bn()},removeTooltipEntrySettings:{reducer(t,e){var n=Ns(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:bn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:uje,removeTooltipEntrySettings:dje,setTooltipSettingsState:hje,setActiveMouseOverItemIndex:YW,mouseLeaveItem:fje,mouseLeaveChart:QW,setActiveClickItemIndex:mje,setMouseOverAxisIndex:XW,setMouseClickAxisIndex:pje,setSyncInteraction:bN,setKeyboardInteraction:wN}=WW.actions,gje=WW.reducer;function eL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eL(Object(n),!0).forEach(function(r){yje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yje(t,e,n){return(e=vje(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vje(t){var e=xje(t,"string");return typeof e=="symbol"?e:e+""}function xje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bje(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function wje(t){return t.index!=null}var ZW=(t,e,n,r)=>{if(e==null)return Vo;var i=bje(t,e,n);if(i==null)return Vo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(wje(i)){if(a)return Y0(Y0({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Y0(Y0({},Vo),{},{coordinate:i.coordinate})},JP=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!Tt(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},JW=(t,e,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],u=l==null?void 0:o(l.positions,a);if(u!=null)return u;var d=i==null?void 0:i[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:d.coordinate}}}},eY=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},By=t=>t.options.tooltipPayloadSearcher,Cf=t=>t.tooltip;function tL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tL(Object(n),!0).forEach(function(r){_je(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _je(t,e,n){return(e=Eje(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eje(t){var e=Sje(t,"string");return typeof e=="symbol"?e:e+""}function Sje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tje(t,e){return t??e}var tY=(t,e,n,r,i,a,s)=>{if(!(e==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:d}=n,h=[];return t.reduce((f,m)=>{var y,{dataDefinedOnItem:v,settings:x}=m,b=Tje(v,o),w=Array.isArray(b)?LG(b,u,d):b,_=(y=x==null?void 0:x.dataKey)!==null&&y!==void 0?y:r,S=x==null?void 0:x.nameKey,A;if(r&&Array.isArray(w)&&!Array.isArray(w[0])&&s==="axis"?A=kH(w,r,i):A=a(w,e,l,S),Array.isArray(A))A.forEach(N=>{var T=nL(nL({},x),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});f.push(M6({tooltipEntrySettings:T,dataKey:N.dataKey,payload:N.payload,value:Je(N.payload,N.dataKey),name:N.name}))});else{var C;f.push(M6({tooltipEntrySettings:x,dataKey:_,payload:A,value:Je(A,_),name:(C=Je(A,S))!==null&&C!==void 0?C:x==null?void 0:x.name}))}return f},h)}},ek=U([In,Ie,wW,AP,Nn],RW),Aje=U([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Nje=U([Nn,Af],OP),Fy=U([Aje,In,Nje],RP,{memoizeOptions:{resultEqualityCheck:X1}}),Ije=U([Fy],t=>t.filter(Y1)),jje=U([Fy],DP,{memoizeOptions:{resultEqualityCheck:X1}}),Pf=U([jje,Kl],MP),Cje=U([Ije,Kl,In],vW),tk=U([Pf,In,Fy],VP),nY=U([In],zP),Pje=U([In],t=>t.allowDataOverflow),rY=U([nY,Pje],YK),kje=U([Fy],t=>t.filter(Y1)),Oje=U([Cje,kje,Dy],AW),Rje=U([Oje,Kl,Nn,rY],NW),Dje=U([Fy],EW),Mje=U([Pf,In,Dje,J1,Nn],FP,{memoizeOptions:{resultEqualityCheck:Q1}}),Lje=U([IW,Nn,Af],Nf),Vje=U([Lje,Nn],PW),zje=U([jW,Nn,Af],Nf),Uje=U([zje,Nn],kW),Bje=U([CW,Nn,Af],Nf),Fje=U([Bje,Nn],OW),$je=U([Vje,Fje,Uje],Mb),qje=U([In,nY,rY,Rje,Mje,$je,Ie,Nn],$P),iY=U([In,Ie,Pf,tk,Dy,Nn,qje],qP),Hje=U([iY,In,ek],KP),Gje=U([In,iY,Hje,Nn],YP),aY=t=>{var e=Nn(t),n=Af(t),r=!1;return Uy(t,e,n,r)},sY=U([In,aY],G1),oY=U([In,ek,Gje,sY],GP),Kje=U([Ie,tk,In,Nn],BW),Wje=U([Ie,tk,In,Nn],FW),Yje=(t,e,n,r,i,a,s,o)=>{if(e){var{type:l}=e,u=es(t,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return h=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Vn(i[0]-i[1])*2*h:h,u&&s?s.map((f,m)=>({coordinate:r(f)+h,value:f,index:m,offset:h})):r.domain().map((f,m)=>({coordinate:r(f)+h,value:a?a[f]:f,index:m,offset:h}))}}},mo=U([Ie,In,ek,oY,aY,Kje,Wje,Nn],Yje),nk=U([qW,HW,lje],(t,e,n)=>GW(n.shared,t,e)),lY=t=>t.tooltip.settings.trigger,rk=t=>t.tooltip.settings.defaultIndex,n_=U([Cf,nk,lY,rk],ZW),Pl=U([n_,Pf],JP),cY=U([mo,Pl],KW),uY=U([n_],t=>{if(t)return t.dataKey}),dY=U([Cf,nk,lY,rk],eY),Qje=U([oo,lo,Ie,Tn,mo,rk,dY,By],JW),Xje=U([n_,Qje],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Zje=U([n_],t=>t.active),Jje=U([dY,Pl,Kl,TW,cY,By,nk],tY),eCe=U([Jje],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function rL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rL(Object(n),!0).forEach(function(r){tCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tCe(t,e,n){return(e=nCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nCe(t){var e=rCe(t,"string");return typeof e=="symbol"?e:e+""}function rCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iCe=()=>se(In),aCe=()=>{var t=iCe(),e=se(mo),n=se(oY);return Cl(!t||!n?void 0:iL(iL({},t),{},{scale:n}),e)};function aL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aL(Object(n),!0).forEach(function(r){sCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sCe(t,e,n){return(e=oCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oCe(t){var e=lCe(t,"string");return typeof e=="symbol"?e:e+""}function lCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cCe=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},uCe=(t,e,n,r)=>{var i=e.find(u=>u&&u.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=r;return ed(ed(ed({},r),fn(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return ed(ed(ed({},r),fn(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function dCe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var hY=(t,e,n,r,i)=>{var a,s=-1,o=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(o<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?n[l-1].coordinate:n[o-1].coordinate,d=n[l].coordinate,h=l>=o-1?n[0].coordinate:n[l+1].coordinate,f=void 0;if(Vn(d-u)!==Vn(h-d)){var m=[];if(Vn(h-d)===Vn(i[1]-i[0])){f=h;var y=d+i[1]-i[0];m[0]=Math.min(y,(y+u)/2),m[1]=Math.max(y,(y+u)/2)}else{f=u;var v=h+i[1]-i[0];m[0]=Math.min(d,(v+d)/2),m[1]=Math.max(d,(v+d)/2)}var x=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(t>x[0]&&t<=x[1]||t>=m[0]&&t<=m[1]){({index:s}=n[l]);break}}else{var b=Math.min(u,h),w=Math.max(u,h);if(t>(b+d)/2&&t<=(w+d)/2){({index:s}=n[l]);break}}}else if(e){for(var _=0;_<o;_++)if(_===0&&t<=(e[_].coordinate+e[_+1].coordinate)/2||_>0&&_<o-1&&t>(e[_].coordinate+e[_-1].coordinate)/2&&t<=(e[_].coordinate+e[_+1].coordinate)/2||_===o-1&&t>(e[_].coordinate+e[_-1].coordinate)/2){({index:s}=e[_]);break}}return s},fY=()=>se(AP),ik=(t,e)=>e,mY=(t,e,n)=>n,ak=(t,e,n,r)=>r,hCe=U(mo,t=>N1(t,e=>e.coordinate)),sk=U([Cf,ik,mY,ak],ZW),pY=U([sk,Pf],JP),fCe=(t,e,n)=>{if(e!=null){var r=Cf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},gY=U([Cf,ik,mY,ak],eY),Lb=U([oo,lo,Ie,Tn,mo,ak,gY,By],JW),mCe=U([sk,Lb],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),yY=U([mo,pY],KW),pCe=U([gY,pY,Kl,TW,yY,By,ik],tY),gCe=U([sk],t=>({isActive:t.active,activeIndex:t.index})),yCe=(t,e,n,r,i,a,s)=>{if(!(!t||!n||!r||!i)&&dCe(t,s)){var o=lSe(t,e),l=hY(o,a,i,n,r),u=cCe(e,i,l,t);return{activeIndex:String(l),activeCoordinate:u}}},vCe=(t,e,n,r,i,a,s)=>{if(!(!t||!r||!i||!a||!n)){var o=cAe(t,n);if(o){var l=cSe(o,e),u=hY(l,s,a,r,i),d=uCe(e,a,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},xCe=(t,e,n,r,i,a,s,o)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?yCe(t,e,r,i,a,s,o):vCe(t,e,n,r,i,a,s)},bCe=U(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),wCe=U(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(en)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:cIe}});function sL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sL(Object(n),!0).forEach(function(r){_Ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Ce(t,e,n){return(e=ECe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ECe(t){var e=SCe(t,"string");return typeof e=="symbol"?e:e+""}function SCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TCe={},ACe={zIndexMap:Object.values(en).reduce((t,e)=>oL(oL({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),TCe)},NCe=new Set(Object.values(en));function ICe(t){return NCe.has(t)}var vY=Qr({name:"zIndex",initialState:ACe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:bn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!ICe(n)&&delete t.zIndexMap[n])},prepare:bn()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:bn()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:bn()}}}),{registerZIndexPortal:jCe,unregisterZIndexPortal:CCe,registerZIndexPortalId:PCe,unregisterZIndexPortalId:kCe}=vY.actions,OCe=vY.reducer;function Dr(t){var{zIndex:e,children:n}=t,r=MSe(),i=r&&e!==void 0&&e!==0,a=Bn(),s=ht();g.useLayoutEffect(()=>i?(s(jCe({zIndex:e})),()=>{s(CCe({zIndex:e}))}):Ru,[s,e,i]);var o=se(u=>bCe(u,e,a));if(!i)return n;if(!o)return null;var l=document.getElementById(o);return l?tw.createPortal(n,l):null}function _N(){return _N=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_N.apply(null,arguments)}function lL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lL(Object(n),!0).forEach(function(r){RCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RCe(t,e,n){return(e=DCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DCe(t){var e=MCe(t,"string");return typeof e=="symbol"?e:e+""}function MCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LCe(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return g.isValidElement(e)?g.cloneElement(e,r):g.createElement(n,r)}function VCe(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:u,chartName:d}=t,h=n,f=r,m=i;if(!l||!h||d!=="ScatterChart"&&u!=="axis")return null;var y,v,x;if(d==="ScatterChart")y=h,v=TTe,x=en.cursorLine;else if(d==="BarChart")y=ATe(o,h,a,s),v=sK,x=en.cursorRectangle;else if(o==="radial"&&RH(h)){var{cx:b,cy:w,radius:_,startAngle:S,endAngle:A}=lK(h);y={cx:b,cy:w,startAngle:S,endAngle:A,innerRadius:_,outerRadius:_},v=uK,x=en.cursorLine}else y={points:fAe(o,h,a)},v=Yd,x=en.cursorLine;var C=typeof l=="object"&&"className"in l?l.className:void 0,N=Q0(Q0(Q0(Q0({stroke:"#ccc",pointerEvents:"none"},a),y),hu(l)),{},{payload:f,payloadIndex:m,className:De("recharts-tooltip-cursor",C)});return g.createElement(Dr,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:x},g.createElement(LCe,{cursor:l,cursorComp:v,cursorProps:N}))}function zCe(t){var e=aCe(),n=XG(),r=bf(),i=fY();return e==null||n==null||r==null||i==null?null:g.createElement(VCe,_N({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var xY=g.createContext(null),UCe=()=>g.useContext(xY),bY={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function a(l,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,h||l,f),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=n?n+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,y=new Array(m);f<m;f++)y[f]=h[f].fn;return y},o.prototype.listenerCount=function(u){var d=n?n+u:u,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,d,h,f,m,y){var v=n?n+u:u;if(!this._events[v])return!1;var x=this._events[v],b=arguments.length,w,_;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,h),!0;case 4:return x.fn.call(x.context,d,h,f),!0;case 5:return x.fn.call(x.context,d,h,f,m),!0;case 6:return x.fn.call(x.context,d,h,f,m,y),!0}for(_=1,w=new Array(b-1);_<b;_++)w[_-1]=arguments[_];x.fn.apply(x.context,w)}else{var S=x.length,A;for(_=0;_<S;_++)switch(x[_].once&&this.removeListener(u,x[_].fn,void 0,!0),b){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,d);break;case 3:x[_].fn.call(x[_].context,d,h);break;case 4:x[_].fn.call(x[_].context,d,h,f);break;default:if(!w)for(A=1,w=new Array(b-1);A<b;A++)w[A-1]=arguments[A];x[_].fn.apply(x[_].context,w)}}return!0},o.prototype.on=function(u,d,h){return a(this,u,d,h,!1)},o.prototype.once=function(u,d,h){return a(this,u,d,h,!0)},o.prototype.removeListener=function(u,d,h,f){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!f||y.once)&&(!h||y.context===h)&&s(this,m);else{for(var v=0,x=[],b=y.length;v<b;v++)(y[v].fn!==d||f&&!y[v].once||h&&y[v].context!==h)&&x.push(y[v]);x.length?this._events[m]=x.length===1?x[0]:x:s(this,m)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(bY);var BCe=bY.exports;const FCe=Qa(BCe);var Cg=new FCe,EN="recharts.syncEvent.tooltip",cL="recharts.syncEvent.brush";function r_(t,e){if(e){var n=Number.parseInt(e,10);if(!Gi(n))return t==null?void 0:t[n]}}var $Ce={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},wY=Qr({name:"options",initialState:$Ce,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),qCe=wY.reducer,{createEventEmitter:HCe}=wY.actions;function GCe(t){return t.tooltip.syncInteraction}var KCe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},_Y=Qr({name:"chartData",initialState:KCe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:uL,setDataStartEndIndexes:WCe,setComputedData:I6e}=_Y.actions,YCe=_Y.reducer,QCe=["x","y"];function dL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function td(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dL(Object(n),!0).forEach(function(r){XCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XCe(t,e,n){return(e=ZCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZCe(t){var e=JCe(t,"string");return typeof e=="symbol"?e:e+""}function JCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ePe(t,e){if(t==null)return{};var n,r,i=tPe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tPe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nPe(){var t=se(NP),e=se(IP),n=ht(),r=se(hW),i=se(mo),a=bf(),s=L1(),o=se(l=>l.rootProps.className);g.useEffect(()=>{if(t==null)return Ru;var l=(u,d,h)=>{if(e!==h&&t===u){if(r==="index"){var f;if(s&&d!==null&&d!==void 0&&(f=d.payload)!==null&&f!==void 0&&f.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:y,y:v}=m,x=ePe(m,QCe),{x:b,y:w,width:_,height:S}=d.payload.sourceViewBox,A=td(td({},x),{},{x:s.x+(_?(y-b)/_:0)*s.width,y:s.y+(S?(v-w)/S:0)*s.height});n(td(td({},d),{},{payload:td(td({},d.payload),{},{coordinate:A})}))}else n(d);return}if(i!=null){var C;if(typeof r=="function"){var N={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},T=r(i,N);C=i[T]}else r==="value"&&(C=i.find(B=>String(B.value)===d.payload.label));var{coordinate:I}=d.payload;if(C==null||d.payload.active===!1||I==null||s==null){n(bN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:P,y:k}=I,R=Math.min(P,s.x+s.width),O=Math.min(k,s.y+s.height),M={x:a==="horizontal"?C.coordinate:R,y:a==="horizontal"?O:C.coordinate},L=bN({active:d.payload.active,coordinate:M,dataKey:d.payload.dataKey,index:String(C.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox});n(L)}}};return Cg.on(EN,l),()=>{Cg.off(EN,l)}},[o,n,e,t,r,i,a,s])}function rPe(){var t=se(NP),e=se(IP),n=ht();g.useEffect(()=>{if(t==null)return Ru;var r=(i,a,s)=>{e!==s&&t===i&&n(WCe(a))};return Cg.on(cL,r),()=>{Cg.off(cL,r)}},[n,e,t])}function iPe(){var t=ht();g.useEffect(()=>{t(HCe())},[t]),nPe(),rPe()}function aPe(t,e,n,r,i,a){var s=se(m=>fCe(m,t,e)),o=se(IP),l=se(NP),u=se(hW),d=se(GCe),h=d==null?void 0:d.active,f=L1();g.useEffect(()=>{if(!h&&l!=null&&o!=null){var m=bN({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:f});Cg.emit(EN,l,m,o)}},[h,n,s,i,r,o,l,u,a,f])}function hL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hL(Object(n),!0).forEach(function(r){sPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sPe(t,e,n){return(e=oPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oPe(t){var e=lPe(t,"string");return typeof e=="symbol"?e:e+""}function lPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cPe(t){return t.dataKey}function uPe(t,e){return g.isValidElement(t)?g.cloneElement(t,e):typeof t=="function"?g.createElement(t,e):g.createElement(rTe,e)}var mL=[],dPe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!co.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Pg(t){var e,n,r=Yt(t,dPe),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:f,position:m,reverseDirection:y,useTranslate3d:v,wrapperStyle:x,cursor:b,shared:w,trigger:_,defaultIndex:S,portal:A,axisId:C}=r,N=ht(),T=typeof S=="number"?String(S):S;g.useEffect(()=>{N(hje({shared:w,trigger:_,axisId:C,active:i,defaultIndex:T}))},[N,w,_,C,i,T]);var I=L1(),P=tK(),k=oje(w),{activeIndex:R,isActive:O}=(e=se(ft=>gCe(ft,k,_,T)))!==null&&e!==void 0?e:{},M=se(ft=>pCe(ft,k,_,T)),L=se(ft=>yY(ft,k,_,T)),B=se(ft=>mCe(ft,k,_,T)),q=M,H=UCe(),J=(n=i??O)!==null&&n!==void 0?n:!1,[oe,et]=uG([q,J]),Rt=k==="axis"?L:void 0;aPe(k,_,B,Rt,R,J);var he=A??H;if(he==null||I==null||k==null)return null;var fe=q??mL;J||(fe=mL),u&&fe.length&&(fe=ZH(fe.filter(ft=>ft.value!=null&&(ft.hide!==!0||r.includeHidden)),f,cPe));var st=fe.length>0,yn=g.createElement(uTe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:J,coordinate:B,hasPayload:st,offset:h,position:m,reverseDirection:y,useTranslate3d:v,viewBox:I,wrapperStyle:x,lastBoundingBox:oe,innerRef:et,hasPortalFromProps:!!A},uPe(l,fL(fL({},r),{},{payload:fe,label:Rt,active:J,activeIndex:R,coordinate:B,accessibilityLayer:P})));return g.createElement(g.Fragment,null,tw.createPortal(yn,he),J&&g.createElement(zCe,{cursor:b,tooltipEventType:k,coordinate:B,payload:fe,index:R}))}var Lu=t=>null;Lu.displayName="Cell";function hPe(t,e,n){return(e=fPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fPe(t){var e=mPe(t,"string");return typeof e=="symbol"?e:e+""}function mPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class pPe{constructor(e){hPe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function pL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gPe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pL(Object(n),!0).forEach(function(r){yPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yPe(t,e,n){return(e=vPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vPe(t){var e=xPe(t,"string");return typeof e=="symbol"?e:e+""}function xPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bPe={cacheSize:2e3,enableCache:!0},EY=gPe({},bPe),gL=new pPe(EY.cacheSize),wPe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},yL="recharts_measurement_span";function _Pe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var vL=(t,e)=>{try{var n=document.getElementById(yL);n||(n=document.createElement("span"),n.setAttribute("id",yL),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,wPe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Sp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||co.isSsr)return{width:0,height:0};if(!EY.enableCache)return vL(e,n);var r=_Pe(e,n),i=gL.get(r);if(i)return i;var a=vL(e,n);return gL.set(r,a),a},xL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EPe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,SPe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,SY={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},TPe=Object.keys(SY),Cd="NaN";function APe(t,e){return t*SY[e]}class Ur{static parse(e){var n,[,r,i]=(n=SPe.exec(e))!==null&&n!==void 0?n:[];return new Ur(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Gi(e)&&(this.unit=""),n!==""&&!EPe.test(n)&&(this.num=NaN,this.unit=""),TPe.includes(n)&&(this.num=APe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Ur(NaN,""):new Ur(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Ur(NaN,""):new Ur(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ur(NaN,""):new Ur(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ur(NaN,""):new Ur(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Gi(this.num)}}function TY(t){if(t.includes(Cd))return Cd;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=xL.exec(e))!==null&&n!==void 0?n:[],s=Ur.parse(r??""),o=Ur.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return Cd;e=e.replace(xL,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,d,h,f]=(u=bL.exec(e))!==null&&u!==void 0?u:[],m=Ur.parse(d??""),y=Ur.parse(f??""),v=h==="+"?m.add(y):m.subtract(y);if(v.isNaN())return Cd;e=e.replace(bL,v.toString())}return e}var wL=/\(([^()]*)\)/;function NPe(t){for(var e=t,n;(n=wL.exec(e))!=null;){var[,r]=n;e=e.replace(wL,TY(r))}return e}function IPe(t){var e=t.replace(/\s+/g,"");return e=NPe(e),e=TY(e),e}function jPe(t){try{return IPe(t)}catch{return Cd}}function AS(t){var e=jPe(t.slice(5,-1));return e===Cd?"":e}var CPe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],PPe=["dx","dy","angle","className","breakAll"];function SN(){return SN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SN.apply(null,arguments)}function _L(t,e){if(t==null)return{};var n,r,i=kPe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kPe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var AY=/[ \f\n\r\t\v\u2028\u2029]+/,NY=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];_t(e)||(n?i=e.toString().split(""):i=e.toString().split(AY));var a=i.map(o=>({word:o,width:Sp(o,r).width})),s=n?0:Sp("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function OPe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var IY=(t,e,n,r)=>t.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(e==null||r||l.width+o+n<Number(e)))l.words.push(s),l.width+=o+n;else{var u={words:[s],width:o};i.push(u)}return i},[]),jY=t=>t.reduce((e,n)=>e.width>n.width?e:n),RPe="",EL=(t,e,n,r,i,a,s,o)=>{var l=t.slice(0,e),u=NY({breakAll:n,style:r,children:l+RPe});if(!u)return[!1,[]];var d=IY(u.wordsWithComputedWidth,a,s,o),h=d.length>i||jY(d).width>Number(a);return[h,d]},DPe=(t,e,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=t,u=ie(a),d=String(s),h=IY(e,r,n,i);if(!u||i)return h;var f=h.length>a||jY(h).width>Number(r);if(!f)return h;for(var m=0,y=d.length-1,v=0,x;m<=y&&v<=d.length-1;){var b=Math.floor((m+y)/2),w=b-1,[_,S]=EL(d,w,l,o,a,r,n,i),[A]=EL(d,b,l,o,a,r,n,i);if(!_&&!A&&(m=b+1),_&&A&&(y=b-1),!_&&A){x=S;break}v++}return x||h},SL=t=>{var e=_t(t)?[]:t.toString().split(AY);return[{words:e,width:void 0}]},MPe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=t;if((e||n)&&!co.isSsr){var o,l,u=NY({breakAll:a,children:r,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:h}=u;o=d,l=h}else return SL(r);return DPe({breakAll:a,children:r,maxLines:s,style:i},o,l,e,!!n)}return SL(r)},CY="#808080",LPe={breakAll:!1,capHeight:"0.71em",fill:CY,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},i_=g.forwardRef((t,e)=>{var n=Yt(t,LPe),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:d}=n,h=_L(n,CPe),f=g.useMemo(()=>MPe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:m,dy:y,angle:v,className:x,breakAll:b}=h,w=_L(h,PPe);if(!Ha(r)||!Ha(i)||f.length===0)return null;var _=Number(r)+(ie(m)?m:0),S=Number(i)+(ie(y)?y:0);if(!Tt(_)||!Tt(S))return null;var A;switch(d){case"start":A=AS("calc(".concat(s,")"));break;case"middle":A=AS("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:A=AS("calc(".concat(f.length-1," * -").concat(a,")"));break}var C=[];if(l){var N=f[0].width,{width:T}=h;C.push("scale(".concat(ie(T)&&ie(N)?T/N:1,")"))}return v&&C.push("rotate(".concat(v,", ").concat(_,", ").concat(S,")")),C.length&&(w.transform=C.join(" ")),g.createElement("text",SN({},yr(w),{ref:e,x:_,y:S,className:De("recharts-text",x),textAnchor:u,fill:o.includes("url")?CY:o}),f.map((I,P)=>{var k=I.words.join(b?"":" ");return g.createElement("tspan",{x:_,dy:P===0?A:a,key:"".concat(k,"-").concat(P)},k)}))});i_.displayName="Text";var VPe=["labelRef"];function zPe(t,e){if(t==null)return{};var n,r,i=UPe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function UPe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function TL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TL(Object(n),!0).forEach(function(r){BPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BPe(t,e,n){return(e=FPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FPe(t){var e=$Pe(t,"string");return typeof e=="symbol"?e:e+""}function $Pe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ds(){return ds=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ds.apply(null,arguments)}var PY=g.createContext(null),qPe=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=t,l=g.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[e,n,r,i,a,s]);return g.createElement(PY.Provider,{value:l},o)},kY=()=>{var t=g.useContext(PY),e=L1();return t||QG(e)},HPe=g.createContext(null),GPe=()=>{var t=g.useContext(HPe),e=se(yW);return t||e},KPe=t=>{var{value:e,formatter:n}=t,r=_t(t.children)?e:t.children;return typeof n=="function"?n(r):r},ok=t=>t!=null&&typeof t=="function",WPe=(t,e)=>{var n=Vn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},YPe=(t,e,n,r,i)=>{var{offset:a,className:s}=t,{cx:o,cy:l,innerRadius:u,outerRadius:d,startAngle:h,endAngle:f,clockWise:m}=i,y=(u+d)/2,v=WPe(h,f),x=v>=0?1:-1,b,w;switch(e){case"insideStart":b=h+x*a,w=m;break;case"insideEnd":b=f-x*a,w=!m;break;case"end":b=f+x*a,w=m;break;default:throw new Error("Unsupported position ".concat(e))}w=v<=0?w:!w;var _=fn(o,l,y,b),S=fn(o,l,y,b+(w?1:-1)*359),A="M".concat(_.x,",").concat(_.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(w?0:1,`,
    `).concat(S.x,",").concat(S.y),C=_t(t.id)?vg("recharts-radial-line-"):t.id;return g.createElement("text",ds({},r,{dominantBaseline:"central",className:De("recharts-radial-bar-label",s)}),g.createElement("defs",null,g.createElement("path",{id:C,d:A})),g.createElement("textPath",{xlinkHref:"#".concat(C)},n))},QPe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=t,u=(o+l)/2;if(n==="outside"){var{x:d,y:h}=fn(r,i,s+e,u);return{x:d,y:h,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(a+s)/2,{x:m,y}=fn(r,i,f,u);return{x:m,y,textAnchor:"middle",verticalAnchor:"middle"}},TN=t=>"cx"in t&&ie(t.cx),XPe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!TN(n)&&(a=n);var{x:s,y:o,upperWidth:l,lowerWidth:u,height:d}=e,h=s,f=s+(l-u)/2,m=(h+f)/2,y=(l+u)/2,v=h+l/2,x=d>=0?1:-1,b=x*r,w=x>0?"end":"start",_=x>0?"start":"end",S=l>=0?1:-1,A=S*r,C=S>0?"end":"start",N=S>0?"start":"end";if(i==="top"){var T={x:h+l/2,y:o-b,textAnchor:"middle",verticalAnchor:w};return Qt(Qt({},T),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var I={x:f+u/2,y:o+d+b,textAnchor:"middle",verticalAnchor:_};return Qt(Qt({},I),a?{height:Math.max(a.y+a.height-(o+d),0),width:u}:{})}if(i==="left"){var P={x:m-A,y:o+d/2,textAnchor:C,verticalAnchor:"middle"};return Qt(Qt({},P),a?{width:Math.max(P.x-a.x,0),height:d}:{})}if(i==="right"){var k={x:m+y+A,y:o+d/2,textAnchor:N,verticalAnchor:"middle"};return Qt(Qt({},k),a?{width:Math.max(a.x+a.width-k.x,0),height:d}:{})}var R=a?{width:y,height:d}:{};return i==="insideLeft"?Qt({x:m+A,y:o+d/2,textAnchor:N,verticalAnchor:"middle"},R):i==="insideRight"?Qt({x:m+y-A,y:o+d/2,textAnchor:C,verticalAnchor:"middle"},R):i==="insideTop"?Qt({x:h+l/2,y:o+b,textAnchor:"middle",verticalAnchor:_},R):i==="insideBottom"?Qt({x:f+u/2,y:o+d-b,textAnchor:"middle",verticalAnchor:w},R):i==="insideTopLeft"?Qt({x:h+A,y:o+b,textAnchor:N,verticalAnchor:_},R):i==="insideTopRight"?Qt({x:h+l-A,y:o+b,textAnchor:C,verticalAnchor:_},R):i==="insideBottomLeft"?Qt({x:f+A,y:o+d-b,textAnchor:N,verticalAnchor:w},R):i==="insideBottomRight"?Qt({x:f+u-A,y:o+d-b,textAnchor:C,verticalAnchor:w},R):i&&typeof i=="object"&&(ie(i.x)||qs(i.x))&&(ie(i.y)||qs(i.y))?Qt({x:s+pr(i.x,y),y:o+pr(i.y,d),textAnchor:"end",verticalAnchor:"end"},R):Qt({x:v,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},R)},ZPe={offset:5,zIndex:en.label};function ko(t){var e=Yt(t,ZPe),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:u}=e,d=GPe(),h=kY(),f=r==="center"?h:d??h,m,y,v;if(n==null?m=f:TN(n)?m=n:m=QG(n),!m||_t(i)&&_t(a)&&!g.isValidElement(s)&&typeof s!="function")return null;var x=Qt(Qt({},e),{},{viewBox:m});if(g.isValidElement(s)){var{labelRef:b}=x,w=zPe(x,VPe);return g.cloneElement(s,w)}if(typeof s=="function"){if(y=g.createElement(s,x),g.isValidElement(y))return y}else y=KPe(e);var _=yr(e);if(TN(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return YPe(e,r,y,_,m);v=QPe(m,e.offset,e.position)}else v=XPe(e,m);return g.createElement(Dr,{zIndex:e.zIndex},g.createElement(i_,ds({ref:u,className:De("recharts-label",o)},_,v,{textAnchor:OPe(_.textAnchor)?_.textAnchor:v.textAnchor,breakAll:l}),y))}ko.displayName="Label";var JPe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?g.createElement(ko,ds({key:"label-implicit"},r)):Ha(t)?g.createElement(ko,ds({key:"label-implicit",value:t},r)):g.isValidElement(t)?t.type===ko?g.cloneElement(t,Qt({key:"label-implicit"},r)):g.createElement(ko,ds({key:"label-implicit",content:t},r)):ok(t)?g.createElement(ko,ds({key:"label-implicit",content:t},r)):t&&typeof t=="object"?g.createElement(ko,ds({},t,{key:"label-implicit"},r)):null};function eke(t){var{label:e,labelRef:n}=t,r=kY();return JPe(e,r,n)||null}var OY={},RY={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(RY);var DY={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(DY);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RY,n=DY,r=T1;function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(OY);var tke=OY.last;const nke=Qa(tke);var rke=["valueAccessor"],ike=["dataKey","clockWise","id","textBreakAll","zIndex"];function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vb.apply(null,arguments)}function AL(t,e){if(t==null)return{};var n,r,i=ake(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ake(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ske=t=>Array.isArray(t.value)?nke(t.value):t.value,MY=g.createContext(void 0),lk=MY.Provider,LY=g.createContext(void 0),oke=LY.Provider;function lke(){return g.useContext(MY)}function cke(){return g.useContext(LY)}function Vv(t){var{valueAccessor:e=ske}=t,n=AL(t,rke),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,l=AL(n,ike),u=lke(),d=cke(),h=u||d;return!h||!h.length?null:g.createElement(Dr,{zIndex:o??en.label},g.createElement(Gt,{className:"recharts-label-list"},h.map((f,m)=>{var y,v=_t(r)?e(f,m):Je(f&&f.payload,r),x=_t(a)?{}:{id:"".concat(a,"-").concat(m)};return g.createElement(ko,Vb({key:"label-".concat(m)},yr(f),l,x,{fill:(y=n.fill)!==null&&y!==void 0?y:f.fill,parentViewBox:f.parentViewBox,value:v,textBreakAll:s,viewBox:f.viewBox,index:m,zIndex:0}))})))}Vv.displayName="LabelList";function a_(t){var{label:e}=t;return e?e===!0?g.createElement(Vv,{key:"labelList-implicit"}):g.isValidElement(e)||ok(e)?g.createElement(Vv,{key:"labelList-implicit",content:e}):typeof e=="object"?g.createElement(Vv,Vb({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function AN(){return AN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AN.apply(null,arguments)}var VY=t=>{var{cx:e,cy:n,r,className:i}=t,a=De("recharts-dot",i);return ie(e)&&ie(n)&&ie(r)?g.createElement("circle",AN({},Or(t),kC(t),{className:a,cx:e,cy:n,r})):null},zY=t=>t.graphicalItems.polarItems,uke=U([Ot,My],OP),s_=U([zY,Ut,uke],RP),dke=U([s_],DP),o_=U([dke,EP],MP),hke=U([o_,Ut,s_],VP);U([o_,Ut,s_],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,s=Je(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Je(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var NL=()=>{},fke=U([o_,Ut,s_,J1,Ot],FP),mke=U([Ut,UP,BP,NL,fke,NL,Ie,Ot],$P),UY=U([Ut,Ie,o_,hke,Dy,Ot,mke],qP),pke=U([UY,Ut,If],KP);U([Ut,UY,pke,Ot],YP);var gke={radiusAxis:{},angleAxis:{}},BY=Qr({name:"polarAxis",initialState:gke,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:j6e,removeRadiusAxis:C6e,addAngleAxis:P6e,removeAngleAxis:k6e}=BY.actions,yke=BY.reducer;function IL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IL(Object(n),!0).forEach(function(r){vke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vke(t,e,n){return(e=xke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xke(t){var e=bke(t,"string");return typeof e=="symbol"?e:e+""}function bke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wke=(t,e)=>e,ck=U([zY,wke],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),_ke=[],uk=(t,e,n)=>(n==null?void 0:n.length)===0?_ke:n,FY=U([EP,ck,uk],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>jL(jL({},e.presentationProps),a.props))),i!=null)return i}}),Eke=U([FY,ck,uk],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,s=Je(r,e.nameKey,e.name),o;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=e.fill,{value:ql(s,e.dataKey),color:o,payload:r,type:e.legendType}})}),Ske=U([FY,ck,uk,Tn],(t,e,n,r)=>{if(!(e==null||t==null))return wOe({offset:r,pieSettings:e,displayedData:t,cells:n})}),$Y={exports:{}},at={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dk=Symbol.for("react.transitional.element"),hk=Symbol.for("react.portal"),l_=Symbol.for("react.fragment"),c_=Symbol.for("react.strict_mode"),u_=Symbol.for("react.profiler"),d_=Symbol.for("react.consumer"),h_=Symbol.for("react.context"),f_=Symbol.for("react.forward_ref"),m_=Symbol.for("react.suspense"),p_=Symbol.for("react.suspense_list"),g_=Symbol.for("react.memo"),y_=Symbol.for("react.lazy"),Tke=Symbol.for("react.view_transition"),Ake=Symbol.for("react.client.reference");function Ji(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case dk:switch(t=t.type,t){case l_:case u_:case c_:case m_:case p_:case Tke:return t;default:switch(t=t&&t.$$typeof,t){case h_:case f_:case y_:case g_:return t;case d_:return t;default:return e}}case hk:return e}}}at.ContextConsumer=d_;at.ContextProvider=h_;at.Element=dk;at.ForwardRef=f_;at.Fragment=l_;at.Lazy=y_;at.Memo=g_;at.Portal=hk;at.Profiler=u_;at.StrictMode=c_;at.Suspense=m_;at.SuspenseList=p_;at.isContextConsumer=function(t){return Ji(t)===d_};at.isContextProvider=function(t){return Ji(t)===h_};at.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===dk};at.isForwardRef=function(t){return Ji(t)===f_};at.isFragment=function(t){return Ji(t)===l_};at.isLazy=function(t){return Ji(t)===y_};at.isMemo=function(t){return Ji(t)===g_};at.isPortal=function(t){return Ji(t)===hk};at.isProfiler=function(t){return Ji(t)===u_};at.isStrictMode=function(t){return Ji(t)===c_};at.isSuspense=function(t){return Ji(t)===m_};at.isSuspenseList=function(t){return Ji(t)===p_};at.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===l_||t===u_||t===c_||t===m_||t===p_||typeof t=="object"&&t!==null&&(t.$$typeof===y_||t.$$typeof===g_||t.$$typeof===h_||t.$$typeof===d_||t.$$typeof===f_||t.$$typeof===Ake||t.getModuleId!==void 0)};at.typeOf=Ji;$Y.exports=at;var Nke=$Y.exports,CL=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",PL=null,NS=null,qY=t=>{if(t===PL&&Array.isArray(NS))return NS;var e=[];return g.Children.forEach(t,n=>{_t(n)||(Nke.isFragment(n)?e=e.concat(qY(n.props.children)):e.push(n))}),NS=e,PL=t,e};function fk(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>CL(i)):r=[CL(e)],qY(t).forEach(i=>{var a=fu(i,"type.displayName")||fu(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var mk=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,HY={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(HY);var Ike=HY.isPlainObject;const jke=Qa(Ike);function kL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kL(Object(n),!0).forEach(function(r){Cke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cke(t,e,n){return(e=Pke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pke(t){var e=kke(t,"string");return typeof e=="symbol"?e:e+""}function kke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zb(){return zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zb.apply(null,arguments)}var RL=(t,e,n,r,i)=>{var a=n-r,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+n,",").concat(e),s+="L ".concat(t+n-a/2,",").concat(e+i),s+="L ".concat(t+n-a/2-r,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},Oke={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rke=t=>{var e=Yt(t,Oke),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=e,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=e,f=g.useRef(null),[m,y]=g.useState(-1),v=g.useRef(i),x=g.useRef(a),b=g.useRef(s),w=g.useRef(n),_=g.useRef(r),S=_f(t,"trapezoid-");if(g.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var M=f.current.getTotalLength();M&&y(M)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var A=De("recharts-trapezoid",o);if(!h)return g.createElement("g",null,g.createElement("path",zb({},yr(e),{className:A,d:RL(n,r,i,a,s)})));var C=v.current,N=x.current,T=b.current,I=w.current,P=_.current,k="0px ".concat(m===-1?1:m,"px"),R="".concat(m,"px 0px"),O=nK(["strokeDasharray"],u,l);return g.createElement(wf,{animationId:S,key:S,canBegin:m>0,duration:u,easing:l,isActive:h,begin:d},M=>{var L=Fe(C,i,M),B=Fe(N,a,M),q=Fe(T,s,M),H=Fe(I,n,M),J=Fe(P,r,M);f.current&&(v.current=L,x.current=B,b.current=q,w.current=H,_.current=J);var oe=M>0?{transition:O,strokeDasharray:R}:{strokeDasharray:k};return g.createElement("path",zb({},yr(e),{className:A,d:RL(H,J,L,B,q),ref:f,style:OL(OL({},oe),e.style)}))})},Dke=["option","shapeType","propTransformer","activeClassName","isActive"];function Mke(t,e){if(t==null)return{};var n,r,i=Lke(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lke(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function DL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ub(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DL(Object(n),!0).forEach(function(r){Vke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vke(t,e,n){return(e=zke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zke(t){var e=Uke(t,"string");return typeof e=="symbol"?e:e+""}function Uke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bke(t,e){return Ub(Ub({},e),t)}function Fke(t,e){return t==="symbols"}function ML(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return g.createElement(sK,n);case"trapezoid":return g.createElement(Rke,n);case"sector":return g.createElement(uK,n);case"symbols":if(Fke(e))return g.createElement(PC,n);break;case"curve":return g.createElement(Yd,n);default:return null}}function $ke(t){return g.isValidElement(t)?t.props:t}function pk(t){var{option:e,shapeType:n,propTransformer:r=Bke,activeClassName:i="recharts-active-shape",isActive:a}=t,s=Mke(t,Dke),o;if(g.isValidElement(e))o=g.cloneElement(e,Ub(Ub({},s),$ke(e)));else if(typeof e=="function")o=e(s);else if(jke(e)&&typeof e!="boolean"){var l=r(e,s);o=g.createElement(ML,{shapeType:n,elementProps:l})}else{var u=s;o=g.createElement(ML,{shapeType:n,elementProps:u})}return a?g.createElement(Gt,{className:i},o):o}var gk=(t,e)=>{var n=ht();return(r,i)=>a=>{t==null||t(r,i,a),n(YW({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},yk=t=>{var e=ht();return(n,r)=>i=>{t==null||t(n,r,i),e(fje())}},vk=(t,e)=>{var n=ht();return(r,i)=>a=>{t==null||t(r,i,a),n(mje({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function v_(t){var{fn:e,args:n}=t,r=ht(),i=Bn();return g.useLayoutEffect(()=>{if(!i){var a=e(n);return r(uje(a)),()=>{r(dje(a))}}},[e,n,r,i]),null}function xk(t){var{legendPayload:e}=t,n=ht(),r=Bn();return g.useLayoutEffect(()=>r?Ru:(n(JG(e)),()=>{n(eK(e))}),[n,r,e]),null}function qke(t){var{legendPayload:e}=t,n=ht(),r=se(Ie);return g.useLayoutEffect(()=>r!=="centric"&&r!=="radial"?Ru:(n(JG(e)),()=>{n(eK(e))}),[n,r,e]),null}var IS,Hke=()=>{var[t]=g.useState(()=>vg("uid-"));return t},Gke=(IS=jX.useId)!==null&&IS!==void 0?IS:Hke;function GY(t,e){var n=Gke();return e||(t?"".concat(t,"-").concat(n):n)}var Kke=g.createContext(void 0),x_=t=>{var{id:e,type:n,children:r}=t,i=GY("recharts-".concat(n),e);return g.createElement(Kke.Provider,{value:i},r(i))},Wke={cartesianItems:[],polarItems:[]},KY=Qr({name:"graphicalItems",initialState:Wke,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:bn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Ns(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:bn()},removeCartesianGraphicalItem:{reducer(t,e){var n=Ns(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:bn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:bn()},removePolarGraphicalItem:{reducer(t,e){var n=Ns(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:bn()}}}),{addCartesianGraphicalItem:Yke,replaceCartesianGraphicalItem:Qke,removeCartesianGraphicalItem:Xke,addPolarGraphicalItem:Zke,removePolarGraphicalItem:Jke}=KY.actions,eOe=KY.reducer;function bk(t){var e=ht(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?e(Yke(t)):n.current!==t&&e(Qke({prev:n.current,next:t})),n.current=t},[e,t]),g.useLayoutEffect(()=>()=>{n.current&&(e(Xke(n.current)),n.current=null)},[e]),null}function tOe(t){var e=ht();return g.useLayoutEffect(()=>(e(Zke(t)),()=>{e(Jke(t))}),[e,t]),null}var nOe=["onMouseEnter","onClick","onMouseLeave"],rOe=["id"],iOe=["id"];function wk(t,e){if(t==null)return{};var n,r,i=aOe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function LL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LL(Object(n),!0).forEach(function(r){sOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sOe(t,e,n){return(e=oOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oOe(t){var e=lOe(t,"string");return typeof e=="symbol"?e:e+""}function lOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kl(){return kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kl.apply(null,arguments)}function cOe(t){var e=g.useMemo(()=>fk(t.children,Lu),[t.children]),n=se(r=>Eke(r,t.id,e));return n==null?null:g.createElement(qke,{legendPayload:n})}function uOe(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:u}=t;return{dataDefinedOnItem:r.map(d=>d.tooltipPayload),positions:r.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:e,nameKey:n,name:ql(o,e),hide:l,type:u,color:s,unit:""}}}var dOe=(t,e)=>t>e?"start":t<e?"end":"middle",hOe=(t,e,n)=>pr(typeof e=="function"?e(t):e,n,n*.8),fOe=(t,e,n)=>{var{top:r,left:i,width:a,height:s}=e,o=oK(a,s),l=i+pr(t.cx,a,a/2),u=r+pr(t.cy,s,s/2),d=pr(t.innerRadius,o,0),h=hOe(n,t.outerRadius,o),f=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:u,innerRadius:d,outerRadius:h,maxRadius:f}},mOe=(t,e)=>{var n=Vn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function pOe(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var gOe=(t,e)=>{if(g.isValidElement(t))return g.cloneElement(t,e);if(typeof t=="function")return t(e);var n=De("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return g.createElement(Yd,kl({},e,{type:"linear",className:n}))},yOe=(t,e,n)=>{if(g.isValidElement(t))return g.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),g.isValidElement(r)))return r;var i=De("recharts-pie-label-text",pOe(t));return g.createElement(i_,kl({},e,{alignmentBaseline:"middle",className:i}),r)};function vOe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!e)return null;var o=Or(n),l=hu(i),u=hu(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,h=e.map((f,m)=>{var y=(f.startAngle+f.endAngle)/2,v=fn(f.cx,f.cy,f.outerRadius+d,y),x=It(It(It(It({},o),f),{},{stroke:"none"},l),{},{index:m,textAnchor:dOe(v.x,f.cx)},v),b=It(It(It(It({},o),f),{},{fill:"none",stroke:f.fill},u),{},{index:m,points:[fn(f.cx,f.cy,f.outerRadius,y),v],key:"line"});return g.createElement(Dr,{zIndex:en.label,key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(m)},g.createElement(Gt,null,a&&gOe(a,b),yOe(i,x,Je(f,s))))});return g.createElement(Gt,{className:"recharts-pie-labels"},h)}function xOe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?g.createElement(a_,{label:i}):g.createElement(vOe,{sectors:e,props:n,showLabels:r})}function bOe(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i}=t,a=se(Pl),{onMouseEnter:s,onClick:o,onMouseLeave:l}=i,u=wk(i,nOe),d=gk(s,i.dataKey),h=yk(l),f=vk(o,i.dataKey);return e==null||e.length===0?null:g.createElement(g.Fragment,null,e.map((m,y)=>{if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&e.length!==1)return null;var v=n&&String(y)===a,x=a?r:null,b=v?n:x,w=It(It({},m),{},{stroke:m.stroke,tabIndex:-1,[FG]:y,[$G]:i.dataKey});return g.createElement(Gt,kl({key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(y),tabIndex:-1,className:"recharts-pie-sector"},Ay(u,m,y),{onMouseEnter:d(m,y),onMouseLeave:h(m,y),onClick:f(m,y)}),g.createElement(pk,kl({option:b,isActive:v,shapeType:"sector"},w)))}))}function wOe(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:u,nameKey:d,tooltipType:h}=n,f=Math.abs(n.minAngle),m=mOe(o,l),y=Math.abs(m),v=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,x=r.filter(C=>Je(C,u,0)!==0).length,b=(y>=360?x:x-1)*v,w=y-x*f-b,_=r.reduce((C,N)=>{var T=Je(N,u,0);return C+(ie(T)?T:0)},0),S;if(_>0){var A;S=r.map((C,N)=>{var T=Je(C,u,0),I=Je(C,d,N),P=fOe(n,a,C),k=(ie(T)?T:0)/_,R,O=It(It({},C),i&&i[N]&&i[N].props);N?R=A.endAngle+Vn(m)*v*(T!==0?1:0):R=o;var M=R+Vn(m)*((T!==0?f:0)+k*w),L=(R+M)/2,B=(P.innerRadius+P.outerRadius)/2,q=[{name:I,value:T,payload:O,dataKey:u,type:h}],H=fn(P.cx,P.cy,B,L);return A=It(It(It(It({},n.presentationProps),{},{percent:k,cornerRadius:typeof s=="string"?parseFloat(s):s,name:I,tooltipPayload:q,midAngle:L,middleRadius:B,tooltipPosition:H},O),P),{},{value:T,startAngle:R,endAngle:M,payload:O,paddingAngle:Vn(m)*v}),A})}return S}function _Oe(t){var{showLabels:e,sectors:n,children:r}=t,i=g.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return g.createElement(oke,{value:e?i:void 0},r)}function EOe(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o,activeShape:l,inactiveShape:u,onAnimationStart:d,onAnimationEnd:h}=e,f=_f(e,"recharts-pie-"),m=n.current,[y,v]=g.useState(!1),x=g.useCallback(()=>{typeof h=="function"&&h(),v(!1)},[h]),b=g.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return g.createElement(_Oe,{showLabels:!y,sectors:r},g.createElement(wf,{animationId:f,begin:a,duration:s,isActive:i,easing:o,onAnimationStart:b,onAnimationEnd:x,key:f},w=>{var _=[],S=r&&r[0],A=S==null?void 0:S.startAngle;return r==null||r.forEach((C,N)=>{var T=m&&m[N],I=N>0?fu(C,"paddingAngle",0):0;if(T){var P=Fe(T.endAngle-T.startAngle,C.endAngle-C.startAngle,w),k=It(It({},C),{},{startAngle:A+I,endAngle:A+P+I});_.push(k),A=k.endAngle}else{var{endAngle:R,startAngle:O}=C,M=Fe(0,R-O,w),L=It(It({},C),{},{startAngle:A+I,endAngle:A+M+I});_.push(L),A=L.endAngle}}),n.current=_,g.createElement(Gt,null,g.createElement(bOe,{sectors:_,activeShape:l,inactiveShape:u,allOtherPieProps:e}))}),g.createElement(xOe,{showLabels:!y,sectors:r,props:e}),e.children)}var SOe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!co.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:en.area};function TOe(t){var{id:e}=t,n=wk(t,rOe),{hide:r,className:i,rootTabIndex:a}=t,s=g.useMemo(()=>fk(t.children,Lu),[t.children]),o=se(d=>Ske(d,e,s)),l=g.useRef(null),u=De("recharts-pie",i);return r||o==null?(l.current=null,g.createElement(Gt,{tabIndex:a,className:u})):g.createElement(Dr,{zIndex:t.zIndex},g.createElement(v_,{fn:uOe,args:It(It({},t),{},{sectors:o})}),g.createElement(Gt,{tabIndex:a,className:u},g.createElement(EOe,{props:It(It({},n),{},{sectors:o}),previousSectorsRef:l})))}function WY(t){var e=Yt(t,SOe),{id:n}=e,r=wk(e,iOe),i=Or(r);return g.createElement(x_,{id:n,type:"pie"},a=>g.createElement(g.Fragment,null,g.createElement(tOe,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),g.createElement(cOe,kl({},r,{id:a})),g.createElement(TOe,kl({},r,{id:a}))))}WY.displayName="Pie";var AOe=["points"];function VL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VL(Object(n),!0).forEach(function(r){NOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NOe(t,e,n){return(e=IOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IOe(t){var e=jOe(t,"string");return typeof e=="symbol"?e:e+""}function jOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bb(){return Bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bb.apply(null,arguments)}function COe(t,e){if(t==null)return{};var n,r,i=POe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function POe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function kOe(t){var{option:e,dotProps:n,className:r}=t;if(g.isValidElement(e))return g.cloneElement(e,n);if(typeof e=="function")return e(n);var i=De(r,typeof e!="boolean"?e.className:""),a=n??{},{points:s}=a,o=COe(a,AOe);return g.createElement(VY,Bb({},o,{className:i}))}function OOe(t,e){return t==null?!1:e?!0:t.length===1}function YY(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:u=en.scatter}=t;if(!OOe(e,n))return null;var d=mk(n),h=t1e(n),f=e.map((y,v)=>{var x,b,w=jS(jS(jS({r:3},s),h),{},{index:v,cx:(x=y.x)!==null&&x!==void 0?x:void 0,cy:(b=y.y)!==null&&b!==void 0?b:void 0,dataKey:a,value:y.value,payload:y.payload,points:e});return g.createElement(kOe,{key:"dot-".concat(v),option:n,dotProps:w,className:i})}),m={};return o&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),g.createElement(Dr,{zIndex:u},g.createElement(Gt,Bb({className:r},m),f))}function zL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zL(Object(n),!0).forEach(function(r){ROe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ROe(t,e,n){return(e=DOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DOe(t){var e=MOe(t,"string");return typeof e=="symbol"?e:e+""}function MOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LOe={xAxis:{},yAxis:{},zAxis:{}},QY=Qr({name:"cartesianAxis",initialState:LOe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:bn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:bn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:bn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:bn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:bn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:bn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);t.yAxis[n]=UL(UL({},t.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:VOe,removeXAxis:zOe,addYAxis:UOe,removeYAxis:BOe,addZAxis:O6e,removeZAxis:R6e,updateYAxisWidth:FOe}=QY.actions,$Oe=QY.reducer,qOe=U([Tn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),HOe=U([qOe,oo,lo],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),b_=()=>se(HOe),GOe=()=>se(eCe);function BL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BL(Object(n),!0).forEach(function(r){KOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KOe(t,e,n){return(e=WOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WOe(t){var e=YOe(t,"string");return typeof e=="symbol"?e:e+""}function YOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QOe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var s={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},o=CS(CS(CS({},s),hu(i)),kC(i)),l;return g.isValidElement(i)?l=g.cloneElement(i,o):typeof i=="function"?l=i(o):l=g.createElement(VY,o),g.createElement(Gt,{className:"recharts-active-dot"},l)};function NN(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,zIndex:a=en.activeDot}=t,s=se(Pl),o=GOe();if(e==null||o==null)return null;var l=e.find(u=>o.includes(u.payload));return _t(l)?null:g.createElement(Dr,{zIndex:a},g.createElement(QOe,{point:l,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r}))}var XOe="Invariant failed";function ZOe(t,e){throw new Error(XOe)}var JOe=["x","y"];function IN(){return IN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IN.apply(null,arguments)}function FL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FL(Object(n),!0).forEach(function(r){eRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eRe(t,e,n){return(e=tRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tRe(t){var e=nRe(t,"string");return typeof e=="symbol"?e:e+""}function nRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rRe(t,e){if(t==null)return{};var n,r,i=iRe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function iRe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function aRe(t,e){var{x:n,y:r}=t,i=rRe(t,JOe),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),u="".concat(e.height||i.height),d=parseInt(u,10),h="".concat(e.width||i.width),f=parseInt(h,10);return Sm(Sm(Sm(Sm(Sm({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:f,name:e.name,radius:e.radius})}function Fb(t){return g.createElement(pk,IN({shapeType:"rectangle",propTransformer:aRe,activeClassName:"recharts-active-bar"},t))}var sRe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ie(e))return e;var a=ie(r)||_t(r);return a?e(r,i):(a||ZOe(),n)}},oRe={},XY=Qr({name:"errorBars",initialState:oRe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:D6e,replaceErrorBar:M6e,removeErrorBar:L6e}=XY.actions,lRe=XY.reducer,cRe=["children"];function uRe(t,e){if(t==null)return{};var n,r,i=dRe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dRe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hRe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},fRe=g.createContext(hRe);function ZY(t){var{children:e}=t,n=uRe(t,cRe);return g.createElement(fRe.Provider,{value:n},e)}function w_(t,e){var n,r,i=se(u=>ho(u,t)),a=se(u=>fo(u,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Zr.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Jr.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function _k(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=b_(),{needClipX:a,needClipY:s,needClip:o}=w_(e,n);if(!o||!i)return null;var{x:l,y:u,width:d,height:h}=i;return g.createElement("clipPath",{id:"clipPath-".concat(r)},g.createElement("rect",{x:a?l:l-d/2,y:s?u:u-h/2,width:a?d:d*2,height:s?h:h*2}))}function mRe(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Tt(t.zIndex)?t.zIndex:e}var pRe=["onMouseEnter","onMouseLeave","onClick"],gRe=["value","background","tooltipPosition"],yRe=["id"],vRe=["onMouseEnter","onClick","onMouseLeave"];function Qs(){return Qs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qs.apply(null,arguments)}function $L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$L(Object(n),!0).forEach(function(r){xRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$L(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xRe(t,e,n){return(e=bRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bRe(t){var e=wRe(t,"string");return typeof e=="symbol"?e:e+""}function wRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $b(t,e){if(t==null)return{};var n,r,i=_Re(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _Re(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ERe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:ql(n,e),payload:t}]};function SRe(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:o}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:ql(a,e),hide:s,type:t.tooltipType,color:t.fill,unit:o}}}function TRe(t){var e=se(Pl),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:s,onMouseLeave:o,onClick:l}=a,u=$b(a,pRe),d=gk(s,r),h=yk(o),f=vk(l,r);if(!i||n==null)return null;var m=hu(i);return g.createElement(Dr,{zIndex:mRe(i,en.barBackground)},n.map((y,v)=>{var{value:x,background:b,tooltipPosition:w}=y,_=$b(y,gRe);if(!b)return null;var S=d(y,v),A=h(y,v),C=f(y,v),N=Ir(Ir(Ir(Ir(Ir({option:i,isActive:String(v)===e},_),{},{fill:"#eee"},b),m),Ay(u,y,v)),{},{onMouseEnter:S,onMouseLeave:A,onClick:C,dataKey:r,index:v,className:"recharts-bar-background-rectangle"});return g.createElement(Fb,Qs({key:"background-bar-".concat(v)},N))}))}function ARe(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Ir(Ir({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return g.createElement(lk,{value:e?i:void 0},n)}function NRe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:s}=t,o=se(Pl),l=se(uY),u=n&&String(a)===o&&(l==null||s===l),d=u?n:e;return u?g.createElement(Dr,{zIndex:en.activeBar},g.createElement(Fb,Qs({},r,{name:String(r.name)},i,{isActive:u,option:d,index:a,dataKey:s}))):g.createElement(Fb,Qs({},r,{name:String(r.name)},i,{isActive:u,option:d,index:a,dataKey:s}))}function IRe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return g.createElement(Fb,Qs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:a}))}function jRe(t){var e,{data:n,props:r}=t,i=(e=Or(r))!==null&&e!==void 0?e:{},{id:a}=i,s=$b(i,yRe),{shape:o,dataKey:l,activeBar:u}=r,{onMouseEnter:d,onClick:h,onMouseLeave:f}=r,m=$b(r,vRe),y=gk(d,l),v=yk(f),x=vk(h,l);return n?g.createElement(g.Fragment,null,n.map((b,w)=>g.createElement(Gt,Qs({key:"rectangle-".concat(b==null?void 0:b.x,"-").concat(b==null?void 0:b.y,"-").concat(b==null?void 0:b.value,"-").concat(w),className:"recharts-bar-rectangle"},Ay(m,b,w),{onMouseEnter:y(b,w),onMouseLeave:v(b,w),onClick:x(b,w)}),u?g.createElement(NRe,{shape:o,activeBar:u,baseProps:s,entry:b,index:w,dataKey:l}):g.createElement(IRe,{shape:o,baseProps:s,entry:b,index:w,dataKey:l})))):null}function CRe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:d}=e,h=n.current,f=_f(e,"recharts-bar-"),[m,y]=g.useState(!1),v=!m,x=g.useCallback(()=>{typeof u=="function"&&u(),y(!1)},[u]),b=g.useCallback(()=>{typeof d=="function"&&d(),y(!0)},[d]);return g.createElement(ARe,{showLabels:v,rects:r},g.createElement(wf,{animationId:f,begin:s,duration:o,isActive:a,easing:l,onAnimationEnd:x,onAnimationStart:b,key:f},w=>{var _=w===1?r:r==null?void 0:r.map((S,A)=>{var C=h&&h[A];if(C)return Ir(Ir({},S),{},{x:Fe(C.x,S.x,w),y:Fe(C.y,S.y,w),width:Fe(C.width,S.width,w),height:Fe(C.height,S.height,w)});if(i==="horizontal"){var N=Fe(0,S.height,w),T=Fe(S.stackedBarStart,S.y,w);return Ir(Ir({},S),{},{y:T,height:N})}var I=Fe(0,S.width,w),P=Fe(S.stackedBarStart,S.x,w);return Ir(Ir({},S),{},{width:I,x:P})});return w>0&&(n.current=_??null),_==null?null:g.createElement(Gt,null,g.createElement(jRe,{props:e,data:_}))}),g.createElement(a_,{label:e.label}),e.children)}function PRe(t){var e=g.useRef(null);return g.createElement(CRe,{previousRectanglesRef:e,props:t})}var JY=0,kRe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Je(t,e)}};class ORe extends g.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:s,needClip:o,background:l,id:u}=this.props;if(e||n==null)return null;var d=De("recharts-bar",i),h=u;return g.createElement(Gt,{className:d,id:u},o&&g.createElement("defs",null,g.createElement(_k,{clipPathId:h,xAxisId:a,yAxisId:s})),g.createElement(Gt,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(h,")"):void 0},g.createElement(TRe,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),g.createElement(PRe,this.props)))}}var RRe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!co.isSsr,legendType:"rect",minPointSize:JY,xAxisId:0,yAxisId:0,zIndex:en.bar};function DRe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d}=t,{needClip:h}=w_(e,n),f=bf(),m=Bn(),y=fk(t.children,Lu),v=se(w=>cDe(w,e,n,m,t.id,y));if(f!=="vertical"&&f!=="horizontal")return null;var x,b=v==null?void 0:v[0];return b==null||b.height==null||b.width==null?x=0:x=f==="vertical"?b.height/2:b.width/2,g.createElement(ZY,{xAxisId:e,yAxisId:n,data:v,dataPointFormatter:kRe,errorBarOffset:x},g.createElement(ORe,Qs({},t,{layout:f,needClip:h,data:v,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d})))}function MRe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:d,displayedData:h,offset:f,cells:m,parentViewBox:y,dataStartIndex:v}=t,x=e==="horizontal"?o:s,b=d?x.scale.domain():null,w=iSe({numericAxis:x}),_=x.scale(w);return h.map((S,A)=>{var C,N,T,I,P,k;d?C=JEe(d[A+v],b):(C=Je(S,n),Array.isArray(C)||(C=[w,C]));var R=sRe(r,JY)(C[1],A);if(e==="horizontal"){var O,[M,L]=[o.scale(C[0]),o.scale(C[1])];N=O6({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:S,index:A}),T=(O=L??M)!==null&&O!==void 0?O:void 0,I=i.size;var B=M-L;if(P=Gi(B)?0:B,k={x:N,y:f.top,width:I,height:f.height},Math.abs(R)>0&&Math.abs(P)<Math.abs(R)){var q=Vn(P||R)*(Math.abs(R)-Math.abs(P));T-=q,P+=q}}else{var[H,J]=[s.scale(C[0]),s.scale(C[1])];if(N=H,T=O6({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:S,index:A}),I=J-H,P=i.size,k={x:f.left,y:T,width:f.width,height:P},Math.abs(R)>0&&Math.abs(I)<Math.abs(R)){var oe=Vn(I||R)*(Math.abs(R)-Math.abs(I));I+=oe}}if(N==null||T==null||I==null||P==null)return null;var et=Ir(Ir({},S),{},{stackedBarStart:_,x:N,y:T,width:I,height:P,value:d?C:C[1],payload:S,background:k,tooltipPosition:{x:N+I/2,y:T+P/2},parentViewBox:y},m&&m[A]&&m[A].props);return et}).filter(Boolean)}function LRe(t){var e=Yt(t,RRe),n=Bn();return g.createElement(x_,{id:e.id,type:"bar"},r=>g.createElement(g.Fragment,null,g.createElement(xk,{legendPayload:ERe(e)}),g.createElement(v_,{fn:SRe,args:e}),g.createElement(bk,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:UG(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),g.createElement(Dr,{zIndex:e.zIndex},g.createElement(DRe,Qs({},e,{id:r})))))}var qb=g.memo(LRe);qb.displayName="Bar";function qL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(n),!0).forEach(function(r){VRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VRe(t,e,n){return(e=zRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zRe(t){var e=URe(t,"string");return typeof e=="symbol"?e:e+""}function URe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BRe=(t,e)=>e,FRe=(t,e,n)=>n,$Re=(t,e,n,r)=>r,qRe=(t,e,n,r,i)=>i,$y=U([Vy,qRe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),HRe=U([$y],t=>t==null?void 0:t.maxBarSize),GRe=(t,e,n,r,i,a)=>a,HL=(t,e,n)=>{var r=n??t;if(!_t(r))return pr(r,e,0)},KRe=U([Ie,Vy,BRe,FRe,$Re],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),WRe=(t,e,n,r)=>{var i=Ie(t);return i==="horizontal"?jg(t,"yAxis",n,r):jg(t,"xAxis",e,r)},YRe=(t,e,n)=>{var r=Ie(t);return r==="horizontal"?Z3(t,"xAxis",e):Z3(t,"yAxis",n)},QRe=(t,e,n)=>{var r={},i=t.filter(Y1),a=t.filter(u=>u.stackId==null),s=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),r),o=Object.entries(s).map(u=>{var[d,h]=u,f=h.map(y=>y.dataKey),m=HL(e,n,h[0].barSize);return{stackId:d,dataKeys:f,barSize:m}}),l=a.map(u=>{var d=[u.dataKey].filter(f=>f!=null),h=HL(e,n,u.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...o,...l]},XRe=U([KRe,nIe,YRe],QRe),ZRe=(t,e,n,r,i)=>{var a,s,o=$y(t,e,n,r,i);if(o!=null){var l=Ie(t),u=uW(t),{maxBarSize:d}=o,h=_t(d)?u:d,f,m;return l==="horizontal"?(f=Ya(t,"xAxis",e,r),m=Wa(t,"xAxis",e,r)):(f=Ya(t,"yAxis",n,r),m=Wa(t,"yAxis",n,r)),(a=(s=Cl(f,m,!0))!==null&&s!==void 0?s:h)!==null&&a!==void 0?a:0}},eQ=(t,e,n,r)=>{var i=Ie(t),a,s;return i==="horizontal"?(a=Ya(t,"xAxis",e,r),s=Wa(t,"xAxis",e,r)):(a=Ya(t,"yAxis",n,r),s=Wa(t,"yAxis",n,r)),Cl(a,s)};function JRe(t,e,n,r,i){var a=r.length;if(!(a<1)){var s=pr(t,n,0,!0),o,l=[];if(Tt(r[0].barSize)){var u=!1,d=n/a,h=r.reduce((b,w)=>b+(w.barSize||0),0);h+=(a-1)*s,h>=n&&(h-=(a-1)*s,s=0),h>=n&&d>0&&(u=!0,d*=.9,h=a*d);var f=(n-h)/2>>0,m={offset:f-s,size:0};o=r.reduce((b,w)=>{var _,S={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:m.offset+m.size+s,size:u?d:(_=w.barSize)!==null&&_!==void 0?_:0}},A=[...b,S];return m=A[A.length-1].position,A},l)}else{var y=pr(e,n,0,!0);n-2*y-(a-1)*s<=0&&(s=0);var v=(n-2*y-(a-1)*s)/a;v>1&&(v>>=0);var x=Tt(i)?Math.min(v,i):v;o=r.reduce((b,w,_)=>[...b,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:y+(v+s)*_+(v-x)/2,size:x}}],l)}return o}}var eDe=(t,e,n,r,i,a,s)=>{var o=_t(s)?e:s,l=JRe(n,r,i!==a?i:a,t,o);return i!==a&&l!=null&&(l=l.map(u=>X0(X0({},u),{},{position:X0(X0({},u.position),{},{offset:u.position.offset-i/2})}))),l},tDe=U([XRe,uW,tIe,dW,ZRe,eQ,HRe],eDe),nDe=(t,e,n,r)=>Ya(t,"xAxis",e,r),rDe=(t,e,n,r)=>Ya(t,"yAxis",n,r),iDe=(t,e,n,r)=>Wa(t,"xAxis",e,r),aDe=(t,e,n,r)=>Wa(t,"yAxis",n,r),sDe=U([tDe,$y],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),oDe=(t,e)=>{var n=W1(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===n)}}}},lDe=U([WRe,$y],oDe),cDe=U([Tn,QC,nDe,rDe,iDe,aDe,sDe,Ie,Ry,eQ,lDe,$y,GRe],(t,e,n,r,i,a,s,o,l,u,d,h,f)=>{var{chartData:m,dataStartIndex:y,dataEndIndex:v}=l;if(!(h==null||s==null||e==null||o!=="horizontal"&&o!=="vertical"||n==null||r==null||i==null||a==null||u==null)){var{data:x}=h,b;if(x!=null&&x.length>0?b=x:b=m==null?void 0:m.slice(y,v+1),b!=null)return MRe({layout:o,barSettings:h,pos:s,parentViewBox:e,bandSize:u,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:b,offset:t,cells:f,dataStartIndex:y})}}),tQ=t=>{var{chartData:e}=t,n=ht(),r=Bn();return g.useEffect(()=>r?()=>{}:(n(uL(e)),()=>{n(uL(void 0))}),[e,n,r]),null},GL={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},nQ=Qr({name:"brush",initialState:GL,reducers:{setBrushSettings(t,e){return e.payload==null?GL:e.payload}}}),{setBrushSettings:V6e}=nQ.actions,uDe=nQ.reducer;function dDe(t,e,n){return(e=hDe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hDe(t){var e=fDe(t,"string");return typeof e=="symbol"?e:e+""}function fDe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ek{static create(e){return new Ek(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}dDe(Ek,"EPS",1e-4);function mDe(t){return(t%180+180)%180}var pDe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=mDe(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},gDe={dots:[],areas:[],lines:[]},rQ=Qr({name:"referenceElements",initialState:gDe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Ns(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Ns(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Ns(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:z6e,removeDot:U6e,addArea:B6e,removeArea:F6e,addLine:$6e,removeLine:q6e}=rQ.actions,yDe=rQ.reducer,vDe=g.createContext(void 0),xDe=t=>{var{children:e}=t,[n]=g.useState("".concat(vg("recharts"),"-clip")),r=b_();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return g.createElement(vDe.Provider,{value:n},g.createElement("defs",null,g.createElement("clipPath",{id:n},g.createElement("rect",{x:i,y:a,height:o,width:s}))),e)};function $h(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function iQ(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function bDe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return pDe(r,n)}function wDe(t,e,n){var r=n==="width",{x:i,y:a,width:s,height:o}=t;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function Hb(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function _De(t,e){return iQ(t,e+1)}function EDe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=e,l=0,u=1,d=s,h=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:iQ(r,u)};var v=l,x,b=()=>(x===void 0&&(x=n(y,v)),x),w=y.coordinate,_=l===0||Hb(t,w,b,d,o);_||(l=0,d=s,u+=1),_&&(d=w+t*(b()/2+i),l+=u)},f;u<=a.length;)if(f=h(),f)return f.v;return[]}function KL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(n),!0).forEach(function(r){SDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SDe(t,e,n){return(e=TDe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TDe(t){var e=ADe(t,"string");return typeof e=="symbol"?e:e+""}function ADe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NDe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=e,{end:l}=e,u=function(f){var m=a[f],y,v=()=>(y===void 0&&(y=n(m,f)),y);if(f===s-1){var x=t*(m.coordinate+t*v()/2-l);a[f]=m=ar(ar({},m),{},{tickCoord:x>0?m.coordinate-x*t:m.coordinate})}else a[f]=m=ar(ar({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var b=Hb(t,m.tickCoord,v,o,l);b&&(l=m.tickCoord-t*(v()/2+i),a[f]=ar(ar({},m),{},{isShow:!0}))}},d=s-1;d>=0;d--)u(d);return a}function IDe(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:u}=e;if(a){var d=r[o-1],h=n(d,o-1),f=t*(d.coordinate+t*h/2-u);if(s[o-1]=d=ar(ar({},d),{},{tickCoord:f>0?d.coordinate-f*t:d.coordinate}),d.tickCoord!=null){var m=Hb(t,d.tickCoord,()=>h,l,u);m&&(u=d.tickCoord-t*(h/2+i),s[o-1]=ar(ar({},d),{},{isShow:!0}))}}for(var y=a?o-1:o,v=function(w){var _=s[w],S,A=()=>(S===void 0&&(S=n(_,w)),S);if(w===0){var C=t*(_.coordinate-t*A()/2-l);s[w]=_=ar(ar({},_),{},{tickCoord:C<0?_.coordinate-C*t:_.coordinate})}else s[w]=_=ar(ar({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var N=Hb(t,_.tickCoord,A,l,u);N&&(l=_.tickCoord+t*(A()/2+i),s[w]=ar(ar({},_),{},{isShow:!0}))}},x=0;x<y;x++)v(x);return s}function Sk(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:d,angle:h}=t;if(!i||!i.length||!r)return[];if(ie(l)||co.isSsr){var f;return(f=_De(i,ie(l)?l:0))!==null&&f!==void 0?f:[]}var m=[],y=o==="top"||o==="bottom"?"width":"height",v=d&&y==="width"?Sp(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=(_,S)=>{var A=typeof u=="function"?u(_.value,S):_.value;return y==="width"?bDe(Sp(A,{fontSize:e,letterSpacing:n}),v,h):Sp(A,{fontSize:e,letterSpacing:n})[y]},b=i.length>=2?Vn(i[1].coordinate-i[0].coordinate):1,w=wDe(a,b,y);return l==="equidistantPreserveStart"?EDe(b,w,x,i,s):(l==="preserveStart"||l==="preserveStartEnd"?m=IDe(b,w,x,i,s,l==="preserveStartEnd"):m=NDe(b,w,x,i,s),m.filter(_=>_.isShow))}var jDe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>s&&(s=h.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,u=s+l+o+(n?r:0);return Math.round(u)}return 0},CDe=["axisLine","width","height","className","hide","ticks","axisType"],PDe=["viewBox"],kDe=["viewBox"];function jN(t,e){if(t==null)return{};var n,r,i=ODe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ODe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vu(){return vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vu.apply(null,arguments)}function WL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WL(Object(n),!0).forEach(function(r){RDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RDe(t,e,n){return(e=DDe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DDe(t){var e=MDe(t,"string");return typeof e=="symbol"?e:e+""}function MDe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tk={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:en.axis};function LDe(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=t;if(!o)return null;var u=on(on(on({},l),Or(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);u=on(on({},u),{},{x1:e,y1:n+d*i,x2:e+r,y2:n+d*i})}else{var h=+(a==="left"&&!s||a==="right"&&s);u=on(on({},u),{},{x1:e+h*r,y1:n,x2:e+h*r,y2:n+i})}return g.createElement("line",vu({},u,{className:De("recharts-cartesian-axis-line",fu(o,"className"))}))}function VDe(t,e,n,r,i,a,s,o,l){var u,d,h,f,m,y,v=o?-1:1,x=t.tickSize||s,b=ie(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":u=d=t.coordinate,f=n+ +!o*i,h=f-v*x,y=h-v*l,m=b;break;case"left":h=f=t.coordinate,d=e+ +!o*r,u=d-v*x,m=u-v*l,y=b;break;case"right":h=f=t.coordinate,d=e+ +o*r,u=d+v*x,m=u+v*l,y=b;break;default:u=d=t.coordinate,f=n+ +o*i,h=f+v*x,y=h+v*l,m=b;break}return{line:{x1:u,y1:h,x2:d,y2:f},tick:{x:m,y}}}function zDe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function UDe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function BDe(t){var{option:e,tickProps:n,value:r}=t,i,a=De(n.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(e))i=g.cloneElement(e,on(on({},n),{},{className:a}));else if(typeof e=="function")i=e(on(on({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=De(s,e==null?void 0:e.className)),i=g.createElement(i_,vu({},n,{className:s}),r)}return i}var FDe=g.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:u,orientation:d,mirror:h,x:f,y:m,width:y,height:v,tickSize:x,tickMargin:b,fontSize:w,letterSpacing:_,getTicksConfig:S,events:A,axisType:C}=t,N=Sk(on(on({},S),{},{ticks:n}),w,_),T=zDe(d,h),I=UDe(d,h),P=Or(S),k=hu(r),R={};typeof i=="object"&&(R=i);var O=on(on({},P),{},{fill:"none"},R),M=N.map(q=>on({entry:q},VDe(q,f,m,y,v,d,x,h,b))),L=M.map(q=>{var{entry:H,line:J}=q;return g.createElement(Gt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},i&&g.createElement("line",vu({},O,J,{className:De("recharts-cartesian-axis-tick-line",fu(i,"className"))})))}),B=M.map((q,H)=>{var{entry:J,tick:oe}=q,et=on(on(on(on({textAnchor:T,verticalAnchor:I},P),{},{stroke:"none",fill:a},k),oe),{},{index:H,payload:J,visibleTicksCount:N.length,tickFormatter:s,padding:l},u);return g.createElement(Gt,vu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(J.value,"-").concat(J.coordinate,"-").concat(J.tickCoord)},Ay(A,J,H)),r&&g.createElement(BDe,{option:r,tickProps:et,value:"".concat(typeof s=="function"?s(J.value,H):J.value).concat(o||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(C,"-ticks")},B.length>0&&g.createElement(Dr,{zIndex:en.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(C,"-tick-labels"),ref:e},B)),L.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(C,"-tick-lines")},L))}),$De=g.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:l}=t,u=jN(t,CDe),[d,h]=g.useState(""),[f,m]=g.useState(""),y=g.useRef(null);g.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var x;return jDe({ticks:y.current,label:(x=t.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var v=g.useCallback(x=>{if(x){var b=x.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=b;var w=b[0];if(w){var _=window.getComputedStyle(w),S=_.fontSize,A=_.letterSpacing;(S!==d||A!==f)&&(h(S),m(A))}}},[d,f]);return s||r!=null&&r<=0||i!=null&&i<=0?null:g.createElement(Dr,{zIndex:t.zIndex},g.createElement(Gt,{className:De("recharts-cartesian-axis",a)},g.createElement(LDe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Or(t)}),g.createElement(FDe,{ref:v,axisType:l,events:u,fontSize:d,getTicksConfig:t,height:t.height,letterSpacing:f,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),g.createElement(qPe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},g.createElement(eke,{label:t.label,labelRef:t.labelRef}),t.children)))}),qDe=g.memo($De,(t,e)=>{var{viewBox:n}=t,r=jN(t,PDe),{viewBox:i}=e,a=jN(e,kDe);return $h(n,i)&&$h(r,a)}),Ak=g.forwardRef((t,e)=>{var n=Yt(t,Tk);return g.createElement(qDe,vu({},n,{ref:e}))});Ak.displayName="CartesianAxis";var HDe=["x1","y1","x2","y2","key"],GDe=["offset"],KDe=["xAxisId","yAxisId"],WDe=["xAxisId","yAxisId"];function YL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YL(Object(n),!0).forEach(function(r){YDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YDe(t,e,n){return(e=QDe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QDe(t){var e=XDe(t,"string");return typeof e=="symbol"?e:e+""}function XDe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jc.apply(null,arguments)}function Gb(t,e){if(t==null)return{};var n,r,i=ZDe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ZDe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var JDe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=t;return g.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function aQ(t){var{option:e,lineItemProps:n}=t,r;if(g.isValidElement(e))r=g.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:s,x2:o,y2:l,key:u}=n,d=Gb(n,HDe),h=(i=Or(d))!==null&&i!==void 0?i:{},{offset:f}=h,m=Gb(h,GDe);r=g.createElement("line",jc({},m,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:u}))}return r}function eMe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,o=Gb(t,KDe),l=i.map((u,d)=>{var h=or(or({},o),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(d),index:d});return g.createElement(aQ,{key:"line-".concat(d),option:r,lineItemProps:h})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function tMe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,o=Gb(t,WDe),l=i.map((u,d)=>{var h=or(or({},o),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(d),index:d});return g.createElement(aQ,{option:r,lineItemProps:h,key:"line-".concat(d)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function nMe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=t;if(!l||!e||!e.length||o==null)return null;var u=o.map(h=>Math.round(h+i-i)).sort((h,f)=>h-f);i!==u[0]&&u.unshift(0);var d=u.map((h,f)=>{var m=!u[f+1],y=m?i+s-h:u[f+1]-h;if(y<=0)return null;var v=f%e.length;return g.createElement("rect",{key:"react-".concat(f),y:h,x:r,height:y,width:a,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function rMe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=t;if(!e||!n||!n.length)return null;var u=l.map(h=>Math.round(h+i-i)).sort((h,f)=>h-f);i!==u[0]&&u.unshift(0);var d=u.map((h,f)=>{var m=!u[f+1],y=m?i+s-h:u[f+1]-h;if(y<=0)return null;var v=f%n.length;return g.createElement("rect",{key:"react-".concat(f),x:h,y:a,width:y,height:o,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var iMe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return VG(Sk(or(or(or({},Tk),n),{},{ticks:zG(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},aMe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return VG(Sk(or(or(or({},Tk),n),{},{ticks:zG(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},sMe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:en.grid};function kg(t){var e=ZC(),n=JC(),r=XG(),i=or(or({},Yt(t,sMe)),{},{x:ie(t.x)?t.x:r.left,y:ie(t.y)?t.y:r.top,width:ie(t.width)?t.width:r.width,height:ie(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:u,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:m}=i,y=Bn(),v=se(I=>J3(I,"xAxis",a,y)),x=se(I=>J3(I,"yAxis",s,y));if(!Ga(u)||!Ga(d)||!ie(o)||!ie(l))return null;var b=i.verticalCoordinatesGenerator||iMe,w=i.horizontalCoordinatesGenerator||aMe,{horizontalPoints:_,verticalPoints:S}=i;if((!_||!_.length)&&typeof w=="function"){var A=f&&f.length,C=w({yAxis:x?or(or({},x),{},{ticks:A?f:x.ticks}):void 0,width:e??u,height:n??d,offset:r},A?!0:h);xb(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(_=C)}if((!S||!S.length)&&typeof b=="function"){var N=m&&m.length,T=b({xAxis:v?or(or({},v),{},{ticks:N?m:v.ticks}):void 0,width:e??u,height:n??d,offset:r},N?!0:h);xb(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(S=T)}return g.createElement(Dr,{zIndex:i.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(JDe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),g.createElement(nMe,jc({},i,{horizontalPoints:_})),g.createElement(rMe,jc({},i,{verticalPoints:S})),g.createElement(eMe,jc({},i,{offset:r,horizontalPoints:_,xAxis:v,yAxis:x})),g.createElement(tMe,jc({},i,{offset:r,verticalPoints:S,xAxis:v,yAxis:x}))))}kg.displayName="CartesianGrid";var sQ=(t,e,n,r)=>Ya(t,"xAxis",e,r),oQ=(t,e,n,r)=>Wa(t,"xAxis",e,r),lQ=(t,e,n,r)=>Ya(t,"yAxis",n,r),cQ=(t,e,n,r)=>Wa(t,"yAxis",n,r),oMe=U([Ie,sQ,lQ,oQ,cQ],(t,e,n,r,i)=>es(t,"xAxis")?Cl(e,r,!1):Cl(n,i,!1)),lMe=(t,e,n,r,i)=>i;function cMe(t){return t.type==="line"}var uMe=U([Vy,lMe],(t,e)=>t.filter(cMe).find(n=>n.id===e)),dMe=U([Ie,sQ,lQ,oQ,cQ,uMe,oMe,Ry],(t,e,n,r,i,a,s,o)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:d}=o;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null)){var{dataKey:h,data:f}=a,m;if(f!=null&&f.length>0?m=f:m=l==null?void 0:l.slice(u,d+1),m!=null)return PMe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:h,bandSize:s,displayedData:m})}});function uQ(t){var e=hu(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var hMe=["id"],fMe=["type","layout","connectNulls","needClip","shape"],mMe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Og(){return Og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Og.apply(null,arguments)}function QL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QL(Object(n),!0).forEach(function(r){pMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pMe(t,e,n){return(e=gMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gMe(t){var e=yMe(t,"string");return typeof e=="symbol"?e:e+""}function yMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nk(t,e){if(t==null)return{};var n,r,i=vMe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xMe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:ql(n,e),payload:t}]};function bMe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:ql(s,e),hide:o,type:t.tooltipType,color:t.stroke,unit:l}}}var dQ=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function wMe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var _Me=(t,e,n)=>{var r=n.reduce((h,f)=>h+f);if(!r)return dQ(e,t);for(var i=Math.floor(t/r),a=t%r,s=e-t,o=[],l=0,u=0;l<n.length;u+=n[l],++l)if(u+n[l]>a){o=[...n.slice(0,l),a-u];break}var d=o.length%2===0?[0,s]:[s];return[...wMe(n,i),...o,...d].map(h=>"".concat(h,"px")).join(", ")};function EMe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:s}=r,{id:o}=r,l=Nk(r,hMe),u=Or(l);return g.createElement(YY,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:u,needClip:s,clipPathId:e})}function SMe(t){var{showLabels:e,children:n,points:r}=t,i=g.useMemo(()=>r==null?void 0:r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return xa(xa({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return g.createElement(lk,{value:e?i:void 0},n)}function XL(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:s,layout:o,connectNulls:l,needClip:u,shape:d}=a,h=Nk(a,fMe),f=xa(xa({},yr(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(e,")"):void 0,points:r,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return g.createElement(g.Fragment,null,(r==null?void 0:r.length)>1&&g.createElement(pk,Og({shapeType:"curve",option:d},f,{pathRef:n})),g.createElement(EMe,{points:r,clipPathId:e,props:a}))}function TMe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function AMe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:u,animationDuration:d,animationEasing:h,animateNewValues:f,width:m,height:y,onAnimationEnd:v,onAnimationStart:x}=n,b=i.current,w=_f(n,"recharts-line-"),[_,S]=g.useState(!1),A=!_,C=g.useCallback(()=>{typeof v=="function"&&v(),S(!1)},[v]),N=g.useCallback(()=>{typeof x=="function"&&x(),S(!0)},[x]),T=TMe(r.current),I=a.current;return g.createElement(SMe,{points:s,showLabels:A},n.children,g.createElement(wf,{animationId:w,begin:u,duration:d,isActive:l,easing:h,onAnimationEnd:C,onAnimationStart:N,key:w},P=>{var k=Fe(I,T+I,P),R=Math.min(k,T),O;if(l)if(o){var M="".concat(o).split(/[,\s]+/gim).map(q=>parseFloat(q));O=_Me(R,T,M)}else O=dQ(T,R);else O=o==null?void 0:String(o);if(b){var L=b.length/s.length,B=P===1?s:s.map((q,H)=>{var J=Math.floor(H*L);if(b[J]){var oe=b[J];return xa(xa({},q),{},{x:Fe(oe.x,q.x,P),y:Fe(oe.y,q.y,P)})}return f?xa(xa({},q),{},{x:Fe(m*2,q.x,P),y:Fe(y/2,q.y,P)}):xa(xa({},q),{},{x:q.x,y:q.y})});return i.current=B,g.createElement(XL,{props:n,points:B,clipPathId:e,pathRef:r,strokeDasharray:O})}return P>0&&T>0&&(i.current=s,a.current=R),g.createElement(XL,{props:n,points:s,clipPathId:e,pathRef:r,strokeDasharray:O})}),g.createElement(a_,{label:n.label}))}function NMe(t){var{clipPathId:e,props:n}=t,r=g.useRef(null),i=g.useRef(0),a=g.useRef(null);return g.createElement(AMe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var IMe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Je(t.payload,e)}};class jMe extends g.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:u,height:d,id:h,needClip:f,zIndex:m}=this.props;if(e)return null;var y=De("recharts-line",i),v=h,{r:x,strokeWidth:b}=uQ(n),w=mk(n),_=x*2+b;return g.createElement(Dr,{zIndex:m},g.createElement(Gt,{className:y},f&&g.createElement("defs",null,g.createElement(_k,{clipPathId:v,xAxisId:a,yAxisId:s}),!w&&g.createElement("clipPath",{id:"clipPath-dots-".concat(v)},g.createElement("rect",{x:l-_/2,y:o-_/2,width:u+_,height:d+_}))),g.createElement(ZY,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:IMe,errorBarOffset:0},g.createElement(NMe,{props:this.props,clipPathId:v}))),g.createElement(NN,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var hQ={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!co.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:en.line};function CMe(t){var e=Yt(t,hQ),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:u,isAnimationActive:d,label:h,legendType:f,xAxisId:m,yAxisId:y,id:v}=e,x=Nk(e,mMe),{needClip:b}=w_(m,y),w=b_(),_=bf(),S=Bn(),A=se(P=>dMe(P,m,y,S,v));if(_!=="horizontal"&&_!=="vertical"||A==null||w==null)return null;var{height:C,width:N,x:T,y:I}=w;return g.createElement(jMe,Og({},x,{id:v,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:u,label:h,legendType:f,xAxisId:m,yAxisId:y,points:A,layout:_,height:C,width:N,left:T,top:I,needClip:b}))}function PMe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=t;return l.map((u,d)=>{var h=Je(u,s);if(e==="horizontal"){var f=vb({axis:n,ticks:i,bandSize:o,entry:u,index:d}),m=_t(h)?null:r.scale(h);return{x:f,y:m,value:h,payload:u}}var y=_t(h)?null:n.scale(h),v=vb({axis:r,ticks:a,bandSize:o,entry:u,index:d});return y==null||v==null?null:{x:y,y:v,value:h,payload:u}}).filter(Boolean)}function kMe(t){var e=Yt(t,hQ),n=Bn();return g.createElement(x_,{id:e.id,type:"line"},r=>g.createElement(g.Fragment,null,g.createElement(xk,{legendPayload:xMe(e)}),g.createElement(v_,{fn:bMe,args:e}),g.createElement(bk,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),g.createElement(CMe,Og({},e,{id:r}))))}var zv=g.memo(kMe);zv.displayName="Line";var fQ=(t,e,n,r)=>Ya(t,"xAxis",e,r),mQ=(t,e,n,r)=>Wa(t,"xAxis",e,r),pQ=(t,e,n,r)=>Ya(t,"yAxis",n,r),gQ=(t,e,n,r)=>Wa(t,"yAxis",n,r),OMe=U([Ie,fQ,pQ,mQ,gQ],(t,e,n,r,i)=>es(t,"xAxis")?Cl(e,r,!1):Cl(n,i,!1)),RMe=(t,e,n,r,i)=>i,yQ=U([Vy,RMe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),DMe=(t,e,n,r,i)=>{var a,s=yQ(t,e,n,r,i);if(s!=null){var o=Ie(t),l=es(o,"xAxis"),u;if(l?u=jg(t,"yAxis",n,r):u=jg(t,"xAxis",e,r),u!=null){var{stackId:d}=s,h=W1(s);if(!(d==null||h==null)){var f=(a=u[d])===null||a===void 0?void 0:a.stackedData;return f==null?void 0:f.find(m=>m.key===h)}}}},MMe=U([Ie,fQ,pQ,mQ,gQ,DMe,Ry,OMe,yQ,rIe],(t,e,n,r,i,a,s,o,l,u)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:f}=s;if(!(l==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{data:m}=l,y;if(m&&m.length>0?y=m:y=d==null?void 0:d.slice(h,f+1),y!=null)return t4e({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:h,areaSettings:l,stackedData:a,displayedData:y,chartBaseValue:u,bandSize:o})}}),LMe=["id"],VMe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Hc(){return Hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hc.apply(null,arguments)}function vQ(t,e){if(t==null)return{};var n,r,i=zMe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ZL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZL(Object(n),!0).forEach(function(r){UMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UMe(t,e,n){return(e=BMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BMe(t){var e=FMe(t,"string");return typeof e=="symbol"?e:e+""}function FMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kb(t,e){return t&&t!=="none"?t:e}var $Me=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:Kb(r,i),value:ql(n,e),payload:t}]};function qMe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:ql(s,e),hide:o,type:t.tooltipType,color:Kb(r,a),unit:l}}}function HMe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:a,dataKey:s}=r,o=Or(r);return g.createElement(YY,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:o,needClip:i,clipPathId:e})}function GMe(t){var{showLabels:e,children:n,points:r}=t,i=r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Pd(Pd({},l),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return g.createElement(lk,{value:e?i:void 0},n)}function JL(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:a}=t,{layout:s,type:o,stroke:l,connectNulls:u,isRange:d}=a,{id:h}=a,f=vQ(a,LMe),m=Or(f),y=yr(f);return g.createElement(g.Fragment,null,(e==null?void 0:e.length)>1&&g.createElement(Gt,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},g.createElement(Yd,Hc({},y,{id:h,points:e,connectNulls:u,type:o,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),l!=="none"&&g.createElement(Yd,Hc({},m,{className:"recharts-area-curve",layout:s,type:o,connectNulls:u,fill:"none",points:e})),l!=="none"&&d&&g.createElement(Yd,Hc({},m,{className:"recharts-area-curve",layout:s,type:o,connectNulls:u,fill:"none",points:n}))),g.createElement(HMe,{points:e,props:f,clipPathId:i}))}function KMe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].y,s=r[r.length-1].y;if(!Tt(a)||!Tt(s))return null;var o=e*Math.abs(a-s),l=Math.max(...r.map(u=>u.x||0));return ie(n)?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(...n.map(u=>u.x||0),l)),ie(l)?g.createElement("rect",{x:0,y:a<s?a:a-o,width:l+(i?parseInt("".concat(i),10):1),height:Math.floor(o)}):null}function WMe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].x,s=r[r.length-1].x;if(!Tt(a)||!Tt(s))return null;var o=e*Math.abs(a-s),l=Math.max(...r.map(u=>u.y||0));return ie(n)?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(...n.map(u=>u.y||0),l)),ie(l)?g.createElement("rect",{x:a<s?a:a-o,y:0,width:o,height:Math.floor(l+(i?parseInt("".concat(i),10):1))}):null}function YMe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:a}=t;return n==="vertical"?g.createElement(KMe,{alpha:e,points:r,baseLine:i,strokeWidth:a}):g.createElement(WMe,{alpha:e,points:r,baseLine:i,strokeWidth:a})}function QMe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=t,{points:s,baseLine:o,isAnimationActive:l,animationBegin:u,animationDuration:d,animationEasing:h,onAnimationStart:f,onAnimationEnd:m}=r,y=_f(r,"recharts-area-"),[v,x]=g.useState(!1),b=!v,w=g.useCallback(()=>{typeof m=="function"&&m(),x(!1)},[m]),_=g.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]),S=i.current,A=a.current;return g.createElement(GMe,{showLabels:b,points:s},r.children,g.createElement(wf,{animationId:y,begin:u,duration:d,isActive:l,easing:h,onAnimationEnd:w,onAnimationStart:_,key:y},C=>{if(S){var N=S.length/s.length,T=C===1?s:s.map((P,k)=>{var R=Math.floor(k*N);if(S[R]){var O=S[R];return Pd(Pd({},P),{},{x:Fe(O.x,P.x,C),y:Fe(O.y,P.y,C)})}return P}),I;return ie(o)?I=Fe(A,o,C):_t(o)||Gi(o)?I=Fe(A,0,C):I=o.map((P,k)=>{var R=Math.floor(k*N);if(Array.isArray(A)&&A[R]){var O=A[R];return Pd(Pd({},P),{},{x:Fe(O.x,P.x,C),y:Fe(O.y,P.y,C)})}return P}),C>0&&(i.current=T,a.current=I),g.createElement(JL,{points:T,baseLine:I,needClip:e,clipPathId:n,props:r})}return C>0&&(i.current=s,a.current=o),g.createElement(Gt,null,l&&g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(n)},g.createElement(YMe,{alpha:C,points:s,baseLine:o,layout:r.layout,strokeWidth:r.strokeWidth}))),g.createElement(Gt,{clipPath:"url(#animationClipPath-".concat(n,")")},g.createElement(JL,{points:s,baseLine:o,needClip:e,clipPathId:n,props:r})))}),g.createElement(a_,{label:r.label}))}function XMe(t){var{needClip:e,clipPathId:n,props:r}=t,i=g.useRef(null),a=g.useRef();return g.createElement(QMe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class ZMe extends g.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:a,left:s,needClip:o,xAxisId:l,yAxisId:u,width:d,height:h,id:f,baseLine:m,zIndex:y}=this.props;if(e)return null;var v=De("recharts-area",i),x=f,{r:b,strokeWidth:w}=uQ(n),_=mk(n),S=b*2+w;return g.createElement(Dr,{zIndex:y},g.createElement(Gt,{className:v},o&&g.createElement("defs",null,g.createElement(_k,{clipPathId:x,xAxisId:l,yAxisId:u}),!_&&g.createElement("clipPath",{id:"clipPath-dots-".concat(x)},g.createElement("rect",{x:s-S/2,y:a-S/2,width:d+S,height:h+S}))),g.createElement(XMe,{needClip:o,clipPathId:x,props:this.props})),g.createElement(NN,{points:r,mainColor:Kb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(m)&&g.createElement(NN,{points:m,mainColor:Kb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var xQ={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!co.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0,zIndex:en.area};function JMe(t){var e,n=Yt(t,xQ),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,fill:u,fillOpacity:d,hide:h,isAnimationActive:f,legendType:m,stroke:y,xAxisId:v,yAxisId:x}=n,b=vQ(n,VMe),w=bf(),_=fY(),{needClip:S}=w_(v,x),A=Bn(),{points:C,isRange:N,baseLine:T}=(e=se(M=>MMe(M,v,x,A,t.id)))!==null&&e!==void 0?e:{},I=b_();if(w!=="horizontal"&&w!=="vertical"||I==null||_!=="AreaChart"&&_!=="ComposedChart")return null;var{height:P,width:k,x:R,y:O}=I;return!C||!C.length?null:g.createElement(ZMe,Hc({},b,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:T,connectNulls:o,dot:l,fill:u,fillOpacity:d,height:P,hide:h,layout:w,isAnimationActive:f,isRange:N,legendType:m,needClip:S,points:C,stroke:y,width:k,left:R,top:O,xAxisId:v,yAxisId:x}))}var e4e=(t,e,n,r,i)=>{var a=n??e;if(ie(a))return a;var s=t==="horizontal"?i:r,o=s.scale.domain();if(s.type==="number"){var l=Math.max(o[0],o[1]),u=Math.min(o[0],o[1]);return a==="dataMin"?u:a==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return a==="dataMin"?o[0]:a==="dataMax"?o[1]:o[0]};function t4e(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:s,xAxis:o,yAxis:l,displayedData:u,dataStartIndex:d,xAxisTicks:h,yAxisTicks:f,bandSize:m}=t,y=i&&i.length,v=e4e(a,s,n,o,l),x=a==="horizontal",b=!1,w=u.map((S,A)=>{var C;y?C=i[d+A]:(C=Je(S,r),Array.isArray(C)?b=!0:C=[v,C]);var N=C[1]==null||y&&!e&&Je(S,r)==null;return x?{x:vb({axis:o,ticks:h,bandSize:m,entry:S,index:A}),y:N?null:l.scale(C[1]),value:C,payload:S}:{x:N?null:o.scale(C[1]),y:vb({axis:l,ticks:f,bandSize:m,entry:S,index:A}),value:C,payload:S}}),_;return y||b?_=w.map(S=>{var A=Array.isArray(S.value)?S.value[0]:null;return x?{x:S.x,y:A!=null&&S.y!=null?l.scale(A):null,payload:S.payload}:{x:A!=null?o.scale(A):null,y:S.y,payload:S.payload}}):_=x?l.scale(v):o.scale(v),{points:w,baseLine:_,isRange:b}}function n4e(t){var e=Yt(t,xQ),n=Bn();return g.createElement(x_,{id:e.id,type:"area"},r=>g.createElement(g.Fragment,null,g.createElement(xk,{legendPayload:$Me(e)}),g.createElement(v_,{fn:qMe,args:e}),g.createElement(bk,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:UG(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),g.createElement(JMe,Hc({},e,{id:r}))))}var CN=g.memo(n4e);CN.displayName="Area";var r4e=["dangerouslySetInnerHTML","ticks"],i4e=["id"],a4e=["domain"],s4e=["domain"];function PN(){return PN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PN.apply(null,arguments)}function Wb(t,e){if(t==null)return{};var n,r,i=o4e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function o4e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function l4e(t){var e=ht();return g.useLayoutEffect(()=>(e(VOe(t)),()=>{e(zOe(t))}),[t,e]),null}var c4e=t=>{var{xAxisId:e,className:n}=t,r=se(QC),i=Bn(),a="xAxis",s=se(x=>jf(x,a,e,i)),o=se(x=>$W(x,a,e,i)),l=se(x=>zW(x,e)),u=se(x=>eje(x,e)),d=se(x=>xW(x,e));if(l==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:f}=t,m=Wb(t,r4e),{id:y}=d,v=Wb(d,i4e);return g.createElement(Ak,PN({},m,v,{scale:s,x:u.x,y:u.y,width:l.width,height:l.height,className:De("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:o,axisType:a}))},u4e={allowDataOverflow:Zr.allowDataOverflow,allowDecimals:Zr.allowDecimals,allowDuplicatedCategory:Zr.allowDuplicatedCategory,height:Zr.height,hide:!1,mirror:Zr.mirror,orientation:Zr.orientation,padding:Zr.padding,reversed:Zr.reversed,scale:Zr.scale,tickCount:Zr.tickCount,type:Zr.type,xAxisId:0},d4e=t=>{var e,n,r,i,a,s=Yt(t,u4e);return g.createElement(g.Fragment,null,g.createElement(l4e,{interval:(e=s.interval)!==null&&e!==void 0?e:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),g.createElement(c4e,s))},h4e=(t,e)=>{var{domain:n}=t,r=Wb(t,a4e),{domain:i}=e,a=Wb(e,s4e);return $h(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:$h({domain:n},{domain:i}):!1},Rg=g.memo(d4e,h4e);Rg.displayName="XAxis";var f4e=["dangerouslySetInnerHTML","ticks"],m4e=["id"],p4e=["domain"],g4e=["domain"];function kN(){return kN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kN.apply(null,arguments)}function Yb(t,e){if(t==null)return{};var n,r,i=y4e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function y4e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function v4e(t){var e=ht();return g.useLayoutEffect(()=>(e(UOe(t)),()=>{e(BOe(t))}),[t,e]),null}var x4e=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=g.useRef(null),s=g.useRef(null),o=se(QC),l=Bn(),u=ht(),d="yAxis",h=se(A=>jf(A,d,e,l)),f=se(A=>UW(A,e)),m=se(A=>nje(A,e)),y=se(A=>$W(A,d,e,l)),v=se(A=>bW(A,e));if(g.useLayoutEffect(()=>{if(!(r!=="auto"||!f||ok(i)||g.isValidElement(i)||v==null)){var A=a.current;if(A){var C=A.getCalculatedWidth();Math.round(f.width)!==Math.round(C)&&u(FOe({id:e,width:C}))}}},[y,f,u,i,e,r,v]),f==null||m==null||v==null)return null;var{dangerouslySetInnerHTML:x,ticks:b}=t,w=Yb(t,f4e),{id:_}=v,S=Yb(v,m4e);return g.createElement(Ak,kN({},w,S,{ref:a,labelRef:s,scale:h,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:De("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:y,axisType:d}))},b4e={allowDataOverflow:Jr.allowDataOverflow,allowDecimals:Jr.allowDecimals,allowDuplicatedCategory:Jr.allowDuplicatedCategory,hide:!1,mirror:Jr.mirror,orientation:Jr.orientation,padding:Jr.padding,reversed:Jr.reversed,scale:Jr.scale,tickCount:Jr.tickCount,type:Jr.type,width:Jr.width,yAxisId:0},w4e=t=>{var e,n,r,i,a,s=Yt(t,b4e);return g.createElement(g.Fragment,null,g.createElement(v4e,{interval:(e=s.interval)!==null&&e!==void 0?e:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),g.createElement(x4e,s))},_4e=(t,e)=>{var{domain:n}=t,r=Yb(t,p4e),{domain:i}=e,a=Yb(e,g4e);return $h(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:$h({domain:n},{domain:i}):!1},Dg=g.memo(w4e,_4e);Dg.displayName="YAxis";var E4e={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy=g;function S4e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var T4e=typeof Object.is=="function"?Object.is:S4e,A4e=qy.useSyncExternalStore,N4e=qy.useRef,I4e=qy.useEffect,j4e=qy.useMemo,C4e=qy.useDebugValue;E4e.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var a=N4e(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=j4e(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var y=s.value;if(i(y,m))return h=y}return h=m}if(y=h,T4e(d,m))return y;var v=r(m);return i!==void 0&&i(y,v)?(d=m,y):(d=m,h=v)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var o=A4e(t,a[0],a[1]);return I4e(function(){s.hasValue=!0,s.value=o},[o]),C4e(o),o};function P4e(t){t()}function k4e(){let t=null,e=null;return{clear(){t=null,e=null},notify(){P4e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var eV={notify(){},get:()=>[]};function O4e(t,e){let n,r=eV,i=0,a=!1;function s(v){d();const x=r.subscribe(v);let b=!1;return()=>{b||(b=!0,x(),h())}}function o(){r.notify()}function l(){y.onStateChange&&y.onStateChange()}function u(){return a}function d(){i++,n||(n=t.subscribe(l),r=k4e())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=eV)}function f(){a||(a=!0,d())}function m(){a&&(a=!1,h())}const y={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>r};return y}var R4e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",D4e=R4e(),M4e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",L4e=M4e(),V4e=()=>D4e||L4e?g.useLayoutEffect:g.useEffect,z4e=V4e(),PS=Symbol.for("react-redux-context"),kS=typeof globalThis<"u"?globalThis:{};function U4e(){if(!g.createContext)return{};const t=kS[PS]??(kS[PS]=new Map);let e=t.get(g.createContext);return e||(e=g.createContext(null),t.set(g.createContext,e)),e}var B4e=U4e();function F4e(t){const{children:e,context:n,serverState:r,store:i}=t,a=g.useMemo(()=>{const l=O4e(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=g.useMemo(()=>i.getState(),[i]);z4e(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||B4e;return g.createElement(o.Provider,{value:a},e)}var $4e=F4e,q4e=(t,e)=>e,Ik=U([q4e,Ie,yW,Nn,sY,mo,hCe,Tn],xCe),jk=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},bQ=Ki("mouseClick"),wQ=Iy();wQ.startListening({actionCreator:bQ,effect:(t,e)=>{var n=t.payload,r=Ik(e.getState(),jk(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(pje({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var ON=Ki("mouseMove"),_Q=Iy();_Q.startListening({actionCreator:ON,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=ZP(r,r.tooltip.settings.shared),a=Ik(r,jk(n));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?e.dispatch(XW({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(QW()))}});var tV={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},EQ=Qr({name:"rootProps",initialState:tV,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:tV.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue}}}),H4e=EQ.reducer,{updateOptions:G4e}=EQ.actions,SQ=Qr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:K4e}=SQ.actions,W4e=SQ.reducer,TQ=Ki("keyDown"),AQ=Ki("focus"),Ck=Iy();Ck.startListening({actionCreator:TQ,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(JP(i,Pf(n))),o=mo(n);if(a==="Enter"){var l=Lb(n,"axis","hover",String(i.index));e.dispatch(wN({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var u=sje(n),d=u==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,f=s+h*d;if(!(o==null||f>=o.length||f<0)){var m=Lb(n,"axis","hover",String(f));e.dispatch(wN({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});Ck.startListening({actionCreator:AQ,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=Lb(n,"axis","hover",String(a));e.dispatch(wN({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Ai=Ki("externalEvent"),NQ=Iy();NQ.startListening({actionCreator:Ai,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:Xje(n),activeDataKey:uY(n),activeIndex:Pl(n),activeLabel:cY(n),activeTooltipIndex:Pl(n),isTooltipActive:Zje(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Y4e=U([Cf],t=>t.tooltipItemPayloads),Q4e=U([Y4e,By,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(o=>o.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,n);return s}}}),IQ=Ki("touchMove"),jQ=Iy();jQ.startListening({actionCreator:IQ,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=ZP(r,r.tooltip.settings.shared);if(i==="axis"){var a=Ik(r,jk({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(XW({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=n.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(FG),d=(s=l.getAttribute($G))!==null&&s!==void 0?s:void 0,h=Q4e(e.getState(),u,d);e.dispatch(YW({activeDataKey:d,activeIndex:u,activeCoordinate:h}))}}}});var X4e=hG({brush:uDe,cartesianAxis:$Oe,chartData:YCe,errorBars:lRe,graphicalItems:eOe,layout:KEe,legend:zSe,options:qCe,polarAxis:yke,polarOptions:W4e,referenceElements:yDe,rootProps:H4e,tooltip:gje,zIndex:OCe}),Z4e=function(e){return vEe({reducer:X4e,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([wQ.middleware,_Q.middleware,Ck.middleware,NQ.middleware,jQ.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(SG({type:"raf"}))},devTools:co.devToolsEnabled})};function CQ(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Bn(),a=g.useRef(null);if(i)return n;a.current==null&&(a.current=Z4e(e));var s=FC;return g.createElement($4e,{context:s,store:a.current},n)}function PQ(t){var{layout:e,margin:n}=t,r=ht(),i=Bn();return g.useEffect(()=>{i||(r(qEe(e)),r($Ee(n)))},[r,i,e,n]),null}function kQ(t){var e=ht();return g.useEffect(()=>{e(G4e(t))},[e,t]),null}function nV(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=GY("".concat(r).concat(e)),a=ht();return g.useLayoutEffect(()=>(a(PCe({zIndex:e,elementId:i,isPanorama:n})),()=>{a(kCe({zIndex:e,isPanorama:n}))}),[a,e,i,n]),g.createElement("g",{id:i})}function rV(t){var{children:e,isPanorama:n}=t,r=se(wCe);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return g.createElement(g.Fragment,null,i.map(s=>g.createElement(nV,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>g.createElement(nV,{key:s,zIndex:s,isPanorama:n})))}var J4e=["children"];function e5e(t,e){if(t==null)return{};var n,r,i=t5e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function t5e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Qb(){return Qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qb.apply(null,arguments)}var n5e={width:"100%",height:"100%",display:"block"},r5e=g.forwardRef((t,e)=>{var n=ZC(),r=JC(),i=tK();if(!Ga(n)||!Ga(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=t,u,d;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),g.createElement(AC,Qb({},s,{title:o,desc:l,role:d,tabIndex:u,width:n,height:r,style:n5e,ref:e}),a)}),i5e=t=>{var{children:e}=t,n=se(M1);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return g.createElement(AC,{width:r,height:i,x:s,y:a},e)},iV=g.forwardRef((t,e)=>{var{children:n}=t,r=e5e(t,J4e),i=Bn();return i?g.createElement(i5e,null,g.createElement(rV,{isPanorama:!0},n)):g.createElement(r5e,Qb({ref:e},r),g.createElement(rV,{isPanorama:!1},n))});function a5e(){var t=ht(),[e,n]=g.useState(null),r=se(uSe);return g.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Tt(a)&&a!==r&&t(GEe(a))}},[e,t,r]),n}function aV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s5e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aV(Object(n),!0).forEach(function(r){o5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o5e(t,e,n){return(e=l5e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l5e(t){var e=c5e(t,"string");return typeof e=="symbol"?e:e+""}function c5e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xu(){return xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xu.apply(null,arguments)}var u5e=()=>(iPe(),null);function Xb(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var d5e=g.forwardRef((t,e)=>{var n,r,i=g.useRef(null),[a,s]=g.useState({containerWidth:Xb((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Xb((r=t.style)===null||r===void 0?void 0:r.height)}),o=g.useCallback((u,d)=>{s(h=>{var f=Math.round(u),m=Math.round(d);return h.containerWidth===f&&h.containerHeight===m?h:{containerWidth:f,containerHeight:m}})},[]),l=g.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:h}=u.getBoundingClientRect();o(d,h);var f=y=>{var{width:v,height:x}=y[0].contentRect;o(v,x)},m=new ResizeObserver(f);m.observe(u),i.current=m}},[e,o]);return g.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),g.createElement(g.Fragment,null,g.createElement(V1,{width:a.containerWidth,height:a.containerHeight}),g.createElement("div",xu({ref:l},t)))}),h5e=g.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=g.useState({containerWidth:Xb(n),containerHeight:Xb(r)}),s=g.useCallback((l,u)=>{a(d=>{var h=Math.round(l),f=Math.round(u);return d.containerWidth===h&&d.containerHeight===f?d:{containerWidth:h,containerHeight:f}})},[]),o=g.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:u,height:d}=l.getBoundingClientRect();s(u,d)}},[e,s]);return g.createElement(g.Fragment,null,g.createElement(V1,{width:i.containerWidth,height:i.containerHeight}),g.createElement("div",xu({ref:o},t)))}),f5e=g.forwardRef((t,e)=>{var{width:n,height:r}=t;return g.createElement(g.Fragment,null,g.createElement(V1,{width:n,height:r}),g.createElement("div",xu({ref:e},t)))}),m5e=g.forwardRef((t,e)=>{var{width:n,height:r}=t;return qs(n)||qs(r)?g.createElement(h5e,xu({},t,{ref:e})):g.createElement(f5e,xu({},t,{ref:e}))});function p5e(t){return t===!0?d5e:m5e}var g5e=g.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:m,onTouchMove:y,onTouchStart:v,style:x,width:b,responsive:w,dispatchTouchEvents:_=!0}=t,S=g.useRef(null),A=ht(),[C,N]=g.useState(null),[T,I]=g.useState(null),P=a5e(),k=XC(),R=(k==null?void 0:k.width)>0?k.width:b,O=(k==null?void 0:k.height)>0?k.height:i,M=g.useCallback(Y=>{P(Y),typeof e=="function"&&e(Y),N(Y),I(Y),Y!=null&&(S.current=Y)},[P,e,N,I]),L=g.useCallback(Y=>{A(bQ(Y)),A(Ai({handler:a,reactEvent:Y}))},[A,a]),B=g.useCallback(Y=>{A(ON(Y)),A(Ai({handler:u,reactEvent:Y}))},[A,u]),q=g.useCallback(Y=>{A(QW()),A(Ai({handler:d,reactEvent:Y}))},[A,d]),H=g.useCallback(Y=>{A(ON(Y)),A(Ai({handler:h,reactEvent:Y}))},[A,h]),J=g.useCallback(()=>{A(AQ())},[A]),oe=g.useCallback(Y=>{A(TQ(Y.key))},[A]),et=g.useCallback(Y=>{A(Ai({handler:s,reactEvent:Y}))},[A,s]),Rt=g.useCallback(Y=>{A(Ai({handler:o,reactEvent:Y}))},[A,o]),he=g.useCallback(Y=>{A(Ai({handler:l,reactEvent:Y}))},[A,l]),fe=g.useCallback(Y=>{A(Ai({handler:f,reactEvent:Y}))},[A,f]),st=g.useCallback(Y=>{A(Ai({handler:v,reactEvent:Y}))},[A,v]),yn=g.useCallback(Y=>{_&&A(IQ(Y)),A(Ai({handler:y,reactEvent:Y}))},[A,_,y]),ft=g.useCallback(Y=>{A(Ai({handler:m,reactEvent:Y}))},[A,m]),Wl=p5e(w);return g.createElement(xY.Provider,{value:C},g.createElement(hH.Provider,{value:T},g.createElement(Wl,{width:R??(x==null?void 0:x.width),height:O??(x==null?void 0:x.height),className:De("recharts-wrapper",r),style:s5e({position:"relative",cursor:"default",width:R,height:O},x),onClick:L,onContextMenu:et,onDoubleClick:Rt,onFocus:J,onKeyDown:oe,onMouseDown:he,onMouseEnter:B,onMouseLeave:q,onMouseMove:H,onMouseUp:fe,onTouchEnd:ft,onTouchMove:yn,onTouchStart:st,ref:M},g.createElement(u5e,null),n)))}),y5e=["width","height","responsive","children","className","style","compact","title","desc"];function v5e(t,e){if(t==null)return{};var n,r,i=x5e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function x5e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var OQ=g.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:l,title:u,desc:d}=t,h=v5e(t,y5e),f=Or(h);return l?g.createElement(g.Fragment,null,g.createElement(V1,{width:n,height:r}),g.createElement(iV,{otherAttributes:f,title:u,desc:d},a)):g.createElement(g5e,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},g.createElement(iV,{otherAttributes:f,title:u,desc:d,ref:e},g.createElement(xDe,null,a)))});function RN(){return RN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RN.apply(null,arguments)}var b5e={top:5,right:5,bottom:5,left:5},w5e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:b5e,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Pk=g.forwardRef(function(e,n){var r,i=Yt(e.categoricalChartProps,w5e),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=e,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return g.createElement(CQ,{preloadedState:{options:d},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:a},g.createElement(tQ,{chartData:u.data}),g.createElement(PQ,{layout:i.layout,margin:i.margin}),g.createElement(kQ,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),g.createElement(OQ,RN({},i,{ref:n})))}),_5e=["axis"],E5e=g.forwardRef((t,e)=>g.createElement(Pk,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_5e,tooltipPayloadSearcher:r_,categoricalChartProps:t,ref:e})),S5e=["axis","item"],RQ=g.forwardRef((t,e)=>g.createElement(Pk,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:S5e,tooltipPayloadSearcher:r_,categoricalChartProps:t,ref:e}));function T5e(t){var e=ht();return g.useEffect(()=>{e(K4e(t))},[e,t]),null}var A5e=["layout"];function DN(){return DN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DN.apply(null,arguments)}function N5e(t,e){if(t==null)return{};var n,r,i=I5e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function I5e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var j5e={top:5,right:5,bottom:5,left:5},C5e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:j5e,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},P5e=g.forwardRef(function(e,n){var r,i=Yt(e.categoricalChartProps,C5e),{layout:a}=i,s=N5e(i,A5e),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=e,h={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return g.createElement(CQ,{preloadedState:{options:h},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:o},g.createElement(tQ,{chartData:i.data}),g.createElement(PQ,{layout:a,margin:i.margin}),g.createElement(kQ,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),g.createElement(T5e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),g.createElement(OQ,DN({},s,{ref:n})))}),k5e=["item"],O5e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},R5e=g.forwardRef((t,e)=>{var n=Yt(t,O5e);return g.createElement(P5e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:k5e,tooltipPayloadSearcher:r_,categoricalChartProps:n,ref:e})}),D5e=["axis"],M5e=g.forwardRef((t,e)=>g.createElement(Pk,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:D5e,tooltipPayloadSearcher:r_,categoricalChartProps:t,ref:e}));const L5e=({data:t,showOrders:e=!0,type:n="area"})=>{const r=({active:i,payload:a,label:s})=>i&&a&&a.length?c.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border border-gray-200",children:[c.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:s}),c.jsxs("p",{className:"text-sm text-blue-600",children:["Revenue: ",a[0].value.toLocaleString("en-US",{minimumFractionDigits:2})]}),e&&a[1]&&c.jsxs("p",{className:"text-sm text-green-600",children:["Orders: ",a[1].value]}),a[2]&&c.jsxs("p",{className:"text-sm text-purple-600",children:["Avg Order: ",a[2].value.toLocaleString("en-US",{minimumFractionDigits:2})]})]}):null;return n==="area"?c.jsx(_g,{width:"100%",height:"100%",children:c.jsxs(M5e,{data:t,children:[c.jsxs("defs",{children:[c.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),c.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]}),e&&c.jsxs("linearGradient",{id:"colorOrders",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.3}),c.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]})]}),c.jsx(kg,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),c.jsx(Rg,{dataKey:"date",stroke:"#6B7280",style:{fontSize:"12px"}}),c.jsx(Dg,{stroke:"#6B7280",style:{fontSize:"12px"},tickFormatter:i=>`${i.toLocaleString()}`}),c.jsx(Pg,{content:c.jsx(r,{}),cursor:!1,wrapperStyle:{outline:"none"}}),c.jsx(zh,{wrapperStyle:{paddingTop:"20px"},iconType:"circle"}),c.jsx(CN,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenue)",name:"Revenue"}),e&&c.jsx(CN,{type:"monotone",dataKey:"orders",stroke:"#10B981",strokeWidth:2,fillOpacity:1,fill:"url(#colorOrders)",name:"Orders"})]})}):c.jsx(_g,{width:"100%",height:"100%",children:c.jsxs(E5e,{data:t,children:[c.jsx(kg,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),c.jsx(Rg,{dataKey:"date",stroke:"#6B7280",style:{fontSize:"12px"}}),c.jsx(Dg,{stroke:"#6B7280",style:{fontSize:"12px"},tickFormatter:i=>`${i.toLocaleString()}`}),c.jsx(Pg,{content:c.jsx(r,{}),cursor:!1,wrapperStyle:{outline:"none"}}),c.jsx(zh,{wrapperStyle:{paddingTop:"20px"},iconType:"circle"}),c.jsx(zv,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",strokeWidth:3,dot:{fill:"#3B82F6",r:4},activeDot:{r:6},name:"Revenue"}),e&&c.jsx(zv,{type:"monotone",dataKey:"orders",stroke:"#10B981",strokeWidth:3,dot:{fill:"#10B981",r:4},activeDot:{r:6},name:"Orders"}),c.jsx(zv,{type:"monotone",dataKey:"averageOrderValue",stroke:"#8B5CF6",strokeWidth:2,strokeDasharray:"5 5",dot:{fill:"#8B5CF6",r:3},name:"Avg Order Value"})]})})},sV=["#3B82F6","#10B981","#F59E0B","#8B5CF6","#EC4899","#14B8A6","#F97316","#6366F1","#EF4444","#06B6D4"],V5e=({data:t,showRevenue:e=!0})=>{const n=({active:r,payload:i,label:a})=>r&&i&&i.length?c.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border border-gray-200",children:[c.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:a}),c.jsxs("p",{className:"text-sm text-blue-600",children:["Quantity Sold: ",i[0].value]}),e&&i[1]&&c.jsxs("p",{className:"text-sm text-green-600",children:["Revenue: ",i[1].value.toLocaleString("en-US",{minimumFractionDigits:2})]})]}):null;return t.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[c.jsx(zd,{className:"w-12 h-12 mb-3 opacity-50"}),c.jsx("p",{children:"No sales data available"})]}):c.jsx(_g,{width:"100%",height:"100%",children:c.jsxs(RQ,{data:t,layout:"vertical",margin:{top:5,right:30,left:10,bottom:5},children:[c.jsx(kg,{strokeDasharray:"3 3",stroke:"#E5E7EB",horizontal:!1,vertical:!0}),c.jsx(Rg,{type:"number",stroke:"#9CA3AF",style:{fontSize:"12px"},axisLine:!1,tickLine:!1}),c.jsx(Dg,{type:"category",dataKey:"productName",stroke:"#4B5563",style:{fontSize:"12px",fontWeight:500},width:100,tickFormatter:r=>r.length>12?r.substring(0,12)+"...":r,axisLine:!1,tickLine:!1}),c.jsx(Pg,{content:c.jsx(n,{}),cursor:{fill:"#F3F4F6",opacity:.5},wrapperStyle:{outline:"none"}}),c.jsx(zh,{wrapperStyle:{paddingTop:"10px"},iconType:"circle"}),c.jsx(qb,{dataKey:"quantity",name:"Quantity Sold",radius:[0,4,4,0],barSize:32,background:{fill:"#F9FAFB",radius:4},children:t.map((r,i)=>c.jsx(Lu,{fill:sV[i%sV.length]},`cell-${i}`))})]})})},oV={"Coffee Based":"#8B4513","Non-Coffee Based":"#D2691E","Matcha Series":"#90EE90",Refreshments:"#87CEEB",Meals:"#FFD700",Other:"#9CA3AF"},z5e=({data:t})=>{const e=({active:a,payload:s})=>{if(a&&s&&s.length){const o=s[0].payload,l=(o.revenue/o.total*100).toFixed(1);return c.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border border-gray-200",children:[c.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:o.category}),c.jsxs("p",{className:"text-sm text-blue-600",children:["Revenue: ",o.revenue.toLocaleString("en-US",{minimumFractionDigits:2})]}),c.jsxs("p",{className:"text-sm text-green-600",children:["Orders: ",o.orders]}),c.jsxs("p",{className:"text-sm text-purple-600",children:["Share: ",l,"%"]})]})}return null},n=({cx:a,cy:s,midAngle:o,innerRadius:l,outerRadius:u,percent:d})=>{const h=Math.PI/180,f=l+(u-l)*.5,m=a+f*Math.cos(-o*h),y=s+f*Math.sin(-o*h);return d<.05?null:c.jsx("text",{x:m,y,fill:"white",textAnchor:m>a?"start":"end",dominantBaseline:"central",className:"font-semibold text-sm",children:`${(d*100).toFixed(0)}%`})};if(t.length===0)return c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[c.jsx(pl,{className:"w-12 h-12 mb-3 opacity-50"}),c.jsx("p",{children:"No category data available"})]});const r=t.reduce((a,s)=>a+s.revenue,0),i=t.map(a=>({...a,total:r}));return c.jsx(_g,{width:"100%",height:"100%",children:c.jsxs(R5e,{children:[c.jsx(WY,{data:i,cx:"50%",cy:"50%",labelLine:!1,label:n,outerRadius:100,fill:"#8884d8",dataKey:"revenue",animationBegin:0,animationDuration:800,children:i.map((a,s)=>c.jsx(Lu,{fill:oV[a.category]||oV.Other},`cell-${s}`))}),c.jsx(Pg,{content:c.jsx(e,{}),wrapperStyle:{outline:"none"}}),c.jsx(zh,{verticalAlign:"bottom",height:36,iconType:"circle",formatter:(a,s)=>{const o=(s.payload.revenue/r*100).toFixed(1);return`${a} (${o}%)`}})]})})},U5e=({data:t})=>{const e=({active:a,payload:s,label:o})=>a&&s&&s.length?c.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border border-gray-200",children:[c.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:n(o)}),c.jsxs("p",{className:"text-sm text-blue-600",children:["Orders: ",s[0].value]}),c.jsxs("p",{className:"text-sm text-green-600",children:["Revenue: ",s[1].value.toLocaleString("en-US",{minimumFractionDigits:2})]})]}):null,n=a=>{const s=a>=12?"PM":"AM";return`${a===0?12:a>12?a-12:a}:00 ${s}`},r=(a,s)=>{const o=a/s;return o>.7?"#EF4444":o>.4?"#F59E0B":"#3B82F6"};if(t.length===0)return c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[c.jsx(Zs,{className:"w-12 h-12 mb-3 opacity-50"}),c.jsx("p",{children:"No peak hours data available"})]});const i=Math.max(...t.map(a=>a.orders));return c.jsx(_g,{width:"100%",height:"100%",children:c.jsxs(RQ,{data:t,children:[c.jsx(kg,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),c.jsx(Rg,{dataKey:"hour",stroke:"#6B7280",style:{fontSize:"11px"},tickFormatter:n,interval:0,angle:-45,textAnchor:"end",height:70}),c.jsx(Dg,{stroke:"#6B7280",style:{fontSize:"12px"}}),c.jsx(Pg,{content:c.jsx(e,{}),cursor:!1,wrapperStyle:{outline:"none"}}),c.jsx(zh,{wrapperStyle:{paddingTop:"10px"},iconType:"circle"}),c.jsx(qb,{dataKey:"orders",name:"Orders",radius:[8,8,0,0],children:t.map((a,s)=>c.jsx(Lu,{fill:r(a.orders,i)},`cell-orders-${s}`))}),c.jsx(qb,{dataKey:"revenue",name:"Revenue ()",fill:"#10B981",radius:[8,8,0,0],opacity:.7})]})})},B5e=()=>{const[t,e]=g.useState("today"),{salesData:n,topProducts:r,categorySales:i,peakHours:a,isLoading:s}=Gwe(t),o=[{value:"today",label:"Today",icon:_d},{value:"week",label:"This Week",icon:_d},{value:"month",label:"This Month",icon:_d},{value:"year",label:"This Year",icon:_d}],l=n.reduce((h,f)=>h+f.revenue,0),u=n.reduce((h,f)=>h+f.orders,0),d=u>0?l/u:0;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800 sm:text-2xl",children:"Sales Overview"}),c.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 sm:pb-0",children:o.map(h=>{const f=h.icon;return c.jsxs("button",{onClick:()=>e(h.value),className:`
                  flex flex-shrink-0 items-center gap-2 px-3 py-2 rounded-lg font-medium transition-all text-sm sm:px-4
                  ${t===h.value?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}
                `,children:[c.jsx(f,{className:"w-4 h-4"}),c.jsx("span",{className:"whitespace-nowrap",children:h.label})]},h.value)})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx(pe,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-blue-700 mb-1",children:"Total Revenue"}),c.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["",l.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),c.jsx("div",{className:"p-3 bg-blue-200 rounded-lg",children:c.jsx(zd,{className:"w-6 h-6 text-blue-700"})})]})}),c.jsx(pe,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-green-700 mb-1",children:"Total Orders"}),c.jsx("p",{className:"text-2xl font-bold text-green-900",children:u})]}),c.jsx("div",{className:"p-3 bg-green-200 rounded-lg",children:c.jsx(pl,{className:"w-6 h-6 text-green-700"})})]})}),c.jsx(pe,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-purple-700 mb-1",children:"Avg Order Value"}),c.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:["",d.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),c.jsx("div",{className:"p-3 bg-purple-200 rounded-lg",children:c.jsx(IU,{className:"w-6 h-6 text-purple-700"})})]})})]}),c.jsxs(pe,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(zd,{className:"w-5 h-5 text-blue-600"}),c.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Revenue & Orders Trend"})]}),c.jsx("div",{className:"h-80",children:s?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[c.jsx(zd,{className:"w-12 h-12 mb-3 opacity-50"}),c.jsx("p",{children:"No sales data available for this period"})]}):c.jsx(L5e,{data:n,showOrders:!0,type:"area"})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(pe,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(pl,{className:"w-5 h-5 text-green-600"}),c.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Top Selling Products"})]}),c.jsx("div",{className:"h-96",children:s?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):c.jsx(V5e,{data:r,showRevenue:!0})})]}),c.jsxs(pe,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(nne,{className:"w-5 h-5 text-purple-600"}),c.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Sales by Category"})]}),c.jsx("div",{className:"h-96",children:s?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):c.jsx(z5e,{data:i})})]})]}),(t==="today"||t==="week")&&a.length>0&&c.jsxs(pe,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(Zs,{className:"w-5 h-5 text-orange-600"}),c.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Peak Hours Analysis"})]}),c.jsx("div",{className:"h-80",children:s?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):c.jsx(U5e,{data:a})})]})]})},F5e=()=>{const[t,e]=g.useState({revenueToday:0,ordersToday:0,newCustomersToday:0,pendingOrders:0}),[n,r]=g.useState({revenue:0,orders:0,customers:0}),[i,a]=g.useState(!0);g.useEffect(()=>{const u=new Date,d=new Date(u.getFullYear(),u.getMonth(),u.getDate()),h=new Date(u.getFullYear(),u.getMonth(),u.getDate()+1),f=new Date(u.getFullYear(),u.getMonth(),u.getDate()-1),m=new Date(u.getFullYear(),u.getMonth(),u.getDate()),y=de.collection("orders").where("timestamp",">=",d).where("timestamp","<",h),v=y.onSnapshot(C=>{let N=0;const T=C.size;C.forEach(I=>{const P=I.data();P.status==="completed"&&(N+=P.totalAmount)}),e(I=>({...I,revenueToday:N,ordersToday:T}))},C=>console.error("Error fetching today's orders:",C)),x=de.collection("users").where("createdAt",">=",d).where("createdAt","<",h),b=x.onSnapshot(C=>{e(N=>({...N,newCustomersToday:C.size}))},C=>console.error("Error fetching new users:",C)),w=de.collection("orders").where("status","in",["waiting","preparing"]),_=w.onSnapshot(C=>{e(N=>({...N,pendingOrders:C.size}))},C=>console.error("Error fetching pending orders:",C)),S=async()=>{try{const C=await de.collection("orders").where("timestamp",">=",f).where("timestamp","<",m).get();let N=0,T=C.size;C.forEach(R=>{const O=R.data();O.status==="completed"&&(N+=O.totalAmount)});const P=(await de.collection("users").where("createdAt",">=",f).where("createdAt","<",m).get()).size,k=(R,O)=>O===0?R>0?100:0:Number(((R-O)/O*100).toFixed(1));return{revenueYesterday:N,ordersYesterday:T,customersYesterday:P}}catch(C){return console.error("Error fetching yesterday's data:",C),{revenueYesterday:0,ordersYesterday:0,customersYesterday:0}}};S().then(C=>{o(C)});const A=[y.get(),x.get(),w.get(),S()];return Promise.all(A).finally(()=>{a(!1)}),()=>{v(),b(),_()}},[]);const[s,o]=g.useState({revenueYesterday:0,ordersYesterday:0,customersYesterday:0}),l=(u,d)=>d===0?u>0?100:0:Number(((u-d)/d*100).toFixed(1));return c.jsxs("div",{children:[c.jsx("h1",{className:"mb-6 font-display text-3xl font-bold text-gray-800",children:"Admin Dashboard"}),c.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[c.jsx(Wo,{title:"Total Revenue Today",value:`${t.revenueToday.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,Icon:jU,isLoading:i,color:"blue",trend:{value:l(t.revenueToday,s.revenueYesterday),label:"vs yesterday"}}),c.jsx(Wo,{title:"Orders Today",value:t.ordersToday,Icon:hr,isLoading:i,color:"green",trend:{value:l(t.ordersToday,s.ordersYesterday),label:"vs yesterday"}}),c.jsx(Wo,{title:"New Customers Today",value:t.newCustomersToday,Icon:Xg,isLoading:i,color:"yellow",trend:{value:l(t.newCustomersToday,s.customersYesterday),label:"vs yesterday"}}),c.jsx(Wo,{title:"Pending Orders",value:t.pendingOrders,Icon:Up,isLoading:i,color:"purple"})]}),c.jsx("div",{className:"mt-8",children:c.jsx(B5e,{})})]})},$5e={waiting:{text:"Start Preparing",nextStatus:"preparing",color:"bg-blue-500 hover:bg-blue-600"},preparing:{text:"Mark as Ready",nextStatus:"ready",color:"bg-green-500 hover:bg-green-600"},ready:{text:"Complete Order",nextStatus:"completed",color:"bg-primary-600 hover:bg-primary-700"}},q5e=({order:t,onUpdateStatus:e})=>{const n=$5e[t.status],r=v1(t.timestamp,{addSuffix:!0});return c.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm transition-shadow hover:shadow-md",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"font-mono text-sm font-bold text-primary-700",children:t.orderNumber}),c.jsxs("p",{className:"font-display text-lg font-bold text-gray-800",children:["",t.totalAmount.toFixed(2)]})]}),c.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ms,{className:"h-4 w-4"}),c.jsx("span",{children:t.customerName})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Zs,{className:"h-4 w-4"}),c.jsx("span",{children:r})]})]}),c.jsx("div",{className:"mt-3 border-t pt-2",children:c.jsx("ul",{className:"text-xs text-gray-500",children:t.orderItems.map((i,a)=>c.jsxs("li",{children:[i.quantity,"x ",i.productName]},a))})}),n&&c.jsxs("button",{onClick:()=>e(t.id,n.nextStatus),className:`mt-4 flex w-full items-center justify-center gap-2 rounded-full px-4 py-2 text-sm font-semibold text-white shadow-sm transition-colors ${n.color}`,children:[c.jsx("span",{children:n.text}),n.nextStatus==="completed"?c.jsx(Ua,{className:"h-4 w-4"}):c.jsx(Xc,{className:"h-4 w-4"})]})]})},H5e={yellow:"border-yellow-400",blue:"border-blue-400",green:"border-green-400"},OS=({title:t,orders:e,onUpdateStatus:n,color:r})=>c.jsxs("div",{className:"flex flex-col rounded-lg bg-gray-100 p-4",children:[c.jsxs("h2",{className:`mb-4 border-b-4 pb-2 font-display text-xl font-bold text-gray-700 ${H5e[r]}`,children:[t," ",c.jsxs("span",{className:"text-base font-medium text-gray-500",children:["(",e.length,")"]})]}),c.jsxs("div",{className:"flex-grow space-y-4 overflow-y-auto",children:[c.jsx(cl,{children:e.map(i=>c.jsx(Wn.div,{layout:!0,initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},children:c.jsx(q5e,{order:i,onUpdateStatus:n})},i.id))}),e.length===0&&c.jsx("div",{className:"flex h-32 items-center justify-center text-sm text-gray-500",children:"No orders in this stage."})]})]}),G5e=()=>{const[t,e]=g.useState([]),[n,r]=g.useState(!0),{showToast:i}=xr();g.useEffect(()=>{const d=de.collection("orders").where("status","in",["waiting","preparing","ready"]).onSnapshot(h=>{const f=[];h.forEach(m=>{f.push({id:m.id,...m.data(),timestamp:m.data().timestamp.toDate()})}),f.sort((m,y)=>m.timestamp.getTime()-y.timestamp.getTime()),e(f),r(!1)},h=>{console.error("Error fetching real-time orders: ",h),r(!1)});return()=>d()},[]);const a=async(u,d)=>{let h=null;try{if(await de.runTransaction(async f=>{const m=de.collection("orders").doc(u),y=await f.get(m);if(!y.exists)throw new Error("Order does not exist!");const v=y.data(),x=v.status,b=new Map,w=new Map;if(x==="waiting"&&d==="preparing"){const S=v.orderItems.map(C=>de.collection("products").doc(C.productId)),A=await Promise.all(S.map(C=>f.get(C)));for(let C=0;C<v.orderItems.length;C++){const N=v.orderItems[C],T=A[C];if(T.exists&&T.data().recipe)for(const I of T.data().recipe){const P=de.collection("ingredients").doc(I.ingredientId),k=I.quantity*N.quantity;b.set(P.path,P),w.set(P.path,(w.get(P.path)||0)+k)}if(N.customizations){if(N.customizations.sugarLevel){const I=Uc.sugarLevels.find(P=>P.value===N.customizations.sugarLevel);if(I&&I.sugarAmount>0){const P=de.collection("ingredients").doc(I.sugarIngredientId),k=I.sugarAmount*N.quantity;b.set(P.path,P),w.set(P.path,(w.get(P.path)||0)+k)}}if(N.customizations.iceLevel){const I=Uc.iceLevels.find(P=>P.value===N.customizations.iceLevel);if(I&&I.iceAmount>0){const P=de.collection("ingredients").doc(I.iceIngredientId),k=I.iceAmount*N.quantity;b.set(P.path,P),w.set(P.path,(w.get(P.path)||0)+k)}}if(N.customizations.toppings&&N.customizations.toppings.length>0)for(const I of N.customizations.toppings){const P=await de.collection("ingredients").where("name","==",I).where("isTopping","==",!0).limit(1).get();if(!P.empty){const k=P.docs[0],M=(k.data().portionSize||30)*N.quantity;b.set(k.ref.path,k.ref),w.set(k.ref.path,(w.get(k.ref.path)||0)+M)}}}}}const _=await Promise.all(Array.from(b.values()).map(S=>f.get(S)));if(d==="completed"&&x!=="completed"){const S=de.collection("users").doc(v.userId),A=await f.get(S);if(A.exists){const C=A.data();let N=0;for(const M of v.orderItems)M.productName.includes("(Grande)")?N+=4*M.quantity:M.productName.includes("(Venti)")&&(N+=5*M.quantity);let T=1;const I=C.tier||"bronze";I==="silver"&&(T=1.5),I==="gold"&&(T=2);const P=Math.floor(N*T),R=(C.lifetimePoints||0)+P;let O=I;O==="bronze"&&R>=zA.silver.min&&(O="silver"),O==="silver"&&R>=zA.gold.min&&(O="gold"),h={userId:v.userId,pointsEarned:P,newTier:O,totalAmount:v.totalAmount,orderNumber:v.orderNumber}}}if(x==="waiting"&&d==="preparing"){const S=new Map(_.map(A=>[A.ref.path,A]));for(const[A,C]of w.entries()){const N=S.get(A);if(!N||!N.exists){const T=A.split("/").pop();throw new Error(`Ingredient '${T}' not found.`)}if(N.data().stock<C)throw new Error(`Insufficient stock for '${N.data().name}'.`)}}if(x==="waiting"&&d==="preparing")for(const[S,A]of w.entries()){const C=de.doc(S);f.update(C,{stock:nt.firestore.FieldValue.increment(-A)})}f.update(m,{status:d})}),h)try{const f={id:`rh-${Date.now()}`,type:"earned",points:h.pointsEarned,description:`Order #${h.orderNumber}`,date:new Date};await de.collection("users").doc(h.userId).update({totalOrders:nt.firestore.FieldValue.increment(1),totalSpent:nt.firestore.FieldValue.increment(h.totalAmount),currentPoints:nt.firestore.FieldValue.increment(h.pointsEarned),lifetimePoints:nt.firestore.FieldValue.increment(h.pointsEarned),tier:h.newTier,rewardsHistory:nt.firestore.FieldValue.arrayUnion(f)})}catch(f){console.error("Failed to update user rewards:",f),i("Order completed, but failed to update user points (Permission Error).");return}}catch(f){console.error("Error updating order status and stock: ",f),i(f.message||"Failed to update order. Please check inventory.")}},s=g.useMemo(()=>t.filter(u=>u.status==="waiting"),[t]),o=g.useMemo(()=>t.filter(u=>u.status==="preparing"),[t]),l=g.useMemo(()=>t.filter(u=>u.status==="ready"),[t]);return n?c.jsx("div",{className:"flex h-full items-center justify-center",children:c.jsx(Mt,{className:"h-12 w-12 animate-spin text-primary-600"})}):c.jsxs("div",{children:[c.jsx("h1",{className:"mb-6 font-display text-3xl font-bold text-gray-800",children:"Live Order Queue"}),t.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border-2 border-dashed bg-gray-50 p-12 text-center",children:[c.jsx(hr,{className:"h-16 w-16 text-gray-400"}),c.jsx("h2",{className:"mt-4 text-xl font-semibold text-gray-700",children:"No Active Orders"}),c.jsx("p",{className:"mt-1 text-gray-500",children:"New orders will appear here in real-time."})]}):c.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[c.jsx(OS,{title:"Waiting",orders:s,onUpdateStatus:a,color:"yellow"}),c.jsx(OS,{title:"Preparing",orders:o,onUpdateStatus:a,color:"blue"}),c.jsx(OS,{title:"Ready for Pickup",orders:l,onUpdateStatus:a,color:"green"})]})]})},K5e=({isOpen:t,onClose:e,onConfirm:n})=>c.jsxs(jl,{isOpen:t,onClose:e,title:"Confirm Logout",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-red-100",children:c.jsx(Zc,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),c.jsx("h3",{className:"mt-3 text-lg font-medium text-gray-900",children:"Are you sure?"}),c.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"You will be returned to the login page."})]}),c.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[c.jsx(ke,{variant:"ghost",onClick:e,className:"w-full",children:"Cancel"}),c.jsxs(ke,{variant:"danger",onClick:n,className:"w-full",children:[c.jsx(xx,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]}),RS=[{to:"/admin",text:"Dashboard",icon:Zne},{to:"/admin/queue",text:"Queue Management",icon:yne},{to:"/admin/inventory",text:"Inventory",icon:pl},{to:"/admin/products",text:"Products",icon:hr},{to:"/admin/feedback",text:"Feedback",icon:nf},{to:"/admin/analytics",text:"Analytics",icon:Up},{to:"/admin/settings",text:"Settings",icon:rp}],W5e=()=>{const{logout:t}=Yr(),e=Qi(),n=Yi(),[r,i]=g.useState(!1),[a,s]=g.useState(!1),o=n.pathname,u=(RS.find(y=>y.to===o)||RS[0]).text,d=()=>{i(!0)},h=async()=>{try{await t(),e("/auth/login")}catch(y){console.error("Failed to log out:",y)}finally{i(!1)}},f=()=>{s(!1)};g.useEffect(()=>{f()},[e]),g.useEffect(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[a]);const m=({isMobile:y=!1})=>c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-8 flex items-center justify-between gap-2 px-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ln,{className:"h-8 w-8 text-primary-400"}),c.jsx("span",{className:"text-xl font-bold text-white",children:"Admin Panel"})]}),y&&c.jsx("button",{onClick:f,className:"rounded-md p-2 text-gray-300 transition hover:bg-gray-700 hover:text-white md:hidden","aria-label":"Close menu",children:c.jsx(Xi,{className:"h-6 w-6"})})]}),c.jsx("nav",{className:"flex-grow",children:c.jsx("ul",{children:RS.map(({to:v,text:x,icon:b})=>c.jsx("li",{className:"mb-1",children:c.jsxs(Ni,{to:v,end:v==="/admin",onClick:y?f:void 0,className:({isActive:w})=>`flex items-center gap-3 rounded-md px-3 py-2 transition-colors ${w?"bg-primary-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[c.jsx(b,{className:"h-5 w-5"}),c.jsx("span",{children:x})]})},v))})}),c.jsx("div",{className:"mt-4 border-t border-gray-700 pt-4",children:c.jsxs("button",{onClick:d,className:"flex w-full items-center gap-3 rounded-md px-3 py-2 text-left text-gray-300 transition-colors hover:bg-red-500/80 hover:text-white",children:[c.jsx(xx,{className:"h-5 w-5"}),c.jsx("span",{children:"Logout"})]})}),c.jsx("div",{className:"mt-4 text-center text-xs text-gray-400",children:c.jsxs("p",{children:[" ",new Date().getFullYear()," Rush Coffee"]})})]});return c.jsxs("div",{className:"flex h-screen bg-gray-100",children:[c.jsx("aside",{className:"hidden w-64 flex-shrink-0 bg-gray-800 p-4 text-white md:flex md:flex-col",children:c.jsx(m,{})}),c.jsxs("div",{className:`fixed inset-0 z-50 transform transition-opacity duration-300 md:hidden ${a?"opacity-100":"opacity-0 pointer-events-none"}`,children:[c.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:f,"aria-hidden":"true"}),c.jsx("aside",{className:`fixed top-0 left-0 flex h-full w-64 flex-col bg-gray-800 p-4 text-white shadow-2xl transition-transform duration-300 ease-in-out ${a?"translate-x-0":"-translate-x-full"}`,role:"dialog","aria-modal":"true","aria-label":"Mobile navigation menu",children:c.jsx(m,{isMobile:!0})})]}),c.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[c.jsx("header",{className:"border-b bg-white shadow-sm",children:c.jsxs("div",{className:"flex h-16 items-center justify-between px-4 sm:px-6",children:[c.jsx("button",{onClick:()=>s(!0),className:"rounded-md p-1.5 text-gray-700 transition hover:bg-gray-100 md:hidden","aria-label":"Open menu","aria-expanded":a,children:c.jsx(G2,{className:"h-5 w-5"})}),c.jsx("h1",{className:"text-lg font-semibold text-gray-800 sm:text-xl",children:u}),c.jsx("div",{className:"w-10 md:w-0"})]})}),c.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:c.jsx(bU,{})})]}),c.jsx(K5e,{isOpen:r,onClose:()=>i(!1),onConfirm:h})]})},Y5e=({ingredient:t,onClose:e,onUpdate:n})=>{const[r,i]=g.useState("add"),[a,s]=g.useState(""),o=l=>{l.preventDefault(),typeof a=="number"&&a>=0&&n(t.id,a,r)};return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:e,children:c.jsxs("div",{className:"w-full max-w-md rounded-lg bg-white p-6 shadow-xl",onClick:l=>l.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h2",{className:"font-display text-xl font-bold text-gray-800",children:["Update Stock: ",t.name]}),c.jsx("button",{onClick:e,className:"rounded-full p-1 text-gray-500 hover:bg-gray-100",children:c.jsx(Xi,{})})]}),c.jsx("div",{className:"mt-4 text-sm",children:c.jsxs("p",{children:["Current Stock: ",c.jsxs("span",{className:"font-bold",children:[t.stock.toLocaleString()," ",t.unit]})]})}),c.jsxs("form",{onSubmit:o,className:"mt-6",children:[c.jsxs("div",{className:"flex gap-2 rounded-full bg-gray-100 p-1",children:[c.jsx("button",{type:"button",onClick:()=>i("add"),className:`w-full rounded-full py-2 text-sm font-semibold transition-colors ${r==="add"?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:"Add Stock"}),c.jsx("button",{type:"button",onClick:()=>i("set"),className:`w-full rounded-full py-2 text-sm font-semibold transition-colors ${r==="set"?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:"Set New Total"})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:r==="add"?`Amount to Add (${t.unit})`:`New Total Stock (${t.unit})`}),c.jsx("input",{type:"number",id:"amount",value:a,onChange:l=>s(l.target.value===""?"":Number(l.target.value)),min:"0",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0,autoFocus:!0})]}),c.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:e,className:"rounded-full bg-gray-200 px-4 py-2 text-sm font-semibold text-gray-800 hover:bg-gray-300",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"flex items-center gap-2 rounded-full bg-primary-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-700 disabled:bg-primary-400",disabled:a===""||a<0,children:[c.jsx(Qg,{className:"h-4 w-4"}),"Update Stock"]})]})]})]})})},Q5e=({isOpen:t,onClose:e,onAdd:n})=>{const[r,i]=g.useState({name:"",category:"Coffee & Beans",stock:0,unit:"g",lowStockThreshold:10}),[a,s]=g.useState(!1),o=u=>{const{name:d,value:h,type:f}=u.target;i(m=>({...m,[d]:f==="number"?Math.max(0,Number(h)):h}))},l=async u=>{if(u.preventDefault(),!!r.name.trim()){s(!0);try{await n(r)}catch(d){console.error("Failed to add ingredient",d)}finally{s(!1)}}};return c.jsx(jl,{isOpen:t,onClose:e,title:"Add New Ingredient",children:c.jsxs("form",{onSubmit:l,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Ingredient Name"}),c.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0,autoFocus:!0})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),c.jsxs("select",{id:"category",name:"category",value:r.category,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0,children:[c.jsx("option",{value:"Coffee & Beans",children:"Coffee & Beans"}),c.jsx("option",{value:"Dairy",children:"Dairy"}),c.jsx("option",{value:"Sauces",children:"Sauces"}),c.jsx("option",{value:"Syrups",children:"Syrups"}),c.jsx("option",{value:"Specialty",children:"Specialty"}),c.jsx("option",{value:"Matcha & Tea",children:"Matcha & Tea"}),c.jsx("option",{value:"Fruits & Purees",children:"Fruits & Purees"}),c.jsx("option",{value:"Beverages",children:"Beverages"}),c.jsx("option",{value:"Frozen",children:"Frozen"}),c.jsx("option",{value:"Proteins",children:"Proteins"}),c.jsx("option",{value:"Dry Goods",children:"Dry Goods"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-700",children:"Initial Stock"}),c.jsx("input",{type:"number",id:"stock",name:"stock",value:r.stock,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0,min:"0"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700",children:"Unit"}),c.jsxs("select",{id:"unit",name:"unit",value:r.unit,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[c.jsx("option",{value:"g",children:"Grams (g)"}),c.jsx("option",{value:"ml",children:"Milliliters (ml)"}),c.jsx("option",{value:"pcs",children:"Pieces (pcs)"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"lowStockThreshold",className:"block text-sm font-medium text-gray-700",children:"Low Stock Threshold"}),c.jsx("input",{type:"number",id:"lowStockThreshold",name:"lowStockThreshold",value:r.lowStockThreshold,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0,min:"0"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(ke,{type:"button",variant:"ghost",onClick:e,children:"Cancel"}),c.jsxs(ke,{type:"submit",disabled:a,children:[a?c.jsx(Mt,{className:"mr-2 h-4 w-4 animate-spin"}):c.jsx(Qg,{className:"mr-2 h-4 w-4"}),"Save Ingredient"]})]})]})})},X5e=[{id:"espresso-shot",name:"Espresso Shot",category:"Coffee & Beans",stock:1e3,unit:"pcs",lowStockThreshold:100},{id:"coffee-beans",name:"Coffee Beans (Blend)",category:"Coffee & Beans",stock:1e4,unit:"g",lowStockThreshold:1e3},{id:"milk",name:"Milk",category:"Dairy",stock:2e4,unit:"ml",lowStockThreshold:2e3},{id:"condensed-milk",name:"Condensed Milk",category:"Dairy",stock:5e3,unit:"ml",lowStockThreshold:500},{id:"cream-cheese",name:"Cream Cheese",category:"Dairy",stock:3e3,unit:"g",lowStockThreshold:300},{id:"whipped-cream",name:"Whipped Cream",category:"Dairy",stock:2e3,unit:"ml",lowStockThreshold:200},{id:"chocolate-sauce",name:"Chocolate Sauce",category:"Sauces",stock:3e3,unit:"ml",lowStockThreshold:300},{id:"caramel-sauce",name:"Caramel Sauce",category:"Sauces",stock:3e3,unit:"ml",lowStockThreshold:300},{id:"brown-sugar-syrup",name:"Brown Sugar Syrup",category:"Syrups",stock:2500,unit:"ml",lowStockThreshold:250,portionSize:20},{id:"vanilla-syrup",name:"Vanilla Syrup",category:"Syrups",stock:2e3,unit:"ml",lowStockThreshold:200},{id:"orange-syrup",name:"Orange Syrup",category:"Syrups",stock:1500,unit:"ml",lowStockThreshold:150},{id:"biscoff-spread",name:"Biscoff Spread",category:"Specialty",stock:2e3,unit:"g",lowStockThreshold:200},{id:"peanut-butter",name:"Peanut Butter",category:"Specialty",stock:2e3,unit:"g",lowStockThreshold:200},{id:"oreo-crumbs",name:"Oreo Cookie Crumbs",category:"Specialty",stock:3e3,unit:"g",lowStockThreshold:300},{id:"coffee-jelly",name:"Coffee Jelly",category:"Specialty",stock:2500,unit:"g",lowStockThreshold:250},{id:"red-velvet-powder",name:"Red Velvet Powder",category:"Specialty",stock:2e3,unit:"g",lowStockThreshold:200},{id:"pearls",name:"Pearls",category:"Specialty",stock:3e3,unit:"g",lowStockThreshold:300,isTopping:!0,toppingPrice:10,portionSize:30},{id:"pudding",name:"Pudding",category:"Specialty",stock:2e3,unit:"g",lowStockThreshold:200,isTopping:!0,toppingPrice:15,portionSize:40},{id:"grass-jelly",name:"Grass Jelly",category:"Specialty",stock:2500,unit:"g",lowStockThreshold:250,isTopping:!0,toppingPrice:15,portionSize:35},{id:"matcha-powder",name:"Matcha Powder",category:"Matcha & Tea",stock:2e3,unit:"g",lowStockThreshold:200},{id:"strawberry-puree",name:"Strawberry Puree",category:"Fruits & Purees",stock:4e3,unit:"ml",lowStockThreshold:400},{id:"mango-puree",name:"Mango Puree",category:"Fruits & Purees",stock:4e3,unit:"ml",lowStockThreshold:400},{id:"blueberry-puree",name:"Blueberry Puree",category:"Fruits & Purees",stock:3e3,unit:"ml",lowStockThreshold:300},{id:"green-apple-puree",name:"Green Apple Puree",category:"Fruits & Purees",stock:3e3,unit:"ml",lowStockThreshold:300},{id:"lemon-juice",name:"Lemon Juice",category:"Fruits & Purees",stock:2e3,unit:"ml",lowStockThreshold:200},{id:"lychee-syrup",name:"Lychee Syrup",category:"Syrups",stock:2e3,unit:"ml",lowStockThreshold:200},{id:"mixed-berries",name:"Mixed Berries",category:"Fruits & Purees",stock:2e3,unit:"g",lowStockThreshold:200},{id:"soda-water",name:"Soda Water",category:"Beverages",stock:1e4,unit:"ml",lowStockThreshold:1e3},{id:"ice-cubes",name:"Ice Cubes",category:"Frozen",stock:5e4,unit:"g",lowStockThreshold:5e3,portionSize:100},{id:"hot-water",name:"Hot Water",category:"Beverages",stock:99999,unit:"ml",lowStockThreshold:1e4},{id:"bacon-strips",name:"Bacon Strips",category:"Proteins",stock:200,unit:"pcs",lowStockThreshold:20},{id:"porkchop",name:"Porkchop",category:"Proteins",stock:150,unit:"pcs",lowStockThreshold:15},{id:"chicken-fillet",name:"Chicken Fillet",category:"Proteins",stock:200,unit:"pcs",lowStockThreshold:20},{id:"bread-crumbs",name:"Bread Crumbs",category:"Dry Goods",stock:3e3,unit:"g",lowStockThreshold:300},{id:"french-fries",name:"French Fries",category:"Frozen",stock:300,unit:"pcs",lowStockThreshold:30},{id:"white-sauce",name:"White Sauce",category:"Sauces",stock:2e3,unit:"ml",lowStockThreshold:200},{id:"cooking-oil",name:"Cooking Oil",category:"Dry Goods",stock:5e3,unit:"ml",lowStockThreshold:500}],Z5e=()=>{const[t,e]=g.useState([]),[n,r]=g.useState(!0),[i,a]=g.useState(!1),[s,o]=g.useState(!1),[l,u]=g.useState(null),[d,h]=g.useState("All"),[f,m]=g.useState(""),[y,v]=g.useState("all"),{showToast:x}=xr(),b={All:{icon:pl,color:"text-gray-700",bgColor:"bg-gray-100"},"Coffee & Beans":{icon:hr,color:"text-amber-700",bgColor:"bg-amber-50"},Dairy:{icon:pre,color:"text-blue-700",bgColor:"bg-blue-50"},Sauces:{icon:cD,color:"text-red-700",bgColor:"bg-red-50"},Syrups:{icon:cD,color:"text-purple-700",bgColor:"bg-purple-50"},Specialty:{icon:DU,color:"text-yellow-700",bgColor:"bg-yellow-50"},"Matcha & Tea":{icon:kU,color:"text-green-700",bgColor:"bg-green-50"},"Fruits & Purees":{icon:NU,color:"text-pink-700",bgColor:"bg-pink-50"},Beverages:{icon:Kte,color:"text-cyan-700",bgColor:"bg-cyan-50"},Frozen:{icon:RU,color:"text-blue-600",bgColor:"bg-blue-50"},Proteins:{icon:Pne,color:"text-orange-700",bgColor:"bg-orange-50"},"Dry Goods":{icon:Qte,color:"text-stone-700",bgColor:"bg-stone-50"}},w=zo.useMemo(()=>{let M=t;return d!=="All"&&(M=M.filter(L=>L.category===d)),y==="lowStock"?M=M.filter(L=>L.stock>0&&L.stock<=L.lowStockThreshold):y==="outOfStock"&&(M=M.filter(L=>L.stock===0)),f.trim()&&(M=M.filter(L=>L.name.toLowerCase().includes(f.toLowerCase()))),M},[t,d,f,y]),_=["All","Coffee & Beans","Dairy","Sauces","Syrups","Specialty","Matcha & Tea","Fruits & Purees","Beverages","Frozen","Proteins","Dry Goods"],S=M=>M==="All"?t.length:t.filter(L=>L.category===M).length,A=M=>(M==="All"?t:t.filter(B=>B.category===M)).filter(B=>B.stock>0&&B.stock<=B.lowStockThreshold).length,C=M=>{v(M),h("All")},N=M=>M.stock===0?{text:"Out of Stock",color:"text-red-600",Icon:gx}:M.stock<=M.lowStockThreshold?{text:"Low Stock",color:"text-yellow-600",Icon:Zc}:{text:"In Stock",color:"text-green-600",Icon:bw};g.useEffect(()=>{const M=async()=>{const B=de.collection("ingredients"),q=await B.get(),H=new Set(q.docs.map(he=>he.id)),J=de.batch();let oe=!1;X5e.forEach(he=>{if(!H.has(he.id)){console.log(`Seeding missing ingredient: ${he.name}`);const{id:fe,...st}=he,yn=B.doc(fe);J.set(yn,st),oe=!0}}),oe&&(await J.commit(),console.log("New ingredients seeded successfully."));try{await Xq()}catch(he){console.error("Error seeding customization options:",he)}return de.collection("ingredients").orderBy("name","asc").onSnapshot(he=>{const fe=[];he.forEach(st=>{fe.push({id:st.id,...st.data()})}),e(fe),r(!1)},he=>{console.error("Error fetching inventory: ",he),r(!1)})};let L;return M().then(B=>{B&&(L=B)}),()=>{L&&L()}},[]);const T=M=>{u(M),a(!0)},I=()=>{a(!1),u(null)},P=()=>{o(!0)},k=()=>{o(!1)},R=async M=>{try{const L=M.name.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();if((await de.collection("ingredients").doc(L).get()).exists){x(`Ingredient with name "${M.name}" already exists!`);return}const{id:q,...H}=M;await de.collection("ingredients").doc(L).set(H),x(`Ingredient "${M.name}" added successfully with ID: ${L}`),k()}catch(L){throw console.error("Error adding ingredient: ",L),x("Failed to add ingredient."),L}},O=async(M,L,B)=>{const q=de.collection("ingredients").doc(M);try{B==="add"?await q.update({stock:nt.firestore.FieldValue.increment(L)}):await q.update({stock:L}),I()}catch(H){console.error("Error updating stock: ",H)}};return n?c.jsx("div",{className:"flex h-full items-center justify-center",children:c.jsx(Mt,{className:"h-12 w-12 animate-spin text-primary-600"})}):c.jsxs("div",{children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-6",children:[c.jsx("h1",{className:"font-display text-2xl font-bold text-gray-800 sm:text-3xl",children:"Inventory Management"}),c.jsxs("button",{onClick:P,className:"flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 sm:w-auto",children:[c.jsx(rf,{className:"h-4 w-4"}),c.jsx("span",{children:"Add Ingredient"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6 sm:grid-cols-3",children:[c.jsxs("button",{onClick:()=>C("all"),className:`flex items-center justify-between p-5 bg-white rounded-xl border border-gray-100 shadow-sm transition-all hover:shadow-md cursor-pointer text-left group ${y==="all"?"ring-2 ring-primary-600 ring-offset-1":""}`,children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-500 group-hover:text-primary-600 transition-colors",children:"Total Ingredients"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t.length})]}),c.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gray-100 text-gray-600 group-hover:bg-primary-50 group-hover:text-primary-600 transition-colors",children:c.jsx(pl,{className:"h-6 w-6"})})]}),c.jsxs("button",{onClick:()=>C("lowStock"),className:`flex items-center justify-between p-5 bg-white rounded-xl border border-gray-100 shadow-sm transition-all hover:shadow-md cursor-pointer text-left group ${y==="lowStock"?"ring-2 ring-yellow-500 ring-offset-1":""}`,children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-500 group-hover:text-yellow-600 transition-colors",children:"Low Stock Items"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:A("All")})]}),c.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-yellow-50 text-yellow-600 group-hover:bg-yellow-100 transition-colors",children:c.jsx(Zc,{className:"h-6 w-6"})})]}),c.jsxs("button",{onClick:()=>C("outOfStock"),className:`flex items-center justify-between p-5 bg-white rounded-xl border border-gray-100 shadow-sm transition-all hover:shadow-md cursor-pointer text-left group ${y==="outOfStock"?"ring-2 ring-red-500 ring-offset-1":""}`,children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-500 group-hover:text-red-600 transition-colors",children:"Out of Stock"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t.filter(M=>M.stock===0).length})]}),c.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-red-50 text-red-600 group-hover:bg-red-100 transition-colors",children:c.jsx(gx,{className:"h-6 w-6"})})]})]}),c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx(ch,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search ingredients...",value:f,onChange:M=>m(M.target.value),className:"w-full rounded-lg border bg-white pl-10 pr-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500 focus:ring-opacity-20"})]})}),c.jsx("div",{className:"mb-6 overflow-x-auto py-1",children:c.jsx("div",{className:"flex gap-2 pb-2 px-1",children:_.map(M=>{const L=S(M),B=A(M),q=d===M,H=b[M],J=H.icon;return c.jsxs("button",{onClick:()=>{h(M),v("all")},className:`flex-shrink-0 flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold transition-all ${q?"bg-primary-600 text-white shadow-md scale-105":`${H.bgColor} ${H.color} hover:shadow-md hover:scale-102`}`,children:[c.jsx(J,{className:"h-4 w-4"}),c.jsx("span",{children:M}),L>0&&c.jsx("span",{className:`inline-flex items-center justify-center min-w-[20px] h-5 px-1.5 rounded-full text-xs font-bold ${q?"bg-white bg-opacity-25":"bg-white bg-opacity-50"}`,children:L}),B>0&&c.jsxs("span",{className:"inline-flex items-center justify-center min-w-[20px] h-5 px-1.5 rounded-full text-xs font-bold bg-yellow-500 text-white",children:[" ",B]})]},M)})})}),c.jsxs("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:[w.map(M=>{const L=N(M);return c.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm flex flex-col gap-3",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:M.name}),c.jsx("p",{className:"text-xs text-gray-500",children:M.category})]}),c.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${L.color==="text-red-600"?"bg-red-50 text-red-700":L.color==="text-yellow-600"?"bg-yellow-50 text-yellow-700":"bg-green-50 text-green-700"}`,children:[c.jsx(L.Icon,{className:"h-3 w-3"}),L.text]})]}),c.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-50",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Current Stock"}),c.jsxs("p",{className:"font-medium text-gray-900",children:[M.stock.toLocaleString()," ",c.jsx("span",{className:"text-gray-400 text-xs",children:M.unit})]})]}),c.jsx("button",{onClick:()=>T(M),className:"px-3 py-1.5 bg-primary-50 text-primary-700 text-xs font-semibold rounded-lg hover:bg-primary-100 transition-colors",children:"Update"})]})]},M.id)}),w.length===0&&c.jsx("div",{className:"text-center py-8 text-gray-500",children:"No ingredients found."})]}),c.jsx("div",{className:"hidden md:block overflow-x-auto rounded-lg border bg-white shadow-sm",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Ingredient"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Current Stock"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),c.jsx("th",{scope:"col",className:"relative px-6 py-3",children:c.jsx("span",{className:"sr-only",children:"Edit"})})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:w.map(M=>{const L=N(M);return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:c.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.name})}),c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:c.jsxs("div",{className:"text-sm text-gray-900",children:[M.stock.toLocaleString()," ",c.jsx("span",{className:"text-gray-500",children:M.unit})]})}),c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:c.jsxs("div",{className:`inline-flex items-center gap-1 text-sm font-semibold ${L.color}`,children:[c.jsx(L.Icon,{className:"h-4 w-4"}),L.text]})}),c.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium",children:c.jsx("button",{onClick:()=>T(M),className:"text-primary-600 hover:text-primary-800",children:"Update Stock"})})]},M.id)})})]})}),i&&l&&c.jsx(Y5e,{ingredient:l,onClose:I,onUpdate:O}),c.jsx(Q5e,{isOpen:s,onClose:k,onAdd:R})]})},lV={name:"",description:"",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:0},{name:"Venti",size:"22oz",price:0}],imageUrl:"",available:!0,stock:0,popular:!1,new:!1,displayOrder:99,recipe:[]},J5e=({isOpen:t,onClose:e,productToEdit:n})=>{var T,I;const[r,i]=g.useState(lV),[a,s]=g.useState([]),[o,l]=g.useState(!1),{addProduct:u,updateProduct:d}=ku(),{showToast:h}=xr(),[f,m]=g.useState(null),[y,v]=g.useState(null),x=g.useRef(null);g.useEffect(()=>{t&&(async()=>{const R=(await de.collection("ingredients").get()).docs.map(O=>({id:O.id,...O.data()}));s(R)})()},[t]),g.useEffect(()=>{n?(i(n),v(n.imageUrl)):(i(lV),v(null)),m(null)},[n,t]);const b=P=>{if(P.target.files&&P.target.files[0]){const k=P.target.files[0];if(k.size>2*1024*1024){h("Image file should be less than 2MB.");return}m(k);const R=URL.createObjectURL(k);v(R)}},w=P=>{const{name:k,value:R,type:O}=P.target,M=P.target.checked;i(L=>({...L,[k]:O==="checkbox"?M:R}))},_=(P,k)=>{i(R=>({...R,sizes:R.sizes.map(O=>O.name===P?{...O,price:k}:O)}))},S=(P,k,R)=>{const O=[...r.recipe||[]];O[P][k]=R,i(M=>({...M,recipe:O}))},A=()=>{const P=[...r.recipe||[],{ingredientId:"",quantity:0}];i(k=>({...k,recipe:P}))},C=P=>{const k=[...r.recipe||[]];k.splice(P,1),i(R=>({...R,recipe:k}))},N=async P=>{P.preventDefault(),l(!0);let k=r.imageUrl;if(f)try{k=await(await Hpe.ref(`product_images/${Date.now()}-${f.name}`).put(f)).ref.getDownloadURL()}catch(O){console.error("Error uploading image:",O),h("Failed to upload image. Please try again."),l(!1);return}const R={...r,imageUrl:k};try{if(n){const{id:O,...M}={...R,id:n.id};await d(O,M),h("Product updated successfully!")}else await u(R),h("Product added successfully!");e()}catch(O){console.error(O),h("An error occurred. Please try again.")}finally{l(!1)}};return c.jsx(jl,{isOpen:t,onClose:e,title:n?"Edit Product":"Add New Product",size:"lg",children:c.jsxs("form",{onSubmit:N,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),c.jsx("input",{type:"text",name:"name",id:"name",value:r.name,onChange:w,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),c.jsxs("select",{name:"category",id:"category",value:r.category,onChange:w,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",children:[c.jsx("option",{children:"Coffee Based"}),c.jsx("option",{children:"Non-Coffee Based"}),c.jsx("option",{children:"Matcha Series"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),c.jsx("textarea",{name:"description",id:"description",value:r.description,onChange:w,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Image"}),c.jsxs("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md cursor-pointer hover:border-primary-500 bg-gray-50",onClick:()=>{var P;return(P=x.current)==null?void 0:P.click()},children:[c.jsx("input",{ref:x,id:"file-upload",name:"file-upload",type:"file",className:"sr-only",accept:"image/png, image/jpeg",onChange:b}),y?c.jsx("img",{src:y,alt:"Product preview",className:"max-h-40 rounded-lg object-contain"}):c.jsxs("div",{className:"space-y-1 text-center",children:[c.jsx(Gne,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsxs("p",{className:"text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium text-primary-600",children:"Click to upload"})," or drag and drop"]}),c.jsx("p",{className:"text-xs text-gray-500",children:"PNG or JPG up to 2MB"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Grande Price ()"}),c.jsx("input",{type:"number",value:(T=r.sizes.find(P=>P.name==="Grande"))==null?void 0:T.price,onChange:P=>_("Grande",+P.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Venti Price ()"}),c.jsx("input",{type:"number",value:(I=r.sizes.find(P=>P.name==="Venti"))==null?void 0:I.price,onChange:P=>_("Venti",+P.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-700",children:"Stock"}),c.jsx("input",{type:"number",name:"stock",id:"stock",value:r.stock,onChange:P=>i(k=>({...k,stock:+P.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"displayOrder",className:"block text-sm font-medium text-gray-700",children:"Display Order"}),c.jsx("input",{type:"number",name:"displayOrder",id:"displayOrder",value:r.displayOrder,onChange:P=>i(k=>({...k,displayOrder:+P.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]})]}),c.jsxs("div",{className:"flex items-center space-x-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",name:"available",checked:r.available,onChange:w,className:"h-4 w-4 rounded"}),c.jsx("label",{className:"ml-2 text-sm",children:"Available"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",name:"popular",checked:r.popular,onChange:w,className:"h-4 w-4 rounded"}),c.jsx("label",{className:"ml-2 text-sm",children:"Popular"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",name:"new",checked:r.new,onChange:w,className:"h-4 w-4 rounded"}),c.jsx("label",{className:"ml-2 text-sm",children:"New"})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-md font-medium text-gray-800",children:"Recipe"}),c.jsxs("div",{className:"mt-2 space-y-2 rounded-md border bg-gray-50 p-3",children:[(r.recipe||[]).map((P,k)=>c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("select",{value:P.ingredientId,onChange:R=>S(k,"ingredientId",R.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm",children:[c.jsx("option",{value:"",disabled:!0,children:"Select Ingredient"}),a.map(R=>c.jsx("option",{value:R.id,children:R.name},R.id))]}),c.jsx("input",{type:"number",value:P.quantity,onChange:R=>S(k,"quantity",+R.target.value),className:"block w-32 rounded-md border-gray-300 shadow-sm",placeholder:"Qty"}),c.jsx(ke,{type:"button",variant:"ghost",size:"sm",onClick:()=>C(k),className:"px-2",children:c.jsx(_w,{className:"h-4 w-4 text-red-500"})})]},k)),c.jsxs(ke,{type:"button",variant:"secondary",size:"sm",onClick:A,children:[c.jsx(rf,{className:"mr-1 h-4 w-4"}),"Add Ingredient"]})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx(ke,{type:"button",variant:"ghost",onClick:e,children:"Cancel"}),c.jsxs(ke,{type:"submit",disabled:o,children:[o?c.jsx(Mt,{className:"mr-2 h-4 w-4 animate-spin"}):c.jsx(Qg,{className:"mr-2 h-4 w-4"}),n?"Save Changes":"Add Product"]})]})]})})},e6e=()=>{const{products:t,isLoading:e,error:n,deleteProduct:r}=ku(),[i,a]=g.useState(!1),[s,o]=g.useState(null),[l,u]=g.useState("All"),[d,h]=g.useState(""),[f,m]=g.useState("all"),{showToast:y}=xr(),v={All:{icon:pl,color:"text-gray-700",bgColor:"bg-gray-100"},"Coffee Based":{icon:hr,color:"text-amber-700",bgColor:"bg-amber-50"},"Non-Coffee Based":{icon:RU,color:"text-blue-700",bgColor:"bg-blue-50"},"Matcha Series":{icon:kU,color:"text-green-700",bgColor:"bg-green-50"},Refreshments:{icon:NU,color:"text-pink-700",bgColor:"bg-pink-50"},Meals:{icon:Zre,color:"text-orange-700",bgColor:"bg-orange-50"}},x=g.useMemo(()=>{let T=t;return l!=="All"&&(T=T.filter(I=>I.category===l)),f==="lowStock"?T=T.filter(I=>I.stock>0&&I.stock<=20):f==="outOfStock"?T=T.filter(I=>I.stock===0):f==="popular"&&(T=T.filter(I=>I.popular)),d.trim()&&(T=T.filter(I=>I.name.toLowerCase().includes(d.toLowerCase()))),T},[t,l,d,f]),b=["All","Coffee Based","Non-Coffee Based","Matcha Series","Refreshments","Meals"],w=T=>T==="All"?t.length:t.filter(I=>I.category===T).length,_=T=>(T==="All"?t:t.filter(P=>P.category===T)).filter(P=>P.stock>0&&P.stock<=20).length,S=T=>{m(T),u("All")},A=(T=null)=>{o(T),a(!0)},C=()=>{a(!1),o(null)},N=async(T,I)=>{if(window.confirm(`Are you sure you want to delete "${I}"?`))try{await r(T),y(`"${I}" has been deleted.`)}catch{y(`Failed to delete "${I}".`)}};return e?c.jsx("div",{className:"flex h-full items-center justify-center",children:c.jsx(Mt,{className:"h-12 w-12 animate-spin text-primary-600"})}):n?c.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-red-200 bg-red-50 py-20 text-center text-red-700",children:[c.jsx(Ja,{className:"h-16 w-16"}),c.jsx("h3",{className:"mt-4 text-xl font-semibold",children:"Oops! Something went wrong."}),c.jsx("p",{className:"mt-2",children:n})]}):c.jsxs("div",{children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-6",children:[c.jsx("h1",{className:"font-display text-2xl font-bold text-gray-800 sm:text-3xl",children:"Product Management"}),c.jsxs("button",{onClick:()=>A(),className:"flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 sm:w-auto",children:[c.jsx(rf,{className:"h-4 w-4"}),c.jsx("span",{children:"Add New Product"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 sm:grid-cols-4",children:[c.jsx("button",{onClick:()=>S("all"),className:`bg-white rounded-lg border p-4 shadow-sm transition-all hover:shadow-md cursor-pointer text-left ${f==="all"?"ring-2 ring-primary-600":""}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Products"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t.length})]}),c.jsx(pl,{className:"h-10 w-10 text-primary-600 opacity-75"})]})}),c.jsx("button",{onClick:()=>S("lowStock"),className:`bg-white rounded-lg border p-4 shadow-sm transition-all hover:shadow-md cursor-pointer text-left ${f==="lowStock"?"ring-2 ring-yellow-600":""}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),c.jsx("p",{className:"text-2xl font-bold text-yellow-600 mt-1",children:_("All")})]}),c.jsx(Zc,{className:"h-10 w-10 text-yellow-600 opacity-75"})]})}),c.jsx("button",{onClick:()=>S("outOfStock"),className:`bg-white rounded-lg border p-4 shadow-sm transition-all hover:shadow-md cursor-pointer text-left ${f==="outOfStock"?"ring-2 ring-red-600":""}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Out of Stock"}),c.jsx("p",{className:"text-2xl font-bold text-red-600 mt-1",children:t.filter(T=>T.stock===0).length})]}),c.jsx(gx,{className:"h-10 w-10 text-red-600 opacity-75"})]})}),c.jsx("button",{onClick:()=>S("popular"),className:`bg-white rounded-lg border p-4 shadow-sm transition-all hover:shadow-md cursor-pointer text-left ${f==="popular"?"ring-2 ring-green-600":""}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Popular Items"}),c.jsx("p",{className:"text-2xl font-bold text-green-600 mt-1",children:t.filter(T=>T.popular).length})]}),c.jsx(Fp,{className:"h-10 w-10 text-green-600 opacity-75"})]})})]}),c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx(ch,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search products...",value:d,onChange:T=>h(T.target.value),className:"w-full rounded-lg border bg-white pl-10 pr-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500 focus:ring-opacity-20"})]})}),c.jsx("div",{className:"mb-6 overflow-x-auto py-1",children:c.jsx("div",{className:"flex gap-2 pb-2 px-1",children:b.map(T=>{const I=w(T),P=_(T),k=l===T,R=v[T],O=R.icon;return c.jsxs("button",{onClick:()=>{u(T),m("all")},className:`flex-shrink-0 flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold transition-all ${k?"bg-primary-600 text-white shadow-md scale-105":`${R.bgColor} ${R.color} hover:shadow-md hover:scale-102`}`,children:[c.jsx(O,{className:"h-4 w-4"}),c.jsx("span",{children:T}),I>0&&c.jsx("span",{className:`inline-flex items-center justify-center min-w-[20px] h-5 px-1.5 rounded-full text-xs font-bold ${k?"bg-white bg-opacity-25":"bg-white bg-opacity-50"}`,children:I}),P>0&&c.jsxs("span",{className:"inline-flex items-center justify-center min-w-[20px] h-5 px-1.5 rounded-full text-xs font-bold bg-yellow-500 text-white",children:[" ",P]})]},T)})})}),c.jsx("div",{className:"overflow-x-auto rounded-lg border bg-white shadow-sm",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Product"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Category"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Price (G/V)"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Stock"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),c.jsx("th",{scope:"col",className:"relative px-6 py-3",children:c.jsx("span",{className:"sr-only",children:"Actions"})})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:x.map(T=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:c.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:T.imageUrl,alt:T.name})}),c.jsx("div",{className:"ml-4",children:c.jsxs("div",{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[T.name,T.popular&&c.jsx(Fp,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),T.new&&c.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full font-semibold",children:"NEW"})]})})]})}),c.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:T.category}),c.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:["",T.sizes[0].price.toFixed(2)," / ",T.sizes[1].price.toFixed(2)]}),c.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm",children:c.jsx("span",{className:`font-semibold ${T.stock===0?"text-red-600":T.stock<=20?"text-yellow-600":"text-gray-900"}`,children:T.stock})}),c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:T.available?c.jsx("span",{className:"inline-flex rounded-full bg-green-100 px-2 text-xs font-semibold leading-5 text-green-800",children:"Available"}):c.jsx("span",{className:"inline-flex rounded-full bg-red-100 px-2 text-xs font-semibold leading-5 text-red-800",children:"Unavailable"})}),c.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium",children:[c.jsx("button",{onClick:()=>A(T),className:"p-1 text-primary-600 hover:text-primary-800",children:c.jsx(MU,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>N(T.id,T.name),className:"ml-2 p-1 text-red-600 hover:text-red-800",children:c.jsx(_w,{className:"h-4 w-4"})})]})]},T.id))})]})}),c.jsx(J5e,{isOpen:i,onClose:C,productToEdit:s})]})},t6e=({data:t,isLoading:e})=>{if(e)return c.jsx("div",{className:"flex h-64 items-center justify-center bg-gray-100 rounded-lg animate-pulse",children:c.jsx(Up,{className:"h-10 w-10 text-gray-400"})});if(t.length===0)return c.jsx("div",{className:"flex h-64 items-center justify-center bg-gray-50 rounded-lg",children:c.jsx("p",{className:"text-gray-500",children:"No sales data for this period."})});const n=Math.max(...t.map(r=>r.value),1);return c.jsx("div",{className:"h-64 flex items-end justify-around gap-2 pt-4",children:t.map((r,i)=>c.jsxs("div",{className:"flex h-full flex-col items-center justify-end flex-1 group",children:[c.jsx("div",{className:"w-full bg-primary-200 rounded-t-md hover:bg-primary-400 transition-all duration-300",style:{height:`${r.value/n*100}%`},children:c.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gray-800 text-white text-xs rounded-md py-1 px-2 absolute -top-8 left-1/2 -translate-x-1/2",children:["",r.value.toFixed(2)]})}),c.jsx("div",{className:"mt-2 text-xs text-gray-500 text-center",children:r.label})]},i))})},n6e=()=>{const[t,e]=g.useState({totalRevenue:0,totalOrders:0,avgOrderValue:0,newCustomers:0}),[n,r]=g.useState({totalRevenue:null,totalOrders:null,avgOrderValue:null,newCustomers:null}),[i,a]=g.useState([]),[s,o]=g.useState([]),[l,u]=g.useState("7d"),[d,h]=g.useState(!0);return g.useEffect(()=>{(async()=>{h(!0);const m=new Date;let y,v,x;switch(l){case"7d":y=Co(Zu(m,6)),x=Co(Zu(m,7)),v=Co(Zu(m,13));break;case"30d":y=Co(Zu(m,29)),x=Co(Zu(m,30)),v=Co(Zu(m,59));break;case"all":default:y=new Date(2020,0,1),v=new Date(2019,0,1),x=new Date(2020,0,1);break}const b=de.collection("orders").where("timestamp",">=",y),w=de.collection("users").where("createdAt",">=",y),_=de.collection("orders").where("timestamp",">=",v).where("timestamp","<",x),S=de.collection("users").where("createdAt",">=",v).where("createdAt","<",x),[A,C,N,T]=await Promise.all([b.get(),w.get(),_.get(),S.get()]),P=A.docs.map(he=>({...he.data(),timestamp:he.data().timestamp.toDate()})).filter(he=>he.status==="completed"),k=P.reduce((he,fe)=>he+fe.totalAmount,0),R=P.length,O=R>0?k/R:0,M=C.size;e({totalRevenue:k,totalOrders:R,avgOrderValue:O,newCustomers:M});const L=N.docs.map(he=>he.data()).filter(he=>he.status==="completed"),B=L.reduce((he,fe)=>he+fe.totalAmount,0),q=L.length,H=q>0?B/q:0,J=T.size,oe=(he,fe)=>fe===0?null:Number(((he-fe)/fe*100).toFixed(1));if(r({totalRevenue:oe(k,B),totalOrders:oe(R,q),avgOrderValue:oe(O,H),newCustomers:oe(M,J)}),l!=="all"){const fe=xbe({start:y,end:rH(m)}).reduce((yn,ft)=>(yn[Kd(ft,"yyyy-MM-dd")]=0,yn),{});P.forEach(yn=>{const ft=Kd(yn.timestamp,"yyyy-MM-dd");fe[ft]!==void 0&&(fe[ft]+=yn.totalAmount)});const st=Object.entries(fe).map(([yn,ft])=>({label:Kd(new Date(yn),"d MMM"),value:ft}));a(st)}else a([]);const et=new Map;P.forEach(he=>{he.orderItems.forEach(fe=>{const st=et.get(fe.productName)||{quantity:0,revenue:0};et.set(fe.productName,{quantity:st.quantity+fe.quantity,revenue:st.revenue+fe.price*fe.quantity})})});const Rt=Array.from(et.entries()).map(([he,fe])=>({name:he,...fe})).sort((he,fe)=>fe.quantity-he.quantity).slice(0,5);o(Rt),h(!1)})().catch(console.error)},[l]),c.jsxs("div",{children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-6",children:[c.jsx("h1",{className:"font-display text-2xl font-bold text-gray-800 sm:text-3xl",children:"Analytics & Reports"}),c.jsx("div",{className:"flex w-fit mx-auto gap-2 rounded-full bg-gray-200 p-1 sm:mx-0",children:["7d","30d","all"].map(f=>c.jsx("button",{onClick:()=>u(f),className:`flex-shrink-0 rounded-full px-3 py-1.5 text-xs font-semibold capitalize transition-colors sm:px-4 sm:text-sm ${l===f?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:c.jsx("span",{className:"whitespace-nowrap",children:f==="7d"?"Last 7 Days":f==="30d"?"Last 30 Days":"All Time"})},f))})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[c.jsx(Wo,{title:"Total Revenue",value:`${t.totalRevenue.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,Icon:jU,isLoading:d,color:"blue",trend:l!=="all"&&n.totalRevenue!==null?{value:n.totalRevenue,label:"vs last period"}:void 0}),c.jsx(Wo,{title:"Total Orders",value:t.totalOrders.toLocaleString(),Icon:ww,isLoading:d,color:"green",trend:l!=="all"&&n.totalOrders!==null?{value:n.totalOrders,label:"vs last period"}:void 0}),c.jsx(Wo,{title:"Avg. Order Value",value:`${t.avgOrderValue.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,Icon:zd,isLoading:d,color:"purple",trend:l!=="all"&&n.avgOrderValue!==null?{value:n.avgOrderValue,label:"vs last period"}:void 0}),c.jsx(Wo,{title:"New Customers",value:t.newCustomers.toLocaleString(),Icon:Xg,isLoading:d,color:"yellow",trend:l!=="all"&&n.newCustomers!==null?{value:n.newCustomers,label:"vs last period"}:void 0})]}),c.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-6 lg:grid-cols-5",children:[c.jsxs(pe,{className:"lg:col-span-3",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Sales Overview"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Revenue from completed orders per day."}),c.jsx(t6e,{data:i,isLoading:d})]}),c.jsxs(pe,{className:"lg:col-span-2",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Top Selling Products"}),c.jsx("p",{className:"text-sm text-gray-500",children:"By units sold in the selected period."}),c.jsx("div",{className:"mt-4 space-y-3",children:d?Array.from({length:5}).map((f,m)=>c.jsxs("div",{className:"flex items-center justify-between animate-pulse",children:[c.jsx("div",{className:"h-5 w-3/5 rounded-md bg-gray-200"}),c.jsx("div",{className:"h-5 w-1/5 rounded-md bg-gray-200"})]},m)):s.length>0?s.map((f,m)=>c.jsxs("div",{className:"flex items-center justify-between text-sm gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[c.jsxs("span",{className:`font-bold ${m<3?"text-primary-700":"text-gray-500"}`,children:[m+1,"."]}),c.jsx("p",{className:"font-medium text-gray-800 truncate",children:f.name})]}),c.jsxs(cr,{className:"bg-primary-100 text-primary-800 flex-shrink-0",children:[f.quantity," sold"]})]},f.name)):c.jsx("div",{className:"flex h-48 items-center justify-center",children:c.jsx("p",{className:"text-gray-500",children:"No product data for this period."})})})]})]})]})},r6e={pending:"bg-yellow-100 text-yellow-800",reviewed:"bg-blue-100 text-blue-800",resolved:"bg-green-100 text-green-800"},i6e=({feedback:t,onRespond:e})=>{const n=t.user?`${t.user.firstName} ${t.user.lastName}`:`User ${t.userId.substring(0,6)}`;return c.jsxs("div",{className:"flex flex-col rounded-lg border bg-white p-4 shadow-sm transition-shadow hover:shadow-md",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-800",children:n}),c.jsx("p",{className:"text-xs text-gray-500",children:t.createdAt?v1(t.createdAt,{addSuffix:!0}):"Just now"})]}),c.jsx(cr,{className:`capitalize ${r6e[t.status]}`,children:t.status})]}),c.jsx("div",{className:"my-3 flex justify-start",children:c.jsx(ib,{rating:t.rating,readonly:!0,size:"sm"})}),c.jsxs("p",{className:"flex-grow text-sm text-gray-600 line-clamp-3",children:['"',t.comment,'"']}),c.jsx("div",{className:"mt-4 border-t pt-3",children:c.jsx("button",{onClick:e,className:"w-full rounded-full bg-primary-100 px-4 py-2 text-sm font-semibold text-primary-700 transition-colors hover:bg-primary-200",children:"View & Respond"})})]})},a6e=({isOpen:t,onClose:e,feedback:n})=>{const[r,i]=g.useState(n.response||""),[a,s]=g.useState(n.status),[o,l]=g.useState(!1);g.useEffect(()=>{t&&(i(n.response||""),s(n.status))},[t,n]);const u=async h=>{h.preventDefault(),l(!0);try{await de.collection("feedback").doc(n.id).update({response:r,status:a,updatedAt:nt.firestore.FieldValue.serverTimestamp()}),e()}catch(f){console.error("Error updating feedback: ",f)}finally{l(!1)}},d=n.user?`${n.user.firstName} ${n.user.lastName}`:`User ID: ${n.userId}`;return c.jsx(jl,{isOpen:t,onClose:e,title:`Feedback from ${d}`,children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-500",children:"Rating"}),c.jsx(ib,{rating:n.rating,readonly:!0})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-500",children:"Comment"}),c.jsx("p",{className:"mt-1 max-h-40 overflow-y-auto rounded-md bg-gray-50 p-3 text-gray-700 whitespace-pre-wrap",children:n.comment})]}),c.jsxs("form",{onSubmit:u,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"response",className:"block text-sm font-medium text-gray-700",children:"Your Response"}),c.jsx("textarea",{id:"response",value:r,onChange:h=>i(h.target.value),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Write a response to the customer..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Update Status"}),c.jsx("div",{className:"mt-2 flex gap-2 rounded-full bg-gray-100 p-1",children:["pending","reviewed","resolved"].map(h=>c.jsx("button",{type:"button",onClick:()=>s(h),className:`w-full rounded-full py-1.5 text-sm font-semibold capitalize transition-colors ${a===h?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:h},h))})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(ke,{type:"button",variant:"ghost",onClick:e,children:"Cancel"}),c.jsxs(ke,{type:"submit",disabled:o,children:[o?c.jsx(Mt,{className:"mr-2 h-4 w-4 animate-spin"}):c.jsx(W2,{className:"mr-2 h-4 w-4"}),"Save Response"]})]})]})]})})},s6e=()=>{const[t,e]=g.useState([]),[n,r]=g.useState(!0),[i,a]=g.useState("pending"),[s,o]=g.useState(!1),[l,u]=g.useState(null);g.useEffect(()=>{const m=new Map,y=async()=>{if(m.size>0)return m;const b=Hx(de,"users");return(await F$(b)).forEach(_=>{const S=_.data();m.set(_.id,{firstName:S.firstName,lastName:S.lastName,email:S.email})}),m},v=ss(Hx(de,"feedback"),M$("createdAt","desc")),x=Oj(v,async b=>{try{const w=await y(),_=[];b.forEach(S=>{var C,N;const A=S.data();_.push({id:S.id,...A,createdAt:(C=A.createdAt)==null?void 0:C.toDate(),updatedAt:(N=A.updatedAt)==null?void 0:N.toDate(),user:w.get(A.userId)})}),e(_)}catch(w){console.error("Error processing feedback data:",w)}finally{r(!1)}},b=>{console.error("Error fetching feedback: ",b),r(!1)});return()=>x()},[]);const d=g.useMemo(()=>i==="all"?t:t.filter(m=>m.status===i),[i,t]),h=m=>{u(m),o(!0)},f=()=>{o(!1),u(null)};return n?c.jsx("div",{className:"flex h-full items-center justify-center",children:c.jsx(Mt,{className:"h-12 w-12 animate-spin text-primary-600"})}):c.jsxs("div",{children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[c.jsx("h1",{className:"font-display text-3xl font-bold text-gray-800",children:"Customer Feedback"}),c.jsx("div",{className:"flex flex-wrap w-fit mx-auto mt-4 md:mt-0 md:mx-0 gap-2 rounded-full bg-gray-200 p-1",children:["pending","reviewed","resolved","all"].map(m=>c.jsx("button",{onClick:()=>a(m),className:`rounded-full px-3 py-1.5 text-sm font-semibold capitalize transition-colors ${i===m?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:m},m))})]}),d.length>0?c.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:d.map(m=>c.jsx(i6e,{feedback:m,onRespond:()=>h(m)},m.id))}):c.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border-2 border-dashed bg-gray-50 p-12 text-center",children:[c.jsx(nf,{className:"h-16 w-16 text-gray-400"}),c.jsx("h2",{className:"mt-4 text-xl font-semibold text-gray-700",children:"No Feedback Here"}),c.jsxs("p",{className:"mt-1 text-gray-500",children:['No feedback matching the "',i,'" filter.']})]}),l&&c.jsx(a6e,{isOpen:s,onClose:f,feedback:l})]})},o6e=({enabled:t,onChange:e,label:n,description:r,Icon:i})=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[i&&c.jsx(i,{className:"h-5 w-5 text-gray-500"}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-800",children:n}),r&&c.jsx("p",{className:"text-sm text-gray-500",children:r})]})]}),c.jsx("button",{type:"button",className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${t?"bg-primary-600":"bg-gray-200"}`,role:"switch","aria-checked":t,onClick:()=>e(!t),children:c.jsx("span",{"aria-hidden":"true",className:`inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${t?"translate-x-5":"translate-x-0"}`})})]}),Z0={shopName:"Rush Coffee",address:"123 Coffee Street, Malate, Manila",phone:"+63 917 123 4567",email:"hello@rushcoffee.ph",operatingHours:"Mon-Sun: 7:00 AM - 10:00 PM",announcement:{enabled:!1,message:"Welcome to Rush Coffee! Enjoy our new Matcha series."}},l6e=()=>{const[t,e]=g.useState(Z0),[n,r]=g.useState(!0),[i,a]=g.useState(!1),[s,o]=g.useState(null),{showToast:l}=xr();g.useEffect(()=>{(async()=>{const m=de.collection("settings").doc("shopConfig");try{const y=await m.get();y.exists?e({...Z0,...y.data()}):e(Z0)}catch(y){if(console.error("Error fetching settings:",y),y.code==="permission-denied"){const x=c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"font-bold",children:"Permission Denied: Cannot access Shop Settings."}),c.jsx("p",{className:"mt-1",children:"This is a Firestore security rule issue. Please update your rules in the Firebase Console to allow admins to manage settings."}),c.jsxs("p",{className:"mt-2",children:["Ensure you have a rule like this in your ",c.jsx("code",{className:"bg-red-200 text-red-900 px-1 rounded",children:"firestore.rules"})," file:"]}),c.jsx("pre",{className:"mt-2 text-xs bg-red-200 text-red-900 p-2 rounded-md overflow-x-auto",children:c.jsx("code",{children:`
service cloud.firestore {
  match /databases/{database}/documents {
    // ... your other rules ...

    // ADD OR UPDATE THIS RULE:
    match /settings/{docId} {
      allow read: if true;
      allow write: if get(/databases/$(database)/documents/users/$(request.auth.uid)).data.role == 'admin';
    }
  }
}`.trim()})})]});o(x)}else o("An error occurred while loading shop settings. Please check the console for details.");e(Z0)}finally{r(!1)}})()},[]);const u=f=>{const{name:m,value:y}=f.target;e(v=>({...v,[m]:y}))},d=(f,m)=>{e(y=>({...y,announcement:{...y.announcement,[f]:m}}))},h=async f=>{f.preventDefault(),a(!0);try{await de.collection("settings").doc("shopConfig").set(t,{merge:!0}),l("Settings saved successfully!"),s&&o(null)}catch(m){console.error("Error saving settings:",m),m.code==="permission-denied"?o("Save Failed: Your account does not have permission to write to shop settings. Please check your Firestore security rules. Changes were not saved."):o("Failed to save settings. An error occurred.")}finally{a(!1)}};return n?c.jsx("div",{className:"flex h-full items-center justify-center",children:c.jsx(Mt,{className:"h-12 w-12 animate-spin text-primary-600"})}):c.jsxs("div",{children:[c.jsx("h1",{className:"mb-6 font-display text-3xl font-bold text-gray-800",children:"Shop Settings"}),s&&c.jsxs("div",{className:"mb-6 flex items-start gap-3 rounded-lg bg-red-50 p-4 text-sm text-red-700",children:[c.jsx(Ja,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),c.jsx("div",{children:s})]}),c.jsxs("form",{onSubmit:h,className:"mx-auto max-w-4xl space-y-6",children:[c.jsxs("fieldset",{disabled:!!s,className:"space-y-6 disabled:opacity-50",children:[c.jsxs(pe,{children:[c.jsxs("h2",{className:"mb-4 flex items-center gap-2 text-xl font-bold text-gray-800",children:[c.jsx(zre,{className:"h-5 w-5 text-primary-600"}),"Shop Information"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(Mn,{label:"Shop Name",name:"shopName",id:"shopName",value:t.shopName,onChange:u,placeholder:"Enter shop name"}),c.jsx(Mn,{label:"Address",name:"address",id:"address",value:t.address,onChange:u,placeholder:"Enter shop address"}),c.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[c.jsx(Mn,{label:"Contact Phone",name:"phone",id:"phone",type:"tel",value:t.phone,onChange:u,placeholder:"Enter contact phone"}),c.jsx(Mn,{label:"Contact Email",name:"email",id:"email",type:"email",value:t.email,onChange:u,placeholder:"Enter contact email"})]})]})]}),c.jsxs(pe,{children:[c.jsxs("h2",{className:"mb-4 flex items-center gap-2 text-xl font-bold text-gray-800",children:[c.jsx(Zs,{className:"h-5 w-5 text-primary-600"}),"Operating Hours"]}),c.jsx("div",{children:c.jsx(SC,{label:"Display Text",name:"operatingHours",id:"operatingHours",value:t.operatingHours,onChange:u,rows:3,placeholder:`e.g., Mon-Fri: 7am - 8pm
Sat-Sun: 8am - 6pm`,helperText:"This text will be displayed in the footer and contact page."})})]}),c.jsxs(pe,{children:[c.jsxs("h2",{className:"mb-4 flex items-center gap-2 text-xl font-bold text-gray-800",children:[c.jsx(dD,{className:"h-5 w-5 text-primary-600"}),"System-wide Announcement"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(o6e,{Icon:dD,label:"Enable Announcement Banner",description:"Show a banner at the top of the site.",enabled:t.announcement.enabled,onChange:f=>d("enabled",f)}),c.jsx("div",{children:c.jsx(Mn,{label:"Announcement Message",name:"announcementMessage",id:"announcementMessage",value:t.announcement.message,onChange:f=>d("message",f.target.value),placeholder:"Enter announcement message"})})]})]})]}),c.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-end gap-3",children:c.jsxs(ke,{type:"submit",disabled:i||!!s,size:"lg",className:"w-full sm:w-auto",children:[i?c.jsx(Mt,{className:"mr-2 h-5 w-5 animate-spin"}):c.jsx(Qg,{className:"mr-2 h-5 w-5"}),"Save Settings"]})})]})]})},c6e=()=>{const[t,e]=g.useState("introduction"),n=(i,a)=>{i.preventDefault();const s=document.getElementById(a);if(s){const u=s.getBoundingClientRect().top+window.scrollY-200;window.scrollTo({top:u,behavior:"smooth"})}};g.useEffect(()=>{const i=()=>{const a=document.querySelectorAll("[id]");let s="introduction";a.forEach(o=>{const l=o.getBoundingClientRect().top;l<=200&&l>=-o.clientHeight+200&&(s=o.id)}),e(s)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]);const r=[{id:"introduction",icon:uD,title:"1. Introduction",content:'Welcome to Rush Coffee ("we," "our," or "us"). These Terms of Service govern your use of our website, mobile application, and services (collectively, the "Services"). By accessing or using our Services, you agree to be bound by these terms.'},{id:"accounts",icon:Xg,title:"2. User Accounts",content:"To use certain features of our Services, you must register for an account. You agree to provide accurate, current, and complete information during the registration process and to update such information to keep it accurate, current, and complete. You are responsible for safeguarding your password and for all activities that occur under your account.",bullets:["You must be at least 13 years old to create an account","You are responsible for maintaining the confidentiality of your account credentials","You must notify us immediately of any unauthorized use of your account","We reserve the right to suspend or terminate accounts that violate these terms"]},{id:"orders",icon:Sne,title:"3. Orders and Payments",content:"When you place an order through our Services, you are making an offer to purchase the products you have selected. All orders are subject to our acceptance. We reserve the right to refuse or cancel any order for any reason, including limitations on quantities available for purchase, inaccuracies, or errors in product or pricing information.",additional:'Payment for all orders must be made at the time of placing the order, unless you select "Cash on Pickup." We accept payment through GCash and other methods as may be made available from time to time.',bullets:["All prices are in Philippine Peso () and are subject to change without notice","You will receive an order confirmation via email or SMS","Orders cannot be cancelled once they are being prepared","Refunds are processed within 5-7 business days for eligible cancellations"]},{id:"rewards",icon:q2,title:"4. Rewards Program",content:"Our rewards program allows you to earn points for purchases and redeem them for rewards. Points are non-transferable and have no cash value. We reserve the right to modify, suspend, or terminate the rewards program at any time without notice.",bullets:["Points are earned based on purchase amount (1 point per 10 spent)","Points expire after 12 months of inactivity","Rewards can only be redeemed through your account","Fraudulent activity may result in forfeiture of all points and account termination"]},{id:"liability",icon:Ba,title:"5. Limitation of Liability",content:"To the fullest extent permitted by applicable law, Rush Coffee shall not be liable for any indirect, incidental, special, consequential, or punitive damages, or any loss of profits or revenues, whether incurred directly or indirectly, or any loss of data, use, goodwill, or other intangible losses, resulting from:",bullets:["Your access to or use of or inability to access or use the Services","Any conduct or content of any third party on the Services","Unauthorized access, use, or alteration of your transmissions or content","Any errors or omissions in any content or for any loss or damage incurred as a result of the use of any content"]},{id:"changes",icon:K2,title:"6. Changes to Terms",content:'We may modify these Terms of Service from time to time. We will provide notice of any changes by posting the new Terms of Service on this page and updating the "Last updated" date. You are advised to review these Terms of Service periodically for any changes. Your continued use of the Services after any modifications indicates your acceptance of the updated terms.'},{id:"contact",icon:gr,title:"7. Contact Us",content:"If you have any questions about these Terms of Service, please contact us:",contact:{email:"hello@rushcoffee.ph",phone:"+63 930 464 1022",address:"11 Visayan Ave. St. Galas, Quezon City, Philippines"}}];return c.jsxs("div",{className:"bg-white",children:[c.jsx(mn,{}),c.jsxs("main",{children:[c.jsxs("section",{className:"relative flex min-h-[400px] items-center justify-center overflow-hidden bg-gradient-to-br from-primary-600 via-coffee-600 to-primary-700 px-6 py-16 text-center text-white",children:[c.jsxs("div",{className:"absolute inset-0 opacity-10",children:[c.jsx("div",{className:"absolute top-10 left-10 h-32 w-32 rounded-full bg-white blur-3xl"}),c.jsx("div",{className:"absolute bottom-20 right-10 h-40 w-40 rounded-full bg-white blur-3xl"})]}),c.jsxs("div",{className:"relative z-10 mx-auto w-full max-w-4xl",children:[c.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-white/10 backdrop-blur-sm",children:c.jsx(uD,{className:"h-10 w-10"})}),c.jsx("h1",{className:"font-display text-5xl font-bold md:text-6xl",children:"Terms of Service"}),c.jsx("p",{className:"mt-4 text-xl text-primary-100",children:"Please read these terms carefully before using our services"}),c.jsx("p",{className:"mt-2 text-sm text-white/80",children:"Last updated: November 22, 2023"})]})]}),c.jsx("section",{className:"sticky top-20 z-30 border-b border-gray-200 bg-white/95 py-4 backdrop-blur-sm -mt-12",children:c.jsx("div",{className:"container mx-auto max-w-6xl px-6",children:c.jsx("div",{className:"flex overflow-x-auto pb-2",children:c.jsx("div",{className:"flex gap-2 px-4 m-auto",children:r.map(i=>c.jsx("a",{href:`#${i.id}`,onClick:a=>n(a,i.id),className:`flex-shrink-0 rounded-full border px-4 py-2 text-sm font-medium transition-all ${t===i.id?"bg-primary-600 border-primary-600 text-white shadow-md":"border-gray-300 bg-white text-gray-700 hover:bg-primary-50 hover:border-primary-300 hover:text-primary-700"}`,children:i.title.split(". ")[1]},i.id))})})})}),c.jsx("section",{className:"px-6 py-16",children:c.jsxs("div",{className:"container mx-auto max-w-4xl space-y-8",children:[r.map(i=>c.jsx("div",{id:i.id,className:"scroll-mt-[200px]",children:c.jsx(pe,{children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-primary-100 to-coffee-100",children:c.jsx(i.icon,{className:"h-6 w-6 text-primary-600"})})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900",children:i.title}),c.jsx("p",{className:"mb-4 text-gray-700 leading-relaxed",children:i.content}),i.additional&&c.jsx("p",{className:"mb-4 text-gray-700 leading-relaxed",children:i.additional}),i.bullets&&c.jsx("ul",{className:"space-y-2 ml-4",children:i.bullets.map((a,s)=>c.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[c.jsx("span",{className:"mt-2 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-primary-600"}),c.jsx("span",{children:a})]},s))}),i.contact&&c.jsxs("div",{className:"mt-4 space-y-2 rounded-lg bg-gray-50 p-4",children:[c.jsxs("p",{className:"flex items-center gap-2 text-gray-700",children:[c.jsx(gr,{className:"h-4 w-4 text-primary-600"}),c.jsx("a",{href:`mailto:${i.contact.email}`,className:"text-primary-600 hover:underline",children:i.contact.email})]}),c.jsxs("p",{className:"flex items-center gap-2 text-gray-700",children:[c.jsx("span",{className:"h-4 w-4 text-primary-600",children:""}),c.jsx("a",{href:`tel:${i.contact.phone}`,className:"text-primary-600 hover:underline",children:i.contact.phone})]}),c.jsxs("p",{className:"flex items-start gap-2 text-gray-700",children:[c.jsx("span",{className:"mt-0.5 h-4 w-4 text-primary-600",children:""}),c.jsx("span",{children:i.contact.address})]})]})]})]})})},i.id)),c.jsx(pe,{className:"border-l-4 border-amber-500 bg-amber-50",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx(Zc,{className:"h-6 w-6 flex-shrink-0 text-amber-600"}),c.jsxs("div",{children:[c.jsx("h3",{className:"mb-2 font-display text-lg font-bold text-coffee-900",children:"Important Notice"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:"By using Rush Coffee's services, you acknowledge that you have read, understood, and agree to be bound by these Terms of Service. If you do not agree to these terms, please do not use our services."})]})]})})]})})]}),c.jsx(pn,{})]})},u6e=()=>{const[t,e]=g.useState("collection"),n=(i,a)=>{i.preventDefault();const s=document.getElementById(a);if(s){const u=s.getBoundingClientRect().top+window.scrollY-200;window.scrollTo({top:u,behavior:"smooth"})}};g.useEffect(()=>{const i=()=>{const a=document.querySelectorAll("[id]");let s="collection";a.forEach(o=>{const l=o.getBoundingClientRect().top;l<=200&&l>=-o.clientHeight+200&&(s=o.id)}),e(s)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]);const r=[{id:"collection",icon:lD,title:"1. Information We Collect",content:"We collect information you provide directly to us when you create an account, place an order, or communicate with us. This information helps us provide you with a better, more personalized experience.",subsections:[{subtitle:"Personal Information",items:["Name and contact information (email address, phone number)","Account credentials (username and password)","Payment information (processed securely through our payment partners)","Delivery address and preferences"]},{subtitle:"Usage Information",items:["Order history and preferences","Rewards program activity","Device information and IP address","Browsing behavior and interaction with our Services"]}]},{id:"usage",icon:yx,title:"2. How We Use Your Information",content:"We use the information we collect to provide, maintain, and improve our Services, and to create a seamless coffee ordering experience for you.",bullets:["Process your transactions and fulfill your orders","Communicate with you about your orders, account, and our services","Operate and improve our Services, including our rewards program","Personalize your experience and provide customized recommendations","Send you promotional communications (with your consent)","Detect, prevent, and address technical issues and fraud","Comply with legal obligations and enforce our terms"]},{id:"sharing",icon:Cre,title:"3. Information Sharing",content:"We respect your privacy and do not sell your personal information. We only share your information in the following limited circumstances:",bullets:["With service providers who help us operate our business (e.g., payment processors, delivery services)","When required by law or to respond to legal process","To protect the rights, property, or safety of Rush Coffee, our users, or others","With your consent or at your direction","In connection with a merger, acquisition, or sale of assets (with notice to you)"]},{id:"security",icon:lh,title:"4. Data Security",content:"We implement reasonable security measures to protect your information from unauthorized access, alteration, disclosure, or destruction. However, no internet-based service is 100% secure, so we cannot guarantee absolute security.",bullets:["Encryption of sensitive data in transit and at rest","Regular security audits and vulnerability assessments","Strict access controls and authentication requirements","Employee training on data protection and privacy","Incident response procedures for potential data breaches"]},{id:"rights",icon:fD,title:"5. Your Rights and Choices",content:"You have certain rights regarding your personal information. We are committed to helping you exercise these rights.",bullets:["Access and review your account information at any time","Update or correct your personal information","Request deletion of your account and associated data","Opt-out of marketing communications","Disable cookies through your browser settings","Request a copy of your data in a portable format"]},{id:"retention",icon:lD,title:"6. Data Retention",content:"We retain your personal information for as long as necessary to provide our Services and fulfill the purposes outlined in this Privacy Policy.",bullets:["Active account data is retained while your account is active","Order history is retained for 7 years for accounting and legal purposes","Marketing preferences are retained until you opt-out","Deleted account data is removed within 30 days, except where required by law"]},{id:"notifications",icon:ef,title:"7. Push Notifications",content:"With your permission, we may send you push notifications about your orders, rewards, and special offers. You can manage your notification preferences at any time through your device settings or account preferences."},{id:"contact",icon:gr,title:"8. Contact Us",content:"If you have any questions, concerns, or requests regarding this Privacy Policy or our data practices, please contact us:",contact:{email:"hello@rushcoffee.ph",phone:"+63 930 464 1022",address:"11 Visayan Ave. St. Galas, Quezon City, Philippines"}}];return c.jsxs("div",{className:"bg-white",children:[c.jsx(mn,{}),c.jsxs("main",{children:[c.jsxs("section",{className:"relative flex min-h-[400px] items-center justify-center overflow-hidden bg-gradient-to-br from-green-600 via-emerald-600 to-green-700 px-6 py-16 text-white",children:[c.jsxs("div",{className:"absolute inset-0 opacity-10",children:[c.jsx("div",{className:"absolute top-10 left-10 h-32 w-32 rounded-full bg-white blur-3xl"}),c.jsx("div",{className:"absolute bottom-20 right-10 h-40 w-40 rounded-full bg-white blur-3xl"})]}),c.jsxs("div",{className:"relative z-10 mx-auto w-full max-w-4xl text-center",children:[c.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-white/10 backdrop-blur-sm",children:c.jsx(Ba,{className:"h-10 w-10"})}),c.jsx("h1",{className:"font-display text-5xl font-bold md:text-6xl",children:"Privacy Policy"}),c.jsx("p",{className:"mt-4 text-xl text-green-100",children:"Your privacy is important to us"}),c.jsx("p",{className:"mt-2 text-sm text-white/80",children:"Last updated: November 22, 2023"})]})]}),c.jsx("section",{className:"border-b border-gray-200 bg-gray-50 px-6 py-12 pb-20",children:c.jsx("div",{className:"container mx-auto max-w-6xl",children:c.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto mb-3 flex h-14 w-14 items-center justify-center rounded-full bg-green-100",children:c.jsx(lh,{className:"h-7 w-7 text-green-600"})}),c.jsx("h3",{className:"mb-2 font-display text-lg font-semibold text-coffee-900",children:"Secure & Encrypted"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Your data is protected with industry-standard encryption"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto mb-3 flex h-14 w-14 items-center justify-center rounded-full bg-blue-100",children:c.jsx(fD,{className:"h-7 w-7 text-blue-600"})}),c.jsx("h3",{className:"mb-2 font-display text-lg font-semibold text-coffee-900",children:"You're in Control"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Manage your data and privacy settings anytime"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto mb-3 flex h-14 w-14 items-center justify-center rounded-full bg-purple-100",children:c.jsx(Ba,{className:"h-7 w-7 text-purple-600"})}),c.jsx("h3",{className:"mb-2 font-display text-lg font-semibold text-coffee-900",children:"Never Sold"}),c.jsx("p",{className:"text-sm text-gray-600",children:"We never sell your personal information to third parties"})]})]})})}),c.jsx("section",{className:"sticky top-20 z-30 border-b border-gray-200 bg-white/95 py-4 backdrop-blur-sm",children:c.jsx("div",{className:"container mx-auto max-w-6xl px-6",children:c.jsx("div",{className:"flex overflow-x-auto pb-2",children:c.jsx("div",{className:"flex gap-2 px-4 m-auto",children:r.map(i=>c.jsx("a",{href:`#${i.id}`,onClick:a=>n(a,i.id),className:`flex-shrink-0 rounded-full border px-4 py-2 text-sm font-medium transition-all ${t===i.id?"bg-green-600 border-green-600 text-white shadow-md":"border-gray-300 bg-white text-gray-700 hover:bg-green-50 hover:border-green-300 hover:text-green-700"}`,children:i.title.split(". ")[1]},i.id))})})})}),c.jsx("section",{className:"px-6 py-16",children:c.jsxs("div",{className:"container mx-auto max-w-4xl space-y-8",children:[r.map(i=>c.jsx("div",{id:i.id,className:"scroll-mt-[200px]",children:c.jsx(pe,{children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-green-100 to-emerald-100",children:c.jsx(i.icon,{className:"h-6 w-6 text-green-600"})})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900",children:i.title}),c.jsx("p",{className:"mb-4 text-gray-700 leading-relaxed",children:i.content}),i.subsections&&c.jsx("div",{className:"space-y-4 mt-4",children:i.subsections.map((a,s)=>c.jsxs("div",{className:"rounded-lg bg-gray-50 p-4",children:[c.jsx("h3",{className:"mb-3 font-semibold text-coffee-900",children:a.subtitle}),a.items&&c.jsx("ul",{className:"space-y-2 ml-4",children:a.items.map((o,l)=>c.jsxs("li",{className:"flex items-start gap-2 text-gray-700 text-sm",children:[c.jsx("span",{className:"mt-2 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-green-600"}),c.jsx("span",{children:o})]},l))})]},s))}),i.bullets&&c.jsx("ul",{className:"space-y-2 ml-4",children:i.bullets.map((a,s)=>c.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[c.jsx("span",{className:"mt-2 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-green-600"}),c.jsx("span",{children:a})]},s))}),i.contact&&c.jsxs("div",{className:"mt-4 space-y-2 rounded-lg bg-gray-50 p-4",children:[c.jsxs("p",{className:"flex items-center gap-2 text-gray-700",children:[c.jsx(gr,{className:"h-4 w-4 text-green-600"}),c.jsx("a",{href:`mailto:${i.contact.email}`,className:"text-green-600 hover:underline",children:i.contact.email})]}),c.jsxs("p",{className:"flex items-center gap-2 text-gray-700",children:[c.jsx("span",{className:"h-4 w-4 text-green-600",children:""}),c.jsx("a",{href:`tel:${i.contact.phone}`,className:"text-green-600 hover:underline",children:i.contact.phone})]}),c.jsxs("p",{className:"flex items-start gap-2 text-gray-700",children:[c.jsx("span",{className:"mt-0.5 h-4 w-4 text-green-600",children:""}),c.jsx("span",{children:i.contact.address})]})]})]})]})})},i.id)),c.jsx(pe,{className:"border-l-4 border-green-500 bg-green-50",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx(lne,{className:"h-6 w-6 flex-shrink-0 text-green-600"}),c.jsxs("div",{children:[c.jsx("h3",{className:"mb-2 font-display text-lg font-bold text-coffee-900",children:"Our Privacy Commitment"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:"At Rush Coffee, we are committed to protecting your privacy and handling your personal information with care. If you have any questions or concerns about how we handle your data, please don't hesitate to contact us."})]})]})})]})})]}),c.jsx(pn,{})]})},d6e=()=>{const[t,e]=g.useState("what-are-cookies"),n=(i,a)=>{i.preventDefault();const s=document.getElementById(a);if(s){const u=s.getBoundingClientRect().top+window.scrollY-200;window.scrollTo({top:u,behavior:"smooth"})}};g.useEffect(()=>{const i=()=>{const a=document.querySelectorAll("[id]");let s="what-are-cookies";a.forEach(o=>{const l=o.getBoundingClientRect().top;l<=200&&l>=-o.clientHeight+200&&(s=o.id)}),e(s)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]);const r=[{id:"what-are-cookies",icon:vx,title:"1. What Are Cookies?",content:"Cookies are small text files that are placed on your computer or mobile device when you visit a website. They are widely used to make websites work more efficiently and provide information to the owners of the site.",additional:"Cookies help us understand how you use our website, remember your preferences, and provide you with a better, more personalized experience."},{id:"types",icon:TE,title:"2. Types of Cookies We Use",content:"We use different types of cookies to enhance your experience on our website. Each type serves a specific purpose:",subsections:[{icon:VU,subtitle:"2.1 Essential Cookies",description:"These cookies are necessary for the website to function properly. They enable core functionality such as security, network management, and accessibility.",items:["Authentication cookies: Keep you logged in as you navigate through our site","Security cookies: Help detect and prevent security risks","Session cookies: Maintain your shopping cart and order information"]},{icon:Up,subtitle:"2.2 Performance Cookies",description:"These cookies collect information about how visitors use our website, such as which pages are visited most often.",items:["Page load times and response times","Error messages and debugging information","Navigation patterns and user flow"]},{icon:tie,subtitle:"2.3 Functionality Cookies",description:"These cookies allow our website to remember choices you make and provide enhanced, more personalized features.",items:["Remember your login details","Store your preferences (e.g., favorite drinks, customization options)","Maintain your rewards program status","Remember items in your shopping cart"]},{icon:Up,subtitle:"2.4 Analytics Cookies",description:"We use analytics cookies to understand how visitors interact with our website.",items:["Number of visitors and page views","Time spent on pages","Popular menu items and features","Traffic sources and referral information"]}]},{id:"third-party",icon:Une,title:"3. Third-Party Cookies",content:"In addition to our own cookies, we may also use various third-party cookies to report usage statistics of our services.",subsections:[{subtitle:"3.1 Payment Processing",description:"When you make a payment through GCash or other payment providers, these services may set their own cookies to process your transaction securely."},{subtitle:"3.2 Analytics Services",description:"We use third-party analytics services (such as Google Analytics) to help us understand how our website is being used."}]},{id:"duration",icon:rp,title:"4. How Long Do Cookies Last?",content:"The length of time a cookie will stay on your device depends on its type:",bullets:["Session Cookies: These are temporary cookies that expire when you close your browser.","Persistent Cookies: These remain on your device for a set period or until you delete them."]},{id:"managing",icon:rp,title:"5. Managing Cookies",content:"You have the right to decide whether to accept or reject cookies. You can exercise your cookie preferences by adjusting your browser settings.",subsections:[{subtitle:"5.1 Browser Settings",description:"Most web browsers allow you to control cookies through their settings. You can set your browser to:",items:["Block all cookies","Block third-party cookies only","Delete cookies when you close your browser","Accept cookies from specific websites only"]},{subtitle:"5.2 Browser-Specific Instructions",description:"For detailed instructions on how to manage cookies in your specific browser, please visit:",links:[{name:"Google Chrome",url:"https://support.google.com/chrome/answer/95647"},{name:"Mozilla Firefox",url:"https://support.mozilla.org/en-US/kb/enhanced-tracking-protection-firefox-desktop"},{name:"Safari",url:"https://support.apple.com/guide/safari/manage-cookies-sfri11471/mac"},{name:"Microsoft Edge",url:"https://support.microsoft.com/en-us/microsoft-edge/delete-cookies-in-microsoft-edge-63947406-40ac-c3b8-57b9-2a946a29ae09"}]},{subtitle:"5.3 Impact of Disabling Cookies",description:"Please note that if you choose to block or delete cookies, some features of our website may not function properly. For example:",items:["You may not be able to stay logged in","Your shopping cart may not work correctly","Your preferences and customizations may not be saved","Some pages may not display properly"]}]},{id:"personal-data",icon:Ba,title:"6. Cookies and Personal Data",content:"Some cookies may collect personal data. Any personal data collected through cookies is handled in accordance with our Privacy Policy. We are committed to protecting your privacy and ensuring your data is secure."},{id:"updates",icon:Ja,title:"7. Updates to This Cookie Policy",content:"We may update this Cookie Policy from time to time to reflect changes in our practices or for other operational, legal, or regulatory reasons. We encourage you to review this policy periodically to stay informed about how we use cookies.",additional:'The "Last updated" date at the top of this page indicates when this policy was last revised. Any changes will become effective when we post the revised Cookie Policy on our website.'},{id:"contact",icon:gr,title:"8. Contact Us",content:"If you have any questions about our use of cookies or this Cookie Policy, please contact us:",contact:{email:"hello@rushcoffee.ph",phone:"+63 930 464 1022",address:"11 Visayan Ave. St. Galas, Quezon City, Philippines"}}];return c.jsxs("div",{className:"bg-white",children:[c.jsx(mn,{}),c.jsxs("main",{children:[c.jsxs("section",{className:"relative flex min-h-[400px] items-center justify-center overflow-hidden bg-gradient-to-br from-amber-600 via-orange-600 to-amber-700 px-6 py-16 text-white",children:[c.jsxs("div",{className:"absolute inset-0 opacity-10",children:[c.jsx("div",{className:"absolute top-10 left-10 h-32 w-32 rounded-full bg-white blur-3xl"}),c.jsx("div",{className:"absolute bottom-20 right-10 h-40 w-40 rounded-full bg-white blur-3xl"})]}),c.jsxs("div",{className:"relative z-10 mx-auto w-full max-w-4xl text-center",children:[c.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-white/10 backdrop-blur-sm",children:c.jsx(TE,{className:"h-10 w-10"})}),c.jsx("h1",{className:"font-display text-5xl font-bold md:text-6xl",children:"Cookie Policy"}),c.jsx("p",{className:"mt-4 text-xl text-amber-100",children:"Understanding how we use cookies"}),c.jsx("p",{className:"mt-2 text-sm text-white/80",children:"Last updated: November 22, 2023"})]})]}),c.jsx("section",{className:"border-b border-gray-200 bg-gray-50 px-6 py-12 pb-20",children:c.jsx("div",{className:"container mx-auto max-w-6xl",children:c.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto mb-3 flex h-14 w-14 items-center justify-center rounded-full bg-blue-100",children:c.jsx(vx,{className:"h-7 w-7 text-blue-600"})}),c.jsx("h3",{className:"mb-2 font-display text-lg font-semibold text-coffee-900",children:"What Are Cookies?"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Small text files stored on your device to enhance your browsing experience"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto mb-3 flex h-14 w-14 items-center justify-center rounded-full bg-green-100",children:c.jsx(Ba,{className:"h-7 w-7 text-green-600"})}),c.jsx("h3",{className:"mb-2 font-display text-lg font-semibold text-coffee-900",children:"Your Privacy"}),c.jsx("p",{className:"text-sm text-gray-600",children:"We respect your privacy and only use cookies to improve your experience"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto mb-3 flex h-14 w-14 items-center justify-center rounded-full bg-amber-100",children:c.jsx(rp,{className:"h-7 w-7 text-amber-600"})}),c.jsx("h3",{className:"mb-2 font-display text-lg font-semibold text-coffee-900",children:"Your Control"}),c.jsx("p",{className:"text-sm text-gray-600",children:"You can manage or disable cookies through your browser settings at any time"})]})]})})}),c.jsx("section",{className:"sticky top-20 z-30 border-b border-gray-200 bg-white/95 py-4 backdrop-blur-sm",children:c.jsx("div",{className:"container mx-auto max-w-6xl px-6",children:c.jsx("div",{className:"flex overflow-x-auto pb-2",children:c.jsx("div",{className:"flex gap-2 px-4 m-auto",children:r.map(i=>c.jsx("a",{href:`#${i.id}`,onClick:a=>n(a,i.id),className:`flex-shrink-0 rounded-full border px-4 py-2 text-sm font-medium transition-all ${t===i.id?"bg-amber-600 border-amber-600 text-white shadow-md":"border-gray-300 bg-white text-gray-700 hover:bg-amber-50 hover:border-amber-300 hover:text-amber-700"}`,children:i.title.split(". ")[1]},i.id))})})})}),c.jsx("section",{className:"px-6 py-16",children:c.jsxs("div",{className:"container mx-auto max-w-4xl space-y-8",children:[r.map(i=>c.jsx("div",{id:i.id,className:"scroll-mt-[200px]",children:c.jsx(pe,{children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-amber-100 to-orange-100",children:c.jsx(i.icon,{className:"h-6 w-6 text-amber-600"})})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900",children:i.title}),c.jsx("p",{className:"mb-4 text-gray-700 leading-relaxed",children:i.content}),i.additional&&c.jsx("p",{className:"mb-4 text-gray-700 leading-relaxed",children:i.additional}),i.subsections&&c.jsx("div",{className:"space-y-6 mt-6",children:i.subsections.map((a,s)=>c.jsxs("div",{className:"rounded-lg bg-gray-50 p-4",children:[a.icon&&c.jsxs("div",{className:"mb-3 flex items-center gap-2",children:[c.jsx(a.icon,{className:"h-5 w-5 text-amber-600"}),c.jsx("h3",{className:"font-semibold text-coffee-900",children:a.subtitle})]}),!a.icon&&c.jsx("h3",{className:"mb-3 font-semibold text-coffee-900",children:a.subtitle}),a.description&&c.jsx("p",{className:"mb-3 text-gray-700 text-sm",children:a.description}),a.items&&c.jsx("ul",{className:"space-y-2 ml-4",children:a.items.map((o,l)=>c.jsxs("li",{className:"flex items-start gap-2 text-gray-700 text-sm",children:[c.jsx("span",{className:"mt-2 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-amber-600"}),c.jsx("span",{children:o})]},l))}),a.links&&c.jsx("ul",{className:"space-y-2 ml-4",children:a.links.map((o,l)=>c.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[c.jsx("span",{className:"mt-1 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-amber-600"}),c.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",className:"text-amber-600 hover:text-amber-700 hover:underline",children:o.name})]},l))})]},s))}),i.bullets&&c.jsx("ul",{className:"space-y-2 ml-4",children:i.bullets.map((a,s)=>c.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[c.jsx("span",{className:"mt-2 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-amber-600"}),c.jsx("span",{children:a})]},s))}),i.contact&&c.jsxs("div",{className:"mt-4 space-y-2 rounded-lg bg-gray-50 p-4",children:[c.jsxs("p",{className:"flex items-center gap-2 text-gray-700",children:[c.jsx(gr,{className:"h-4 w-4 text-amber-600"}),c.jsx("a",{href:`mailto:${i.contact.email}`,className:"text-amber-600 hover:underline",children:i.contact.email})]}),c.jsxs("p",{className:"flex items-center gap-2 text-gray-700",children:[c.jsx("span",{className:"h-4 w-4 text-amber-600",children:""}),c.jsx("a",{href:`tel:${i.contact.phone}`,className:"text-amber-600 hover:underline",children:i.contact.phone})]}),c.jsxs("p",{className:"flex items-start gap-2 text-gray-700",children:[c.jsx("span",{className:"mt-0.5 h-4 w-4 text-amber-600",children:""}),c.jsx("span",{children:i.contact.address})]})]})]})]})})},i.id)),c.jsx(pe,{className:"border-l-4 border-amber-500 bg-amber-50",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx(TE,{className:"h-6 w-6 flex-shrink-0 text-amber-600"}),c.jsxs("div",{children:[c.jsx("h3",{className:"mb-2 font-display text-lg font-bold text-coffee-900",children:"Your Consent"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:"By continuing to use our website, you consent to our use of cookies as described in this Cookie Policy. If you do not agree with our use of cookies, you should adjust your browser settings accordingly or refrain from using our website."})]})]})})]})})]}),c.jsx(pn,{})]})},h6e=()=>c.jsxs("div",{className:"flex min-h-screen flex-col",children:[c.jsx(mn,{}),c.jsx("main",{className:"flex flex-1 items-center justify-center bg-gradient-to-br from-primary-50 to-coffee-50",children:c.jsxs("div",{className:"p-4 text-center",children:[c.jsx(Ln,{className:"mx-auto mb-4 h-16 w-16 text-gray-400 opacity-50"}),c.jsx("h1",{className:"mb-4 font-display text-4xl font-bold text-gray-900",children:"404 - Page Not Found"}),c.jsx("p",{className:"mb-8 text-gray-600",children:"This coffee blend doesn't exist on our menu. Maybe it got lost in the daily grind?"}),c.jsx(Be,{to:"/",className:"font-medium text-primary-600 transition-colors hover:text-primary-700",children:" Back to Home"})]})}),c.jsx(pn,{})]}),f6e=()=>{const{isCartOpen:t,closeCart:e,cartItems:n,updateQuantity:r,removeFromCart:i,toastMessage:a,selectedItemIds:s,toggleItemSelection:o,selectAllItems:l,deselectAllItems:u}=xr(),d=Qi(),h=()=>{e(),d("/checkout")};return c.jsxs(c.Fragment,{children:[c.jsx($we,{}),c.jsx(Uwe,{}),c.jsxs(tte,{children:[c.jsx(ot,{path:"/",element:c.jsx(ege,{})}),c.jsx(ot,{path:"/about",element:c.jsx(Owe,{})}),c.jsx(ot,{path:"/menu",element:c.jsx(zxe,{})}),c.jsx(ot,{path:"/contact",element:c.jsx(Mwe,{})}),c.jsx(ot,{path:"/auth/login",element:c.jsx(tge,{})}),c.jsx(ot,{path:"/auth/register",element:c.jsx(rge,{})}),c.jsx(ot,{path:"/auth/forgot-password",element:c.jsx(ige,{})}),c.jsx(ot,{path:"/checkout",element:c.jsx(Hxe,{})}),c.jsx(ot,{path:"/queue",element:c.jsx(Jxe,{})}),c.jsx(ot,{path:"/rewards",element:c.jsx(wwe,{})}),c.jsx(ot,{path:"/profile",element:c.jsx(Pwe,{})}),c.jsx(ot,{path:"/faq",element:c.jsx(zwe,{})}),c.jsx(ot,{path:"/terms",element:c.jsx(c6e,{})}),c.jsx(ot,{path:"/privacy",element:c.jsx(u6e,{})}),c.jsx(ot,{path:"/cookies",element:c.jsx(d6e,{})}),c.jsx(ot,{element:c.jsx(qwe,{}),children:c.jsxs(ot,{path:"/admin",element:c.jsx(W5e,{}),children:[c.jsx(ot,{index:!0,element:c.jsx(F5e,{})}),c.jsx(ot,{path:"queue",element:c.jsx(G5e,{})}),c.jsx(ot,{path:"inventory",element:c.jsx(Z5e,{})}),c.jsx(ot,{path:"products",element:c.jsx(e6e,{})}),c.jsx(ot,{path:"analytics",element:c.jsx(n6e,{})}),c.jsx(ot,{path:"feedback",element:c.jsx(s6e,{})}),c.jsx(ot,{path:"settings",element:c.jsx(l6e,{})})]})}),c.jsx(ot,{path:"*",element:c.jsx(h6e,{})})]}),c.jsx(Fwe,{isOpen:t,onClose:e,cartItems:n,onUpdateQuantity:r,onRemoveItem:i,onCheckout:h,selectedItemIds:s,onToggleItemSelection:o,onSelectAll:l,onDeselectAll:u}),a&&c.jsx("div",{className:"fixed bottom-4 right-4 z-[100] animate-fade-in-up rounded-lg bg-gray-900 px-4 py-3 text-white shadow-lg",children:a})]})},m6e=()=>c.jsx(Gpe,{children:c.jsx($xe,{children:c.jsx(Kpe,{children:c.jsx(qxe,{children:c.jsx(Wpe,{children:c.jsx(Ste,{children:c.jsx(f6e,{})})})})})})}),DQ=document.getElementById("root");if(!DQ)throw new Error("Could not find root element to mount to");const p6e=lee.createRoot(DQ);p6e.render(c.jsx(zo.StrictMode,{children:c.jsx(m6e,{})}));
