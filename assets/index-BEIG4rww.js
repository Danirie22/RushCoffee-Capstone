var XQ=Object.defineProperty;var ZQ=(t,e,n)=>e in t?XQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var j1=(t,e,n)=>ZQ(t,typeof e!="symbol"?e+"":e,n);function JQ(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Ga(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var JL={exports:{}},qb={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eX=Symbol.for("react.transitional.element"),tX=Symbol.for("react.fragment");function eV(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:eX,type:t,key:r,ref:e!==void 0?e:null,props:n}}qb.Fragment=tX;qb.jsx=eV;qb.jsxs=eV;JL.exports=qb;var u=JL.exports,tV={exports:{}},pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PN=Symbol.for("react.transitional.element"),nX=Symbol.for("react.portal"),rX=Symbol.for("react.fragment"),iX=Symbol.for("react.strict_mode"),aX=Symbol.for("react.profiler"),sX=Symbol.for("react.consumer"),oX=Symbol.for("react.context"),lX=Symbol.for("react.forward_ref"),cX=Symbol.for("react.suspense"),uX=Symbol.for("react.memo"),nV=Symbol.for("react.lazy"),dX=Symbol.for("react.activity"),bO=Symbol.iterator;function hX(t){return t===null||typeof t!="object"?null:(t=bO&&t[bO]||t["@@iterator"],typeof t=="function"?t:null)}var rV={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iV=Object.assign,aV={};function Dh(t,e,n){this.props=t,this.context=e,this.refs=aV,this.updater=n||rV}Dh.prototype.isReactComponent={};Dh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Dh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sV(){}sV.prototype=Dh.prototype;function CN(t,e,n){this.props=t,this.context=e,this.refs=aV,this.updater=n||rV}var jN=CN.prototype=new sV;jN.constructor=CN;iV(jN,Dh.prototype);jN.isPureReactComponent=!0;var wO=Array.isArray;function AS(){}var yt={H:null,A:null,T:null,S:null},oV=Object.prototype.hasOwnProperty;function kN(t,e,n){var r=n.ref;return{$$typeof:PN,type:t,key:e,ref:r!==void 0?r:null,props:n}}function fX(t,e){return kN(t.type,e,t.props)}function ON(t){return typeof t=="object"&&t!==null&&t.$$typeof===PN}function mX(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _O=/\/+/g;function k1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mX(""+t.key):e.toString(36)}function pX(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(AS,AS):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Qu(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case PN:case nX:s=!0;break;case nV:return s=t._init,Qu(s(t._payload),e,n,r,i)}}if(s)return i=i(t),s=r===""?"."+k1(t,0):r,wO(i)?(n="",s!=null&&(n=s.replace(_O,"$&/")+"/"),Qu(i,e,n,"",function(c){return c})):i!=null&&(ON(i)&&(i=fX(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(_O,"$&/")+"/")+s)),e.push(i)),1;s=0;var o=r===""?".":r+":";if(wO(t))for(var l=0;l<t.length;l++)r=t[l],a=o+k1(r,l),s+=Qu(r,e,n,a,i);else if(l=hX(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,a=o+k1(r,l++),s+=Qu(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return Qu(pX(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function Xy(t,e,n){if(t==null)return t;var r=[],i=0;return Qu(t,r,"","",function(a){return e.call(n,a,i++)}),r}function gX(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var EO=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},yX={map:Xy,forEach:function(t,e,n){Xy(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xy(t,function(){e++}),e},toArray:function(t){return Xy(t,function(e){return e})||[]},only:function(t){if(!ON(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pe.Activity=dX;pe.Children=yX;pe.Component=Dh;pe.Fragment=rX;pe.Profiler=aX;pe.PureComponent=CN;pe.StrictMode=iX;pe.Suspense=cX;pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=yt;pe.__COMPILER_RUNTIME={__proto__:null,c:function(t){return yt.H.useMemoCache(t)}};pe.cache=function(t){return function(){return t.apply(null,arguments)}};pe.cacheSignal=function(){return null};pe.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=iV({},t.props),i=t.key;if(e!=null)for(a in e.key!==void 0&&(i=""+e.key),e)!oV.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return kN(t.type,i,r)};pe.createContext=function(t){return t={$$typeof:oX,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:sX,_context:t},t};pe.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)oV.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return kN(t,a,i)};pe.createRef=function(){return{current:null}};pe.forwardRef=function(t){return{$$typeof:lX,render:t}};pe.isValidElement=ON;pe.lazy=function(t){return{$$typeof:nV,_payload:{_status:-1,_result:t},_init:gX}};pe.memo=function(t,e){return{$$typeof:uX,type:t,compare:e===void 0?null:e}};pe.startTransition=function(t){var e=yt.T,n={};yt.T=n;try{var r=t(),i=yt.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(AS,EO)}catch(a){EO(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),yt.T=e}};pe.unstable_useCacheRefresh=function(){return yt.H.useCacheRefresh()};pe.use=function(t){return yt.H.use(t)};pe.useActionState=function(t,e,n){return yt.H.useActionState(t,e,n)};pe.useCallback=function(t,e){return yt.H.useCallback(t,e)};pe.useContext=function(t){return yt.H.useContext(t)};pe.useDebugValue=function(){};pe.useDeferredValue=function(t,e){return yt.H.useDeferredValue(t,e)};pe.useEffect=function(t,e){return yt.H.useEffect(t,e)};pe.useEffectEvent=function(t){return yt.H.useEffectEvent(t)};pe.useId=function(){return yt.H.useId()};pe.useImperativeHandle=function(t,e,n){return yt.H.useImperativeHandle(t,e,n)};pe.useInsertionEffect=function(t,e){return yt.H.useInsertionEffect(t,e)};pe.useLayoutEffect=function(t,e){return yt.H.useLayoutEffect(t,e)};pe.useMemo=function(t,e){return yt.H.useMemo(t,e)};pe.useOptimistic=function(t,e){return yt.H.useOptimistic(t,e)};pe.useReducer=function(t,e,n){return yt.H.useReducer(t,e,n)};pe.useRef=function(t){return yt.H.useRef(t)};pe.useState=function(t){return yt.H.useState(t)};pe.useSyncExternalStore=function(t,e,n){return yt.H.useSyncExternalStore(t,e,n)};pe.useTransition=function(){return yt.H.useTransition()};pe.version="19.2.0";tV.exports=pe;var g=tV.exports;const gc=Ga(g),vX=JQ({__proto__:null,default:gc},[g]);var lV={exports:{}},Hb={},cV={exports:{}},uV={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,$){var Q=F.length;F.push($);e:for(;0<Q;){var ne=Q-1>>>1,de=F[ne];if(0<i(de,$))F[ne]=$,F[Q]=de,Q=ne;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var $=F[0],Q=F.pop();if(Q!==$){F[0]=Q;e:for(var ne=0,de=F.length,ut=de>>>1;ne<ut;){var Et=2*(ne+1)-1,An=F[Et],Ze=Et+1,Jn=F[Ze];if(0>i(An,Q))Ze<de&&0>i(Jn,An)?(F[ne]=Jn,F[Ze]=Q,ne=Ze):(F[ne]=An,F[Et]=Q,ne=Et);else if(Ze<de&&0>i(Jn,Q))F[ne]=Jn,F[Ze]=Q,ne=Ze;else break e}}return $}function i(F,$){var Q=F.sortIndex-$.sortIndex;return Q!==0?Q:F.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],d=1,h=null,f=3,m=!1,y=!1,v=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function T(F){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=F)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function N(F){if(v=!1,T(F),!y)if(n(l)!==null)y=!0,j||(j=!0,R());else{var $=n(c);$!==null&&H(N,$.startTime-F)}}var j=!1,A=-1,S=5,I=-1;function C(){return x?!0:!(t.unstable_now()-I<S)}function k(){if(x=!1,j){var F=t.unstable_now();I=F;var $=!0;try{e:{y=!1,v&&(v=!1,w(A),A=-1),m=!0;var Q=f;try{t:{for(T(F),h=n(l);h!==null&&!(h.expirationTime>F&&C());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,f=h.priorityLevel;var de=ne(h.expirationTime<=F);if(F=t.unstable_now(),typeof de=="function"){h.callback=de,T(F),$=!0;break t}h===n(l)&&r(l),T(F)}else r(l);h=n(l)}if(h!==null)$=!0;else{var ut=n(c);ut!==null&&H(N,ut.startTime-F),$=!1}}break e}finally{h=null,f=Q,m=!1}$=void 0}}finally{$?R():j=!1}}}var R;if(typeof _=="function")R=function(){_(k)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,M=O.port2;O.port1.onmessage=k,R=function(){M.postMessage(null)}}else R=function(){b(k,0)};function H(F,$){A=b(function(){F(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var Q=f;f=$;try{return F()}finally{f=Q}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(F,$){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Q=f;f=F;try{return $()}finally{f=Q}},t.unstable_scheduleCallback=function(F,$,Q){var ne=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ne+Q:ne):Q=ne,F){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=Q+de,F={id:d++,callback:$,priorityLevel:F,startTime:Q,expirationTime:de,sortIndex:-1},Q>ne?(F.sortIndex=Q,e(c,F),n(l)===null&&F===n(c)&&(v?(w(A),A=-1):v=!0,H(N,Q-ne))):(F.sortIndex=de,e(l,F),y||m||(y=!0,j||(j=!0,R()))),F},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(F){var $=f;return function(){var Q=f;f=$;try{return F.apply(this,arguments)}finally{f=Q}}}})(uV);cV.exports=uV;var xX=cV.exports,dV={exports:{}},Cr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bX=g;function hV(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function vo(){}var Tr={d:{f:vo,r:function(){throw Error(hV(522))},D:vo,C:vo,L:vo,m:vo,X:vo,S:vo,M:vo},p:0,findDOMNode:null},wX=Symbol.for("react.portal");function _X(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wX,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var Om=bX.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Gb(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Cr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Tr;Cr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(hV(299));return _X(t,e,null,n)};Cr.flushSync=function(t){var e=Om.T,n=Tr.p;try{if(Om.T=null,Tr.p=2,t)return t()}finally{Om.T=e,Tr.p=n,Tr.d.f()}};Cr.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Tr.d.C(t,e))};Cr.prefetchDNS=function(t){typeof t=="string"&&Tr.d.D(t)};Cr.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=Gb(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Tr.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&Tr.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Cr.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Gb(e.as,e.crossOrigin);Tr.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Tr.d.M(t)};Cr.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=Gb(n,e.crossOrigin);Tr.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Cr.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Gb(e.as,e.crossOrigin);Tr.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Tr.d.m(t)};Cr.requestFormReset=function(t){Tr.d.r(t)};Cr.unstable_batchedUpdates=function(t,e){return t(e)};Cr.useFormState=function(t,e,n){return Om.H.useFormState(t,e,n)};Cr.useFormStatus=function(){return Om.H.useHostTransitionStatus()};Cr.version="19.2.0";function fV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fV)}catch(t){console.error(t)}}fV(),dV.exports=Cr;var Kb=dV.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bn=xX,mV=g,EX=Kb;function q(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function pV(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pg(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gV(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yV(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function SO(t){if(Pg(t)!==t)throw Error(q(188))}function SX(t){var e=t.alternate;if(!e){if(e=Pg(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return SO(i),t;if(a===r)return SO(i),e;a=a.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function vV(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=vV(t),e!==null)return e;t=t.sibling}return null}var bt=Object.assign,TX=Symbol.for("react.element"),Zy=Symbol.for("react.transitional.element"),pm=Symbol.for("react.portal"),id=Symbol.for("react.fragment"),xV=Symbol.for("react.strict_mode"),NS=Symbol.for("react.profiler"),bV=Symbol.for("react.consumer"),ls=Symbol.for("react.context"),RN=Symbol.for("react.forward_ref"),IS=Symbol.for("react.suspense"),PS=Symbol.for("react.suspense_list"),DN=Symbol.for("react.memo"),To=Symbol.for("react.lazy"),CS=Symbol.for("react.activity"),AX=Symbol.for("react.memo_cache_sentinel"),TO=Symbol.iterator;function Uf(t){return t===null||typeof t!="object"?null:(t=TO&&t[TO]||t["@@iterator"],typeof t=="function"?t:null)}var NX=Symbol.for("react.client.reference");function jS(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===NX?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case id:return"Fragment";case NS:return"Profiler";case xV:return"StrictMode";case IS:return"Suspense";case PS:return"SuspenseList";case CS:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case pm:return"Portal";case ls:return t.displayName||"Context";case bV:return(t._context.displayName||"Context")+".Consumer";case RN:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case DN:return e=t.displayName||null,e!==null?e:jS(t.type)||"Memo";case To:e=t._payload,t=t._init;try{return jS(t(e))}catch{}}return null}var gm=Array.isArray,he=mV.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ue=EX.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tc={pending:!1,data:null,method:null,action:null},kS=[],ad=-1;function Ka(t){return{current:t}}function Ln(t){0>ad||(t.current=kS[ad],kS[ad]=null,ad--)}function st(t,e){ad++,kS[ad]=t.current,t.current=e}var Ia=Ka(null),pp=Ka(null),qo=Ka(null),D0=Ka(null);function M0(t,e){switch(st(qo,e),st(pp,t),st(Ia,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?jR(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=jR(e),t=zz(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ln(Ia),st(Ia,t)}function $d(){Ln(Ia),Ln(pp),Ln(qo)}function OS(t){t.memoizedState!==null&&st(D0,t);var e=Ia.current,n=zz(e,t.type);e!==n&&(st(pp,t),st(Ia,n))}function L0(t){pp.current===t&&(Ln(Ia),Ln(pp)),D0.current===t&&(Ln(D0),Ap._currentValue=Tc)}var O1,AO;function Zl(t){if(O1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);O1=e&&e[1]||"",AO=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O1+t+AO}var R1=!1;function D1(t,e){if(!t||R1)return"";R1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(m){var f=m}Reflect.construct(t,[],h)}else{try{h.call()}catch(m){f=m}t.call(h.prototype)}}else{try{throw Error()}catch(m){f=m}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(m){if(m&&f&&typeof m.stack=="string")return[m.stack,f.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split(`
`),c=o.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==c[i]){var d=`
`+l[r].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=r&&0<=i);break}}}finally{R1=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Zl(n):""}function IX(t,e){switch(t.tag){case 26:case 27:case 5:return Zl(t.type);case 16:return Zl("Lazy");case 13:return t.child!==e&&e!==null?Zl("Suspense Fallback"):Zl("Suspense");case 19:return Zl("SuspenseList");case 0:case 15:return D1(t.type,!1);case 11:return D1(t.type.render,!1);case 1:return D1(t.type,!0);case 31:return Zl("Activity");default:return""}}function NO(t){try{var e="",n=null;do e+=IX(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var RS=Object.prototype.hasOwnProperty,MN=bn.unstable_scheduleCallback,M1=bn.unstable_cancelCallback,PX=bn.unstable_shouldYield,CX=bn.unstable_requestPaint,ai=bn.unstable_now,jX=bn.unstable_getCurrentPriorityLevel,wV=bn.unstable_ImmediatePriority,_V=bn.unstable_UserBlockingPriority,V0=bn.unstable_NormalPriority,kX=bn.unstable_LowPriority,EV=bn.unstable_IdlePriority,OX=bn.log,RX=bn.unstable_setDisableYieldValue,Cg=null,si=null;function Do(t){if(typeof OX=="function"&&RX(t),si&&typeof si.setStrictMode=="function")try{si.setStrictMode(Cg,t)}catch{}}var oi=Math.clz32?Math.clz32:LX,DX=Math.log,MX=Math.LN2;function LX(t){return t>>>=0,t===0?32:31-(DX(t)/MX|0)|0}var Jy=256,ev=262144,tv=4194304;function Jl(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Wb(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~a,r!==0?i=Jl(r):(s&=o,s!==0?i=Jl(s):n||(n=o&~t,n!==0&&(i=Jl(n))))):(o=r&~a,o!==0?i=Jl(o):s!==0?i=Jl(s):n||(n=r&~t,n!==0&&(i=Jl(n)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function jg(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function VX(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SV(){var t=tv;return tv<<=1,!(tv&62914560)&&(tv=4194304),t}function L1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function kg(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function UX(t,e,n,r,i,a){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(n=s&~n;0<n;){var d=31-oi(n),h=1<<d;o[d]=0,l[d]=-1;var f=c[d];if(f!==null)for(c[d]=null,d=0;d<f.length;d++){var m=f[d];m!==null&&(m.lane&=-536870913)}n&=~h}r!==0&&TV(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(s&~e))}function TV(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-oi(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function AV(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-oi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function NV(t,e){var n=e&-e;return n=n&42?1:LN(n),n&(t.suspendedLanes|e)?0:n}function LN(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function VN(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function IV(){var t=Ue.p;return t!==0?t:(t=window.event,t===void 0?32:Xz(t.type))}function IO(t,e){var n=Ue.p;try{return Ue.p=t,e()}finally{Ue.p=n}}var Nl=Math.random().toString(36).slice(2),Gn="__reactFiber$"+Nl,$r="__reactProps$"+Nl,Mh="__reactContainer$"+Nl,DS="__reactEvents$"+Nl,zX="__reactListeners$"+Nl,BX="__reactHandles$"+Nl,PO="__reactResources$"+Nl,Og="__reactMarker$"+Nl;function UN(t){delete t[Gn],delete t[$r],delete t[DS],delete t[zX],delete t[BX]}function sd(t){var e=t[Gn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Mh]||n[Gn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=MR(t);t!==null;){if(n=t[Gn])return n;t=MR(t)}return e}t=n,n=t.parentNode}return null}function Lh(t){if(t=t[Gn]||t[Mh]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function ym(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(q(33))}function Ad(t){var e=t[PO];return e||(e=t[PO]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Rn(t){t[Og]=!0}var PV=new Set,CV={};function pu(t,e){qd(t,e),qd(t+"Capture",e)}function qd(t,e){for(CV[t]=e,t=0;t<e.length;t++)PV.add(e[t])}var FX=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),CO={},jO={};function $X(t){return RS.call(jO,t)?!0:RS.call(CO,t)?!1:FX.test(t)?jO[t]=!0:(CO[t]=!0,!1)}function Wv(t,e,n){if($X(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function nv(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Xa(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function Ii(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jV(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qX(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function MS(t){if(!t._valueTracker){var e=jV(t)?"checked":"value";t._valueTracker=qX(t,e,""+t[e])}}function kV(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=jV(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function U0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var HX=/[\n"\\]/g;function ji(t){return t.replace(HX,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function LS(t,e,n,r,i,a,s,o){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Ii(e)):t.value!==""+Ii(e)&&(t.value=""+Ii(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?VS(t,s,Ii(e)):n!=null?VS(t,s,Ii(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Ii(o):t.removeAttribute("name")}function OV(t,e,n,r,i,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){MS(t);return}n=n!=null?""+Ii(n):"",e=e!=null?""+Ii(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s),MS(t)}function VS(t,e,n){e==="number"&&U0(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Nd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ii(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function RV(t,e,n){if(e!=null&&(e=""+Ii(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Ii(n):""}function DV(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(q(92));if(gm(r)){if(1<r.length)throw Error(q(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Ii(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),MS(t)}function Hd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var GX=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kO(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||GX.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function MV(t,e,n){if(e!=null&&typeof e!="object")throw Error(q(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&kO(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&kO(t,a,e[a])}function zN(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var KX=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),WX=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yv(t){return WX.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function cs(){}var US=null;function BN(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var od=null,Id=null;function OO(t){var e=Lh(t);if(e&&(t=e.stateNode)){var n=t[$r]||null;e:switch(t=e.stateNode,e.type){case"input":if(LS(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ji(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[$r]||null;if(!i)throw Error(q(90));LS(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&kV(r)}break e;case"textarea":RV(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Nd(t,!!n.multiple,e,!1)}}}var V1=!1;function LV(t,e,n){if(V1)return t(e,n);V1=!0;try{var r=t(e);return r}finally{if(V1=!1,(od!==null||Id!==null)&&(sw(),od&&(e=od,t=Id,Id=od=null,OO(e),t)))for(e=0;e<t.length;e++)OO(t[e])}}function gp(t,e){var n=t.stateNode;if(n===null)return null;var r=n[$r]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var Ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zS=!1;if(Ts)try{var zf={};Object.defineProperty(zf,"passive",{get:function(){zS=!0}}),window.addEventListener("test",zf,zf),window.removeEventListener("test",zf,zf)}catch{zS=!1}var Mo=null,FN=null,Qv=null;function VV(){if(Qv)return Qv;var t,e=FN,n=e.length,r,i="value"in Mo?Mo.value:Mo.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Qv=i.slice(t,1<r?1-r:void 0)}function Xv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rv(){return!0}function RO(){return!1}function qr(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?rv:RO,this.isPropagationStopped=RO,this}return bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rv)},persist:function(){},isPersistent:rv}),e}var gu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yb=qr(gu),Rg=bt({},gu,{view:0,detail:0}),YX=qr(Rg),U1,z1,Bf,Qb=bt({},Rg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$N,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bf&&(Bf&&t.type==="mousemove"?(U1=t.screenX-Bf.screenX,z1=t.screenY-Bf.screenY):z1=U1=0,Bf=t),U1)},movementY:function(t){return"movementY"in t?t.movementY:z1}}),DO=qr(Qb),QX=bt({},Qb,{dataTransfer:0}),XX=qr(QX),ZX=bt({},Rg,{relatedTarget:0}),B1=qr(ZX),JX=bt({},gu,{animationName:0,elapsedTime:0,pseudoElement:0}),eZ=qr(JX),tZ=bt({},gu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nZ=qr(tZ),rZ=bt({},gu,{data:0}),MO=qr(rZ),iZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oZ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sZ[t])?!!e[t]:!1}function $N(){return oZ}var lZ=bt({},Rg,{key:function(t){if(t.key){var e=iZ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aZ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$N,charCode:function(t){return t.type==="keypress"?Xv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cZ=qr(lZ),uZ=bt({},Qb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),LO=qr(uZ),dZ=bt({},Rg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$N}),hZ=qr(dZ),fZ=bt({},gu,{propertyName:0,elapsedTime:0,pseudoElement:0}),mZ=qr(fZ),pZ=bt({},Qb,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gZ=qr(pZ),yZ=bt({},gu,{newState:0,oldState:0}),vZ=qr(yZ),xZ=[9,13,27,32],qN=Ts&&"CompositionEvent"in window,Rm=null;Ts&&"documentMode"in document&&(Rm=document.documentMode);var bZ=Ts&&"TextEvent"in window&&!Rm,UV=Ts&&(!qN||Rm&&8<Rm&&11>=Rm),VO=" ",UO=!1;function zV(t,e){switch(t){case"keyup":return xZ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BV(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ld=!1;function wZ(t,e){switch(t){case"compositionend":return BV(e);case"keypress":return e.which!==32?null:(UO=!0,VO);case"textInput":return t=e.data,t===VO&&UO?null:t;default:return null}}function _Z(t,e){if(ld)return t==="compositionend"||!qN&&zV(t,e)?(t=VV(),Qv=FN=Mo=null,ld=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return UV&&e.locale!=="ko"?null:e.data;default:return null}}var EZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!EZ[t.type]:e==="textarea"}function FV(t,e,n,r){od?Id?Id.push(r):Id=[r]:od=r,e=rx(e,"onChange"),0<e.length&&(n=new Yb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Dm=null,yp=null;function SZ(t){Lz(t,0)}function Xb(t){var e=ym(t);if(kV(e))return t}function BO(t,e){if(t==="change")return e}var $V=!1;if(Ts){var F1;if(Ts){var $1="oninput"in document;if(!$1){var FO=document.createElement("div");FO.setAttribute("oninput","return;"),$1=typeof FO.oninput=="function"}F1=$1}else F1=!1;$V=F1&&(!document.documentMode||9<document.documentMode)}function $O(){Dm&&(Dm.detachEvent("onpropertychange",qV),yp=Dm=null)}function qV(t){if(t.propertyName==="value"&&Xb(yp)){var e=[];FV(e,yp,t,BN(t)),LV(SZ,e)}}function TZ(t,e,n){t==="focusin"?($O(),Dm=e,yp=n,Dm.attachEvent("onpropertychange",qV)):t==="focusout"&&$O()}function AZ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xb(yp)}function NZ(t,e){if(t==="click")return Xb(e)}function IZ(t,e){if(t==="input"||t==="change")return Xb(e)}function PZ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mi=typeof Object.is=="function"?Object.is:PZ;function vp(t,e){if(mi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!RS.call(e,i)||!mi(t[i],e[i]))return!1}return!0}function qO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function HO(t,e){var n=qO(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qO(n)}}function HV(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?HV(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function GV(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=U0(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=U0(t.document)}return e}function HN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var CZ=Ts&&"documentMode"in document&&11>=document.documentMode,cd=null,BS=null,Mm=null,FS=!1;function GO(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;FS||cd==null||cd!==U0(r)||(r=cd,"selectionStart"in r&&HN(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mm&&vp(Mm,r)||(Mm=r,r=rx(BS,"onSelect"),0<r.length&&(e=new Yb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=cd)))}function Wl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ud={animationend:Wl("Animation","AnimationEnd"),animationiteration:Wl("Animation","AnimationIteration"),animationstart:Wl("Animation","AnimationStart"),transitionrun:Wl("Transition","TransitionRun"),transitionstart:Wl("Transition","TransitionStart"),transitioncancel:Wl("Transition","TransitionCancel"),transitionend:Wl("Transition","TransitionEnd")},q1={},KV={};Ts&&(KV=document.createElement("div").style,"AnimationEvent"in window||(delete ud.animationend.animation,delete ud.animationiteration.animation,delete ud.animationstart.animation),"TransitionEvent"in window||delete ud.transitionend.transition);function yu(t){if(q1[t])return q1[t];if(!ud[t])return t;var e=ud[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in KV)return q1[t]=e[n];return t}var WV=yu("animationend"),YV=yu("animationiteration"),QV=yu("animationstart"),jZ=yu("transitionrun"),kZ=yu("transitionstart"),OZ=yu("transitioncancel"),XV=yu("transitionend"),ZV=new Map,$S="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$S.push("scrollEnd");function oa(t,e){ZV.set(t,e),pu(e,[t])}var z0=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ni=[],dd=0,GN=0;function Zb(){for(var t=dd,e=GN=dd=0;e<t;){var n=Ni[e];Ni[e++]=null;var r=Ni[e];Ni[e++]=null;var i=Ni[e];Ni[e++]=null;var a=Ni[e];if(Ni[e++]=null,r!==null&&i!==null){var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}a!==0&&JV(n,i,a)}}function Jb(t,e,n,r){Ni[dd++]=t,Ni[dd++]=e,Ni[dd++]=n,Ni[dd++]=r,GN|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function KN(t,e,n,r){return Jb(t,e,n,r),B0(t)}function vu(t,e){return Jb(t,null,null,e),B0(t)}function JV(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-oi(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function B0(t){if(50<Hm)throw Hm=0,uT=null,Error(q(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var hd={};function RZ(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(t,e,n,r){return new RZ(t,e,n,r)}function WN(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ps(t,e){var n=t.alternate;return n===null?(n=ti(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function eU(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Zv(t,e,n,r,i,a){var s=0;if(r=t,typeof t=="function")WN(t)&&(s=1);else if(typeof t=="string")s=UJ(t,n,Ia.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case CS:return t=ti(31,n,e,i),t.elementType=CS,t.lanes=a,t;case id:return Ac(n.children,i,a,e);case xV:s=8,i|=24;break;case NS:return t=ti(12,n,e,i|2),t.elementType=NS,t.lanes=a,t;case IS:return t=ti(13,n,e,i),t.elementType=IS,t.lanes=a,t;case PS:return t=ti(19,n,e,i),t.elementType=PS,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ls:s=10;break e;case bV:s=9;break e;case RN:s=11;break e;case DN:s=14;break e;case To:s=16,r=null;break e}s=29,n=Error(q(130,t===null?"null":typeof t,"")),r=null}return e=ti(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Ac(t,e,n,r){return t=ti(7,t,r,e),t.lanes=n,t}function H1(t,e,n){return t=ti(6,t,null,e),t.lanes=n,t}function tU(t){var e=ti(18,null,null,0);return e.stateNode=t,e}function G1(t,e,n){return e=ti(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var KO=new WeakMap;function ki(t,e){if(typeof t=="object"&&t!==null){var n=KO.get(t);return n!==void 0?n:(e={value:t,source:e,stack:NO(e)},KO.set(t,e),e)}return{value:t,source:e,stack:NO(e)}}var fd=[],md=0,F0=null,xp=0,Pi=[],Ci=0,al=null,wa=1,_a="";function rs(t,e){fd[md++]=xp,fd[md++]=F0,F0=t,xp=e}function nU(t,e,n){Pi[Ci++]=wa,Pi[Ci++]=_a,Pi[Ci++]=al,al=t;var r=wa;t=_a;var i=32-oi(r)-1;r&=~(1<<i),n+=1;var a=32-oi(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,wa=1<<32-oi(e)+i|n<<i|r,_a=a+t}else wa=1<<a|n<<i|r,_a=t}function YN(t){t.return!==null&&(rs(t,1),nU(t,1,0))}function QN(t){for(;t===F0;)F0=fd[--md],fd[md]=null,xp=fd[--md],fd[md]=null;for(;t===al;)al=Pi[--Ci],Pi[Ci]=null,_a=Pi[--Ci],Pi[Ci]=null,wa=Pi[--Ci],Pi[Ci]=null}function rU(t,e){Pi[Ci++]=wa,Pi[Ci++]=_a,Pi[Ci++]=al,wa=e.id,_a=e.overflow,al=t}var Kn=null,mt=null,Pe=!1,Ho=null,Oi=!1,qS=Error(q(519));function sl(t){var e=Error(q(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bp(ki(e,t)),qS}function WO(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Gn]=t,e[$r]=r,n){case"dialog":_e("cancel",e),_e("close",e);break;case"iframe":case"object":case"embed":_e("load",e);break;case"video":case"audio":for(n=0;n<Sp.length;n++)_e(Sp[n],e);break;case"source":_e("error",e);break;case"img":case"image":case"link":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"input":_e("invalid",e),OV(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":_e("invalid",e);break;case"textarea":_e("invalid",e),DV(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||Uz(e.textContent,n)?(r.popover!=null&&(_e("beforetoggle",e),_e("toggle",e)),r.onScroll!=null&&_e("scroll",e),r.onScrollEnd!=null&&_e("scrollend",e),r.onClick!=null&&(e.onclick=cs),e=!0):e=!1,e||sl(t,!0)}function YO(t){for(Kn=t.return;Kn;)switch(Kn.tag){case 5:case 31:case 13:Oi=!1;return;case 27:case 3:Oi=!0;return;default:Kn=Kn.return}}function Mu(t){if(t!==Kn)return!1;if(!Pe)return YO(t),Pe=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||pT(t.type,t.memoizedProps)),n=!n),n&&mt&&sl(t),YO(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));mt=DR(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));mt=DR(t)}else e===27?(e=mt,Il(t.type)?(t=xT,xT=null,mt=t):mt=e):mt=Kn?Vi(t.stateNode.nextSibling):null;return!0}function Bc(){mt=Kn=null,Pe=!1}function K1(){var t=Ho;return t!==null&&(Dr===null?Dr=t:Dr.push.apply(Dr,t),Ho=null),t}function bp(t){Ho===null?Ho=[t]:Ho.push(t)}var HS=Ka(null),xu=null,us=null;function Po(t,e,n){st(HS,e._currentValue),e._currentValue=n}function gs(t){t._currentValue=HS.current,Ln(HS)}function GS(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function KS(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=i;for(var l=0;l<e.length;l++)if(o.context===e[l]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),GS(a.return,n,t),r||(s=null);break e}a=o.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(q(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),GS(s,n,t),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function Vh(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(q(387));if(s=s.memoizedProps,s!==null){var o=i.type;mi(i.pendingProps.value,s.value)||(t!==null?t.push(o):t=[o])}}else if(i===D0.current){if(s=i.alternate,s===null)throw Error(q(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Ap):t=[Ap])}i=i.return}t!==null&&KS(e,t,n,r),e.flags|=262144}function $0(t){for(t=t.firstContext;t!==null;){if(!mi(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fc(t){xu=t,us=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yn(t){return iU(xu,t)}function iv(t,e){return xu===null&&Fc(t),iU(t,e)}function iU(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},us===null){if(t===null)throw Error(q(308));us=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else us=us.next=e;return n}var DZ=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},MZ=bn.unstable_scheduleCallback,LZ=bn.unstable_NormalPriority,on={$$typeof:ls,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function XN(){return{controller:new DZ,data:new Map,refCount:0}}function Dg(t){t.refCount--,t.refCount===0&&MZ(LZ,function(){t.controller.abort()})}var Lm=null,WS=0,Gd=0,Pd=null;function VZ(t,e){if(Lm===null){var n=Lm=[];WS=0,Gd=_I(),Pd={status:"pending",value:void 0,then:function(r){n.push(r)}}}return WS++,e.then(QO,QO),e}function QO(){if(--WS===0&&Lm!==null){Pd!==null&&(Pd.status="fulfilled");var t=Lm;Lm=null,Gd=0,Pd=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function UZ(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var XO=he.S;he.S=function(t,e){vz=ai(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&VZ(t,e),XO!==null&&XO(t,e)};var Nc=Ka(null);function ZN(){var t=Nc.current;return t!==null?t:nt.pooledCache}function Jv(t,e){e===null?st(Nc,Nc.current):st(Nc,e.pool)}function aU(){var t=ZN();return t===null?null:{parent:on._currentValue,pool:t}}var Uh=Error(q(460)),JN=Error(q(474)),ew=Error(q(542)),q0={then:function(){}};function ZO(t){return t=t.status,t==="fulfilled"||t==="rejected"}function sU(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(cs,cs),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,eR(t),t;default:if(typeof e.status=="string")e.then(cs,cs);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(q(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,eR(t),t}throw Ic=e,Uh}}function ec(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ic=n,Uh):n}}var Ic=null;function JO(){if(Ic===null)throw Error(q(459));var t=Ic;return Ic=null,t}function eR(t){if(t===Uh||t===ew)throw Error(q(483))}var Cd=null,wp=0;function av(t){var e=wp;return wp+=1,Cd===null&&(Cd=[]),sU(Cd,t,e)}function Ff(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function sv(t,e){throw e.$$typeof===TX?Error(q(525)):(t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function oU(t){function e(b,w){if(t){var _=b.deletions;_===null?(b.deletions=[w],b.flags|=16):_.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b){for(var w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(b,w){return b=ps(b,w),b.index=0,b.sibling=null,b}function a(b,w,_){return b.index=_,t?(_=b.alternate,_!==null?(_=_.index,_<w?(b.flags|=67108866,w):_):(b.flags|=67108866,w)):(b.flags|=1048576,w)}function s(b){return t&&b.alternate===null&&(b.flags|=67108866),b}function o(b,w,_,T){return w===null||w.tag!==6?(w=H1(_,b.mode,T),w.return=b,w):(w=i(w,_),w.return=b,w)}function l(b,w,_,T){var N=_.type;return N===id?d(b,w,_.props.children,T,_.key):w!==null&&(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===To&&ec(N)===w.type)?(w=i(w,_.props),Ff(w,_),w.return=b,w):(w=Zv(_.type,_.key,_.props,null,b.mode,T),Ff(w,_),w.return=b,w)}function c(b,w,_,T){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=G1(_,b.mode,T),w.return=b,w):(w=i(w,_.children||[]),w.return=b,w)}function d(b,w,_,T,N){return w===null||w.tag!==7?(w=Ac(_,b.mode,T,N),w.return=b,w):(w=i(w,_),w.return=b,w)}function h(b,w,_){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=H1(""+w,b.mode,_),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zy:return _=Zv(w.type,w.key,w.props,null,b.mode,_),Ff(_,w),_.return=b,_;case pm:return w=G1(w,b.mode,_),w.return=b,w;case To:return w=ec(w),h(b,w,_)}if(gm(w)||Uf(w))return w=Ac(w,b.mode,_,null),w.return=b,w;if(typeof w.then=="function")return h(b,av(w),_);if(w.$$typeof===ls)return h(b,iv(b,w),_);sv(b,w)}return null}function f(b,w,_,T){var N=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return N!==null?null:o(b,w,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Zy:return _.key===N?l(b,w,_,T):null;case pm:return _.key===N?c(b,w,_,T):null;case To:return _=ec(_),f(b,w,_,T)}if(gm(_)||Uf(_))return N!==null?null:d(b,w,_,T,null);if(typeof _.then=="function")return f(b,w,av(_),T);if(_.$$typeof===ls)return f(b,w,iv(b,_),T);sv(b,_)}return null}function m(b,w,_,T,N){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return b=b.get(_)||null,o(w,b,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Zy:return b=b.get(T.key===null?_:T.key)||null,l(w,b,T,N);case pm:return b=b.get(T.key===null?_:T.key)||null,c(w,b,T,N);case To:return T=ec(T),m(b,w,_,T,N)}if(gm(T)||Uf(T))return b=b.get(_)||null,d(w,b,T,N,null);if(typeof T.then=="function")return m(b,w,_,av(T),N);if(T.$$typeof===ls)return m(b,w,_,iv(w,T),N);sv(w,T)}return null}function y(b,w,_,T){for(var N=null,j=null,A=w,S=w=0,I=null;A!==null&&S<_.length;S++){A.index>S?(I=A,A=null):I=A.sibling;var C=f(b,A,_[S],T);if(C===null){A===null&&(A=I);break}t&&A&&C.alternate===null&&e(b,A),w=a(C,w,S),j===null?N=C:j.sibling=C,j=C,A=I}if(S===_.length)return n(b,A),Pe&&rs(b,S),N;if(A===null){for(;S<_.length;S++)A=h(b,_[S],T),A!==null&&(w=a(A,w,S),j===null?N=A:j.sibling=A,j=A);return Pe&&rs(b,S),N}for(A=r(A);S<_.length;S++)I=m(A,b,S,_[S],T),I!==null&&(t&&I.alternate!==null&&A.delete(I.key===null?S:I.key),w=a(I,w,S),j===null?N=I:j.sibling=I,j=I);return t&&A.forEach(function(k){return e(b,k)}),Pe&&rs(b,S),N}function v(b,w,_,T){if(_==null)throw Error(q(151));for(var N=null,j=null,A=w,S=w=0,I=null,C=_.next();A!==null&&!C.done;S++,C=_.next()){A.index>S?(I=A,A=null):I=A.sibling;var k=f(b,A,C.value,T);if(k===null){A===null&&(A=I);break}t&&A&&k.alternate===null&&e(b,A),w=a(k,w,S),j===null?N=k:j.sibling=k,j=k,A=I}if(C.done)return n(b,A),Pe&&rs(b,S),N;if(A===null){for(;!C.done;S++,C=_.next())C=h(b,C.value,T),C!==null&&(w=a(C,w,S),j===null?N=C:j.sibling=C,j=C);return Pe&&rs(b,S),N}for(A=r(A);!C.done;S++,C=_.next())C=m(A,b,S,C.value,T),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?S:C.key),w=a(C,w,S),j===null?N=C:j.sibling=C,j=C);return t&&A.forEach(function(R){return e(b,R)}),Pe&&rs(b,S),N}function x(b,w,_,T){if(typeof _=="object"&&_!==null&&_.type===id&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Zy:e:{for(var N=_.key;w!==null;){if(w.key===N){if(N=_.type,N===id){if(w.tag===7){n(b,w.sibling),T=i(w,_.props.children),T.return=b,b=T;break e}}else if(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===To&&ec(N)===w.type){n(b,w.sibling),T=i(w,_.props),Ff(T,_),T.return=b,b=T;break e}n(b,w);break}else e(b,w);w=w.sibling}_.type===id?(T=Ac(_.props.children,b.mode,T,_.key),T.return=b,b=T):(T=Zv(_.type,_.key,_.props,null,b.mode,T),Ff(T,_),T.return=b,b=T)}return s(b);case pm:e:{for(N=_.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(b,w.sibling),T=i(w,_.children||[]),T.return=b,b=T;break e}else{n(b,w);break}else e(b,w);w=w.sibling}T=G1(_,b.mode,T),T.return=b,b=T}return s(b);case To:return _=ec(_),x(b,w,_,T)}if(gm(_))return y(b,w,_,T);if(Uf(_)){if(N=Uf(_),typeof N!="function")throw Error(q(150));return _=N.call(_),v(b,w,_,T)}if(typeof _.then=="function")return x(b,w,av(_),T);if(_.$$typeof===ls)return x(b,w,iv(b,_),T);sv(b,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,w!==null&&w.tag===6?(n(b,w.sibling),T=i(w,_),T.return=b,b=T):(n(b,w),T=H1(_,b.mode,T),T.return=b,b=T),s(b)):n(b,w)}return function(b,w,_,T){try{wp=0;var N=x(b,w,_,T);return Cd=null,N}catch(A){if(A===Uh||A===ew)throw A;var j=ti(29,A,null,b.mode);return j.lanes=T,j.return=b,j}finally{}}}var $c=oU(!0),lU=oU(!1),Ao=!1;function eI(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function YS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Go(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ko(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=B0(t),JV(t,null,n),e}return Jb(t,r,e,n),B0(t)}function Vm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,AV(t,n)}}function W1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var QS=!1;function Um(){if(QS){var t=Pd;if(t!==null)throw t}}function zm(t,e,n,r){QS=!1;var i=t.updateQueue;Ao=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(a!==null){var h=i.baseState;s=0,d=c=l=null,o=a;do{var f=o.lane&-536870913,m=f!==o.lane;if(m?(Ne&f)===f:(r&f)===f){f!==0&&f===Gd&&(QS=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var y=t,v=o;f=e;var x=n;switch(v.tag){case 1:if(y=v.payload,typeof y=="function"){h=y.call(x,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,f=typeof y=="function"?y.call(x,h,f):y,f==null)break e;h=bt({},h,f);break e;case 2:Ao=!0}}f=o.callback,f!==null&&(t.flags|=64,m&&(t.flags|=8192),m=i.callbacks,m===null?i.callbacks=[f]:m.push(f))}else m={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,s|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;m=o,o=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,a===null&&(i.shared.lanes=0),ll|=s,t.lanes=s,t.memoizedState=h}}function cU(t,e){if(typeof t!="function")throw Error(q(191,t));t.call(e)}function uU(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)cU(n[t],e)}var Kd=Ka(null),H0=Ka(0);function tR(t,e){t=Ps,st(H0,t),st(Kd,e),Ps=t|e.baseLanes}function XS(){st(H0,Ps),st(Kd,Kd.current)}function tI(){Ps=H0.current,Ln(Kd),Ln(H0)}var pi=Ka(null),Li=null;function Co(t){var e=t.alternate;st(Yt,Yt.current&1),st(pi,t),Li===null&&(e===null||Kd.current!==null||e.memoizedState!==null)&&(Li=t)}function ZS(t){st(Yt,Yt.current),st(pi,t),Li===null&&(Li=t)}function dU(t){t.tag===22?(st(Yt,Yt.current),st(pi,t),Li===null&&(Li=t)):jo()}function jo(){st(Yt,Yt.current),st(pi,pi.current)}function Jr(t){Ln(pi),Li===t&&(Li=null),Ln(Yt)}var Yt=Ka(0);function G0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||yT(n)||vT(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var As=0,ye=null,Qe=null,an=null,K0=!1,jd=!1,qc=!1,W0=0,_p=0,kd=null,zZ=0;function Ut(){throw Error(q(321))}function nI(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mi(t[n],e[n]))return!1;return!0}function rI(t,e,n,r,i,a){return As=a,ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,he.H=t===null||t.memoizedState===null?FU:mI,qc=!1,a=n(r,i),qc=!1,jd&&(a=fU(e,n,r,i)),hU(t),a}function hU(t){he.H=Ep;var e=Qe!==null&&Qe.next!==null;if(As=0,an=Qe=ye=null,K0=!1,_p=0,kd=null,e)throw Error(q(300));t===null||ln||(t=t.dependencies,t!==null&&$0(t)&&(ln=!0))}function fU(t,e,n,r){ye=t;var i=0;do{if(jd&&(kd=null),_p=0,jd=!1,25<=i)throw Error(q(301));if(i+=1,an=Qe=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}he.H=$U,a=e(n,r)}while(jd);return a}function BZ(){var t=he.H,e=t.useState()[0];return e=typeof e.then=="function"?Mg(e):e,t=t.useState()[0],(Qe!==null?Qe.memoizedState:null)!==t&&(ye.flags|=1024),e}function iI(){var t=W0!==0;return W0=0,t}function aI(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function sI(t){if(K0){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}K0=!1}As=0,an=Qe=ye=null,jd=!1,_p=W0=0,kd=null}function br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?ye.memoizedState=an=t:an=an.next=t,an}function Zt(){if(Qe===null){var t=ye.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var e=an===null?ye.memoizedState:an.next;if(e!==null)an=e,Qe=t;else{if(t===null)throw ye.alternate===null?Error(q(467)):Error(q(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},an===null?ye.memoizedState=an=t:an=an.next=t}return an}function tw(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mg(t){var e=_p;return _p+=1,kd===null&&(kd=[]),t=sU(kd,t,e),e=ye,(an===null?e.memoizedState:an.next)===null&&(e=e.alternate,he.H=e===null||e.memoizedState===null?FU:mI),t}function nw(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Mg(t);if(t.$$typeof===ls)return Yn(t)}throw Error(q(438,String(t)))}function oI(t){var e=null,n=ye.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=ye.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=tw(),ye.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=AX;return e.index++,n}function Ns(t,e){return typeof e=="function"?e(t):e}function e0(t){var e=Zt();return lI(e,Qe,t)}function lI(t,e,n){var r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var o=s=null,l=null,c=e,d=!1;do{var h=c.lane&-536870913;if(h!==c.lane?(Ne&h)===h:(As&h)===h){var f=c.revertLane;if(f===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),h===Gd&&(d=!0);else if((As&f)===f){c=c.next,f===Gd&&(d=!0);continue}else h={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=h,s=a):l=l.next=h,ye.lanes|=f,ll|=f;h=c.action,qc&&n(a,h),a=c.hasEagerState?c.eagerState:n(a,h)}else f={lane:h,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=f,s=a):l=l.next=f,ye.lanes|=h,ll|=h;c=c.next}while(c!==null&&c!==e);if(l===null?s=a:l.next=o,!mi(a,t.memoizedState)&&(ln=!0,d&&(n=Pd,n!==null)))throw n;t.memoizedState=a,t.baseState=s,t.baseQueue=l,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Y1(t){var e=Zt(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);mi(a,e.memoizedState)||(ln=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function mU(t,e,n){var r=ye,i=Zt(),a=Pe;if(a){if(n===void 0)throw Error(q(407));n=n()}else n=e();var s=!mi((Qe||i).memoizedState,n);if(s&&(i.memoizedState=n,ln=!0),i=i.queue,cI(yU.bind(null,r,i,t),[t]),i.getSnapshot!==e||s||an!==null&&an.memoizedState.tag&1){if(r.flags|=2048,Wd(9,{destroy:void 0},gU.bind(null,r,i,n,e),null),nt===null)throw Error(q(349));a||As&127||pU(r,e,n)}return n}function pU(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ye.updateQueue,e===null?(e=tw(),ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gU(t,e,n,r){e.value=n,e.getSnapshot=r,vU(e)&&xU(t)}function yU(t,e,n){return n(function(){vU(e)&&xU(t)})}function vU(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mi(t,n)}catch{return!0}}function xU(t){var e=vu(t,2);e!==null&&Fr(e,t,2)}function JS(t){var e=br();if(typeof t=="function"){var n=t;if(t=n(),qc){Do(!0);try{n()}finally{Do(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:t},e}function bU(t,e,n,r){return t.baseState=n,lI(t,Qe,typeof r=="function"?r:Ns)}function FZ(t,e,n,r,i){if(iw(t))throw Error(q(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};he.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,wU(e,a)):(a.next=n.next,e.pending=n.next=a)}}function wU(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=he.T,s={};he.T=s;try{var o=n(i,r),l=he.S;l!==null&&l(s,o),nR(t,e,o)}catch(c){eT(t,e,c)}finally{a!==null&&s.types!==null&&(a.types=s.types),he.T=a}}else try{a=n(i,r),nR(t,e,a)}catch(c){eT(t,e,c)}}function nR(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){rR(t,e,r)},function(r){return eT(t,e,r)}):rR(t,e,n)}function rR(t,e,n){e.status="fulfilled",e.value=n,_U(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,wU(t,n)))}function eT(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,_U(e),e=e.next;while(e!==r)}t.action=null}function _U(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function EU(t,e){return e}function iR(t,e){if(Pe){var n=nt.formState;if(n!==null){e:{var r=ye;if(Pe){if(mt){t:{for(var i=mt,a=Oi;i.nodeType!==8;){if(!a){i=null;break t}if(i=Vi(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){mt=Vi(i.nextSibling),r=i.data==="F!";break e}}sl(r)}r=!1}r&&(e=n[0])}}return n=br(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:EU,lastRenderedState:e},n.queue=r,n=UU.bind(null,ye,r),r.dispatch=n,r=JS(!1),a=fI.bind(null,ye,!1,r.queue),r=br(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=FZ.bind(null,ye,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function aR(t){var e=Zt();return SU(e,Qe,t)}function SU(t,e,n){if(e=lI(t,e,EU)[0],t=e0(Ns)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=Mg(e)}catch(s){throw s===Uh?ew:s}else r=e;e=Zt();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(ye.flags|=2048,Wd(9,{destroy:void 0},$Z.bind(null,i,n),null)),[r,a,t]}function $Z(t,e){t.action=e}function sR(t){var e=Zt(),n=Qe;if(n!==null)return SU(e,n,t);Zt(),e=e.memoizedState,n=Zt();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Wd(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=ye.updateQueue,e===null&&(e=tw(),ye.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function TU(){return Zt().memoizedState}function t0(t,e,n,r){var i=br();ye.flags|=t,i.memoizedState=Wd(1|e,{destroy:void 0},n,r===void 0?null:r)}function rw(t,e,n,r){var i=Zt();r=r===void 0?null:r;var a=i.memoizedState.inst;Qe!==null&&r!==null&&nI(r,Qe.memoizedState.deps)?i.memoizedState=Wd(e,a,n,r):(ye.flags|=t,i.memoizedState=Wd(1|e,a,n,r))}function oR(t,e){t0(8390656,8,t,e)}function cI(t,e){rw(2048,8,t,e)}function qZ(t){ye.flags|=4;var e=ye.updateQueue;if(e===null)e=tw(),ye.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function AU(t){var e=Zt().memoizedState;return qZ({ref:e,nextImpl:t}),function(){if(Me&2)throw Error(q(440));return e.impl.apply(void 0,arguments)}}function NU(t,e){return rw(4,2,t,e)}function IU(t,e){return rw(4,4,t,e)}function PU(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function CU(t,e,n){n=n!=null?n.concat([t]):null,rw(4,4,PU.bind(null,e,t),n)}function uI(){}function jU(t,e){var n=Zt();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&nI(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function kU(t,e){var n=Zt();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&nI(e,r[1]))return r[0];if(r=t(),qc){Do(!0);try{t()}finally{Do(!1)}}return n.memoizedState=[r,e],r}function dI(t,e,n){return n===void 0||As&1073741824&&!(Ne&261930)?t.memoizedState=e:(t.memoizedState=n,t=bz(),ye.lanes|=t,ll|=t,n)}function OU(t,e,n,r){return mi(n,e)?n:Kd.current!==null?(t=dI(t,n,r),mi(t,e)||(ln=!0),t):!(As&42)||As&1073741824&&!(Ne&261930)?(ln=!0,t.memoizedState=n):(t=bz(),ye.lanes|=t,ll|=t,e)}function RU(t,e,n,r,i){var a=Ue.p;Ue.p=a!==0&&8>a?a:8;var s=he.T,o={};he.T=o,fI(t,!1,e,n);try{var l=i(),c=he.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=UZ(l,r);Bm(t,e,d,li(t))}else Bm(t,e,r,li(t))}catch(h){Bm(t,e,{then:function(){},status:"rejected",reason:h},li())}finally{Ue.p=a,s!==null&&o.types!==null&&(s.types=o.types),he.T=s}}function HZ(){}function tT(t,e,n,r){if(t.tag!==5)throw Error(q(476));var i=DU(t).queue;RU(t,i,e,Tc,n===null?HZ:function(){return MU(t),n(r)})}function DU(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Tc,baseState:Tc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:Tc},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function MU(t){var e=DU(t);e.next===null&&(e=t.alternate.memoizedState),Bm(t,e.next.queue,{},li())}function hI(){return Yn(Ap)}function LU(){return Zt().memoizedState}function VU(){return Zt().memoizedState}function GZ(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=li();t=Go(n);var r=Ko(e,t,n);r!==null&&(Fr(r,e,n),Vm(r,e,n)),e={cache:XN()},t.payload=e;return}e=e.return}}function KZ(t,e,n){var r=li();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},iw(t)?zU(e,n):(n=KN(t,e,n,r),n!==null&&(Fr(n,t,r),BU(n,e,r)))}function UU(t,e,n){var r=li();Bm(t,e,n,r)}function Bm(t,e,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(iw(t))zU(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,mi(o,s))return Jb(t,e,i,0),nt===null&&Zb(),!1}catch{}finally{}if(n=KN(t,e,i,r),n!==null)return Fr(n,t,r),BU(n,e,r),!0}return!1}function fI(t,e,n,r){if(r={lane:2,revertLane:_I(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},iw(t)){if(e)throw Error(q(479))}else e=KN(t,n,r,2),e!==null&&Fr(e,t,2)}function iw(t){var e=t.alternate;return t===ye||e!==null&&e===ye}function zU(t,e){jd=K0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function BU(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,AV(t,n)}}var Ep={readContext:Yn,use:nw,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut};Ep.useEffectEvent=Ut;var FU={readContext:Yn,use:nw,useCallback:function(t,e){return br().memoizedState=[t,e===void 0?null:e],t},useContext:Yn,useEffect:oR,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,t0(4194308,4,PU.bind(null,e,t),n)},useLayoutEffect:function(t,e){return t0(4194308,4,t,e)},useInsertionEffect:function(t,e){t0(4,2,t,e)},useMemo:function(t,e){var n=br();e=e===void 0?null:e;var r=t();if(qc){Do(!0);try{t()}finally{Do(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=br();if(n!==void 0){var i=n(e);if(qc){Do(!0);try{n(e)}finally{Do(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=KZ.bind(null,ye,t),[r.memoizedState,t]},useRef:function(t){var e=br();return t={current:t},e.memoizedState=t},useState:function(t){t=JS(t);var e=t.queue,n=UU.bind(null,ye,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:uI,useDeferredValue:function(t,e){var n=br();return dI(n,t,e)},useTransition:function(){var t=JS(!1);return t=RU.bind(null,ye,t.queue,!0,!1),br().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=ye,i=br();if(Pe){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),nt===null)throw Error(q(349));Ne&127||pU(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,oR(yU.bind(null,r,a,t),[t]),r.flags|=2048,Wd(9,{destroy:void 0},gU.bind(null,r,a,n,e),null),n},useId:function(){var t=br(),e=nt.identifierPrefix;if(Pe){var n=_a,r=wa;n=(r&~(1<<32-oi(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=W0++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=zZ++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:hI,useFormState:iR,useActionState:iR,useOptimistic:function(t){var e=br();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=fI.bind(null,ye,!0,n),n.dispatch=e,[t,e]},useMemoCache:oI,useCacheRefresh:function(){return br().memoizedState=GZ.bind(null,ye)},useEffectEvent:function(t){var e=br(),n={impl:t};return e.memoizedState=n,function(){if(Me&2)throw Error(q(440));return n.impl.apply(void 0,arguments)}}},mI={readContext:Yn,use:nw,useCallback:jU,useContext:Yn,useEffect:cI,useImperativeHandle:CU,useInsertionEffect:NU,useLayoutEffect:IU,useMemo:kU,useReducer:e0,useRef:TU,useState:function(){return e0(Ns)},useDebugValue:uI,useDeferredValue:function(t,e){var n=Zt();return OU(n,Qe.memoizedState,t,e)},useTransition:function(){var t=e0(Ns)[0],e=Zt().memoizedState;return[typeof t=="boolean"?t:Mg(t),e]},useSyncExternalStore:mU,useId:LU,useHostTransitionStatus:hI,useFormState:aR,useActionState:aR,useOptimistic:function(t,e){var n=Zt();return bU(n,Qe,t,e)},useMemoCache:oI,useCacheRefresh:VU};mI.useEffectEvent=AU;var $U={readContext:Yn,use:nw,useCallback:jU,useContext:Yn,useEffect:cI,useImperativeHandle:CU,useInsertionEffect:NU,useLayoutEffect:IU,useMemo:kU,useReducer:Y1,useRef:TU,useState:function(){return Y1(Ns)},useDebugValue:uI,useDeferredValue:function(t,e){var n=Zt();return Qe===null?dI(n,t,e):OU(n,Qe.memoizedState,t,e)},useTransition:function(){var t=Y1(Ns)[0],e=Zt().memoizedState;return[typeof t=="boolean"?t:Mg(t),e]},useSyncExternalStore:mU,useId:LU,useHostTransitionStatus:hI,useFormState:sR,useActionState:sR,useOptimistic:function(t,e){var n=Zt();return Qe!==null?bU(n,Qe,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:oI,useCacheRefresh:VU};$U.useEffectEvent=AU;function Q1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:bt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nT={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=li(),i=Go(r);i.payload=e,n!=null&&(i.callback=n),e=Ko(t,i,r),e!==null&&(Fr(e,t,r),Vm(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=li(),i=Go(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ko(t,i,r),e!==null&&(Fr(e,t,r),Vm(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=li(),r=Go(n);r.tag=2,e!=null&&(r.callback=e),e=Ko(t,r,n),e!==null&&(Fr(e,t,n),Vm(e,t,n))}};function lR(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!vp(n,r)||!vp(i,a):!0}function cR(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nT.enqueueReplaceState(e,e.state,null)}function Hc(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=bt({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function qU(t){z0(t)}function HU(t){console.error(t)}function GU(t){z0(t)}function Y0(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function uR(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function rT(t,e,n){return n=Go(n),n.tag=3,n.payload={element:null},n.callback=function(){Y0(t,e)},n}function KU(t){return t=Go(t),t.tag=3,t}function WU(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){uR(e,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){uR(e,n,r),typeof i!="function"&&(Wo===null?Wo=new Set([this]):Wo.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function WZ(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&Vh(e,n,i,!0),n=pi.current,n!==null){switch(n.tag){case 31:case 13:return Li===null?ex():n.alternate===null&&Bt===0&&(Bt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===q0?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),oE(t,r,i)),!1;case 22:return n.flags|=65536,r===q0?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),oE(t,r,i)),!1}throw Error(q(435,n.tag))}return oE(t,r,i),ex(),!1}if(Pe)return e=pi.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==qS&&(t=Error(q(422),{cause:r}),bp(ki(t,n)))):(r!==qS&&(e=Error(q(423),{cause:r}),bp(ki(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=ki(r,n),i=rT(t.stateNode,r,i),W1(t,i),Bt!==4&&(Bt=2)),!1;var a=Error(q(520),{cause:r});if(a=ki(a,n),qm===null?qm=[a]:qm.push(a),Bt!==4&&(Bt=2),e===null)return!0;r=ki(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=rT(n.stateNode,r,t),W1(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Wo===null||!Wo.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=KU(i),WU(i,t,n,r),W1(n,i),!1}n=n.return}while(n!==null);return!1}var pI=Error(q(461)),ln=!1;function qn(t,e,n,r){e.child=t===null?lU(e,null,n,r):$c(e,t.child,n,r)}function dR(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}else s=r;return Fc(e),r=rI(t,e,n,s,a,i),o=iI(),t!==null&&!ln?(aI(t,e,i),Is(t,e,i)):(Pe&&o&&YN(e),e.flags|=1,qn(t,e,r,i),e.child)}function hR(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!WN(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,YU(t,e,a,r,i)):(t=Zv(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!gI(t,i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:vp,n(s,r)&&t.ref===e.ref)return Is(t,e,i)}return e.flags|=1,t=ps(a,r),t.ref=e.ref,t.return=e,e.child=t}function YU(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(vp(a,r)&&t.ref===e.ref)if(ln=!1,e.pendingProps=r=a,gI(t,i))t.flags&131072&&(ln=!0);else return e.lanes=t.lanes,Is(t,e,i)}return iT(t,e,n,r,i)}function QU(t,e,n,r){var i=r.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,e.child=null;return fR(t,e,a,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Jv(e,a!==null?a.cachePool:null),a!==null?tR(e,a):XS(),dU(e);else return r=e.lanes=536870912,fR(t,e,a!==null?a.baseLanes|n:n,n,r)}else a!==null?(Jv(e,a.cachePool),tR(e,a),jo(),e.memoizedState=null):(t!==null&&Jv(e,null),XS(),jo());return qn(t,e,i,n),e.child}function vm(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function fR(t,e,n,r,i){var a=ZN();return a=a===null?null:{parent:on._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&Jv(e,null),XS(),dU(e),t!==null&&Vh(t,e,r,!0),e.childLanes=i,null}function n0(t,e){return e=Q0({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function mR(t,e,n){return $c(e,t.child,null,n),t=n0(e,e.pendingProps),t.flags|=2,Jr(e),e.memoizedState=null,t}function YZ(t,e,n){var r=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Pe){if(r.mode==="hidden")return t=n0(e,r),e.lanes=536870912,vm(null,t);if(ZS(e),(t=mt)?(t=Fz(t,Oi),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:al!==null?{id:wa,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},n=tU(t),n.return=e,e.child=n,Kn=e,mt=null)):t=null,t===null)throw sl(e);return e.lanes=536870912,null}return n0(e,r)}var a=t.memoizedState;if(a!==null){var s=a.dehydrated;if(ZS(e),i)if(e.flags&256)e.flags&=-257,e=mR(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(q(558));else if(ln||Vh(t,e,n,!1),i=(n&t.childLanes)!==0,ln||i){if(r=nt,r!==null&&(s=NV(r,n),s!==0&&s!==a.retryLane))throw a.retryLane=s,vu(t,s),Fr(r,t,s),pI;ex(),e=mR(t,e,n)}else t=a.treeContext,mt=Vi(s.nextSibling),Kn=e,Pe=!0,Ho=null,Oi=!1,t!==null&&rU(e,t),e=n0(e,r),e.flags|=4096;return e}return t=ps(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function r0(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(q(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function iT(t,e,n,r,i){return Fc(e),n=rI(t,e,n,r,void 0,i),r=iI(),t!==null&&!ln?(aI(t,e,i),Is(t,e,i)):(Pe&&r&&YN(e),e.flags|=1,qn(t,e,n,i),e.child)}function pR(t,e,n,r,i,a){return Fc(e),e.updateQueue=null,n=fU(e,r,n,i),hU(t),r=iI(),t!==null&&!ln?(aI(t,e,a),Is(t,e,a)):(Pe&&r&&YN(e),e.flags|=1,qn(t,e,n,a),e.child)}function gR(t,e,n,r,i){if(Fc(e),e.stateNode===null){var a=hd,s=n.contextType;typeof s=="object"&&s!==null&&(a=Yn(s)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=nT,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},eI(e),s=n.contextType,a.context=typeof s=="object"&&s!==null?Yn(s):hd,a.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Q1(e,n,s,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&nT.enqueueReplaceState(a,a.state,null),zm(e,r,a,i),Um(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var o=e.memoizedProps,l=Hc(n,o);a.props=l;var c=a.context,d=n.contextType;s=hd,typeof d=="object"&&d!==null&&(s=Yn(d));var h=n.getDerivedStateFromProps;d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||c!==s)&&cR(e,a,r,s),Ao=!1;var f=e.memoizedState;a.state=f,zm(e,r,a,i),Um(),c=e.memoizedState,o||f!==c||Ao?(typeof h=="function"&&(Q1(e,n,h,r),c=e.memoizedState),(l=Ao||lR(e,n,l,r,f,c,s))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=s,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,YS(t,e),s=e.memoizedProps,d=Hc(n,s),a.props=d,h=e.pendingProps,f=a.context,c=n.contextType,l=hd,typeof c=="object"&&c!==null&&(l=Yn(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==h||f!==l)&&cR(e,a,r,l),Ao=!1,f=e.memoizedState,a.state=f,zm(e,r,a,i),Um();var m=e.memoizedState;s!==h||f!==m||Ao||t!==null&&t.dependencies!==null&&$0(t.dependencies)?(typeof o=="function"&&(Q1(e,n,o,r),m=e.memoizedState),(d=Ao||lR(e,n,d,r,f,m,l)||t!==null&&t.dependencies!==null&&$0(t.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=l,r=d):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,r0(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=$c(e,t.child,null,i),e.child=$c(e,null,n,i)):qn(t,e,n,i),e.memoizedState=a.state,t=e.child):t=Is(t,e,i),t}function yR(t,e,n,r){return Bc(),e.flags|=256,qn(t,e,n,r),e.child}var X1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Z1(t){return{baseLanes:t,cachePool:aU()}}function J1(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=ri),t}function XU(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(Yt.current&2)!==0),s&&(i=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(Pe){if(i?Co(e):jo(),(t=mt)?(t=Fz(t,Oi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:al!==null?{id:wa,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},n=tU(t),n.return=e,e.child=n,Kn=e,mt=null)):t=null,t===null)throw sl(e);return vT(t)?e.lanes=32:e.lanes=536870912,null}var o=r.children;return r=r.fallback,i?(jo(),i=e.mode,o=Q0({mode:"hidden",children:o},i),r=Ac(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r=e.child,r.memoizedState=Z1(n),r.childLanes=J1(t,s,n),e.memoizedState=X1,vm(null,r)):(Co(e),aT(e,o))}var l=t.memoizedState;if(l!==null&&(o=l.dehydrated,o!==null)){if(a)e.flags&256?(Co(e),e.flags&=-257,e=eE(t,e,n)):e.memoizedState!==null?(jo(),e.child=t.child,e.flags|=128,e=null):(jo(),o=r.fallback,i=e.mode,r=Q0({mode:"visible",children:r.children},i),o=Ac(o,i,n,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,$c(e,t.child,null,n),r=e.child,r.memoizedState=Z1(n),r.childLanes=J1(t,s,n),e.memoizedState=X1,e=vm(null,r));else if(Co(e),vT(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var c=s.dgst;s=c,r=Error(q(419)),r.stack="",r.digest=s,bp({value:r,source:null,stack:null}),e=eE(t,e,n)}else if(ln||Vh(t,e,n,!1),s=(n&t.childLanes)!==0,ln||s){if(s=nt,s!==null&&(r=NV(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,vu(t,r),Fr(s,t,r),pI;yT(o)||ex(),e=eE(t,e,n)}else yT(o)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,mt=Vi(o.nextSibling),Kn=e,Pe=!0,Ho=null,Oi=!1,t!==null&&rU(e,t),e=aT(e,r.children),e.flags|=4096);return e}return i?(jo(),o=r.fallback,i=e.mode,l=t.child,c=l.sibling,r=ps(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,c!==null?o=ps(c,o):(o=Ac(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,vm(null,r),r=e.child,o=t.child.memoizedState,o===null?o=Z1(n):(i=o.cachePool,i!==null?(l=on._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=aU(),o={baseLanes:o.baseLanes|n,cachePool:i}),r.memoizedState=o,r.childLanes=J1(t,s,n),e.memoizedState=X1,vm(t.child,r)):(Co(e),n=t.child,t=n.sibling,n=ps(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function aT(t,e){return e=Q0({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Q0(t,e){return t=ti(22,t,null,e),t.lanes=0,t}function eE(t,e,n){return $c(e,t.child,null,n),t=aT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vR(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),GS(t.return,e,n)}function tE(t,e,n,r,i,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=a)}function ZU(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var s=Yt.current,o=(s&2)!==0;if(o?(s=s&1|2,e.flags|=128):s&=1,st(Yt,s),qn(t,e,r,n),r=Pe?xp:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vR(t,n,e);else if(t.tag===19)vR(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&G0(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),tE(e,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&G0(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}tE(e,!0,n,null,a,r);break;case"together":tE(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Is(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ll|=e.lanes,!(n&e.childLanes))if(t!==null){if(Vh(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=ps(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ps(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function gI(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&$0(t)))}function QZ(t,e,n){switch(e.tag){case 3:M0(e,e.stateNode.containerInfo),Po(e,on,t.memoizedState.cache),Bc();break;case 27:case 5:OS(e);break;case 4:M0(e,e.stateNode.containerInfo);break;case 10:Po(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,ZS(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Co(e),e.flags|=128,null):n&e.child.childLanes?XU(t,e,n):(Co(e),t=Is(t,e,n),t!==null?t.sibling:null);Co(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(Vh(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return ZU(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),st(Yt,Yt.current),r)break;return null;case 22:return e.lanes=0,QU(t,e,n,e.pendingProps);case 24:Po(e,on,t.memoizedState.cache)}return Is(t,e,n)}function JU(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)ln=!0;else{if(!gI(t,n)&&!(e.flags&128))return ln=!1,QZ(t,e,n);ln=!!(t.flags&131072)}else ln=!1,Pe&&e.flags&1048576&&nU(e,xp,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=ec(e.elementType),e.type=t,typeof t=="function")WN(t)?(r=Hc(t,r),e.tag=1,e=gR(null,e,t,r,n)):(e.tag=0,e=iT(null,e,t,r,n));else{if(t!=null){var i=t.$$typeof;if(i===RN){e.tag=11,e=dR(null,e,t,r,n);break e}else if(i===DN){e.tag=14,e=hR(null,e,t,r,n);break e}}throw e=jS(t)||t,Error(q(306,e,""))}}return e;case 0:return iT(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=Hc(r,e.pendingProps),gR(t,e,r,i,n);case 3:e:{if(M0(e,e.stateNode.containerInfo),t===null)throw Error(q(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,YS(t,e),zm(e,r,null,n);var s=e.memoizedState;if(r=s.cache,Po(e,on,r),r!==a.cache&&KS(e,[on],n,!0),Um(),r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=yR(t,e,r,n);break e}else if(r!==i){i=ki(Error(q(424)),e),bp(i),e=yR(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(mt=Vi(t.firstChild),Kn=e,Pe=!0,Ho=null,Oi=!0,n=lU(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Bc(),r===i){e=Is(t,e,n);break e}qn(t,e,r,n)}e=e.child}return e;case 26:return r0(t,e),t===null?(n=VR(e.type,null,e.pendingProps,null))?e.memoizedState=n:Pe||(n=e.type,t=e.pendingProps,r=ix(qo.current).createElement(n),r[Gn]=e,r[$r]=t,Qn(r,n,t),Rn(r),e.stateNode=r):e.memoizedState=VR(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return OS(e),t===null&&Pe&&(r=e.stateNode=$z(e.type,e.pendingProps,qo.current),Kn=e,Oi=!0,i=mt,Il(e.type)?(xT=i,mt=Vi(r.firstChild)):mt=i),qn(t,e,e.pendingProps.children,n),r0(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Pe&&((i=r=mt)&&(r=AJ(r,e.type,e.pendingProps,Oi),r!==null?(e.stateNode=r,Kn=e,mt=Vi(r.firstChild),Oi=!1,i=!0):i=!1),i||sl(e)),OS(e),i=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,r=a.children,pT(i,a)?r=null:s!==null&&pT(i,s)&&(e.flags|=32),e.memoizedState!==null&&(i=rI(t,e,BZ,null,null,n),Ap._currentValue=i),r0(t,e),qn(t,e,r,n),e.child;case 6:return t===null&&Pe&&((t=n=mt)&&(n=NJ(n,e.pendingProps,Oi),n!==null?(e.stateNode=n,Kn=e,mt=null,t=!0):t=!1),t||sl(e)),null;case 13:return XU(t,e,n);case 4:return M0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$c(e,null,r,n):qn(t,e,r,n),e.child;case 11:return dR(t,e,e.type,e.pendingProps,n);case 7:return qn(t,e,e.pendingProps,n),e.child;case 8:return qn(t,e,e.pendingProps.children,n),e.child;case 12:return qn(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,Po(e,e.type,r.value),qn(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,Fc(e),i=Yn(i),r=r(i),e.flags|=1,qn(t,e,r,n),e.child;case 14:return hR(t,e,e.type,e.pendingProps,n);case 15:return YU(t,e,e.type,e.pendingProps,n);case 19:return ZU(t,e,n);case 31:return YZ(t,e,n);case 22:return QU(t,e,n,e.pendingProps);case 24:return Fc(e),r=Yn(on),t===null?(i=ZN(),i===null&&(i=nt,a=XN(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},eI(e),Po(e,on,i)):(t.lanes&n&&(YS(t,e),zm(e,null,null,n),Um()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Po(e,on,r)):(r=a.cache,Po(e,on,r),r!==i.cache&&KS(e,[on],n,!0))),qn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(q(156,e.tag))}function Za(t){t.flags|=4}function nE(t,e,n,r,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(Ez())t.flags|=8192;else throw Ic=q0,JN}else t.flags&=-16777217}function xR(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Gz(e))if(Ez())t.flags|=8192;else throw Ic=q0,JN}function ov(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?SV():536870912,t.lanes|=e,Yd|=e)}function $f(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ht(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function XZ(t,e,n){var r=e.pendingProps;switch(QN(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(e),null;case 1:return ht(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),gs(on),$d(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Mu(e)?Za(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,K1())),ht(e),null;case 26:var i=e.type,a=e.memoizedState;return t===null?(Za(e),a!==null?(ht(e),xR(e,a)):(ht(e),nE(e,i,null,r,n))):a?a!==t.memoizedState?(Za(e),ht(e),xR(e,a)):(ht(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&Za(e),ht(e),nE(e,i,t,r,n)),null;case 27:if(L0(e),n=qo.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Za(e);else{if(!r){if(e.stateNode===null)throw Error(q(166));return ht(e),null}t=Ia.current,Mu(e)?WO(e):(t=$z(i,r,n),e.stateNode=t,Za(e))}return ht(e),null;case 5:if(L0(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Za(e);else{if(!r){if(e.stateNode===null)throw Error(q(166));return ht(e),null}if(a=Ia.current,Mu(e))WO(e);else{var s=ix(qo.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=s.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a=typeof r.is=="string"?s.createElement(i,{is:r.is}):s.createElement(i)}}a[Gn]=e,a[$r]=r;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)a.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=a;e:switch(Qn(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Za(e)}}return ht(e),nE(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Za(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(t=qo.current,Mu(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=Kn,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[Gn]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||Uz(t.nodeValue,n)),t||sl(e,!0)}else t=ix(t).createTextNode(r),t[Gn]=e,e.stateNode=t}return ht(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=Mu(e),n!==null){if(t===null){if(!r)throw Error(q(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(557));t[Gn]=e}else Bc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ht(e),t=!1}else n=K1(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Jr(e),e):(Jr(e),null);if(e.flags&128)throw Error(q(558))}return ht(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Mu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[Gn]=e}else Bc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ht(e),i=!1}else i=K1(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Jr(e),e):(Jr(e),null)}return Jr(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),ov(e,e.updateQueue),ht(e),null);case 4:return $d(),t===null&&EI(e.stateNode.containerInfo),ht(e),null;case 10:return gs(e.type),ht(e),null;case 19:if(Ln(Yt),r=e.memoizedState,r===null)return ht(e),null;if(i=(e.flags&128)!==0,a=r.rendering,a===null)if(i)$f(r,!1);else{if(Bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=G0(t),a!==null){for(e.flags|=128,$f(r,!1),t=a.updateQueue,e.updateQueue=t,ov(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)eU(n,t),n=n.sibling;return st(Yt,Yt.current&1|2),Pe&&rs(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&ai()>Z0&&(e.flags|=128,i=!0,$f(r,!1),e.lanes=4194304)}else{if(!i)if(t=G0(a),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,ov(e,t),$f(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Pe)return ht(e),null}else 2*ai()-r.renderingStartTime>Z0&&n!==536870912&&(e.flags|=128,i=!0,$f(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(t=r.last,t!==null?t.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=ai(),t.sibling=null,n=Yt.current,st(Yt,i?n&1|2:n&1),Pe&&rs(e,r.treeForkCount),t):(ht(e),null);case 22:case 23:return Jr(e),tI(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(ht(e),e.subtreeFlags&6&&(e.flags|=8192)):ht(e),n=e.updateQueue,n!==null&&ov(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&Ln(Nc),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),gs(on),ht(e),null;case 25:return null;case 30:return null}throw Error(q(156,e.tag))}function ZZ(t,e){switch(QN(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gs(on),$d(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return L0(e),null;case 31:if(e.memoizedState!==null){if(Jr(e),e.alternate===null)throw Error(q(340));Bc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Jr(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Bc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ln(Yt),null;case 4:return $d(),null;case 10:return gs(e.type),null;case 22:case 23:return Jr(e),tI(),t!==null&&Ln(Nc),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return gs(on),null;case 25:return null;default:return null}}function ez(t,e){switch(QN(e),e.tag){case 3:gs(on),$d();break;case 26:case 27:case 5:L0(e);break;case 4:$d();break;case 31:e.memoizedState!==null&&Jr(e);break;case 13:Jr(e);break;case 19:Ln(Yt);break;case 10:gs(e.type);break;case 22:case 23:Jr(e),tI(),t!==null&&Ln(Nc);break;case 24:gs(on)}}function Lg(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){Ge(e,e.return,o)}}function ol(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var s=r.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,i=e;var l=n,c=o;try{c()}catch(d){Ge(i,l,d)}}}r=r.next}while(r!==a)}}catch(d){Ge(e,e.return,d)}}function tz(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{uU(e,n)}catch(r){Ge(t,t.return,r)}}}function nz(t,e,n){n.props=Hc(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){Ge(t,e,r)}}function Fm(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){Ge(t,e,i)}}function Ea(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Ge(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Ge(t,e,i)}else n.current=null}function rz(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Ge(t,t.return,i)}}function rE(t,e,n){try{var r=t.stateNode;bJ(r,t.type,n,e),r[$r]=e}catch(i){Ge(t,t.return,i)}}function iz(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Il(t.type)||t.tag===4}function iE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iz(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Il(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sT(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=cs));else if(r!==4&&(r===27&&Il(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(sT(t,e,n),t=t.sibling;t!==null;)sT(t,e,n),t=t.sibling}function X0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Il(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(X0(t,e,n),t=t.sibling;t!==null;)X0(t,e,n),t=t.sibling}function az(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Qn(e,r,n),e[Gn]=t,e[$r]=n}catch(a){Ge(t,t.return,a)}}var is=!1,sn=!1,aE=!1,bR=typeof WeakSet=="function"?WeakSet:Set,kn=null;function JZ(t,e){if(t=t.containerInfo,fT=lx,t=GV(t),HN(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(o=s+i),h!==a||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++c===i&&(o=s),f===a&&++d===r&&(l=s),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(mT={focusedElem:t,selectionRange:n},lx=!1,kn=e;kn!==null;)if(e=kn,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,kn=t;else for(;kn!==null;){switch(e=kn,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var y=Hc(n.type,i);t=r.getSnapshotBeforeUpdate(y,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(v){Ge(n,n.return,v)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)gT(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gT(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(q(163))}if(t=e.sibling,t!==null){t.return=e.return,kn=t;break}kn=e.return}}function sz(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:es(t,n),r&4&&Lg(5,n);break;case 1:if(es(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){Ge(n,n.return,s)}else{var i=Hc(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){Ge(n,n.return,s)}}r&64&&tz(n),r&512&&Fm(n,n.return);break;case 3:if(es(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{uU(t,e)}catch(s){Ge(n,n.return,s)}}break;case 27:e===null&&r&4&&az(n);case 26:case 5:es(t,n),e===null&&r&4&&rz(n),r&512&&Fm(n,n.return);break;case 12:es(t,n);break;case 31:es(t,n),r&4&&cz(t,n);break;case 13:es(t,n),r&4&&uz(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=lJ.bind(null,n),IJ(t,n))));break;case 22:if(r=n.memoizedState!==null||is,!r){e=e!==null&&e.memoizedState!==null||sn,i=is;var a=sn;is=r,(sn=e)&&!a?ts(t,n,(n.subtreeFlags&8772)!==0):es(t,n),is=i,sn=a}break;case 30:break;default:es(t,n)}}function oz(t){var e=t.alternate;e!==null&&(t.alternate=null,oz(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&UN(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var St=null,Rr=!1;function Ja(t,e,n){for(n=n.child;n!==null;)lz(t,e,n),n=n.sibling}function lz(t,e,n){if(si&&typeof si.onCommitFiberUnmount=="function")try{si.onCommitFiberUnmount(Cg,n)}catch{}switch(n.tag){case 26:sn||Ea(n,e),Ja(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:sn||Ea(n,e);var r=St,i=Rr;Il(n.type)&&(St=n.stateNode,Rr=!1),Ja(t,e,n),Gm(n.stateNode),St=r,Rr=i;break;case 5:sn||Ea(n,e);case 6:if(r=St,i=Rr,St=null,Ja(t,e,n),St=r,Rr=i,St!==null)if(Rr)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(n.stateNode)}catch(a){Ge(n,e,a)}else try{St.removeChild(n.stateNode)}catch(a){Ge(n,e,a)}break;case 18:St!==null&&(Rr?(t=St,OR(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Jd(t)):OR(St,n.stateNode));break;case 4:r=St,i=Rr,St=n.stateNode.containerInfo,Rr=!0,Ja(t,e,n),St=r,Rr=i;break;case 0:case 11:case 14:case 15:ol(2,n,e),sn||ol(4,n,e),Ja(t,e,n);break;case 1:sn||(Ea(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&nz(n,e,r)),Ja(t,e,n);break;case 21:Ja(t,e,n);break;case 22:sn=(r=sn)||n.memoizedState!==null,Ja(t,e,n),sn=r;break;default:Ja(t,e,n)}}function cz(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Jd(t)}catch(n){Ge(e,e.return,n)}}}function uz(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Jd(t)}catch(n){Ge(e,e.return,n)}}function eJ(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new bR),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new bR),e;default:throw Error(q(435,t.tag))}}function lv(t,e){var n=eJ(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var i=cJ.bind(null,t,r);r.then(i,i)}})}function kr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 27:if(Il(o.type)){St=o.stateNode,Rr=!1;break e}break;case 5:St=o.stateNode,Rr=!1;break e;case 3:case 4:St=o.stateNode.containerInfo,Rr=!0;break e}o=o.return}if(St===null)throw Error(q(160));lz(a,s,i),St=null,Rr=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)dz(e,t),e=e.sibling}var Ji=null;function dz(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:kr(e,t),Or(t),r&4&&(ol(3,t,t.return),Lg(3,t),ol(5,t,t.return));break;case 1:kr(e,t),Or(t),r&512&&(sn||n===null||Ea(n,n.return)),r&64&&is&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Ji;if(kr(e,t),Or(t),r&512&&(sn||n===null||Ea(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[Og]||a[Gn]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),Qn(a,r,n),a[Gn]=t,Rn(a),r=a;break e;case"link":var s=zR("link","href",i).get(r+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break t}}a=i.createElement(r),Qn(a,r,n),i.head.appendChild(a);break;case"meta":if(s=zR("meta","content",i).get(r+(n.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break t}}a=i.createElement(r),Qn(a,r,n),i.head.appendChild(a);break;default:throw Error(q(468,r))}a[Gn]=t,Rn(a),r=a}t.stateNode=r}else BR(i,t.type,t.stateNode);else t.stateNode=UR(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?BR(i,t.type,t.stateNode):UR(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&rE(t,t.memoizedProps,n.memoizedProps)}break;case 27:kr(e,t),Or(t),r&512&&(sn||n===null||Ea(n,n.return)),n!==null&&r&4&&rE(t,t.memoizedProps,n.memoizedProps);break;case 5:if(kr(e,t),Or(t),r&512&&(sn||n===null||Ea(n,n.return)),t.flags&32){i=t.stateNode;try{Hd(i,"")}catch(y){Ge(t,t.return,y)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,rE(t,i,n!==null?n.memoizedProps:i)),r&1024&&(aE=!0);break;case 6:if(kr(e,t),Or(t),r&4){if(t.stateNode===null)throw Error(q(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(y){Ge(t,t.return,y)}}break;case 3:if(s0=null,i=Ji,Ji=ax(e.containerInfo),kr(e,t),Ji=i,Or(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jd(e.containerInfo)}catch(y){Ge(t,t.return,y)}aE&&(aE=!1,hz(t));break;case 4:r=Ji,Ji=ax(t.stateNode.containerInfo),kr(e,t),Or(t),Ji=r;break;case 12:kr(e,t),Or(t);break;case 31:kr(e,t),Or(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,lv(t,r)));break;case 13:kr(e,t),Or(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(aw=ai()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,lv(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=is,d=sn;if(is=c||i,sn=d||l,kr(e,t),sn=d,is=c,Or(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||is||sn||tc(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(a=l.stateNode,i)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=l.stateNode;var h=l.memoizedProps.style,f=h!=null&&h.hasOwnProperty("display")?h.display:null;o.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(y){Ge(l,l.return,y)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(y){Ge(l,l.return,y)}}}else if(e.tag===18){if(n===null){l=e;try{var m=l.stateNode;i?RR(m,!0):RR(l.stateNode,!1)}catch(y){Ge(l,l.return,y)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,lv(t,n))));break;case 19:kr(e,t),Or(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,lv(t,r)));break;case 30:break;case 21:break;default:kr(e,t),Or(t)}}function Or(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(iz(r)){n=r;break}r=r.return}if(n==null)throw Error(q(160));switch(n.tag){case 27:var i=n.stateNode,a=iE(t);X0(t,a,i);break;case 5:var s=n.stateNode;n.flags&32&&(Hd(s,""),n.flags&=-33);var o=iE(t);X0(t,o,s);break;case 3:case 4:var l=n.stateNode.containerInfo,c=iE(t);sT(t,c,l);break;default:throw Error(q(161))}}catch(d){Ge(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hz(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;hz(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function es(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)sz(t,e.alternate,e),e=e.sibling}function tc(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ol(4,e,e.return),tc(e);break;case 1:Ea(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&nz(e,e.return,n),tc(e);break;case 27:Gm(e.stateNode);case 26:case 5:Ea(e,e.return),tc(e);break;case 22:e.memoizedState===null&&tc(e);break;case 30:tc(e);break;default:tc(e)}t=t.sibling}}function ts(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:ts(i,a,n),Lg(4,a);break;case 1:if(ts(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){Ge(r,r.return,c)}if(r=a,i=r.updateQueue,i!==null){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)cU(l[i],o)}catch(c){Ge(r,r.return,c)}}n&&s&64&&tz(a),Fm(a,a.return);break;case 27:az(a);case 26:case 5:ts(i,a,n),n&&r===null&&s&4&&rz(a),Fm(a,a.return);break;case 12:ts(i,a,n);break;case 31:ts(i,a,n),n&&s&4&&cz(i,a);break;case 13:ts(i,a,n),n&&s&4&&uz(i,a);break;case 22:a.memoizedState===null&&ts(i,a,n),Fm(a,a.return);break;case 30:break;default:ts(i,a,n)}e=e.sibling}}function yI(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Dg(n))}function vI(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Dg(t))}function Xi(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)fz(t,e,n,r),e=e.sibling}function fz(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Xi(t,e,n,r),i&2048&&Lg(9,e);break;case 1:Xi(t,e,n,r);break;case 3:Xi(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Dg(t)));break;case 12:if(i&2048){Xi(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){Ge(e,e.return,l)}}else Xi(t,e,n,r);break;case 31:Xi(t,e,n,r);break;case 13:Xi(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,s=e.alternate,e.memoizedState!==null?a._visibility&2?Xi(t,e,n,r):$m(t,e):a._visibility&2?Xi(t,e,n,r):(a._visibility|=2,Xu(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),i&2048&&yI(s,e);break;case 24:Xi(t,e,n,r),i&2048&&vI(e.alternate,e);break;default:Xi(t,e,n,r)}}function Xu(t,e,n,r,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,s=e,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Xu(a,s,o,l,i),Lg(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?Xu(a,s,o,l,i):$m(a,s):(d._visibility|=2,Xu(a,s,o,l,i)),i&&c&2048&&yI(s.alternate,s);break;case 24:Xu(a,s,o,l,i),i&&c&2048&&vI(s.alternate,s);break;default:Xu(a,s,o,l,i)}e=e.sibling}}function $m(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:$m(n,r),i&2048&&yI(r.alternate,r);break;case 24:$m(n,r),i&2048&&vI(r.alternate,r);break;default:$m(n,r)}e=e.sibling}}var xm=8192;function Lu(t,e,n){if(t.subtreeFlags&xm)for(t=t.child;t!==null;)mz(t,e,n),t=t.sibling}function mz(t,e,n){switch(t.tag){case 26:Lu(t,e,n),t.flags&xm&&t.memoizedState!==null&&zJ(n,Ji,t.memoizedState,t.memoizedProps);break;case 5:Lu(t,e,n);break;case 3:case 4:var r=Ji;Ji=ax(t.stateNode.containerInfo),Lu(t,e,n),Ji=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=xm,xm=16777216,Lu(t,e,n),xm=r):Lu(t,e,n));break;default:Lu(t,e,n)}}function pz(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function qf(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];kn=r,yz(r,t)}pz(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gz(t),t=t.sibling}function gz(t){switch(t.tag){case 0:case 11:case 15:qf(t),t.flags&2048&&ol(9,t,t.return);break;case 3:qf(t);break;case 12:qf(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,i0(t)):qf(t);break;default:qf(t)}}function i0(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];kn=r,yz(r,t)}pz(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ol(8,e,e.return),i0(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,i0(e));break;default:i0(e)}t=t.sibling}}function yz(t,e){for(;kn!==null;){var n=kn;switch(n.tag){case 0:case 11:case 15:ol(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Dg(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,kn=r;else e:for(n=t;kn!==null;){r=kn;var i=r.sibling,a=r.return;if(oz(r),r===n){kn=null;break e}if(i!==null){i.return=a,kn=i;break e}kn=a}}}var tJ={getCacheForType:function(t){var e=Yn(on),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Yn(on).controller.signal}},nJ=typeof WeakMap=="function"?WeakMap:Map,Me=0,nt=null,Se=null,Ne=0,qe=0,Qr=null,Lo=!1,zh=!1,xI=!1,Ps=0,Bt=0,ll=0,Pc=0,bI=0,ri=0,Yd=0,qm=null,Dr=null,oT=!1,aw=0,vz=0,Z0=1/0,J0=null,Wo=null,yn=0,Yo=null,Qd=null,ys=0,lT=0,cT=null,xz=null,Hm=0,uT=null;function li(){return Me&2&&Ne!==0?Ne&-Ne:he.T!==null?_I():IV()}function bz(){if(ri===0)if(!(Ne&536870912)||Pe){var t=ev;ev<<=1,!(ev&3932160)&&(ev=262144),ri=t}else ri=536870912;return t=pi.current,t!==null&&(t.flags|=32),ri}function Fr(t,e,n){(t===nt&&(qe===2||qe===9)||t.cancelPendingCommit!==null)&&(Xd(t,0),Vo(t,Ne,ri,!1)),kg(t,n),(!(Me&2)||t!==nt)&&(t===nt&&(!(Me&2)&&(Pc|=n),Bt===4&&Vo(t,Ne,ri,!1)),Wa(t))}function wz(t,e,n){if(Me&6)throw Error(q(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||jg(t,e),i=r?aJ(t,e):sE(t,e,!0),a=r;do{if(i===0){zh&&!r&&Vo(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!rJ(n)){i=sE(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var o=t;i=qm;var l=o.current.memoizedState.isDehydrated;if(l&&(Xd(o,s).flags|=256),s=sE(o,s,!1),s!==2){if(xI&&!l){o.errorRecoveryDisabledLanes|=a,Pc|=a,i=4;break e}a=Dr,Dr=i,a!==null&&(Dr===null?Dr=a:Dr.push.apply(Dr,a))}i=s}if(a=!1,i!==2)continue}}if(i===1){Xd(t,0),Vo(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error(q(345));case 4:if((e&4194048)!==e)break;case 6:Vo(r,e,ri,!Lo);break e;case 2:Dr=null;break;case 3:case 5:break;default:throw Error(q(329))}if((e&62914560)===e&&(i=aw+300-ai(),10<i)){if(Vo(r,e,ri,!Lo),Wb(r,0,!0)!==0)break e;ys=e,r.timeoutHandle=Bz(wR.bind(null,r,n,Dr,J0,oT,e,ri,Pc,Yd,Lo,a,"Throttled",-0,0),i);break e}wR(r,n,Dr,J0,oT,e,ri,Pc,Yd,Lo,a,null,-0,0)}}break}while(!0);Wa(t)}function wR(t,e,n,r,i,a,s,o,l,c,d,h,f,m){if(t.timeoutHandle=-1,h=e.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cs},mz(e,a,h);var y=(a&62914560)===a?aw-ai():(a&4194048)===a?vz-ai():0;if(y=BJ(h,y),y!==null){ys=a,t.cancelPendingCommit=y(ER.bind(null,t,e,a,n,r,i,s,o,l,d,h,null,f,m)),Vo(t,a,s,!c);return}}ER(t,e,a,n,r,i,s,o,l)}function rJ(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!mi(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vo(t,e,n,r){e&=~bI,e&=~Pc,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-oi(i),s=1<<a;r[a]=-1,i&=~s}n!==0&&TV(t,n,e)}function sw(){return Me&6?!0:(Vg(0),!1)}function wI(){if(Se!==null){if(qe===0)var t=Se.return;else t=Se,us=xu=null,sI(t),Cd=null,wp=0,t=Se;for(;t!==null;)ez(t.alternate,t),t=t.return;Se=null}}function Xd(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,EJ(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),ys=0,wI(),nt=t,Se=n=ps(t.current,null),Ne=e,qe=0,Qr=null,Lo=!1,zh=jg(t,e),xI=!1,Yd=ri=bI=Pc=ll=Bt=0,Dr=qm=null,oT=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-oi(r),a=1<<i;e|=t[i],r&=~a}return Ps=e,Zb(),n}function _z(t,e){ye=null,he.H=Ep,e===Uh||e===ew?(e=JO(),qe=3):e===JN?(e=JO(),qe=4):qe=e===pI?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Qr=e,Se===null&&(Bt=1,Y0(t,ki(e,t.current)))}function Ez(){var t=pi.current;return t===null?!0:(Ne&4194048)===Ne?Li===null:(Ne&62914560)===Ne||Ne&536870912?t===Li:!1}function Sz(){var t=he.H;return he.H=Ep,t===null?Ep:t}function Tz(){var t=he.A;return he.A=tJ,t}function ex(){Bt=4,Lo||(Ne&4194048)!==Ne&&pi.current!==null||(zh=!0),!(ll&134217727)&&!(Pc&134217727)||nt===null||Vo(nt,Ne,ri,!1)}function sE(t,e,n){var r=Me;Me|=2;var i=Sz(),a=Tz();(nt!==t||Ne!==e)&&(J0=null,Xd(t,e)),e=!1;var s=Bt;e:do try{if(qe!==0&&Se!==null){var o=Se,l=Qr;switch(qe){case 8:wI(),s=6;break e;case 3:case 2:case 9:case 6:pi.current===null&&(e=!0);var c=qe;if(qe=0,Qr=null,pd(t,o,l,c),n&&zh){s=0;break e}break;default:c=qe,qe=0,Qr=null,pd(t,o,l,c)}}iJ(),s=Bt;break}catch(d){_z(t,d)}while(!0);return e&&t.shellSuspendCounter++,us=xu=null,Me=r,he.H=i,he.A=a,Se===null&&(nt=null,Ne=0,Zb()),s}function iJ(){for(;Se!==null;)Az(Se)}function aJ(t,e){var n=Me;Me|=2;var r=Sz(),i=Tz();nt!==t||Ne!==e?(J0=null,Z0=ai()+500,Xd(t,e)):zh=jg(t,e);e:do try{if(qe!==0&&Se!==null){e=Se;var a=Qr;t:switch(qe){case 1:qe=0,Qr=null,pd(t,e,a,1);break;case 2:case 9:if(ZO(a)){qe=0,Qr=null,_R(e);break}e=function(){qe!==2&&qe!==9||nt!==t||(qe=7),Wa(t)},a.then(e,e);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:ZO(a)?(qe=0,Qr=null,_R(e)):(qe=0,Qr=null,pd(t,e,a,7));break;case 5:var s=null;switch(Se.tag){case 26:s=Se.memoizedState;case 5:case 27:var o=Se;if(s?Gz(s):o.stateNode.complete){qe=0,Qr=null;var l=o.sibling;if(l!==null)Se=l;else{var c=o.return;c!==null?(Se=c,ow(c)):Se=null}break t}}qe=0,Qr=null,pd(t,e,a,5);break;case 6:qe=0,Qr=null,pd(t,e,a,6);break;case 8:wI(),Bt=6;break e;default:throw Error(q(462))}}sJ();break}catch(d){_z(t,d)}while(!0);return us=xu=null,he.H=r,he.A=i,Me=n,Se!==null?0:(nt=null,Ne=0,Zb(),Bt)}function sJ(){for(;Se!==null&&!PX();)Az(Se)}function Az(t){var e=JU(t.alternate,t,Ps);t.memoizedProps=t.pendingProps,e===null?ow(t):Se=e}function _R(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=pR(n,e,e.pendingProps,e.type,void 0,Ne);break;case 11:e=pR(n,e,e.pendingProps,e.type.render,e.ref,Ne);break;case 5:sI(e);default:ez(n,e),e=Se=eU(e,Ps),e=JU(n,e,Ps)}t.memoizedProps=t.pendingProps,e===null?ow(t):Se=e}function pd(t,e,n,r){us=xu=null,sI(e),Cd=null,wp=0;var i=e.return;try{if(WZ(t,i,e,n,Ne)){Bt=1,Y0(t,ki(n,t.current)),Se=null;return}}catch(a){if(i!==null)throw Se=i,a;Bt=1,Y0(t,ki(n,t.current)),Se=null;return}e.flags&32768?(Pe||r===1?t=!0:zh||Ne&536870912?t=!1:(Lo=t=!0,(r===2||r===9||r===3||r===6)&&(r=pi.current,r!==null&&r.tag===13&&(r.flags|=16384))),Nz(e,t)):ow(e)}function ow(t){var e=t;do{if(e.flags&32768){Nz(e,Lo);return}t=e.return;var n=XZ(e.alternate,e,Ps);if(n!==null){Se=n;return}if(e=e.sibling,e!==null){Se=e;return}Se=e=t}while(e!==null);Bt===0&&(Bt=5)}function Nz(t,e){do{var n=ZZ(t.alternate,t);if(n!==null){n.flags&=32767,Se=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Se=t;return}Se=t=n}while(t!==null);Bt=6,Se=null}function ER(t,e,n,r,i,a,s,o,l){t.cancelPendingCommit=null;do lw();while(yn!==0);if(Me&6)throw Error(q(327));if(e!==null){if(e===t.current)throw Error(q(177));if(a=e.lanes|e.childLanes,a|=GN,UX(t,n,a,s,o,l),t===nt&&(Se=nt=null,Ne=0),Qd=e,Yo=t,ys=n,lT=a,cT=i,xz=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,uJ(V0,function(){return kz(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=he.T,he.T=null,i=Ue.p,Ue.p=2,s=Me,Me|=4;try{JZ(t,e,n)}finally{Me=s,Ue.p=i,he.T=r}}yn=1,Iz(),Pz(),Cz()}}function Iz(){if(yn===1){yn=0;var t=Yo,e=Qd,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=he.T,he.T=null;var r=Ue.p;Ue.p=2;var i=Me;Me|=4;try{dz(e,t);var a=mT,s=GV(t.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&HV(o.ownerDocument.documentElement,o)){if(l!==null&&HN(o)){var c=l.start,d=l.end;if(d===void 0&&(d=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(d,o.value.length);else{var h=o.ownerDocument||document,f=h&&h.defaultView||window;if(f.getSelection){var m=f.getSelection(),y=o.textContent.length,v=Math.min(l.start,y),x=l.end===void 0?v:Math.min(l.end,y);!m.extend&&v>x&&(s=x,x=v,v=s);var b=HO(o,v),w=HO(o,x);if(b&&w&&(m.rangeCount!==1||m.anchorNode!==b.node||m.anchorOffset!==b.offset||m.focusNode!==w.node||m.focusOffset!==w.offset)){var _=h.createRange();_.setStart(b.node,b.offset),m.removeAllRanges(),v>x?(m.addRange(_),m.extend(w.node,w.offset)):(_.setEnd(w.node,w.offset),m.addRange(_))}}}}for(h=[],m=o;m=m.parentNode;)m.nodeType===1&&h.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<h.length;o++){var T=h[o];T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}lx=!!fT,mT=fT=null}finally{Me=i,Ue.p=r,he.T=n}}t.current=e,yn=2}}function Pz(){if(yn===2){yn=0;var t=Yo,e=Qd,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=he.T,he.T=null;var r=Ue.p;Ue.p=2;var i=Me;Me|=4;try{sz(t,e.alternate,e)}finally{Me=i,Ue.p=r,he.T=n}}yn=3}}function Cz(){if(yn===4||yn===3){yn=0,CX();var t=Yo,e=Qd,n=ys,r=xz;e.subtreeFlags&10256||e.flags&10256?yn=5:(yn=0,Qd=Yo=null,jz(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Wo=null),VN(n),e=e.stateNode,si&&typeof si.onCommitFiberRoot=="function")try{si.onCommitFiberRoot(Cg,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=he.T,i=Ue.p,Ue.p=2,he.T=null;try{for(var a=t.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{he.T=e,Ue.p=i}}ys&3&&lw(),Wa(t),i=t.pendingLanes,n&261930&&i&42?t===uT?Hm++:(Hm=0,uT=t):Hm=0,Vg(0)}}function jz(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Dg(e)))}function lw(){return Iz(),Pz(),Cz(),kz()}function kz(){if(yn!==5)return!1;var t=Yo,e=lT;lT=0;var n=VN(ys),r=he.T,i=Ue.p;try{Ue.p=32>n?32:n,he.T=null,n=cT,cT=null;var a=Yo,s=ys;if(yn=0,Qd=Yo=null,ys=0,Me&6)throw Error(q(331));var o=Me;if(Me|=4,gz(a.current),fz(a,a.current,s,n),Me=o,Vg(0,!1),si&&typeof si.onPostCommitFiberRoot=="function")try{si.onPostCommitFiberRoot(Cg,a)}catch{}return!0}finally{Ue.p=i,he.T=r,jz(t,e)}}function SR(t,e,n){e=ki(n,e),e=rT(t.stateNode,e,2),t=Ko(t,e,2),t!==null&&(kg(t,2),Wa(t))}function Ge(t,e,n){if(t.tag===3)SR(t,t,n);else for(;e!==null;){if(e.tag===3){SR(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wo===null||!Wo.has(r))){t=ki(n,t),n=KU(2),r=Ko(e,n,2),r!==null&&(WU(n,r,e,t),kg(r,2),Wa(r));break}}e=e.return}}function oE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new nJ;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(xI=!0,i.add(n),t=oJ.bind(null,t,e,n),e.then(t,t))}function oJ(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,nt===t&&(Ne&n)===n&&(Bt===4||Bt===3&&(Ne&62914560)===Ne&&300>ai()-aw?!(Me&2)&&Xd(t,0):bI|=n,Yd===Ne&&(Yd=0)),Wa(t)}function Oz(t,e){e===0&&(e=SV()),t=vu(t,e),t!==null&&(kg(t,e),Wa(t))}function lJ(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Oz(t,n)}function cJ(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(q(314))}r!==null&&r.delete(e),Oz(t,n)}function uJ(t,e){return MN(t,e)}var tx=null,Zu=null,dT=!1,nx=!1,lE=!1,Uo=0;function Wa(t){t!==Zu&&t.next===null&&(Zu===null?tx=Zu=t:Zu=Zu.next=t),nx=!0,dT||(dT=!0,hJ())}function Vg(t,e){if(!lE&&nx){lE=!0;do for(var n=!1,r=tx;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-oi(42|t)+1)-1,a&=i&~(s&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,TR(r,a))}else a=Ne,a=Wb(r,r===nt?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||jg(r,a)||(n=!0,TR(r,a));r=r.next}while(n);lE=!1}}function dJ(){Rz()}function Rz(){nx=dT=!1;var t=0;Uo!==0&&_J()&&(t=Uo);for(var e=ai(),n=null,r=tx;r!==null;){var i=r.next,a=Dz(r,e);a===0?(r.next=null,n===null?tx=i:n.next=i,i===null&&(Zu=n)):(n=r,(t!==0||a&3)&&(nx=!0)),r=i}yn!==0&&yn!==5||Vg(t),Uo!==0&&(Uo=0)}function Dz(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var s=31-oi(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=VX(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}if(e=nt,n=Ne,n=Wb(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(qe===2||qe===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&M1(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||jg(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&M1(r),VN(n)){case 2:case 8:n=_V;break;case 32:n=V0;break;case 268435456:n=EV;break;default:n=V0}return r=Mz.bind(null,t),n=MN(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&M1(r),t.callbackPriority=2,t.callbackNode=null,2}function Mz(t,e){if(yn!==0&&yn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(lw()&&t.callbackNode!==n)return null;var r=Ne;return r=Wb(t,t===nt?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(wz(t,r,e),Dz(t,ai()),t.callbackNode!=null&&t.callbackNode===n?Mz.bind(null,t):null)}function TR(t,e){if(lw())return null;wz(t,e,!0)}function hJ(){SJ(function(){Me&6?MN(wV,dJ):Rz()})}function _I(){if(Uo===0){var t=Gd;t===0&&(t=Jy,Jy<<=1,!(Jy&261888)&&(Jy=256)),Uo=t}return Uo}function AR(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Yv(""+t)}function NR(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function fJ(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=AR((i[$r]||null).action),s=r.submitter;s&&(e=(e=s[$r]||null)?AR(e.formAction):s.getAttribute("formAction"),e!==null&&(a=e,s=null));var o=new Yb("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Uo!==0){var l=s?NR(i,s):new FormData(i);tT(n,{pending:!0,data:l,method:i.method,action:a},null,l)}}else typeof a=="function"&&(o.preventDefault(),l=s?NR(i,s):new FormData(i),tT(n,{pending:!0,data:l,method:i.method,action:a},a,l))},currentTarget:i}]})}}for(var cE=0;cE<$S.length;cE++){var uE=$S[cE],mJ=uE.toLowerCase(),pJ=uE[0].toUpperCase()+uE.slice(1);oa(mJ,"on"+pJ)}oa(WV,"onAnimationEnd");oa(YV,"onAnimationIteration");oa(QV,"onAnimationStart");oa("dblclick","onDoubleClick");oa("focusin","onFocus");oa("focusout","onBlur");oa(jZ,"onTransitionRun");oa(kZ,"onTransitionStart");oa(OZ,"onTransitionCancel");oa(XV,"onTransitionEnd");qd("onMouseEnter",["mouseout","mouseover"]);qd("onMouseLeave",["mouseout","mouseover"]);qd("onPointerEnter",["pointerout","pointerover"]);qd("onPointerLeave",["pointerout","pointerover"]);pu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pu("onBeforeInput",["compositionend","keypress","textInput","paste"]);pu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gJ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sp));function Lz(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(d){z0(d)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(d){z0(d)}i.currentTarget=null,a=l}}}}function _e(t,e){var n=e[DS];n===void 0&&(n=e[DS]=new Set);var r=t+"__bubble";n.has(r)||(Vz(e,t,2,!1),n.add(r))}function dE(t,e,n){var r=0;e&&(r|=4),Vz(n,t,r,e)}var cv="_reactListening"+Math.random().toString(36).slice(2);function EI(t){if(!t[cv]){t[cv]=!0,PV.forEach(function(n){n!=="selectionchange"&&(gJ.has(n)||dE(n,!1,t),dE(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cv]||(e[cv]=!0,dE("selectionchange",!1,e))}}function Vz(t,e,n,r){switch(Xz(e)){case 2:var i=qJ;break;case 8:i=HJ;break;default:i=NI}n=i.bind(null,e,n,t),i=void 0,!zS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function hE(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;o!==null;){if(s=sd(o),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue e}o=o.parentNode}}r=r.return}LV(function(){var c=a,d=BN(n),h=[];e:{var f=ZV.get(t);if(f!==void 0){var m=Yb,y=t;switch(t){case"keypress":if(Xv(n)===0)break e;case"keydown":case"keyup":m=cZ;break;case"focusin":y="focus",m=B1;break;case"focusout":y="blur",m=B1;break;case"beforeblur":case"afterblur":m=B1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=DO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=XX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=hZ;break;case WV:case YV:case QV:m=eZ;break;case XV:m=mZ;break;case"scroll":case"scrollend":m=YX;break;case"wheel":m=gZ;break;case"copy":case"cut":case"paste":m=nZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=LO;break;case"toggle":case"beforetoggle":m=vZ}var v=(e&4)!==0,x=!v&&(t==="scroll"||t==="scrollend"),b=v?f!==null?f+"Capture":null:f;v=[];for(var w=c,_;w!==null;){var T=w;if(_=T.stateNode,T=T.tag,T!==5&&T!==26&&T!==27||_===null||b===null||(T=gp(w,b),T!=null&&v.push(Tp(w,T,_))),x)break;w=w.return}0<v.length&&(f=new m(f,y,null,n,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==US&&(y=n.relatedTarget||n.fromElement)&&(sd(y)||y[Mh]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=c,y=y?sd(y):null,y!==null&&(x=Pg(y),v=y.tag,y!==x||v!==5&&v!==27&&v!==6)&&(y=null)):(m=null,y=c),m!==y)){if(v=DO,T="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=LO,T="onPointerLeave",b="onPointerEnter",w="pointer"),x=m==null?f:ym(m),_=y==null?f:ym(y),f=new v(T,w+"leave",m,n,d),f.target=x,f.relatedTarget=_,T=null,sd(d)===c&&(v=new v(b,w+"enter",y,n,d),v.target=_,v.relatedTarget=x,T=v),x=T,m&&y)t:{for(v=yJ,b=m,w=y,_=0,T=b;T;T=v(T))_++;T=0;for(var N=w;N;N=v(N))T++;for(;0<_-T;)b=v(b),_--;for(;0<T-_;)w=v(w),T--;for(;_--;){if(b===w||w!==null&&b===w.alternate){v=b;break t}b=v(b),w=v(w)}v=null}else v=null;m!==null&&IR(h,f,m,v,!1),y!==null&&x!==null&&IR(h,x,y,v,!0)}}e:{if(f=c?ym(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var j=BO;else if(zO(f))if($V)j=IZ;else{j=AZ;var A=TZ}else m=f.nodeName,!m||m.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?c&&zN(c.elementType)&&(j=BO):j=NZ;if(j&&(j=j(t,c))){FV(h,j,n,d);break e}A&&A(t,f,c),t==="focusout"&&c&&f.type==="number"&&c.memoizedProps.value!=null&&VS(f,"number",f.value)}switch(A=c?ym(c):window,t){case"focusin":(zO(A)||A.contentEditable==="true")&&(cd=A,BS=c,Mm=null);break;case"focusout":Mm=BS=cd=null;break;case"mousedown":FS=!0;break;case"contextmenu":case"mouseup":case"dragend":FS=!1,GO(h,n,d);break;case"selectionchange":if(CZ)break;case"keydown":case"keyup":GO(h,n,d)}var S;if(qN)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else ld?zV(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(UV&&n.locale!=="ko"&&(ld||I!=="onCompositionStart"?I==="onCompositionEnd"&&ld&&(S=VV()):(Mo=d,FN="value"in Mo?Mo.value:Mo.textContent,ld=!0)),A=rx(c,I),0<A.length&&(I=new MO(I,t,null,n,d),h.push({event:I,listeners:A}),S?I.data=S:(S=BV(n),S!==null&&(I.data=S)))),(S=bZ?wZ(t,n):_Z(t,n))&&(I=rx(c,"onBeforeInput"),0<I.length&&(A=new MO("onBeforeInput","beforeinput",null,n,d),h.push({event:A,listeners:I}),A.data=S)),fJ(h,t,c,n,d)}Lz(h,e)})}function Tp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function rx(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=gp(t,n),i!=null&&r.unshift(Tp(t,i,a)),i=gp(t,e),i!=null&&r.push(Tp(t,i,a))),t.tag===3)return r;t=t.return}return[]}function yJ(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function IR(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===r)break;o!==5&&o!==26&&o!==27||c===null||(l=c,i?(c=gp(n,a),c!=null&&s.unshift(Tp(n,c,l))):i||(c=gp(n,a),c!=null&&s.push(Tp(n,c,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var vJ=/\r\n?/g,xJ=/\u0000|\uFFFD/g;function PR(t){return(typeof t=="string"?t:""+t).replace(vJ,`
`).replace(xJ,"")}function Uz(t,e){return e=PR(e),PR(t)===e}function Ye(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Hd(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Hd(t,""+r);break;case"className":nv(t,"class",r);break;case"tabIndex":nv(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nv(t,n,r);break;case"style":MV(t,r,a);break;case"data":if(e!=="object"){nv(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Yv(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&Ye(t,e,"name",i.name,i,null),Ye(t,e,"formEncType",i.formEncType,i,null),Ye(t,e,"formMethod",i.formMethod,i,null),Ye(t,e,"formTarget",i.formTarget,i,null)):(Ye(t,e,"encType",i.encType,i,null),Ye(t,e,"method",i.method,i,null),Ye(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Yv(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=cs);break;case"onScroll":r!=null&&_e("scroll",t);break;case"onScrollEnd":r!=null&&_e("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(q(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(q(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=Yv(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":_e("beforetoggle",t),_e("toggle",t),Wv(t,"popover",r);break;case"xlinkActuate":Xa(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Xa(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Xa(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Xa(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Xa(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Xa(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Xa(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Xa(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Xa(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Wv(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=KX.get(n)||n,Wv(t,n,r))}}function hT(t,e,n,r,i,a){switch(n){case"style":MV(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(q(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(q(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Hd(t,r):(typeof r=="number"||typeof r=="bigint")&&Hd(t,""+r);break;case"onScroll":r!=null&&_e("scroll",t);break;case"onScrollEnd":r!=null&&_e("scrollend",t);break;case"onClick":r!=null&&(t.onclick=cs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!CV.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[$r]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Wv(t,n,r)}}}function Qn(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",t),_e("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(q(137,e));default:Ye(t,e,a,s,n,null)}}i&&Ye(t,e,"srcSet",n.srcSet,n,null),r&&Ye(t,e,"src",n.src,n,null);return;case"input":_e("invalid",t);var o=a=s=i=null,l=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case"name":i=d;break;case"type":s=d;break;case"checked":l=d;break;case"defaultChecked":c=d;break;case"value":a=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(q(137,e));break;default:Ye(t,e,r,d,n,null)}}OV(t,a,o,l,c,s,i,!1);return;case"select":_e("invalid",t),r=s=a=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":r=o;default:Ye(t,e,i,o,n,null)}e=a,n=s,t.multiple=!!r,e!=null?Nd(t,!!r,e,!1):n!=null&&Nd(t,!!r,n,!0);return;case"textarea":_e("invalid",t),a=i=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":i=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(q(91));break;default:Ye(t,e,s,o,n,null)}DV(t,r,i,a);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ye(t,e,l,r,n,null)}return;case"dialog":_e("beforetoggle",t),_e("toggle",t),_e("cancel",t),_e("close",t);break;case"iframe":case"object":_e("load",t);break;case"video":case"audio":for(r=0;r<Sp.length;r++)_e(Sp[r],t);break;case"image":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"embed":case"source":case"link":_e("error",t),_e("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(q(137,e));default:Ye(t,e,c,r,n,null)}return;default:if(zN(e)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&hT(t,e,d,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&Ye(t,e,o,r,n,null))}function bJ(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,o=null,l=null,c=null,d=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&h!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":l=h;default:r.hasOwnProperty(m)||Ye(t,e,m,null,r,h)}}for(var f in r){var m=r[f];if(h=n[f],r.hasOwnProperty(f)&&(m!=null||h!=null))switch(f){case"type":a=m;break;case"name":i=m;break;case"checked":c=m;break;case"defaultChecked":d=m;break;case"value":s=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(q(137,e));break;default:m!==h&&Ye(t,e,f,m,r,h)}}LS(t,s,o,l,c,d,a,i);return;case"select":m=s=o=f=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":m=l;default:r.hasOwnProperty(a)||Ye(t,e,a,null,r,l)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(a!=null||l!=null))switch(i){case"value":f=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==l&&Ye(t,e,i,a,r,l)}e=o,n=s,r=m,f!=null?Nd(t,!!n,f,!1):!!r!=!!n&&(e!=null?Nd(t,!!n,e,!0):Nd(t,!!n,n?[]:"",!1));return;case"textarea":m=f=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Ye(t,e,o,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":f=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(q(91));break;default:i!==a&&Ye(t,e,s,i,r,a)}RV(t,f,m);return;case"option":for(var y in n)if(f=n[y],n.hasOwnProperty(y)&&f!=null&&!r.hasOwnProperty(y))switch(y){case"selected":t.selected=!1;break;default:Ye(t,e,y,null,r,f)}for(l in r)if(f=r[l],m=n[l],r.hasOwnProperty(l)&&f!==m&&(f!=null||m!=null))switch(l){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Ye(t,e,l,f,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in n)f=n[v],n.hasOwnProperty(v)&&f!=null&&!r.hasOwnProperty(v)&&Ye(t,e,v,null,r,f);for(c in r)if(f=r[c],m=n[c],r.hasOwnProperty(c)&&f!==m&&(f!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(q(137,e));break;default:Ye(t,e,c,f,r,m)}return;default:if(zN(e)){for(var x in n)f=n[x],n.hasOwnProperty(x)&&f!==void 0&&!r.hasOwnProperty(x)&&hT(t,e,x,void 0,r,f);for(d in r)f=r[d],m=n[d],!r.hasOwnProperty(d)||f===m||f===void 0&&m===void 0||hT(t,e,d,f,r,m);return}}for(var b in n)f=n[b],n.hasOwnProperty(b)&&f!=null&&!r.hasOwnProperty(b)&&Ye(t,e,b,null,r,f);for(h in r)f=r[h],m=n[h],!r.hasOwnProperty(h)||f===m||f==null&&m==null||Ye(t,e,h,f,r,m)}function CR(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wJ(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,s=i.initiatorType,o=i.duration;if(a&&o&&CR(s)){for(s=0,o=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>o)break;var d=l.transferSize,h=l.initiatorType;d&&CR(h)&&(l=l.responseEnd,s+=d*(l<o?1:(o-c)/(l-c)))}if(--r,e+=8*(a+s)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var fT=null,mT=null;function ix(t){return t.nodeType===9?t:t.ownerDocument}function jR(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zz(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function pT(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fE=null;function _J(){var t=window.event;return t&&t.type==="popstate"?t===fE?!1:(fE=t,!0):(fE=null,!1)}var Bz=typeof setTimeout=="function"?setTimeout:void 0,EJ=typeof clearTimeout=="function"?clearTimeout:void 0,kR=typeof Promise=="function"?Promise:void 0,SJ=typeof queueMicrotask=="function"?queueMicrotask:typeof kR<"u"?function(t){return kR.resolve(null).then(t).catch(TJ)}:Bz;function TJ(t){setTimeout(function(){throw t})}function Il(t){return t==="head"}function OR(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(i),Jd(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Gm(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Gm(n);for(var a=n.firstChild;a;){var s=a.nextSibling,o=a.nodeName;a[Og]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=s}}else n==="body"&&Gm(t.ownerDocument.body);n=i}while(n);Jd(e)}function RR(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function gT(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gT(n),UN(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function AJ(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Og])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=Vi(t.nextSibling),t===null)break}return null}function NJ(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Vi(t.nextSibling),t===null))return null;return t}function Fz(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Vi(t.nextSibling),t===null))return null;return t}function yT(t){return t.data==="$?"||t.data==="$~"}function vT(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function IJ(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Vi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var xT=null;function DR(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Vi(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function MR(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function $z(t,e,n){switch(e=ix(n),t){case"html":if(t=e.documentElement,!t)throw Error(q(452));return t;case"head":if(t=e.head,!t)throw Error(q(453));return t;case"body":if(t=e.body,!t)throw Error(q(454));return t;default:throw Error(q(451))}}function Gm(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);UN(t)}var zi=new Map,LR=new Set;function ax(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ks=Ue.d;Ue.d={f:PJ,r:CJ,D:jJ,C:kJ,L:OJ,m:RJ,X:MJ,S:DJ,M:LJ};function PJ(){var t=Ks.f(),e=sw();return t||e}function CJ(t){var e=Lh(t);e!==null&&e.tag===5&&e.type==="form"?MU(e):Ks.r(t)}var Bh=typeof document>"u"?null:document;function qz(t,e,n){var r=Bh;if(r&&typeof e=="string"&&e){var i=ji(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),LR.has(i)||(LR.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),Qn(e,"link",t),Rn(e),r.head.appendChild(e)))}}function jJ(t){Ks.D(t),qz("dns-prefetch",t,null)}function kJ(t,e){Ks.C(t,e),qz("preconnect",t,e)}function OJ(t,e,n){Ks.L(t,e,n);var r=Bh;if(r&&t&&e){var i='link[rel="preload"][as="'+ji(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+ji(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+ji(n.imageSizes)+'"]')):i+='[href="'+ji(t)+'"]';var a=i;switch(e){case"style":a=Zd(t);break;case"script":a=Fh(t)}zi.has(a)||(t=bt({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),zi.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(Ug(a))||e==="script"&&r.querySelector(zg(a))||(e=r.createElement("link"),Qn(e,"link",t),Rn(e),r.head.appendChild(e)))}}function RJ(t,e){Ks.m(t,e);var n=Bh;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+ji(r)+'"][href="'+ji(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Fh(t)}if(!zi.has(a)&&(t=bt({rel:"modulepreload",href:t},e),zi.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(zg(a)))return}r=n.createElement("link"),Qn(r,"link",t),Rn(r),n.head.appendChild(r)}}}function DJ(t,e,n){Ks.S(t,e,n);var r=Bh;if(r&&t){var i=Ad(r).hoistableStyles,a=Zd(t);e=e||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Ug(a)))o.loading=5;else{t=bt({rel:"stylesheet",href:t,"data-precedence":e},n),(n=zi.get(a))&&SI(t,n);var l=s=r.createElement("link");Rn(l),Qn(l,"link",t),l._p=new Promise(function(c,d){l.onload=c,l.onerror=d}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,a0(s,e,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}}function MJ(t,e){Ks.X(t,e);var n=Bh;if(n&&t){var r=Ad(n).hoistableScripts,i=Fh(t),a=r.get(i);a||(a=n.querySelector(zg(i)),a||(t=bt({src:t,async:!0},e),(e=zi.get(i))&&TI(t,e),a=n.createElement("script"),Rn(a),Qn(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function LJ(t,e){Ks.M(t,e);var n=Bh;if(n&&t){var r=Ad(n).hoistableScripts,i=Fh(t),a=r.get(i);a||(a=n.querySelector(zg(i)),a||(t=bt({src:t,async:!0,type:"module"},e),(e=zi.get(i))&&TI(t,e),a=n.createElement("script"),Rn(a),Qn(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function VR(t,e,n,r){var i=(i=qo.current)?ax(i):null;if(!i)throw Error(q(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Zd(n.href),n=Ad(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Zd(n.href);var a=Ad(i).hoistableStyles,s=a.get(t);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,s),(a=i.querySelector(Ug(t)))&&!a._p&&(s.instance=a,s.state.loading=5),zi.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},zi.set(t,n),a||VJ(i,t,n,s.state))),e&&r===null)throw Error(q(528,""));return s}if(e&&r!==null)throw Error(q(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Fh(n),n=Ad(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(q(444,t))}}function Zd(t){return'href="'+ji(t)+'"'}function Ug(t){return'link[rel="stylesheet"]['+t+"]"}function Hz(t){return bt({},t,{"data-precedence":t.precedence,precedence:null})}function VJ(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Qn(e,"link",n),Rn(e),t.head.appendChild(e))}function Fh(t){return'[src="'+ji(t)+'"]'}function zg(t){return"script[async]"+t}function UR(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+ji(n.href)+'"]');if(r)return e.instance=r,Rn(r),r;var i=bt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Rn(r),Qn(r,"style",i),a0(r,n.precedence,t),e.instance=r;case"stylesheet":i=Zd(n.href);var a=t.querySelector(Ug(i));if(a)return e.state.loading|=4,e.instance=a,Rn(a),a;r=Hz(n),(i=zi.get(i))&&SI(r,i),a=(t.ownerDocument||t).createElement("link"),Rn(a);var s=a;return s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),Qn(a,"link",r),e.state.loading|=4,a0(a,n.precedence,t),e.instance=a;case"script":return a=Fh(n.src),(i=t.querySelector(zg(a)))?(e.instance=i,Rn(i),i):(r=n,(i=zi.get(a))&&(r=bt({},n),TI(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),Rn(i),Qn(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(q(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,a0(r,n.precedence,t));return e.instance}function a0(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===e)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function SI(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function TI(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var s0=null;function zR(t,e,n){if(s0===null){var r=new Map,i=s0=new Map;i.set(n,r)}else i=s0,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[Og]||a[Gn]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(e)||"";s=t+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function BR(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function UJ(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Gz(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function zJ(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Zd(r.href),a=e.querySelector(Ug(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=sx.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,Rn(a);return}a=e.ownerDocument||e,r=Hz(r),(i=zi.get(i))&&SI(r,i),a=a.createElement("link"),Rn(a);var s=a;s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),Qn(a,"link",r),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=sx.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var mE=0;function BJ(t,e){return t.stylesheets&&t.count===0&&o0(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&o0(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&mE===0&&(mE=62500*wJ());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&o0(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>mE?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function sx(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)o0(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ox=null;function o0(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ox=new Map,e.forEach(FJ,t),ox=null,sx.call(t))}function FJ(t,e){if(!(e.state.loading&4)){var n=ox.get(t);if(n)var r=n.get(null);else{n=new Map,ox.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}i=e.instance,s=i.getAttribute("data-precedence"),a=n.get(s)||r,a===r&&n.set(null,i),n.set(s,i),this.count++,r=sx.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Ap={$$typeof:ls,Provider:null,Consumer:null,_currentValue:Tc,_currentValue2:Tc,_threadCount:0};function $J(t,e,n,r,i,a,s,o,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=L1(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L1(0),this.hiddenUpdates=L1(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function Kz(t,e,n,r,i,a,s,o,l,c,d,h){return t=new $J(t,e,n,s,l,c,d,h,o),e=1,a===!0&&(e|=24),a=ti(3,null,null,e),t.current=a,a.stateNode=t,e=XN(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},eI(a),t}function Wz(t){return t?(t=hd,t):hd}function Yz(t,e,n,r,i,a){i=Wz(i),r.context===null?r.context=i:r.pendingContext=i,r=Go(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Ko(t,r,e),n!==null&&(Fr(n,t,e),Vm(n,t,e))}function FR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function AI(t,e){FR(t,e),(t=t.alternate)&&FR(t,e)}function Qz(t){if(t.tag===13||t.tag===31){var e=vu(t,67108864);e!==null&&Fr(e,t,67108864),AI(t,67108864)}}function $R(t){if(t.tag===13||t.tag===31){var e=li();e=LN(e);var n=vu(t,e);n!==null&&Fr(n,t,e),AI(t,e)}}var lx=!0;function qJ(t,e,n,r){var i=he.T;he.T=null;var a=Ue.p;try{Ue.p=2,NI(t,e,n,r)}finally{Ue.p=a,he.T=i}}function HJ(t,e,n,r){var i=he.T;he.T=null;var a=Ue.p;try{Ue.p=8,NI(t,e,n,r)}finally{Ue.p=a,he.T=i}}function NI(t,e,n,r){if(lx){var i=bT(r);if(i===null)hE(t,e,r,cx,n),qR(t,r);else if(KJ(i,t,e,n,r))r.stopPropagation();else if(qR(t,r),e&4&&-1<GJ.indexOf(t)){for(;i!==null;){var a=Lh(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Jl(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-oi(s);o.entanglements[1]|=l,s&=~l}Wa(a),!(Me&6)&&(Z0=ai()+500,Vg(0))}}break;case 31:case 13:o=vu(a,2),o!==null&&Fr(o,a,2),sw(),AI(a,2)}if(a=bT(r),a===null&&hE(t,e,r,cx,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else hE(t,e,r,null,n)}}function bT(t){return t=BN(t),II(t)}var cx=null;function II(t){if(cx=null,t=sd(t),t!==null){var e=Pg(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=gV(e),t!==null)return t;t=null}else if(n===31){if(t=yV(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return cx=t,null}function Xz(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jX()){case wV:return 2;case _V:return 8;case V0:case kX:return 32;case EV:return 268435456;default:return 32}default:return 32}}var wT=!1,Qo=null,Xo=null,Zo=null,Np=new Map,Ip=new Map,ko=[],GJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qR(t,e){switch(t){case"focusin":case"focusout":Qo=null;break;case"dragenter":case"dragleave":Xo=null;break;case"mouseover":case"mouseout":Zo=null;break;case"pointerover":case"pointerout":Np.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ip.delete(e.pointerId)}}function Hf(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Lh(e),e!==null&&Qz(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function KJ(t,e,n,r,i){switch(e){case"focusin":return Qo=Hf(Qo,t,e,n,r,i),!0;case"dragenter":return Xo=Hf(Xo,t,e,n,r,i),!0;case"mouseover":return Zo=Hf(Zo,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Np.set(a,Hf(Np.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ip.set(a,Hf(Ip.get(a)||null,t,e,n,r,i)),!0}return!1}function Zz(t){var e=sd(t.target);if(e!==null){var n=Pg(e);if(n!==null){if(e=n.tag,e===13){if(e=gV(n),e!==null){t.blockedOn=e,IO(t.priority,function(){$R(n)});return}}else if(e===31){if(e=yV(n),e!==null){t.blockedOn=e,IO(t.priority,function(){$R(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function l0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bT(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);US=r,n.target.dispatchEvent(r),US=null}else return e=Lh(n),e!==null&&Qz(e),t.blockedOn=n,!1;e.shift()}return!0}function HR(t,e,n){l0(t)&&n.delete(e)}function WJ(){wT=!1,Qo!==null&&l0(Qo)&&(Qo=null),Xo!==null&&l0(Xo)&&(Xo=null),Zo!==null&&l0(Zo)&&(Zo=null),Np.forEach(HR),Ip.forEach(HR)}function uv(t,e){t.blockedOn===e&&(t.blockedOn=null,wT||(wT=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,WJ)))}var dv=null;function GR(t){dv!==t&&(dv=t,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,function(){dv===t&&(dv=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(II(r||n)===null)continue;break}var a=Lh(n);a!==null&&(t.splice(e,3),e-=3,tT(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Jd(t){function e(l){return uv(l,t)}Qo!==null&&uv(Qo,t),Xo!==null&&uv(Xo,t),Zo!==null&&uv(Zo,t),Np.forEach(e),Ip.forEach(e);for(var n=0;n<ko.length;n++){var r=ko[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<ko.length&&(n=ko[0],n.blockedOn===null);)Zz(n),n.blockedOn===null&&ko.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[$r]||null;if(typeof a=="function")s||GR(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[$r]||null)o=s.formAction;else if(II(i)!==null)continue}else o=s.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),GR(n)}}}function Jz(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(s){return i=s})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function PI(t){this._internalRoot=t}cw.prototype.render=PI.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));var n=e.current,r=li();Yz(n,r,t,e,null,null)};cw.prototype.unmount=PI.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Yz(t.current,2,null,t,null,null),sw(),e[Mh]=null}};function cw(t){this._internalRoot=t}cw.prototype.unstable_scheduleHydration=function(t){if(t){var e=IV();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ko.length&&e!==0&&e<ko[n].priority;n++);ko.splice(n,0,t),n===0&&Zz(t)}};var KR=mV.version;if(KR!=="19.2.0")throw Error(q(527,KR,"19.2.0"));Ue.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=SX(e),t=t!==null?vV(t):null,t=t===null?null:t.stateNode,t};var YJ={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:he,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hv.isDisabled&&hv.supportsFiber)try{Cg=hv.inject(YJ),si=hv}catch{}}Hb.createRoot=function(t,e){if(!pV(t))throw Error(q(299));var n=!1,r="",i=qU,a=HU,s=GU;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Kz(t,1,!1,null,null,n,r,null,i,a,s,Jz),t[Mh]=e.current,EI(t),new PI(e)};Hb.hydrateRoot=function(t,e,n){if(!pV(t))throw Error(q(299));var r=!1,i="",a=qU,s=HU,o=GU,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=Kz(t,1,!0,e,n??null,r,i,l,a,s,o,Jz),e.context=Wz(null),n=e.current,r=li(),r=LN(r),i=Go(r),i.callback=null,Ko(n,i,r),n=r,e.current.lanes=n,kg(e,n),Wa(e),t[Mh]=e.current,EI(t),new cw(e)};Hb.version="19.2.0";function e9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e9)}catch(t){console.error(t)}}e9(),lV.exports=Hb;var QJ=lV.exports;const XJ=Ga(QJ);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var WR="popstate";function ZJ(t={}){function e(i,a){let{pathname:s="/",search:o="",hash:l=""}=bu(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),_T("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");o=c===-1?l:l.slice(0,c)}return o+"#"+(typeof a=="string"?a:Pp(a))}function r(i,a){gi(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return eee(e,n,r,t)}function Ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JJ(){return Math.random().toString(36).substring(2,10)}function YR(t,e){return{usr:t.state,key:t.key,idx:e}}function _T(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?bu(e):e,state:n,key:e&&e.key||r||JJ()}}function Pp({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function bu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function eee(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",l=null,c=d();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function d(){return(s.state||{idx:null}).idx}function h(){o="POP";let x=d(),b=x==null?null:x-c;c=x,l&&l({action:o,location:v.location,delta:b})}function f(x,b){o="PUSH";let w=_T(v.location,x,b);n&&n(w,x),c=d()+1;let _=YR(w,c),T=v.createHref(w);try{s.pushState(_,"",T)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(T)}a&&l&&l({action:o,location:v.location,delta:1})}function m(x,b){o="REPLACE";let w=_T(v.location,x,b);n&&n(w,x),c=d();let _=YR(w,c),T=v.createHref(w);s.replaceState(_,"",T),a&&l&&l({action:o,location:v.location,delta:0})}function y(x){return tee(x)}let v={get action(){return o},get location(){return t(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(WR,h),l=x,()=>{i.removeEventListener(WR,h),l=null}},createHref(x){return e(i,x)},createURL:y,encodeLocation(x){let b=y(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:m,go(x){return s.go(x)}};return v}function tee(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Pp(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function t9(t,e,n="/"){return nee(t,e,n,!1)}function nee(t,e,n,r){let i=typeof e=="string"?bu(e):e,a=Cs(i.pathname||"/",n);if(a==null)return null;let s=n9(t);ree(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=mee(a);o=hee(s[l],c,r)}return o}function n9(t,e=[],n=[],r="",i=!1){let a=(s,o,l=i,c)=>{let d={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;Ct(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let h=vs([r,d.relativePath]),f=n.concat(d);s.children&&s.children.length>0&&(Ct(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),n9(s.children,e,f,h,l)),!(s.path==null&&!s.index)&&e.push({path:h,score:uee(h,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of r9(s.path))a(s,o,!0,c)}),e}function r9(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=r9(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function ree(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dee(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var iee=/^:[\w-]+$/,aee=3,see=2,oee=1,lee=10,cee=-2,QR=t=>t==="*";function uee(t,e){let n=t.split("/"),r=n.length;return n.some(QR)&&(r+=cee),e&&(r+=see),n.filter(i=>!QR(i)).reduce((i,a)=>i+(iee.test(a)?aee:a===""?oee:lee),r)}function dee(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function hee(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,d=a==="/"?e:e.slice(a.length)||"/",h=ux({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=ux({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:vs([a,h.pathname]),pathnameBase:xee(vs([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=vs([a,h.pathnameBase]))}return s}function ux(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fee(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:h},f)=>{if(d==="*"){let y=o[f]||"";s=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[f];return h&&!m?c[d]=void 0:c[d]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function fee(t,e=!1,n=!0){gi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function mee(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Cs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var pee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gee=t=>pee.test(t);function yee(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?bu(t):t,a;if(n)if(gee(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),gi(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?a=XR(n.substring(1),"/"):a=XR(n,e)}else a=e;return{pathname:a,search:bee(r),hash:wee(i)}}function XR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function pE(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vee(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function CI(t){let e=vee(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function jI(t,e,n,r=!1){let i;typeof t=="string"?i=bu(t):(i={...t},Ct(!i.pathname||!i.pathname.includes("?"),pE("?","pathname","search",i)),Ct(!i.pathname||!i.pathname.includes("#"),pE("#","pathname","hash",i)),Ct(!i.search||!i.search.includes("#"),pE("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=yee(i,o),c=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var vs=t=>t.join("/").replace(/\/\/+/g,"/"),xee=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bee=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wee=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _ee(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var i9=["POST","PUT","PATCH","DELETE"];new Set(i9);var Eee=["GET",...i9];new Set(Eee);var $h=g.createContext(null);$h.displayName="DataRouter";var uw=g.createContext(null);uw.displayName="DataRouterState";g.createContext(!1);var a9=g.createContext({isTransitioning:!1});a9.displayName="ViewTransition";var See=g.createContext(new Map);See.displayName="Fetchers";var Tee=g.createContext(null);Tee.displayName="Await";var la=g.createContext(null);la.displayName="Navigation";var Bg=g.createContext(null);Bg.displayName="Location";var ca=g.createContext({outlet:null,matches:[],isDataRoute:!1});ca.displayName="Route";var kI=g.createContext(null);kI.displayName="RouteError";function Aee(t,{relative:e}={}){Ct(qh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=g.useContext(la),{hash:i,pathname:a,search:s}=Fg(t,{relative:e}),o=a;return n!=="/"&&(o=a==="/"?n:vs([n,a])),r.createHref({pathname:o,search:s,hash:i})}function qh(){return g.useContext(Bg)!=null}function Gi(){return Ct(qh(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Bg).location}var s9="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function o9(t){g.useContext(la).static||g.useLayoutEffect(t)}function Ki(){let{isDataRoute:t}=g.useContext(ca);return t?Bee():Nee()}function Nee(){Ct(qh(),"useNavigate() may be used only in the context of a <Router> component.");let t=g.useContext($h),{basename:e,navigator:n}=g.useContext(la),{matches:r}=g.useContext(ca),{pathname:i}=Gi(),a=JSON.stringify(CI(r)),s=g.useRef(!1);return o9(()=>{s.current=!0}),g.useCallback((l,c={})=>{if(gi(s.current,s9),!s.current)return;if(typeof l=="number"){n.go(l);return}let d=jI(l,JSON.parse(a),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:vs([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,a,i,t])}var Iee=g.createContext(null);function Pee(t){let e=g.useContext(ca).outlet;return g.useMemo(()=>e&&g.createElement(Iee.Provider,{value:t},e),[e,t])}function Fg(t,{relative:e}={}){let{matches:n}=g.useContext(ca),{pathname:r}=Gi(),i=JSON.stringify(CI(n));return g.useMemo(()=>jI(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Cee(t,e){return l9(t,e)}function l9(t,e,n,r,i){var w;Ct(qh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=g.useContext(la),{matches:s}=g.useContext(ca),o=s[s.length-1],l=o?o.params:{},c=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let _=h&&h.path||"";c9(c,!h||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let f=Gi(),m;if(e){let _=typeof e=="string"?bu(e):e;Ct(d==="/"||((w=_.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${_.pathname}" was given in the \`location\` prop.`),m=_}else m=f;let y=m.pathname||"/",v=y;if(d!=="/"){let _=d.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=t9(t,{pathname:v});gi(h||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),gi(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=Dee(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:vs([d,a.encodeLocation?a.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?d:vs([d,a.encodeLocation?a.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),s,n,r,i);return e&&b?g.createElement(Bg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},b):b}function jee(){let t=zee(),e=_ee(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:a},"ErrorBoundary")," or"," ",g.createElement("code",{style:a},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:i},n):null,s)}var kee=g.createElement(jee,null),Oee=class extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?g.createElement(ca.Provider,{value:this.props.routeContext},g.createElement(kI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ree({routeContext:t,match:e,children:n}){let r=g.useContext($h);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),g.createElement(ca.Provider,{value:t},n)}function Dee(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n==null?void 0:n.errors;if(s!=null){let d=a.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);Ct(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let o=!1,l=-1;if(n)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=d),h.route.id){let{loaderData:f,errors:m}=n,y=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}let c=n&&r?(d,h)=>{var f,m;r(d,{location:n.location,params:((m=(f=n.matches)==null?void 0:f[0])==null?void 0:m.params)??{},errorInfo:h})}:void 0;return a.reduceRight((d,h,f)=>{let m,y=!1,v=null,x=null;n&&(m=s&&h.route.id?s[h.route.id]:void 0,v=h.route.errorElement||kee,o&&(l<0&&f===0?(c9("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,x=null):l===f&&(y=!0,x=h.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,f+1)),w=()=>{let _;return m?_=v:y?_=x:h.route.Component?_=g.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=d,g.createElement(Ree,{match:h,routeContext:{outlet:d,matches:b,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?g.createElement(Oee,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:c}):w()},null)}function OI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mee(t){let e=g.useContext($h);return Ct(e,OI(t)),e}function Lee(t){let e=g.useContext(uw);return Ct(e,OI(t)),e}function Vee(t){let e=g.useContext(ca);return Ct(e,OI(t)),e}function RI(t){let e=Vee(t),n=e.matches[e.matches.length-1];return Ct(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Uee(){return RI("useRouteId")}function zee(){var r;let t=g.useContext(kI),e=Lee("useRouteError"),n=RI("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Bee(){let{router:t}=Mee("useNavigate"),e=RI("useNavigate"),n=g.useRef(!1);return o9(()=>{n.current=!0}),g.useCallback(async(i,a={})=>{gi(n.current,s9),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var ZR={};function c9(t,e,n){!e&&!ZR[t]&&(ZR[t]=!0,gi(!1,n))}g.memo(Fee);function Fee({routes:t,future:e,state:n,unstable_onError:r}){return l9(t,void 0,n,r,e)}function JR({to:t,replace:e,state:n,relative:r}){Ct(qh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=g.useContext(la);gi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=g.useContext(ca),{pathname:s}=Gi(),o=Ki(),l=jI(t,CI(a),s,r==="path"),c=JSON.stringify(l);return g.useEffect(()=>{o(JSON.parse(c),{replace:e,state:n,relative:r})},[o,c,r,e,n]),null}function u9(t){return Pee(t.context)}function it(t){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $ee({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Ct(!qh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),o=g.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof n=="string"&&(n=bu(n));let{pathname:l="/",search:c="",hash:d="",state:h=null,key:f="default"}=n,m=g.useMemo(()=>{let y=Cs(l,s);return y==null?null:{location:{pathname:y,search:c,hash:d,state:h,key:f},navigationType:r}},[s,l,c,d,h,f,r]);return gi(m!=null,`<Router basename="${s}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:g.createElement(la.Provider,{value:o},g.createElement(Bg.Provider,{children:e,value:m}))}function qee({children:t,location:e}){return Cee(ET(t),e)}function ET(t,e=[]){let n=[];return g.Children.forEach(t,(r,i)=>{if(!g.isValidElement(r))return;let a=[...e,i];if(r.type===g.Fragment){n.push.apply(n,ET(r.props.children,a));return}Ct(r.type===it,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=ET(r.props.children,a)),n.push(s)}),n}var c0="get",u0="application/x-www-form-urlencoded";function dw(t){return t!=null&&typeof t.tagName=="string"}function Hee(t){return dw(t)&&t.tagName.toLowerCase()==="button"}function Gee(t){return dw(t)&&t.tagName.toLowerCase()==="form"}function Kee(t){return dw(t)&&t.tagName.toLowerCase()==="input"}function Wee(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Yee(t,e){return t.button===0&&(!e||e==="_self")&&!Wee(t)}var fv=null;function Qee(){if(fv===null)try{new FormData(document.createElement("form"),0),fv=!1}catch{fv=!0}return fv}var Xee=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gE(t){return t!=null&&!Xee.has(t)?(gi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${u0}"`),null):t}function Zee(t,e){let n,r,i,a,s;if(Gee(t)){let o=t.getAttribute("action");r=o?Cs(o,e):null,n=t.getAttribute("method")||c0,i=gE(t.getAttribute("enctype"))||u0,a=new FormData(t)}else if(Hee(t)||Kee(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?Cs(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||c0,i=gE(t.getAttribute("formenctype"))||gE(o.getAttribute("enctype"))||u0,a=new FormData(o,t),!Qee()){let{name:c,type:d,value:h}=t;if(d==="image"){let f=c?`${c}.`:"";a.append(`${f}x`,"0"),a.append(`${f}y`,"0")}else c&&a.append(c,h)}}else{if(dw(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=c0,r=null,i=u0,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function DI(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jee(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Cs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function ete(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tte(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function nte(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await ete(a,n);return s.links?s.links():[]}return[]}));return ste(r.flat(1).filter(tte).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function eD(t,e,n,r,i,a){let s=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,o=(l,c)=>{var d;return n[c].pathname!==l.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return a==="assets"?e.filter((l,c)=>s(l,c)||o(l,c)):a==="data"?e.filter((l,c)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(s(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function rte(t,e,{includeHydrateFallback:n}={}){return ite(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function ite(t){return[...new Set(t)]}function ate(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function ste(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(ate(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function d9(){let t=g.useContext($h);return DI(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ote(){let t=g.useContext(uw);return DI(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var MI=g.createContext(void 0);MI.displayName="FrameworkContext";function h9(){let t=g.useContext(MI);return DI(t,"You must render this element inside a <HydratedRouter> element"),t}function lte(t,e){let n=g.useContext(MI),[r,i]=g.useState(!1),[a,s]=g.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=e,f=g.useRef(null);g.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let v=b=>{b.forEach(w=>{s(w.isIntersecting)})},x=new IntersectionObserver(v,{threshold:.5});return f.current&&x.observe(f.current),()=>{x.disconnect()}}},[t]),g.useEffect(()=>{if(r){let v=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(v)}}},[r]);let m=()=>{i(!0)},y=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,f,{}]:[a,f,{onFocus:Gf(o,m),onBlur:Gf(l,y),onMouseEnter:Gf(c,m),onMouseLeave:Gf(d,y),onTouchStart:Gf(h,m)}]:[!1,f,{}]}function Gf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function cte({page:t,...e}){let{router:n}=d9(),r=g.useMemo(()=>t9(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?g.createElement(dte,{page:t,matches:r,...e}):null}function ute(t){let{manifest:e,routeModules:n}=h9(),[r,i]=g.useState([]);return g.useEffect(()=>{let a=!1;return nte(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function dte({page:t,matches:e,...n}){let r=Gi(),{manifest:i,routeModules:a}=h9(),{basename:s}=d9(),{loaderData:o,matches:l}=ote(),c=g.useMemo(()=>eD(t,e,l,i,r,"data"),[t,e,l,i,r]),d=g.useMemo(()=>eD(t,e,l,i,r,"assets"),[t,e,l,i,r]),h=g.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let y=new Set,v=!1;if(e.forEach(b=>{var _;let w=i.routes[b.route.id];!w||!w.hasLoader||(!c.some(T=>T.route.id===b.route.id)&&b.route.id in o&&((_=a[b.route.id])!=null&&_.shouldRevalidate)||w.hasClientLoader?v=!0:y.add(b.route.id))}),y.size===0)return[];let x=Jee(t,s,"data");return v&&y.size>0&&x.searchParams.set("_routes",e.filter(b=>y.has(b.route.id)).map(b=>b.route.id).join(",")),[x.pathname+x.search]},[s,o,r,i,c,e,t,a]),f=g.useMemo(()=>rte(d,i),[d,i]),m=ute(d);return g.createElement(g.Fragment,null,h.map(y=>g.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),f.map(y=>g.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),m.map(({key:y,link:v})=>g.createElement("link",{key:y,nonce:n.nonce,...v})))}function hte(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var f9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{f9&&(window.__reactRouterVersion="7.9.6")}catch{}function fte({basename:t,children:e,window:n}){let r=g.useRef();r.current==null&&(r.current=ZJ({window:n,v5Compat:!0}));let i=r.current,[a,s]=g.useState({action:i.action,location:i.location}),o=g.useCallback(l=>{g.startTransition(()=>s(l))},[s]);return g.useLayoutEffect(()=>i.listen(o),[i,o]),g.createElement($ee,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var m9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,De=g.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:d,viewTransition:h,...f},m){let{basename:y}=g.useContext(la),v=typeof c=="string"&&m9.test(c),x,b=!1;if(typeof c=="string"&&v&&(x=c,f9))try{let I=new URL(window.location.href),C=c.startsWith("//")?new URL(I.protocol+c):new URL(c),k=Cs(C.pathname,y);C.origin===I.origin&&k!=null?c=k+C.search+C.hash:b=!0}catch{gi(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=Aee(c,{relative:i}),[_,T,N]=lte(r,f),j=gte(c,{replace:s,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:h});function A(I){e&&e(I),I.defaultPrevented||j(I)}let S=g.createElement("a",{...f,...N,href:x||w,onClick:b||a?e:A,ref:hte(m,T),target:l,"data-discover":!v&&n==="render"?"true":void 0});return _&&!v?g.createElement(g.Fragment,null,S,g.createElement(cte,{page:w})):S});De.displayName="Link";var Si=g.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:o,children:l,...c},d){let h=Fg(s,{relative:c.relative}),f=Gi(),m=g.useContext(uw),{navigator:y,basename:v}=g.useContext(la),x=m!=null&&wte(h)&&o===!0,b=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,w=f.pathname,_=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(w=w.toLowerCase(),_=_?_.toLowerCase():null,b=b.toLowerCase()),_&&v&&(_=Cs(_,v)||_);const T=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let N=w===b||!i&&w.startsWith(b)&&w.charAt(T)==="/",j=_!=null&&(_===b||!i&&_.startsWith(b)&&_.charAt(b.length)==="/"),A={isActive:N,isPending:j,isTransitioning:x},S=N?e:void 0,I;typeof r=="function"?I=r(A):I=[r,N?"active":null,j?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let C=typeof a=="function"?a(A):a;return g.createElement(De,{...c,"aria-current":S,className:I,ref:d,style:C,to:s,viewTransition:o},typeof l=="function"?l(A):l)});Si.displayName="NavLink";var mte=g.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=c0,action:o,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:h,...f},m)=>{let y=xte(),v=bte(o,{relative:c}),x=s.toLowerCase()==="get"?"get":"post",b=typeof o=="string"&&m9.test(o),w=_=>{if(l&&l(_),_.defaultPrevented)return;_.preventDefault();let T=_.nativeEvent.submitter,N=(T==null?void 0:T.getAttribute("formmethod"))||s;y(T||_.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:i,state:a,relative:c,preventScrollReset:d,viewTransition:h})};return g.createElement("form",{ref:m,method:x,action:v,onSubmit:r?l:w,...f,"data-discover":!b&&t==="render"?"true":void 0})});mte.displayName="Form";function pte(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p9(t){let e=g.useContext($h);return Ct(e,pte(t)),e}function gte(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let o=Ki(),l=Gi(),c=Fg(t,{relative:a});return g.useCallback(d=>{if(Yee(d,e)){d.preventDefault();let h=n!==void 0?n:Pp(l)===Pp(c);o(t,{replace:h,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[l,o,c,n,r,e,t,i,a,s])}var yte=0,vte=()=>`__${String(++yte)}__`;function xte(){let{router:t}=p9("useSubmit"),{basename:e}=g.useContext(la),n=Uee();return g.useCallback(async(r,i={})=>{let{action:a,method:s,encType:o,formData:l,body:c}=Zee(r,e);if(i.navigate===!1){let d=i.fetcherKey||vte();await t.fetch(d,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function bte(t,{relative:e}={}){let{basename:n}=g.useContext(la),r=g.useContext(ca);Ct(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Fg(t||".",{relative:e})},s=Gi();if(t==null){a.search=s.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();a.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:vs([n,a.pathname])),Pp(a)}function wte(t,{relative:e}={}){let n=g.useContext(a9);Ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=p9("useViewTransitionState"),i=Fg(t,{relative:e});if(!n.isTransitioning)return!1;let a=Cs(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Cs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ux(i.pathname,s)!=null||ux(i.pathname,a)!=null}/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _te=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ete=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),tD=t=>{const e=Ete(t);return e.charAt(0).toUpperCase()+e.slice(1)},g9=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Ste=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ate=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>g.createElement("svg",{ref:l,...Tte,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:g9("lucide",i),...!a&&!Ste(o)&&{"aria-hidden":"true"},...o},[...s.map(([c,d])=>g.createElement(c,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=(t,e)=>{const n=g.forwardRef(({className:r,...i},a)=>g.createElement(Ate,{ref:a,iconNode:e,className:g9(`lucide-${_te(tD(t))}`,`lucide-${t}`,r),...i}));return n.displayName=tD(t),n};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nte=[["path",{d:"M12 6.528V3a1 1 0 0 1 1-1h0",key:"11qiee"}],["path",{d:"M18.237 21A15 15 0 0 0 22 11a6 6 0 0 0-10-4.472A6 6 0 0 0 2 11a15.1 15.1 0 0 0 3.763 10 3 3 0 0 0 3.648.648 5.5 5.5 0 0 1 5.178 0A3 3 0 0 0 18.237 21",key:"110c12"}]],y9=Z("apple",Nte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Gc=Z("arrow-right",Ite);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pte=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],v9=Z("arrow-up-down",Pte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],jte=Z("award",Cte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Ote=Z("banknote",kte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=[["path",{d:"M17 11h1a3 3 0 0 1 0 6h-1",key:"1yp76v"}],["path",{d:"M9 12v6",key:"1u1cab"}],["path",{d:"M13 12v6",key:"1sugkk"}],["path",{d:"M14 7.5c-1 0-1.44.5-3 .5s-2-.5-3-.5-1.72.5-2.5.5a2.5 2.5 0 0 1 0-5c.78 0 1.57.5 2.5.5S9.44 2 11 2s2 1.5 3 1.5 1.72-.5 2.5-.5a2.5 2.5 0 0 1 0 5c-.78 0-1.5-.5-2.5-.5Z",key:"1510fo"}],["path",{d:"M5 8v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8",key:"19jb7n"}]],Dte=Z("beer",Rte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],hw=Z("bell",Mte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Vte=Z("box",Lte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],gd=Z("calendar",Ute);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Bte=Z("camera",zte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],LI=Z("chart-column",Fte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],qte=Z("chart-pie",$te);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Kc=Z("check",Hte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Hh=Z("chevron-down",Gte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]],Wte=Z("chevrons-down",Kte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ws=Z("circle-alert",Yte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],VI=Z("circle-check-big",Qte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],Zte=Z("circle-dollar-sign",Xte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ene=Z("circle-question-mark",Jte);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ST=Z("circle-x",tne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nne=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]],rne=Z("clipboard-copy",nne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ine=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],ane=Z("clipboard-list",ine);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sne=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wu=Z("clock",sne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const one=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],lne=Z("cloud-upload",one);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cne=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],ci=Z("coffee",cne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const une=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],dne=Z("crown",une);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hne=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],x9=Z("dollar-sign",hne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fne=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],nD=Z("droplet",fne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mne=[["path",{d:"M15.4 15.63a7.875 6 135 1 1 6.23-6.23 4.5 3.43 135 0 0-6.23 6.23",key:"1dtqwm"}],["path",{d:"m8.29 12.71-2.6 2.6a2.5 2.5 0 1 0-1.65 4.65A2.5 2.5 0 1 0 8.7 18.3l2.59-2.59",key:"1oq1fw"}]],pne=Z("drumstick",mne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gne=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],TT=Z("eye-off",gne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yne=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],AT=Z("eye",yne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vne=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],b9=Z("facebook",vne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xne=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],bne=Z("file-image",xne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wne=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Cp=Z("gift",wne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ne=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Ene=Z("hash",_ne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sne=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Tne=Z("history",Sne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ane=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Nne=Z("image",Ane);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ine=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Pne=Z("info",Ine);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cne=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],w9=Z("instagram",Cne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jne=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],kne=Z("key",jne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const One=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Rne=Z("layout-dashboard",One);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dne=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],_9=Z("leaf",Dne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mne=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Lne=Z("lightbulb",Mne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vne=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ot=Z("loader-circle",Vne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Une=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],dx=Z("lock",Une);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zne=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],hx=Z("log-out",zne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bne=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ma=Z("mail",Bne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fne=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],UI=Z("map-pin",Fne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ne=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],qne=Z("medal",$ne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hne=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],rD=Z("megaphone",Hne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gne=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],zI=Z("menu",Gne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kne=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Wne=Z("message-circle",Kne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yne=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Gh=Z("message-square",Yne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qne=[["path",{d:"M8 2h8",key:"1ssgc1"}],["path",{d:"M9 2v2.789a4 4 0 0 1-.672 2.219l-.656.984A4 4 0 0 0 7 10.212V20a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-9.789a4 4 0 0 0-.672-2.219l-.656-.984A4 4 0 0 1 15 4.788V2",key:"qtp12x"}],["path",{d:"M7 15a6.472 6.472 0 0 1 5 0 6.47 6.47 0 0 0 5 0",key:"ygeh44"}]],Xne=Z("milk",Qne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zne=[["path",{d:"M5 12h14",key:"1ays0h"}]],E9=Z("minus",Zne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jne=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],cl=Z("package",Jne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],tre=Z("palette",ere);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nre=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],js=Z("phone",nre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$g=Z("plus",rre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],are=Z("quote",ire);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],S9=Z("refresh-cw",sre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ore=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],qg=Z("save",ore);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lre=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],eh=Z("search",lre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],BI=Z("send",cre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ure=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],T9=Z("settings",ure);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],jp=Z("shield",dre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hre=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],fw=Z("shopping-bag",hre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],FI=Z("shopping-cart",fre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mre=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],A9=Z("snowflake",mre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pre=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],N9=Z("sparkles",pre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gre=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],I9=Z("square-pen",gre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yre=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],kp=Z("star",yre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vre=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],xre=Z("store",vre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bre=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mw=Z("trash-2",bre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wre=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Km=Z("trending-up",wre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _re=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Op=Z("triangle-alert",_re);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ere=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],P9=Z("twitter",Ere);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sre=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],iD=Z("upload",Sre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tre=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ks=Z("user",Tre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Rp=Z("users",Are);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nre=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],Ire=Z("utensils-crossed",Nre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pre=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],C9=Z("wallet",Pre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cre=[["path",{d:"M12 10v2.2l1.6 1",key:"n3r21l"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}]],jre=Z("watch",Cre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kre=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ys=Z("x",kre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ore=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Rre=Z("zap",Ore),ge=({children:t,className:e="",hover:n=!1,variant:r="default",padding:i="md",clickable:a=!1,onClick:s})=>{const o="rounded-2xl transition-all duration-300 ease-out",l={default:"border border-gray-100 bg-white/80 backdrop-blur-sm shadow-lg",elevated:"bg-white shadow-xl border-0",outlined:"border-2 border-primary-200 bg-white",glass:"bg-white/70 backdrop-blur-md border border-white/20 shadow-xl"},c={none:"",sm:"p-4",md:"p-6",lg:"p-8"},d=n?"hover:shadow-2xl hover:-translate-y-1 hover:scale-[1.02]":"",h=a?"cursor-pointer active:scale-[0.98]":"";return u.jsx("div",{className:`${o} ${l[r]} ${c[i]} ${d} ${h} ${e}`,onClick:a?s:void 0,role:a?"button":void 0,tabIndex:a?0:void 0,children:t})},or=({children:t,className:e="",variant:n="solid",color:r="primary",size:i="md"})=>{const a="inline-flex items-center gap-1.5 rounded-full font-medium",s={xs:"px-2 py-0.5 text-xs",sm:"px-2.5 py-1 text-xs",md:"px-3 py-1 text-sm",lg:"px-4 py-1.5 text-base"},o={primary:"bg-primary-100 text-primary-800",success:"bg-green-100 text-green-800",warning:"bg-amber-100 text-amber-800",error:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800",gray:"bg-gray-100 text-gray-800"},l={primary:"border-2 border-primary-300 text-primary-700 bg-transparent",success:"border-2 border-green-300 text-green-700 bg-transparent",warning:"border-2 border-amber-300 text-amber-700 bg-transparent",error:"border-2 border-red-300 text-red-700 bg-transparent",info:"border-2 border-blue-300 text-blue-700 bg-transparent",gray:"border-2 border-gray-300 text-gray-700 bg-transparent"},c={primary:"bg-primary-500",success:"bg-green-500",warning:"bg-amber-500",error:"bg-red-500",info:"bg-blue-500",gray:"bg-gray-500"},d=n==="outline"?l[r]:o[r];return u.jsxs("span",{className:`${a} ${s[i]} ${d} ${e}`,children:[n==="dot"&&u.jsx("span",{className:`h-2 w-2 rounded-full ${c[r]} animate-pulse`}),t]})},Dre=()=>{};var aD={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Mre=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},k9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=a>>2,h=(a&3)<<4|o>>4;let f=(o&15)<<2|c>>6,m=c&63;l||(m=64,s||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(j9(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Mre(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||c==null||h==null)throw new Lre;const f=a<<2|o>>4;if(r.push(f),c!==64){const m=o<<4&240|c>>2;if(r.push(m),h!==64){const y=c<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Lre extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vre=function(t){const e=j9(t);return k9.encodeByteArray(e,!0)},fx=function(t){return Vre(t).replace(/\./g,"")},$I=function(t){try{return k9.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function mx(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Ure(n)||(t[n]=mx(t[n],e[n]));return t}function Ure(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zre=()=>qI().__FIREBASE_DEFAULTS__,Bre=()=>{if(typeof process>"u"||typeof aD>"u")return;const t=aD.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Fre=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$I(t[1]);return e&&JSON.parse(e)},HI=()=>{try{return Dre()||zre()||Bre()||Fre()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GI=()=>{var t;return(t=HI())==null?void 0:t.config},$re=t=>{var e;return(e=HI())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qre{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function KI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[fx(JSON.stringify(n)),fx(JSON.stringify(s)),""].join(".")}const Wm={};function Hre(){const t={prod:[],emulator:[]};for(const e of Object.keys(Wm))Wm[e]?t.emulator.push(e):t.prod.push(e);return t}function Gre(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let sD=!1;function WI(t,e){if(typeof window>"u"||typeof document>"u"||!Pl(window.location.host)||Wm[t]===e||Wm[t]||sD)return;Wm[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",a=Hre().prod.length>0;function s(){const f=document.getElementById(r);f&&f.remove()}function o(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{sD=!0,s()},f}function d(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=Gre(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),v=n("learnmore"),x=document.getElementById(v)||document.createElement("a"),b=n("preprendIcon"),w=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const _=f.element;o(_),d(x,v);const T=c();l(w,b),_.append(w,y,x,T),document.body.appendChild(_)}a?(y.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kre(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function pw(){var e;const t=(e=HI())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Wre(){return typeof window<"u"||R9()}function R9(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Yre(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function D9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function YI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function M9(){const t=Rt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function L9(){return!pw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V9(){return!pw()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Dp(){try{return typeof indexedDB=="object"}catch{return!1}}function Qre(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xre="FirebaseError";class ur extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Xre,Object.setPrototypeOf(this,ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_u.prototype.create)}}class _u{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?Zre(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new ur(i,o,r)}}function Zre(t,e){return t.replace(Jre,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Jre=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function eie(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ul(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(lD(a)&&lD(s)){if(!ul(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lD(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function bm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function U9(t,e){const n=new tie(t,e);return n.subscribe.bind(n)}class tie{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nie(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=yE),i.error===void 0&&(i.error=yE),i.complete===void 0&&(i.complete=yE);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nie(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t){return t&&t._delegate?t._delegate:t}class Bi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rie=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qre;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aie(e))try{this.getOrInitializeService({instanceIdentifier:nc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=nc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=nc){return this.instances.has(e)}getOptions(e=nc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iie(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=nc){return this.component?this.component.multipleInstances?e:nc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function iie(t){return t===nc?void 0:t}function aie(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rie(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=[];var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const B9={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},sie=Ee.INFO,oie={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},lie=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=oie[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gw{constructor(e){this.name=e,this._logLevel=sie,this._logHandler=lie,this._userLogHandler=null,QI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?B9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}function cie(t){QI.forEach(e=>{e.setLogLevel(t)})}function uie(t,e){for(const n of QI){let r=null;e&&e.level&&(r=B9[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,a,...s)=>{const o=s.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");a>=(r??i.logLevel)&&t({level:Ee[a].toLowerCase(),message:o,args:s,type:i.name})}}}const die=(t,e)=>e.some(n=>t instanceof n);let cD,uD;function hie(){return cD||(cD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fie(){return uD||(uD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F9=new WeakMap,NT=new WeakMap,$9=new WeakMap,vE=new WeakMap,XI=new WeakMap;function mie(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(Jo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&F9.set(n,t)}).catch(()=>{}),XI.set(e,t),e}function pie(t){if(NT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});NT.set(t,e)}let IT={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return NT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$9.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gie(t){IT=t(IT)}function yie(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xE(this),e,...n);return $9.set(r,e.sort?e.sort():[e]),Jo(r)}:fie().includes(t)?function(...e){return t.apply(xE(this),e),Jo(F9.get(this))}:function(...e){return Jo(t.apply(xE(this),e))}}function vie(t){return typeof t=="function"?yie(t):(t instanceof IDBTransaction&&pie(t),die(t,hie())?new Proxy(t,IT):t)}function Jo(t){if(t instanceof IDBRequest)return mie(t);if(vE.has(t))return vE.get(t);const e=vie(t);return e!==t&&(vE.set(t,e),XI.set(e,t)),e}const xE=t=>XI.get(t);function xie(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=Jo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Jo(s.result),l.oldVersion,l.newVersion,Jo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const bie=["get","getKey","getAll","getAllKeys","count"],wie=["put","add","delete","clear"],bE=new Map;function dD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bE.get(e))return bE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=wie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||bie.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return bE.set(e,a),a}gie(t=>({...t,get:(e,n,r)=>dD(e,n)||t.get(e,n,r),has:(e,n)=>!!dD(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ie{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Eie(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Eie(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const px="@firebase/app",PT="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new gw("@firebase/app"),Sie="@firebase/app-compat",Tie="@firebase/analytics-compat",Aie="@firebase/analytics",Nie="@firebase/app-check-compat",Iie="@firebase/app-check",Pie="@firebase/auth",Cie="@firebase/auth-compat",jie="@firebase/database",kie="@firebase/data-connect",Oie="@firebase/database-compat",Rie="@firebase/functions",Die="@firebase/functions-compat",Mie="@firebase/installations",Lie="@firebase/installations-compat",Vie="@firebase/messaging",Uie="@firebase/messaging-compat",zie="@firebase/performance",Bie="@firebase/performance-compat",Fie="@firebase/remote-config",$ie="@firebase/remote-config-compat",qie="@firebase/storage",Hie="@firebase/storage-compat",Gie="@firebase/firestore",Kie="@firebase/ai",Wie="@firebase/firestore-compat",Yie="firebase",Qie="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl="[DEFAULT]",Xie={[px]:"fire-core",[Sie]:"fire-core-compat",[Aie]:"fire-analytics",[Tie]:"fire-analytics-compat",[Iie]:"fire-app-check",[Nie]:"fire-app-check-compat",[Pie]:"fire-auth",[Cie]:"fire-auth-compat",[jie]:"fire-rtdb",[kie]:"fire-data-connect",[Oie]:"fire-rtdb-compat",[Rie]:"fire-fn",[Die]:"fire-fn-compat",[Mie]:"fire-iid",[Lie]:"fire-iid-compat",[Vie]:"fire-fcm",[Uie]:"fire-fcm-compat",[zie]:"fire-perf",[Bie]:"fire-perf-compat",[Fie]:"fire-rc",[$ie]:"fire-rc-compat",[qie]:"fire-gcs",[Hie]:"fire-gcs-compat",[Gie]:"fire-fst",[Wie]:"fire-fst-compat",[Kie]:"fire-vertex","fire-js":"fire-js",[Yie]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=new Map,th=new Map,nh=new Map;function Mp(t,e){try{t.container.addComponent(e)}catch(n){Os.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function q9(t,e){t.container.addOrOverwriteComponent(e)}function Rs(t){const e=t.name;if(nh.has(e))return Os.debug(`There were multiple attempts to register component ${e}.`),!1;nh.set(e,t);for(const n of hl.values())Mp(n,t);for(const n of th.values())Mp(n,t);return!0}function H9(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zie(t,e,n=dl){H9(t,e).clearInstance(n)}function ZI(t){return t.options!==void 0}function G9(t){return ZI(t)?!1:"authIdToken"in t||"appCheckToken"in t||"releaseOnDeref"in t||"automaticDataCollectionEnabled"in t}function gt(t){return t==null?!1:t.settings!==void 0}function Jie(){nh.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eae={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ui=new _u("app","Firebase",eae);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K9=class{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(t,e){const n=$I(t.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(n).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3,a=new Date().getTime();i-a<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class tae extends K9{constructor(e,n,r,i){const a=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!0,s={name:r,automaticDataCollectionEnabled:a};if(e.apiKey!==void 0)super(e,s,i);else{const o=e;super(o.options,s,i)}this._serverConfig={automaticDataCollectionEnabled:a,...n},this._serverConfig.authIdToken&&hD(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&hD(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,di(px,PT,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){e2(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ui.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=Qie;function JI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:dl,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ui.create("bad-app-name",{appName:String(i)});if(n||(n=GI()),!n)throw ui.create("no-options");const a=hl.get(i);if(a){if(ul(n,a.options)&&ul(r,a.config))return a;throw ui.create("duplicate-app",{appName:i})}const s=new z9(i);for(const l of nh.values())s.addComponent(l);const o=new K9(n,r,s);return hl.set(i,o),o}function nae(t,e={}){if(Wre()&&!R9())throw ui.create("invalid-server-app-environment");let n,r=e||{};if(t&&(ZI(t)?n=t.options:G9(t)?r=t:n=t),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),n||(n=GI()),!n)throw ui.create("no-options");const i={...r,...n};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const a=d=>[...d].reduce((h,f)=>Math.imul(31,h)+f.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw ui.create("finalization-registry-not-supported",{});const s=""+a(JSON.stringify(i)),o=th.get(s);if(o)return o.incRefCount(r.releaseOnDeref),o;const l=new z9(s);for(const d of nh.values())l.addComponent(d);const c=new tae(n,r,s,l);return th.set(s,c),c}function rae(t=dl){const e=hl.get(t);if(!e&&t===dl&&GI())return JI();if(!e)throw ui.create("no-app",{appName:t});return e}function iae(){return Array.from(hl.values())}async function e2(t){let e=!1;const n=t.name;hl.has(n)?(e=!0,hl.delete(n)):th.has(n)&&t.decRefCount()<=0&&(th.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function di(t,e,n){let r=Xie[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Os.warn(s.join(" "));return}Rs(new Bi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function W9(t,e){if(t!==null&&typeof t!="function")throw ui.create("invalid-log-argument");uie(t,e)}function Y9(t){cie(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aae="firebase-heartbeat-database",sae=1,Lp="firebase-heartbeat-store";let wE=null;function Q9(){return wE||(wE=xie(aae,sae,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lp)}catch(n){console.warn(n)}}}}).catch(t=>{throw ui.create("idb-open",{originalErrorMessage:t.message})})),wE}async function oae(t){try{const n=(await Q9()).transaction(Lp),r=await n.objectStore(Lp).get(X9(t));return await n.done,r}catch(e){if(e instanceof ur)Os.warn(e.message);else{const n=ui.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Os.warn(n.message)}}}async function fD(t,e){try{const r=(await Q9()).transaction(Lp,"readwrite");await r.objectStore(Lp).put(e,X9(t)),await r.done}catch(n){if(n instanceof ur)Os.warn(n.message);else{const r=ui.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Os.warn(r.message)}}}function X9(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lae=1024,cae=30;class uae{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hae(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=mD();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>cae){const s=fae(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Os.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=mD(),{heartbeatsToSend:r,unsentEntries:i}=dae(this._heartbeatsCache.heartbeats),a=fx(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Os.warn(n),""}}}function mD(){return new Date().toISOString().substring(0,10)}function dae(t,e=lae){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),pD(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hae{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Dp()?Qre().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oae(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function pD(t){return fx(JSON.stringify({version:2,heartbeats:t})).length}function fae(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mae(t){Rs(new Bi("platform-logger",e=>new _ie(e),"PRIVATE")),Rs(new Bi("heartbeat",e=>new uae(e),"PRIVATE")),di(px,PT,t),di(px,PT,"esm2020"),di("fire-js","")}mae("");const pae=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:ur,SDK_VERSION:Qs,_DEFAULT_ENTRY_NAME:dl,_addComponent:Mp,_addOrOverwriteComponent:q9,_apps:hl,_clearComponents:Jie,_components:nh,_getProvider:H9,_isFirebaseApp:ZI,_isFirebaseServerApp:gt,_isFirebaseServerAppSettings:G9,_registerComponent:Rs,_removeServiceInstance:Zie,_serverApps:th,deleteApp:e2,getApp:rae,getApps:iae,initializeApp:JI,initializeServerApp:nae,onLog:W9,registerVersion:di,setLogLevel:Y9},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gae{constructor(e,n){this._delegate=e,this.firebase=n,Mp(e,new Bi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),e2(this._delegate)))}_getService(e,n=dl){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=dl){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Mp(this._delegate,e)}_addOrOverwriteComponent(e){q9(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yae={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},gD=new _u("app-compat","Firebase",yae);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vae(t){const e={},n={__esModule:!0,initializeApp:a,app:i,registerVersion:di,setLogLevel:Y9,onLog:W9,apps:null,SDK_VERSION:Qs,INTERNAL:{registerComponent:o,removeApp:r,useAsService:l,modularAPIs:pae}};n.default=n,Object.defineProperty(n,"apps",{get:s});function r(c){delete e[c]}function i(c){if(c=c||dl,!oD(e,c))throw gD.create("no-app",{appName:c});return e[c]}i.App=t;function a(c,d={}){const h=JI(c,d);if(oD(e,h.name))return e[h.name];const f=new t(h,n);return e[h.name]=f,f}function s(){return Object.keys(e).map(c=>e[c])}function o(c){const d=c.name,h=d.replace("-compat","");if(Rs(c)&&c.type==="PUBLIC"){const f=(m=i())=>{if(typeof m[h]!="function")throw gD.create("invalid-app-argument",{appName:d});return m[h]()};c.serviceProps!==void 0&&mx(f,c.serviceProps),n[h]=f,t.prototype[h]=function(...m){return this._getService.bind(this,d).apply(this,c.multipleInstances?m:[])}}return c.type==="PUBLIC"?n[h]:null}function l(c,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(){const t=vae(gae);t.INTERNAL={...t.INTERNAL,createFirebaseNamespace:Z9,extendNamespace:e,createSubscribe:U9,ErrorFactory:_u,deepExtend:mx};function e(n){mx(t,n)}return t}const xae=Z9();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=new gw("@firebase/app-compat"),bae="@firebase/app-compat",wae="0.5.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ae(t){di(bae,wae,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=qI();if(t.firebase!==void 0){yD.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&yD.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const et=xae;_ae();var Eae="firebase",Sae="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */et.registerVersion(Eae,Sae,"app-compat");const Kf={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Vu={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tae(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function J9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Aae=Tae,Nae=J9,eB=new _u("auth","Firebase",J9());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=new gw("@firebase/auth");function Iae(t,...e){gx.logLevel<=Ee.WARN&&gx.warn(`Auth (${Qs}): ${t}`,...e)}function d0(t,...e){gx.logLevel<=Ee.ERROR&&gx.error(`Auth (${Qs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t,...e){throw n2(t,...e)}function xn(t,...e){return n2(t,...e)}function t2(t,e,n){const r={...Nae(),[e]:n};return new _u("auth","Firebase",r).create(e,{appName:t.name})}function Vn(t){return t2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wh(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Zn(t,"argument-error"),t2(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function n2(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eB.create(t,...e)}function Y(t,e,...n){if(!t)throw n2(e,...n)}function Sa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw d0(e),new Error(e)}function sa(t,e){t||Sa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function r2(){return vD()==="http:"||vD()==="https:"}function vD(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pae(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(r2()||D9()||"connection"in navigator)?navigator.onLine:!0}function Cae(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n){this.shortDelay=e,this.longDelay=n,sa(n>e,"Short delay should be less than long delay!"),this.isMobile=Kre()||YI()}get(){return Pae()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t,e){sa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kae=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Oae=new Hg(3e4,6e4);function qt(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ht(t,e,n,r,i={}){return nB(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=Kh({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...a};return Yre()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Pl(t.emulatorConfig.host)&&(c.credentials="include"),tB.fetch()(await rB(t,t.config.apiHost,n,o),c)})}async function nB(t,e,n){t._canInitEmulator=!1;const r={...jae,...e};try{const i=new Dae(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw wm(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw wm(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw wm(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw wm(t,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw t2(t,d,c);Zn(t,d)}}catch(i){if(i instanceof ur)throw i;Zn(t,"network-request-failed",{message:String(i)})}}async function Xs(t,e,n,r,i={}){const a=await Ht(t,e,n,r,i);return"mfaPendingCredential"in a&&Zn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function rB(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?i2(t.config,i):`${t.config.apiScheme}://${i}`;return kae.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function Rae(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Dae{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xn(this.auth,"network-request-failed")),Oae.get())})}}function wm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=xn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t){return t!==void 0&&t.getResponse!==void 0}function bD(t){return t!==void 0&&t.enterprise!==void 0}class iB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Rae(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mae(t){return(await Ht(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function aB(t,e){return Ht(t,"GET","/v2/recaptchaConfig",qt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lae(t,e){return Ht(t,"POST","/v1/accounts:delete",e)}async function Vae(t,e){return Ht(t,"POST","/v1/accounts:update",e)}async function yx(t,e){return Ht(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Uae(t,e=!1){const n=le(t),r=await n.getIdToken(e),i=yw(r);Y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Ym(_E(i.auth_time)),issuedAtTime:Ym(_E(i.iat)),expirationTime:Ym(_E(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function _E(t){return Number(t)*1e3}function yw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return d0("JWT malformed, contained fewer than 3 sections"),null;try{const i=$I(n);return i?JSON.parse(i):(d0("Failed to decode base64 JWT payload"),null)}catch(i){return d0("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function wD(t){const e=yw(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ds(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ur&&zae(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function zae({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bae{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ym(this.lastLoginAt),this.creationTime=Ym(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Up(t){var h;const e=t.auth,n=await t.getIdToken(),r=await Ds(t,yx(e,{idToken:n}));Y(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(h=i.providerUserInfo)!=null&&h.length?sB(i.providerUserInfo):[],s=$ae(t.providerData,a),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=o?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new CT(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function Fae(t){const e=le(t);await Up(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $ae(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sB(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qae(t,e){const n=await nB(t,{},async()=>{const r=Kh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await rB(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&Pl(t.emulatorConfig.host)&&(l.credentials="include"),tB.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Hae(t,e){return Ht(t,"POST","/v2/accounts:revokeToken",qt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");const n=wD(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await qae(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new Od;return r&&(Y(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Y(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Od,this.toJSON())}_performRefresh(){return Sa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ra{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Bae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new CT(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ds(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Uae(this,e)}reload(){return Fae(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ra({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Up(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gt(this.auth.app))return Promise.reject(Vn(this.auth));const e=await this.getIdToken();return await Ds(this,Lae(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:f,isAnonymous:m,providerData:y,stsTokenManager:v}=n;Y(h&&v,e,"internal-error");const x=Od.fromJSON(this.name,v);Y(typeof h=="string",e,"internal-error"),xo(r,e.name),xo(i,e.name),Y(typeof f=="boolean",e,"internal-error"),Y(typeof m=="boolean",e,"internal-error"),xo(a,e.name),xo(s,e.name),xo(o,e.name),xo(l,e.name),xo(c,e.name),xo(d,e.name);const b=new ra({uid:h,auth:e,email:i,emailVerified:f,displayName:r,isAnonymous:m,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:x,createdAt:c,lastLoginAt:d});return y&&Array.isArray(y)&&(b.providerData=y.map(w=>({...w}))),l&&(b._redirectEventId=l),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new Od;i.updateFromServerResponse(n);const a=new ra({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Up(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Y(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?sB(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new Od;o.updateFromIdToken(r);const l=new ra({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new CT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=new Map;function ii(t){sa(t instanceof Function,"Expected a class definition");let e=_D.get(t);return e?(sa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_D.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}oB.type="NONE";const rh=oB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t,e,n){return`firebase:${t}:${e}:${n}`}class Rd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Cc(this.userKey,i.apiKey,a),this.fullPersistenceKey=Cc("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yx(this.auth,{idToken:e}).catch(()=>{});return n?ra._fromGetAccountInfoResponse(this.auth,n,e):null}return ra._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Rd(ii(rh),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||ii(rh);const s=Cc(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const d=await c._get(s);if(d){let h;if(typeof d=="string"){const f=await yx(e,{idToken:d}).catch(()=>{});if(!f)break;h=await ra._fromGetAccountInfoResponse(e,f,d)}else h=ra._fromJSON(e,d);c!==a&&(o=h),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Rd(a,e,r):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(s)}catch{}})),new Rd(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hB(e))return"Blackberry";if(fB(e))return"Webos";if(cB(e))return"Safari";if((e.includes("chrome/")||uB(e))&&!e.includes("edge/"))return"Chrome";if(Gg(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lB(t=Rt()){return/firefox\//i.test(t)}function cB(t=Rt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uB(t=Rt()){return/crios\//i.test(t)}function dB(t=Rt()){return/iemobile/i.test(t)}function Gg(t=Rt()){return/android/i.test(t)}function hB(t=Rt()){return/blackberry/i.test(t)}function fB(t=Rt()){return/webos/i.test(t)}function Kg(t=Rt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Gae(t=Rt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function Kae(t=Rt()){var e;return Kg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Wae(){return M9()&&document.documentMode===10}function mB(t=Rt()){return Kg(t)||Gg(t)||fB(t)||hB(t)||/windows phone/i.test(t)||dB(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pB(t,e=[]){let n;switch(t){case"Browser":n=ED(Rt());break;case"Worker":n=`${ED(Rt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yae{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qae(t,e={}){return Ht(t,"GET","/v2/passwordPolicy",qt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xae=6;class Zae{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Xae,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jae{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SD(this),this.idTokenSubscription=new SD(this),this.beforeStateQueue=new Yae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ii(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Rd.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yx(this,{idToken:e}),r=await ra._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(gt(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Up(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Cae()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gt(this.app))return Promise.reject(Vn(this));const n=e?le(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gt(this.app)?Promise.reject(Vn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gt(this.app)?Promise.reject(Vn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Qae(this),n=new Zae(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _u("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Hae(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ii(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await Rd.create(this,[ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(gt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Iae(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Dt(t){return le(t)}class SD{constructor(e){this.auth=e,this.observer=null,this.addObserver=U9(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ese(t){Wg=t}function a2(t){return Wg.loadJS(t)}function tse(){return Wg.recaptchaV2Script}function nse(){return Wg.recaptchaEnterpriseScript}function rse(){return Wg.gapiScript}function gB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ise=500,ase=6e4,mv=1e12;class sse{constructor(e){this.auth=e,this.counter=mv,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new cse(e,this.auth.name,n||{})),this.counter++,r}reset(e){var r;const n=e||mv;(r=this._widgets.get(n))==null||r.delete(),this._widgets.delete(n)}getResponse(e){var r;const n=e||mv;return((r=this._widgets.get(n))==null?void 0:r.getResponse())||""}async execute(e){var r;const n=e||mv;return(r=this._widgets.get(n))==null||r.execute(),""}}class ose{constructor(){this.enterprise=new lse}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class lse{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class cse{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;Y(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=use(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},ase)},ise))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function use(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const dse="recaptcha-enterprise",Qm="NO_RECAPTCHA";class yB{constructor(e){this.type=dse,this.auth=Dt(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{aB(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new iB(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,s(c.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;bD(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{s(c)}).catch(()=>{s(Qm)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ose().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&bD(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=nse();l.length!==0&&(l+=o),a2(l).then(()=>{i(o,a,s)}).catch(c=>{s(c)})}}).catch(o=>{s(o)})})}}async function Wf(t,e,n,r=!1,i=!1){const a=new yB(t);let s;if(i)s=Qm;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function el(t,e,n,r,i){var a,s;if(i==="EMAIL_PASSWORD_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Wf(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Wf(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)});else if(i==="PHONE_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("PHONE_PROVIDER")){const o=await Wf(t,e,n);return r(t,o).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())==null?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const d=await Wf(t,e,n,!1,!0);return r(t,d)}return Promise.reject(l)})}else{const o=await Wf(t,e,n,!1,!0);return r(t,o)}else return Promise.reject(i+" provider is not supported.")}async function hse(t){const e=Dt(t),n=await aB(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new iB(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new yB(e).verify()}function fse(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ii);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function mse(t,e,n){const r=Dt(t);Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),a=vB(e),{host:s,port:o}=pse(e),l=o===null?"":`:${o}`,c={url:`${a}//${s}${l}/`},d=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Y(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Y(ul(c,r.config.emulator)&&ul(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Pl(s)?(KI(`${a}//${s}${l}`),WI("Auth",!0)):i||gse()}function vB(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pse(t){const e=vB(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:TD(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:TD(s)}}}function TD(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gse(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Sa("not implemented")}_getIdTokenResponse(e){return Sa("not implemented")}_linkToIdToken(e,n){return Sa("not implemented")}_getReauthenticationResolver(e){return Sa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xB(t,e){return Ht(t,"POST","/v1/accounts:resetPassword",qt(t,e))}async function yse(t,e){return Ht(t,"POST","/v1/accounts:update",e)}async function vse(t,e){return Ht(t,"POST","/v1/accounts:signUp",e)}async function xse(t,e){return Ht(t,"POST","/v1/accounts:update",qt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bse(t,e){return Xs(t,"POST","/v1/accounts:signInWithPassword",qt(t,e))}async function vw(t,e){return Ht(t,"POST","/v1/accounts:sendOobCode",qt(t,e))}async function wse(t,e){return vw(t,e)}async function _se(t,e){return vw(t,e)}async function Ese(t,e){return vw(t,e)}async function Sse(t,e){return vw(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tse(t,e){return Xs(t,"POST","/v1/accounts:signInWithEmailLink",qt(t,e))}async function Ase(t,e){return Xs(t,"POST","/v1/accounts:signInWithEmailLink",qt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends Yh{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new zp(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new zp(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return el(e,n,"signInWithPassword",bse,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Tse(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return el(e,r,"signUpPassword",vse,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Ase(e,{idToken:n,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xs(t,e){return Xs(t,"POST","/v1/accounts:signInWithIdp",qt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nse="http://localhost";class La extends Yh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new La(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new La(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return xs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xs(e,n)}buildRequest(){const e={requestUri:Nse,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Kh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(t,e){return Ht(t,"POST","/v1/accounts:sendVerificationCode",qt(t,e))}async function Ise(t,e){return Xs(t,"POST","/v1/accounts:signInWithPhoneNumber",qt(t,e))}async function Pse(t,e){const n=await Xs(t,"POST","/v1/accounts:signInWithPhoneNumber",qt(t,e));if(n.temporaryProof)throw wm(t,"account-exists-with-different-credential",n);return n}const Cse={USER_NOT_FOUND:"user-not-found"};async function jse(t,e){const n={...e,operation:"REAUTH"};return Xs(t,"POST","/v1/accounts:signInWithPhoneNumber",qt(t,n),Cse)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends Yh{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new jc({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new jc({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return Ise(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return Pse(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return jse(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a}=e;return!r&&!n&&!i&&!a?null:new jc({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kse(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ose(t){const e=yd(bm(t)).link,n=e?yd(bm(e)).deep_link_id:null,r=yd(bm(t)).deep_link_id;return(r?yd(bm(r)).link:null)||r||n||e||t}class xw{constructor(e){const n=yd(bm(e)),r=n.apiKey??null,i=n.oobCode??null,a=kse(n.mode??null);Y(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Ose(e);try{return new xw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(){this.providerId=Cl.PROVIDER_ID}static credential(e,n){return zp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xw.parseLink(n);return Y(r,"argument-error"),zp._fromEmailAndCode(e,r.code,r.tenantId)}}Cl.PROVIDER_ID="password";Cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends Zs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Dd extends Qh{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return Y("providerId"in n&&"signInMethod"in n,"argument-error"),La._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return Y(e.idToken||e.accessToken,"argument-error"),La._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Dd.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Dd.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:a,nonce:s,providerId:o}=e;if(!r&&!i&&!n&&!a||!o)return null;try{return new Dd(o)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:a})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends Qh{constructor(){super("facebook.com")}static credential(e){return La._fromParams({providerId:ga.PROVIDER_ID,signInMethod:ga.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ga.credentialFromTaggedObject(e)}static credentialFromError(e){return ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ga.credential(e.oauthAccessToken)}catch{return null}}}ga.FACEBOOK_SIGN_IN_METHOD="facebook.com";ga.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends Qh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return La._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ya.credential(n,r)}catch{return null}}}ya.GOOGLE_SIGN_IN_METHOD="google.com";ya.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends Qh{constructor(){super("github.com")}static credential(e){return La._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return va.credential(e.oauthAccessToken)}catch{return null}}}va.GITHUB_SIGN_IN_METHOD="github.com";va.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rse="http://localhost";class ih extends Yh{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return xs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xs(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:a}=n;return!r||!i||!a||r!==i?null:new ih(r,a)}static _create(e,n){return new ih(e,n)}buildRequest(){return{requestUri:Rse,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dse="saml.";class vx extends Zs{constructor(e){Y(e.startsWith(Dse),"argument-error"),super(e)}static credentialFromResult(e){return vx.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return vx.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=ih.fromJSON(e);return Y(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return ih._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends Qh{constructor(){super("twitter.com")}static credential(e,n){return La._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xa.credentialFromTaggedObject(e)}static credentialFromError(e){return xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return xa.credential(n,r)}catch{return null}}}xa.TWITTER_SIGN_IN_METHOD="twitter.com";xa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bB(t,e){return Xs(t,"POST","/v1/accounts:signUp",qt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await ra._fromIdTokenResponse(e,r,i),s=ND(r);return new Fi({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ND(r);return new Fi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ND(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mse(t){var i;if(gt(t.app))return Promise.reject(Vn(t));const e=Dt(t);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new Fi({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await bB(e,{returnSecureToken:!0}),r=await Fi._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx extends ur{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,xx.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new xx(e,n,r,i)}}function wB(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?xx._fromErrorAndOperation(t,a,e,r):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _B(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lse(t,e){const n=le(t);await bw(!0,n,e);const{providerUserInfo:r}=await Vae(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=_B(r||[]);return n.providerData=n.providerData.filter(a=>i.has(a.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function s2(t,e,n=!1){const r=await Ds(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fi._forOperation(t,"link",r)}async function bw(t,e,n){await Up(e);const r=_B(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";Y(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EB(t,e,n=!1){const{auth:r}=t;if(gt(r.app))return Promise.reject(Vn(r));const i="reauthenticate";try{const a=await Ds(t,wB(r,i,e,t),n);Y(a.idToken,r,"internal-error");const s=yw(a.idToken);Y(s,r,"internal-error");const{sub:o}=s;return Y(t.uid===o,r,"user-mismatch"),Fi._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Zn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SB(t,e,n=!1){if(gt(t.app))return Promise.reject(Vn(t));const r="signIn",i=await wB(t,r,e),a=await Fi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function ww(t,e){return SB(Dt(t),e)}async function TB(t,e){const n=le(t);return await bw(!1,n,e.providerId),s2(n,e)}async function AB(t,e){return EB(le(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vse(t,e){return Xs(t,"POST","/v1/accounts:signInWithCustomToken",qt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Use(t,e){if(gt(t.app))return Promise.reject(Vn(t));const n=Dt(t),r=await Vse(n,{token:e,returnSecureToken:!0}),i=await Fi._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?o2._fromServerResponse(e,n):"totpInfo"in n?l2._fromServerResponse(e,n):Zn(e,"internal-error")}}class o2 extends Yg{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new o2(n)}}class l2 extends Yg{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new l2(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(t,e,n){var r;Y(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),Y(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),Y(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Y(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Y(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(t){const e=Dt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zse(t,e,n){const r=Dt(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&_w(r,i,n),await el(r,i,"getOobCode",_se,"EMAIL_PASSWORD_PROVIDER")}async function Bse(t,e,n){await xB(le(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&c2(t),r})}async function Fse(t,e){await xse(le(t),{oobCode:e})}async function NB(t,e){const n=le(t),r=await xB(n,{oobCode:e}),i=r.requestType;switch(Y(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Y(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Y(r.mfaInfo,n,"internal-error");default:Y(r.email,n,"internal-error")}let a=null;return r.mfaInfo&&(a=Yg._fromServerResponse(Dt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:a},operation:i}}async function $se(t,e){const{data:n}=await NB(le(t),e);return n.email}async function qse(t,e,n){if(gt(t.app))return Promise.reject(Vn(t));const r=Dt(t),s=await el(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bB,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&c2(t),l}),o=await Fi._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function Hse(t,e,n){return gt(t.app)?Promise.reject(Vn(t)):ww(le(t),Cl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&c2(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gse(t,e,n){const r=Dt(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(s,o){Y(o.handleCodeInApp,r,"argument-error"),o&&_w(r,s,o)}a(i,n),await el(r,i,"getOobCode",Ese,"EMAIL_PASSWORD_PROVIDER")}function Kse(t,e){const n=xw.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function Wse(t,e,n){if(gt(t.app))return Promise.reject(Vn(t));const r=le(t),i=Cl.credentialWithLink(e,n||Vp());return Y(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),ww(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yse(t,e){return Ht(t,"POST","/v1/accounts:createAuthUri",qt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qse(t,e){const n=r2()?Vp():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await Yse(le(t),r);return i||[]}async function Xse(t,e){const n=le(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&_w(n.auth,i,e);const{email:a}=await wse(n.auth,i);a!==t.email&&await t.reload()}async function Zse(t,e,n){const r=le(t),a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&_w(r.auth,a,n);const{email:s}=await Sse(r.auth,a);s!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jse(t,e){return Ht(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eoe(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=le(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await Ds(r,Jse(r.auth,a));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function toe(t,e){const n=le(t);return gt(n.auth.app)?Promise.reject(Vn(n.auth)):IB(n,e,null)}function noe(t,e){return IB(le(t),null,e)}async function IB(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(a.email=e),n&&(a.password=n);const s=await Ds(t,yse(r,a));await t._updateTokensIfNecessary(s,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function roe(t){var i,a;if(!t)return null;const{providerId:e}=t,n=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},r=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(t!=null&&t.idToken)){const s=(a=(i=yw(t.idToken))==null?void 0:i.firebase)==null?void 0:a.sign_in_provider;if(s){const o=s!=="anonymous"&&s!=="custom"?s:null;return new Md(r,o)}}if(!e)return null;switch(e){case"facebook.com":return new ioe(r,n);case"github.com":return new aoe(r,n);case"google.com":return new soe(r,n);case"twitter.com":return new ooe(r,n,t.screenName||null);case"custom":case"anonymous":return new Md(r,null);default:return new Md(r,e,n)}}class Md{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class PB extends Md{constructor(e,n,r,i){super(e,n,r),this.username=i}}class ioe extends Md{constructor(e,n){super(e,"facebook.com",n)}}class aoe extends PB{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class soe extends Md{constructor(e,n){super(e,"google.com",n)}}class ooe extends PB{constructor(e,n,r){super(e,"twitter.com",n,r)}}function loe(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:roe(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new yc("enroll",e,n)}static _fromMfaPendingCredential(e){return new yc("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if((n=e.multiFactorSession)!=null&&n.pendingCredential)return yc._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((r=e.multiFactorSession)!=null&&r.idToken)return yc._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Dt(e),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map(o=>Yg._fromServerResponse(r,o));Y(i.mfaPendingCredential,r,"internal-error");const s=yc._fromMfaPendingCredential(i.mfaPendingCredential);return new u2(s,a,async o=>{const l=await o._process(r,s);delete i.mfaInfo,delete i.mfaPendingCredential;const c={...i,idToken:l.idToken,refreshToken:l.refreshToken};switch(n.operationType){case"signIn":const d=await Fi._fromIdTokenResponse(r,n.operationType,c);return await r._updateCurrentUser(d.user),d;case"reauthenticate":return Y(n.user,r,"internal-error"),Fi._forOperation(n.user,n.operationType,c);default:Zn(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function coe(t,e){var i;const n=le(t),r=e;return Y(e.customData.operationType,n,"argument-error"),Y((i=r.customData._serverResponse)==null?void 0:i.mfaPendingCredential,n,"argument-error"),u2._fromError(n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t,e){return Ht(t,"POST","/v2/accounts/mfaEnrollment:start",qt(t,e))}function uoe(t,e){return Ht(t,"POST","/v2/accounts/mfaEnrollment:finalize",qt(t,e))}function doe(t,e){return Ht(t,"POST","/v2/accounts/mfaEnrollment:withdraw",qt(t,e))}class d2{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Yg._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new d2(e)}async getSession(){return yc._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),a=await Ds(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(a),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Ds(this.user,doe(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:a})=>a!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const EE=new WeakMap;function hoe(t){const e=le(t);return EE.has(e)||EE.set(e,d2._fromUser(e)),EE.get(e)}const bx="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bx,"1"),this.storage.removeItem(bx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const foe=1e3,moe=10;class jB extends CB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mB(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);Wae()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,moe):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},foe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jB.type="LOCAL";const h2=jB;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB extends CB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kB.type="SESSION";const Wc=kB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function poe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ew(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async c=>c(n.origin,a)),l=await poe(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ew.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class goe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const c=Qg("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(f.data.response);break;default:clearTimeout(d),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return window}function yoe(t){nn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(){return typeof nn().WorkerGlobalScope<"u"&&typeof nn().importScripts=="function"}async function voe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xoe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function boe(){return f2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB="firebaseLocalStorageDb",woe=1,wx="firebaseLocalStorage",RB="fbase_key";class Xg{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sw(t,e){return t.transaction([wx],e?"readwrite":"readonly").objectStore(wx)}function _oe(){const t=indexedDB.deleteDatabase(OB);return new Xg(t).toPromise()}function jT(){const t=indexedDB.open(OB,woe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wx,{keyPath:RB})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wx)?e(r):(r.close(),await _oe(),e(await jT()))})})}async function PD(t,e,n){const r=Sw(t,!0).put({[RB]:e,value:n});return new Xg(r).toPromise()}async function Eoe(t,e){const n=Sw(t,!1).get(e),r=await new Xg(n).toPromise();return r===void 0?null:r.value}function CD(t,e){const n=Sw(t,!0).delete(e);return new Xg(n).toPromise()}const Soe=800,Toe=3;class DB{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jT(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Toe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return f2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ew._getInstance(boe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await voe(),!this.activeServiceWorker)return;this.sender=new goe(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xoe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jT();return await PD(e,bx,"1"),await CD(e,bx),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>PD(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Eoe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>CD(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Sw(i,!1).getAll();return new Xg(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Soe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DB.type="LOCAL";const Bp=DB;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t,e){return Ht(t,"POST","/v2/accounts/mfaSignIn:start",qt(t,e))}function Aoe(t,e){return Ht(t,"POST","/v2/accounts/mfaSignIn:finalize",qt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=gB("rcb"),Noe=new Hg(3e4,6e4);class Ioe{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=nn().grecaptcha)!=null&&e.render)}load(e,n=""){return Y(Poe(n),e,"argument-error"),this.shouldResolveImmediately(n)&&xD(nn().grecaptcha)?Promise.resolve(nn().grecaptcha):new Promise((r,i)=>{const a=nn().setTimeout(()=>{i(xn(e,"network-request-failed"))},Noe.get());nn()[SE]=()=>{nn().clearTimeout(a),delete nn()[SE];const o=nn().grecaptcha;if(!o||!xD(o)){i(xn(e,"internal-error"));return}const l=o.render;o.render=(c,d)=>{const h=l(c,d);return this.counter++,h},this.hostLanguage=n,r(o)};const s=`${tse()}?${Kh({onload:SE,render:"explicit",hl:n})}`;a2(s).catch(()=>{clearTimeout(a),i(xn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!((n=nn().grecaptcha)!=null&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Poe(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class Coe{async load(e){return new sse(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="recaptcha",joe={theme:"light",type:"image"};let koe=class{constructor(e,n,r={...joe}){this.parameters=r,this.type=Xm,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Dt(e),this.isInvisible=this.parameters.size==="invisible",Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;Y(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Coe:new Ioe,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const a=s=>{s&&(this.tokenChangeListeners.delete(a),i(s))};this.tokenChangeListeners.add(a),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Y(!this.parameters.sitekey,this.auth,"argument-error"),Y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=nn()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){Y(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Y(r2()&&!f2(),this.auth,"internal-error"),await Ooe(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Mae(this.auth);Y(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function Ooe(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=jc._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function Roe(t,e,n){if(gt(t.app))return Promise.reject(Vn(t));const r=Dt(t),i=await Tw(r,e,le(n));return new m2(i,a=>ww(r,a))}async function Doe(t,e,n){const r=le(t);await bw(!1,r,"phone");const i=await Tw(r.auth,e,le(n));return new m2(i,a=>TB(r,a))}async function Moe(t,e,n){const r=le(t);if(gt(r.auth.app))return Promise.reject(Vn(r.auth));const i=await Tw(r.auth,e,le(n));return new m2(i,a=>AB(r,a))}async function Tw(t,e,n){var r;if(!t._getRecaptchaConfig())try{await hse(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const a=i.session;if("phoneNumber"in i){Y(a.type==="enroll",t,"internal-error");const s={idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await el(t,s,"mfaSmsEnrollment",async(d,h)=>{if(h.phoneEnrollmentInfo.captchaResponse===Qm){Y((n==null?void 0:n.type)===Xm,d,"argument-error");const f=await TE(d,h,n);return ID(d,f)}return ID(d,h)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).phoneSessionInfo.sessionInfo}else{Y(a.type==="signin",t,"internal-error");const s=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;Y(s,t,"missing-multi-factor-info");const o={mfaPendingCredential:a.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await el(t,o,"mfaSmsSignIn",async(h,f)=>{if(f.phoneSignInInfo.captchaResponse===Qm){Y((n==null?void 0:n.type)===Xm,h,"argument-error");const m=await TE(h,f,n);return jD(h,m)}return jD(h,f)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneResponseInfo.sessionInfo}}else{const a={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await el(t,a,"sendVerificationCode",async(c,d)=>{if(d.captchaResponse===Qm){Y((n==null?void 0:n.type)===Xm,c,"argument-error");const h=await TE(c,d,n);return AD(c,h)}return AD(c,d)},"PHONE_PROVIDER").catch(c=>Promise.reject(c))).sessionInfo}}finally{n==null||n._reset()}}async function Loe(t,e){const n=le(t);if(gt(n.auth.app))return Promise.reject(Vn(n.auth));await s2(n,e)}async function TE(t,e,n){Y(n.type===Xm,t,"argument-error");const r=await n.verify();Y(typeof r=="string",t,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const a=i.phoneEnrollmentInfo.phoneNumber,s=i.phoneEnrollmentInfo.captchaResponse,o=i.phoneEnrollmentInfo.clientType,l=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r,captchaResponse:s,clientType:o,recaptchaVersion:l}}),i}else if("phoneSignInInfo"in i){const a=i.phoneSignInInfo.captchaResponse,s=i.phoneSignInInfo.clientType,o=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:a,clientType:s,recaptchaVersion:o}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc=class h0{constructor(e){this.providerId=h0.PROVIDER_ID,this.auth=Dt(e)}verifyPhoneNumber(e,n){return Tw(this.auth,e,le(n))}static credential(e,n){return jc._fromVerification(e,n)}static credentialFromResult(e){const n=e;return h0.credentialFromTaggedObject(n)}static credentialFromError(e){return h0.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?jc._fromTokenResponse(n,r):null}};Yc.PROVIDER_ID="phone";Yc.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t,e){return e?ii(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2 extends Yh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Voe(t){return SB(t.auth,new p2(t),t.bypassAuthState)}function Uoe(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),EB(n,new p2(t),t.bypassAuthState)}async function zoe(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),s2(n,new p2(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Voe;case"linkViaPopup":case"linkViaRedirect":return zoe;case"reauthViaPopup":case"reauthViaRedirect":return Uoe;default:Zn(this.auth,"internal-error")}}resolve(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Boe=new Hg(2e3,1e4);async function Foe(t,e,n){if(gt(t.app))return Promise.reject(xn(t,"operation-not-supported-in-this-environment"));const r=Dt(t);Wh(t,e,Zs);const i=Eu(r,n);return new ds(r,"signInViaPopup",e,i).executeNotNull()}async function $oe(t,e,n){const r=le(t);if(gt(r.auth.app))return Promise.reject(xn(r.auth,"operation-not-supported-in-this-environment"));Wh(r.auth,e,Zs);const i=Eu(r.auth,n);return new ds(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function qoe(t,e,n){const r=le(t);Wh(r.auth,e,Zs);const i=Eu(r.auth,n);return new ds(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class ds extends MB{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,ds.currentPopupAction&&ds.currentPopupAction.cancel(),ds.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Y(e,this.auth,"internal-error"),e}async onExecution(){sa(this.filter.length===1,"Popup operations only handle one event");const e=Qg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ds.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Boe.get())};e()}}ds.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hoe="pendingRedirect",Zm=new Map;class Goe extends MB{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zm.get(this.auth._key());if(!e){try{const r=await Koe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zm.set(this.auth._key(),e)}return this.bypassAuthState||Zm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Koe(t,e){const n=VB(e),r=LB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function g2(t,e){return LB(t)._set(VB(e),"true")}function Woe(){Zm.clear()}function y2(t,e){Zm.set(t._key(),e)}function LB(t){return ii(t._redirectPersistence)}function VB(t){return Cc(Hoe,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yoe(t,e,n){return Qoe(t,e,n)}async function Qoe(t,e,n){if(gt(t.app))return Promise.reject(Vn(t));const r=Dt(t);Wh(t,e,Zs),await r._initializationPromise;const i=Eu(r,n);return await g2(i,r),i._openRedirect(r,e,"signInViaRedirect")}function Xoe(t,e,n){return Zoe(t,e,n)}async function Zoe(t,e,n){const r=le(t);if(Wh(r.auth,e,Zs),gt(r.auth.app))return Promise.reject(Vn(r.auth));await r.auth._initializationPromise;const i=Eu(r.auth,n);await g2(i,r.auth);const a=await UB(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",a)}function Joe(t,e,n){return ele(t,e,n)}async function ele(t,e,n){const r=le(t);Wh(r.auth,e,Zs),await r.auth._initializationPromise;const i=Eu(r.auth,n);await bw(!1,r,e.providerId),await g2(i,r.auth);const a=await UB(r);return i._openRedirect(r.auth,e,"linkViaRedirect",a)}async function tle(t,e){return await Dt(t)._initializationPromise,Aw(t,e,!1)}async function Aw(t,e,n=!1){if(gt(t.app))return Promise.reject(Vn(t));const r=Dt(t),i=Eu(r,e),s=await new Goe(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}async function UB(t){const e=Qg(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nle=10*60*1e3;class zB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rle(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!BB(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(xn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nle&&this.cachedEventUids.clear(),this.cachedEventUids.has(kD(e))}saveEventToCache(e){this.cachedEventUids.add(kD(e)),this.lastProcessedEventTime=Date.now()}}function kD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BB({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rle(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BB(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FB(t,e={}){return Ht(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ile=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ale=/^https?/;async function sle(t){if(t.config.emulator)return;const{authorizedDomains:e}=await FB(t);for(const n of e)try{if(ole(n))return}catch{}Zn(t,"unauthorized-domain")}function ole(t){const e=Vp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!ale.test(n))return!1;if(ile.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lle=new Hg(3e4,6e4);function OD(){const t=nn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cle(t){return new Promise((e,n)=>{var i,a,s;function r(){OD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OD(),n(xn(t,"network-request-failed"))},timeout:lle.get()})}if((a=(i=nn().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=nn().gapi)!=null&&s.load)r();else{const o=gB("iframefcb");return nn()[o]=()=>{gapi.load?r():n(xn(t,"network-request-failed"))},a2(`${rse()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw f0=null,e})}let f0=null;function ule(t){return f0=f0||cle(t),f0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dle=new Hg(5e3,15e3),hle="__/auth/iframe",fle="emulator/auth/iframe",mle={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ple=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gle(t){const e=t.config;Y(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?i2(e,fle):`https://${t.config.authDomain}/${hle}`,r={apiKey:e.apiKey,appName:t.name,v:Qs},i=ple.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Kh(r).slice(1)}`}async function yle(t){const e=await ule(t),n=nn().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:gle(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mle,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=xn(t,"network-request-failed"),o=nn().setTimeout(()=>{a(s)},dle.get());function l(){nn().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vle={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xle=500,ble=600,wle="_blank",_le="http://localhost";class RD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ele(t,e,n,r=xle,i=ble){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...vle,width:r.toString(),height:i.toString(),top:a,left:s},c=Rt().toLowerCase();n&&(o=uB(c)?wle:n),lB(c)&&(e=e||_le,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,y])=>`${f}${m}=${y},`,"");if(Kae(c)&&o!=="_self")return Sle(e||"",o),new RD(null);const h=window.open(e||"",o,d);Y(h,t,"popup-blocked");try{h.focus()}catch{}return new RD(h)}function Sle(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tle="__/auth/handler",Ale="emulator/auth/handler",Nle=encodeURIComponent("fac");async function kT(t,e,n,r,i,a){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qs,eventId:i};if(e instanceof Zs){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",eie(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(a||{}))s[d]=h}if(e instanceof Qh){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await t._getAppCheckToken(),c=l?`#${Nle}=${encodeURIComponent(l)}`:"";return`${Ile(t)}?${Kh(o).slice(1)}${c}`}function Ile({config:t}){return t.emulator?i2(t,Ale):`https://${t.authDomain}/${Tle}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="webStorageSupport";class Ple{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wc,this._completeRedirectFn=Aw,this._overrideRedirectResult=y2}async _openPopup(e,n,r,i){var s;sa((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await kT(e,n,r,Vp(),i);return Ele(e,a,Qg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await kT(e,n,r,Vp(),i);return yoe(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(sa(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await yle(e),r=new zB(e);return n.register("authEvent",i=>(Y(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(AE,{type:AE},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[AE];a!==void 0&&n(!!a),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sle(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mB()||cB()||Kg()}}const Cle=Ple;class jle{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Sa("unexpected MultiFactorSessionType")}}}class v2 extends jle{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new v2(e)}_finalizeEnroll(e,n,r){return uoe(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return Aoe(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class $B{constructor(){}static assertion(e){return v2._fromCredential(e)}}$B.FACTOR_ID="phone";var DD="@firebase/auth",MD="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kle{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ole(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Rle(t){Rs(new Bi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;Y(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pB(t)},c=new Jae(r,i,a,l);return fse(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Rs(new Bi("auth-internal",e=>{const n=Dt(e.getProvider("auth").getImmediate());return(r=>new kle(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),di(DD,MD,Ole(t)),di(DD,MD,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dle=5*60;$re("authIdTokenMaxAge");function Mle(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}ese({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=xn("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",Mle().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Rle("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lle=2e3;async function Vle(t,e,n){const{BuildInfo:r}=Qc();sa(e.sessionId,"AuthEvent did not contain a session ID");const i=await $le(e.sessionId),a={};return Kg()?a.ibi=r.packageName:Gg()?a.apn=r.packageName:Zn(t,"operation-not-supported-in-this-environment"),r.displayName&&(a.appDisplayName=r.displayName),a.sessionId=i,kT(t,n,e.type,void 0,e.eventId??void 0,a)}async function Ule(t){const{BuildInfo:e}=Qc(),n={};Kg()?n.iosBundleId=e.packageName:Gg()?n.androidPackageName=e.packageName:Zn(t,"operation-not-supported-in-this-environment"),await FB(t,n)}function zle(t){const{cordova:e}=Qc();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,Gae()?"_blank":"_system","location=yes"),n(i)})})}async function Ble(t,e,n){const{cordova:r}=Qc();let i=()=>{};try{await new Promise((a,s)=>{let o=null;function l(){var f;a();const h=(f=r.plugins.browsertab)==null?void 0:f.close;typeof h=="function"&&h(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function c(){o||(o=window.setTimeout(()=>{s(xn(t,"redirect-cancelled-by-user"))},Lle))}function d(){(document==null?void 0:document.visibilityState)==="visible"&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),Gg()&&document.addEventListener("visibilitychange",d,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",d,!1),o&&window.clearTimeout(o)}})}finally{i()}}function Fle(t){var n,r,i,a,s,o,l,c,d,h;const e=Qc();Y(typeof((n=e==null?void 0:e.universalLinks)==null?void 0:n.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Y(typeof((r=e==null?void 0:e.BuildInfo)==null?void 0:r.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Y(typeof((s=(a=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:a.browsertab)==null?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Y(typeof((c=(l=(o=e==null?void 0:e.cordova)==null?void 0:o.plugins)==null?void 0:l.browsertab)==null?void 0:c.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Y(typeof((h=(d=e==null?void 0:e.cordova)==null?void 0:d.InAppBrowser)==null?void 0:h.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function $le(t){const e=qle(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function qle(t){if(sa(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hle=20;class Gle extends zB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function Kle(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:Qle(),postBody:null,tenantId:t.tenantId,error:xn(t,"no-auth-event")}}function Wle(t,e){return OT()._set(RT(t),e)}async function LD(t){const e=await OT()._get(RT(t));return e&&await OT()._remove(RT(t)),e}function Yle(t,e){var r,i;const n=Zle(e);if(n.includes("/__/auth/callback")){const a=m0(n),s=a.firebaseError?Xle(decodeURIComponent(a.firebaseError)):null,o=(i=(r=s==null?void 0:s.code)==null?void 0:r.split("auth/"))==null?void 0:i[1],l=o?xn(o):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:n,postBody:null}}return null}function Qle(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Hle;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function OT(){return ii(h2)}function RT(t){return Cc("authEvent",t.config.apiKey,t.name)}function Xle(t){try{return JSON.parse(t)}catch{return null}}function Zle(t){const e=m0(t),n=e.link?decodeURIComponent(e.link):void 0,r=m0(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return m0(i).link||i||r||n||t}function m0(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return yd(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jle=500;class ece{constructor(){this._redirectPersistence=Wc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Aw,this._overrideRedirectResult=y2}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new Gle(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Zn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){Fle(e);const a=await this._initialize(e);await a.initialized(),a.resetRedirect(),Woe(),await this._originValidation(e);const s=Kle(e,r,i);await Wle(e,s);const o=await Vle(e,s,n),l=await zle(o);return Ble(e,a,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ule(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:a}=Qc(),s=setTimeout(async()=>{await LD(e),n.onEvent(VD())},Jle),o=async d=>{clearTimeout(s);const h=await LD(e);let f=null;h&&(d!=null&&d.url)&&(f=Yle(h,d.url)),n.onEvent(f||VD())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,o);const l=i,c=`${a.packageName.toLowerCase()}://`;Qc().handleOpenURL=async d=>{if(d.toLowerCase().startsWith(c)&&o({url:d}),typeof l=="function")try{l(d)}catch(h){console.error(h)}}}}const tce=ece;function VD(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:xn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nce(t,e){Dt(t)._logFramework(e)}var rce="@firebase/auth-compat",ice="0.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ace=1e3;function Jm(){var t;return((t=self==null?void 0:self.location)==null?void 0:t.protocol)||null}function sce(){return Jm()==="http:"||Jm()==="https:"}function qB(t=Rt()){return!!((Jm()==="file:"||Jm()==="ionic:"||Jm()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function oce(){return YI()||pw()}function lce(){return M9()&&(document==null?void 0:document.documentMode)===11}function cce(t=Rt()){return/Edge\/\d+/.test(t)}function uce(t=Rt()){return lce()||cce(t)}function HB(){try{const t=self.localStorage,e=Qg();if(t)return t.setItem(e,"1"),t.removeItem(e),uce()?Dp():!0}catch{return x2()&&Dp()}return!1}function x2(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function NE(){return(sce()||D9()||qB())&&!oce()&&HB()&&!x2()}function GB(){return qB()&&typeof document<"u"}async function dce(){return GB()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},ace);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function hce(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei={LOCAL:"local",NONE:"none",SESSION:"session"},Yf=Y,KB="persistence";function fce(t,e){if(Yf(Object.values(ei).includes(e),t,"invalid-persistence-type"),YI()){Yf(e!==ei.SESSION,t,"unsupported-persistence-type");return}if(pw()){Yf(e===ei.NONE,t,"unsupported-persistence-type");return}if(x2()){Yf(e===ei.NONE||e===ei.LOCAL&&Dp(),t,"unsupported-persistence-type");return}Yf(e===ei.NONE||HB(),t,"unsupported-persistence-type")}async function DT(t){await t._initializationPromise;const e=WB(),n=Cc(KB,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistenceType())}function mce(t,e){const n=WB();if(!n)return[];const r=Cc(KB,t,e);switch(n.getItem(r)){case ei.NONE:return[rh];case ei.LOCAL:return[Bp,Wc];case ei.SESSION:return[Wc];default:return[]}}function WB(){var t;try{return((t=hce())==null?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pce=Y;class zo{constructor(){this.browserResolver=ii(Cle),this.cordovaResolver=ii(tce),this.underlyingResolver=null,this._redirectPersistence=Wc,this._completeRedirectFn=Aw,this._overrideRedirectResult=y2}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return GB()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return pce(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await dce();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YB(t){return t.unwrap()}function gce(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yce(t){return QB(t)}function vce(t,e){var r;const n=(r=e.customData)==null?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new xce(t,coe(t,e))}else if(n){const i=QB(e),a=e;i&&(a.credential=i,a.tenantId=n.tenantId||void 0,a.email=n.email||void 0,a.phoneNumber=n.phoneNumber||void 0)}}function QB(t){const{_tokenResponse:e}=t instanceof ur?t.customData:t;if(!e)return null;if(!(t instanceof ur)&&"temporaryProof"in e&&"phoneNumber"in e)return Yc.credentialFromResult(t);const n=e.providerId;if(!n||n===Kf.PASSWORD)return null;let r;switch(n){case Kf.GOOGLE:r=ya;break;case Kf.FACEBOOK:r=ga;break;case Kf.GITHUB:r=va;break;case Kf.TWITTER:r=xa;break;default:const{oauthIdToken:i,oauthAccessToken:a,oauthTokenSecret:s,pendingToken:o,nonce:l}=e;return!a&&!s&&!i&&!o?null:o?n.startsWith("saml.")?ih._create(n,o):La._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:i,accessToken:a}):new Dd(n).credential({idToken:i,accessToken:a,rawNonce:l})}return t instanceof ur?r.credentialFromError(t):r.credentialFromResult(t)}function Lr(t,e){return e.catch(n=>{throw n instanceof ur&&vce(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:yce(n),additionalUserInfo:loe(n),user:Nw.getOrCreate(i)}})}async function MT(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Lr(t,n.confirm(r))}}class xce{constructor(e,n){this.resolver=n,this.auth=gce(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Lr(YB(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nw=class _m{constructor(e){this._delegate=e,this.multiFactor=hoe(e)}static getOrCreate(e){return _m.USER_MAP.has(e)||_m.USER_MAP.set(e,new _m(e)),_m.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Lr(this.auth,TB(this._delegate,e))}async linkWithPhoneNumber(e,n){return MT(this.auth,Doe(this._delegate,e,n))}async linkWithPopup(e){return Lr(this.auth,qoe(this._delegate,e,zo))}async linkWithRedirect(e){return await DT(Dt(this.auth)),Joe(this._delegate,e,zo)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Lr(this.auth,AB(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return MT(this.auth,Moe(this._delegate,e,n))}reauthenticateWithPopup(e){return Lr(this.auth,$oe(this._delegate,e,zo))}async reauthenticateWithRedirect(e){return await DT(Dt(this.auth)),Xoe(this._delegate,e,zo)}sendEmailVerification(e){return Xse(this._delegate,e)}async unlink(e){return await Lse(this._delegate,e),this}updateEmail(e){return toe(this._delegate,e)}updatePassword(e){return noe(this._delegate,e)}updatePhoneNumber(e){return Loe(this._delegate,e)}updateProfile(e){return eoe(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return Zse(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Nw.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=Y;class LT{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Qf(r,"invalid-api-key",{appName:e.name}),Qf(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?zo:void 0;this._delegate=n.initialize({options:{persistence:bce(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Aae),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Nw.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){mse(this._delegate,e,n)}applyActionCode(e){return Fse(this._delegate,e)}checkActionCode(e){return NB(this._delegate,e)}confirmPasswordReset(e,n){return Bse(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Lr(this._delegate,qse(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Qse(this._delegate,e)}isSignInWithEmailLink(e){return Kse(this._delegate,e)}async getRedirectResult(){Qf(NE(),this._delegate,"operation-not-supported-in-this-environment");const e=await tle(this._delegate,zo);return e?Lr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){nce(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:a,complete:s}=UD(e,n,r);return this._delegate.onAuthStateChanged(i,a,s)}onIdTokenChanged(e,n,r){const{next:i,error:a,complete:s}=UD(e,n,r);return this._delegate.onIdTokenChanged(i,a,s)}sendSignInLinkToEmail(e,n){return Gse(this._delegate,e,n)}sendPasswordResetEmail(e,n){return zse(this._delegate,e,n||void 0)}async setPersistence(e){fce(this._delegate,e);let n;switch(e){case ei.SESSION:n=Wc;break;case ei.LOCAL:n=await ii(Bp)._isAvailable()?Bp:h2;break;case ei.NONE:n=rh;break;default:return Zn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Lr(this._delegate,Mse(this._delegate))}signInWithCredential(e){return Lr(this._delegate,ww(this._delegate,e))}signInWithCustomToken(e){return Lr(this._delegate,Use(this._delegate,e))}signInWithEmailAndPassword(e,n){return Lr(this._delegate,Hse(this._delegate,e,n))}signInWithEmailLink(e,n){return Lr(this._delegate,Wse(this._delegate,e,n))}signInWithPhoneNumber(e,n){return MT(this._delegate,Roe(this._delegate,e,n))}async signInWithPopup(e){return Qf(NE(),this._delegate,"operation-not-supported-in-this-environment"),Lr(this._delegate,Foe(this._delegate,e,zo))}async signInWithRedirect(e){return Qf(NE(),this._delegate,"operation-not-supported-in-this-environment"),await DT(this._delegate),Yoe(this._delegate,e,zo)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return $se(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}LT.Persistence=ei;function UD(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:s=>i(s&&Nw.getOrCreate(s)),error:e,complete:n}}function bce(t,e){const n=mce(t,e);if(typeof self<"u"&&!n.includes(Bp)&&n.push(Bp),typeof window<"u")for(const r of[h2,Wc])n.includes(r)||n.push(r);return n.includes(rh)||n.push(rh),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{static credential(e,n){return Yc.credential(e,n)}constructor(){this.providerId="phone",this._delegate=new Yc(YB(et.auth()))}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}b2.PHONE_SIGN_IN_METHOD=Yc.PHONE_SIGN_IN_METHOD;b2.PROVIDER_ID=Yc.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wce=Y;class _ce{constructor(e,n,r=et.app()){var i;wce((i=r.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new koe(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ece="auth-compat";function Sce(t){t.INTERNAL.registerComponent(new Bi(Ece,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new LT(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Vu.EMAIL_SIGNIN,PASSWORD_RESET:Vu.PASSWORD_RESET,RECOVER_EMAIL:Vu.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Vu.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Vu.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Vu.VERIFY_EMAIL}},EmailAuthProvider:Cl,FacebookAuthProvider:ga,GithubAuthProvider:va,GoogleAuthProvider:ya,OAuthProvider:Dd,SAMLAuthProvider:vx,PhoneAuthProvider:b2,PhoneMultiFactorGenerator:$B,RecaptchaVerifier:_ce,TwitterAuthProvider:xa,Auth:LT,AuthCredential:Yh,Error:ur}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(rce,ice)}Sce(et);var zD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tl,XB;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function I(){}I.prototype=S.prototype,A.F=S.prototype,A.prototype=new I,A.prototype.constructor=A,A.D=function(C,k,R){for(var O=Array(arguments.length-2),M=2;M<arguments.length;M++)O[M-2]=arguments[M];return S.prototype[k].apply(C,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,S,I){I||(I=0);const C=Array(16);if(typeof S=="string")for(var k=0;k<16;++k)C[k]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(k=0;k<16;++k)C[k]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=A.g[0],I=A.g[1],k=A.g[2];let R=A.g[3],O;O=S+(R^I&(k^R))+C[0]+3614090360&4294967295,S=I+(O<<7&4294967295|O>>>25),O=R+(k^S&(I^k))+C[1]+3905402710&4294967295,R=S+(O<<12&4294967295|O>>>20),O=k+(I^R&(S^I))+C[2]+606105819&4294967295,k=R+(O<<17&4294967295|O>>>15),O=I+(S^k&(R^S))+C[3]+3250441966&4294967295,I=k+(O<<22&4294967295|O>>>10),O=S+(R^I&(k^R))+C[4]+4118548399&4294967295,S=I+(O<<7&4294967295|O>>>25),O=R+(k^S&(I^k))+C[5]+1200080426&4294967295,R=S+(O<<12&4294967295|O>>>20),O=k+(I^R&(S^I))+C[6]+2821735955&4294967295,k=R+(O<<17&4294967295|O>>>15),O=I+(S^k&(R^S))+C[7]+4249261313&4294967295,I=k+(O<<22&4294967295|O>>>10),O=S+(R^I&(k^R))+C[8]+1770035416&4294967295,S=I+(O<<7&4294967295|O>>>25),O=R+(k^S&(I^k))+C[9]+2336552879&4294967295,R=S+(O<<12&4294967295|O>>>20),O=k+(I^R&(S^I))+C[10]+4294925233&4294967295,k=R+(O<<17&4294967295|O>>>15),O=I+(S^k&(R^S))+C[11]+2304563134&4294967295,I=k+(O<<22&4294967295|O>>>10),O=S+(R^I&(k^R))+C[12]+1804603682&4294967295,S=I+(O<<7&4294967295|O>>>25),O=R+(k^S&(I^k))+C[13]+4254626195&4294967295,R=S+(O<<12&4294967295|O>>>20),O=k+(I^R&(S^I))+C[14]+2792965006&4294967295,k=R+(O<<17&4294967295|O>>>15),O=I+(S^k&(R^S))+C[15]+1236535329&4294967295,I=k+(O<<22&4294967295|O>>>10),O=S+(k^R&(I^k))+C[1]+4129170786&4294967295,S=I+(O<<5&4294967295|O>>>27),O=R+(I^k&(S^I))+C[6]+3225465664&4294967295,R=S+(O<<9&4294967295|O>>>23),O=k+(S^I&(R^S))+C[11]+643717713&4294967295,k=R+(O<<14&4294967295|O>>>18),O=I+(R^S&(k^R))+C[0]+3921069994&4294967295,I=k+(O<<20&4294967295|O>>>12),O=S+(k^R&(I^k))+C[5]+3593408605&4294967295,S=I+(O<<5&4294967295|O>>>27),O=R+(I^k&(S^I))+C[10]+38016083&4294967295,R=S+(O<<9&4294967295|O>>>23),O=k+(S^I&(R^S))+C[15]+3634488961&4294967295,k=R+(O<<14&4294967295|O>>>18),O=I+(R^S&(k^R))+C[4]+3889429448&4294967295,I=k+(O<<20&4294967295|O>>>12),O=S+(k^R&(I^k))+C[9]+568446438&4294967295,S=I+(O<<5&4294967295|O>>>27),O=R+(I^k&(S^I))+C[14]+3275163606&4294967295,R=S+(O<<9&4294967295|O>>>23),O=k+(S^I&(R^S))+C[3]+4107603335&4294967295,k=R+(O<<14&4294967295|O>>>18),O=I+(R^S&(k^R))+C[8]+1163531501&4294967295,I=k+(O<<20&4294967295|O>>>12),O=S+(k^R&(I^k))+C[13]+2850285829&4294967295,S=I+(O<<5&4294967295|O>>>27),O=R+(I^k&(S^I))+C[2]+4243563512&4294967295,R=S+(O<<9&4294967295|O>>>23),O=k+(S^I&(R^S))+C[7]+1735328473&4294967295,k=R+(O<<14&4294967295|O>>>18),O=I+(R^S&(k^R))+C[12]+2368359562&4294967295,I=k+(O<<20&4294967295|O>>>12),O=S+(I^k^R)+C[5]+4294588738&4294967295,S=I+(O<<4&4294967295|O>>>28),O=R+(S^I^k)+C[8]+2272392833&4294967295,R=S+(O<<11&4294967295|O>>>21),O=k+(R^S^I)+C[11]+1839030562&4294967295,k=R+(O<<16&4294967295|O>>>16),O=I+(k^R^S)+C[14]+4259657740&4294967295,I=k+(O<<23&4294967295|O>>>9),O=S+(I^k^R)+C[1]+2763975236&4294967295,S=I+(O<<4&4294967295|O>>>28),O=R+(S^I^k)+C[4]+1272893353&4294967295,R=S+(O<<11&4294967295|O>>>21),O=k+(R^S^I)+C[7]+4139469664&4294967295,k=R+(O<<16&4294967295|O>>>16),O=I+(k^R^S)+C[10]+3200236656&4294967295,I=k+(O<<23&4294967295|O>>>9),O=S+(I^k^R)+C[13]+681279174&4294967295,S=I+(O<<4&4294967295|O>>>28),O=R+(S^I^k)+C[0]+3936430074&4294967295,R=S+(O<<11&4294967295|O>>>21),O=k+(R^S^I)+C[3]+3572445317&4294967295,k=R+(O<<16&4294967295|O>>>16),O=I+(k^R^S)+C[6]+76029189&4294967295,I=k+(O<<23&4294967295|O>>>9),O=S+(I^k^R)+C[9]+3654602809&4294967295,S=I+(O<<4&4294967295|O>>>28),O=R+(S^I^k)+C[12]+3873151461&4294967295,R=S+(O<<11&4294967295|O>>>21),O=k+(R^S^I)+C[15]+530742520&4294967295,k=R+(O<<16&4294967295|O>>>16),O=I+(k^R^S)+C[2]+3299628645&4294967295,I=k+(O<<23&4294967295|O>>>9),O=S+(k^(I|~R))+C[0]+4096336452&4294967295,S=I+(O<<6&4294967295|O>>>26),O=R+(I^(S|~k))+C[7]+1126891415&4294967295,R=S+(O<<10&4294967295|O>>>22),O=k+(S^(R|~I))+C[14]+2878612391&4294967295,k=R+(O<<15&4294967295|O>>>17),O=I+(R^(k|~S))+C[5]+4237533241&4294967295,I=k+(O<<21&4294967295|O>>>11),O=S+(k^(I|~R))+C[12]+1700485571&4294967295,S=I+(O<<6&4294967295|O>>>26),O=R+(I^(S|~k))+C[3]+2399980690&4294967295,R=S+(O<<10&4294967295|O>>>22),O=k+(S^(R|~I))+C[10]+4293915773&4294967295,k=R+(O<<15&4294967295|O>>>17),O=I+(R^(k|~S))+C[1]+2240044497&4294967295,I=k+(O<<21&4294967295|O>>>11),O=S+(k^(I|~R))+C[8]+1873313359&4294967295,S=I+(O<<6&4294967295|O>>>26),O=R+(I^(S|~k))+C[15]+4264355552&4294967295,R=S+(O<<10&4294967295|O>>>22),O=k+(S^(R|~I))+C[6]+2734768916&4294967295,k=R+(O<<15&4294967295|O>>>17),O=I+(R^(k|~S))+C[13]+1309151649&4294967295,I=k+(O<<21&4294967295|O>>>11),O=S+(k^(I|~R))+C[4]+4149444226&4294967295,S=I+(O<<6&4294967295|O>>>26),O=R+(I^(S|~k))+C[11]+3174756917&4294967295,R=S+(O<<10&4294967295|O>>>22),O=k+(S^(R|~I))+C[2]+718787259&4294967295,k=R+(O<<15&4294967295|O>>>17),O=I+(R^(k|~S))+C[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(k+(O<<21&4294967295|O>>>11))&4294967295,A.g[2]=A.g[2]+k&4294967295,A.g[3]=A.g[3]+R&4294967295}r.prototype.v=function(A,S){S===void 0&&(S=A.length);const I=S-this.blockSize,C=this.C;let k=this.h,R=0;for(;R<S;){if(k==0)for(;R<=I;)i(this,A,R),R+=this.blockSize;if(typeof A=="string"){for(;R<S;)if(C[k++]=A.charCodeAt(R++),k==this.blockSize){i(this,C),k=0;break}}else for(;R<S;)if(C[k++]=A[R++],k==this.blockSize){i(this,C),k=0;break}}this.h=k,this.o+=S},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;S=this.o*8;for(var I=A.length-8;I<A.length;++I)A[I]=S&255,S/=256;for(this.v(A),A=Array(16),S=0,I=0;I<4;++I)for(let C=0;C<32;C+=8)A[S++]=this.g[I]>>>C&255;return A};function a(A,S){var I=o;return Object.prototype.hasOwnProperty.call(I,A)?I[A]:I[A]=S(A)}function s(A,S){this.h=S;const I=[];let C=!0;for(let k=A.length-1;k>=0;k--){const R=A[k]|0;C&&R==S||(I[k]=R,C=!1)}this.g=I}var o={};function l(A){return-128<=A&&A<128?a(A,function(S){return new s([S|0],S<0?-1:0)}):new s([A|0],A<0?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return h;if(A<0)return x(c(-A));const S=[];let I=1;for(let C=0;A>=I;C++)S[C]=A/I|0,I*=4294967296;return new s(S,0)}function d(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return x(d(A.substring(1),S));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=c(Math.pow(S,8));let C=h;for(let R=0;R<A.length;R+=8){var k=Math.min(8,A.length-R);const O=parseInt(A.substring(R,R+k),S);k<8?(k=c(Math.pow(S,k)),C=C.j(k).add(c(O))):(C=C.j(I),C=C.add(c(O)))}return C}var h=l(0),f=l(1),m=l(16777216);t=s.prototype,t.m=function(){if(v(this))return-x(this).m();let A=0,S=1;for(let I=0;I<this.g.length;I++){const C=this.i(I);A+=(C>=0?C:4294967296+C)*S,S*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(y(this))return"0";if(v(this))return"-"+x(this).toString(A);const S=c(Math.pow(A,6));var I=this;let C="";for(;;){const k=T(I,S).g;I=b(I,k.j(S));let R=((I.g.length>0?I.g[0]:I.h)>>>0).toString(A);if(I=k,y(I))return R+C;for(;R.length<6;)R="0"+R;C=R+C}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function y(A){if(A.h!=0)return!1;for(let S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function v(A){return A.h==-1}t.l=function(A){return A=b(this,A),v(A)?-1:y(A)?0:1};function x(A){const S=A.g.length,I=[];for(let C=0;C<S;C++)I[C]=~A.g[C];return new s(I,~A.h).add(f)}t.abs=function(){return v(this)?x(this):this},t.add=function(A){const S=Math.max(this.g.length,A.g.length),I=[];let C=0;for(let k=0;k<=S;k++){let R=C+(this.i(k)&65535)+(A.i(k)&65535),O=(R>>>16)+(this.i(k)>>>16)+(A.i(k)>>>16);C=O>>>16,R&=65535,O&=65535,I[k]=O<<16|R}return new s(I,I[I.length-1]&-2147483648?-1:0)};function b(A,S){return A.add(x(S))}t.j=function(A){if(y(this)||y(A))return h;if(v(this))return v(A)?x(this).j(x(A)):x(x(this).j(A));if(v(A))return x(this.j(x(A)));if(this.l(m)<0&&A.l(m)<0)return c(this.m()*A.m());const S=this.g.length+A.g.length,I=[];for(var C=0;C<2*S;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(let k=0;k<A.g.length;k++){const R=this.i(C)>>>16,O=this.i(C)&65535,M=A.i(k)>>>16,H=A.i(k)&65535;I[2*C+2*k]+=O*H,w(I,2*C+2*k),I[2*C+2*k+1]+=R*H,w(I,2*C+2*k+1),I[2*C+2*k+1]+=O*M,w(I,2*C+2*k+1),I[2*C+2*k+2]+=R*M,w(I,2*C+2*k+2)}for(A=0;A<S;A++)I[A]=I[2*A+1]<<16|I[2*A];for(A=S;A<2*S;A++)I[A]=0;return new s(I,0)};function w(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function _(A,S){this.g=A,this.h=S}function T(A,S){if(y(S))throw Error("division by zero");if(y(A))return new _(h,h);if(v(A))return S=T(x(A),S),new _(x(S.g),x(S.h));if(v(S))return S=T(A,x(S)),new _(x(S.g),S.h);if(A.g.length>30){if(v(A)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var I=f,C=S;C.l(A)<=0;)I=N(I),C=N(C);var k=j(I,1),R=j(C,1);for(C=j(C,2),I=j(I,2);!y(C);){var O=R.add(C);O.l(A)<=0&&(k=k.add(I),R=O),C=j(C,1),I=j(I,1)}return S=b(A,k.j(S)),new _(k,S)}for(k=h;A.l(S)>=0;){for(I=Math.max(1,Math.floor(A.m()/S.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),R=c(I),O=R.j(S);v(O)||O.l(A)>0;)I-=C,R=c(I),O=R.j(S);y(R)&&(R=f),k=k.add(R),A=b(A,O)}return new _(k,A)}t.B=function(A){return T(this,A).h},t.and=function(A){const S=Math.max(this.g.length,A.g.length),I=[];for(let C=0;C<S;C++)I[C]=this.i(C)&A.i(C);return new s(I,this.h&A.h)},t.or=function(A){const S=Math.max(this.g.length,A.g.length),I=[];for(let C=0;C<S;C++)I[C]=this.i(C)|A.i(C);return new s(I,this.h|A.h)},t.xor=function(A){const S=Math.max(this.g.length,A.g.length),I=[];for(let C=0;C<S;C++)I[C]=this.i(C)^A.i(C);return new s(I,this.h^A.h)};function N(A){const S=A.g.length+1,I=[];for(let C=0;C<S;C++)I[C]=A.i(C)<<1|A.i(C-1)>>>31;return new s(I,A.h)}function j(A,S){const I=S>>5;S%=32;const C=A.g.length-I,k=[];for(let R=0;R<C;R++)k[R]=S>0?A.i(R+I)>>>S|A.i(R+I+1)<<32-S:A.i(R+I);return new s(k,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,XB=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=d,tl=s}).apply(typeof zD<"u"?zD:typeof self<"u"?self:typeof window<"u"?window:{});var pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZB,Em,JB,p0,VT,eF,tF,nF;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof pv=="object"&&pv];for(var E=0;E<p.length;++E){var P=p[E];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(p,E){if(E)e:{var P=r;p=p.split(".");for(var D=0;D<p.length-1;D++){var V=p[D];if(!(V in P))break e;P=P[V]}p=p[p.length-1],D=P[p],E=E(D),E!=D&&E!=null&&e(P,p,{configurable:!0,writable:!0,value:E})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(E){var P=[],D;for(D in E)Object.prototype.hasOwnProperty.call(E,D)&&P.push([D,E[D]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function l(p,E,P){return p.call.apply(p.bind,arguments)}function c(p,E,P){return c=l,c.apply(null,arguments)}function d(p,E){var P=Array.prototype.slice.call(arguments,1);return function(){var D=P.slice();return D.push.apply(D,arguments),p.apply(this,D)}}function h(p,E){function P(){}P.prototype=E.prototype,p.Z=E.prototype,p.prototype=new P,p.prototype.constructor=p,p.Ob=function(D,V,B){for(var ee=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)ee[xe-2]=arguments[xe];return E.prototype[V].apply(D,ee)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function m(p){const E=p.length;if(E>0){const P=Array(E);for(let D=0;D<E;D++)P[D]=p[D];return P}return[]}function y(p,E){for(let D=1;D<arguments.length;D++){const V=arguments[D];var P=typeof V;if(P=P!="object"?P:V?Array.isArray(V)?"array":P:"null",P=="array"||P=="object"&&typeof V.length=="number"){P=p.length||0;const B=V.length||0;p.length=P+B;for(let ee=0;ee<B;ee++)p[P+ee]=V[ee]}else p.push(V)}}class v{constructor(E,P){this.i=E,this.j=P,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function x(p){s.setTimeout(()=>{throw p},0)}function b(){var p=A;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class w{constructor(){this.h=this.g=null}add(E,P){const D=_.get();D.set(E,P),this.h?this.h.next=D:this.g=D,this.h=D}}var _=new v(()=>new T,p=>p.reset());class T{constructor(){this.next=this.g=this.h=null}set(E,P){this.h=E,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let N,j=!1,A=new w,S=()=>{const p=Promise.resolve(void 0);N=()=>{p.then(I)}};function I(){for(var p;p=b();){try{p.h.call(p.g)}catch(P){x(P)}var E=_;E.j(p),E.h<100&&(E.h++,p.next=E.g,E.g=p)}j=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const P=()=>{};s.addEventListener("test",P,E),s.removeEventListener("test",P,E)}catch{}return p}();function O(p){return/^[\s\xa0]*$/.test(p)}function M(p,E){k.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,E)}h(M,k),M.prototype.init=function(p,E){const P=this.type=p.type,D=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget,E||(P=="mouseover"?E=p.fromElement:P=="mouseout"&&(E=p.toElement)),this.relatedTarget=E,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&M.Z.h.call(this)},M.prototype.h=function(){M.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var H="closure_listenable_"+(Math.random()*1e6|0),F=0;function $(p,E,P,D,V){this.listener=p,this.proxy=null,this.src=E,this.type=P,this.capture=!!D,this.ha=V,this.key=++F,this.da=this.fa=!1}function Q(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ne(p,E,P){for(const D in p)E.call(P,p[D],D,p)}function de(p,E){for(const P in p)E.call(void 0,p[P],P,p)}function ut(p){const E={};for(const P in p)E[P]=p[P];return E}const Et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function An(p,E){let P,D;for(let V=1;V<arguments.length;V++){D=arguments[V];for(P in D)p[P]=D[P];for(let B=0;B<Et.length;B++)P=Et[B],Object.prototype.hasOwnProperty.call(D,P)&&(p[P]=D[P])}}function Ze(p){this.src=p,this.g={},this.h=0}Ze.prototype.add=function(p,E,P,D,V){const B=p.toString();p=this.g[B],p||(p=this.g[B]=[],this.h++);const ee=Qa(p,E,D,V);return ee>-1?(E=p[ee],P||(E.fa=!1)):(E=new $(E,this.src,B,!!D,V),E.fa=P,p.push(E)),E};function Jn(p,E){const P=E.type;if(P in p.g){var D=p.g[P],V=Array.prototype.indexOf.call(D,E,void 0),B;(B=V>=0)&&Array.prototype.splice.call(D,V,1),B&&(Q(E),p.g[P].length==0&&(delete p.g[P],p.h--))}}function Qa(p,E,P,D){for(let V=0;V<p.length;++V){const B=p[V];if(!B.da&&B.listener==E&&B.capture==!!P&&B.ha==D)return V}return-1}var Nn="closure_lm_"+(Math.random()*1e6|0),Fl={};function W(p,E,P,D,V){if(Array.isArray(E)){for(let B=0;B<E.length;B++)W(p,E[B],P,D,V);return null}return P=_f(P),p&&p[H]?p.J(E,P,o(D)?!!D.capture:!1,V):we(p,E,P,!1,D,V)}function we(p,E,P,D,V,B){if(!E)throw Error("Invalid event type");const ee=o(V)?!!V.capture:!!V;let xe=Bn(p);if(xe||(p[Nn]=xe=new Ze(p)),P=xe.add(E,P,D,ee,B),P.proxy)return P;if(D=Ce(),P.proxy=D,D.src=p,D.listener=P,p.addEventListener)R||(V=ee),V===void 0&&(V=!1),p.addEventListener(E.toString(),D,V);else if(p.attachEvent)p.attachEvent(Fe(E.toString()),D);else if(p.addListener&&p.removeListener)p.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Ce(){function p(P){return E.call(p.src,p.listener,P)}const E=gr;return p}function X(p,E,P,D,V){if(Array.isArray(E))for(var B=0;B<E.length;B++)X(p,E[B],P,D,V);else D=o(D)?!!D.capture:!!D,P=_f(P),p&&p[H]?(p=p.i,B=String(E).toString(),B in p.g&&(E=p.g[B],P=Qa(E,P,D,V),P>-1&&(Q(E[P]),Array.prototype.splice.call(E,P,1),E.length==0&&(delete p.g[B],p.h--)))):p&&(p=Bn(p))&&(E=p.g[E.toString()],p=-1,E&&(p=Qa(E,P,D,V)),(P=p>-1?E[p]:null)&&In(P))}function In(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[H])Jn(E.i,p);else{var P=p.type,D=p.proxy;E.removeEventListener?E.removeEventListener(P,D,p.capture):E.detachEvent?E.detachEvent(Fe(P),D):E.addListener&&E.removeListener&&E.removeListener(D),(P=Bn(E))?(Jn(P,p),P.h==0&&(P.src=null,E[Nn]=null)):Q(p)}}}function Fe(p){return p in Fl?Fl[p]:Fl[p]="on"+p}function gr(p,E){if(p.da)p=!0;else{E=new M(E,this);const P=p.listener,D=p.ha||p.src;p.fa&&In(p),p=P.call(D,E)}return p}function Bn(p){return p=p[Nn],p instanceof Ze?p:null}var Qi="__closure_events_fn_"+(Math.random()*1e9>>>0);function _f(p){return typeof p=="function"?p:(p[Qi]||(p[Qi]=function(E){return p.handleEvent(E)}),p[Qi])}function er(){C.call(this),this.i=new Ze(this),this.M=this,this.G=null}h(er,C),er.prototype[H]=!0,er.prototype.removeEventListener=function(p,E,P,D){X(this,p,E,P,D)};function yr(p,E){var P,D=p.G;if(D)for(P=[];D;D=D.G)P.push(D);if(p=p.M,D=E.type||E,typeof E=="string")E=new k(E,p);else if(E instanceof k)E.target=E.target||p;else{var V=E;E=new k(D,p),An(E,V)}V=!0;let B,ee;if(P)for(ee=P.length-1;ee>=0;ee--)B=E.g=P[ee],V=Uy(B,D,!0,E)&&V;if(B=E.g=p,V=Uy(B,D,!0,E)&&V,V=Uy(B,D,!1,E)&&V,P)for(ee=0;ee<P.length;ee++)B=E.g=P[ee],V=Uy(B,D,!1,E)&&V}er.prototype.N=function(){if(er.Z.N.call(this),this.i){var p=this.i;for(const E in p.g){const P=p.g[E];for(let D=0;D<P.length;D++)Q(P[D]);delete p.g[E],p.h--}}this.G=null},er.prototype.J=function(p,E,P,D){return this.i.add(String(p),E,!1,P,D)},er.prototype.K=function(p,E,P,D){return this.i.add(String(p),E,!0,P,D)};function Uy(p,E,P,D){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();let V=!0;for(let B=0;B<E.length;++B){const ee=E[B];if(ee&&!ee.da&&ee.capture==P){const xe=ee.listener,mn=ee.ha||ee.src;ee.fa&&Jn(p.i,ee),V=xe.call(mn,D)!==!1&&V}}return V&&!D.defaultPrevented}function TQ(p,E){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=c(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:s.setTimeout(p,E||0)}function Ak(p){p.g=TQ(()=>{p.g=null,p.i&&(p.i=!1,Ak(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class AQ extends C{constructor(E,P){super(),this.m=E,this.l=P,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Ak(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ef(p){C.call(this),this.h=p,this.g={}}h(Ef,C);var Nk=[];function Ik(p){ne(p.g,function(E,P){this.g.hasOwnProperty(P)&&In(E)},p),p.g={}}Ef.prototype.N=function(){Ef.Z.N.call(this),Ik(this)},Ef.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var m1=s.JSON.stringify,NQ=s.JSON.parse,IQ=class{stringify(p){return s.JSON.stringify(p,void 0)}parse(p){return s.JSON.parse(p,void 0)}};function Pk(){}function Ck(){}var Sf={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function p1(){k.call(this,"d")}h(p1,k);function g1(){k.call(this,"c")}h(g1,k);var $l={},jk=null;function zy(){return jk=jk||new er}$l.Ia="serverreachability";function kk(p){k.call(this,$l.Ia,p)}h(kk,k);function Tf(p){const E=zy();yr(E,new kk(E))}$l.STAT_EVENT="statevent";function Ok(p,E){k.call(this,$l.STAT_EVENT,p),this.stat=E}h(Ok,k);function vr(p){const E=zy();yr(E,new Ok(E,p))}$l.Ja="timingevent";function Rk(p,E){k.call(this,$l.Ja,p),this.size=E}h(Rk,k);function Af(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){p()},E)}function Nf(){this.g=!0}Nf.prototype.ua=function(){this.g=!1};function PQ(p,E,P,D,V,B){p.info(function(){if(p.g)if(B){var ee="",xe=B.split("&");for(let Je=0;Je<xe.length;Je++){var mn=xe[Je].split("=");if(mn.length>1){const Pn=mn[0];mn=mn[1];const ha=Pn.split("_");ee=ha.length>=2&&ha[1]=="type"?ee+(Pn+"="+mn+"&"):ee+(Pn+"=redacted&")}}}else ee=null;else ee=B;return"XMLHTTP REQ ("+D+") [attempt "+V+"]: "+E+`
`+P+`
`+ee})}function CQ(p,E,P,D,V,B,ee){p.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+V+"]: "+E+`
`+P+`
`+B+" "+ee})}function Ou(p,E,P,D){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+kQ(p,P)+(D?" "+D:"")})}function jQ(p,E){p.info(function(){return"TIMEOUT: "+E})}Nf.prototype.info=function(){};function kQ(p,E){if(!p.g)return E;if(!E)return null;try{const B=JSON.parse(E);if(B){for(p=0;p<B.length;p++)if(Array.isArray(B[p])){var P=B[p];if(!(P.length<2)){var D=P[1];if(Array.isArray(D)&&!(D.length<1)){var V=D[0];if(V!="noop"&&V!="stop"&&V!="close")for(let ee=1;ee<D.length;ee++)D[ee]=""}}}}return m1(B)}catch{return E}}var By={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Dk={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Mk;function y1(){}h(y1,Pk),y1.prototype.g=function(){return new XMLHttpRequest},Mk=new y1;function If(p){return encodeURIComponent(String(p))}function OQ(p){var E=1;p=p.split(":");const P=[];for(;E>0&&p.length;)P.push(p.shift()),E--;return p.length&&P.push(p.join(":")),P}function ho(p,E,P,D){this.j=p,this.i=E,this.l=P,this.S=D||1,this.V=new Ef(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Lk}function Lk(){this.i=null,this.g="",this.h=!1}var Vk={},v1={};function x1(p,E,P){p.M=1,p.A=$y(da(E)),p.u=P,p.R=!0,Uk(p,null)}function Uk(p,E){p.F=Date.now(),Fy(p),p.B=da(p.A);var P=p.B,D=p.S;Array.isArray(D)||(D=[String(D)]),Zk(P.i,"t",D),p.C=0,P=p.j.L,p.h=new Lk,p.g=gO(p.j,P?E:null,!p.u),p.P>0&&(p.O=new AQ(c(p.Y,p,p.g),p.P)),E=p.V,P=p.g,D=p.ba;var V="readystatechange";Array.isArray(V)||(V&&(Nk[0]=V.toString()),V=Nk);for(let B=0;B<V.length;B++){const ee=W(P,V[B],D||E.handleEvent,!1,E.h||E);if(!ee)break;E.g[ee.key]=ee}E=p.J?ut(p.J):{},p.u?(p.v||(p.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,E)):(p.v="GET",p.g.ea(p.B,p.v,null,E)),Tf(),PQ(p.i,p.v,p.B,p.l,p.S,p.u)}ho.prototype.ba=function(p){p=p.target;const E=this.O;E&&po(p)==3?E.j():this.Y(p)},ho.prototype.Y=function(p){try{if(p==this.g)e:{const xe=po(this.g),mn=this.g.ya(),Je=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||aO(this.g)))){this.K||xe!=4||mn==7||(mn==8||Je<=0?Tf(3):Tf(2)),b1(this);var E=this.g.ca();this.X=E;var P=RQ(this);if(this.o=E==200,CQ(this.i,this.v,this.B,this.l,this.S,xe,E),this.o){if(this.U&&!this.L){t:{if(this.g){var D,V=this.g;if((D=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(D)){var B=D;break t}}B=null}if(p=B)Ou(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,w1(this,p);else{this.o=!1,this.m=3,vr(12),ql(this),Pf(this);break e}}if(this.R){p=!0;let Pn;for(;!this.K&&this.C<P.length;)if(Pn=DQ(this,P),Pn==v1){xe==4&&(this.m=4,vr(14),p=!1),Ou(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==Vk){this.m=4,vr(15),Ou(this.i,this.l,P,"[Invalid Chunk]"),p=!1;break}else Ou(this.i,this.l,Pn,null),w1(this,Pn);if(zk(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||P.length!=0||this.h.h||(this.m=1,vr(16),p=!1),this.o=this.o&&p,!p)Ou(this.i,this.l,P,"[Invalid Chunked Response]"),ql(this),Pf(this);else if(P.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),P1(ee),ee.P=!0,vr(11))}}else Ou(this.i,this.l,P,null),w1(this,P);xe==4&&ql(this),this.o&&!this.K&&(xe==4?hO(this.j,this):(this.o=!1,Fy(this)))}else YQ(this.g),E==400&&P.indexOf("Unknown SID")>0?(this.m=3,vr(12)):(this.m=0,vr(13)),ql(this),Pf(this)}}}catch{}finally{}};function RQ(p){if(!zk(p))return p.g.la();const E=aO(p.g);if(E==="")return"";let P="";const D=E.length,V=po(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return ql(p),Pf(p),"";p.h.i=new s.TextDecoder}for(let B=0;B<D;B++)p.h.h=!0,P+=p.h.i.decode(E[B],{stream:!(V&&B==D-1)});return E.length=0,p.h.g+=P,p.C=0,p.h.g}function zk(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function DQ(p,E){var P=p.C,D=E.indexOf(`
`,P);return D==-1?v1:(P=Number(E.substring(P,D)),isNaN(P)?Vk:(D+=1,D+P>E.length?v1:(E=E.slice(D,D+P),p.C=D+P,E)))}ho.prototype.cancel=function(){this.K=!0,ql(this)};function Fy(p){p.T=Date.now()+p.H,Bk(p,p.H)}function Bk(p,E){if(p.D!=null)throw Error("WatchDog timer not null");p.D=Af(c(p.aa,p),E)}function b1(p){p.D&&(s.clearTimeout(p.D),p.D=null)}ho.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(jQ(this.i,this.B),this.M!=2&&(Tf(),vr(17)),ql(this),this.m=2,Pf(this)):Bk(this,this.T-p)};function Pf(p){p.j.I==0||p.K||hO(p.j,p)}function ql(p){b1(p);var E=p.O;E&&typeof E.dispose=="function"&&E.dispose(),p.O=null,Ik(p.V),p.g&&(E=p.g,p.g=null,E.abort(),E.dispose())}function w1(p,E){try{var P=p.j;if(P.I!=0&&(P.g==p||_1(P.h,p))){if(!p.L&&_1(P.h,p)&&P.I==3){try{var D=P.Ba.g.parse(E)}catch{D=null}if(Array.isArray(D)&&D.length==3){var V=D;if(V[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<p.F)Wy(P),Gy(P);else break e;I1(P),vr(18)}}else P.xa=V[1],0<P.xa-P.K&&V[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=Af(c(P.Va,P),6e3));qk(P.h)<=1&&P.ta&&(P.ta=void 0)}else Gl(P,11)}else if((p.L||P.g==p)&&Wy(P),!O(E))for(V=P.Ba.g.parse(E),E=0;E<V.length;E++){let Je=V[E];const Pn=Je[0];if(!(Pn<=P.K))if(P.K=Pn,Je=Je[1],P.I==2)if(Je[0]=="c"){P.M=Je[1],P.ba=Je[2];const ha=Je[3];ha!=null&&(P.ka=ha,P.j.info("VER="+P.ka));const Kl=Je[4];Kl!=null&&(P.za=Kl,P.j.info("SVER="+P.za));const go=Je[5];go!=null&&typeof go=="number"&&go>0&&(D=1.5*go,P.O=D,P.j.info("backChannelRequestTimeoutMs_="+D)),D=P;const yo=p.g;if(yo){const Qy=yo.g?yo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qy){var B=D.h;B.g||Qy.indexOf("spdy")==-1&&Qy.indexOf("quic")==-1&&Qy.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(E1(B,B.h),B.h=null))}if(D.G){const C1=yo.g?yo.g.getResponseHeader("X-HTTP-Session-Id"):null;C1&&(D.wa=C1,dt(D.J,D.G,C1))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-p.F,P.j.info("Handshake RTT: "+P.T+"ms")),D=P;var ee=p;if(D.na=pO(D,D.L?D.ba:null,D.W),ee.L){Hk(D.h,ee);var xe=ee,mn=D.O;mn&&(xe.H=mn),xe.D&&(b1(xe),Fy(xe)),D.g=ee}else uO(D);P.i.length>0&&Ky(P)}else Je[0]!="stop"&&Je[0]!="close"||Gl(P,7);else P.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Gl(P,7):N1(P):Je[0]!="noop"&&P.l&&P.l.qa(Je),P.A=0)}}Tf(4)}catch{}}var MQ=class{constructor(p,E){this.g=p,this.map=E}};function Fk(p){this.l=p||10,s.PerformanceNavigationTiming?(p=s.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $k(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function qk(p){return p.h?1:p.g?p.g.size:0}function _1(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function E1(p,E){p.g?p.g.add(E):p.h=E}function Hk(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}Fk.prototype.cancel=function(){if(this.i=Gk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Gk(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const P of p.g.values())E=E.concat(P.G);return E}return m(p.i)}var Kk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function LQ(p,E){if(p){p=p.split("&");for(let P=0;P<p.length;P++){const D=p[P].indexOf("=");let V,B=null;D>=0?(V=p[P].substring(0,D),B=p[P].substring(D+1)):V=p[P],E(V,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function fo(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;p instanceof fo?(this.l=p.l,Cf(this,p.j),this.o=p.o,this.g=p.g,jf(this,p.u),this.h=p.h,S1(this,Jk(p.i)),this.m=p.m):p&&(E=String(p).match(Kk))?(this.l=!1,Cf(this,E[1]||"",!0),this.o=kf(E[2]||""),this.g=kf(E[3]||"",!0),jf(this,E[4]),this.h=kf(E[5]||"",!0),S1(this,E[6]||"",!0),this.m=kf(E[7]||"")):(this.l=!1,this.i=new Rf(null,this.l))}fo.prototype.toString=function(){const p=[];var E=this.j;E&&p.push(Of(E,Wk,!0),":");var P=this.g;return(P||E=="file")&&(p.push("//"),(E=this.o)&&p.push(Of(E,Wk,!0),"@"),p.push(If(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&p.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&p.push("/"),p.push(Of(P,P.charAt(0)=="/"?zQ:UQ,!0))),(P=this.i.toString())&&p.push("?",P),(P=this.m)&&p.push("#",Of(P,FQ)),p.join("")},fo.prototype.resolve=function(p){const E=da(this);let P=!!p.j;P?Cf(E,p.j):P=!!p.o,P?E.o=p.o:P=!!p.g,P?E.g=p.g:P=p.u!=null;var D=p.h;if(P)jf(E,p.u);else if(P=!!p.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var V=E.h.lastIndexOf("/");V!=-1&&(D=E.h.slice(0,V+1)+D)}if(V=D,V==".."||V==".")D="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){D=V.lastIndexOf("/",0)==0,V=V.split("/");const B=[];for(let ee=0;ee<V.length;){const xe=V[ee++];xe=="."?D&&ee==V.length&&B.push(""):xe==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),D&&ee==V.length&&B.push("")):(B.push(xe),D=!0)}D=B.join("/")}else D=V}return P?E.h=D:P=p.i.toString()!=="",P?S1(E,Jk(p.i)):P=!!p.m,P&&(E.m=p.m),E};function da(p){return new fo(p)}function Cf(p,E,P){p.j=P?kf(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function jf(p,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);p.u=E}else p.u=null}function S1(p,E,P){E instanceof Rf?(p.i=E,$Q(p.i,p.l)):(P||(E=Of(E,BQ)),p.i=new Rf(E,p.l))}function dt(p,E,P){p.i.set(E,P)}function $y(p){return dt(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function kf(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Of(p,E,P){return typeof p=="string"?(p=encodeURI(p).replace(E,VQ),P&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function VQ(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Wk=/[#\/\?@]/g,UQ=/[#\?:]/g,zQ=/[#\?]/g,BQ=/[#\?@]/g,FQ=/#/g;function Rf(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function Hl(p){p.g||(p.g=new Map,p.h=0,p.i&&LQ(p.i,function(E,P){p.add(decodeURIComponent(E.replace(/\+/g," ")),P)}))}t=Rf.prototype,t.add=function(p,E){Hl(this),this.i=null,p=Ru(this,p);let P=this.g.get(p);return P||this.g.set(p,P=[]),P.push(E),this.h+=1,this};function Yk(p,E){Hl(p),E=Ru(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function Qk(p,E){return Hl(p),E=Ru(p,E),p.g.has(E)}t.forEach=function(p,E){Hl(this),this.g.forEach(function(P,D){P.forEach(function(V){p.call(E,V,D,this)},this)},this)};function Xk(p,E){Hl(p);let P=[];if(typeof E=="string")Qk(p,E)&&(P=P.concat(p.g.get(Ru(p,E))));else for(p=Array.from(p.g.values()),E=0;E<p.length;E++)P=P.concat(p[E]);return P}t.set=function(p,E){return Hl(this),this.i=null,p=Ru(this,p),Qk(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},t.get=function(p,E){return p?(p=Xk(this,p),p.length>0?String(p[0]):E):E};function Zk(p,E,P){Yk(p,E),P.length>0&&(p.i=null,p.g.set(Ru(p,E),m(P)),p.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(let D=0;D<E.length;D++){var P=E[D];const V=If(P);P=Xk(this,P);for(let B=0;B<P.length;B++){let ee=V;P[B]!==""&&(ee+="="+If(P[B])),p.push(ee)}}return this.i=p.join("&")};function Jk(p){const E=new Rf;return E.i=p.i,p.g&&(E.g=new Map(p.g),E.h=p.h),E}function Ru(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function $Q(p,E){E&&!p.j&&(Hl(p),p.i=null,p.g.forEach(function(P,D){const V=D.toLowerCase();D!=V&&(Yk(this,D),Zk(this,V,P))},p)),p.j=E}function qQ(p,E){const P=new Nf;if(s.Image){const D=new Image;D.onload=d(mo,P,"TestLoadImage: loaded",!0,E,D),D.onerror=d(mo,P,"TestLoadImage: error",!1,E,D),D.onabort=d(mo,P,"TestLoadImage: abort",!1,E,D),D.ontimeout=d(mo,P,"TestLoadImage: timeout",!1,E,D),s.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=p}else E(!1)}function HQ(p,E){const P=new Nf,D=new AbortController,V=setTimeout(()=>{D.abort(),mo(P,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:D.signal}).then(B=>{clearTimeout(V),B.ok?mo(P,"TestPingServer: ok",!0,E):mo(P,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(V),mo(P,"TestPingServer: error",!1,E)})}function mo(p,E,P,D,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),D(P)}catch{}}function GQ(){this.g=new IQ}function T1(p){this.i=p.Sb||null,this.h=p.ab||!1}h(T1,Pk),T1.prototype.g=function(){return new qy(this.i,this.h)};function qy(p,E){er.call(this),this.H=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(qy,er),t=qy.prototype,t.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=E,this.readyState=1,Mf(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(E.body=p),(this.H||s).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Df(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Mf(this)),this.g&&(this.readyState=3,Mf(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;eO(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function eO(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?Df(this):Mf(this),this.readyState==3&&eO(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,Df(this))},t.Na=function(p){this.g&&(this.response=p,Df(this))},t.ga=function(){this.g&&Df(this)};function Df(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Mf(p)}t.setRequestHeader=function(p,E){this.A.append(p,E)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var P=E.next();!P.done;)P=P.value,p.push(P[0]+": "+P[1]),P=E.next();return p.join(`\r
`)};function Mf(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(qy.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function tO(p){let E="";return ne(p,function(P,D){E+=D,E+=":",E+=P,E+=`\r
`}),E}function A1(p,E,P){e:{for(D in P){var D=!1;break e}D=!0}D||(P=tO(P),typeof p=="string"?P!=null&&If(P):dt(p,E,P))}function Vt(p){er.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Vt,er);var KQ=/^https?$/i,WQ=["POST","PUT"];t=Vt.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,E,P,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Mk.g(),this.g.onreadystatechange=f(c(this.Ca,this));try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(B){nO(this,B);return}if(p=P||"",P=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var V in D)P.set(V,D[V]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const B of D.keys())P.set(B,D.get(B));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(P.keys()).find(B=>B.toLowerCase()=="content-type"),V=s.FormData&&p instanceof s.FormData,!(Array.prototype.indexOf.call(WQ,E,void 0)>=0)||D||V||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ee]of P)this.g.setRequestHeader(B,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(B){nO(this,B)}};function nO(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.o=5,rO(p),Hy(p)}function rO(p){p.A||(p.A=!0,yr(p,"complete"),yr(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,yr(this,"complete"),yr(this,"abort"),Hy(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hy(this,!0)),Vt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?iO(this):this.Xa())},t.Xa=function(){iO(this)};function iO(p){if(p.h&&typeof a<"u"){if(p.v&&po(p)==4)setTimeout(p.Ca.bind(p),0);else if(yr(p,"readystatechange"),po(p)==4){p.h=!1;try{const B=p.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var P;if(!(P=E)){var D;if(D=B===0){let ee=String(p.D).match(Kk)[1]||null;!ee&&s.self&&s.self.location&&(ee=s.self.location.protocol.slice(0,-1)),D=!KQ.test(ee?ee.toLowerCase():"")}P=D}if(P)yr(p,"complete"),yr(p,"success");else{p.o=6;try{var V=po(p)>2?p.g.statusText:""}catch{V=""}p.l=V+" ["+p.ca()+"]",rO(p)}}finally{Hy(p)}}}}function Hy(p,E){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const P=p.g;p.g=null,E||yr(p,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function po(p){return p.g?p.g.readyState:0}t.ca=function(){try{return po(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),NQ(E)}};function aO(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function YQ(p){const E={};p=(p.g&&po(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<p.length;D++){if(O(p[D]))continue;var P=OQ(p[D]);const V=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const B=E[V]||[];E[V]=B,B.push(P)}de(E,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lf(p,E,P){return P&&P.internalChannelParams&&P.internalChannelParams[p]||E}function sO(p){this.za=0,this.i=[],this.j=new Nf,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Lf("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Lf("baseRetryDelayMs",5e3,p),this.Za=Lf("retryDelaySeedMs",1e4,p),this.Ta=Lf("forwardChannelMaxRetries",2,p),this.va=Lf("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new Fk(p&&p.concurrentRequestLimit),this.Ba=new GQ,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=sO.prototype,t.ka=8,t.I=1,t.connect=function(p,E,P,D){vr(0),this.W=p,this.H=E||{},P&&D!==void 0&&(this.H.OSID=P,this.H.OAID=D),this.F=this.X,this.J=pO(this,null,this.W),Ky(this)};function N1(p){if(oO(p),p.I==3){var E=p.V++,P=da(p.J);if(dt(P,"SID",p.M),dt(P,"RID",E),dt(P,"TYPE","terminate"),Vf(p,P),E=new ho(p,p.j,E),E.M=2,E.A=$y(da(P)),P=!1,s.navigator&&s.navigator.sendBeacon)try{P=s.navigator.sendBeacon(E.A.toString(),"")}catch{}!P&&s.Image&&(new Image().src=E.A,P=!0),P||(E.g=gO(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Fy(E)}mO(p)}function Gy(p){p.g&&(P1(p),p.g.cancel(),p.g=null)}function oO(p){Gy(p),p.v&&(s.clearTimeout(p.v),p.v=null),Wy(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&s.clearTimeout(p.m),p.m=null)}function Ky(p){if(!$k(p.h)&&!p.m){p.m=!0;var E=p.Ea;N||S(),j||(N(),j=!0),A.add(E,p),p.D=0}}function QQ(p,E){return qk(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=E.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=Af(c(p.Ea,p,E),fO(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const V=new ho(this,this.j,p);let B=this.o;if(this.U&&(B?(B=ut(B),An(B,this.U)):B=this.U),this.u!==null||this.R||(V.J=B,B=null),this.S)e:{for(var E=0,P=0;P<this.i.length;P++){t:{var D=this.i[P];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(E+=D,E>4096){E=P;break e}if(E===4096||P===this.i.length-1){E=P+1;break e}}E=1e3}else E=1e3;E=cO(this,V,E),P=da(this.J),dt(P,"RID",p),dt(P,"CVER",22),this.G&&dt(P,"X-HTTP-Session-Id",this.G),Vf(this,P),B&&(this.R?E="headers="+If(tO(B))+"&"+E:this.u&&A1(P,this.u,B)),E1(this.h,V),this.Ra&&dt(P,"TYPE","init"),this.S?(dt(P,"$req",E),dt(P,"SID","null"),V.U=!0,x1(V,P,null)):x1(V,P,E),this.I=2}}else this.I==3&&(p?lO(this,p):this.i.length==0||$k(this.h)||lO(this))};function lO(p,E){var P;E?P=E.l:P=p.V++;const D=da(p.J);dt(D,"SID",p.M),dt(D,"RID",P),dt(D,"AID",p.K),Vf(p,D),p.u&&p.o&&A1(D,p.u,p.o),P=new ho(p,p.j,P,p.D+1),p.u===null&&(P.J=p.o),E&&(p.i=E.G.concat(p.i)),E=cO(p,P,1e3),P.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),E1(p.h,P),x1(P,D,E)}function Vf(p,E){p.H&&ne(p.H,function(P,D){dt(E,D,P)}),p.l&&ne({},function(P,D){dt(E,D,P)})}function cO(p,E,P){P=Math.min(p.i.length,P);const D=p.l?c(p.l.Ka,p.l,p):null;e:{var V=p.i;let xe=-1;for(;;){const mn=["count="+P];xe==-1?P>0?(xe=V[0].g,mn.push("ofs="+xe)):xe=0:mn.push("ofs="+xe);let Je=!0;for(let Pn=0;Pn<P;Pn++){var B=V[Pn].g;const ha=V[Pn].map;if(B-=xe,B<0)xe=Math.max(0,V[Pn].g-100),Je=!1;else try{B="req"+B+"_"||"";try{var ee=ha instanceof Map?ha:Object.entries(ha);for(const[Kl,go]of ee){let yo=go;o(go)&&(yo=m1(go)),mn.push(B+Kl+"="+encodeURIComponent(yo))}}catch(Kl){throw mn.push(B+"type="+encodeURIComponent("_badmap")),Kl}}catch{D&&D(ha)}}if(Je){ee=mn.join("&");break e}}ee=void 0}return p=p.i.splice(0,P),E.G=p,ee}function uO(p){if(!p.g&&!p.v){p.Y=1;var E=p.Da;N||S(),j||(N(),j=!0),A.add(E,p),p.A=0}}function I1(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=Af(c(p.Da,p),fO(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,dO(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=Af(c(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vr(10),Gy(this),dO(this))};function P1(p){p.B!=null&&(s.clearTimeout(p.B),p.B=null)}function dO(p){p.g=new ho(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var E=da(p.na);dt(E,"RID","rpc"),dt(E,"SID",p.M),dt(E,"AID",p.K),dt(E,"CI",p.F?"0":"1"),!p.F&&p.ia&&dt(E,"TO",p.ia),dt(E,"TYPE","xmlhttp"),Vf(p,E),p.u&&p.o&&A1(E,p.u,p.o),p.O&&(p.g.H=p.O);var P=p.g;p=p.ba,P.M=1,P.A=$y(da(E)),P.u=null,P.R=!0,Uk(P,p)}t.Va=function(){this.C!=null&&(this.C=null,Gy(this),I1(this),vr(19))};function Wy(p){p.C!=null&&(s.clearTimeout(p.C),p.C=null)}function hO(p,E){var P=null;if(p.g==E){Wy(p),P1(p),p.g=null;var D=2}else if(_1(p.h,E))P=E.G,Hk(p.h,E),D=1;else return;if(p.I!=0){if(E.o)if(D==1){P=E.u?E.u.length:0,E=Date.now()-E.F;var V=p.D;D=zy(),yr(D,new Rk(D,P)),Ky(p)}else uO(p);else if(V=E.m,V==3||V==0&&E.X>0||!(D==1&&QQ(p,E)||D==2&&I1(p)))switch(P&&P.length>0&&(E=p.h,E.i=E.i.concat(P)),V){case 1:Gl(p,5);break;case 4:Gl(p,10);break;case 3:Gl(p,6);break;default:Gl(p,2)}}}function fO(p,E){let P=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(P*=2),P*E}function Gl(p,E){if(p.j.info("Error code "+E),E==2){var P=c(p.bb,p),D=p.Ua;const V=!D;D=new fo(D||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Cf(D,"https"),$y(D),V?qQ(D.toString(),P):HQ(D.toString(),P)}else vr(2);p.I=0,p.l&&p.l.pa(E),mO(p),oO(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),vr(2)):(this.j.info("Failed to ping google.com"),vr(1))};function mO(p){if(p.I=0,p.ja=[],p.l){const E=Gk(p.h);(E.length!=0||p.i.length!=0)&&(y(p.ja,E),y(p.ja,p.i),p.h.i.length=0,m(p.i),p.i.length=0),p.l.oa()}}function pO(p,E,P){var D=P instanceof fo?da(P):new fo(P);if(D.g!="")E&&(D.g=E+"."+D.g),jf(D,D.u);else{var V=s.location;D=V.protocol,E=E?E+"."+V.hostname:V.hostname,V=+V.port;const B=new fo(null);D&&Cf(B,D),E&&(B.g=E),V&&jf(B,V),P&&(B.h=P),D=B}return P=p.G,E=p.wa,P&&E&&dt(D,P,E),dt(D,"VER",p.ka),Vf(p,D),D}function gO(p,E,P){if(E&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Aa&&!p.ma?new Vt(new T1({ab:P})):new Vt(p.ma),E.Fa(p.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yO(){}t=yO.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Yy(){}Yy.prototype.g=function(p,E){return new Kr(p,E)};function Kr(p,E){er.call(this),this.g=new sO(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(p?p["X-WebChannel-Client-Profile"]=E.sa:p={"X-WebChannel-Client-Profile":E.sa}),this.g.U=p,(p=E&&E.Qb)&&!O(p)&&(this.g.u=p),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!O(E)&&(this.g.G=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new Du(this)}h(Kr,er),Kr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Kr.prototype.close=function(){N1(this.g)},Kr.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var P={};P.__data__=p,p=P}else this.v&&(P={},P.__data__=m1(p),p=P);E.i.push(new MQ(E.Ya++,p)),E.I==3&&Ky(E)},Kr.prototype.N=function(){this.g.l=null,delete this.j,N1(this.g),delete this.g,Kr.Z.N.call(this)};function vO(p){p1.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const P in E){p=P;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}h(vO,p1);function xO(){g1.call(this),this.status=1}h(xO,g1);function Du(p){this.g=p}h(Du,yO),Du.prototype.ra=function(){yr(this.g,"a")},Du.prototype.qa=function(p){yr(this.g,new vO(p))},Du.prototype.pa=function(p){yr(this.g,new xO)},Du.prototype.oa=function(){yr(this.g,"b")},Yy.prototype.createWebChannel=Yy.prototype.g,Kr.prototype.send=Kr.prototype.o,Kr.prototype.open=Kr.prototype.m,Kr.prototype.close=Kr.prototype.close,nF=function(){return new Yy},tF=function(){return zy()},eF=$l,VT={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},By.NO_ERROR=0,By.TIMEOUT=8,By.HTTP_ERROR=6,p0=By,Dk.COMPLETE="complete",JB=Dk,Ck.EventType=Sf,Sf.OPEN="a",Sf.CLOSE="b",Sf.ERROR="c",Sf.MESSAGE="d",er.prototype.listen=er.prototype.J,Em=Ck,Vt.prototype.listenOnce=Vt.prototype.K,Vt.prototype.getLastError=Vt.prototype.Ha,Vt.prototype.getLastErrorCode=Vt.prototype.ya,Vt.prototype.getStatus=Vt.prototype.ca,Vt.prototype.getResponseJson=Vt.prototype.La,Vt.prototype.getResponseText=Vt.prototype.la,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Fa,ZB=Vt}).apply(typeof pv<"u"?pv:typeof self<"u"?self:typeof window<"u"?window:{});const BD="@firebase/firestore",FD="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid"),On.MOCK_USER=new On("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=new gw("@firebase/firestore");function Ju(){return fl.logLevel}function Tce(t){fl.setLogLevel(t)}function K(t,...e){if(fl.logLevel<=Ee.DEBUG){const n=e.map(w2);fl.debug(`Firestore (${Xh}): ${t}`,...n)}}function Qt(t,...e){if(fl.logLevel<=Ee.ERROR){const n=e.map(w2);fl.error(`Firestore (${Xh}): ${t}`,...n)}}function Va(t,...e){if(fl.logLevel<=Ee.WARN){const n=e.map(w2);fl.warn(`Firestore (${Xh}): ${t}`,...n)}}function w2(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,rF(t,r,n)}function rF(t,e,n){let r=`FIRESTORE (${Xh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Qt(r),new Error(r)}function oe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||rF(e,i,r)}function Ace(t,e){t||re(57014,e)}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends ur{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(On.UNAUTHENTICATED))}shutdown(){}}class Ice{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Pce{constructor(e){this.t=e,this.currentUser=On.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){oe(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Xn;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Xn,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Xn)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(oe(typeof r.accessToken=="string",31837,{l:r}),new iF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return oe(e===null||typeof e=="string",2055,{h:e}),new On(e)}}class Cce{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=On.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jce{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Cce(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(On.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $D{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kce{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){oe(this.o===void 0,3512);const r=a=>{a.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,K("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $D(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(oe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $D(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oce(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Oce(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function fe(t,e){return t<e?-1:t>e?1:0}function UT(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return IE(i)===IE(a)?fe(i,a):IE(i)?1:-1}return fe(t.length,e.length)}const Rce=55296,Dce=57343;function IE(t){const e=t.charCodeAt(0);return e>=Rce&&e<=Dce}function ah(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function aF(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="__name__";class fa{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&re(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return fa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=fa.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return fe(e.length,n.length)}static compareSegments(e,n){const r=fa.isNumericId(e),i=fa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?fa.extractNumericId(e).compare(fa.extractNumericId(n)):UT(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return tl.fromString(e.substring(4,e.length-2))}}class Te extends fa{construct(e,n,r){return new Te(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const Mce=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends fa{construct(e,n,r){return new Nt(e,n,r)}static isValidIdentifier(e){return Mce.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qD}static keyField(){return new Nt([qD])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new G(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new G(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new G(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new G(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(n)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Te.fromString(e))}static fromName(e){return new J(Te.fromString(e).popFirst(5))}static empty(){return new J(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Te(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(t,e,n){if(!n)throw new G(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sF(t,e,n,r){if(e===!0&&r===!0)throw new G(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function HD(t){if(!J.isDocumentKey(t))throw new G(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function GD(t){if(J.isDocumentKey(t))throw new G(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function oF(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Iw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re(12329,{type:typeof t})}function Oe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Iw(t);throw new G(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function lF(t,e){if(e<=0)throw new G(z.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Zg(t,e){if(!oF(t))throw new G(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new G(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=-62135596800,WD=1e6;class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*WD);return new Be(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<KD)throw new G(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/WD}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zg(e,Be._jsonSchema))return new Be(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-KD;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Be._jsonSchemaVersion="firestore/timestamp/1.0",Be._jsonSchema={type:cn("string",Be._jsonSchemaVersion),seconds:cn("number"),nanoseconds:cn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(e){return new ce(e)}static min(){return new ce(new Be(0,0))}static max(){return new ce(new Be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=-1;class _x{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function zT(t){return t.fields.find(e=>e.kind===2)}function rc(t){return t.fields.filter(e=>e.kind!==2)}_x.UNKNOWN_ID=-1;class g0{constructor(e,n){this.fieldPath=e,this.kind=n}}class Fp{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Fp(0,yi.min())}}function cF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new Be(n+1,0):new Be(n,r));return new yi(i,J.empty(),e)}function uF(t){return new yi(t.readTime,t.key,sh)}class yi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new yi(ce.min(),J.empty(),sh)}static max(){return new yi(ce.max(),J.empty(),sh)}}function S2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==dF)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(i=>i?L.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new L((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const c=l;n(e[c]).next(d=>{s[c]=d,++o,o===a&&r(s)},d=>i(d))}})}static doWhile(e,n){return new L((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="SimpleDb";class Pw{static open(e,n,r,i){try{return new Pw(n,e.transaction(i,r))}catch(a){throw new ep(n,a)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Xn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new ep(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=T2(r.target.error);this.S.reject(new ep(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(K(Xr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Vce(n)}}class Pa{static delete(e){return K(Xr,"Removing database:",e),dc(qI().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Dp())return!1;if(Pa.F())return!0;const e=Rt(),n=Pa.M(e),r=0<n&&n<10,i=fF(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Pa.M(Rt())===12.2&&Qt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(K(Xr,"Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const s=a.target.result;n(s)},i.onblocked=()=>{r(new ep(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const s=a.target.error;s.name==="VersionError"?r(new G(z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new G(z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new ep(e,s))},i.onupgradeneeded=a=>{K(Xr,'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const s=a.target.result;this.N.k(s,i.transaction,a.oldVersion,this.version).next(()=>{K(Xr,"Database upgrade to version "+this.version+" complete")})}})),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const a=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.L(e);const o=Pw.open(this.db,e,a?"readonly":"readwrite",r),l=i(o).next(c=>(o.C(),c)).catch(c=>(o.abort(c),L.reject(c))).toPromise();return l.catch(()=>{}),await o.D,l}catch(o){const l=o,c=l.name!=="FirebaseError"&&s<3;if(K(Xr,"Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function fF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Lce{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return dc(this.U.delete())}}class ep extends G{constructor(e,n){super(z.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function kl(t){return t.name==="IndexedDbTransactionError"}class Vce{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(K(Xr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(K(Xr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),dc(r)}add(e){return K(Xr,"ADD",this.store.name,e,e),dc(this.store.add(e))}get(e){return dc(this.store.get(e)).next(n=>(n===void 0&&(n=null),K(Xr,"GET",this.store.name,e,n),n))}delete(e){return K(Xr,"DELETE",this.store.name,e),dc(this.store.delete(e))}count(){return K(Xr,"COUNT",this.store.name),dc(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(r.range);return new L((s,o)=>{a.onerror=l=>{o(l.target.error)},a.onsuccess=l=>{s(l.target.result)}})}{const a=this.cursor(r),s=[];return this.H(a,(o,l)=>{s.push(l)}).next(()=>s)}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new L((i,a)=>{r.onerror=s=>{a(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}Z(e,n){K(Xr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,(a,s,o)=>o.delete())}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new L((r,i)=>{n.onerror=a=>{const s=T2(a.target.error);i(s)},n.onsuccess=a=>{const s=a.target.result;s?e(s.primaryKey,s.value).next(o=>{o?s.continue():r()}):r()}})}H(e,n){const r=[];return new L((i,a)=>{e.onerror=s=>{a(s.target.error)},e.onsuccess=s=>{const o=s.target.result;if(!o)return void i();const l=new Lce(o),c=n(o.primaryKey,o.value,l);if(c instanceof L){const d=c.catch(h=>(l.done(),L.reject(h)));r.push(d)}l.isDone?i():l.G===null?o.continue():o.continue(l.G)}}).next(()=>L.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function dc(t){return new L((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=T2(r.target.error);n(i)}})}let YD=!1;function T2(t){const e=Pa.M(Rt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new G("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return YD||(YD=!0,setTimeout(()=>{throw r},0)),r}}return t}const tp="IndexBackfiller";class Uce{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){K(tp,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const n=await this.ne.ie();K(tp,`Documents written: ${n}`)}catch(n){kl(n)?K(tp,"Ignoring IndexedDB error during index backfill: ",n):await jl(n)}await this.re(6e4)})}}class zce{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.se(n,e))}se(e,n){const r=new Set;let i=n,a=!0;return L.doWhile(()=>a===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return K(tp,`Processing collection: ${s}`),this.oe(e,s,i).next(o=>{i-=o,r.add(s)});a=!1})).next(()=>n-i)}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(a=>{const s=a.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this._e(i,a)).next(o=>(K(tp,`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,n,o))).next(()=>s.size)}))}_e(e,n){let r=e;return n.changes.forEach((i,a)=>{const s=uF(a);S2(s,r)>0&&(r=s)}),new yi(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=-1;function Jg(t){return t==null}function $p(t){return t===0&&1/t==-1/0}function mF(t){return typeof t=="number"&&Number.isInteger(t)&&!$p(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="";function dr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=QD(e)),e=Bce(t.get(n),e);return QD(e)}function Bce(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case Ex:n+="";break;default:n+=a}}return n}function QD(t){return t+Ex+""}function Ta(t){const e=t.length;if(oe(e>=2,64408,{path:t}),e===2)return oe(t.charAt(0)===Ex&&t.charAt(1)==="",56145,{path:t}),Te.emptyPath();const n=e-2,r=[];let i="";for(let a=0;a<e;){const s=t.indexOf(Ex,a);switch((s<0||s>n)&&re(50515,{path:t}),t.charAt(s+1)){case"":const o=t.substring(a,s);let l;i.length===0?l=o:(i+=o,l=i,i=""),r.push(l);break;case"":i+=t.substring(a,s),i+="\0";break;case"":i+=t.substring(a,s+1);break;default:re(61167,{path:t})}a=s+2}return new Te(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic="remoteDocuments",ey="owner",Uu="owner",qp="mutationQueues",Fce="userId",ea="mutations",XD="batchId",vc="userMutationsIndex",ZD=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t,e){return[t,dr(e)]}function pF(t,e,n){return[t,dr(e),n]}const $ce={},oh="documentMutations",Sx="remoteDocumentsV14",qce=["prefixPath","collectionGroup","readTime","documentId"],v0="documentKeyIndex",Hce=["prefixPath","collectionGroup","documentId"],gF="collectionGroupIndex",Gce=["collectionGroup","readTime","prefixPath","documentId"],Hp="remoteDocumentGlobal",BT="remoteDocumentGlobalKey",lh="targets",yF="queryTargetsIndex",Kce=["canonicalId","targetId"],ch="targetDocuments",Wce=["targetId","path"],A2="documentTargetsIndex",Yce=["path","targetId"],Tx="targetGlobalKey",kc="targetGlobal",Gp="collectionParents",Qce=["collectionId","parent"],uh="clientMetadata",Xce="clientId",Cw="bundles",Zce="bundleId",jw="namedQueries",Jce="name",N2="indexConfiguration",eue="indexId",FT="collectionGroupIndex",tue="collectionGroup",np="indexState",nue=["indexId","uid"],vF="sequenceNumberIndex",rue=["uid","sequenceNumber"],rp="indexEntries",iue=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],xF="documentKeyIndex",aue=["indexId","uid","orderedDocumentKey"],kw="documentOverlays",sue=["userId","collectionPath","documentId"],$T="collectionPathOverlayIndex",oue=["userId","collectionPath","largestBatchId"],bF="collectionGroupOverlayIndex",lue=["userId","collectionGroup","largestBatchId"],I2="globals",cue="name",wF=[qp,ea,oh,ic,lh,ey,kc,ch,uh,Hp,Gp,Cw,jw],uue=[...wF,kw],_F=[qp,ea,oh,Sx,lh,ey,kc,ch,uh,Hp,Gp,Cw,jw,kw],EF=_F,P2=[...EF,N2,np,rp],due=P2,SF=[...P2,I2],hue=SF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT extends hF{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function wn(t,e){const n=te(t);return Pa.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ol(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||Hn.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Hn.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gv(this.root,e,this.comparator,!1)}getReverseIterator(){return new gv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gv(this.root,e,this.comparator,!0)}}class gv{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Hn.RED,this.left=i??Hn.EMPTY,this.right=a??Hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Hn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Hn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw re(27949);return e+(this.isRed()?0:1)}}Hn.EMPTY=null,Hn.RED=!0,Hn.BLACK=!1;Hn.EMPTY=new class{constructor(){this.size=0}get key(){throw re(57766)}get value(){throw re(16141)}get color(){throw re(16727)}get left(){throw re(29726)}get right(){throw re(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new eM(this.data.getIterator())}getIteratorFrom(e){return new eM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof We)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new We(this.comparator);return n.data=e,n}}class eM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function zu(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new Ur([])}unionWith(e){let n=new We(Nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ur(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ah(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fue(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new AF("Invalid base64 string: "+a):a}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const mue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ms(t){if(oe(!!t,39018),typeof t=="string"){let e=0;const n=mue.exec(t);if(oe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(t.seconds),nanos:Tt(t.nanos)}}function Tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ls(t){return typeof t=="string"?Ft.fromBase64String(t):Ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF="server_timestamp",IF="__type__",PF="__previous_value__",CF="__local_write_time__";function Ow(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[IF])==null?void 0:r.stringValue)===NF}function Rw(t){const e=t.mapValue.fields[PF];return Ow(e)?Rw(e):e}function Kp(t){const e=Ms(t.mapValue.fields[CF].timestampValue);return new Be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pue{constructor(e,n,r,i,a,s,o,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const HT="(default)";class ml{constructor(e,n){this.projectId=e,this.database=n||HT}static empty(){return new ml("","")}get isDefaultDatabase(){return this.database===HT}isEqual(e){return e instanceof ml&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="__type__",jF="__max__",Bo={mapValue:{fields:{__type__:{stringValue:jF}}}},j2="__vector__",dh="value",x0={nullValue:"NULL_VALUE"};function pl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ow(t)?4:kF(t)?9007199254740991:Dw(t)?10:11:re(28295,{value:t})}function Ua(t,e){if(t===e)return!0;const n=pl(t);if(n!==pl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kp(t).isEqual(Kp(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Ms(i.timestampValue),o=Ms(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Ls(i.bytesValue).isEqual(Ls(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Tt(i.geoPointValue.latitude)===Tt(a.geoPointValue.latitude)&&Tt(i.geoPointValue.longitude)===Tt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Tt(i.integerValue)===Tt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Tt(i.doubleValue),o=Tt(a.doubleValue);return s===o?$p(s)===$p(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ah(t.arrayValue.values||[],e.arrayValue.values||[],Ua);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(JD(s)!==JD(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Ua(s[l],o[l])))return!1;return!0}(t,e);default:return re(52216,{left:t})}}function Wp(t,e){return(t.values||[]).find(n=>Ua(n,e))!==void 0}function gl(t,e){if(t===e)return 0;const n=pl(t),r=pl(e);if(n!==r)return fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=Tt(a.integerValue||a.doubleValue),l=Tt(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return tM(t.timestampValue,e.timestampValue);case 4:return tM(Kp(t),Kp(e));case 5:return UT(t.stringValue,e.stringValue);case 6:return function(a,s){const o=Ls(a),l=Ls(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const d=fe(o[c],l[c]);if(d!==0)return d}return fe(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=fe(Tt(a.latitude),Tt(s.latitude));return o!==0?o:fe(Tt(a.longitude),Tt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return nM(t.arrayValue,e.arrayValue);case 10:return function(a,s){var f,m,y,v;const o=a.fields||{},l=s.fields||{},c=(f=o[dh])==null?void 0:f.arrayValue,d=(m=l[dh])==null?void 0:m.arrayValue,h=fe(((y=c==null?void 0:c.values)==null?void 0:y.length)||0,((v=d==null?void 0:d.values)==null?void 0:v.length)||0);return h!==0?h:nM(c,d)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===Bo.mapValue&&s===Bo.mapValue)return 0;if(a===Bo.mapValue)return 1;if(s===Bo.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),c=s.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=UT(l[h],d[h]);if(f!==0)return f;const m=gl(o[l[h]],c[d[h]]);if(m!==0)return m}return fe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw re(23264,{he:n})}}function tM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);const n=Ms(t),r=Ms(e),i=fe(n.seconds,r.seconds);return i!==0?i:fe(n.nanos,r.nanos)}function nM(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=gl(n[i],r[i]);if(a)return a}return fe(n.length,r.length)}function hh(t){return GT(t)}function GT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ms(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ls(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=GT(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${GT(n.fields[s])}`;return i+"}"}(t.mapValue):re(61005,{value:t})}function b0(t){switch(pl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rw(t);return e?16+b0(e):16;case 5:return 2*t.stringValue.length;case 6:return Ls(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+b0(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ol(r.fields,(a,s)=>{i+=a.length+b0(s)}),i}(t.mapValue);default:throw re(13486,{value:t})}}function Xc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function KT(t){return!!t&&"integerValue"in t}function Yp(t){return!!t&&"arrayValue"in t}function rM(t){return!!t&&"nullValue"in t}function iM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function w0(t){return!!t&&"mapValue"in t}function Dw(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[C2])==null?void 0:r.stringValue)===j2}function ip(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ol(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ip(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ip(t.arrayValue.values[n]);return e}return{...t}}function kF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===jF}const OF={mapValue:{fields:{[C2]:{stringValue:j2},[dh]:{arrayValue:{}}}}};function gue(t){return"nullValue"in t?x0:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Xc(ml.empty(),J.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Dw(t)?OF:{mapValue:{}}:re(35942,{value:t})}function yue(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Xc(ml.empty(),J.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?OF:"mapValue"in t?Dw(t)?{mapValue:{}}:Bo:re(61959,{value:t})}function aM(t,e){const n=gl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function sM(t,e){const n=gl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!w0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ip(n)}setAll(e){let n=Nt.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=ip(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());w0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ua(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];w0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ol(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Wn(ip(this.value))}}function RF(t){const e=[];return Ol(t.fields,(n,r)=>{const i=new Nt([n]);if(w0(r)){const a=RF(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new pt(e,0,ce.min(),ce.min(),ce.min(),Wn.empty(),0)}static newFoundDocument(e,n,r,i){return new pt(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new pt(e,2,n,ce.min(),ce.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new pt(e,3,n,ce.min(),ce.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n){this.position=e,this.inclusive=n}}function oM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=J.comparator(J.fromName(s.referenceValue),n.key):r=gl(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function lM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ua(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n="asc"){this.field=e,this.dir=n}}function vue(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{}class Ie extends DF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new xue(e,n,r):n==="array-contains"?new _ue(e,r):n==="in"?new BF(e,r):n==="not-in"?new Eue(e,r):n==="array-contains-any"?new Sue(e,r):new Ie(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new bue(e,r):new wue(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(gl(n,this.value)):n!==null&&pl(this.value)===pl(n)&&this.matchesComparison(gl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ke extends DF{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ke(e,n)}matches(e){return fh(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fh(t){return t.op==="and"}function WT(t){return t.op==="or"}function k2(t){return MF(t)&&fh(t)}function MF(t){for(const e of t.filters)if(e instanceof Ke)return!1;return!0}function YT(t){if(t instanceof Ie)return t.field.canonicalString()+t.op.toString()+hh(t.value);if(k2(t))return t.filters.map(e=>YT(e)).join(",");{const e=t.filters.map(n=>YT(n)).join(",");return`${t.op}(${e})`}}function LF(t,e){return t instanceof Ie?function(r,i){return i instanceof Ie&&r.op===i.op&&r.field.isEqual(i.field)&&Ua(r.value,i.value)}(t,e):t instanceof Ke?function(r,i){return i instanceof Ke&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&LF(s,i.filters[o]),!0):!1}(t,e):void re(19439)}function VF(t,e){const n=t.filters.concat(e);return Ke.create(n,t.op)}function UF(t){return t instanceof Ie?function(n){return`${n.field.canonicalString()} ${n.op} ${hh(n.value)}`}(t):t instanceof Ke?function(n){return n.op.toString()+" {"+n.getFilters().map(UF).join(" ,")+"}"}(t):"Filter"}class xue extends Ie{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class bue extends Ie{constructor(e,n){super(e,"in",n),this.keys=zF("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class wue extends Ie{constructor(e,n){super(e,"not-in",n),this.keys=zF("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zF(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class _ue extends Ie{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yp(n)&&Wp(n.arrayValue,this.value)}}class BF extends Ie{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wp(this.value.arrayValue,n)}}class Eue extends Ie{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wp(this.value.arrayValue,n)}}class Sue extends Ie{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wp(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tue{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function QT(t,e=null,n=[],r=[],i=null,a=null,s=null){return new Tue(t,e,n,r,i,a,s)}function Zc(t){const e=te(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>YT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Jg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hh(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hh(r)).join(",")),e.Te=n}return e.Te}function ty(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vue(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lM(t.startAt,e.startAt)&&lM(t.endAt,e.endAt)}function Ax(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Nx(t,e){return t.filters.filter(n=>n instanceof Ie&&n.field.isEqual(e))}function cM(t,e,n){let r=x0,i=!0;for(const a of Nx(t,e)){let s=x0,o=!0;switch(a.op){case"<":case"<=":s=gue(a.value);break;case"==":case"in":case">=":s=a.value;break;case">":s=a.value,o=!1;break;case"!=":case"not-in":s=x0}aM({value:r,inclusive:i},{value:s,inclusive:o})<0&&(r=s,i=o)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const s=n.position[a];aM({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function uM(t,e,n){let r=Bo,i=!0;for(const a of Nx(t,e)){let s=Bo,o=!0;switch(a.op){case">=":case">":s=yue(a.value),o=!1;break;case"==":case"in":case"<=":s=a.value;break;case"<":s=a.value,o=!1;break;case"!=":case"not-in":s=Bo}sM({value:r,inclusive:i},{value:s,inclusive:o})>0&&(r=s,i=o)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const s=n.position[a];sM({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function FF(t,e,n,r,i,a,s,o){return new Js(t,e,n,r,i,a,s,o)}function Zh(t){return new Js(t)}function dM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function O2(t){return t.collectionGroup!==null}function Ld(t){const e=te(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new We(Nt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Qp(a,r))}),n.has(Nt.keyField().canonicalString())||e.Ie.push(new Qp(Nt.keyField(),r))}return e.Ie}function Nr(t){const e=te(t);return e.Ee||(e.Ee=Aue(e,Ld(t))),e.Ee}function Aue(t,e){if(t.limitType==="F")return QT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Qp(i.field,a)});const n=t.endAt?new yl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yl(t.startAt.position,t.startAt.inclusive):null;return QT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function XT(t,e){const n=t.filters.concat([e]);return new Js(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ix(t,e,n){return new Js(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ny(t,e){return ty(Nr(t),Nr(e))&&t.limitType===e.limitType}function $F(t){return`${Zc(Nr(t))}|lt:${t.limitType}`}function ed(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>UF(i)).join(", ")}]`),Jg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>hh(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>hh(i)).join(",")),`Target(${r})`}(Nr(t))}; limitType=${t.limitType})`}function ry(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):J.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Ld(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,l){const c=oM(s,o,l);return s.inclusive?c<=0:c<0}(r.startAt,Ld(r),i)||r.endAt&&!function(s,o,l){const c=oM(s,o,l);return s.inclusive?c>=0:c>0}(r.endAt,Ld(r),i))}(t,e)}function qF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function HF(t){return(e,n)=>{let r=!1;for(const i of Ld(t)){const a=Nue(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function Nue(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(a,s,o){const l=s.data.field(a),c=o.data.field(a);return l!==null&&c!==null?gl(l,c):re(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ol(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return TF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iue=new lt(J.comparator);function zr(){return Iue}const GF=new lt(J.comparator);function Sm(...t){let e=GF;for(const n of t)e=e.insert(n.key,n);return e}function KF(t){let e=GF;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Aa(){return ap()}function WF(){return ap()}function ap(){return new eo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Pue=new lt(J.comparator),Cue=new We(J.comparator);function ve(...t){let e=Cue;for(const n of t)e=e.add(n);return e}const jue=new We(fe);function R2(){return jue}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$p(e)?"-0":e}}function YF(t){return{integerValue:""+t}}function QF(t,e){return mF(e)?YF(e):D2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this._=void 0}}function kue(t,e,n){return t instanceof mh?function(i,a){const s={fields:{[IF]:{stringValue:NF},[CF]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Ow(a)&&(a=Rw(a)),a&&(s.fields[PF]=a),{mapValue:s}}(n,e):t instanceof Jc?ZF(t,e):t instanceof eu?JF(t,e):function(i,a){const s=XF(i,a),o=hM(s)+hM(i.Ae);return KT(s)&&KT(i.Ae)?YF(o):D2(i.serializer,o)}(t,e)}function Oue(t,e,n){return t instanceof Jc?ZF(t,e):t instanceof eu?JF(t,e):n}function XF(t,e){return t instanceof ph?function(r){return KT(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class mh extends Mw{}class Jc extends Mw{constructor(e){super(),this.elements=e}}function ZF(t,e){const n=e8(e);for(const r of t.elements)n.some(i=>Ua(i,r))||n.push(r);return{arrayValue:{values:n}}}class eu extends Mw{constructor(e){super(),this.elements=e}}function JF(t,e){let n=e8(e);for(const r of t.elements)n=n.filter(i=>!Ua(i,r));return{arrayValue:{values:n}}}class ph extends Mw{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function hM(t){return Tt(t.integerValue||t.doubleValue)}function e8(t){return Yp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n){this.field=e,this.transform=n}}function Rue(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Jc&&i instanceof Jc||r instanceof eu&&i instanceof eu?ah(r.elements,i.elements,Ua):r instanceof ph&&i instanceof ph?Ua(r.Ae,i.Ae):r instanceof mh&&i instanceof mh}(t.transform,e.transform)}class Due{constructor(e,n){this.version=e,this.transformResults=n}}class It{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new It}static exists(e){return new It(void 0,e)}static updateTime(e){return new It(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lw{}function t8(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ef(t.key,It.none()):new Jh(t.key,t.data,It.none());{const n=t.data,r=Wn.empty();let i=new We(Nt.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new to(t.key,r,new Ur(i.toArray()),It.none())}}function Mue(t,e,n){t instanceof Jh?function(i,a,s){const o=i.value.clone(),l=mM(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof to?function(i,a,s){if(!_0(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=mM(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(n8(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function sp(t,e,n,r){return t instanceof Jh?function(a,s,o,l){if(!_0(a.precondition,s))return o;const c=a.value.clone(),d=pM(a.fieldTransforms,l,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof to?function(a,s,o,l){if(!_0(a.precondition,s))return o;const c=pM(a.fieldTransforms,l,s),d=s.data;return d.setAll(n8(a)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(a,s,o){return _0(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function Lue(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=XF(r.transform,i||null);a!=null&&(n===null&&(n=Wn.empty()),n.set(r.field,a))}return n||null}function fM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ah(r,i,(a,s)=>Rue(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jh extends Lw{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class to extends Lw{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function n8(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function mM(t,e,n){const r=new Map;oe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,Oue(s,o,n[i]))}return r}function pM(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,kue(a,s,e))}return r}class ef extends Lw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class M2 extends Lw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Mue(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=sp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=sp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=WF();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=t8(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&ah(this.mutations,e.mutations,(n,r)=>fM(n,r))&&ah(this.baseMutations,e.baseMutations,(n,r)=>fM(n,r))}}class V2{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){oe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return Pue}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new V2(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vue{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,je;function r8(t){switch(t){case z.OK:return re(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return re(15467,{code:t})}}function i8(t){if(t===void 0)return Qt("GRPC error has no .code"),z.UNKNOWN;switch(t){case tn.OK:return z.OK;case tn.CANCELLED:return z.CANCELLED;case tn.UNKNOWN:return z.UNKNOWN;case tn.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case tn.INTERNAL:return z.INTERNAL;case tn.UNAVAILABLE:return z.UNAVAILABLE;case tn.UNAUTHENTICATED:return z.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case tn.NOT_FOUND:return z.NOT_FOUND;case tn.ALREADY_EXISTS:return z.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return z.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case tn.ABORTED:return z.ABORTED;case tn.OUT_OF_RANGE:return z.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return z.UNIMPLEMENTED;case tn.DATA_LOSS:return z.DATA_LOSS;default:return re(39323,{code:t})}}(je=tn||(tn={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uue=new tl([4294967295,4294967295],0);function gM(t){const e=a8().encode(t),n=new XB;return n.update(e),new Uint8Array(n.digest())}function yM(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new tl([n,r],0),new tl([i,a],0)]}class z2{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Tm(`Invalid padding: ${n}`);if(r<0)throw new Tm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Tm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Tm(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=tl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(tl.fromNumber(r)));return i.compare(Uue)===1&&(i=new tl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=gM(e),[r,i]=yM(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new z2(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const n=gM(e),[r,i]=yM(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Tm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,sy.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ay(ce.min(),i,new lt(fe),zr(),ve())}}class sy{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new sy(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class s8{constructor(e,n){this.targetId=e,this.Ce=n}}class o8{constructor(e,n,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class vM{constructor(){this.ve=0,this.Fe=xM(),this.Me=Ft.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ve(),n=ve(),r=ve();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re(38017,{changeType:a})}}),new sy(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=xM()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,oe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zue{constructor(e){this.Ge=e,this.ze=new Map,this.je=zr(),this.Je=yv(),this.He=yv(),this.Ye=new lt(fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:re(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(Ax(a))if(r===0){const s=new J(a.path);this.et(n,s,pt.newNoDocument(s,ce.min()))}else oe(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const o=this.ut(e),l=o?this.ct(o,e,s):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=Ls(r).toUint8Array()}catch(l){if(l instanceof AF)return Va("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new z2(s,i,a)}catch(l){return Va(l instanceof Tm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&Ax(o.target)){const l=new J(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,pt.newNoDocument(l,e))}a.Be&&(n.set(s,a.ke()),a.qe())}});let r=ve();this.He.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const i=new ay(e,n,this.Ye,this.je,r);return this.je=zr(),this.Je=yv(),this.He=yv(),this.Ye=new lt(fe),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new vM,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new We(fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new We(fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new vM),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function yv(){return new lt(J.comparator)}function xM(){return new lt(J.comparator)}const Bue={asc:"ASCENDING",desc:"DESCENDING"},Fue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$ue={and:"AND",or:"OR"};class que{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ZT(t,e){return t.useProto3Json||Jg(e)?e:{value:e}}function gh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l8(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Hue(t,e){return gh(t,e.toTimestamp())}function Jt(t){return oe(!!t,49232),ce.fromTimestamp(function(n){const r=Ms(n);return new Be(r.seconds,r.nanos)}(t))}function B2(t,e){return JT(t,e).canonicalString()}function JT(t,e){const n=function(i){return new Te(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function c8(t){const e=Te.fromString(t);return oe(x8(e),10190,{key:e.toString()}),e}function Xp(t,e){return B2(t.databaseId,e.path)}function Ca(t,e){const n=c8(e);if(n.get(1)!==t.databaseId.projectId)throw new G(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(h8(n))}function u8(t,e){return B2(t.databaseId,e)}function d8(t){const e=c8(t);return e.length===4?Te.emptyPath():h8(e)}function eA(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function h8(t){return oe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function bM(t,e,n){return{name:Xp(t,e),fields:n.value.mapValue.fields}}function f8(t,e,n){const r=Ca(t,e.name),i=Jt(e.updateTime),a=e.createTime?Jt(e.createTime):ce.min(),s=new Wn({mapValue:{fields:e.fields}}),o=pt.newFoundDocument(r,i,a,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Gue(t,e){return"found"in e?function(r,i){oe(!!i.found,43571),i.found.name,i.found.updateTime;const a=Ca(r,i.found.name),s=Jt(i.found.updateTime),o=i.found.createTime?Jt(i.found.createTime):ce.min(),l=new Wn({mapValue:{fields:i.found.fields}});return pt.newFoundDocument(a,s,o,l)}(t,e):"missing"in e?function(r,i){oe(!!i.missing,3894),oe(!!i.readTime,22933);const a=Ca(r,i.missing),s=Jt(i.readTime);return pt.newNoDocument(a,s)}(t,e):re(7234,{result:e})}function Kue(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:re(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,d){return c.useProto3Json?(oe(d===void 0||typeof d=="string",58123),Ft.fromBase64String(d||"")):(oe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Ft.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(c){const d=c.code===void 0?z.UNKNOWN:i8(c.code);return new G(d,c.message||"")}(s);n=new o8(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ca(t,r.document.name),a=Jt(r.document.updateTime),s=r.document.createTime?Jt(r.document.createTime):ce.min(),o=new Wn({mapValue:{fields:r.document.fields}}),l=pt.newFoundDocument(i,a,s,o),c=r.targetIds||[],d=r.removedTargetIds||[];n=new E0(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ca(t,r.document),a=r.readTime?Jt(r.readTime):ce.min(),s=pt.newNoDocument(i,a),o=r.removedTargetIds||[];n=new E0([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ca(t,r.document),a=r.removedTargetIds||[];n=new E0([],a,i,null)}else{if(!("filter"in e))return re(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new Vue(i,a),o=r.targetId;n=new s8(o,s)}}return n}function Zp(t,e){let n;if(e instanceof Jh)n={update:bM(t,e.key,e.value)};else if(e instanceof ef)n={delete:Xp(t,e.key)};else if(e instanceof to)n={update:bM(t,e.key,e.data),updateMask:Jue(e.fieldMask)};else{if(!(e instanceof M2))return re(16599,{Vt:e.type});n={verify:Xp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof mh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Jc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof eu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ph)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw re(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:Hue(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:re(27497)}(t,e.precondition)),n}function tA(t,e){const n=e.currentDocument?function(a){return a.updateTime!==void 0?It.updateTime(Jt(a.updateTime)):a.exists!==void 0?It.exists(a.exists):It.none()}(e.currentDocument):It.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let l=null;if("setToServerValue"in o)oe(o.setToServerValue==="REQUEST_TIME",16630,{proto:o}),l=new mh;else if("appendMissingElements"in o){const d=o.appendMissingElements.values||[];l=new Jc(d)}else if("removeAllFromArray"in o){const d=o.removeAllFromArray.values||[];l=new eu(d)}else"increment"in o?l=new ph(s,o.increment):re(16584,{proto:o});const c=Nt.fromServerFormat(o.fieldPath);return new iy(c,l)}(t,i)):[];if(e.update){e.update.name;const i=Ca(t,e.update.name),a=new Wn({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=function(l){const c=l.fieldPaths||[];return new Ur(c.map(d=>Nt.fromServerFormat(d)))}(e.updateMask);return new to(i,a,s,n,r)}return new Jh(i,a,n,r)}if(e.delete){const i=Ca(t,e.delete);return new ef(i,n)}if(e.verify){const i=Ca(t,e.verify);return new M2(i,n)}return re(1463,{proto:e})}function Wue(t,e){return t&&t.length>0?(oe(e!==void 0,14353),t.map(n=>function(i,a){let s=i.updateTime?Jt(i.updateTime):Jt(a);return s.isEqual(ce.min())&&(s=Jt(a)),new Due(s,i.transformResults||[])}(n,e))):[]}function m8(t,e){return{documents:[u8(t,e.path)]}}function p8(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=u8(t,i);const a=function(c){if(c.length!==0)return v8(Ke.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:td(f.field),direction:Que(f.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=ZT(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function g8(t){let e=d8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){oe(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];n.where&&(a=function(h){const f=y8(h);return f instanceof Ke&&k2(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(f=>function(y){return new Qp(nd(y.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let o=null;n.limit&&(o=function(h){let f;return f=typeof h=="object"?h.value:h,Jg(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new yl(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,m=h.values||[];return new yl(m,f)}(n.endAt)),FF(e,i,s,a,o,"F",l,c)}function Yue(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function y8(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=nd(n.unaryFilter.field);return Ie.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=nd(n.unaryFilter.field);return Ie.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=nd(n.unaryFilter.field);return Ie.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=nd(n.unaryFilter.field);return Ie.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return re(61313);default:return re(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ie.create(nd(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return re(58110);default:return re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ke.create(n.compositeFilter.filters.map(r=>y8(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re(1026)}}(n.compositeFilter.op))}(t):re(30097,{filter:t})}function Que(t){return Bue[t]}function Xue(t){return Fue[t]}function Zue(t){return $ue[t]}function td(t){return{fieldPath:t.canonicalString()}}function nd(t){return Nt.fromServerFormat(t.fieldPath)}function v8(t){return t instanceof Ie?function(n){if(n.op==="=="){if(iM(n.value))return{unaryFilter:{field:td(n.field),op:"IS_NAN"}};if(rM(n.value))return{unaryFilter:{field:td(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iM(n.value))return{unaryFilter:{field:td(n.field),op:"IS_NOT_NAN"}};if(rM(n.value))return{unaryFilter:{field:td(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:td(n.field),op:Xue(n.op),value:n.value}}}(t):t instanceof Ke?function(n){const r=n.getFilters().map(i=>v8(i));return r.length===1?r[0]:{compositeFilter:{op:Zue(n.op),filters:r}}}(t):re(54877,{filter:t})}function Jue(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function x8(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n,r,i,a=ce.min(),s=ce.min(),o=Ft.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e){this.yt=e}}function ede(t,e){let n;if(e.document)n=f8(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=J.fromSegments(e.noDocument.path),i=nu(e.noDocument.readTime);n=pt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return re(56709);{const r=J.fromSegments(e.unknownDocument.path),i=nu(e.unknownDocument.version);n=pt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const a=new Be(i[0],i[1]);return ce.fromTimestamp(a)}(e.readTime)),n}function wM(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Px(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(a,s){return{name:Xp(a,s.key),fields:s.data.value.mapValue.fields,updateTime:gh(a,s.version.toTimestamp()),createTime:gh(a,s.createTime.toTimestamp())}}(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:tu(e.version)};else{if(!e.isUnknownDocument())return re(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:tu(e.version)}}return r}function Px(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function tu(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function nu(t){const e=new Be(t.seconds,t.nanoseconds);return ce.fromTimestamp(e)}function hc(t,e){const n=(e.baseMutations||[]).map(a=>tA(t.yt,a));for(let a=0;a<e.mutations.length-1;++a){const s=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const o=e.mutations[a+1];s.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const r=e.mutations.map(a=>tA(t.yt,a)),i=Be.fromMillis(e.localWriteTimeMs);return new L2(e.batchId,i,n,r)}function Am(t){const e=nu(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?nu(t.lastLimboFreeSnapshotVersion):ce.min();let r;return r=function(a){return a.documents!==void 0}(t.query)?function(a){const s=a.documents.length;return oe(s===1,1966,{count:s}),Nr(Zh(d8(a.documents[0])))}(t.query):function(a){return Nr(g8(a))}(t.query),new hs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ft.fromBase64String(t.resumeToken))}function w8(t,e){const n=tu(e.snapshotVersion),r=tu(e.lastLimboFreeSnapshotVersion);let i;i=Ax(e.target)?m8(t.yt,e.target):p8(t.yt,e.target).ft;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Zc(e.target),readTime:n,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function F2(t){const e=g8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ix(e,e.limit,"L"):e}function PE(t,e){return new U2(e.largestBatchId,tA(t.yt,e.overlayMutation))}function _M(t,e){const n=e.path.lastSegment();return[t,dr(e.path.popLast()),n]}function EM(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:tu(r.readTime),documentKey:dr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tde{getBundleMetadata(e,n){return SM(e).get(n).next(r=>{if(r)return function(a){return{id:a.bundleId,createTime:nu(a.createTime),version:a.version}}(r)})}saveBundleMetadata(e,n){return SM(e).put(function(i){return{bundleId:i.id,createTime:tu(Jt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return TM(e).get(n).next(r=>{if(r)return function(a){return{name:a.name,query:F2(a.bundledQuery),readTime:nu(a.readTime)}}(r)})}saveNamedQuery(e,n){return TM(e).put(function(i){return{name:i.name,readTime:tu(Jt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function SM(t){return wn(t,Cw)}function TM(t){return wn(t,jw)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new Vw(e,r)}getOverlay(e,n){return Xf(e).get(_M(this.userId,n)).next(r=>r?PE(this.serializer,r):null)}getOverlays(e,n){const r=Aa();return L.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((a,s)=>{const o=new U2(n,s);i.push(this.St(e,o))}),L.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(dr(s.getCollectionPath())));const a=[];return i.forEach(s=>{const o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);a.push(Xf(e).Z($T,o))}),L.waitFor(a)}getOverlaysForCollection(e,n,r){const i=Aa(),a=dr(n),s=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Xf(e).J($T,s).next(o=>{for(const l of o){const c=PE(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const a=Aa();let s;const o=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Xf(e).ee({index:bF,range:o},(l,c,d)=>{const h=PE(this.serializer,c);a.size()<i||h.largestBatchId===s?(a.set(h.getKey(),h),s=h.largestBatchId):d.done()}).next(()=>a)}St(e,n){return Xf(e).put(function(i,a,s){const[o,l,c]=_M(a,s.mutation.key);return{userId:a,collectionPath:l,documentId:c,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Zp(i.yt,s.mutation)}}(this.serializer,this.userId,n))}}function Xf(t){return wn(t,kw)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nde{bt(e){return wn(e,I2)}getSessionToken(e){return this.bt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?Ft.fromUint8Array(r):Ft.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Tt(e.integerValue));else if("doubleValue"in e){const r=Tt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),$p(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Ms(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Ls(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?kF(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):Dw(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):re(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var s,o;const r=e.fields||{};this.Ft(n,53);const i=dh,a=((o=(s=r[i].arrayValue)==null?void 0:s.values)==null?void 0:o.length)||0;this.Ft(n,15),n.Mt(Tt(a)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),J.fromName(e).path.forEach(r=>{this.Ft(n,60),this.Ut(r,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}fc.Kt=new fc;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu=255;function rde(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function AM(t){const e=64-function(r){let i=0;for(let a=0;a<8;++a){const s=rde(255&r[a]);if(i+=s,s!==8)break}return i}(t);return Math.ceil(e/8)}class ide{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=AM(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=AM(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(Bu),this.sn(255)}_n(){this.an(Bu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=function(a){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,a,!1),new Uint8Array(s.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Bu?(this.sn(Bu),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Bu?(this.an(Bu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class ade{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class sde{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Zf{constructor(){this.cn=new ide,this.ln=new ade(this.cn),this.hn=new sde(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new mc(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:S0(this.En),directionalValue:S0(this.dn),orderedDocumentKey:S0(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function bo(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=NM(t.En,e.En),n!==0?n:(n=NM(t.dn,e.dn),n!==0?n:J.comparator(t.In,e.In)))}function NM(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function S0(t){return V9()?function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r}(t):t}function IM(t){return typeof t!="string"?t:function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(t)}class PM{constructor(e){this.mn=new We((n,r)=>Nt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(oe(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=zT(e);if(n!==void 0&&!this.wn(n))return!1;const r=rc(e);let i=new Set,a=0,s=0;for(;a<r.length&&this.wn(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(this.mn.size>0){const o=this.mn.getIterator().getNext();if(!i.has(o.field.canonicalString())){const l=r[a];if(!this.Sn(o,l)||!this.bn(this.fn[s++],l))return!1}++a}for(;a<r.length;++a){const o=r[a];if(s>=this.fn.length||!this.bn(this.fn[s++],o))return!1}return!0}Dn(){if(this.pn)return null;let e=new We(Nt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new g0(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new g0(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new g0(r.field,r.dir==="asc"?0:1)));return new _x(_x.UNKNOWN_ID,this.collectionId,n,Fp.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _8(t){var n,r;if(oe(t instanceof Ie||t instanceof Ke,20012),t instanceof Ie){if(t instanceof BF){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map(a=>Ie.create(t.field,"==",a)))||[];return Ke.create(i,"or")}return t}const e=t.filters.map(i=>_8(i));return Ke.create(e,t.op)}function ode(t){if(t.getFilters().length===0)return[];const e=iA(_8(t));return oe(E8(e),7391),nA(e)||rA(e)?[e]:e.getFilters()}function nA(t){return t instanceof Ie}function rA(t){return t instanceof Ke&&k2(t)}function E8(t){return nA(t)||rA(t)||function(n){if(n instanceof Ke&&WT(n)){for(const r of n.getFilters())if(!nA(r)&&!rA(r))return!1;return!0}return!1}(t)}function iA(t){if(oe(t instanceof Ie||t instanceof Ke,34018),t instanceof Ie)return t;if(t.filters.length===1)return iA(t.filters[0]);const e=t.filters.map(r=>iA(r));let n=Ke.create(e,t.op);return n=Cx(n),E8(n)?n:(oe(n instanceof Ke,64498),oe(fh(n),40251),oe(n.filters.length>1,57927),n.filters.reduce((r,i)=>$2(r,i)))}function $2(t,e){let n;return oe(t instanceof Ie||t instanceof Ke,38388),oe(e instanceof Ie||e instanceof Ke,25473),n=t instanceof Ie?e instanceof Ie?function(i,a){return Ke.create([i,a],"and")}(t,e):CM(t,e):e instanceof Ie?CM(e,t):function(i,a){if(oe(i.filters.length>0&&a.filters.length>0,48005),fh(i)&&fh(a))return VF(i,a.getFilters());const s=WT(i)?i:a,o=WT(i)?a:i,l=s.filters.map(c=>$2(c,o));return Ke.create(l,"or")}(t,e),Cx(n)}function CM(t,e){if(fh(e))return VF(e,t.getFilters());{const n=e.filters.map(r=>$2(t,r));return Ke.create(n,"or")}}function Cx(t){if(oe(t instanceof Ie||t instanceof Ke,11850),t instanceof Ie)return t;const e=t.getFilters();if(e.length===1)return Cx(e[0]);if(MF(t))return t;const n=e.map(i=>Cx(i)),r=[];return n.forEach(i=>{i instanceof Ie?r.push(i):i instanceof Ke&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Ke.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lde{constructor(){this.Cn=new q2}addToCollectionParentIndex(e,n){return this.Cn.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(yi.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(yi.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class q2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new We(Te.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new We(Te.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM="IndexedDbIndexManager",vv=new Uint8Array(0);class cde{constructor(e,n){this.databaseId=n,this.vn=new q2,this.Fn=new eo(r=>Zc(r),(r,i)=>ty(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.vn.add(n)});const a={collectionId:r,parent:dr(i)};return kM(e).put(a)}return L.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[aF(n),""],!1,!0);return kM(e).J(i).next(a=>{for(const s of a){if(s.collectionId!==n)break;r.push(Ta(s.parent))}return r})}addFieldIndex(e,n){const r=Jf(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const a=r.add(i);if(n.indexState){const s=$u(e);return a.next(o=>{s.put(EM(o,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return a.next()}deleteFieldIndex(e,n){const r=Jf(e),i=$u(e),a=Fu(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Jf(e),r=Fu(e),i=$u(e);return n.Z().next(()=>r.Z()).next(()=>i.Z())}createTargetIndexes(e,n){return L.forEach(this.Mn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const a=new PM(r).Dn();if(a!=null)return this.addFieldIndex(e,a)}}))}getDocumentsMatchingTarget(e,n){const r=Fu(e);let i=!0;const a=new Map;return L.forEach(this.Mn(n),s=>this.xn(e,s).next(o=>{i&&(i=!!o),a.set(s,o)})).next(()=>{if(i){let s=ve();const o=[];return L.forEach(a,(l,c)=>{K(jM,`Using index ${function(_){return`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(T=>`${T.fieldPath}:${T.kind}`).join(",")}`}(l)} to execute ${Zc(n)}`);const d=function(_,T){const N=zT(T);if(N===void 0)return null;for(const j of Nx(_,N.fieldPath))switch(j.op){case"array-contains-any":return j.value.arrayValue.values||[];case"array-contains":return[j.value]}return null}(c,l),h=function(_,T){const N=new Map;for(const j of rc(T))for(const A of Nx(_,j.fieldPath))switch(A.op){case"==":case"in":N.set(j.fieldPath.canonicalString(),A.value);break;case"not-in":case"!=":return N.set(j.fieldPath.canonicalString(),A.value),Array.from(N.values())}return null}(c,l),f=function(_,T){const N=[];let j=!0;for(const A of rc(T)){const S=A.kind===0?cM(_,A.fieldPath,_.startAt):uM(_,A.fieldPath,_.startAt);N.push(S.value),j&&(j=S.inclusive)}return new yl(N,j)}(c,l),m=function(_,T){const N=[];let j=!0;for(const A of rc(T)){const S=A.kind===0?uM(_,A.fieldPath,_.endAt):cM(_,A.fieldPath,_.endAt);N.push(S.value),j&&(j=S.inclusive)}return new yl(N,j)}(c,l),y=this.On(l,c,f),v=this.On(l,c,m),x=this.Nn(l,c,h),b=this.Bn(l.indexId,d,y,f.inclusive,v,m.inclusive,x);return L.forEach(b,w=>r.Y(w,n.limit).next(_=>{_.forEach(T=>{const N=J.fromSegments(T.documentKey);s.has(N)||(s=s.add(N),o.push(N))})}))}).next(()=>o)}return L.resolve(null)})}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=ode(Ke.create(e.filters,"and")).map(r=>QT(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Fn.set(e,n),n)}Bn(e,n,r,i,a,s,o){const l=(n!=null?n.length:1)*Math.max(r.length,a.length),c=l/(n!=null?n.length:1),d=[];for(let h=0;h<l;++h){const f=n?this.Ln(n[h/c]):vv,m=this.kn(e,f,r[h%c],i),y=this.qn(e,f,a[h%c],s),v=o.map(x=>this.kn(e,f,x,!0));d.push(...this.createRange(m,y,v))}return d}kn(e,n,r,i){const a=new mc(e,J.empty(),n,r);return i?a:a.An()}qn(e,n,r,i){const a=new mc(e,J.empty(),n,r);return i?a.An():a}xn(e,n){const r=new PM(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let s=null;for(const o of a)r.yn(o)&&(!s||o.fields.length>s.fields.length)&&(s=o);return s})}getIndexType(e,n){let r=2;const i=this.Mn(n);return L.forEach(i,a=>this.xn(e,a).next(s=>{s?r!==0&&s.fields.length<function(l){let c=new We(Nt.comparator),d=!1;for(const h of l.filters)for(const f of h.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?d=!0:c=c.add(f.field));for(const h of l.orderBy)h.field.isKeyField()||(c=c.add(h.field));return c.size+(d?1:0)}(a)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}Qn(e,n){const r=new Zf;for(const i of rc(e)){const a=n.data.field(i.fieldPath);if(a==null)return null;const s=r.Pn(i.kind);fc.Kt.Dt(a,s)}return r.un()}Ln(e){const n=new Zf;return fc.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Zf;return fc.Kt.Dt(Xc(this.databaseId,n),r.Pn(function(a){const s=rc(a);return s.length===0?0:s[s.length-1].kind}(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new Zf);let a=0;for(const s of rc(e)){const o=r[a++];for(const l of i)if(this.Un(n,s.fieldPath)&&Yp(o))i=this.Kn(i,s,o);else{const c=l.Pn(s.kind);fc.Kt.Dt(o,c)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],a=[];for(const s of r.arrayValue.values||[])for(const o of i){const l=new Zf;l.seed(o.un()),fc.Kt.Dt(s,l.Pn(n.kind)),a.push(l)}return a}Un(e,n){return!!e.filters.find(r=>r instanceof Ie&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Jf(e),i=$u(e);return(n?r.J(FT,IDBKeyRange.bound(n,n)):r.J()).next(a=>{const s=[];return L.forEach(a,o=>i.get([o.indexId,this.uid]).next(l=>{s.push(function(d,h){const f=h?new Fp(h.sequenceNumber,new yi(nu(h.readTime),new J(Ta(h.documentKey)),h.largestBatchId)):Fp.empty(),m=d.fields.map(([y,v])=>new g0(Nt.fromServerFormat(y),v));return new _x(d.indexId,d.collectionGroup,m,f)}(o,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:fe(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Jf(e),a=$u(e);return this.Gn(e).next(s=>i.J(FT,IDBKeyRange.bound(n,n)).next(o=>L.forEach(o,l=>a.put(EM(l.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){const r=new Map;return L.forEach(n,(i,a)=>{const s=r.get(i.collectionGroup);return(s?L.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(o=>(r.set(i.collectionGroup,o),L.forEach(o,l=>this.zn(e,i,l).next(c=>{const d=this.jn(a,l);return c.isEqual(d)?L.resolve():this.Jn(e,a,l,c,d)}))))})}Hn(e,n,r,i){return Fu(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return Fu(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=Fu(e);let a=new We(bo);return i.ee({index:xF,range:IDBKeyRange.only([r.indexId,this.uid,S0(this.$n(r,n))])},(s,o)=>{a=a.add(new mc(r.indexId,n,IM(o.arrayValue),IM(o.directionalValue)))}).next(()=>a)}jn(e,n){let r=new We(bo);const i=this.Qn(n,e);if(i==null)return r;const a=zT(n);if(a!=null){const s=e.data.field(a.fieldPath);if(Yp(s))for(const o of s.arrayValue.values||[])r=r.add(new mc(n.indexId,e.key,this.Ln(o),i))}else r=r.add(new mc(n.indexId,e.key,vv,i));return r}Jn(e,n,r,i,a){K(jM,"Updating index entries for document '%s'",n.key);const s=[];return function(l,c,d,h,f){const m=l.getIterator(),y=c.getIterator();let v=zu(m),x=zu(y);for(;v||x;){let b=!1,w=!1;if(v&&x){const _=d(v,x);_<0?w=!0:_>0&&(b=!0)}else v!=null?w=!0:b=!0;b?(h(x),x=zu(y)):w?(f(v),v=zu(m)):(v=zu(m),x=zu(y))}}(i,a,bo,o=>{s.push(this.Hn(e,n,r,o))},o=>{s.push(this.Yn(e,n,r,o))}),L.waitFor(s)}Gn(e){let n=1;return $u(e).ee({index:vF,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,o)=>bo(s,o)).filter((s,o,l)=>!o||bo(s,l[o-1])!==0);const i=[];i.push(e);for(const s of r){const o=bo(s,e),l=bo(s,n);if(o===0)i[0]=e.An();else if(o>0&&l<0)i.push(s),i.push(s.An());else if(l>0)break}i.push(n);const a=[];for(let s=0;s<i.length;s+=2){if(this.Zn(i[s],i[s+1]))return[];const o=i[s].Vn(this.uid,vv,J.empty()),l=i[s+1].Vn(this.uid,vv,J.empty());a.push(IDBKeyRange.bound(o,l))}return a}Zn(e,n){return bo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(OM)}getMinOffset(e,n){return L.mapArray(this.Mn(n),r=>this.xn(e,r).next(i=>i||re(44426))).next(OM)}}function kM(t){return wn(t,Gp)}function Fu(t){return wn(t,rp)}function Jf(t){return wn(t,N2)}function $u(t){return wn(t,np)}function OM(t){oe(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;S2(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new yi(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},S8=41943040;class ir{static withCacheSize(e){return new ir(e,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8(t,e,n){const r=t.store(ea),i=t.store(oh),a=[],s=IDBKeyRange.only(n.batchId);let o=0;const l=r.ee({range:s},(d,h,f)=>(o++,f.delete()));a.push(l.next(()=>{oe(o===1,47070,{batchId:n.batchId})}));const c=[];for(const d of n.mutations){const h=pF(e,d.key.path,n.batchId);a.push(i.delete(h)),c.push(d.key)}return L.waitFor(a).next(()=>c)}function jx(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw re(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ir.DEFAULT_COLLECTION_PERCENTILE=10,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ir.DEFAULT=new ir(S8,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ir.DISABLED=new ir(-1,0,0);class Uw{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){oe(e.uid!=="",64387);const a=e.isAuthenticated()?e.uid:"";return new Uw(a,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wo(e).ee({index:vc,range:r},(i,a,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const a=rd(e),s=wo(e);return s.add({}).next(o=>{oe(typeof o=="number",49019);const l=new L2(o,n,r,i),c=function(m,y,v){const x=v.baseMutations.map(w=>Zp(m.yt,w)),b=v.mutations.map(w=>Zp(m.yt,w));return{userId:y,batchId:v.batchId,localWriteTimeMs:v.localWriteTime.toMillis(),baseMutations:x,mutations:b}}(this.serializer,this.userId,l),d=[];let h=new We((f,m)=>fe(f.canonicalString(),m.canonicalString()));for(const f of i){const m=pF(this.userId,f.key.path,o);h=h.add(f.key.path.popLast()),d.push(s.put(c)),d.push(a.put(m,$ce))}return h.forEach(f=>{d.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Xn[o]=l.keys()}),L.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return wo(e).get(n).next(r=>r?(oe(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),hc(this.serializer,r)):null)}er(e,n){return this.Xn[n]?L.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return wo(e).ee({index:vc,range:i},(s,o,l)=>{o.userId===this.userId&&(oe(o.batchId>=r,47524,{tr:r}),a=hc(this.serializer,o)),l.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=nl;return wo(e).ee({index:vc,range:n,reverse:!0},(i,a,s)=>{r=a.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,nl],[this.userId,Number.POSITIVE_INFINITY]);return wo(e).J(vc,n).next(r=>r.map(i=>hc(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=y0(this.userId,n.path),i=IDBKeyRange.lowerBound(r),a=[];return rd(e).ee({range:i},(s,o,l)=>{const[c,d,h]=s,f=Ta(d);if(c===this.userId&&n.path.isEqual(f))return wo(e).get(h).next(m=>{if(!m)throw re(61480,{nr:s,batchId:h});oe(m.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:m.userId,batchId:h}),a.push(hc(this.serializer,m))});l.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new We(fe);const i=[];return n.forEach(a=>{const s=y0(this.userId,a.path),o=IDBKeyRange.lowerBound(s),l=rd(e).ee({range:o},(c,d,h)=>{const[f,m,y]=c,v=Ta(m);f===this.userId&&a.path.isEqual(v)?r=r.add(y):h.done()});i.push(l)}),L.waitFor(i).next(()=>this.rr(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,a=y0(this.userId,r),s=IDBKeyRange.lowerBound(a);let o=new We(fe);return rd(e).ee({range:s},(l,c,d)=>{const[h,f,m]=l,y=Ta(f);h===this.userId&&r.isPrefixOf(y)?y.length===i&&(o=o.add(m)):d.done()}).next(()=>this.rr(e,o))}rr(e,n){const r=[],i=[];return n.forEach(a=>{i.push(wo(e).get(a).next(s=>{if(s===null)throw re(35274,{batchId:a});oe(s.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:s.userId,batchId:a}),r.push(hc(this.serializer,s))}))}),L.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return T8(e.le,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.ir(n.batchId)}),L.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return L.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return rd(e).ee({range:r},(a,s,o)=>{if(a[0]===this.userId){const l=Ta(a[1]);i.push(l)}else o.done()}).next(()=>{oe(i.length===0,56720,{sr:i.map(a=>a.canonicalString())})})})}containsKey(e,n){return A8(e,this.userId,n)}_r(e){return N8(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:nl,lastStreamToken:""})}}function A8(t,e,n){const r=y0(e,n.path),i=r[1],a=IDBKeyRange.lowerBound(r);let s=!1;return rd(t).ee({range:a,X:!0},(o,l,c)=>{const[d,h,f]=o;d===e&&h===i&&(s=!0),c.done()}).next(()=>s)}function wo(t){return wn(t,ea)}function rd(t){return wn(t,oh)}function N8(t){return wn(t,qp)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ru(0)}static cr(){return new ru(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ude{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next(n=>{const r=new ru(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.lr(e).next(n=>ce.fromTimestamp(new Be(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.lr(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.lr(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i)))}addTargetData(e,n){return this.Pr(e,n).next(()=>this.lr(e).next(r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>qu(e).delete(n.targetId)).next(()=>this.lr(e)).next(r=>(oe(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r)))}removeTargets(e,n,r){let i=0;const a=[];return qu(e).ee((s,o)=>{const l=Am(o);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,a.push(this.removeTargetData(e,l)))}).next(()=>L.waitFor(a)).next(()=>i)}forEachTarget(e,n){return qu(e).ee((r,i)=>{const a=Am(i);n(a)})}lr(e){return DM(e).get(Tx).next(n=>(oe(n!==null,2888),n))}hr(e,n){return DM(e).put(Tx,n)}Pr(e,n){return qu(e).put(w8(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Zc(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return qu(e).ee({range:i,index:yF},(s,o,l)=>{const c=Am(o);ty(n,c.target)&&(a=c,l.done())}).next(()=>a)}addMatchingKeys(e,n,r){const i=[],a=Oo(e);return n.forEach(s=>{const o=dr(s.path);i.push(a.put({targetId:r,path:o})),i.push(this.referenceDelegate.addReference(e,r,s))}),L.waitFor(i)}removeMatchingKeys(e,n,r){const i=Oo(e);return L.forEach(n,a=>{const s=dr(a.path);return L.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,n){const r=Oo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Oo(e);let a=ve();return i.ee({range:r,X:!0},(s,o,l)=>{const c=Ta(s[1]),d=new J(c);a=a.add(d)}).next(()=>a)}containsKey(e,n){const r=dr(n.path),i=IDBKeyRange.bound([r],[aF(r)],!1,!0);let a=0;return Oo(e).ee({index:A2,X:!0,range:i},([s,o],l,c)=>{s!==0&&(a++,c.done())}).next(()=>a>0)}At(e,n){return qu(e).get(n).next(r=>r?Am(r):null)}}function qu(t){return wn(t,lh)}function DM(t){return wn(t,kc)}function Oo(t){return wn(t,ch)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM="LruGarbageCollector",dde=1048576;function LM([t,e],[n,r]){const i=fe(t,n);return i===0?fe(e,r):i}class hde{constructor(e){this.Ir=e,this.buffer=new We(LM),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();LM(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class I8{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){K(MM,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){kl(n)?K(MM,"Ignoring IndexedDB error during garbage collection: ",n):await jl(n)}await this.Vr(3e5)})}}class fde{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return L.resolve(Vr.ce);const r=new hde(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(RM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RM):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,s,o,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,o=Date.now(),this.removeTargets(e,r,n))).next(h=>(a=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Ju()<=Ee.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:h})))}}function P8(t,e){return new fde(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mde{constructor(e,n){this.db=e,this.garbageCollector=P8(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,(r,i)=>n(i))}addReference(e,n,r){return xv(e,r)}removeReference(e,n,r){return xv(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return xv(e,n)}br(e,n){return function(i,a){let s=!1;return N8(i).te(o=>A8(i,o,a).next(l=>(l&&(s=!0),L.resolve(!l)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Sr(e,(s,o)=>{if(o<=n){const l=this.br(e,s).next(c=>{if(!c)return a++,r.getEntry(e,s).next(()=>(r.removeEntry(s,ce.min()),Oo(e).delete(function(h){return[0,dr(h.path)]}(s))))});i.push(l)}}).next(()=>L.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return xv(e,n)}Sr(e,n){const r=Oo(e);let i,a=Vr.ce;return r.ee({index:A2},([s,o],{path:l,sequenceNumber:c})=>{s===0?(a!==Vr.ce&&n(new J(Ta(i)),a),a=c,i=l):a=Vr.ce}).next(()=>{a!==Vr.ce&&n(new J(Ta(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function xv(t,e){return Oo(t).put(function(r,i){return{targetId:0,path:dr(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(){this.changes=new eo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pde{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Yl(e).put(r)}removeEntry(e,n,r){return Yl(e).delete(function(a,s){const o=a.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Px(s),o[o.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Dr(e,r)))}getEntry(e,n){let r=pt.newInvalidDocument(n);return Yl(e).ee({index:v0,range:IDBKeyRange.only(em(n))},(i,a)=>{r=this.Cr(n,a)}).next(()=>r)}vr(e,n){let r={size:0,document:pt.newInvalidDocument(n)};return Yl(e).ee({index:v0,range:IDBKeyRange.only(em(n))},(i,a)=>{r={document:this.Cr(n,a),size:jx(a)}}).next(()=>r)}getEntries(e,n){let r=zr();return this.Fr(e,n,(i,a)=>{const s=this.Cr(i,a);r=r.insert(i,s)}).next(()=>r)}Mr(e,n){let r=zr(),i=new lt(J.comparator);return this.Fr(e,n,(a,s)=>{const o=this.Cr(a,s);r=r.insert(a,o),i=i.insert(a,jx(s))}).next(()=>({documents:r,Or:i}))}Fr(e,n,r){if(n.isEmpty())return L.resolve();let i=new We(zM);n.forEach(l=>i=i.add(l));const a=IDBKeyRange.bound(em(i.first()),em(i.last())),s=i.getIterator();let o=s.getNext();return Yl(e).ee({index:v0,range:a},(l,c,d)=>{const h=J.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;o&&zM(o,h)<0;)r(o,null),o=s.getNext();o&&o.isEqual(h)&&(r(o,c),o=s.hasNext()?s.getNext():null),o?d.j(em(o)):d.done()}).next(()=>{for(;o;)r(o,null),o=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,a){const s=n.path,o=[s.popLast().toArray(),s.lastSegment(),Px(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yl(e).J(IDBKeyRange.bound(o,l,!0)).next(c=>{a==null||a.incrementDocumentReadCount(c.length);let d=zr();for(const h of c){const f=this.Cr(J.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);f.isFoundDocument()&&(ry(n,f)||i.has(f.key))&&(d=d.insert(f.key,f))}return d})}getAllFromCollectionGroup(e,n,r,i){let a=zr();const s=UM(n,r),o=UM(n,yi.max());return Yl(e).ee({index:gF,range:IDBKeyRange.bound(s,o,!0)},(l,c,d)=>{const h=this.Cr(J.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);a=a.insert(h.key,h),a.size===i&&d.done()}).next(()=>a)}newChangeBuffer(e){return new gde(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return VM(e).get(BT).next(n=>(oe(!!n,20021),n))}Dr(e,n){return VM(e).put(BT,n)}Cr(e,n){if(n){const r=ede(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ce.min())))return r}return pt.newInvalidDocument(e)}}function j8(t){return new pde(t)}class gde extends C8{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new eo(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new We((a,s)=>fe(a.canonicalString(),s.canonicalString()));return this.changes.forEach((a,s)=>{const o=this.Br.get(a);if(n.push(this.Nr.removeEntry(e,a,o.readTime)),s.isValidDocument()){const l=wM(this.Nr.serializer,s);i=i.add(a.path.popLast());const c=jx(l);r+=c-o.size,n.push(this.Nr.addEntry(e,a,l))}else if(r-=o.size,this.trackRemovals){const l=wM(this.Nr.serializer,s.convertToNoDocument(ce.min()));n.push(this.Nr.addEntry(e,a,l))}}),i.forEach(a=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,a))}),n.push(this.Nr.updateMetadata(e,r)),L.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next(r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next(({documents:r,Or:i})=>(i.forEach((a,s)=>{this.Br.set(a,{size:s,readTime:r.get(a).readTime})}),r))}}function VM(t){return wn(t,Hp)}function Yl(t){return wn(t,Sx)}function em(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function UM(t,e){const n=e.documentKey.path.toArray();return[t,Px(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function zM(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<n.length-2&&a<r.length-2;++a)if(i=fe(n[a],r[a]),i)return i;return i=fe(n.length,r.length),i||(i=fe(n[n.length-2],r[r.length-2]),i||fe(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yde{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&sp(r.mutation,i,Ur.empty(),Be.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const i=Aa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=Sm();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Aa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=zr();const s=ap(),o=function(){return ap()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof to)?a=a.insert(c.key,c):d!==void 0?(s.set(c.key,d.mutation.getFieldMask()),sp(d.mutation,c,d.mutation.getFieldMask(),Be.now())):s.set(c.key,Ur.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>o.set(c,new yde(d,s.get(c)??null))),o))}recalculateAndSaveOverlays(e,n){const r=ap();let i=new lt((s,o)=>s-o),a=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Ur.empty();d=o.applyToLocalView(c,d),r.set(l,d);const h=(i.get(o.batchId)||ve()).add(l);i=i.insert(o.batchId,h)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,d=l.value,h=WF();d.forEach(f=>{if(!a.has(f)){const m=t8(n.get(f),r.get(f));m!==null&&h.set(f,m),a=a.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return J.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):O2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):L.resolve(Aa());let o=sh,l=a;return s.next(c=>L.forEach(c,(d,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),a.get(d)?L.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,ve())).next(d=>({batchId:o,changes:KF(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=Sm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=Sm();return this.indexManager.getCollectionParents(e,a).next(o=>L.forEach(o,l=>{const c=function(h,f){return new Js(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,f)=>{s=s.insert(h,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((l,c)=>{const d=c.getKey();s.get(d)===null&&(s=s.insert(d,pt.newInvalidDocument(d)))});let o=Sm();return s.forEach((l,c)=>{const d=a.get(l);d!==void 0&&sp(d.mutation,c,Ur.empty(),Be.now()),ry(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vde{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return L.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Jt(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:F2(i.bundledQuery),readTime:Jt(i.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xde{constructor(){this.overlays=new lt(J.comparator),this.qr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Aa();return L.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const i=Aa(),a=n.length+1,s=new J(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new lt((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=a.get(c.largestBatchId);d===null&&(d=Aa(),a=a.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const o=Aa(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>o.set(c,d)),!(o.size()>=i)););return L.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new U2(n,r));let a=this.qr.get(n);a===void 0&&(a=ve(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bde{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.Qr=new We(Cn.$r),this.Ur=new We(Cn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Cn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Cn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new J(new Te([])),r=new Cn(n,e),i=new Cn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),a.push(s.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new J(new Te([])),r=new Cn(n,e),i=new Cn(n,e+1);let a=ve();return this.Ur.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new Cn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Cn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return J.comparator(e.key,n.key)||fe(e.Yr,n.Yr)}static Kr(e,n){return fe(e.Yr,n.Yr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wde{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new We(Cn.$r)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new L2(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.Zr=this.Zr.add(new Cn(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,n){return L.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return L.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?nl:this.tr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Cn(n,0),i=new Cn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],s=>{const o=this.Xr(s.Yr);a.push(o)}),L.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new We(fe);return n.forEach(i=>{const a=new Cn(i,0),s=new Cn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],o=>{r=r.add(o.Yr)})}),L.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;J.isDocumentKey(a)||(a=a.child(""));const s=new Cn(new J(a),0);let o=new We(fe);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Yr)),!0)},s),L.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){oe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return L.forEach(n.mutations,i=>{const a=new Cn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Cn(n,0),i=this.Zr.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _de{constructor(e){this.ri=e,this.docs=function(){return new lt(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():pt.newInvalidDocument(n))}getEntries(e,n){let r=zr();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():pt.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=zr();const s=n.path,o=new J(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||S2(uF(d),r)<=0||(i.has(d.key)||ry(n,d))&&(a=a.insert(d.key,d.mutableCopy()))}return L.resolve(a)}getAllFromCollectionGroup(e,n,r,i){re(9500)}ii(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ede(this)}getSize(e){return L.resolve(this.size)}}class Ede extends C8{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sde{constructor(e){this.persistence=e,this.si=new eo(n=>Zc(n),ty),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.oi=0,this._i=new H2,this.targetCount=0,this.ai=ru.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),L.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ru(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Pr(n),L.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),L.waitFor(a).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n){this.ui={},this.overlays={},this.ci=new Vr(0),this.li=!1,this.li=!0,this.hi=new bde,this.referenceDelegate=e(this),this.Pi=new Sde(this),this.indexManager=new lde,this.remoteDocumentCache=function(i){return new _de(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new b8(n),this.Ii=new vde(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xde,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new wde(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new Tde(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,n){return L.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class Tde extends hF{constructor(e){super(),this.currentSequenceNumber=e}}class zw{constructor(e){this.persistence=e,this.Ri=new H2,this.Vi=null}static mi(e){return new zw(e)}get fi(){if(this.Vi)return this.Vi;throw re(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),L.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.fi,r=>{const i=J.fromPath(r);return this.gi(e,i).next(a=>{a||n.removeEntry(i,ce.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return L.or([()=>L.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class kx{constructor(e,n){this.persistence=e,this.pi=new eo(r=>dr(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=P8(this,n)}static mi(e,n){return new kx(e,n)}Ei(){}di(e){return L.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return L.forEach(this.pi,(r,i)=>this.br(e,r,i).next(a=>a?L.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(o=>{o||(r++,a.removeEntry(s,ce.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),L.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),L.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=b0(e.data.value)),n}br(e,n,r){return L.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return L.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ade{constructor(e){this.serializer=e}k(e,n,r,i){const a=new Pw("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore(ey)}(e),function(l){l.createObjectStore(qp,{keyPath:Fce}),l.createObjectStore(ea,{keyPath:XD,autoIncrement:!0}).createIndex(vc,ZD,{unique:!0}),l.createObjectStore(oh)}(e),BM(e),function(l){l.createObjectStore(ic)}(e));let s=L.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore(ch),l.deleteObjectStore(lh),l.deleteObjectStore(kc)}(e),BM(e)),s=s.next(()=>function(l){const c=l.store(kc),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ce.min().toTimestamp(),targetCount:0};return c.put(Tx,d)}(a))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(l,c){return c.store(ea).J().next(h=>{l.deleteObjectStore(ea),l.createObjectStore(ea,{keyPath:XD,autoIncrement:!0}).createIndex(vc,ZD,{unique:!0});const f=c.store(ea),m=h.map(y=>f.put(y));return L.waitFor(m)})}(e,a))),s=s.next(()=>{(function(l){l.createObjectStore(uh,{keyPath:Xce})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.yi(a))),r<6&&i>=6&&(s=s.next(()=>(function(l){l.createObjectStore(Hp)}(e),this.wi(a)))),r<7&&i>=7&&(s=s.next(()=>this.Si(a))),r<8&&i>=8&&(s=s.next(()=>this.bi(e,a))),r<9&&i>=9&&(s=s.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.Di(a))),r<11&&i>=11&&(s=s.next(()=>{(function(l){l.createObjectStore(Cw,{keyPath:Zce})})(e),function(l){l.createObjectStore(jw,{keyPath:Jce})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(l){const c=l.createObjectStore(kw,{keyPath:sue});c.createIndex($T,oue,{unique:!1}),c.createIndex(bF,lue,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(l){const c=l.createObjectStore(Sx,{keyPath:qce});c.createIndex(v0,Hce),c.createIndex(gF,Gce)}(e)).next(()=>this.Ci(e,a)).next(()=>e.deleteObjectStore(ic))),r<14&&i>=14&&(s=s.next(()=>this.Fi(e,a))),r<15&&i>=15&&(s=s.next(()=>function(l){l.createObjectStore(N2,{keyPath:eue,autoIncrement:!0}).createIndex(FT,tue,{unique:!1}),l.createObjectStore(np,{keyPath:nue}).createIndex(vF,rue,{unique:!1}),l.createObjectStore(rp,{keyPath:iue}).createIndex(xF,aue,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{n.objectStore(np).clear()}).next(()=>{n.objectStore(rp).clear()})),r<17&&i>=17&&(s=s.next(()=>{(function(l){l.createObjectStore(I2,{keyPath:cue})})(e)})),r<18&&i>=18&&V9()&&(s=s.next(()=>{n.objectStore(np).clear()}).next(()=>{n.objectStore(rp).clear()})),s}wi(e){let n=0;return e.store(ic).ee((r,i)=>{n+=jx(i)}).next(()=>{const r={byteSize:n};return e.store(Hp).put(BT,r)})}yi(e){const n=e.store(qp),r=e.store(ea);return n.J().next(i=>L.forEach(i,a=>{const s=IDBKeyRange.bound([a.userId,nl],[a.userId,a.lastAcknowledgedBatchId]);return r.J(vc,s).next(o=>L.forEach(o,l=>{oe(l.userId===a.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const c=hc(this.serializer,l);return T8(e,a.userId,c).next(()=>{})}))}))}Si(e){const n=e.store(ch),r=e.store(ic);return e.store(kc).get(Tx).next(i=>{const a=[];return r.ee((s,o)=>{const l=new Te(s),c=function(h){return[0,dr(h)]}(l);a.push(n.get(c).next(d=>d?L.resolve():(h=>n.put({targetId:0,path:dr(h),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>L.waitFor(a))})}bi(e,n){e.createObjectStore(Gp,{keyPath:Qce});const r=n.store(Gp),i=new q2,a=s=>{if(i.add(s)){const o=s.lastSegment(),l=s.popLast();return r.put({collectionId:o,parent:dr(l)})}};return n.store(ic).ee({X:!0},(s,o)=>{const l=new Te(s);return a(l.popLast())}).next(()=>n.store(oh).ee({X:!0},([s,o,l],c)=>{const d=Ta(o);return a(d.popLast())}))}Di(e){const n=e.store(lh);return n.ee((r,i)=>{const a=Am(i),s=w8(this.serializer,a);return n.put(s)})}Ci(e,n){const r=n.store(ic),i=[];return r.ee((a,s)=>{const o=n.store(Sx),l=function(h){return h.document?new J(Te.fromString(h.document.name).popFirst(5)):h.noDocument?J.fromSegments(h.noDocument.path):h.unknownDocument?J.fromSegments(h.unknownDocument.path):re(36783)}(s).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(o.put(c))}).next(()=>L.waitFor(i))}Fi(e,n){const r=n.store(ea),i=j8(this.serializer),a=new G2(zw.mi,this.serializer.yt);return r.J().next(s=>{const o=new Map;return s.forEach(l=>{let c=o.get(l.userId)??ve();hc(this.serializer,l).keys().forEach(d=>c=c.add(d)),o.set(l.userId,c)}),L.forEach(o,(l,c)=>{const d=new On(c),h=Vw.wt(this.serializer,d),f=a.getIndexManager(d),m=Uw.wt(d,this.serializer,f,a.referenceDelegate);return new k8(i,m,h,f).recalculateAndSaveOverlaysForDocumentKeys(new qT(n,Vr.ce),l).next()})})}}function BM(t){t.createObjectStore(ch,{keyPath:Wce}).createIndex(A2,Yce,{unique:!0}),t.createObjectStore(lh,{keyPath:"targetId"}).createIndex(yF,Kce,{unique:!0}),t.createObjectStore(kc)}const _o="IndexedDbPersistence",CE=18e5,jE=5e3,kE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",O8="main";class K2{constructor(e,n,r,i,a,s,o,l,c,d,h=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=a,this.window=s,this.document=o,this.xi=c,this.Oi=d,this.Ni=h,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=f=>Promise.resolve(),!K2.v())throw new G(z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mde(this,i),this.$i=n+O8,this.serializer=new b8(l),this.Ui=new Pa(this.$i,this.Ni,new Ade(this.serializer)),this.hi=new nde,this.Pi=new ude(this.referenceDelegate,this.serializer),this.remoteDocumentCache=j8(this.serializer),this.Ii=new tde,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,d===!1&&Qt(_o,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new G(z.FAILED_PRECONDITION,kE);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Pi.getHighestSequenceNumber(e))}).then(e=>{this.ci=new Vr(e,this.xi)}).then(()=>{this.li=!0}).catch(e=>(this.Ui&&this.Ui.close(),Promise.reject(e)))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget(async()=>{this.started&&await this.Wi()}))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>bv(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Hi(e).next(n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)))})}).next(()=>this.Yi(e)).next(n=>this.isPrimary&&!n?this.Zi(e).next(()=>!1):!!n&&this.Xi(e).next(()=>!0))).catch(e=>{if(kl(e))return K(_o,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return K(_o,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable(()=>this.Qi(e)),this.isPrimary=e})}Hi(e){return tm(e).get(Uu).next(n=>L.resolve(this.es(n)))}ts(e){return bv(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,CE)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=wn(n,uh);return r.J().next(i=>{const a=this.ss(i,CE),s=i.filter(o=>a.indexOf(o)===-1);return L.forEach(s,o=>r.delete(o.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Wi().then(()=>this.ns()).then(()=>this.ji()))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?L.resolve(!0):tm(e).get(Uu).next(n=>{if(n!==null&&this.rs(n.leaseTimestampMs,jE)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new G(z.FAILED_PRECONDITION,kE);return!1}}return!(!this.networkEnabled||!this.inForeground)||bv(e).J().next(r=>this.ss(r,jE).find(i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(a||s&&o)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&K(_o,`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[ey,uh],e=>{const n=new qT(e,Vr.ce);return this.Zi(n).next(()=>this.ts(n))}),this.Ui.close(),this.Ps()}ss(e,n){return e.filter(r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId))}Ts(){return this.runTransaction("getActiveClients","readonly",e=>bv(e).J().next(n=>this.ss(n,CE).map(r=>r.clientId)))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return Uw.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new cde(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Vw.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){K(_o,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",a=function(l){return l===18?hue:l===17?SF:l===16?due:l===15?P2:l===14?EF:l===13?_F:l===12?uue:l===11?wF:void re(60245)}(this.Ni);let s;return this.Ui.runTransaction(e,i,a,o=>(s=new qT(o,this.ci?this.ci.next():Vr.ce),n==="readwrite-primary"?this.Hi(s).next(l=>!!l||this.Yi(s)).next(l=>{if(!l)throw Qt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)),new G(z.FAILED_PRECONDITION,dF);return r(s)}).next(l=>this.Xi(s).next(()=>l)):this.Is(s).next(()=>r(s)))).then(o=>(s.raiseOnCommittedEvent(),o))}Is(e){return tm(e).get(Uu).next(n=>{if(n!==null&&this.rs(n.leaseTimestampMs,jE)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new G(z.FAILED_PRECONDITION,kE)})}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return tm(e).put(Uu,n)}static v(){return Pa.v()}Zi(e){const n=tm(e);return n.get(Uu).next(r=>this.es(r)?(K(_o,"Releasing primary lease."),n.delete(Uu)):L.resolve())}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Qt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi()))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;L9()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return K(_o,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Qt(_o,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Qt("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function tm(t){return wn(t,ey)}function bv(t){return wn(t,uh)}function W2(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ve(),i=ve();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Y2(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nde{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return L9()?8:fF(Rt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ws(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new Nde;return this.Ss(e,n,s).next(o=>{if(a.result=o,this.Vs)return this.bs(e,n,s,o.size)})}).next(()=>a.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Ju()<=Ee.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",ed(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),L.resolve()):(Ju()<=Ee.DEBUG&&K("QueryEngine","Query:",ed(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ju()<=Ee.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",ed(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nr(n))):L.resolve())}ys(e,n){if(dM(n))return L.resolve(null);let r=Nr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ix(n,null,"F"),r=Nr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=ve(...a);return this.ps.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,o);return this.Cs(n,c,s,l.readTime)?this.ys(e,Ix(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return dM(n)||i.isEqual(ce.min())?L.resolve(null):this.ps.getDocuments(e,r).next(a=>{const s=this.Ds(n,a);return this.Cs(n,s,r,i)?L.resolve(null):(Ju()<=Ee.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ed(n)),this.vs(e,s,n,cF(i,sh)).next(o=>o))})}Ds(e,n){let r=new We(HF(e));return n.forEach((i,a)=>{ry(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Ju()<=Ee.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",ed(n)),this.ps.getDocumentsMatchingQuery(e,n,yi.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="LocalStore",Ide=3e8;class Pde{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new lt(fe),this.xs=new eo(a=>Zc(a),ty),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new k8(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function D8(t,e,n,r){return new Pde(t,e,n,r)}async function M8(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=ve();for(const c of i){s.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of a){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:o}))})})}function Cde(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,c,d){const h=c.batch,f=h.keys();let m=L.resolve();return f.forEach(y=>{m=m.next(()=>d.getEntry(l,y)).next(v=>{const x=c.docVersions.get(y);oe(x!==null,48541),v.version.compareTo(x)<0&&(h.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),d.addEntry(v)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=ve();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function L8(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function jde(t,e){const n=te(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;o.push(n.Pi.removeMatchingKeys(a,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(a,d.addedDocuments,h)));let m=f.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Ft.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(v,x,b){return v.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=Ide?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(f,m,d)&&o.push(n.Pi.updateTargetData(a,m))});let l=zr(),c=ve();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,d))}),o.push(V8(a,s,e.documentUpdates).next(d=>{l=d.ks,c=d.qs})),!r.isEqual(ce.min())){const d=n.Pi.getLastRemoteSnapshotVersion(a).next(h=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(d)}return L.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(n.Ms=i,a))}function V8(t,e,n){let r=ve(),i=ve();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=zr();return n.forEach((o,l)=>{const c=a.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):K(Q2,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{ks:s,qs:i}})}function kde(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=nl),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yh(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(a=>a?(i=a,L.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new hs(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function vh(t,e,n){const r=te(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!kl(s))throw s;K(Q2,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Ox(t,e,n){const r=te(t);let i=ce.min(),a=ve();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,d){const h=te(l),f=h.xs.get(d);return f!==void 0?L.resolve(h.Ms.get(f)):h.Pi.getTargetData(c,d)}(r,s,Nr(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:ce.min(),n?a:ve())).next(o=>(B8(r,qF(e),o),{documents:o,Qs:a})))}function U8(t,e){const n=te(t),r=te(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",a=>r.At(a,e).next(s=>s?s.target:null))}function z8(t,e){const n=te(t),r=n.Os.get(e)||ce.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Ns.getAllFromCollectionGroup(i,e,cF(r,sh),Number.MAX_SAFE_INTEGER)).then(i=>(B8(n,e,i),i))}function B8(t,e,n){let r=t.Os.get(e)||ce.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}async function Ode(t,e,n,r){const i=te(t);let a=ve(),s=zr();for(const c of n){const d=e.$s(c.metadata.name);c.document&&(a=a.add(d));const h=e.Us(c);h.setReadTime(e.Ks(c.metadata.readTime)),s=s.insert(d,h)}const o=i.Ns.newChangeBuffer({trackRemovals:!0}),l=await yh(i,function(d){return Nr(Zh(Te.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>V8(c,o,s).next(d=>(o.apply(c),d)).next(d=>i.Pi.removeMatchingKeysForTargetId(c,l.targetId).next(()=>i.Pi.addMatchingKeys(c,a,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,d.ks,d.qs)).next(()=>d.ks)))}async function Rde(t,e,n=ve()){const r=await yh(t,Nr(F2(e.bundledQuery))),i=te(t);return i.persistence.runTransaction("Save named query","readwrite",a=>{const s=Jt(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ii.saveNamedQuery(a,e);const o=r.withResumeToken(Ft.EMPTY_BYTE_STRING,s);return i.Ms=i.Ms.insert(o.targetId,o),i.Pi.updateTargetData(a,o).next(()=>i.Pi.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Pi.addMatchingKeys(a,n,r.targetId)).next(()=>i.Ii.saveNamedQuery(a,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8="firestore_clients";function FM(t,e){return`${F8}_${t}_${e}`}const $8="firestore_mutations";function $M(t,e,n){let r=`${$8}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const q8="firestore_targets";function OE(t,e){return`${q8}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="SharedClientState";class Rx{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let a,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(a=new G(i.error.code,i.error.message))),s?new Rx(e,n,i.state,a):(Qt(ma,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class op{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,a=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return a&&r.error&&(a=typeof r.error.message=="string"&&typeof r.error.code=="string",a&&(i=new G(r.error.code,r.error.message))),a?new op(e,r.state,i):(Qt(ma,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Dx{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,a=R2();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=mF(r.activeTargetIds[s]),a=a.add(r.activeTargetIds[s]);return i?new Dx(e,a):(Qt(ma,`Failed to parse client data for instance '${e}': ${n}`),null)}}class X2{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new X2(n.clientId,n.onlineState):(Qt(ma,`Failed to parse online state: ${e}`),null)}}class aA{constructor(){this.activeTargetIds=R2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RE{constructor(e,n,r,i,a){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new lt(fe),this.started=!1,this.Xs=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.eo=FM(this.persistenceKey,this.Js),this.no=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new aA),this.ro=new RegExp(`^${F8}_${s}_([^_]*)$`),this.io=new RegExp(`^${$8}_${s}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${q8}_${s}_(\\d+)$`),this.oo=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this._o=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(FM(this.persistenceKey,r));if(i){const a=Dx.Ws(r,i);a&&(this.Zs=this.Zs.insert(a.clientId,a))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(OE(this.persistenceKey,e));if(i){const a=op.Ws(e,i);a&&(r=a.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(OE(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Po(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return K(ma,"READ",e,n),n}setItem(e,n){K(ma,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){K(ma,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(K(ma,"EVENT",n.key,n.newValue),n.key===this.eo)return void Qt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=function(a){let s=Vr.ce;if(a!=null)try{const o=JSON.parse(a);oe(typeof o=="number",30636,{So:a}),s=o}catch(o){Qt(ma,"Failed to read sequence number from WebStorage",o)}return s}(n.newValue);r!==Vr.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Do(i)))}}}else this.Xs.push(n)})}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new Rx(this.currentUser,e,n,r),a=$M(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Gs())}Po(e){const n=$M(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=OE(this.persistenceKey,e),a=new op(e,n,r);this.setItem(i,a.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return Dx.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),a=r[2]!==void 0?r[2]:null;return Rx.Ws(new On(a),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return op.Ws(i,n)}uo(e){return X2.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);K(ma,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),a=this.lo(r),s=[],o=[];return a.forEach(l=>{i.has(l)||s.push(l)}),i.forEach(l=>{a.has(l)||o.push(l)}),this.syncEngine.Fo(s,o).then(()=>{this.Zs=r})}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=R2();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class H8{constructor(){this.Mo=new aA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new aA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dde{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM="ConnectivityMonitor";class HM{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){K(qM,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){K(qM,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wv=null;function sA(){return wv===null?wv=function(){return 268435456+Math.round(2147483648*Math.random())}():wv++,"0x"+wv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="RestConnection",Mde={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Lde{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===HT?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const s=sA(),o=this.zo(e,n.toUriEncodedString());K(DE,`Sending RPC '${e}' ${s}:`,o,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:c}=new URL(o),d=Pl(c);return this.Jo(e,o,l,r,d).then(h=>(K(DE,`Received RPC '${e}' ${s}: `,h),h),h=>{throw Va(DE,`RPC '${e}' ${s} failed with error: `,h,"url: ",o,"request:",r),h})}Ho(e,n,r,i,a,s){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}zo(e,n){const r=Mde[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vde{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="WebChannelConnection";class Ude extends Lde{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const s=sA();return new Promise((o,l)=>{const c=new ZB;c.setWithCredentials(!0),c.listenOnce(JB.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case p0.NO_ERROR:const h=c.getResponseJson();K(tr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case p0.TIMEOUT:K(tr,`RPC '${e}' ${s} timed out`),l(new G(z.DEADLINE_EXCEEDED,"Request time out"));break;case p0.HTTP_ERROR:const f=c.getStatus();if(K(tr,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const v=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(w)>=0?w:z.UNKNOWN}(y.status);l(new G(v,y.message))}else l(new G(z.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new G(z.UNAVAILABLE,"Connection failed."));break;default:re(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{K(tr,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);K(tr,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",d,r,15)})}T_(e,n,r){const i=sA(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=nF(),o=tF(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=a.join("");K(tr,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=s.createWebChannel(d,l);this.I_(h);let f=!1,m=!1;const y=new Vde({Yo:x=>{m?K(tr,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(f||(K(tr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),K(tr,`RPC '${e}' stream ${i} sending:`,x),h.send(x))},Zo:()=>h.close()}),v=(x,b,w)=>{x.listen(b,_=>{try{w(_)}catch(T){setTimeout(()=>{throw T},0)}})};return v(h,Em.EventType.OPEN,()=>{m||(K(tr,`RPC '${e}' stream ${i} transport opened.`),y.o_())}),v(h,Em.EventType.CLOSE,()=>{m||(m=!0,K(tr,`RPC '${e}' stream ${i} transport closed`),y.a_(),this.E_(h))}),v(h,Em.EventType.ERROR,x=>{m||(m=!0,Va(tr,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),y.a_(new G(z.UNAVAILABLE,"The operation could not be completed")))}),v(h,Em.EventType.MESSAGE,x=>{var b;if(!m){const w=x.data[0];oe(!!w,16349);const _=w,T=(_==null?void 0:_.error)||((b=_[0])==null?void 0:b.error);if(T){K(tr,`RPC '${e}' stream ${i} received error:`,T);const N=T.status;let j=function(I){const C=tn[I];if(C!==void 0)return i8(C)}(N),A=T.message;j===void 0&&(j=z.INTERNAL,A="Unknown error status: "+N+" with message "+T.message),m=!0,y.a_(new G(j,A)),h.close()}else K(tr,`RPC '${e}' stream ${i} received:`,w),y.u_(w)}}),v(o,eF.STAT_EVENT,x=>{x.stat===VT.PROXY?K(tr,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===VT.NOPROXY&&K(tr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(){return typeof window<"u"?window:null}function T0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(t){return new que(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="PersistentStream";class K8{constructor(e,n,r,i,a,s,o,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Z2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Qt(n.toString()),Qt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new G(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return K(GM,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(K(GM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zde extends K8{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Kue(this.serializer,e),r=function(a){if(!("targetChange"in a))return ce.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?ce.min():s.readTime?Jt(s.readTime):ce.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=eA(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=Ax(l)?{documents:m8(a,l)}:{query:p8(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=l8(a,s.resumeToken);const c=ZT(a,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(ce.min())>0){o.readTime=gh(a,s.snapshotVersion.toTimestamp());const c=ZT(a,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=Yue(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=eA(this.serializer),n.removeTarget=e,this.q_(n)}}class Bde extends K8{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return oe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,oe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){oe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Wue(e.writeResults,e.commitTime),r=Jt(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=eA(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Zp(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fde{}class $de extends Fde{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new G(z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Go(e,JT(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new G(z.UNKNOWN,a.toString())})}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(e,JT(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(z.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class qde{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qt(n),this.aa=!1):K("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu="RemoteStore";class Hde{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{Rl(this)&&(K(iu,"Restarting streams for network reachability change."),await async function(l){const c=te(l);c.Ea.add(4),await tf(c),c.Ra.set("Unknown"),c.Ea.delete(4),await ly(c)}(this))})}),this.Ra=new qde(r,i)}}async function ly(t){if(Rl(t))for(const e of t.da)await e(!0)}async function tf(t){for(const e of t.da)await e(!1)}function Bw(t,e){const n=te(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),tP(n)?eP(n):rf(n).O_()&&J2(n,e))}function xh(t,e){const n=te(t),r=rf(n);n.Ia.delete(e),r.O_()&&W8(n,e),n.Ia.size===0&&(r.O_()?r.L_():Rl(n)&&n.Ra.set("Unknown"))}function J2(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rf(t).Y_(e)}function W8(t,e){t.Va.Ue(e),rf(t).Z_(e)}function eP(t){t.Va=new zue({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),rf(t).start(),t.Ra.ua()}function tP(t){return Rl(t)&&!rf(t).x_()&&t.Ia.size>0}function Rl(t){return te(t).Ea.size===0}function Y8(t){t.Va=void 0}async function Gde(t){t.Ra.set("Online")}async function Kde(t){t.Ia.forEach((e,n)=>{J2(t,e)})}async function Wde(t,e){Y8(t),tP(t)?(t.Ra.ha(e),eP(t)):t.Ra.set("Unknown")}async function Yde(t,e,n){if(t.Ra.set("Online"),e instanceof o8&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(r){K(iu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Mx(t,r)}else if(e instanceof E0?t.Va.Ze(e):e instanceof s8?t.Va.st(e):t.Va.tt(e),!n.isEqual(ce.min()))try{const r=await L8(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.Va.Tt(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=a.Ia.get(c);d&&a.Ia.set(c,d.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const d=a.Ia.get(l);if(!d)return;a.Ia.set(l,d.withResumeToken(Ft.EMPTY_BYTE_STRING,d.snapshotVersion)),W8(a,l);const h=new hs(d.target,l,c,d.sequenceNumber);J2(a,h)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){K(iu,"Failed to raise snapshot:",r),await Mx(t,r)}}async function Mx(t,e,n){if(!kl(e))throw e;t.Ea.add(1),await tf(t),t.Ra.set("Offline"),n||(n=()=>L8(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K(iu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ly(t)})}function Q8(t,e){return e().catch(n=>Mx(t,n,e))}async function nf(t){const e=te(t),n=vl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:nl;for(;Qde(e);)try{const i=await kde(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Xde(e,i)}catch(i){await Mx(e,i)}X8(e)&&Z8(e)}function Qde(t){return Rl(t)&&t.Ta.length<10}function Xde(t,e){t.Ta.push(e);const n=vl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function X8(t){return Rl(t)&&!vl(t).x_()&&t.Ta.length>0}function Z8(t){vl(t).start()}async function Zde(t){vl(t).ra()}async function Jde(t){const e=vl(t);for(const n of t.Ta)e.ea(n.mutations)}async function ehe(t,e,n){const r=t.Ta.shift(),i=V2.from(r,e,n);await Q8(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await nf(t)}async function the(t,e){e&&vl(t).X_&&await async function(r,i){if(function(s){return r8(s)&&s!==z.ABORTED}(i.code)){const a=r.Ta.shift();vl(r).B_(),await Q8(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await nf(r)}}(t,e),X8(t)&&Z8(t)}async function KM(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),K(iu,"RemoteStore received new credentials");const r=Rl(n);n.Ea.add(3),await tf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ly(n)}async function oA(t,e){const n=te(t);e?(n.Ea.delete(2),await ly(n)):e||(n.Ea.add(2),await tf(n),n.Ra.set("Unknown"))}function rf(t){return t.ma||(t.ma=function(n,r,i){const a=te(n);return a.sa(),new zde(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:Gde.bind(null,t),t_:Kde.bind(null,t),r_:Wde.bind(null,t),H_:Yde.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),tP(t)?eP(t):t.Ra.set("Unknown")):(await t.ma.stop(),Y8(t))})),t.ma}function vl(t){return t.fa||(t.fa=function(n,r,i){const a=te(n);return a.sa(),new Bde(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Zde.bind(null,t),r_:the.bind(null,t),ta:Jde.bind(null,t),na:ehe.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await nf(t)):(await t.fa.stop(),t.Ta.length>0&&(K(iu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Xn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new nP(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function af(t,e){if(Qt("AsyncQueue",`${e}: ${t}`),kl(t))return new G(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{static emptySet(e){return new Vd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Sm(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Vd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(){this.ga=new lt(J.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):re(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class bh{constructor(e,n,r,i,a,s,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new bh(e,n,Vd.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ny(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nhe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class rhe{constructor(){this.queries=YM(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=te(n),a=i.queries;i.queries=YM(),a.forEach((s,o)=>{for(const l of o.Sa)l.onError(r)})})(this,new G(z.ABORTED,"Firestore shutting down"))}}function YM(){return new eo(t=>$F(t),ny)}async function rP(t,e){const n=te(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new nhe,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=af(s,`Initialization of query '${ed(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&aP(n)}async function iP(t,e){const n=te(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ihe(t,e){const n=te(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.Sa)o.Fa(i)&&(r=!0);s.wa=i}}r&&aP(n)}function ahe(t,e,n){const r=te(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function aP(t){t.Ca.forEach(e=>{e.next()})}var lA,QM;(QM=lA||(lA={})).Ma="default",QM.Cache="cache";class sP{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new bh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=bh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==lA.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class she{constructor(e,n){this.Qa=e,this.byteLength=n}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.serializer=e}$s(e){return Ca(this.serializer,e)}Us(e){return e.metadata.exists?f8(this.serializer,e.document,!1):pt.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return Jt(e)}}class ohe{constructor(e,n){this.Ua=e,this.serializer=n,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=J8(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++n;const r=Te.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,{...this.progress}):null}za(e){const n=new Map,r=new XM(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.$s(i.metadata.name);for(const s of i.metadata.queries){const o=(n.get(s)||ve()).add(a);n.set(s,o)}}return n}async ja(e){const n=await Ode(e,new XM(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)await Rde(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:n}}}function J8(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e){this.key=e}}class t7{constructor(e){this.key=e}}class n7{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ve(),this.mutatedKeys=ve(),this.eu=HF(e),this.tu=new Vd(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new WM,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=ry(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;f&&m?f.data.isEqual(m.data)?y!==v&&(r.track({type:3,doc:m}),x=!0):this.su(f,m)||(r.track({type:2,doc:m}),x=!0,(l&&this.eu(m,l)>0||c&&this.eu(m,c)<0)&&(o=!0)):!f&&m?(r.track({type:0,doc:m}),x=!0):f&&!m&&(r.track({type:1,doc:f}),x=!0,(l||c)&&(o=!0)),x&&(m?(s=s.add(m),a=v?a.add(d):a.delete(d)):(s=s.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),a=a.delete(d.key),r.track({type:1,doc:d})}return{tu:s,iu:r,Cs:o,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((d,h)=>function(m,y){const v=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re(20277,{Rt:x})}};return v(m)-v(y)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,s.length!==0||c?{snapshot:new bh(this.query,e.tu,a,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new WM,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ve(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new t7(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new e7(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return bh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Dl="SyncEngine";class lhe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class che{constructor(e){this.key=e,this.hu=!1}}class uhe{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new eo(o=>$F(o),ny),this.Iu=new Map,this.Eu=new Set,this.du=new lt(J.comparator),this.Au=new Map,this.Ru=new H2,this.Vu={},this.mu=new Map,this.fu=ru.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dhe(t,e,n=!0){const r=Fw(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await r7(r,e,n,!0),i}async function hhe(t,e){const n=Fw(t);await r7(n,e,!0,!1)}async function r7(t,e,n,r){const i=await yh(t.localStore,Nr(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await oP(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&Bw(t.remoteStore,i),o}async function oP(t,e,n,r,i){t.pu=(h,f,m)=>async function(v,x,b,w){let _=x.view.ru(b);_.Cs&&(_=await Ox(v.localStore,x.query,!1).then(({documents:A})=>x.view.ru(A,_)));const T=w&&w.targetChanges.get(x.targetId),N=w&&w.targetMismatches.get(x.targetId)!=null,j=x.view.applyChanges(_,v.isPrimaryClient,T,N);return cA(v,x.targetId,j.au),j.snapshot}(t,h,f,m);const a=await Ox(t.localStore,e,!0),s=new n7(e,a.Qs),o=s.ru(a.documents),l=sy.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(o,t.isPrimaryClient,l);cA(t,n,c.au);const d=new lhe(e,n,s);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function fhe(t,e,n){const r=te(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(s=>!ny(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await vh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&xh(r.remoteStore,i.targetId),wh(r,i.targetId)}).catch(jl)):(wh(r,i.targetId),await vh(r.localStore,i.targetId,!0))}async function mhe(t,e){const n=te(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xh(n.remoteStore,r.targetId))}async function phe(t,e,n){const r=dP(t);try{const i=await function(s,o){const l=te(s),c=Be.now(),d=o.reduce((m,y)=>m.add(y.key),ve());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=zr(),v=ve();return l.Ns.getEntries(m,d).next(x=>{y=x,y.forEach((b,w)=>{w.isValidDocument()||(v=v.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(x=>{h=x;const b=[];for(const w of o){const _=Lue(w,h.get(w.key).overlayedDocument);_!=null&&b.push(new to(w.key,_,RF(_.value.mapValue),It.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,b,o)}).next(x=>{f=x;const b=x.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(m,x.batchId,b)})}).then(()=>({batchId:f.batchId,changes:KF(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let c=s.Vu[s.currentUser.toKey()];c||(c=new lt(fe)),c=c.insert(o,l),s.Vu[s.currentUser.toKey()]=c}(r,i.batchId,n),await no(r,i.changes),await nf(r.remoteStore)}catch(i){const a=af(i,"Failed to persist write");n.reject(a)}}async function i7(t,e){const n=te(t);try{const r=await jde(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Au.get(a);s&&(oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?oe(s.hu,14607):i.removedDocuments.size>0&&(oe(s.hu,42227),s.hu=!1))}),await no(n,r,e)}catch(r){await jl(r)}}function ZM(t,e,n){const r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=te(s);l.onlineState=o;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.Sa)f.va(o)&&(c=!0)}),c&&aP(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ghe(t,e,n){const r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new lt(J.comparator);s=s.insert(a,pt.newNoDocument(a,ce.min()));const o=ve().add(a),l=new ay(ce.min(),new Map,new lt(fe),s,o);await i7(r,l),r.du=r.du.remove(a),r.Au.delete(e),uP(r)}else await vh(r.localStore,e,!1).then(()=>wh(r,e,n)).catch(jl)}async function yhe(t,e){const n=te(t),r=e.batch.batchId;try{const i=await Cde(n.localStore,e);cP(n,r,null),lP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await no(n,i)}catch(i){await jl(i)}}async function vhe(t,e,n){const r=te(t);try{const i=await function(s,o){const l=te(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,o).next(h=>(oe(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);cP(r,e,n),lP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await no(r,i)}catch(i){await jl(i)}}async function xhe(t,e){const n=te(t);Rl(n.remoteStore)||K(Dl,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const o=te(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>o.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===nl)return void e.resolve();const i=n.mu.get(r)||[];i.push(e),n.mu.set(r,i)}catch(r){const i=af(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function lP(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function cP(t,e,n){const r=te(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function wh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||a7(t,r)})}function a7(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(xh(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),uP(t))}function cA(t,e,n){for(const r of n)r instanceof e7?(t.Ru.addReference(r.key,e),bhe(t,r)):r instanceof t7?(K(Dl,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||a7(t,r.key)):re(19791,{wu:r})}function bhe(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(K(Dl,"New document in limbo: "+n),t.Eu.add(r),uP(t))}function uP(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new J(Te.fromString(e)),r=t.fu.next();t.Au.set(r,new che(n)),t.du=t.du.insert(n,r),Bw(t.remoteStore,new hs(Nr(Zh(n.path)),r,"TargetPurposeLimboResolution",Vr.ce))}}async function no(t,e,n){const r=te(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{s.push(r.pu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=Y2.As(l.targetId,c);a.push(h)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,c){const d=te(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>L.forEach(c,f=>L.forEach(f.Es,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>L.forEach(f.ds,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!kl(h))throw h;K(Q2,"Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const m=d.Ms.get(f),y=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(y);d.Ms=d.Ms.insert(f,v)}}}(r.localStore,a))}async function whe(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){K(Dl,"User change. New user:",e.toKey());const r=await M8(n.localStore,e);n.currentUser=e,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new G(z.CANCELLED,s))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await no(n,r.Ls)}}function _he(t,e){const n=te(t),r=n.Au.get(e);if(r&&r.hu)return ve().add(r.key);{let i=ve();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const o=n.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}async function Ehe(t,e){const n=te(t),r=await Ox(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&cA(n,e.targetId,i.au),i}async function She(t,e){const n=te(t);return z8(n.localStore,e).then(r=>no(n,r))}async function The(t,e,n,r){const i=te(t),a=await function(o,l){const c=te(o),d=te(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",h=>d.er(h,l).next(f=>f?c.localDocuments.getDocuments(h,f):L.resolve(null)))}(i.localStore,e);a!==null?(n==="pending"?await nf(i.remoteStore):n==="acknowledged"||n==="rejected"?(cP(i,e,r||null),lP(i,e),function(o,l){te(te(o).mutationQueue).ir(l)}(i.localStore,e)):re(6720,"Unknown batchState",{Su:n}),await no(i,a)):K(Dl,"Cannot apply mutation batch with id: "+e)}async function Ahe(t,e){const n=te(t);if(Fw(n),dP(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await JM(n,r.toArray());n.gu=!0,await oA(n.remoteStore,!0);for(const a of i)Bw(n.remoteStore,a)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach((a,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(wh(n,s),vh(n.localStore,s,!0))),xh(n.remoteStore,s)}),await i,await JM(n,r),function(s){const o=te(s);o.Au.forEach((l,c)=>{xh(o.remoteStore,c)}),o.Ru.Jr(),o.Au=new Map,o.du=new lt(J.comparator)}(n),n.gu=!1,await oA(n.remoteStore,!1)}}async function JM(t,e,n){const r=te(t),i=[],a=[];for(const s of e){let o;const l=r.Iu.get(s);if(l&&l.length!==0){o=await yh(r.localStore,Nr(l[0]));for(const c of l){const d=r.Tu.get(c),h=await Ehe(r,d);h.snapshot&&a.push(h.snapshot)}}else{const c=await U8(r.localStore,s);o=await yh(r.localStore,c),await oP(r,s7(c),s,!1,o.resumeToken)}i.push(o)}return r.Pu.H_(a),i}function s7(t){return FF(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Nhe(t){return function(n){return te(te(n).persistence).Ts()}(te(t).localStore)}async function Ihe(t,e,n,r){const i=te(t);if(i.gu)return void K(Dl,"Ignoring unexpected query state notification.");const a=i.Iu.get(e);if(a&&a.length>0)switch(n){case"current":case"not-current":{const s=await z8(i.localStore,qF(a[0])),o=ay.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Ft.EMPTY_BYTE_STRING);await no(i,s,o);break}case"rejected":await vh(i.localStore,e,!0),wh(i,e,r);break;default:re(64155,n)}}async function Phe(t,e,n){const r=Fw(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){K(Dl,"Adding an already active target "+i);continue}const a=await U8(r.localStore,i),s=await yh(r.localStore,a);await oP(r,s7(a),s.targetId,!1,s.resumeToken),Bw(r.remoteStore,s)}for(const i of n)r.Iu.has(i)&&await vh(r.localStore,i,!1).then(()=>{xh(r.remoteStore,i),wh(r,i)}).catch(jl)}}function Fw(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=i7.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_he.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ghe.bind(null,e),e.Pu.H_=ihe.bind(null,e.eventManager),e.Pu.yu=ahe.bind(null,e.eventManager),e}function dP(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yhe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vhe.bind(null,e),e}function Che(t,e,n){const r=te(t);(async function(a,s,o){try{const l=await s.getMetadata();if(await function(m,y){const v=te(m),x=Jt(y.createTime);return v.persistence.runTransaction("hasNewerBundle","readonly",b=>v.Ii.getBundleMetadata(b,y.id)).then(b=>!!b&&b.createTime.compareTo(x)>=0)}(a.localStore,l))return await s.close(),o._completeWith(function(m){return{taskState:"Success",documentsLoaded:m.totalDocuments,bytesLoaded:m.totalBytes,totalDocuments:m.totalDocuments,totalBytes:m.totalBytes}}(l)),Promise.resolve(new Set);o._updateProgress(J8(l));const c=new ohe(l,s.serializer);let d=await s.bu();for(;d;){const f=await c.Ga(d);f&&o._updateProgress(f),d=await s.bu()}const h=await c.ja(a.localStore);return await no(a,h.Ha,void 0),await function(m,y){const v=te(m);return v.persistence.runTransaction("Save bundle","readwrite",x=>v.Ii.saveBundleMetadata(x,y))}(a.localStore,l),o._completeWith(h.progress),Promise.resolve(h.Ja)}catch(l){return Va(Dl,`Loading bundle failed with ${l}`),o._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class Jp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=oy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return D8(this.persistence,new R8,e.initialUser,this.serializer)}Cu(e){return new G2(zw.mi,this.serializer)}Du(e){return new H8}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jp.provider={build:()=>new Jp};class jhe extends Jp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){oe(this.persistence.referenceDelegate instanceof kx,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new I8(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ir.withCacheSize(this.cacheSizeBytes):ir.DEFAULT;return new G2(r=>kx.mi(r,n),this.serializer)}}class o7 extends Jp{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await dP(this.xu.syncEngine),await nf(this.xu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return D8(this.persistence,new R8,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new I8(r,e.asyncQueue,n)}Mu(e,n){const r=new zce(n,this.persistence);return new Uce(e.asyncQueue,r)}Cu(e){const n=W2(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?ir.withCacheSize(this.cacheSizeBytes):ir.DEFAULT;return new K2(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,G8(),T0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new H8}}class khe extends o7{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof RE&&(this.sharedClientState.syncEngine={Co:The.bind(null,n),vo:Ihe.bind(null,n),Fo:Phe.bind(null,n),Ts:Nhe.bind(null,n),Do:She.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji(async r=>{await Ahe(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Du(e){const n=G8();if(!RE.v(n))throw new G(z.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=W2(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new RE(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class eg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ZM(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=whe.bind(null,this.syncEngine),await oA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rhe}()}createDatastore(e){const n=oy(e.databaseInfo.databaseId),r=function(a){return new Ude(a)}(e.databaseInfo);return function(a,s,o,l){return new $de(a,s,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new Hde(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>ZM(this.syncEngine,n,0),function(){return HM.v()?new HM:new Dde}())}createSyncEngine(e,n){return function(i,a,s,o,l,c,d){const h=new uhe(i,a,s,o,l,c);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=te(i);K(iu,"RemoteStore shutting down."),a.Ea.add(5),await tf(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}eg.provider={build:()=>new eg};function e4(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ohe{constructor(e,n){this.Bu=e,this.serializer=n,this.metadata=new Xn,this.buffer=new Uint8Array,this.Lu=function(){return new TextDecoder("utf-8")}(),this.ku().then(r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Qa)}`))},r=>this.metadata.reject(r))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const n=this.Lu.decode(e),r=Number(n);isNaN(r)&&this.Qu(`length string (${n}) is not valid number`);const i=await this.$u(r);return new she(JSON.parse(i),e.length+r)}Uu(){return this.buffer.findIndex(e=>e===123)}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const n=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rhe{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new G(z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,a){const s=te(i),o={documents:a.map(h=>Xp(s.serializer,h))},l=await s.Ho("BatchGetDocuments",s.serializer.databaseId,Te.emptyPath(),o,a.length),c=new Map;l.forEach(h=>{const f=Gue(s.serializer,h);c.set(f.key.toString(),f)});const d=[];return a.forEach(h=>{const f=c.get(h.toString());oe(!!f,55234,{key:h}),d.push(f)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ef(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=J.fromPath(r);this.mutations.push(new M2(i,this.precondition(i)))}),await async function(r,i){const a=te(r),s={writes:i.map(o=>Zp(a.serializer,o))};await a.Go("Commit",a.serializer.databaseId,Te.emptyPath(),s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw re(50498,{Gu:e.constructor.name});n=ce.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new G(z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ce.min())?It.exists(!1):It.updateTime(n):It.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ce.min()))throw new G(z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return It.updateTime(n)}return It.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dhe{constructor(e,n,r,i,a){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.zu=r.maxAttempts,this.M_=new Z2(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new Rhe(this.datastore),n=this.Hu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Yu(i)}))}).catch(r=>{this.Yu(r)})})}Hu(e){try{const n=this.updateFunction(e);return!Jg(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!r8(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl="FirestoreClient";class Mhe{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=On.UNAUTHENTICATED,this.clientId=_2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{K(xl,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(K(xl,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=af(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ME(t,e){t.asyncQueue.verifyOperationInProgress(),K(xl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await M8(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function t4(t,e){t.asyncQueue.verifyOperationInProgress();const n=await hP(t);K(xl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>KM(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>KM(e.remoteStore,i)),t._onlineComponents=e}async function hP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K(xl,"Using user provided OfflineComponentProvider");try{await ME(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Va("Error using user provided cache. Falling back to memory cache: "+n),await ME(t,new Jp)}}else K(xl,"Using default OfflineComponentProvider"),await ME(t,new jhe(void 0));return t._offlineComponents}async function qw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K(xl,"Using user provided OnlineComponentProvider"),await t4(t,t._uninitializedComponentsProvider._online)):(K(xl,"Using default OnlineComponentProvider"),await t4(t,new eg))),t._onlineComponents}function l7(t){return hP(t).then(e=>e.persistence)}function fP(t){return hP(t).then(e=>e.localStore)}function c7(t){return qw(t).then(e=>e.remoteStore)}function mP(t){return qw(t).then(e=>e.syncEngine)}function Lhe(t){return qw(t).then(e=>e.datastore)}async function _h(t){const e=await qw(t),n=e.eventManager;return n.onListen=dhe.bind(null,e.syncEngine),n.onUnlisten=fhe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hhe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mhe.bind(null,e.syncEngine),n}function Vhe(t){return t.asyncQueue.enqueue(async()=>{const e=await l7(t),n=await c7(t);return e.setNetworkEnabled(!0),function(i){const a=te(i);return a.Ea.delete(0),ly(a)}(n)})}function Uhe(t){return t.asyncQueue.enqueue(async()=>{const e=await l7(t),n=await c7(t);return e.setNetworkEnabled(!1),async function(i){const a=te(i);a.Ea.add(0),await tf(a),a.Ra.set("Offline")}(n)})}function zhe(t,e){const n=new Xn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,a,s){try{const o=await function(c,d){const h=te(c);return h.persistence.runTransaction("read document","readonly",f=>h.localDocuments.getDocument(f,d))}(i,a);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new G(z.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const l=af(o,`Failed to get document '${a} from cache`);s.reject(l)}}(await fP(t),e,n)),n.promise}function u7(t,e,n={}){const r=new Xn;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const d=new $w({next:f=>{d.Nu(),s.enqueueAndForget(()=>iP(a,h));const m=f.docs.has(o);!m&&f.fromCache?c.reject(new G(z.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?c.reject(new G(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new sP(Zh(o.path),d,{includeMetadataChanges:!0,qa:!0});return rP(a,h)}(await _h(t),t.asyncQueue,e,n,r)),r.promise}function Bhe(t,e){const n=new Xn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,a,s){try{const o=await Ox(i,a,!0),l=new n7(a,o.Qs),c=l.ru(o.documents),d=l.applyChanges(c,!1);s.resolve(d.snapshot)}catch(o){const l=af(o,`Failed to execute query '${a} against cache`);s.reject(l)}}(await fP(t),e,n)),n.promise}function d7(t,e,n={}){const r=new Xn;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const d=new $w({next:f=>{d.Nu(),s.enqueueAndForget(()=>iP(a,h)),f.fromCache&&l.source==="server"?c.reject(new G(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new sP(o,d,{includeMetadataChanges:!0,qa:!0});return rP(a,h)}(await _h(t),t.asyncQueue,e,n,r)),r.promise}function Fhe(t,e){const n=new $w(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,a){te(i).Ca.add(a),a.next()}(await _h(t),n)),()=>{n.Nu(),t.asyncQueue.enqueueAndForget(async()=>function(i,a){te(i).Ca.delete(a)}(await _h(t),n))}}function $he(t,e,n,r){const i=function(s,o){let l;return l=typeof s=="string"?a8().encode(s):s,function(d,h){return new Ohe(d,h)}(function(d,h){if(d instanceof Uint8Array)return e4(d,h);if(d instanceof ArrayBuffer)return e4(new Uint8Array(d),h);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),o)}(n,oy(e));t.asyncQueue.enqueueAndForget(async()=>{Che(await mP(t),i,r)})}function qhe(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const a=te(r);return a.persistence.runTransaction("Get named query","readonly",s=>a.Ii.getNamedQuery(s,i))}(await fP(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h7(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7="firestore.googleapis.com",r4=!0;class i4{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new G(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=f7,this.ssl=r4}else this.host=e.host,this.ssl=e.ssl??r4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=S8;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dde)throw new G(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h7(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new G(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new G(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new G(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Nce;switch(r.type){case"firstParty":return new jce(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=n4.get(n);r&&(K("ComponentProvider","Removing Datastore"),n4.delete(n),r.terminate())}(this),Promise.resolve()}}function Hhe(t,e,n,r={}){var c;t=Oe(t,cy);const i=Pl(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(KI(`https://${o}`),WI("Firestore",!0)),a.host!==f7&&a.host!==o&&Va("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:r};if(!ul(l,s)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=On.MOCK_USER;else{d=O9(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new G(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new On(f)}t._authCredentials=new Ice(new iF(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ir=class m7{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new m7(this.firestore,e,this._query)}},ot=class Nm{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nm(this.firestore,e,this._key)}toJSON(){return{type:Nm._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Zg(n,Nm._jsonSchema))return new Nm(e,r||null,new J(Te.fromString(n.referencePath)))}};ot._jsonSchemaVersion="firestore/documentReference/1.0",ot._jsonSchema={type:cn("string",ot._jsonSchemaVersion),referencePath:cn("string")};let rl=class p7 extends Ir{constructor(e,n,r){super(e,n,Zh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ot(this.firestore,null,new J(e))}withConverter(e){return new p7(this.firestore,e,this._path)}};function Lx(t,e,...n){if(t=le(t),E2("collection","path",e),t instanceof cy){const r=Te.fromString(e,...n);return GD(r),new rl(t,null,r)}{if(!(t instanceof ot||t instanceof rl))throw new G(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return GD(r),new rl(t.firestore,null,r)}}function Ghe(t,e){if(t=Oe(t,cy),E2("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new G(z.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ir(t,null,function(r){return new Js(Te.emptyPath(),r)}(e))}function Vx(t,e,...n){if(t=le(t),arguments.length===1&&(e=_2.newId()),E2("doc","path",e),t instanceof cy){const r=Te.fromString(e,...n);return HD(r),new ot(t,null,new J(r))}{if(!(t instanceof ot||t instanceof rl))throw new G(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return HD(r),new ot(t.firestore,t instanceof rl?t.converter:null,new J(r))}}function g7(t,e){return t=le(t),e=le(e),(t instanceof ot||t instanceof rl)&&(e instanceof ot||e instanceof rl)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function y7(t,e){return t=le(t),e=le(e),t instanceof Ir&&e instanceof Ir&&t.firestore===e.firestore&&ny(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="AsyncQueue";class s4{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Z2(this,"async_queue_retry"),this._c=()=>{const r=T0();r&&K(a4,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=T0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=T0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Xn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!kl(e))throw e;K(a4,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Qt("INTERNAL UNHANDLED ERROR: ",o4(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=nP.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&re(47125,{Pc:o4(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function o4(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Khe{constructor(){this._progressObserver={},this._taskCompletionResolver=new Xn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Whe=-1;let en=class extends cy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new s4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new s4(e),this._firestoreClient=void 0,await e}}};function mr(t){if(t._terminated)throw new G(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||v7(t),t._firestoreClient}function v7(t){var r,i,a;const e=t._freezeSettings(),n=function(o,l,c,d){return new pue(o,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,h7(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Mhe(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}function Yhe(t,e){Va("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return x7(t,eg.provider,{build:r=>new o7(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function Qhe(t){Va("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();x7(t,eg.provider,{build:n=>new khe(n,e.cacheSizeBytes)})}function x7(t,e,n){if((t=Oe(t,en))._firestoreClient||t._terminated)throw new G(z.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new G(z.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},v7(t)}function Xhe(t){if(t._initialized&&!t._terminated)throw new G(z.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Xn;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Pa.v())return Promise.resolve();const i=r+O8;await Pa.delete(i)}(W2(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function Zhe(t){return function(n){const r=new Xn;return n.asyncQueue.enqueueAndForget(async()=>xhe(await mP(n),r)),r.promise}(mr(t=Oe(t,en)))}function Jhe(t){return Vhe(mr(t=Oe(t,en)))}function efe(t){return Uhe(mr(t=Oe(t,en)))}function tfe(t,e){const n=mr(t=Oe(t,en)),r=new Khe;return $he(n,t._databaseId,e,r),r}function nfe(t,e){return qhe(mr(t=Oe(t,en)),e).then(n=>n?new Ir(t,null,n.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sr(Ft.fromBase64String(e))}catch(n){throw new G(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new sr(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:sr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zg(e,sr._jsonSchema))return sr.fromBase64String(e.bytes)}}sr._jsonSchemaVersion="firestore/bytes/1.0",sr._jsonSchema={type:cn("string",sr._jsonSchemaVersion),bytes:cn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ia._jsonSchemaVersion}}static fromJSON(e){if(Zg(e,ia._jsonSchema))return new ia(e.latitude,e.longitude)}}ia._jsonSchemaVersion="firestore/geoPoint/1.0",ia._jsonSchema={type:cn("string",ia._jsonSchemaVersion),latitude:cn("number"),longitude:cn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ja._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zg(e,ja._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ja(e.vectorValues);throw new G(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ja._jsonSchemaVersion="firestore/vectorValue/1.0",ja._jsonSchema={type:cn("string",ja._jsonSchemaVersion),vectorValues:cn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rfe=/^__.*__$/;class ife{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new to(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jh(e,this.data,n,this.fieldTransforms)}}class b7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new to(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function w7(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re(40011,{Ac:t})}}class Hw{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Hw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ux(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(w7(this.Ac)&&rfe.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class afe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||oy(e)}Cc(e,n,r,i=!1){return new Hw({Ac:e,methodName:n,Dc:r,path:Nt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tu(t){const e=t._freezeSettings(),n=oy(t._databaseId);return new afe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Gw(t,e,n,r,i,a={}){const s=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);wP("Data must be an object, but it was:",s,r);const o=S7(r,s);let l,c;if(a.merge)l=new Ur(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const d=[];for(const h of a.mergeFields){const f=dA(e,h,n);if(!s.contains(f))throw new G(z.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);A7(d,f)||d.push(f)}l=new Ur(d),c=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=s.fieldTransforms;return new ife(new Wn(o),l,c)}class uy extends Su{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uy}}function _7(t,e,n){return new Hw({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class pP extends Su{_toFieldTransform(e){return new iy(e.path,new mh)}isEqual(e){return e instanceof pP}}class gP extends Su{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=_7(this,e,!0),r=this.vc.map(a=>Au(a,n)),i=new Jc(r);return new iy(e.path,i)}isEqual(e){return e instanceof gP&&ul(this.vc,e.vc)}}class yP extends Su{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=_7(this,e,!0),r=this.vc.map(a=>Au(a,n)),i=new eu(r);return new iy(e.path,i)}isEqual(e){return e instanceof yP&&ul(this.vc,e.vc)}}class vP extends Su{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new ph(e.serializer,QF(e.serializer,this.Fc));return new iy(e.path,n)}isEqual(e){return e instanceof vP&&this.Fc===e.Fc}}function xP(t,e,n,r){const i=t.Cc(1,e,n);wP("Data must be an object, but it was:",i,r);const a=[],s=Wn.empty();Ol(r,(l,c)=>{const d=_P(e,l,n);c=le(c);const h=i.yc(d);if(c instanceof uy)a.push(d);else{const f=Au(c,h);f!=null&&(a.push(d),s.set(d,f))}});const o=new Ur(a);return new b7(s,o,i.fieldTransforms)}function bP(t,e,n,r,i,a){const s=t.Cc(1,e,n),o=[dA(e,r,n)],l=[i];if(a.length%2!=0)throw new G(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<a.length;f+=2)o.push(dA(e,a[f])),l.push(a[f+1]);const c=[],d=Wn.empty();for(let f=o.length-1;f>=0;--f)if(!A7(c,o[f])){const m=o[f];let y=l[f];y=le(y);const v=s.yc(m);if(y instanceof uy)c.push(m);else{const x=Au(y,v);x!=null&&(c.push(m),d.set(m,x))}}const h=new Ur(c);return new b7(d,h,s.fieldTransforms)}function E7(t,e,n,r=!1){return Au(n,t.Cc(r?4:3,e))}function Au(t,e){if(T7(t=le(t)))return wP("Unsupported field value:",e,t),S7(t,e);if(t instanceof Su)return function(r,i){if(!w7(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=Au(o,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=le(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Be.fromDate(r);return{timestampValue:gh(i.serializer,a)}}if(r instanceof Be){const a=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gh(i.serializer,a)}}if(r instanceof ia)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof sr)return{bytesValue:l8(i.serializer,r._byteString)};if(r instanceof ot){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:B2(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ja)return function(s,o){return{mapValue:{fields:{[C2]:{stringValue:j2},[dh]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return D2(o.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Iw(r)}`)}(t,e)}function S7(t,e){const n={};return TF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ol(t,(r,i)=>{const a=Au(i,e.mc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function T7(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Be||t instanceof ia||t instanceof sr||t instanceof ot||t instanceof Su||t instanceof ja)}function wP(t,e,n){if(!T7(n)||!oF(n)){const r=Iw(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function dA(t,e,n){if((e=le(e))instanceof bl)return e._internalPath;if(typeof e=="string")return _P(t,e);throw Ux("Field path arguments must be of type string or ",t,!1,void 0,n)}const sfe=new RegExp("[~\\*/\\[\\]]");function _P(t,e,n){if(e.search(sfe)>=0)throw Ux(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bl(...e.split("."))._internalPath}catch{throw Ux(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ux(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new G(z.INVALID_ARGUMENT,o+t+l)}function A7(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ofe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Kw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ofe extends tg{data(){return super.data()}}function Kw(t,e){return typeof e=="string"?_P(t,e):e instanceof bl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class EP{}class dy extends EP{}function ns(t,e,...n){let r=[];e instanceof EP&&r.push(e),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof SP).length,o=a.filter(l=>l instanceof Ww).length;if(s>1||s>0&&o>0)throw new G(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Ww extends dy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ww(e,n,r)}_apply(e){const n=this._parse(e);return C7(e._query,n),new Ir(e.firestore,e.converter,XT(e._query,n))}_parse(e){const n=Tu(e.firestore);return function(a,s,o,l,c,d,h){let f;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new G(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){c4(h,d);const y=[];for(const v of h)y.push(l4(l,a,v));f={arrayValue:{values:y}}}else f=l4(l,a,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||c4(h,d),f=E7(o,s,h,d==="in"||d==="not-in");return Ie.create(c,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lfe(t,e,n){const r=e,i=Kw("where",t);return Ww._create(i,r,n)}class SP extends EP{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new SP(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ke.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)C7(s,l),s=XT(s,l)}(e._query,n),new Ir(e.firestore,e.converter,XT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class TP extends dy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new TP(e,n)}_apply(e){const n=function(i,a,s){if(i.startAt!==null)throw new G(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new G(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qp(a,s)}(e._query,this._field,this._direction);return new Ir(e.firestore,e.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new Js(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function I7(t,e="asc"){const n=e,r=Kw("orderBy",t);return TP._create(r,n)}class Yw extends dy{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Yw(e,n,r)}_apply(e){return new Ir(e.firestore,e.converter,Ix(e._query,this._limit,this._limitType))}}function cfe(t){return lF("limit",t),Yw._create("limit",t,"F")}function ufe(t){return lF("limitToLast",t),Yw._create("limitToLast",t,"L")}class Qw extends dy{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Qw(e,n,r)}_apply(e){const n=P7(e,this.type,this._docOrFields,this._inclusive);return new Ir(e.firestore,e.converter,function(i,a){return new Js(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)}(e._query,n))}}function dfe(...t){return Qw._create("startAt",t,!0)}function hfe(...t){return Qw._create("startAfter",t,!1)}class Xw extends dy{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Xw(e,n,r)}_apply(e){const n=P7(e,this.type,this._docOrFields,this._inclusive);return new Ir(e.firestore,e.converter,function(i,a){return new Js(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)}(e._query,n))}}function ffe(...t){return Xw._create("endBefore",t,!1)}function mfe(...t){return Xw._create("endAt",t,!0)}function P7(t,e,n,r){if(n[0]=le(n[0]),n[0]instanceof tg)return function(a,s,o,l,c){if(!l)throw new G(z.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const d=[];for(const h of Ld(a))if(h.field.isKeyField())d.push(Xc(s,l.key));else{const f=l.data.field(h.field);if(Ow(f))throw new G(z.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const m=h.field.canonicalString();throw new G(z.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}d.push(f)}return new yl(d,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Tu(t.firestore);return function(s,o,l,c,d,h){const f=s.explicitOrderBy;if(d.length>f.length)throw new G(z.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let y=0;y<d.length;y++){const v=d[y];if(f[y].field.isKeyField()){if(typeof v!="string")throw new G(z.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof v}`);if(!O2(s)&&v.indexOf("/")!==-1)throw new G(z.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${v}' contains a slash.`);const x=s.path.child(Te.fromString(v));if(!J.isDocumentKey(x))throw new G(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const b=new J(x);m.push(Xc(o,b))}else{const x=E7(l,c,v);m.push(x)}}return new yl(m,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function l4(t,e,n){if(typeof(n=le(n))=="string"){if(n==="")throw new G(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!O2(e)&&n.indexOf("/")!==-1)throw new G(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Te.fromString(n));if(!J.isDocumentKey(r))throw new G(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xc(t,new J(r))}if(n instanceof ot)return Xc(t,n._key);throw new G(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Iw(n)}.`)}function c4(t,e){if(!Array.isArray(t)||t.length===0)throw new G(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function C7(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AP{convertValue(e,n="none"){switch(pl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ol(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[dh].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>Tt(s.doubleValue));return new ja(n)}convertGeoPoint(e){return new ia(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Rw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Kp(e));default:return null}}convertTimestamp(e){const n=Ms(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Te.fromString(e);oe(x8(r),9688,{name:e});const i=new ml(r.get(1),r.get(3)),a=new J(r.popFirst(5));return i.isEqual(n)||Qt(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class pfe extends AP{constructor(e){super(),this.firestore=e}convertBytes(e){return new sr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ot(this.firestore,null,n)}}class xc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Ui=class j7 extends tg{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Kw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new G(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=j7._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Ui._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ui._jsonSchema={type:cn("string",Ui._jsonSchemaVersion),bundleSource:cn("string","DocumentSnapshot"),bundleName:cn("string"),bundle:cn("string")};let lp=class extends Ui{data(e={}){return super.data(e)}},aa=class k7{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new lp(this._firestore,this._userDataWriter,r.key,r,new xc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new lp(i._firestore,i._userDataWriter,o.doc.key,o.doc,new xc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new lp(i._firestore,i._userDataWriter,o.doc.key,o.doc,new xc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),d=s.indexOf(o.doc.key)),{type:gfe(o.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new G(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=k7._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function gfe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re(61501,{type:t})}}function O7(t,e){return t instanceof Ui&&e instanceof Ui?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof aa&&e instanceof aa&&t._firestore===e._firestore&&y7(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yfe(t){t=Oe(t,ot);const e=Oe(t.firestore,en);return u7(mr(e),t._key).then(n=>IP(e,t,n))}aa._jsonSchemaVersion="firestore/querySnapshot/1.0",aa._jsonSchema={type:cn("string",aa._jsonSchemaVersion),bundleSource:cn("string","QuerySnapshot"),bundleName:cn("string"),bundle:cn("string")};class Nu extends AP{constructor(e){super(),this.firestore=e}convertBytes(e){return new sr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ot(this.firestore,null,n)}}function vfe(t){t=Oe(t,ot);const e=Oe(t.firestore,en),n=mr(e),r=new Nu(e);return zhe(n,t._key).then(i=>new Ui(e,r,t._key,i,new xc(i!==null&&i.hasLocalMutations,!0),t.converter))}function xfe(t){t=Oe(t,ot);const e=Oe(t.firestore,en);return u7(mr(e),t._key,{source:"server"}).then(n=>IP(e,t,n))}function R7(t){t=Oe(t,Ir);const e=Oe(t.firestore,en),n=mr(e),r=new Nu(e);return N7(t._query),d7(n,t._query).then(i=>new aa(e,r,t,i))}function bfe(t){t=Oe(t,Ir);const e=Oe(t.firestore,en),n=mr(e),r=new Nu(e);return Bhe(n,t._query).then(i=>new aa(e,r,t,i))}function wfe(t){t=Oe(t,Ir);const e=Oe(t.firestore,en),n=mr(e),r=new Nu(e);return d7(n,t._query,{source:"server"}).then(i=>new aa(e,r,t,i))}function u4(t,e,n){t=Oe(t,ot);const r=Oe(t.firestore,en),i=Zw(t.converter,e,n);return hy(r,[Gw(Tu(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,It.none())])}function d4(t,e,n,...r){t=Oe(t,ot);const i=Oe(t.firestore,en),a=Tu(i);let s;return s=typeof(e=le(e))=="string"||e instanceof bl?bP(a,"updateDoc",t._key,e,n,r):xP(a,"updateDoc",t._key,e),hy(i,[s.toMutation(t._key,It.exists(!0))])}function _fe(t){return hy(Oe(t.firestore,en),[new ef(t._key,It.none())])}function Efe(t,e){const n=Oe(t.firestore,en),r=Vx(t),i=Zw(t.converter,e);return hy(n,[Gw(Tu(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,It.exists(!1))]).then(()=>r)}function NP(t,...e){var l,c,d;t=le(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||uA(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(uA(e[r])){const h=e[r];e[r]=(l=h.next)==null?void 0:l.bind(h),e[r+1]=(c=h.error)==null?void 0:c.bind(h),e[r+2]=(d=h.complete)==null?void 0:d.bind(h)}let a,s,o;if(t instanceof ot)s=Oe(t.firestore,en),o=Zh(t._key.path),a={next:h=>{e[r]&&e[r](IP(s,t,h))},error:e[r+1],complete:e[r+2]};else{const h=Oe(t,Ir);s=Oe(h.firestore,en),o=h._query;const f=new Nu(s);a={next:m=>{e[r]&&e[r](new aa(s,f,h,m))},error:e[r+1],complete:e[r+2]},N7(t._query)}return function(f,m,y,v){const x=new $w(v),b=new sP(m,x,y);return f.asyncQueue.enqueueAndForget(async()=>rP(await _h(f),b)),()=>{x.Nu(),f.asyncQueue.enqueueAndForget(async()=>iP(await _h(f),b))}}(mr(s),o,i,a)}function Sfe(t,e){return Fhe(mr(t=Oe(t,en)),uA(e)?e:{next:e})}function hy(t,e){return function(r,i){const a=new Xn;return r.asyncQueue.enqueueAndForget(async()=>phe(await mP(r),i,a)),a.promise}(mr(t),e)}function IP(t,e,n){const r=n.docs.get(e._key),i=new Nu(t);return new Ui(t,i,e._key,r,new xc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tfe={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Afe=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Tu(e)}set(e,n,r){this._verifyNotCommitted();const i=Fo(e,this._firestore),a=Zw(i.converter,n,r),s=Gw(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,It.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=Fo(e,this._firestore);let s;return s=typeof(n=le(n))=="string"||n instanceof bl?bP(this._dataReader,"WriteBatch.update",a._key,n,r,i):xP(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,It.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Fo(e,this._firestore);return this._mutations=this._mutations.concat(new ef(n._key,It.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new G(z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Fo(t,e){if((t=le(t)).firestore!==e)throw new G(z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nfe{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Tu(e)}get(e){const n=Fo(e,this._firestore),r=new pfe(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return re(24041);const a=i[0];if(a.isFoundDocument())return new tg(this._firestore,r,a.key,a,n.converter);if(a.isNoDocument())return new tg(this._firestore,r,n._key,null,n.converter);throw re(18433,{doc:a})})}set(e,n,r){const i=Fo(e,this._firestore),a=Zw(i.converter,n,r),s=Gw(this._dataReader,"Transaction.set",i._key,a,i.converter!==null,r);return this._transaction.set(i._key,s),this}update(e,n,r,...i){const a=Fo(e,this._firestore);let s;return s=typeof(n=le(n))=="string"||n instanceof bl?bP(this._dataReader,"Transaction.update",a._key,n,r,i):xP(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,s),this}delete(e){const n=Fo(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ife=class extends Nfe{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Fo(e,this._firestore),r=new Nu(this._firestore);return super.get(e).then(i=>new Ui(this._firestore,r,n._key,i._document,new xc(!1,!1),n.converter))}};function Pfe(t,e,n){t=Oe(t,en);const r={...Tfe,...n};return function(a){if(a.maxAttempts<1)throw new G(z.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(a,s,o){const l=new Xn;return a.asyncQueue.enqueueAndForget(async()=>{const c=await Lhe(a);new Dhe(a.asyncQueue,c,o,s,l).ju()}),l.promise}(mr(t),i=>e(new Ife(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cfe(){return new uy("deleteField")}function jfe(){return new pP("serverTimestamp")}function kfe(...t){return new gP("arrayUnion",t)}function Ofe(...t){return new yP("arrayRemove",t)}function Rfe(t){return new vP("increment",t)}(function(e,n=!0){(function(i){Xh=i})(Qs),Rs(new Bi("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new en(new Pce(r.getProvider("auth-internal")),new kce(s,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new G(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ml(c.options.projectId,d)}(s,i),s);return a={useFetchStreams:n,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),di(BD,FD,e),di(BD,FD,"esm2020")})();const Dfe="@firebase/firestore-compat",Mfe="0.4.2";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new G("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(){if(typeof Uint8Array>"u")throw new G("unimplemented","Uint8Arrays are not available in this environment.")}function f4(){if(!fue())throw new G("unimplemented","Blobs are unavailable in Firestore in this environment.")}let D7=class hA{constructor(e){this._delegate=e}static fromBase64String(e){return f4(),new hA(sr.fromBase64String(e))}static fromUint8Array(e){return h4(),new hA(sr.fromUint8Array(e))}toBase64(){return f4(),this._delegate.toBase64()}toUint8Array(){return h4(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(t){return Lfe(t,["next","error","complete"])}function Lfe(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vfe{enableIndexedDbPersistence(e,n){return Yhe(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return Qhe(e._delegate)}clearIndexedDbPersistence(e){return Xhe(e._delegate)}}class M7{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ml||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Va("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...n,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){Hhe(this._delegate,e,n,r)}enableNetwork(){return Jhe(this._delegate)}disableNetwork(){return efe(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,sF("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Zhe(this._delegate)}onSnapshotsInSync(e){return Sfe(this._delegate,e)}get app(){if(!this._appCompat)throw new G("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Eh(this,Lx(this._delegate,e))}catch(n){throw _r(n,"collection()","Firestore.collection()")}}doc(e){try{return new Ri(this,Vx(this._delegate,e))}catch(n){throw _r(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new wr(this,Ghe(this._delegate,e))}catch(n){throw _r(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Pfe(this._delegate,n=>e(new L7(this,n)))}batch(){return mr(this._delegate),new V7(new Afe(this._delegate,e=>hy(this._delegate,e)))}loadBundle(e){return tfe(this._delegate,e)}namedQuery(e){return nfe(this._delegate,e).then(n=>n?new wr(this,n):null)}}class Jw extends AP{constructor(e){super(),this.firestore=e}convertBytes(e){return new D7(new sr(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Ri.forKey(n,this.firestore,null)}}function Ufe(t){Tce(t)}class L7{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Jw(e)}get(e){const n=bc(e);return this._delegate.get(n).then(r=>new ng(this._firestore,new Ui(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=bc(e);return r?(PP("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const a=bc(e);return arguments.length===2?this._delegate.update(a,n):this._delegate.update(a,n,r,...i),this}delete(e){const n=bc(e);return this._delegate.delete(n),this}}class V7{constructor(e){this._delegate=e}set(e,n,r){const i=bc(e);return r?(PP("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const a=bc(e);return arguments.length===2?this._delegate.update(a,n):this._delegate.update(a,n,r,...i),this}delete(e){const n=bc(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class au{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new lp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new rg(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=au.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(n);return a||(a=new au(e,new Jw(e),n),i.set(n,a)),a}}au.INSTANCES=new WeakMap;class Ri{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Jw(e)}static forPath(e,n,r){if(e.length%2!==0)throw new G("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ri(n,new ot(n._delegate,r,new J(e)))}static forKey(e,n,r){return new Ri(n,new ot(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Eh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Eh(this.firestore,Lx(this._delegate,e))}catch(n){throw _r(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=le(e),e instanceof ot?g7(this._delegate,e):!1}set(e,n){n=PP("DocumentReference.set",n);try{return n?u4(this._delegate,e,n):u4(this._delegate,e)}catch(r){throw _r(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?d4(this._delegate,e):d4(this._delegate,e,n,...r)}catch(i){throw _r(i,"updateDoc()","DocumentReference.update()")}}delete(){return _fe(this._delegate)}onSnapshot(...e){const n=U7(e),r=z7(e,i=>new ng(this.firestore,new Ui(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return NP(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=vfe(this._delegate):(e==null?void 0:e.source)==="server"?n=xfe(this._delegate):n=yfe(this._delegate),n.then(r=>new ng(this.firestore,new Ui(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ri(this.firestore,e?this._delegate.withConverter(au.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function _r(t,e,n){return t.message=t.message.replace(e,n),t}function U7(t){for(const e of t)if(typeof e=="object"&&!fA(e))return e;return{}}function z7(t,e){var r,i;let n;return fA(t[0])?n=t[0]:fA(t[1])?n=t[1]:typeof t[0]=="function"?n={next:t[0],error:t[1],complete:t[2]}:n={next:t[1],error:t[2],complete:t[3]},{next:a=>{n.next&&n.next(e(a))},error:(r=n.error)==null?void 0:r.bind(n),complete:(i=n.complete)==null?void 0:i.bind(n)}}class ng{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Ri(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return O7(this._delegate,e._delegate)}}class rg extends ng{data(e){const n=this._delegate.data(e);return this._delegate._converter||Ace(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}}class wr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Jw(e)}where(e,n,r){try{return new wr(this.firestore,ns(this._delegate,lfe(e,n,r)))}catch(i){throw _r(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new wr(this.firestore,ns(this._delegate,I7(e,n)))}catch(r){throw _r(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new wr(this.firestore,ns(this._delegate,cfe(e)))}catch(n){throw _r(n,"limit()","Query.limit()")}}limitToLast(e){try{return new wr(this.firestore,ns(this._delegate,ufe(e)))}catch(n){throw _r(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new wr(this.firestore,ns(this._delegate,dfe(...e)))}catch(n){throw _r(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new wr(this.firestore,ns(this._delegate,hfe(...e)))}catch(n){throw _r(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new wr(this.firestore,ns(this._delegate,ffe(...e)))}catch(n){throw _r(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new wr(this.firestore,ns(this._delegate,mfe(...e)))}catch(n){throw _r(n,"endAt()","Query.endAt()")}}isEqual(e){return y7(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=bfe(this._delegate):(e==null?void 0:e.source)==="server"?n=wfe(this._delegate):n=R7(this._delegate),n.then(r=>new mA(this.firestore,new aa(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=U7(e),r=z7(e,i=>new mA(this.firestore,new aa(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return NP(this._delegate,n,r)}withConverter(e){return new wr(this.firestore,e?this._delegate.withConverter(au.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class zfe{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new rg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class mA{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new wr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new rg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new zfe(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new rg(this._firestore,r))})}isEqual(e){return O7(this._delegate,e._delegate)}}class Eh extends wr{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ri(this.firestore,e):null}doc(e){try{return e===void 0?new Ri(this.firestore,Vx(this._delegate)):new Ri(this.firestore,Vx(this._delegate,e))}catch(n){throw _r(n,"doc()","CollectionReference.doc()")}}add(e){return Efe(this._delegate,e).then(n=>new Ri(this.firestore,n))}isEqual(e){return g7(this._delegate,e._delegate)}withConverter(e){return new Eh(this.firestore,e?this._delegate.withConverter(au.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function bc(t){return Oe(t,ot)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(...e){this._delegate=new bl(...e)}static documentId(){return new CP(Nt.keyField().canonicalString())}isEqual(e){return e=le(e),e instanceof bl?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{static serverTimestamp(){const e=jfe();return e._methodName="FieldValue.serverTimestamp",new pc(e)}static delete(){const e=Cfe();return e._methodName="FieldValue.delete",new pc(e)}static arrayUnion(...e){const n=kfe(...e);return n._methodName="FieldValue.arrayUnion",new pc(n)}static arrayRemove(...e){const n=Ofe(...e);return n._methodName="FieldValue.arrayRemove",new pc(n)}static increment(e){const n=Rfe(e);return n._methodName="FieldValue.increment",new pc(n)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bfe={Firestore:M7,GeoPoint:ia,Timestamp:Be,Blob:D7,Transaction:L7,WriteBatch:V7,DocumentReference:Ri,DocumentSnapshot:ng,Query:wr,QueryDocumentSnapshot:rg,QuerySnapshot:mA,CollectionReference:Eh,FieldPath:CP,FieldValue:pc,setLogLevel:Ufe,CACHE_SIZE_UNLIMITED:Whe};function Ffe(t,e){t.INTERNAL.registerComponent(new Bi("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...Bfe}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $fe(t){Ffe(t,(e,n)=>new M7(e,n,new Vfe)),t.registerVersion(Dfe,Mfe)}$fe(et);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7="firebasestorage.googleapis.com",F7="storageBucket",qfe=2*60*1e3,Hfe=10*60*1e3,Gfe=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt extends ur{constructor(e,n,r=0){super(LE(e),`Firebase Storage: ${n} (${LE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return LE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wt||(wt={}));function LE(t){return"storage/"+t}function jP(){const t="An unknown error occurred, please check the error payload for server response.";return new Mt(wt.UNKNOWN,t)}function Kfe(t){return new Mt(wt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Wfe(t){return new Mt(wt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Yfe(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Mt(wt.UNAUTHENTICATED,t)}function Qfe(){return new Mt(wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Xfe(t){return new Mt(wt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function $7(){return new Mt(wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function q7(){return new Mt(wt.CANCELED,"User canceled the upload/download.")}function Zfe(t){return new Mt(wt.INVALID_URL,"Invalid URL '"+t+"'.")}function Jfe(t){return new Mt(wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function eme(){return new Mt(wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+F7+"' property when initializing the app?")}function H7(){return new Mt(wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function tme(){return new Mt(wt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function nme(){return new Mt(wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function rme(t){return new Mt(wt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ud(t){return new Mt(wt.INVALID_ARGUMENT,t)}function G7(){return new Mt(wt.APP_DELETED,"The Firebase app was deleted.")}function K7(t){return new Mt(wt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cp(t,e){return new Mt(wt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function nm(t){throw new Mt(wt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=lr.makeFromUrl(e,n)}catch{return new lr(e,"")}if(r.path==="")return r;throw Jfe(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(T){T.path_=decodeURIComponent(T.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),y={bucket:1,path:3},v=n===B7?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",b=new RegExp(`^https?://${v}/${i}/${x}`,"i"),_=[{regex:o,indices:l,postModify:a},{regex:m,indices:y,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let T=0;T<_.length;T++){const N=_[T],j=N.regex.exec(e);if(j){const A=j[N.indices.bucket];let S=j[N.indices.path];S||(S=""),r=new lr(A,S),N.postModify(r);break}}if(r==null)throw Zfe(e);return r}}class ime{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ame(t,e,n){let r=1,i=null,a=null,s=!1,o=0;function l(){return o===2}let c=!1;function d(...x){c||(c=!0,e.apply(null,x))}function h(x){i=setTimeout(()=>{i=null,t(m,l())},x)}function f(){a&&clearTimeout(a)}function m(x,...b){if(c){f();return}if(x){f(),d.call(null,x,...b);return}if(l()||s){f(),d.call(null,x,...b);return}r<64&&(r*=2);let _;o===1?(o=2,_=0):_=(r+Math.random())*1e3,h(_)}let y=!1;function v(x){y||(y=!0,f(),!c&&(i!==null?(x||(o=2),clearTimeout(i),h(0)):x||(o=1)))}return h(0),a=setTimeout(()=>{s=!0,v(!0)},n),v}function sme(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ome(t){return t!==void 0}function lme(t){return typeof t=="function"}function cme(t){return typeof t=="object"&&!Array.isArray(t)}function e_(t){return typeof t=="string"||t instanceof String}function m4(t){return kP()&&t instanceof Blob}function kP(){return typeof Blob<"u"}function pA(t,e,n,r){if(r<e)throw Ud(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ud(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function W7(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Oc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Oc||(Oc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y7(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ume{constructor(e,n,r,i,a,s,o,l,c,d,h,f=!0,m=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,v)=>{this.resolve_=y,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new _v(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===Oc.NO_ERROR,l=a.getStatus();if(!o||Y7(l,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===Oc.ABORT;r(!1,new _v(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new _v(c,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());ome(l)?a(l):a()}catch(l){s(l)}else if(o!==null){const l=jP();l.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,l)):s(l)}else if(i.canceled){const l=this.appDelete_?G7():q7();s(l)}else{const l=$7();s(l)}};this.canceled_?n(!1,new _v(!1,null,!0)):this.backoffId_=ame(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&sme(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _v{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function dme(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function hme(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function fme(t,e){e&&(t["X-Firebase-GMPID"]=e)}function mme(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function pme(t,e,n,r,i,a,s=!0,o=!1){const l=W7(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return fme(d,e),dme(d,n),hme(d,a),mme(d,r),new ume(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gme(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function yme(...t){const e=gme();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(kP())return new Blob(t);throw new Mt(wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function vme(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xme(t){if(typeof atob>"u")throw rme("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class VE{constructor(e,n){this.data=e,this.contentType=n||null}}function Q7(t,e){switch(t){case Di.RAW:return new VE(X7(e));case Di.BASE64:case Di.BASE64URL:return new VE(Z7(t,e));case Di.DATA_URL:return new VE(wme(e),_me(e))}throw jP()}function X7(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,s=t.charCodeAt(++n);r=65536|(a&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function bme(t){let e;try{e=decodeURIComponent(t)}catch{throw cp(Di.DATA_URL,"Malformed data URL.")}return X7(e)}function Z7(t,e){switch(t){case Di.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw cp(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Di.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw cp(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=xme(e)}catch(i){throw i.message.includes("polyfill")?i:cp(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class J7{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw cp(Di.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Eme(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function wme(t){const e=new J7(t);return e.base64?Z7(Di.BASE64,e.rest):bme(e.rest)}function _me(t){return new J7(t).contentType}function Eme(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n){let r=0,i="";m4(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(m4(this.data_)){const r=this.data_,i=vme(r,e,n);return i===null?null:new as(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new as(r,!0)}}static getBlob(...e){if(kP()){const n=e.map(r=>r instanceof as?r.data_:r);return new as(yme.apply(null,n))}else{const n=e.map(s=>e_(s)?Q7(Di.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(s=>{for(let o=0;o<s.length;o++)i[a++]=s[o]}),new as(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t){let e;try{e=JSON.parse(t)}catch{return null}return cme(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sme(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Tme(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function e$(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ame(t,e){return e}class xr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Ame}}let Ev=null;function Nme(t){return!e_(t)||t.length<2?t:e$(t)}function t_(){if(Ev)return Ev;const t=[];t.push(new xr("bucket")),t.push(new xr("generation")),t.push(new xr("metageneration")),t.push(new xr("name","fullPath",!0));function e(a,s){return Nme(s)}const n=new xr("name");n.xform=e,t.push(n);function r(a,s){return s!==void 0?Number(s):s}const i=new xr("size");return i.xform=r,t.push(i),t.push(new xr("timeCreated")),t.push(new xr("updated")),t.push(new xr("md5Hash",null,!0)),t.push(new xr("cacheControl",null,!0)),t.push(new xr("contentDisposition",null,!0)),t.push(new xr("contentEncoding",null,!0)),t.push(new xr("contentLanguage",null,!0)),t.push(new xr("contentType",null,!0)),t.push(new xr("metadata","customMetadata",!0)),Ev=t,Ev}function Ime(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new lr(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function Pme(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const s=n[a];r[s.local]=s.xform(r,e[s.server])}return Ime(r,t),r}function t$(t,e,n){const r=OP(e);return r===null?null:Pme(t,r,n)}function Cme(t,e,n,r){const i=OP(e);if(i===null||!e_(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(c=>{const d=t.bucket,h=t.fullPath,f="/b/"+s(d)+"/o/"+s(h),m=Ml(f,n,r),y=W7({alt:"media",token:c});return m+y})[0]}function RP(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4="prefixes",g4="items";function jme(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[p4])for(const i of n[p4]){const a=i.replace(/\/$/,""),s=t._makeStorageReference(new lr(e,a));r.prefixes.push(s)}if(n[g4])for(const i of n[g4]){const a=t._makeStorageReference(new lr(e,i.name));r.items.push(a)}return r}function kme(t,e,n){const r=OP(n);return r===null?null:jme(t,e,r)}class ro{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(t){if(!t)throw jP()}function n_(t,e){function n(r,i){const a=t$(t,i,e);return ka(a!==null),a}return n}function Ome(t,e){function n(r,i){const a=kme(t,e,i);return ka(a!==null),a}return n}function Rme(t,e){function n(r,i){const a=t$(t,i,e);return ka(a!==null),Cme(a,i,t.host,t._protocol)}return n}function sf(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Qfe():i=Yfe():n.getStatus()===402?i=Wfe(t.bucket):n.getStatus()===403?i=Xfe(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function r_(t){const e=sf(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=Kfe(t.path)),a.serverResponse=i.serverResponse,a}return n}function n$(t,e,n){const r=e.fullServerUrl(),i=Ml(r,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,o=new ro(i,a,n_(t,n),s);return o.errorHandler=r_(e),o}function Dme(t,e,n,r,i){const a={};e.isRoot?a.prefix="":a.prefix=e.path+"/",n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);const s=e.bucketOnlyServerUrl(),o=Ml(s,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,d=new ro(o,l,Ome(t,e.bucket),c);return d.urlParams=a,d.errorHandler=sf(e),d}function Mme(t,e,n){const r=e.fullServerUrl(),i=Ml(r,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,o=new ro(i,a,Rme(t,n),s);return o.errorHandler=r_(e),o}function Lme(t,e,n,r){const i=e.fullServerUrl(),a=Ml(i,t.host,t._protocol),s="PATCH",o=RP(n,r),l={"Content-Type":"application/json; charset=utf-8"},c=t.maxOperationRetryTime,d=new ro(a,s,n_(t,r),c);return d.headers=l,d.body=o,d.errorHandler=r_(e),d}function Vme(t,e){const n=e.fullServerUrl(),r=Ml(n,t.host,t._protocol),i="DELETE",a=t.maxOperationRetryTime;function s(l,c){}const o=new ro(r,i,s,a);return o.successCodes=[200,204],o.errorHandler=r_(e),o}function Ume(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function r$(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Ume(null,e)),r}function zme(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function o(){let _="";for(let T=0;T<2;T++)_=_+Math.random().toString().slice(2);return _}const l=o();s["Content-Type"]="multipart/related; boundary="+l;const c=r$(e,r,i),d=RP(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",m=as.getBlob(h,r,f);if(m===null)throw H7();const y={name:c.fullPath},v=Ml(a,t.host,t._protocol),x="POST",b=t.maxUploadRetryTime,w=new ro(v,x,n_(t,n),b);return w.urlParams=y,w.headers=s,w.body=m.uploadData(),w.errorHandler=sf(e),w}class zx{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function DP(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ka(!1)}return ka(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Bme(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),s=r$(e,r,i),o={name:s.fullPath},l=Ml(a,t.host,t._protocol),c="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},h=RP(s,n),f=t.maxUploadRetryTime;function m(v){DP(v);let x;try{x=v.getResponseHeader("X-Goog-Upload-URL")}catch{ka(!1)}return ka(e_(x)),x}const y=new ro(l,c,m,f);return y.urlParams=o,y.headers=d,y.body=h,y.errorHandler=sf(e),y}function Fme(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function a(c){const d=DP(c,["active","final"]);let h=null;try{h=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ka(!1)}h||ka(!1);const f=Number(h);return ka(!isNaN(f)),new zx(f,r.size(),d==="final")}const s="POST",o=t.maxUploadRetryTime,l=new ro(n,s,a,o);return l.headers=i,l.errorHandler=sf(e),l}const y4=256*1024;function $me(t,e,n,r,i,a,s,o){const l=new zx(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw tme();const c=l.total-l.current;let d=c;i>0&&(d=Math.min(d,i));const h=l.current,f=h+d;let m="";d===0?m="finalize":c===d?m="upload, finalize":m="upload";const y={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":`${l.current}`},v=r.slice(h,f);if(v===null)throw H7();function x(T,N){const j=DP(T,["active","final"]),A=l.current+d,S=r.size();let I;return j==="final"?I=n_(e,a)(T,N):I=null,new zx(A,S,j==="final",I)}const b="POST",w=e.maxUploadRetryTime,_=new ro(n,b,x,w);return _.headers=y,_.body=v.uploadData(),_.progressCallback=o||null,_.errorHandler=sf(t),_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qme={STATE_CHANGED:"state_changed"},Er={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function UE(t){switch(t){case"running":case"pausing":case"canceling":return Er.RUNNING;case"paused":return Er.PAUSED;case"success":return Er.SUCCESS;case"canceled":return Er.CANCELED;case"error":return Er.ERROR;default:return Er.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hme{constructor(e,n,r){if(lme(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class Gme{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Oc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Oc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Oc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw nm("cannot .send() more than once");if(Pl(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Kme extends Gme{initXhr(){this.xhr_.responseType="text"}}function ba(){return new Kme}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=t_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(wt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(Y7(i.status,[]))if(a)i=$7();else{this.sleepTime=Math.max(this.sleepTime*2,Gfe),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(wt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=Bme(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ba,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=Fme(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,ba,n,r);this._request=a,a.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=y4*this._chunkMultiplier,n=new zx(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let s;try{s=$me(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const o=this._ref.storage._makeRequest(s,ba,i,a,!1);this._request=o,o.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){y4*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=n$(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ba,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=zme(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ba,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=q7(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=UE(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const a=new Hme(n||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(UE(this._state)){case Er.SUCCESS:Hu(this._resolve.bind(null,this.snapshot))();break;case Er.CANCELED:case Er.ERROR:const n=this._reject;Hu(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(UE(this._state)){case Er.RUNNING:case Er.PAUSED:e.next&&Hu(e.next.bind(e,this.snapshot))();break;case Er.SUCCESS:e.complete&&Hu(e.complete.bind(e))();break;case Er.CANCELED:case Er.ERROR:e.error&&Hu(e.error.bind(e,this._error))();break;default:e.error&&Hu(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this._service=e,n instanceof lr?this._location=n:this._location=lr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new su(e,n)}get root(){const e=new lr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return e$(this._location.path)}get storage(){return this._service}get parent(){const e=Sme(this._location.path);if(e===null)return null;const n=new lr(this._location.bucket,e);return new su(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw K7(e)}}function Wme(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new i$(t,new as(e),n)}function Yme(t){const e={prefixes:[],items:[]};return a$(t,e).then(()=>e)}async function a$(t,e,n){const i=await s$(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await a$(t,e,i.nextPageToken)}function s$(t,e){e!=null&&typeof e.maxResults=="number"&&pA("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=Dme(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,ba)}function Qme(t){t._throwIfRoot("getMetadata");const e=n$(t.storage,t._location,t_());return t.storage.makeRequestWithTokens(e,ba)}function Xme(t,e){t._throwIfRoot("updateMetadata");const n=Lme(t.storage,t._location,e,t_());return t.storage.makeRequestWithTokens(n,ba)}function Zme(t){t._throwIfRoot("getDownloadURL");const e=Mme(t.storage,t._location,t_());return t.storage.makeRequestWithTokens(e,ba).then(n=>{if(n===null)throw nme();return n})}function Jme(t){t._throwIfRoot("deleteObject");const e=Vme(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ba)}function o$(t,e){const n=Tme(t._location.path,e),r=new lr(t._location.bucket,n);return new su(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function epe(t){return/^[A-Za-z]+:\/\//.test(t)}function tpe(t,e){return new su(t,e)}function l$(t,e){if(t instanceof MP){const n=t;if(n._bucket==null)throw eme();const r=new su(n,n._bucket);return e!=null?l$(r,e):r}else return e!==void 0?o$(t,e):t}function npe(t,e){if(e&&epe(e)){if(t instanceof MP)return tpe(t,e);throw Ud("To use ref(service, url), the first argument must be a Storage instance.")}else return l$(t,e)}function v4(t,e){const n=e==null?void 0:e[F7];return n==null?null:lr.makeFromBucketSpec(n,t)}function rpe(t,e,n,r={}){t.host=`${e}:${n}`;const i=Pl(e);i&&(KI(`https://${t.host}/b`),WI("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:O9(a,t.app.options.projectId))}class MP{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=B7,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=qfe,this._maxUploadRetryTime=Hfe,this._requests=new Set,i!=null?this._bucket=lr.makeFromBucketSpec(i,this._host):this._bucket=v4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=lr.makeFromBucketSpec(this._url,e):this._bucket=v4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(gt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new su(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new ime(G7());{const s=pme(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const x4="@firebase/storage",b4="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ipe="storage";function ape(t,e,n){return t=le(t),Wme(t,e,n)}function spe(t){return t=le(t),Qme(t)}function ope(t,e){return t=le(t),Xme(t,e)}function lpe(t,e){return t=le(t),s$(t,e)}function cpe(t){return t=le(t),Yme(t)}function upe(t){return t=le(t),Zme(t)}function dpe(t){return t=le(t),Jme(t)}function w4(t,e){return t=le(t),npe(t,e)}function hpe(t,e){return o$(t,e)}function fpe(t,e,n,r={}){rpe(t,e,n,r)}function mpe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new MP(n,r,i,e,Qs)}function ppe(){Rs(new Bi(ipe,mpe,"PUBLIC").setMultipleInstances(!0)),di(x4,b4,""),di(x4,b4,"esm2020")}ppe();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Sv(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new Sv(r,this,this._ref))},n)}on(e,n,r,i){let a;return n&&(typeof n=="function"?a=s=>n(new Sv(s,this,this._ref)):a={next:n.next?s=>n.next(new Sv(s,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)}}class E4{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new bs(e,this._service))}get items(){return this._delegate.items.map(e=>new bs(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=hpe(this._delegate,e);return new bs(n,this.storage)}get root(){return new bs(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new bs(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new _4(ape(this._delegate,e,n),this)}putString(e,n=Di.RAW,r){this._throwIfRoot("putString");const i=Q7(n,e),a={...r};return a.contentType==null&&i.contentType!=null&&(a.contentType=i.contentType),new _4(new i$(this._delegate,new as(i.data,!0),a),this)}listAll(){return cpe(this._delegate).then(e=>new E4(e,this.storage))}list(e){return lpe(this._delegate,e||void 0).then(n=>new E4(n,this.storage))}getMetadata(){return spe(this._delegate)}updateMetadata(e){return ope(this._delegate,e)}getDownloadURL(){return upe(this._delegate)}delete(){return this._throwIfRoot("delete"),dpe(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw K7(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(S4(e))throw Ud("ref() expected a child path but got a URL, use refFromURL instead.");return new bs(w4(this._delegate,e),this)}refFromURL(e){if(!S4(e))throw Ud("refFromURL() expected a full URL but got a child path, use ref() instead.");try{lr.makeFromUrl(e,this._delegate.host)}catch{throw Ud("refFromUrl() expected a valid full URL but got an invalid one.")}return new bs(w4(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){fpe(this._delegate,e,n,r)}}function S4(t){return/^[A-Za-z]+:\/\//.test(t)}const gpe="@firebase/storage-compat",ype="0.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vpe="storage-compat";function xpe(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new c$(n,r)}function bpe(t){const e={TaskState:Er,TaskEvent:qme,StringFormat:Di,Storage:c$,Reference:bs};t.INTERNAL.registerComponent(new Bi(vpe,xpe,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(gpe,ype)}bpe(et);const wpe={apiKey:"AIzaSyDzEay5fGB-2r5_V9UXOO8cOv-nJdHwDRg",authDomain:"rush-coffee.firebaseapp.com",projectId:"rush-coffee",storageBucket:"rush-coffee.appspot.com",messagingSenderId:"423413538635",appId:"1:423413538635:web:ded0369f50c3a9086bd2ce"};et.apps.length||et.initializeApp(wpe);const Ql=et.auth(),me=et.firestore(),_pe=et.storage(),u$=g.createContext(void 0),Hr=()=>{const t=g.useContext(u$);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},zE=async t=>{var i;const n=await me.collection("users").doc(t).get();if(!n.exists)throw new Error("User profile not found.");const r=n.data();return{uid:t,email:r.email,firstName:r.firstName||"User",lastName:r.lastName||"",phone:r.phone||"",photoURL:r.photoURL,createdAt:((i=r.createdAt)==null?void 0:i.toDate())||new Date,role:r.role,totalOrders:r.totalOrders??0,totalSpent:r.totalSpent??0,currentPoints:r.currentPoints??0,lifetimePoints:r.lifetimePoints??0,tier:r.tier||"bronze",rewardsHistory:(r.rewardsHistory||[]).map(a=>({...a,date:a.date.toDate()})).sort((a,s)=>s.date-a.date),preferences:r.preferences||{notifications:{push:!0,emailUpdates:!0,marketing:!1},theme:"auto",privacy:{shareUsageData:!0,personalizedRecs:!0}}}},Epe=({children:t})=>{const[e,n]=g.useState(null),[r,i]=g.useState(!0);g.useEffect(()=>{let m;const y=Ql.onAuthStateChanged(async v=>{m&&m(),v?m=me.collection("users").doc(v.uid).onSnapshot(b=>{var w;if(b.exists){const _=b.data(),T={uid:v.uid,email:v.email,firstName:_.firstName||"User",lastName:_.lastName||"",phone:_.phone||"",photoURL:_.photoURL,createdAt:((w=_.createdAt)==null?void 0:w.toDate())||new Date,role:_.role,totalOrders:_.totalOrders??0,totalSpent:_.totalSpent??0,currentPoints:_.currentPoints??0,lifetimePoints:_.lifetimePoints??0,tier:_.tier||"bronze",rewardsHistory:(_.rewardsHistory||[]).map(N=>({...N,date:N.date.toDate()})).sort((N,j)=>j.date-N.date),preferences:_.preferences||{notifications:{push:!0,emailUpdates:!0,marketing:!1},theme:"auto",privacy:{shareUsageData:!0,personalizedRecs:!0}}};n(T)}else console.log("User document not found for UID:",v.uid);i(!1)},b=>{console.error("Error listening to user document:",b),n(null),i(!1)}):(n(null),i(!1))});return()=>{y(),m&&m()}},[]);const f={currentUser:e,loading:r,register:async(m,y,v,x,b)=>{const _=(await Ql.createUserWithEmailAndPassword(m,y)).user,T={id:`rh-${Date.now()}`,type:"earned",points:25,description:"Welcome Bonus",date:new Date},N={firstName:v,lastName:x,phone:b||"",createdAt:new Date,totalOrders:0,totalSpent:0,currentPoints:25,lifetimePoints:25,tier:"bronze",rewardsHistory:[T],preferences:{notifications:{push:!0,emailUpdates:!0,marketing:!1},theme:"auto",privacy:{shareUsageData:!0,personalizedRecs:!0}},cart:[]};return await me.collection("users").doc(_.uid).set(N),zE(_.uid)},login:async(m,y,v)=>{const x=v?et.auth.Auth.Persistence.LOCAL:et.auth.Auth.Persistence.SESSION;await Ql.setPersistence(x);const b=await Ql.signInWithEmailAndPassword(m,y);return zE(b.user.uid)},logout:async()=>{await Ql.signOut()},sendPasswordReset:async m=>{await Ql.sendPasswordResetEmail(m)},signInWithGoogle:async()=>{var b;const m=new et.auth.GoogleAuthProvider,y=await Ql.signInWithPopup(m),v=y.user,x=y.additionalUserInfo;if(x!=null&&x.isNewUser){const w=((b=v.displayName)==null?void 0:b.split(" "))||["New","User"],_=w[0],T=w.slice(1).join(" ")||"",N={id:`rh-${Date.now()}`,type:"earned",points:25,description:"Welcome Bonus",date:new Date},j={firstName:_,lastName:T,photoURL:v.photoURL||void 0,createdAt:new Date,totalOrders:0,totalSpent:0,currentPoints:25,lifetimePoints:25,tier:"bronze",rewardsHistory:[N],preferences:{notifications:{push:!0,emailUpdates:!0,marketing:!1},theme:"auto",privacy:{shareUsageData:!0,personalizedRecs:!0}},cart:[]};await me.collection("users").doc(v.uid).set(j)}return zE(v.uid)},updateUserProfile:async m=>{if(!e)return;await me.collection("users").doc(e.uid).update(m)},updateUserPhoto:async m=>{if(!e)return;await me.collection("users").doc(e.uid).update({photoURL:m})}};return u.jsx(u$.Provider,{value:f,children:!r&&t})},be=t=>`/RushCoffee-Capstone/${t}`,A0=[{id:"cb-01",name:"Spanish Latte",description:"A creamy and sweet latte with a Spanish twist, featuring condensed milk for a rich flavor.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:be("coffee-based/spanish-latte.png"),available:!0,stock:99,popular:!0,displayOrder:1,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:150},{ingredientId:"condensed-milk",quantity:30}]},{id:"cb-02",name:"Rush Coffee Blend",description:"Our signature house blend, perfectly balanced for a smooth and satisfying coffee experience.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:89}],imageUrl:be("coffee-based/rush-coffee-blend.png"),available:!0,stock:99,popular:!0,displayOrder:2,recipe:[{ingredientId:"coffee-beans",quantity:18},{ingredientId:"hot-water",quantity:200}]},{id:"cb-03",name:"Caramel Chocolate Mocha",description:"A decadent mix of rich chocolate, espresso, and creamy caramel for the ultimate treat.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:be("coffee-based/caramel-chocolate-mocha.jpg"),available:!0,stock:99,popular:!0,displayOrder:3,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:150},{ingredientId:"chocolate-sauce",quantity:20},{ingredientId:"caramel-sauce",quantity:15}]},{id:"cb-04",name:"Dark Chocolate Mocha",description:"A bold and intense mocha experience with premium dark chocolate and strong espresso.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:be("coffee-based/dark-chocolate-mocha.jpg"),available:!0,stock:99,displayOrder:4,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:150},{ingredientId:"chocolate-sauce",quantity:25}]},{id:"cb-05",name:"Mocha Latte",description:"A classic blend of smooth espresso, rich chocolate sauce, and steamed milk.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:be("coffee-based/mocha-latte.jpg"),available:!0,stock:99,displayOrder:5,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:180},{ingredientId:"chocolate-sauce",quantity:20}]},{id:"cb-06",name:"Americano",description:"Bold espresso shots topped with hot water to create a light layer of crema.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:be("coffee-based/americano.jpg"),available:!0,stock:99,displayOrder:6,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"hot-water",quantity:220}]},{id:"cb-07",name:"Biscoff Latte",description:"An indulgent latte infused with the irresistible flavor of caramelized Biscoff cookies.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:99},{name:"Venti",size:"22oz",price:199}],imageUrl:be("coffee-based/biscoff-latte.jpg"),available:!0,stock:99,displayOrder:7,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:170},{ingredientId:"biscoff-spread",quantity:30}]},{id:"cb-08",name:"Reeses Latte",description:"The perfect combination of peanut butter, chocolate, and espresso. A candy lover's dream.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:be("coffee-based/reeses-latte.jpg"),available:!0,stock:99,displayOrder:8,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:160},{ingredientId:"chocolate-sauce",quantity:15},{ingredientId:"peanut-butter",quantity:20}]},{id:"cb-09",name:"Brown Sugar Latte",description:"A comforting latte sweetened with rich, molasses-like brown sugar syrup.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:79}],imageUrl:be("coffee-based/brown-sugar-latte.jpg"),available:!0,stock:99,displayOrder:9,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:180},{ingredientId:"brown-sugar-syrup",quantity:25}]},{id:"cb-10",name:"Iced Latte",description:"A simple classic. Chilled espresso with cold milk served over ice.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:69}],imageUrl:be("coffee-based/iced-latte.jpg"),available:!0,stock:99,displayOrder:10,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:180},{ingredientId:"ice-cubes",quantity:100}]},{id:"cb-11",name:"Orange Latte",description:"A unique and refreshing latte with a zesty hint of natural orange flavor.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:89}],imageUrl:be("coffee-based/orange-latte.jpg"),available:!0,stock:99,displayOrder:11,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:170},{ingredientId:"orange-syrup",quantity:20}]},{id:"cb-12",name:"Coffee Jelly",description:"A delightful iced coffee drink with chewy, coffee-flavored jelly cubes.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:99}],imageUrl:be("coffee-based/coffee-jelly.jpg"),available:!0,stock:99,displayOrder:12,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:150},{ingredientId:"coffee-jelly",quantity:80},{ingredientId:"ice-cubes",quantity:80}]},{id:"nc-01",name:"Red Velvet",description:"A sweet and creamy drink inspired by the classic red velvet cake, with hints of cocoa and vanilla.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:be("non-coffee/red-velvet.jpg"),available:!0,stock:99,displayOrder:13,recipe:[{ingredientId:"milk",quantity:200},{ingredientId:"red-velvet-powder",quantity:25},{ingredientId:"chocolate-sauce",quantity:10},{ingredientId:"vanilla-syrup",quantity:15}]},{id:"nc-02",name:"Red Velvet Matcha Latte",description:"A beautiful and delicious blend of earthy matcha and sweet red velvet flavors.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:be("non-coffee/red-velvet-matcha-latte.jpg"),available:!0,stock:99,displayOrder:14,recipe:[{ingredientId:"milk",quantity:180},{ingredientId:"matcha-powder",quantity:5},{ingredientId:"red-velvet-powder",quantity:15},{ingredientId:"vanilla-syrup",quantity:10}]},{id:"nc-03",name:"Milky Choco",description:"A rich and comforting chocolate drink made with high-quality cocoa and fresh milk.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:be("non-coffee/milky-choco.jpg"),available:!0,stock:99,displayOrder:15,recipe:[{ingredientId:"milk",quantity:220},{ingredientId:"chocolate-sauce",quantity:30}]},{id:"nc-04",name:"Strawberry Milk",description:"A refreshing and creamy drink made with real strawberries and fresh milk.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:be("non-coffee/strawberry-milk.jpg"),available:!0,stock:99,displayOrder:16,recipe:[{ingredientId:"milk",quantity:200},{ingredientId:"strawberry-puree",quantity:50}]},{id:"nc-05",name:"Biscoff Milky",description:"A non-coffee treat blending the sweet, caramelized taste of Biscoff with creamy milk.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:be("non-coffee/biscoff-milky.jpg"),available:!0,stock:99,displayOrder:17,recipe:[{ingredientId:"milk",quantity:200},{ingredientId:"biscoff-spread",quantity:35}]},{id:"nc-06",name:"Oreo Latte",description:"A fun and delicious drink packed with the classic cookies and cream flavor of Oreos.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:be("non-coffee/oreo-latte.jpg"),available:!0,stock:99,displayOrder:18,recipe:[{ingredientId:"milk",quantity:180},{ingredientId:"oreo-crumbs",quantity:40},{ingredientId:"chocolate-sauce",quantity:15}]},{id:"ms-01",name:"Matcha Latte",description:"Premium Japanese matcha green tea with steamed milk, a perfect balance of earthy and creamy.",category:"Matcha Series",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:89}],imageUrl:be("matcha-series/matcha-latte.jpg"),available:!0,stock:99,popular:!0,displayOrder:19,recipe:[{ingredientId:"matcha-powder",quantity:5},{ingredientId:"milk",quantity:200}]},{id:"ms-02",name:"Strawberry Matcha",description:"A delightful pairing of sweet strawberry puree and high-quality matcha green tea.",category:"Matcha Series",sizes:[{name:"Grande",size:"16oz",price:99},{name:"Venti",size:"22oz",price:109}],imageUrl:be("matcha-series/strawberry-matcha.jpg"),available:!0,stock:99,displayOrder:20,recipe:[{ingredientId:"matcha-powder",quantity:5},{ingredientId:"milk",quantity:180},{ingredientId:"strawberry-puree",quantity:40}]},{id:"ms-03",name:"Matcha Cream Cheese",description:"Earthy matcha topped with a rich, savory, and slightly sweet cream cheese foam.",category:"Matcha Series",sizes:[{name:"Grande",size:"16oz",price:99},{name:"Venti",size:"22oz",price:109}],imageUrl:be("matcha-series/matcha-cream-cheese.jpg"),available:!0,stock:99,displayOrder:21,recipe:[{ingredientId:"matcha-powder",quantity:5},{ingredientId:"milk",quantity:180},{ingredientId:"cream-cheese",quantity:30}]},{id:"ms-04",name:"Matcha Oreo",description:"A creative blend of matcha and crushed Oreo cookies for a unique texture and flavor.",category:"Matcha Series",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:be("matcha-series/matcha-oreo.jpg"),available:!0,stock:99,displayOrder:22,recipe:[{ingredientId:"matcha-powder",quantity:5},{ingredientId:"milk",quantity:180},{ingredientId:"oreo-crumbs",quantity:35}]},{id:"rf-01",name:"Flamangooverload Shake",description:"An explosive mix of flamingo and mango for an overload of fruity goodness.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:be("refreshments/flamangooverload.jpg"),available:!0,stock:99,displayOrder:23,recipe:[{ingredientId:"mango-puree",quantity:100},{ingredientId:"strawberry-puree",quantity:50},{ingredientId:"ice-cubes",quantity:120},{ingredientId:"milk",quantity:80}]},{id:"rf-02",name:"Mangoberry Shake",description:"A delightful blend of sweet mangoes and tangy berries, perfectly refreshing.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:be("refreshments/mangoberry.jpg"),available:!0,stock:99,displayOrder:24,recipe:[{ingredientId:"mango-puree",quantity:80},{ingredientId:"mixed-berries",quantity:50},{ingredientId:"ice-cubes",quantity:120},{ingredientId:"milk",quantity:80}]},{id:"rf-03",name:"Mango Caramel Shake",description:"Creamy mango shake drizzled with rich, buttery caramel sauce.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:be("refreshments/mango-caramel.jpg"),available:!0,stock:99,displayOrder:25,recipe:[{ingredientId:"mango-puree",quantity:100},{ingredientId:"caramel-sauce",quantity:20},{ingredientId:"ice-cubes",quantity:120},{ingredientId:"milk",quantity:80}]},{id:"rf-04",name:"Blueberry Shake",description:"A classic fruit shake made with sweet and juicy blueberries.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:be("refreshments/blueberry-shake.jpg"),available:!0,stock:99,displayOrder:26,recipe:[{ingredientId:"blueberry-puree",quantity:100},{ingredientId:"ice-cubes",quantity:120},{ingredientId:"milk",quantity:100}]},{id:"rf-05",name:"Strawberry Shake",description:"A creamy and delicious shake made with ripe, sweet strawberries.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:be("refreshments/strawberry-shake.jpg"),available:!0,stock:99,displayOrder:27,recipe:[{ingredientId:"strawberry-puree",quantity:100},{ingredientId:"ice-cubes",quantity:120},{ingredientId:"milk",quantity:100}]},{id:"rf-06",name:"Green Apple Shake",description:"A tart and refreshing shake with the crisp taste of green apples.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:be("refreshments/green-apple-shake.jpg"),available:!0,stock:99,displayOrder:28,recipe:[{ingredientId:"green-apple-puree",quantity:100},{ingredientId:"ice-cubes",quantity:120},{ingredientId:"milk",quantity:100}]},{id:"rf-07",name:"Blueberry Soda Pop",description:"Fizzy and fun, this soda pop is bursting with sweet blueberry flavor.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:be("refreshments/blueberry-soda.jpg"),available:!0,stock:99,displayOrder:29,recipe:[{ingredientId:"blueberry-puree",quantity:60},{ingredientId:"soda-water",quantity:200},{ingredientId:"ice-cubes",quantity:100}]},{id:"rf-08",name:"Strawberry Soda Pop",description:"A refreshing soda pop with the sweet taste of summer strawberries.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:be("refreshments/strawberry-soda.jpg"),available:!0,stock:99,displayOrder:30,recipe:[{ingredientId:"strawberry-puree",quantity:60},{ingredientId:"soda-water",quantity:200},{ingredientId:"ice-cubes",quantity:100}]},{id:"rf-09",name:"Green Apple Soda Pop",description:"A crisp and bubbly soda with a tangy green apple twist.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:be("refreshments/green-apple-soda.jpg"),available:!0,stock:99,displayOrder:31,recipe:[{ingredientId:"green-apple-puree",quantity:60},{ingredientId:"soda-water",quantity:200},{ingredientId:"ice-cubes",quantity:100}]},{id:"rf-10",name:"Lemon Soda Pop",description:"A zesty and invigorating soda pop with a classic lemon flavor.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:be("refreshments/lemon-soda.jpg"),available:!0,stock:99,displayOrder:32,recipe:[{ingredientId:"lemon-juice",quantity:60},{ingredientId:"soda-water",quantity:200},{ingredientId:"ice-cubes",quantity:100}]},{id:"rf-11",name:"Lychee Soda Pop",description:"An exotic and fragrant soda pop with the sweet, floral taste of lychee.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:be("refreshments/lychee-soda.jpg"),available:!0,stock:99,displayOrder:33,recipe:[{ingredientId:"lychee-syrup",quantity:60},{ingredientId:"soda-water",quantity:200},{ingredientId:"ice-cubes",quantity:100}]},{id:"rf-12",name:"Mango Soda Pop",description:"A tropical and bubbly soda bursting with sweet mango flavor.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:be("refreshments/mango-soda.jpg"),available:!0,stock:99,displayOrder:34,recipe:[{ingredientId:"mango-puree",quantity:60},{ingredientId:"soda-water",quantity:200},{ingredientId:"ice-cubes",quantity:100}]},{id:"ml-01",name:"Breaded Bacon",description:"Crispy breaded bacon served with creamy white sauce and golden fries.",category:"Meals",sizes:[{name:"Ala Carte",size:"w/ Fries",price:119},{name:"Combo Meal",size:"w/ Fries & Drink",price:139}],imageUrl:be("menu/ala-carte-breaded-bacon-with-white-sauce and fries.jpg"),comboImageUrl:be("menu/combo-meals-breaded-bacon-with-white-sauce,-fries-and-a-drink.jpg"),available:!0,stock:99,popular:!0,displayOrder:35,recipe:[{ingredientId:"bacon-strips",quantity:3},{ingredientId:"bread-crumbs",quantity:50},{ingredientId:"french-fries",quantity:1},{ingredientId:"white-sauce",quantity:30},{ingredientId:"cooking-oil",quantity:100}]},{id:"ml-02",name:"Breaded Porkchop",description:"A juicy breaded porkchop fried to perfection, served with white sauce and fries.",category:"Meals",sizes:[{name:"Ala Carte",size:"w/ Fries",price:129},{name:"Combo Meal",size:"w/ Fries & Drink",price:149}],imageUrl:be("menu/ala-carte-breaded-porkchop-with-white-sauce-and-fries.jpg"),comboImageUrl:be("menu/combo-meals-breaded-porkchop-with-white-sauce-and-fries-w-drink.jpg"),available:!0,stock:99,popular:!0,displayOrder:36,recipe:[{ingredientId:"porkchop",quantity:1},{ingredientId:"bread-crumbs",quantity:60},{ingredientId:"french-fries",quantity:1},{ingredientId:"white-sauce",quantity:30},{ingredientId:"cooking-oil",quantity:120}]},{id:"ml-03",name:"Breaded Chicken",description:"Tender breaded chicken fillet with a side of fries and our signature white sauce.",category:"Meals",sizes:[{name:"Ala Carte",size:"w/ Fries",price:119},{name:"Combo Meal",size:"w/ Fries & Drink",price:139}],imageUrl:be("menu/ala-carte-chicken-with-white-sauce-and-fries.jpg"),comboImageUrl:be("menu/combo-meals-breaded-chicken-with-white-sauce,-fries-and-a-drink.jpg"),available:!0,stock:99,displayOrder:37,recipe:[{ingredientId:"chicken-fillet",quantity:1},{ingredientId:"bread-crumbs",quantity:55},{ingredientId:"french-fries",quantity:1},{ingredientId:"white-sauce",quantity:30},{ingredientId:"cooking-oil",quantity:110}]}],d$=g.createContext(void 0),of=()=>{const t=g.useContext(d$);if(!t)throw new Error("useProduct must be used within a ProductProvider");return t},Spe=({children:t})=>{const[e,n]=g.useState([]),[r,i]=g.useState(!0),[a,s]=g.useState(null),o=g.useCallback(async()=>{i(!0),s(null);try{const f=me.collection("products"),m=f.orderBy("displayOrder","asc"),y=await m.get();if(y.empty){console.log("Products collection is empty. Seeding products with specific IDs...");const x=me.batch();A0.forEach(_=>{const{id:T,...N}=_,j=f.doc(T);x.set(j,N)}),await x.commit(),console.log(`Successfully seeded ${A0.length} products to Firestore!`);const w=(await m.get()).docs.map(_=>({id:_.id,..._.data()}));n(w);return}const v=y.docs.map(x=>({id:x.id,...x.data()}));n(v)}catch(f){f.code==="permission-denied"?console.info("Firestore permission denied. This is expected if security rules are not yet configured or if you are offline. Falling back to mock data for demonstration."):console.warn("Error fetching products from Firestore. Falling back to mock data.",f),n(A0),s(null)}finally{i(!1)}},[]);g.useEffect(()=>{o()},[o]);const h={products:e,isLoading:r,error:a,addProduct:async f=>{try{await me.collection("products").add(f),await o()}catch(m){throw console.error("Error adding product: ",m),new Error("Failed to add product.")}},updateProduct:async(f,m)=>{try{await me.collection("products").doc(f).update(m),await o()}catch(y){throw console.error("Error updating product: ",y),new Error("Failed to update product.")}},deleteProduct:async f=>{try{await me.collection("products").doc(f).delete(),await o()}catch(m){throw console.error("Error deleting product: ",m),new Error("Failed to delete product.")}}};return u.jsx(d$.Provider,{value:h,children:t})},h$=g.createContext(void 0),pr=()=>{const t=g.useContext(h$);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t},Tpe=({children:t})=>{const[e,n]=g.useState([]),[r,i]=g.useState(!1),[a,s]=g.useState(null),[o,l]=g.useState(!0),{currentUser:c}=Hr(),{products:d,isLoading:h}=of();g.useEffect(()=>{if(a){const A=setTimeout(()=>s(null),4e3);return()=>clearTimeout(A)}},[a]);const f=g.useCallback(A=>{s(A)},[]);g.useEffect(()=>{c?(async()=>{var S;if(!(!c||h)){l(!0);try{const C=await me.collection("users").doc(c.uid).get();if(C.exists){const R=(((S=C.data())==null?void 0:S.cart)||[]).map(O=>{const M=d.find(F=>F.id===O.productId);if(!M)return null;const H=M.sizes.find(F=>F.name===O.sizeName);return H?{id:`${M.id}-${H.name}`,product:M,selectedSize:H,quantity:O.quantity}:null}).filter(O=>O!==null);n(R)}}catch(I){console.error("Error fetching cart from Firestore:",I),f("Couldn't load your cart.")}finally{l(!1)}}})():(n([]),l(!1))},[c,d,h,f]);const m=g.useCallback(async A=>{if(c)try{const S=me.collection("users").doc(c.uid),I=A.map(C=>({productId:C.product.id,sizeName:C.selectedSize.name,quantity:C.quantity}));await S.update({cart:I})}catch(S){console.error("Error updating Firestore cart:",S),f("Error saving your cart.")}},[c,f]),y=g.useMemo(()=>e.reduce((A,S)=>A+S.quantity,0),[e]),v=()=>i(!0),j={cartItems:e,isCartOpen:r,toastMessage:a,totalCartItems:y,isCartLoading:o,addToCart:(A,S)=>{const I=`${A.id}-${S.name}`;let C;e.find(R=>R.id===I)?C=e.map(R=>R.id===I?{...R,quantity:Math.min(R.quantity+1,A.stock)}:R):C=[...e,{id:I,product:A,selectedSize:S,quantity:1}],n(C),m(C),f(`${A.name} (${S.name}) added to cart!`),v()},addMultipleToCart:A=>{if(!A||A.length===0)return;let S=[...e],I=0;A.forEach(C=>{const k=`${C.product.id}-${C.selectedSize.name}`,R=S.findIndex(O=>O.id===k);if(R>-1){const O=S[R],M=O.quantity+C.quantity;S[R]={...O,quantity:Math.min(M,C.product.stock)}}else S.push({id:k,product:C.product,selectedSize:C.selectedSize,quantity:Math.min(C.quantity,C.product.stock)});I+=C.quantity}),n(S),m(S),f(`${I} item(s) added to your cart!`),v()},updateQuantity:(A,S)=>{let I;S<1?I=e.filter(C=>C.id!==A):I=e.map(C=>C.id===A?{...C,quantity:Math.min(S,C.product.stock)}:C),n(I),m(I)},removeFromCart:A=>{const S=e.find(C=>C.id===A),I=e.filter(C=>C.id!==A);n(I),m(I),S&&f(`${S.product.name} (${S.selectedSize.name}) removed from cart.`)},openCart:v,closeCart:()=>i(!1),showToast:f,clearCart:()=>{n([]),m([])}};return u.jsx(h$.Provider,{value:j,children:t})},vn=({className:t,...e})=>u.jsxs("svg",{viewBox:"0 0 241 175",xmlns:"http://www.w3.org/2000/svg",className:t,fill:"currentColor",...e,children:[u.jsx("path",{d:"M153.092 78.5C178.275 50.84 210.393 19.4076 222.5 17.5C234.607 15.5924 239.5 30 239.5 30C239.5 30 244.137 46.596 236.388 72.8253C228.64 99.0547 199 128.5 199 128.5C199 128.5 177.5 152.5 147.5 167C147.5 167 114.686 183.001 104.889 169.159C95.0912 155.316 127.909 106.16 153.092 78.5Z"}),u.jsx("path",{d:"M8.99445 86.0801C8.99445 86.0801 -16.2682 31.1886 17.8826 14.4198C33.7618 9.56756 76 55.675 76 64.5C76 70 63.7899 86.337 59 101.5C54.887 114.52 55.557 134.266 52.0896 135.774C48.0468 137.533 37.3644 137.835 8.99445 86.0801Z"}),u.jsx("path",{d:"M47 12.5C41.0274 7.52362 41.5502 -7.59339e-06 52.5 0C63.4498 7.5934e-06 69.3348 2.24286 82.0884 7.45282C95.3718 12.8792 105.888 16.4103 109.463 23.875C111.5 32.5 107.979 33.026 103.5 38.5C99.0205 43.9741 96 44.1666 91 43.5C83.5342 42.5047 52.9726 17.4764 47 12.5Z"}),u.jsx("path",{d:"M200.048 20.8891C212.988 11.4339 207.491 2.52815 200.048 2.97405C192.604 3.41995 127.379 9.72972 89.5542 67.6673C85.4261 73.9905 72.4385 95.2439 69.1452 112.455C65.6022 130.971 65.8681 149.097 73.6272 157.74C81.0528 166.012 88.1891 164.145 92.2823 156.482C96.4277 148.721 97.4982 135.065 100.004 127.882C104.983 113.605 104.907 116.382 109.393 106.379C114.278 95.4879 120.938 86.2377 126.993 78.4363C154.543 42.9442 190.775 27.6646 200.048 20.8891Z"})]}),Ape=[{href:"/",label:"Home"},{href:"/about",label:"About"},{href:"/menu",label:"Menu"},{href:"/contact",label:"Contact"}],Npe=[{href:"/menu",label:"Menu"},{href:"/queue",label:"Queue"},{href:"/rewards",label:"Rewards"}],T4=[{href:"/profile",label:"My Profile",Icon:ks},{href:"/rewards",label:"My Rewards",Icon:Cp},{href:"/about",label:"About",Icon:Pne},{href:"/contact",label:"Contact",Icon:js}],dn=()=>{const[t,e]=g.useState(!1),[n,r]=g.useState(!1),i=g.useRef(null),{currentUser:a,logout:s}=Hr(),{totalCartItems:o,openCart:l}=pr(),c=Ki(),d=a?Npe:Ape,h=()=>e(!1);g.useEffect(()=>{const x=b=>{i.current&&!i.current.contains(b.target)&&r(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]),g.useEffect(()=>{const x=()=>{window.innerWidth>=768&&e(!1)};return window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]),g.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]);const f=async()=>{await s(),h(),r(!1),c("/")},m=()=>e(!t),y=(x=!1)=>{const b="rounded-full text-sm font-semibold transition-colors",w="block w-full text-center py-3 text-base",_="px-6 py-2",T=x?h:void 0;return a?u.jsxs("div",{className:`relative ${x?"w-full":""}`,ref:i,children:[u.jsxs("button",{onClick:()=>r(!n),className:`flex w-full items-center justify-center gap-2 rounded-full border border-primary-600 px-4 py-2 text-sm font-semibold text-primary-600 transition-colors hover:bg-primary-50 ${x?"text-base":""}`,"aria-haspopup":"true","aria-expanded":n,children:[u.jsxs("span",{children:["Welcome, ",a.firstName,"!"]}),u.jsx(Hh,{className:`h-4 w-4 transition-transform ${n?"rotate-180":""}`})]}),n&&!x&&u.jsx("div",{className:"absolute right-0 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:u.jsxs("div",{className:"py-1",role:"menu","aria-orientation":"vertical",children:[T4.map(N=>u.jsxs(Si,{to:N.href,onClick:()=>r(!1),className:({isActive:j})=>`flex items-center gap-3 px-4 py-2 text-sm transition-colors hover:bg-gray-100 ${j?"text-primary-600 font-semibold":"text-gray-700"}`,role:"menuitem",children:[u.jsx(N.Icon,{className:"h-4 w-4"}),N.label]},N.label)),a.role==="admin"&&u.jsxs(u.Fragment,{children:[u.jsx("hr",{className:"my-1"}),u.jsxs(Si,{to:"/admin",onClick:()=>r(!1),className:"flex items-center gap-3 px-4 py-2 text-sm font-semibold text-yellow-700 transition-colors hover:bg-yellow-50",role:"menuitem",children:[u.jsx(jp,{className:"h-4 w-4"}),"Admin Dashboard"]})]}),u.jsx("hr",{className:"my-1"}),u.jsxs("button",{onClick:f,className:"flex w-full items-center gap-3 px-4 py-2 text-left text-sm text-red-600 transition-colors hover:bg-red-50",role:"menuitem",children:[u.jsx(hx,{className:"h-4 w-4"}),"Logout"]})]})})]}):u.jsxs("div",{className:`flex items-center ${x?"flex-col space-y-3":"gap-4"}`,children:[u.jsx(Si,{to:"/auth/login",onClick:T,className:`${b} border border-primary-600 text-primary-600 hover:bg-primary-50 ${x?w:_}`,children:"Login"}),u.jsx(Si,{to:"/auth/register",onClick:T,className:`${b} bg-primary-600 text-white shadow-sm hover:bg-primary-700 ${x?w:_}`,children:"Sign Up"})]})},v=()=>u.jsxs("button",{onClick:l,className:"relative rounded-full p-2 text-gray-700 transition hover:bg-gray-100","aria-label":`Open cart with ${o} items`,children:[u.jsx(FI,{className:"h-6 w-6"}),o>0&&u.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-xs font-bold text-white","aria-hidden":"true",children:o})]});return u.jsxs(u.Fragment,{children:[u.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-gray-200/80 bg-white/95 shadow-md backdrop-blur-sm",children:u.jsxs("div",{className:"container mx-auto flex h-16 items-center justify-between px-4 sm:h-20 sm:px-6 lg:px-8",children:[u.jsxs(Si,{to:"/",className:"flex items-center gap-2 flex-shrink-0",children:[u.jsx(vn,{className:"h-7 w-7 text-primary-600 sm:h-8 sm:w-8"}),u.jsx("span",{className:"text-lg font-bold text-primary-600 whitespace-nowrap sm:text-2xl",children:"Rush Coffee"})]}),u.jsx("nav",{className:"hidden items-center justify-center space-x-8 md:flex",children:d.map(x=>u.jsx(Si,{to:x.href,className:({isActive:b})=>`relative text-sm font-normal uppercase transition-colors hover:text-primary-600 ${b?"text-primary-600":"text-gray-700"} after:absolute after:bottom-0 after:left-0 after:h-[1px] after:w-full after:origin-center after:transform after:bg-primary-600 after:transition-transform after:duration-300 ${b?"after:scale-x-100":"after:scale-x-0"} hover:after:scale-x-100`,children:x.label},x.label))}),u.jsxs("div",{className:"hidden items-center justify-end gap-2 md:flex",children:[y(),a&&u.jsx(v,{})]}),u.jsxs("div",{className:"flex items-center justify-end gap-2 md:hidden",children:[a&&u.jsx(v,{}),u.jsx("button",{onClick:m,className:"rounded-md p-2 text-gray-700 transition hover:bg-gray-100","aria-label":"Toggle menu","aria-expanded":t,children:u.jsx(zI,{className:"h-6 w-6"})})]})]})}),u.jsxs("div",{className:`fixed inset-0 z-40 md:hidden ${t?"pointer-events-auto":"pointer-events-none"}`,children:[u.jsx("div",{className:`absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300 ${t?"opacity-100":"opacity-0"}`,onClick:h,"aria-hidden":"true"}),u.jsxs("div",{className:`absolute top-0 right-0 h-full w-4/5 max-w-sm transform bg-white shadow-2xl transition-transform duration-300 ease-out ${t?"translate-x-0":"translate-x-full"}`,role:"dialog","aria-modal":"true","aria-labelledby":"mobile-menu-title",children:[u.jsxs("div",{className:"flex items-center justify-between border-b p-4",children:[u.jsxs(Si,{to:"/",className:"flex items-center gap-2",onClick:h,children:[u.jsx(vn,{className:"h-7 w-7 text-primary-600"}),u.jsx("span",{id:"mobile-menu-title",className:"text-xl font-bold text-primary-600",children:"Rush Coffee"})]}),u.jsx("button",{onClick:h,className:"rounded-full p-2 text-gray-500 transition hover:bg-gray-100 hover:text-gray-700","aria-label":"Close menu",children:u.jsx(Ys,{className:"h-6 w-6"})})]}),u.jsxs("nav",{className:"flex flex-1 flex-col gap-2 overflow-y-auto p-4",children:[d.map(x=>u.jsx(Si,{to:x.href,onClick:h,className:({isActive:b})=>`rounded-xl px-4 py-3 text-lg font-medium transition-all ${b?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:x.label},x.label)),a&&u.jsxs("div",{className:"mt-4 border-t pt-4",children:[u.jsx("p",{className:"mb-2 px-4 text-xs font-semibold uppercase tracking-wider text-gray-400",children:"Account"}),T4.map(x=>u.jsxs(Si,{to:x.href,onClick:h,className:({isActive:b})=>`flex items-center gap-3 rounded-xl px-4 py-3 text-base font-medium transition-all ${b?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[u.jsx(x.Icon,{className:"h-5 w-5"}),x.label]},x.label)),a.role==="admin"&&u.jsxs(Si,{to:"/admin",onClick:h,className:({isActive:x})=>`flex items-center gap-3 rounded-xl px-4 py-3 text-base font-medium transition-all ${x?"bg-yellow-50 text-yellow-800":"text-yellow-700 hover:bg-yellow-50"}`,children:[u.jsx(jp,{className:"h-5 w-5"}),"Admin Dashboard"]})]})]}),u.jsx("div",{className:"border-t p-4",children:a?u.jsxs("button",{onClick:f,className:"flex w-full items-center justify-center gap-2 rounded-xl bg-red-50 px-6 py-3 text-base font-semibold text-red-600 transition-colors hover:bg-red-100",children:[u.jsx(hx,{className:"h-5 w-5"}),"Logout"]}):y(!0)})]})]})]})},hn=()=>u.jsxs("footer",{className:"relative bg-coffee-900 text-coffee-200",children:[u.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-5"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),u.jsxs("div",{className:"container relative z-10 mx-auto grid grid-cols-2 gap-8 px-6 py-12 md:grid-cols-2 lg:grid-cols-4",children:[u.jsxs("div",{className:"col-span-2 space-y-4 md:col-span-1 lg:col-span-1",children:[u.jsxs(De,{to:"/",className:"flex items-center gap-2",children:[u.jsx(vn,{className:"h-8 w-8 text-primary-500"}),u.jsx("span",{className:"font-display text-2xl font-bold text-white",children:"Rush Coffee"})]}),u.jsx("p",{className:"font-medium text-white",children:"Premium coffee, no waiting."}),u.jsx("p",{className:"text-sm leading-relaxed text-coffee-200/80",children:"Join the digital queue and get your coffee fix faster than ever. Experience the future of coffee ordering."})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"mb-6 font-display text-lg font-bold text-white",children:"Quick Links"}),u.jsxs("ul",{className:"space-y-3",children:[u.jsx("li",{children:u.jsx(De,{to:"/",className:"transition-colors hover:text-primary-400 hover:underline",children:"Home"})}),u.jsx("li",{children:u.jsx(De,{to:"/about",className:"transition-colors hover:text-primary-400 hover:underline",children:"About Us"})}),u.jsx("li",{children:u.jsx(De,{to:"/menu",className:"transition-colors hover:text-primary-400 hover:underline",children:"Menu"})}),u.jsx("li",{children:u.jsx(De,{to:"/faq",className:"transition-colors hover:text-primary-400 hover:underline",children:"FAQ"})}),u.jsx("li",{children:u.jsx(De,{to:"/contact",className:"transition-colors hover:text-primary-400 hover:underline",children:"Contact"})})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"mb-6 font-display text-lg font-bold text-white",children:"Legal"}),u.jsxs("ul",{className:"space-y-3",children:[u.jsx("li",{children:u.jsx(De,{to:"/terms",className:"transition-colors hover:text-primary-400 hover:underline",children:"Terms of Service"})}),u.jsx("li",{children:u.jsx(De,{to:"/privacy",className:"transition-colors hover:text-primary-400 hover:underline",children:"Privacy Policy"})}),u.jsx("li",{children:u.jsx(De,{to:"/cookies",className:"transition-colors hover:text-primary-400 hover:underline",children:"Cookie Policy"})})]})]}),u.jsxs("div",{className:"col-span-2 md:col-span-1 lg:col-span-1",children:[u.jsx("h3",{className:"mb-6 font-display text-lg font-bold text-white",children:"Contact & Connect"}),u.jsx("address",{className:"not-italic",children:u.jsxs("ul",{className:"space-y-4",children:[u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx(UI,{className:"mt-1 h-5 w-5 flex-shrink-0 text-primary-500"}),u.jsx("span",{children:"123 Coffee Street, Manila"})]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(js,{className:"h-5 w-5 flex-shrink-0 text-primary-500"}),u.jsx("a",{href:"tel:+639171234567",className:"transition-colors hover:text-white",children:"+63 917 123 4567"})]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(Ma,{className:"h-5 w-5 flex-shrink-0 text-primary-500"}),u.jsx("a",{href:"mailto:hello@rushcoffee.ph",className:"transition-colors hover:text-white",children:"hello@rushcoffee.ph"})]})]})}),u.jsxs("div",{className:"mt-8 flex gap-4",children:[u.jsx("a",{href:"#","aria-label":"Facebook",className:"rounded-full bg-white/5 p-2 transition-colors hover:bg-primary-600 hover:text-white",children:u.jsx(b9,{className:"h-5 w-5"})}),u.jsx("a",{href:"#","aria-label":"Instagram",className:"rounded-full bg-white/5 p-2 transition-colors hover:bg-primary-600 hover:text-white",children:u.jsx(w9,{className:"h-5 w-5"})}),u.jsx("a",{href:"#","aria-label":"Twitter",className:"rounded-full bg-white/5 p-2 transition-colors hover:bg-primary-600 hover:text-white",children:u.jsx(P9,{className:"h-5 w-5"})})]})]})]}),u.jsx("div",{className:"relative z-10 border-t border-white/10 bg-black/20",children:u.jsxs("div",{className:"container mx-auto flex flex-col items-center justify-between gap-4 px-6 py-6 text-center text-sm text-coffee-300 sm:flex-row",children:[u.jsxs("p",{children:[" ",new Date().getFullYear()," Rush Coffee. All rights reserved."]}),u.jsxs("p",{className:"flex items-center gap-1",children:["Made with ",u.jsx("span",{className:"text-red-500",children:""})," and ",u.jsx("span",{className:"text-amber-500",children:""})]})]})})]}),Ipe=[{Icon:wu,title:"Live Queue Updates",description:"Track your position in real-time and know exactly when your coffee will be ready. No more waiting around!",iconBgColor:"bg-primary-100",iconTextColor:"text-primary-600"},{Icon:vn,title:"Order Ahead",description:"Browse our menu, customize your drink, and order from anywhere. Your coffee, your way.",iconBgColor:"bg-coffee-100",iconTextColor:"text-coffee-800"},{Icon:Cp,title:"Loyalty Rewards",description:"Earn points with every purchase and redeem for free drinks and exclusive perks.",iconBgColor:"bg-green-100",iconTextColor:"text-green-600"},{Icon:C9,title:"Multiple Payment Options",description:"Pay with GCash or cash on pickupwhatever works best for you.",iconBgColor:"bg-blue-100",iconTextColor:"text-blue-600"}],Ppe=[{number:1,Icon:zI,title:"Browse & Customize",description:"Explore our menu of premium coffee drinks and customize your order exactly how you like it.",hasAnimation:!0},{number:2,Icon:Rp,title:"Join Virtual Queue",description:"Place your order and automatically join the queue. Get your position and estimated wait time instantly."},{number:3,Icon:hw,title:"Pickup & Enjoy",description:"Receive real-time notifications. When ready, breeze past the line and grab your coffee.",isPulsing:!0}],Cpe=[{quote:"Rush Coffee changed my morning routine! No more waiting in long lines. I order on my way and pick up when it's ready. Absolutely love it!",name:"Sarah M.",title:"Regular Customer",initial:"S",avatarBg:"bg-primary-100",avatarText:"text-primary-600"},{quote:"The queue system is genius. I can track exactly when my coffee will be ready. Plus, earning rewards with every purchase is a nice bonus!",name:"Miguel R.",title:"Gold Member",initial:"M",avatarBg:"bg-blue-100",avatarText:"text-blue-600"},{quote:"Best coffee experience in Manila. Fast, convenient, and the coffee is always perfect. The mobile app makes everything so easy!",name:"Ana L.",title:"VIP Member",initial:"A",avatarBg:"bg-green-100",avatarText:"text-green-600"}],jpe=()=>{const{currentUser:t}=Hr(),e=t?"/menu":"/auth/register";return u.jsxs("div",{className:"bg-white",children:[u.jsx(dn,{}),u.jsxs("main",{children:[u.jsxs("section",{className:"relative flex min-h-[calc(100vh-5rem)] items-center overflow-hidden bg-gray-900",children:[u.jsxs("div",{className:"absolute inset-0 z-0",children:[u.jsx("img",{src:"https://images.unsplash.com/photo-1497935586351-b67a49e012bf?q=80&w=2071&auto=format&fit=crop",alt:"Coffee Shop Atmosphere",className:"h-full w-full object-cover opacity-40"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900 via-gray-900/80 to-transparent"})]}),u.jsx("div",{className:"container relative z-10 mx-auto max-w-7xl px-6 py-20",children:u.jsxs("div",{className:"grid grid-cols-1 items-center gap-12 lg:grid-cols-2",children:[u.jsxs("div",{className:"animate-fade-in-up text-center lg:text-left",children:[u.jsx("p",{className:"mb-4 font-medium text-primary-400",style:{animationDelay:"100ms",opacity:0},children:" Welcome to Rush Coffee"}),u.jsxs("h1",{className:"font-display text-5xl font-bold text-white md:text-6xl lg:text-7xl",children:[u.jsx("span",{className:"block",style:{animation:"fade-in-up 0.8s ease-out 200ms forwards",opacity:0},children:"Skip the Line,"}),u.jsx("span",{className:"block text-primary-400",style:{animation:"fade-in-up 0.8s ease-out 300ms forwards",opacity:0},children:"Get Your Coffee"}),u.jsx("span",{className:"block",style:{animation:"fade-in-up 0.8s ease-out 400ms forwards",opacity:0},children:"Faster."})]}),u.jsx("p",{className:"mx-auto mt-6 max-w-2xl text-lg text-gray-300 md:text-xl lg:mx-0",style:{animation:"fade-in-up 0.8s ease-out 500ms forwards",opacity:0},children:"Join our digital queue system. Order ahead, track your position in real-time, and breeze through pickup. Your perfect cup awaitswithout the wait."}),u.jsxs("div",{className:"mt-8 flex flex-wrap justify-center gap-2 lg:justify-start",style:{animation:"fade-in-up 0.8s ease-out 600ms forwards",opacity:0},children:[u.jsx(or,{className:"bg-primary-900/50 text-white border border-primary-700",children:" Real-Time Queue"}),u.jsx(or,{className:"bg-primary-900/50 text-white border border-primary-700",children:" Mobile Ordering"}),u.jsx(or,{className:"bg-primary-900/50 text-white border border-primary-700",children:" Rewards Program"})]}),u.jsxs("div",{className:"mt-8 flex flex-col items-center gap-4 sm:flex-row sm:justify-center lg:justify-start",style:{animation:"fade-in-up 0.8s ease-out 700ms forwards",opacity:0},children:[u.jsxs(De,{to:e,className:"flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-8 py-4 text-lg font-semibold text-white shadow-lg transition-transform hover:scale-105 hover:bg-primary-700 sm:w-auto",children:[u.jsx(vn,{className:"h-5 w-5"}),"Order Now"]}),u.jsxs("button",{onClick:()=>{var n;(n=document.getElementById("features"))==null||n.scrollIntoView({behavior:"smooth",block:"start"})},className:"flex w-full items-center justify-center gap-2 rounded-full border-2 border-white/20 bg-white/5 px-8 py-4 text-lg font-semibold text-white backdrop-blur-sm transition-transform hover:scale-105 hover:bg-white/10 sm:w-auto",children:[u.jsx(Wte,{className:"h-5 w-5"}),"View Features"]})]}),u.jsx("p",{className:"mt-6 text-sm text-gray-400",style:{animation:"fade-in-up 0.8s ease-out 800ms forwards",opacity:0},children:"Join 5,000+ happy customers "})]}),u.jsxs("div",{className:"relative hidden h-96 lg:flex lg:items-center lg:justify-center",children:[u.jsx("div",{className:"absolute h-80 w-80 animate-float rounded-full bg-primary-500/20 blur-3xl"}),u.jsx("div",{className:"absolute bottom-0 right-0 h-64 w-64 animate-float-delay rounded-full bg-coffee-500/20 blur-2xl"}),u.jsx("div",{className:"relative animate-fade-in-up",style:{animationDelay:"500ms",opacity:0},children:u.jsx(vn,{className:"h-auto w-[250px] animate-float drop-shadow-2xl text-white lg:w-[350px]"})})]})]})})]}),u.jsx("section",{id:"features",className:"bg-white px-6 py-20",children:u.jsxs("div",{className:"container mx-auto max-w-7xl",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"mb-2 font-medium text-primary-600",children:"Why Rush Coffee?"}),u.jsx("h2",{className:"mb-4 font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"Everything You Need for a Seamless Coffee Experience"}),u.jsx("p",{className:"mx-auto mb-12 max-w-2xl text-gray-600",children:"From ordering to pickup, we've got you covered."})]}),u.jsx("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-2 lg:grid-cols-4",children:Ipe.map((n,r)=>u.jsxs(ge,{hover:!0,className:"text-center",children:[u.jsx("div",{className:`mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-xl ${n.iconBgColor}`,children:u.jsx(n.Icon,{className:`h-8 w-8 ${n.iconTextColor}`})}),u.jsx("h3",{className:"mb-2 font-display text-xl font-semibold text-coffee-900",children:n.title}),u.jsx("p",{className:"text-sm leading-relaxed text-gray-600",children:n.description})]},r))})]})}),u.jsx("section",{id:"how-it-works",className:"bg-gradient-to-b from-coffee-50 to-white px-6 py-20",children:u.jsxs("div",{className:"container mx-auto max-w-7xl",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"mb-2 font-medium text-primary-600",children:"Simple Process"}),u.jsx("h2",{className:"mb-4 font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"How Rush Coffee Works"}),u.jsx("p",{className:"mx-auto mb-16 max-w-2xl text-gray-600",children:"Get your perfect cup in three easy steps."})]}),u.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:Ppe.map((n,r)=>u.jsxs("div",{className:`relative w-full text-center ${r===2?"col-span-2 lg:col-span-1 w-[calc(50%-0.5rem)] mx-auto lg:w-full":""}`,children:[u.jsx("div",{className:"absolute -top-4 left-1/2 z-10 flex h-12 w-12 -translate-x-1/2 items-center justify-center rounded-full bg-primary-600 font-display text-xl font-bold text-white shadow-lg",children:n.number}),u.jsxs(ge,{className:"pt-8 h-full",children:[u.jsxs("div",{className:"relative mx-auto flex h-20 w-20 items-center justify-center rounded-2xl bg-gradient-to-br from-primary-100 to-coffee-100 p-4",children:[n.hasAnimation&&u.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-2xl",children:[u.jsx("div",{className:"absolute left-1/2 top-2 h-4 w-px -translate-x-1/2 animate-steam-1 rounded-full bg-primary-300/80"}),u.jsx("div",{className:"absolute left-1/3 top-2 h-5 w-px animate-steam-2 rounded-full bg-primary-300/80"}),u.jsx("div",{className:"absolute left-2/3 top-2 h-3 w-px animate-steam-1 rounded-full bg-primary-300/80"})]}),u.jsx(n.Icon,{className:`h-10 w-10 text-primary-600 ${n.isPulsing?"animate-pulse-slow":""}`})]}),u.jsx("h3",{className:"mb-2 mt-4 font-display text-xl font-semibold text-coffee-900",children:n.title}),u.jsx("p",{className:"text-sm text-gray-600",children:n.description})]})]},n.number))})]})}),u.jsx("section",{id:"testimonials",className:"bg-white py-20 px-6",children:u.jsxs("div",{className:"container mx-auto max-w-7xl",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"mb-2 font-medium text-primary-600",children:"Customer Love"}),u.jsx("h2",{className:"mb-4 font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"What Our Customers Say"}),u.jsx("p",{className:"mx-auto mb-12 max-w-2xl text-gray-600",children:"Join thousands of satisfied coffee lovers."})]}),u.jsx("div",{className:"grid grid-cols-2 gap-4 lg:grid-cols-3",children:Cpe.map((n,r)=>u.jsxs(ge,{hover:!0,className:`flex flex-col border-l-4 border-primary-400 transition-transform duration-300 hover:scale-105 ${r===2?"col-span-2 lg:col-span-1 w-[calc(50%-0.5rem)] mx-auto lg:w-full":""}`,children:[u.jsx(are,{className:"h-8 w-8 text-primary-200"}),u.jsx("div",{className:"my-4 text-yellow-400",children:""}),u.jsxs("p",{className:"flex-grow font-sans italic text-gray-700",children:['"',n.quote,'"']}),u.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[u.jsx("div",{className:`flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full font-bold ${n.avatarBg} ${n.avatarText}`,children:n.initial}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-coffee-900",children:n.name}),u.jsx(or,{className:"bg-gray-100 text-gray-600 text-xs px-2 py-0.5",children:n.title})]})]})]},r))})]})}),u.jsxs("section",{className:"relative overflow-hidden bg-coffee-900 px-6 py-24 text-center text-white",children:[u.jsxs("div",{className:"absolute inset-0 z-0",children:[u.jsx("img",{src:"https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?q=80&w=2070&auto=format&fit=crop",alt:"Coffee shop atmosphere",className:"h-full w-full object-cover opacity-20"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-coffee-900/90 via-coffee-800/90 to-coffee-900/90"})]}),u.jsx("div",{className:"absolute -left-1/4 -top-1/4 opacity-5",children:u.jsx(vn,{className:"h-96 w-96 animate-float text-white"})}),u.jsx("div",{className:"absolute -bottom-1/4 -right-1/4 opacity-5",children:u.jsx(vn,{className:"h-[30rem] w-[30rem] animate-float-delay text-white"})}),u.jsxs("div",{className:"relative z-10 mx-auto max-w-3xl",children:[u.jsxs("div",{className:"relative mx-auto mb-6 inline-block",children:[u.jsx("span",{className:"text-6xl",role:"img","aria-label":"Coffee cup",children:""}),u.jsxs("div",{className:"absolute -top-4 left-0 right-0 h-12",children:[u.jsx("div",{className:"absolute left-1/2 h-6 w-px -translate-x-1/2 animate-steam-1 rounded-full bg-white/50"}),u.jsx("div",{className:"absolute left-1/3 h-8 w-px animate-steam-2 rounded-full bg-white/50"}),u.jsx("div",{className:"absolute left-2/3 h-5 w-px animate-steam-1 rounded-full bg-white/50"})]})]}),u.jsx("h2",{className:"font-display text-4xl font-bold md:text-5xl lg:text-6xl",children:"Ready to Rush Through Your Day?"}),u.jsx("p",{className:"mx-auto mb-8 mt-6 max-w-2xl text-xl text-gray-300",children:"Join 5,000+ customers who've already skipped the line. Experience the future of coffee ordering."}),u.jsxs("div",{className:"mb-10 flex flex-wrap justify-center gap-3",children:[u.jsx("span",{className:"rounded-full bg-white/10 px-4 py-1.5 text-sm font-medium text-white backdrop-blur-sm border border-white/10",children:"10,000+ Orders Completed"}),u.jsx("span",{className:"rounded-full bg-white/10 px-4 py-1.5 text-sm font-medium text-white backdrop-blur-sm border border-white/10",children:"4.9 Average Rating"}),u.jsx("span",{className:"rounded-full bg-white/10 px-4 py-1.5 text-sm font-medium text-white backdrop-blur-sm border border-white/10",children:"< 5 min Average Wait"})]}),u.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 sm:flex-row",children:[u.jsxs(De,{to:e,className:"group inline-flex items-center justify-center gap-2 rounded-full bg-primary-600 px-8 py-4 text-lg font-semibold text-white shadow-lg transition-all hover:bg-primary-500 hover:shadow-primary-600/30 hover:-translate-y-1",children:["Start Ordering Now",u.jsx(Gc,{className:"h-5 w-5 transition-transform group-hover:translate-x-1"})]}),u.jsx(De,{to:"/menu",className:"inline-flex items-center justify-center gap-2 rounded-full border border-white/20 bg-white/5 px-8 py-4 text-lg font-semibold text-white backdrop-blur-sm transition-all hover:bg-white/10 hover:-translate-y-1",children:"View Menu"})]}),u.jsxs("p",{className:"mt-8 text-sm text-gray-400",children:["Already have an account?"," ",u.jsx(De,{to:"/auth/login",className:"font-medium text-primary-400 hover:text-primary-300 hover:underline",children:"Log in here"})]})]})]})]}),u.jsx(hn,{})]})},Dn=g.forwardRef(({className:t,type:e,label:n,error:r,helperText:i,success:a,startIcon:s,endIcon:o,containerClassName:l,id:c,inputSize:d="md",...h},f)=>{const m={sm:"px-3 py-2 text-sm",md:"px-4 py-3.5 text-sm",lg:"px-5 py-4 text-base"};return u.jsxs("div",{className:`w-full ${l||""}`,children:[n&&u.jsx("label",{htmlFor:c,className:"mb-1.5 block text-sm font-medium text-coffee-900",children:n}),u.jsxs("div",{className:"relative group",children:[s&&u.jsx("div",{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 transition-colors group-focus-within:text-primary-600",children:s}),u.jsx("input",{id:c,type:e,className:`
              w-full rounded-xl border bg-white text-gray-900 
              placeholder:text-gray-500 placeholder:font-medium transition-all duration-200 ease-in-out
              focus:border-primary-500 focus:outline-none focus:ring-4 focus:ring-primary-500/10
              disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500
              ${s?"pl-10":""}
              ${o?"pr-10":""}
              ${m[d]}
              ${r?"border-red-300 focus:border-red-500 focus:ring-red-500/10":a?"border-green-300 focus:border-green-500 focus:ring-green-500/10":"border-gray-500 shadow-sm hover:border-primary-400"}
              ${t||""}
            `,ref:f,...h}),o&&u.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:o})]}),r&&u.jsx("p",{className:"mt-1.5 text-xs font-medium text-red-600 animate-fade-in-up",children:r}),!r&&a&&u.jsx("p",{className:"mt-1.5 text-xs font-medium text-green-600 animate-fade-in-up",children:a}),!r&&!a&&i&&u.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:i})]})});Dn.displayName="Input";const kpe=()=>u.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),u.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),u.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z",fill:"#FBBC05"}),u.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),Ope=()=>{const[t,e]=g.useState(""),[n,r]=g.useState(""),[i,a]=g.useState(!1),[s,o]=g.useState(!1),[l,c]=g.useState({}),[d,h]=g.useState(null),[f,m]=g.useState(!1),[y,v]=g.useState(!1),x=Ki(),{login:b,signInWithGoogle:w}=Hr(),_=()=>{const j={};return t?/\S+@\S+\.\S+/.test(t)||(j.email="Email address is invalid"):j.email="Email is required",n||(j.password="Password is required"),j},T=async j=>{j.preventDefault(),h(null);const A=_();if(Object.keys(A).length>0){c(A);return}c({}),m(!0);try{(await b(t,n,s)).role==="admin"?x("/admin"):x("/")}catch(S){let I="An unexpected error occurred. Please try again.";switch(S.code){case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":I="Invalid email or password. Please try again.";break;case"auth/too-many-requests":I="Too many failed login attempts. Please try again later.";break}h(I)}finally{m(!1)}},N=async()=>{h(null),v(!0);try{(await w()).role==="admin"?x("/admin"):x("/")}catch(j){console.error("Google Sign-In Error: ",j.code,j.message),h("Failed to sign in with Google. Please try again.")}finally{v(!1)}};return u.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-primary-50 via-coffee-50 to-white",children:[u.jsx(dn,{}),u.jsx("main",{className:"flex flex-1 items-center justify-center px-4 py-12 sm:px-6 lg:px-8",children:u.jsx("div",{className:"w-full max-w-md",children:u.jsxs(ge,{className:"rounded-2xl p-8 shadow-xl",children:[u.jsxs("div",{className:"mb-6 text-center",children:[u.jsx(vn,{className:"mx-auto h-12 w-12 text-primary-600"}),u.jsx("h2",{className:"mt-4 font-display text-3xl font-bold text-coffee-900",children:"Rush Coffee"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Welcome back! "})]}),d&&u.jsxs("div",{className:"mb-4 flex items-start gap-3 rounded-lg bg-red-50 p-4 text-sm text-red-700",role:"alert",children:[u.jsx(Ws,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),u.jsx("div",{children:d})]}),u.jsxs("form",{onSubmit:T,noValidate:!0,className:"space-y-6",children:[u.jsx(Dn,{id:"email",name:"email",type:"email",label:"Email address",autoComplete:"email",required:!0,value:t,onChange:j=>e(j.target.value),placeholder:"name@company.com",error:l.email,startIcon:u.jsx(Ma,{className:"h-5 w-5"})}),u.jsx(Dn,{id:"password",name:"password",type:i?"text":"password",label:"Password",autoComplete:"current-password",required:!0,value:n,onChange:j=>r(j.target.value),placeholder:"",error:l.password,startIcon:u.jsx(dx,{className:"h-5 w-5"}),endIcon:u.jsx("button",{type:"button",onClick:()=>a(!i),className:"focus:outline-none hover:text-gray-600 transition-colors","aria-label":i?"Hide password":"Show password",children:i?u.jsx(TT,{className:"h-5 w-5"}):u.jsx(AT,{className:"h-5 w-5"})})}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:s,onChange:j=>o(j.target.checked),className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),u.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),u.jsx("div",{className:"text-sm",children:u.jsx(De,{to:"/auth/forgot-password",className:"font-medium text-primary-600 hover:text-primary-500",children:"Forgot your password?"})})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:f||y,className:"flex w-full justify-center rounded-full bg-primary-600 px-4 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-primary-400",children:f?u.jsx(Ot,{className:"h-6 w-6 animate-spin"}):"Login"})})]}),u.jsxs("div",{className:"my-6 flex items-center",children:[u.jsx("div",{className:"flex-grow border-t border-gray-300"}),u.jsx("span",{className:"mx-4 flex-shrink text-sm text-gray-500",children:"or"}),u.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),u.jsxs("button",{type:"button",disabled:f||y,onClick:N,className:"flex w-full items-center justify-center gap-3 rounded-full border border-gray-300 px-4 py-3 text-base font-medium text-gray-700 transition-colors hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-60",children:[y?u.jsx(Ot,{className:"h-5 w-5 animate-spin"}):u.jsx(kpe,{}),"Continue with Google"]}),u.jsxs("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Don't have an account?"," ",u.jsx(De,{to:"/auth/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign up"})]})]})})}),u.jsx(hn,{})]})},Rpe=()=>u.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),u.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),u.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z",fill:"#FBBC05"}),u.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),Dpe=t=>{let e=0;return t.length>=8&&e++,t.match(/[a-z]/)&&e++,t.match(/[A-Z]/)&&e++,t.match(/[0-9]/)&&e++,t.match(/[^a-zA-Z0-9]/)&&e++,e/5*100},Mpe=()=>{const[t,e]=g.useState({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",terms:!1}),[n,r]=g.useState({}),[i,a]=g.useState({}),[s,o]=g.useState(null),[l,c]=g.useState(!1),[d,h]=g.useState(!1),[f,m]=g.useState(!1),[y,v]=g.useState(!1),[x,b]=g.useState(0),w=Ki(),{register:_,signInWithGoogle:T}=Hr(),N=g.useCallback(()=>{const R={};return t.firstName?t.firstName.length<2&&(R.firstName="First name must be at least 2 characters"):R.firstName="First name is required",t.lastName?t.lastName.length<2&&(R.lastName="Last name must be at least 2 characters"):R.lastName="Last name is required",t.email?/\S+@\S+\.\S+/.test(t.email)||(R.email="Email address is invalid"):R.email="Email is required",t.phone&&!/^(09|\+639)\d{9}$/.test(t.phone)&&(R.phone="Invalid Philippine phone number"),t.password?t.password.length<8?R.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])/.test(t.password)||(R.password="Must contain uppercase, lowercase, and a number"):R.password="Password is required",t.confirmPassword?t.password!==t.confirmPassword&&(R.confirmPassword="Passwords do not match"):R.confirmPassword="Please confirm your password",t.terms||(R.terms="You must accept the terms and conditions"),R},[t]);g.useEffect(()=>{i.password&&b(Dpe(t.password))},[t.password,i.password]),g.useEffect(()=>{Object.keys(i).length>0&&r(N())},[t,i,N]);const j=R=>{const{name:O,value:M,type:H,checked:F}=R.target;e($=>({...$,[O]:H==="checkbox"?F:M}))},A=R=>{const{name:O}=R.target;a(M=>({...M,[O]:!0}))},S=async R=>{R.preventDefault(),o(null),a({firstName:!0,lastName:!0,email:!0,phone:!0,password:!0,confirmPassword:!0,terms:!0});const O=N();if(Object.keys(O).length>0){r(O);return}c(!0);try{(await _(t.email,t.password,t.firstName,t.lastName,t.phone)).role==="admin"?w("/admin"):w("/")}catch(M){let H="An unexpected error occurred. Please try again.";switch(M.code){case"auth/email-already-in-use":H="This email address is already registered.";break;case"auth/invalid-email":H="The email address is not valid.";break;case"auth/weak-password":H="The password is too weak.";break}o(H)}finally{c(!1)}},I=async()=>{o(null),h(!0);try{(await T()).role==="admin"?w("/admin"):w("/")}catch(R){console.error("Google Sign-Up Error: ",R.code,R.message),o("Failed to sign up with Google. Please try again.")}finally{h(!1)}},C=()=>x<40?"bg-red-500":x<80?"bg-yellow-500":"bg-green-500",k=()=>x<40?"Weak":x<80?"Medium":"Strong";return u.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-primary-50 via-coffee-50 to-white",children:[u.jsx(dn,{}),u.jsx("main",{className:"flex flex-1 items-center justify-center px-4 py-12 sm:px-6 lg:px-8",children:u.jsx("div",{className:"w-full max-w-2xl",children:u.jsxs(ge,{className:"rounded-2xl p-8 shadow-xl",children:[u.jsxs("div",{className:"mb-6 text-center",children:[u.jsx(vn,{className:"mx-auto h-12 w-12 text-primary-600"}),u.jsx("h2",{className:"mt-4 font-display text-3xl font-bold text-coffee-900",children:"Join Rush Coffee"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Start skipping the line today "})]}),s&&u.jsxs("div",{className:"mb-4 flex items-start gap-3 rounded-lg bg-red-50 p-4 text-sm text-red-700",role:"alert",children:[u.jsx(Ws,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),u.jsx("div",{children:s})]}),u.jsxs("form",{onSubmit:S,noValidate:!0,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-2",children:[u.jsx(Dn,{id:"firstName",name:"firstName",label:"First Name",type:"text",placeholder:"First Name",startIcon:u.jsx(ks,{className:"h-5 w-5"}),autoComplete:"given-name",value:t.firstName,onChange:j,onBlur:A,error:i.firstName?n.firstName:void 0,required:!0}),u.jsx(Dn,{id:"lastName",name:"lastName",label:"Last Name",type:"text",placeholder:"Last Name",startIcon:u.jsx(ks,{className:"h-5 w-5"}),autoComplete:"family-name",value:t.lastName,onChange:j,onBlur:A,error:i.lastName?n.lastName:void 0,required:!0})]}),u.jsx(Dn,{id:"email",name:"email",label:"Email address",type:"email",placeholder:"Email address",startIcon:u.jsx(Ma,{className:"h-5 w-5"}),autoComplete:"email",value:t.email,onChange:j,onBlur:A,error:i.email?n.email:void 0,required:!0}),u.jsx(Dn,{id:"phone",name:"phone",label:"Phone Number (Optional)",type:"tel",placeholder:"Phone Number (e.g., 09xxxxxxxxx)",startIcon:u.jsx(js,{className:"h-5 w-5"}),autoComplete:"tel",value:t.phone,onChange:j,onBlur:A,error:i.phone?n.phone:void 0}),u.jsxs("div",{className:"relative",children:[u.jsx(Dn,{id:"password",name:"password",label:"Password",type:f?"text":"password",placeholder:"Password",startIcon:u.jsx(dx,{className:"h-5 w-5"}),autoComplete:"new-password",value:t.password,onChange:j,onBlur:A,error:i.password?n.password:void 0,required:!0,endIcon:u.jsx("button",{type:"button",onClick:()=>m(!f),className:"focus:outline-none hover:text-gray-600 transition-colors","aria-label":f?"Hide password":"Show password",children:f?u.jsx(TT,{className:"h-5 w-5"}):u.jsx(AT,{className:"h-5 w-5"})})}),i.password&&u.jsxs("div",{className:"mt-2 space-y-1",children:[u.jsx("div",{className:"h-2 w-full rounded-full bg-gray-200",children:u.jsx("div",{className:`h-2 rounded-full ${C()}`,style:{width:`${x}%`,transition:"width 0.3s, background-color 0.3s"}})}),u.jsx("p",{className:"text-xs font-medium",style:{color:C().replace("bg-","text-")},children:k()})]})]}),u.jsx(Dn,{id:"confirmPassword",name:"confirmPassword",label:"Confirm Password",type:y?"text":"password",placeholder:"Confirm Password",startIcon:u.jsx(dx,{className:"h-5 w-5"}),autoComplete:"new-password",value:t.confirmPassword,onChange:j,onBlur:A,error:i.confirmPassword?n.confirmPassword:void 0,required:!0,endIcon:u.jsx("button",{type:"button",onClick:()=>v(!y),className:"focus:outline-none hover:text-gray-600 transition-colors","aria-label":y?"Hide password":"Show password",children:y?u.jsx(TT,{className:"h-5 w-5"}):u.jsx(AT,{className:"h-5 w-5"})})}),u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"flex h-6 items-center",children:u.jsx("input",{id:"terms",name:"terms",type:"checkbox",checked:t.terms,onChange:j,onBlur:A,className:`h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500 ${i.terms&&n.terms?"border-red-500":""}`})}),u.jsxs("div",{className:"ml-3 text-sm leading-6",children:[u.jsxs("label",{htmlFor:"terms",className:"font-medium text-gray-900",children:["I agree to the"," ",u.jsx(De,{to:"/terms",className:"font-semibold text-primary-600 hover:underline",children:"Terms of Service"})," and ",u.jsx(De,{to:"/privacy",className:"font-semibold text-primary-600 hover:underline",children:"Privacy Policy"}),"."]}),i.terms&&n.terms&&u.jsx("p",{className:"mt-1 text-xs text-red-600",children:n.terms})]})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:l||d,className:"flex w-full justify-center rounded-full bg-primary-600 px-4 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-primary-400",children:l?u.jsx(Ot,{className:"h-6 w-6 animate-spin"}):"Create Account"})})]}),u.jsxs("div",{className:"my-6 flex items-center",children:[u.jsx("div",{className:"flex-grow border-t border-gray-300"}),u.jsx("span",{className:"mx-4 flex-shrink text-sm text-gray-500",children:"or"}),u.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),u.jsxs("button",{type:"button",disabled:l||d,onClick:I,className:"flex w-full items-center justify-center gap-3 rounded-full border border-gray-300 px-4 py-3 text-base font-medium text-gray-700 transition-colors hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-60",children:[d?u.jsx(Ot,{className:"h-5 w-5 animate-spin"}):u.jsx(Rpe,{}),"Sign up with Google"]}),u.jsxs("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Already have an account?"," ",u.jsx(De,{to:"/auth/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Login"})]})]})})}),u.jsx(hn,{})]})},Lpe=()=>{const[t,e]=g.useState(""),[n,r]=g.useState(null),[i,a]=g.useState(null),[s,o]=g.useState(!1),{sendPasswordReset:l}=Hr(),c=async d=>{if(d.preventDefault(),r(null),a(null),t){if(!/\S+@\S+\.\S+/.test(t)){r("Please enter a valid email address");return}}else{r("Email is required");return}o(!0);try{await l(t),a("Password reset link sent to your email. Please check your inbox.")}catch(h){let f="An unexpected error occurred. Please try again.";(h.code==="auth/user-not-found"||h.code==="auth/invalid-email")&&(f="No user found with this email address."),r(f)}finally{o(!1)}};return u.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-primary-50 via-coffee-50 to-white",children:[u.jsx(dn,{}),u.jsx("main",{className:"flex flex-1 items-center justify-center px-4 py-12 sm:px-6 lg:px-8",children:u.jsx("div",{className:"w-full max-w-md",children:u.jsxs(ge,{className:"rounded-2xl p-8 shadow-xl",children:[u.jsxs("div",{className:"mb-6 text-center",children:[u.jsx(vn,{className:"mx-auto h-12 w-12 text-primary-600"}),u.jsx("h2",{className:"mt-4 font-display text-3xl font-bold text-coffee-900",children:"Reset Password"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Enter your email to receive a reset link."})]}),n&&u.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded-lg bg-red-50 p-3 text-sm text-red-700",role:"alert",children:[u.jsx(Ws,{className:"h-5 w-5 flex-shrink-0"}),u.jsx("span",{children:n})]}),i&&u.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded-lg bg-green-50 p-3 text-sm text-green-700",role:"alert",children:[u.jsx(VI,{className:"h-5 w-5 flex-shrink-0"}),u.jsx("span",{children:i})]}),u.jsxs("form",{onSubmit:c,noValidate:!0,className:"space-y-6",children:[u.jsx(Dn,{id:"email",name:"email",type:"email",label:"Email address",autoComplete:"email",required:!0,value:t,onChange:d=>e(d.target.value),placeholder:"Email address",startIcon:u.jsx(Ma,{className:"h-5 w-5"})}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:s,className:"flex w-full justify-center rounded-full bg-primary-600 px-4 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-primary-400",children:s?u.jsx(Ot,{className:"h-6 w-6 animate-spin"}):"Send Reset Link"})})]}),u.jsxs("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Remember your password?"," ",u.jsx(De,{to:"/auth/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Back to Login"})]})]})})}),u.jsx(hn,{})]})},LP=g.createContext({});function VP(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}const i_=g.createContext(null),UP=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Vpe extends g.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Upe({children:t,isPresent:e}){const n=g.useId(),r=g.useRef(null),i=g.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=g.useContext(UP);return g.useInsertionEffect(()=>{const{width:s,height:o,top:l,left:c}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return a&&(d.nonce=a),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),u.jsx(Vpe,{isPresent:e,childRef:r,sizeRef:i,children:g.cloneElement(t,{ref:r})})}const zpe=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:s})=>{const o=VP(Bpe),l=g.useId(),c=g.useCallback(h=>{o.set(h,!0);for(const f of o.values())if(!f)return;r&&r()},[o,r]),d=g.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c,register:h=>(o.set(h,!1),()=>o.delete(h))}),a?[Math.random(),c]:[n,c]);return g.useMemo(()=>{o.forEach((h,f)=>o.set(f,!1))},[n]),g.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),s==="popLayout"&&(t=u.jsx(Upe,{isPresent:n,children:t})),u.jsx(i_.Provider,{value:d,children:t})};function Bpe(){return new Map}function f$(t=!0){const e=g.useContext(i_);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=g.useId();g.useEffect(()=>{t&&i(a)},[t]);const s=g.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,s]:[!0]}const Tv=t=>t.key||"";function A4(t){const e=[];return g.Children.forEach(t,n=>{g.isValidElement(n)&&e.push(n)}),e}const zP=typeof window<"u",m$=zP?g.useLayoutEffect:g.useEffect,fy=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1})=>{const[o,l]=f$(s),c=g.useMemo(()=>A4(t),[t]),d=s&&!o?[]:c.map(Tv),h=g.useRef(!0),f=g.useRef(c),m=VP(()=>new Map),[y,v]=g.useState(c),[x,b]=g.useState(c);m$(()=>{h.current=!1,f.current=c;for(let T=0;T<x.length;T++){const N=Tv(x[T]);d.includes(N)?m.delete(N):m.get(N)!==!0&&m.set(N,!1)}},[x,d.length,d.join("-")]);const w=[];if(c!==y){let T=[...c];for(let N=0;N<x.length;N++){const j=x[N],A=Tv(j);d.includes(A)||(T.splice(N,0,j),w.push(j))}a==="wait"&&w.length&&(T=w),b(A4(T)),v(c);return}const{forceRender:_}=g.useContext(LP);return u.jsx(u.Fragment,{children:x.map(T=>{const N=Tv(T),j=s&&!o?!1:c===x||d.includes(N),A=()=>{if(m.has(N))m.set(N,!0);else return;let S=!0;m.forEach(I=>{I||(S=!1)}),S&&(_==null||_(),b(f.current),s&&(l==null||l()),r&&r())};return u.jsx(zpe,{isPresent:j,initial:!h.current||n?void 0:!1,custom:j?void 0:e,presenceAffectsLayout:i,mode:a,onExitComplete:j?void 0:A,children:T},N)})})},hi=t=>t;let p$=hi;function BP(t){let e;return()=>(e===void 0&&(e=t()),e)}const Sh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ws=t=>t*1e3,_s=t=>t/1e3,Fpe={useManualTiming:!1};function $pe(t){let e=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function o(c){a.has(c)&&(l.schedule(c),t()),c(s)}const l={schedule:(c,d=!1,h=!1)=>{const m=h&&r?e:n;return d&&a.add(c),m.has(c)||m.add(c),c},cancel:c=>{n.delete(c),a.delete(c)},process:c=>{if(s=c,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(o),e.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const Av=["read","resolveKeyframes","update","preRender","render","postRender"],qpe=40;function g$(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=Av.reduce((b,w)=>(b[w]=$pe(a),b),{}),{read:o,resolveKeyframes:l,update:c,preRender:d,render:h,postRender:f}=s,m=()=>{const b=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(b-i.timestamp,qpe),1),i.timestamp=b,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),d.process(i),h.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))},y=()=>{n=!0,r=!0,i.isProcessing||t(m)};return{schedule:Av.reduce((b,w)=>{const _=s[w];return b[w]=(T,N=!1,j=!1)=>(n||y(),_.schedule(T,N,j)),b},{}),cancel:b=>{for(let w=0;w<Av.length;w++)s[Av[w]].cancel(b)},state:i,steps:s}}const{schedule:vt,cancel:wl,state:$n,steps:BE}=g$(typeof requestAnimationFrame<"u"?requestAnimationFrame:hi,!0),y$=g.createContext({strict:!1}),N4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Th={};for(const t in N4)Th[t]={isEnabled:e=>N4[t].some(n=>!!e[n])};function Hpe(t){for(const e in t)Th[e]={...Th[e],...t[e]}}const Gpe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Gpe.has(t)}let v$=t=>!Bx(t);function Kpe(t){t&&(v$=e=>e.startsWith("on")?!Bx(e):t(e))}try{Kpe(require("@emotion/is-prop-valid").default)}catch{}function Wpe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(v$(i)||n===!0&&Bx(i)||!e&&!Bx(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Ype(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const a_=g.createContext({});function ig(t){return typeof t=="string"||Array.isArray(t)}function s_(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const FP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$P=["initial",...FP];function o_(t){return s_(t.animate)||$P.some(e=>ig(t[e]))}function x$(t){return!!(o_(t)||t.variants)}function Qpe(t,e){if(o_(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ig(n)?n:void 0,animate:ig(r)?r:void 0}}return t.inherit!==!1?e:{}}function Xpe(t){const{initial:e,animate:n}=Qpe(t,g.useContext(a_));return g.useMemo(()=>({initial:e,animate:n}),[I4(e),I4(n)])}function I4(t){return Array.isArray(t)?t.join(" "):t}const Zpe=Symbol.for("motionComponentSymbol");function vd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Jpe(t,e,n){return g.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):vd(n)&&(n.current=r))},[e])}const qP=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ege="framerAppearId",b$="data-"+qP(ege),{schedule:HP}=g$(queueMicrotask,!1),w$=g.createContext({});function tge(t,e,n,r,i){var a,s;const{visualElement:o}=g.useContext(a_),l=g.useContext(y$),c=g.useContext(i_),d=g.useContext(UP).reducedMotion,h=g.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,m=g.useContext(w$);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&nge(h.current,n,i,m);const y=g.useRef(!1);g.useInsertionEffect(()=>{f&&y.current&&f.update(n,c)});const v=n[b$],x=g.useRef(!!v&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,v))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,v)));return m$(()=>{f&&(y.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),HP.render(f.render),x.current&&f.animationState&&f.animationState.animateChanges())}),g.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,v)}),x.current=!1))}),f}function nge(t,e,n,r){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:_$(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||o&&vd(o),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function _$(t){if(t)return t.options.allowProjection!==!1?t.projection:_$(t.parent)}function rge({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var a,s;t&&Hpe(t);function o(c,d){let h;const f={...g.useContext(UP),...c,layoutId:ige(c)},{isStatic:m}=f,y=Xpe(c),v=r(c,m);if(!m&&zP){age();const x=sge(f);h=x.MeasureLayout,y.visualElement=tge(i,v,f,e,x.ProjectionNode)}return u.jsxs(a_.Provider,{value:y,children:[h&&y.visualElement?u.jsx(h,{visualElement:y.visualElement,...f}):null,n(i,c,Jpe(v,y.visualElement,d),v,m,y.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(s=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&s!==void 0?s:""})`}`;const l=g.forwardRef(o);return l[Zpe]=i,l}function ige({layoutId:t}){const e=g.useContext(LP).id;return e&&t!==void 0?e+"-"+t:t}function age(t,e){g.useContext(y$).strict}function sge(t){const{drag:e,layout:n}=Th;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const oge=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function GP(t){return typeof t!="string"||t.includes("-")?!1:!!(oge.indexOf(t)>-1||/[A-Z]/u.test(t))}function P4(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function KP(t,e,n,r){if(typeof e=="function"){const[i,a]=P4(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=P4(r);e=e(n!==void 0?n:t.custom,i,a)}return e}const gA=t=>Array.isArray(t),lge=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),cge=t=>gA(t)?t[t.length-1]||0:t,cr=t=>!!(t&&t.getVelocity);function N0(t){const e=cr(t)?t.get():t;return lge(e)?e.toValue():e}function uge({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,a){const s={latestValues:dge(r,i,a,t),renderState:e()};return n&&(s.onMount=o=>n({props:r,current:o,...s}),s.onUpdate=o=>n(o)),s}const E$=t=>(e,n)=>{const r=g.useContext(a_),i=g.useContext(i_),a=()=>uge(t,e,r,i);return n?a():VP(a)};function dge(t,e,n,r){const i={},a=r(t,{});for(const f in a)i[f]=N0(a[f]);let{initial:s,animate:o}=t;const l=o_(t),c=x$(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const h=d?o:s;if(h&&typeof h!="boolean"&&!s_(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const y=KP(t,f[m]);if(y){const{transitionEnd:v,transition:x,...b}=y;for(const w in b){let _=b[w];if(Array.isArray(_)){const T=d?_.length-1:0;_=_[T]}_!==null&&(i[w]=_)}for(const w in v)i[w]=v[w]}}}return i}const lf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Iu=new Set(lf),S$=t=>e=>typeof e=="string"&&e.startsWith(t),T$=S$("--"),hge=S$("var(--"),WP=t=>hge(t)?fge.test(t.split("/*")[0].trim()):!1,fge=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,A$=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Vs=(t,e,n)=>n>e?e:n<t?t:n,cf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ag={...cf,transform:t=>Vs(0,1,t)},Nv={...cf,default:1},my=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),So=my("deg"),Oa=my("%"),ue=my("px"),mge=my("vh"),pge=my("vw"),C4={...Oa,parse:t=>Oa.parse(t)/100,transform:t=>Oa.transform(t*100)},gge={borderWidth:ue,borderTopWidth:ue,borderRightWidth:ue,borderBottomWidth:ue,borderLeftWidth:ue,borderRadius:ue,radius:ue,borderTopLeftRadius:ue,borderTopRightRadius:ue,borderBottomRightRadius:ue,borderBottomLeftRadius:ue,width:ue,maxWidth:ue,height:ue,maxHeight:ue,top:ue,right:ue,bottom:ue,left:ue,padding:ue,paddingTop:ue,paddingRight:ue,paddingBottom:ue,paddingLeft:ue,margin:ue,marginTop:ue,marginRight:ue,marginBottom:ue,marginLeft:ue,backgroundPositionX:ue,backgroundPositionY:ue},yge={rotate:So,rotateX:So,rotateY:So,rotateZ:So,scale:Nv,scaleX:Nv,scaleY:Nv,scaleZ:Nv,skew:So,skewX:So,skewY:So,distance:ue,translateX:ue,translateY:ue,translateZ:ue,x:ue,y:ue,z:ue,perspective:ue,transformPerspective:ue,opacity:ag,originX:C4,originY:C4,originZ:ue},j4={...cf,transform:Math.round},YP={...gge,...yge,zIndex:j4,size:ue,fillOpacity:ag,strokeOpacity:ag,numOctaves:j4},vge={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xge=lf.length;function bge(t,e,n){let r="",i=!0;for(let a=0;a<xge;a++){const s=lf[a],o=t[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const c=A$(o,YP[s]);if(!l){i=!1;const d=vge[s]||s;r+=`${d}(${c}) `}n&&(e[s]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function QP(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let s=!1,o=!1;for(const l in e){const c=e[l];if(Iu.has(l)){s=!0;continue}else if(T$(l)){i[l]=c;continue}else{const d=A$(c,YP[l]);l.startsWith("origin")?(o=!0,a[l]=d):r[l]=d}}if(e.transform||(s||n?r.transform=bge(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:d=0}=a;r.transformOrigin=`${l} ${c} ${d}`}}const wge={offset:"stroke-dashoffset",array:"stroke-dasharray"},_ge={offset:"strokeDashoffset",array:"strokeDasharray"};function Ege(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?wge:_ge;t[a.offset]=ue.transform(-r);const s=ue.transform(e),o=ue.transform(n);t[a.array]=`${s} ${o}`}function k4(t,e,n){return typeof t=="string"?t:ue.transform(e+n*t)}function Sge(t,e,n){const r=k4(e,t.x,t.width),i=k4(n,t.y,t.height);return`${r} ${i}`}function XP(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},d,h){if(QP(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m,dimensions:y}=t;f.transform&&(y&&(m.transform=f.transform),delete f.transform),y&&(i!==void 0||a!==void 0||m.transform)&&(m.transformOrigin=Sge(y,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&Ege(f,s,o,l,!1)}const ZP=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),N$=()=>({...ZP(),attrs:{}}),JP=t=>typeof t=="string"&&t.toLowerCase()==="svg";function I$(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const P$=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function C$(t,e,n,r){I$(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(P$.has(i)?i:qP(i),e.attrs[i])}const Fx={};function Tge(t){Object.assign(Fx,t)}function j$(t,{layout:e,layoutId:n}){return Iu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Fx[t]||t==="opacity")}function eC(t,e,n){var r;const{style:i}=t,a={};for(const s in i)(cr(i[s])||e.style&&cr(e.style[s])||j$(s,t)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[s]=i[s]);return a}function k$(t,e,n){const r=eC(t,e,n);for(const i in t)if(cr(t[i])||cr(e[i])){const a=lf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}function Age(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const O4=["x","y","width","height","cx","cy","r"],Nge={useVisualState:E$({scrapeMotionValuesFromProps:k$,createRenderState:N$,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!t.drag;if(!a){for(const o in i)if(Iu.has(o)){a=!0;break}}if(!a)return;let s=!e;if(e)for(let o=0;o<O4.length;o++){const l=O4[o];t[l]!==e[l]&&(s=!0)}s&&vt.read(()=>{Age(n,r),vt.render(()=>{XP(r,i,JP(n.tagName),t.transformTemplate),C$(n,r)})})}})},Ige={useVisualState:E$({scrapeMotionValuesFromProps:eC,createRenderState:ZP})};function O$(t,e,n){for(const r in e)!cr(e[r])&&!j$(r,n)&&(t[r]=e[r])}function Pge({transformTemplate:t},e){return g.useMemo(()=>{const n=ZP();return QP(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Cge(t,e){const n=t.style||{},r={};return O$(r,n,t),Object.assign(r,Pge(t,e)),r}function jge(t,e){const n={},r=Cge(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function kge(t,e,n,r){const i=g.useMemo(()=>{const a=N$();return XP(a,e,JP(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};O$(a,t.style,t),i.style={...a,...i.style}}return i}function Oge(t=!1){return(n,r,i,{latestValues:a},s)=>{const l=(GP(n)?kge:jge)(r,a,s,n),c=Wpe(r,typeof n=="string",t),d=n!==g.Fragment?{...c,...l,ref:i}:{},{children:h}=r,f=g.useMemo(()=>cr(h)?h.get():h,[h]);return g.createElement(n,{...d,children:f})}}function Rge(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...GP(r)?Nge:Ige,preloadedFeatures:t,useRender:Oge(i),createVisualElement:e,Component:r};return rge(s)}}function R$(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function l_(t,e,n){const r=t.getProps();return KP(r,e,n!==void 0?n:r.custom,t)}const Dge=BP(()=>window.ScrollTimeline!==void 0);class Mge{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(Dge()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Lge extends Mge{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function tC(t,e){return t?t[e]||t.default||t:void 0}const yA=2e4;function D$(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<yA;)e+=n,r=t.next(e);return e>=yA?1/0:e}function nC(t){return typeof t=="function"}function R4(t,e){t.timeline=e,t.onfinish=null}const rC=t=>Array.isArray(t)&&typeof t[0]=="number",Vge={linearEasing:void 0};function Uge(t,e){const n=BP(t);return()=>{var r;return(r=Vge[e])!==null&&r!==void 0?r:n()}}const $x=Uge(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),M$=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=t(Sh(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function L$(t){return!!(typeof t=="function"&&$x()||!t||typeof t=="string"&&(t in vA||$x())||rC(t)||Array.isArray(t)&&t.every(L$))}const Im=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,vA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Im([0,.65,.55,1]),circOut:Im([.55,0,1,.45]),backIn:Im([.31,.01,.66,-.59]),backOut:Im([.33,1.53,.69,.99])};function V$(t,e){if(t)return typeof t=="function"&&$x()?M$(t,e):rC(t)?Im(t):Array.isArray(t)?t.map(n=>V$(n,e)||vA.easeOut):vA[t]}const Zi={x:!1,y:!1};function U$(){return Zi.x||Zi.y}function zge(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function z$(t,e){const n=zge(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function D4(t){return e=>{e.pointerType==="touch"||U$()||t(e)}}function Bge(t,e,n={}){const[r,i,a]=z$(t,n),s=D4(o=>{const{target:l}=o,c=e(o);if(typeof c!="function"||!l)return;const d=D4(h=>{c(h),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,i)});return r.forEach(o=>{o.addEventListener("pointerenter",s,i)}),a}const B$=(t,e)=>e?t===e?!0:B$(t,e.parentElement):!1,iC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Fge=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $ge(t){return Fge.has(t.tagName)||t.tabIndex!==-1}const Pm=new WeakSet;function M4(t){return e=>{e.key==="Enter"&&t(e)}}function FE(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const qge=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=M4(()=>{if(Pm.has(n))return;FE(n,"down");const i=M4(()=>{FE(n,"up")}),a=()=>FE(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function L4(t){return iC(t)&&!U$()}function Hge(t,e,n={}){const[r,i,a]=z$(t,n),s=o=>{const l=o.currentTarget;if(!L4(o)||Pm.has(l))return;Pm.add(l);const c=e(o),d=(m,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!L4(m)||!Pm.has(l))&&(Pm.delete(l),typeof c=="function"&&c(m,{success:y}))},h=m=>{d(m,n.useGlobalTarget||B$(l,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return r.forEach(o=>{!$ge(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",s,i),o.addEventListener("focus",c=>qge(c,i),i)}),a}function Gge(t){return t==="x"||t==="y"?Zi[t]?null:(Zi[t]=!0,()=>{Zi[t]=!1}):Zi.x||Zi.y?null:(Zi.x=Zi.y=!0,()=>{Zi.x=Zi.y=!1})}const F$=new Set(["width","height","top","left","right","bottom",...lf]);let I0;function Kge(){I0=void 0}const Ra={now:()=>(I0===void 0&&Ra.set($n.isProcessing||Fpe.useManualTiming?$n.timestamp:performance.now()),I0),set:t=>{I0=t,queueMicrotask(Kge)}};function aC(t,e){t.indexOf(e)===-1&&t.push(e)}function sC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class oC{constructor(){this.subscriptions=[]}add(e){return aC(this.subscriptions,e),()=>sC(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function $$(t,e){return e?t*(1e3/e):0}const V4=30,Wge=t=>!isNaN(parseFloat(t));class Yge{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=Ra.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ra.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Wge(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new oC);const r=this.events[e].add(n);return e==="change"?()=>{r(),vt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ra.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>V4)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,V4);return $$(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sg(t,e){return new Yge(t,e)}function Qge(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,sg(n))}function Xge(t,e){const n=l_(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const s in a){const o=cge(a[s]);Qge(t,s,o)}}function Zge(t){return!!(cr(t)&&t.add)}function xA(t,e){const n=t.getValue("willChange");if(Zge(n))return n.add(e)}function q$(t){return t.props[b$]}const H$=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Jge=1e-7,eye=12;function tye(t,e,n,r,i){let a,s,o=0;do s=e+(n-e)/2,a=H$(s,r,i)-t,a>0?n=s:e=s;while(Math.abs(a)>Jge&&++o<eye);return s}function py(t,e,n,r){if(t===e&&n===r)return hi;const i=a=>tye(a,0,1,t,n);return a=>a===0||a===1?a:H$(i(a),e,r)}const G$=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,K$=t=>e=>1-t(1-e),W$=py(.33,1.53,.69,.99),lC=K$(W$),Y$=G$(lC),Q$=t=>(t*=2)<1?.5*lC(t):.5*(2-Math.pow(2,-10*(t-1))),cC=t=>1-Math.sin(Math.acos(t)),X$=K$(cC),Z$=G$(cC),J$=t=>/^0[^.\s]+$/u.test(t);function nye(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||J$(t):!0}const up=t=>Math.round(t*1e5)/1e5,uC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rye(t){return t==null}const iye=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,dC=(t,e)=>n=>!!(typeof n=="string"&&iye.test(n)&&n.startsWith(t)||e&&!rye(n)&&Object.prototype.hasOwnProperty.call(n,e)),eq=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,s,o]=r.match(uC);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},aye=t=>Vs(0,255,t),$E={...cf,transform:t=>Math.round(aye(t))},wc={test:dC("rgb","red"),parse:eq("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+$E.transform(t)+", "+$E.transform(e)+", "+$E.transform(n)+", "+up(ag.transform(r))+")"};function sye(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const bA={test:dC("#"),parse:sye,transform:wc.transform},xd={test:dC("hsl","hue"),parse:eq("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Oa.transform(up(e))+", "+Oa.transform(up(n))+", "+up(ag.transform(r))+")"},nr={test:t=>wc.test(t)||bA.test(t)||xd.test(t),parse:t=>wc.test(t)?wc.parse(t):xd.test(t)?xd.parse(t):bA.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?wc.transform(t):xd.transform(t)},oye=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function lye(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(uC))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(oye))===null||n===void 0?void 0:n.length)||0)>0}const tq="number",nq="color",cye="var",uye="var(",U4="${}",dye=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function og(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const o=e.replace(dye,l=>(nr.test(l)?(r.color.push(a),i.push(nq),n.push(nr.parse(l))):l.startsWith(uye)?(r.var.push(a),i.push(cye),n.push(l)):(r.number.push(a),i.push(tq),n.push(parseFloat(l))),++a,U4)).split(U4);return{values:n,split:o,indexes:r,types:i}}function rq(t){return og(t).values}function iq(t){const{split:e,types:n}=og(t),r=e.length;return i=>{let a="";for(let s=0;s<r;s++)if(a+=e[s],i[s]!==void 0){const o=n[s];o===tq?a+=up(i[s]):o===nq?a+=nr.transform(i[s]):a+=i[s]}return a}}const hye=t=>typeof t=="number"?0:t;function fye(t){const e=rq(t);return iq(t)(e.map(hye))}const _l={test:lye,parse:rq,createTransformer:iq,getAnimatableNone:fye},mye=new Set(["brightness","contrast","saturate","opacity"]);function pye(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(uC)||[];if(!r)return t;const i=n.replace(r,"");let a=mye.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const gye=/\b([a-z-]*)\(.*?\)/gu,wA={..._l,getAnimatableNone:t=>{const e=t.match(gye);return e?e.map(pye).join(" "):t}},yye={...YP,color:nr,backgroundColor:nr,outlineColor:nr,fill:nr,stroke:nr,borderColor:nr,borderTopColor:nr,borderRightColor:nr,borderBottomColor:nr,borderLeftColor:nr,filter:wA,WebkitFilter:wA},hC=t=>yye[t];function aq(t,e){let n=hC(t);return n!==wA&&(n=_l),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const vye=new Set(["auto","none","0"]);function xye(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!vye.has(a)&&og(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=aq(n,i)}const z4=t=>t===cf||t===ue,B4=(t,e)=>parseFloat(t.split(", ")[e]),F4=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return B4(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?B4(a[1],t):0}},bye=new Set(["x","y","z"]),wye=lf.filter(t=>!bye.has(t));function _ye(t){const e=[];return wye.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ah={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:F4(4,13),y:F4(5,14)};Ah.translateX=Ah.x;Ah.translateY=Ah.y;const Rc=new Set;let _A=!1,EA=!1;function sq(){if(EA){const t=Array.from(Rc).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=_ye(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,s])=>{var o;(o=r.getValue(a))===null||o===void 0||o.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}EA=!1,_A=!1,Rc.forEach(t=>t.complete()),Rc.clear()}function oq(){Rc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(EA=!0)})}function Eye(){oq(),sq()}class fC{constructor(e,n,r,i,a,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Rc.add(this),_A||(_A=!0,vt.read(oq),vt.resolveKeyframes(sq))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Rc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Rc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const lq=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Sye=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Tye(t){const e=Sye.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function cq(t,e,n=1){const[r,i]=Tye(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const s=a.trim();return lq(s)?parseFloat(s):s}return WP(i)?cq(i,e,n+1):i}const uq=t=>e=>e.test(t),Aye={test:t=>t==="auto",parse:t=>t},dq=[cf,ue,Oa,So,pge,mge,Aye],$4=t=>dq.find(uq(t));class hq extends fC{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),WP(c))){const d=cq(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!F$.has(r)||e.length!==2)return;const[i,a]=e,s=$4(i),o=$4(a);if(s!==o)if(z4(s)&&z4(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)nye(e[i])&&r.push(i);r.length&&xye(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ah[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=Ah[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const q4=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(_l.test(t)||t==="0")&&!t.startsWith("url("));function Nye(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Iye(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],s=q4(i,e),o=q4(a,e);return!s||!o?!1:Nye(t)||(n==="spring"||nC(n))&&r}const Pye=t=>t!==null;function c_(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Pye),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const Cye=40;class fq{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ra.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:s,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Cye?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Eye(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ra.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:s,onComplete:o,onUpdate:l,isGenerator:c}=this.options;if(!c&&!Iye(e,r,i,a))if(s)this.options.duration=0;else{l&&l(c_(e,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const kt=(t,e,n)=>t+(e-t)*n;function qE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function jye({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,s=0;if(!e)i=a=s=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=qE(l,o,t+1/3),a=qE(l,o,t),s=qE(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}function qx(t,e){return n=>n>0?e:t}const HE=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},kye=[bA,wc,xd],Oye=t=>kye.find(e=>e.test(t));function H4(t){const e=Oye(t);if(!e)return!1;let n=e.parse(t);return e===xd&&(n=jye(n)),n}const G4=(t,e)=>{const n=H4(t),r=H4(e);if(!n||!r)return qx(t,e);const i={...n};return a=>(i.red=HE(n.red,r.red,a),i.green=HE(n.green,r.green,a),i.blue=HE(n.blue,r.blue,a),i.alpha=kt(n.alpha,r.alpha,a),wc.transform(i))},Rye=(t,e)=>n=>e(t(n)),gy=(...t)=>t.reduce(Rye),SA=new Set(["none","hidden"]);function Dye(t,e){return SA.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Mye(t,e){return n=>kt(t,e,n)}function mC(t){return typeof t=="number"?Mye:typeof t=="string"?WP(t)?qx:nr.test(t)?G4:Uye:Array.isArray(t)?mq:typeof t=="object"?nr.test(t)?G4:Lye:qx}function mq(t,e){const n=[...t],r=n.length,i=t.map((a,s)=>mC(a)(a,e[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}}function Lye(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=mC(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function Vye(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const s=e.types[a],o=t.indexes[s][i[s]],l=(n=t.values[o])!==null&&n!==void 0?n:0;r[a]=l,i[s]++}return r}const Uye=(t,e)=>{const n=_l.createTransformer(e),r=og(t),i=og(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?SA.has(t)&&!i.values.length||SA.has(e)&&!r.values.length?Dye(t,e):gy(mq(Vye(r,i),i.values),n):qx(t,e)};function pq(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?kt(t,e,n):mC(t)(t,e)}const zye=5;function gq(t,e,n){const r=Math.max(e-zye,0);return $$(n-t(r),e-r)}const zt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},GE=.001;function Bye({duration:t=zt.duration,bounce:e=zt.bounce,velocity:n=zt.velocity,mass:r=zt.mass}){let i,a,s=1-e;s=Vs(zt.minDamping,zt.maxDamping,s),t=Vs(zt.minDuration,zt.maxDuration,_s(t)),s<1?(i=c=>{const d=c*s,h=d*t,f=d-n,m=TA(c,s),y=Math.exp(-h);return GE-f/m*y},a=c=>{const h=c*s*t,f=h*n+n,m=Math.pow(s,2)*Math.pow(c,2)*t,y=Math.exp(-h),v=TA(Math.pow(c,2),s);return(-i(c)+GE>0?-1:1)*((f-m)*y)/v}):(i=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-GE+d*h},a=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const o=5/t,l=$ye(i,a,o);if(t=ws(t),isNaN(l))return{stiffness:zt.stiffness,damping:zt.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const Fye=12;function $ye(t,e,n){let r=n;for(let i=1;i<Fye;i++)r=r-t(r)/e(r);return r}function TA(t,e){return t*Math.sqrt(1-e*e)}const qye=["duration","bounce"],Hye=["stiffness","damping","mass"];function K4(t,e){return e.some(n=>t[n]!==void 0)}function Gye(t){let e={velocity:zt.velocity,stiffness:zt.stiffness,damping:zt.damping,mass:zt.mass,isResolvedFromDuration:!1,...t};if(!K4(t,Hye)&&K4(t,qye))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Vs(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:zt.mass,stiffness:i,damping:a}}else{const n=Bye(t);e={...e,...n,mass:zt.mass},e.isResolvedFromDuration=!0}return e}function yq(t=zt.visualDuration,e=zt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=Gye({...n,velocity:-_s(n.velocity||0)}),y=f||0,v=c/(2*Math.sqrt(l*d)),x=s-a,b=_s(Math.sqrt(l/d)),w=Math.abs(x)<5;r||(r=w?zt.restSpeed.granular:zt.restSpeed.default),i||(i=w?zt.restDelta.granular:zt.restDelta.default);let _;if(v<1){const N=TA(b,v);_=j=>{const A=Math.exp(-v*b*j);return s-A*((y+v*b*x)/N*Math.sin(N*j)+x*Math.cos(N*j))}}else if(v===1)_=N=>s-Math.exp(-b*N)*(x+(y+b*x)*N);else{const N=b*Math.sqrt(v*v-1);_=j=>{const A=Math.exp(-v*b*j),S=Math.min(N*j,300);return s-A*((y+v*b*x)*Math.sinh(S)+N*x*Math.cosh(S))/N}}const T={calculatedDuration:m&&h||null,next:N=>{const j=_(N);if(m)o.done=N>=h;else{let A=0;v<1&&(A=N===0?ws(y):gq(_,N,j));const S=Math.abs(A)<=r,I=Math.abs(s-j)<=i;o.done=S&&I}return o.value=o.done?s:j,o},toString:()=>{const N=Math.min(D$(T),yA),j=M$(A=>T.next(N*A).value,N,30);return N+"ms "+j}};return T}function W4({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=S=>o!==void 0&&S<o||l!==void 0&&S>l,y=S=>o===void 0?l:l===void 0||Math.abs(o-S)<Math.abs(l-S)?o:l;let v=n*e;const x=h+v,b=s===void 0?x:s(x);b!==x&&(v=b-h);const w=S=>-v*Math.exp(-S/r),_=S=>b+w(S),T=S=>{const I=w(S),C=_(S);f.done=Math.abs(I)<=c,f.value=f.done?b:C};let N,j;const A=S=>{m(f.value)&&(N=S,j=yq({keyframes:[f.value,y(f.value)],velocity:gq(_,S,f.value),damping:i,stiffness:a,restDelta:c,restSpeed:d}))};return A(0),{calculatedDuration:null,next:S=>{let I=!1;return!j&&N===void 0&&(I=!0,T(S),A(S)),N!==void 0&&S>=N?j.next(S-N):(!I&&T(S),f)}}}const Kye=py(.42,0,1,1),Wye=py(0,0,.58,1),vq=py(.42,0,.58,1),Yye=t=>Array.isArray(t)&&typeof t[0]!="number",Qye={linear:hi,easeIn:Kye,easeInOut:vq,easeOut:Wye,circIn:cC,circInOut:Z$,circOut:X$,backIn:lC,backInOut:Y$,backOut:W$,anticipate:Q$},Y4=t=>{if(rC(t)){p$(t.length===4);const[e,n,r,i]=t;return py(e,n,r,i)}else if(typeof t=="string")return Qye[t];return t};function Xye(t,e,n){const r=[],i=n||pq,a=t.length-1;for(let s=0;s<a;s++){let o=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||hi:e;o=gy(l,o)}r.push(o)}return r}function Zye(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(p$(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Xye(e,r,i),l=o.length,c=d=>{if(s&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=Sh(t[h],t[h+1],d);return o[h](f)};return n?d=>c(Vs(t[0],t[a-1],d)):c}function Jye(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Sh(0,e,r);t.push(kt(n,1,i))}}function eve(t){const e=[0];return Jye(e,t.length-1),e}function tve(t,e){return t.map(n=>n*e)}function nve(t,e){return t.map(()=>e||vq).splice(0,t.length-1)}function Hx({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Yye(r)?r.map(Y4):Y4(r),a={done:!1,value:e[0]},s=tve(n&&n.length===e.length?n:eve(e),t),o=Zye(s,e,{ease:Array.isArray(i)?i:nve(e,i)});return{calculatedDuration:t,next:l=>(a.value=o(l),a.done=l>=t,a)}}const rve=t=>{const e=({timestamp:n})=>t(n);return{start:()=>vt.update(e,!0),stop:()=>wl(e),now:()=>$n.isProcessing?$n.timestamp:Ra.now()}},ive={decay:W4,inertia:W4,tween:Hx,keyframes:Hx,spring:yq},ave=t=>t/100;class pC extends fq{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,s=(i==null?void 0:i.KeyframeResolver)||fC,o=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new s(a,o,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=this.options,o=nC(n)?n:ive[n]||Hx;let l,c;o!==Hx&&typeof e[0]!="number"&&(l=gy(ave,pq(e[0],e[1])),e=[0,100]);const d=o({...this.options,keyframes:e});a==="mirror"&&(c=o({...this.options,keyframes:[...e].reverse(),velocity:-s})),d.calculatedDuration===null&&(d.calculatedDuration=D$(d));const{calculatedDuration:h}=d,f=h+i,m=f*(r+1)-i;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:s,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return a.next(0);const{delay:f,repeat:m,repeatType:y,repeatDelay:v,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const b=this.currentTime-f*(this.speed>=0?1:-1),w=this.speed>=0?b<0:b>d;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let _=this.currentTime,T=a;if(m){const S=Math.min(this.currentTime,d)/h;let I=Math.floor(S),C=S%1;!C&&S>=1&&(C=1),C===1&&I--,I=Math.min(I,m+1),!!(I%2)&&(y==="reverse"?(C=1-C,v&&(C-=v/h)):y==="mirror"&&(T=s)),_=Vs(0,1,C)*h}const N=w?{done:!1,value:l[0]}:T.next(_);o&&(N.value=o(N.value));let{done:j}=N;!w&&c!==null&&(j=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return A&&i!==void 0&&(N.value=c_(l,this.options,i)),x&&x(N.value),A&&this.finish(),N}get duration(){const{resolved:e}=this;return e?_s(e.calculatedDuration):0}get time(){return _s(this.currentTime)}set time(e){e=ws(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=_s(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=rve,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const sve=new Set(["opacity","clipPath","filter","transform"]);function ove(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=V$(o,i);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}const lve=BP(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Gx=10,cve=2e4;function uve(t){return nC(t.type)||t.type==="spring"||!L$(t.ease)}function dve(t,e){const n=new pC({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<cve;)r=n.sample(a),i.push(r.value),a+=Gx;return{times:void 0,keyframes:i,duration:a-Gx,ease:"linear"}}const xq={anticipate:Q$,backInOut:Y$,circInOut:Z$};function hve(t){return t in xq}class Q4 extends fq{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new hq(a,(s,o)=>this.onKeyframesResolved(s,o),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:a,type:s,motionValue:o,name:l,startTime:c}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof a=="string"&&$x()&&hve(a)&&(a=xq[a]),uve(this.options)){const{onComplete:h,onUpdate:f,motionValue:m,element:y,...v}=this.options,x=dve(e,v);e=x.keyframes,e.length===1&&(e[1]=e[0]),r=x.duration,i=x.times,a=x.ease,s="keyframes"}const d=ove(o.owner.current,l,e,{...this.options,duration:r,times:i,ease:a});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(R4(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;o.set(c_(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:i,type:s,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return _s(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return _s(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ws(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return hi;const{animation:r}=n;R4(r,e)}return hi}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:a,ease:s,times:o}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:h,element:f,...m}=this.options,y=new pC({...m,keyframes:r,duration:i,type:a,ease:s,times:o,isGenerator:!0}),v=ws(this.time);c.setWithVelocity(y.sample(v-Gx).value,y.sample(v).value,Gx)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:s,type:o}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return lve()&&r&&sve.has(r)&&!l&&!c&&!i&&a!=="mirror"&&s!==0&&o!=="inertia"}}const fve={type:"spring",stiffness:500,damping:25,restSpeed:10},mve=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),pve={type:"keyframes",duration:.8},gve={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yve=(t,{keyframes:e})=>e.length>2?pve:Iu.has(t)?t.startsWith("scale")?mve(e[1]):fve:gve;function vve({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const gC=(t,e,n,r={},i,a)=>s=>{const o=tC(r,t)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-ws(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:f=>{e.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:a?void 0:i};vve(o)||(d={...d,...yve(t,d)}),d.duration&&(d.duration=ws(d.duration)),d.repeatDelay&&(d.repeatDelay=ws(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!a&&e.get()!==void 0){const f=c_(d.keyframes,o);if(f!==void 0)return vt.update(()=>{d.onUpdate(f),d.onComplete()}),new Lge([])}return!a&&Q4.supports(d)?new Q4(d):new pC(d)};function xve({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function bq(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(s=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const f=t.getValue(h,(a=t.latestValues[h])!==null&&a!==void 0?a:null),m=l[h];if(m===void 0||d&&xve(d,h))continue;const y={delay:n,...tC(s||{},h)};let v=!1;if(window.MotionHandoffAnimation){const b=q$(t);if(b){const w=window.MotionHandoffAnimation(b,h,vt);w!==null&&(y.startTime=w,v=!0)}}xA(t,h),f.start(gC(h,f,m,t.shouldReduceMotion&&F$.has(h)?{type:!1}:y,t,v));const x=f.animation;x&&c.push(x)}return o&&Promise.all(c).then(()=>{vt.update(()=>{o&&Xge(t,o)})}),c}function AA(t,e,n={}){var r;const i=l_(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const s=i?()=>Promise.all(bq(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=a;return bve(t,e,d+c,h,f,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,d]=l==="beforeChildren"?[s,o]:[o,s];return c().then(()=>d())}else return Promise.all([s(),o(n.delay)])}function bve(t,e,n=0,r=0,i=1,a){const s=[],o=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>o-c*r;return Array.from(t.variantChildren).sort(wve).forEach((c,d)=>{c.notify("AnimationStart",e),s.push(AA(c,e,{...a,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function wve(t,e){return t.sortNodePosition(e)}function _ve(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>AA(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=AA(t,e,n);else{const i=typeof e=="function"?l_(t,e,n.custom):e;r=Promise.all(bq(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Eve=$P.length;function wq(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?wq(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Eve;n++){const r=$P[n],i=t.props[r];(ig(i)||i===!1)&&(e[r]=i)}return e}const Sve=[...FP].reverse(),Tve=FP.length;function Ave(t){return e=>Promise.all(e.map(({animation:n,options:r})=>_ve(t,n,r)))}function Nve(t){let e=Ave(t),n=X4(),r=!0;const i=l=>(c,d)=>{var h;const f=l_(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:y,...v}=f;c={...c,...v,...y}}return c};function a(l){e=l(t)}function s(l){const{props:c}=t,d=wq(t.parent)||{},h=[],f=new Set;let m={},y=1/0;for(let x=0;x<Tve;x++){const b=Sve[x],w=n[b],_=c[b]!==void 0?c[b]:d[b],T=ig(_),N=b===l?w.isActive:null;N===!1&&(y=x);let j=_===d[b]&&_!==c[b]&&T;if(j&&r&&t.manuallyAnimateOnMount&&(j=!1),w.protectedKeys={...m},!w.isActive&&N===null||!_&&!w.prevProp||s_(_)||typeof _=="boolean")continue;const A=Ive(w.prevProp,_);let S=A||b===l&&w.isActive&&!j&&T||x>y&&T,I=!1;const C=Array.isArray(_)?_:[_];let k=C.reduce(i(b),{});N===!1&&(k={});const{prevResolvedValues:R={}}=w,O={...R,...k},M=$=>{S=!0,f.has($)&&(I=!0,f.delete($)),w.needsAnimating[$]=!0;const Q=t.getValue($);Q&&(Q.liveStyle=!1)};for(const $ in O){const Q=k[$],ne=R[$];if(m.hasOwnProperty($))continue;let de=!1;gA(Q)&&gA(ne)?de=!R$(Q,ne):de=Q!==ne,de?Q!=null?M($):f.add($):Q!==void 0&&f.has($)?M($):w.protectedKeys[$]=!0}w.prevProp=_,w.prevResolvedValues=k,w.isActive&&(m={...m,...k}),r&&t.blockInitialAnimation&&(S=!1),S&&(!(j&&A)||I)&&h.push(...C.map($=>({animation:$,options:{type:b}})))}if(f.size){const x={};f.forEach(b=>{const w=t.getBaseTarget(b),_=t.getValue(b);_&&(_.liveStyle=!0),x[b]=w??null}),h.push({animation:x})}let v=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(h):Promise.resolve()}function o(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const h=s(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n,reset:()=>{n=X4(),r=!0}}}function Ive(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!R$(e,t):!1}function Xl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function X4(){return{animate:Xl(!0),whileInView:Xl(),whileHover:Xl(),whileTap:Xl(),whileDrag:Xl(),whileFocus:Xl(),exit:Xl()}}class Ll{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Pve extends Ll{constructor(e){super(e),e.animationState||(e.animationState=Nve(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();s_(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Cve=0;class jve extends Ll{constructor(){super(...arguments),this.id=Cve++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const kve={animation:{Feature:Pve},exit:{Feature:jve}};function lg(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function yy(t){return{point:{x:t.pageX,y:t.pageY}}}const Ove=t=>e=>iC(e)&&t(e,yy(e));function dp(t,e,n,r){return lg(t,e,Ove(n),r)}const Z4=(t,e)=>Math.abs(t-e);function Rve(t,e){const n=Z4(t.x,e.x),r=Z4(t.y,e.y);return Math.sqrt(n**2+r**2)}class _q{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=WE(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=Rve(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:y}=h,{timestamp:v}=$n;this.history.push({...y,timestamp:v});const{onStart:x,onMove:b}=this.handlers;f||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=KE(f,this.transformPagePoint),vt.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=WE(h.type==="pointercancel"?this.lastMoveEventInfo:KE(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,x),y&&y(h,x)},!iC(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=yy(e),o=KE(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=$n;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,WE(o,this.history)),this.removeListeners=gy(dp(this.contextWindow,"pointermove",this.handlePointerMove),dp(this.contextWindow,"pointerup",this.handlePointerUp),dp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),wl(this.updatePoint)}}function KE(t,e){return e?{point:e(t.point)}:t}function J4(t,e){return{x:t.x-e.x,y:t.y-e.y}}function WE({point:t},e){return{point:t,delta:J4(t,Eq(e)),offset:J4(t,Dve(e)),velocity:Mve(e,.1)}}function Dve(t){return t[0]}function Eq(t){return t[t.length-1]}function Mve(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Eq(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ws(e)));)n--;if(!r)return{x:0,y:0};const a=_s(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}const Sq=1e-4,Lve=1-Sq,Vve=1+Sq,Tq=.01,Uve=0-Tq,zve=0+Tq;function vi(t){return t.max-t.min}function Bve(t,e,n){return Math.abs(t-e)<=n}function e5(t,e,n,r=.5){t.origin=r,t.originPoint=kt(e.min,e.max,t.origin),t.scale=vi(n)/vi(e),t.translate=kt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Lve&&t.scale<=Vve||isNaN(t.scale))&&(t.scale=1),(t.translate>=Uve&&t.translate<=zve||isNaN(t.translate))&&(t.translate=0)}function hp(t,e,n,r){e5(t.x,e.x,n.x,r?r.originX:void 0),e5(t.y,e.y,n.y,r?r.originY:void 0)}function t5(t,e,n){t.min=n.min+e.min,t.max=t.min+vi(e)}function Fve(t,e,n){t5(t.x,e.x,n.x),t5(t.y,e.y,n.y)}function n5(t,e,n){t.min=e.min-n.min,t.max=t.min+vi(e)}function fp(t,e,n){n5(t.x,e.x,n.x),n5(t.y,e.y,n.y)}function $ve(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?kt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?kt(n,t,r.max):Math.min(t,n)),t}function r5(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function qve(t,{top:e,left:n,bottom:r,right:i}){return{x:r5(t.x,n,i),y:r5(t.y,e,r)}}function i5(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Hve(t,e){return{x:i5(t.x,e.x),y:i5(t.y,e.y)}}function Gve(t,e){let n=.5;const r=vi(t),i=vi(e);return i>r?n=Sh(e.min,e.max-r,t.min):r>i&&(n=Sh(t.min,t.max-i,e.min)),Vs(0,1,n)}function Kve(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const NA=.35;function Wve(t=NA){return t===!1?t=0:t===!0&&(t=NA),{x:a5(t,"left","right"),y:a5(t,"top","bottom")}}function a5(t,e,n){return{min:s5(t,e),max:s5(t,n)}}function s5(t,e){return typeof t=="number"?t:t[e]||0}const o5=()=>({translate:0,scale:1,origin:0,originPoint:0}),bd=()=>({x:o5(),y:o5()}),l5=()=>({min:0,max:0}),Wt=()=>({x:l5(),y:l5()});function Ti(t){return[t("x"),t("y")]}function Aq({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Yve({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Qve(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function YE(t){return t===void 0||t===1}function IA({scale:t,scaleX:e,scaleY:n}){return!YE(t)||!YE(e)||!YE(n)}function ac(t){return IA(t)||Nq(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Nq(t){return c5(t.x)||c5(t.y)}function c5(t){return t&&t!=="0%"}function Kx(t,e,n){const r=t-n,i=e*r;return n+i}function u5(t,e,n,r,i){return i!==void 0&&(t=Kx(t,i,r)),Kx(t,n,r)+e}function PA(t,e=0,n=1,r,i){t.min=u5(t.min,e,n,r,i),t.max=u5(t.max,e,n,r,i)}function Iq(t,{x:e,y:n}){PA(t.x,e.translate,e.scale,e.originPoint),PA(t.y,n.translate,n.scale,n.originPoint)}const d5=.999999999999,h5=1.0000000000001;function Xve(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&_d(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,Iq(t,s)),r&&ac(a.latestValues)&&_d(t,a.latestValues))}e.x<h5&&e.x>d5&&(e.x=1),e.y<h5&&e.y>d5&&(e.y=1)}function wd(t,e){t.min=t.min+e,t.max=t.max+e}function f5(t,e,n,r,i=.5){const a=kt(t.min,t.max,i);PA(t,e,n,a,r)}function _d(t,e){f5(t.x,e.x,e.scaleX,e.scale,e.originX),f5(t.y,e.y,e.scaleY,e.scale,e.originY)}function Pq(t,e){return Aq(Qve(t.getBoundingClientRect(),e))}function Zve(t,e,n){const r=Pq(t,n),{scroll:i}=e;return i&&(wd(r.x,i.offset.x),wd(r.y,i.offset.y)),r}const Cq=({current:t})=>t?t.ownerDocument.defaultView:null,Jve=new WeakMap;class e0e{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(yy(d).point)},a=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:y}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Gge(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ti(x=>{let b=this.getAxisMotionValue(x).get()||0;if(Oa.test(b)){const{projection:w}=this.visualElement;if(w&&w.layout){const _=w.layout.layoutBox[x];_&&(b=vi(_)*(parseFloat(b)/100))}}this.originPoint[x]=b}),y&&vt.postRender(()=>y(d,h)),xA(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},s=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:y,onDrag:v}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:x}=h;if(m&&this.currentDirection===null){this.currentDirection=t0e(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),v&&v(d,h)},o=(d,h)=>this.stop(d,h),l=()=>Ti(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new _q(e,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Cq(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&vt.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Iv(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=$ve(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&vd(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=qve(i.layoutBox,n):this.constraints=!1,this.elastic=Wve(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ti(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Kve(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!vd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Zve(r,i.root,this.visualElement.getTransformPagePoint());let s=Hve(i.layout.layoutBox,a);if(n){const o=n(Yve(s));this.hasMutatedConstraints=!!o,o&&(s=Aq(o))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Ti(d=>{if(!Iv(d,n,this.currentDirection))return;let h=l&&l[d]||{};s&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return xA(this.visualElement,e),r.start(gC(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ti(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ti(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ti(n=>{const{drag:r}=this.getProps();if(!Iv(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(e[n]-kt(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!vd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ti(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();i[s]=Gve({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ti(s=>{if(!Iv(s,e,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(kt(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;Jve.set(this.visualElement,this);const e=this.visualElement.current,n=dp(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();vd(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),vt.read(r);const s=lg(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ti(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=NA,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function Iv(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function t0e(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class n0e extends Ll{constructor(e){super(e),this.removeGroupControls=hi,this.removeListeners=hi,this.controls=new e0e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hi}unmount(){this.removeGroupControls(),this.removeListeners()}}const m5=t=>(e,n)=>{t&&vt.postRender(()=>t(e,n))};class r0e extends Ll{constructor(){super(...arguments),this.removePointerDownListener=hi}onPointerDown(e){this.session=new _q(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Cq(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:m5(e),onStart:m5(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&vt.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=dp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const P0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function p5(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const rm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ue.test(t))t=parseFloat(t);else return t;const n=p5(t,e.target.x),r=p5(t,e.target.y);return`${n}% ${r}%`}},i0e={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=_l.parse(t);if(i.length>5)return r;const a=_l.createTransformer(t),s=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=o,i[1+s]/=l;const c=kt(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),a(i)}};class a0e extends g.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;Tge(s0e),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),P0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||vt.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),HP.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function jq(t){const[e,n]=f$(),r=g.useContext(LP);return u.jsx(a0e,{...t,layoutGroup:r,switchLayoutGroup:g.useContext(w$),isPresent:e,safeToRemove:n})}const s0e={borderRadius:{...rm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rm,borderTopRightRadius:rm,borderBottomLeftRadius:rm,borderBottomRightRadius:rm,boxShadow:i0e};function o0e(t,e,n){const r=cr(t)?t:sg(t);return r.start(gC("",r,e,n)),r.animation}function l0e(t){return t instanceof SVGElement&&t.tagName!=="svg"}const c0e=(t,e)=>t.depth-e.depth;class u0e{constructor(){this.children=[],this.isDirty=!1}add(e){aC(this.children,e),this.isDirty=!0}remove(e){sC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(c0e),this.isDirty=!1,this.children.forEach(e)}}function d0e(t,e){const n=Ra.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(wl(r),t(a-e))};return vt.read(r,!0),()=>wl(r)}const kq=["TopLeft","TopRight","BottomLeft","BottomRight"],h0e=kq.length,g5=t=>typeof t=="string"?parseFloat(t):t,y5=t=>typeof t=="number"||ue.test(t);function f0e(t,e,n,r,i,a){i?(t.opacity=kt(0,n.opacity!==void 0?n.opacity:1,m0e(r)),t.opacityExit=kt(e.opacity!==void 0?e.opacity:1,0,p0e(r))):a&&(t.opacity=kt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<h0e;s++){const o=`border${kq[s]}Radius`;let l=v5(e,o),c=v5(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||y5(l)===y5(c)?(t[o]=Math.max(kt(g5(l),g5(c),r),0),(Oa.test(c)||Oa.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=kt(e.rotate||0,n.rotate||0,r))}function v5(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const m0e=Oq(0,.5,X$),p0e=Oq(.5,.95,hi);function Oq(t,e,n){return r=>r<t?0:r>e?1:n(Sh(t,e,r))}function x5(t,e){t.min=e.min,t.max=e.max}function bi(t,e){x5(t.x,e.x),x5(t.y,e.y)}function b5(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function w5(t,e,n,r,i){return t-=e,t=Kx(t,1/n,r),i!==void 0&&(t=Kx(t,1/i,r)),t}function g0e(t,e=0,n=1,r=.5,i,a=t,s=t){if(Oa.test(e)&&(e=parseFloat(e),e=kt(s.min,s.max,e/100)-s.min),typeof e!="number")return;let o=kt(a.min,a.max,r);t===a&&(o-=e),t.min=w5(t.min,e,n,o,i),t.max=w5(t.max,e,n,o,i)}function _5(t,e,[n,r,i],a,s){g0e(t,e[n],e[r],e[i],e.scale,a,s)}const y0e=["x","scaleX","originX"],v0e=["y","scaleY","originY"];function E5(t,e,n,r){_5(t.x,e,y0e,n?n.x:void 0,r?r.x:void 0),_5(t.y,e,v0e,n?n.y:void 0,r?r.y:void 0)}function S5(t){return t.translate===0&&t.scale===1}function Rq(t){return S5(t.x)&&S5(t.y)}function T5(t,e){return t.min===e.min&&t.max===e.max}function x0e(t,e){return T5(t.x,e.x)&&T5(t.y,e.y)}function A5(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Dq(t,e){return A5(t.x,e.x)&&A5(t.y,e.y)}function N5(t){return vi(t.x)/vi(t.y)}function I5(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class b0e{constructor(){this.members=[]}add(e){aC(this.members,e),e.scheduleRender()}remove(e){if(sC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function w0e(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,s=(n==null?void 0:n.z)||0;if((i||a||s)&&(r=`translate3d(${i}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:y}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const sc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Cm=typeof window<"u"&&window.MotionDebug!==void 0,QE=["","X","Y","Z"],_0e={visibility:"hidden"},P5=1e3;let E0e=0;function XE(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Mq(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=q$(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",vt,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Mq(r)}function Lq({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=e==null?void 0:e()){this.id=E0e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Cm&&(sc.totalNodes=sc.resolvedTargetDeltas=sc.recalculatedProjection=0),this.nodes.forEach(A0e),this.nodes.forEach(j0e),this.nodes.forEach(k0e),this.nodes.forEach(N0e),Cm&&window.MotionDebug.record(sc)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new u0e)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new oC),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=l0e(s),this.instance=s;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=d0e(f,250),P0.hasAnimatedSinceResize&&(P0.hasAnimatedSinceResize=!1,this.nodes.forEach(j5))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||L0e,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=d.getProps(),w=!this.targetLayout||!Dq(this.targetLayout,y)||m,_=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,_);const T={...tC(v,"layout"),onPlay:x,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else f||j5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(O0e),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Mq(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(C5);return}this.isUpdating||this.nodes.forEach(P0e),this.isUpdating=!1,this.nodes.forEach(C0e),this.nodes.forEach(S0e),this.nodes.forEach(T0e),this.clearAllSnapshots();const o=Ra.now();$n.delta=Vs(0,1e3/60,o-$n.timestamp),$n.timestamp=o,$n.isProcessing=!0,BE.update.process($n),BE.preRender.process($n),BE.render.process($n),$n.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,HP.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(I0e),this.sharedNodes.forEach(R0e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!Rq(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;s&&(o||ac(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),V0e(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:o}=this.options;if(!o)return Wt();const l=o.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(U0e))){const{scroll:d}=this.root;d&&(wd(l.x,d.offset.x),wd(l.y,d.offset.y))}return l}removeElementScroll(s){var o;const l=Wt();if(bi(l,s),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&bi(l,s),wd(l.x,h.offset.x),wd(l.y,h.offset.y))}return l}applyTransform(s,o=!1){const l=Wt();bi(l,s);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&_d(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ac(d.latestValues)&&_d(l,d.latestValues)}return ac(this.latestValues)&&_d(l,this.latestValues),l}removeTransform(s){const o=Wt();bi(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ac(c.latestValues))continue;IA(c.latestValues)&&c.updateSnapshot();const d=Wt(),h=c.measurePageBox();bi(d,h),E5(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return ac(this.latestValues)&&E5(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$n.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=$n.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),fp(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Wt(),this.targetWithTransforms=Wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Fve(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bi(this.target,this.layout.layoutBox),Iq(this.target,this.targetDelta)):bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),fp(this.relativeTargetOrigin,this.target,m.target),bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Cm&&sc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||IA(this.parent.latestValues)||Nq(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===$n.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;bi(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;Xve(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Wt());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(b5(this.prevProjectionDelta.x,this.projectionDelta.x),b5(this.prevProjectionDelta.y,this.projectionDelta.y)),hp(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!I5(this.projectionDelta.x,this.prevProjectionDelta.x)||!I5(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Cm&&sc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bd(),this.projectionDelta=bd(),this.projectionDeltaWithTransform=bd()}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=bd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Wt(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,v=m!==y,x=this.getStack(),b=!x||x.members.length<=1,w=!!(v&&!b&&this.options.crossfade===!0&&!this.path.some(M0e));this.animationProgress=0;let _;this.mixTargetDelta=T=>{const N=T/1e3;k5(h.x,s.x,N),k5(h.y,s.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fp(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),D0e(this.relativeTarget,this.relativeTargetOrigin,f,N),_&&x0e(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Wt()),bi(_,this.relativeTarget)),v&&(this.animationValues=d,f0e(d,c,this.latestValues,N,w,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vt.update(()=>{P0.hasAnimatedSinceResize=!0,this.currentAnimation=o0e(0,P5,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(P5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&Vq(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Wt();const h=vi(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+h;const f=vi(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+f}bi(o,l),_d(o,d),hp(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new b0e),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&XE("z",s,c,this.animationValues);for(let d=0;d<QE.length;d++)XE(`rotate${QE[d]}`,s,c,this.animationValues),XE(`skew${QE[d]}`,s,c,this.animationValues);s.render();for(const d in c)s.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);s.scheduleRender()}getProjectionStyles(s){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return _0e;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=N0(s==null?void 0:s.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=N0(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!ac(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=w0e(this.projectionDeltaWithTransform,this.treeScale,f),d&&(c.transform=d(f,c.transform));const{x:m,y}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in Fx){if(f[v]===void 0)continue;const{correct:x,applyTo:b}=Fx[v],w=c.transform==="none"?f[v]:x(f[v],h);if(b){const _=b.length;for(let T=0;T<_;T++)c[b[T]]=w}else c[v]=w}return this.options.layoutId&&(c.pointerEvents=h===this?N0(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(C5),this.root.sharedNodes.clear()}}}function S0e(t){t.updateLayout()}function T0e(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,s=n.source!==t.layout.source;a==="size"?Ti(h=>{const f=s?n.measuredBox[h]:n.layoutBox[h],m=vi(f);f.min=r[h].min,f.max=f.min+m}):Vq(a,n.layoutBox,r)&&Ti(h=>{const f=s?n.measuredBox[h]:n.layoutBox[h],m=vi(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const o=bd();hp(o,r,n.layoutBox);const l=bd();s?hp(l,t.applyTransform(i,!0),n.measuredBox):hp(l,r,n.layoutBox);const c=!Rq(o);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const y=Wt();fp(y,n.layoutBox,f.layoutBox);const v=Wt();fp(v,r,m.layoutBox),Dq(y,v)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=y,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function A0e(t){Cm&&sc.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function N0e(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function I0e(t){t.clearSnapshot()}function C5(t){t.clearMeasurements()}function P0e(t){t.isLayoutDirty=!1}function C0e(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function j5(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function j0e(t){t.resolveTargetDelta()}function k0e(t){t.calcProjection()}function O0e(t){t.resetSkewAndRotation()}function R0e(t){t.removeLeadSnapshot()}function k5(t,e,n){t.translate=kt(e.translate,0,n),t.scale=kt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function O5(t,e,n,r){t.min=kt(e.min,n.min,r),t.max=kt(e.max,n.max,r)}function D0e(t,e,n,r){O5(t.x,e.x,n.x,r),O5(t.y,e.y,n.y,r)}function M0e(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const L0e={duration:.45,ease:[.4,0,.1,1]},R5=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),D5=R5("applewebkit/")&&!R5("chrome/")?Math.round:hi;function M5(t){t.min=D5(t.min),t.max=D5(t.max)}function V0e(t){M5(t.x),M5(t.y)}function Vq(t,e,n){return t==="position"||t==="preserve-aspect"&&!Bve(N5(e),N5(n),.2)}function U0e(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const z0e=Lq({attachResizeListener:(t,e)=>lg(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ZE={current:void 0},Uq=Lq({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ZE.current){const t=new z0e({});t.mount(window),t.setOptions({layoutScroll:!0}),ZE.current=t}return ZE.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),B0e={pan:{Feature:r0e},drag:{Feature:n0e,ProjectionNode:Uq,MeasureLayout:jq}};function L5(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&vt.postRender(()=>a(e,yy(e)))}class F0e extends Ll{mount(){const{current:e}=this.node;e&&(this.unmount=Bge(e,n=>(L5(this.node,n,"Start"),r=>L5(this.node,r,"End"))))}unmount(){}}class $0e extends Ll{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gy(lg(this.node.current,"focus",()=>this.onFocus()),lg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function V5(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&vt.postRender(()=>a(e,yy(e)))}class q0e extends Ll{mount(){const{current:e}=this.node;e&&(this.unmount=Hge(e,n=>(V5(this.node,n,"Start"),(r,{success:i})=>V5(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const CA=new WeakMap,JE=new WeakMap,H0e=t=>{const e=CA.get(t.target);e&&e(t)},G0e=t=>{t.forEach(H0e)};function K0e({root:t,...e}){const n=t||document;JE.has(n)||JE.set(n,{});const r=JE.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(G0e,{root:t,...e})),r[i]}function W0e(t,e,n){const r=K0e(e);return CA.set(t,n),r.observe(t),()=>{CA.delete(t),r.unobserve(t)}}const Y0e={some:0,all:1};class Q0e extends Ll{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Y0e[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return W0e(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(X0e(e,n))&&this.startObserver()}unmount(){}}function X0e({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Z0e={inView:{Feature:Q0e},tap:{Feature:q0e},focus:{Feature:$0e},hover:{Feature:F0e}},J0e={layout:{ProjectionNode:Uq,MeasureLayout:jq}},jA={current:null},zq={current:!1};function exe(){if(zq.current=!0,!!zP)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>jA.current=t.matches;t.addListener(e),e()}else jA.current=!1}const txe=[...dq,nr,_l],nxe=t=>txe.find(uq(t)),U5=new WeakMap;function rxe(t,e,n){for(const r in e){const i=e[r],a=n[r];if(cr(i))t.addValue(r,i);else if(cr(a))t.addValue(r,sg(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,sg(s!==void 0?s:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const z5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ixe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Ra.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,vt.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=s;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=o_(n),this.isVariantNode=x$(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in f){const y=f[m];l[m]!==void 0&&cr(y)&&y.set(l[m],!1)}}mount(e){this.current=e,U5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),zq.current||exe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){U5.delete(this.current),this.projection&&this.projection.unmount(),wl(this.notifyUpdate),wl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Iu.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&vt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Th){const n=Th[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<z5.length;r++){const i=z5[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=e[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=rxe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=sg(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(lq(i)||J$(i))?i=parseFloat(i):!nxe(i)&&_l.test(n)&&(i=aq(e,n)),this.setBaseTarget(e,cr(i)?i.get():i)),cr(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=KP(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!cr(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new oC),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Bq extends ixe{constructor(){super(...arguments),this.KeyframeResolver=hq}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;cr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function axe(t){return window.getComputedStyle(t)}class sxe extends Bq{constructor(){super(...arguments),this.type="html",this.renderInstance=I$}readValueFromInstance(e,n){if(Iu.has(n)){const r=hC(n);return r&&r.default||0}else{const r=axe(e),i=(T$(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Pq(e,n)}build(e,n,r){QP(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return eC(e,n,r)}}class oxe extends Bq{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Iu.has(n)){const r=hC(n);return r&&r.default||0}return n=P$.has(n)?n:qP(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return k$(e,n,r)}build(e,n,r){XP(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){C$(e,n,r,i)}mount(e){this.isSVGTag=JP(e.tagName),super.mount(e)}}const lxe=(t,e)=>GP(t)?new oxe(e):new sxe(e,{allowProjection:t!==g.Fragment}),cxe=Rge({...kve,...Z0e,...B0e,...J0e},lxe),za=Ype(cxe),uxe=({product:t,onAddToCart:e,isLoggedIn:n})=>{const{name:r,description:i,category:a,imageUrl:s,comboImageUrl:o,available:l,stock:c,popular:d,new:h}=t,f=Ki(),[m,y]=g.useState(t.sizes[0]),v=m.name==="Combo Meal"&&o?o:s,x=!l||c===0,b=()=>{n?e(t,m):f("/auth/login")},w=()=>x?u.jsx("p",{className:"text-sm font-medium text-red-600",children:"Out of Stock"}):c<5?u.jsxs("p",{className:"text-sm font-medium text-orange-600",children:["Only ",c," left"]}):u.jsx("p",{className:"text-sm font-medium text-green-600",children:"In Stock"});return u.jsxs(ge,{className:"flex flex-col overflow-hidden transition-transform duration-300 hover:-translate-y-1",hover:!0,children:[u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:v,alt:r,className:"h-32 w-full object-cover sm:h-48"}),u.jsxs("div",{className:"absolute top-2 right-2 z-10 flex flex-col items-end gap-1",children:[x?u.jsx(or,{className:"bg-red-100 text-red-800",size:"sm",children:"Out of Stock"}):c>0&&c<5?u.jsx(or,{className:"bg-orange-100 text-orange-800",size:"sm",children:"Low Stock"}):null,d&&!x&&u.jsx("div",{className:"rounded-full bg-amber-100 p-1.5 text-amber-600 shadow-sm",title:"Popular",children:u.jsx(kp,{className:"h-4 w-4 fill-current"})}),h&&!x&&u.jsx("div",{className:"rounded-full bg-blue-100 p-1.5 text-blue-600 shadow-sm",title:"New",children:u.jsx(N9,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"flex flex-1 flex-col p-3 sm:p-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:a}),u.jsx("h3",{className:"font-semibold text-coffee-900 text-base sm:text-lg",children:r}),u.jsx("p",{className:"hidden mt-1 h-10 text-sm text-gray-600 line-clamp-2 sm:block",children:i})]}),u.jsxs("div",{className:"mt-auto pt-3 sm:pt-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("p",{className:"text-lg font-bold text-primary-600 sm:text-xl",children:["",m.price.toFixed(2)]}),w()]}),u.jsx("div",{className:"mt-3 flex w-full rounded-full border border-gray-200 bg-gray-50 p-1 sm:mt-4",children:t.sizes.map(_=>u.jsxs("button",{onClick:()=>y(_),className:`w-1/2 rounded-full py-1 text-xs font-semibold transition-colors sm:py-1.5 sm:text-sm ${m.name===_.name?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:[_.name," (",_.size,")"]},_.name))}),u.jsx("button",{onClick:b,disabled:x,className:"mt-2 flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-4 py-2 text-xs font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-gray-400 sm:mt-3 sm:py-2.5 sm:text-sm","aria-label":n?`Add ${r} to cart`:`Login to order ${r}`,children:x?"Out of Stock":n?u.jsxs(u.Fragment,{children:[u.jsx(FI,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),"Add to Cart"]}):"Login to Order"})]})]})]})},Fq=()=>u.jsxs(ge,{className:"flex animate-pulse flex-col overflow-hidden",children:[u.jsx("div",{className:"relative",children:u.jsx("div",{className:"h-32 w-full bg-gray-300 sm:h-48"})}),u.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"h-4 w-1/4 rounded bg-gray-300"}),u.jsx("div",{className:"mt-2 h-6 w-3/4 rounded bg-gray-300"}),u.jsxs("div",{className:"mt-2 space-y-2",children:[u.jsx("div",{className:"h-4 rounded bg-gray-300"}),u.jsx("div",{className:"h-4 w-5/6 rounded bg-gray-300"})]})]}),u.jsxs("div",{className:"mt-auto pt-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"h-8 w-1/3 rounded bg-gray-300"}),u.jsx("div",{className:"h-5 w-1/4 rounded bg-gray-300"})]}),u.jsx("div",{className:"mt-3 h-10 w-full rounded-full bg-gray-300"})]})]})]}),dxe=[{value:"default",label:"Default"},{value:"price-asc",label:"Price: Low to High"},{value:"price-desc",label:"Price: High to Low"},{value:"name-asc",label:"Name: A-Z"},{value:"name-desc",label:"Name: Z-A"}],hxe={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},fxe={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},mxe=()=>{const{products:t,isLoading:e,error:n}=of(),[r,i]=g.useState("All"),[a,s]=g.useState(""),[o,l]=g.useState("default"),[c,d]=g.useState(!1),h=g.useRef(null),f=g.useRef(null),{addToCart:m}=pr(),{currentUser:y}=Hr(),v=g.useMemo(()=>t.length===0?["All"]:["All",...[...new Set(t.map(w=>w.category))].sort()],[t]);g.useEffect(()=>{const b=w=>{h.current&&!h.current.contains(w.target)&&d(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]);const x=g.useMemo(()=>{const w=[...t.filter(_=>{const T=r==="All"||_.category===r,N=a.trim()===""||_.name.toLowerCase().includes(a.toLowerCase())||_.description.toLowerCase().includes(a.toLowerCase());return T&&N})];switch(o){case"price-asc":w.sort((_,T)=>_.sizes[0].price-T.sizes[0].price);break;case"price-desc":w.sort((_,T)=>T.sizes[0].price-_.sizes[0].price);break;case"name-asc":w.sort((_,T)=>_.name.localeCompare(T.name));break;case"name-desc":w.sort((_,T)=>T.name.localeCompare(_.name));break}return w},[r,a,t,o]);return u.jsxs("div",{className:"flex min-h-screen flex-col bg-white",children:[u.jsx(dn,{}),u.jsxs("main",{children:[u.jsxs("section",{className:"relative flex min-h-[40vh] items-center justify-center bg-coffee-900 px-6 py-16 text-center text-white",children:[u.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1509042239860-f550ce710b93?q=80&w=2574&auto=format&fit=crop')] bg-cover bg-center opacity-20"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-coffee-900/80 to-coffee-900/90"}),u.jsxs("div",{className:"container relative z-40 mx-auto max-w-4xl",children:[u.jsx("h1",{className:"font-display text-4xl font-bold md:text-5xl",children:"Our Menu"}),u.jsx("p",{className:"mt-2 text-lg text-gray-200",children:"Discover your perfect cup "}),u.jsxs("div",{className:"mx-auto mt-8 flex max-w-2xl gap-3",children:[u.jsxs("div",{className:"relative flex-grow",children:[u.jsx(eh,{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"text",value:a,onChange:b=>s(b.target.value),placeholder:"Search for coffee, matcha...",className:"w-full rounded-full border-0 bg-white/10 py-3 pl-12 pr-4 text-white placeholder:text-gray-400 ring-1 ring-white/20 transition focus:bg-white/20 focus:ring-2 focus:ring-primary-500"})]}),u.jsxs("div",{className:"relative shrink-0",ref:h,children:[u.jsx("button",{onClick:()=>d(!c),className:"flex h-12 w-12 items-center justify-center rounded-full bg-white/10 text-white backdrop-blur-sm ring-1 ring-white/20 transition hover:bg-white/20","aria-haspopup":"true","aria-expanded":c,"aria-label":"Sort products",children:u.jsx(v9,{className:"h-5 w-5"})}),u.jsx("div",{className:`absolute right-0 top-full z-[100] mt-2 w-56 origin-top-right rounded-xl border border-gray-100 bg-white p-1 shadow-xl ring-1 ring-black ring-opacity-5 transition-all duration-200 ease-out ${c?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,role:"menu","aria-orientation":"vertical",children:u.jsx("div",{className:"py-1",role:"none",children:dxe.map(b=>u.jsxs("button",{onClick:()=>{l(b.value),d(!1)},className:`flex w-full items-center justify-between rounded-lg px-4 py-2.5 text-sm text-left font-medium transition-colors ${o===b.value?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-50"}`,role:"menuitem",children:[u.jsx("span",{children:b.label}),o===b.value&&u.jsx(Kc,{className:"h-4 w-4"})]},b.value))})})]})]})]})]}),u.jsx("div",{className:"sticky top-16 z-20 border-b border-gray-200 bg-white/95 py-3 backdrop-blur-sm sm:top-20",children:u.jsx("div",{className:"container mx-auto flex max-w-7xl gap-2 overflow-x-auto px-6 pb-2",children:v.map(b=>u.jsx("button",{onClick:()=>{var w;i(b),(w=f.current)==null||w.scrollIntoView({behavior:"smooth"})},className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition-colors ${r===b?"bg-primary-600 text-white shadow":"border border-gray-300 bg-white text-gray-700 hover:bg-gray-100"}`,children:b},b))})}),u.jsx("section",{ref:f,className:"bg-gray-50 px-6 py-8 scroll-mt-36",children:u.jsx("div",{className:"container mx-auto max-w-7xl",children:e?u.jsx("div",{className:"grid grid-cols-2 gap-4 sm:gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:Array.from({length:8}).map((b,w)=>u.jsx(Fq,{},w))}):n?u.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-red-200 bg-red-50 py-20 text-center text-red-700",children:[u.jsx(Ws,{className:"h-16 w-16"}),u.jsx("h3",{className:"mt-4 text-xl font-semibold",children:"Oops! Something went wrong."}),u.jsx("p",{className:"mt-2",children:n})]}):x.length>0?u.jsx(za.div,{className:"grid grid-cols-2 gap-4 sm:gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",variants:hxe,initial:"hidden",animate:"visible",children:x.map(b=>u.jsx(za.div,{variants:fxe,layout:!0,className:"flex",children:u.jsx(uxe,{product:b,onAddToCart:m,isLoggedIn:!!y})},b.id))}):u.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[u.jsx(eh,{className:"h-24 w-24 text-gray-300"}),u.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-800",children:"No products found"}),u.jsx("p",{className:"mt-2 text-gray-500",children:"Try adjusting your filters or search query."})]})})})]}),u.jsx(hn,{})]})},pxe=({selectedMethod:t,onSelectMethod:e})=>{const n=t==="gcash",r=t==="cash",i=({isSelected:a})=>u.jsx("div",{className:`absolute top-4 right-4 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full border-2 transition-all ${a?"border-primary-600 bg-primary-600":"border-gray-400 bg-white"}`,children:a&&u.jsx(Kc,{className:"h-4 w-4 text-white"})});return u.jsxs("div",{className:"w-full",children:[u.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Payment Method"}),u.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",role:"radiogroup",children:[u.jsxs("div",{onClick:()=>e("gcash"),role:"radio","aria-checked":n,tabIndex:0,onKeyDown:a=>(a.key===" "||a.key==="Enter")&&e("gcash"),className:`relative cursor-pointer rounded-xl border-2 p-6 transition-all duration-200 ease-in-out hover:border-primary-300 ${n?"border-primary-600 bg-primary-50 shadow-lg":"border-gray-200 bg-white"}`,children:[u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-blue-100",children:u.jsx(C9,{className:"h-7 w-7 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"pr-8 font-display text-lg font-bold text-coffee-900",children:"GCash"}),u.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Pay securely via GCash QR code."})]})]}),u.jsx("div",{className:"mt-4",children:u.jsx(or,{className:n?"bg-blue-200 text-blue-800":"bg-gray-100 text-gray-700",children:"Instant confirmation"})}),u.jsx(i,{isSelected:n})]}),u.jsxs("div",{onClick:()=>e("cash"),role:"radio","aria-checked":r,tabIndex:0,onKeyDown:a=>(a.key===" "||a.key==="Enter")&&e("cash"),className:`relative cursor-pointer rounded-xl border-2 p-6 transition-all duration-200 ease-in-out hover:border-primary-300 ${r?"border-primary-600 bg-primary-50 shadow-lg":"border-gray-200 bg-white"}`,children:[u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-green-100",children:u.jsx(Ote,{className:"h-7 w-7 text-green-600"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"pr-8 font-display text-lg font-bold text-coffee-900",children:"Cash on Pickup"}),u.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Pay when you collect your order."})]})]}),u.jsx("div",{className:"mt-4",children:u.jsx(or,{className:r?"bg-green-200 text-green-800":"bg-gray-100 text-gray-700",children:"Pay at counter"})}),u.jsx(i,{isSelected:r})]})]})]})},gxe=({totalAmount:t,orderNumber:e,receipt:n,onReceiptUpload:r})=>{const[i,a]=g.useState(null);g.useEffect(()=>{if(!n){a(null);return}const l=URL.createObjectURL(n);return a(l),()=>URL.revokeObjectURL(l)},[n]);const s=l=>{l.target.files&&l.target.files[0]&&r(l.target.files[0]),l.target.value=""},o=()=>{r(null)};return u.jsxs("div",{className:"w-full max-w-md mx-auto space-y-6",children:[u.jsx("div",{className:"rounded-lg border-l-4 border-blue-400 bg-blue-50 p-4",role:"alert",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(Ws,{className:"h-5 w-5 text-blue-400","aria-hidden":"true"})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-blue-700",children:"Please scan the QR code, complete the payment, and upload a screenshot of your receipt."})})]})}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"mx-auto flex h-64 w-64 items-center justify-center rounded-xl border-4 border-primary-600 bg-white p-4 shadow-lg",children:u.jsx("div",{className:"relative flex h-full w-full items-center justify-center bg-[radial-gradient(#1e1612_1px,transparent_1px),radial-gradient(#1e1612_1px,transparent_1px)] bg-[length:12px_12px] bg-[position:0_0,6px_6px]",children:u.jsx("div",{className:"bg-white p-2 font-mono text-sm font-bold text-coffee-900",children:e})})}),u.jsxs("p",{className:"mt-4 text-sm font-medium text-gray-600",children:["Merchant: ",u.jsx("span",{className:"font-bold text-coffee-900",children:"Rush Coffee"})]}),u.jsxs("p",{className:"font-display text-3xl font-bold text-primary-600",children:["",t.toFixed(2)]})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("input",{type:"file",id:"receipt-upload",className:"hidden",accept:"image/*",onChange:s}),n?u.jsxs("div",{className:"relative rounded-lg border border-gray-300 bg-white p-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[i?u.jsx("img",{src:i,alt:"Receipt preview",className:"h-16 w-16 flex-shrink-0 rounded-md object-cover"}):u.jsx("div",{className:"flex h-16 w-16 flex-shrink-0 items-center justify-center rounded-md bg-gray-100",children:u.jsx(bne,{className:"h-8 w-8 text-gray-400"})}),u.jsxs("div",{className:"flex-1 overflow-hidden",children:[u.jsx("p",{className:"truncate text-sm font-medium text-gray-800",children:n.name}),u.jsxs("p",{className:"text-xs text-gray-500",children:[(n.size/1024).toFixed(2)," KB"]})]})]}),u.jsx("button",{onClick:o,className:"absolute -top-2 -right-2 flex h-6 w-6 items-center justify-center rounded-full bg-red-500 text-white transition-transform hover:scale-110","aria-label":"Remove receipt",children:u.jsx(Ys,{className:"h-4 w-4"})})]}):u.jsxs("label",{htmlFor:"receipt-upload",className:"flex cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-6 text-center transition hover:bg-gray-100",children:[u.jsx(lne,{className:"h-12 w-12 text-gray-400"}),u.jsx("span",{className:"mt-2 block text-sm font-semibold text-gray-600",children:"Upload Receipt"}),u.jsx("span",{className:"mt-1 block text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})]})]})},yxe=({items:t,subtotal:e,serviceFee:n=0,total:r})=>u.jsx("div",{className:"w-full lg:sticky lg:top-24",children:u.jsxs(ge,{className:"rounded-xl border-gray-200 p-6 shadow-none",children:[u.jsx("h2",{className:"mb-4 font-display text-lg font-semibold text-coffee-900",children:"Order Summary"}),u.jsx("div",{className:"max-h-60 space-y-2 overflow-y-auto pr-2",children:t.map((i,a)=>u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"text-gray-700",children:i.productName}),u.jsxs("span",{className:"ml-2 rounded-md bg-gray-100 px-1.5 py-0.5 text-xs font-medium text-gray-600",children:["",i.quantity]})]}),u.jsxs("span",{className:"font-medium text-gray-900",children:["",(i.price*i.quantity).toFixed(2)]})]},a))}),u.jsx("hr",{className:"my-4 border-gray-200"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-600",children:"Subtotal"}),u.jsxs("span",{className:"font-medium text-gray-900",children:["",e.toFixed(2)]})]}),n>0&&u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-600",children:"Service Fee"}),u.jsxs("span",{className:"font-medium text-gray-900",children:["",n.toFixed(2)]})]})]}),u.jsx("hr",{className:"my-4 border-dashed border-gray-300"}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-base font-bold text-gray-900",children:"Total"}),u.jsxs("span",{className:"font-display text-2xl font-bold text-primary-600",children:["",r.toFixed(2)]})]})]})}),$q=g.createContext(void 0),yC=()=>{const t=g.useContext($q);if(t===void 0)throw new Error("useOrder must be used within an OrderProvider");return t},vxe=({children:t})=>{const[e,n]=g.useState(null),[r,i]=g.useState([]),[a,s]=g.useState(!0),{currentUser:o}=Hr();g.useEffect(()=>{o?(async()=>{s(!0);try{const y=(await me.collection("orders").where("userId","==",o.uid).get()).docs.map(x=>({id:x.id,...x.data(),timestamp:x.data().timestamp.toDate()}));y.sort((x,b)=>b.timestamp.getTime()-x.timestamp.getTime()),i(y);const v=y.find(x=>x.status!=="completed");n(v||null)}catch(h){console.error("Error fetching order history:",h)}finally{s(!1)}})():(i([]),n(null),s(!1))},[o]),g.useEffect(()=>{if(e&&e.status!=="completed"){const d=["waiting","preparing","ready","completed"],h=e.status,f=d.indexOf(h);if(f===-1||f>=d.length-1)return;const m=setTimeout(()=>{const y=d[f+1];n(v=>v?{...v,status:y}:null)},1e4);return()=>clearTimeout(m)}},[e]);const c={activeOrder:e,setActiveOrder:n,orderHistory:r,addOrderToHistory:async d=>{try{const h=await me.collection("orders").add({...d,timestamp:et.firestore.FieldValue.serverTimestamp()}),f={...d,id:h.id,timestamp:new Date};i(m=>[f,...m]),n(f)}catch(h){console.error("Error adding order to Firestore:",h)}},isHistoryLoading:a};return u.jsx($q.Provider,{value:c,children:t})},xxe=()=>{const t=Ki(),{cartItems:e,showToast:n,totalCartItems:r,clearCart:i}=pr(),{currentUser:a}=Hr(),{setActiveOrder:s,addOrderToHistory:o}=yC(),[l,c]=g.useState(null),[d,h]=g.useState({name:"",phone:""}),[f,m]=g.useState(""),[y,v]=g.useState({}),[x,b]=g.useState(null),[w,_]=g.useState(!1),[T,N]=g.useState(!1),{subtotal:j,serviceFee:A,total:S}=g.useMemo(()=>{const O=e.reduce((H,F)=>H+F.selectedSize.price*F.quantity,0),M=15;return{subtotal:O,serviceFee:M,total:O+M}},[e]),I=g.useMemo(()=>e.map(O=>({productName:`${O.product.name} (${O.selectedSize.name})`,quantity:O.quantity,price:O.selectedSize.price})),[e]);g.useEffect(()=>{if(!a){n("Please log in to proceed to checkout."),t("/auth/login",{state:{from:"/checkout"}});return}r===0&&!w&&!T&&(n("Your cart is empty. Add items to checkout."),t("/menu"))},[r,t,n,w,T,a]),g.useEffect(()=>{a&&h({name:`${a.firstName} ${a.lastName}`,phone:a.phone||""})},[a]);const C=()=>{const O={};return d.name.trim().length<2&&(O.name="Name must be at least 2 characters long."),/^(09|\+639)\d{9}$/.test(d.phone)||(O.phone="Please enter a valid Philippine phone number (e.g., 09xxxxxxxxx)."),l||(O.payment="Please select a payment method."),l==="gcash"&&!x&&(O.gcash="Please upload your payment receipt to proceed."),v(O),Object.keys(O).length===0},k=async O=>{if(O.preventDefault(),!a||!C()){n("Please correct the errors before proceeding.");return}_(!0);const M=`RC-2025-${Math.floor(1e3+Math.random()*9e3)}`;setTimeout(async()=>{const H={userId:a.uid,customerName:d.name,orderNumber:M,position:Math.floor(Math.random()*5)+1,status:"waiting",orderItems:e.map(F=>({productId:F.product.id,productName:`${F.product.name} (${F.selectedSize.name})`,quantity:F.quantity,price:F.selectedSize.price})),totalAmount:S,paymentMethod:l,paymentStatus:l==="gcash"?"paid":"pending",estimatedTime:10};await o(H),i(),_(!1),N(!0),t("/queue",{state:{fromCheckout:!0,orderNumber:M}})},2e3)},R=w||!l||!d.name||!/^(09|\+639)\d{9}$/.test(d.phone)||l==="gcash"&&!x;return!a||r===0&&!T?u.jsxs("div",{className:"flex min-h-screen flex-col",children:[u.jsx(dn,{}),u.jsx("main",{className:"flex flex-1 items-center justify-center bg-gray-50 text-center",children:u.jsxs("div",{children:[u.jsx(fw,{className:"mx-auto h-24 w-24 text-gray-300"}),u.jsx("h1",{className:"mt-4 text-2xl font-bold text-gray-800",children:"Your cart is empty"}),u.jsx("p",{className:"mt-2 text-gray-500",children:"Add some delicious coffee to get started."}),u.jsx("button",{onClick:()=>t("/menu"),className:"mt-6 rounded-full bg-primary-600 px-6 py-2 font-semibold text-white hover:bg-primary-700",children:"Browse Menu"})]})}),u.jsx(hn,{})]}):u.jsxs("div",{className:"flex min-h-screen flex-col bg-gray-50",children:[u.jsx(dn,{}),u.jsxs("main",{className:"container mx-auto max-w-7xl px-4 py-8",children:[u.jsx("h1",{className:"mb-6 font-display text-3xl font-bold text-coffee-900",children:"Checkout"}),u.jsxs("form",{onSubmit:k,id:"checkout-form",className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[u.jsxs("div",{className:"space-y-8 lg:col-span-2",children:[u.jsxs("div",{className:"rounded-xl border bg-white p-6",children:[u.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Your Information"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),u.jsx(ks,{className:"absolute left-3 top-10 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",id:"name",value:d.name,onChange:O=>h({...d,name:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 py-2 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Juan dela Cruz"}),y.name&&u.jsx("p",{className:"mt-1 text-xs text-red-500",children:y.name})]}),u.jsxs("div",{className:"relative",children:[u.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),u.jsx(js,{className:"absolute left-3 top-10 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"tel",id:"phone",value:d.phone,onChange:O=>h({...d,phone:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 py-2 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"09171234567"}),y.phone&&u.jsx("p",{className:"mt-1 text-xs text-red-500",children:y.phone})]})]})]}),u.jsxs("div",{className:"rounded-xl border bg-white p-6",children:[u.jsx(pxe,{selectedMethod:l,onSelectMethod:c}),y.payment&&u.jsx("p",{className:"mt-2 text-xs text-red-500",children:y.payment}),l==="gcash"&&u.jsxs("div",{className:"mt-6 border-t pt-6",children:[u.jsx(gxe,{totalAmount:S,orderNumber:`TEMP-${Date.now()}`,receipt:x,onReceiptUpload:b}),y.gcash&&u.jsx("p",{className:"mt-2 text-xs text-red-500 text-center",children:y.gcash})]}),l==="cash"&&u.jsx("div",{className:"mt-6 rounded-lg border-l-4 border-green-400 bg-green-50 p-4",role:"alert",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(Ws,{className:"h-5 w-5 text-green-400"})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-green-700",children:"Please prepare the exact amount. You can pay at the counter upon pickup."})})]})})]}),u.jsxs("div",{className:"rounded-xl border bg-white p-6",children:[u.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Special Instructions (Optional)"}),u.jsxs("div",{className:"relative",children:[u.jsx(Gh,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),u.jsx("textarea",{id:"notes",value:f,onChange:O=>m(O.target.value),rows:3,className:"block w-full rounded-md border-gray-300 py-2 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"e.g., less ice, extra shot..."})]})]}),u.jsx("div",{className:"hidden lg:block",children:u.jsx("button",{type:"submit",form:"checkout-form",disabled:R,className:"mt-2 flex w-full max-w-xs justify-center rounded-full bg-primary-600 px-4 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 disabled:cursor-not-allowed disabled:bg-primary-400",children:w?u.jsx(Ot,{className:"h-6 w-6 animate-spin"}):"Place Order"})})]}),u.jsx("div",{className:"lg:col-span-1",children:u.jsx(yxe,{items:I,subtotal:j,serviceFee:A,total:S})})]})]}),u.jsx("div",{className:"sticky bottom-0 left-0 right-0 border-t border-gray-200 bg-white/90 p-4 backdrop-blur-sm lg:hidden",children:u.jsx("button",{type:"submit",form:"checkout-form",disabled:R,className:"flex w-full justify-center rounded-full bg-primary-600 px-4 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 disabled:cursor-not-allowed disabled:bg-primary-400",children:w?u.jsx(Ot,{className:"h-6 w-6 animate-spin"}):`Place Order (${S.toFixed(2)})`})}),u.jsx(hn,{})]})};function Le(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Us(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function bxe(t,e){const n=Le(t);return isNaN(e)?Us(t,NaN):(e&&n.setDate(n.getDate()+e),n)}const qq=6048e5,wxe=864e5,Pv=43200,B5=1440;let _xe={};function vy(){return _xe}function cg(t,e){var o,l,c,d;const n=vy(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=Le(t),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Wx(t){return cg(t,{weekStartsOn:1})}function Hq(t){const e=Le(t),n=e.getFullYear(),r=Us(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Wx(r),a=Us(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const s=Wx(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function Yx(t){const e=Le(t);return e.setHours(0,0,0,0),e}function Qx(t){const e=Le(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Exe(t,e){const n=Yx(t),r=Yx(e),i=+n-Qx(n),a=+r-Qx(r);return Math.round((i-a)/wxe)}function Sxe(t){const e=Hq(t),n=Us(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Wx(n)}function C0(t,e){const n=Le(t),r=Le(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function Txe(t){return Us(t,Date.now())}function Axe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Nxe(t){if(!Axe(t)&&typeof t!="number")return!1;const e=Le(t);return!isNaN(Number(e))}function Ixe(t,e){const n=Le(t),r=Le(e),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function Pxe(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function Cxe(t,e){return+Le(t)-+Le(e)}function Gq(t){const e=Le(t);return e.setHours(23,59,59,999),e}function jxe(t){const e=Le(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function kxe(t){const e=Le(t);return+Gq(e)==+jxe(e)}function Oxe(t,e){const n=Le(t),r=Le(e),i=C0(n,r),a=Math.abs(Ixe(n,r));let s;if(a<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*a);let o=C0(n,r)===-i;kxe(Le(t))&&a===1&&C0(t,r)===1&&(o=!1),s=i*(a-Number(o))}return s===0?0:s}function Rxe(t,e,n){const r=Cxe(t,e)/1e3;return Pxe(n==null?void 0:n.roundingMethod)(r)}function Dxe(t,e){const n=Le(t.start),r=Le(t.end);let i=+n>+r;const a=i?+n:+r,s=i?r:n;s.setHours(0,0,0,0);let o=1;const l=[];for(;+s<=a;)l.push(Le(s)),s.setDate(s.getDate()+o),s.setHours(0,0,0,0);return i?l.reverse():l}function Mxe(t){const e=Le(t),n=Us(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Lxe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Vxe=(t,e,n)=>{let r;const i=Lxe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function eS(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Uxe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zxe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Bxe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fxe={date:eS({formats:Uxe,defaultWidth:"full"}),time:eS({formats:zxe,defaultWidth:"full"}),dateTime:eS({formats:Bxe,defaultWidth:"full"})},$xe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qxe=(t,e,n,r)=>$xe[t];function im(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const Hxe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Gxe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Kxe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Wxe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Yxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Qxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Xxe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Zxe={ordinalNumber:Xxe,era:im({values:Hxe,defaultWidth:"wide"}),quarter:im({values:Gxe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:im({values:Kxe,defaultWidth:"wide"}),day:im({values:Wxe,defaultWidth:"wide"}),dayPeriod:im({values:Yxe,defaultWidth:"wide",formattingValues:Qxe,defaultFormattingWidth:"wide"})};function am(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?ebe(o,h=>h.test(s)):Jxe(o,h=>h.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(s.length);return{value:c,rest:d}}}function Jxe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function ebe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function tbe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const nbe=/^(\d+)(th|st|nd|rd)?/i,rbe=/\d+/i,ibe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},abe={any:[/^b/i,/^(a|c)/i]},sbe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},obe={any:[/1/i,/2/i,/3/i,/4/i]},lbe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cbe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ube={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dbe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hbe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},fbe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mbe={ordinalNumber:tbe({matchPattern:nbe,parsePattern:rbe,valueCallback:t=>parseInt(t,10)}),era:am({matchPatterns:ibe,defaultMatchWidth:"wide",parsePatterns:abe,defaultParseWidth:"any"}),quarter:am({matchPatterns:sbe,defaultMatchWidth:"wide",parsePatterns:obe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:am({matchPatterns:lbe,defaultMatchWidth:"wide",parsePatterns:cbe,defaultParseWidth:"any"}),day:am({matchPatterns:ube,defaultMatchWidth:"wide",parsePatterns:dbe,defaultParseWidth:"any"}),dayPeriod:am({matchPatterns:hbe,defaultMatchWidth:"any",parsePatterns:fbe,defaultParseWidth:"any"})},Kq={code:"en-US",formatDistance:Vxe,formatLong:Fxe,formatRelative:qxe,localize:Zxe,match:mbe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pbe(t){const e=Le(t);return Exe(e,Mxe(e))+1}function gbe(t){const e=Le(t),n=+Wx(e)-+Sxe(e);return Math.round(n/qq)+1}function Wq(t,e){var d,h,f,m;const n=Le(t),r=n.getFullYear(),i=vy(),a=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(f=i.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,s=Us(t,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const o=cg(s,e),l=Us(t,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const c=cg(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function ybe(t,e){var o,l,c,d;const n=vy(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=Wq(t,e),a=Us(t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),cg(a,e)}function vbe(t,e){const n=Le(t),r=+cg(n,e)-+ybe(n,e);return Math.round(r/qq)+1}function $e(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Eo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return $e(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):$e(n+1,2)},d(t,e){return $e(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return $e(t.getHours()%12||12,e.length)},H(t,e){return $e(t.getHours(),e.length)},m(t,e){return $e(t.getMinutes(),e.length)},s(t,e){return $e(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return $e(i,e.length)}},Gu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},F5={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Eo.y(t,e)},Y:function(t,e,n,r){const i=Wq(t,r),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return $e(s,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):$e(a,e.length)},R:function(t,e){const n=Hq(t);return $e(n,e.length)},u:function(t,e){const n=t.getFullYear();return $e(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return $e(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return $e(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Eo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return $e(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=vbe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):$e(i,e.length)},I:function(t,e,n){const r=gbe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):$e(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Eo.d(t,e)},D:function(t,e,n){const r=pbe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):$e(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return $e(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return $e(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return $e(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Gu.noon:r===0?i=Gu.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Gu.evening:r>=12?i=Gu.afternoon:r>=4?i=Gu.morning:i=Gu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Eo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Eo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):$e(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):$e(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Eo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Eo.s(t,e)},S:function(t,e){return Eo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return q5(r);case"XXXX":case"XX":return oc(r);case"XXXXX":case"XXX":default:return oc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return q5(r);case"xxxx":case"xx":return oc(r);case"xxxxx":case"xxx":default:return oc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+$5(r,":");case"OOOO":default:return"GMT"+oc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+$5(r,":");case"zzzz":default:return"GMT"+oc(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return $e(r,e.length)},T:function(t,e,n){const r=t.getTime();return $e(r,e.length)}};function $5(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+$e(a,2)}function q5(t,e){return t%60===0?(t>0?"-":"+")+$e(Math.abs(t)/60,2):oc(t,e)}function oc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=$e(Math.trunc(r/60),2),a=$e(r%60,2);return n+i+e+a}const H5=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Yq=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},xbe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return H5(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",H5(r,e)).replace("{{time}}",Yq(i,e))},bbe={p:Yq,P:xbe},wbe=/^D+$/,_be=/^Y+$/,Ebe=["D","DD","YY","YYYY"];function Sbe(t){return wbe.test(t)}function Tbe(t){return _be.test(t)}function Abe(t,e,n){const r=Nbe(t,e,n);if(console.warn(r),Ebe.includes(t))throw new RangeError(r)}function Nbe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ibe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pbe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Cbe=/^'([^]*?)'?$/,jbe=/''/g,kbe=/[a-zA-Z]/;function Dc(t,e,n){var d,h,f,m;const r=vy(),i=r.locale??Kq,a=r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=r.weekStartsOn??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,o=Le(t);if(!Nxe(o))throw new RangeError("Invalid time value");let l=e.match(Pbe).map(y=>{const v=y[0];if(v==="p"||v==="P"){const x=bbe[v];return x(y,i.formatLong)}return y}).join("").match(Ibe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:Obe(y)};if(F5[v])return{isToken:!0,value:y};if(v.match(kbe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const v=y.value;(Tbe(v)||Sbe(v))&&Abe(v,e,String(t));const x=F5[v[0]];return x(o,v,i.localize,c)}).join("")}function Obe(t){const e=t.match(Cbe);return e?e[1].replace(jbe,"'"):t}function Rbe(t,e,n){const r=vy(),i=(n==null?void 0:n.locale)??r.locale??Kq,a=2520,s=C0(t,e);if(isNaN(s))throw new RangeError("Invalid time value");const o=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:s});let l,c;s>0?(l=Le(e),c=Le(t)):(l=Le(t),c=Le(e));const d=Rxe(c,l),h=(Qx(c)-Qx(l))/1e3,f=Math.round((d-h)/60);let m;if(f<2)return n!=null&&n.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,o):d<10?i.formatDistance("lessThanXSeconds",10,o):d<20?i.formatDistance("lessThanXSeconds",20,o):d<40?i.formatDistance("halfAMinute",0,o):d<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):f===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",f,o);if(f<45)return i.formatDistance("xMinutes",f,o);if(f<90)return i.formatDistance("aboutXHours",1,o);if(f<B5){const y=Math.round(f/60);return i.formatDistance("aboutXHours",y,o)}else{if(f<a)return i.formatDistance("xDays",1,o);if(f<Pv){const y=Math.round(f/B5);return i.formatDistance("xDays",y,o)}else if(f<Pv*2)return m=Math.round(f/Pv),i.formatDistance("aboutXMonths",m,o)}if(m=Oxe(c,l),m<12){const y=Math.round(f/Pv);return i.formatDistance("xMonths",y,o)}else{const y=m%12,v=Math.trunc(m/12);return y<3?i.formatDistance("aboutXYears",v,o):y<9?i.formatDistance("overXYears",v,o):i.formatDistance("almostXYears",v+1,o)}}function u_(t,e){return Rbe(t,Txe(t),e)}function G5(t,e){return bxe(t,-e)}const Dbe=({children:t,className:e="",hover:n=!1})=>{const r=n?"hover:shadow-xl transition-all duration-300":"";return u.jsx("div",{className:`rounded-lg border border-gray-100 bg-white p-6 shadow-sm ${r} ${e}`,children:t})},Ve=g.forwardRef(({children:t,variant:e="primary",size:n="md",className:r="",asChild:i=!1,isLoading:a=!1,startIcon:s,endIcon:o,fullWidth:l=!1,disabled:c,...d},h)=>{const f="inline-flex items-center justify-center gap-2 rounded-full font-semibold transition-all duration-200 ease-in-out focus:outline-none focus:ring-4 disabled:cursor-not-allowed disabled:opacity-60 active:scale-95",m={primary:"bg-primary-600 text-white shadow-lg hover:bg-primary-700 hover:shadow-xl focus:ring-primary-500/30 active:bg-primary-800",secondary:"bg-coffee-600 text-white shadow-lg hover:bg-coffee-700 hover:shadow-xl focus:ring-coffee-500/30 active:bg-coffee-800",outline:"border-2 border-primary-600 bg-transparent text-primary-600 hover:bg-primary-50 focus:ring-primary-500/20 active:bg-primary-100",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500/20 active:bg-gray-200",danger:"bg-red-600 text-white shadow-lg hover:bg-red-700 hover:shadow-xl focus:ring-red-500/30 active:bg-red-800"},y={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg",xl:"px-10 py-5 text-xl"},v=l?"w-full":"",x=`${f} ${m[e]} ${y[n]} ${v} ${r}`,b=u.jsxs(u.Fragment,{children:[a&&u.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!a&&s&&u.jsx("span",{className:"inline-flex items-center flex-shrink-0",children:s}),u.jsx("span",{className:"inline-flex items-center",children:t}),!a&&o&&u.jsx("span",{className:"inline-flex items-center flex-shrink-0",children:o})]});return i?u.jsx("span",{className:x,children:b}):u.jsx("button",{ref:h,className:x,disabled:c||a,...d,children:b})});Ve.displayName="Button";const Mbe={waiting:{Icon:wu,text:"Your order is in the queue.",color:"text-yellow-600",bgColor:"bg-yellow-100",progress:10,progressText:"Ordered"},preparing:{Icon:ci,text:"Your order is being prepared.",color:"text-blue-600",bgColor:"bg-blue-100",progress:50,progressText:"Preparing"},ready:{Icon:hw,text:"Your order is ready for pickup!",color:"text-green-600",bgColor:"bg-green-100",progress:100,progressText:"Ready"},completed:{Icon:Kc,text:"Your order has been completed.",color:"text-primary-600",bgColor:"bg-primary-100",progress:100,progressText:"Completed"}},Lbe=({order:t})=>{const[e,n]=g.useState(!1),r=Ki(),i=Mbe[t.status],{addMultipleToCart:a,showToast:s}=pr(),{products:o}=of(),l=()=>{const d=[],h=[];for(const f of t.orderItems){const m=o.find(b=>b.id===f.productId);if(!m||!m.available||m.stock===0){h.push(f.productName);continue}const y=f.productName.match(/\((Grande|Venti)\)$/),v=y?y[1]:null;if(!v){h.push(f.productName);continue}const x=m.sizes.find(b=>b.name===v);if(!x){h.push(f.productName);continue}d.push({product:m,selectedSize:x,quantity:f.quantity})}d.length>0&&a(d),h.length>0&&s(`Could not add: ${h.join(", ")}. They may be unavailable.`)},c=()=>{t.status==="completed"?r("/menu"):l()};return u.jsxs(Dbe,{className:"w-full max-w-md rounded-2xl p-6 shadow-lg",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full ${i.bgColor}`,children:u.jsx(i.Icon,{className:`h-6 w-6 ${i.color}`})}),u.jsxs("div",{children:[u.jsx("h2",{className:"font-display text-xl font-bold text-coffee-900",children:i.text}),u.jsxs("p",{className:"text-sm text-gray-500",children:["Order #",t.orderNumber]})]})]}),u.jsxs("div",{className:"mt-6 space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-600",children:[u.jsx("span",{children:"Ordered"}),u.jsx("span",{children:"Preparing"}),u.jsx("span",{children:"Ready"})]}),u.jsx("div",{className:"h-2 w-full rounded-full bg-gray-200",children:u.jsx("div",{className:"h-2 rounded-full bg-primary-600 transition-all duration-500 ease-out",style:{width:`${i.progress}%`}})}),u.jsx("p",{className:"text-right text-sm font-semibold text-primary-600",children:i.progressText})]}),u.jsxs("div",{className:"mt-6 border-t border-gray-200 pt-4",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-500",children:"Time Placed"}),u.jsx("span",{className:"font-medium text-gray-800",children:Dc(t.timestamp,"p")})]}),u.jsxs("div",{className:"mt-1 flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-500",children:"Estimated Wait"}),u.jsxs("span",{className:"font-medium text-gray-800",children:["~",t.estimatedTime," min"]})]}),u.jsxs("div",{className:"mt-3 flex justify-between text-lg font-bold",children:[u.jsx("span",{className:"text-gray-800",children:"Total"}),u.jsxs("span",{className:"text-primary-600",children:["",t.totalAmount.toFixed(2)]})]})]}),u.jsxs("div",{className:"mt-4 border-t border-gray-200",children:[u.jsxs("button",{onClick:()=>n(!e),className:"flex w-full items-center justify-between py-3 text-left font-semibold text-gray-700 hover:text-primary-600",children:[u.jsxs("span",{children:["View Items (",t.orderItems.length,")"]}),u.jsx(Hh,{className:`h-5 w-5 transform transition-transform duration-300 ${e?"rotate-180":""}`})]}),u.jsx(fy,{children:e&&u.jsx(za.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:u.jsx("ul",{className:"space-y-2 pb-2",children:t.orderItems.map((d,h)=>u.jsxs("li",{className:"flex justify-between border-b border-gray-100 py-1 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-800",children:d.productName}),u.jsxs("span",{className:"ml-2 text-gray-500",children:["x",d.quantity]})]}),u.jsxs("span",{className:"text-gray-600",children:["",(d.price*d.quantity).toFixed(2)]})]},h))})})})]}),u.jsx("div",{className:"mt-4 border-t border-gray-200 pt-4",children:u.jsx(Ve,{size:"lg",className:"w-full",onClick:c,variant:t.status==="completed"?"primary":"secondary",children:t.status==="completed"?u.jsxs(u.Fragment,{children:[u.jsx(FI,{className:"mr-2 h-5 w-5"}),"Start New Order"]}):u.jsxs(u.Fragment,{children:[u.jsx(S9,{className:"mr-2 h-5 w-5"}),"Reorder Items"]})})})]})},Vbe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQ2IiBoZWlnaHQ9IjE3OCIgdmlld0JveD0iMCAwIDI0NiAxNzgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xNTQuNTAzIDgwQzE4MC41MDMgNTEgMjEzLjAwMyAyMC41IDIyNS41MDMgMTguNUMyMzguMDAzIDE2LjUgMjQ0LjAwMyAyOS41IDI0NC4wMDMgMjkuNUMyNDQuMDAzIDI5LjUgMjQ4LjUwMyA1Mi41IDI0MC41MDMgODBDMjMyLjUwMyAxMDcuNSAyMTEuNTAzIDEyNCAyMTEuNTAzIDEyNEMyMTEuNTAzIDEyNCAxNjYuNTAzIDE3MSAxNDcuMDAzIDE3NUMxNDcuMDAzIDE3NSAxMTkuMDAzIDE4MS41IDEwNy4wMDMgMTcyLjVDOTUuMDAyNSAxNjMuNSAxMjguNTAzIDEwOSAxNTQuNTAzIDgwWiIgZmlsbD0iI0VCNUYxNiIvPgo8cGF0aCBkPSJNMTIuMDAyNSA4OUMxMi4wMDI1IDg5IC0yMS4wMjkzIDIyLjAyMyAyMi41MDI1IDE3QzM1LjUwMjUgMTUuNSA4MC4wMDI1IDU2IDc5LjUwMjUgNTkuNUM4Mi41MDI1IDc1IDcyLjAwMjUgODcgNjQuNTAyNSA5N0M2MS4xMzM2IDEwMS40OTIgNjAuMDAyNSAxMDcuNSA1OC4wMDI1IDExOS41QzU4LjAwMjUgMTM5IDUzLjAwMjUgMTM4LjUgNTMuMDAyNSAxMzguNUM1My4wMDI1IDEzOC41IDQwLjUwMjUgMTQxIDEyLjAwMjUgODlaIiBmaWxsPSIjRUI1RjE2IiIvPgo8cGF0aCBkPSJNNDcuMDAyNSAxN0M0MS4wMDI1IDEyLjAwMDEgNDIuMDAyNSAtNy42MjkzOWUtMDYgNTMuMDAyNSAwQzY0LjAwMjUgNy42Mjk0ZS0wNiA3NC4xOTA0IDQuNzY1MzQgODcuMDAyNSAxMEMxMDAuMzQ3IDE1LjQ1MjEgMTEwLjkxMSAxOSAxMTQuNTAzIDI2LjVDMTE4LjA5NCAzNCAxMTQuNTAzIDM5LjUgMTEwLjAwMyA0NUMxMDUuNTAzIDUwLjUgMTAyLjAwMyA1MiA5NC41MDI1IDUxQzg3LjAwMjUgNTAgNTMuMDAyNSAyMiA0Ny4wMDI1IDE3WiIgZmlsbD0iI0VCNUYxNiIvPgo8cGF0aCBkPSJNMjA1LjUwMyAyMy41QzIxOC41MDMgMTQgMjA1LjUwMyA1LjUgMjA1LjUwMyA1LjVDMTYyLjIzOSAxLjQzMjUyIDEyMi40MDggMzEuOTMyNCA4Mi4wMDI1IDg4LjVDNzEuNjQ1NCAxMDMgNjIuNTU4MyAxNTAuMzIyIDc4LjUwMjUgMTYxQzk3LjE3ODQgMTczLjUwOCAxMDIuNjM0IDE2Ny4xMDkgMTAzLjUwMyAxMzJDMTIxLjUwMyA1MSAxOTIuNTAzIDMzIDIwNS41MDMgMjMuNVoiIGZpbGw9IiNFQjVGMTYiLz4KPC9zdmc+Cg==";let K5=null;const Ube=async()=>{if(console.log("[Notifications]  Checking notification support..."),!("Notification"in window))return console.warn("[Notifications]  Notifications are not supported in this browser"),"denied";console.log("[Notifications]  Notification API available"),console.log("[Notifications] Current permission:",Notification.permission);try{console.log("[Notifications]  Requesting notification permission...");const t=await Notification.requestPermission();return console.log("[Notifications] Permission result:",t),t}catch(t){return console.error("[Notifications]  Error requesting notification permission:",t),"denied"}},zbe=async t=>{if(console.log("[Notifications]  Attempting to show notification:",t.title),!("Notification"in window))return console.warn("[Notifications]  Notifications are not supported"),!1;if(console.log("[Notifications] Current permission:",Notification.permission),Notification.permission!=="granted")return console.warn("[Notifications]  Notification permission not granted. Current:",Notification.permission),!1;const e={body:t.body,icon:t.icon,tag:t.tag,badge:t.icon,vibrate:[200,100,200],requireInteraction:!1,data:t.data};console.log("[Notifications] Notification options:",e);try{if(K5&&"showNotification"in K5,"Notification"in window&&typeof Notification=="function"){console.log("[Notifications]  Using direct Notification API (fallback)");const n=new Notification(t.title,e);return n.onclick=()=>{console.log("[Notifications]  Notification clicked"),window.focus(),n.close()},console.log("[Notifications]  Direct notification shown successfully!"),!0}return console.warn("[Notifications]  No notification method available"),!1}catch(n){return console.error("[Notifications]  Error showing notification:",n),!1}},Bbe=()=>{if(!("Notification"in window))return"denied";const t=Notification.permission;return console.log("[Notifications] Current permission status:",t),t},W5=()=>{const t="Notification"in window;return console.log("[Notifications] Notifications supported:",t),t},Fbe=()=>{var d;const{currentUser:t}=Hr(),{activeOrder:e}=yC(),n=Gi(),r=Ki(),[i,a]=g.useState("default"),[s,o]=g.useState(!1),l=g.useRef(null);g.useEffect(()=>{if(W5()){const h=Bbe();a(h),h==="default"&&o(!0)}},[]),g.useEffect(()=>{e&&e.status==="ready"&&i==="granted"&&l.current!==e.id&&zbe({title:"Your Order is Ready! ",body:`Your Rush Coffee order (${e.orderNumber}) is now ready for pickup.`,icon:Vbe,tag:e.id,data:{orderId:e.id,orderNumber:e.orderNumber}}).then(h=>{h&&(console.log("Notification sent successfully"),l.current=e.id)}),(!e||e.status==="completed")&&(l.current=null)},[e,i]);const c=async()=>{if(!W5()){alert("This browser does not support notifications");return}const h=await Ube();a(h),(h==="granted"||h==="denied")&&o(!1)};return t?e?u.jsxs("div",{className:"flex min-h-screen flex-col bg-gray-50",children:[u.jsx(dn,{}),u.jsx("main",{className:"flex flex-1 items-center justify-center px-4 py-12 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex w-full max-w-md flex-col items-center gap-6",children:[((d=n.state)==null?void 0:d.fromCheckout)&&u.jsxs("div",{className:"w-full rounded-lg bg-green-100 p-4 text-center text-green-800 animate-fade-in-up",children:[u.jsx("h2",{className:"font-bold",children:"Order Placed Successfully!"}),u.jsx("p",{className:"text-sm",children:"You are now in the queue. We'll start preparing your order shortly."})]}),s&&i==="default"&&e.status!=="completed"&&u.jsxs("div",{className:"relative w-full animate-fade-in-up rounded-lg border border-primary-200 bg-white p-4 shadow-sm",children:[u.jsx("button",{onClick:()=>o(!1),className:"absolute top-2 right-2 rounded-full p-1 text-gray-400 transition-colors hover:text-gray-600","aria-label":"Dismiss",children:u.jsx(Ys,{className:"h-4 w-4"})}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full bg-primary-100",children:u.jsx(hw,{className:"h-6 w-6 text-primary-600"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-800",children:"Get Order Updates"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Know the moment your coffee is ready!"})]})]}),u.jsx("button",{onClick:c,className:"mt-3 w-full rounded-full bg-primary-600 px-4 py-2 text-sm font-semibold text-white transition-colors hover:bg-primary-700",children:"Enable Notifications"})]}),u.jsx(Lbe,{order:e})]})}),u.jsx(hn,{})]}):u.jsxs("div",{className:"flex min-h-screen flex-col bg-gray-50",children:[u.jsx(dn,{}),u.jsx("main",{className:"flex flex-1 items-center justify-center px-6 py-20 text-center",children:u.jsxs("div",{children:[u.jsx(vn,{className:"mx-auto h-24 w-24 text-gray-300 opacity-50"}),u.jsx("h1",{className:"mt-4 font-display text-2xl font-bold text-coffee-900",children:"Your queue is empty"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Ready for your next coffee fix?"}),u.jsxs("button",{onClick:()=>r("/menu"),className:"mt-8 inline-flex items-center justify-center gap-2 rounded-full bg-primary-600 px-8 py-3 font-semibold text-white shadow-lg transition-transform hover:scale-105",children:["Start a New Order",u.jsx(Gc,{className:"h-5 w-5"})]})]})}),u.jsx(hn,{})]}):u.jsxs("div",{className:"flex min-h-screen flex-col bg-gray-50",children:[u.jsx(dn,{}),u.jsx("main",{className:"flex flex-1 items-center justify-center px-6 py-20 text-center",children:u.jsxs("div",{children:[u.jsx(vn,{className:"mx-auto h-24 w-24 text-gray-300 opacity-50"}),u.jsx("h1",{className:"mt-4 font-display text-2xl font-bold text-coffee-900",children:"You're not in the queue"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Please log in and place an order to see your queue status."}),u.jsxs("div",{className:"mt-8 flex justify-center gap-4",children:[u.jsx(De,{to:"/auth/login",className:"rounded-full bg-primary-600 px-8 py-3 font-semibold text-white transition-transform hover:scale-105",children:"Login"}),u.jsx(De,{to:"/menu",className:"rounded-full border-2 border-primary-600 px-8 py-3 font-semibold text-primary-600 transition-transform hover:scale-105 hover:bg-primary-50",children:"View Menu"})]})]})}),u.jsx(hn,{})]})},El=({isOpen:t,onClose:e,title:n,children:r,footer:i,size:a="md"})=>{if(g.useEffect(()=>{const o=l=>{l.key==="Escape"&&e()};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[e]),!t)return null;const s={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg"};return u.jsx("div",{className:"fixed inset-0 z-50 flex animate-fade-in-up items-center justify-center bg-black/60 p-4 backdrop-blur-sm",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",onClick:e,style:{animationDuration:"0.3s"},children:u.jsx("div",{className:`relative w-full transform transition-all ${s[a]}`,onClick:o=>o.stopPropagation(),children:u.jsxs(ge,{className:"rounded-xl p-0 shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-4",children:[u.jsx("h3",{id:"modal-title",className:"text-lg font-semibold text-coffee-900",children:n}),u.jsx("button",{onClick:e,className:"rounded-full p-1 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-700","aria-label":"Close modal",children:u.jsx(Ys,{className:"h-5 w-5"})})]}),u.jsx("div",{className:"p-6",children:r}),i&&u.jsx("div",{className:"flex justify-end gap-3 rounded-b-xl border-t border-gray-200 bg-gray-50 p-4",children:i})]})})})},$be={bronze:{Icon:qne,name:"Bronze Member",gradient:"from-orange-400 to-orange-600",nextTierName:"Silver",progressColor:"bg-gray-400",minPoints:0},silver:{Icon:jte,name:"Silver Member",gradient:"from-gray-300 to-gray-500",nextTierName:"Gold",progressColor:"bg-yellow-400",minPoints:300},gold:{Icon:dne,name:"Gold Member",gradient:"from-yellow-400 to-yellow-600",nextTierName:null,progressColor:"",minPoints:1e3}},qbe=({tier:t,currentPoints:e,nextTierPoints:n,showProgress:r=!0})=>{const i=$be[t],a=n-e,s=t!=="gold"?Math.max(0,Math.min(100,(e-i.minPoints)/(n-i.minPoints)*100)):100;return u.jsxs("div",{className:`relative w-full max-w-sm overflow-hidden rounded-2xl bg-gradient-to-br p-6 text-center text-white shadow-lg md:p-8 ${i.gradient}`,children:[u.jsx("div",{className:"absolute inset-0 -translate-x-full animate-shimmer bg-gradient-to-r from-transparent via-white/30 to-transparent"}),u.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[u.jsx(i.Icon,{className:"h-16 w-16 animate-pulse-slow drop-shadow-lg"}),u.jsx("h2",{className:"mt-4 font-display text-2xl font-bold drop-shadow-md md:text-3xl",children:i.name}),u.jsxs("p",{className:"font-semibold text-white/80",children:[e," points"]})]}),r&&t!=="gold"&&u.jsxs("div",{className:"relative z-10 mt-6 text-left",children:[u.jsxs("p",{className:"text-xs font-semibold md:text-sm",children:[u.jsx("span",{className:"font-bold",children:a>0?a:0})," points to ",i.nextTierName]}),u.jsx("div",{className:"mt-1 h-2.5 w-full overflow-hidden rounded-full bg-black/20",children:u.jsx("div",{className:`h-full rounded-full ${i.progressColor} transition-all duration-500 ease-out`,style:{width:`${s}%`}})})]})]})},Hbe={drink:"bg-blue-100 text-blue-800",food:"bg-green-100 text-green-800",discount:"bg-yellow-100 text-yellow-800"},Gbe=({reward:t,currentPoints:e,onRedeem:n})=>{const{id:r,name:i,description:a,pointsCost:s,imageUrl:o,category:l,available:c}=t,d=e>=s,h=c&&d,f=s-e,m=()=>c?d?"Redeem Now":u.jsxs(u.Fragment,{children:[u.jsx(dx,{className:"h-4 w-4"}),"Need ",f," more points"]}):"Unavailable";return u.jsxs(ge,{className:"flex flex-col overflow-hidden transition-transform duration-300 hover:-translate-y-1",hover:!0,children:[u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:o,alt:i,className:`h-40 w-full object-cover ${c?"":"grayscale"}`}),u.jsx(or,{className:`absolute top-2 left-2 capitalize ${Hbe[l]}`,children:l}),!c&&u.jsx(or,{className:"absolute top-2 right-2 bg-gray-500 text-white",children:"Temporarily Unavailable"})]}),u.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[u.jsxs("div",{className:"flex-grow",children:[u.jsx("h3",{className:"text-lg font-semibold text-coffee-900",children:i}),u.jsx("p",{className:"mt-1 h-10 text-sm text-gray-600 line-clamp-2",children:a})]}),u.jsx("div",{className:"mt-4 flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center gap-2 text-primary-600",children:[u.jsx(Cp,{className:"h-5 w-5"}),u.jsxs("p",{className:"text-lg font-bold",children:[s," points"]})]})}),u.jsx("button",{onClick:()=>n(r),disabled:!h,className:"mt-4 flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-gray-400 disabled:text-gray-100","aria-label":h?`Redeem ${i}`:`Cannot redeem ${i}`,children:m()})]})]})},Kbe=({history:t})=>{const[e,n]=g.useState("all"),r=g.useMemo(()=>e==="all"?t:t.filter(s=>s.type===e),[t,e]),i=g.useMemo(()=>[...r].sort((s,o)=>o.date.getTime()-s.date.getTime()),[r]),a=s=>s==="earned"?u.jsx("div",{className:"absolute left-1 top-0 flex h-10 w-10 -translate-x-1/2 items-center justify-center rounded-full bg-gradient-to-br from-green-400 to-green-600 shadow-lg ring-2 ring-white transition-transform hover:scale-110",children:u.jsx($g,{className:"h-4 w-4 text-white",strokeWidth:3})}):u.jsx("div",{className:"absolute left-1 top-0 flex h-10 w-10 -translate-x-1/2 items-center justify-center rounded-full bg-gradient-to-br from-red-400 to-red-600 shadow-lg ring-2 ring-white transition-transform hover:scale-110",children:u.jsx(E9,{className:"h-4 w-4 text-white",strokeWidth:3})});return u.jsxs(ge,{className:"bg-gradient-to-br from-white to-gray-50",children:[u.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900",children:"Points History"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track your rewards journey"})]}),u.jsx("div",{className:"flex gap-2 rounded-full bg-white p-1.5 shadow-sm ring-1 ring-gray-200",children:["all","earned","redeemed"].map(s=>u.jsx("button",{onClick:()=>n(s),className:`rounded-full px-4 py-2 text-sm font-semibold capitalize transition-all duration-200 ${e===s?"bg-gradient-to-r from-primary-600 to-primary-700 text-white shadow-md":"text-gray-700 hover:bg-gray-100"}`,children:s},s))})]}),u.jsx("div",{className:"mt-8 max-h-[500px] overflow-y-auto pr-2 scrollbar-thin scrollbar-track-gray-100 scrollbar-thumb-gray-300",children:i.length>0?u.jsx("div",{className:"relative border-l-2 border-gray-300 pl-6",children:i.map((s,o)=>u.jsxs("div",{className:`group relative transition-all duration-200 hover:translate-x-1 ${o<i.length-1?"pb-10":""}`,children:[a(s.type),u.jsxs("div",{className:"ml-8 flex items-start justify-between gap-4 rounded-lg bg-white p-4 shadow-sm ring-1 ring-gray-100 transition-shadow duration-200 group-hover:shadow-md",children:[u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("p",{className:"truncate font-semibold text-gray-900",children:s.description}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:u_(s.date,{addSuffix:!0})})]}),u.jsx("div",{className:"flex-shrink-0",children:u.jsxs("p",{className:`text-xl font-bold ${s.type==="earned"?"text-green-600":"text-red-600"}`,children:[s.type==="earned"?"+":"",s.points]})})]})]},s.id))}):u.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 rounded-lg bg-gray-50 py-16 text-center",children:[u.jsx("div",{className:"rounded-full bg-gray-100 p-4",children:u.jsx(Tne,{className:"h-12 w-12 text-gray-400"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-lg font-semibold text-gray-700",children:"No transactions yet"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Your points history for this filter will appear here."})]})]})})]})},kA={bronze:{min:0,max:299,name:"Bronze"},silver:{min:300,max:999,name:"Silver"},gold:{min:1e3,max:1/0,name:"Gold"}},Cv=t=>`/RushCoffee-Capstone/${t}`,Wbe=[{name:"Free Grande Drink",description:"Redeem your points for any Grande-sized drink on our menu. A perfect treat!",pointsCost:200,imageUrl:Cv("Rewards/Free-Iced-Grande-Drink.jpg"),category:"drink",available:!0,displayOrder:1},{name:"10% Off Total Order",description:"Get a 10% discount on your entire order. Great for when you're treating friends!",pointsCost:200,imageUrl:Cv("Rewards/10-percent-off.jpg"),category:"discount",available:!0,displayOrder:2},{name:"Free Rice Meal",description:"Choose any Tasty Rice Meal from our selection to complement your coffee.",pointsCost:350,imageUrl:Cv("Rewards/Free-Rice-Meal.jpg"),category:"food",available:!0,displayOrder:3},{name:"Upgrade to Venti",description:"Get a free size upgrade from Grande to Venti on any drink.",pointsCost:300,imageUrl:Cv("Rewards/Free-Iced-Venti-Drink.jpg"),category:"drink",available:!0,displayOrder:4}],Ybe=()=>{var T;const{currentUser:t}=Hr(),{showToast:e}=pr(),[n,r]=g.useState([]),[i,a]=g.useState(!0),[s,o]=g.useState(!1),[l,c]=g.useState(null),[d,h]=g.useState(!1),[f,m]=g.useState("");g.useEffect(()=>{(async()=>{a(!0);const j=Wbe.map((A,S)=>({...A,id:`mock-reward-${S}`}));r(j),a(!1)})()},[]);const y=(t==null?void 0:t.tier)==="bronze"?"silver":(t==null?void 0:t.tier)==="silver"?"gold":null,v=y&&((T=kA[y])==null?void 0:T.min)||0,x=N=>{c(N),o(!0)},b=async()=>{if(!(!t||!l)){h(!0);try{if(t.currentPoints<l.pointsCost)throw new Error("You don't have enough points.");const N=me.collection("users").doc(t.uid),j={id:`rh-${Date.now()}`,type:"redeemed",points:-l.pointsCost,description:`Redeemed: ${l.name}`,date:new Date};await N.update({currentPoints:et.firestore.FieldValue.increment(-l.pointsCost),rewardsHistory:et.firestore.FieldValue.arrayUnion(j)}),m(`RC-REDEEM-${Math.random().toString(36).substr(2,9).toUpperCase()}`)}catch(N){e(N.message||"Failed to redeem reward."),h(!1)}}},w=()=>{navigator.clipboard&&(navigator.clipboard.writeText(f),e("Code copied to clipboard!"))},_=()=>{o(!1),c(null),h(!1),m("")};return t?u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx(dn,{}),u.jsxs("main",{children:[u.jsx("section",{className:"bg-gradient-to-r from-primary-50 to-coffee-50 px-6 py-12",children:u.jsx("div",{className:"container mx-auto max-w-7xl",children:u.jsxs("div",{className:"grid grid-cols-1 items-center gap-8 md:grid-cols-3",children:[u.jsxs("div",{className:"md:col-span-2",children:[u.jsxs("h1",{className:"font-display text-4xl font-bold text-coffee-900 md:text-5xl",children:["Welcome, ",t.firstName,"!"]}),u.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"You're doing great! Keep earning points for amazing rewards."})]}),u.jsx("div",{className:"flex justify-center md:justify-end",children:u.jsx(qbe,{tier:t.tier,currentPoints:t.currentPoints,nextTierPoints:v})})]})})}),u.jsx("section",{className:"px-6 py-16",children:u.jsxs("div",{className:"container mx-auto max-w-7xl",children:[u.jsxs("div",{className:"mb-8 flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900",children:"Redeem Your Points"}),u.jsx("p",{className:"mt-1 text-gray-600",children:"Use your points to claim these exciting rewards."})]}),u.jsxs("div",{className:"rounded-full bg-white px-4 py-2 text-lg font-semibold text-primary-600 shadow-md",children:["Your Points: ",u.jsx("span",{className:"font-bold",children:t.currentPoints})]})]}),i?u.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Array.from({length:4}).map((N,j)=>u.jsx(Fq,{},j))}):n.length>0?u.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:n.map(N=>u.jsx(Gbe,{reward:N,currentPoints:t.currentPoints,onRedeem:()=>x(N)},N.id))}):u.jsxs(ge,{className:"py-20 text-center",children:[u.jsx(Cp,{className:"mx-auto h-16 w-16 text-gray-300"}),u.jsx("h3",{className:"mt-4 font-semibold text-gray-800",children:"No Rewards Available"}),u.jsx("p",{className:"mt-1 text-gray-500",children:"Please check back later for new rewards."})]})]})}),u.jsx("section",{className:"bg-white px-6 py-16",children:u.jsx("div",{className:"container mx-auto max-w-4xl",children:u.jsx(Kbe,{history:t.rewardsHistory})})})]}),u.jsx(hn,{}),u.jsx(El,{isOpen:s,onClose:_,title:f?"Reward Claimed!":`Redeem: ${(l==null?void 0:l.name)||""}`,children:f?u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-green-100",children:u.jsx(Kc,{className:"h-8 w-8 text-green-600"})}),u.jsx("h3",{className:"mt-4 text-lg font-semibold text-gray-900",children:"Success!"}),u.jsx("p",{className:"mt-1 text-gray-600",children:"Show this code at the counter to claim your reward:"}),u.jsxs("div",{className:"relative my-4 rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-4",children:[u.jsx("p",{className:"font-mono text-2xl font-bold text-primary-700 tracking-widest",children:f}),u.jsx("button",{onClick:w,className:"absolute top-2 right-2 text-gray-400 hover:text-primary-600",children:u.jsx(rne,{className:"h-5 w-5"})})]}),u.jsxs("div",{className:"mt-2 flex items-center justify-center gap-2 rounded-lg bg-yellow-50 p-3 text-sm text-yellow-800",children:[u.jsx(Ws,{className:"h-5 w-5 flex-shrink-0"}),u.jsx("span",{children:"This code is for one-time use only."})]}),u.jsx("div",{className:"mt-6",children:u.jsx(Ve,{onClick:_,children:"Close"})})]}):u.jsxs(u.Fragment,{children:[u.jsxs("p",{className:"text-center text-gray-600",children:["Are you sure you want to spend ",u.jsxs("span",{className:"font-bold text-primary-600",children:[l==null?void 0:l.pointsCost," points"]})," to redeem this reward?"]}),u.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[u.jsx(Ve,{variant:"ghost",onClick:_,children:"Cancel"}),u.jsxs(Ve,{onClick:b,disabled:d,children:[d?u.jsx(Ot,{className:"mr-2 h-4 w-4 animate-spin"}):u.jsx(Kc,{className:"mr-2 h-4 w-4"}),"Confirm"]})]})]})})]}):u.jsxs("div",{className:"flex min-h-screen flex-col bg-gray-50",children:[u.jsx(dn,{}),u.jsx("main",{className:"flex flex-1 items-center justify-center px-6 py-20 text-center",children:u.jsxs("div",{children:[u.jsx(Cp,{className:"mx-auto h-24 w-24 text-gray-300 opacity-50"}),u.jsx("h1",{className:"mt-4 font-display text-2xl font-bold text-coffee-900",children:"Join Our Rewards Program"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Log in or create an account to start earning points and get free coffee!"}),u.jsxs("div",{className:"mt-8 flex justify-center gap-4",children:[u.jsx(De,{to:"/auth/login",className:"rounded-full bg-primary-600 px-8 py-3 font-semibold text-white transition-transform hover:scale-105",children:"Login"}),u.jsx(De,{to:"/auth/register",className:"rounded-full border-2 border-primary-600 px-8 py-3 font-semibold text-primary-600 transition-transform hover:scale-105 hover:bg-primary-50",children:"Sign Up"})]})]})}),u.jsx(hn,{})]})},Qbe=({user:t,onEditPhoto:e})=>{const n=(r,i)=>`${r.charAt(0)}${i.charAt(0)}`.toUpperCase();return u.jsxs("div",{className:"w-full",children:[u.jsx("div",{className:"relative h-48 w-full bg-gradient-to-r from-primary-500 to-coffee-600"}),u.jsxs("div",{className:"-mt-16 px-6",children:[u.jsxs("div",{className:"relative mx-auto h-32 w-32",children:[t.photoURL?u.jsx("img",{src:t.photoURL,alt:`${t.firstName} ${t.lastName}`,className:"h-full w-full rounded-full border-4 border-white object-cover shadow-lg"}):u.jsx("div",{className:"flex h-full w-full items-center justify-center rounded-full border-4 border-white bg-gradient-to-br from-primary-400 to-primary-600 text-white shadow-lg",children:u.jsx("span",{className:"font-display text-4xl font-bold",children:n(t.firstName,t.lastName)})}),u.jsx("button",{onClick:e,className:"absolute bottom-0 right-0 flex h-10 w-10 items-center justify-center rounded-full bg-primary-600 text-white shadow-lg transition-colors hover:bg-primary-700","aria-label":"Edit profile photo",children:u.jsx(Bte,{className:"h-5 w-5"})})]}),u.jsxs("div",{className:"mt-4 text-center",children:[u.jsxs("h1",{className:"font-display text-3xl font-bold text-coffee-900",children:[t.firstName," ",t.lastName]}),u.jsx("p",{className:"text-gray-600",children:t.email}),t.role&&u.jsxs(or,{className:"mt-2 bg-yellow-100 text-yellow-800 capitalize",children:[u.jsx(jp,{className:"mr-1 h-3 w-3"}),t.role]})]})]}),u.jsxs("div",{className:"mt-8 grid grid-cols-3 gap-4 border-y border-gray-200 bg-gray-50/50 px-6 py-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx(ci,{className:"mx-auto mb-1 h-6 w-6 text-primary-600"}),u.jsx("p",{className:"text-xl font-bold text-coffee-900",children:t.totalOrders}),u.jsx("p",{className:"text-xs text-gray-500",children:"Total Orders"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx(Zte,{className:"mx-auto mb-1 h-6 w-6 text-primary-600"}),u.jsxs("p",{className:"text-xl font-bold text-coffee-900",children:["",t.totalSpent.toLocaleString()]}),u.jsx("p",{className:"text-xs text-gray-500",children:"Total Spent"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx(gd,{className:"mx-auto mb-1 h-6 w-6 text-primary-600"}),u.jsx("p",{className:"text-xl font-bold text-coffee-900",children:Dc(t.createdAt,"MMMM yyyy")}),u.jsx("p",{className:"text-xs text-gray-500",children:"Member Since"})]})]})]})},Xbe=({user:t,onSave:e,onCancel:n})=>{const[r,i]=g.useState({firstName:t.firstName,lastName:t.lastName,phone:t.phone||""}),[a,s]=g.useState({}),[o,l]=g.useState(!1),[c,d]=g.useState(!1),{showToast:h}=pr();g.useEffect(()=>{const v=r.firstName!==t.firstName||r.lastName!==t.lastName||r.phone!==(t.phone||"");d(v)},[r,t]);const f=()=>{const v={};return r.firstName.length<2&&(v.firstName="First name must be at least 2 characters."),r.lastName.length<2&&(v.lastName="Last name must be at least 2 characters."),r.phone&&!/^(09|\+639)\d{9}$/.test(r.phone)&&(v.phone="Invalid Philippine phone number format."),s(v),Object.keys(v).length===0},m=v=>{i({...r,[v.target.name]:v.target.value})},y=v=>{v.preventDefault(),f()&&(l(!0),setTimeout(()=>{e(r),l(!1),h("Profile updated successfully!")},1e3))};return u.jsxs(ge,{className:"w-full",children:[u.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Edit Profile Information"}),u.jsxs("form",{onSubmit:y,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),u.jsxs("div",{className:"relative mt-1",children:[u.jsx(ks,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"text",name:"firstName",id:"firstName",value:r.firstName,onChange:m,className:"w-full rounded-md border-gray-300 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0})]}),a.firstName&&u.jsx("p",{className:"mt-1 text-xs text-red-500",children:a.firstName})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),u.jsxs("div",{className:"relative mt-1",children:[u.jsx(ks,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"text",name:"lastName",id:"lastName",value:r.lastName,onChange:m,className:"w-full rounded-md border-gray-300 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0})]}),a.lastName&&u.jsx("p",{className:"mt-1 text-xs text-red-500",children:a.lastName})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),u.jsxs("div",{className:"relative mt-1",children:[u.jsx(js,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"tel",name:"phone",id:"phone",value:r.phone,onChange:m,className:"w-full rounded-md border-gray-300 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),a.phone&&u.jsx("p",{className:"mt-1 text-xs text-red-500",children:a.phone})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),u.jsxs("div",{className:"relative mt-1",children:[u.jsx(Ma,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"email",name:"email",id:"email",value:t.email||"",className:"w-full rounded-md border-gray-300 bg-gray-100 pl-10 text-gray-500 shadow-sm",disabled:!0,readOnly:!0})]}),u.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Contact support to change your email address."})]}),u.jsxs("div",{className:"flex justify-end gap-3 border-t border-gray-200 pt-4",children:[u.jsxs(Ve,{type:"button",variant:"ghost",onClick:n,children:[u.jsx(Ys,{className:"mr-2 h-4 w-4"}),"Cancel"]}),u.jsxs(Ve,{type:"submit",variant:"primary",disabled:!c||o,children:[o?u.jsx(Ot,{className:"mr-2 h-4 w-4 animate-spin"}):u.jsx(qg,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]})]})]})},Y5={completed:{icon:Kc,color:"bg-green-100 text-green-800"},cancelled:{icon:Ys,color:"bg-red-100 text-red-800"},preparing:{icon:ci,color:"bg-blue-100 text-blue-800"},waiting:{icon:ci,color:"bg-yellow-100 text-yellow-800"},ready:{icon:ci,color:"bg-purple-100 text-purple-800"}},Zbe={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},Jbe={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},ewe=({order:t})=>{var l,c;const e=((l=Y5[t.status])==null?void 0:l.icon)||ci,n=((c=Y5[t.status])==null?void 0:c.color)||"bg-gray-100 text-gray-800",{addMultipleToCart:r,showToast:i}=pr(),{products:a}=of(),s=()=>{const d=[],h=[];for(const f of t.orderItems){const m=a.find(b=>b.id===f.productId);if(!m||!m.available||m.stock===0){h.push(f.productName);continue}const y=f.productName.match(/\((Grande|Venti)\)$/),v=y?y[1]:null;if(!v){h.push(f.productName);continue}const x=m.sizes.find(b=>b.name===v);if(!x){h.push(f.productName);continue}d.push({product:m,selectedSize:x,quantity:f.quantity})}d.length>0&&r(d),h.length>0&&i(`Could not add: ${h.join(", ")}. They may be unavailable.`)},o=()=>{const d=t.orderItems;return d.length<=2?d.map(f=>`${f.quantity}x ${f.productName}`).join(", "):`${d.slice(0,2).map(f=>f.productName).join(", ")}, and ${d.length-2} more item(s)`};return u.jsx(ge,{hover:!0,className:"transition-shadow duration-300",children:u.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{className:"flex-grow",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("p",{className:"font-mono text-sm font-semibold text-primary-700",children:t.orderNumber}),u.jsxs(or,{className:`capitalize ${n}`,children:[u.jsx(e,{className:"mr-1 h-3 w-3"}),t.status]})]}),u.jsx("p",{className:"mt-1 text-xs text-gray-500",children:Dc(t.timestamp,"MMM dd, yyyy  hh:mm a")}),u.jsx("p",{className:"mt-2 text-sm text-gray-700",children:o()})]}),u.jsxs("div",{className:"flex-shrink-0 text-right sm:ml-4",children:[u.jsxs("p",{className:"font-display text-2xl font-bold text-coffee-900",children:["",t.totalAmount.toFixed(2)]}),u.jsxs(Ve,{size:"sm",variant:"secondary",className:"mt-2",onClick:s,children:[u.jsx(S9,{className:"mr-2 h-4 w-4"}),"Reorder"]})]})]})})},Q5=({orders:t,limit:e,showViewAll:n,onViewAll:r})=>{const i=[...t].sort((s,o)=>o.timestamp.getTime()-s.timestamp.getTime()),a=e?i.slice(0,e):i;return t.length===0?u.jsxs("div",{className:"py-16 text-center",children:[u.jsx(fw,{className:"mx-auto h-16 w-16 text-gray-300"}),u.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-800",children:"No Orders Yet"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Your past orders will appear here."}),u.jsx(Ve,{size:"lg",className:"mt-6",children:"Browse Menu"})]}):u.jsxs("div",{children:[u.jsx(za.div,{className:"space-y-4",variants:Zbe,initial:"hidden",animate:"visible",children:a.map(s=>u.jsx(za.div,{variants:Jbe,layout:!0,children:u.jsx(ewe,{order:s})},s.id))}),n&&i.length>(e||0)&&u.jsx("div",{className:"mt-6 text-center",children:u.jsx(Ve,{variant:"ghost",onClick:r,children:"View All Orders"})})]})},sm=({label:t,description:e,enabled:n,onChange:r,Icon:i})=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(i,{className:"h-5 w-5 text-gray-500"}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-800",children:t}),u.jsx("p",{className:"text-sm text-gray-500",children:e})]})]}),u.jsx("button",{type:"button",className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${n?"bg-primary-600":"bg-gray-200"}`,role:"switch","aria-checked":n,onClick:()=>r(!n),children:u.jsx("span",{"aria-hidden":"true",className:`inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${n?"translate-x-5":"translate-x-0"}`})})]}),twe=({preferences:t,onUpdatePreferences:e})=>{const[n,r]=g.useState(t),[i,a]=g.useState(!1),[s,o]=g.useState(!1),{showToast:l}=pr(),c=(T,N,j)=>{const A={...n,[T]:{...n[T],[N]:j}};r(A),e({[T]:A[T]}),l("Preferences updated!")},[d,h]=g.useState({current:"",new:"",confirm:""}),[f,m]=g.useState({current:!1,new:!1,confirm:!1}),[y,v]=g.useState(!1),[x,b]=g.useState({password:"",checkbox:!1}),[w,_]=g.useState(!1);return u.jsxs(u.Fragment,{children:[u.jsxs(ge,{children:[u.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900",children:"Preferences & Settings"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"font-semibold text-gray-500",children:"Notifications"}),u.jsx(sm,{Icon:hw,label:"Push Notifications",description:"Get notified when order is ready",enabled:n.notifications.push,onChange:T=>c("notifications","push",T)}),u.jsx(sm,{Icon:Ma,label:"Email Updates",description:"Receive order updates via email",enabled:n.notifications.emailUpdates,onChange:T=>c("notifications","emailUpdates",T)}),u.jsx(sm,{Icon:Ma,label:"Marketing Emails",description:"Get news and promotions",enabled:n.notifications.marketing,onChange:T=>c("notifications","marketing",T)})]}),u.jsx("hr",{className:"my-6"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(tre,{className:"h-5 w-5 text-gray-500"}),u.jsx("h3",{className:"font-semibold text-gray-800",children:"Appearance"})]}),u.jsx("div",{className:"flex gap-2 rounded-full bg-gray-100 p-1",children:["light","dark","auto"].map(T=>u.jsx("button",{onClick:()=>c("theme","theme",T),className:`w-full rounded-full py-1.5 text-sm font-semibold capitalize transition-colors ${n.theme===T?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:T},T))})]}),u.jsx("hr",{className:"my-6"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"font-semibold text-gray-500",children:"Privacy"}),u.jsx(sm,{Icon:jp,label:"Share anonymous usage data",description:"Help us improve our services",enabled:n.privacy.shareUsageData,onChange:T=>c("privacy","shareUsageData",T)}),u.jsx(sm,{Icon:jp,label:"Personalized recommendations",description:"Get recommendations based on your activity",enabled:n.privacy.personalizedRecs,onChange:T=>c("privacy","personalizedRecs",T)})]})]}),u.jsxs(ge,{className:"mt-6 border-l-4 border-red-500",children:[u.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-red-700",children:"Account Management"}),u.jsxs("div",{className:"flex flex-col items-start gap-4 md:flex-row md:items-center md:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-800",children:"Change Password"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Update your password for better security."})]}),u.jsxs(Ve,{variant:"secondary",onClick:()=>a(!0),children:[u.jsx(kne,{className:"mr-2 h-4 w-4"}),"Change Password"]})]}),u.jsx("hr",{className:"my-4"}),u.jsxs("div",{className:"flex flex-col items-start gap-4 md:flex-row md:items-center md:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-800",children:"Delete Account"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Permanently delete your account and all data."})]}),u.jsxs(Ve,{variant:"danger",onClick:()=>o(!0),children:[u.jsx(mw,{className:"mr-2 h-4 w-4"}),"Delete Account"]})]})]}),u.jsx(El,{isOpen:i,onClose:()=>a(!1),title:"Change Password",children:u.jsx("form",{className:"space-y-4",children:u.jsx("p",{className:"text-sm text-gray-600",children:"Password change functionality is coming soon."})})}),u.jsx(El,{isOpen:s,onClose:()=>o(!1),title:"Delete Account",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-red-100",children:u.jsx(Op,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),u.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Are you absolutely sure?"}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"This action cannot be undone. This will permanently delete your account, orders, and rewards."}),u.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Account deletion functionality is coming soon."})]})})]})},nwe=["Poor","Fair","Good","Very Good","Excellent"],rwe={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"},Xx=({rating:t,onRatingChange:e,readonly:n=!1,size:r="md",className:i=""})=>{const[a,s]=g.useState(0),o=!n&&e,l=m=>{o&&e(m)},c=m=>{o&&s(m)},d=()=>{o&&s(0)},h=a||t,f=h>0?nwe[h-1]:"";return u.jsxs("div",{className:`flex flex-col items-center gap-2 ${i}`,children:[u.jsx("div",{className:"flex",onMouseLeave:d,role:o?"radiogroup":"img","aria-label":o?"Star rating":`Rating: ${t} out of 5 stars`,children:[...Array(5)].map((m,y)=>{const v=y+1,x=v<=h;return u.jsx("button",{type:"button",disabled:!o,onClick:()=>l(v),onMouseEnter:()=>c(v),className:`transition-colors duration-200 ${o?"cursor-pointer":"cursor-default"}`,"aria-label":o?`${v} star`:void 0,"aria-checked":o?t===v:void 0,role:o?"radio":void 0,children:u.jsx(kp,{className:`
                  ${rwe[r]}
                  ${x?"text-yellow-400":"text-gray-300"}
                  transition-transform duration-200
                  ${o&&x?"hover:scale-110":""}
                `,fill:x?"currentColor":"none"})},y)})}),o&&u.jsx("div",{className:"h-5 text-sm font-medium text-gray-600",children:f})]})},iwe=({user:t})=>{const[e,n]=g.useState(0),[r,i]=g.useState("food"),[a,s]=g.useState(""),[o,l]=g.useState(!1),[c,d]=g.useState([]),[h,f]=g.useState(!0),[m,y]=g.useState(null),{showToast:v}=pr();g.useEffect(()=>{if(!t)return;const _=me.collection("feedback").where("userId","==",t.uid).onSnapshot(T=>{const N=[];T.forEach(j=>{var S,I;const A=j.data();N.push({id:j.id,...A,createdAt:(S=A.createdAt)==null?void 0:S.toDate(),updatedAt:(I=A.updatedAt)==null?void 0:I.toDate()})}),N.sort((j,A)=>{var S,I;return(((S=A.createdAt)==null?void 0:S.getTime())||0)-(((I=j.createdAt)==null?void 0:I.getTime())||0)}),d(N),f(!1)});return()=>_()},[t]);const x=async w=>{if(w.preventDefault(),e===0||a.trim().length<10){v("Please provide a rating and a comment (at least 10 characters).");return}l(!0);try{await me.collection("feedback").add({userId:t.uid,rating:e,category:r,comment:a,status:"pending",createdAt:et.firestore.FieldValue.serverTimestamp(),updatedAt:et.firestore.FieldValue.serverTimestamp()}),v("Feedback submitted successfully!"),n(0),i("food"),s("")}catch(_){console.error("Error submitting feedback: ",_),v("Failed to submit feedback. Please try again.")}finally{l(!1)}},b={pending:"bg-yellow-100 text-yellow-800",reviewed:"bg-blue-100 text-blue-800",resolved:"bg-green-100 text-green-800"};return u.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsxs(ge,{children:[u.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900",children:"Your Feedback History"}),h?u.jsx("div",{className:"flex items-center justify-center p-8",children:u.jsx(Ot,{className:"h-8 w-8 animate-spin text-primary-600"})}):c.length>0?u.jsx("div",{className:"space-y-3",children:c.map(w=>u.jsxs("div",{className:"rounded-lg border border-gray-200",children:[u.jsxs("button",{onClick:()=>y(m===w.id?null:w.id),className:"flex w-full items-center justify-between p-4 text-left",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Xx,{rating:w.rating,size:"sm",readonly:!0}),u.jsxs("div",{className:"flex-1 overflow-hidden",children:[u.jsx("p",{className:"font-semibold text-gray-800 truncate",children:w.comment}),u.jsx("p",{className:"text-xs text-gray-500",children:w.createdAt?u_(w.createdAt,{addSuffix:!0}):"Just now"})]})]}),u.jsx(Hh,{className:`h-5 w-5 transform transition-transform ${m===w.id?"rotate-180":""}`})]}),u.jsx(fy,{children:m===w.id&&u.jsx(za.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:u.jsxs("div",{className:"border-t p-4",children:[u.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:w.comment}),w.response&&u.jsxs("div",{className:"mt-4 rounded-md border-l-4 border-primary-400 bg-primary-50 p-3",children:[u.jsx("p",{className:"font-semibold text-primary-800",children:"Response from Rush Coffee:"}),u.jsxs("p",{className:"mt-1 text-sm text-primary-700 italic",children:['"',w.response,'"']})]}),u.jsx("div",{className:"mt-3",children:u.jsx(or,{className:`capitalize ${b[w.status]}`,children:w.status})})]})})})]},w.id))}):u.jsxs("div",{className:"py-10 text-center text-gray-500",children:[u.jsx(Gh,{className:"mx-auto h-12 w-12 text-gray-300"}),u.jsx("p",{className:"mt-2 font-semibold",children:"No feedback history found."}),u.jsx("p",{className:"text-sm",children:"Share your thoughts with us using the form!"})]})]})}),u.jsx("div",{children:u.jsxs(ge,{children:[u.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900",children:"Leave Feedback"}),u.jsxs("form",{onSubmit:x,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Overall Rating"}),u.jsx(Xx,{rating:e,onRatingChange:n})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),u.jsxs("select",{id:"category",value:r,onChange:w=>i(w.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[u.jsx("option",{value:"food",children:"Food & Drinks"}),u.jsx("option",{value:"service",children:"Service"}),u.jsx("option",{value:"system",children:"App/Website"}),u.jsx("option",{value:"other",children:"Other"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700",children:"Comments"}),u.jsx("textarea",{id:"comment",value:a,onChange:w=>s(w.target.value),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Tell us more about your experience..."})]}),u.jsxs(Ve,{type:"submit",disabled:o,className:"w-full",children:[o?u.jsx(Ot,{className:"mr-2 h-4 w-4 animate-spin"}):u.jsx(BI,{className:"mr-2 h-4 w-4"}),o?"Submitting...":"Submit Feedback"]})]})]})})]})},X5=()=>u.jsx(ge,{className:"animate-pulse",children:u.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{className:"flex-grow space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"h-4 w-1/3 rounded bg-gray-300"}),u.jsx("div",{className:"h-5 w-1/4 rounded-full bg-gray-300"})]}),u.jsx("div",{className:"h-3 w-1/4 rounded bg-gray-300"}),u.jsx("div",{className:"h-4 w-1/2 rounded bg-gray-300"})]}),u.jsxs("div",{className:"flex-shrink-0 space-y-2 text-right sm:ml-4",children:[u.jsx("div",{className:"h-8 w-24 rounded bg-gray-300 ml-auto"}),u.jsx("div",{className:"h-8 w-28 rounded-full bg-gray-300 ml-auto"})]})]})}),awe=()=>{const{currentUser:t,updateUserProfile:e,updateUserPhoto:n}=Hr(),{orderHistory:r,isHistoryLoading:i}=yC(),[a,s]=g.useState(null),[o,l]=g.useState("overview"),[c,d]=g.useState(!1),[h,f]=g.useState(!1),[m,y]=g.useState(null),[v,x]=g.useState(null),[b,w]=g.useState(!1),_=g.useRef(null),{showToast:T,addToCart:N}=pr();g.useEffect(()=>{s(t)},[t]),g.useEffect(()=>{if(!m){x(null);return}const M=URL.createObjectURL(m);return x(M),()=>URL.revokeObjectURL(M)},[m]);const j=g.useMemo(()=>a?A0.find(M=>M.id==="cb-01"):null,[a]),A=M=>{a&&e&&(e(M),d(!1))},S=M=>{a&&s(H=>H?{...H,preferences:{...H.preferences,...M}}:null)},I=M=>{if(M.target.files&&M.target.files[0]){if(M.target.files[0].size>2*1024*1024){T("File size should not exceed 2MB.");return}y(M.target.files[0])}},C=()=>{if(!m||!a||!n)return;w(!0);const M=new FileReader;M.readAsDataURL(m),M.onloadend=async()=>{const H=M.result;try{await n(H),w(!1),f(!1),y(null),T("Profile photo updated!")}catch(F){console.error("Error updating photo:",F),T("Failed to update photo."),w(!1)}}},k=()=>{j&&N(j,j.sizes[0])};if(!a)return u.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50",children:u.jsx(Ot,{className:"h-12 w-12 animate-spin text-primary-600"})});const R=[{id:"overview",label:"Overview",Icon:ks},{id:"orders",label:"Order History",Icon:fw},{id:"feedback",label:"My Feedback",Icon:Gh},{id:"settings",label:"Settings",Icon:T9}],O=()=>{switch(o){case"orders":return i?u.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((M,H)=>u.jsx(X5,{},H))}):u.jsx(Q5,{orders:r});case"settings":return u.jsx(twe,{preferences:a.preferences,onUpdatePreferences:S});case"feedback":return u.jsx(iwe,{user:a});case"overview":default:return u.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[u.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[c?u.jsx(Xbe,{user:a,onSave:A,onCancel:()=>d(!1)}):u.jsxs(ge,{children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"font-display text-xl font-bold text-coffee-900",children:"Quick Info"}),u.jsxs(Ve,{variant:"ghost",size:"sm",onClick:()=>d(!0),children:[u.jsx(I9,{className:"mr-2 h-4 w-4"})," Edit Profile"]})]}),u.jsxs("ul",{className:"mt-4 space-y-3 text-gray-700",children:[u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(Ma,{className:"h-5 w-5 text-gray-400"})," ",a.email]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(js,{className:"h-5 w-5 text-gray-400"})," ",a.phone||"Not provided"]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(gd,{className:"h-5 w-5 text-gray-400"})," Member since ",Dc(a.createdAt,"MMMM dd, yyyy")]})]})]}),i?u.jsxs(ge,{children:[u.jsx("h3",{className:"font-display text-xl font-bold text-coffee-900",children:"Recent Orders"}),u.jsx("div",{className:"mt-4 space-y-4",children:Array.from({length:3}).map((M,H)=>u.jsx(X5,{},H))})]}):u.jsx(Q5,{orders:r,limit:3,showViewAll:!0,onViewAll:()=>l("orders")})]}),u.jsxs("div",{className:"space-y-6 lg:col-span-1",children:[j&&u.jsxs(ge,{children:[u.jsx("h3",{className:"font-display text-xl font-bold text-coffee-900",children:"Your Favorite"}),u.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[u.jsx("img",{src:j.imageUrl,alt:j.name,className:"h-20 w-20 rounded-lg object-cover"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-gray-800",children:j.name}),u.jsx("p",{className:"text-sm text-gray-500",children:j.category}),u.jsx(Ve,{size:"sm",variant:"secondary",className:"mt-2",onClick:k,children:"Order Again"})]})]})]}),u.jsxs(ge,{children:[u.jsx("h3",{className:"font-display text-xl font-bold text-coffee-900",children:"Quick Stats"}),u.jsxs("ul",{className:"mt-4 space-y-3 text-gray-700",children:[u.jsxs("li",{className:"flex justify-between",children:[u.jsx("span",{children:"Orders this week:"})," ",u.jsx("span",{className:"font-bold",children:"5"})]}),u.jsxs("li",{className:"flex justify-between",children:[u.jsx("span",{children:"Orders this month:"})," ",u.jsx("span",{className:"font-bold",children:"12"})]}),u.jsxs("li",{className:"flex justify-between",children:[u.jsx("span",{children:"Total Savings:"})," ",u.jsx("span",{className:"font-bold text-green-600",children:"250.00"})]})]})]})]})]})}};return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx(dn,{}),u.jsxs("main",{children:[u.jsx(Qbe,{user:a,onEditPhoto:()=>f(!0)}),u.jsx("div",{className:"sticky top-16 z-30 border-b border-gray-200 bg-white/95 backdrop-blur-sm sm:top-20",children:u.jsx("div",{className:"container mx-auto max-w-7xl px-4 sm:px-6",children:u.jsx("nav",{className:"-mb-px flex space-x-4 overflow-x-auto sm:space-x-8 no-scrollbar",children:R.map(M=>u.jsxs("button",{onClick:()=>l(M.id),className:`group inline-flex shrink-0 items-center gap-2 whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium transition-all ${o===M.id?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:[u.jsx(M.Icon,{className:`h-5 w-5 ${o===M.id?"text-primary-600":"text-gray-400 group-hover:text-gray-500"}`}),M.label]},M.id))})})}),u.jsx("div",{className:"container mx-auto max-w-7xl p-6",children:O()})]}),u.jsx(hn,{}),u.jsx(El,{isOpen:h,onClose:()=>f(!1),title:"Upload New Photo",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("input",{type:"file",ref:_,onChange:I,accept:"image/*",className:"hidden"}),u.jsx("div",{className:"flex cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-6 text-center transition hover:bg-gray-100",onClick:()=>{var M;return(M=_.current)==null?void 0:M.click()},children:v?u.jsx("img",{src:v,alt:"Preview",className:"h-32 w-32 rounded-full object-cover"}):u.jsxs(u.Fragment,{children:[u.jsx(iD,{className:"h-12 w-12 text-gray-400"}),u.jsx("span",{className:"mt-2 block text-sm font-semibold text-gray-600",children:"Click to upload"}),u.jsx("span",{className:"mt-1 block text-xs text-gray-500",children:"PNG or JPG (MAX. 2MB)"})]})}),b&&u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:u.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full animate-pulse",style:{width:"100%"}})}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx(Ve,{variant:"ghost",onClick:()=>f(!1),children:"Cancel"}),u.jsxs(Ve,{onClick:C,disabled:!m||b,children:[b?u.jsx(Ot,{className:"mr-2 h-4 w-4 animate-spin"}):u.jsx(iD,{className:"mr-2 h-4 w-4"}),"Upload Photo"]})]})]})})]})},swe=(t,e=2e3)=>{const[n,r]=g.useState(0),i=g.useRef(null),a=t%1!==0?1:0;return g.useEffect(()=>{const s=new IntersectionObserver(([l])=>{if(l.isIntersecting){let c=0;const d=t;if(c===d){r(d);return}const h=Math.round(e/(1e3/60)),f=(d-c)/h,m=()=>{c+=f,c<d?(r(c),requestAnimationFrame(m)):r(d)};requestAnimationFrame(m),s.disconnect()}},{threshold:.1}),o=i.current;return o&&s.observe(o),()=>{o&&s.unobserve(o)}},[t,e]),{count:n.toFixed(a),ref:i}},jv=({icon:t,value:e,label:n,suffix:r=""})=>{const{count:i,ref:a}=swe(e),s=i.includes(".");return u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx(t,{className:"mb-2 h-10 w-10 text-primary-600"}),u.jsxs("span",{ref:a,className:"font-display text-4xl font-bold text-coffee-900",children:[Number(i).toLocaleString(void 0,{minimumFractionDigits:s?1:0,maximumFractionDigits:s?1:0}),r]}),u.jsx("p",{className:"mt-1 text-gray-600",children:n})]})},owe=()=>u.jsxs("div",{className:"bg-white",children:[u.jsx(dn,{}),u.jsxs("main",{children:[u.jsxs("section",{className:"relative flex min-h-[40vh] items-center justify-center overflow-hidden bg-coffee-900 px-6 py-24 text-center text-white",children:[u.jsxs("div",{className:"absolute inset-0 z-0",children:[u.jsx("img",{src:"https://images.unsplash.com/photo-1447933601403-0c6688de566e?q=80&w=2561&auto=format&fit=crop",alt:"Coffee beans close up",className:"h-full w-full object-cover opacity-40"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-coffee-900/60 via-coffee-900/40 to-coffee-900/90"})]}),u.jsxs("div",{className:"relative z-10 mx-auto max-w-4xl",children:[u.jsx("span",{className:"mb-4 inline-block rounded-full bg-primary-500/20 px-4 py-1.5 text-sm font-medium text-primary-300 backdrop-blur-sm",children:"Our Story & Mission"}),u.jsx("h1",{className:"animate-fade-in-up font-display text-5xl font-bold md:text-7xl",style:{animationDelay:"100ms",opacity:0},children:"Brewing the Future"}),u.jsx("p",{className:"animate-fade-in-up mx-auto mt-6 max-w-2xl text-xl text-gray-200 md:text-2xl",style:{animationDelay:"300ms",opacity:0},children:"Where artisanal tradition meets modern convenience. We're redefining your daily coffee ritual."})]}),u.jsx("button",{onClick:()=>{var t;return(t=document.getElementById("our-story"))==null?void 0:t.scrollIntoView({behavior:"smooth"})},className:"absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce text-white/50 hover:text-white transition-colors cursor-pointer","aria-label":"Scroll down",children:u.jsx(Gc,{className:"h-6 w-6 rotate-90"})})]}),u.jsx("section",{id:"our-story",className:"px-6 py-32",children:u.jsxs("div",{className:"container mx-auto grid max-w-7xl items-center gap-12 md:grid-cols-2",children:[u.jsxs("div",{className:"animate-fade-in-up",children:[u.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"Our Story"}),u.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"Founded in 2023 by a group of passionate coffee aficionados and tech enthusiasts, Rush Coffee was born from a simple yet powerful idea: your coffee break should be a moment of joy, not a test of patience."}),u.jsx("p",{className:"mt-4 text-gray-600",children:"We saw the long lines, the rushed orders, and the precious minutes slipping away from people's days. Our mission became clear: to blend the rich tradition of artisanal coffee with the seamless efficiency of modern technology. We're not just serving coffee; we're giving you back your time, one perfectly brewed cup at a time."})]}),u.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"200ms",opacity:0},children:u.jsx("img",{src:"https://images.unsplash.com/photo-1554118811-1e0d58224f24?q=80&w=2047&auto=format&fit=crop",alt:"Inside Rush Coffee shop",className:"h-80 w-full rounded-lg object-cover shadow-xl"})})]})}),u.jsx("section",{className:"bg-gray-50 px-6 py-32",children:u.jsxs("div",{className:"container mx-auto max-w-7xl",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"What We Stand For"}),u.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-gray-600",children:"Our core values guide every bean we roast and every line of code we write."})]}),u.jsxs("div",{className:"mt-12 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-4",children:[u.jsxs(ge,{hover:!0,className:"text-center",children:[u.jsx(ci,{className:"mx-auto mb-4 h-12 w-12 text-primary-600"}),u.jsx("h3",{className:"font-display text-xl font-semibold text-coffee-900",children:"Quality"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"From ethically sourced, premium beans to the perfect extraction, excellence is in every cup."})]}),u.jsxs(ge,{hover:!0,className:"text-center",children:[u.jsx(Rre,{className:"mx-auto mb-4 h-12 w-12 text-primary-600"}),u.jsx("h3",{className:"font-display text-xl font-semibold text-coffee-900",children:"Speed"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Our digital queue system ensures your order is ready when you are. Fast, efficient, and always fresh."})]}),u.jsxs(ge,{hover:!0,className:"text-center",children:[u.jsx(Rp,{className:"mx-auto mb-4 h-12 w-12 text-primary-600"}),u.jsx("h3",{className:"font-display text-xl font-semibold text-coffee-900",children:"Community"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"We're more than a coffee shop; we're a hub for connection, creativity, and caffeine lovers."})]}),u.jsxs(ge,{hover:!0,className:"text-center",children:[u.jsx(Lne,{className:"mx-auto mb-4 h-12 w-12 text-primary-600"}),u.jsx("h3",{className:"font-display text-xl font-semibold text-coffee-900",children:"Innovation"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Continuously improving your experience by thoughtfully integrating technology with tradition."})]})]})]})}),u.jsx("section",{className:"bg-white px-6 py-20",children:u.jsx("div",{className:"container mx-auto max-w-7xl",children:u.jsxs("div",{className:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-4",children:[u.jsx(jv,{icon:Rp,value:1e4,label:"Happy Customers",suffix:"+"}),u.jsx(jv,{icon:ci,value:5e4,label:"Coffees Served",suffix:"+"}),u.jsx(jv,{icon:kp,value:4.9,label:"Average Rating"}),u.jsx(jv,{icon:jre,value:5,label:"Minutes Average Wait"})]})})}),u.jsx("section",{className:"bg-gray-50 px-6 py-20",children:u.jsxs("div",{className:"container mx-auto grid max-w-7xl items-center gap-12 lg:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"Visit Us"}),u.jsx("p",{className:"mt-4 text-gray-600",children:"Experience the Rush Coffee difference in person. We're ready to serve you."}),u.jsxs("ul",{className:"mt-6 space-y-4",children:[u.jsxs("li",{className:"flex items-start gap-4",children:[u.jsx(UI,{className:"mt-1 h-6 w-6 flex-shrink-0 text-primary-600"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-coffee-900",children:"Address"}),u.jsx("p",{className:"text-gray-600",children:"123 Coffee Street, Malate, Manila, 1004 Metro Manila"})]})]}),u.jsxs("li",{className:"flex items-start gap-4",children:[u.jsx(wu,{className:"mt-1 h-6 w-6 flex-shrink-0 text-primary-600"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-coffee-900",children:"Operating Hours"}),u.jsx("p",{className:"text-gray-600",children:"Monday - Friday: 7:00 AM - 8:00 PM"}),u.jsx("p",{className:"text-gray-600",children:"Saturday - Sunday: 8:00 AM - 6:00 PM"})]})]}),u.jsxs("li",{className:"flex items-start gap-4",children:[u.jsx(js,{className:"mt-1 h-6 w-6 flex-shrink-0 text-primary-600"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-coffee-900",children:"Contact"}),u.jsx("a",{href:"tel:+639171234567",className:"text-primary-600 transition hover:text-primary-700",children:"+63 917 123 4567"})]})]})]}),u.jsx(Ve,{size:"lg",className:"mt-8",children:"Get Directions"})]}),u.jsx("div",{className:"h-96 overflow-hidden rounded-lg shadow-xl",children:u.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gray-300 bg-cover bg-center",style:{backgroundImage:"url('/Coffee Based/coffee-jelly.jpg')"},children:u.jsx("span",{className:"rounded bg-white/80 px-4 py-2 font-semibold text-gray-700 backdrop-blur-sm",children:"[Google Maps Placeholder]"})})})]})}),u.jsxs("section",{className:"relative overflow-hidden bg-coffee-900 px-6 py-24 text-center text-white",children:[u.jsxs("div",{className:"absolute inset-0 z-0",children:[u.jsx("img",{src:"https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?q=80&w=2070&auto=format&fit=crop",alt:"Coffee shop atmosphere",className:"h-full w-full object-cover opacity-20"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-coffee-900/90 via-coffee-800/90 to-coffee-900/90"})]}),u.jsx("div",{className:"absolute -left-1/4 -top-1/4 opacity-5",children:u.jsx(vn,{className:"h-96 w-96 animate-float text-white"})}),u.jsx("div",{className:"absolute -bottom-1/4 -right-1/4 opacity-5",children:u.jsx(vn,{className:"h-[30rem] w-[30rem] animate-float-delay text-white"})}),u.jsxs("div",{className:"relative z-10 mx-auto max-w-3xl",children:[u.jsx("h2",{className:"font-display text-4xl font-bold md:text-5xl lg:text-6xl",children:"Ready to Experience the Rush?"}),u.jsx("p",{className:"mx-auto mb-10 mt-6 max-w-2xl text-xl text-gray-300",children:"Join thousands of happy customers who've already upgraded their coffee routine. Skip the line, not the quality."}),u.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 sm:flex-row",children:[u.jsxs(De,{to:"/auth/register",className:"group inline-flex items-center justify-center gap-2 rounded-full bg-primary-600 px-8 py-4 text-lg font-semibold text-white shadow-lg transition-all hover:bg-primary-500 hover:shadow-primary-600/30 hover:-translate-y-1",children:["Start Ordering",u.jsx(Gc,{className:"h-5 w-5 transition-transform group-hover:translate-x-1"})]}),u.jsx(De,{to:"/menu",className:"inline-flex items-center justify-center gap-2 rounded-full border border-white/20 bg-white/5 px-8 py-4 text-lg font-semibold text-white backdrop-blur-sm transition-all hover:bg-white/10 hover:-translate-y-1",children:"View Menu"})]}),u.jsxs("p",{className:"mt-8 text-sm text-gray-400",children:["Already have an account?"," ",u.jsx(De,{to:"/auth/login",className:"font-medium text-primary-400 hover:text-primary-300 hover:underline",children:"Log in here"})]})]})]})]}),u.jsx(hn,{})]}),vC=g.forwardRef(({className:t,label:e,error:n,helperText:r,startIcon:i,containerClassName:a,id:s,showCharCount:o=!1,maxLength:l,autoResize:c=!1,value:d,onChange:h,...f},m)=>{const[y,v]=gc.useState(0),x=gc.useRef(null);gc.useEffect(()=>{d!==void 0&&v(String(d).length)},[d]),gc.useEffect(()=>{c&&x.current&&(x.current.style.height="auto",x.current.style.height=`${x.current.scrollHeight}px`)},[d,c]);const b=_=>{v(_.target.value.length),h&&h(_)},w=_=>{x.current=_,typeof m=="function"?m(_):m&&(m.current=_)};return u.jsxs("div",{className:`w-full ${a||""}`,children:[e&&u.jsx("label",{htmlFor:s,className:"mb-1.5 block text-sm font-medium text-coffee-900",children:e}),u.jsxs("div",{className:"relative group",children:[i&&u.jsx("div",{className:"pointer-events-none absolute left-3 top-3 text-gray-400 transition-colors group-focus-within:text-primary-600",children:i}),u.jsx("textarea",{id:s,className:`
              w-full rounded-xl border bg-white px-4 py-3.5 text-sm text-gray-900 
              placeholder:text-gray-500 placeholder:font-medium transition-all duration-200 ease-in-out resize-none
              focus:border-primary-500 focus:outline-none focus:ring-4 focus:ring-primary-500/10
              disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500
              ${i?"pl-10":""}
              ${n?"border-red-300 focus:border-red-500 focus:ring-red-500/10":"border-gray-500 shadow-sm hover:border-primary-400"}
              ${c?"overflow-hidden":""}
              ${t||""}
            `,ref:w,value:d,onChange:b,maxLength:l,...f})]}),u.jsxs("div",{className:"mt-1.5 flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[n&&u.jsx("p",{className:"text-xs font-medium text-red-600 animate-fade-in-up",children:n}),!n&&r&&u.jsx("p",{className:"text-xs text-gray-500",children:r})]}),o&&l&&u.jsxs("p",{className:`text-xs ml-2 flex-shrink-0 transition-colors ${y>l*.9?"text-amber-600 font-medium":"text-gray-400"}`,children:[y,"/",l]})]})]})});vC.displayName="Textarea";const Qq=g.forwardRef(({className:t,label:e,error:n,helperText:r,startIcon:i,containerClassName:a,id:s,options:o,children:l,...c},d)=>u.jsxs("div",{className:`w-full ${a||""}`,children:[e&&u.jsx("label",{htmlFor:s,className:"mb-1.5 block text-sm font-medium text-coffee-900",children:e}),u.jsxs("div",{className:"relative group",children:[i&&u.jsx("div",{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 transition-colors group-focus-within:text-primary-600 z-10",children:i}),u.jsx("select",{id:s,className:`
              w-full appearance-none rounded-xl border bg-white px-4 py-3.5 text-sm text-gray-900 
              cursor-pointer transition-all duration-200 ease-in-out
              focus:border-primary-500 focus:outline-none focus:ring-4 focus:ring-primary-500/10
              disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500
              ${i?"pl-10":""}
              pr-10
              ${n?"border-red-300 focus:border-red-500 focus:ring-red-500/10":"border-gray-500 shadow-sm hover:border-primary-400"}
              ${t||""}
            `,ref:d,...c,children:o?o.map(h=>u.jsx("option",{value:h.value,disabled:h.disabled,children:h.label},h.value)):l}),u.jsx("div",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:u.jsx(Hh,{className:"h-5 w-5"})})]}),n&&u.jsx("p",{className:"mt-1.5 text-xs font-medium text-red-600 animate-fade-in-up",children:n}),!n&&r&&u.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:r})]}));Qq.displayName="Select";const lwe=[{question:"What are your operating hours?",answer:"We are open Monday to Friday from 7:00 AM to 8:00 PM, and Saturday to Sunday from 8:00 AM to 6:00 PM."},{question:"How does the digital queue system work?",answer:"Simply place your order through our app or website. You'll be added to our virtual queue and receive real-time updates on your order status, including your position and estimated wait time. You'll get a notification when it's ready for pickup!"},{question:"Can I customize my drink?",answer:"Absolutely! Most of our drinks can be customized. You can choose your milk, sweetness level, add extra shots, and more right from the order page."},{question:"Do you offer catering services for events?",answer:"Yes, we do! We offer a range of catering options for meetings, parties, and events. Please use the contact form and select 'Partnership' as the subject to discuss your needs with us."},{question:"How do I earn and redeem rewards points?",answer:"You earn points with every purchase made through your account. You can view your points balance and redeem available rewards on the 'Rewards' page in the app."}],cwe=({question:t,answer:e,isOpen:n,onClick:r})=>u.jsxs("div",{className:"border-b border-gray-200",children:[u.jsxs("button",{onClick:r,className:"flex w-full items-center justify-between py-4 text-left text-lg font-medium text-gray-800 focus:outline-none",children:[u.jsx("span",{children:t}),u.jsx(Hh,{className:`h-6 w-6 transform transition-transform duration-300 ${n?"rotate-180":""}`})]}),u.jsx(fy,{children:n&&u.jsx(za.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:u.jsx("p",{className:"pb-4 text-gray-600",children:e})})})]}),uwe=()=>{const[t,e]=g.useState(0),[n,r]=g.useState({name:"",email:"",phone:"",subject:"",message:""}),[i,a]=g.useState({}),[s,o]=g.useState(!1),[l,c]=g.useState(!1),d=()=>{const m={};return n.name.length<2&&(m.name="Name must be at least 2 characters."),/\S+@\S+\.\S+/.test(n.email)||(m.email="Please enter a valid email address."),n.subject||(m.subject="Please select a subject."),n.message.length<10&&(m.message="Message must be at least 10 characters."),a(m),Object.keys(m).length===0},h=m=>{m.preventDefault(),d()&&(o(!0),c(!1),setTimeout(()=>{o(!1),c(!0),r({name:"",email:"",phone:"",subject:"",message:""}),setTimeout(()=>c(!1),5e3)},1500))},f=m=>{r({...n,[m.target.name]:m.target.value})};return u.jsxs("div",{className:"bg-white",children:[u.jsx(dn,{}),u.jsxs("main",{children:[u.jsxs("section",{className:"relative flex min-h-[40vh] items-center justify-center overflow-hidden bg-coffee-900 px-6 py-20 text-center text-white",children:[u.jsxs("div",{className:"absolute inset-0 z-0",children:[u.jsx("img",{src:"https://images.unsplash.com/photo-1485182708500-e8f1f318ba72?q=80&w=2610&auto=format&fit=crop",alt:"Coffee shop conversation",className:"h-full w-full object-cover opacity-30"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-coffee-900/80 via-coffee-900/60 to-coffee-900/90"})]}),u.jsxs("div",{className:"relative z-10 mx-auto max-w-3xl",children:[u.jsx("span",{className:"mb-4 inline-block rounded-full bg-primary-500/20 px-4 py-1.5 text-sm font-medium text-primary-300 backdrop-blur-sm",children:"We'd Love to Hear From You"}),u.jsx("h1",{className:"animate-fade-in-up font-display text-5xl font-bold md:text-6xl",style:{animationDelay:"100ms",opacity:0},children:"Get in Touch"}),u.jsx("p",{className:"animate-fade-in-up mx-auto mt-4 max-w-2xl text-xl text-gray-200",style:{animationDelay:"300ms",opacity:0},children:"Have a question, feedback, or just want to say hello? We're here to help."})]})]}),u.jsx("section",{className:"bg-gray-50 px-6 py-24",children:u.jsx("div",{className:"container mx-auto max-w-6xl",children:u.jsxs("div",{className:"overflow-hidden rounded-3xl bg-white shadow-2xl lg:grid lg:grid-cols-5",children:[u.jsxs("div",{className:"p-8 lg:col-span-3 lg:p-12",children:[u.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900",children:"Send us a Message"}),l&&u.jsxs(za.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mt-4 flex items-center gap-3 rounded-xl bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 p-4 shadow-sm",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-green-500",children:u.jsx(VI,{className:"h-6 w-6 text-white"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-green-900",children:"Message Sent Successfully!"}),u.jsx("p",{className:"text-sm text-green-700",children:"We'll get back to you within 24 hours."})]})]}),u.jsxs("form",{onSubmit:h,className:"mt-8 space-y-6",children:[u.jsx(Dn,{id:"name",name:"name",label:"Name",value:n.name,onChange:f,placeholder:"Full Name",required:!0,error:i.name,startIcon:u.jsx(ks,{className:"h-5 w-5"})}),u.jsx(Dn,{id:"email",name:"email",type:"email",label:"Email",value:n.email,onChange:f,placeholder:"name@company.com",required:!0,error:i.email,startIcon:u.jsx(Ma,{className:"h-5 w-5"})}),u.jsx(Dn,{id:"phone",name:"phone",type:"tel",label:"Phone",value:n.phone,onChange:f,placeholder:"Phone Number (Optional)",startIcon:u.jsx(js,{className:"h-5 w-5"})}),u.jsxs(Qq,{id:"subject",name:"subject",label:"Subject",value:n.subject,onChange:f,required:!0,error:i.subject,startIcon:u.jsx(Ene,{className:"h-5 w-5"}),children:[u.jsx("option",{value:"",disabled:!0,children:"Select a subject..."}),u.jsx("option",{value:"general",children:"General Inquiry"}),u.jsx("option",{value:"feedback",children:"Feedback"}),u.jsx("option",{value:"partnership",children:"Partnership"}),u.jsx("option",{value:"support",children:"Support"})]}),u.jsx(vC,{id:"message",name:"message",label:"Message",value:n.message,onChange:f,placeholder:"How can we help you today?",rows:5,required:!0,error:i.message,startIcon:u.jsx(Gh,{className:"h-5 w-5"}),showCharCount:!0,maxLength:500,helperText:"Please provide as much detail as possible"}),u.jsx(Ve,{type:"submit",size:"lg",fullWidth:!0,isLoading:s,startIcon:!s&&u.jsx(BI,{className:"h-5 w-5"}),children:s?"Sending...":"Send Message"})]})]}),u.jsxs("div",{className:"bg-coffee-900 p-8 text-white lg:col-span-2 lg:p-12",children:[u.jsx("h3",{className:"mb-8 font-display text-2xl font-bold",children:"Contact Information"}),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-white/10 backdrop-blur-sm",children:u.jsx(UI,{className:"h-6 w-6 text-primary-300"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-lg",children:"Visit Us"}),u.jsx("p",{className:"mt-1 text-gray-300",children:"11 Visayan Ave. St. Galas, Quezon City, Philippines"}),u.jsxs("a",{href:"https://www.google.com/maps/dir/?api=1&destination=11+Visayan+Ave+St.+Galas+Quezon+City",target:"_blank",rel:"noopener noreferrer",className:"mt-2 inline-flex items-center text-sm font-medium text-primary-300 hover:text-white",children:["Get Directions ",u.jsx(Gc,{className:"ml-1 h-4 w-4"})]})]})]}),u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-white/10 backdrop-blur-sm",children:u.jsx(js,{className:"h-6 w-6 text-primary-300"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-lg",children:"Call Us"}),u.jsx("a",{href:"tel:+639171234567",className:"mt-1 block text-gray-300 hover:text-white transition-colors",children:"+63 917 123 4567"}),u.jsx("p",{className:"text-sm text-gray-400",children:"Mon-Sun: 7AM - 8PM"})]})]}),u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-white/10 backdrop-blur-sm",children:u.jsx(Ma,{className:"h-6 w-6 text-primary-300"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-lg",children:"Email Us"}),u.jsx("a",{href:"mailto:hello@rushcoffee.ph",className:"mt-1 block text-gray-300 hover:text-white transition-colors",children:"hello@rushcoffee.ph"}),u.jsx("p",{className:"text-sm text-gray-400",children:"Responds within 24 hours"})]})]}),u.jsxs("div",{className:"pt-8 border-t border-white/10",children:[u.jsx("h4",{className:"font-bold text-lg mb-4",children:"Follow Us"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("a",{href:"#",className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/10 text-white transition hover:bg-primary-600 hover:scale-110",children:u.jsx(b9,{className:"h-5 w-5"})}),u.jsx("a",{href:"#",className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/10 text-white transition hover:bg-primary-600 hover:scale-110",children:u.jsx(w9,{className:"h-5 w-5"})}),u.jsx("a",{href:"#",className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/10 text-white transition hover:bg-primary-600 hover:scale-110",children:u.jsx(P9,{className:"h-5 w-5"})})]})]})]})]})]})})}),u.jsx("section",{className:"bg-gray-50 px-6 py-20",children:u.jsxs("div",{className:"container mx-auto max-w-4xl",children:[u.jsx("h2",{className:"text-center font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"Frequently Asked Questions"}),u.jsx("div",{className:"mt-8",children:lwe.map((m,y)=>u.jsx(cwe,{...m,isOpen:t===y,onClick:()=>e(t===y?null:y)},y))})]})}),u.jsx("section",{className:"bg-gray-50 px-6 pb-24 pt-12",children:u.jsxs("div",{className:"container mx-auto max-w-6xl text-center",children:[u.jsx("h2",{className:"mb-2 font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"Find Your Way to Us"}),u.jsx("p",{className:"mb-8 text-gray-600",children:"Come visit our cozy spot in the heart of the city."}),u.jsx("div",{className:"h-96 w-full overflow-hidden rounded-3xl shadow-xl",children:u.jsx("iframe",{src:"https://maps.google.com/maps?q=11%20Visayan%20Ave%20St.%20Galas%20Quezon%20City&t=&z=15&ie=UTF8&iwloc=&output=embed",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Rush Coffee Location"})})]})})]}),u.jsx(hn,{})]})},Xq=[{category:"Ordering & Queue",question:"How do I join the virtual queue?",answer:"Simply place an order through our website or app. You'll automatically join the queue and receive your position number."},{category:"Ordering & Queue",question:"Can I see my queue position in real-time?",answer:"Yes! Your queue page updates in real-time showing your current position and estimated wait time."},{category:"Ordering & Queue",question:"What happens if I miss my turn?",answer:"Don't worry! You have a 10-minute grace period to pick up your order once it's ready. After that, your order will be held for you, but you may need to wait briefly if we are busy."},{category:"Ordering & Queue",question:"Can I cancel my order?",answer:"Yes, you can cancel an order directly from your order history as long as its status is still 'waiting'. Once it moves to 'preparing', it can no longer be canceled. Refunds for successful cancellations are processed within 3-5 business days."},{category:"Payments",question:"What payment methods do you accept?",answer:"We currently accept GCash for pre-payment and cash on pickup. We are working on adding more digital payment options soon!"},{category:"Payments",question:"Is it safe to pay via GCash?",answer:"Absolutely! We use a secure payment process, and your payment information is encrypted and handled safely."},{category:"Payments",question:"Do I need to pay upfront?",answer:"For GCash payments, yes, payment is required upon placing the order. For cash payments, you can pay at the counter when you pick up your order."},{category:"Rewards",question:"How do I earn rewards points?",answer:"You earn points with every purchase made through your Rush Coffee account! The current rate is 1 point for every 10 spent. Keep an eye out for special promotions to earn bonus points."},{category:"Rewards",question:"When do my points expire?",answer:"Good news - your points never expire! You can save them up for as long as you like and redeem them for rewards whenever you're ready."},{category:"Rewards",question:"What are the tier benefits?",answer:"We have three tiers! Bronze (0-299pts): Earn 1x points. Silver (300-999pts): Earn 1.5x points and get access to exclusive silver rewards. Gold (1000+pts): Earn 2x points, get VIP perks, and early access to new items."},{category:"Account",question:"Do I need an account to order?",answer:"Yes, creating an account is necessary. It allows us to manage your orders in the queue, track your rewards points, and save your preferences for a faster checkout next time."},{category:"Account",question:"How do I reset my password?",answer:"On the login page, click the 'Forgot your password?' link. We'll send a password reset link to the email address associated with your account."},{category:"Account",question:"Can I change my email address?",answer:"To update the email address on your account, please contact our support team at hello@rushcoffee.ph, and we'll be happy to assist you."},{category:"Technical",question:"The website isn't working correctly. What should I do?",answer:"First, try refreshing the page. If that doesn't work, clearing your browser's cache and cookies often resolves the issue. If you're still experiencing problems, please contact our support team with details about the issue."},{category:"Technical",question:"Do you have a mobile app?",answer:"A dedicated mobile app for iOS and Android is currently in development and will be launching soon! For now, our website is fully responsive and works great on all mobile browsers."},{category:"General",question:"What are your operating hours?",answer:"We're open Monday to Sunday, from 7:00 AM to 10:00 PM. Hours may vary on public holidays."},{category:"General",question:"Do you offer WiFi in your store?",answer:"Yes, we offer complimentary high-speed WiFi for all our customers. Just ask our staff for the network details."},{category:"General",question:"Can I customize my drink?",answer:"Absolutely! You can customize aspects like milk type, sweetness level, add extra espresso shots, and choose from various syrups and toppings directly on the product page before adding an item to your cart."}],dwe=["All",...Array.from(new Set(Xq.map(t=>t.category)))],hwe=({question:t,answer:e,isOpen:n,onClick:r,highlight:i})=>{const a=(s,o)=>{if(!o.trim())return s;const l=new RegExp(`(${o})`,"gi");return s.split(l).map((c,d)=>l.test(c)?u.jsx("mark",{className:"bg-primary-100 text-primary-700 rounded-sm",children:c},d):c)};return u.jsxs("div",{className:"border-b border-gray-200",children:[u.jsxs("button",{onClick:r,className:"flex w-full items-center justify-between py-5 text-left text-lg font-medium text-gray-800 focus:outline-none focus:bg-gray-50 rounded-md",children:[u.jsx("span",{className:"flex-1 pr-4",children:a(t,i)}),u.jsx(Hh,{className:`h-6 w-6 transform text-primary-600 transition-transform duration-300 ${n?"rotate-180":""}`})]}),u.jsx(fy,{children:n&&u.jsx(za.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:u.jsx("div",{className:"pb-5 pr-6 text-gray-600 leading-relaxed",children:a(e,i)})})})]})},fwe=()=>{const[t,e]=g.useState(""),[n,r]=g.useState("All"),[i,a]=g.useState(0),s=g.useMemo(()=>Xq.filter(o=>{const l=n==="All"||o.category===n,c=t.trim()===""||o.question.toLowerCase().includes(t.toLowerCase())||o.answer.toLowerCase().includes(t.toLowerCase());return l&&c}),[t,n]);return u.jsxs("div",{className:"bg-white",children:[u.jsx(dn,{}),u.jsxs("main",{children:[u.jsx("section",{className:"bg-gradient-to-br from-primary-50 to-coffee-50 px-6 py-16",children:u.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[u.jsx("h1",{className:"font-display text-5xl font-bold text-coffee-900 md:text-6xl",children:"Frequently Asked Questions"}),u.jsx("p",{className:"mt-4 text-xl text-gray-700",children:"Everything you need to know about Rush Coffee"}),u.jsxs("div",{className:"relative mx-auto mt-8 max-w-2xl",children:[u.jsx(eh,{className:"absolute left-6 top-1/2 h-6 w-6 -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"search",placeholder:"Search for answers...",value:t,onChange:o=>e(o.target.value),className:"w-full rounded-full border border-gray-300 bg-white py-4 pl-16 pr-6 text-lg shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500"})]})]})}),u.jsx("div",{className:"sticky top-20 z-30 border-b border-gray-200 bg-white/95 py-3 backdrop-blur-sm",children:u.jsx("div",{className:"container mx-auto flex max-w-7xl gap-2 overflow-x-auto px-6 pb-2",children:dwe.map(o=>u.jsx("button",{onClick:()=>r(o),className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition-colors ${n===o?"bg-primary-600 text-white shadow":"border border-gray-300 bg-white text-gray-700 hover:bg-gray-100"}`,children:o},o))})}),u.jsx("section",{className:"px-6 py-16",children:u.jsx("div",{className:"container mx-auto max-w-4xl",children:s.length>0?u.jsxs("div",{children:[u.jsxs("p",{className:"mb-4 text-sm text-gray-500",children:[s.length," question(s) found"]}),s.map((o,l)=>u.jsx(hwe,{question:o.question,answer:o.answer,isOpen:i===l,onClick:()=>a(i===l?null:l),highlight:t},`${o.category}-${l}`))]}):u.jsxs("div",{className:"py-20 text-center",children:[u.jsx(eh,{className:"mx-auto h-16 w-16 text-gray-300"}),u.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-800",children:"No Results Found"}),u.jsxs("p",{className:"mt-2 text-gray-500",children:[`We couldn't find any answers for "`,t,'". Try a different search term or category.']})]})})}),u.jsx("section",{className:"bg-gray-50 px-6 py-20",children:u.jsx("div",{className:"container mx-auto max-w-4xl",children:u.jsxs(ge,{className:"text-center",children:[u.jsx(ene,{className:"mx-auto h-12 w-12 text-primary-600"}),u.jsx("h2",{className:"mt-4 font-display text-3xl font-bold text-coffee-900",children:"Still have questions?"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"If you can't find the answer you're looking for, please get in touch with our support team."}),u.jsx("div",{className:"mt-6 flex flex-col items-center justify-center gap-4 sm:flex-row",children:u.jsx(De,{to:"/contact",children:u.jsxs(Ve,{size:"lg",children:[u.jsx(Wne,{className:"mr-2 h-5 w-5"}),"Contact Support"]})})})]})})})]}),u.jsx(hn,{})]})},mwe=({cartItems:t,isOpen:e,onClose:n,onUpdateQuantity:r,onRemoveItem:i,onCheckout:a})=>{const s=Ki(),o=t.reduce((d,h)=>d+h.quantity,0),l=t.reduce((d,h)=>d+h.selectedSize.price*h.quantity,0),c=()=>{n(),s("/menu")};return u.jsxs(u.Fragment,{children:[u.jsx("div",{onClick:n,className:`fixed inset-0 z-40 bg-black/50 transition-opacity duration-300 ${e?"opacity-100":"opacity-0 pointer-events-none"}`,"aria-hidden":"true"}),u.jsx("aside",{className:`fixed top-0 right-0 z-50 h-full w-full transform bg-white shadow-2xl transition-transform duration-300 ease-in-out sm:w-96 md:w-[450px] ${e?"translate-x-0":"translate-x-full"}`,role:"dialog","aria-modal":"true","aria-labelledby":"cart-heading",children:u.jsxs("div",{className:"flex h-full flex-col",children:[u.jsxs("header",{className:"flex items-center justify-between border-b border-gray-200 p-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("h2",{id:"cart-heading",className:"font-display text-xl font-bold text-coffee-900",children:"Your Order"}),o>0&&u.jsxs(or,{children:[o," ",o===1?"item":"items"]})]}),u.jsx("button",{onClick:n,className:"rounded-md p-2 text-gray-500 transition-colors hover:bg-gray-100 hover:text-gray-800","aria-label":"Close cart",children:u.jsx(Ys,{className:"h-6 w-6"})})]}),t.length===0?u.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-4 p-6 text-center",children:[u.jsx(vn,{className:"h-24 w-24 text-gray-300 opacity-50"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Your cart is empty"}),u.jsx("p",{className:"text-gray-500",children:"Looks like you haven't added anything yet."}),u.jsx("button",{onClick:c,className:"mt-4 rounded-full bg-primary-600 px-6 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-700",children:"Start Ordering"})]}):u.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:u.jsx("ul",{className:"-my-4 divide-y divide-gray-200",children:t.map(d=>{const h=d.selectedSize.name==="Combo Meal",f=h?`${d.product.name} (${d.selectedSize.name})`:d.product.name,m=h&&d.product.comboImageUrl?d.product.comboImageUrl:d.product.imageUrl;return u.jsxs("li",{className:"relative flex items-center gap-4 py-4",children:[u.jsx("div",{className:"h-16 w-16 flex-shrink-0 overflow-hidden rounded-md border border-gray-200",children:u.jsx("img",{src:m,alt:f,className:"h-full w-full object-cover object-center"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-semibold text-gray-800",children:f}),u.jsxs("p",{className:"text-sm text-gray-500",children:[d.selectedSize.size," - ",d.selectedSize.price.toFixed(2)]}),u.jsxs("div",{className:"mt-2 flex items-center",children:[u.jsx("button",{onClick:()=>r(d.id,d.quantity-1),disabled:d.quantity===1,className:"flex h-8 w-8 items-center justify-center rounded-full border border-gray-300 text-gray-600 transition hover:bg-gray-100 disabled:cursor-not-allowed disabled:opacity-50","aria-label":`Decrease quantity of ${f}`,children:u.jsx(E9,{className:"h-4 w-4"})}),u.jsx("span",{className:"w-12 text-center font-semibold text-gray-800","aria-live":"polite",children:d.quantity}),u.jsx("button",{onClick:()=>r(d.id,d.quantity+1),className:"flex h-8 w-8 items-center justify-center rounded-full border border-gray-300 text-gray-600 transition hover:bg-gray-100","aria-label":`Increase quantity of ${f}`,children:u.jsx($g,{className:"h-4 w-4"})})]})]}),u.jsxs("p",{className:"font-semibold text-gray-900",children:["",(d.selectedSize.price*d.quantity).toFixed(2)]}),u.jsx("button",{onClick:()=>i(d.id),className:"absolute top-4 right-0 p-1 text-gray-400 transition-colors hover:text-red-600","aria-label":`Remove ${f} from cart`,children:u.jsx(mw,{className:"h-5 w-5"})})]},d.id)})})}),t.length>0&&u.jsxs("footer",{className:"mt-auto border-t border-gray-200 p-6",children:[u.jsxs("div",{className:"flex items-center justify-between text-lg font-semibold text-gray-900",children:[u.jsx("span",{children:"Subtotal"}),u.jsxs("span",{children:["",l.toFixed(2)]})]}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Taxes and service fee calculated at checkout."}),u.jsx("div",{className:"mt-6",children:u.jsxs("button",{onClick:a,disabled:t.length===0,className:"flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-6 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-gray-400",children:["Proceed to Checkout",u.jsx(Gc,{className:"h-5 w-5"})]})})]})]})})]})},pwe=()=>{const{pathname:t}=Gi();return g.useEffect(()=>{window.scrollTo(0,0)},[t]),null},gwe=()=>{const{currentUser:t,loading:e}=Hr(),n=Gi();return e?u.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-gray-50",children:u.jsx(Ot,{className:"h-12 w-12 animate-spin text-primary-600"})}):t?t.role!=="admin"?u.jsx(JR,{to:"/",replace:!0}):u.jsx(u9,{}):u.jsx(JR,{to:"/auth/login",state:{from:n},replace:!0})},ywe={blue:{bg:"bg-blue-100",text:"text-blue-600"},green:{bg:"bg-green-100",text:"text-green-600"},yellow:{bg:"bg-yellow-100",text:"text-yellow-600"},purple:{bg:"bg-purple-100",text:"text-purple-600"}},$o=({title:t,value:e,Icon:n,isLoading:r,color:i})=>{const{bg:a,text:s}=ywe[i];return u.jsxs(ge,{className:"flex items-start gap-4 p-6",children:[u.jsx("div",{className:`flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full ${a}`,children:u.jsx(n,{className:`h-6 w-6 ${s}`})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("p",{className:"text-sm text-gray-500",children:t}),r?u.jsx("div",{className:"mt-1 h-8 w-24 animate-pulse rounded-md bg-gray-200"}):u.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e})]})]})},vwe=(t="today")=>{const[e,n]=g.useState([]),[r,i]=g.useState([]),[a,s]=g.useState([]),[o,l]=g.useState([]),[c,d]=g.useState(!0);return g.useEffect(()=>{(async()=>{d(!0);try{const{startDate:f,endDate:m}=xwe(t),v=(await me.collection("orders").where("timestamp",">=",f).where("timestamp","<",m).get()).docs.map(_=>({id:_.id,..._.data()})),x=bwe(v,t);n(x);const b=wwe(v);i(b);const w=_we(v);if(s(w),t==="today"||t==="week"){const _=Ewe(v);l(_)}}catch(f){console.error("Error fetching sales data:",f)}finally{d(!1)}})()},[t]),{salesData:e,topProducts:r,categorySales:a,peakHours:o,isLoading:c}};function xwe(t){const e=new Date;let n,r=new Date(e);switch(t){case"today":n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1);break;case"week":n=new Date(e),n.setDate(e.getDate()-7);break;case"month":n=new Date(e),n.setDate(e.getDate()-30);break;case"year":n=new Date(e),n.setFullYear(e.getFullYear()-1);break;default:n=new Date(e.getFullYear(),e.getMonth(),e.getDate())}return{startDate:n,endDate:r}}function bwe(t,e){const n=new Map;return t.forEach(r=>{var o;const i=(o=r.timestamp)!=null&&o.toDate?r.timestamp.toDate():new Date(r.timestamp);let a;switch(e){case"today":a=`${i.getHours()}:00`;break;case"week":a=i.toLocaleDateString("en-US",{month:"short",day:"numeric"});break;case"month":a=i.toLocaleDateString("en-US",{month:"short",day:"numeric"});break;case"year":a=i.toLocaleDateString("en-US",{month:"short",year:"numeric"});break;default:a=i.toLocaleDateString()}const s=n.get(a)||{revenue:0,orders:0};n.set(a,{revenue:s.revenue+(r.totalAmount||0),orders:s.orders+1})}),Array.from(n.entries()).map(([r,i])=>({date:r,revenue:i.revenue,orders:i.orders,averageOrderValue:i.orders>0?i.revenue/i.orders:0})).sort((r,i)=>e==="today"?parseInt(r.date)-parseInt(i.date):0)}function wwe(t){const e=new Map;return t.forEach(n=>{var r;(r=n.orderItems)==null||r.forEach(i=>{const a=e.get(i.productId)||{name:i.productName,quantity:0,revenue:0};e.set(i.productId,{name:i.productName,quantity:a.quantity+i.quantity,revenue:a.revenue+i.price*i.quantity})})}),Array.from(e.entries()).map(([n,r])=>({productId:n,productName:r.name,quantity:r.quantity,revenue:r.revenue})).sort((n,r)=>r.revenue-n.revenue).slice(0,10)}function _we(t){const e=new Map;return t.forEach(n=>{var r;(r=n.orderItems)==null||r.forEach(i=>{const a=Swe(i.productName),s=e.get(a)||{revenue:0,orders:new Set};e.set(a,{revenue:s.revenue+i.price*i.quantity,orders:s.orders.add(n.id)})})}),Array.from(e.entries()).map(([n,r])=>({category:n,revenue:r.revenue,orders:r.orders.size})).sort((n,r)=>r.revenue-n.revenue)}function Ewe(t){const e=new Map;for(let n=0;n<24;n++)e.set(n,{orders:0,revenue:0});return t.forEach(n=>{var s;const i=((s=n.timestamp)!=null&&s.toDate?n.timestamp.toDate():new Date(n.timestamp)).getHours(),a=e.get(i)||{orders:0,revenue:0};e.set(i,{orders:a.orders+1,revenue:a.revenue+(n.totalAmount||0)})}),Array.from(e.entries()).map(([n,r])=>({hour:n,orders:r.orders,revenue:r.revenue})).filter(n=>n.orders>0)}function Swe(t){const e=t.toLowerCase();return e.includes("latte")||e.includes("espresso")||e.includes("cappuccino")||e.includes("mocha")?"Coffee Based":e.includes("matcha")?"Matcha Series":e.includes("chocolate")||e.includes("milk")?"Non-Coffee Based":e.includes("tea")||e.includes("lemon")||e.includes("soda")?"Refreshments":e.includes("waffle")||e.includes("pasta")||e.includes("sandwich")?"Meals":"Other"}function Zq(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Zq(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ke(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Zq(t))&&(r&&(r+=" "),r+=e);return r}var Twe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function xC(t){if(typeof t!="string")return!1;var e=Twe;return e.includes(t)}var Awe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function Jq(t){if(typeof t!="string")return!1;var e=Awe;return e.includes(t)}function eH(t){return typeof t=="string"&&t.startsWith("data-")}function Pr(t){var e=Object.entries(t).filter(n=>{var[r]=n;return Jq(r)||eH(r)});return Object.fromEntries(e)}function ou(t){if(t==null)return null;if(g.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Pr(e)}return typeof t=="object"&&!Array.isArray(t)?Pr(t):null}function fr(t){var e=Object.entries(t).filter(n=>{var[r]=n;return Jq(r)||eH(r)||xC(r)});return Object.fromEntries(e)}function Nwe(t){return t==null?null:g.isValidElement(t)?fr(t.props):typeof t=="object"&&!Array.isArray(t)?fr(t):null}var Iwe=["children","width","height","viewBox","className","style","title","desc"];function OA(){return OA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OA.apply(null,arguments)}function Pwe(t,e){if(t==null)return{};var n,r,i=Cwe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bC=g.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:c}=t,d=Pwe(t,Iwe),h=a||{width:r,height:i,x:0,y:0},f=ke("recharts-surface",s);return g.createElement("svg",OA({},fr(d),{className:f,width:r,height:i,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),g.createElement("title",null,l),g.createElement("desc",null,c),n)}),jwe=["children","className"];function RA(){return RA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RA.apply(null,arguments)}function kwe(t,e){if(t==null)return{};var n,r,i=Owe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Owe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $t=g.forwardRef((t,e)=>{var{children:n,className:r}=t,i=kwe(t,jwe),a=ke("recharts-layer",r);return g.createElement("g",RA({className:a},fr(i),{ref:e}),n)}),tH=g.createContext(null),Rwe=()=>g.useContext(tH);function at(t){return function(){return t}}const nH=Math.cos,Zx=Math.sin,ua=Math.sqrt,Jx=Math.PI,d_=2*Jx,DA=Math.PI,MA=2*DA,lc=1e-6,Dwe=MA-lc;function rH(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Mwe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return rH;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Lwe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?rH:Mwe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,c=i-n,d=s-e,h=o-n,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>lc)if(!(Math.abs(h*l-c*d)>lc)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-s,y=i-o,v=l*l+c*c,x=m*m+y*y,b=Math.sqrt(v),w=Math.sqrt(f),_=a*Math.tan((DA-Math.acos((v+f-x)/(2*b*w)))/2),T=_/w,N=_/b;Math.abs(T-1)>lc&&this._append`L${e+T*d},${n+T*h}`,this._append`A${a},${a},0,0,${+(h*m>d*y)},${this._x1=e+N*l},${this._y1=n+N*c}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,d=n+l,h=1^s,f=s?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>lc||Math.abs(this._y1-d)>lc)&&this._append`L${c},${d}`,r&&(f<0&&(f=f%MA+MA),f>Dwe?this._append`A${r},${r},0,1,${h},${e-o},${n-l}A${r},${r},0,1,${h},${this._x1=c},${this._y1=d}`:f>lc&&this._append`A${r},${r},0,${+(f>=DA)},${h},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function wC(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Lwe(e)}function _C(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function iH(t){this._context=t}iH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function h_(t){return new iH(t)}function aH(t){return t[0]}function sH(t){return t[1]}function oH(t,e){var n=at(!0),r=null,i=h_,a=null,s=wC(o);t=typeof t=="function"?t:t===void 0?aH:at(t),e=typeof e=="function"?e:e===void 0?sH:at(e);function o(l){var c,d=(l=_C(l)).length,h,f=!1,m;for(r==null&&(a=i(m=s())),c=0;c<=d;++c)!(c<d&&n(h=l[c],c,l))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(h,c,l),+e(h,c,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:at(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:at(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:at(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function kv(t,e,n){var r=null,i=at(!0),a=null,s=h_,o=null,l=wC(c);t=typeof t=="function"?t:t===void 0?aH:at(+t),e=typeof e=="function"?e:at(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?sH:at(+n);function c(h){var f,m,y,v=(h=_C(h)).length,x,b=!1,w,_=new Array(v),T=new Array(v);for(a==null&&(o=s(w=l())),f=0;f<=v;++f){if(!(f<v&&i(x=h[f],f,h))===b)if(b=!b)m=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),y=f-1;y>=m;--y)o.point(_[y],T[y]);o.lineEnd(),o.areaEnd()}b&&(_[f]=+t(x,f,h),T[f]=+e(x,f,h),o.point(r?+r(x,f,h):_[f],n?+n(x,f,h):T[f]))}if(w)return o=null,w+""||null}function d(){return oH().defined(i).curve(s).context(a)}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:at(+h),r=null,c):t},c.x0=function(h){return arguments.length?(t=typeof h=="function"?h:at(+h),c):t},c.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:at(+h),c):r},c.y=function(h){return arguments.length?(e=typeof h=="function"?h:at(+h),n=null,c):e},c.y0=function(h){return arguments.length?(e=typeof h=="function"?h:at(+h),c):e},c.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:at(+h),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(r).y(e)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:at(!!h),c):i},c.curve=function(h){return arguments.length?(s=h,a!=null&&(o=s(a)),c):s},c.context=function(h){return arguments.length?(h==null?a=o=null:o=s(a=h),c):a},c}class lH{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Vwe(t){return new lH(t,!0)}function Uwe(t){return new lH(t,!1)}const EC={draw(t,e){const n=ua(e/Jx);t.moveTo(n,0),t.arc(0,0,n,0,d_)}},zwe={draw(t,e){const n=ua(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},cH=ua(1/3),Bwe=cH*2,Fwe={draw(t,e){const n=ua(e/Bwe),r=n*cH;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},$we={draw(t,e){const n=ua(e),r=-n/2;t.rect(r,r,n,n)}},qwe=.8908130915292852,uH=Zx(Jx/10)/Zx(7*Jx/10),Hwe=Zx(d_/10)*uH,Gwe=-nH(d_/10)*uH,Kwe={draw(t,e){const n=ua(e*qwe),r=Hwe*n,i=Gwe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=d_*a/5,o=nH(s),l=Zx(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},tS=ua(3),Wwe={draw(t,e){const n=-ua(e/(tS*3));t.moveTo(0,n*2),t.lineTo(-tS*n,-n),t.lineTo(tS*n,-n),t.closePath()}},wi=-.5,_i=ua(3)/2,LA=1/ua(12),Ywe=(LA/2+1)*3,Qwe={draw(t,e){const n=ua(e/Ywe),r=n/2,i=n*LA,a=r,s=n*LA+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(wi*r-_i*i,_i*r+wi*i),t.lineTo(wi*a-_i*s,_i*a+wi*s),t.lineTo(wi*o-_i*l,_i*o+wi*l),t.lineTo(wi*r+_i*i,wi*i-_i*r),t.lineTo(wi*a+_i*s,wi*s-_i*a),t.lineTo(wi*o+_i*l,wi*l-_i*o),t.closePath()}};function Xwe(t,e){let n=null,r=wC(i);t=typeof t=="function"?t:at(t||EC),e=typeof e=="function"?e:at(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:at(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:at(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function eb(){}function tb(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function dH(t){this._context=t}dH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:tb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:tb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Zwe(t){return new dH(t)}function hH(t){this._context=t}hH.prototype={areaStart:eb,areaEnd:eb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:tb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Jwe(t){return new hH(t)}function fH(t){this._context=t}fH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:tb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function e_e(t){return new fH(t)}function mH(t){this._context=t}mH.prototype={areaStart:eb,areaEnd:eb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function t_e(t){return new mH(t)}function Z5(t){return t<0?-1:1}function J5(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(Z5(a)+Z5(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function e6(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function nS(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function nb(t){this._context=t}nb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:nS(this,this._t0,e6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,nS(this,e6(this,n=J5(this,t,e)),n);break;default:nS(this,this._t0,n=J5(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function pH(t){this._context=new gH(t)}(pH.prototype=Object.create(nb.prototype)).point=function(t,e){nb.prototype.point.call(this,e,t)};function gH(t){this._context=t}gH.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function n_e(t){return new nb(t)}function r_e(t){return new pH(t)}function yH(t){this._context=t}yH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=t6(t),i=t6(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function t6(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function i_e(t){return new yH(t)}function f_(t,e){this._context=t,this._t=e}f_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function a_e(t){return new f_(t,.5)}function s_e(t){return new f_(t,0)}function o_e(t){return new f_(t,1)}function Nh(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function VA(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function l_e(t,e){return t[e]}function c_e(t){const e=[];return e.key=t,e}function u_e(){var t=at([]),e=VA,n=Nh,r=l_e;function i(a){var s=Array.from(t.apply(this,arguments),c_e),o,l=s.length,c=-1,d;for(const h of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(h,s[o].key,c,a)]).data=h;for(o=0,d=_C(e(s));o<l;++o)s[d[o]].index=o;return n(s,d),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:at(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:at(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?VA:typeof a=="function"?a:at(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Nh,i):n},i}function d_e(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Nh(t,e)}}function h_e(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Nh(t,e)}}function f_e(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var d=t[e[o]],h=d[r][1]||0,f=d[r-1][1]||0,m=(h-f)/2,y=0;y<o;++y){var v=t[e[y]],x=v[r][1]||0,b=v[r-1][1]||0;m+=x-b}l+=h,c+=m*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Nh(t,e)}}var m_={},vH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(vH);var SC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(SC);var p_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(p_);var g_={},xH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(xH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xH,n=p_;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",c="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const h=i[o];c?h==="\\"&&o+1<s?(o++,l+=i[o]):h===c?c="":l+=h:d?h==='"'||h==="'"?c=h:h==="]"?(d=!1,a.push(l),l=""):l+=h:h==="["?(d=!0,l&&(a.push(l),l="")):h==="."?l&&(a.push(l),l=""):l+=h,o++}return l&&a.push(l),a}t.toPath=r})(g_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vH,n=SC,r=p_,i=g_;function a(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?n.isDeepKey(l)?a(o,i.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=o[l];return d===void 0?c:d}default:{if(Array.isArray(l))return s(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?c:d}}}function s(o,l,c){if(l.length===0)return c;let d=o;for(let h=0;h<l.length;h++){if(d==null||e.isUnsafeProperty(l[h]))return c;d=d[l[h]]}return d===void 0?c:d}t.get=a})(m_);var m_e=m_.get;const lu=Ga(m_e);var Mn=t=>t===0?0:t>0?1:-1,$i=t=>typeof t=="number"&&t!=+t,zs=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ie=t=>(typeof t=="number"||t instanceof Number)&&!$i(t),Ba=t=>ie(t)||typeof t=="string",p_e=0,ug=t=>{var e=++p_e;return"".concat(t||"").concat(e)},hr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(e)&&typeof e!="string")return r;var a;if(zs(e)){if(n==null)return r;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return $i(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},bH=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function ze(t,e,n){return ie(t)&&ie(e)?t+n*(e-t):e}function wH(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):lu(r,e))===n)}var xt=t=>t===null||typeof t>"u",xy=t=>xt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function g_e(t){return t!=null}function Pu(){}var y_e=["type","size","sizeType"];function UA(){return UA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UA.apply(null,arguments)}function n6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n6(Object(n),!0).forEach(function(r){v_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v_e(t,e,n){return(e=x_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x_e(t){var e=b_e(t,"string");return typeof e=="symbol"?e:e+""}function b_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w_e(t,e){if(t==null)return{};var n,r,i=__e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function __e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _H={symbolCircle:EC,symbolCross:zwe,symbolDiamond:Fwe,symbolSquare:$we,symbolStar:Kwe,symbolTriangle:Wwe,symbolWye:Qwe},E_e=Math.PI/180,S_e=t=>{var e="symbol".concat(xy(t));return _H[e]||EC},T_e=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*E_e;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},A_e=(t,e)=>{_H["symbol".concat(xy(t))]=e},TC=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=w_e(t,y_e),a=r6(r6({},i),{},{type:e,size:n,sizeType:r}),s="circle";typeof e=="string"&&(s=e);var o=()=>{var f=S_e(s),m=Xwe().type(f).size(T_e(n,r,s)),y=m();if(y!==null)return y},{className:l,cx:c,cy:d}=a,h=fr(a);return ie(c)&&ie(d)&&ie(n)?g.createElement("path",UA({},h,{className:ke("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:o()})):null};TC.registerSymbol=A_e;var EH=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,AC=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(g.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{xC(i)&&(r[i]=a=>n[i](n,a))}),r},N_e=(t,e,n)=>r=>(t(e,n,r),null),by=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];xC(i)&&typeof a=="function"&&(r||(r={}),r[i]=N_e(a,e,n))}),r};function i6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I_e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i6(Object(n),!0).forEach(function(r){P_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P_e(t,e,n){return(e=C_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C_e(t){var e=j_e(t,"string");return typeof e=="symbol"?e:e+""}function j_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gt(t,e){var n=I_e({},t),r=e,i=Object.keys(e),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}function rb(){return rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rb.apply(null,arguments)}function a6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k_e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a6(Object(n),!0).forEach(function(r){O_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O_e(t,e,n){return(e=R_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R_e(t){var e=D_e(t,"string");return typeof e=="symbol"?e:e+""}function D_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ai=32,M_e={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function L_e(t){var{data:e,iconType:n,inactiveColor:r}=t,i=Ai/2,a=Ai/6,s=Ai/3,o=e.inactive?r:e.color,l=n??e.type;if(l==="none")return null;if(l==="plainline"){var c;return g.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(c=e.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:i,x2:Ai,y2:i,className:"recharts-legend-icon"})}if(l==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Ai,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return g.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Ai/8,"h").concat(Ai,"v").concat(Ai*3/4,"h").concat(-Ai,"z"),className:"recharts-legend-icon"});if(g.isValidElement(e.legendIcon)){var d=k_e({},e);return delete d.legendIcon,g.cloneElement(e.legendIcon,d)}return g.createElement(TC,{fill:o,cx:i,cy:i,size:Ai,sizeType:"diameter",type:l})}function V_e(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=t,o={x:0,y:0,width:Ai,height:Ai},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,h)=>{var f=d.formatter||i,m=ke({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:d.inactive});if(d.type==="none")return null;var y=d.inactive?a:d.color,v=f?f(d.value,d,h):d.value;return g.createElement("li",rb({className:m,style:l,key:"legend-item-".concat(h)},by(t,d,h)),g.createElement(bC,{width:n,height:n,viewBox:o,style:c,"aria-label":"".concat(v," legend icon")},g.createElement(L_e,{data:d,iconType:s,inactiveColor:a})),g.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},v))})}var U_e=t=>{var e=Gt(t,M_e),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:a},g.createElement(V_e,rb({},e,{payload:n})))},SH={},TH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}t.uniqBy=e})(TH);var NC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(NC);var AH={},y_={},NH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(NH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NH;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(y_);var IH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(IH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y_,n=IH;function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(AH);var PH={},CH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=m_;function n(r){return function(i){return e.get(i,r)}}t.property=n})(CH);var jH={},IC={},kH={},PC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(PC);var CC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(CC);var jC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(jC);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PC,n=CC,r=jC;function i(d,h,f){return typeof f!="function"?i(d,h,()=>{}):a(d,h,function m(y,v,x,b,w,_){const T=f(y,v,x,b,w,_);return T!==void 0?!!T:a(y,v,m,_)},new Map)}function a(d,h,f,m){if(h===d)return!0;switch(typeof h){case"object":return s(d,h,f,m);case"function":return Object.keys(h).length>0?a(d,{...h},f,m):r.eq(d,h);default:return e.isObject(d)?typeof h=="string"?h==="":!0:r.eq(d,h)}}function s(d,h,f,m){if(h==null)return!0;if(Array.isArray(h))return l(d,h,f,m);if(h instanceof Map)return o(d,h,f,m);if(h instanceof Set)return c(d,h,f,m);const y=Object.keys(h);if(d==null)return y.length===0;if(y.length===0)return!0;if(m!=null&&m.has(h))return m.get(h)===d;m==null||m.set(h,d);try{for(let v=0;v<y.length;v++){const x=y[v];if(!n.isPrimitive(d)&&!(x in d)||h[x]===void 0&&d[x]!==void 0||h[x]===null&&d[x]!==null||!f(d[x],h[x],x,d,h,m))return!1}return!0}finally{m==null||m.delete(h)}}function o(d,h,f,m){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[y,v]of h.entries()){const x=d.get(y);if(f(x,v,y,d,h,m)===!1)return!1}return!0}function l(d,h,f,m){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const y=new Set;for(let v=0;v<h.length;v++){const x=h[v];let b=!1;for(let w=0;w<d.length;w++){if(y.has(w))continue;const _=d[w];let T=!1;if(f(_,x,v,d,h,m)&&(T=!0),T){y.add(w),b=!0;break}}if(!b)return!1}return!0}function c(d,h,f,m){return h.size===0?!0:d instanceof Set?l([...d],[...h],f,m):!1}t.isMatchWith=i,t.isSetMatch=c})(kH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kH;function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(IC);var OH={},kC={},RH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(RH);var OC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(OC);var RC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",h="[object Function]",f="[object ArrayBuffer]",m="[object Object]",y="[object Error]",v="[object DataView]",x="[object Uint8Array]",b="[object Uint8ClampedArray]",w="[object Uint16Array]",_="[object Uint32Array]",T="[object BigUint64Array]",N="[object Int8Array]",j="[object Int16Array]",A="[object Int32Array]",S="[object BigInt64Array]",I="[object Float32Array]",C="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=f,t.arrayTag=d,t.bigInt64ArrayTag=S,t.bigUint64ArrayTag=T,t.booleanTag=i,t.dataViewTag=v,t.dateTag=o,t.errorTag=y,t.float32ArrayTag=I,t.float64ArrayTag=C,t.functionTag=h,t.int16ArrayTag=j,t.int32ArrayTag=A,t.int8ArrayTag=N,t.mapTag=l,t.numberTag=r,t.objectTag=m,t.regexpTag=e,t.setTag=c,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=w,t.uint32ArrayTag=_,t.uint8ArrayTag=x,t.uint8ClampedArrayTag=b})(RC);var DH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(DH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RH,n=OC,r=RC,i=CC,a=DH;function s(d,h){return o(d,void 0,d,new Map,h)}function o(d,h,f,m=new Map,y=void 0){const v=y==null?void 0:y(d,h,f,m);if(v!==void 0)return v;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const x=new Array(d.length);m.set(d,x);for(let b=0;b<d.length;b++)x[b]=o(d[b],b,f,m,y);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;m.set(d,x);for(const[b,w]of d)x.set(b,o(w,b,f,m,y));return x}if(d instanceof Set){const x=new Set;m.set(d,x);for(const b of d)x.add(o(b,void 0,f,m,y));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,x);for(let b=0;b<d.length;b++)x[b]=o(d[b],b,f,m,y);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,x),l(x,d,f,m,y),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return m.set(d,x),l(x,d,f,m,y),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return m.set(d,x),l(x,d,f,m,y),x}if(d instanceof Error){const x=new d.constructor;return m.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,l(x,d,f,m,y),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return m.set(d,x),l(x,d,f,m,y),x}if(d instanceof Number){const x=new Number(d.valueOf());return m.set(d,x),l(x,d,f,m,y),x}if(d instanceof String){const x=new String(d.valueOf());return m.set(d,x),l(x,d,f,m,y),x}if(typeof d=="object"&&c(d)){const x=Object.create(Object.getPrototypeOf(d));return m.set(d,x),l(x,d,f,m,y),x}return d}function l(d,h,f=d,m,y){const v=[...Object.keys(h),...e.getSymbols(h)];for(let x=0;x<v.length;x++){const b=v[x],w=Object.getOwnPropertyDescriptor(d,b);(w==null||w.writable)&&(d[b]=o(h[b],b,f,m,y))}}function c(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=o,t.copyProperties=l})(kC);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kC;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(OH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IC,n=OH;function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(jH);var MH={},LH={},VH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kC,n=RC;function r(i,a){return e.cloneDeepWith(i,(s,o,l,c)=>{const d=a==null?void 0:a(s,o,l,c);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(h,i),h}case n.argumentsTag:{const h={};return e.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}t.cloneDeepWith=r})(VH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VH;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(LH);var UH={},DC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(DC);var zH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OC;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(zH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SC,n=DC,r=zH,i=g_;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=s;for(let d=0;d<l.length;d++){const h=l[d];if((c==null||!Object.hasOwn(c,h))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(h)&&h<c.length))return!1;c=c[h]}return!0}t.has=a})(UH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IC,n=p_,r=LH,i=m_,a=UH;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(c){const d=i.get(c,o);return d===void 0?a.has(c,o):l===void 0?d===void 0:e.isMatch(d,l)}}t.matchesProperty=s})(MH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NC,n=CH,r=jH,i=MH;function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=a})(PH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TH,n=NC,r=AH,i=PH;function a(s,o=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(o)):[]}t.uniqBy=a})(SH);var z_e=SH.uniqBy;const s6=Ga(z_e);function BH(t,e,n){return e===!0?s6(t,n):typeof e=="function"?s6(t,e):t}var FH={exports:{}},$H={},qH={exports:{}},HH={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ih=g;function B_e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var F_e=typeof Object.is=="function"?Object.is:B_e,$_e=Ih.useState,q_e=Ih.useEffect,H_e=Ih.useLayoutEffect,G_e=Ih.useDebugValue;function K_e(t,e){var n=e(),r=$_e({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return H_e(function(){i.value=n,i.getSnapshot=e,rS(i)&&a({inst:i})},[t,n,e]),q_e(function(){return rS(i)&&a({inst:i}),t(function(){rS(i)&&a({inst:i})})},[t]),G_e(n),n}function rS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!F_e(t,n)}catch{return!0}}function W_e(t,e){return e()}var Y_e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?W_e:K_e;HH.useSyncExternalStore=Ih.useSyncExternalStore!==void 0?Ih.useSyncExternalStore:Y_e;qH.exports=HH;var Q_e=qH.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_=g,X_e=Q_e;function Z_e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var J_e=typeof Object.is=="function"?Object.is:Z_e,e1e=X_e.useSyncExternalStore,t1e=v_.useRef,n1e=v_.useEffect,r1e=v_.useMemo,i1e=v_.useDebugValue;$H.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var a=t1e(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=r1e(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var y=s.value;if(i(y,m))return h=y}return h=m}if(y=h,J_e(d,m))return y;var v=r(m);return i!==void 0&&i(y,v)?(d=m,y):(d=m,h=v)}var c=!1,d,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var o=e1e(t,a[0],a[1]);return n1e(function(){s.hasValue=!0,s.value=o},[o]),i1e(o),o};FH.exports=$H;var a1e=FH.exports,MC=g.createContext(null),s1e=t=>t,ct=()=>{var t=g.useContext(MC);return t?t.store.dispatch:s1e},j0=()=>{},o1e=()=>j0,l1e=(t,e)=>t===e;function se(t){var e=g.useContext(MC);return a1e.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:o1e,e?e.store.getState:j0,e?e.store.getState:j0,e?t:j0,l1e)}function c1e(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function u1e(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function d1e(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var o6=t=>Array.isArray(t)?t:[t];function h1e(t){const e=Array.isArray(t[0])?t[0]:t;return d1e(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function f1e(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var m1e=class{constructor(t){this.value=t}deref(){return this.value}},p1e=typeof WeakRef<"u"?WeakRef:m1e,g1e=0,l6=1;function Ov(){return{s:g1e,v:void 0,o:null,p:null}}function GH(t,e={}){let n=Ov();const{resultEqualityCheck:r}=e;let i,a=0;function s(){var h;let o=n;const{length:l}=arguments;for(let f=0,m=l;f<m;f++){const y=arguments[f];if(typeof y=="function"||typeof y=="object"&&y!==null){let v=o.o;v===null&&(o.o=v=new WeakMap);const x=v.get(y);x===void 0?(o=Ov(),v.set(y,o)):o=x}else{let v=o.p;v===null&&(o.p=v=new Map);const x=v.get(y);x===void 0?(o=Ov(),v.set(y,o)):o=x}}const c=o;let d;if(o.s===l6)d=o.v;else if(d=t.apply(null,arguments),a++,r){const f=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;f!=null&&r(f,d)&&(d=f,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new p1e(d):d}return c.s=l6,c.v=d,d}return s.clearCache=()=>{n=Ov(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function y1e(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,s=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),c1e(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...l},{memoize:h,memoizeOptions:f=[],argsMemoize:m=GH,argsMemoizeOptions:y=[]}=d,v=o6(f),x=o6(y),b=h1e(i),w=h(function(){return a++,c.apply(null,arguments)},...v),_=m(function(){s++;const N=f1e(b,arguments);return o=w.apply(null,N),o},...x);return Object.assign(_,{resultFunc:c,memoizedResultFunc:w,dependencies:b,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:h,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var U=y1e(GH),v1e=Object.assign((t,e=U)=>{u1e(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>v1e}),KH={},WH={},YH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=e(r),o=e(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};t.compareValues=n})(YH);var QH={},LC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(LC);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LC,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(QH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YH,n=QH,r=g_;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const c=(m,y)=>{let v=m;for(let x=0;x<y.length&&v!=null;++x)v=v[y[x]];return v},d=(m,y)=>y==null||m==null?y:typeof m=="object"&&"key"in m?Object.hasOwn(y,m.key)?y[m.key]:c(y,m.path):typeof m=="function"?m(y):Array.isArray(m)?c(y,m):typeof y=="object"?y[m]:y,h=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return a.map(m=>({original:m,criteria:h.map(y=>d(y,m))})).slice().sort((m,y)=>{for(let v=0;v<h.length;v++){const x=e.compareValues(m.criteria[v],y.criteria[v],o[v]);if(x!==0)return x}return 0}).map(m=>m.original)}t.orderBy=i})(WH);var XH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let c=0;c<o.length;c++){const d=o[c];Array.isArray(d)&&l<a?s(d,l+1):i.push(d)}};return s(n,0),i}t.flatten=e})(XH);var VC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DC,n=y_,r=PC,i=jC;function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],s):!1}t.isIterateeCall=a})(VC);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WH,n=XH,r=VC;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=i})(KH);var x1e=KH.sortBy;const x_=Ga(x1e);var ZH=t=>t.legend.settings,b1e=t=>t.legend.size,w1e=t=>t.legend.payload,_1e=U([w1e,ZH],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?x_(r,n):r});function E1e(){return se(_1e)}var Rv=1;function JH(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=g.useState({height:0,left:0,top:0,width:0}),r=g.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>Rv||Math.abs(s.left-e.left)>Rv||Math.abs(s.top-e.top)>Rv||Math.abs(s.width-e.width)>Rv)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Fn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var S1e=typeof Symbol=="function"&&Symbol.observable||"@@observable",c6=S1e,iS=()=>Math.random().toString(36).substring(7).split("").join("."),T1e={INIT:`@@redux/INIT${iS()}`,REPLACE:`@@redux/REPLACE${iS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${iS()}`},ib=T1e;function UC(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function eG(t,e,n){if(typeof t!="function")throw new Error(Fn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Fn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Fn(1));return n(eG)(t,e)}let r=t,i=e,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((x,b)=>{s.set(b,x)}))}function d(){if(l)throw new Error(Fn(3));return i}function h(x){if(typeof x!="function")throw new Error(Fn(4));if(l)throw new Error(Fn(5));let b=!0;c();const w=o++;return s.set(w,x),function(){if(b){if(l)throw new Error(Fn(6));b=!1,c(),s.delete(w),a=null}}}function f(x){if(!UC(x))throw new Error(Fn(7));if(typeof x.type>"u")throw new Error(Fn(8));if(typeof x.type!="string")throw new Error(Fn(17));if(l)throw new Error(Fn(9));try{l=!0,i=r(i,x)}finally{l=!1}return(a=s).forEach(w=>{w()}),x}function m(x){if(typeof x!="function")throw new Error(Fn(10));r=x,f({type:ib.REPLACE})}function y(){const x=h;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(Fn(11));function w(){const T=b;T.next&&T.next(d())}return w(),{unsubscribe:x(w)}},[c6](){return this}}}return f({type:ib.INIT}),{dispatch:f,subscribe:h,getState:d,replaceReducer:m,[c6]:y}}function A1e(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:ib.INIT})>"u")throw new Error(Fn(12));if(typeof n(void 0,{type:ib.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Fn(13))})}function tG(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{A1e(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const h=r[d],f=n[h],m=s[h],y=f(m,o);if(typeof y>"u")throw o&&o.type,new Error(Fn(14));c[h]=y,l=l||y!==m}return l=l||r.length!==Object.keys(s).length,l?c:s}}function ab(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function N1e(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Fn(15))};const s={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},o=t.map(l=>l(s));return a=ab(...o)(i.dispatch),{...i,dispatch:a}}}function nG(t){return UC(t)&&"type"in t&&typeof t.type=="string"}var rG=Symbol.for("immer-nothing"),u6=Symbol.for("immer-draftable"),xi=Symbol.for("immer-state");function ta(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var dg=Object.getPrototypeOf;function cu(t){return!!t&&!!t[xi]}function Bs(t){var e;return t?iG(t)||Array.isArray(t)||!!t[u6]||!!((e=t.constructor)!=null&&e[u6])||wy(t)||w_(t):!1}var I1e=Object.prototype.constructor.toString(),d6=new WeakMap;function iG(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=d6.get(n);return r===void 0&&(r=Function.toString.call(n),d6.set(n,r)),r===I1e}function sb(t,e,n=!0){b_(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function b_(t){const e=t[xi];return e?e.type_:Array.isArray(t)?1:wy(t)?2:w_(t)?3:0}function zA(t,e){return b_(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function aG(t,e,n){const r=b_(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function P1e(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function wy(t){return t instanceof Map}function w_(t){return t instanceof Set}function cc(t){return t.copy_||t.base_}function BA(t,e){if(wy(t))return new Map(t);if(w_(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=iG(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[xi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(dg(t),r)}else{const r=dg(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function zC(t,e=!1){return __(t)||cu(t)||!Bs(t)||(b_(t)>1&&Object.defineProperties(t,{set:Dv,add:Dv,clear:Dv,delete:Dv}),Object.freeze(t),e&&Object.values(t).forEach(n=>zC(n,!0))),t}function C1e(){ta(2)}var Dv={value:C1e};function __(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var j1e={};function uu(t){const e=j1e[t];return e||ta(0,t),e}var hg;function sG(){return hg}function k1e(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function h6(t,e){e&&(uu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function FA(t){$A(t),t.drafts_.forEach(O1e),t.drafts_=null}function $A(t){t===hg&&(hg=t.parent_)}function f6(t){return hg=k1e(hg,t)}function O1e(t){const e=t[xi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function m6(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[xi].modified_&&(FA(e),ta(4)),Bs(t)&&(t=ob(e,t),e.parent_||lb(e,t)),e.patches_&&uu("Patches").generateReplacementPatches_(n[xi].base_,t,e.patches_,e.inversePatches_)):t=ob(e,n,[]),FA(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==rG?t:void 0}function ob(t,e,n){if(__(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[xi];if(!i)return sb(e,(a,s)=>p6(t,i,e,a,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return lb(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),sb(s,(l,c)=>p6(t,i,a,l,c,n,o),r),lb(t,a,!1),n&&t.patches_&&uu("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function p6(t,e,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=__(i);if(!(o&&!s)){if(cu(i)){const l=a&&e&&e.type_!==3&&!zA(e.assigned_,r)?a.concat(r):void 0,c=ob(t,i,l);if(aG(n,r,c),cu(c))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Bs(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&o)return;ob(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(wy(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&lb(t,i)}}}function lb(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&zC(e,n)}function R1e(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:sG(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=BC;n&&(i=[r],a=fg);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var BC={get(t,e){if(e===xi)return t;const n=cc(t);if(!zA(n,e))return D1e(t,n,e);const r=n[e];return t.finalized_||!Bs(r)?r:r===aS(t.base_,e)?(sS(t),t.copy_[e]=HA(r,t)):r},has(t,e){return e in cc(t)},ownKeys(t){return Reflect.ownKeys(cc(t))},set(t,e,n){const r=oG(cc(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=aS(cc(t),e),a=i==null?void 0:i[xi];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(P1e(n,i)&&(n!==void 0||zA(t.base_,e)))return!0;sS(t),qA(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return aS(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,sS(t),qA(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=cc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ta(11)},getPrototypeOf(t){return dg(t.base_)},setPrototypeOf(){ta(12)}},fg={};sb(BC,(t,e)=>{fg[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});fg.deleteProperty=function(t,e){return fg.set.call(this,t,e,void 0)};fg.set=function(t,e,n){return BC.set.call(this,t[0],e,n,t[0])};function aS(t,e){const n=t[xi];return(n?cc(n):t)[e]}function D1e(t,e,n){var i;const r=oG(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function oG(t,e){if(!(e in t))return;let n=dg(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=dg(n)}}function qA(t){t.modified_||(t.modified_=!0,t.parent_&&qA(t.parent_))}function sS(t){t.copy_||(t.copy_=BA(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var M1e=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(l=a,...c){return s.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&ta(6),r!==void 0&&typeof r!="function"&&ta(7);let i;if(Bs(e)){const a=f6(this),s=HA(e,void 0);let o=!0;try{i=n(s),o=!1}finally{o?FA(a):$A(a)}return h6(a,r),m6(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===rG&&(i=void 0),this.autoFreeze_&&zC(i,!0),r){const a=[],s=[];uu("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else ta(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,l=>e(l,...o));let r,i;return[this.produce(e,n,(s,o)=>{r=s,i=o}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Bs(t)||ta(8),cu(t)&&(t=Es(t));const e=f6(this),n=HA(t,void 0);return n[xi].isManual_=!0,$A(e),n}finishDraft(t,e){const n=t&&t[xi];(!n||!n.isManual_)&&ta(9);const{scope_:r}=n;return h6(r,e),m6(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=uu("Patches").applyPatches_;return cu(t)?r(t,e):this.produce(t,i=>r(i,e))}};function HA(t,e){const n=wy(t)?uu("MapSet").proxyMap_(t,e):w_(t)?uu("MapSet").proxySet_(t,e):R1e(t,e);return(e?e.scope_:sG()).drafts_.push(n),n}function Es(t){return cu(t)||ta(10,t),lG(t)}function lG(t){if(!Bs(t)||__(t))return t;const e=t[xi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=BA(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=BA(t,!0);return sb(n,(i,a)=>{aG(n,i,lG(a))},r),e&&(e.finalized_=!1),n}var GA=new M1e,cG=GA.produce,L1e=GA.setUseStrictIteration.bind(GA);function uG(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var V1e=uG(),U1e=uG,z1e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ab:ab.apply(null,arguments)};function qi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(fi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>nG(r)&&r.type===t,n}var dG=class jm extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,jm.prototype)}static get[Symbol.species](){return jm}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new jm(...e[0].concat(this)):new jm(...e.concat(this))}};function g6(t){return Bs(t)?cG(t,()=>{}):t}function Mv(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function B1e(t){return typeof t=="boolean"}var F1e=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new dG;return n&&(B1e(n)?s.push(V1e):s.push(U1e(n.extraArgument))),s},hG="RTK_autoBatch",gn=()=>t=>({payload:t,meta:{[hG]:!0}}),y6=t=>e=>{setTimeout(e,t)},fG=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:y6(10):t.type==="callback"?t.queueNotification:y6(t.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),f=r.subscribe(h);return o.add(d),()=>{f(),o.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[hG]),a=!i,a&&(s||(s=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},$1e=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new dG(t);return r&&i.push(fG(typeof r=="object"?r:void 0)),i};function q1e(t){const e=F1e(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(UC(n))o=tG(n);else throw new Error(fi(1));let l;typeof r=="function"?l=r(e):l=e();let c=ab;i&&(c=z1e({trace:!1,...typeof i=="object"&&i}));const d=N1e(...l),h=$1e(d);let f=typeof s=="function"?s(h):h();const m=c(...f);return eG(o,a,m)}function mG(t){const e={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(fi(28));if(o in e)throw new Error(fi(29));return e[o]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}L1e(!1);function H1e(t){return typeof t=="function"}function G1e(t,e){let[n,r,i]=mG(e),a;if(H1e(t))a=()=>g6(t());else{const o=g6(t);a=()=>o}function s(o=a(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,h)=>{if(h)if(cu(d)){const m=h(d,l);return m===void 0?d:m}else{if(Bs(d))return cG(d,f=>h(f,l));{const f=h(d,l);if(f===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return d},o)}return s.getInitialState=a,s}var K1e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",W1e=(t=21)=>{let e="",n=t;for(;n--;)e+=K1e[Math.random()*64|0];return e},Y1e=Symbol.for("rtk-slice-createasyncthunk");function Q1e(t,e){return`${t}/${e}`}function X1e({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Y1e];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(fi(11));const o=(typeof i.reducers=="function"?i.reducers(J1e()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(T,N){const j=typeof T=="string"?T:T.type;if(!j)throw new Error(fi(12));if(j in c.sliceCaseReducersByType)throw new Error(fi(13));return c.sliceCaseReducersByType[j]=N,d},addMatcher(T,N){return c.sliceMatchers.push({matcher:T,reducer:N}),d},exposeAction(T,N){return c.actionCreators[T]=N,d},exposeCaseReducer(T,N){return c.sliceCaseReducersByName[T]=N,d}};l.forEach(T=>{const N=o[T],j={reducerName:T,type:Q1e(a,T),createNotation:typeof i.reducers=="function"};tEe(N)?rEe(j,N,d,e):eEe(j,N,d)});function h(){const[T={},N=[],j=void 0]=typeof i.extraReducers=="function"?mG(i.extraReducers):[i.extraReducers],A={...T,...c.sliceCaseReducersByType};return G1e(i.initialState,S=>{for(let I in A)S.addCase(I,A[I]);for(let I of c.sliceMatchers)S.addMatcher(I.matcher,I.reducer);for(let I of N)S.addMatcher(I.matcher,I.reducer);j&&S.addDefaultCase(j)})}const f=T=>T,m=new Map,y=new WeakMap;let v;function x(T,N){return v||(v=h()),v(T,N)}function b(){return v||(v=h()),v.getInitialState()}function w(T,N=!1){function j(S){let I=S[T];return typeof I>"u"&&N&&(I=Mv(y,j,b)),I}function A(S=f){const I=Mv(m,N,()=>new WeakMap);return Mv(I,S,()=>{const C={};for(const[k,R]of Object.entries(i.selectors??{}))C[k]=Z1e(R,S,()=>Mv(y,S,b),N);return C})}return{reducerPath:T,getSelectors:A,get selectors(){return A(j)},selectSlice:j}}const _={name:a,reducer:x,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:b,...w(s),injectInto(T,{reducerPath:N,...j}={}){const A=N??s;return T.inject({reducerPath:A,reducer:x},j),{..._,...w(A,!0)}}};return _}}function Z1e(t,e,n,r){function i(a,...s){let o=e(a);return typeof o>"u"&&r&&(o=n()),t(o,...s)}return i.unwrapped=t,i}var Gr=X1e();function J1e(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function eEe({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!nEe(r))throw new Error(fi(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?qi(t,s):qi(t))}function tEe(t){return t._reducerDefinitionType==="asyncThunk"}function nEe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function rEe({type:t,reducerName:e},n,r,i){if(!i)throw new Error(fi(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:d}=n,h=i(t,a,d);r.exposeAction(e,h),s&&r.addCase(h.fulfilled,s),o&&r.addCase(h.pending,o),l&&r.addCase(h.rejected,l),c&&r.addMatcher(h.settled,c),r.exposeCaseReducer(e,{fulfilled:s||Lv,pending:o||Lv,rejected:l||Lv,settled:c||Lv})}function Lv(){}var iEe="task",pG="listener",gG="completed",FC="cancelled",aEe=`task-${FC}`,sEe=`task-${gG}`,KA=`${pG}-${FC}`,oEe=`${pG}-${gG}`,E_=class{constructor(t){j1(this,"name","TaskAbortError");j1(this,"message");this.code=t,this.message=`${iEe} ${FC} (reason: ${t})`}},$C=(t,e)=>{if(typeof t!="function")throw new TypeError(fi(32))},cb=()=>{},yG=(t,e=cb)=>(t.catch(e),t),vG=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Mc=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Lc=t=>{if(t.aborted){const{reason:e}=t;throw new E_(e)}};function xG(t,e){let n=cb;return new Promise((r,i)=>{const a=()=>i(new E_(t.reason));if(t.aborted){a();return}n=vG(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=cb})}var lEe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof E_?"cancelled":"rejected",error:n}}finally{e==null||e()}},ub=t=>e=>yG(xG(t,e).then(n=>(Lc(t),n))),bG=t=>{const e=ub(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:zd}=Object,v6={},S_="listenerMiddleware",cEe=(t,e)=>{const n=r=>vG(t,()=>Mc(r,t.reason));return(r,i)=>{$C(r);const a=new AbortController;n(a);const s=lEe(async()=>{Lc(t),Lc(a.signal);const o=await r({pause:ub(a.signal),delay:bG(a.signal),signal:a.signal});return Lc(a.signal),o},()=>Mc(a,sEe));return i!=null&&i.autoJoin&&e.push(s.catch(cb)),{result:ub(t)(s),cancel(){Mc(a,aEe)}}}},uEe=(t,e)=>{const n=async(r,i)=>{Lc(e);let a=()=>{};const o=[new Promise((l,c)=>{let d=t({predicate:r,effect:(h,f)=>{f.unsubscribe(),l([h,f.getState(),f.getOriginalState()])}});a=()=>{d(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await xG(e,Promise.race(o));return Lc(e),l}finally{a()}};return(r,i)=>yG(n(r,i))},wG=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=qi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(fi(21));return $C(a),{predicate:i,type:e,effect:a}},_G=zd(t=>{const{type:e,predicate:n,effect:r}=wG(t);return{id:W1e(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(fi(22))}}},{withTypes:()=>_G}),x6=(t,e)=>{const{type:n,effect:r,predicate:i}=wG(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},WA=t=>{t.pending.forEach(e=>{Mc(e,KA)})},dEe=(t,e)=>()=>{for(const n of e.keys())WA(n);t.clear()},b6=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},EG=zd(qi(`${S_}/add`),{withTypes:()=>EG}),hEe=qi(`${S_}/removeAll`),SG=zd(qi(`${S_}/remove`),{withTypes:()=>SG}),fEe=(...t)=>{console.error(`${S_}/error`,...t)},_y=(t={})=>{const e=new Map,n=new Map,r=m=>{const y=n.get(m)??0;n.set(m,y+1)},i=m=>{const y=n.get(m)??1;y===1?n.delete(m):n.set(m,y-1)},{extra:a,onError:s=fEe}=t;$C(s);const o=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),y=>{m.unsubscribe(),y!=null&&y.cancelActive&&WA(m)}),l=m=>{const y=x6(e,m)??_G(m);return o(y)};zd(l,{withTypes:()=>l});const c=m=>{const y=x6(e,m);return y&&(y.unsubscribe(),m.cancelActive&&WA(y)),!!y};zd(c,{withTypes:()=>c});const d=async(m,y,v,x)=>{const b=new AbortController,w=uEe(l,b.signal),_=[];try{m.pending.add(b),r(m),await Promise.resolve(m.effect(y,zd({},v,{getOriginalState:x,condition:(T,N)=>w(T,N).then(Boolean),take:w,delay:bG(b.signal),pause:ub(b.signal),extra:a,signal:b.signal,fork:cEe(b.signal,_),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((T,N,j)=>{T!==b&&(Mc(T,KA),j.delete(T))})},cancel:()=>{Mc(b,KA),m.pending.delete(b)},throwIfCancelled:()=>{Lc(b.signal)}})))}catch(T){T instanceof E_||b6(s,T,{raisedBy:"effect"})}finally{await Promise.all(_),Mc(b,oEe),i(m),m.pending.delete(b)}},h=dEe(e,n);return{middleware:m=>y=>v=>{if(!nG(v))return y(v);if(EG.match(v))return l(v.payload);if(hEe.match(v)){h();return}if(SG.match(v))return c(v.payload);let x=m.getState();const b=()=>{if(x===v6)throw new Error(fi(23));return x};let w;try{if(w=y(v),e.size>0){const _=m.getState(),T=Array.from(e.values());for(const N of T){let j=!1;try{j=N.predicate(v,_,x)}catch(A){j=!1,b6(s,A,{raisedBy:"predicate"})}j&&d(N,v,m,b)}}}finally{x=v6}return w},startListening:l,stopListening:c,clearListeners:h}};function fi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var mEe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},TG=Gr({name:"chartLayout",initialState:mEe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:pEe,setLayout:gEe,setChartSize:yEe,setScale:vEe}=TG.actions,xEe=TG.reducer;function AG(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function w6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w6(Object(n),!0).forEach(function(r){bEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bEe(t,e,n){return(e=wEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wEe(t){var e=_Ee(t,"string");return typeof e=="symbol"?e:e+""}function _Ee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xe(t,e,n){return xt(t)||xt(e)?n:Ba(e)?lu(t,e,n):typeof e=="function"?e(t):n}var EEe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=e;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&ie(t[a]))return Ed(Ed({},t),{},{[a]:t[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&ie(t[s]))return Ed(Ed({},t),{},{[s]:t[s]+(i||0)})}return t},Ya=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",NG=(t,e,n,r)=>{if(r)return t.map(o=>o.coordinate);var i,a,s=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(e),a||s.push(n),s},IG=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:h,niceTicks:f,axisType:m}=t;if(!s)return null;var y=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,v=i==="category"&&s.bandwidth?s.bandwidth()/y:0;if(v=m==="angleAxis"&&a&&a.length>=2?Mn(a[0]-a[1])*2*v:v,h||f){var x=(h||f||[]).map((b,w)=>{var _=r?r.indexOf(b):b;return{coordinate:s(_)+v,value:b,offset:v,index:w}});return x.filter(b=>!$i(b.coordinate))}return l&&c?c.map((b,w)=>({coordinate:s(b)+v,value:b,index:w,offset:v})):s.ticks&&d!=null?s.ticks(d).map((b,w)=>({coordinate:s(b)+v,value:b,offset:v,index:w})):s.domain().map((b,w)=>({coordinate:s(b)+v,value:r?r[b]:b,index:w,offset:v}))},_6=1e-4,SEe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-_6,a=Math.max(r[0],r[1])+_6,s=t(e[0]),o=t(e[n-1]);(s<i||s>a||o<i||o>a)&&t.domain([e[0],e[n-1]])}},TEe=(t,e)=>{if(!e||e.length!==2||!ie(e[0])||!ie(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!ie(t[0])||t[0]<n)&&(i[0]=n),(!ie(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},AEe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,s=0;s<e;++s){var o=$i(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=a,t[s][n][1]=a+o,a=t[s][n][1])}},NEe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var s=$i(t[a][n][1])?t[a][n][0]:t[a][n][1];s>=0?(t[a][n][0]=i,t[a][n][1]=i+s,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},IEe={sign:AEe,expand:d_e,none:Nh,silhouette:h_e,wiggle:f_e,positive:NEe},PEe=(t,e,n)=>{var r=IEe[n],i=u_e().keys(e).value((a,s)=>Number(Xe(a,s,0))).order(VA).offset(r);return i(t)};function PG(t){return t==null?void 0:String(t)}function db(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!xt(i[e.dataKey])){var o=wH(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=Xe(i,xt(s)?e.dataKey:s);return xt(l)?null:e.scale(l)}var E6=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:s}=t;if(e.type==="category")return n[s]?n[s].coordinate+r:null;var o=Xe(a,e.dataKey,e.scale.domain()[s]);return xt(o)?null:e.scale(o)-i/2+r},CEe=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},jEe=t=>{var e=t.flat(2).filter(ie);return[Math.min(...e),Math.max(...e)]},kEe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],OEe=(t,e,n)=>{if(t!=null)return kEe(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:s}=a,o=s.reduce((l,c)=>{var d=AG(c,e,n),h=jEe(d);return[Math.min(l[0],h[0]),Math.max(l[1],h[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},S6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,T6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Sl=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=x_(e,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function A6(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Ed(Ed({},e),{},{dataKey:n,payload:r,value:i,name:a})}function Vl(t,e){if(t)return String(t);if(typeof e=="string")return e}var REe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},DEe=(t,e)=>e==="centric"?t.angle:t.radius,io=t=>t.layout.width,ao=t=>t.layout.height,MEe=t=>t.layout.scale,CG=t=>t.layout.margin,T_=U(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),A_=U(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),jG="data-recharts-item-index",kG="data-recharts-item-data-key",Ey=60;function N6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N6(Object(n),!0).forEach(function(r){LEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LEe(t,e,n){return(e=VEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VEe(t){var e=UEe(t,"string");return typeof e=="symbol"?e:e+""}function UEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zEe=t=>t.brush.height;function BEe(t){var e=A_(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Ey;return n+i}return n},0)}function FEe(t){var e=A_(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Ey;return n+i}return n},0)}function $Ee(t){var e=T_(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function qEe(t){var e=T_(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var _n=U([io,ao,CG,zEe,BEe,FEe,$Ee,qEe,ZH,b1e],(t,e,n,r,i,a,s,o,l,c)=>{var d={left:(n.left||0)+i,right:(n.right||0)+a},h={top:(n.top||0)+s,bottom:(n.bottom||0)+o},f=Vv(Vv({},h),d),m=f.bottom;f.bottom+=r,f=EEe(f,l,c);var y=t-f.left-f.right,v=e-f.top-f.bottom;return Vv(Vv({brushBottom:m},f),{},{width:Math.max(y,0),height:Math.max(v,0)})}),HEe=U(_n,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),qC=U(io,ao,(t,e)=>({x:0,y:0,width:t,height:e})),GEe=g.createContext(null),Un=()=>g.useContext(GEe)!=null,N_=t=>t.brush,I_=U([N_,_n,CG],(t,e,n)=>({height:t.height,x:ie(t.x)?t.x:e.left,y:ie(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:ie(t.width)?t.width:e.width})),OG={},RG={},DG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),d=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},h=()=>{c&&d(),v()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,h()},r)},y=()=>{f!==null&&(clearTimeout(f),f=null)},v=()=>{y(),s=void 0,o=null},x=()=>{d()},b=function(...w){if(i!=null&&i.aborted)return;s=this,o=w;const _=f==null;m(),l&&_&&d()};return b.schedule=m,b.cancel=v,b.flush=x,i==null||i.addEventListener("abort",v,{once:!0}),b}t.debounce=e})(DG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DG;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let d,h=null;const f=e.debounce(function(...v){d=r.apply(this,v),h=null},i,{edges:c}),m=function(...v){return l!=null&&(h===null&&(h=Date.now()),Date.now()-h>=l)?(d=r.apply(this,v),h=Date.now(),f.cancel(),f.schedule(),d):(f.apply(this,v),d)},y=()=>(f.flush(),d);return m.cancel=f.cancel,m.flush=y,m}t.debounce=n})(RG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RG;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return e.debounce(r,i,{leading:s,maxWait:i,trailing:o})}t.throttle=n})(OG);var KEe=OG.throttle;const WEe=Ga(KEe);var hb=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},MG=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=zs(r)?t:Number(r),l=zs(i)?e:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},YEe={width:0,height:0,overflow:"visible"},QEe={width:0,overflowX:"visible"},XEe={height:0,overflowY:"visible"},ZEe={},JEe=t=>{var{width:e,height:n}=t,r=zs(e),i=zs(n);return r&&i?YEe:r?QEe:i?XEe:ZEe};function eSe(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function _t(t){return Number.isFinite(t)}function Fa(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function YA(){return YA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YA.apply(null,arguments)}function I6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I6(Object(n),!0).forEach(function(r){tSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tSe(t,e,n){return(e=nSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nSe(t){var e=rSe(t,"string");return typeof e=="symbol"?e:e+""}function rSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LG=g.createContext({width:-1,height:-1});function iSe(t){return Fa(t.width)&&Fa(t.height)}function VG(t){var{children:e,width:n,height:r}=t,i=g.useMemo(()=>({width:n,height:r}),[n,r]);return iSe(i)?g.createElement(LG.Provider,{value:i},e):null}var HC=()=>g.useContext(LG),aSe=g.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:d=0,id:h,className:f,onResize:m,style:y={}}=t,v=g.useRef(null),x=g.useRef();x.current=m,g.useImperativeHandle(e,()=>v.current);var[b,w]=g.useState({containerWidth:r.width,containerHeight:r.height}),_=g.useCallback((S,I)=>{w(C=>{var k=Math.round(S),R=Math.round(I);return C.containerWidth===k&&C.containerHeight===R?C:{containerWidth:k,containerHeight:R}})},[]);g.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return Pu;var S=R=>{var O,{width:M,height:H}=R[0].contentRect;_(M,H),(O=x.current)===null||O===void 0||O.call(x,M,H)};d>0&&(S=WEe(S,d,{trailing:!0,leading:!1}));var I=new ResizeObserver(S),{width:C,height:k}=v.current.getBoundingClientRect();return _(C,k),I.observe(v.current),()=>{I.disconnect()}},[_,d]);var{containerWidth:T,containerHeight:N}=b;hb(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:j,calculatedHeight:A}=MG(T,N,{width:i,height:a,aspect:n,maxHeight:l});return hb(j!=null&&j>0||A!=null&&A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,A,i,a,s,o,n),g.createElement("div",{id:h?"".concat(h):void 0,className:ke("recharts-responsive-container",f),style:P6(P6({},y),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:v},g.createElement("div",{style:JEe({width:i,height:a})},g.createElement(VG,{width:j,height:A},c)))}),mg=g.forwardRef((t,e)=>{var n=HC();if(Fa(n.width)&&Fa(n.height))return t.children;var{width:r,height:i}=eSe({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=MG(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return ie(a)&&ie(s)?g.createElement(VG,{width:a,height:s},t.children):g.createElement(aSe,YA({},t,{width:r,height:i,ref:e}))});function UG(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var P_=()=>{var t,e=Un(),n=se(HEe),r=se(I_),i=(t=se(N_))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},sSe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},zG=()=>{var t;return(t=se(_n))!==null&&t!==void 0?t:sSe},GC=()=>se(io),KC=()=>se(ao),oSe=()=>se(t=>t.layout.margin),Ae=t=>t.layout.layoutType,uf=()=>se(Ae),lSe=()=>{var t=uf();return t!==void 0},C_=t=>{var e=ct(),n=Un(),{width:r,height:i}=t,a=HC(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),g.useEffect(()=>{!n&&Fa(s)&&Fa(o)&&e(yEe({width:s,height:o}))},[e,n,s,o]),null},cSe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},BG=Gr({name:"legend",initialState:cSe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:gn()},removeLegendPayload:{reducer(t,e){var n=Es(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:gn()}}}),{setLegendSize:C6,setLegendSettings:uSe,addLegendPayload:FG,removeLegendPayload:$G}=BG.actions,dSe=BG.reducer,hSe=["contextPayload"];function QA(){return QA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QA.apply(null,arguments)}function j6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ph(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j6(Object(n),!0).forEach(function(r){fSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fSe(t,e,n){return(e=mSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mSe(t){var e=pSe(t,"string");return typeof e=="symbol"?e:e+""}function pSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gSe(t,e){if(t==null)return{};var n,r,i=ySe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ySe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vSe(t){return t.value}function xSe(t){var{contextPayload:e}=t,n=gSe(t,hSe),r=BH(e,t.payloadUniqBy,vSe),i=Ph(Ph({},n),{},{payload:r});return g.isValidElement(t.content)?g.cloneElement(t.content,i):typeof t.content=="function"?g.createElement(t.content,i):g.createElement(U_e,i)}function bSe(t,e,n,r,i,a){var{layout:s,align:o,verticalAlign:l}=e,c,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&s==="vertical"?c={left:((r||0)-a.width)/2}:c=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(l==="middle"?d={top:((i||0)-a.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Ph(Ph({},c),d)}function wSe(t){var e=ct();return g.useEffect(()=>{e(uSe(t))},[e,t]),null}function _Se(t){var e=ct();return g.useEffect(()=>(e(C6(t)),()=>{e(C6({width:0,height:0}))}),[e,t]),null}function ESe(t,e,n,r){return t==="vertical"&&ie(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var SSe={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Ch(t){var e=Gt(t,SSe),n=E1e(),r=Rwe(),i=oSe(),{width:a,height:s,wrapperStyle:o,portal:l}=e,[c,d]=JH([n]),h=GC(),f=KC();if(h==null||f==null)return null;var m=h-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),y=ESe(e.layout,s,a,m),v=l?o:Ph(Ph({position:"absolute",width:(y==null?void 0:y.width)||a||"auto",height:(y==null?void 0:y.height)||s||"auto"},bSe(o,e,i,h,f,c)),o),x=l??r;if(x==null||n==null)return null;var b=g.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:d},g.createElement(wSe,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),g.createElement(_Se,{width:c.width,height:c.height}),g.createElement(xSe,QA({},e,y,{margin:i,chartWidth:h,chartHeight:f,contextPayload:n})));return Kb.createPortal(b,x)}Ch.displayName="Legend";function XA(){return XA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XA.apply(null,arguments)}function k6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k6(Object(n),!0).forEach(function(r){TSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TSe(t,e,n){return(e=ASe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ASe(t){var e=NSe(t,"string");return typeof e=="symbol"?e:e+""}function NSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ISe(t){return Array.isArray(t)&&Ba(t[0])&&Ba(t[1])?t.join(" ~ "):t}var PSe=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:h,accessibilityLayer:f=!1}=t,m=()=>{if(a&&a.length){var N={padding:0,margin:0},j=(o?x_(a,o):a).map((A,S)=>{if(A.type==="none")return null;var I=A.formatter||s||ISe,{value:C,name:k}=A,R=C,O=k;if(I){var M=I(C,k,A,S,a);if(Array.isArray(M))[R,O]=M;else if(M!=null)R=M;else return null}var H=oS({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},r);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:H},Ba(O)?g.createElement("span",{className:"recharts-tooltip-item-name"},O):null,Ba(O)?g.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,g.createElement("span",{className:"recharts-tooltip-item-value"},R),g.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:N},j)}return null},y=oS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=oS({margin:0},i),x=!xt(d),b=x?d:"",w=ke("recharts-default-tooltip",l),_=ke("recharts-tooltip-label",c);x&&h&&a!==void 0&&a!==null&&(b=h(d,a));var T=f?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",XA({className:w,style:y},T),g.createElement("p",{className:_,style:v},g.isValidElement(b)?b:"".concat(b)),m())},om="recharts-tooltip-wrapper",CSe={visibility:"hidden"};function jSe(t){var{coordinate:e,translateX:n,translateY:r}=t;return ke(om,{["".concat(om,"-right")]:ie(n)&&e&&ie(e.x)&&n>=e.x,["".concat(om,"-left")]:ie(n)&&e&&ie(e.x)&&n<e.x,["".concat(om,"-bottom")]:ie(r)&&e&&ie(e.y)&&r>=e.y,["".concat(om,"-top")]:ie(r)&&e&&ie(e.y)&&r<e.y})}function O6(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=t;if(a&&ie(a[r]))return a[r];var d=n[r]-o-(i>0?i:0),h=n[r]+i;if(e[r])return s[r]?d:h;var f=l[r];if(f==null)return 0;if(s[r]){var m=d,y=f;return m<y?Math.max(h,f):Math.max(d,f)}if(c==null)return 0;var v=h+o,x=f+c;return v>x?Math.max(d,f):Math.max(h,f)}function kSe(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function OSe(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=t,c,d,h;return s.height>0&&s.width>0&&n?(d=O6({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),h=O6({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=kSe({translateX:d,translateY:h,useTranslate3d:o})):c=CSe,{cssProperties:c,cssClasses:jSe({translateX:d,translateY:h,coordinate:n})}}function R6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R6(Object(n),!0).forEach(function(r){ZA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZA(t,e,n){return(e=RSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RSe(t){var e=DSe(t,"string");return typeof e=="symbol"?e:e+""}function DSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class MSe extends g.PureComponent{constructor(){super(...arguments),ZA(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),ZA(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:d,reverseDirection:h,useTranslate3d:f,viewBox:m,wrapperStyle:y,lastBoundingBox:v,innerRef:x,hasPortalFromProps:b}=this.props,{cssClasses:w,cssProperties:_}=OSe({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:c,position:d,reverseDirection:h,tooltipBox:{height:v.height,width:v.width},useTranslate3d:f,viewBox:m}),T=b?{}:Uv(Uv({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),N=Uv(Uv({},T),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},y);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:N,ref:x},a)}}var LSe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),so={devToolsEnabled:!1,isSsr:LSe()},qG=()=>{var t;return(t=se(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function JA(){return JA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JA.apply(null,arguments)}function D6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D6(Object(n),!0).forEach(function(r){VSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VSe(t,e,n){return(e=USe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function USe(t){var e=zSe(t,"string");return typeof e=="symbol"?e:e+""}function zSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L6={curveBasisClosed:Jwe,curveBasisOpen:e_e,curveBasis:Zwe,curveBumpX:Vwe,curveBumpY:Uwe,curveLinearClosed:t_e,curveLinear:h_,curveMonotoneX:n_e,curveMonotoneY:r_e,curveNatural:i_e,curveStep:a_e,curveStepAfter:o_e,curveStepBefore:s_e},fb=t=>_t(t.x)&&_t(t.y),V6=t=>t.base!=null&&fb(t.base)&&fb(t),lm=t=>t.x,cm=t=>t.y,BSe=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(xy(t));return(n==="curveMonotone"||n==="curveBump")&&e?L6["".concat(n).concat(e==="vertical"?"Y":"X")]:L6[n]||h_},FSe=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,s=BSe(e,i),o=a?n.filter(fb):n,l;if(Array.isArray(r)){var c=n.map((m,y)=>M6(M6({},m),{},{base:r[y]}));i==="vertical"?l=kv().y(cm).x1(lm).x0(m=>m.base.x):l=kv().x(lm).y1(cm).y0(m=>m.base.y);var d=l.defined(V6).curve(s),h=a?c.filter(V6):c;return d(h)}i==="vertical"&&ie(r)?l=kv().y(cm).x1(lm).x0(r):ie(r)?l=kv().x(lm).y1(cm).y0(r):l=oH().x(lm).y(cm);var f=l.defined(fb).curve(s);return f(o)},Bd=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?FSe(t):r;return g.createElement("path",JA({},Pr(t),AC(t),{className:ke("recharts-curve",e),d:a===null?void 0:a,ref:i}))},$Se=["x","y","top","left","width","height","className"];function eN(){return eN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eN.apply(null,arguments)}function U6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qSe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U6(Object(n),!0).forEach(function(r){HSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HSe(t,e,n){return(e=GSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GSe(t){var e=KSe(t,"string");return typeof e=="symbol"?e:e+""}function KSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WSe(t,e){if(t==null)return{};var n,r,i=YSe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function YSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var QSe=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),XSe=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=t,l=WSe(t,$Se),c=qSe({x:e,y:n,top:r,left:i,width:a,height:s},l);return!ie(e)||!ie(n)||!ie(a)||!ie(s)||!ie(r)||!ie(i)?null:g.createElement("path",eN({},fr(c),{className:ke("recharts-cross",o),d:QSe(e,n,a,s,r,i)}))};function ZSe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function z6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z6(Object(n),!0).forEach(function(r){JSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JSe(t,e,n){return(e=eTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eTe(t){var e=tTe(t,"string");return typeof e=="symbol"?e:e+""}function tTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nTe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),HG=(t,e,n)=>t.map(r=>"".concat(nTe(r)," ").concat(e,"ms ").concat(n)).join(","),rTe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),pg=(t,e)=>Object.keys(e).reduce((n,r)=>B6(B6({},n),{},{[r]:t(r,e[r])}),{});function F6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F6(Object(n),!0).forEach(function(r){iTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iTe(t,e,n){return(e=aTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aTe(t){var e=sTe(t,"string");return typeof e=="symbol"?e:e+""}function sTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mb=(t,e,n)=>t+(e-t)*n,tN=t=>{var{from:e,to:n}=t;return e!==n},GG=(t,e,n)=>{var r=pg((i,a)=>{if(tN(a)){var[s,o]=t(a.from,a.to,a.velocity);return pn(pn({},a),{},{from:s,velocity:o})}return a},e);return n<1?pg((i,a)=>tN(a)?pn(pn({},a),{},{velocity:mb(a.velocity,r[i].velocity,n),from:mb(a.from,r[i].from,n)}):a,e):GG(t,r,n-1)};function oTe(t,e,n,r,i,a){var s,o=r.reduce((f,m)=>pn(pn({},f),{},{[m]:{from:t[m],velocity:0,to:e[m]}}),{}),l=()=>pg((f,m)=>m.from,o),c=()=>!Object.values(o).filter(tN).length,d=null,h=f=>{s||(s=f);var m=f-s,y=m/n.dt;o=GG(n,o,y),i(pn(pn(pn({},t),e),l())),s=f,c()||(d=a.setTimeout(h))};return()=>(d=a.setTimeout(h),()=>{var f;(f=d)===null||f===void 0||f()})}function lTe(t,e,n,r,i,a,s){var o=null,l=i.reduce((h,f)=>pn(pn({},h),{},{[f]:[t[f],e[f]]}),{}),c,d=h=>{c||(c=h);var f=(h-c)/r,m=pg((v,x)=>mb(...x,n(f)),l);if(a(pn(pn(pn({},t),e),m)),f<1)o=s.setTimeout(d);else{var y=pg((v,x)=>mb(...x,n(1)),l);a(pn(pn(pn({},t),e),y))}};return()=>(o=s.setTimeout(d),()=>{var h;(h=o)===null||h===void 0||h()})}const cTe=(t,e,n,r,i,a)=>{var s=rTe(t,e);return n==null?()=>(i(pn(pn({},t),e)),()=>{}):n.isStepper===!0?oTe(t,e,n,s,i,a):lTe(t,e,n,r,s,i,a)};var pb=1e-4,KG=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],WG=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),$6=(t,e)=>n=>{var r=KG(t,e);return WG(r,n)},uTe=(t,e)=>n=>{var r=KG(t,e),i=[...r.map((a,s)=>a*s).slice(1),0];return WG(i,n)},dTe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},hTe=(t,e,n,r)=>{var i=$6(t,n),a=$6(e,r),s=uTe(t,n),o=c=>c>1?1:c<0?0:c,l=c=>{for(var d=c>1?1:c,h=d,f=0;f<8;++f){var m=i(h)-d,y=s(h);if(Math.abs(m-d)<pb||y<pb)return a(h);h=o(h-m/y)}return a(h)};return l.isStepper=!1,l},q6=function(){return hTe(...dTe(...arguments))},fTe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(s,o,l)=>{var c=-(s-o)*n,d=l*r,h=l+(c-d)*i/1e3,f=l*i/1e3+s;return Math.abs(f-o)<pb&&Math.abs(h)<pb?[o,0]:[f,h]};return a.isStepper=!0,a.dt=i,a},mTe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return q6(t);case"spring":return fTe();default:if(t.split("(")[0]==="cubic-bezier")return q6(t)}return typeof t=="function"?t:null};function pTe(t){var e,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...c]=o;if(typeof l=="number"){i=t.setTimeout(a.bind(null,c),l);return}a(l),i=t.setTimeout(a.bind(null,c));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class gTe{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function yTe(){return pTe(new gTe)}var vTe=g.createContext(yTe);function xTe(t,e){var n=g.useContext(vTe);return g.useMemo(()=>e??n(t),[t,e,n])}var bTe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},H6={t:0},lS={t:1};function df(t){var e=Gt(t,bTe),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:c}=e,d=xTe(e.animationId,e.animationManager),[h,f]=g.useState(n?H6:lS),m=g.useRef(null);return g.useEffect(()=>{n||f(lS)},[n]),g.useEffect(()=>{if(!n||!r)return Pu;var y=cTe(H6,lS,mTe(a),i,f,d.getTimeoutController()),v=()=>{m.current=y()};return d.start([l,s,v,i,o]),()=>{d.stop(),m.current&&m.current(),o()}},[n,r,i,a,s,l,o,d]),c(h.t)}function hf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=g.useRef(ug(e)),r=g.useRef(t);return r.current!==t&&(n.current=ug(e),r.current=t),n.current}var wTe=["radius"],_Te=["radius"];function G6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G6(Object(n),!0).forEach(function(r){ETe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ETe(t,e,n){return(e=STe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function STe(t){var e=TTe(t,"string");return typeof e=="symbol"?e:e+""}function TTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gb(){return gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gb.apply(null,arguments)}function W6(t,e){if(t==null)return{};var n,r,i=ATe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ATe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Y6=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,o=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,c;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,f=4;h<f;h++)d[h]=i[h]>a?a:i[h];c="M".concat(t,",").concat(e+s*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(t+o*d[0],",").concat(e)),c+="L ".concat(t+n-o*d[1],",").concat(e),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(t+n,",").concat(e+s*d[1])),c+="L ".concat(t+n,",").concat(e+r-s*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(t+n-o*d[2],",").concat(e+r)),c+="L ".concat(t+o*d[3],",").concat(e+r),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(e+r-s*d[3])),c+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);c="M ".concat(t,",").concat(e+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(t+o*m,",").concat(e,`
            L `).concat(t+n-o*m,",").concat(e,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(t+n,",").concat(e+s*m,`
            L `).concat(t+n,",").concat(e+r-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(t+n-o*m,",").concat(e+r,`
            L `).concat(t+o*m,",").concat(e+r,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(t,",").concat(e+r-s*m," Z")}else c="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return c},Q6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YG=t=>{var e=Gt(t,Q6),n=g.useRef(null),[r,i]=g.useState(-1);g.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var $=n.current.getTotalLength();$&&i($)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:c,className:d}=e,{animationEasing:h,animationDuration:f,animationBegin:m,isAnimationActive:y,isUpdateAnimationActive:v}=e,x=g.useRef(o),b=g.useRef(l),w=g.useRef(a),_=g.useRef(s),T=g.useMemo(()=>({x:a,y:s,width:o,height:l,radius:c}),[a,s,o,l,c]),N=hf(T,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var j=ke("recharts-rectangle",d);if(!v){var A=fr(e),{radius:S}=A,I=W6(A,wTe);return g.createElement("path",gb({},I,{radius:typeof c=="number"?c:void 0,className:j,d:Y6(a,s,o,l,c)}))}var C=x.current,k=b.current,R=w.current,O=_.current,M="0px ".concat(r===-1?1:r,"px"),H="".concat(r,"px 0px"),F=HG(["strokeDasharray"],f,typeof h=="string"?h:Q6.animationEasing);return g.createElement(df,{animationId:N,key:N,canBegin:r>0,duration:f,easing:h,isActive:v,begin:m},$=>{var Q=ze(C,o,$),ne=ze(k,l,$),de=ze(R,a,$),ut=ze(O,s,$);n.current&&(x.current=Q,b.current=ne,w.current=de,_.current=ut);var Et;y?$>0?Et={transition:F,strokeDasharray:H}:Et={strokeDasharray:M}:Et={strokeDasharray:H};var An=fr(e),{radius:Ze}=An,Jn=W6(An,_Te);return g.createElement("path",gb({},Jn,{radius:typeof c=="number"?c:void 0,className:j,d:Y6(de,ut,Q,ne,c),ref:n,style:K6(K6({},Et),e.style)}))})};function X6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X6(Object(n),!0).forEach(function(r){NTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NTe(t,e,n){return(e=ITe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ITe(t){var e=PTe(t,"string");return typeof e=="symbol"?e:e+""}function PTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yb=Math.PI/180,CTe=t=>t*180/Math.PI,un=(t,e,n,r)=>({x:t+Math.cos(-yb*r)*n,y:e+Math.sin(-yb*r)*n}),QG=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},jTe=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},kTe=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,s=jTe({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:CTe(l),angleInRadian:l}},OTe=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},RTe=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return t+s*360},DTe=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=kTe({x:n,y:r},e),{innerRadius:s,outerRadius:o}=e;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:c}=OTe(e),d=a,h;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;h=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;h=d>=c&&d<=l}return h?Z6(Z6({},e),{},{radius:i,angle:RTe(d,e)}):null};function XG(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,s=un(e,n,r,i),o=un(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function nN(){return nN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nN.apply(null,arguments)}var MTe=(t,e)=>{var n=Mn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},zv=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=t,c=o*(s?1:-1)+r,d=Math.asin(o/c)/yb,h=l?i:i+a*d,f=un(e,n,c,h),m=un(e,n,r,h),y=l?i-a*d:i,v=un(e,n,c*Math.cos(d*yb),y);return{center:f,circleTangency:m,lineTangency:v,theta:d}},ZG=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=t,o=MTe(a,s),l=a+o,c=un(e,n,i,a),d=un(e,n,i,l),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var f=un(e,n,r,a),m=un(e,n,r,l);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=l),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(e,",").concat(n," Z");return h},LTe=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=t,d=Mn(c-l),{circleTangency:h,lineTangency:f,theta:m}=zv({cx:e,cy:n,radius:i,angle:l,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:y,lineTangency:v,theta:x}=zv({cx:e,cy:n,radius:i,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:o}),b=o?Math.abs(l-c):Math.abs(l-c)-m-x;if(b<0)return s?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):ZG({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var w="M ".concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
  `);if(r>0){var{circleTangency:_,lineTangency:T,theta:N}=zv({cx:e,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:j,lineTangency:A,theta:S}=zv({cx:e,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),I=o?Math.abs(l-c):Math.abs(l-c)-N-S;if(I<0&&a===0)return"".concat(w,"L").concat(e,",").concat(n,"Z");w+="L".concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(I>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,"Z")}else w+="L".concat(e,",").concat(n,"Z");return w},VTe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JG=t=>{var e=Gt(t,VTe),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d,className:h}=e;if(a<i||c===d)return null;var f=ke("recharts-sector",h),m=a-i,y=hr(s,m,0,!0),v;return y>0&&Math.abs(c-d)<360?v=LTe({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(y,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}):v=ZG({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d}),g.createElement("path",nN({},fr(e),{className:f,d:v}))};function UTe(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(EH(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=e,l=un(r,i,a,o),c=un(r,i,s,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return XG(e)}}var eK={},tK={},nK={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LC;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(nK);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nK;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(tK);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VC,n=tK;function r(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=s;return l}t.range=r})(eK);var zTe=eK.range;const rK=Ga(zTe);function il(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function BTe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function WC(t){let e,n,r;t.length!==2?(e=il,n=(o,l)=>il(t(o),l),r=(o,l)=>t(o)-l):(e=t===il||t===BTe?t:FTe,n=t,r=t);function i(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const h=c+d>>>1;n(o[h],l)<0?c=h+1:d=h}while(c<d)}return c}function a(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const h=c+d>>>1;n(o[h],l)<=0?c=h+1:d=h}while(c<d)}return c}function s(o,l,c=0,d=o.length){const h=i(o,l,c,d-1);return h>c&&r(o[h-1],l)>-r(o[h],l)?h-1:h}return{left:i,center:s,right:a}}function FTe(){return 0}function iK(t){return t===null?NaN:+t}function*$Te(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const qTe=WC(il),Sy=qTe.right;WC(iK).center;class J6 extends Map{constructor(e,n=KTe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(e3(this,e))}has(e){return super.has(e3(this,e))}set(e,n){return super.set(HTe(this,e),n)}delete(e){return super.delete(GTe(this,e))}}function e3({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function HTe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function GTe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function KTe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function WTe(t=il){if(t===il)return aK;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function aK(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const YTe=Math.sqrt(50),QTe=Math.sqrt(10),XTe=Math.sqrt(2);function vb(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=YTe?10:a>=QTe?5:a>=XTe?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?vb(t,e,n*2):[o,l,c]}function rN(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?vb(e,t,n):vb(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function iN(t,e,n){return e=+e,t=+t,n=+n,vb(t,e,n)[2]}function aN(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?iN(e,t,n):iN(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function t3(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function n3(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function sK(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?aK:WTe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,d=Math.log(l),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(l-h)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(e-c*h/l+f)),y=Math.min(r,Math.floor(e+(l-c)*h/l+f));sK(t,e,m,y,i)}const a=t[e];let s=n,o=r;for(um(t,n,e),i(t[r],a)>0&&um(t,n,r);s<o;){for(um(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?um(t,n,o):(++o,um(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function um(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ZTe(t,e,n){if(t=Float64Array.from($Te(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return n3(t);if(e>=1)return t3(t);var r,i=(r-1)*e,a=Math.floor(i),s=t3(sK(t,a).subarray(0,a+1)),o=n3(t.subarray(a+1));return s+(o-s)*(i-a)}}function JTe(t,e,n=iK){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function eAe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Wi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function oo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const sN=Symbol("implicit");function YC(){var t=new J6,e=[],n=[],r=sN;function i(a){let s=t.get(a);if(s===void 0){if(r!==sN)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new J6;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return YC(e,n).unknown(r)},Wi.apply(i,arguments),i}function QC(){var t=YC().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,c=0,d=.5;delete t.unknown;function h(){var f=e().length,m=i<r,y=m?i:r,v=m?r:i;a=(v-y)/Math.max(1,f-l+c*2),o&&(a=Math.floor(a)),y+=(v-y-a*(f-l))*d,s=a*(1-l),o&&(y=Math.round(y),s=Math.round(s));var x=eAe(f).map(function(b){return y+a*b});return n(m?x.reverse():x)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,o=!0,h()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(f){return arguments.length?(o=!!f,h()):o},t.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),h()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},t.paddingOuter=function(f){return arguments.length?(c=+f,h()):c},t.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},t.copy=function(){return QC(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},Wi.apply(h(),arguments)}function oK(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return oK(e())},t}function tAe(){return oK(QC.apply(null,arguments).paddingInner(1))}function XC(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function lK(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ty(){}var gg=.7,xb=1/gg,Fd="\\s*([+-]?\\d+)\\s*",yg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Da="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nAe=/^#([0-9a-f]{3,8})$/,rAe=new RegExp(`^rgb\\(${Fd},${Fd},${Fd}\\)$`),iAe=new RegExp(`^rgb\\(${Da},${Da},${Da}\\)$`),aAe=new RegExp(`^rgba\\(${Fd},${Fd},${Fd},${yg}\\)$`),sAe=new RegExp(`^rgba\\(${Da},${Da},${Da},${yg}\\)$`),oAe=new RegExp(`^hsl\\(${yg},${Da},${Da}\\)$`),lAe=new RegExp(`^hsla\\(${yg},${Da},${Da},${yg}\\)$`),r3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};XC(Ty,vg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:i3,formatHex:i3,formatHex8:cAe,formatHsl:uAe,formatRgb:a3,toString:a3});function i3(){return this.rgb().formatHex()}function cAe(){return this.rgb().formatHex8()}function uAe(){return cK(this).formatHsl()}function a3(){return this.rgb().formatRgb()}function vg(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=nAe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?s3(e):n===3?new Br(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Bv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Bv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=rAe.exec(t))?new Br(e[1],e[2],e[3],1):(e=iAe.exec(t))?new Br(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=aAe.exec(t))?Bv(e[1],e[2],e[3],e[4]):(e=sAe.exec(t))?Bv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=oAe.exec(t))?c3(e[1],e[2]/100,e[3]/100,1):(e=lAe.exec(t))?c3(e[1],e[2]/100,e[3]/100,e[4]):r3.hasOwnProperty(t)?s3(r3[t]):t==="transparent"?new Br(NaN,NaN,NaN,0):null}function s3(t){return new Br(t>>16&255,t>>8&255,t&255,1)}function Bv(t,e,n,r){return r<=0&&(t=e=n=NaN),new Br(t,e,n,r)}function dAe(t){return t instanceof Ty||(t=vg(t)),t?(t=t.rgb(),new Br(t.r,t.g,t.b,t.opacity)):new Br}function oN(t,e,n,r){return arguments.length===1?dAe(t):new Br(t,e,n,r??1)}function Br(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}XC(Br,oN,lK(Ty,{brighter(t){return t=t==null?xb:Math.pow(xb,t),new Br(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?gg:Math.pow(gg,t),new Br(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Br(Vc(this.r),Vc(this.g),Vc(this.b),bb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:o3,formatHex:o3,formatHex8:hAe,formatRgb:l3,toString:l3}));function o3(){return`#${_c(this.r)}${_c(this.g)}${_c(this.b)}`}function hAe(){return`#${_c(this.r)}${_c(this.g)}${_c(this.b)}${_c((isNaN(this.opacity)?1:this.opacity)*255)}`}function l3(){const t=bb(this.opacity);return`${t===1?"rgb(":"rgba("}${Vc(this.r)}, ${Vc(this.g)}, ${Vc(this.b)}${t===1?")":`, ${t})`}`}function bb(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function _c(t){return t=Vc(t),(t<16?"0":"")+t.toString(16)}function c3(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new na(t,e,n,r)}function cK(t){if(t instanceof na)return new na(t.h,t.s,t.l,t.opacity);if(t instanceof Ty||(t=vg(t)),!t)return new na;if(t instanceof na)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new na(s,o,l,t.opacity)}function fAe(t,e,n,r){return arguments.length===1?cK(t):new na(t,e,n,r??1)}function na(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}XC(na,fAe,lK(Ty,{brighter(t){return t=t==null?xb:Math.pow(xb,t),new na(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?gg:Math.pow(gg,t),new na(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Br(cS(t>=240?t-240:t+120,i,r),cS(t,i,r),cS(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new na(u3(this.h),Fv(this.s),Fv(this.l),bb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=bb(this.opacity);return`${t===1?"hsl(":"hsla("}${u3(this.h)}, ${Fv(this.s)*100}%, ${Fv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function u3(t){return t=(t||0)%360,t<0?t+360:t}function Fv(t){return Math.max(0,Math.min(1,t||0))}function cS(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ZC=t=>()=>t;function mAe(t,e){return function(n){return t+n*e}}function pAe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function gAe(t){return(t=+t)==1?uK:function(e,n){return n-e?pAe(e,n,t):ZC(isNaN(e)?n:e)}}function uK(t,e){var n=e-t;return n?mAe(t,n):ZC(isNaN(t)?e:t)}const d3=function t(e){var n=gAe(e);function r(i,a){var s=n((i=oN(i)).r,(a=oN(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=uK(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=t,r}(1);function yAe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function vAe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function xAe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=ff(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function bAe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function wb(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function wAe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ff(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var lN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uS=new RegExp(lN.source,"g");function _Ae(t){return function(){return t}}function EAe(t){return function(e){return t(e)+""}}function SAe(t,e){var n=lN.lastIndex=uS.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=lN.exec(t))&&(i=uS.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:wb(r,i)})),n=uS.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?EAe(l[0].x):_Ae(e):(e=l.length,function(c){for(var d=0,h;d<e;++d)o[(h=l[d]).i]=h.x(c);return o.join("")})}function ff(t,e){var n=typeof e,r;return e==null||n==="boolean"?ZC(e):(n==="number"?wb:n==="string"?(r=vg(e))?(e=r,d3):SAe:e instanceof vg?d3:e instanceof Date?bAe:vAe(e)?yAe:Array.isArray(e)?xAe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?wAe:wb)(t,e)}function JC(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function TAe(t,e){e===void 0&&(e=t,t=ff);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function AAe(t){return function(){return t}}function _b(t){return+t}var h3=[0,1];function Ar(t){return t}function cN(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:AAe(isNaN(e)?NaN:.5)}function NAe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function IAe(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=cN(i,r),a=n(s,a)):(r=cN(r,i),a=n(a,s)),function(o){return a(r(o))}}function PAe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=cN(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=Sy(t,o,1,r)-1;return a[l](i[l](o))}}function Ay(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function j_(){var t=h3,e=h3,n=ff,r,i,a,s=Ar,o,l,c;function d(){var f=Math.min(t.length,e.length);return s!==Ar&&(s=NAe(t[0],t[f-1])),o=f>2?PAe:IAe,l=c=null,h}function h(f){return f==null||isNaN(f=+f)?a:(l||(l=o(t.map(r),e,n)))(r(s(f)))}return h.invert=function(f){return s(i((c||(c=o(e,t.map(r),wb)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,_b),d()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=JC,d()},h.clamp=function(f){return arguments.length?(s=f?!0:Ar,d()):s!==Ar},h.interpolate=function(f){return arguments.length?(n=f,d()):n},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,m){return r=f,i=m,d()}}function ej(){return j_()(Ar,Ar)}function CAe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Eb(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function jh(t){return t=Eb(Math.abs(t)),t?t[1]:NaN}function jAe(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function kAe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var OAe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xg(t){if(!(e=OAe.exec(t)))throw new Error("invalid format: "+t);var e;return new tj({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}xg.prototype=tj.prototype;function tj(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}tj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function RAe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var dK;function DAe(t,e){var n=Eb(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(dK=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Eb(t,Math.max(0,e+a-1))[0]}function f3(t,e){var n=Eb(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const m3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:CAe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>f3(t*100,e),r:f3,s:DAe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function p3(t){return t}var g3=Array.prototype.map,y3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function MAe(t){var e=t.grouping===void 0||t.thousands===void 0?p3:jAe(g3.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?p3:kAe(g3.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(h){h=xg(h);var f=h.fill,m=h.align,y=h.sign,v=h.symbol,x=h.zero,b=h.width,w=h.comma,_=h.precision,T=h.trim,N=h.type;N==="n"?(w=!0,N="g"):m3[N]||(_===void 0&&(_=12),T=!0,N="g"),(x||f==="0"&&m==="=")&&(x=!0,f="0",m="=");var j=v==="$"?n:v==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",A=v==="$"?r:/[%p]/.test(N)?s:"",S=m3[N],I=/[defgprs%]/.test(N);_=_===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function C(k){var R=j,O=A,M,H,F;if(N==="c")O=S(k)+O,k="";else{k=+k;var $=k<0||1/k<0;if(k=isNaN(k)?l:S(Math.abs(k),_),T&&(k=RAe(k)),$&&+k==0&&y!=="+"&&($=!1),R=($?y==="("?y:o:y==="-"||y==="("?"":y)+R,O=(N==="s"?y3[8+dK/3]:"")+O+($&&y==="("?")":""),I){for(M=-1,H=k.length;++M<H;)if(F=k.charCodeAt(M),48>F||F>57){O=(F===46?i+k.slice(M+1):k.slice(M))+O,k=k.slice(0,M);break}}}w&&!x&&(k=e(k,1/0));var Q=R.length+k.length+O.length,ne=Q<b?new Array(b-Q+1).join(f):"";switch(w&&x&&(k=e(ne+k,ne.length?b-O.length:1/0),ne=""),m){case"<":k=R+k+O+ne;break;case"=":k=R+ne+k+O;break;case"^":k=ne.slice(0,Q=ne.length>>1)+R+k+O+ne.slice(Q);break;default:k=ne+R+k+O;break}return a(k)}return C.toString=function(){return h+""},C}function d(h,f){var m=c((h=xg(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(jh(f)/3)))*3,v=Math.pow(10,-y),x=y3[8+y/3];return function(b){return m(v*b)+x}}return{format:c,formatPrefix:d}}var $v,nj,hK;LAe({thousands:",",grouping:[3],currency:["$",""]});function LAe(t){return $v=MAe(t),nj=$v.format,hK=$v.formatPrefix,$v}function VAe(t){return Math.max(0,-jh(Math.abs(t)))}function UAe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(jh(e)/3)))*3-jh(Math.abs(t)))}function zAe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,jh(e)-jh(t))+1}function fK(t,e,n,r){var i=aN(t,e,n),a;switch(r=xg(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=UAe(i,s))&&(r.precision=a),hK(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=zAe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=VAe(i))&&(r.precision=a-(r.type==="%")*2);break}}return nj(r)}function Ul(t){var e=t.domain;return t.ticks=function(n){var r=e();return rN(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return fK(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,d=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);d-- >0;){if(c=iN(s,o,n),c===l)return r[i]=s,r[a]=o,e(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function mK(){var t=ej();return t.copy=function(){return Ay(t,mK())},Wi.apply(t,arguments),Ul(t)}function pK(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,_b),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return pK(t).unknown(e)},t=arguments.length?Array.from(t,_b):[0,1],Ul(n)}function gK(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function v3(t){return Math.log(t)}function x3(t){return Math.exp(t)}function BAe(t){return-Math.log(-t)}function FAe(t){return-Math.exp(-t)}function $Ae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function qAe(t){return t===10?$Ae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function HAe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function b3(t){return(e,n)=>-t(-e,n)}function rj(t){const e=t(v3,x3),n=e.domain;let r=10,i,a;function s(){return i=HAe(r),a=qAe(r),n()[0]<0?(i=b3(i),a=b3(a),t(BAe,FAe)):t(v3,x3),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let c=l[0],d=l[l.length-1];const h=d<c;h&&([c,d]=[d,c]);let f=i(c),m=i(d),y,v;const x=o==null?10:+o;let b=[];if(!(r%1)&&m-f<x){if(f=Math.floor(f),m=Math.ceil(m),c>0){for(;f<=m;++f)for(y=1;y<r;++y)if(v=f<0?y/a(-f):y*a(f),!(v<c)){if(v>d)break;b.push(v)}}else for(;f<=m;++f)for(y=r-1;y>=1;--y)if(v=f>0?y/a(-f):y*a(f),!(v<c)){if(v>d)break;b.push(v)}b.length*2<x&&(b=rN(c,d,x))}else b=rN(f,m,Math.min(m-f,x)).map(a);return h?b.reverse():b},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=xg(l)).precision==null&&(l.trim=!0),l=nj(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return d=>{let h=d/a(Math.round(i(d)));return h*r<r-.5&&(h*=r),h<=c?l(d):""}},e.nice=()=>n(gK(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function yK(){const t=rj(j_()).domain([1,10]);return t.copy=()=>Ay(t,yK()).base(t.base()),Wi.apply(t,arguments),t}function w3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function _3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ij(t){var e=1,n=t(w3(e),_3(e));return n.constant=function(r){return arguments.length?t(w3(e=+r),_3(e)):e},Ul(n)}function vK(){var t=ij(j_());return t.copy=function(){return Ay(t,vK()).constant(t.constant())},Wi.apply(t,arguments)}function E3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function GAe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function KAe(t){return t<0?-t*t:t*t}function aj(t){var e=t(Ar,Ar),n=1;function r(){return n===1?t(Ar,Ar):n===.5?t(GAe,KAe):t(E3(n),E3(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ul(e)}function sj(){var t=aj(j_());return t.copy=function(){return Ay(t,sj()).exponent(t.exponent())},Wi.apply(t,arguments),t}function WAe(){return sj.apply(null,arguments).exponent(.5)}function S3(t){return Math.sign(t)*t*t}function YAe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function xK(){var t=ej(),e=[0,1],n=!1,r;function i(a){var s=YAe(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(S3(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,_b)).map(S3)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return xK(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Wi.apply(i,arguments),Ul(i)}function bK(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=JTe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Sy(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(il),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return bK().domain(t).range(e).unknown(r)},Wi.apply(a,arguments)}function wK(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Sy(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return wK().domain([t,e]).range(i).unknown(a)},Wi.apply(Ul(s),arguments)}function _K(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Sy(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return _K().domain(t).range(e).unknown(n)},Wi.apply(i,arguments)}const dS=new Date,hS=new Date;function En(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>En(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(dS.setTime(+a),hS.setTime(+s),t(dS),t(hS),Math.floor(n(dS,hS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Sb=En(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Sb.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?En(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Sb);Sb.range;const fs=1e3,Mi=fs*60,ms=Mi*60,Fs=ms*24,oj=Fs*7,T3=Fs*30,fS=Fs*365,Ec=En(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*fs)},(t,e)=>(e-t)/fs,t=>t.getUTCSeconds());Ec.range;const lj=En(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fs)},(t,e)=>{t.setTime(+t+e*Mi)},(t,e)=>(e-t)/Mi,t=>t.getMinutes());lj.range;const cj=En(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Mi)},(t,e)=>(e-t)/Mi,t=>t.getUTCMinutes());cj.range;const uj=En(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fs-t.getMinutes()*Mi)},(t,e)=>{t.setTime(+t+e*ms)},(t,e)=>(e-t)/ms,t=>t.getHours());uj.range;const dj=En(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ms)},(t,e)=>(e-t)/ms,t=>t.getUTCHours());dj.range;const Ny=En(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Mi)/Fs,t=>t.getDate()-1);Ny.range;const k_=En(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fs,t=>t.getUTCDate()-1);k_.range;const EK=En(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fs,t=>Math.floor(t/Fs));EK.range;function Cu(t){return En(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Mi)/oj)}const O_=Cu(0),Tb=Cu(1),QAe=Cu(2),XAe=Cu(3),kh=Cu(4),ZAe=Cu(5),JAe=Cu(6);O_.range;Tb.range;QAe.range;XAe.range;kh.range;ZAe.range;JAe.range;function ju(t){return En(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/oj)}const R_=ju(0),Ab=ju(1),eNe=ju(2),tNe=ju(3),Oh=ju(4),nNe=ju(5),rNe=ju(6);R_.range;Ab.range;eNe.range;tNe.range;Oh.range;nNe.range;rNe.range;const hj=En(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());hj.range;const fj=En(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());fj.range;const $s=En(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());$s.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:En(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});$s.range;const qs=En(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());qs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:En(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});qs.range;function SK(t,e,n,r,i,a){const s=[[Ec,1,fs],[Ec,5,5*fs],[Ec,15,15*fs],[Ec,30,30*fs],[a,1,Mi],[a,5,5*Mi],[a,15,15*Mi],[a,30,30*Mi],[i,1,ms],[i,3,3*ms],[i,6,6*ms],[i,12,12*ms],[r,1,Fs],[r,2,2*Fs],[n,1,oj],[e,1,T3],[e,3,3*T3],[t,1,fS]];function o(c,d,h){const f=d<c;f&&([c,d]=[d,c]);const m=h&&typeof h.range=="function"?h:l(c,d,h),y=m?m.range(c,+d+1):[];return f?y.reverse():y}function l(c,d,h){const f=Math.abs(d-c)/h,m=WC(([,,x])=>x).right(s,f);if(m===s.length)return t.every(aN(c/fS,d/fS,h));if(m===0)return Sb.every(Math.max(aN(c,d,h),1));const[y,v]=s[f/s[m-1][2]<s[m][2]/f?m-1:m];return y.every(v)}return[o,l]}const[iNe,aNe]=SK(qs,fj,R_,EK,dj,cj),[sNe,oNe]=SK($s,hj,O_,Ny,uj,lj);function mS(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function pS(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function dm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function lNe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=hm(i),d=fm(i),h=hm(a),f=fm(a),m=hm(s),y=fm(s),v=hm(o),x=fm(o),b=hm(l),w=fm(l),_={a:$,A:Q,b:ne,B:de,c:null,d:j3,e:j3,f:jNe,g:BNe,G:$Ne,H:INe,I:PNe,j:CNe,L:TK,m:kNe,M:ONe,p:ut,q:Et,Q:R3,s:D3,S:RNe,u:DNe,U:MNe,V:LNe,w:VNe,W:UNe,x:null,X:null,y:zNe,Y:FNe,Z:qNe,"%":O3},T={a:An,A:Ze,b:Jn,B:Qa,c:null,d:k3,e:k3,f:WNe,g:iIe,G:sIe,H:HNe,I:GNe,j:KNe,L:NK,m:YNe,M:QNe,p:Nn,q:Fl,Q:R3,s:D3,S:XNe,u:ZNe,U:JNe,V:eIe,w:tIe,W:nIe,x:null,X:null,y:rIe,Y:aIe,Z:oIe,"%":O3},N={a:C,A:k,b:R,B:O,c:M,d:P3,e:P3,f:SNe,g:I3,G:N3,H:C3,I:C3,j:bNe,L:ENe,m:xNe,M:wNe,p:I,q:vNe,Q:ANe,s:NNe,S:_Ne,u:fNe,U:mNe,V:pNe,w:hNe,W:gNe,x:H,X:F,y:I3,Y:N3,Z:yNe,"%":TNe};_.x=j(n,_),_.X=j(r,_),_.c=j(e,_),T.x=j(n,T),T.X=j(r,T),T.c=j(e,T);function j(W,we){return function(Ce){var X=[],In=-1,Fe=0,gr=W.length,Bn,Qi,_f;for(Ce instanceof Date||(Ce=new Date(+Ce));++In<gr;)W.charCodeAt(In)===37&&(X.push(W.slice(Fe,In)),(Qi=A3[Bn=W.charAt(++In)])!=null?Bn=W.charAt(++In):Qi=Bn==="e"?" ":"0",(_f=we[Bn])&&(Bn=_f(Ce,Qi)),X.push(Bn),Fe=In+1);return X.push(W.slice(Fe,In)),X.join("")}}function A(W,we){return function(Ce){var X=dm(1900,void 0,1),In=S(X,W,Ce+="",0),Fe,gr;if(In!=Ce.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(we&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(Fe=pS(dm(X.y,0,1)),gr=Fe.getUTCDay(),Fe=gr>4||gr===0?Ab.ceil(Fe):Ab(Fe),Fe=k_.offset(Fe,(X.V-1)*7),X.y=Fe.getUTCFullYear(),X.m=Fe.getUTCMonth(),X.d=Fe.getUTCDate()+(X.w+6)%7):(Fe=mS(dm(X.y,0,1)),gr=Fe.getDay(),Fe=gr>4||gr===0?Tb.ceil(Fe):Tb(Fe),Fe=Ny.offset(Fe,(X.V-1)*7),X.y=Fe.getFullYear(),X.m=Fe.getMonth(),X.d=Fe.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),gr="Z"in X?pS(dm(X.y,0,1)).getUTCDay():mS(dm(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(gr+5)%7:X.w+X.U*7-(gr+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,pS(X)):mS(X)}}function S(W,we,Ce,X){for(var In=0,Fe=we.length,gr=Ce.length,Bn,Qi;In<Fe;){if(X>=gr)return-1;if(Bn=we.charCodeAt(In++),Bn===37){if(Bn=we.charAt(In++),Qi=N[Bn in A3?we.charAt(In++):Bn],!Qi||(X=Qi(W,Ce,X))<0)return-1}else if(Bn!=Ce.charCodeAt(X++))return-1}return X}function I(W,we,Ce){var X=c.exec(we.slice(Ce));return X?(W.p=d.get(X[0].toLowerCase()),Ce+X[0].length):-1}function C(W,we,Ce){var X=m.exec(we.slice(Ce));return X?(W.w=y.get(X[0].toLowerCase()),Ce+X[0].length):-1}function k(W,we,Ce){var X=h.exec(we.slice(Ce));return X?(W.w=f.get(X[0].toLowerCase()),Ce+X[0].length):-1}function R(W,we,Ce){var X=b.exec(we.slice(Ce));return X?(W.m=w.get(X[0].toLowerCase()),Ce+X[0].length):-1}function O(W,we,Ce){var X=v.exec(we.slice(Ce));return X?(W.m=x.get(X[0].toLowerCase()),Ce+X[0].length):-1}function M(W,we,Ce){return S(W,e,we,Ce)}function H(W,we,Ce){return S(W,n,we,Ce)}function F(W,we,Ce){return S(W,r,we,Ce)}function $(W){return s[W.getDay()]}function Q(W){return a[W.getDay()]}function ne(W){return l[W.getMonth()]}function de(W){return o[W.getMonth()]}function ut(W){return i[+(W.getHours()>=12)]}function Et(W){return 1+~~(W.getMonth()/3)}function An(W){return s[W.getUTCDay()]}function Ze(W){return a[W.getUTCDay()]}function Jn(W){return l[W.getUTCMonth()]}function Qa(W){return o[W.getUTCMonth()]}function Nn(W){return i[+(W.getUTCHours()>=12)]}function Fl(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var we=j(W+="",_);return we.toString=function(){return W},we},parse:function(W){var we=A(W+="",!1);return we.toString=function(){return W},we},utcFormat:function(W){var we=j(W+="",T);return we.toString=function(){return W},we},utcParse:function(W){var we=A(W+="",!0);return we.toString=function(){return W},we}}}var A3={"-":"",_:" ",0:"0"},zn=/^\s*\d+/,cNe=/^%/,uNe=/[\\^$*+?|[\]().{}]/g;function Re(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function dNe(t){return t.replace(uNe,"\\$&")}function hm(t){return new RegExp("^(?:"+t.map(dNe).join("|")+")","i")}function fm(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function hNe(t,e,n){var r=zn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function fNe(t,e,n){var r=zn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function mNe(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function pNe(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function gNe(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function N3(t,e,n){var r=zn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function I3(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function yNe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function vNe(t,e,n){var r=zn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function xNe(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function P3(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function bNe(t,e,n){var r=zn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function C3(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function wNe(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function _Ne(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ENe(t,e,n){var r=zn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function SNe(t,e,n){var r=zn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function TNe(t,e,n){var r=cNe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ANe(t,e,n){var r=zn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function NNe(t,e,n){var r=zn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function j3(t,e){return Re(t.getDate(),e,2)}function INe(t,e){return Re(t.getHours(),e,2)}function PNe(t,e){return Re(t.getHours()%12||12,e,2)}function CNe(t,e){return Re(1+Ny.count($s(t),t),e,3)}function TK(t,e){return Re(t.getMilliseconds(),e,3)}function jNe(t,e){return TK(t,e)+"000"}function kNe(t,e){return Re(t.getMonth()+1,e,2)}function ONe(t,e){return Re(t.getMinutes(),e,2)}function RNe(t,e){return Re(t.getSeconds(),e,2)}function DNe(t){var e=t.getDay();return e===0?7:e}function MNe(t,e){return Re(O_.count($s(t)-1,t),e,2)}function AK(t){var e=t.getDay();return e>=4||e===0?kh(t):kh.ceil(t)}function LNe(t,e){return t=AK(t),Re(kh.count($s(t),t)+($s(t).getDay()===4),e,2)}function VNe(t){return t.getDay()}function UNe(t,e){return Re(Tb.count($s(t)-1,t),e,2)}function zNe(t,e){return Re(t.getFullYear()%100,e,2)}function BNe(t,e){return t=AK(t),Re(t.getFullYear()%100,e,2)}function FNe(t,e){return Re(t.getFullYear()%1e4,e,4)}function $Ne(t,e){var n=t.getDay();return t=n>=4||n===0?kh(t):kh.ceil(t),Re(t.getFullYear()%1e4,e,4)}function qNe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Re(e/60|0,"0",2)+Re(e%60,"0",2)}function k3(t,e){return Re(t.getUTCDate(),e,2)}function HNe(t,e){return Re(t.getUTCHours(),e,2)}function GNe(t,e){return Re(t.getUTCHours()%12||12,e,2)}function KNe(t,e){return Re(1+k_.count(qs(t),t),e,3)}function NK(t,e){return Re(t.getUTCMilliseconds(),e,3)}function WNe(t,e){return NK(t,e)+"000"}function YNe(t,e){return Re(t.getUTCMonth()+1,e,2)}function QNe(t,e){return Re(t.getUTCMinutes(),e,2)}function XNe(t,e){return Re(t.getUTCSeconds(),e,2)}function ZNe(t){var e=t.getUTCDay();return e===0?7:e}function JNe(t,e){return Re(R_.count(qs(t)-1,t),e,2)}function IK(t){var e=t.getUTCDay();return e>=4||e===0?Oh(t):Oh.ceil(t)}function eIe(t,e){return t=IK(t),Re(Oh.count(qs(t),t)+(qs(t).getUTCDay()===4),e,2)}function tIe(t){return t.getUTCDay()}function nIe(t,e){return Re(Ab.count(qs(t)-1,t),e,2)}function rIe(t,e){return Re(t.getUTCFullYear()%100,e,2)}function iIe(t,e){return t=IK(t),Re(t.getUTCFullYear()%100,e,2)}function aIe(t,e){return Re(t.getUTCFullYear()%1e4,e,4)}function sIe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Oh(t):Oh.ceil(t),Re(t.getUTCFullYear()%1e4,e,4)}function oIe(){return"+0000"}function O3(){return"%"}function R3(t){return+t}function D3(t){return Math.floor(+t/1e3)}var Ku,PK,CK;lIe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function lIe(t){return Ku=lNe(t),PK=Ku.format,Ku.parse,CK=Ku.utcFormat,Ku.utcParse,Ku}function cIe(t){return new Date(t)}function uIe(t){return t instanceof Date?+t:+new Date(+t)}function mj(t,e,n,r,i,a,s,o,l,c){var d=ej(),h=d.invert,f=d.domain,m=c(".%L"),y=c(":%S"),v=c("%I:%M"),x=c("%I %p"),b=c("%a %d"),w=c("%b %d"),_=c("%B"),T=c("%Y");function N(j){return(l(j)<j?m:o(j)<j?y:s(j)<j?v:a(j)<j?x:r(j)<j?i(j)<j?b:w:n(j)<j?_:T)(j)}return d.invert=function(j){return new Date(h(j))},d.domain=function(j){return arguments.length?f(Array.from(j,uIe)):f().map(cIe)},d.ticks=function(j){var A=f();return t(A[0],A[A.length-1],j??10)},d.tickFormat=function(j,A){return A==null?N:c(A)},d.nice=function(j){var A=f();return(!j||typeof j.range!="function")&&(j=e(A[0],A[A.length-1],j??10)),j?f(gK(A,j)):d},d.copy=function(){return Ay(d,mj(t,e,n,r,i,a,s,o,l,c))},d}function dIe(){return Wi.apply(mj(sNe,oNe,$s,hj,O_,Ny,uj,lj,Ec,PK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hIe(){return Wi.apply(mj(iNe,aNe,qs,fj,R_,k_,dj,cj,Ec,CK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function D_(){var t=0,e=1,n,r,i,a,s=Ar,o=!1,l;function c(h){return h==null||isNaN(h=+h)?l:s(i===0?.5:(h=(a(h)-n)*i,o?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([t,e]=h,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(h){return arguments.length?(o=!!h,c):o},c.interpolator=function(h){return arguments.length?(s=h,c):s};function d(h){return function(f){var m,y;return arguments.length?([m,y]=f,s=h(m,y),c):[s(0),s(1)]}}return c.range=d(ff),c.rangeRound=d(JC),c.unknown=function(h){return arguments.length?(l=h,c):l},function(h){return a=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),c}}function zl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function jK(){var t=Ul(D_()(Ar));return t.copy=function(){return zl(t,jK())},oo.apply(t,arguments)}function kK(){var t=rj(D_()).domain([1,10]);return t.copy=function(){return zl(t,kK()).base(t.base())},oo.apply(t,arguments)}function OK(){var t=ij(D_());return t.copy=function(){return zl(t,OK()).constant(t.constant())},oo.apply(t,arguments)}function pj(){var t=aj(D_());return t.copy=function(){return zl(t,pj()).exponent(t.exponent())},oo.apply(t,arguments)}function fIe(){return pj.apply(null,arguments).exponent(.5)}function RK(){var t=[],e=Ar;function n(r){if(r!=null&&!isNaN(r=+r))return e((Sy(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(il),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>ZTe(t,a/r))},n.copy=function(){return RK(e).domain(t)},oo.apply(n,arguments)}function M_(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,c=Ar,d,h=!1,f;function m(v){return isNaN(v=+v)?f:(v=.5+((v=+d(v))-a)*(r*v<r*a?o:l),c(h?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([t,e,n]=v,i=d(t=+t),a=d(e=+e),s=d(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m):[t,e,n]},m.clamp=function(v){return arguments.length?(h=!!v,m):h},m.interpolator=function(v){return arguments.length?(c=v,m):c};function y(v){return function(x){var b,w,_;return arguments.length?([b,w,_]=x,c=TAe(v,[b,w,_]),m):[c(0),c(.5),c(1)]}}return m.range=y(ff),m.rangeRound=y(JC),m.unknown=function(v){return arguments.length?(f=v,m):f},function(v){return d=v,i=v(t),a=v(e),s=v(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m}}function DK(){var t=Ul(M_()(Ar));return t.copy=function(){return zl(t,DK())},oo.apply(t,arguments)}function MK(){var t=rj(M_()).domain([.1,1,10]);return t.copy=function(){return zl(t,MK()).base(t.base())},oo.apply(t,arguments)}function LK(){var t=ij(M_());return t.copy=function(){return zl(t,LK()).constant(t.constant())},oo.apply(t,arguments)}function gj(){var t=aj(M_());return t.copy=function(){return zl(t,gj()).exponent(t.exponent())},oo.apply(t,arguments)}function mIe(){return gj.apply(null,arguments).exponent(.5)}const km=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:QC,scaleDiverging:DK,scaleDivergingLog:MK,scaleDivergingPow:gj,scaleDivergingSqrt:mIe,scaleDivergingSymlog:LK,scaleIdentity:pK,scaleImplicit:sN,scaleLinear:mK,scaleLog:yK,scaleOrdinal:YC,scalePoint:tAe,scalePow:sj,scaleQuantile:bK,scaleQuantize:wK,scaleRadial:xK,scaleSequential:jK,scaleSequentialLog:kK,scaleSequentialPow:pj,scaleSequentialQuantile:RK,scaleSequentialSqrt:fIe,scaleSequentialSymlog:OK,scaleSqrt:WAe,scaleSymlog:vK,scaleThreshold:_K,scaleTime:dIe,scaleUtc:hIe,tickFormat:fK},Symbol.toStringTag,{value:"Module"}));var Bl=t=>t.chartData,yj=U([Bl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Iy=(t,e,n,r)=>r?yj(t):Bl(t);function du(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(_t(e)&&_t(n))return!0}return!1}function M3(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function VK(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(_t(n))i=n;else if(typeof n=="function")return;if(_t(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(du(s))return s}}function pIe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(du(r))return M3(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,o;if(i==="auto")e!=null&&(s=Math.min(...e));else if(ie(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&S6.test(i)){var l=S6.exec(i);if(l==null||e==null)s=void 0;else{var c=+l[1];s=e[0]-c}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(o=Math.max(...e));else if(ie(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&T6.test(a)){var d=T6.exec(a);if(d==null||e==null)o=void 0;else{var h=+d[1];o=e[1]+h}}else o=e==null?void 0:e[1];var f=[s,o];if(du(f))return e==null?f:M3(f,e,n)}}}var mf=1e9,gIe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},xj,Pt=!0,Hi="[DecimalError] ",Uc=Hi+"Invalid argument: ",vj=Hi+"Exponent out of range: ",pf=Math.floor,uc=Math.pow,yIe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ni,jn=1e7,ft=7,UK=9007199254740991,Nb=pf(UK/ft),ae={};ae.absoluteValue=ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ae.comparedTo=ae.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ft;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ae.dividedBy=ae.div=function(t){return Ss(this,new this.constructor(t))};ae.dividedToIntegerBy=ae.idiv=function(t){var e=this,n=e.constructor;return tt(Ss(e,new n(t),0,1),n.precision)};ae.equals=ae.eq=function(t){return!this.cmp(t)};ae.exponent=function(){return fn(this)};ae.greaterThan=ae.gt=function(t){return this.cmp(t)>0};ae.greaterThanOrEqualTo=ae.gte=function(t){return this.cmp(t)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(t){return this.cmp(t)<0};ae.lessThanOrEqualTo=ae.lte=function(t){return this.cmp(t)<1};ae.logarithm=ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ni))throw Error(Hi+"NaN");if(n.s<1)throw Error(Hi+(n.s?"NaN":"-Infinity"));return n.eq(ni)?new r(0):(Pt=!1,e=Ss(bg(n,a),bg(t,a),a),Pt=!0,tt(e,i))};ae.minus=ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?FK(e,t):zK(e,(t.s=-t.s,t))};ae.modulo=ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Hi+"NaN");return n.s?(Pt=!1,e=Ss(n,t,0,1).times(t),Pt=!0,n.minus(e)):tt(new r(n),i)};ae.naturalExponential=ae.exp=function(){return BK(this)};ae.naturalLogarithm=ae.ln=function(){return bg(this)};ae.negated=ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ae.plus=ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?zK(e,t):FK(e,(t.s=-t.s,t))};ae.precision=ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Uc+t);if(e=fn(i)+1,r=i.d.length-1,n=r*ft+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ae.squareRoot=ae.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Hi+"NaN")}for(t=fn(o),Pt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Na(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=pf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Ss(o,a,s+2)).times(.5),Na(a.d).slice(0,s)===(e=Na(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(tt(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return Pt=!0,tt(r,n)};ae.times=ae.mul=function(t){var e,n,r,i,a,s,o,l,c,d=this,h=d.constructor,f=d.d,m=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,n=d.e+t.e,l=f.length,c=m.length,l<c&&(a=f,f=m,m=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+m[r]*f[i-r-1]+e,a[i--]=o%jn|0,e=o/jn|0;a[i]=(a[i]+e)%jn|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Pt?tt(t,h.precision):t};ae.toDecimalPlaces=ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:($a(t,0,mf),e===void 0?e=r.rounding:$a(e,0,8),tt(n,t+fn(n)+1,e))};ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=hu(r,!0):($a(t,0,mf),e===void 0?e=i.rounding:$a(e,0,8),r=tt(new i(r),t+1,e),n=hu(r,!0,t+1)),n};ae.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?hu(i):($a(t,0,mf),e===void 0?e=a.rounding:$a(e,0,8),r=tt(new a(i),t+fn(i)+1,e),n=hu(r.abs(),!1,t+fn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ae.toInteger=ae.toint=function(){var t=this,e=t.constructor;return tt(new e(t),fn(t)+1,e.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(ni);if(o=new l(o),!o.s){if(t.s<1)throw Error(Hi+"Infinity");return o}if(o.eq(ni))return o;if(r=l.precision,t.eq(ni))return tt(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=d<0?-d:d)<=UK){for(i=new l(ni),e=Math.ceil(r/ft+4),Pt=!1;n%2&&(i=i.times(o),V3(i.d,e)),n=pf(n/2),n!==0;)o=o.times(o),V3(o.d,e);return Pt=!0,t.s<0?new l(ni).div(i):tt(i,r)}}else if(a<0)throw Error(Hi+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Pt=!1,i=t.times(bg(o,r+c)),Pt=!0,i=BK(i),i.s=a,i};ae.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=fn(i),r=hu(i,n<=a.toExpNeg||n>=a.toExpPos)):($a(t,1,mf),e===void 0?e=a.rounding:$a(e,0,8),i=tt(new a(i),t,e),n=fn(i),r=hu(i,t<=n||n<=a.toExpNeg,t)),r};ae.toSignificantDigits=ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):($a(t,1,mf),e===void 0?e=r.rounding:$a(e,0,8)),tt(new r(n),t,e)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=fn(t),n=t.constructor;return hu(t,e<=n.toExpNeg||e>=n.toExpPos)};function zK(t,e){var n,r,i,a,s,o,l,c,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Pt?tt(e,h):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(h/ft),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/jn|0,l[a]%=jn;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Pt?tt(e,h):e}function $a(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Uc+t)}function Na(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=ft-r.length,n&&(a+=No(n)),a+=r;s=t[e],r=s+"",n=ft-r.length,n&&(a+=No(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ss=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%jn|0,s=a/jn|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*jn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,d,h,f,m,y,v,x,b,w,_,T,N,j,A,S,I=r.constructor,C=r.s==i.s?1:-1,k=r.d,R=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(Hi+"Division by zero");for(l=r.e-i.e,A=R.length,N=k.length,m=new I(C),y=m.d=[],c=0;R[c]==(k[c]||0);)++c;if(R[c]>(k[c]||0)&&--l,a==null?w=a=I.precision:s?w=a+(fn(r)-fn(i))+1:w=a,w<0)return new I(0);if(w=w/ft+2|0,c=0,A==1)for(d=0,R=R[0],w++;(c<N||d)&&w--;c++)_=d*jn+(k[c]||0),y[c]=_/R|0,d=_%R|0;else{for(d=jn/(R[0]+1)|0,d>1&&(R=t(R,d),k=t(k,d),A=R.length,N=k.length),T=A,v=k.slice(0,A),x=v.length;x<A;)v[x++]=0;S=R.slice(),S.unshift(0),j=R[0],R[1]>=jn/2&&++j;do d=0,o=e(R,v,A,x),o<0?(b=v[0],A!=x&&(b=b*jn+(v[1]||0)),d=b/j|0,d>1?(d>=jn&&(d=jn-1),h=t(R,d),f=h.length,x=v.length,o=e(h,v,f,x),o==1&&(d--,n(h,A<f?S:R,f))):(d==0&&(o=d=1),h=R.slice()),f=h.length,f<x&&h.unshift(0),n(v,h,x),o==-1&&(x=v.length,o=e(R,v,A,x),o<1&&(d++,n(v,A<x?S:R,x))),x=v.length):o===0&&(d++,v=[0]),y[c++]=d,o&&v[0]?v[x++]=k[T]||0:(v=[k[T]],x=1);while((T++<N||v[0]!==void 0)&&w--)}return y[0]||y.shift(),m.e=l,tt(m,s?a+fn(m)+1:a)}}();function BK(t,e){var n,r,i,a,s,o,l=0,c=0,d=t.constructor,h=d.precision;if(fn(t)>16)throw Error(vj+fn(t));if(!t.s)return new d(ni);for(Pt=!1,o=h,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(uc(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new d(ni),d.precision=o;;){if(i=tt(i.times(t),o),n=n.times(++l),s=a.plus(Ss(i,n,o)),Na(s.d).slice(0,o)===Na(a.d).slice(0,o)){for(;c--;)a=tt(a.times(a),o);return d.precision=h,e==null?(Pt=!0,tt(a,h)):a}a=s}}function fn(t){for(var e=t.e*ft,n=t.d[0];n>=10;n/=10)e++;return e}function gS(t,e,n){if(e>t.LN10.sd())throw Pt=!0,n&&(t.precision=n),Error(Hi+"LN10 precision limit exceeded");return tt(new t(t.LN10),e)}function No(t){for(var e="";t--;)e+="0";return e}function bg(t,e){var n,r,i,a,s,o,l,c,d,h=1,f=10,m=t,y=m.d,v=m.constructor,x=v.precision;if(m.s<1)throw Error(Hi+(m.s?"NaN":"-Infinity"));if(m.eq(ni))return new v(0);if(e==null?(Pt=!1,c=x):c=e,m.eq(10))return e==null&&(Pt=!0),gS(v,c);if(c+=f,v.precision=c,n=Na(y),r=n.charAt(0),a=fn(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Na(m.d),r=n.charAt(0),h++;a=fn(m),r>1?(m=new v("0."+n),a++):m=new v(r+"."+n.slice(1))}else return l=gS(v,c+2,x).times(a+""),m=bg(new v(r+"."+n.slice(1)),c-f).plus(l),v.precision=x,e==null?(Pt=!0,tt(m,x)):m;for(o=s=m=Ss(m.minus(ni),m.plus(ni),c),d=tt(m.times(m),c),i=3;;){if(s=tt(s.times(d),c),l=o.plus(Ss(s,new v(i),c)),Na(l.d).slice(0,c)===Na(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(gS(v,c+2,x).times(a+""))),o=Ss(o,new v(h),c),v.precision=x,e==null?(Pt=!0,tt(o,x)):o;o=l,i+=2}}function L3(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=pf(n/ft),t.d=[],r=(n+1)%ft,n<0&&(r+=ft),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ft;r<i;)t.d.push(+e.slice(r,r+=ft));e=e.slice(r),r=ft-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Pt&&(t.e>Nb||t.e<-Nb))throw Error(vj+n)}else t.s=0,t.e=0,t.d=[0];return t}function tt(t,e,n){var r,i,a,s,o,l,c,d,h=t.d;for(s=1,a=h[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=ft,i=e,c=h[d=0];else{if(d=Math.ceil((r+1)/ft),a=h.length,d>=a)return t;for(c=a=h[d],s=1;a>=10;a/=10)s++;r%=ft,i=r-ft+s}if(n!==void 0&&(a=uc(10,s-i-1),o=c/a%10|0,l=e<0||h[d+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/uc(10,s-i):0:h[d-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return l?(a=fn(t),h.length=1,e=e-a-1,h[0]=uc(10,(ft-e%ft)%ft),t.e=pf(-e/ft)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=d,a=1,d--):(h.length=d+1,a=uc(10,ft-r),h[d]=i>0?(c/uc(10,s-i)%uc(10,i)|0)*a:0),l)for(;;)if(d==0){(h[0]+=a)==jn&&(h[0]=1,++t.e);break}else{if(h[d]+=a,h[d]!=jn)break;h[d--]=0,a=1}for(r=h.length;h[--r]===0;)h.pop();if(Pt&&(t.e>Nb||t.e<-Nb))throw Error(vj+fn(t));return t}function FK(t,e){var n,r,i,a,s,o,l,c,d,h,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),Pt?tt(e,m):e;if(l=t.d,h=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(d=s<0,d?(n=l,s=-s,o=h.length):(n=h,r=c,o=l.length),i=Math.max(Math.ceil(m/ft),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=h.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=h[i]){d=l[i]<h[i];break}s=0}for(d&&(n=l,l=h,h=n,e.s=-e.s),o=l.length,i=h.length-o;i>0;--i)l[o++]=0;for(i=h.length;i>s;){if(l[--i]<h[i]){for(a=i;a&&l[--a]===0;)l[a]=jn-1;--l[a],l[i]+=jn}l[i]-=h[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Pt?tt(e,m):e):new f(0)}function hu(t,e,n){var r,i=fn(t),a=Na(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+No(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+No(-i-1)+a,n&&(r=n-s)>0&&(a+=No(r))):i>=s?(a+=No(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+No(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=No(r))),t.s<0?"-"+a:a}function V3(t,e){if(t.length>e)return t.length=e,!0}function $K(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Uc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return L3(s,a.toString())}else if(typeof a!="string")throw Error(Uc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,yIe.test(a))L3(s,a);else throw Error(Uc+a)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=$K,i.config=i.set=vIe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function vIe(t){if(!t||typeof t!="object")throw Error(Hi+"Object expected");var e,n,r,i=["precision",1,mf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(pf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Uc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Uc+n+": "+r);return this}var xj=$K(gIe);ni=new xj(1);const He=xj;var xIe=t=>t,qK={},HK=t=>t===qK,U3=t=>function e(){return arguments.length===0||arguments.length===1&&HK(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},GK=(t,e)=>t===1?e:U3(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==qK).length;return a>=t?e(...r):GK(t-a,U3(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var c=r.map(d=>HK(d)?o.shift():d);return e(...c,...o)}))}),L_=t=>GK(t.length,t),uN=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},bIe=L_((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),wIe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return xIe;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}},dN=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),KK=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((s,o)=>{var l;return s===((l=e)===null||l===void 0?void 0:l[o])})||(e=i,n=t(...i)),n}};function WK(t){var e;return t===0?e=1:e=Math.floor(new He(t).abs().log(10).toNumber())+1,e}function YK(t,e,n){for(var r=new He(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}L_((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});L_((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});L_((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var QK=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},XK=(t,e,n)=>{if(t.lte(0))return new He(0);var r=WK(t.toNumber()),i=new He(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new He(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?new He(l.toNumber()):new He(Math.ceil(l.toNumber()))},_Ie=(t,e,n)=>{var r=new He(1),i=new He(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new He(10).pow(WK(t)-1),i=new He(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new He(Math.floor(t)))}else t===0?i=new He(Math.floor((e-1)/2)):n||(i=new He(Math.floor(t)));var s=Math.floor((e-1)/2),o=wIe(bIe(l=>i.add(new He(l-s).mul(r)).toNumber()),uN);return o(0,e)},ZK=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new He(0),tickMin:new He(0),tickMax:new He(0)};var s=XK(new He(n).sub(e).div(r-1),i,a),o;e<=0&&n>=0?o=new He(0):(o=new He(e).add(n).div(2),o=o.sub(new He(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new He(n).sub(o).div(s).toNumber()),d=l+c+1;return d>r?ZK(e,n,r,i,a+1):(d<r&&(c=n>0?c+(r-d):c,l=n>0?l:l+(r-d)),{step:s,tickMin:o.sub(new He(l).mul(s)),tickMax:o.add(new He(c).mul(s))})};function EIe(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[s,o]=QK([e,n]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...uN(0,r-1).map(()=>1/0)]:[...uN(0,r-1).map(()=>-1/0),o];return e>n?dN(l):l}if(s===o)return _Ie(s,r,i);var{step:c,tickMin:d,tickMax:h}=ZK(s,o,a,i,0),f=YK(d,h.add(new He(.1).mul(c)),c);return e>n?dN(f):f}function SIe(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=QK([n,r]);if(a===-1/0||s===1/0)return[n,r];if(a===s)return[a];var o=Math.max(e,2),l=XK(new He(s).sub(a).div(o-1),i,0),c=[...YK(new He(a),new He(s),l),s];return i===!1&&(c=c.map(d=>Math.round(d))),n>r?dN(c):c}var TIe=KK(EIe),AIe=KK(SIe),JK=t=>t.rootProps.maxBarSize,NIe=t=>t.rootProps.barGap,eW=t=>t.rootProps.barCategoryGap,IIe=t=>t.rootProps.barSize,Py=t=>t.rootProps.stackOffset,bj=t=>t.options.chartName,wj=t=>t.rootProps.syncId,tW=t=>t.rootProps.syncMethod,_j=t=>t.options.eventEmitter,PIe=t=>t.rootProps.baseValue,Xt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ss={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Zr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},V_=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},CIe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ss.angleAxisId,includeHidden:!1,name:void 0,reversed:ss.reversed,scale:ss.scale,tick:ss.tick,tickCount:void 0,ticks:void 0,type:ss.type,unit:void 0},jIe={allowDataOverflow:Zr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Zr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zr.scale,tick:Zr.tick,tickCount:Zr.tickCount,ticks:void 0,type:Zr.type,unit:void 0},kIe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ss.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ss.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ss.scale,tick:ss.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},OIe={allowDataOverflow:Zr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Zr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zr.scale,tick:Zr.tick,tickCount:Zr.tickCount,ticks:void 0,type:"category",unit:void 0},Ej=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?kIe:CIe,Sj=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?OIe:jIe,U_=t=>t.polarOptions,Tj=U([io,ao,_n],QG),nW=U([U_,Tj],(t,e)=>{if(t!=null)return hr(t.innerRadius,e,0)}),rW=U([U_,Tj],(t,e)=>{if(t!=null)return hr(t.outerRadius,e,e*.8)}),RIe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},iW=U([U_],RIe);U([Ej,iW],V_);var aW=U([Tj,nW,rW],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});U([Sj,aW],V_);var sW=U([Ae,U_,nW,rW,io,ao],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:c}=e;return{cx:hr(s,i,i/2),cy:hr(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),jt=(t,e)=>e,Cy=(t,e,n)=>n;function z_(t){return t==null?void 0:t.id}function oW(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return t.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var d=z_(o);c.forEach((h,f)=>{var m=a==null||i?f:String(Xe(h,a,null)),y=Xe(h,o.dataKey,0),v;s.has(m)?v=s.get(m):v={},Object.assign(v,{[d]:y}),s.set(m,v)})}}),Array.from(s.values())}function B_(t){return t.stackId!=null&&t.dataKey!=null}var F_=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function $_(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function DIe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Sn=t=>{var e=Ae(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},gf=t=>t.tooltip.settings.axisId;function z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ib(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z3(Object(n),!0).forEach(function(r){MIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MIe(t,e,n){return(e=LIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LIe(t){var e=VIe(t,"string");return typeof e=="symbol"?e:e+""}function VIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hN=[0,"auto"],Wr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},lW=(t,e)=>t.cartesianAxis.xAxis[e],lo=(t,e)=>{var n=lW(t,e);return n??Wr},Yr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:hN,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ey},cW=(t,e)=>t.cartesianAxis.yAxis[e],co=(t,e)=>{var n=cW(t,e);return n??Yr},UIe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Aj=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??UIe},Lt=(t,e,n)=>{switch(e){case"xAxis":return lo(t,n);case"yAxis":return co(t,n);case"zAxis":return Aj(t,n);case"angleAxis":return Ej(t,n);case"radiusAxis":return Sj(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},zIe=(t,e,n)=>{switch(e){case"xAxis":return lo(t,n);case"yAxis":return co(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},jy=(t,e,n)=>{switch(e){case"xAxis":return lo(t,n);case"yAxis":return co(t,n);case"angleAxis":return Ej(t,n);case"radiusAxis":return Sj(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},uW=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function Nj(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var ky=t=>t.graphicalItems.cartesianItems,BIe=U([jt,Cy],Nj),Ij=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Oy=U([ky,Lt,BIe],Ij,{memoizeOptions:{resultEqualityCheck:$_}}),dW=U([Oy],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(B_)),hW=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),FIe=U([Oy],hW),Pj=t=>t.map(e=>e.data).filter(Boolean).flat(1),$Ie=U([Oy],Pj,{memoizeOptions:{resultEqualityCheck:$_}}),Cj=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},jj=U([$Ie,Iy],Cj),kj=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Xe(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Xe(i,r)}))):t.map(r=>({value:r})),q_=U([jj,Lt,Oy],kj);function fW(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function k0(t){if(Ba(t)||t instanceof Date){var e=Number(t);if(_t(e))return e}}function B3(t){if(Array.isArray(t)){var e=[k0(t[0]),k0(t[1])];return du(e)?e:void 0}var n=k0(t);if(n!=null)return[n,n]}function Hs(t){return t.map(k0).filter(g_e)}function qIe(t,e,n){return!n||typeof e!="number"||$i(e)?[]:n.length?Hs(n.flatMap(r=>{var i=Xe(t,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!_t(a)||!_t(s)))return[e-a,e+s]})):[]}var Tn=t=>{var e=Sn(t),n=gf(t);return jy(t,e,n)},mW=U([Tn],t=>t==null?void 0:t.dataKey),HIe=U([dW,Iy,Tn],oW),pW=(t,e,n)=>{var r={},i=e.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[s,o]=a,l=o.map(z_);return[s,{stackedData:PEe(t,l,n),graphicalItems:o}]}))},wg=U([HIe,dW,Py],pW),gW=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var s=OEe(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},GIe=U([Lt],t=>t.allowDataOverflow),Oj=t=>{var e;if(t==null||!("domain"in t))return hN;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Hs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:hN},Rj=U([Lt],Oj),Dj=U([Rj,GIe],VK),KIe=U([wg,Bl,jt,Dj],gW,{memoizeOptions:{resultEqualityCheck:F_}}),H_=t=>t.errorBars,WIe=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>fW(n,r)),Pb=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},Mj=(t,e,n,r,i)=>{var a,s;if(n.length>0&&t.forEach(o=>{n.forEach(l=>{var c,d,h=(c=r[l.id])===null||c===void 0?void 0:c.filter(b=>fW(i,b)),f=Xe(o,(d=e.dataKey)!==null&&d!==void 0?d:l.dataKey),m=qIe(o,f,h);if(m.length>=2){var y=Math.min(...m),v=Math.max(...m);(a==null||y<a)&&(a=y),(s==null||v>s)&&(s=v)}var x=B3(f);x!=null&&(a=a==null?x[0]:Math.min(a,x[0]),s=s==null?x[1]:Math.max(s,x[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(o=>{var l=B3(Xe(o,e.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),_t(a)&&_t(s))return[a,s]},YIe=U([jj,Lt,FIe,H_,jt],Mj,{memoizeOptions:{resultEqualityCheck:F_}});function QIe(t){var{value:e}=t;if(Ba(e)||e instanceof Date)return e}var XIe=(t,e,n)=>{var r=t.map(QIe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&bH(r))?rK(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},yW=t=>t.referenceElements.dots,yf=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),ZIe=U([yW,jt,Cy],yf),vW=t=>t.referenceElements.areas,JIe=U([vW,jt,Cy],yf),xW=t=>t.referenceElements.lines,e2e=U([xW,jt,Cy],yf),bW=(t,e)=>{var n=Hs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},t2e=U(ZIe,jt,bW),wW=(t,e)=>{var n=Hs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},n2e=U([JIe,jt],wW);function r2e(t){var e;if(t.x!=null)return Hs([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Hs(n)}function i2e(t){var e;if(t.y!=null)return Hs([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Hs(n)}var _W=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?r2e(r):i2e(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},a2e=U([e2e,jt],_W),s2e=U(t2e,a2e,n2e,(t,e,n)=>Pb(t,n,e)),Lj=(t,e,n,r,i,a,s,o)=>{if(n!=null)return n;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",c=l?Pb(r,a,i):Pb(a,i);return pIe(e,c,t.allowDataOverflow)},o2e=U([Lt,Rj,Dj,KIe,YIe,s2e,Ae,jt],Lj,{memoizeOptions:{resultEqualityCheck:F_}}),l2e=[0,1],Vj=(t,e,n,r,i,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=t,c=Ya(e,a);if(c&&o==null){var d;return rK(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?XIe(r,t,c):i==="expand"?l2e:s}},Uj=U([Lt,Ae,jj,q_,Py,jt,o2e],Vj),EW=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(xy(a));return o in km?o:"point"}}},vf=U([Lt,Ae,uW,bj,jt],EW);function c2e(t){if(t!=null){if(t in km)return km[t]();var e="scale".concat(xy(t));if(e in km)return km[e]()}}function zj(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=c2e(e);if(i!=null){var a=i.domain(n).range(r);return SEe(a),a}}}var Bj=(t,e,n)=>{var r=Oj(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&du(t))return TIe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&du(t))return AIe(t,e.tickCount,e.allowDecimals)}},Fj=U([Uj,jy,vf],Bj),$j=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&du(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],s=e[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return e},u2e=U([Lt,Uj,Fj,jt],$j),d2e=U(q_,Lt,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Hs(t.map(o=>o.value))).sort((o,l)=>o-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),SW=U(d2e,Ae,eW,_n,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!_t(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=hr(n,t*a),o=t*a/2;return o-s-(o-s)/a*s}return 0}),h2e=(t,e)=>{var n=lo(t,e);return n==null||typeof n.padding!="string"?0:SW(t,"xAxis",e,n.padding)},f2e=(t,e)=>{var n=co(t,e);return n==null||typeof n.padding!="string"?0:SW(t,"yAxis",e,n.padding)},m2e=U(lo,h2e,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),p2e=U(co,f2e,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),g2e=U([_n,m2e,I_,N_,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),y2e=U([_n,Ae,p2e,I_,N_,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Ry=(t,e,n,r)=>{var i;switch(e){case"xAxis":return g2e(t,n,r);case"yAxis":return y2e(t,n,r);case"zAxis":return(i=Aj(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return iW(t);case"radiusAxis":return aW(t,n);default:return}},TW=U([Lt,Ry],V_),xf=U([Lt,vf,u2e,TW],zj);U([Oy,H_,jt],WIe);function AW(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var G_=(t,e)=>e,K_=(t,e,n)=>n,v2e=U(T_,G_,K_,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(AW)),x2e=U(A_,G_,K_,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(AW)),NW=(t,e)=>({width:t.width,height:e.height}),b2e=(t,e)=>{var n=typeof e.width=="number"?e.width:Ey;return{width:n,height:t.height}},IW=U(_n,lo,NW),w2e=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},_2e=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},E2e=U(ao,_n,v2e,G_,K_,(t,e,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=NW(e,o);s==null&&(s=w2e(e,r,t));var c=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(c)*l.height,s+=(c?-1:1)*l.height}),a}),S2e=U(io,_n,x2e,G_,K_,(t,e,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=b2e(e,o);s==null&&(s=_2e(e,r,t));var c=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(c)*l.width,s+=(c?-1:1)*l.width}),a}),T2e=(t,e)=>{var n=lo(t,e);if(n!=null)return E2e(t,n.orientation,n.mirror)},A2e=U([_n,lo,T2e,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),N2e=(t,e)=>{var n=co(t,e);if(n!=null)return S2e(t,n.orientation,n.mirror)},I2e=U([_n,co,N2e,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),PW=U(_n,co,(t,e)=>{var n=typeof e.width=="number"?e.width:Ey;return{width:n,height:t.height}}),F3=(t,e,n)=>{switch(e){case"xAxis":return IW(t,n).width;case"yAxis":return PW(t,n).height;default:return}},CW=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=Ya(t,r),l=e.map(c=>c.value);if(s&&o&&a==="category"&&i&&bH(l))return l}},qj=U([Ae,q_,Lt,jt],CW),jW=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=Ya(t,r);if(s&&(i==="number"||a!=="auto"))return e.map(o=>o.value)}},Hj=U([Ae,q_,jy,jt],jW),$3=U([Ae,zIe,vf,xf,qj,Hj,Ry,Fj,jt],(t,e,n,r,i,a,s,o,l)=>{if(e!=null){var c=Ya(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:n,scale:r}}}),P2e=(t,e,n,r,i,a,s,o,l)=>{if(!(e==null||r==null)){var c=Ya(t,l),{type:d,ticks:h,tickCount:f}=e,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,y=d==="category"&&r.bandwidth?r.bandwidth()/m:0;y=l==="angleAxis"&&a!=null&&a.length>=2?Mn(a[0]-a[1])*2*y:y;var v=h||i;if(v){var x=v.map((b,w)=>{var _=s?s.indexOf(b):b;return{index:w,coordinate:r(_)+y,value:b,offset:y}});return x.filter(b=>_t(b.coordinate))}return c&&o?o.map((b,w)=>({coordinate:r(b)+y,value:b,index:w,offset:y})).filter(b=>_t(b.coordinate)):r.ticks?r.ticks(f).map(b=>({coordinate:r(b)+y,value:b,offset:y})):r.domain().map((b,w)=>({coordinate:r(b)+y,value:s?s[b]:b,index:w,offset:y}))}},kW=U([Ae,jy,vf,xf,Fj,Ry,qj,Hj,jt],P2e),C2e=(t,e,n,r,i,a,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var o=Ya(t,s),{tickCount:l}=e,c=0;return c=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Mn(r[0]-r[1])*2*c:c,o&&a?a.map((d,h)=>({coordinate:n(d)+c,value:d,index:h,offset:c})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+c,value:d,offset:c})):n.domain().map((d,h)=>({coordinate:n(d)+c,value:i?i[d]:d,index:h,offset:c}))}},qa=U([Ae,jy,xf,Ry,qj,Hj,jt],C2e),Ha=U(Lt,xf,(t,e)=>{if(!(t==null||e==null))return Ib(Ib({},t),{},{scale:e})}),j2e=U([Lt,vf,Uj,TW],zj);U((t,e,n)=>Aj(t,n),j2e,(t,e)=>{if(!(t==null||e==null))return Ib(Ib({},t),{},{scale:e})});var k2e=U([Ae,T_,A_],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),OW=t=>t.options.defaultTooltipEventType,RW=t=>t.options.validateTooltipEventTypes;function DW(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function Gj(t,e){var n=OW(t),r=RW(t);return DW(e,n,r)}function O2e(t){return se(e=>Gj(e,t))}var MW=(t,e)=>{var n,r=Number(e);if(!($i(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},R2e=t=>t.tooltip.settings,Ro={active:!1,index:null,dataKey:void 0,coordinate:void 0},D2e={itemInteraction:{click:Ro,hover:Ro},axisInteraction:{click:Ro,hover:Ro},keyboardInteraction:Ro,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},LW=Gr({name:"tooltip",initialState:D2e,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:gn()},removeTooltipEntrySettings:{reducer(t,e){var n=Es(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:gn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:M2e,removeTooltipEntrySettings:L2e,setTooltipSettingsState:V2e,setActiveMouseOverItemIndex:VW,mouseLeaveItem:U2e,mouseLeaveChart:UW,setActiveClickItemIndex:z2e,setMouseOverAxisIndex:zW,setMouseClickAxisIndex:B2e,setSyncInteraction:fN,setKeyboardInteraction:mN}=LW.actions,F2e=LW.reducer;function q3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q3(Object(n),!0).forEach(function(r){$2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $2e(t,e,n){return(e=q2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q2e(t){var e=H2e(t,"string");return typeof e=="symbol"?e:e+""}function H2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function G2e(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function K2e(t){return t.index!=null}var BW=(t,e,n,r)=>{if(e==null)return Ro;var i=G2e(t,e,n);if(i==null)return Ro;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(K2e(i)){if(a)return qv(qv({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return qv(qv({},Ro),{},{coordinate:i.coordinate})},Kj=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!_t(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},FW=(t,e,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],c=l==null?void 0:o(l.positions,a);if(c!=null)return c;var d=i==null?void 0:i[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:d.coordinate}}}},$W=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},Dy=t=>t.options.tooltipPayloadSearcher,bf=t=>t.tooltip;function H3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H3(Object(n),!0).forEach(function(r){W2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W2e(t,e,n){return(e=Y2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y2e(t){var e=Q2e(t,"string");return typeof e=="symbol"?e:e+""}function Q2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function X2e(t,e){return t??e}var qW=(t,e,n,r,i,a,s)=>{if(!(e==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:d}=n,h=[];return t.reduce((f,m)=>{var y,{dataDefinedOnItem:v,settings:x}=m,b=X2e(v,o),w=Array.isArray(b)?AG(b,c,d):b,_=(y=x==null?void 0:x.dataKey)!==null&&y!==void 0?y:r,T=x==null?void 0:x.nameKey,N;if(r&&Array.isArray(w)&&!Array.isArray(w[0])&&s==="axis"?N=wH(w,r,i):N=a(w,e,l,T),Array.isArray(N))N.forEach(A=>{var S=G3(G3({},x),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});f.push(A6({tooltipEntrySettings:S,dataKey:A.dataKey,payload:A.payload,value:Xe(A.payload,A.dataKey),name:A.name}))});else{var j;f.push(A6({tooltipEntrySettings:x,dataKey:_,payload:N,value:Xe(N,_),name:(j=Xe(N,T))!==null&&j!==void 0?j:x==null?void 0:x.name}))}return f},h)}},Wj=U([Tn,Ae,uW,bj,Sn],EW),Z2e=U([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),J2e=U([Sn,gf],Nj),My=U([Z2e,Tn,J2e],Ij,{memoizeOptions:{resultEqualityCheck:$_}}),ePe=U([My],t=>t.filter(B_)),tPe=U([My],Pj,{memoizeOptions:{resultEqualityCheck:$_}}),wf=U([tPe,Bl],Cj),nPe=U([ePe,Bl,Tn],oW),Yj=U([wf,Tn,My],kj),HW=U([Tn],Oj),rPe=U([Tn],t=>t.allowDataOverflow),GW=U([HW,rPe],VK),iPe=U([My],t=>t.filter(B_)),aPe=U([nPe,iPe,Py],pW),sPe=U([aPe,Bl,Sn,GW],gW),oPe=U([My],hW),lPe=U([wf,Tn,oPe,H_,Sn],Mj,{memoizeOptions:{resultEqualityCheck:F_}}),cPe=U([yW,Sn,gf],yf),uPe=U([cPe,Sn],bW),dPe=U([vW,Sn,gf],yf),hPe=U([dPe,Sn],wW),fPe=U([xW,Sn,gf],yf),mPe=U([fPe,Sn],_W),pPe=U([uPe,mPe,hPe],Pb),gPe=U([Tn,HW,GW,sPe,lPe,pPe,Ae,Sn],Lj),KW=U([Tn,Ae,wf,Yj,Py,Sn,gPe],Vj),yPe=U([KW,Tn,Wj],Bj),vPe=U([Tn,KW,yPe,Sn],$j),WW=t=>{var e=Sn(t),n=gf(t),r=!1;return Ry(t,e,n,r)},YW=U([Tn,WW],V_),QW=U([Tn,Wj,vPe,YW],zj),xPe=U([Ae,Yj,Tn,Sn],CW),bPe=U([Ae,Yj,Tn,Sn],jW),wPe=(t,e,n,r,i,a,s,o)=>{if(e){var{type:l}=e,c=Ya(t,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return h=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Mn(i[0]-i[1])*2*h:h,c&&s?s.map((f,m)=>({coordinate:r(f)+h,value:f,index:m,offset:h})):r.domain().map((f,m)=>({coordinate:r(f)+h,value:a?a[f]:f,index:m,offset:h}))}}},uo=U([Ae,Tn,Wj,QW,WW,xPe,bPe,Sn],wPe),Qj=U([OW,RW,R2e],(t,e,n)=>DW(n.shared,t,e)),XW=t=>t.tooltip.settings.trigger,Xj=t=>t.tooltip.settings.defaultIndex,W_=U([bf,Qj,XW,Xj],BW),Tl=U([W_,wf],Kj),ZW=U([uo,Tl],MW),JW=U([W_],t=>{if(t)return t.dataKey}),eY=U([bf,Qj,XW,Xj],$W),_Pe=U([io,ao,Ae,_n,uo,Xj,eY,Dy],FW),EPe=U([W_,_Pe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),SPe=U([W_],t=>t.active),TPe=U([eY,Tl,Bl,mW,ZW,Dy,Qj],qW),APe=U([TPe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function K3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K3(Object(n),!0).forEach(function(r){NPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NPe(t,e,n){return(e=IPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IPe(t){var e=PPe(t,"string");return typeof e=="symbol"?e:e+""}function PPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CPe=()=>se(Tn),jPe=()=>{var t=CPe(),e=se(uo),n=se(QW);return Sl(!t||!n?void 0:W3(W3({},t),{},{scale:n}),e)};function Y3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y3(Object(n),!0).forEach(function(r){kPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kPe(t,e,n){return(e=OPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OPe(t){var e=RPe(t,"string");return typeof e=="symbol"?e:e+""}function RPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DPe=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},MPe=(t,e,n,r)=>{var i=e.find(c=>c&&c.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=r;return Wu(Wu(Wu({},r),un(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return Wu(Wu(Wu({},r),un(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function LPe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var tY=(t,e,n,r,i)=>{var a,s=-1,o=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(o<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?n[l-1].coordinate:n[o-1].coordinate,d=n[l].coordinate,h=l>=o-1?n[0].coordinate:n[l+1].coordinate,f=void 0;if(Mn(d-c)!==Mn(h-d)){var m=[];if(Mn(h-d)===Mn(i[1]-i[0])){f=h;var y=d+i[1]-i[0];m[0]=Math.min(y,(y+c)/2),m[1]=Math.max(y,(y+c)/2)}else{f=c;var v=h+i[1]-i[0];m[0]=Math.min(d,(v+d)/2),m[1]=Math.max(d,(v+d)/2)}var x=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(t>x[0]&&t<=x[1]||t>=m[0]&&t<=m[1]){({index:s}=n[l]);break}}else{var b=Math.min(c,h),w=Math.max(c,h);if(t>(b+d)/2&&t<=(w+d)/2){({index:s}=n[l]);break}}}else if(e){for(var _=0;_<o;_++)if(_===0&&t<=(e[_].coordinate+e[_+1].coordinate)/2||_>0&&_<o-1&&t>(e[_].coordinate+e[_-1].coordinate)/2&&t<=(e[_].coordinate+e[_+1].coordinate)/2||_===o-1&&t>(e[_].coordinate+e[_-1].coordinate)/2){({index:s}=e[_]);break}}return s},nY=()=>se(bj),Zj=(t,e)=>e,rY=(t,e,n)=>n,Jj=(t,e,n,r)=>r,VPe=U(uo,t=>x_(t,e=>e.coordinate)),ek=U([bf,Zj,rY,Jj],BW),iY=U([ek,wf],Kj),UPe=(t,e,n)=>{if(e!=null){var r=bf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},aY=U([bf,Zj,rY,Jj],$W),Cb=U([io,ao,Ae,_n,uo,Jj,aY,Dy],FW),zPe=U([ek,Cb],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),sY=U([uo,iY],MW),BPe=U([aY,iY,Bl,mW,sY,Dy,Zj],qW),FPe=U([ek],t=>({isActive:t.active,activeIndex:t.index})),$Pe=(t,e,n,r,i,a,s)=>{if(!(!t||!n||!r||!i)&&LPe(t,s)){var o=REe(t,e),l=tY(o,a,i,n,r),c=DPe(e,i,l,t);return{activeIndex:String(l),activeCoordinate:c}}},qPe=(t,e,n,r,i,a,s)=>{if(!(!t||!r||!i||!a||!n)){var o=DTe(t,n);if(o){var l=DEe(o,e),c=tY(l,s,a,r,i),d=MPe(e,a,c,o);return{activeIndex:String(c),activeCoordinate:d}}}},HPe=(t,e,n,r,i,a,s,o)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?$Pe(t,e,r,i,a,s,o):qPe(t,e,n,r,i,a,s)},GPe=U(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),KPe=U(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Xt)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:DIe}});function Q3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q3(Object(n),!0).forEach(function(r){WPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WPe(t,e,n){return(e=YPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YPe(t){var e=QPe(t,"string");return typeof e=="symbol"?e:e+""}function QPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XPe={},ZPe={zIndexMap:Object.values(Xt).reduce((t,e)=>X3(X3({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),XPe)},JPe=new Set(Object.values(Xt));function eCe(t){return JPe.has(t)}var oY=Gr({name:"zIndex",initialState:ZPe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:gn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!eCe(n)&&delete t.zIndexMap[n])},prepare:gn()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:gn()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:gn()}}}),{registerZIndexPortal:tCe,unregisterZIndexPortal:nCe,registerZIndexPortalId:rCe,unregisterZIndexPortalId:iCe}=oY.actions,aCe=oY.reducer;function jr(t){var{zIndex:e,children:n}=t,r=lSe(),i=r&&e!==void 0&&e!==0,a=Un(),s=ct();g.useLayoutEffect(()=>i?(s(tCe({zIndex:e})),()=>{s(nCe({zIndex:e}))}):Pu,[s,e,i]);var o=se(c=>GPe(c,e,a));if(!i)return n;if(!o)return null;var l=document.getElementById(o);return l?Kb.createPortal(n,l):null}function pN(){return pN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pN.apply(null,arguments)}function Z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z3(Object(n),!0).forEach(function(r){sCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sCe(t,e,n){return(e=oCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oCe(t){var e=lCe(t,"string");return typeof e=="symbol"?e:e+""}function lCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cCe(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return g.isValidElement(e)?g.cloneElement(e,r):g.createElement(n,r)}function uCe(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:c,chartName:d}=t,h=n,f=r,m=i;if(!l||!h||d!=="ScatterChart"&&c!=="axis")return null;var y,v,x;if(d==="ScatterChart")y=h,v=XSe,x=Xt.cursorLine;else if(d==="BarChart")y=ZSe(o,h,a,s),v=YG,x=Xt.cursorRectangle;else if(o==="radial"&&EH(h)){var{cx:b,cy:w,radius:_,startAngle:T,endAngle:N}=XG(h);y={cx:b,cy:w,startAngle:T,endAngle:N,innerRadius:_,outerRadius:_},v=JG,x=Xt.cursorLine}else y={points:UTe(o,h,a)},v=Bd,x=Xt.cursorLine;var j=typeof l=="object"&&"className"in l?l.className:void 0,A=Hv(Hv(Hv(Hv({stroke:"#ccc",pointerEvents:"none"},a),y),ou(l)),{},{payload:f,payloadIndex:m,className:ke("recharts-tooltip-cursor",j)});return g.createElement(jr,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:x},g.createElement(cCe,{cursor:l,cursorComp:v,cursorProps:A}))}function dCe(t){var e=jPe(),n=zG(),r=uf(),i=nY();return e==null||n==null||r==null||i==null?null:g.createElement(uCe,pN({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var lY=g.createContext(null),hCe=()=>g.useContext(lY),cY={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function a(l,c,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,h||l,f),y=n?n+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,h;if(this._eventsCount===0)return c;for(h in d=this._events)e.call(d,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=n?n+c:c,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,y=new Array(m);f<m;f++)y[f]=h[f].fn;return y},o.prototype.listenerCount=function(c){var d=n?n+c:c,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(c,d,h,f,m,y){var v=n?n+c:c;if(!this._events[v])return!1;var x=this._events[v],b=arguments.length,w,_;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,h),!0;case 4:return x.fn.call(x.context,d,h,f),!0;case 5:return x.fn.call(x.context,d,h,f,m),!0;case 6:return x.fn.call(x.context,d,h,f,m,y),!0}for(_=1,w=new Array(b-1);_<b;_++)w[_-1]=arguments[_];x.fn.apply(x.context,w)}else{var T=x.length,N;for(_=0;_<T;_++)switch(x[_].once&&this.removeListener(c,x[_].fn,void 0,!0),b){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,d);break;case 3:x[_].fn.call(x[_].context,d,h);break;case 4:x[_].fn.call(x[_].context,d,h,f);break;default:if(!w)for(N=1,w=new Array(b-1);N<b;N++)w[N-1]=arguments[N];x[_].fn.apply(x[_].context,w)}}return!0},o.prototype.on=function(c,d,h){return a(this,c,d,h,!1)},o.prototype.once=function(c,d,h){return a(this,c,d,h,!0)},o.prototype.removeListener=function(c,d,h,f){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!f||y.once)&&(!h||y.context===h)&&s(this,m);else{for(var v=0,x=[],b=y.length;v<b;v++)(y[v].fn!==d||f&&!y[v].once||h&&y[v].context!==h)&&x.push(y[v]);x.length?this._events[m]=x.length===1?x[0]:x:s(this,m)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(cY);var fCe=cY.exports;const mCe=Ga(fCe);var _g=new mCe,gN="recharts.syncEvent.tooltip",J3="recharts.syncEvent.brush";function Y_(t,e){if(e){var n=Number.parseInt(e,10);if(!$i(n))return t==null?void 0:t[n]}}var pCe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},uY=Gr({name:"options",initialState:pCe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),gCe=uY.reducer,{createEventEmitter:yCe}=uY.actions;function vCe(t){return t.tooltip.syncInteraction}var xCe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},dY=Gr({name:"chartData",initialState:xCe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:eL,setDataStartEndIndexes:bCe,setComputedData:e6e}=dY.actions,wCe=dY.reducer,_Ce=["x","y"];function tL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tL(Object(n),!0).forEach(function(r){ECe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ECe(t,e,n){return(e=SCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SCe(t){var e=TCe(t,"string");return typeof e=="symbol"?e:e+""}function TCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ACe(t,e){if(t==null)return{};var n,r,i=NCe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function NCe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ICe(){var t=se(wj),e=se(_j),n=ct(),r=se(tW),i=se(uo),a=uf(),s=P_(),o=se(l=>l.rootProps.className);g.useEffect(()=>{if(t==null)return Pu;var l=(c,d,h)=>{if(e!==h&&t===c){if(r==="index"){var f;if(s&&d!==null&&d!==void 0&&(f=d.payload)!==null&&f!==void 0&&f.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:y,y:v}=m,x=ACe(m,_Ce),{x:b,y:w,width:_,height:T}=d.payload.sourceViewBox,N=Yu(Yu({},x),{},{x:s.x+(_?(y-b)/_:0)*s.width,y:s.y+(T?(v-w)/T:0)*s.height});n(Yu(Yu({},d),{},{payload:Yu(Yu({},d.payload),{},{coordinate:N})}))}else n(d);return}if(i!=null){var j;if(typeof r=="function"){var A={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},S=r(i,A);j=i[S]}else r==="value"&&(j=i.find(F=>String(F.value)===d.payload.label));var{coordinate:I}=d.payload;if(j==null||d.payload.active===!1||I==null||s==null){n(fN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:C,y:k}=I,R=Math.min(C,s.x+s.width),O=Math.min(k,s.y+s.height),M={x:a==="horizontal"?j.coordinate:R,y:a==="horizontal"?O:j.coordinate},H=fN({active:d.payload.active,coordinate:M,dataKey:d.payload.dataKey,index:String(j.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox});n(H)}}};return _g.on(gN,l),()=>{_g.off(gN,l)}},[o,n,e,t,r,i,a,s])}function PCe(){var t=se(wj),e=se(_j),n=ct();g.useEffect(()=>{if(t==null)return Pu;var r=(i,a,s)=>{e!==s&&t===i&&n(bCe(a))};return _g.on(J3,r),()=>{_g.off(J3,r)}},[n,e,t])}function CCe(){var t=ct();g.useEffect(()=>{t(yCe())},[t]),ICe(),PCe()}function jCe(t,e,n,r,i,a){var s=se(m=>UPe(m,t,e)),o=se(_j),l=se(wj),c=se(tW),d=se(vCe),h=d==null?void 0:d.active,f=P_();g.useEffect(()=>{if(!h&&l!=null&&o!=null){var m=fN({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:f});_g.emit(gN,l,m,o)}},[h,n,s,i,r,o,l,c,a,f])}function nL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nL(Object(n),!0).forEach(function(r){kCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kCe(t,e,n){return(e=OCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OCe(t){var e=RCe(t,"string");return typeof e=="symbol"?e:e+""}function RCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DCe(t){return t.dataKey}function MCe(t,e){return g.isValidElement(t)?g.cloneElement(t,e):typeof t=="function"?g.createElement(t,e):g.createElement(PSe,e)}var iL=[],LCe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!so.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Eg(t){var e,n,r=Gt(t,LCe),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:c,isAnimationActive:d,offset:h,payloadUniqBy:f,position:m,reverseDirection:y,useTranslate3d:v,wrapperStyle:x,cursor:b,shared:w,trigger:_,defaultIndex:T,portal:N,axisId:j}=r,A=ct(),S=typeof T=="number"?String(T):T;g.useEffect(()=>{A(V2e({shared:w,trigger:_,axisId:j,active:i,defaultIndex:S}))},[A,w,_,j,i,S]);var I=P_(),C=qG(),k=O2e(w),{activeIndex:R,isActive:O}=(e=se(Nn=>FPe(Nn,k,_,S)))!==null&&e!==void 0?e:{},M=se(Nn=>BPe(Nn,k,_,S)),H=se(Nn=>sY(Nn,k,_,S)),F=se(Nn=>zPe(Nn,k,_,S)),$=M,Q=hCe(),ne=(n=i??O)!==null&&n!==void 0?n:!1,[de,ut]=JH([$,ne]),Et=k==="axis"?H:void 0;jCe(k,_,F,Et,R,ne);var An=N??Q;if(An==null||I==null||k==null)return null;var Ze=$??iL;ne||(Ze=iL),c&&Ze.length&&(Ze=BH(Ze.filter(Nn=>Nn.value!=null&&(Nn.hide!==!0||r.includeHidden)),f,DCe));var Jn=Ze.length>0,Qa=g.createElement(MSe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:ne,coordinate:F,hasPayload:Jn,offset:h,position:m,reverseDirection:y,useTranslate3d:v,viewBox:I,wrapperStyle:x,lastBoundingBox:de,innerRef:ut,hasPortalFromProps:!!N},MCe(l,rL(rL({},r),{},{payload:Ze,label:Et,active:ne,activeIndex:R,coordinate:F,accessibilityLayer:C})));return g.createElement(g.Fragment,null,Kb.createPortal(Qa,An),ne&&g.createElement(dCe,{cursor:b,tooltipEventType:k,coordinate:F,payload:Ze,index:R}))}var ku=t=>null;ku.displayName="Cell";function VCe(t,e,n){return(e=UCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UCe(t){var e=zCe(t,"string");return typeof e=="symbol"?e:e+""}function zCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class BCe{constructor(e){VCe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function aL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FCe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aL(Object(n),!0).forEach(function(r){$Ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Ce(t,e,n){return(e=qCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qCe(t){var e=HCe(t,"string");return typeof e=="symbol"?e:e+""}function HCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GCe={cacheSize:2e3,enableCache:!0},hY=FCe({},GCe),sL=new BCe(hY.cacheSize),KCe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},oL="recharts_measurement_span";function WCe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var lL=(t,e)=>{try{var n=document.getElementById(oL);n||(n=document.createElement("span"),n.setAttribute("id",oL),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,KCe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},mp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||so.isSsr)return{width:0,height:0};if(!hY.enableCache)return lL(e,n);var r=WCe(e,n),i=sL.get(r);if(i)return i;var a=lL(e,n);return sL.set(r,a),a},cL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YCe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,QCe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fY={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},XCe=Object.keys(fY),Sd="NaN";function ZCe(t,e){return t*fY[e]}class Mr{static parse(e){var n,[,r,i]=(n=QCe.exec(e))!==null&&n!==void 0?n:[];return new Mr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,$i(e)&&(this.unit=""),n!==""&&!YCe.test(n)&&(this.num=NaN,this.unit=""),XCe.includes(n)&&(this.num=ZCe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Mr(NaN,""):new Mr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Mr(NaN,""):new Mr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Mr(NaN,""):new Mr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Mr(NaN,""):new Mr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return $i(this.num)}}function mY(t){if(t.includes(Sd))return Sd;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=cL.exec(e))!==null&&n!==void 0?n:[],s=Mr.parse(r??""),o=Mr.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return Sd;e=e.replace(cL,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,d,h,f]=(c=uL.exec(e))!==null&&c!==void 0?c:[],m=Mr.parse(d??""),y=Mr.parse(f??""),v=h==="+"?m.add(y):m.subtract(y);if(v.isNaN())return Sd;e=e.replace(uL,v.toString())}return e}var dL=/\(([^()]*)\)/;function JCe(t){for(var e=t,n;(n=dL.exec(e))!=null;){var[,r]=n;e=e.replace(dL,mY(r))}return e}function eje(t){var e=t.replace(/\s+/g,"");return e=JCe(e),e=mY(e),e}function tje(t){try{return eje(t)}catch{return Sd}}function yS(t){var e=tje(t.slice(5,-1));return e===Sd?"":e}var nje=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],rje=["dx","dy","angle","className","breakAll"];function yN(){return yN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yN.apply(null,arguments)}function hL(t,e){if(t==null)return{};var n,r,i=ije(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ije(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pY=/[ \f\n\r\t\v\u2028\u2029]+/,gY=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];xt(e)||(n?i=e.toString().split(""):i=e.toString().split(pY));var a=i.map(o=>({word:o,width:mp(o,r).width})),s=n?0:mp("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function aje(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var yY=(t,e,n,r)=>t.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(e==null||r||l.width+o+n<Number(e)))l.words.push(s),l.width+=o+n;else{var c={words:[s],width:o};i.push(c)}return i},[]),vY=t=>t.reduce((e,n)=>e.width>n.width?e:n),sje="",fL=(t,e,n,r,i,a,s,o)=>{var l=t.slice(0,e),c=gY({breakAll:n,style:r,children:l+sje});if(!c)return[!1,[]];var d=yY(c.wordsWithComputedWidth,a,s,o),h=d.length>i||vY(d).width>Number(a);return[h,d]},oje=(t,e,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=t,c=ie(a),d=String(s),h=yY(e,r,n,i);if(!c||i)return h;var f=h.length>a||vY(h).width>Number(r);if(!f)return h;for(var m=0,y=d.length-1,v=0,x;m<=y&&v<=d.length-1;){var b=Math.floor((m+y)/2),w=b-1,[_,T]=fL(d,w,l,o,a,r,n,i),[N]=fL(d,b,l,o,a,r,n,i);if(!_&&!N&&(m=b+1),_&&N&&(y=b-1),!_&&N){x=T;break}v++}return x||h},mL=t=>{var e=xt(t)?[]:t.toString().split(pY);return[{words:e,width:void 0}]},lje=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=t;if((e||n)&&!so.isSsr){var o,l,c=gY({breakAll:a,children:r,style:i});if(c){var{wordsWithComputedWidth:d,spaceWidth:h}=c;o=d,l=h}else return mL(r);return oje({breakAll:a,children:r,maxLines:s,style:i},o,l,e,!!n)}return mL(r)},xY="#808080",cje={breakAll:!1,capHeight:"0.71em",fill:xY,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Q_=g.forwardRef((t,e)=>{var n=Gt(t,cje),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:d}=n,h=hL(n,nje),f=g.useMemo(()=>lje({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:m,dy:y,angle:v,className:x,breakAll:b}=h,w=hL(h,rje);if(!Ba(r)||!Ba(i)||f.length===0)return null;var _=Number(r)+(ie(m)?m:0),T=Number(i)+(ie(y)?y:0);if(!_t(_)||!_t(T))return null;var N;switch(d){case"start":N=yS("calc(".concat(s,")"));break;case"middle":N=yS("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:N=yS("calc(".concat(f.length-1," * -").concat(a,")"));break}var j=[];if(l){var A=f[0].width,{width:S}=h;j.push("scale(".concat(ie(S)&&ie(A)?S/A:1,")"))}return v&&j.push("rotate(".concat(v,", ").concat(_,", ").concat(T,")")),j.length&&(w.transform=j.join(" ")),g.createElement("text",yN({},fr(w),{ref:e,x:_,y:T,className:ke("recharts-text",x),textAnchor:c,fill:o.includes("url")?xY:o}),f.map((I,C)=>{var k=I.words.join(b?"":" ");return g.createElement("tspan",{x:_,dy:C===0?N:a,key:"".concat(k,"-").concat(C)},k)}))});Q_.displayName="Text";var uje=["labelRef"];function dje(t,e){if(t==null)return{};var n,r,i=hje(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hje(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function pL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pL(Object(n),!0).forEach(function(r){fje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fje(t,e,n){return(e=mje(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mje(t){var e=pje(t,"string");return typeof e=="symbol"?e:e+""}function pje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function os(){return os=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},os.apply(null,arguments)}var bY=g.createContext(null),gje=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=t,l=g.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[e,n,r,i,a,s]);return g.createElement(bY.Provider,{value:l},o)},wY=()=>{var t=g.useContext(bY),e=P_();return t||UG(e)},yje=g.createContext(null),vje=()=>{var t=g.useContext(yje),e=se(sW);return t||e},xje=t=>{var{value:e,formatter:n}=t,r=xt(t.children)?e:t.children;return typeof n=="function"?n(r):r},tk=t=>t!=null&&typeof t=="function",bje=(t,e)=>{var n=Mn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},wje=(t,e,n,r,i)=>{var{offset:a,className:s}=t,{cx:o,cy:l,innerRadius:c,outerRadius:d,startAngle:h,endAngle:f,clockWise:m}=i,y=(c+d)/2,v=bje(h,f),x=v>=0?1:-1,b,w;switch(e){case"insideStart":b=h+x*a,w=m;break;case"insideEnd":b=f-x*a,w=!m;break;case"end":b=f+x*a,w=m;break;default:throw new Error("Unsupported position ".concat(e))}w=v<=0?w:!w;var _=un(o,l,y,b),T=un(o,l,y,b+(w?1:-1)*359),N="M".concat(_.x,",").concat(_.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(w?0:1,`,
    `).concat(T.x,",").concat(T.y),j=xt(t.id)?ug("recharts-radial-line-"):t.id;return g.createElement("text",os({},r,{dominantBaseline:"central",className:ke("recharts-radial-bar-label",s)}),g.createElement("defs",null,g.createElement("path",{id:j,d:N})),g.createElement("textPath",{xlinkHref:"#".concat(j)},n))},_je=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=t,c=(o+l)/2;if(n==="outside"){var{x:d,y:h}=un(r,i,s+e,c);return{x:d,y:h,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(a+s)/2,{x:m,y}=un(r,i,f,c);return{x:m,y,textAnchor:"middle",verticalAnchor:"middle"}},vN=t=>"cx"in t&&ie(t.cx),Eje=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!vN(n)&&(a=n);var{x:s,y:o,upperWidth:l,lowerWidth:c,height:d}=e,h=s,f=s+(l-c)/2,m=(h+f)/2,y=(l+c)/2,v=h+l/2,x=d>=0?1:-1,b=x*r,w=x>0?"end":"start",_=x>0?"start":"end",T=l>=0?1:-1,N=T*r,j=T>0?"end":"start",A=T>0?"start":"end";if(i==="top"){var S={x:h+l/2,y:o-b,textAnchor:"middle",verticalAnchor:w};return Kt(Kt({},S),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var I={x:f+c/2,y:o+d+b,textAnchor:"middle",verticalAnchor:_};return Kt(Kt({},I),a?{height:Math.max(a.y+a.height-(o+d),0),width:c}:{})}if(i==="left"){var C={x:m-N,y:o+d/2,textAnchor:j,verticalAnchor:"middle"};return Kt(Kt({},C),a?{width:Math.max(C.x-a.x,0),height:d}:{})}if(i==="right"){var k={x:m+y+N,y:o+d/2,textAnchor:A,verticalAnchor:"middle"};return Kt(Kt({},k),a?{width:Math.max(a.x+a.width-k.x,0),height:d}:{})}var R=a?{width:y,height:d}:{};return i==="insideLeft"?Kt({x:m+N,y:o+d/2,textAnchor:A,verticalAnchor:"middle"},R):i==="insideRight"?Kt({x:m+y-N,y:o+d/2,textAnchor:j,verticalAnchor:"middle"},R):i==="insideTop"?Kt({x:h+l/2,y:o+b,textAnchor:"middle",verticalAnchor:_},R):i==="insideBottom"?Kt({x:f+c/2,y:o+d-b,textAnchor:"middle",verticalAnchor:w},R):i==="insideTopLeft"?Kt({x:h+N,y:o+b,textAnchor:A,verticalAnchor:_},R):i==="insideTopRight"?Kt({x:h+l-N,y:o+b,textAnchor:j,verticalAnchor:_},R):i==="insideBottomLeft"?Kt({x:f+N,y:o+d-b,textAnchor:A,verticalAnchor:w},R):i==="insideBottomRight"?Kt({x:f+c-N,y:o+d-b,textAnchor:j,verticalAnchor:w},R):i&&typeof i=="object"&&(ie(i.x)||zs(i.x))&&(ie(i.y)||zs(i.y))?Kt({x:s+hr(i.x,y),y:o+hr(i.y,d),textAnchor:"end",verticalAnchor:"end"},R):Kt({x:v,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},R)},Sje={offset:5,zIndex:Xt.label};function Io(t){var e=Gt(t,Sje),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:c}=e,d=vje(),h=wY(),f=r==="center"?h:d??h,m,y,v;if(n==null?m=f:vN(n)?m=n:m=UG(n),!m||xt(i)&&xt(a)&&!g.isValidElement(s)&&typeof s!="function")return null;var x=Kt(Kt({},e),{},{viewBox:m});if(g.isValidElement(s)){var{labelRef:b}=x,w=dje(x,uje);return g.cloneElement(s,w)}if(typeof s=="function"){if(y=g.createElement(s,x),g.isValidElement(y))return y}else y=xje(e);var _=fr(e);if(vN(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return wje(e,r,y,_,m);v=_je(m,e.offset,e.position)}else v=Eje(e,m);return g.createElement(jr,{zIndex:e.zIndex},g.createElement(Q_,os({ref:c,className:ke("recharts-label",o)},_,v,{textAnchor:aje(_.textAnchor)?_.textAnchor:v.textAnchor,breakAll:l}),y))}Io.displayName="Label";var Tje=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?g.createElement(Io,os({key:"label-implicit"},r)):Ba(t)?g.createElement(Io,os({key:"label-implicit",value:t},r)):g.isValidElement(t)?t.type===Io?g.cloneElement(t,Kt({key:"label-implicit"},r)):g.createElement(Io,os({key:"label-implicit",content:t},r)):tk(t)?g.createElement(Io,os({key:"label-implicit",content:t},r)):t&&typeof t=="object"?g.createElement(Io,os({},t,{key:"label-implicit"},r)):null};function Aje(t){var{label:e,labelRef:n}=t,r=wY();return Tje(e,r,n)||null}var _Y={},EY={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(EY);var SY={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(SY);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EY,n=SY,r=y_;function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(_Y);var Nje=_Y.last;const Ije=Ga(Nje);var Pje=["valueAccessor"],Cje=["dataKey","clockWise","id","textBreakAll","zIndex"];function jb(){return jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jb.apply(null,arguments)}function gL(t,e){if(t==null)return{};var n,r,i=jje(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jje(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kje=t=>Array.isArray(t.value)?Ije(t.value):t.value,TY=g.createContext(void 0),nk=TY.Provider,AY=g.createContext(void 0),Oje=AY.Provider;function Rje(){return g.useContext(TY)}function Dje(){return g.useContext(AY)}function O0(t){var{valueAccessor:e=kje}=t,n=gL(t,Pje),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,l=gL(n,Cje),c=Rje(),d=Dje(),h=c||d;return!h||!h.length?null:g.createElement(jr,{zIndex:o??Xt.label},g.createElement($t,{className:"recharts-label-list"},h.map((f,m)=>{var y,v=xt(r)?e(f,m):Xe(f&&f.payload,r),x=xt(a)?{}:{id:"".concat(a,"-").concat(m)};return g.createElement(Io,jb({key:"label-".concat(m)},fr(f),l,x,{fill:(y=n.fill)!==null&&y!==void 0?y:f.fill,parentViewBox:f.parentViewBox,value:v,textBreakAll:s,viewBox:f.viewBox,index:m,zIndex:0}))})))}O0.displayName="LabelList";function X_(t){var{label:e}=t;return e?e===!0?g.createElement(O0,{key:"labelList-implicit"}):g.isValidElement(e)||tk(e)?g.createElement(O0,{key:"labelList-implicit",content:e}):typeof e=="object"?g.createElement(O0,jb({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function xN(){return xN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xN.apply(null,arguments)}var NY=t=>{var{cx:e,cy:n,r,className:i}=t,a=ke("recharts-dot",i);return ie(e)&&ie(n)&&ie(r)?g.createElement("circle",xN({},Pr(t),AC(t),{className:a,cx:e,cy:n,r})):null},IY=t=>t.graphicalItems.polarItems,Mje=U([jt,Cy],Nj),Z_=U([IY,Lt,Mje],Ij),Lje=U([Z_],Pj),J_=U([Lje,yj],Cj),Vje=U([J_,Lt,Z_],kj);U([J_,Lt,Z_],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,s=Xe(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Xe(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var yL=()=>{},Uje=U([J_,Lt,Z_,H_,jt],Mj),zje=U([Lt,Rj,Dj,yL,Uje,yL,Ae,jt],Lj),PY=U([Lt,Ae,J_,Vje,Py,jt,zje],Vj),Bje=U([PY,Lt,vf],Bj);U([Lt,PY,Bje,jt],$j);var Fje={radiusAxis:{},angleAxis:{}},CY=Gr({name:"polarAxis",initialState:Fje,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:t6e,removeRadiusAxis:n6e,addAngleAxis:r6e,removeAngleAxis:i6e}=CY.actions,$je=CY.reducer;function vL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vL(Object(n),!0).forEach(function(r){qje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qje(t,e,n){return(e=Hje(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hje(t){var e=Gje(t,"string");return typeof e=="symbol"?e:e+""}function Gje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kje=(t,e)=>e,rk=U([IY,Kje],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Wje=[],ik=(t,e,n)=>(n==null?void 0:n.length)===0?Wje:n,jY=U([yj,rk,ik],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>xL(xL({},e.presentationProps),a.props))),i!=null)return i}}),Yje=U([jY,rk,ik],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,s=Xe(r,e.nameKey,e.name),o;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=e.fill,{value:Vl(s,e.dataKey),color:o,payload:r,type:e.legendType}})}),Qje=U([jY,rk,ik,_n],(t,e,n,r)=>{if(!(e==null||t==null))return Kke({offset:r,pieSettings:e,displayedData:t,cells:n})}),kY={exports:{}},rt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ak=Symbol.for("react.transitional.element"),sk=Symbol.for("react.portal"),e1=Symbol.for("react.fragment"),t1=Symbol.for("react.strict_mode"),n1=Symbol.for("react.profiler"),r1=Symbol.for("react.consumer"),i1=Symbol.for("react.context"),a1=Symbol.for("react.forward_ref"),s1=Symbol.for("react.suspense"),o1=Symbol.for("react.suspense_list"),l1=Symbol.for("react.memo"),c1=Symbol.for("react.lazy"),Xje=Symbol.for("react.view_transition"),Zje=Symbol.for("react.client.reference");function Yi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ak:switch(t=t.type,t){case e1:case n1:case t1:case s1:case o1:case Xje:return t;default:switch(t=t&&t.$$typeof,t){case i1:case a1:case c1:case l1:return t;case r1:return t;default:return e}}case sk:return e}}}rt.ContextConsumer=r1;rt.ContextProvider=i1;rt.Element=ak;rt.ForwardRef=a1;rt.Fragment=e1;rt.Lazy=c1;rt.Memo=l1;rt.Portal=sk;rt.Profiler=n1;rt.StrictMode=t1;rt.Suspense=s1;rt.SuspenseList=o1;rt.isContextConsumer=function(t){return Yi(t)===r1};rt.isContextProvider=function(t){return Yi(t)===i1};rt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ak};rt.isForwardRef=function(t){return Yi(t)===a1};rt.isFragment=function(t){return Yi(t)===e1};rt.isLazy=function(t){return Yi(t)===c1};rt.isMemo=function(t){return Yi(t)===l1};rt.isPortal=function(t){return Yi(t)===sk};rt.isProfiler=function(t){return Yi(t)===n1};rt.isStrictMode=function(t){return Yi(t)===t1};rt.isSuspense=function(t){return Yi(t)===s1};rt.isSuspenseList=function(t){return Yi(t)===o1};rt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===e1||t===n1||t===t1||t===s1||t===o1||typeof t=="object"&&t!==null&&(t.$$typeof===c1||t.$$typeof===l1||t.$$typeof===i1||t.$$typeof===r1||t.$$typeof===a1||t.$$typeof===Zje||t.getModuleId!==void 0)};rt.typeOf=Yi;kY.exports=rt;var Jje=kY.exports,bL=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",wL=null,vS=null,OY=t=>{if(t===wL&&Array.isArray(vS))return vS;var e=[];return g.Children.forEach(t,n=>{xt(n)||(Jje.isFragment(n)?e=e.concat(OY(n.props.children)):e.push(n))}),vS=e,wL=t,e};function ok(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>bL(i)):r=[bL(e)],OY(t).forEach(i=>{var a=lu(i,"type.displayName")||lu(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var lk=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,RY={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(RY);var eke=RY.isPlainObject;const tke=Ga(eke);function _L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(n),!0).forEach(function(r){nke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_L(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nke(t,e,n){return(e=rke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rke(t){var e=ike(t,"string");return typeof e=="symbol"?e:e+""}function ike(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kb(){return kb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kb.apply(null,arguments)}var SL=(t,e,n,r,i)=>{var a=n-r,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+n,",").concat(e),s+="L ".concat(t+n-a/2,",").concat(e+i),s+="L ".concat(t+n-a/2-r,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},ake={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ske=t=>{var e=Gt(t,ake),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=e,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:h}=e,f=g.useRef(null),[m,y]=g.useState(-1),v=g.useRef(i),x=g.useRef(a),b=g.useRef(s),w=g.useRef(n),_=g.useRef(r),T=hf(t,"trapezoid-");if(g.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var M=f.current.getTotalLength();M&&y(M)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var N=ke("recharts-trapezoid",o);if(!h)return g.createElement("g",null,g.createElement("path",kb({},fr(e),{className:N,d:SL(n,r,i,a,s)})));var j=v.current,A=x.current,S=b.current,I=w.current,C=_.current,k="0px ".concat(m===-1?1:m,"px"),R="".concat(m,"px 0px"),O=HG(["strokeDasharray"],c,l);return g.createElement(df,{animationId:T,key:T,canBegin:m>0,duration:c,easing:l,isActive:h,begin:d},M=>{var H=ze(j,i,M),F=ze(A,a,M),$=ze(S,s,M),Q=ze(I,n,M),ne=ze(C,r,M);f.current&&(v.current=H,x.current=F,b.current=$,w.current=Q,_.current=ne);var de=M>0?{transition:O,strokeDasharray:R}:{strokeDasharray:k};return g.createElement("path",kb({},fr(e),{className:N,d:SL(Q,ne,H,F,$),ref:f,style:EL(EL({},de),e.style)}))})},oke=["option","shapeType","propTransformer","activeClassName","isActive"];function lke(t,e){if(t==null)return{};var n,r,i=cke(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cke(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function TL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ob(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TL(Object(n),!0).forEach(function(r){uke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uke(t,e,n){return(e=dke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dke(t){var e=hke(t,"string");return typeof e=="symbol"?e:e+""}function hke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fke(t,e){return Ob(Ob({},e),t)}function mke(t,e){return t==="symbols"}function AL(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return g.createElement(YG,n);case"trapezoid":return g.createElement(ske,n);case"sector":return g.createElement(JG,n);case"symbols":if(mke(e))return g.createElement(TC,n);break;case"curve":return g.createElement(Bd,n);default:return null}}function pke(t){return g.isValidElement(t)?t.props:t}function ck(t){var{option:e,shapeType:n,propTransformer:r=fke,activeClassName:i="recharts-active-shape",isActive:a}=t,s=lke(t,oke),o;if(g.isValidElement(e))o=g.cloneElement(e,Ob(Ob({},s),pke(e)));else if(typeof e=="function")o=e(s);else if(tke(e)&&typeof e!="boolean"){var l=r(e,s);o=g.createElement(AL,{shapeType:n,elementProps:l})}else{var c=s;o=g.createElement(AL,{shapeType:n,elementProps:c})}return a?g.createElement($t,{className:i},o):o}var uk=(t,e)=>{var n=ct();return(r,i)=>a=>{t==null||t(r,i,a),n(VW({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},dk=t=>{var e=ct();return(n,r)=>i=>{t==null||t(n,r,i),e(U2e())}},hk=(t,e)=>{var n=ct();return(r,i)=>a=>{t==null||t(r,i,a),n(z2e({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function u1(t){var{fn:e,args:n}=t,r=ct(),i=Un();return g.useLayoutEffect(()=>{if(!i){var a=e(n);return r(M2e(a)),()=>{r(L2e(a))}}},[e,n,r,i]),null}function fk(t){var{legendPayload:e}=t,n=ct(),r=Un();return g.useLayoutEffect(()=>r?Pu:(n(FG(e)),()=>{n($G(e))}),[n,r,e]),null}function gke(t){var{legendPayload:e}=t,n=ct(),r=se(Ae);return g.useLayoutEffect(()=>r!=="centric"&&r!=="radial"?Pu:(n(FG(e)),()=>{n($G(e))}),[n,r,e]),null}var xS,yke=()=>{var[t]=g.useState(()=>ug("uid-"));return t},vke=(xS=vX.useId)!==null&&xS!==void 0?xS:yke;function DY(t,e){var n=vke();return e||(t?"".concat(t,"-").concat(n):n)}var xke=g.createContext(void 0),d1=t=>{var{id:e,type:n,children:r}=t,i=DY("recharts-".concat(n),e);return g.createElement(xke.Provider,{value:i},r(i))},bke={cartesianItems:[],polarItems:[]},MY=Gr({name:"graphicalItems",initialState:bke,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:gn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Es(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:gn()},removeCartesianGraphicalItem:{reducer(t,e){var n=Es(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:gn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:gn()},removePolarGraphicalItem:{reducer(t,e){var n=Es(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:gn()}}}),{addCartesianGraphicalItem:wke,replaceCartesianGraphicalItem:_ke,removeCartesianGraphicalItem:Eke,addPolarGraphicalItem:Ske,removePolarGraphicalItem:Tke}=MY.actions,Ake=MY.reducer;function mk(t){var e=ct(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?e(wke(t)):n.current!==t&&e(_ke({prev:n.current,next:t})),n.current=t},[e,t]),g.useLayoutEffect(()=>()=>{n.current&&(e(Eke(n.current)),n.current=null)},[e]),null}function Nke(t){var e=ct();return g.useLayoutEffect(()=>(e(Ske(t)),()=>{e(Tke(t))}),[e,t]),null}var Ike=["onMouseEnter","onClick","onMouseLeave"],Pke=["id"],Cke=["id"];function pk(t,e){if(t==null)return{};var n,r,i=jke(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jke(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function NL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function At(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NL(Object(n),!0).forEach(function(r){kke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kke(t,e,n){return(e=Oke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oke(t){var e=Rke(t,"string");return typeof e=="symbol"?e:e+""}function Rke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Al(){return Al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Al.apply(null,arguments)}function Dke(t){var e=g.useMemo(()=>ok(t.children,ku),[t.children]),n=se(r=>Yje(r,t.id,e));return n==null?null:g.createElement(gke,{legendPayload:n})}function Mke(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c}=t;return{dataDefinedOnItem:r.map(d=>d.tooltipPayload),positions:r.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:e,nameKey:n,name:Vl(o,e),hide:l,type:c,color:s,unit:""}}}var Lke=(t,e)=>t>e?"start":t<e?"end":"middle",Vke=(t,e,n)=>hr(typeof e=="function"?e(t):e,n,n*.8),Uke=(t,e,n)=>{var{top:r,left:i,width:a,height:s}=e,o=QG(a,s),l=i+hr(t.cx,a,a/2),c=r+hr(t.cy,s,s/2),d=hr(t.innerRadius,o,0),h=Vke(n,t.outerRadius,o),f=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:h,maxRadius:f}},zke=(t,e)=>{var n=Mn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function Bke(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Fke=(t,e)=>{if(g.isValidElement(t))return g.cloneElement(t,e);if(typeof t=="function")return t(e);var n=ke("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return g.createElement(Bd,Al({},e,{type:"linear",className:n}))},$ke=(t,e,n)=>{if(g.isValidElement(t))return g.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),g.isValidElement(r)))return r;var i=ke("recharts-pie-label-text",Bke(t));return g.createElement(Q_,Al({},e,{alignmentBaseline:"middle",className:i}),r)};function qke(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!e)return null;var o=Pr(n),l=ou(i),c=ou(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,h=e.map((f,m)=>{var y=(f.startAngle+f.endAngle)/2,v=un(f.cx,f.cy,f.outerRadius+d,y),x=At(At(At(At({},o),f),{},{stroke:"none"},l),{},{index:m,textAnchor:Lke(v.x,f.cx)},v),b=At(At(At(At({},o),f),{},{fill:"none",stroke:f.fill},c),{},{index:m,points:[un(f.cx,f.cy,f.outerRadius,y),v],key:"line"});return g.createElement(jr,{zIndex:Xt.label,key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(m)},g.createElement($t,null,a&&Fke(a,b),$ke(i,x,Xe(f,s))))});return g.createElement($t,{className:"recharts-pie-labels"},h)}function Hke(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?g.createElement(X_,{label:i}):g.createElement(qke,{sectors:e,props:n,showLabels:r})}function Gke(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i}=t,a=se(Tl),{onMouseEnter:s,onClick:o,onMouseLeave:l}=i,c=pk(i,Ike),d=uk(s,i.dataKey),h=dk(l),f=hk(o,i.dataKey);return e==null||e.length===0?null:g.createElement(g.Fragment,null,e.map((m,y)=>{if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&e.length!==1)return null;var v=n&&String(y)===a,x=a?r:null,b=v?n:x,w=At(At({},m),{},{stroke:m.stroke,tabIndex:-1,[jG]:y,[kG]:i.dataKey});return g.createElement($t,Al({key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(y),tabIndex:-1,className:"recharts-pie-sector"},by(c,m,y),{onMouseEnter:d(m,y),onMouseLeave:h(m,y),onClick:f(m,y)}),g.createElement(ck,Al({option:b,isActive:v,shapeType:"sector"},w)))}))}function Kke(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:c,nameKey:d,tooltipType:h}=n,f=Math.abs(n.minAngle),m=zke(o,l),y=Math.abs(m),v=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,x=r.filter(j=>Xe(j,c,0)!==0).length,b=(y>=360?x:x-1)*v,w=y-x*f-b,_=r.reduce((j,A)=>{var S=Xe(A,c,0);return j+(ie(S)?S:0)},0),T;if(_>0){var N;T=r.map((j,A)=>{var S=Xe(j,c,0),I=Xe(j,d,A),C=Uke(n,a,j),k=(ie(S)?S:0)/_,R,O=At(At({},j),i&&i[A]&&i[A].props);A?R=N.endAngle+Mn(m)*v*(S!==0?1:0):R=o;var M=R+Mn(m)*((S!==0?f:0)+k*w),H=(R+M)/2,F=(C.innerRadius+C.outerRadius)/2,$=[{name:I,value:S,payload:O,dataKey:c,type:h}],Q=un(C.cx,C.cy,F,H);return N=At(At(At(At({},n.presentationProps),{},{percent:k,cornerRadius:typeof s=="string"?parseFloat(s):s,name:I,tooltipPayload:$,midAngle:H,middleRadius:F,tooltipPosition:Q},O),C),{},{value:S,startAngle:R,endAngle:M,payload:O,paddingAngle:Mn(m)*v}),N})}return T}function Wke(t){var{showLabels:e,sectors:n,children:r}=t,i=g.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return g.createElement(Oje,{value:e?i:void 0},r)}function Yke(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o,activeShape:l,inactiveShape:c,onAnimationStart:d,onAnimationEnd:h}=e,f=hf(e,"recharts-pie-"),m=n.current,[y,v]=g.useState(!1),x=g.useCallback(()=>{typeof h=="function"&&h(),v(!1)},[h]),b=g.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return g.createElement(Wke,{showLabels:!y,sectors:r},g.createElement(df,{animationId:f,begin:a,duration:s,isActive:i,easing:o,onAnimationStart:b,onAnimationEnd:x,key:f},w=>{var _=[],T=r&&r[0],N=T==null?void 0:T.startAngle;return r==null||r.forEach((j,A)=>{var S=m&&m[A],I=A>0?lu(j,"paddingAngle",0):0;if(S){var C=ze(S.endAngle-S.startAngle,j.endAngle-j.startAngle,w),k=At(At({},j),{},{startAngle:N+I,endAngle:N+C+I});_.push(k),N=k.endAngle}else{var{endAngle:R,startAngle:O}=j,M=ze(0,R-O,w),H=At(At({},j),{},{startAngle:N+I,endAngle:N+M+I});_.push(H),N=H.endAngle}}),n.current=_,g.createElement($t,null,g.createElement(Gke,{sectors:_,activeShape:l,inactiveShape:c,allOtherPieProps:e}))}),g.createElement(Hke,{showLabels:!y,sectors:r,props:e}),e.children)}var Qke={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!so.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Xt.area};function Xke(t){var{id:e}=t,n=pk(t,Pke),{hide:r,className:i,rootTabIndex:a}=t,s=g.useMemo(()=>ok(t.children,ku),[t.children]),o=se(d=>Qje(d,e,s)),l=g.useRef(null),c=ke("recharts-pie",i);return r||o==null?(l.current=null,g.createElement($t,{tabIndex:a,className:c})):g.createElement(jr,{zIndex:t.zIndex},g.createElement(u1,{fn:Mke,args:At(At({},t),{},{sectors:o})}),g.createElement($t,{tabIndex:a,className:c},g.createElement(Yke,{props:At(At({},n),{},{sectors:o}),previousSectorsRef:l})))}function LY(t){var e=Gt(t,Qke),{id:n}=e,r=pk(e,Cke),i=Pr(r);return g.createElement(d1,{id:n,type:"pie"},a=>g.createElement(g.Fragment,null,g.createElement(Nke,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),g.createElement(Dke,Al({},r,{id:a})),g.createElement(Xke,Al({},r,{id:a}))))}LY.displayName="Pie";var Zke=["points"];function IL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IL(Object(n),!0).forEach(function(r){Jke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jke(t,e,n){return(e=eOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eOe(t){var e=tOe(t,"string");return typeof e=="symbol"?e:e+""}function tOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rb(){return Rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rb.apply(null,arguments)}function nOe(t,e){if(t==null)return{};var n,r,i=rOe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function iOe(t){var{option:e,dotProps:n,className:r}=t;if(g.isValidElement(e))return g.cloneElement(e,n);if(typeof e=="function")return e(n);var i=ke(r,typeof e!="boolean"?e.className:""),a=n??{},{points:s}=a,o=nOe(a,Zke);return g.createElement(NY,Rb({},o,{className:i}))}function aOe(t,e){return t==null?!1:e?!0:t.length===1}function VY(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:c=Xt.scatter}=t;if(!aOe(e,n))return null;var d=lk(n),h=Nwe(n),f=e.map((y,v)=>{var x,b,w=bS(bS(bS({r:3},s),h),{},{index:v,cx:(x=y.x)!==null&&x!==void 0?x:void 0,cy:(b=y.y)!==null&&b!==void 0?b:void 0,dataKey:a,value:y.value,payload:y.payload,points:e});return g.createElement(iOe,{key:"dot-".concat(v),option:n,dotProps:w,className:i})}),m={};return o&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),g.createElement(jr,{zIndex:c},g.createElement($t,Rb({className:r},m),f))}function PL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PL(Object(n),!0).forEach(function(r){sOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sOe(t,e,n){return(e=oOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oOe(t){var e=lOe(t,"string");return typeof e=="symbol"?e:e+""}function lOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cOe={xAxis:{},yAxis:{},zAxis:{}},UY=Gr({name:"cartesianAxis",initialState:cOe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:gn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:gn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:gn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:gn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:gn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:gn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);t.yAxis[n]=CL(CL({},t.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:uOe,removeXAxis:dOe,addYAxis:hOe,removeYAxis:fOe,addZAxis:a6e,removeZAxis:s6e,updateYAxisWidth:mOe}=UY.actions,pOe=UY.reducer,gOe=U([_n],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),yOe=U([gOe,io,ao],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),h1=()=>se(yOe),vOe=()=>se(APe);function jL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jL(Object(n),!0).forEach(function(r){xOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xOe(t,e,n){return(e=bOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bOe(t){var e=wOe(t,"string");return typeof e=="symbol"?e:e+""}function wOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _Oe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var s={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},o=wS(wS(wS({},s),ou(i)),AC(i)),l;return g.isValidElement(i)?l=g.cloneElement(i,o):typeof i=="function"?l=i(o):l=g.createElement(NY,o),g.createElement($t,{className:"recharts-active-dot"},l)};function bN(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,zIndex:a=Xt.activeDot}=t,s=se(Tl),o=vOe();if(e==null||o==null)return null;var l=e.find(c=>o.includes(c.payload));return xt(l)?null:g.createElement(jr,{zIndex:a},g.createElement(_Oe,{point:l,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r}))}var EOe="Invariant failed";function SOe(t,e){throw new Error(EOe)}var TOe=["x","y"];function wN(){return wN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wN.apply(null,arguments)}function kL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kL(Object(n),!0).forEach(function(r){AOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AOe(t,e,n){return(e=NOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NOe(t){var e=IOe(t,"string");return typeof e=="symbol"?e:e+""}function IOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function POe(t,e){if(t==null)return{};var n,r,i=COe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function COe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jOe(t,e){var{x:n,y:r}=t,i=POe(t,TOe),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),d=parseInt(c,10),h="".concat(e.width||i.width),f=parseInt(h,10);return mm(mm(mm(mm(mm({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:f,name:e.name,radius:e.radius})}function Db(t){return g.createElement(ck,wN({shapeType:"rectangle",propTransformer:jOe,activeClassName:"recharts-active-bar"},t))}var kOe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ie(e))return e;var a=ie(r)||xt(r);return a?e(r,i):(a||SOe(),n)}},OOe={},zY=Gr({name:"errorBars",initialState:OOe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:o6e,replaceErrorBar:l6e,removeErrorBar:c6e}=zY.actions,ROe=zY.reducer,DOe=["children"];function MOe(t,e){if(t==null)return{};var n,r,i=LOe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function LOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var VOe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},UOe=g.createContext(VOe);function BY(t){var{children:e}=t,n=MOe(t,DOe);return g.createElement(UOe.Provider,{value:n},e)}function f1(t,e){var n,r,i=se(c=>lo(c,t)),a=se(c=>co(c,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Wr.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Yr.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function gk(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=h1(),{needClipX:a,needClipY:s,needClip:o}=f1(e,n);if(!o||!i)return null;var{x:l,y:c,width:d,height:h}=i;return g.createElement("clipPath",{id:"clipPath-".concat(r)},g.createElement("rect",{x:a?l:l-d/2,y:s?c:c-h/2,width:a?d:d*2,height:s?h:h*2}))}function zOe(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&_t(t.zIndex)?t.zIndex:e}var BOe=["onMouseEnter","onMouseLeave","onClick"],FOe=["value","background","tooltipPosition"],$Oe=["id"],qOe=["onMouseEnter","onClick","onMouseLeave"];function Gs(){return Gs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gs.apply(null,arguments)}function OL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OL(Object(n),!0).forEach(function(r){HOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HOe(t,e,n){return(e=GOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GOe(t){var e=KOe(t,"string");return typeof e=="symbol"?e:e+""}function KOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mb(t,e){if(t==null)return{};var n,r,i=WOe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function WOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var YOe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Vl(n,e),payload:t}]};function QOe(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:o}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Vl(a,e),hide:s,type:t.tooltipType,color:t.fill,unit:o}}}function XOe(t){var e=se(Tl),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:s,onMouseLeave:o,onClick:l}=a,c=Mb(a,BOe),d=uk(s,r),h=dk(o),f=hk(l,r);if(!i||n==null)return null;var m=ou(i);return g.createElement(jr,{zIndex:zOe(i,Xt.barBackground)},n.map((y,v)=>{var{value:x,background:b,tooltipPosition:w}=y,_=Mb(y,FOe);if(!b)return null;var T=d(y,v),N=h(y,v),j=f(y,v),A=Sr(Sr(Sr(Sr(Sr({option:i,isActive:String(v)===e},_),{},{fill:"#eee"},b),m),by(c,y,v)),{},{onMouseEnter:T,onMouseLeave:N,onClick:j,dataKey:r,index:v,className:"recharts-bar-background-rectangle"});return g.createElement(Db,Gs({key:"background-bar-".concat(v)},A))}))}function ZOe(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Sr(Sr({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return g.createElement(nk,{value:e?i:void 0},n)}function JOe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:s}=t,o=se(Tl),l=se(JW),c=n&&String(a)===o&&(l==null||s===l),d=c?n:e;return c?g.createElement(jr,{zIndex:Xt.activeBar},g.createElement(Db,Gs({},r,{name:String(r.name)},i,{isActive:c,option:d,index:a,dataKey:s}))):g.createElement(Db,Gs({},r,{name:String(r.name)},i,{isActive:c,option:d,index:a,dataKey:s}))}function eRe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return g.createElement(Db,Gs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:a}))}function tRe(t){var e,{data:n,props:r}=t,i=(e=Pr(r))!==null&&e!==void 0?e:{},{id:a}=i,s=Mb(i,$Oe),{shape:o,dataKey:l,activeBar:c}=r,{onMouseEnter:d,onClick:h,onMouseLeave:f}=r,m=Mb(r,qOe),y=uk(d,l),v=dk(f),x=hk(h,l);return n?g.createElement(g.Fragment,null,n.map((b,w)=>g.createElement($t,Gs({key:"rectangle-".concat(b==null?void 0:b.x,"-").concat(b==null?void 0:b.y,"-").concat(b==null?void 0:b.value,"-").concat(w),className:"recharts-bar-rectangle"},by(m,b,w),{onMouseEnter:y(b,w),onMouseLeave:v(b,w),onClick:x(b,w)}),c?g.createElement(JOe,{shape:o,activeBar:c,baseProps:s,entry:b,index:w,dataKey:l}):g.createElement(eRe,{shape:o,baseProps:s,entry:b,index:w,dataKey:l})))):null}function nRe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:c,onAnimationStart:d}=e,h=n.current,f=hf(e,"recharts-bar-"),[m,y]=g.useState(!1),v=!m,x=g.useCallback(()=>{typeof c=="function"&&c(),y(!1)},[c]),b=g.useCallback(()=>{typeof d=="function"&&d(),y(!0)},[d]);return g.createElement(ZOe,{showLabels:v,rects:r},g.createElement(df,{animationId:f,begin:s,duration:o,isActive:a,easing:l,onAnimationEnd:x,onAnimationStart:b,key:f},w=>{var _=w===1?r:r==null?void 0:r.map((T,N)=>{var j=h&&h[N];if(j)return Sr(Sr({},T),{},{x:ze(j.x,T.x,w),y:ze(j.y,T.y,w),width:ze(j.width,T.width,w),height:ze(j.height,T.height,w)});if(i==="horizontal"){var A=ze(0,T.height,w),S=ze(T.stackedBarStart,T.y,w);return Sr(Sr({},T),{},{y:S,height:A})}var I=ze(0,T.width,w),C=ze(T.stackedBarStart,T.x,w);return Sr(Sr({},T),{},{width:I,x:C})});return w>0&&(n.current=_??null),_==null?null:g.createElement($t,null,g.createElement(tRe,{props:e,data:_}))}),g.createElement(X_,{label:e.label}),e.children)}function rRe(t){var e=g.useRef(null);return g.createElement(nRe,{previousRectanglesRef:e,props:t})}var FY=0,iRe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Xe(t,e)}};class aRe extends g.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:s,needClip:o,background:l,id:c}=this.props;if(e||n==null)return null;var d=ke("recharts-bar",i),h=c;return g.createElement($t,{className:d,id:c},o&&g.createElement("defs",null,g.createElement(gk,{clipPathId:h,xAxisId:a,yAxisId:s})),g.createElement($t,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(h,")"):void 0},g.createElement(XOe,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),g.createElement(rRe,this.props)))}}var sRe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!so.isSsr,legendType:"rect",minPointSize:FY,xAxisId:0,yAxisId:0,zIndex:Xt.bar};function oRe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:d}=t,{needClip:h}=f1(e,n),f=uf(),m=Un(),y=ok(t.children,ku),v=se(w=>DRe(w,e,n,m,t.id,y));if(f!=="vertical"&&f!=="horizontal")return null;var x,b=v==null?void 0:v[0];return b==null||b.height==null||b.width==null?x=0:x=f==="vertical"?b.height/2:b.width/2,g.createElement(BY,{xAxisId:e,yAxisId:n,data:v,dataPointFormatter:iRe,errorBarOffset:x},g.createElement(aRe,Gs({},t,{layout:f,needClip:h,data:v,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:d})))}function lRe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:d,displayedData:h,offset:f,cells:m,parentViewBox:y,dataStartIndex:v}=t,x=e==="horizontal"?o:s,b=d?x.scale.domain():null,w=CEe({numericAxis:x}),_=x.scale(w);return h.map((T,N)=>{var j,A,S,I,C,k;d?j=TEe(d[N+v],b):(j=Xe(T,n),Array.isArray(j)||(j=[w,j]));var R=kOe(r,FY)(j[1],N);if(e==="horizontal"){var O,[M,H]=[o.scale(j[0]),o.scale(j[1])];A=E6({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:T,index:N}),S=(O=H??M)!==null&&O!==void 0?O:void 0,I=i.size;var F=M-H;if(C=$i(F)?0:F,k={x:A,y:f.top,width:I,height:f.height},Math.abs(R)>0&&Math.abs(C)<Math.abs(R)){var $=Mn(C||R)*(Math.abs(R)-Math.abs(C));S-=$,C+=$}}else{var[Q,ne]=[s.scale(j[0]),s.scale(j[1])];if(A=Q,S=E6({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:T,index:N}),I=ne-Q,C=i.size,k={x:f.left,y:S,width:f.width,height:C},Math.abs(R)>0&&Math.abs(I)<Math.abs(R)){var de=Mn(I||R)*(Math.abs(R)-Math.abs(I));I+=de}}if(A==null||S==null||I==null||C==null)return null;var ut=Sr(Sr({},T),{},{stackedBarStart:_,x:A,y:S,width:I,height:C,value:d?j:j[1],payload:T,background:k,tooltipPosition:{x:A+I/2,y:S+C/2},parentViewBox:y},m&&m[N]&&m[N].props);return ut}).filter(Boolean)}function cRe(t){var e=Gt(t,sRe),n=Un();return g.createElement(d1,{id:e.id,type:"bar"},r=>g.createElement(g.Fragment,null,g.createElement(fk,{legendPayload:YOe(e)}),g.createElement(u1,{fn:QOe,args:e}),g.createElement(mk,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:PG(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),g.createElement(jr,{zIndex:e.zIndex},g.createElement(oRe,Gs({},e,{id:r})))))}var Sg=g.memo(cRe);Sg.displayName="Bar";function RL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RL(Object(n),!0).forEach(function(r){uRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uRe(t,e,n){return(e=dRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dRe(t){var e=hRe(t,"string");return typeof e=="symbol"?e:e+""}function hRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fRe=(t,e)=>e,mRe=(t,e,n)=>n,pRe=(t,e,n,r)=>r,gRe=(t,e,n,r,i)=>i,Ly=U([ky,gRe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),yRe=U([Ly],t=>t==null?void 0:t.maxBarSize),vRe=(t,e,n,r,i,a)=>a,DL=(t,e,n)=>{var r=n??t;if(!xt(r))return hr(r,e,0)},xRe=U([Ae,ky,fRe,mRe,pRe],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),bRe=(t,e,n,r)=>{var i=Ae(t);return i==="horizontal"?wg(t,"yAxis",n,r):wg(t,"xAxis",e,r)},wRe=(t,e,n)=>{var r=Ae(t);return r==="horizontal"?F3(t,"xAxis",e):F3(t,"yAxis",n)},_Re=(t,e,n)=>{var r={},i=t.filter(B_),a=t.filter(c=>c.stackId==null),s=i.reduce((c,d)=>(c[d.stackId]||(c[d.stackId]=[]),c[d.stackId].push(d),c),r),o=Object.entries(s).map(c=>{var[d,h]=c,f=h.map(y=>y.dataKey),m=DL(e,n,h[0].barSize);return{stackId:d,dataKeys:f,barSize:m}}),l=a.map(c=>{var d=[c.dataKey].filter(f=>f!=null),h=DL(e,n,c.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...o,...l]},ERe=U([xRe,IIe,wRe],_Re),SRe=(t,e,n,r,i)=>{var a,s,o=Ly(t,e,n,r,i);if(o!=null){var l=Ae(t),c=JK(t),{maxBarSize:d}=o,h=xt(d)?c:d,f,m;return l==="horizontal"?(f=Ha(t,"xAxis",e,r),m=qa(t,"xAxis",e,r)):(f=Ha(t,"yAxis",n,r),m=qa(t,"yAxis",n,r)),(a=(s=Sl(f,m,!0))!==null&&s!==void 0?s:h)!==null&&a!==void 0?a:0}},$Y=(t,e,n,r)=>{var i=Ae(t),a,s;return i==="horizontal"?(a=Ha(t,"xAxis",e,r),s=qa(t,"xAxis",e,r)):(a=Ha(t,"yAxis",n,r),s=qa(t,"yAxis",n,r)),Sl(a,s)};function TRe(t,e,n,r,i){var a=r.length;if(!(a<1)){var s=hr(t,n,0,!0),o,l=[];if(_t(r[0].barSize)){var c=!1,d=n/a,h=r.reduce((b,w)=>b+(w.barSize||0),0);h+=(a-1)*s,h>=n&&(h-=(a-1)*s,s=0),h>=n&&d>0&&(c=!0,d*=.9,h=a*d);var f=(n-h)/2>>0,m={offset:f-s,size:0};o=r.reduce((b,w)=>{var _,T={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:m.offset+m.size+s,size:c?d:(_=w.barSize)!==null&&_!==void 0?_:0}},N=[...b,T];return m=N[N.length-1].position,N},l)}else{var y=hr(e,n,0,!0);n-2*y-(a-1)*s<=0&&(s=0);var v=(n-2*y-(a-1)*s)/a;v>1&&(v>>=0);var x=_t(i)?Math.min(v,i):v;o=r.reduce((b,w,_)=>[...b,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:y+(v+s)*_+(v-x)/2,size:x}}],l)}return o}}var ARe=(t,e,n,r,i,a,s)=>{var o=xt(s)?e:s,l=TRe(n,r,i!==a?i:a,t,o);return i!==a&&l!=null&&(l=l.map(c=>Gv(Gv({},c),{},{position:Gv(Gv({},c.position),{},{offset:c.position.offset-i/2})}))),l},NRe=U([ERe,JK,NIe,eW,SRe,$Y,yRe],ARe),IRe=(t,e,n,r)=>Ha(t,"xAxis",e,r),PRe=(t,e,n,r)=>Ha(t,"yAxis",n,r),CRe=(t,e,n,r)=>qa(t,"xAxis",e,r),jRe=(t,e,n,r)=>qa(t,"yAxis",n,r),kRe=U([NRe,Ly],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),ORe=(t,e)=>{var n=z_(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===n)}}}},RRe=U([bRe,Ly],ORe),DRe=U([_n,qC,IRe,PRe,CRe,jRe,kRe,Ae,Iy,$Y,RRe,Ly,vRe],(t,e,n,r,i,a,s,o,l,c,d,h,f)=>{var{chartData:m,dataStartIndex:y,dataEndIndex:v}=l;if(!(h==null||s==null||e==null||o!=="horizontal"&&o!=="vertical"||n==null||r==null||i==null||a==null||c==null)){var{data:x}=h,b;if(x!=null&&x.length>0?b=x:b=m==null?void 0:m.slice(y,v+1),b!=null)return lRe({layout:o,barSettings:h,pos:s,parentViewBox:e,bandSize:c,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:b,offset:t,cells:f,dataStartIndex:y})}}),qY=t=>{var{chartData:e}=t,n=ct(),r=Un();return g.useEffect(()=>r?()=>{}:(n(eL(e)),()=>{n(eL(void 0))}),[e,n,r]),null},ML={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},HY=Gr({name:"brush",initialState:ML,reducers:{setBrushSettings(t,e){return e.payload==null?ML:e.payload}}}),{setBrushSettings:u6e}=HY.actions,MRe=HY.reducer;function LRe(t,e,n){return(e=VRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VRe(t){var e=URe(t,"string");return typeof e=="symbol"?e:e+""}function URe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class yk{static create(e){return new yk(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}LRe(yk,"EPS",1e-4);function zRe(t){return(t%180+180)%180}var BRe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=zRe(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},FRe={dots:[],areas:[],lines:[]},GY=Gr({name:"referenceElements",initialState:FRe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Es(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Es(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Es(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:d6e,removeDot:h6e,addArea:f6e,removeArea:m6e,addLine:p6e,removeLine:g6e}=GY.actions,$Re=GY.reducer,qRe=g.createContext(void 0),HRe=t=>{var{children:e}=t,[n]=g.useState("".concat(ug("recharts"),"-clip")),r=h1();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return g.createElement(qRe.Provider,{value:n},g.createElement("defs",null,g.createElement("clipPath",{id:n},g.createElement("rect",{x:i,y:a,height:o,width:s}))),e)};function Rh(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function KY(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function GRe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return BRe(r,n)}function KRe(t,e,n){var r=n==="width",{x:i,y:a,width:s,height:o}=t;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function Lb(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function WRe(t,e){return KY(t,e+1)}function YRe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=e,l=0,c=1,d=s,h=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:KY(r,c)};var v=l,x,b=()=>(x===void 0&&(x=n(y,v)),x),w=y.coordinate,_=l===0||Lb(t,w,b,d,o);_||(l=0,d=s,c+=1),_&&(d=w+t*(b()/2+i),l+=c)},f;c<=a.length;)if(f=h(),f)return f.v;return[]}function LL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LL(Object(n),!0).forEach(function(r){QRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QRe(t,e,n){return(e=XRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XRe(t){var e=ZRe(t,"string");return typeof e=="symbol"?e:e+""}function ZRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JRe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=e,{end:l}=e,c=function(f){var m=a[f],y,v=()=>(y===void 0&&(y=n(m,f)),y);if(f===s-1){var x=t*(m.coordinate+t*v()/2-l);a[f]=m=rr(rr({},m),{},{tickCoord:x>0?m.coordinate-x*t:m.coordinate})}else a[f]=m=rr(rr({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var b=Lb(t,m.tickCoord,v,o,l);b&&(l=m.tickCoord-t*(v()/2+i),a[f]=rr(rr({},m),{},{isShow:!0}))}},d=s-1;d>=0;d--)c(d);return a}function eDe(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:c}=e;if(a){var d=r[o-1],h=n(d,o-1),f=t*(d.coordinate+t*h/2-c);if(s[o-1]=d=rr(rr({},d),{},{tickCoord:f>0?d.coordinate-f*t:d.coordinate}),d.tickCoord!=null){var m=Lb(t,d.tickCoord,()=>h,l,c);m&&(c=d.tickCoord-t*(h/2+i),s[o-1]=rr(rr({},d),{},{isShow:!0}))}}for(var y=a?o-1:o,v=function(w){var _=s[w],T,N=()=>(T===void 0&&(T=n(_,w)),T);if(w===0){var j=t*(_.coordinate-t*N()/2-l);s[w]=_=rr(rr({},_),{},{tickCoord:j<0?_.coordinate-j*t:_.coordinate})}else s[w]=_=rr(rr({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var A=Lb(t,_.tickCoord,N,l,c);A&&(l=_.tickCoord+t*(N()/2+i),s[w]=rr(rr({},_),{},{isShow:!0}))}},x=0;x<y;x++)v(x);return s}function vk(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:c,unit:d,angle:h}=t;if(!i||!i.length||!r)return[];if(ie(l)||so.isSsr){var f;return(f=WRe(i,ie(l)?l:0))!==null&&f!==void 0?f:[]}var m=[],y=o==="top"||o==="bottom"?"width":"height",v=d&&y==="width"?mp(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=(_,T)=>{var N=typeof c=="function"?c(_.value,T):_.value;return y==="width"?GRe(mp(N,{fontSize:e,letterSpacing:n}),v,h):mp(N,{fontSize:e,letterSpacing:n})[y]},b=i.length>=2?Mn(i[1].coordinate-i[0].coordinate):1,w=KRe(a,b,y);return l==="equidistantPreserveStart"?YRe(b,w,x,i,s):(l==="preserveStart"||l==="preserveStartEnd"?m=eDe(b,w,x,i,s,l==="preserveStartEnd"):m=JRe(b,w,x,i,s),m.filter(_=>_.isShow))}var tDe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>s&&(s=h.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,c=s+l+o+(n?r:0);return Math.round(c)}return 0},nDe=["axisLine","width","height","className","hide","ticks","axisType"],rDe=["viewBox"],iDe=["viewBox"];function _N(t,e){if(t==null)return{};var n,r,i=aDe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aDe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fu(){return fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fu.apply(null,arguments)}function VL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VL(Object(n),!0).forEach(function(r){sDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sDe(t,e,n){return(e=oDe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oDe(t){var e=lDe(t,"string");return typeof e=="symbol"?e:e+""}function lDe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xk={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Xt.axis};function cDe(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=t;if(!o)return null;var c=rn(rn(rn({},l),Pr(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);c=rn(rn({},c),{},{x1:e,y1:n+d*i,x2:e+r,y2:n+d*i})}else{var h=+(a==="left"&&!s||a==="right"&&s);c=rn(rn({},c),{},{x1:e+h*r,y1:n,x2:e+h*r,y2:n+i})}return g.createElement("line",fu({},c,{className:ke("recharts-cartesian-axis-line",lu(o,"className"))}))}function uDe(t,e,n,r,i,a,s,o,l){var c,d,h,f,m,y,v=o?-1:1,x=t.tickSize||s,b=ie(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":c=d=t.coordinate,f=n+ +!o*i,h=f-v*x,y=h-v*l,m=b;break;case"left":h=f=t.coordinate,d=e+ +!o*r,c=d-v*x,m=c-v*l,y=b;break;case"right":h=f=t.coordinate,d=e+ +o*r,c=d+v*x,m=c+v*l,y=b;break;default:c=d=t.coordinate,f=n+ +o*i,h=f+v*x,y=h+v*l,m=b;break}return{line:{x1:c,y1:h,x2:d,y2:f},tick:{x:m,y}}}function dDe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function hDe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function fDe(t){var{option:e,tickProps:n,value:r}=t,i,a=ke(n.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(e))i=g.cloneElement(e,rn(rn({},n),{},{className:a}));else if(typeof e=="function")i=e(rn(rn({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=ke(s,e==null?void 0:e.className)),i=g.createElement(Q_,fu({},n,{className:s}),r)}return i}var mDe=g.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:c,orientation:d,mirror:h,x:f,y:m,width:y,height:v,tickSize:x,tickMargin:b,fontSize:w,letterSpacing:_,getTicksConfig:T,events:N,axisType:j}=t,A=vk(rn(rn({},T),{},{ticks:n}),w,_),S=dDe(d,h),I=hDe(d,h),C=Pr(T),k=ou(r),R={};typeof i=="object"&&(R=i);var O=rn(rn({},C),{},{fill:"none"},R),M=A.map($=>rn({entry:$},uDe($,f,m,y,v,d,x,h,b))),H=M.map($=>{var{entry:Q,line:ne}=$;return g.createElement($t,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Q.value,"-").concat(Q.coordinate,"-").concat(Q.tickCoord)},i&&g.createElement("line",fu({},O,ne,{className:ke("recharts-cartesian-axis-tick-line",lu(i,"className"))})))}),F=M.map(($,Q)=>{var{entry:ne,tick:de}=$,ut=rn(rn(rn(rn({textAnchor:S,verticalAnchor:I},C),{},{stroke:"none",fill:a},k),de),{},{index:Q,payload:ne,visibleTicksCount:A.length,tickFormatter:s,padding:l},c);return g.createElement($t,fu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ne.value,"-").concat(ne.coordinate,"-").concat(ne.tickCoord)},by(N,ne,Q)),r&&g.createElement(fDe,{option:r,tickProps:ut,value:"".concat(typeof s=="function"?s(ne.value,Q):ne.value).concat(o||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(j,"-ticks")},F.length>0&&g.createElement(jr,{zIndex:Xt.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(j,"-tick-labels"),ref:e},F)),H.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(j,"-tick-lines")},H))}),pDe=g.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:l}=t,c=_N(t,nDe),[d,h]=g.useState(""),[f,m]=g.useState(""),y=g.useRef(null);g.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var x;return tDe({ticks:y.current,label:(x=t.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var v=g.useCallback(x=>{if(x){var b=x.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=b;var w=b[0];if(w){var _=window.getComputedStyle(w),T=_.fontSize,N=_.letterSpacing;(T!==d||N!==f)&&(h(T),m(N))}}},[d,f]);return s||r!=null&&r<=0||i!=null&&i<=0?null:g.createElement(jr,{zIndex:t.zIndex},g.createElement($t,{className:ke("recharts-cartesian-axis",a)},g.createElement(cDe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Pr(t)}),g.createElement(mDe,{ref:v,axisType:l,events:c,fontSize:d,getTicksConfig:t,height:t.height,letterSpacing:f,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),g.createElement(gje,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},g.createElement(Aje,{label:t.label,labelRef:t.labelRef}),t.children)))}),gDe=g.memo(pDe,(t,e)=>{var{viewBox:n}=t,r=_N(t,rDe),{viewBox:i}=e,a=_N(e,iDe);return Rh(n,i)&&Rh(r,a)}),bk=g.forwardRef((t,e)=>{var n=Gt(t,xk);return g.createElement(gDe,fu({},n,{ref:e}))});bk.displayName="CartesianAxis";var yDe=["x1","y1","x2","y2","key"],vDe=["offset"],xDe=["xAxisId","yAxisId"],bDe=["xAxisId","yAxisId"];function UL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UL(Object(n),!0).forEach(function(r){wDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wDe(t,e,n){return(e=_De(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _De(t){var e=EDe(t,"string");return typeof e=="symbol"?e:e+""}function EDe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sc(){return Sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sc.apply(null,arguments)}function Vb(t,e){if(t==null)return{};var n,r,i=SDe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function SDe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var TDe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=t;return g.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function WY(t){var{option:e,lineItemProps:n}=t,r;if(g.isValidElement(e))r=g.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:s,x2:o,y2:l,key:c}=n,d=Vb(n,yDe),h=(i=Pr(d))!==null&&i!==void 0?i:{},{offset:f}=h,m=Vb(h,vDe);r=g.createElement("line",Sc({},m,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:c}))}return r}function ADe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,o=Vb(t,xDe),l=i.map((c,d)=>{var h=ar(ar({},o),{},{x1:e,y1:c,x2:e+n,y2:c,key:"line-".concat(d),index:d});return g.createElement(WY,{key:"line-".concat(d),option:r,lineItemProps:h})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function NDe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,o=Vb(t,bDe),l=i.map((c,d)=>{var h=ar(ar({},o),{},{x1:c,y1:e,x2:c,y2:e+n,key:"line-".concat(d),index:d});return g.createElement(WY,{option:r,lineItemProps:h,key:"line-".concat(d)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function IDe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=t;if(!l||!e||!e.length||o==null)return null;var c=o.map(h=>Math.round(h+i-i)).sort((h,f)=>h-f);i!==c[0]&&c.unshift(0);var d=c.map((h,f)=>{var m=!c[f+1],y=m?i+s-h:c[f+1]-h;if(y<=0)return null;var v=f%e.length;return g.createElement("rect",{key:"react-".concat(f),y:h,x:r,height:y,width:a,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function PDe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=t;if(!e||!n||!n.length)return null;var c=l.map(h=>Math.round(h+i-i)).sort((h,f)=>h-f);i!==c[0]&&c.unshift(0);var d=c.map((h,f)=>{var m=!c[f+1],y=m?i+s-h:c[f+1]-h;if(y<=0)return null;var v=f%n.length;return g.createElement("rect",{key:"react-".concat(f),x:h,y:a,width:y,height:o,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var CDe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return NG(vk(ar(ar(ar({},xk),n),{},{ticks:IG(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},jDe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return NG(vk(ar(ar(ar({},xk),n),{},{ticks:IG(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},kDe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Xt.grid};function Tg(t){var e=GC(),n=KC(),r=zG(),i=ar(ar({},Gt(t,kDe)),{},{x:ie(t.x)?t.x:r.left,y:ie(t.y)?t.y:r.top,width:ie(t.width)?t.width:r.width,height:ie(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:c,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:m}=i,y=Un(),v=se(I=>$3(I,"xAxis",a,y)),x=se(I=>$3(I,"yAxis",s,y));if(!Fa(c)||!Fa(d)||!ie(o)||!ie(l))return null;var b=i.verticalCoordinatesGenerator||CDe,w=i.horizontalCoordinatesGenerator||jDe,{horizontalPoints:_,verticalPoints:T}=i;if((!_||!_.length)&&typeof w=="function"){var N=f&&f.length,j=w({yAxis:x?ar(ar({},x),{},{ticks:N?f:x.ticks}):void 0,width:e??c,height:n??d,offset:r},N?!0:h);hb(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(_=j)}if((!T||!T.length)&&typeof b=="function"){var A=m&&m.length,S=b({xAxis:v?ar(ar({},v),{},{ticks:A?m:v.ticks}):void 0,width:e??c,height:n??d,offset:r},A?!0:h);hb(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(T=S)}return g.createElement(jr,{zIndex:i.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(TDe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),g.createElement(IDe,Sc({},i,{horizontalPoints:_})),g.createElement(PDe,Sc({},i,{verticalPoints:T})),g.createElement(ADe,Sc({},i,{offset:r,horizontalPoints:_,xAxis:v,yAxis:x})),g.createElement(NDe,Sc({},i,{offset:r,verticalPoints:T,xAxis:v,yAxis:x}))))}Tg.displayName="CartesianGrid";var YY=(t,e,n,r)=>Ha(t,"xAxis",e,r),QY=(t,e,n,r)=>qa(t,"xAxis",e,r),XY=(t,e,n,r)=>Ha(t,"yAxis",n,r),ZY=(t,e,n,r)=>qa(t,"yAxis",n,r),ODe=U([Ae,YY,XY,QY,ZY],(t,e,n,r,i)=>Ya(t,"xAxis")?Sl(e,r,!1):Sl(n,i,!1)),RDe=(t,e,n,r,i)=>i;function DDe(t){return t.type==="line"}var MDe=U([ky,RDe],(t,e)=>t.filter(DDe).find(n=>n.id===e)),LDe=U([Ae,YY,XY,QY,ZY,MDe,ODe,Iy],(t,e,n,r,i,a,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=o;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null)){var{dataKey:h,data:f}=a,m;if(f!=null&&f.length>0?m=f:m=l==null?void 0:l.slice(c,d+1),m!=null)return rMe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:h,bandSize:s,displayedData:m})}});function JY(t){var e=ou(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var VDe=["id"],UDe=["type","layout","connectNulls","needClip","shape"],zDe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Ag(){return Ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ag.apply(null,arguments)}function zL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zL(Object(n),!0).forEach(function(r){BDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BDe(t,e,n){return(e=FDe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FDe(t){var e=$De(t,"string");return typeof e=="symbol"?e:e+""}function $De(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wk(t,e){if(t==null)return{};var n,r,i=qDe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qDe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var HDe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Vl(n,e),payload:t}]};function GDe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Vl(s,e),hide:o,type:t.tooltipType,color:t.stroke,unit:l}}}var eQ=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function KDe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var WDe=(t,e,n)=>{var r=n.reduce((h,f)=>h+f);if(!r)return eQ(e,t);for(var i=Math.floor(t/r),a=t%r,s=e-t,o=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>a){o=[...n.slice(0,l),a-c];break}var d=o.length%2===0?[0,s]:[s];return[...KDe(n,i),...o,...d].map(h=>"".concat(h,"px")).join(", ")};function YDe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:s}=r,{id:o}=r,l=wk(r,VDe),c=Pr(l);return g.createElement(VY,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:c,needClip:s,clipPathId:e})}function QDe(t){var{showLabels:e,children:n,points:r}=t,i=g.useMemo(()=>r==null?void 0:r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return pa(pa({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return g.createElement(nk,{value:e?i:void 0},n)}function BL(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:s,layout:o,connectNulls:l,needClip:c,shape:d}=a,h=wk(a,UDe),f=pa(pa({},fr(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(e,")"):void 0,points:r,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return g.createElement(g.Fragment,null,(r==null?void 0:r.length)>1&&g.createElement(ck,Ag({shapeType:"curve",option:d},f,{pathRef:n})),g.createElement(YDe,{points:r,clipPathId:e,props:a}))}function XDe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function ZDe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:h,animateNewValues:f,width:m,height:y,onAnimationEnd:v,onAnimationStart:x}=n,b=i.current,w=hf(n,"recharts-line-"),[_,T]=g.useState(!1),N=!_,j=g.useCallback(()=>{typeof v=="function"&&v(),T(!1)},[v]),A=g.useCallback(()=>{typeof x=="function"&&x(),T(!0)},[x]),S=XDe(r.current),I=a.current;return g.createElement(QDe,{points:s,showLabels:N},n.children,g.createElement(df,{animationId:w,begin:c,duration:d,isActive:l,easing:h,onAnimationEnd:j,onAnimationStart:A,key:w},C=>{var k=ze(I,S+I,C),R=Math.min(k,S),O;if(l)if(o){var M="".concat(o).split(/[,\s]+/gim).map($=>parseFloat($));O=WDe(R,S,M)}else O=eQ(S,R);else O=o==null?void 0:String(o);if(b){var H=b.length/s.length,F=C===1?s:s.map(($,Q)=>{var ne=Math.floor(Q*H);if(b[ne]){var de=b[ne];return pa(pa({},$),{},{x:ze(de.x,$.x,C),y:ze(de.y,$.y,C)})}return f?pa(pa({},$),{},{x:ze(m*2,$.x,C),y:ze(y/2,$.y,C)}):pa(pa({},$),{},{x:$.x,y:$.y})});return i.current=F,g.createElement(BL,{props:n,points:F,clipPathId:e,pathRef:r,strokeDasharray:O})}return C>0&&S>0&&(i.current=s,a.current=R),g.createElement(BL,{props:n,points:s,clipPathId:e,pathRef:r,strokeDasharray:O})}),g.createElement(X_,{label:n.label}))}function JDe(t){var{clipPathId:e,props:n}=t,r=g.useRef(null),i=g.useRef(0),a=g.useRef(null);return g.createElement(ZDe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var eMe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Xe(t.payload,e)}};class tMe extends g.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:c,height:d,id:h,needClip:f,zIndex:m}=this.props;if(e)return null;var y=ke("recharts-line",i),v=h,{r:x,strokeWidth:b}=JY(n),w=lk(n),_=x*2+b;return g.createElement(jr,{zIndex:m},g.createElement($t,{className:y},f&&g.createElement("defs",null,g.createElement(gk,{clipPathId:v,xAxisId:a,yAxisId:s}),!w&&g.createElement("clipPath",{id:"clipPath-dots-".concat(v)},g.createElement("rect",{x:l-_/2,y:o-_/2,width:c+_,height:d+_}))),g.createElement(BY,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:eMe,errorBarOffset:0},g.createElement(JDe,{props:this.props,clipPathId:v}))),g.createElement(bN,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var tQ={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!so.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Xt.line};function nMe(t){var e=Gt(t,tQ),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:c,isAnimationActive:d,label:h,legendType:f,xAxisId:m,yAxisId:y,id:v}=e,x=wk(e,zDe),{needClip:b}=f1(m,y),w=h1(),_=uf(),T=Un(),N=se(C=>LDe(C,m,y,T,v));if(_!=="horizontal"&&_!=="vertical"||N==null||w==null)return null;var{height:j,width:A,x:S,y:I}=w;return g.createElement(tMe,Ag({},x,{id:v,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:c,label:h,legendType:f,xAxisId:m,yAxisId:y,points:N,layout:_,height:j,width:A,left:S,top:I,needClip:b}))}function rMe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=t;return l.map((c,d)=>{var h=Xe(c,s);if(e==="horizontal"){var f=db({axis:n,ticks:i,bandSize:o,entry:c,index:d}),m=xt(h)?null:r.scale(h);return{x:f,y:m,value:h,payload:c}}var y=xt(h)?null:n.scale(h),v=db({axis:r,ticks:a,bandSize:o,entry:c,index:d});return y==null||v==null?null:{x:y,y:v,value:h,payload:c}}).filter(Boolean)}function iMe(t){var e=Gt(t,tQ),n=Un();return g.createElement(d1,{id:e.id,type:"line"},r=>g.createElement(g.Fragment,null,g.createElement(fk,{legendPayload:HDe(e)}),g.createElement(u1,{fn:GDe,args:e}),g.createElement(mk,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),g.createElement(nMe,Ag({},e,{id:r}))))}var R0=g.memo(iMe);R0.displayName="Line";var nQ=(t,e,n,r)=>Ha(t,"xAxis",e,r),rQ=(t,e,n,r)=>qa(t,"xAxis",e,r),iQ=(t,e,n,r)=>Ha(t,"yAxis",n,r),aQ=(t,e,n,r)=>qa(t,"yAxis",n,r),aMe=U([Ae,nQ,iQ,rQ,aQ],(t,e,n,r,i)=>Ya(t,"xAxis")?Sl(e,r,!1):Sl(n,i,!1)),sMe=(t,e,n,r,i)=>i,sQ=U([ky,sMe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),oMe=(t,e,n,r,i)=>{var a,s=sQ(t,e,n,r,i);if(s!=null){var o=Ae(t),l=Ya(o,"xAxis"),c;if(l?c=wg(t,"yAxis",n,r):c=wg(t,"xAxis",e,r),c!=null){var{stackId:d}=s,h=z_(s);if(!(d==null||h==null)){var f=(a=c[d])===null||a===void 0?void 0:a.stackedData;return f==null?void 0:f.find(m=>m.key===h)}}}},lMe=U([Ae,nQ,iQ,rQ,aQ,oMe,Iy,aMe,sQ,PIe],(t,e,n,r,i,a,s,o,l,c)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:f}=s;if(!(l==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{data:m}=l,y;if(m&&m.length>0?y=m:y=d==null?void 0:d.slice(h,f+1),y!=null)return NMe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:h,areaSettings:l,stackedData:a,displayedData:y,chartBaseValue:c,bandSize:o})}}),cMe=["id"],uMe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function zc(){return zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zc.apply(null,arguments)}function oQ(t,e){if(t==null)return{};var n,r,i=dMe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function FL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Td(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FL(Object(n),!0).forEach(function(r){hMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hMe(t,e,n){return(e=fMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fMe(t){var e=mMe(t,"string");return typeof e=="symbol"?e:e+""}function mMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ub(t,e){return t&&t!=="none"?t:e}var pMe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:Ub(r,i),value:Vl(n,e),payload:t}]};function gMe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Vl(s,e),hide:o,type:t.tooltipType,color:Ub(r,a),unit:l}}}function yMe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:a,dataKey:s}=r,o=Pr(r);return g.createElement(VY,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:o,needClip:i,clipPathId:e})}function vMe(t){var{showLabels:e,children:n,points:r}=t,i=r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Td(Td({},l),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return g.createElement(nk,{value:e?i:void 0},n)}function $L(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:a}=t,{layout:s,type:o,stroke:l,connectNulls:c,isRange:d}=a,{id:h}=a,f=oQ(a,cMe),m=Pr(f),y=fr(f);return g.createElement(g.Fragment,null,(e==null?void 0:e.length)>1&&g.createElement($t,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},g.createElement(Bd,zc({},y,{id:h,points:e,connectNulls:c,type:o,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),l!=="none"&&g.createElement(Bd,zc({},m,{className:"recharts-area-curve",layout:s,type:o,connectNulls:c,fill:"none",points:e})),l!=="none"&&d&&g.createElement(Bd,zc({},m,{className:"recharts-area-curve",layout:s,type:o,connectNulls:c,fill:"none",points:n}))),g.createElement(yMe,{points:e,props:f,clipPathId:i}))}function xMe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].y,s=r[r.length-1].y;if(!_t(a)||!_t(s))return null;var o=e*Math.abs(a-s),l=Math.max(...r.map(c=>c.x||0));return ie(n)?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(...n.map(c=>c.x||0),l)),ie(l)?g.createElement("rect",{x:0,y:a<s?a:a-o,width:l+(i?parseInt("".concat(i),10):1),height:Math.floor(o)}):null}function bMe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].x,s=r[r.length-1].x;if(!_t(a)||!_t(s))return null;var o=e*Math.abs(a-s),l=Math.max(...r.map(c=>c.y||0));return ie(n)?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(...n.map(c=>c.y||0),l)),ie(l)?g.createElement("rect",{x:a<s?a:a-o,y:0,width:o,height:Math.floor(l+(i?parseInt("".concat(i),10):1))}):null}function wMe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:a}=t;return n==="vertical"?g.createElement(xMe,{alpha:e,points:r,baseLine:i,strokeWidth:a}):g.createElement(bMe,{alpha:e,points:r,baseLine:i,strokeWidth:a})}function _Me(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=t,{points:s,baseLine:o,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:h,onAnimationStart:f,onAnimationEnd:m}=r,y=hf(r,"recharts-area-"),[v,x]=g.useState(!1),b=!v,w=g.useCallback(()=>{typeof m=="function"&&m(),x(!1)},[m]),_=g.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]),T=i.current,N=a.current;return g.createElement(vMe,{showLabels:b,points:s},r.children,g.createElement(df,{animationId:y,begin:c,duration:d,isActive:l,easing:h,onAnimationEnd:w,onAnimationStart:_,key:y},j=>{if(T){var A=T.length/s.length,S=j===1?s:s.map((C,k)=>{var R=Math.floor(k*A);if(T[R]){var O=T[R];return Td(Td({},C),{},{x:ze(O.x,C.x,j),y:ze(O.y,C.y,j)})}return C}),I;return ie(o)?I=ze(N,o,j):xt(o)||$i(o)?I=ze(N,0,j):I=o.map((C,k)=>{var R=Math.floor(k*A);if(Array.isArray(N)&&N[R]){var O=N[R];return Td(Td({},C),{},{x:ze(O.x,C.x,j),y:ze(O.y,C.y,j)})}return C}),j>0&&(i.current=S,a.current=I),g.createElement($L,{points:S,baseLine:I,needClip:e,clipPathId:n,props:r})}return j>0&&(i.current=s,a.current=o),g.createElement($t,null,l&&g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(n)},g.createElement(wMe,{alpha:j,points:s,baseLine:o,layout:r.layout,strokeWidth:r.strokeWidth}))),g.createElement($t,{clipPath:"url(#animationClipPath-".concat(n,")")},g.createElement($L,{points:s,baseLine:o,needClip:e,clipPathId:n,props:r})))}),g.createElement(X_,{label:r.label}))}function EMe(t){var{needClip:e,clipPathId:n,props:r}=t,i=g.useRef(null),a=g.useRef();return g.createElement(_Me,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class SMe extends g.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:a,left:s,needClip:o,xAxisId:l,yAxisId:c,width:d,height:h,id:f,baseLine:m,zIndex:y}=this.props;if(e)return null;var v=ke("recharts-area",i),x=f,{r:b,strokeWidth:w}=JY(n),_=lk(n),T=b*2+w;return g.createElement(jr,{zIndex:y},g.createElement($t,{className:v},o&&g.createElement("defs",null,g.createElement(gk,{clipPathId:x,xAxisId:l,yAxisId:c}),!_&&g.createElement("clipPath",{id:"clipPath-dots-".concat(x)},g.createElement("rect",{x:s-T/2,y:a-T/2,width:d+T,height:h+T}))),g.createElement(EMe,{needClip:o,clipPathId:x,props:this.props})),g.createElement(bN,{points:r,mainColor:Ub(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(m)&&g.createElement(bN,{points:m,mainColor:Ub(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var lQ={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!so.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0,zIndex:Xt.area};function TMe(t){var e,n=Gt(t,lQ),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,fill:c,fillOpacity:d,hide:h,isAnimationActive:f,legendType:m,stroke:y,xAxisId:v,yAxisId:x}=n,b=oQ(n,uMe),w=uf(),_=nY(),{needClip:T}=f1(v,x),N=Un(),{points:j,isRange:A,baseLine:S}=(e=se(M=>lMe(M,v,x,N,t.id)))!==null&&e!==void 0?e:{},I=h1();if(w!=="horizontal"&&w!=="vertical"||I==null||_!=="AreaChart"&&_!=="ComposedChart")return null;var{height:C,width:k,x:R,y:O}=I;return!j||!j.length?null:g.createElement(SMe,zc({},b,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:S,connectNulls:o,dot:l,fill:c,fillOpacity:d,height:C,hide:h,layout:w,isAnimationActive:f,isRange:A,legendType:m,needClip:T,points:j,stroke:y,width:k,left:R,top:O,xAxisId:v,yAxisId:x}))}var AMe=(t,e,n,r,i)=>{var a=n??e;if(ie(a))return a;var s=t==="horizontal"?i:r,o=s.scale.domain();if(s.type==="number"){var l=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return a==="dataMin"?c:a==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return a==="dataMin"?o[0]:a==="dataMax"?o[1]:o[0]};function NMe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:s,xAxis:o,yAxis:l,displayedData:c,dataStartIndex:d,xAxisTicks:h,yAxisTicks:f,bandSize:m}=t,y=i&&i.length,v=AMe(a,s,n,o,l),x=a==="horizontal",b=!1,w=c.map((T,N)=>{var j;y?j=i[d+N]:(j=Xe(T,r),Array.isArray(j)?b=!0:j=[v,j]);var A=j[1]==null||y&&!e&&Xe(T,r)==null;return x?{x:db({axis:o,ticks:h,bandSize:m,entry:T,index:N}),y:A?null:l.scale(j[1]),value:j,payload:T}:{x:A?null:o.scale(j[1]),y:db({axis:l,ticks:f,bandSize:m,entry:T,index:N}),value:j,payload:T}}),_;return y||b?_=w.map(T=>{var N=Array.isArray(T.value)?T.value[0]:null;return x?{x:T.x,y:N!=null&&T.y!=null?l.scale(N):null,payload:T.payload}:{x:N!=null?o.scale(N):null,y:T.y,payload:T.payload}}):_=x?l.scale(v):o.scale(v),{points:w,baseLine:_,isRange:b}}function IMe(t){var e=Gt(t,lQ),n=Un();return g.createElement(d1,{id:e.id,type:"area"},r=>g.createElement(g.Fragment,null,g.createElement(fk,{legendPayload:pMe(e)}),g.createElement(u1,{fn:gMe,args:e}),g.createElement(mk,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:PG(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),g.createElement(TMe,zc({},e,{id:r}))))}var EN=g.memo(IMe);EN.displayName="Area";var PMe=["dangerouslySetInnerHTML","ticks"],CMe=["id"],jMe=["domain"],kMe=["domain"];function SN(){return SN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SN.apply(null,arguments)}function zb(t,e){if(t==null)return{};var n,r,i=OMe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function OMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function RMe(t){var e=ct();return g.useLayoutEffect(()=>(e(uOe(t)),()=>{e(dOe(t))}),[t,e]),null}var DMe=t=>{var{xAxisId:e,className:n}=t,r=se(qC),i=Un(),a="xAxis",s=se(x=>xf(x,a,e,i)),o=se(x=>kW(x,a,e,i)),l=se(x=>IW(x,e)),c=se(x=>A2e(x,e)),d=se(x=>lW(x,e));if(l==null||c==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:f}=t,m=zb(t,PMe),{id:y}=d,v=zb(d,CMe);return g.createElement(bk,SN({},m,v,{scale:s,x:c.x,y:c.y,width:l.width,height:l.height,className:ke("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:o,axisType:a}))},MMe={allowDataOverflow:Wr.allowDataOverflow,allowDecimals:Wr.allowDecimals,allowDuplicatedCategory:Wr.allowDuplicatedCategory,height:Wr.height,hide:!1,mirror:Wr.mirror,orientation:Wr.orientation,padding:Wr.padding,reversed:Wr.reversed,scale:Wr.scale,tickCount:Wr.tickCount,type:Wr.type,xAxisId:0},LMe=t=>{var e,n,r,i,a,s=Gt(t,MMe);return g.createElement(g.Fragment,null,g.createElement(RMe,{interval:(e=s.interval)!==null&&e!==void 0?e:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),g.createElement(DMe,s))},VMe=(t,e)=>{var{domain:n}=t,r=zb(t,jMe),{domain:i}=e,a=zb(e,kMe);return Rh(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Rh({domain:n},{domain:i}):!1},Ng=g.memo(LMe,VMe);Ng.displayName="XAxis";var UMe=["dangerouslySetInnerHTML","ticks"],zMe=["id"],BMe=["domain"],FMe=["domain"];function TN(){return TN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TN.apply(null,arguments)}function Bb(t,e){if(t==null)return{};var n,r,i=$Me(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $Me(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qMe(t){var e=ct();return g.useLayoutEffect(()=>(e(hOe(t)),()=>{e(fOe(t))}),[t,e]),null}var HMe=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=g.useRef(null),s=g.useRef(null),o=se(qC),l=Un(),c=ct(),d="yAxis",h=se(N=>xf(N,d,e,l)),f=se(N=>PW(N,e)),m=se(N=>I2e(N,e)),y=se(N=>kW(N,d,e,l)),v=se(N=>cW(N,e));if(g.useLayoutEffect(()=>{if(!(r!=="auto"||!f||tk(i)||g.isValidElement(i)||v==null)){var N=a.current;if(N){var j=N.getCalculatedWidth();Math.round(f.width)!==Math.round(j)&&c(mOe({id:e,width:j}))}}},[y,f,c,i,e,r,v]),f==null||m==null||v==null)return null;var{dangerouslySetInnerHTML:x,ticks:b}=t,w=Bb(t,UMe),{id:_}=v,T=Bb(v,zMe);return g.createElement(bk,TN({},w,T,{ref:a,labelRef:s,scale:h,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:ke("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:y,axisType:d}))},GMe={allowDataOverflow:Yr.allowDataOverflow,allowDecimals:Yr.allowDecimals,allowDuplicatedCategory:Yr.allowDuplicatedCategory,hide:!1,mirror:Yr.mirror,orientation:Yr.orientation,padding:Yr.padding,reversed:Yr.reversed,scale:Yr.scale,tickCount:Yr.tickCount,type:Yr.type,width:Yr.width,yAxisId:0},KMe=t=>{var e,n,r,i,a,s=Gt(t,GMe);return g.createElement(g.Fragment,null,g.createElement(qMe,{interval:(e=s.interval)!==null&&e!==void 0?e:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),g.createElement(HMe,s))},WMe=(t,e)=>{var{domain:n}=t,r=Bb(t,BMe),{domain:i}=e,a=Bb(e,FMe);return Rh(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Rh({domain:n},{domain:i}):!1},Ig=g.memo(KMe,WMe);Ig.displayName="YAxis";var YMe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy=g;function QMe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var XMe=typeof Object.is=="function"?Object.is:QMe,ZMe=Vy.useSyncExternalStore,JMe=Vy.useRef,e4e=Vy.useEffect,t4e=Vy.useMemo,n4e=Vy.useDebugValue;YMe.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var a=JMe(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=t4e(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var y=s.value;if(i(y,m))return h=y}return h=m}if(y=h,XMe(d,m))return y;var v=r(m);return i!==void 0&&i(y,v)?(d=m,y):(d=m,h=v)}var c=!1,d,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var o=ZMe(t,a[0],a[1]);return e4e(function(){s.hasValue=!0,s.value=o},[o]),n4e(o),o};function r4e(t){t()}function i4e(){let t=null,e=null;return{clear(){t=null,e=null},notify(){r4e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var qL={notify(){},get:()=>[]};function a4e(t,e){let n,r=qL,i=0,a=!1;function s(v){d();const x=r.subscribe(v);let b=!1;return()=>{b||(b=!0,x(),h())}}function o(){r.notify()}function l(){y.onStateChange&&y.onStateChange()}function c(){return a}function d(){i++,n||(n=t.subscribe(l),r=i4e())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=qL)}function f(){a||(a=!0,d())}function m(){a&&(a=!1,h())}const y={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>r};return y}var s4e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",o4e=s4e(),l4e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",c4e=l4e(),u4e=()=>o4e||c4e?g.useLayoutEffect:g.useEffect,d4e=u4e(),_S=Symbol.for("react-redux-context"),ES=typeof globalThis<"u"?globalThis:{};function h4e(){if(!g.createContext)return{};const t=ES[_S]??(ES[_S]=new Map);let e=t.get(g.createContext);return e||(e=g.createContext(null),t.set(g.createContext,e)),e}var f4e=h4e();function m4e(t){const{children:e,context:n,serverState:r,store:i}=t,a=g.useMemo(()=>{const l=a4e(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=g.useMemo(()=>i.getState(),[i]);d4e(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||f4e;return g.createElement(o.Provider,{value:a},e)}var p4e=m4e,g4e=(t,e)=>e,_k=U([g4e,Ae,sW,Sn,YW,uo,VPe,_n],HPe),Ek=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},cQ=qi("mouseClick"),uQ=_y();uQ.startListening({actionCreator:cQ,effect:(t,e)=>{var n=t.payload,r=_k(e.getState(),Ek(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(B2e({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var AN=qi("mouseMove"),dQ=_y();dQ.startListening({actionCreator:AN,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=Gj(r,r.tooltip.settings.shared),a=_k(r,Ek(n));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?e.dispatch(zW({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(UW()))}});var HL={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},hQ=Gr({name:"rootProps",initialState:HL,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:HL.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue}}}),y4e=hQ.reducer,{updateOptions:v4e}=hQ.actions,fQ=Gr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:x4e}=fQ.actions,b4e=fQ.reducer,mQ=qi("keyDown"),pQ=qi("focus"),Sk=_y();Sk.startListening({actionCreator:mQ,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(Kj(i,wf(n))),o=uo(n);if(a==="Enter"){var l=Cb(n,"axis","hover",String(i.index));e.dispatch(mN({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var c=k2e(n),d=c==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,f=s+h*d;if(!(o==null||f>=o.length||f<0)){var m=Cb(n,"axis","hover",String(f));e.dispatch(mN({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});Sk.startListening({actionCreator:pQ,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=Cb(n,"axis","hover",String(a));e.dispatch(mN({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Ei=qi("externalEvent"),gQ=_y();gQ.startListening({actionCreator:Ei,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:EPe(n),activeDataKey:JW(n),activeIndex:Tl(n),activeLabel:ZW(n),activeTooltipIndex:Tl(n),isTooltipActive:SPe(n)};t.payload.handler(r,t.payload.reactEvent)}}});var w4e=U([bf],t=>t.tooltipItemPayloads),_4e=U([w4e,Dy,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(o=>o.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,n);return s}}}),yQ=qi("touchMove"),vQ=_y();vQ.startListening({actionCreator:yQ,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=Gj(r,r.tooltip.settings.shared);if(i==="axis"){var a=_k(r,Ek({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(zW({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=n.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(jG),d=(s=l.getAttribute(kG))!==null&&s!==void 0?s:void 0,h=_4e(e.getState(),c,d);e.dispatch(VW({activeDataKey:d,activeIndex:c,activeCoordinate:h}))}}}});var E4e=tG({brush:MRe,cartesianAxis:pOe,chartData:wCe,errorBars:ROe,graphicalItems:Ake,layout:xEe,legend:dSe,options:gCe,polarAxis:$je,polarOptions:b4e,referenceElements:$Re,rootProps:y4e,tooltip:F2e,zIndex:aCe}),S4e=function(e){return q1e({reducer:E4e,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([uQ.middleware,dQ.middleware,Sk.middleware,gQ.middleware,vQ.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(fG({type:"raf"}))},devTools:so.devToolsEnabled})};function xQ(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Un(),a=g.useRef(null);if(i)return n;a.current==null&&(a.current=S4e(e));var s=MC;return g.createElement(p4e,{context:s,store:a.current},n)}function bQ(t){var{layout:e,margin:n}=t,r=ct(),i=Un();return g.useEffect(()=>{i||(r(gEe(e)),r(pEe(n)))},[r,i,e,n]),null}function wQ(t){var e=ct();return g.useEffect(()=>{e(v4e(t))},[e,t]),null}function GL(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=DY("".concat(r).concat(e)),a=ct();return g.useLayoutEffect(()=>(a(rCe({zIndex:e,elementId:i,isPanorama:n})),()=>{a(iCe({zIndex:e,isPanorama:n}))}),[a,e,i,n]),g.createElement("g",{id:i})}function KL(t){var{children:e,isPanorama:n}=t,r=se(KPe);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return g.createElement(g.Fragment,null,i.map(s=>g.createElement(GL,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>g.createElement(GL,{key:s,zIndex:s,isPanorama:n})))}var T4e=["children"];function A4e(t,e){if(t==null)return{};var n,r,i=N4e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function N4e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Fb(){return Fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fb.apply(null,arguments)}var I4e={width:"100%",height:"100%",display:"block"},P4e=g.forwardRef((t,e)=>{var n=GC(),r=KC(),i=qG();if(!Fa(n)||!Fa(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=t,c,d;return s!=null&&(typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),g.createElement(bC,Fb({},s,{title:o,desc:l,role:d,tabIndex:c,width:n,height:r,style:I4e,ref:e}),a)}),C4e=t=>{var{children:e}=t,n=se(I_);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return g.createElement(bC,{width:r,height:i,x:s,y:a},e)},WL=g.forwardRef((t,e)=>{var{children:n}=t,r=A4e(t,T4e),i=Un();return i?g.createElement(C4e,null,g.createElement(KL,{isPanorama:!0},n)):g.createElement(P4e,Fb({ref:e},r),g.createElement(KL,{isPanorama:!1},n))});function j4e(){var t=ct(),[e,n]=g.useState(null),r=se(MEe);return g.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;_t(a)&&a!==r&&t(vEe(a))}},[e,t,r]),n}function YL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k4e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YL(Object(n),!0).forEach(function(r){O4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O4e(t,e,n){return(e=R4e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R4e(t){var e=D4e(t,"string");return typeof e=="symbol"?e:e+""}function D4e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mu(){return mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mu.apply(null,arguments)}var M4e=()=>(CCe(),null);function $b(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var L4e=g.forwardRef((t,e)=>{var n,r,i=g.useRef(null),[a,s]=g.useState({containerWidth:$b((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:$b((r=t.style)===null||r===void 0?void 0:r.height)}),o=g.useCallback((c,d)=>{s(h=>{var f=Math.round(c),m=Math.round(d);return h.containerWidth===f&&h.containerHeight===m?h:{containerWidth:f,containerHeight:m}})},[]),l=g.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:h}=c.getBoundingClientRect();o(d,h);var f=y=>{var{width:v,height:x}=y[0].contentRect;o(v,x)},m=new ResizeObserver(f);m.observe(c),i.current=m}},[e,o]);return g.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[o]),g.createElement(g.Fragment,null,g.createElement(C_,{width:a.containerWidth,height:a.containerHeight}),g.createElement("div",mu({ref:l},t)))}),V4e=g.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=g.useState({containerWidth:$b(n),containerHeight:$b(r)}),s=g.useCallback((l,c)=>{a(d=>{var h=Math.round(l),f=Math.round(c);return d.containerWidth===h&&d.containerHeight===f?d:{containerWidth:h,containerHeight:f}})},[]),o=g.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:c,height:d}=l.getBoundingClientRect();s(c,d)}},[e,s]);return g.createElement(g.Fragment,null,g.createElement(C_,{width:i.containerWidth,height:i.containerHeight}),g.createElement("div",mu({ref:o},t)))}),U4e=g.forwardRef((t,e)=>{var{width:n,height:r}=t;return g.createElement(g.Fragment,null,g.createElement(C_,{width:n,height:r}),g.createElement("div",mu({ref:e},t)))}),z4e=g.forwardRef((t,e)=>{var{width:n,height:r}=t;return zs(n)||zs(r)?g.createElement(V4e,mu({},t,{ref:e})):g.createElement(U4e,mu({},t,{ref:e}))});function B4e(t){return t===!0?L4e:z4e}var F4e=g.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:m,onTouchMove:y,onTouchStart:v,style:x,width:b,responsive:w,dispatchTouchEvents:_=!0}=t,T=g.useRef(null),N=ct(),[j,A]=g.useState(null),[S,I]=g.useState(null),C=j4e(),k=HC(),R=(k==null?void 0:k.width)>0?k.width:b,O=(k==null?void 0:k.height)>0?k.height:i,M=g.useCallback(W=>{C(W),typeof e=="function"&&e(W),A(W),I(W),W!=null&&(T.current=W)},[C,e,A,I]),H=g.useCallback(W=>{N(cQ(W)),N(Ei({handler:a,reactEvent:W}))},[N,a]),F=g.useCallback(W=>{N(AN(W)),N(Ei({handler:c,reactEvent:W}))},[N,c]),$=g.useCallback(W=>{N(UW()),N(Ei({handler:d,reactEvent:W}))},[N,d]),Q=g.useCallback(W=>{N(AN(W)),N(Ei({handler:h,reactEvent:W}))},[N,h]),ne=g.useCallback(()=>{N(pQ())},[N]),de=g.useCallback(W=>{N(mQ(W.key))},[N]),ut=g.useCallback(W=>{N(Ei({handler:s,reactEvent:W}))},[N,s]),Et=g.useCallback(W=>{N(Ei({handler:o,reactEvent:W}))},[N,o]),An=g.useCallback(W=>{N(Ei({handler:l,reactEvent:W}))},[N,l]),Ze=g.useCallback(W=>{N(Ei({handler:f,reactEvent:W}))},[N,f]),Jn=g.useCallback(W=>{N(Ei({handler:v,reactEvent:W}))},[N,v]),Qa=g.useCallback(W=>{_&&N(yQ(W)),N(Ei({handler:y,reactEvent:W}))},[N,_,y]),Nn=g.useCallback(W=>{N(Ei({handler:m,reactEvent:W}))},[N,m]),Fl=B4e(w);return g.createElement(lY.Provider,{value:j},g.createElement(tH.Provider,{value:S},g.createElement(Fl,{width:R??(x==null?void 0:x.width),height:O??(x==null?void 0:x.height),className:ke("recharts-wrapper",r),style:k4e({position:"relative",cursor:"default",width:R,height:O},x),onClick:H,onContextMenu:ut,onDoubleClick:Et,onFocus:ne,onKeyDown:de,onMouseDown:An,onMouseEnter:F,onMouseLeave:$,onMouseMove:Q,onMouseUp:Ze,onTouchEnd:Nn,onTouchMove:Qa,onTouchStart:Jn,ref:M},g.createElement(M4e,null),n)))}),$4e=["width","height","responsive","children","className","style","compact","title","desc"];function q4e(t,e){if(t==null)return{};var n,r,i=H4e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function H4e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _Q=g.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:l,title:c,desc:d}=t,h=q4e(t,$4e),f=Pr(h);return l?g.createElement(g.Fragment,null,g.createElement(C_,{width:n,height:r}),g.createElement(WL,{otherAttributes:f,title:c,desc:d},a)):g.createElement(F4e,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},g.createElement(WL,{otherAttributes:f,title:c,desc:d,ref:e},g.createElement(HRe,null,a)))});function NN(){return NN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NN.apply(null,arguments)}var G4e={top:5,right:5,bottom:5,left:5},K4e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:G4e,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Tk=g.forwardRef(function(e,n){var r,i=Gt(e.categoricalChartProps,K4e),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=e,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return g.createElement(xQ,{preloadedState:{options:d},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:a},g.createElement(qY,{chartData:c.data}),g.createElement(bQ,{layout:i.layout,margin:i.margin}),g.createElement(wQ,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),g.createElement(_Q,NN({},i,{ref:n})))}),W4e=["axis"],Y4e=g.forwardRef((t,e)=>g.createElement(Tk,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:W4e,tooltipPayloadSearcher:Y_,categoricalChartProps:t,ref:e})),Q4e=["axis","item"],EQ=g.forwardRef((t,e)=>g.createElement(Tk,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Q4e,tooltipPayloadSearcher:Y_,categoricalChartProps:t,ref:e}));function X4e(t){var e=ct();return g.useEffect(()=>{e(x4e(t))},[e,t]),null}var Z4e=["layout"];function IN(){return IN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IN.apply(null,arguments)}function J4e(t,e){if(t==null)return{};var n,r,i=e5e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function e5e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var t5e={top:5,right:5,bottom:5,left:5},n5e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:t5e,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},r5e=g.forwardRef(function(e,n){var r,i=Gt(e.categoricalChartProps,n5e),{layout:a}=i,s=J4e(i,Z4e),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d}=e,h={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return g.createElement(xQ,{preloadedState:{options:h},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:o},g.createElement(qY,{chartData:i.data}),g.createElement(bQ,{layout:a,margin:i.margin}),g.createElement(wQ,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),g.createElement(X4e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),g.createElement(_Q,IN({},s,{ref:n})))}),i5e=["item"],a5e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},s5e=g.forwardRef((t,e)=>{var n=Gt(t,a5e);return g.createElement(r5e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:i5e,tooltipPayloadSearcher:Y_,categoricalChartProps:n,ref:e})}),o5e=["axis"],l5e=g.forwardRef((t,e)=>g.createElement(Tk,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:o5e,tooltipPayloadSearcher:Y_,categoricalChartProps:t,ref:e}));const c5e=({data:t,showOrders:e=!0,type:n="area"})=>{const r=({active:i,payload:a,label:s})=>i&&a&&a.length?u.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border border-gray-200",children:[u.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:s}),u.jsxs("p",{className:"text-sm text-blue-600",children:["Revenue: ",a[0].value.toLocaleString("en-US",{minimumFractionDigits:2})]}),e&&a[1]&&u.jsxs("p",{className:"text-sm text-green-600",children:["Orders: ",a[1].value]}),a[2]&&u.jsxs("p",{className:"text-sm text-purple-600",children:["Avg Order: ",a[2].value.toLocaleString("en-US",{minimumFractionDigits:2})]})]}):null;return n==="area"?u.jsx(mg,{width:"100%",height:"100%",children:u.jsxs(l5e,{data:t,children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),u.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]}),e&&u.jsxs("linearGradient",{id:"colorOrders",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.3}),u.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]})]}),u.jsx(Tg,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),u.jsx(Ng,{dataKey:"date",stroke:"#6B7280",style:{fontSize:"12px"}}),u.jsx(Ig,{stroke:"#6B7280",style:{fontSize:"12px"},tickFormatter:i=>`${i.toLocaleString()}`}),u.jsx(Eg,{content:u.jsx(r,{}),cursor:!1,wrapperStyle:{outline:"none"}}),u.jsx(Ch,{wrapperStyle:{paddingTop:"20px"},iconType:"circle"}),u.jsx(EN,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenue)",name:"Revenue"}),e&&u.jsx(EN,{type:"monotone",dataKey:"orders",stroke:"#10B981",strokeWidth:2,fillOpacity:1,fill:"url(#colorOrders)",name:"Orders"})]})}):u.jsx(mg,{width:"100%",height:"100%",children:u.jsxs(Y4e,{data:t,children:[u.jsx(Tg,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),u.jsx(Ng,{dataKey:"date",stroke:"#6B7280",style:{fontSize:"12px"}}),u.jsx(Ig,{stroke:"#6B7280",style:{fontSize:"12px"},tickFormatter:i=>`${i.toLocaleString()}`}),u.jsx(Eg,{content:u.jsx(r,{}),cursor:!1,wrapperStyle:{outline:"none"}}),u.jsx(Ch,{wrapperStyle:{paddingTop:"20px"},iconType:"circle"}),u.jsx(R0,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",strokeWidth:3,dot:{fill:"#3B82F6",r:4},activeDot:{r:6},name:"Revenue"}),e&&u.jsx(R0,{type:"monotone",dataKey:"orders",stroke:"#10B981",strokeWidth:3,dot:{fill:"#10B981",r:4},activeDot:{r:6},name:"Orders"}),u.jsx(R0,{type:"monotone",dataKey:"averageOrderValue",stroke:"#8B5CF6",strokeWidth:2,strokeDasharray:"5 5",dot:{fill:"#8B5CF6",r:3},name:"Avg Order Value"})]})})},QL=["#3B82F6","#10B981","#F59E0B","#8B5CF6","#EC4899","#14B8A6","#F97316","#6366F1","#EF4444","#06B6D4"],u5e=({data:t,showRevenue:e=!0})=>{const n=({active:r,payload:i,label:a})=>r&&i&&i.length?u.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border border-gray-200",children:[u.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:a}),u.jsxs("p",{className:"text-sm text-blue-600",children:["Quantity Sold: ",i[0].value]}),e&&i[1]&&u.jsxs("p",{className:"text-sm text-green-600",children:["Revenue: ",i[1].value.toLocaleString("en-US",{minimumFractionDigits:2})]})]}):null;return t.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[u.jsx(Km,{className:"w-12 h-12 mb-3 opacity-50"}),u.jsx("p",{children:"No sales data available"})]}):u.jsx(mg,{width:"100%",height:"100%",children:u.jsxs(EQ,{data:t,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[u.jsx(Tg,{strokeDasharray:"3 3",stroke:"#E5E7EB",horizontal:!0}),u.jsx(Ng,{type:"number",stroke:"#6B7280",style:{fontSize:"12px"}}),u.jsx(Ig,{type:"category",dataKey:"productName",stroke:"#6B7280",style:{fontSize:"11px"},width:120,tickFormatter:r=>r.length>15?r.substring(0,15)+"...":r}),u.jsx(Eg,{content:u.jsx(n,{}),cursor:!1,wrapperStyle:{outline:"none"}}),u.jsx(Ch,{wrapperStyle:{paddingTop:"10px"},iconType:"circle"}),u.jsx(Sg,{dataKey:"quantity",name:"Quantity Sold",radius:[0,8,8,0],children:t.map((r,i)=>u.jsx(ku,{fill:QL[i%QL.length]},`cell-${i}`))}),e&&u.jsx(Sg,{dataKey:"revenue",name:"Revenue ()",fill:"#10B981",radius:[0,8,8,0],opacity:.7})]})})},XL={"Coffee Based":"#8B4513","Non-Coffee Based":"#D2691E","Matcha Series":"#90EE90",Refreshments:"#87CEEB",Meals:"#FFD700",Other:"#9CA3AF"},d5e=({data:t})=>{const e=({active:a,payload:s})=>{if(a&&s&&s.length){const o=s[0].payload,l=(o.revenue/o.total*100).toFixed(1);return u.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border border-gray-200",children:[u.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:o.category}),u.jsxs("p",{className:"text-sm text-blue-600",children:["Revenue: ",o.revenue.toLocaleString("en-US",{minimumFractionDigits:2})]}),u.jsxs("p",{className:"text-sm text-green-600",children:["Orders: ",o.orders]}),u.jsxs("p",{className:"text-sm text-purple-600",children:["Share: ",l,"%"]})]})}return null},n=({cx:a,cy:s,midAngle:o,innerRadius:l,outerRadius:c,percent:d})=>{const h=Math.PI/180,f=l+(c-l)*.5,m=a+f*Math.cos(-o*h),y=s+f*Math.sin(-o*h);return d<.05?null:u.jsx("text",{x:m,y,fill:"white",textAnchor:m>a?"start":"end",dominantBaseline:"central",className:"font-semibold text-sm",children:`${(d*100).toFixed(0)}%`})};if(t.length===0)return u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[u.jsx(cl,{className:"w-12 h-12 mb-3 opacity-50"}),u.jsx("p",{children:"No category data available"})]});const r=t.reduce((a,s)=>a+s.revenue,0),i=t.map(a=>({...a,total:r}));return u.jsx(mg,{width:"100%",height:"100%",children:u.jsxs(s5e,{children:[u.jsx(LY,{data:i,cx:"50%",cy:"50%",labelLine:!1,label:n,outerRadius:100,fill:"#8884d8",dataKey:"revenue",animationBegin:0,animationDuration:800,children:i.map((a,s)=>u.jsx(ku,{fill:XL[a.category]||XL.Other},`cell-${s}`))}),u.jsx(Eg,{content:u.jsx(e,{}),wrapperStyle:{outline:"none"}}),u.jsx(Ch,{verticalAlign:"bottom",height:36,iconType:"circle",formatter:(a,s)=>{const o=(s.payload.revenue/r*100).toFixed(1);return`${a} (${o}%)`}})]})})},h5e=({data:t})=>{const e=({active:a,payload:s,label:o})=>a&&s&&s.length?u.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border border-gray-200",children:[u.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:n(o)}),u.jsxs("p",{className:"text-sm text-blue-600",children:["Orders: ",s[0].value]}),u.jsxs("p",{className:"text-sm text-green-600",children:["Revenue: ",s[1].value.toLocaleString("en-US",{minimumFractionDigits:2})]})]}):null,n=a=>{const s=a>=12?"PM":"AM";return`${a===0?12:a>12?a-12:a}:00 ${s}`},r=(a,s)=>{const o=a/s;return o>.7?"#EF4444":o>.4?"#F59E0B":"#3B82F6"};if(t.length===0)return u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[u.jsx(wu,{className:"w-12 h-12 mb-3 opacity-50"}),u.jsx("p",{children:"No peak hours data available"})]});const i=Math.max(...t.map(a=>a.orders));return u.jsx(mg,{width:"100%",height:"100%",children:u.jsxs(EQ,{data:t,children:[u.jsx(Tg,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),u.jsx(Ng,{dataKey:"hour",stroke:"#6B7280",style:{fontSize:"11px"},tickFormatter:n,interval:0,angle:-45,textAnchor:"end",height:70}),u.jsx(Ig,{stroke:"#6B7280",style:{fontSize:"12px"}}),u.jsx(Eg,{content:u.jsx(e,{}),cursor:!1,wrapperStyle:{outline:"none"}}),u.jsx(Ch,{wrapperStyle:{paddingTop:"10px"},iconType:"circle"}),u.jsx(Sg,{dataKey:"orders",name:"Orders",radius:[8,8,0,0],children:t.map((a,s)=>u.jsx(ku,{fill:r(a.orders,i)},`cell-orders-${s}`))}),u.jsx(Sg,{dataKey:"revenue",name:"Revenue ()",fill:"#10B981",radius:[8,8,0,0],opacity:.7})]})})},f5e=()=>{const[t,e]=g.useState("today"),{salesData:n,topProducts:r,categorySales:i,peakHours:a,isLoading:s}=vwe(t),o=[{value:"today",label:"Today",icon:gd},{value:"week",label:"This Week",icon:gd},{value:"month",label:"This Month",icon:gd},{value:"year",label:"This Year",icon:gd}],l=n.reduce((h,f)=>h+f.revenue,0),c=n.reduce((h,f)=>h+f.orders,0),d=c>0?l/c:0;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800 sm:text-2xl",children:"Sales Overview"}),u.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 sm:pb-0",children:o.map(h=>{const f=h.icon;return u.jsxs("button",{onClick:()=>e(h.value),className:`
                  flex flex-shrink-0 items-center gap-2 px-3 py-2 rounded-lg font-medium transition-all text-sm sm:px-4
                  ${t===h.value?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}
                `,children:[u.jsx(f,{className:"w-4 h-4"}),u.jsx("span",{className:"whitespace-nowrap",children:h.label})]},h.value)})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsx(ge,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-blue-700 mb-1",children:"Total Revenue"}),u.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["",l.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),u.jsx("div",{className:"p-3 bg-blue-200 rounded-lg",children:u.jsx(Km,{className:"w-6 h-6 text-blue-700"})})]})}),u.jsx(ge,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-green-700 mb-1",children:"Total Orders"}),u.jsx("p",{className:"text-2xl font-bold text-green-900",children:c})]}),u.jsx("div",{className:"p-3 bg-green-200 rounded-lg",children:u.jsx(cl,{className:"w-6 h-6 text-green-700"})})]})}),u.jsx(ge,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-purple-700 mb-1",children:"Avg Order Value"}),u.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:["",d.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),u.jsx("div",{className:"p-3 bg-purple-200 rounded-lg",children:u.jsx(v9,{className:"w-6 h-6 text-purple-700"})})]})})]}),u.jsxs(ge,{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Km,{className:"w-5 h-5 text-blue-600"}),u.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Revenue & Orders Trend"})]}),u.jsx("div",{className:"h-80",children:s?u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[u.jsx(Km,{className:"w-12 h-12 mb-3 opacity-50"}),u.jsx("p",{children:"No sales data available for this period"})]}):u.jsx(c5e,{data:n,showOrders:!0,type:"area"})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(ge,{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(cl,{className:"w-5 h-5 text-green-600"}),u.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Top Selling Products"})]}),u.jsx("div",{className:"h-96",children:s?u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):u.jsx(u5e,{data:r,showRevenue:!0})})]}),u.jsxs(ge,{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(qte,{className:"w-5 h-5 text-purple-600"}),u.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Sales by Category"})]}),u.jsx("div",{className:"h-96",children:s?u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):u.jsx(d5e,{data:i})})]})]}),(t==="today"||t==="week")&&a.length>0&&u.jsxs(ge,{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(wu,{className:"w-5 h-5 text-orange-600"}),u.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Peak Hours Analysis"})]}),u.jsx("div",{className:"h-80",children:s?u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):u.jsx(h5e,{data:a})})]})]})},m5e=()=>{const[t,e]=g.useState({revenueToday:0,ordersToday:0,newCustomersToday:0,pendingOrders:0}),[n,r]=g.useState(!0);return g.useEffect(()=>{const i=new Date,a=new Date(i.getFullYear(),i.getMonth(),i.getDate()),s=new Date(i.getFullYear(),i.getMonth(),i.getDate()+1),o=me.collection("orders").where("timestamp",">=",a).where("timestamp","<",s),l=o.onSnapshot(y=>{let v=0;const x=y.size;y.forEach(b=>{const w=b.data();w.status==="completed"&&(v+=w.totalAmount)}),e(b=>({...b,revenueToday:v,ordersToday:x}))},y=>console.error("Error fetching today's orders:",y)),c=me.collection("users").where("createdAt",">=",a).where("createdAt","<",s),d=c.onSnapshot(y=>{e(v=>({...v,newCustomersToday:y.size}))},y=>console.error("Error fetching new users:",y)),h=me.collection("orders").where("status","in",["waiting","preparing"]),f=h.onSnapshot(y=>{e(v=>({...v,pendingOrders:y.size}))},y=>console.error("Error fetching pending orders:",y)),m=[o.get(),c.get(),h.get()];return Promise.all(m).finally(()=>{r(!1)}),()=>{l(),d(),f()}},[]),u.jsxs("div",{children:[u.jsx("h1",{className:"mb-6 font-display text-3xl font-bold text-gray-800",children:"Admin Dashboard"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[u.jsx($o,{title:"Total Revenue Today",value:`${t.revenueToday.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,Icon:x9,isLoading:n,color:"blue"}),u.jsx($o,{title:"Orders Today",value:t.ordersToday,Icon:ci,isLoading:n,color:"green"}),u.jsx($o,{title:"New Customers Today",value:t.newCustomersToday,Icon:Rp,isLoading:n,color:"yellow"}),u.jsx($o,{title:"Pending Orders",value:t.pendingOrders,Icon:LI,isLoading:n,color:"purple"})]}),u.jsx("div",{className:"mt-8",children:u.jsx(f5e,{})})]})},p5e={waiting:{text:"Start Preparing",nextStatus:"preparing",color:"bg-blue-500 hover:bg-blue-600"},preparing:{text:"Mark as Ready",nextStatus:"ready",color:"bg-green-500 hover:bg-green-600"},ready:{text:"Complete Order",nextStatus:"completed",color:"bg-primary-600 hover:bg-primary-700"}},g5e=({order:t,onUpdateStatus:e})=>{const n=p5e[t.status],r=u_(t.timestamp,{addSuffix:!0});return u.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm transition-shadow hover:shadow-md",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"font-mono text-sm font-bold text-primary-700",children:t.orderNumber}),u.jsxs("p",{className:"font-display text-lg font-bold text-gray-800",children:["",t.totalAmount.toFixed(2)]})]}),u.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ks,{className:"h-4 w-4"}),u.jsx("span",{children:t.customerName})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(wu,{className:"h-4 w-4"}),u.jsx("span",{children:r})]})]}),u.jsx("div",{className:"mt-3 border-t pt-2",children:u.jsx("ul",{className:"text-xs text-gray-500",children:t.orderItems.map((i,a)=>u.jsxs("li",{children:[i.quantity,"x ",i.productName]},a))})}),n&&u.jsxs("button",{onClick:()=>e(t.id,n.nextStatus),className:`mt-4 flex w-full items-center justify-center gap-2 rounded-full px-4 py-2 text-sm font-semibold text-white shadow-sm transition-colors ${n.color}`,children:[u.jsx("span",{children:n.text}),n.nextStatus==="completed"?u.jsx(Kc,{className:"h-4 w-4"}):u.jsx(Gc,{className:"h-4 w-4"})]})]})},y5e={yellow:"border-yellow-400",blue:"border-blue-400",green:"border-green-400"},SS=({title:t,orders:e,onUpdateStatus:n,color:r})=>u.jsxs("div",{className:"flex flex-col rounded-lg bg-gray-100 p-4",children:[u.jsxs("h2",{className:`mb-4 border-b-4 pb-2 font-display text-xl font-bold text-gray-700 ${y5e[r]}`,children:[t," ",u.jsxs("span",{className:"text-base font-medium text-gray-500",children:["(",e.length,")"]})]}),u.jsxs("div",{className:"flex-grow space-y-4 overflow-y-auto",children:[u.jsx(fy,{children:e.map(i=>u.jsx(za.div,{layout:!0,initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},children:u.jsx(g5e,{order:i,onUpdateStatus:n})},i.id))}),e.length===0&&u.jsx("div",{className:"flex h-32 items-center justify-center text-sm text-gray-500",children:"No orders in this stage."})]})]}),v5e=()=>{const[t,e]=g.useState([]),[n,r]=g.useState(!0),{showToast:i}=pr();g.useEffect(()=>{const d=me.collection("orders").where("status","in",["waiting","preparing","ready"]).onSnapshot(h=>{const f=[];h.forEach(m=>{f.push({id:m.id,...m.data(),timestamp:m.data().timestamp.toDate()})}),f.sort((m,y)=>m.timestamp.getTime()-y.timestamp.getTime()),e(f),r(!1)},h=>{console.error("Error fetching real-time orders: ",h),r(!1)});return()=>d()},[]);const a=async(c,d)=>{let h=null;try{if(await me.runTransaction(async f=>{const m=me.collection("orders").doc(c),y=await f.get(m);if(!y.exists)throw new Error("Order does not exist!");const v=y.data(),x=v.status,b=new Map,w=new Map;if(x==="waiting"&&d==="preparing"){const T=v.orderItems.map(j=>me.collection("products").doc(j.productId)),N=await Promise.all(T.map(j=>f.get(j)));for(let j=0;j<v.orderItems.length;j++){const A=v.orderItems[j],S=N[j];if(S.exists&&S.data().recipe)for(const I of S.data().recipe){const C=me.collection("ingredients").doc(I.ingredientId),k=I.quantity*A.quantity;b.set(C.path,C),w.set(C.path,(w.get(C.path)||0)+k)}}}const _=await Promise.all(Array.from(b.values()).map(T=>f.get(T)));if(d==="completed"&&x!=="completed"){const T=me.collection("users").doc(v.userId),N=await f.get(T);if(N.exists){const j=N.data();let A=0;for(const M of v.orderItems)M.productName.includes("(Grande)")?A+=4*M.quantity:M.productName.includes("(Venti)")&&(A+=5*M.quantity);let S=1;const I=j.tier||"bronze";I==="silver"&&(S=1.5),I==="gold"&&(S=2);const C=Math.floor(A*S),R=(j.lifetimePoints||0)+C;let O=I;O==="bronze"&&R>=kA.silver.min&&(O="silver"),O==="silver"&&R>=kA.gold.min&&(O="gold"),h={userId:v.userId,pointsEarned:C,newTier:O,totalAmount:v.totalAmount,orderNumber:v.orderNumber}}}if(x==="waiting"&&d==="preparing"){const T=new Map(_.map(N=>[N.ref.path,N]));for(const[N,j]of w.entries()){const A=T.get(N);if(!A||!A.exists){const S=N.split("/").pop();throw new Error(`Ingredient '${S}' not found.`)}if(A.data().stock<j)throw new Error(`Insufficient stock for '${A.data().name}'.`)}}if(x==="waiting"&&d==="preparing")for(const[T,N]of w.entries()){const j=me.doc(T);f.update(j,{stock:et.firestore.FieldValue.increment(-N)})}f.update(m,{status:d})}),h)try{const f={id:`rh-${Date.now()}`,type:"earned",points:h.pointsEarned,description:`Order #${h.orderNumber}`,date:new Date};await me.collection("users").doc(h.userId).update({totalOrders:et.firestore.FieldValue.increment(1),totalSpent:et.firestore.FieldValue.increment(h.totalAmount),currentPoints:et.firestore.FieldValue.increment(h.pointsEarned),lifetimePoints:et.firestore.FieldValue.increment(h.pointsEarned),tier:h.newTier,rewardsHistory:et.firestore.FieldValue.arrayUnion(f)})}catch(f){console.error("Failed to update user rewards:",f),i("Order completed, but failed to update user points (Permission Error).");return}}catch(f){console.error("Error updating order status and stock: ",f),i(f.message||"Failed to update order. Please check inventory.")}},s=g.useMemo(()=>t.filter(c=>c.status==="waiting"),[t]),o=g.useMemo(()=>t.filter(c=>c.status==="preparing"),[t]),l=g.useMemo(()=>t.filter(c=>c.status==="ready"),[t]);return n?u.jsx("div",{className:"flex h-full items-center justify-center",children:u.jsx(Ot,{className:"h-12 w-12 animate-spin text-primary-600"})}):u.jsxs("div",{children:[u.jsx("h1",{className:"mb-6 font-display text-3xl font-bold text-gray-800",children:"Live Order Queue"}),t.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border-2 border-dashed bg-gray-50 p-12 text-center",children:[u.jsx(ci,{className:"h-16 w-16 text-gray-400"}),u.jsx("h2",{className:"mt-4 text-xl font-semibold text-gray-700",children:"No Active Orders"}),u.jsx("p",{className:"mt-1 text-gray-500",children:"New orders will appear here in real-time."})]}):u.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[u.jsx(SS,{title:"Waiting",orders:s,onUpdateStatus:a,color:"yellow"}),u.jsx(SS,{title:"Preparing",orders:o,onUpdateStatus:a,color:"blue"}),u.jsx(SS,{title:"Ready for Pickup",orders:l,onUpdateStatus:a,color:"green"})]})]})},x5e=({isOpen:t,onClose:e,onConfirm:n})=>u.jsxs(El,{isOpen:t,onClose:e,title:"Confirm Logout",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-red-100",children:u.jsx(Op,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),u.jsx("h3",{className:"mt-3 text-lg font-medium text-gray-900",children:"Are you sure?"}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"You will be returned to the login page."})]}),u.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[u.jsx(Ve,{variant:"ghost",onClick:e,className:"w-full",children:"Cancel"}),u.jsxs(Ve,{variant:"danger",onClick:n,className:"w-full",children:[u.jsx(hx,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]}),TS=[{to:"/admin",text:"Dashboard",icon:Rne},{to:"/admin/queue",text:"Queue Management",icon:ane},{to:"/admin/inventory",text:"Inventory",icon:cl},{to:"/admin/products",text:"Products",icon:ci},{to:"/admin/feedback",text:"Feedback",icon:Gh},{to:"/admin/analytics",text:"Analytics",icon:LI},{to:"/admin/settings",text:"Settings",icon:T9}],b5e=()=>{const{logout:t}=Hr(),e=Ki(),n=Gi(),[r,i]=g.useState(!1),[a,s]=g.useState(!1),o=n.pathname,c=(TS.find(y=>y.to===o)||TS[0]).text,d=()=>{i(!0)},h=async()=>{try{await t(),e("/auth/login")}catch(y){console.error("Failed to log out:",y)}finally{i(!1)}},f=()=>{s(!1)};g.useEffect(()=>{f()},[e]),g.useEffect(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[a]);const m=({isMobile:y=!1})=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-8 flex items-center justify-between gap-2 px-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(vn,{className:"h-8 w-8 text-primary-400"}),u.jsx("span",{className:"text-xl font-bold text-white",children:"Admin Panel"})]}),y&&u.jsx("button",{onClick:f,className:"rounded-md p-2 text-gray-300 transition hover:bg-gray-700 hover:text-white md:hidden","aria-label":"Close menu",children:u.jsx(Ys,{className:"h-6 w-6"})})]}),u.jsx("nav",{className:"flex-grow",children:u.jsx("ul",{children:TS.map(({to:v,text:x,icon:b})=>u.jsx("li",{className:"mb-1",children:u.jsxs(Si,{to:v,end:v==="/admin",onClick:y?f:void 0,className:({isActive:w})=>`flex items-center gap-3 rounded-md px-3 py-2 transition-colors ${w?"bg-primary-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[u.jsx(b,{className:"h-5 w-5"}),u.jsx("span",{children:x})]})},v))})}),u.jsx("div",{className:"mt-4 border-t border-gray-700 pt-4",children:u.jsxs("button",{onClick:d,className:"flex w-full items-center gap-3 rounded-md px-3 py-2 text-left text-gray-300 transition-colors hover:bg-red-500/80 hover:text-white",children:[u.jsx(hx,{className:"h-5 w-5"}),u.jsx("span",{children:"Logout"})]})}),u.jsx("div",{className:"mt-4 text-center text-xs text-gray-400",children:u.jsxs("p",{children:[" ",new Date().getFullYear()," Rush Coffee"]})})]});return u.jsxs("div",{className:"flex h-screen bg-gray-100",children:[u.jsx("aside",{className:"hidden w-64 flex-shrink-0 bg-gray-800 p-4 text-white md:flex md:flex-col",children:u.jsx(m,{})}),u.jsxs("div",{className:`fixed inset-0 z-50 transform transition-opacity duration-300 md:hidden ${a?"opacity-100":"opacity-0 pointer-events-none"}`,children:[u.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:f,"aria-hidden":"true"}),u.jsx("aside",{className:`fixed top-0 left-0 flex h-full w-64 flex-col bg-gray-800 p-4 text-white shadow-2xl transition-transform duration-300 ease-in-out ${a?"translate-x-0":"-translate-x-full"}`,role:"dialog","aria-modal":"true","aria-label":"Mobile navigation menu",children:u.jsx(m,{isMobile:!0})})]}),u.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[u.jsx("header",{className:"border-b bg-white shadow-sm",children:u.jsxs("div",{className:"flex h-16 items-center justify-between px-4 sm:px-6",children:[u.jsx("button",{onClick:()=>s(!0),className:"rounded-md p-1.5 text-gray-700 transition hover:bg-gray-100 md:hidden","aria-label":"Open menu","aria-expanded":a,children:u.jsx(zI,{className:"h-5 w-5"})}),u.jsx("h1",{className:"text-lg font-semibold text-gray-800 sm:text-xl",children:c}),u.jsx("div",{className:"w-10 md:w-0"})]})}),u.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:u.jsx(u9,{})})]}),u.jsx(x5e,{isOpen:r,onClose:()=>i(!1),onConfirm:h})]})},w5e=({ingredient:t,onClose:e,onUpdate:n})=>{const[r,i]=g.useState("add"),[a,s]=g.useState(""),o=l=>{l.preventDefault(),typeof a=="number"&&a>=0&&n(t.id,a,r)};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:e,children:u.jsxs("div",{className:"w-full max-w-md rounded-lg bg-white p-6 shadow-xl",onClick:l=>l.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h2",{className:"font-display text-xl font-bold text-gray-800",children:["Update Stock: ",t.name]}),u.jsx("button",{onClick:e,className:"rounded-full p-1 text-gray-500 hover:bg-gray-100",children:u.jsx(Ys,{})})]}),u.jsx("div",{className:"mt-4 text-sm",children:u.jsxs("p",{children:["Current Stock: ",u.jsxs("span",{className:"font-bold",children:[t.stock.toLocaleString()," ",t.unit]})]})}),u.jsxs("form",{onSubmit:o,className:"mt-6",children:[u.jsxs("div",{className:"flex gap-2 rounded-full bg-gray-100 p-1",children:[u.jsx("button",{type:"button",onClick:()=>i("add"),className:`w-full rounded-full py-2 text-sm font-semibold transition-colors ${r==="add"?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:"Add Stock"}),u.jsx("button",{type:"button",onClick:()=>i("set"),className:`w-full rounded-full py-2 text-sm font-semibold transition-colors ${r==="set"?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:"Set New Total"})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:r==="add"?`Amount to Add (${t.unit})`:`New Total Stock (${t.unit})`}),u.jsx("input",{type:"number",id:"amount",value:a,onChange:l=>s(l.target.value===""?"":Number(l.target.value)),min:"0",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0,autoFocus:!0})]}),u.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:e,className:"rounded-full bg-gray-200 px-4 py-2 text-sm font-semibold text-gray-800 hover:bg-gray-300",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"flex items-center gap-2 rounded-full bg-primary-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-700 disabled:bg-primary-400",disabled:a===""||a<0,children:[u.jsx(qg,{className:"h-4 w-4"}),"Update Stock"]})]})]})]})})},_5e=({isOpen:t,onClose:e,onAdd:n})=>{const[r,i]=g.useState({name:"",category:"Coffee & Beans",stock:0,unit:"g",lowStockThreshold:10}),[a,s]=g.useState(!1),o=c=>{const{name:d,value:h,type:f}=c.target;i(m=>({...m,[d]:f==="number"?Math.max(0,Number(h)):h}))},l=async c=>{if(c.preventDefault(),!!r.name.trim()){s(!0);try{await n(r)}catch(d){console.error("Failed to add ingredient",d)}finally{s(!1)}}};return u.jsx(El,{isOpen:t,onClose:e,title:"Add New Ingredient",children:u.jsxs("form",{onSubmit:l,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Ingredient Name"}),u.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0,autoFocus:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),u.jsxs("select",{id:"category",name:"category",value:r.category,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0,children:[u.jsx("option",{value:"Coffee & Beans",children:"Coffee & Beans"}),u.jsx("option",{value:"Dairy",children:"Dairy"}),u.jsx("option",{value:"Sauces",children:"Sauces"}),u.jsx("option",{value:"Syrups",children:"Syrups"}),u.jsx("option",{value:"Specialty",children:"Specialty"}),u.jsx("option",{value:"Matcha & Tea",children:"Matcha & Tea"}),u.jsx("option",{value:"Fruits & Purees",children:"Fruits & Purees"}),u.jsx("option",{value:"Beverages",children:"Beverages"}),u.jsx("option",{value:"Frozen",children:"Frozen"}),u.jsx("option",{value:"Proteins",children:"Proteins"}),u.jsx("option",{value:"Dry Goods",children:"Dry Goods"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-700",children:"Initial Stock"}),u.jsx("input",{type:"number",id:"stock",name:"stock",value:r.stock,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0,min:"0"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700",children:"Unit"}),u.jsxs("select",{id:"unit",name:"unit",value:r.unit,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[u.jsx("option",{value:"g",children:"Grams (g)"}),u.jsx("option",{value:"ml",children:"Milliliters (ml)"}),u.jsx("option",{value:"pcs",children:"Pieces (pcs)"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"lowStockThreshold",className:"block text-sm font-medium text-gray-700",children:"Low Stock Threshold"}),u.jsx("input",{type:"number",id:"lowStockThreshold",name:"lowStockThreshold",value:r.lowStockThreshold,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0,min:"0"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(Ve,{type:"button",variant:"ghost",onClick:e,children:"Cancel"}),u.jsxs(Ve,{type:"submit",disabled:a,children:[a?u.jsx(Ot,{className:"mr-2 h-4 w-4 animate-spin"}):u.jsx(qg,{className:"mr-2 h-4 w-4"}),"Save Ingredient"]})]})]})})},E5e=[{id:"espresso-shot",name:"Espresso Shot",category:"Coffee & Beans",stock:1e3,unit:"pcs",lowStockThreshold:100},{id:"coffee-beans",name:"Coffee Beans (Blend)",category:"Coffee & Beans",stock:1e4,unit:"g",lowStockThreshold:1e3},{id:"milk",name:"Milk",category:"Dairy",stock:2e4,unit:"ml",lowStockThreshold:2e3},{id:"condensed-milk",name:"Condensed Milk",category:"Dairy",stock:5e3,unit:"ml",lowStockThreshold:500},{id:"cream-cheese",name:"Cream Cheese",category:"Dairy",stock:3e3,unit:"g",lowStockThreshold:300},{id:"whipped-cream",name:"Whipped Cream",category:"Dairy",stock:2e3,unit:"ml",lowStockThreshold:200},{id:"chocolate-sauce",name:"Chocolate Sauce",category:"Sauces",stock:3e3,unit:"ml",lowStockThreshold:300},{id:"caramel-sauce",name:"Caramel Sauce",category:"Sauces",stock:3e3,unit:"ml",lowStockThreshold:300},{id:"brown-sugar-syrup",name:"Brown Sugar Syrup",category:"Syrups",stock:2500,unit:"ml",lowStockThreshold:250},{id:"vanilla-syrup",name:"Vanilla Syrup",category:"Syrups",stock:2e3,unit:"ml",lowStockThreshold:200},{id:"orange-syrup",name:"Orange Syrup",category:"Syrups",stock:1500,unit:"ml",lowStockThreshold:150},{id:"biscoff-spread",name:"Biscoff Spread",category:"Specialty",stock:2e3,unit:"g",lowStockThreshold:200},{id:"peanut-butter",name:"Peanut Butter",category:"Specialty",stock:2e3,unit:"g",lowStockThreshold:200},{id:"oreo-crumbs",name:"Oreo Cookie Crumbs",category:"Specialty",stock:3e3,unit:"g",lowStockThreshold:300},{id:"coffee-jelly",name:"Coffee Jelly",category:"Specialty",stock:2500,unit:"g",lowStockThreshold:250},{id:"red-velvet-powder",name:"Red Velvet Powder",category:"Specialty",stock:2e3,unit:"g",lowStockThreshold:200},{id:"matcha-powder",name:"Matcha Powder",category:"Matcha & Tea",stock:2e3,unit:"g",lowStockThreshold:200},{id:"strawberry-puree",name:"Strawberry Puree",category:"Fruits & Purees",stock:4e3,unit:"ml",lowStockThreshold:400},{id:"mango-puree",name:"Mango Puree",category:"Fruits & Purees",stock:4e3,unit:"ml",lowStockThreshold:400},{id:"blueberry-puree",name:"Blueberry Puree",category:"Fruits & Purees",stock:3e3,unit:"ml",lowStockThreshold:300},{id:"green-apple-puree",name:"Green Apple Puree",category:"Fruits & Purees",stock:3e3,unit:"ml",lowStockThreshold:300},{id:"lemon-juice",name:"Lemon Juice",category:"Fruits & Purees",stock:2e3,unit:"ml",lowStockThreshold:200},{id:"lychee-syrup",name:"Lychee Syrup",category:"Syrups",stock:2e3,unit:"ml",lowStockThreshold:200},{id:"mixed-berries",name:"Mixed Berries",category:"Fruits & Purees",stock:2e3,unit:"g",lowStockThreshold:200},{id:"soda-water",name:"Soda Water",category:"Beverages",stock:1e4,unit:"ml",lowStockThreshold:1e3},{id:"ice-cubes",name:"Ice Cubes",category:"Frozen",stock:5e4,unit:"g",lowStockThreshold:5e3},{id:"hot-water",name:"Hot Water",category:"Beverages",stock:99999,unit:"ml",lowStockThreshold:1e4},{id:"bacon-strips",name:"Bacon Strips",category:"Proteins",stock:200,unit:"pcs",lowStockThreshold:20},{id:"porkchop",name:"Porkchop",category:"Proteins",stock:150,unit:"pcs",lowStockThreshold:15},{id:"chicken-fillet",name:"Chicken Fillet",category:"Proteins",stock:200,unit:"pcs",lowStockThreshold:20},{id:"bread-crumbs",name:"Bread Crumbs",category:"Dry Goods",stock:3e3,unit:"g",lowStockThreshold:300},{id:"french-fries",name:"French Fries",category:"Frozen",stock:300,unit:"pcs",lowStockThreshold:30},{id:"white-sauce",name:"White Sauce",category:"Sauces",stock:2e3,unit:"ml",lowStockThreshold:200},{id:"cooking-oil",name:"Cooking Oil",category:"Dry Goods",stock:5e3,unit:"ml",lowStockThreshold:500}],S5e=()=>{const[t,e]=g.useState([]),[n,r]=g.useState(!0),[i,a]=g.useState(!1),[s,o]=g.useState(!1),[l,c]=g.useState(null),[d,h]=g.useState("All"),[f,m]=g.useState(""),[y,v]=g.useState("all"),{showToast:x}=pr(),b={All:{icon:cl,color:"text-gray-700",bgColor:"bg-gray-100"},"Coffee & Beans":{icon:ci,color:"text-amber-700",bgColor:"bg-amber-50"},Dairy:{icon:Xne,color:"text-blue-700",bgColor:"bg-blue-50"},Sauces:{icon:nD,color:"text-red-700",bgColor:"bg-red-50"},Syrups:{icon:nD,color:"text-purple-700",bgColor:"bg-purple-50"},Specialty:{icon:N9,color:"text-yellow-700",bgColor:"bg-yellow-50"},"Matcha & Tea":{icon:_9,color:"text-green-700",bgColor:"bg-green-50"},"Fruits & Purees":{icon:y9,color:"text-pink-700",bgColor:"bg-pink-50"},Beverages:{icon:Dte,color:"text-cyan-700",bgColor:"bg-cyan-50"},Frozen:{icon:A9,color:"text-blue-600",bgColor:"bg-blue-50"},Proteins:{icon:pne,color:"text-orange-700",bgColor:"bg-orange-50"},"Dry Goods":{icon:Vte,color:"text-stone-700",bgColor:"bg-stone-50"}},w=gc.useMemo(()=>{let M=t;return d!=="All"&&(M=M.filter(H=>H.category===d)),y==="lowStock"?M=M.filter(H=>H.stock>0&&H.stock<=H.lowStockThreshold):y==="outOfStock"&&(M=M.filter(H=>H.stock===0)),f.trim()&&(M=M.filter(H=>H.name.toLowerCase().includes(f.toLowerCase()))),M},[t,d,f,y]),_=["All","Coffee & Beans","Dairy","Sauces","Syrups","Specialty","Matcha & Tea","Fruits & Purees","Beverages","Frozen","Proteins","Dry Goods"],T=M=>M==="All"?t.length:t.filter(H=>H.category===M).length,N=M=>(M==="All"?t:t.filter(F=>F.category===M)).filter(F=>F.stock>0&&F.stock<=F.lowStockThreshold).length,j=M=>{v(M),h("All")},A=M=>M.stock===0?{text:"Out of Stock",color:"text-red-600",Icon:ST}:M.stock<=M.lowStockThreshold?{text:"Low Stock",color:"text-yellow-600",Icon:Op}:{text:"In Stock",color:"text-green-600",Icon:VI};g.useEffect(()=>{const M=async()=>{const F=me.collection("ingredients");if((await F.get()).empty){console.log("Seeding ingredients with specific IDs...");const de=me.batch();E5e.forEach(ut=>{const{id:Et,...An}=ut,Ze=F.doc(Et);de.set(Ze,An)}),await de.commit()}return me.collection("ingredients").orderBy("name","asc").onSnapshot(de=>{const ut=[];de.forEach(Et=>{ut.push({id:Et.id,...Et.data()})}),e(ut),r(!1)},de=>{console.error("Error fetching inventory: ",de),r(!1)})};let H;return M().then(F=>{F&&(H=F)}),()=>{H&&H()}},[]);const S=M=>{c(M),a(!0)},I=()=>{a(!1),c(null)},C=()=>{o(!0)},k=()=>{o(!1)},R=async M=>{try{const H=M.name.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();if((await me.collection("ingredients").doc(H).get()).exists){x(`Ingredient with name "${M.name}" already exists!`);return}const{id:$,...Q}=M;await me.collection("ingredients").doc(H).set(Q),x(`Ingredient "${M.name}" added successfully with ID: ${H}`),k()}catch(H){throw console.error("Error adding ingredient: ",H),x("Failed to add ingredient."),H}},O=async(M,H,F)=>{const $=me.collection("ingredients").doc(M);try{F==="add"?await $.update({stock:et.firestore.FieldValue.increment(H)}):await $.update({stock:H}),I()}catch(Q){console.error("Error updating stock: ",Q)}};return n?u.jsx("div",{className:"flex h-full items-center justify-center",children:u.jsx(Ot,{className:"h-12 w-12 animate-spin text-primary-600"})}):u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-6",children:[u.jsx("h1",{className:"font-display text-2xl font-bold text-gray-800 sm:text-3xl",children:"Inventory Management"}),u.jsxs("button",{onClick:C,className:"flex items-center justify-center gap-2 rounded-full bg-primary-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 sm:w-auto",children:[u.jsx($g,{className:"h-4 w-4"}),u.jsx("span",{children:"Add Ingredient"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 sm:grid-cols-3",children:[u.jsx("button",{onClick:()=>j("all"),className:`bg-white rounded-lg border p-4 shadow-sm transition-all hover:shadow-md cursor-pointer text-left ${y==="all"?"ring-2 ring-primary-600":""}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Ingredients"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t.length})]}),u.jsx(cl,{className:"h-10 w-10 text-primary-600 opacity-75"})]})}),u.jsx("button",{onClick:()=>j("lowStock"),className:`bg-white rounded-lg border p-4 shadow-sm transition-all hover:shadow-md cursor-pointer text-left ${y==="lowStock"?"ring-2 ring-yellow-600":""}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock Items"}),u.jsx("p",{className:"text-2xl font-bold text-yellow-600 mt-1",children:N("All")})]}),u.jsx(Op,{className:"h-10 w-10 text-yellow-600 opacity-75"})]})}),u.jsx("button",{onClick:()=>j("outOfStock"),className:`bg-white rounded-lg border p-4 shadow-sm transition-all hover:shadow-md cursor-pointer text-left col-span-2 sm:col-span-1 w-[calc(50%-0.5rem)] mx-auto sm:w-full ${y==="outOfStock"?"ring-2 ring-red-600":""}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Out of Stock"}),u.jsx("p",{className:"text-2xl font-bold text-red-600 mt-1",children:t.filter(M=>M.stock===0).length})]}),u.jsx(ST,{className:"h-10 w-10 text-red-600 opacity-75"})]})})]}),u.jsx("div",{className:"mb-6",children:u.jsxs("div",{className:"relative",children:[u.jsx(eh,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search ingredients...",value:f,onChange:M=>m(M.target.value),className:"w-full rounded-lg border bg-white pl-10 pr-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500 focus:ring-opacity-20"})]})}),u.jsx("div",{className:"mb-6 overflow-x-auto py-1",children:u.jsx("div",{className:"flex gap-2 pb-2 px-1",children:_.map(M=>{const H=T(M),F=N(M),$=d===M,Q=b[M],ne=Q.icon;return u.jsxs("button",{onClick:()=>{h(M),v("all")},className:`flex-shrink-0 flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold transition-all ${$?"bg-primary-600 text-white shadow-md scale-105":`${Q.bgColor} ${Q.color} hover:shadow-md hover:scale-102`}`,children:[u.jsx(ne,{className:"h-4 w-4"}),u.jsx("span",{children:M}),H>0&&u.jsx("span",{className:`inline-flex items-center justify-center min-w-[20px] h-5 px-1.5 rounded-full text-xs font-bold ${$?"bg-white bg-opacity-25":"bg-white bg-opacity-50"}`,children:H}),F>0&&u.jsxs("span",{className:"inline-flex items-center justify-center min-w-[20px] h-5 px-1.5 rounded-full text-xs font-bold bg-yellow-500 text-white",children:[" ",F]})]},M)})})}),u.jsx("div",{className:"overflow-x-auto rounded-lg border bg-white shadow-sm",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Ingredient"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Current Stock"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),u.jsx("th",{scope:"col",className:"relative px-6 py-3",children:u.jsx("span",{className:"sr-only",children:"Edit"})})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:w.map(M=>{const H=A(M);return u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:u.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.name})}),u.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:u.jsxs("div",{className:"text-sm text-gray-900",children:[M.stock.toLocaleString()," ",u.jsx("span",{className:"text-gray-500",children:M.unit})]})}),u.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:u.jsxs("div",{className:`inline-flex items-center gap-1 text-sm font-semibold ${H.color}`,children:[u.jsx(H.Icon,{className:"h-4 w-4"}),H.text]})}),u.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium",children:u.jsx("button",{onClick:()=>S(M),className:"text-primary-600 hover:text-primary-800",children:"Update Stock"})})]},M.id)})})]})}),i&&l&&u.jsx(w5e,{ingredient:l,onClose:I,onUpdate:O}),u.jsx(_5e,{isOpen:s,onClose:k,onAdd:R})]})},ZL={name:"",description:"",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:0},{name:"Venti",size:"22oz",price:0}],imageUrl:"",available:!0,stock:0,popular:!1,new:!1,displayOrder:99,recipe:[]},T5e=({isOpen:t,onClose:e,productToEdit:n})=>{var S,I;const[r,i]=g.useState(ZL),[a,s]=g.useState([]),[o,l]=g.useState(!1),{addProduct:c,updateProduct:d}=of(),{showToast:h}=pr(),[f,m]=g.useState(null),[y,v]=g.useState(null),x=g.useRef(null);g.useEffect(()=>{t&&(async()=>{const R=(await me.collection("ingredients").get()).docs.map(O=>({id:O.id,...O.data()}));s(R)})()},[t]),g.useEffect(()=>{n?(i(n),v(n.imageUrl)):(i(ZL),v(null)),m(null)},[n,t]);const b=C=>{if(C.target.files&&C.target.files[0]){const k=C.target.files[0];if(k.size>2*1024*1024){h("Image file should be less than 2MB.");return}m(k);const R=URL.createObjectURL(k);v(R)}},w=C=>{const{name:k,value:R,type:O}=C.target,M=C.target.checked;i(H=>({...H,[k]:O==="checkbox"?M:R}))},_=(C,k)=>{i(R=>({...R,sizes:R.sizes.map(O=>O.name===C?{...O,price:k}:O)}))},T=(C,k,R)=>{const O=[...r.recipe||[]];O[C][k]=R,i(M=>({...M,recipe:O}))},N=()=>{const C=[...r.recipe||[],{ingredientId:"",quantity:0}];i(k=>({...k,recipe:C}))},j=C=>{const k=[...r.recipe||[]];k.splice(C,1),i(R=>({...R,recipe:k}))},A=async C=>{C.preventDefault(),l(!0);let k=r.imageUrl;if(f)try{k=await(await _pe.ref(`product_images/${Date.now()}-${f.name}`).put(f)).ref.getDownloadURL()}catch(O){console.error("Error uploading image:",O),h("Failed to upload image. Please try again."),l(!1);return}const R={...r,imageUrl:k};try{if(n){const{id:O,...M}={...R,id:n.id};await d(O,M),h("Product updated successfully!")}else await c(R),h("Product added successfully!");e()}catch(O){console.error(O),h("An error occurred. Please try again.")}finally{l(!1)}};return u.jsx(El,{isOpen:t,onClose:e,title:n?"Edit Product":"Add New Product",size:"lg",children:u.jsxs("form",{onSubmit:A,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),u.jsx("input",{type:"text",name:"name",id:"name",value:r.name,onChange:w,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),u.jsxs("select",{name:"category",id:"category",value:r.category,onChange:w,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",children:[u.jsx("option",{children:"Coffee Based"}),u.jsx("option",{children:"Non-Coffee Based"}),u.jsx("option",{children:"Matcha Series"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),u.jsx("textarea",{name:"description",id:"description",value:r.description,onChange:w,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Image"}),u.jsxs("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md cursor-pointer hover:border-primary-500 bg-gray-50",onClick:()=>{var C;return(C=x.current)==null?void 0:C.click()},children:[u.jsx("input",{ref:x,id:"file-upload",name:"file-upload",type:"file",className:"sr-only",accept:"image/png, image/jpeg",onChange:b}),y?u.jsx("img",{src:y,alt:"Product preview",className:"max-h-40 rounded-lg object-contain"}):u.jsxs("div",{className:"space-y-1 text-center",children:[u.jsx(Nne,{className:"mx-auto h-12 w-12 text-gray-400"}),u.jsxs("p",{className:"text-sm text-gray-600",children:[u.jsx("span",{className:"font-medium text-primary-600",children:"Click to upload"})," or drag and drop"]}),u.jsx("p",{className:"text-xs text-gray-500",children:"PNG or JPG up to 2MB"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Grande Price ()"}),u.jsx("input",{type:"number",value:(S=r.sizes.find(C=>C.name==="Grande"))==null?void 0:S.price,onChange:C=>_("Grande",+C.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Venti Price ()"}),u.jsx("input",{type:"number",value:(I=r.sizes.find(C=>C.name==="Venti"))==null?void 0:I.price,onChange:C=>_("Venti",+C.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-700",children:"Stock"}),u.jsx("input",{type:"number",name:"stock",id:"stock",value:r.stock,onChange:C=>i(k=>({...k,stock:+C.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"displayOrder",className:"block text-sm font-medium text-gray-700",children:"Display Order"}),u.jsx("input",{type:"number",name:"displayOrder",id:"displayOrder",value:r.displayOrder,onChange:C=>i(k=>({...k,displayOrder:+C.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]})]}),u.jsxs("div",{className:"flex items-center space-x-6",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",name:"available",checked:r.available,onChange:w,className:"h-4 w-4 rounded"}),u.jsx("label",{className:"ml-2 text-sm",children:"Available"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",name:"popular",checked:r.popular,onChange:w,className:"h-4 w-4 rounded"}),u.jsx("label",{className:"ml-2 text-sm",children:"Popular"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",name:"new",checked:r.new,onChange:w,className:"h-4 w-4 rounded"}),u.jsx("label",{className:"ml-2 text-sm",children:"New"})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-md font-medium text-gray-800",children:"Recipe"}),u.jsxs("div",{className:"mt-2 space-y-2 rounded-md border bg-gray-50 p-3",children:[(r.recipe||[]).map((C,k)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{value:C.ingredientId,onChange:R=>T(k,"ingredientId",R.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm",children:[u.jsx("option",{value:"",disabled:!0,children:"Select Ingredient"}),a.map(R=>u.jsx("option",{value:R.id,children:R.name},R.id))]}),u.jsx("input",{type:"number",value:C.quantity,onChange:R=>T(k,"quantity",+R.target.value),className:"block w-32 rounded-md border-gray-300 shadow-sm",placeholder:"Qty"}),u.jsx(Ve,{type:"button",variant:"ghost",size:"sm",onClick:()=>j(k),className:"px-2",children:u.jsx(mw,{className:"h-4 w-4 text-red-500"})})]},k)),u.jsxs(Ve,{type:"button",variant:"secondary",size:"sm",onClick:N,children:[u.jsx($g,{className:"mr-1 h-4 w-4"}),"Add Ingredient"]})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[u.jsx(Ve,{type:"button",variant:"ghost",onClick:e,children:"Cancel"}),u.jsxs(Ve,{type:"submit",disabled:o,children:[o?u.jsx(Ot,{className:"mr-2 h-4 w-4 animate-spin"}):u.jsx(qg,{className:"mr-2 h-4 w-4"}),n?"Save Changes":"Add Product"]})]})]})})},A5e=()=>{const{products:t,isLoading:e,error:n,deleteProduct:r}=of(),[i,a]=g.useState(!1),[s,o]=g.useState(null),[l,c]=g.useState("All"),[d,h]=g.useState(""),[f,m]=g.useState("all"),{showToast:y}=pr(),v={All:{icon:cl,color:"text-gray-700",bgColor:"bg-gray-100"},"Coffee Based":{icon:ci,color:"text-amber-700",bgColor:"bg-amber-50"},"Non-Coffee Based":{icon:A9,color:"text-blue-700",bgColor:"bg-blue-50"},"Matcha Series":{icon:_9,color:"text-green-700",bgColor:"bg-green-50"},Refreshments:{icon:y9,color:"text-pink-700",bgColor:"bg-pink-50"},Meals:{icon:Ire,color:"text-orange-700",bgColor:"bg-orange-50"}},x=g.useMemo(()=>{let S=t;return l!=="All"&&(S=S.filter(I=>I.category===l)),f==="lowStock"?S=S.filter(I=>I.stock>0&&I.stock<=20):f==="outOfStock"?S=S.filter(I=>I.stock===0):f==="popular"&&(S=S.filter(I=>I.popular)),d.trim()&&(S=S.filter(I=>I.name.toLowerCase().includes(d.toLowerCase()))),S},[t,l,d,f]),b=["All","Coffee Based","Non-Coffee Based","Matcha Series","Refreshments","Meals"],w=S=>S==="All"?t.length:t.filter(I=>I.category===S).length,_=S=>(S==="All"?t:t.filter(C=>C.category===S)).filter(C=>C.stock>0&&C.stock<=20).length,T=S=>{m(S),c("All")},N=(S=null)=>{o(S),a(!0)},j=()=>{a(!1),o(null)},A=async(S,I)=>{if(window.confirm(`Are you sure you want to delete "${I}"?`))try{await r(S),y(`"${I}" has been deleted.`)}catch{y(`Failed to delete "${I}".`)}};return e?u.jsx("div",{className:"flex h-full items-center justify-center",children:u.jsx(Ot,{className:"h-12 w-12 animate-spin text-primary-600"})}):n?u.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-red-200 bg-red-50 py-20 text-center text-red-700",children:[u.jsx(Ws,{className:"h-16 w-16"}),u.jsx("h3",{className:"mt-4 text-xl font-semibold",children:"Oops! Something went wrong."}),u.jsx("p",{className:"mt-2",children:n})]}):u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-6",children:[u.jsx("h1",{className:"font-display text-2xl font-bold text-gray-800 sm:text-3xl",children:"Product Management"}),u.jsxs("button",{onClick:()=>N(),className:"flex items-center justify-center gap-2 rounded-full bg-primary-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 sm:w-auto",children:[u.jsx($g,{className:"h-4 w-4"}),u.jsx("span",{children:"Add New Product"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 sm:grid-cols-4",children:[u.jsx("button",{onClick:()=>T("all"),className:`bg-white rounded-lg border p-4 shadow-sm transition-all hover:shadow-md cursor-pointer text-left ${f==="all"?"ring-2 ring-primary-600":""}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Products"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t.length})]}),u.jsx(cl,{className:"h-10 w-10 text-primary-600 opacity-75"})]})}),u.jsx("button",{onClick:()=>T("lowStock"),className:`bg-white rounded-lg border p-4 shadow-sm transition-all hover:shadow-md cursor-pointer text-left ${f==="lowStock"?"ring-2 ring-yellow-600":""}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),u.jsx("p",{className:"text-2xl font-bold text-yellow-600 mt-1",children:_("All")})]}),u.jsx(Op,{className:"h-10 w-10 text-yellow-600 opacity-75"})]})}),u.jsx("button",{onClick:()=>T("outOfStock"),className:`bg-white rounded-lg border p-4 shadow-sm transition-all hover:shadow-md cursor-pointer text-left ${f==="outOfStock"?"ring-2 ring-red-600":""}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Out of Stock"}),u.jsx("p",{className:"text-2xl font-bold text-red-600 mt-1",children:t.filter(S=>S.stock===0).length})]}),u.jsx(ST,{className:"h-10 w-10 text-red-600 opacity-75"})]})}),u.jsx("button",{onClick:()=>T("popular"),className:`bg-white rounded-lg border p-4 shadow-sm transition-all hover:shadow-md cursor-pointer text-left ${f==="popular"?"ring-2 ring-green-600":""}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Popular Items"}),u.jsx("p",{className:"text-2xl font-bold text-green-600 mt-1",children:t.filter(S=>S.popular).length})]}),u.jsx(kp,{className:"h-10 w-10 text-green-600 opacity-75"})]})})]}),u.jsx("div",{className:"mb-6",children:u.jsxs("div",{className:"relative",children:[u.jsx(eh,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search products...",value:d,onChange:S=>h(S.target.value),className:"w-full rounded-lg border bg-white pl-10 pr-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500 focus:ring-opacity-20"})]})}),u.jsx("div",{className:"mb-6 overflow-x-auto py-1",children:u.jsx("div",{className:"flex gap-2 pb-2 px-1",children:b.map(S=>{const I=w(S),C=_(S),k=l===S,R=v[S],O=R.icon;return u.jsxs("button",{onClick:()=>{c(S),m("all")},className:`flex-shrink-0 flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold transition-all ${k?"bg-primary-600 text-white shadow-md scale-105":`${R.bgColor} ${R.color} hover:shadow-md hover:scale-102`}`,children:[u.jsx(O,{className:"h-4 w-4"}),u.jsx("span",{children:S}),I>0&&u.jsx("span",{className:`inline-flex items-center justify-center min-w-[20px] h-5 px-1.5 rounded-full text-xs font-bold ${k?"bg-white bg-opacity-25":"bg-white bg-opacity-50"}`,children:I}),C>0&&u.jsxs("span",{className:"inline-flex items-center justify-center min-w-[20px] h-5 px-1.5 rounded-full text-xs font-bold bg-yellow-500 text-white",children:[" ",C]})]},S)})})}),u.jsx("div",{className:"overflow-x-auto rounded-lg border bg-white shadow-sm",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Product"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Category"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Price (G/V)"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Stock"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),u.jsx("th",{scope:"col",className:"relative px-6 py-3",children:u.jsx("span",{className:"sr-only",children:"Actions"})})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:x.map(S=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:u.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:S.imageUrl,alt:S.name})}),u.jsx("div",{className:"ml-4",children:u.jsxs("div",{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[S.name,S.popular&&u.jsx(kp,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),S.new&&u.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full font-semibold",children:"NEW"})]})})]})}),u.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:S.category}),u.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:["",S.sizes[0].price.toFixed(2)," / ",S.sizes[1].price.toFixed(2)]}),u.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm",children:u.jsx("span",{className:`font-semibold ${S.stock===0?"text-red-600":S.stock<=20?"text-yellow-600":"text-gray-900"}`,children:S.stock})}),u.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:S.available?u.jsx("span",{className:"inline-flex rounded-full bg-green-100 px-2 text-xs font-semibold leading-5 text-green-800",children:"Available"}):u.jsx("span",{className:"inline-flex rounded-full bg-red-100 px-2 text-xs font-semibold leading-5 text-red-800",children:"Unavailable"})}),u.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium",children:[u.jsx("button",{onClick:()=>N(S),className:"p-1 text-primary-600 hover:text-primary-800",children:u.jsx(I9,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>A(S.id,S.name),className:"ml-2 p-1 text-red-600 hover:text-red-800",children:u.jsx(mw,{className:"h-4 w-4"})})]})]},S.id))})]})}),u.jsx(T5e,{isOpen:i,onClose:j,productToEdit:s})]})},N5e=({data:t,isLoading:e})=>{if(e)return u.jsx("div",{className:"flex h-64 items-center justify-center bg-gray-100 rounded-lg animate-pulse",children:u.jsx(LI,{className:"h-10 w-10 text-gray-400"})});if(t.length===0)return u.jsx("div",{className:"flex h-64 items-center justify-center bg-gray-50 rounded-lg",children:u.jsx("p",{className:"text-gray-500",children:"No sales data for this period."})});const n=Math.max(...t.map(r=>r.value),1);return u.jsx("div",{className:"h-64 flex items-end justify-around gap-2 pt-4",children:t.map((r,i)=>u.jsxs("div",{className:"flex h-full flex-col items-center justify-end flex-1 group",children:[u.jsx("div",{className:"w-full bg-primary-200 rounded-t-md hover:bg-primary-400 transition-all duration-300",style:{height:`${r.value/n*100}%`},children:u.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gray-800 text-white text-xs rounded-md py-1 px-2 absolute -top-8 left-1/2 -translate-x-1/2",children:["",r.value.toFixed(2)]})}),u.jsx("div",{className:"mt-2 text-xs text-gray-500 text-center",children:r.label})]},i))})},I5e=()=>{const[t,e]=g.useState({totalRevenue:0,totalOrders:0,avgOrderValue:0,newCustomers:0}),[n,r]=g.useState([]),[i,a]=g.useState([]),[s,o]=g.useState("7d"),[l,c]=g.useState(!0);return g.useEffect(()=>{(async()=>{c(!0);const h=new Date;let f;switch(s){case"7d":f=Yx(G5(h,6));break;case"30d":f=Yx(G5(h,29));break;case"all":default:f=new Date(2020,0,1);break}const m=me.collection("orders").where("timestamp",">=",f),y=me.collection("users").where("createdAt",">=",f),[v,x]=await Promise.all([m.get(),y.get()]),w=v.docs.map(I=>({...I.data(),timestamp:I.data().timestamp.toDate()})).filter(I=>I.status==="completed"),_=w.reduce((I,C)=>I+C.totalAmount,0),T=w.length,N=T>0?_/T:0,j=x.size;if(e({totalRevenue:_,totalOrders:T,avgOrderValue:N,newCustomers:j}),s!=="all"){const C=Dxe({start:f,end:Gq(h)}).reduce((R,O)=>(R[Dc(O,"yyyy-MM-dd")]=0,R),{});w.forEach(R=>{const O=Dc(R.timestamp,"yyyy-MM-dd");C[O]!==void 0&&(C[O]+=R.totalAmount)});const k=Object.entries(C).map(([R,O])=>({label:Dc(new Date(R),"d MMM"),value:O}));r(k)}else r([]);const A=new Map;w.forEach(I=>{I.orderItems.forEach(C=>{const k=A.get(C.productName)||{quantity:0,revenue:0};A.set(C.productName,{quantity:k.quantity+C.quantity,revenue:k.revenue+C.price*C.quantity})})});const S=Array.from(A.entries()).map(([I,C])=>({name:I,...C})).sort((I,C)=>C.quantity-I.quantity).slice(0,5);a(S),c(!1)})().catch(console.error)},[s]),u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-6",children:[u.jsx("h1",{className:"font-display text-2xl font-bold text-gray-800 sm:text-3xl",children:"Analytics & Reports"}),u.jsx("div",{className:"flex w-fit mx-auto gap-2 rounded-full bg-gray-200 p-1 sm:mx-0",children:["7d","30d","all"].map(d=>u.jsx("button",{onClick:()=>o(d),className:`flex-shrink-0 rounded-full px-3 py-1.5 text-xs font-semibold capitalize transition-colors sm:px-4 sm:text-sm ${s===d?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:u.jsx("span",{className:"whitespace-nowrap",children:d==="7d"?"Last 7 Days":d==="30d"?"Last 30 Days":"All Time"})},d))})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[u.jsx($o,{title:"Total Revenue",value:`${t.totalRevenue.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,Icon:x9,isLoading:l,color:"blue"}),u.jsx($o,{title:"Total Orders",value:t.totalOrders.toLocaleString(),Icon:fw,isLoading:l,color:"green"}),u.jsx($o,{title:"Avg. Order Value",value:`${t.avgOrderValue.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,Icon:Km,isLoading:l,color:"purple"}),u.jsx($o,{title:"New Customers",value:t.newCustomers.toLocaleString(),Icon:Rp,isLoading:l,color:"yellow"})]}),u.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-6 lg:grid-cols-5",children:[u.jsxs(ge,{className:"lg:col-span-3",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Sales Overview"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Revenue from completed orders per day."}),u.jsx(N5e,{data:n,isLoading:l})]}),u.jsxs(ge,{className:"lg:col-span-2",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Top Selling Products"}),u.jsx("p",{className:"text-sm text-gray-500",children:"By units sold in the selected period."}),u.jsx("div",{className:"mt-4 space-y-3",children:l?Array.from({length:5}).map((d,h)=>u.jsxs("div",{className:"flex items-center justify-between animate-pulse",children:[u.jsx("div",{className:"h-5 w-3/5 rounded-md bg-gray-200"}),u.jsx("div",{className:"h-5 w-1/5 rounded-md bg-gray-200"})]},h)):i.length>0?i.map((d,h)=>u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:`font-bold ${h<3?"text-primary-700":"text-gray-500"}`,children:[h+1,"."]}),u.jsx("p",{className:"font-medium text-gray-800 truncate",children:d.name})]}),u.jsxs(or,{className:"bg-primary-100 text-primary-800",children:[d.quantity," sold"]})]},d.name)):u.jsx("div",{className:"flex h-48 items-center justify-center",children:u.jsx("p",{className:"text-gray-500",children:"No product data for this period."})})})]})]})]})},P5e={pending:"bg-yellow-100 text-yellow-800",reviewed:"bg-blue-100 text-blue-800",resolved:"bg-green-100 text-green-800"},C5e=({feedback:t,onRespond:e})=>{const n=t.user?`${t.user.firstName} ${t.user.lastName}`:`User ${t.userId.substring(0,6)}`;return u.jsxs("div",{className:"flex flex-col rounded-lg border bg-white p-4 shadow-sm transition-shadow hover:shadow-md",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-800",children:n}),u.jsx("p",{className:"text-xs text-gray-500",children:t.createdAt?u_(t.createdAt,{addSuffix:!0}):"Just now"})]}),u.jsx(or,{className:`capitalize ${P5e[t.status]}`,children:t.status})]}),u.jsx("div",{className:"my-3 flex justify-start",children:u.jsx(Xx,{rating:t.rating,readonly:!0,size:"sm"})}),u.jsxs("p",{className:"flex-grow text-sm text-gray-600 line-clamp-3",children:['"',t.comment,'"']}),u.jsx("div",{className:"mt-4 border-t pt-3",children:u.jsx("button",{onClick:e,className:"w-full rounded-full bg-primary-100 px-4 py-2 text-sm font-semibold text-primary-700 transition-colors hover:bg-primary-200",children:"View & Respond"})})]})},j5e=({isOpen:t,onClose:e,feedback:n})=>{const[r,i]=g.useState(n.response||""),[a,s]=g.useState(n.status),[o,l]=g.useState(!1);g.useEffect(()=>{t&&(i(n.response||""),s(n.status))},[t,n]);const c=async h=>{h.preventDefault(),l(!0);try{await me.collection("feedback").doc(n.id).update({response:r,status:a,updatedAt:et.firestore.FieldValue.serverTimestamp()}),e()}catch(f){console.error("Error updating feedback: ",f)}finally{l(!1)}},d=n.user?`${n.user.firstName} ${n.user.lastName}`:`User ID: ${n.userId}`;return u.jsx(El,{isOpen:t,onClose:e,title:`Feedback from ${d}`,children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-gray-500",children:"Rating"}),u.jsx(Xx,{rating:n.rating,readonly:!0})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-gray-500",children:"Comment"}),u.jsx("p",{className:"mt-1 max-h-40 overflow-y-auto rounded-md bg-gray-50 p-3 text-gray-700 whitespace-pre-wrap",children:n.comment})]}),u.jsxs("form",{onSubmit:c,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"response",className:"block text-sm font-medium text-gray-700",children:"Your Response"}),u.jsx("textarea",{id:"response",value:r,onChange:h=>i(h.target.value),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Write a response to the customer..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Update Status"}),u.jsx("div",{className:"mt-2 flex gap-2 rounded-full bg-gray-100 p-1",children:["pending","reviewed","resolved"].map(h=>u.jsx("button",{type:"button",onClick:()=>s(h),className:`w-full rounded-full py-1.5 text-sm font-semibold capitalize transition-colors ${a===h?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:h},h))})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(Ve,{type:"button",variant:"ghost",onClick:e,children:"Cancel"}),u.jsxs(Ve,{type:"submit",disabled:o,children:[o?u.jsx(Ot,{className:"mr-2 h-4 w-4 animate-spin"}):u.jsx(BI,{className:"mr-2 h-4 w-4"}),"Save Response"]})]})]})]})})},k5e=()=>{const[t,e]=g.useState([]),[n,r]=g.useState(!0),[i,a]=g.useState("pending"),[s,o]=g.useState(!1),[l,c]=g.useState(null);g.useEffect(()=>{const m=new Map,y=async()=>{if(m.size>0)return m;const b=Lx(me,"users");return(await R7(b)).forEach(_=>{const T=_.data();m.set(_.id,{firstName:T.firstName,lastName:T.lastName,email:T.email})}),m},v=ns(Lx(me,"feedback"),I7("createdAt","desc")),x=NP(v,async b=>{try{const w=await y(),_=[];b.forEach(T=>{var j,A;const N=T.data();_.push({id:T.id,...N,createdAt:(j=N.createdAt)==null?void 0:j.toDate(),updatedAt:(A=N.updatedAt)==null?void 0:A.toDate(),user:w.get(N.userId)})}),e(_)}catch(w){console.error("Error processing feedback data:",w)}finally{r(!1)}},b=>{console.error("Error fetching feedback: ",b),r(!1)});return()=>x()},[]);const d=g.useMemo(()=>i==="all"?t:t.filter(m=>m.status===i),[i,t]),h=m=>{c(m),o(!0)},f=()=>{o(!1),c(null)};return n?u.jsx("div",{className:"flex h-full items-center justify-center",children:u.jsx(Ot,{className:"h-12 w-12 animate-spin text-primary-600"})}):u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[u.jsx("h1",{className:"font-display text-3xl font-bold text-gray-800",children:"Customer Feedback"}),u.jsx("div",{className:"flex flex-wrap w-fit mx-auto mt-4 md:mt-0 md:mx-0 gap-2 rounded-full bg-gray-200 p-1",children:["pending","reviewed","resolved","all"].map(m=>u.jsx("button",{onClick:()=>a(m),className:`rounded-full px-3 py-1.5 text-sm font-semibold capitalize transition-colors ${i===m?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:m},m))})]}),d.length>0?u.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:d.map(m=>u.jsx(C5e,{feedback:m,onRespond:()=>h(m)},m.id))}):u.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border-2 border-dashed bg-gray-50 p-12 text-center",children:[u.jsx(Gh,{className:"h-16 w-16 text-gray-400"}),u.jsx("h2",{className:"mt-4 text-xl font-semibold text-gray-700",children:"No Feedback Here"}),u.jsxs("p",{className:"mt-1 text-gray-500",children:['No feedback matching the "',i,'" filter.']})]}),l&&u.jsx(j5e,{isOpen:s,onClose:f,feedback:l})]})},O5e=({enabled:t,onChange:e,label:n,description:r,Icon:i})=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[i&&u.jsx(i,{className:"h-5 w-5 text-gray-500"}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-800",children:n}),r&&u.jsx("p",{className:"text-sm text-gray-500",children:r})]})]}),u.jsx("button",{type:"button",className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${t?"bg-primary-600":"bg-gray-200"}`,role:"switch","aria-checked":t,onClick:()=>e(!t),children:u.jsx("span",{"aria-hidden":"true",className:`inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${t?"translate-x-5":"translate-x-0"}`})})]}),Kv={shopName:"Rush Coffee",address:"123 Coffee Street, Malate, Manila",phone:"+63 917 123 4567",email:"hello@rushcoffee.ph",operatingHours:"Mon-Sun: 7:00 AM - 10:00 PM",announcement:{enabled:!1,message:"Welcome to Rush Coffee! Enjoy our new Matcha series."}},R5e=()=>{const[t,e]=g.useState(Kv),[n,r]=g.useState(!0),[i,a]=g.useState(!1),[s,o]=g.useState(null),{showToast:l}=pr();g.useEffect(()=>{(async()=>{const m=me.collection("settings").doc("shopConfig");try{const y=await m.get();y.exists?e({...Kv,...y.data()}):e(Kv)}catch(y){if(console.error("Error fetching settings:",y),y.code==="permission-denied"){const x=u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"font-bold",children:"Permission Denied: Cannot access Shop Settings."}),u.jsx("p",{className:"mt-1",children:"This is a Firestore security rule issue. Please update your rules in the Firebase Console to allow admins to manage settings."}),u.jsxs("p",{className:"mt-2",children:["Ensure you have a rule like this in your ",u.jsx("code",{className:"bg-red-200 text-red-900 px-1 rounded",children:"firestore.rules"})," file:"]}),u.jsx("pre",{className:"mt-2 text-xs bg-red-200 text-red-900 p-2 rounded-md overflow-x-auto",children:u.jsx("code",{children:`
service cloud.firestore {
  match /databases/{database}/documents {
    // ... your other rules ...

    // ADD OR UPDATE THIS RULE:
    match /settings/{docId} {
      allow read: if true;
      allow write: if get(/databases/$(database)/documents/users/$(request.auth.uid)).data.role == 'admin';
    }
  }
}`.trim()})})]});o(x)}else o("An error occurred while loading shop settings. Please check the console for details.");e(Kv)}finally{r(!1)}})()},[]);const c=f=>{const{name:m,value:y}=f.target;e(v=>({...v,[m]:y}))},d=(f,m)=>{e(y=>({...y,announcement:{...y.announcement,[f]:m}}))},h=async f=>{f.preventDefault(),a(!0);try{await me.collection("settings").doc("shopConfig").set(t,{merge:!0}),l("Settings saved successfully!"),s&&o(null)}catch(m){console.error("Error saving settings:",m),m.code==="permission-denied"?o("Save Failed: Your account does not have permission to write to shop settings. Please check your Firestore security rules. Changes were not saved."):o("Failed to save settings. An error occurred.")}finally{a(!1)}};return n?u.jsx("div",{className:"flex h-full items-center justify-center",children:u.jsx(Ot,{className:"h-12 w-12 animate-spin text-primary-600"})}):u.jsxs("div",{children:[u.jsx("h1",{className:"mb-6 font-display text-3xl font-bold text-gray-800",children:"Shop Settings"}),s&&u.jsxs("div",{className:"mb-6 flex items-start gap-3 rounded-lg bg-red-50 p-4 text-sm text-red-700",children:[u.jsx(Ws,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),u.jsx("div",{children:s})]}),u.jsxs("form",{onSubmit:h,className:"mx-auto max-w-4xl space-y-6",children:[u.jsxs("fieldset",{disabled:!!s,className:"space-y-6 disabled:opacity-50",children:[u.jsxs(ge,{children:[u.jsxs("h2",{className:"mb-4 flex items-center gap-2 text-xl font-bold text-gray-800",children:[u.jsx(xre,{className:"h-5 w-5 text-primary-600"}),"Shop Information"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(Dn,{label:"Shop Name",name:"shopName",id:"shopName",value:t.shopName,onChange:c,placeholder:"Enter shop name"}),u.jsx(Dn,{label:"Address",name:"address",id:"address",value:t.address,onChange:c,placeholder:"Enter shop address"}),u.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[u.jsx(Dn,{label:"Contact Phone",name:"phone",id:"phone",type:"tel",value:t.phone,onChange:c,placeholder:"Enter contact phone"}),u.jsx(Dn,{label:"Contact Email",name:"email",id:"email",type:"email",value:t.email,onChange:c,placeholder:"Enter contact email"})]})]})]}),u.jsxs(ge,{children:[u.jsxs("h2",{className:"mb-4 flex items-center gap-2 text-xl font-bold text-gray-800",children:[u.jsx(wu,{className:"h-5 w-5 text-primary-600"}),"Operating Hours"]}),u.jsx("div",{children:u.jsx(vC,{label:"Display Text",name:"operatingHours",id:"operatingHours",value:t.operatingHours,onChange:c,rows:3,placeholder:`e.g., Mon-Fri: 7am - 8pm
Sat-Sun: 8am - 6pm`,helperText:"This text will be displayed in the footer and contact page."})})]}),u.jsxs(ge,{children:[u.jsxs("h2",{className:"mb-4 flex items-center gap-2 text-xl font-bold text-gray-800",children:[u.jsx(rD,{className:"h-5 w-5 text-primary-600"}),"System-wide Announcement"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(O5e,{Icon:rD,label:"Enable Announcement Banner",description:"Show a banner at the top of the site.",enabled:t.announcement.enabled,onChange:f=>d("enabled",f)}),u.jsx("div",{children:u.jsx(Dn,{label:"Announcement Message",name:"announcementMessage",id:"announcementMessage",value:t.announcement.message,onChange:f=>d("message",f.target.value),placeholder:"Enter announcement message"})})]})]})]}),u.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-end gap-3",children:u.jsxs(Ve,{type:"submit",disabled:i||!!s,size:"lg",className:"w-full sm:w-auto",children:[i?u.jsx(Ot,{className:"mr-2 h-5 w-5 animate-spin"}):u.jsx(qg,{className:"mr-2 h-5 w-5"}),"Save Settings"]})})]})]})},D5e=()=>u.jsxs("div",{className:"bg-white",children:[u.jsx(dn,{}),u.jsxs("main",{children:[u.jsxs("section",{className:"bg-gradient-to-br from-primary-50 to-coffee-50 px-6 py-20 text-center",children:[u.jsx("h1",{className:"font-display text-5xl font-bold text-coffee-900 md:text-6xl",children:"Terms of Service"}),u.jsxs("p",{className:"mt-4 text-xl text-gray-700",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),u.jsx("section",{className:"px-6 py-16",children:u.jsxs("div",{className:"prose prose-lg mx-auto max-w-4xl text-gray-700 prose-headings:font-display prose-headings:text-coffee-900 prose-a:text-primary-600 hover:prose-a:text-primary-700",children:[u.jsx("h2",{children:"1. Introduction"}),u.jsx("p",{children:'Welcome to Rush Coffee ("we," "our," or "us"). These Terms of Service govern your use of our website, mobile application, and services (collectively, the "Services"). By accessing or using our Services, you agree to be bound by these terms.'}),u.jsx("h2",{children:"2. User Accounts"}),u.jsx("p",{children:"To use certain features of our Services, you must register for an account. You agree to provide accurate, current, and complete information during the registration process and to update such information to keep it accurate, current, and complete. You are responsible for safeguarding your password and for all activities that occur under your account."}),u.jsx("h2",{children:"3. Orders and Payments"}),u.jsx("p",{children:"When you place an order through our Services, you are making an offer to purchase the products you have selected. All orders are subject to our acceptance. We reserve the right to refuse or cancel any order for any reason, including limitations on quantities available for purchase, inaccuracies, or errors in product or pricing information."}),u.jsx("p",{children:'Payment for all orders must be made at the time of placing the order, unless you select "Cash on Pickup." We accept payment through GCash and other methods as may be made available from time to time.'}),u.jsx("h2",{children:"4. Rewards Program"}),u.jsx("p",{children:"Our rewards program allows you to earn points for purchases and redeem them for rewards. Points are non-transferable and have no cash value. We reserve the right to modify, suspend, or terminate the rewards program at any time without notice."}),u.jsx("h2",{children:"5. Limitation of Liability"}),u.jsx("p",{children:"To the fullest extent permitted by applicable law, Rush Coffee shall not be liable for any indirect, incidental, special, consequential, or punitive damages, or any loss of profits or revenues, whether incurred directly or indirectly, or any loss of data, use, goodwill, or other intangible losses, resulting from (a) your access to or use of or inability to access or use the services; (b) any conduct or content of any third party on the services; or (c) unauthorized access, use, or alteration of your transmissions or content."}),u.jsx("h2",{children:"6. Changes to Terms"}),u.jsx("p",{children:"We may modify these Terms of Service from time to time. We will provide notice of any changes by posting the new Terms of Service on this page. You are advised to review these Terms of Service periodically for any changes."}),u.jsx("h2",{children:"7. Contact Us"}),u.jsxs("p",{children:["If you have any questions about these Terms of Service, please contact us at ",u.jsx("a",{href:"mailto:hello@rushcoffee.ph",children:"hello@rushcoffee.ph"}),"."]})]})})]}),u.jsx(hn,{})]}),M5e=()=>u.jsxs("div",{className:"bg-white",children:[u.jsx(dn,{}),u.jsxs("main",{children:[u.jsxs("section",{className:"bg-gradient-to-br from-primary-50 to-coffee-50 px-6 py-20 text-center",children:[u.jsx("h1",{className:"font-display text-5xl font-bold text-coffee-900 md:text-6xl",children:"Privacy Policy"}),u.jsx("p",{className:"mt-4 text-xl text-gray-700",children:"Your privacy is important to us."}),u.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),u.jsx("section",{className:"px-6 py-16",children:u.jsxs("div",{className:"prose prose-lg mx-auto max-w-4xl text-gray-700 prose-headings:font-display prose-headings:text-coffee-900 prose-a:text-primary-600 hover:prose-a:text-primary-700",children:[u.jsx("h2",{children:"1. Information We Collect"}),u.jsx("p",{children:"We collect information you provide directly to us when you create an account, place an order, or communicate with us. This information may include your name, email address, phone number, and order details."}),u.jsx("h2",{children:"2. How We Use Your Information"}),u.jsx("p",{children:"We use the information we collect to:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Process your transactions and fulfill your orders."}),u.jsx("li",{children:"Communicate with you about your orders, account, and our services."}),u.jsx("li",{children:"Operate and improve our Services, including our rewards program."}),u.jsx("li",{children:"Personalize your experience."})]}),u.jsx("h2",{children:"3. Information Sharing"}),u.jsx("p",{children:"We do not share your personal information with third parties except as necessary to provide our Services (e.g., with payment processors) or as required by law. We do not sell your personal data."}),u.jsx("h2",{children:"4. Data Security"}),u.jsx("p",{children:"We implement reasonable security measures to protect your information from unauthorized access, alteration, disclosure, or destruction. However, no internet-based service is 100% secure, so we cannot guarantee absolute security."}),u.jsx("h2",{children:"5. Your Choices"}),u.jsx("p",{children:"You may review and update your account information at any time by logging into your account and visiting your profile page. You can also unsubscribe from our marketing emails by following the instructions in those emails."}),u.jsx("h2",{children:"6. Contact Us"}),u.jsxs("p",{children:["If you have any questions about this Privacy Policy, please contact us at ",u.jsx("a",{href:"mailto:hello@rushcoffee.ph",children:"hello@rushcoffee.ph"}),"."]})]})})]}),u.jsx(hn,{})]}),L5e=({title:t})=>u.jsxs("div",{className:"flex min-h-screen flex-col",children:[u.jsx(dn,{}),u.jsx("main",{className:"flex flex-1 items-center justify-center bg-gradient-to-br from-primary-50 to-coffee-50",children:u.jsxs("div",{className:"p-4 text-center",children:[u.jsx(vn,{className:"mx-auto mb-4 h-16 w-16 text-gray-400 opacity-50"}),u.jsx("h1",{className:"mb-4 font-display text-4xl font-bold text-gray-900",children:t}),u.jsx("p",{className:"mb-8 text-gray-600",children:"We're brewing something special. Check back soon!"}),u.jsx(De,{to:"/",className:"font-medium text-primary-600 transition-colors hover:text-primary-700",children:" Back to Home"})]})}),u.jsx(hn,{})]}),V5e=()=>u.jsxs("div",{className:"flex min-h-screen flex-col",children:[u.jsx(dn,{}),u.jsx("main",{className:"flex flex-1 items-center justify-center bg-gradient-to-br from-primary-50 to-coffee-50",children:u.jsxs("div",{className:"p-4 text-center",children:[u.jsx(vn,{className:"mx-auto mb-4 h-16 w-16 text-gray-400 opacity-50"}),u.jsx("h1",{className:"mb-4 font-display text-4xl font-bold text-gray-900",children:"404 - Page Not Found"}),u.jsx("p",{className:"mb-8 text-gray-600",children:"This coffee blend doesn't exist on our menu. Maybe it got lost in the daily grind?"}),u.jsx(De,{to:"/",className:"font-medium text-primary-600 transition-colors hover:text-primary-700",children:" Back to Home"})]})}),u.jsx(hn,{})]}),U5e=()=>{const{isCartOpen:t,closeCart:e,cartItems:n,updateQuantity:r,removeFromCart:i,toastMessage:a}=pr(),s=Ki(),o=()=>{e(),s("/checkout")};return u.jsxs(u.Fragment,{children:[u.jsx(pwe,{}),u.jsxs(qee,{children:[u.jsx(it,{path:"/",element:u.jsx(jpe,{})}),u.jsx(it,{path:"/about",element:u.jsx(owe,{})}),u.jsx(it,{path:"/menu",element:u.jsx(mxe,{})}),u.jsx(it,{path:"/contact",element:u.jsx(uwe,{})}),u.jsx(it,{path:"/auth/login",element:u.jsx(Ope,{})}),u.jsx(it,{path:"/auth/register",element:u.jsx(Mpe,{})}),u.jsx(it,{path:"/auth/forgot-password",element:u.jsx(Lpe,{})}),u.jsx(it,{path:"/checkout",element:u.jsx(xxe,{})}),u.jsx(it,{path:"/queue",element:u.jsx(Fbe,{})}),u.jsx(it,{path:"/rewards",element:u.jsx(Ybe,{})}),u.jsx(it,{path:"/profile",element:u.jsx(awe,{})}),u.jsx(it,{path:"/faq",element:u.jsx(fwe,{})}),u.jsx(it,{path:"/terms",element:u.jsx(D5e,{})}),u.jsx(it,{path:"/privacy",element:u.jsx(M5e,{})}),u.jsx(it,{path:"/cookies",element:u.jsx(L5e,{title:"Cookie Policy"})}),u.jsx(it,{element:u.jsx(gwe,{}),children:u.jsxs(it,{path:"/admin",element:u.jsx(b5e,{}),children:[u.jsx(it,{index:!0,element:u.jsx(m5e,{})}),u.jsx(it,{path:"queue",element:u.jsx(v5e,{})}),u.jsx(it,{path:"inventory",element:u.jsx(S5e,{})}),u.jsx(it,{path:"products",element:u.jsx(A5e,{})}),u.jsx(it,{path:"analytics",element:u.jsx(I5e,{})}),u.jsx(it,{path:"feedback",element:u.jsx(k5e,{})}),u.jsx(it,{path:"settings",element:u.jsx(R5e,{})})]})}),u.jsx(it,{path:"*",element:u.jsx(V5e,{})})]}),u.jsx(mwe,{isOpen:t,onClose:e,cartItems:n,onUpdateQuantity:r,onRemoveItem:i,onCheckout:o}),a&&u.jsx("div",{className:"fixed bottom-4 right-4 z-[100] animate-fade-in-up rounded-lg bg-gray-900 px-4 py-3 text-white shadow-lg",children:a})]})},z5e=()=>u.jsx(Epe,{children:u.jsx(Spe,{children:u.jsx(vxe,{children:u.jsx(Tpe,{children:u.jsx(fte,{children:u.jsx(U5e,{})})})})})}),SQ=document.getElementById("root");if(!SQ)throw new Error("Could not find root element to mount to");const B5e=XJ.createRoot(SQ);B5e.render(u.jsx(gc.StrictMode,{children:u.jsx(z5e,{})}));
