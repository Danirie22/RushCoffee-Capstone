(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function a2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o2={exports:{}},ef={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R4=Symbol.for("react.transitional.element"),I4=Symbol.for("react.fragment");function l2(t,e,n){var s=null;if(n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:R4,type:t,key:s,ref:e!==void 0?e:null,props:n}}ef.Fragment=I4;ef.jsx=l2;ef.jsxs=l2;o2.exports=ef;var o=o2.exports,c2={exports:{}},ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy=Symbol.for("react.transitional.element"),M4=Symbol.for("react.portal"),D4=Symbol.for("react.fragment"),k4=Symbol.for("react.strict_mode"),P4=Symbol.for("react.profiler"),O4=Symbol.for("react.consumer"),V4=Symbol.for("react.context"),L4=Symbol.for("react.forward_ref"),U4=Symbol.for("react.suspense"),z4=Symbol.for("react.memo"),u2=Symbol.for("react.lazy"),B4=Symbol.for("react.activity"),v1=Symbol.iterator;function F4(t){return t===null||typeof t!="object"?null:(t=v1&&t[v1]||t["@@iterator"],typeof t=="function"?t:null)}var h2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d2=Object.assign,f2={};function wo(t,e,n){this.props=t,this.context=e,this.refs=f2,this.updater=n||h2}wo.prototype.isReactComponent={};wo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function m2(){}m2.prototype=wo.prototype;function Ay(t,e,n){this.props=t,this.context=e,this.refs=f2,this.updater=n||h2}var jy=Ay.prototype=new m2;jy.constructor=Ay;d2(jy,wo.prototype);jy.isPureReactComponent=!0;var b1=Array.isArray;function Vp(){}var Ve={H:null,A:null,T:null,S:null},p2=Object.prototype.hasOwnProperty;function Cy(t,e,n){var s=n.ref;return{$$typeof:Sy,type:t,key:e,ref:s!==void 0?s:null,props:n}}function q4(t,e){return Cy(t.type,e,t.props)}function Ry(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sy}function H4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var w1=/\/+/g;function Sm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?H4(""+t.key):e.toString(36)}function G4(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Vp,Vp):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function fa(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Sy:case M4:a=!0;break;case u2:return a=t._init,fa(a(t._payload),e,n,s,r)}}if(a)return r=r(t),a=s===""?"."+Sm(t,0):s,b1(r)?(n="",a!=null&&(n=a.replace(w1,"$&/")+"/"),fa(r,e,n,"",function(h){return h})):r!=null&&(Ry(r)&&(r=q4(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(w1,"$&/")+"/")+a)),e.push(r)),1;a=0;var l=s===""?".":s+":";if(b1(t))for(var c=0;c<t.length;c++)s=t[c],i=l+Sm(s,c),a+=fa(s,e,n,i,r);else if(c=F4(t),typeof c=="function")for(t=c.call(t),c=0;!(s=t.next()).done;)s=s.value,i=l+Sm(s,c++),a+=fa(s,e,n,i,r);else if(i==="object"){if(typeof t.then=="function")return fa(G4(t),e,n,s,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Vu(t,e,n){if(t==null)return t;var s=[],r=0;return fa(t,s,"","",function(i){return e.call(n,i,r++)}),s}function $4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _1=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Y4={map:Vu,forEach:function(t,e,n){Vu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vu(t,function(){e++}),e},toArray:function(t){return Vu(t,function(e){return e})||[]},only:function(t){if(!Ry(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Activity=B4;ne.Children=Y4;ne.Component=wo;ne.Fragment=D4;ne.Profiler=P4;ne.PureComponent=Ay;ne.StrictMode=k4;ne.Suspense=U4;ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ve;ne.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ve.H.useMemoCache(t)}};ne.cache=function(t){return function(){return t.apply(null,arguments)}};ne.cacheSignal=function(){return null};ne.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var s=d2({},t.props),r=t.key;if(e!=null)for(i in e.key!==void 0&&(r=""+e.key),e)!p2.call(e,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&e.ref===void 0||(s[i]=e[i]);var i=arguments.length-2;if(i===1)s.children=n;else if(1<i){for(var a=Array(i),l=0;l<i;l++)a[l]=arguments[l+2];s.children=a}return Cy(t.type,r,s)};ne.createContext=function(t){return t={$$typeof:V4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:O4,_context:t},t};ne.createElement=function(t,e,n){var s,r={},i=null;if(e!=null)for(s in e.key!==void 0&&(i=""+e.key),e)p2.call(e,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(r[s]=e[s]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return Cy(t,i,r)};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:L4,render:t}};ne.isValidElement=Ry;ne.lazy=function(t){return{$$typeof:u2,_payload:{_status:-1,_result:t},_init:$4}};ne.memo=function(t,e){return{$$typeof:z4,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=Ve.T,n={};Ve.T=n;try{var s=t(),r=Ve.S;r!==null&&r(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(Vp,_1)}catch(i){_1(i)}finally{e!==null&&n.types!==null&&(e.types=n.types),Ve.T=e}};ne.unstable_useCacheRefresh=function(){return Ve.H.useCacheRefresh()};ne.use=function(t){return Ve.H.use(t)};ne.useActionState=function(t,e,n){return Ve.H.useActionState(t,e,n)};ne.useCallback=function(t,e){return Ve.H.useCallback(t,e)};ne.useContext=function(t){return Ve.H.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t,e){return Ve.H.useDeferredValue(t,e)};ne.useEffect=function(t,e){return Ve.H.useEffect(t,e)};ne.useEffectEvent=function(t){return Ve.H.useEffectEvent(t)};ne.useId=function(){return Ve.H.useId()};ne.useImperativeHandle=function(t,e,n){return Ve.H.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return Ve.H.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return Ve.H.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return Ve.H.useMemo(t,e)};ne.useOptimistic=function(t,e){return Ve.H.useOptimistic(t,e)};ne.useReducer=function(t,e,n){return Ve.H.useReducer(t,e,n)};ne.useRef=function(t){return Ve.H.useRef(t)};ne.useState=function(t){return Ve.H.useState(t)};ne.useSyncExternalStore=function(t,e,n){return Ve.H.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return Ve.H.useTransition()};ne.version="19.2.0";c2.exports=ne;var T=c2.exports;const Q4=a2(T);var g2={exports:{}},tf={},y2={exports:{}},x2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,Q){var K=B.length;B.push(Q);e:for(;0<K;){var xe=K-1>>>1,ze=B[xe];if(0<r(ze,Q))B[xe]=Q,B[K]=ze,K=xe;else break e}}function n(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var Q=B[0],K=B.pop();if(K!==Q){B[0]=K;e:for(var xe=0,ze=B.length,hi=ze>>>1;xe<hi;){var di=2*(xe+1)-1,ia=B[di],wn=di+1,Js=B[wn];if(0>r(ia,K))wn<ze&&0>r(Js,ia)?(B[xe]=Js,B[wn]=K,xe=wn):(B[xe]=ia,B[di]=K,xe=di);else if(wn<ze&&0>r(Js,K))B[xe]=Js,B[wn]=K,xe=wn;else break e}}return Q}function r(B,Q){var K=B.sortIndex-Q.sortIndex;return K!==0?K:B.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],h=[],d=1,f=null,m=3,g=!1,b=!1,E=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function C(B){for(var Q=n(h);Q!==null;){if(Q.callback===null)s(h);else if(Q.startTime<=B)s(h),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=n(h)}}function D(B){if(E=!1,C(B),!b)if(n(c)!==null)b=!0,P||(P=!0,k());else{var Q=n(h);Q!==null&&ye(D,Q.startTime-B)}}var P=!1,N=-1,w=5,A=-1;function R(){return S?!0:!(t.unstable_now()-A<w)}function M(){if(S=!1,P){var B=t.unstable_now();A=B;var Q=!0;try{e:{b=!1,E&&(E=!1,v(N),N=-1),g=!0;var K=m;try{t:{for(C(B),f=n(c);f!==null&&!(f.expirationTime>B&&R());){var xe=f.callback;if(typeof xe=="function"){f.callback=null,m=f.priorityLevel;var ze=xe(f.expirationTime<=B);if(B=t.unstable_now(),typeof ze=="function"){f.callback=ze,C(B),Q=!0;break t}f===n(c)&&s(c),C(B)}else s(c);f=n(c)}if(f!==null)Q=!0;else{var hi=n(h);hi!==null&&ye(D,hi.startTime-B),Q=!1}}break e}finally{f=null,m=K,g=!1}Q=void 0}}finally{Q?k():P=!1}}}var k;if(typeof _=="function")k=function(){_(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,$=I.port2;I.port1.onmessage=M,k=function(){$.postMessage(null)}}else k=function(){x(M,0)};function ye(B,Q){N=x(function(){B(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(B){switch(m){case 1:case 2:case 3:var Q=3;break;default:Q=m}var K=m;m=Q;try{return B()}finally{m=K}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(B,Q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var K=m;m=B;try{return Q()}finally{m=K}},t.unstable_scheduleCallback=function(B,Q,K){var xe=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?xe+K:xe):K=xe,B){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=K+ze,B={id:d++,callback:Q,priorityLevel:B,startTime:K,expirationTime:ze,sortIndex:-1},K>xe?(B.sortIndex=K,e(h,B),n(c)===null&&B===n(h)&&(E?(v(N),N=-1):E=!0,ye(D,K-xe))):(B.sortIndex=ze,e(c,B),b||g||(b=!0,P||(P=!0,k()))),B},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(B){var Q=m;return function(){var K=m;m=Q;try{return B.apply(this,arguments)}finally{m=K}}}})(x2);y2.exports=x2;var K4=y2.exports,v2={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W4=T;function b2(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ir(){}var Ht={d:{f:ir,r:function(){throw Error(b2(522))},D:ir,C:ir,L:ir,m:ir,X:ir,S:ir,M:ir},p:0,findDOMNode:null},X4=Symbol.for("react.portal");function J4(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X4,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}var kl=W4.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function nf(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}$t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ht;$t.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(b2(299));return J4(t,e,null,n)};$t.flushSync=function(t){var e=kl.T,n=Ht.p;try{if(kl.T=null,Ht.p=2,t)return t()}finally{kl.T=e,Ht.p=n,Ht.d.f()}};$t.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Ht.d.C(t,e))};$t.prefetchDNS=function(t){typeof t=="string"&&Ht.d.D(t)};$t.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,s=nf(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,i=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Ht.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:s,integrity:r,fetchPriority:i}):n==="script"&&Ht.d.X(t,{crossOrigin:s,integrity:r,fetchPriority:i,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};$t.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=nf(e.as,e.crossOrigin);Ht.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Ht.d.M(t)};$t.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,s=nf(n,e.crossOrigin);Ht.d.L(t,n,{crossOrigin:s,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};$t.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=nf(e.as,e.crossOrigin);Ht.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Ht.d.m(t)};$t.requestFormReset=function(t){Ht.d.r(t)};$t.unstable_batchedUpdates=function(t,e){return t(e)};$t.useFormState=function(t,e,n){return kl.H.useFormState(t,e,n)};$t.useFormStatus=function(){return kl.H.useHostTransitionStatus()};$t.version="19.2.0";function w2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(w2)}catch(t){console.error(t)}}w2(),v2.exports=$t;var Z4=v2.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ft=K4,_2=T,eI=Z4;function U(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function T2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Uc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function E2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function N2(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function T1(t){if(Uc(t)!==t)throw Error(U(188))}function tI(t){var e=t.alternate;if(!e){if(e=Uc(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return T1(r),t;if(i===s)return T1(r),e;i=i.sibling}throw Error(U(188))}if(n.return!==s.return)n=r,s=i;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,s=i;break}if(l===s){a=!0,s=r,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,s=r;break}if(l===s){a=!0,s=i,n=r;break}l=l.sibling}if(!a)throw Error(U(189))}}if(n.alternate!==s)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function S2(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=S2(t),e!==null)return e;t=t.sibling}return null}var Ue=Object.assign,nI=Symbol.for("react.element"),Lu=Symbol.for("react.transitional.element"),bl=Symbol.for("react.portal"),ba=Symbol.for("react.fragment"),A2=Symbol.for("react.strict_mode"),Lp=Symbol.for("react.profiler"),j2=Symbol.for("react.consumer"),_s=Symbol.for("react.context"),Iy=Symbol.for("react.forward_ref"),Up=Symbol.for("react.suspense"),zp=Symbol.for("react.suspense_list"),My=Symbol.for("react.memo"),cr=Symbol.for("react.lazy"),Bp=Symbol.for("react.activity"),sI=Symbol.for("react.memo_cache_sentinel"),E1=Symbol.iterator;function ol(t){return t===null||typeof t!="object"?null:(t=E1&&t[E1]||t["@@iterator"],typeof t=="function"?t:null)}var rI=Symbol.for("react.client.reference");function Fp(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===rI?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ba:return"Fragment";case Lp:return"Profiler";case A2:return"StrictMode";case Up:return"Suspense";case zp:return"SuspenseList";case Bp:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case bl:return"Portal";case _s:return t.displayName||"Context";case j2:return(t._context.displayName||"Context")+".Consumer";case Iy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case My:return e=t.displayName||null,e!==null?e:Fp(t.type)||"Memo";case cr:e=t._payload,t=t._init;try{return Fp(t(e))}catch{}}return null}var wl=Array.isArray,ee=_2.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=eI.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ii={pending:!1,data:null,method:null,action:null},qp=[],wa=-1;function fs(t){return{current:t}}function wt(t){0>wa||(t.current=qp[wa],qp[wa]=null,wa--)}function Ie(t,e){wa++,qp[wa]=t.current,t.current=e}var ts=fs(null),ic=fs(null),Nr=fs(null),Hh=fs(null);function Gh(t,e){switch(Ie(Nr,e),Ie(ic,t),Ie(ts,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Rb(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Rb(e),t=QN(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}wt(ts),Ie(ts,t)}function Wa(){wt(ts),wt(ic),wt(Nr)}function Hp(t){t.memoizedState!==null&&Ie(Hh,t);var e=ts.current,n=QN(e,t.type);e!==n&&(Ie(ic,t),Ie(ts,n))}function $h(t){ic.current===t&&(wt(ts),wt(ic)),Hh.current===t&&(wt(Hh),gc._currentValue=Ii)}var Am,N1;function bi(t){if(Am===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Am=e&&e[1]||"",N1=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Am+t+N1}var jm=!1;function Cm(t,e){if(!t||jm)return"";jm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(g){var m=g}Reflect.construct(t,[],f)}else{try{f.call()}catch(g){m=g}t.call(f.prototype)}}else{try{throw Error()}catch(g){m=g}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(g){if(g&&m&&typeof g.stack=="string")return[g.stack,m.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=s.DetermineComponentFrameRoot(),a=i[0],l=i[1];if(a&&l){var c=a.split(`
`),h=l.split(`
`);for(r=s=0;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;for(;r<h.length&&!h[r].includes("DetermineComponentFrameRoot");)r++;if(s===c.length||r===h.length)for(s=c.length-1,r=h.length-1;1<=s&&0<=r&&c[s]!==h[r];)r--;for(;1<=s&&0<=r;s--,r--)if(c[s]!==h[r]){if(s!==1||r!==1)do if(s--,r--,0>r||c[s]!==h[r]){var d=`
`+c[s].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=s&&0<=r);break}}}finally{jm=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?bi(n):""}function iI(t,e){switch(t.tag){case 26:case 27:case 5:return bi(t.type);case 16:return bi("Lazy");case 13:return t.child!==e&&e!==null?bi("Suspense Fallback"):bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return Cm(t.type,!1);case 11:return Cm(t.type.render,!1);case 1:return Cm(t.type,!0);case 31:return bi("Activity");default:return""}}function S1(t){try{var e="",n=null;do e+=iI(t,n),n=t,t=t.return;while(t);return e}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Gp=Object.prototype.hasOwnProperty,Dy=ft.unstable_scheduleCallback,Rm=ft.unstable_cancelCallback,aI=ft.unstable_shouldYield,oI=ft.unstable_requestPaint,hn=ft.unstable_now,lI=ft.unstable_getCurrentPriorityLevel,C2=ft.unstable_ImmediatePriority,R2=ft.unstable_UserBlockingPriority,Yh=ft.unstable_NormalPriority,cI=ft.unstable_LowPriority,I2=ft.unstable_IdlePriority,uI=ft.log,hI=ft.unstable_setDisableYieldValue,zc=null,dn=null;function vr(t){if(typeof uI=="function"&&hI(t),dn&&typeof dn.setStrictMode=="function")try{dn.setStrictMode(zc,t)}catch{}}var fn=Math.clz32?Math.clz32:mI,dI=Math.log,fI=Math.LN2;function mI(t){return t>>>=0,t===0?32:31-(dI(t)/fI|0)|0}var Uu=256,zu=262144,Bu=4194304;function wi(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function sf(t,e,n){var s=t.pendingLanes;if(s===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var l=s&134217727;return l!==0?(s=l&~i,s!==0?r=wi(s):(a&=l,a!==0?r=wi(a):n||(n=l&~t,n!==0&&(r=wi(n))))):(l=s&~i,l!==0?r=wi(l):a!==0?r=wi(a):n||(n=s&~t,n!==0&&(r=wi(n)))),r===0?0:e!==0&&e!==r&&!(e&i)&&(i=r&-r,n=e&-e,i>=n||i===32&&(n&4194048)!==0)?e:r}function Bc(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function pI(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M2(){var t=Bu;return Bu<<=1,!(Bu&62914560)&&(Bu=4194304),t}function Im(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Fc(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gI(t,e,n,s,r,i){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,c=t.expirationTimes,h=t.hiddenUpdates;for(n=a&~n;0<n;){var d=31-fn(n),f=1<<d;l[d]=0,c[d]=-1;var m=h[d];if(m!==null)for(h[d]=null,d=0;d<m.length;d++){var g=m[d];g!==null&&(g.lane&=-536870913)}n&=~f}s!==0&&D2(t,s,0),i!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=i&~(a&~e))}function D2(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-fn(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|n&261930}function k2(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-fn(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}function P2(t,e){var n=e&-e;return n=n&42?1:ky(n),n&(t.suspendedLanes|e)?0:n}function ky(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Py(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function O2(){var t=ge.p;return t!==0?t:(t=window.event,t===void 0?32:iS(t.type))}function A1(t,e){var n=ge.p;try{return ge.p=t,e()}finally{ge.p=n}}var si=Math.random().toString(36).slice(2),St="__reactFiber$"+si,en="__reactProps$"+si,_o="__reactContainer$"+si,$p="__reactEvents$"+si,yI="__reactListeners$"+si,xI="__reactHandles$"+si,j1="__reactResources$"+si,qc="__reactMarker$"+si;function Oy(t){delete t[St],delete t[en],delete t[$p],delete t[yI],delete t[xI]}function _a(t){var e=t[St];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_o]||n[St]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Pb(t);t!==null;){if(n=t[St])return n;t=Pb(t)}return e}t=n,n=t.parentNode}return null}function To(t){if(t=t[St]||t[_o]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function _l(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(U(33))}function Ua(t){var e=t[j1];return e||(e=t[j1]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function yt(t){t[qc]=!0}var V2=new Set,L2={};function Qi(t,e){Xa(t,e),Xa(t+"Capture",e)}function Xa(t,e){for(L2[t]=e,t=0;t<e.length;t++)V2.add(e[t])}var vI=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),C1={},R1={};function bI(t){return Gp.call(R1,t)?!0:Gp.call(C1,t)?!1:vI.test(t)?R1[t]=!0:(C1[t]=!0,!1)}function fh(t,e,n){if(bI(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Fu(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function ps(t,e,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+s)}}function Sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function U2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wI(t,e,n){var s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var r=s.get,i=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yp(t){if(!t._valueTracker){var e=U2(t)?"checked":"value";t._valueTracker=wI(t,e,""+t[e])}}function z2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=U2(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Qh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _I=/[\n"\\]/g;function Cn(t){return t.replace(_I,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Qp(t,e,n,s,r,i,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Sn(e)):t.value!==""+Sn(e)&&(t.value=""+Sn(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?Kp(t,a,Sn(e)):n!=null?Kp(t,a,Sn(n)):s!=null&&t.removeAttribute("value"),r==null&&i!=null&&(t.defaultChecked=!!i),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+Sn(l):t.removeAttribute("name")}function B2(t,e,n,s,r,i,a,l){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||e!=null)){Yp(t);return}n=n!=null?""+Sn(n):"",e=e!=null?""+Sn(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=l?t.checked:!!s,t.defaultChecked=!!s,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),Yp(t)}function Kp(t,e,n){e==="number"&&Qh(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function za(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Sn(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function F2(t,e,n){if(e!=null&&(e=""+Sn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Sn(n):""}function q2(t,e,n,s){if(e==null){if(s!=null){if(n!=null)throw Error(U(92));if(wl(s)){if(1<s.length)throw Error(U(93));s=s[0]}n=s}n==null&&(n=""),e=n}n=Sn(e),t.defaultValue=n,s=t.textContent,s===n&&s!==""&&s!==null&&(t.value=s),Yp(t)}function Ja(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var TI=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function I1(t,e,n){var s=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,n):typeof n!="number"||n===0||TI.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function H2(t,e,n){if(e!=null&&typeof e!="object")throw Error(U(62));if(t=t.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var r in e)s=e[r],e.hasOwnProperty(r)&&n[r]!==s&&I1(t,r,s)}else for(var i in e)e.hasOwnProperty(i)&&I1(t,i,e[i])}function Vy(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var EI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),NI=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mh(t){return NI.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ts(){}var Wp=null;function Ly(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ta=null,Ba=null;function M1(t){var e=To(t);if(e&&(t=e.stateNode)){var n=t[en]||null;e:switch(t=e.stateNode,e.type){case"input":if(Qp(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Cn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=s[en]||null;if(!r)throw Error(U(90));Qp(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)s=n[e],s.form===t.form&&z2(s)}break e;case"textarea":F2(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&za(t,!!n.multiple,e,!1)}}}var Mm=!1;function G2(t,e,n){if(Mm)return t(e,n);Mm=!0;try{var s=t(e);return s}finally{if(Mm=!1,(Ta!==null||Ba!==null)&&(gf(),Ta&&(e=Ta,t=Ba,Ba=Ta=null,M1(e),t)))for(e=0;e<t.length;e++)M1(t[e])}}function ac(t,e){var n=t.stateNode;if(n===null)return null;var s=n[en]||null;if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var ks=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xp=!1;if(ks)try{var ll={};Object.defineProperty(ll,"passive",{get:function(){Xp=!0}}),window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{Xp=!1}var br=null,Uy=null,ph=null;function $2(){if(ph)return ph;var t,e=Uy,n=e.length,s,r="value"in br?br.value:br.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(s=1;s<=a&&e[n-s]===r[i-s];s++);return ph=r.slice(t,1<s?1-s:void 0)}function gh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qu(){return!0}function D1(){return!1}function tn(t){function e(n,s,r,i,a){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qu:D1,this.isPropagationStopped=D1,this}return Ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qu)},persist:function(){},isPersistent:qu}),e}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rf=tn(Ki),Hc=Ue({},Ki,{view:0,detail:0}),SI=tn(Hc),Dm,km,cl,af=Ue({},Hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cl&&(cl&&t.type==="mousemove"?(Dm=t.screenX-cl.screenX,km=t.screenY-cl.screenY):km=Dm=0,cl=t),Dm)},movementY:function(t){return"movementY"in t?t.movementY:km}}),k1=tn(af),AI=Ue({},af,{dataTransfer:0}),jI=tn(AI),CI=Ue({},Hc,{relatedTarget:0}),Pm=tn(CI),RI=Ue({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),II=tn(RI),MI=Ue({},Ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DI=tn(MI),kI=Ue({},Ki,{data:0}),P1=tn(kI),PI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=VI[t])?!!e[t]:!1}function zy(){return LI}var UI=Ue({},Hc,{key:function(t){if(t.key){var e=PI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?OI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zy,charCode:function(t){return t.type==="keypress"?gh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zI=tn(UI),BI=Ue({},af,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O1=tn(BI),FI=Ue({},Hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zy}),qI=tn(FI),HI=Ue({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),GI=tn(HI),$I=Ue({},af,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),YI=tn($I),QI=Ue({},Ki,{newState:0,oldState:0}),KI=tn(QI),WI=[9,13,27,32],By=ks&&"CompositionEvent"in window,Pl=null;ks&&"documentMode"in document&&(Pl=document.documentMode);var XI=ks&&"TextEvent"in window&&!Pl,Y2=ks&&(!By||Pl&&8<Pl&&11>=Pl),V1=" ",L1=!1;function Q2(t,e){switch(t){case"keyup":return WI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ea=!1;function JI(t,e){switch(t){case"compositionend":return K2(e);case"keypress":return e.which!==32?null:(L1=!0,V1);case"textInput":return t=e.data,t===V1&&L1?null:t;default:return null}}function ZI(t,e){if(Ea)return t==="compositionend"||!By&&Q2(t,e)?(t=$2(),ph=Uy=br=null,Ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Y2&&e.locale!=="ko"?null:e.data;default:return null}}var e6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!e6[t.type]:e==="textarea"}function W2(t,e,n,s){Ta?Ba?Ba.push(s):Ba=[s]:Ta=s,e=dd(e,"onChange"),0<e.length&&(n=new rf("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Ol=null,oc=null;function t6(t){GN(t,0)}function of(t){var e=_l(t);if(z2(e))return t}function z1(t,e){if(t==="change")return e}var X2=!1;if(ks){var Om;if(ks){var Vm="oninput"in document;if(!Vm){var B1=document.createElement("div");B1.setAttribute("oninput","return;"),Vm=typeof B1.oninput=="function"}Om=Vm}else Om=!1;X2=Om&&(!document.documentMode||9<document.documentMode)}function F1(){Ol&&(Ol.detachEvent("onpropertychange",J2),oc=Ol=null)}function J2(t){if(t.propertyName==="value"&&of(oc)){var e=[];W2(e,oc,t,Ly(t)),G2(t6,e)}}function n6(t,e,n){t==="focusin"?(F1(),Ol=e,oc=n,Ol.attachEvent("onpropertychange",J2)):t==="focusout"&&F1()}function s6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return of(oc)}function r6(t,e){if(t==="click")return of(e)}function i6(t,e){if(t==="input"||t==="change")return of(e)}function a6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yn=typeof Object.is=="function"?Object.is:a6;function lc(t,e){if(yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Gp.call(e,r)||!yn(t[r],e[r]))return!1}return!0}function q1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function H1(t,e){var n=q1(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=q1(n)}}function Z2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Z2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function eE(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Qh(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Qh(t.document)}return e}function Fy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var o6=ks&&"documentMode"in document&&11>=document.documentMode,Na=null,Jp=null,Vl=null,Zp=!1;function G1(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zp||Na==null||Na!==Qh(s)||(s=Na,"selectionStart"in s&&Fy(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Vl&&lc(Vl,s)||(Vl=s,s=dd(Jp,"onSelect"),0<s.length&&(e=new rf("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Na)))}function xi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sa={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionrun:xi("Transition","TransitionRun"),transitionstart:xi("Transition","TransitionStart"),transitioncancel:xi("Transition","TransitionCancel"),transitionend:xi("Transition","TransitionEnd")},Lm={},tE={};ks&&(tE=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Wi(t){if(Lm[t])return Lm[t];if(!Sa[t])return t;var e=Sa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in tE)return Lm[t]=e[n];return t}var nE=Wi("animationend"),sE=Wi("animationiteration"),rE=Wi("animationstart"),l6=Wi("transitionrun"),c6=Wi("transitionstart"),u6=Wi("transitioncancel"),iE=Wi("transitionend"),aE=new Map,eg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");eg.push("scrollEnd");function Hn(t,e){aE.set(t,e),Qi(e,[t])}var Kh=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Nn=[],Aa=0,qy=0;function lf(){for(var t=Aa,e=qy=Aa=0;e<t;){var n=Nn[e];Nn[e++]=null;var s=Nn[e];Nn[e++]=null;var r=Nn[e];Nn[e++]=null;var i=Nn[e];if(Nn[e++]=null,s!==null&&r!==null){var a=s.pending;a===null?r.next=r:(r.next=a.next,a.next=r),s.pending=r}i!==0&&oE(n,r,i)}}function cf(t,e,n,s){Nn[Aa++]=t,Nn[Aa++]=e,Nn[Aa++]=n,Nn[Aa++]=s,qy|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function Hy(t,e,n,s){return cf(t,e,n,s),Wh(t)}function Xi(t,e){return cf(t,null,null,e),Wh(t)}function oE(t,e,n){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n);for(var r=!1,i=t.return;i!==null;)i.childLanes|=n,s=i.alternate,s!==null&&(s.childLanes|=n),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(r=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,r&&e!==null&&(r=31-fn(n),t=i.hiddenUpdates,s=t[r],s===null?t[r]=[e]:s.push(e),e.lane=n|536870912),i):null}function Wh(t){if(50<$l)throw $l=0,wg=null,Error(U(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ja={};function h6(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,e,n,s){return new h6(t,e,n,s)}function Gy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function As(t,e){var n=t.alternate;return n===null?(n=on(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function lE(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function yh(t,e,n,s,r,i){var a=0;if(s=t,typeof t=="function")Gy(t)&&(a=1);else if(typeof t=="string")a=gM(t,n,ts.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Bp:return t=on(31,n,e,r),t.elementType=Bp,t.lanes=i,t;case ba:return Mi(n.children,r,i,e);case A2:a=8,r|=24;break;case Lp:return t=on(12,n,e,r|2),t.elementType=Lp,t.lanes=i,t;case Up:return t=on(13,n,e,r),t.elementType=Up,t.lanes=i,t;case zp:return t=on(19,n,e,r),t.elementType=zp,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _s:a=10;break e;case j2:a=9;break e;case Iy:a=11;break e;case My:a=14;break e;case cr:a=16,s=null;break e}a=29,n=Error(U(130,t===null?"null":typeof t,"")),s=null}return e=on(a,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function Mi(t,e,n,s){return t=on(7,t,s,e),t.lanes=n,t}function Um(t,e,n){return t=on(6,t,null,e),t.lanes=n,t}function cE(t){var e=on(18,null,null,0);return e.stateNode=t,e}function zm(t,e,n){return e=on(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var $1=new WeakMap;function Rn(t,e){if(typeof t=="object"&&t!==null){var n=$1.get(t);return n!==void 0?n:(e={value:t,source:e,stack:S1(e)},$1.set(t,e),e)}return{value:t,source:e,stack:S1(e)}}var Ca=[],Ra=0,Xh=null,cc=0,An=[],jn=0,zr=null,Jn=1,Zn="";function bs(t,e){Ca[Ra++]=cc,Ca[Ra++]=Xh,Xh=t,cc=e}function uE(t,e,n){An[jn++]=Jn,An[jn++]=Zn,An[jn++]=zr,zr=t;var s=Jn;t=Zn;var r=32-fn(s)-1;s&=~(1<<r),n+=1;var i=32-fn(e)+r;if(30<i){var a=r-r%5;i=(s&(1<<a)-1).toString(32),s>>=a,r-=a,Jn=1<<32-fn(e)+r|n<<r|s,Zn=i+t}else Jn=1<<i|n<<r|s,Zn=t}function $y(t){t.return!==null&&(bs(t,1),uE(t,1,0))}function Yy(t){for(;t===Xh;)Xh=Ca[--Ra],Ca[Ra]=null,cc=Ca[--Ra],Ca[Ra]=null;for(;t===zr;)zr=An[--jn],An[jn]=null,Zn=An[--jn],An[jn]=null,Jn=An[--jn],An[jn]=null}function hE(t,e){An[jn++]=Jn,An[jn++]=Zn,An[jn++]=zr,Jn=e.id,Zn=e.overflow,zr=t}var At=null,Pe=null,he=!1,Sr=null,In=!1,tg=Error(U(519));function Br(t){var e=Error(U(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw uc(Rn(e,t)),tg}function Y1(t){var e=t.stateNode,n=t.type,s=t.memoizedProps;switch(e[St]=t,e[en]=s,n){case"dialog":ie("cancel",e),ie("close",e);break;case"iframe":case"object":case"embed":ie("load",e);break;case"video":case"audio":for(n=0;n<mc.length;n++)ie(mc[n],e);break;case"source":ie("error",e);break;case"img":case"image":case"link":ie("error",e),ie("load",e);break;case"details":ie("toggle",e);break;case"input":ie("invalid",e),B2(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ie("invalid",e);break;case"textarea":ie("invalid",e),q2(e,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||s.suppressHydrationWarning===!0||YN(e.textContent,n)?(s.popover!=null&&(ie("beforetoggle",e),ie("toggle",e)),s.onScroll!=null&&ie("scroll",e),s.onScrollEnd!=null&&ie("scrollend",e),s.onClick!=null&&(e.onclick=Ts),e=!0):e=!1,e||Br(t,!0)}function Q1(t){for(At=t.return;At;)switch(At.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:At=At.return}}function ca(t){if(t!==At)return!1;if(!he)return Q1(t),he=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Sg(t.type,t.memoizedProps)),n=!n),n&&Pe&&Br(t),Q1(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));Pe=kb(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));Pe=kb(t)}else e===27?(e=Pe,ri(t.type)?(t=Rg,Rg=null,Pe=t):Pe=e):Pe=At?kn(t.stateNode.nextSibling):null;return!0}function Li(){Pe=At=null,he=!1}function Bm(){var t=Sr;return t!==null&&(Wt===null?Wt=t:Wt.push.apply(Wt,t),Sr=null),t}function uc(t){Sr===null?Sr=[t]:Sr.push(t)}var ng=fs(null),Ji=null,Es=null;function hr(t,e,n){Ie(ng,e._currentValue),e._currentValue=n}function js(t){t._currentValue=ng.current,wt(ng)}function sg(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function rg(t,e,n,s){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var i=r.dependencies;if(i!==null){var a=r.child;i=i.firstContext;e:for(;i!==null;){var l=i;i=r;for(var c=0;c<e.length;c++)if(l.context===e[c]){i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),sg(i.return,n,t),s||(a=null);break e}i=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(U(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),sg(a,n,t),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function Eo(t,e,n,s){t=null;for(var r=e,i=!1;r!==null;){if(!i){if(r.flags&524288)i=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(U(387));if(a=a.memoizedProps,a!==null){var l=r.type;yn(r.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(r===Hh.current){if(a=r.alternate,a===null)throw Error(U(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(gc):t=[gc])}r=r.return}t!==null&&rg(e,t,n,s),e.flags|=262144}function Jh(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ui(t){Ji=t,Es=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Rt(t){return dE(Ji,t)}function Hu(t,e){return Ji===null&&Ui(t),dE(t,e)}function dE(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Es===null){if(t===null)throw Error(U(308));Es=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Es=Es.next=e;return n}var d6=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},f6=ft.unstable_scheduleCallback,m6=ft.unstable_NormalPriority,rt={$$typeof:_s,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qy(){return{controller:new d6,data:new Map,refCount:0}}function Gc(t){t.refCount--,t.refCount===0&&f6(m6,function(){t.controller.abort()})}var Ll=null,ig=0,Za=0,Fa=null;function p6(t,e){if(Ll===null){var n=Ll=[];ig=0,Za=v0(),Fa={status:"pending",value:void 0,then:function(s){n.push(s)}}}return ig++,e.then(K1,K1),e}function K1(){if(--ig===0&&Ll!==null){Fa!==null&&(Fa.status="fulfilled");var t=Ll;Ll=null,Za=0,Fa=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function g6(t,e){var n=[],s={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(s.status="rejected",s.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),s}var W1=ee.S;ee.S=function(t,e){SN=hn(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&p6(t,e),W1!==null&&W1(t,e)};var Di=fs(null);function Ky(){var t=Di.current;return t!==null?t:Re.pooledCache}function xh(t,e){e===null?Ie(Di,Di.current):Ie(Di,e.pool)}function fE(){var t=Ky();return t===null?null:{parent:rt._currentValue,pool:t}}var No=Error(U(460)),Wy=Error(U(474)),uf=Error(U(542)),Zh={then:function(){}};function X1(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mE(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Ts,Ts),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Z1(t),t;default:if(typeof e.status=="string")e.then(Ts,Ts);else{if(t=Re,t!==null&&100<t.shellSuspendCounter)throw Error(U(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=s}},function(s){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Z1(t),t}throw ki=e,No}}function _i(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ki=n,No):n}}var ki=null;function J1(){if(ki===null)throw Error(U(459));var t=ki;return ki=null,t}function Z1(t){if(t===No||t===uf)throw Error(U(483))}var qa=null,hc=0;function Gu(t){var e=hc;return hc+=1,qa===null&&(qa=[]),mE(qa,t,e)}function ul(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function $u(t,e){throw e.$$typeof===nI?Error(U(525)):(t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function pE(t){function e(x,v){if(t){var _=x.deletions;_===null?(x.deletions=[v],x.flags|=16):_.push(v)}}function n(x,v){if(!t)return null;for(;v!==null;)e(x,v),v=v.sibling;return null}function s(x){for(var v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function r(x,v){return x=As(x,v),x.index=0,x.sibling=null,x}function i(x,v,_){return x.index=_,t?(_=x.alternate,_!==null?(_=_.index,_<v?(x.flags|=67108866,v):_):(x.flags|=67108866,v)):(x.flags|=1048576,v)}function a(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function l(x,v,_,C){return v===null||v.tag!==6?(v=Um(_,x.mode,C),v.return=x,v):(v=r(v,_),v.return=x,v)}function c(x,v,_,C){var D=_.type;return D===ba?d(x,v,_.props.children,C,_.key):v!==null&&(v.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===cr&&_i(D)===v.type)?(v=r(v,_.props),ul(v,_),v.return=x,v):(v=yh(_.type,_.key,_.props,null,x.mode,C),ul(v,_),v.return=x,v)}function h(x,v,_,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=zm(_,x.mode,C),v.return=x,v):(v=r(v,_.children||[]),v.return=x,v)}function d(x,v,_,C,D){return v===null||v.tag!==7?(v=Mi(_,x.mode,C,D),v.return=x,v):(v=r(v,_),v.return=x,v)}function f(x,v,_){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Um(""+v,x.mode,_),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Lu:return _=yh(v.type,v.key,v.props,null,x.mode,_),ul(_,v),_.return=x,_;case bl:return v=zm(v,x.mode,_),v.return=x,v;case cr:return v=_i(v),f(x,v,_)}if(wl(v)||ol(v))return v=Mi(v,x.mode,_,null),v.return=x,v;if(typeof v.then=="function")return f(x,Gu(v),_);if(v.$$typeof===_s)return f(x,Hu(x,v),_);$u(x,v)}return null}function m(x,v,_,C){var D=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return D!==null?null:l(x,v,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Lu:return _.key===D?c(x,v,_,C):null;case bl:return _.key===D?h(x,v,_,C):null;case cr:return _=_i(_),m(x,v,_,C)}if(wl(_)||ol(_))return D!==null?null:d(x,v,_,C,null);if(typeof _.then=="function")return m(x,v,Gu(_),C);if(_.$$typeof===_s)return m(x,v,Hu(x,_),C);$u(x,_)}return null}function g(x,v,_,C,D){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return x=x.get(_)||null,l(v,x,""+C,D);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Lu:return x=x.get(C.key===null?_:C.key)||null,c(v,x,C,D);case bl:return x=x.get(C.key===null?_:C.key)||null,h(v,x,C,D);case cr:return C=_i(C),g(x,v,_,C,D)}if(wl(C)||ol(C))return x=x.get(_)||null,d(v,x,C,D,null);if(typeof C.then=="function")return g(x,v,_,Gu(C),D);if(C.$$typeof===_s)return g(x,v,_,Hu(v,C),D);$u(v,C)}return null}function b(x,v,_,C){for(var D=null,P=null,N=v,w=v=0,A=null;N!==null&&w<_.length;w++){N.index>w?(A=N,N=null):A=N.sibling;var R=m(x,N,_[w],C);if(R===null){N===null&&(N=A);break}t&&N&&R.alternate===null&&e(x,N),v=i(R,v,w),P===null?D=R:P.sibling=R,P=R,N=A}if(w===_.length)return n(x,N),he&&bs(x,w),D;if(N===null){for(;w<_.length;w++)N=f(x,_[w],C),N!==null&&(v=i(N,v,w),P===null?D=N:P.sibling=N,P=N);return he&&bs(x,w),D}for(N=s(N);w<_.length;w++)A=g(N,x,w,_[w],C),A!==null&&(t&&A.alternate!==null&&N.delete(A.key===null?w:A.key),v=i(A,v,w),P===null?D=A:P.sibling=A,P=A);return t&&N.forEach(function(M){return e(x,M)}),he&&bs(x,w),D}function E(x,v,_,C){if(_==null)throw Error(U(151));for(var D=null,P=null,N=v,w=v=0,A=null,R=_.next();N!==null&&!R.done;w++,R=_.next()){N.index>w?(A=N,N=null):A=N.sibling;var M=m(x,N,R.value,C);if(M===null){N===null&&(N=A);break}t&&N&&M.alternate===null&&e(x,N),v=i(M,v,w),P===null?D=M:P.sibling=M,P=M,N=A}if(R.done)return n(x,N),he&&bs(x,w),D;if(N===null){for(;!R.done;w++,R=_.next())R=f(x,R.value,C),R!==null&&(v=i(R,v,w),P===null?D=R:P.sibling=R,P=R);return he&&bs(x,w),D}for(N=s(N);!R.done;w++,R=_.next())R=g(N,x,w,R.value,C),R!==null&&(t&&R.alternate!==null&&N.delete(R.key===null?w:R.key),v=i(R,v,w),P===null?D=R:P.sibling=R,P=R);return t&&N.forEach(function(k){return e(x,k)}),he&&bs(x,w),D}function S(x,v,_,C){if(typeof _=="object"&&_!==null&&_.type===ba&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Lu:e:{for(var D=_.key;v!==null;){if(v.key===D){if(D=_.type,D===ba){if(v.tag===7){n(x,v.sibling),C=r(v,_.props.children),C.return=x,x=C;break e}}else if(v.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===cr&&_i(D)===v.type){n(x,v.sibling),C=r(v,_.props),ul(C,_),C.return=x,x=C;break e}n(x,v);break}else e(x,v);v=v.sibling}_.type===ba?(C=Mi(_.props.children,x.mode,C,_.key),C.return=x,x=C):(C=yh(_.type,_.key,_.props,null,x.mode,C),ul(C,_),C.return=x,x=C)}return a(x);case bl:e:{for(D=_.key;v!==null;){if(v.key===D)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(x,v.sibling),C=r(v,_.children||[]),C.return=x,x=C;break e}else{n(x,v);break}else e(x,v);v=v.sibling}C=zm(_,x.mode,C),C.return=x,x=C}return a(x);case cr:return _=_i(_),S(x,v,_,C)}if(wl(_))return b(x,v,_,C);if(ol(_)){if(D=ol(_),typeof D!="function")throw Error(U(150));return _=D.call(_),E(x,v,_,C)}if(typeof _.then=="function")return S(x,v,Gu(_),C);if(_.$$typeof===_s)return S(x,v,Hu(x,_),C);$u(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,v!==null&&v.tag===6?(n(x,v.sibling),C=r(v,_),C.return=x,x=C):(n(x,v),C=Um(_,x.mode,C),C.return=x,x=C),a(x)):n(x,v)}return function(x,v,_,C){try{hc=0;var D=S(x,v,_,C);return qa=null,D}catch(N){if(N===No||N===uf)throw N;var P=on(29,N,null,x.mode);return P.lanes=C,P.return=x,P}finally{}}}var zi=pE(!0),gE=pE(!1),ur=!1;function Xy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ag(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ar(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function jr(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,pe&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,e=Wh(t),oE(t,null,n),e}return cf(t,s,e,n),Wh(t)}function Ul(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,k2(t,n)}}function Fm(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?r=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,callbacks:s.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var og=!1;function zl(){if(og){var t=Fa;if(t!==null)throw t}}function Bl(t,e,n,s){og=!1;var r=t.updateQueue;ur=!1;var i=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?i=h:a.next=h,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=c))}if(i!==null){var f=r.baseState;a=0,d=h=c=null,l=i;do{var m=l.lane&-536870913,g=m!==l.lane;if(g?(ue&m)===m:(s&m)===m){m!==0&&m===Za&&(og=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var b=t,E=l;m=e;var S=n;switch(E.tag){case 1:if(b=E.payload,typeof b=="function"){f=b.call(S,f,m);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=E.payload,m=typeof b=="function"?b.call(S,f,m):b,m==null)break e;f=Ue({},f,m);break e;case 2:ur=!0}}m=l.callback,m!==null&&(t.flags|=64,g&&(t.flags|=8192),g=r.callbacks,g===null?r.callbacks=[m]:g.push(m))}else g={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=g,c=f):d=d.next=g,a|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;g=l,l=g.next,g.next=null,r.lastBaseUpdate=g,r.shared.pending=null}}while(!0);d===null&&(c=f),r.baseState=c,r.firstBaseUpdate=h,r.lastBaseUpdate=d,i===null&&(r.shared.lanes=0),qr|=a,t.lanes=a,t.memoizedState=f}}function yE(t,e){if(typeof t!="function")throw Error(U(191,t));t.call(e)}function xE(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)yE(n[t],e)}var eo=fs(null),ed=fs(0);function eb(t,e){t=Ls,Ie(ed,t),Ie(eo,e),Ls=t|e.baseLanes}function lg(){Ie(ed,Ls),Ie(eo,eo.current)}function Jy(){Ls=ed.current,wt(eo),wt(ed)}var xn=fs(null),Dn=null;function dr(t){var e=t.alternate;Ie(Ze,Ze.current&1),Ie(xn,t),Dn===null&&(e===null||eo.current!==null||e.memoizedState!==null)&&(Dn=t)}function cg(t){Ie(Ze,Ze.current),Ie(xn,t),Dn===null&&(Dn=t)}function vE(t){t.tag===22?(Ie(Ze,Ze.current),Ie(xn,t),Dn===null&&(Dn=t)):fr()}function fr(){Ie(Ze,Ze.current),Ie(xn,xn.current)}function an(t){wt(xn),Dn===t&&(Dn=null),wt(Ze)}var Ze=fs(0);function td(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||jg(n)||Cg(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ps=0,se=null,Ee=null,nt=null,nd=!1,Ha=!1,Bi=!1,sd=0,dc=0,Ga=null,y6=0;function Ye(){throw Error(U(321))}function Zy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yn(t[n],e[n]))return!1;return!0}function e0(t,e,n,s,r,i){return Ps=i,se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ee.H=t===null||t.memoizedState===null?WE:h0,Bi=!1,i=n(s,r),Bi=!1,Ha&&(i=wE(e,n,s,r)),bE(t),i}function bE(t){ee.H=fc;var e=Ee!==null&&Ee.next!==null;if(Ps=0,nt=Ee=se=null,nd=!1,dc=0,Ga=null,e)throw Error(U(300));t===null||at||(t=t.dependencies,t!==null&&Jh(t)&&(at=!0))}function wE(t,e,n,s){se=t;var r=0;do{if(Ha&&(Ga=null),dc=0,Ha=!1,25<=r)throw Error(U(301));if(r+=1,nt=Ee=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}ee.H=XE,i=e(n,s)}while(Ha);return i}function x6(){var t=ee.H,e=t.useState()[0];return e=typeof e.then=="function"?$c(e):e,t=t.useState()[0],(Ee!==null?Ee.memoizedState:null)!==t&&(se.flags|=1024),e}function t0(){var t=sd!==0;return sd=0,t}function n0(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function s0(t){if(nd){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}nd=!1}Ps=0,nt=Ee=se=null,Ha=!1,dc=sd=0,Ga=null}function Ft(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?se.memoizedState=nt=t:nt=nt.next=t,nt}function et(){if(Ee===null){var t=se.alternate;t=t!==null?t.memoizedState:null}else t=Ee.next;var e=nt===null?se.memoizedState:nt.next;if(e!==null)nt=e,Ee=t;else{if(t===null)throw se.alternate===null?Error(U(467)):Error(U(310));Ee=t,t={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},nt===null?se.memoizedState=nt=t:nt=nt.next=t}return nt}function hf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $c(t){var e=dc;return dc+=1,Ga===null&&(Ga=[]),t=mE(Ga,t,e),e=se,(nt===null?e.memoizedState:nt.next)===null&&(e=e.alternate,ee.H=e===null||e.memoizedState===null?WE:h0),t}function df(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return $c(t);if(t.$$typeof===_s)return Rt(t)}throw Error(U(438,String(t)))}function r0(t){var e=null,n=se.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var s=se.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=hf(),se.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),s=0;s<t;s++)n[s]=sI;return e.index++,n}function Os(t,e){return typeof e=="function"?e(t):e}function vh(t){var e=et();return i0(e,Ee,t)}function i0(t,e,n){var s=t.queue;if(s===null)throw Error(U(311));s.lastRenderedReducer=n;var r=t.baseQueue,i=s.pending;if(i!==null){if(r!==null){var a=r.next;r.next=i.next,i.next=a}e.baseQueue=r=i,s.pending=null}if(i=t.baseState,r===null)t.memoizedState=i;else{e=r.next;var l=a=null,c=null,h=e,d=!1;do{var f=h.lane&-536870913;if(f!==h.lane?(ue&f)===f:(Ps&f)===f){var m=h.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),f===Za&&(d=!0);else if((Ps&m)===m){h=h.next,m===Za&&(d=!0);continue}else f={lane:0,revertLane:h.revertLane,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},c===null?(l=c=f,a=i):c=c.next=f,se.lanes|=m,qr|=m;f=h.action,Bi&&n(i,f),i=h.hasEagerState?h.eagerState:n(i,f)}else m={lane:f,revertLane:h.revertLane,gesture:h.gesture,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},c===null?(l=c=m,a=i):c=c.next=m,se.lanes|=f,qr|=f;h=h.next}while(h!==null&&h!==e);if(c===null?a=i:c.next=l,!yn(i,t.memoizedState)&&(at=!0,d&&(n=Fa,n!==null)))throw n;t.memoizedState=i,t.baseState=a,t.baseQueue=c,s.lastRenderedState=i}return r===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function qm(t){var e=et(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do i=t(i,a.action),a=a.next;while(a!==r);yn(i,e.memoizedState)||(at=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function _E(t,e,n){var s=se,r=et(),i=he;if(i){if(n===void 0)throw Error(U(407));n=n()}else n=e();var a=!yn((Ee||r).memoizedState,n);if(a&&(r.memoizedState=n,at=!0),r=r.queue,a0(NE.bind(null,s,r,t),[t]),r.getSnapshot!==e||a||nt!==null&&nt.memoizedState.tag&1){if(s.flags|=2048,to(9,{destroy:void 0},EE.bind(null,s,r,n,e),null),Re===null)throw Error(U(349));i||Ps&127||TE(s,e,n)}return n}function TE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=se.updateQueue,e===null?(e=hf(),se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function EE(t,e,n,s){e.value=n,e.getSnapshot=s,SE(e)&&AE(t)}function NE(t,e,n){return n(function(){SE(e)&&AE(t)})}function SE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yn(t,n)}catch{return!0}}function AE(t){var e=Xi(t,2);e!==null&&Jt(e,t,2)}function ug(t){var e=Ft();if(typeof t=="function"){var n=t;if(t=n(),Bi){vr(!0);try{n()}finally{vr(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:t},e}function jE(t,e,n,s){return t.baseState=n,i0(t,Ee,typeof s=="function"?s:Os)}function v6(t,e,n,s,r){if(mf(t))throw Error(U(485));if(t=e.action,t!==null){var i={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){i.listeners.push(a)}};ee.T!==null?n(!0):i.isTransition=!1,s(i),n=e.pending,n===null?(i.next=e.pending=i,CE(e,i)):(i.next=n.next,e.pending=n.next=i)}}function CE(t,e){var n=e.action,s=e.payload,r=t.state;if(e.isTransition){var i=ee.T,a={};ee.T=a;try{var l=n(r,s),c=ee.S;c!==null&&c(a,l),tb(t,e,l)}catch(h){hg(t,e,h)}finally{i!==null&&a.types!==null&&(i.types=a.types),ee.T=i}}else try{i=n(r,s),tb(t,e,i)}catch(h){hg(t,e,h)}}function tb(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){nb(t,e,s)},function(s){return hg(t,e,s)}):nb(t,e,n)}function nb(t,e,n){e.status="fulfilled",e.value=n,RE(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,CE(t,n)))}function hg(t,e,n){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=n,RE(e),e=e.next;while(e!==s)}t.action=null}function RE(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function IE(t,e){return e}function sb(t,e){if(he){var n=Re.formState;if(n!==null){e:{var s=se;if(he){if(Pe){t:{for(var r=Pe,i=In;r.nodeType!==8;){if(!i){r=null;break t}if(r=kn(r.nextSibling),r===null){r=null;break t}}i=r.data,r=i==="F!"||i==="F"?r:null}if(r){Pe=kn(r.nextSibling),s=r.data==="F!";break e}}Br(s)}s=!1}s&&(e=n[0])}}return n=Ft(),n.memoizedState=n.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:IE,lastRenderedState:e},n.queue=s,n=YE.bind(null,se,s),s.dispatch=n,s=ug(!1),i=u0.bind(null,se,!1,s.queue),s=Ft(),r={state:e,dispatch:null,action:t,pending:null},s.queue=r,n=v6.bind(null,se,r,i,n),r.dispatch=n,s.memoizedState=t,[e,n,!1]}function rb(t){var e=et();return ME(e,Ee,t)}function ME(t,e,n){if(e=i0(t,e,IE)[0],t=vh(Os)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=$c(e)}catch(a){throw a===No?uf:a}else s=e;e=et();var r=e.queue,i=r.dispatch;return n!==e.memoizedState&&(se.flags|=2048,to(9,{destroy:void 0},b6.bind(null,r,n),null)),[s,i,t]}function b6(t,e){t.action=e}function ib(t){var e=et(),n=Ee;if(n!==null)return ME(e,n,t);et(),e=e.memoizedState,n=et();var s=n.queue.dispatch;return n.memoizedState=t,[e,s,!1]}function to(t,e,n,s){return t={tag:t,create:n,deps:s,inst:e,next:null},e=se.updateQueue,e===null&&(e=hf(),se.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t),t}function DE(){return et().memoizedState}function bh(t,e,n,s){var r=Ft();se.flags|=t,r.memoizedState=to(1|e,{destroy:void 0},n,s===void 0?null:s)}function ff(t,e,n,s){var r=et();s=s===void 0?null:s;var i=r.memoizedState.inst;Ee!==null&&s!==null&&Zy(s,Ee.memoizedState.deps)?r.memoizedState=to(e,i,n,s):(se.flags|=t,r.memoizedState=to(1|e,i,n,s))}function ab(t,e){bh(8390656,8,t,e)}function a0(t,e){ff(2048,8,t,e)}function w6(t){se.flags|=4;var e=se.updateQueue;if(e===null)e=hf(),se.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function kE(t){var e=et().memoizedState;return w6({ref:e,nextImpl:t}),function(){if(pe&2)throw Error(U(440));return e.impl.apply(void 0,arguments)}}function PE(t,e){return ff(4,2,t,e)}function OE(t,e){return ff(4,4,t,e)}function VE(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function LE(t,e,n){n=n!=null?n.concat([t]):null,ff(4,4,VE.bind(null,e,t),n)}function o0(){}function UE(t,e){var n=et();e=e===void 0?null:e;var s=n.memoizedState;return e!==null&&Zy(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function zE(t,e){var n=et();e=e===void 0?null:e;var s=n.memoizedState;if(e!==null&&Zy(e,s[1]))return s[0];if(s=t(),Bi){vr(!0);try{t()}finally{vr(!1)}}return n.memoizedState=[s,e],s}function l0(t,e,n){return n===void 0||Ps&1073741824&&!(ue&261930)?t.memoizedState=e:(t.memoizedState=n,t=jN(),se.lanes|=t,qr|=t,n)}function BE(t,e,n,s){return yn(n,e)?n:eo.current!==null?(t=l0(t,n,s),yn(t,e)||(at=!0),t):!(Ps&42)||Ps&1073741824&&!(ue&261930)?(at=!0,t.memoizedState=n):(t=jN(),se.lanes|=t,qr|=t,e)}function FE(t,e,n,s,r){var i=ge.p;ge.p=i!==0&&8>i?i:8;var a=ee.T,l={};ee.T=l,u0(t,!1,e,n);try{var c=r(),h=ee.S;if(h!==null&&h(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=g6(c,s);Fl(t,e,d,mn(t))}else Fl(t,e,s,mn(t))}catch(f){Fl(t,e,{then:function(){},status:"rejected",reason:f},mn())}finally{ge.p=i,a!==null&&l.types!==null&&(a.types=l.types),ee.T=a}}function _6(){}function dg(t,e,n,s){if(t.tag!==5)throw Error(U(476));var r=qE(t).queue;FE(t,r,e,Ii,n===null?_6:function(){return HE(t),n(s)})}function qE(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Ii,baseState:Ii,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:Ii},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function HE(t){var e=qE(t);e.next===null&&(e=t.alternate.memoizedState),Fl(t,e.next.queue,{},mn())}function c0(){return Rt(gc)}function GE(){return et().memoizedState}function $E(){return et().memoizedState}function T6(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=mn();t=Ar(n);var s=jr(e,t,n);s!==null&&(Jt(s,e,n),Ul(s,e,n)),e={cache:Qy()},t.payload=e;return}e=e.return}}function E6(t,e,n){var s=mn();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},mf(t)?QE(e,n):(n=Hy(t,e,n,s),n!==null&&(Jt(n,t,s),KE(n,e,s)))}function YE(t,e,n){var s=mn();Fl(t,e,n,s)}function Fl(t,e,n,s){var r={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(mf(t))QE(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(r.hasEagerState=!0,r.eagerState=l,yn(l,a))return cf(t,e,r,0),Re===null&&lf(),!1}catch{}finally{}if(n=Hy(t,e,r,s),n!==null)return Jt(n,t,s),KE(n,e,s),!0}return!1}function u0(t,e,n,s){if(s={lane:2,revertLane:v0(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},mf(t)){if(e)throw Error(U(479))}else e=Hy(t,n,s,2),e!==null&&Jt(e,t,2)}function mf(t){var e=t.alternate;return t===se||e!==null&&e===se}function QE(t,e){Ha=nd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function KE(t,e,n){if(n&4194048){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,k2(t,n)}}var fc={readContext:Rt,use:df,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};fc.useEffectEvent=Ye;var WE={readContext:Rt,use:df,useCallback:function(t,e){return Ft().memoizedState=[t,e===void 0?null:e],t},useContext:Rt,useEffect:ab,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,bh(4194308,4,VE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bh(4194308,4,t,e)},useInsertionEffect:function(t,e){bh(4,2,t,e)},useMemo:function(t,e){var n=Ft();e=e===void 0?null:e;var s=t();if(Bi){vr(!0);try{t()}finally{vr(!1)}}return n.memoizedState=[s,e],s},useReducer:function(t,e,n){var s=Ft();if(n!==void 0){var r=n(e);if(Bi){vr(!0);try{n(e)}finally{vr(!1)}}}else r=e;return s.memoizedState=s.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},s.queue=t,t=t.dispatch=E6.bind(null,se,t),[s.memoizedState,t]},useRef:function(t){var e=Ft();return t={current:t},e.memoizedState=t},useState:function(t){t=ug(t);var e=t.queue,n=YE.bind(null,se,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:o0,useDeferredValue:function(t,e){var n=Ft();return l0(n,t,e)},useTransition:function(){var t=ug(!1);return t=FE.bind(null,se,t.queue,!0,!1),Ft().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var s=se,r=Ft();if(he){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Re===null)throw Error(U(349));ue&127||TE(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,ab(NE.bind(null,s,i,t),[t]),s.flags|=2048,to(9,{destroy:void 0},EE.bind(null,s,i,n,e),null),n},useId:function(){var t=Ft(),e=Re.identifierPrefix;if(he){var n=Zn,s=Jn;n=(s&~(1<<32-fn(s)-1)).toString(32)+n,e="_"+e+"R_"+n,n=sd++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=y6++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:c0,useFormState:sb,useActionState:sb,useOptimistic:function(t){var e=Ft();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=u0.bind(null,se,!0,n),n.dispatch=e,[t,e]},useMemoCache:r0,useCacheRefresh:function(){return Ft().memoizedState=T6.bind(null,se)},useEffectEvent:function(t){var e=Ft(),n={impl:t};return e.memoizedState=n,function(){if(pe&2)throw Error(U(440));return n.impl.apply(void 0,arguments)}}},h0={readContext:Rt,use:df,useCallback:UE,useContext:Rt,useEffect:a0,useImperativeHandle:LE,useInsertionEffect:PE,useLayoutEffect:OE,useMemo:zE,useReducer:vh,useRef:DE,useState:function(){return vh(Os)},useDebugValue:o0,useDeferredValue:function(t,e){var n=et();return BE(n,Ee.memoizedState,t,e)},useTransition:function(){var t=vh(Os)[0],e=et().memoizedState;return[typeof t=="boolean"?t:$c(t),e]},useSyncExternalStore:_E,useId:GE,useHostTransitionStatus:c0,useFormState:rb,useActionState:rb,useOptimistic:function(t,e){var n=et();return jE(n,Ee,t,e)},useMemoCache:r0,useCacheRefresh:$E};h0.useEffectEvent=kE;var XE={readContext:Rt,use:df,useCallback:UE,useContext:Rt,useEffect:a0,useImperativeHandle:LE,useInsertionEffect:PE,useLayoutEffect:OE,useMemo:zE,useReducer:qm,useRef:DE,useState:function(){return qm(Os)},useDebugValue:o0,useDeferredValue:function(t,e){var n=et();return Ee===null?l0(n,t,e):BE(n,Ee.memoizedState,t,e)},useTransition:function(){var t=qm(Os)[0],e=et().memoizedState;return[typeof t=="boolean"?t:$c(t),e]},useSyncExternalStore:_E,useId:GE,useHostTransitionStatus:c0,useFormState:ib,useActionState:ib,useOptimistic:function(t,e){var n=et();return Ee!==null?jE(n,Ee,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:r0,useCacheRefresh:$E};XE.useEffectEvent=kE;function Hm(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:Ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var fg={enqueueSetState:function(t,e,n){t=t._reactInternals;var s=mn(),r=Ar(s);r.payload=e,n!=null&&(r.callback=n),e=jr(t,r,s),e!==null&&(Jt(e,t,s),Ul(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=mn(),r=Ar(s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=jr(t,r,s),e!==null&&(Jt(e,t,s),Ul(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mn(),s=Ar(n);s.tag=2,e!=null&&(s.callback=e),e=jr(t,s,n),e!==null&&(Jt(e,t,n),Ul(e,t,n))}};function ob(t,e,n,s,r,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,a):e.prototype&&e.prototype.isPureReactComponent?!lc(n,s)||!lc(r,i):!0}function lb(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&fg.enqueueReplaceState(e,e.state,null)}function Fi(t,e){var n=e;if("ref"in e){n={};for(var s in e)s!=="ref"&&(n[s]=e[s])}if(t=t.defaultProps){n===e&&(n=Ue({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}function JE(t){Kh(t)}function ZE(t){console.error(t)}function eN(t){Kh(t)}function rd(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function cb(t,e,n){try{var s=t.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function mg(t,e,n){return n=Ar(n),n.tag=3,n.payload={element:null},n.callback=function(){rd(t,e)},n}function tN(t){return t=Ar(t),t.tag=3,t}function nN(t,e,n,s){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=s.value;t.payload=function(){return r(i)},t.callback=function(){cb(e,n,s)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){cb(e,n,s),typeof r!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var l=s.stack;this.componentDidCatch(s.value,{componentStack:l!==null?l:""})})}function N6(t,e,n,s,r){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=n.alternate,e!==null&&Eo(e,n,r,!0),n=xn.current,n!==null){switch(n.tag){case 31:case 13:return Dn===null?cd():n.alternate===null&&Ke===0&&(Ke=3),n.flags&=-257,n.flags|=65536,n.lanes=r,s===Zh?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([s]):e.add(s),tp(t,s,r)),!1;case 22:return n.flags|=65536,s===Zh?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([s]):n.add(s)),tp(t,s,r)),!1}throw Error(U(435,n.tag))}return tp(t,s,r),cd(),!1}if(he)return e=xn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,s!==tg&&(t=Error(U(422),{cause:s}),uc(Rn(t,n)))):(s!==tg&&(e=Error(U(423),{cause:s}),uc(Rn(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,s=Rn(s,n),r=mg(t.stateNode,s,r),Fm(t,r),Ke!==4&&(Ke=2)),!1;var i=Error(U(520),{cause:s});if(i=Rn(i,n),Gl===null?Gl=[i]:Gl.push(i),Ke!==4&&(Ke=2),e===null)return!0;s=Rn(s,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=mg(n.stateNode,s,t),Fm(n,t),!1;case 1:if(e=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Cr===null||!Cr.has(i))))return n.flags|=65536,r&=-r,n.lanes|=r,r=tN(r),nN(r,t,n,s),Fm(n,r),!1}n=n.return}while(n!==null);return!1}var d0=Error(U(461)),at=!1;function Et(t,e,n,s){e.child=t===null?gE(e,null,n,s):zi(e,t.child,n,s)}function ub(t,e,n,s,r){n=n.render;var i=e.ref;if("ref"in s){var a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}else a=s;return Ui(e),s=e0(t,e,n,a,i,r),l=t0(),t!==null&&!at?(n0(t,e,r),Vs(t,e,r)):(he&&l&&$y(e),e.flags|=1,Et(t,e,s,r),e.child)}function hb(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!Gy(i)&&i.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=i,sN(t,e,i,s,r)):(t=yh(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!f0(t,r)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:lc,n(a,s)&&t.ref===e.ref)return Vs(t,e,r)}return e.flags|=1,t=As(i,s),t.ref=e.ref,t.return=e,e.child=t}function sN(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(lc(i,s)&&t.ref===e.ref)if(at=!1,e.pendingProps=s=i,f0(t,r))t.flags&131072&&(at=!0);else return e.lanes=t.lanes,Vs(t,e,r)}return pg(t,e,n,s,r)}function rN(t,e,n,s){var r=s.children,i=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if(e.flags&128){if(i=i!==null?i.baseLanes|n:n,t!==null){for(s=e.child=t.child,r=0;s!==null;)r=r|s.lanes|s.childLanes,s=s.sibling;s=r&~i}else s=0,e.child=null;return db(t,e,i,n,s)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&xh(e,i!==null?i.cachePool:null),i!==null?eb(e,i):lg(),vE(e);else return s=e.lanes=536870912,db(t,e,i!==null?i.baseLanes|n:n,n,s)}else i!==null?(xh(e,i.cachePool),eb(e,i),fr(),e.memoizedState=null):(t!==null&&xh(e,null),lg(),fr());return Et(t,e,r,n),e.child}function Tl(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function db(t,e,n,s,r){var i=Ky();return i=i===null?null:{parent:rt._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&xh(e,null),lg(),vE(e),t!==null&&Eo(t,e,s,!0),e.childLanes=r,null}function wh(t,e){return e=id({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function fb(t,e,n){return zi(e,t.child,null,n),t=wh(e,e.pendingProps),t.flags|=2,an(e),e.memoizedState=null,t}function S6(t,e,n){var s=e.pendingProps,r=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(he){if(s.mode==="hidden")return t=wh(e,s),e.lanes=536870912,Tl(null,t);if(cg(e),(t=Pe)?(t=WN(t,In),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:zr!==null?{id:Jn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},n=cE(t),n.return=e,e.child=n,At=e,Pe=null)):t=null,t===null)throw Br(e);return e.lanes=536870912,null}return wh(e,s)}var i=t.memoizedState;if(i!==null){var a=i.dehydrated;if(cg(e),r)if(e.flags&256)e.flags&=-257,e=fb(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(U(558));else if(at||Eo(t,e,n,!1),r=(n&t.childLanes)!==0,at||r){if(s=Re,s!==null&&(a=P2(s,n),a!==0&&a!==i.retryLane))throw i.retryLane=a,Xi(t,a),Jt(s,t,a),d0;cd(),e=fb(t,e,n)}else t=i.treeContext,Pe=kn(a.nextSibling),At=e,he=!0,Sr=null,In=!1,t!==null&&hE(e,t),e=wh(e,s),e.flags|=4096;return e}return t=As(t.child,{mode:s.mode,children:s.children}),t.ref=e.ref,e.child=t,t.return=e,t}function _h(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(U(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function pg(t,e,n,s,r){return Ui(e),n=e0(t,e,n,s,void 0,r),s=t0(),t!==null&&!at?(n0(t,e,r),Vs(t,e,r)):(he&&s&&$y(e),e.flags|=1,Et(t,e,n,r),e.child)}function mb(t,e,n,s,r,i){return Ui(e),e.updateQueue=null,n=wE(e,s,n,r),bE(t),s=t0(),t!==null&&!at?(n0(t,e,i),Vs(t,e,i)):(he&&s&&$y(e),e.flags|=1,Et(t,e,n,i),e.child)}function pb(t,e,n,s,r){if(Ui(e),e.stateNode===null){var i=ja,a=n.contextType;typeof a=="object"&&a!==null&&(i=Rt(a)),i=new n(s,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=fg,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=s,i.state=e.memoizedState,i.refs={},Xy(e),a=n.contextType,i.context=typeof a=="object"&&a!==null?Rt(a):ja,i.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Hm(e,n,a,s),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(a=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),a!==i.state&&fg.enqueueReplaceState(i,i.state,null),Bl(e,s,i,r),zl(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){i=e.stateNode;var l=e.memoizedProps,c=Fi(n,l);i.props=c;var h=i.context,d=n.contextType;a=ja,typeof d=="object"&&d!==null&&(a=Rt(d));var f=n.getDerivedStateFromProps;d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l||h!==a)&&lb(e,i,s,a),ur=!1;var m=e.memoizedState;i.state=m,Bl(e,s,i,r),zl(),h=e.memoizedState,l||m!==h||ur?(typeof f=="function"&&(Hm(e,n,f,s),h=e.memoizedState),(c=ur||ob(e,n,c,s,m,h,a))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=h),i.props=s,i.state=h,i.context=a,s=c):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{i=e.stateNode,ag(t,e),a=e.memoizedProps,d=Fi(n,a),i.props=d,f=e.pendingProps,m=i.context,h=n.contextType,c=ja,typeof h=="object"&&h!==null&&(c=Rt(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||m!==c)&&lb(e,i,s,c),ur=!1,m=e.memoizedState,i.state=m,Bl(e,s,i,r),zl();var g=e.memoizedState;a!==f||m!==g||ur||t!==null&&t.dependencies!==null&&Jh(t.dependencies)?(typeof l=="function"&&(Hm(e,n,l,s),g=e.memoizedState),(d=ur||ob(e,n,d,s,m,g,c)||t!==null&&t.dependencies!==null&&Jh(t.dependencies))?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,g,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=g),i.props=s,i.state=g,i.context=c,s=d):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),s=!1)}return i=s,_h(t,e),s=(e.flags&128)!==0,i||s?(i=e.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&s?(e.child=zi(e,t.child,null,r),e.child=zi(e,null,n,r)):Et(t,e,n,r),e.memoizedState=i.state,t=e.child):t=Vs(t,e,r),t}function gb(t,e,n,s){return Li(),e.flags|=256,Et(t,e,n,s),e.child}var Gm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $m(t){return{baseLanes:t,cachePool:fE()}}function Ym(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=cn),t}function iN(t,e,n){var s=e.pendingProps,r=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(Ze.current&2)!==0),a&&(r=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(he){if(r?dr(e):fr(),(t=Pe)?(t=WN(t,In),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:zr!==null?{id:Jn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},n=cE(t),n.return=e,e.child=n,At=e,Pe=null)):t=null,t===null)throw Br(e);return Cg(t)?e.lanes=32:e.lanes=536870912,null}var l=s.children;return s=s.fallback,r?(fr(),r=e.mode,l=id({mode:"hidden",children:l},r),s=Mi(s,r,n,null),l.return=e,s.return=e,l.sibling=s,e.child=l,s=e.child,s.memoizedState=$m(n),s.childLanes=Ym(t,a,n),e.memoizedState=Gm,Tl(null,s)):(dr(e),gg(e,l))}var c=t.memoizedState;if(c!==null&&(l=c.dehydrated,l!==null)){if(i)e.flags&256?(dr(e),e.flags&=-257,e=Qm(t,e,n)):e.memoizedState!==null?(fr(),e.child=t.child,e.flags|=128,e=null):(fr(),l=s.fallback,r=e.mode,s=id({mode:"visible",children:s.children},r),l=Mi(l,r,n,null),l.flags|=2,s.return=e,l.return=e,s.sibling=l,e.child=s,zi(e,t.child,null,n),s=e.child,s.memoizedState=$m(n),s.childLanes=Ym(t,a,n),e.memoizedState=Gm,e=Tl(null,s));else if(dr(e),Cg(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,s=Error(U(419)),s.stack="",s.digest=a,uc({value:s,source:null,stack:null}),e=Qm(t,e,n)}else if(at||Eo(t,e,n,!1),a=(n&t.childLanes)!==0,at||a){if(a=Re,a!==null&&(s=P2(a,n),s!==0&&s!==c.retryLane))throw c.retryLane=s,Xi(t,s),Jt(a,t,s),d0;jg(l)||cd(),e=Qm(t,e,n)}else jg(l)?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,Pe=kn(l.nextSibling),At=e,he=!0,Sr=null,In=!1,t!==null&&hE(e,t),e=gg(e,s.children),e.flags|=4096);return e}return r?(fr(),l=s.fallback,r=e.mode,c=t.child,h=c.sibling,s=As(c,{mode:"hidden",children:s.children}),s.subtreeFlags=c.subtreeFlags&65011712,h!==null?l=As(h,l):(l=Mi(l,r,n,null),l.flags|=2),l.return=e,s.return=e,s.sibling=l,e.child=s,Tl(null,s),s=e.child,l=t.child.memoizedState,l===null?l=$m(n):(r=l.cachePool,r!==null?(c=rt._currentValue,r=r.parent!==c?{parent:c,pool:c}:r):r=fE(),l={baseLanes:l.baseLanes|n,cachePool:r}),s.memoizedState=l,s.childLanes=Ym(t,a,n),e.memoizedState=Gm,Tl(t.child,s)):(dr(e),n=t.child,t=n.sibling,n=As(n,{mode:"visible",children:s.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function gg(t,e){return e=id({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function id(t,e){return t=on(22,t,null,e),t.lanes=0,t}function Qm(t,e,n){return zi(e,t.child,null,n),t=gg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yb(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),sg(t.return,e,n)}function Km(t,e,n,s,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r,treeForkCount:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=r,a.treeForkCount=i)}function aN(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;s=s.children;var a=Ze.current,l=(a&2)!==0;if(l?(a=a&1|2,e.flags|=128):a&=1,Ie(Ze,a),Et(t,e,s,n),s=he?cc:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yb(t,n,e);else if(t.tag===19)yb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&td(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Km(e,!1,r,n,i,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&td(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Km(e,!0,n,null,i,s);break;case"together":Km(e,!1,null,null,void 0,s);break;default:e.memoizedState=null}return e.child}function Vs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qr|=e.lanes,!(n&e.childLanes))if(t!==null){if(Eo(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=As(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=As(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function f0(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Jh(t)))}function A6(t,e,n){switch(e.tag){case 3:Gh(e,e.stateNode.containerInfo),hr(e,rt,t.memoizedState.cache),Li();break;case 27:case 5:Hp(e);break;case 4:Gh(e,e.stateNode.containerInfo);break;case 10:hr(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,cg(e),null;break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(dr(e),e.flags|=128,null):n&e.child.childLanes?iN(t,e,n):(dr(e),t=Vs(t,e,n),t!==null?t.sibling:null);dr(e);break;case 19:var r=(t.flags&128)!==0;if(s=(n&e.childLanes)!==0,s||(Eo(t,e,n,!1),s=(n&e.childLanes)!==0),r){if(s)return aN(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ie(Ze,Ze.current),s)break;return null;case 22:return e.lanes=0,rN(t,e,n,e.pendingProps);case 24:hr(e,rt,t.memoizedState.cache)}return Vs(t,e,n)}function oN(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)at=!0;else{if(!f0(t,n)&&!(e.flags&128))return at=!1,A6(t,e,n);at=!!(t.flags&131072)}else at=!1,he&&e.flags&1048576&&uE(e,cc,e.index);switch(e.lanes=0,e.tag){case 16:e:{var s=e.pendingProps;if(t=_i(e.elementType),e.type=t,typeof t=="function")Gy(t)?(s=Fi(t,s),e.tag=1,e=pb(null,e,t,s,n)):(e.tag=0,e=pg(null,e,t,s,n));else{if(t!=null){var r=t.$$typeof;if(r===Iy){e.tag=11,e=ub(null,e,t,s,n);break e}else if(r===My){e.tag=14,e=hb(null,e,t,s,n);break e}}throw e=Fp(t)||t,Error(U(306,e,""))}}return e;case 0:return pg(t,e,e.type,e.pendingProps,n);case 1:return s=e.type,r=Fi(s,e.pendingProps),pb(t,e,s,r,n);case 3:e:{if(Gh(e,e.stateNode.containerInfo),t===null)throw Error(U(387));s=e.pendingProps;var i=e.memoizedState;r=i.element,ag(t,e),Bl(e,s,null,n);var a=e.memoizedState;if(s=a.cache,hr(e,rt,s),s!==i.cache&&rg(e,[rt],n,!0),zl(),s=a.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=gb(t,e,s,n);break e}else if(s!==r){r=Rn(Error(U(424)),e),uc(r),e=gb(t,e,s,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Pe=kn(t.firstChild),At=e,he=!0,Sr=null,In=!0,n=gE(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Li(),s===r){e=Vs(t,e,n);break e}Et(t,e,s,n)}e=e.child}return e;case 26:return _h(t,e),t===null?(n=Vb(e.type,null,e.pendingProps,null))?e.memoizedState=n:he||(n=e.type,t=e.pendingProps,s=fd(Nr.current).createElement(n),s[St]=e,s[en]=t,Mt(s,n,t),yt(s),e.stateNode=s):e.memoizedState=Vb(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Hp(e),t===null&&he&&(s=e.stateNode=XN(e.type,e.pendingProps,Nr.current),At=e,In=!0,r=Pe,ri(e.type)?(Rg=r,Pe=kn(s.firstChild)):Pe=r),Et(t,e,e.pendingProps.children,n),_h(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&he&&((r=s=Pe)&&(s=sM(s,e.type,e.pendingProps,In),s!==null?(e.stateNode=s,At=e,Pe=kn(s.firstChild),In=!1,r=!0):r=!1),r||Br(e)),Hp(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,Sg(r,i)?s=null:a!==null&&Sg(r,a)&&(e.flags|=32),e.memoizedState!==null&&(r=e0(t,e,x6,null,null,n),gc._currentValue=r),_h(t,e),Et(t,e,s,n),e.child;case 6:return t===null&&he&&((t=n=Pe)&&(n=rM(n,e.pendingProps,In),n!==null?(e.stateNode=n,At=e,Pe=null,t=!0):t=!1),t||Br(e)),null;case 13:return iN(t,e,n);case 4:return Gh(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=zi(e,null,s,n):Et(t,e,s,n),e.child;case 11:return ub(t,e,e.type,e.pendingProps,n);case 7:return Et(t,e,e.pendingProps,n),e.child;case 8:return Et(t,e,e.pendingProps.children,n),e.child;case 12:return Et(t,e,e.pendingProps.children,n),e.child;case 10:return s=e.pendingProps,hr(e,e.type,s.value),Et(t,e,s.children,n),e.child;case 9:return r=e.type._context,s=e.pendingProps.children,Ui(e),r=Rt(r),s=s(r),e.flags|=1,Et(t,e,s,n),e.child;case 14:return hb(t,e,e.type,e.pendingProps,n);case 15:return sN(t,e,e.type,e.pendingProps,n);case 19:return aN(t,e,n);case 31:return S6(t,e,n);case 22:return rN(t,e,n,e.pendingProps);case 24:return Ui(e),s=Rt(rt),t===null?(r=Ky(),r===null&&(r=Re,i=Qy(),r.pooledCache=i,i.refCount++,i!==null&&(r.pooledCacheLanes|=n),r=i),e.memoizedState={parent:s,cache:r},Xy(e),hr(e,rt,r)):(t.lanes&n&&(ag(t,e),Bl(e,null,null,n),zl()),r=t.memoizedState,i=e.memoizedState,r.parent!==s?(r={parent:s,cache:s},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),hr(e,rt,s)):(s=i.cache,hr(e,rt,s),s!==r.cache&&rg(e,[rt],n,!0))),Et(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(U(156,e.tag))}function gs(t){t.flags|=4}function Wm(t,e,n,s,r){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(r&335544128)===r)if(t.stateNode.complete)t.flags|=8192;else if(IN())t.flags|=8192;else throw ki=Zh,Wy}else t.flags&=-16777217}function xb(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!eS(e))if(IN())t.flags|=8192;else throw ki=Zh,Wy}function Yu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?M2():536870912,t.lanes|=e,no|=e)}function hl(t,e){if(!he)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function De(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function j6(t,e,n){var s=e.pendingProps;switch(Yy(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(e),null;case 1:return De(e),null;case 3:return n=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),js(rt),Wa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ca(e)?gs(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bm())),De(e),null;case 26:var r=e.type,i=e.memoizedState;return t===null?(gs(e),i!==null?(De(e),xb(e,i)):(De(e),Wm(e,r,null,s,n))):i?i!==t.memoizedState?(gs(e),De(e),xb(e,i)):(De(e),e.flags&=-16777217):(t=t.memoizedProps,t!==s&&gs(e),De(e),Wm(e,r,t,s,n)),null;case 27:if($h(e),n=Nr.current,r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&gs(e);else{if(!s){if(e.stateNode===null)throw Error(U(166));return De(e),null}t=ts.current,ca(e)?Y1(e):(t=XN(r,s,n),e.stateNode=t,gs(e))}return De(e),null;case 5:if($h(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&gs(e);else{if(!s){if(e.stateNode===null)throw Error(U(166));return De(e),null}if(i=ts.current,ca(e))Y1(e);else{var a=fd(Nr.current);switch(i){case 1:i=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:i=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":i=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":i=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":i=a.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof s.is=="string"?a.createElement("select",{is:s.is}):a.createElement("select"),s.multiple?i.multiple=!0:s.size&&(i.size=s.size);break;default:i=typeof s.is=="string"?a.createElement(r,{is:s.is}):a.createElement(r)}}i[St]=e,i[en]=s;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)i.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=i;e:switch(Mt(i,r,s),r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&gs(e)}}return De(e),Wm(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&gs(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(U(166));if(t=Nr.current,ca(e)){if(t=e.stateNode,n=e.memoizedProps,s=null,r=At,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}t[St]=e,t=!!(t.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||YN(t.nodeValue,n)),t||Br(e,!0)}else t=fd(t).createTextNode(s),t[St]=e,e.stateNode=t}return De(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(s=ca(e),n!==null){if(t===null){if(!s)throw Error(U(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(557));t[St]=e}else Li(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;De(e),t=!1}else n=Bm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(an(e),e):(an(e),null);if(e.flags&128)throw Error(U(558))}return De(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=ca(e),s!==null&&s.dehydrated!==null){if(t===null){if(!r)throw Error(U(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(U(317));r[St]=e}else Li(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;De(e),r=!1}else r=Bm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(an(e),e):(an(e),null)}return an(e),e.flags&128?(e.lanes=n,e):(n=s!==null,t=t!==null&&t.memoizedState!==null,n&&(s=e.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==r&&(s.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Yu(e,e.updateQueue),De(e),null);case 4:return Wa(),t===null&&b0(e.stateNode.containerInfo),De(e),null;case 10:return js(e.type),De(e),null;case 19:if(wt(Ze),s=e.memoizedState,s===null)return De(e),null;if(r=(e.flags&128)!==0,i=s.rendering,i===null)if(r)hl(s,!1);else{if(Ke!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=td(t),i!==null){for(e.flags|=128,hl(s,!1),t=i.updateQueue,e.updateQueue=t,Yu(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)lE(n,t),n=n.sibling;return Ie(Ze,Ze.current&1|2),he&&bs(e,s.treeForkCount),e.child}t=t.sibling}s.tail!==null&&hn()>od&&(e.flags|=128,r=!0,hl(s,!1),e.lanes=4194304)}else{if(!r)if(t=td(i),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,Yu(e,t),hl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!he)return De(e),null}else 2*hn()-s.renderingStartTime>od&&n!==536870912&&(e.flags|=128,r=!0,hl(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(t=s.last,t!==null?t.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=hn(),t.sibling=null,n=Ze.current,Ie(Ze,r?n&1|2:n&1),he&&bs(e,s.treeForkCount),t):(De(e),null);case 22:case 23:return an(e),Jy(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?n&536870912&&!(e.flags&128)&&(De(e),e.subtreeFlags&6&&(e.flags|=8192)):De(e),n=e.updateQueue,n!==null&&Yu(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==n&&(e.flags|=2048),t!==null&&wt(Di),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),js(rt),De(e),null;case 25:return null;case 30:return null}throw Error(U(156,e.tag))}function C6(t,e){switch(Yy(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return js(rt),Wa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return $h(e),null;case 31:if(e.memoizedState!==null){if(an(e),e.alternate===null)throw Error(U(340));Li()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(an(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Li()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return wt(Ze),null;case 4:return Wa(),null;case 10:return js(e.type),null;case 22:case 23:return an(e),Jy(),t!==null&&wt(Di),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return js(rt),null;case 25:return null;default:return null}}function lN(t,e){switch(Yy(e),e.tag){case 3:js(rt),Wa();break;case 26:case 27:case 5:$h(e);break;case 4:Wa();break;case 31:e.memoizedState!==null&&an(e);break;case 13:an(e);break;case 19:wt(Ze);break;case 10:js(e.type);break;case 22:case 23:an(e),Jy(),t!==null&&wt(Di);break;case 24:js(rt)}}function Yc(t,e){try{var n=e.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var r=s.next;n=r;do{if((n.tag&t)===t){s=void 0;var i=n.create,a=n.inst;s=i(),a.destroy=s}n=n.next}while(n!==r)}}catch(l){_e(e,e.return,l)}}function Fr(t,e,n){try{var s=e.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var i=r.next;s=i;do{if((s.tag&t)===t){var a=s.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=e;var c=n,h=l;try{h()}catch(d){_e(r,c,d)}}}s=s.next}while(s!==i)}}catch(d){_e(e,e.return,d)}}function cN(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{xE(e,n)}catch(s){_e(t,t.return,s)}}}function uN(t,e,n){n.props=Fi(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(s){_e(t,e,s)}}function ql(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof n=="function"?t.refCleanup=n(s):n.current=s}}catch(r){_e(t,e,r)}}function es(t,e){var n=t.ref,s=t.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(r){_e(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){_e(t,e,r)}else n.current=null}function hN(t){var e=t.type,n=t.memoizedProps,s=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(r){_e(t,t.return,r)}}function Xm(t,e,n){try{var s=t.stateNode;X6(s,t.type,n,e),s[en]=e}catch(r){_e(t,t.return,r)}}function dN(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ri(t.type)||t.tag===4}function Jm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ri(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yg(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ts));else if(s!==4&&(s===27&&ri(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(yg(t,e,n),t=t.sibling;t!==null;)yg(t,e,n),t=t.sibling}function ad(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(s===27&&ri(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(ad(t,e,n),t=t.sibling;t!==null;)ad(t,e,n),t=t.sibling}function fN(t){var e=t.stateNode,n=t.memoizedProps;try{for(var s=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Mt(e,s,n),e[St]=t,e[en]=n}catch(i){_e(t,t.return,i)}}var ws=!1,st=!1,Zm=!1,vb=typeof WeakSet=="function"?WeakSet:Set,gt=null;function R6(t,e){if(t=t.containerInfo,Eg=yd,t=eE(t),Fy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,h=0,d=0,f=t,m=null;t:for(;;){for(var g;f!==n||r!==0&&f.nodeType!==3||(l=a+r),f!==i||s!==0&&f.nodeType!==3||(c=a+s),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===t)break t;if(m===n&&++h===r&&(l=a),m===i&&++d===s&&(c=a),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ng={focusedElem:t,selectionRange:n},yd=!1,gt=e;gt!==null;)if(e=gt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,gt=t;else for(;gt!==null;){switch(e=gt,i=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)r=t[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&i!==null){t=void 0,n=e,r=i.memoizedProps,i=i.memoizedState,s=n.stateNode;try{var b=Fi(n.type,r);t=s.getSnapshotBeforeUpdate(b,i),s.__reactInternalSnapshotBeforeUpdate=t}catch(E){_e(n,n.return,E)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Ag(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ag(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(U(163))}if(t=e.sibling,t!==null){t.return=e.return,gt=t;break}gt=e.return}}function mN(t,e,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:xs(t,n),s&4&&Yc(5,n);break;case 1:if(xs(t,n),s&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){_e(n,n.return,a)}else{var r=Fi(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){_e(n,n.return,a)}}s&64&&cN(n),s&512&&ql(n,n.return);break;case 3:if(xs(t,n),s&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{xE(t,e)}catch(a){_e(n,n.return,a)}}break;case 27:e===null&&s&4&&fN(n);case 26:case 5:xs(t,n),e===null&&s&4&&hN(n),s&512&&ql(n,n.return);break;case 12:xs(t,n);break;case 31:xs(t,n),s&4&&yN(t,n);break;case 13:xs(t,n),s&4&&xN(t,n),s&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=U6.bind(null,n),iM(t,n))));break;case 22:if(s=n.memoizedState!==null||ws,!s){e=e!==null&&e.memoizedState!==null||st,r=ws;var i=st;ws=s,(st=e)&&!i?vs(t,n,(n.subtreeFlags&8772)!==0):xs(t,n),ws=r,st=i}break;case 30:break;default:xs(t,n)}}function pN(t){var e=t.alternate;e!==null&&(t.alternate=null,pN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Oy(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Be=null,Kt=!1;function ys(t,e,n){for(n=n.child;n!==null;)gN(t,e,n),n=n.sibling}function gN(t,e,n){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(zc,n)}catch{}switch(n.tag){case 26:st||es(n,e),ys(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:st||es(n,e);var s=Be,r=Kt;ri(n.type)&&(Be=n.stateNode,Kt=!1),ys(t,e,n),Yl(n.stateNode),Be=s,Kt=r;break;case 5:st||es(n,e);case 6:if(s=Be,r=Kt,Be=null,ys(t,e,n),Be=s,Kt=r,Be!==null)if(Kt)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(n.stateNode)}catch(i){_e(n,e,i)}else try{Be.removeChild(n.stateNode)}catch(i){_e(n,e,i)}break;case 18:Be!==null&&(Kt?(t=Be,Mb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),ao(t)):Mb(Be,n.stateNode));break;case 4:s=Be,r=Kt,Be=n.stateNode.containerInfo,Kt=!0,ys(t,e,n),Be=s,Kt=r;break;case 0:case 11:case 14:case 15:Fr(2,n,e),st||Fr(4,n,e),ys(t,e,n);break;case 1:st||(es(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"&&uN(n,e,s)),ys(t,e,n);break;case 21:ys(t,e,n);break;case 22:st=(s=st)||n.memoizedState!==null,ys(t,e,n),st=s;break;default:ys(t,e,n)}}function yN(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ao(t)}catch(n){_e(e,e.return,n)}}}function xN(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ao(t)}catch(n){_e(e,e.return,n)}}function I6(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new vb),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new vb),e;default:throw Error(U(435,t.tag))}}function Qu(t,e){var n=I6(t);e.forEach(function(s){if(!n.has(s)){n.add(s);var r=z6.bind(null,t,s);s.then(r,r)}})}function Yt(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s],i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(ri(l.type)){Be=l.stateNode,Kt=!1;break e}break;case 5:Be=l.stateNode,Kt=!1;break e;case 3:case 4:Be=l.stateNode.containerInfo,Kt=!0;break e}l=l.return}if(Be===null)throw Error(U(160));gN(i,a,r),Be=null,Kt=!1,i=r.alternate,i!==null&&(i.return=null),r.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)vN(e,t),e=e.sibling}var Un=null;function vN(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Yt(e,t),Qt(t),s&4&&(Fr(3,t,t.return),Yc(3,t),Fr(5,t,t.return));break;case 1:Yt(e,t),Qt(t),s&512&&(st||n===null||es(n,n.return)),s&64&&ws&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var r=Un;if(Yt(e,t),Qt(t),s&512&&(st||n===null||es(n,n.return)),s&4){var i=n!==null?n.memoizedState:null;if(s=t.memoizedState,n===null)if(s===null)if(t.stateNode===null){e:{s=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":i=r.getElementsByTagName("title")[0],(!i||i[qc]||i[St]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=r.createElement(s),r.head.insertBefore(i,r.querySelector("head > title"))),Mt(i,s,n),i[St]=t,yt(i),s=i;break e;case"link":var a=Ub("link","href",r).get(s+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(i=a[l],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}i=r.createElement(s),Mt(i,s,n),r.head.appendChild(i);break;case"meta":if(a=Ub("meta","content",r).get(s+(n.content||""))){for(l=0;l<a.length;l++)if(i=a[l],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}i=r.createElement(s),Mt(i,s,n),r.head.appendChild(i);break;default:throw Error(U(468,s))}i[St]=t,yt(i),s=i}t.stateNode=s}else zb(r,t.type,t.stateNode);else t.stateNode=Lb(r,s,t.memoizedProps);else i!==s?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,s===null?zb(r,t.type,t.stateNode):Lb(r,s,t.memoizedProps)):s===null&&t.stateNode!==null&&Xm(t,t.memoizedProps,n.memoizedProps)}break;case 27:Yt(e,t),Qt(t),s&512&&(st||n===null||es(n,n.return)),n!==null&&s&4&&Xm(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Yt(e,t),Qt(t),s&512&&(st||n===null||es(n,n.return)),t.flags&32){r=t.stateNode;try{Ja(r,"")}catch(b){_e(t,t.return,b)}}s&4&&t.stateNode!=null&&(r=t.memoizedProps,Xm(t,r,n!==null?n.memoizedProps:r)),s&1024&&(Zm=!0);break;case 6:if(Yt(e,t),Qt(t),s&4){if(t.stateNode===null)throw Error(U(162));s=t.memoizedProps,n=t.stateNode;try{n.nodeValue=s}catch(b){_e(t,t.return,b)}}break;case 3:if(Nh=null,r=Un,Un=md(e.containerInfo),Yt(e,t),Un=r,Qt(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ao(e.containerInfo)}catch(b){_e(t,t.return,b)}Zm&&(Zm=!1,bN(t));break;case 4:s=Un,Un=md(t.stateNode.containerInfo),Yt(e,t),Qt(t),Un=s;break;case 12:Yt(e,t),Qt(t);break;case 31:Yt(e,t),Qt(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Qu(t,s)));break;case 13:Yt(e,t),Qt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(pf=hn()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Qu(t,s)));break;case 22:r=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,h=ws,d=st;if(ws=h||r,st=d||c,Yt(e,t),st=d,ws=h,Qt(t),s&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||c||ws||st||Ti(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(i=c.stateNode,r)a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var f=c.memoizedProps.style,m=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(b){_e(c,c.return,b)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(b){_e(c,c.return,b)}}}else if(e.tag===18){if(n===null){c=e;try{var g=c.stateNode;r?Db(g,!0):Db(c.stateNode,!1)}catch(b){_e(c,c.return,b)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,Qu(t,n))));break;case 19:Yt(e,t),Qt(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Qu(t,s)));break;case 30:break;case 21:break;default:Yt(e,t),Qt(t)}}function Qt(t){var e=t.flags;if(e&2){try{for(var n,s=t.return;s!==null;){if(dN(s)){n=s;break}s=s.return}if(n==null)throw Error(U(160));switch(n.tag){case 27:var r=n.stateNode,i=Jm(t);ad(t,i,r);break;case 5:var a=n.stateNode;n.flags&32&&(Ja(a,""),n.flags&=-33);var l=Jm(t);ad(t,l,a);break;case 3:case 4:var c=n.stateNode.containerInfo,h=Jm(t);yg(t,h,c);break;default:throw Error(U(161))}}catch(d){_e(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bN(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;bN(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function xs(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)mN(t,e.alternate,e),e=e.sibling}function Ti(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Fr(4,e,e.return),Ti(e);break;case 1:es(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&uN(e,e.return,n),Ti(e);break;case 27:Yl(e.stateNode);case 26:case 5:es(e,e.return),Ti(e);break;case 22:e.memoizedState===null&&Ti(e);break;case 30:Ti(e);break;default:Ti(e)}t=t.sibling}}function vs(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,r=t,i=e,a=i.flags;switch(i.tag){case 0:case 11:case 15:vs(r,i,n),Yc(4,i);break;case 1:if(vs(r,i,n),s=i,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(h){_e(s,s.return,h)}if(s=i,r=s.updateQueue,r!==null){var l=s.stateNode;try{var c=r.shared.hiddenCallbacks;if(c!==null)for(r.shared.hiddenCallbacks=null,r=0;r<c.length;r++)yE(c[r],l)}catch(h){_e(s,s.return,h)}}n&&a&64&&cN(i),ql(i,i.return);break;case 27:fN(i);case 26:case 5:vs(r,i,n),n&&s===null&&a&4&&hN(i),ql(i,i.return);break;case 12:vs(r,i,n);break;case 31:vs(r,i,n),n&&a&4&&yN(r,i);break;case 13:vs(r,i,n),n&&a&4&&xN(r,i);break;case 22:i.memoizedState===null&&vs(r,i,n),ql(i,i.return);break;case 30:break;default:vs(r,i,n)}e=e.sibling}}function m0(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Gc(n))}function p0(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Gc(t))}function Vn(t,e,n,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wN(t,e,n,s),e=e.sibling}function wN(t,e,n,s){var r=e.flags;switch(e.tag){case 0:case 11:case 15:Vn(t,e,n,s),r&2048&&Yc(9,e);break;case 1:Vn(t,e,n,s);break;case 3:Vn(t,e,n,s),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Gc(t)));break;case 12:if(r&2048){Vn(t,e,n,s),t=e.stateNode;try{var i=e.memoizedProps,a=i.id,l=i.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){_e(e,e.return,c)}}else Vn(t,e,n,s);break;case 31:Vn(t,e,n,s);break;case 13:Vn(t,e,n,s);break;case 23:break;case 22:i=e.stateNode,a=e.alternate,e.memoizedState!==null?i._visibility&2?Vn(t,e,n,s):Hl(t,e):i._visibility&2?Vn(t,e,n,s):(i._visibility|=2,ma(t,e,n,s,(e.subtreeFlags&10256)!==0||!1)),r&2048&&m0(a,e);break;case 24:Vn(t,e,n,s),r&2048&&p0(e.alternate,e);break;default:Vn(t,e,n,s)}}function ma(t,e,n,s,r){for(r=r&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var i=t,a=e,l=n,c=s,h=a.flags;switch(a.tag){case 0:case 11:case 15:ma(i,a,l,c,r),Yc(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?ma(i,a,l,c,r):Hl(i,a):(d._visibility|=2,ma(i,a,l,c,r)),r&&h&2048&&m0(a.alternate,a);break;case 24:ma(i,a,l,c,r),r&&h&2048&&p0(a.alternate,a);break;default:ma(i,a,l,c,r)}e=e.sibling}}function Hl(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,s=e,r=s.flags;switch(s.tag){case 22:Hl(n,s),r&2048&&m0(s.alternate,s);break;case 24:Hl(n,s),r&2048&&p0(s.alternate,s);break;default:Hl(n,s)}e=e.sibling}}var El=8192;function ua(t,e,n){if(t.subtreeFlags&El)for(t=t.child;t!==null;)_N(t,e,n),t=t.sibling}function _N(t,e,n){switch(t.tag){case 26:ua(t,e,n),t.flags&El&&t.memoizedState!==null&&yM(n,Un,t.memoizedState,t.memoizedProps);break;case 5:ua(t,e,n);break;case 3:case 4:var s=Un;Un=md(t.stateNode.containerInfo),ua(t,e,n),Un=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=El,El=16777216,ua(t,e,n),El=s):ua(t,e,n));break;default:ua(t,e,n)}}function TN(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function dl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];gt=s,NN(s,t)}TN(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)EN(t),t=t.sibling}function EN(t){switch(t.tag){case 0:case 11:case 15:dl(t),t.flags&2048&&Fr(9,t,t.return);break;case 3:dl(t);break;case 12:dl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Th(t)):dl(t);break;default:dl(t)}}function Th(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];gt=s,NN(s,t)}TN(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Fr(8,e,e.return),Th(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Th(e));break;default:Th(e)}t=t.sibling}}function NN(t,e){for(;gt!==null;){var n=gt;switch(n.tag){case 0:case 11:case 15:Fr(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Gc(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,gt=s;else e:for(n=t;gt!==null;){s=gt;var r=s.sibling,i=s.return;if(pN(s),s===n){gt=null;break e}if(r!==null){r.return=i,gt=r;break e}gt=i}}}var M6={getCacheForType:function(t){var e=Rt(rt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Rt(rt).controller.signal}},D6=typeof WeakMap=="function"?WeakMap:Map,pe=0,Re=null,ae=null,ue=0,we=0,rn=null,wr=!1,So=!1,g0=!1,Ls=0,Ke=0,qr=0,Pi=0,y0=0,cn=0,no=0,Gl=null,Wt=null,xg=!1,pf=0,SN=0,od=1/0,ld=null,Cr=null,ct=0,Rr=null,so=null,Cs=0,vg=0,bg=null,AN=null,$l=0,wg=null;function mn(){return pe&2&&ue!==0?ue&-ue:ee.T!==null?v0():O2()}function jN(){if(cn===0)if(!(ue&536870912)||he){var t=zu;zu<<=1,!(zu&3932160)&&(zu=262144),cn=t}else cn=536870912;return t=xn.current,t!==null&&(t.flags|=32),cn}function Jt(t,e,n){(t===Re&&(we===2||we===9)||t.cancelPendingCommit!==null)&&(ro(t,0),_r(t,ue,cn,!1)),Fc(t,n),(!(pe&2)||t!==Re)&&(t===Re&&(!(pe&2)&&(Pi|=n),Ke===4&&_r(t,ue,cn,!1)),ms(t))}function CN(t,e,n){if(pe&6)throw Error(U(327));var s=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Bc(t,e),r=s?O6(t,e):ep(t,e,!0),i=s;do{if(r===0){So&&!s&&_r(t,e,0,!1);break}else{if(n=t.current.alternate,i&&!k6(n)){r=ep(t,e,!1),i=!1;continue}if(r===2){if(i=e,t.errorRecoveryDisabledLanes&i)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;r=Gl;var c=l.current.memoizedState.isDehydrated;if(c&&(ro(l,a).flags|=256),a=ep(l,a,!1),a!==2){if(g0&&!c){l.errorRecoveryDisabledLanes|=i,Pi|=i,r=4;break e}i=Wt,Wt=r,i!==null&&(Wt===null?Wt=i:Wt.push.apply(Wt,i))}r=a}if(i=!1,r!==2)continue}}if(r===1){ro(t,0),_r(t,e,0,!0);break}e:{switch(s=t,i=r,i){case 0:case 1:throw Error(U(345));case 4:if((e&4194048)!==e)break;case 6:_r(s,e,cn,!wr);break e;case 2:Wt=null;break;case 3:case 5:break;default:throw Error(U(329))}if((e&62914560)===e&&(r=pf+300-hn(),10<r)){if(_r(s,e,cn,!wr),sf(s,0,!0)!==0)break e;Cs=e,s.timeoutHandle=KN(bb.bind(null,s,n,Wt,ld,xg,e,cn,Pi,no,wr,i,"Throttled",-0,0),r);break e}bb(s,n,Wt,ld,xg,e,cn,Pi,no,wr,i,null,-0,0)}}break}while(!0);ms(t)}function bb(t,e,n,s,r,i,a,l,c,h,d,f,m,g){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ts},_N(e,i,f);var b=(i&62914560)===i?pf-hn():(i&4194048)===i?SN-hn():0;if(b=xM(f,b),b!==null){Cs=i,t.cancelPendingCommit=b(_b.bind(null,t,e,i,n,s,r,a,l,c,d,f,null,m,g)),_r(t,i,a,!h);return}}_b(t,e,i,n,s,r,a,l,c)}function k6(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!yn(i(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _r(t,e,n,s){e&=~y0,e&=~Pi,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var r=e;0<r;){var i=31-fn(r),a=1<<i;s[i]=-1,r&=~a}n!==0&&D2(t,n,e)}function gf(){return pe&6?!0:(Qc(0),!1)}function x0(){if(ae!==null){if(we===0)var t=ae.return;else t=ae,Es=Ji=null,s0(t),qa=null,hc=0,t=ae;for(;t!==null;)lN(t.alternate,t),t=t.return;ae=null}}function ro(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,eM(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Cs=0,x0(),Re=t,ae=n=As(t.current,null),ue=e,we=0,rn=null,wr=!1,So=Bc(t,e),g0=!1,no=cn=y0=Pi=qr=Ke=0,Wt=Gl=null,xg=!1,e&8&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var r=31-fn(s),i=1<<r;e|=t[r],s&=~i}return Ls=e,lf(),n}function RN(t,e){se=null,ee.H=fc,e===No||e===uf?(e=J1(),we=3):e===Wy?(e=J1(),we=4):we=e===d0?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,rn=e,ae===null&&(Ke=1,rd(t,Rn(e,t.current)))}function IN(){var t=xn.current;return t===null?!0:(ue&4194048)===ue?Dn===null:(ue&62914560)===ue||ue&536870912?t===Dn:!1}function MN(){var t=ee.H;return ee.H=fc,t===null?fc:t}function DN(){var t=ee.A;return ee.A=M6,t}function cd(){Ke=4,wr||(ue&4194048)!==ue&&xn.current!==null||(So=!0),!(qr&134217727)&&!(Pi&134217727)||Re===null||_r(Re,ue,cn,!1)}function ep(t,e,n){var s=pe;pe|=2;var r=MN(),i=DN();(Re!==t||ue!==e)&&(ld=null,ro(t,e)),e=!1;var a=Ke;e:do try{if(we!==0&&ae!==null){var l=ae,c=rn;switch(we){case 8:x0(),a=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(e=!0);var h=we;if(we=0,rn=null,Ia(t,l,c,h),n&&So){a=0;break e}break;default:h=we,we=0,rn=null,Ia(t,l,c,h)}}P6(),a=Ke;break}catch(d){RN(t,d)}while(!0);return e&&t.shellSuspendCounter++,Es=Ji=null,pe=s,ee.H=r,ee.A=i,ae===null&&(Re=null,ue=0,lf()),a}function P6(){for(;ae!==null;)kN(ae)}function O6(t,e){var n=pe;pe|=2;var s=MN(),r=DN();Re!==t||ue!==e?(ld=null,od=hn()+500,ro(t,e)):So=Bc(t,e);e:do try{if(we!==0&&ae!==null){e=ae;var i=rn;t:switch(we){case 1:we=0,rn=null,Ia(t,e,i,1);break;case 2:case 9:if(X1(i)){we=0,rn=null,wb(e);break}e=function(){we!==2&&we!==9||Re!==t||(we=7),ms(t)},i.then(e,e);break e;case 3:we=7;break e;case 4:we=5;break e;case 7:X1(i)?(we=0,rn=null,wb(e)):(we=0,rn=null,Ia(t,e,i,7));break;case 5:var a=null;switch(ae.tag){case 26:a=ae.memoizedState;case 5:case 27:var l=ae;if(a?eS(a):l.stateNode.complete){we=0,rn=null;var c=l.sibling;if(c!==null)ae=c;else{var h=l.return;h!==null?(ae=h,yf(h)):ae=null}break t}}we=0,rn=null,Ia(t,e,i,5);break;case 6:we=0,rn=null,Ia(t,e,i,6);break;case 8:x0(),Ke=6;break e;default:throw Error(U(462))}}V6();break}catch(d){RN(t,d)}while(!0);return Es=Ji=null,ee.H=s,ee.A=r,pe=n,ae!==null?0:(Re=null,ue=0,lf(),Ke)}function V6(){for(;ae!==null&&!aI();)kN(ae)}function kN(t){var e=oN(t.alternate,t,Ls);t.memoizedProps=t.pendingProps,e===null?yf(t):ae=e}function wb(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=mb(n,e,e.pendingProps,e.type,void 0,ue);break;case 11:e=mb(n,e,e.pendingProps,e.type.render,e.ref,ue);break;case 5:s0(e);default:lN(n,e),e=ae=lE(e,Ls),e=oN(n,e,Ls)}t.memoizedProps=t.pendingProps,e===null?yf(t):ae=e}function Ia(t,e,n,s){Es=Ji=null,s0(e),qa=null,hc=0;var r=e.return;try{if(N6(t,r,e,n,ue)){Ke=1,rd(t,Rn(n,t.current)),ae=null;return}}catch(i){if(r!==null)throw ae=r,i;Ke=1,rd(t,Rn(n,t.current)),ae=null;return}e.flags&32768?(he||s===1?t=!0:So||ue&536870912?t=!1:(wr=t=!0,(s===2||s===9||s===3||s===6)&&(s=xn.current,s!==null&&s.tag===13&&(s.flags|=16384))),PN(e,t)):yf(e)}function yf(t){var e=t;do{if(e.flags&32768){PN(e,wr);return}t=e.return;var n=j6(e.alternate,e,Ls);if(n!==null){ae=n;return}if(e=e.sibling,e!==null){ae=e;return}ae=e=t}while(e!==null);Ke===0&&(Ke=5)}function PN(t,e){do{var n=C6(t.alternate,t);if(n!==null){n.flags&=32767,ae=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ae=t;return}ae=t=n}while(t!==null);Ke=6,ae=null}function _b(t,e,n,s,r,i,a,l,c){t.cancelPendingCommit=null;do xf();while(ct!==0);if(pe&6)throw Error(U(327));if(e!==null){if(e===t.current)throw Error(U(177));if(i=e.lanes|e.childLanes,i|=qy,gI(t,n,i,a,l,c),t===Re&&(ae=Re=null,ue=0),so=e,Rr=t,Cs=n,vg=i,bg=r,AN=s,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,B6(Yh,function(){return zN(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,e.subtreeFlags&13878||s){s=ee.T,ee.T=null,r=ge.p,ge.p=2,a=pe,pe|=4;try{R6(t,e,n)}finally{pe=a,ge.p=r,ee.T=s}}ct=1,ON(),VN(),LN()}}function ON(){if(ct===1){ct=0;var t=Rr,e=so,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=ee.T,ee.T=null;var s=ge.p;ge.p=2;var r=pe;pe|=4;try{vN(e,t);var i=Ng,a=eE(t.containerInfo),l=i.focusedElem,c=i.selectionRange;if(a!==l&&l&&l.ownerDocument&&Z2(l.ownerDocument.documentElement,l)){if(c!==null&&Fy(l)){var h=c.start,d=c.end;if(d===void 0&&(d=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(d,l.value.length);else{var f=l.ownerDocument||document,m=f&&f.defaultView||window;if(m.getSelection){var g=m.getSelection(),b=l.textContent.length,E=Math.min(c.start,b),S=c.end===void 0?E:Math.min(c.end,b);!g.extend&&E>S&&(a=S,S=E,E=a);var x=H1(l,E),v=H1(l,S);if(x&&v&&(g.rangeCount!==1||g.anchorNode!==x.node||g.anchorOffset!==x.offset||g.focusNode!==v.node||g.focusOffset!==v.offset)){var _=f.createRange();_.setStart(x.node,x.offset),g.removeAllRanges(),E>S?(g.addRange(_),g.extend(v.node,v.offset)):(_.setEnd(v.node,v.offset),g.addRange(_))}}}}for(f=[],g=l;g=g.parentNode;)g.nodeType===1&&f.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var C=f[l];C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}yd=!!Eg,Ng=Eg=null}finally{pe=r,ge.p=s,ee.T=n}}t.current=e,ct=2}}function VN(){if(ct===2){ct=0;var t=Rr,e=so,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=ee.T,ee.T=null;var s=ge.p;ge.p=2;var r=pe;pe|=4;try{mN(t,e.alternate,e)}finally{pe=r,ge.p=s,ee.T=n}}ct=3}}function LN(){if(ct===4||ct===3){ct=0,oI();var t=Rr,e=so,n=Cs,s=AN;e.subtreeFlags&10256||e.flags&10256?ct=5:(ct=0,so=Rr=null,UN(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(Cr=null),Py(n),e=e.stateNode,dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(zc,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=ee.T,r=ge.p,ge.p=2,ee.T=null;try{for(var i=t.onRecoverableError,a=0;a<s.length;a++){var l=s[a];i(l.value,{componentStack:l.stack})}}finally{ee.T=e,ge.p=r}}Cs&3&&xf(),ms(t),r=t.pendingLanes,n&261930&&r&42?t===wg?$l++:($l=0,wg=t):$l=0,Qc(0)}}function UN(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Gc(e)))}function xf(){return ON(),VN(),LN(),zN()}function zN(){if(ct!==5)return!1;var t=Rr,e=vg;vg=0;var n=Py(Cs),s=ee.T,r=ge.p;try{ge.p=32>n?32:n,ee.T=null,n=bg,bg=null;var i=Rr,a=Cs;if(ct=0,so=Rr=null,Cs=0,pe&6)throw Error(U(331));var l=pe;if(pe|=4,EN(i.current),wN(i,i.current,a,n),pe=l,Qc(0,!1),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(zc,i)}catch{}return!0}finally{ge.p=r,ee.T=s,UN(t,e)}}function Tb(t,e,n){e=Rn(n,e),e=mg(t.stateNode,e,2),t=jr(t,e,2),t!==null&&(Fc(t,2),ms(t))}function _e(t,e,n){if(t.tag===3)Tb(t,t,n);else for(;e!==null;){if(e.tag===3){Tb(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Cr===null||!Cr.has(s))){t=Rn(n,t),n=tN(2),s=jr(e,n,2),s!==null&&(nN(n,s,e,t),Fc(s,2),ms(s));break}}e=e.return}}function tp(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new D6;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(g0=!0,r.add(n),t=L6.bind(null,t,e,n),e.then(t,t))}function L6(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Re===t&&(ue&n)===n&&(Ke===4||Ke===3&&(ue&62914560)===ue&&300>hn()-pf?!(pe&2)&&ro(t,0):y0|=n,no===ue&&(no=0)),ms(t)}function BN(t,e){e===0&&(e=M2()),t=Xi(t,e),t!==null&&(Fc(t,e),ms(t))}function U6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),BN(t,n)}function z6(t,e){var n=0;switch(t.tag){case 31:case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(U(314))}s!==null&&s.delete(e),BN(t,n)}function B6(t,e){return Dy(t,e)}var ud=null,pa=null,_g=!1,hd=!1,np=!1,Tr=0;function ms(t){t!==pa&&t.next===null&&(pa===null?ud=pa=t:pa=pa.next=t),hd=!0,_g||(_g=!0,q6())}function Qc(t,e){if(!np&&hd){np=!0;do for(var n=!1,s=ud;s!==null;){if(t!==0){var r=s.pendingLanes;if(r===0)var i=0;else{var a=s.suspendedLanes,l=s.pingedLanes;i=(1<<31-fn(42|t)+1)-1,i&=r&~(a&~l),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,Eb(s,i))}else i=ue,i=sf(s,s===Re?i:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(i&3)||Bc(s,i)||(n=!0,Eb(s,i));s=s.next}while(n);np=!1}}function F6(){FN()}function FN(){hd=_g=!1;var t=0;Tr!==0&&Z6()&&(t=Tr);for(var e=hn(),n=null,s=ud;s!==null;){var r=s.next,i=qN(s,e);i===0?(s.next=null,n===null?ud=r:n.next=r,r===null&&(pa=n)):(n=s,(t!==0||i&3)&&(hd=!0)),s=r}ct!==0&&ct!==5||Qc(t),Tr!==0&&(Tr=0)}function qN(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var a=31-fn(i),l=1<<a,c=r[a];c===-1?(!(l&n)||l&s)&&(r[a]=pI(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}if(e=Re,n=ue,n=sf(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,n===0||t===e&&(we===2||we===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&Rm(s),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Bc(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(s!==null&&Rm(s),Py(n)){case 2:case 8:n=R2;break;case 32:n=Yh;break;case 268435456:n=I2;break;default:n=Yh}return s=HN.bind(null,t),n=Dy(n,s),t.callbackPriority=e,t.callbackNode=n,e}return s!==null&&s!==null&&Rm(s),t.callbackPriority=2,t.callbackNode=null,2}function HN(t,e){if(ct!==0&&ct!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(xf()&&t.callbackNode!==n)return null;var s=ue;return s=sf(t,t===Re?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(CN(t,s,e),qN(t,hn()),t.callbackNode!=null&&t.callbackNode===n?HN.bind(null,t):null)}function Eb(t,e){if(xf())return null;CN(t,e,!0)}function q6(){tM(function(){pe&6?Dy(C2,F6):FN()})}function v0(){if(Tr===0){var t=Za;t===0&&(t=Uu,Uu<<=1,!(Uu&261888)&&(Uu=256)),Tr=t}return Tr}function Nb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:mh(""+t)}function Sb(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function H6(t,e,n,s,r){if(e==="submit"&&n&&n.stateNode===r){var i=Nb((r[en]||null).action),a=s.submitter;a&&(e=(e=a[en]||null)?Nb(e.formAction):a.getAttribute("formAction"),e!==null&&(i=e,a=null));var l=new rf("action","action",null,s,r);t.push({event:l,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Tr!==0){var c=a?Sb(r,a):new FormData(r);dg(n,{pending:!0,data:c,method:r.method,action:i},null,c)}}else typeof i=="function"&&(l.preventDefault(),c=a?Sb(r,a):new FormData(r),dg(n,{pending:!0,data:c,method:r.method,action:i},i,c))},currentTarget:r}]})}}for(var sp=0;sp<eg.length;sp++){var rp=eg[sp],G6=rp.toLowerCase(),$6=rp[0].toUpperCase()+rp.slice(1);Hn(G6,"on"+$6)}Hn(nE,"onAnimationEnd");Hn(sE,"onAnimationIteration");Hn(rE,"onAnimationStart");Hn("dblclick","onDoubleClick");Hn("focusin","onFocus");Hn("focusout","onBlur");Hn(l6,"onTransitionRun");Hn(c6,"onTransitionStart");Hn(u6,"onTransitionCancel");Hn(iE,"onTransitionEnd");Xa("onMouseEnter",["mouseout","mouseover"]);Xa("onMouseLeave",["mouseout","mouseover"]);Xa("onPointerEnter",["pointerout","pointerover"]);Xa("onPointerLeave",["pointerout","pointerover"]);Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mc));function GN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var a=s.length-1;0<=a;a--){var l=s[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==i&&r.isPropagationStopped())break e;i=l,r.currentTarget=h;try{i(r)}catch(d){Kh(d)}r.currentTarget=null,i=c}else for(a=0;a<s.length;a++){if(l=s[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==i&&r.isPropagationStopped())break e;i=l,r.currentTarget=h;try{i(r)}catch(d){Kh(d)}r.currentTarget=null,i=c}}}}function ie(t,e){var n=e[$p];n===void 0&&(n=e[$p]=new Set);var s=t+"__bubble";n.has(s)||($N(e,t,2,!1),n.add(s))}function ip(t,e,n){var s=0;e&&(s|=4),$N(n,t,s,e)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function b0(t){if(!t[Ku]){t[Ku]=!0,V2.forEach(function(n){n!=="selectionchange"&&(Y6.has(n)||ip(n,!1,t),ip(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ku]||(e[Ku]=!0,ip("selectionchange",!1,e))}}function $N(t,e,n,s){switch(iS(e)){case 2:var r=wM;break;case 8:r=_M;break;default:r=E0}n=r.bind(null,e,n,t),r=void 0,!Xp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function ap(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var l=s.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=s.return;a!==null;){var c=a.tag;if((c===3||c===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=_a(l),a===null)return;if(c=a.tag,c===5||c===6||c===26||c===27){s=i=a;continue e}l=l.parentNode}}s=s.return}G2(function(){var h=i,d=Ly(n),f=[];e:{var m=aE.get(t);if(m!==void 0){var g=rf,b=t;switch(t){case"keypress":if(gh(n)===0)break e;case"keydown":case"keyup":g=zI;break;case"focusin":b="focus",g=Pm;break;case"focusout":b="blur",g=Pm;break;case"beforeblur":case"afterblur":g=Pm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=k1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=jI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=qI;break;case nE:case sE:case rE:g=II;break;case iE:g=GI;break;case"scroll":case"scrollend":g=SI;break;case"wheel":g=YI;break;case"copy":case"cut":case"paste":g=DI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=O1;break;case"toggle":case"beforetoggle":g=KI}var E=(e&4)!==0,S=!E&&(t==="scroll"||t==="scrollend"),x=E?m!==null?m+"Capture":null:m;E=[];for(var v=h,_;v!==null;){var C=v;if(_=C.stateNode,C=C.tag,C!==5&&C!==26&&C!==27||_===null||x===null||(C=ac(v,x),C!=null&&E.push(pc(v,C,_))),S)break;v=v.return}0<E.length&&(m=new g(m,b,null,n,d),f.push({event:m,listeners:E}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==Wp&&(b=n.relatedTarget||n.fromElement)&&(_a(b)||b[_o]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(b=n.relatedTarget||n.toElement,g=h,b=b?_a(b):null,b!==null&&(S=Uc(b),E=b.tag,b!==S||E!==5&&E!==27&&E!==6)&&(b=null)):(g=null,b=h),g!==b)){if(E=k1,C="onMouseLeave",x="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(E=O1,C="onPointerLeave",x="onPointerEnter",v="pointer"),S=g==null?m:_l(g),_=b==null?m:_l(b),m=new E(C,v+"leave",g,n,d),m.target=S,m.relatedTarget=_,C=null,_a(d)===h&&(E=new E(x,v+"enter",b,n,d),E.target=_,E.relatedTarget=S,C=E),S=C,g&&b)t:{for(E=Q6,x=g,v=b,_=0,C=x;C;C=E(C))_++;C=0;for(var D=v;D;D=E(D))C++;for(;0<_-C;)x=E(x),_--;for(;0<C-_;)v=E(v),C--;for(;_--;){if(x===v||v!==null&&x===v.alternate){E=x;break t}x=E(x),v=E(v)}E=null}else E=null;g!==null&&Ab(f,m,g,E,!1),b!==null&&S!==null&&Ab(f,S,b,E,!0)}}e:{if(m=h?_l(h):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var P=z1;else if(U1(m))if(X2)P=i6;else{P=s6;var N=n6}else g=m.nodeName,!g||g.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?h&&Vy(h.elementType)&&(P=z1):P=r6;if(P&&(P=P(t,h))){W2(f,P,n,d);break e}N&&N(t,m,h),t==="focusout"&&h&&m.type==="number"&&h.memoizedProps.value!=null&&Kp(m,"number",m.value)}switch(N=h?_l(h):window,t){case"focusin":(U1(N)||N.contentEditable==="true")&&(Na=N,Jp=h,Vl=null);break;case"focusout":Vl=Jp=Na=null;break;case"mousedown":Zp=!0;break;case"contextmenu":case"mouseup":case"dragend":Zp=!1,G1(f,n,d);break;case"selectionchange":if(o6)break;case"keydown":case"keyup":G1(f,n,d)}var w;if(By)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Ea?Q2(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Y2&&n.locale!=="ko"&&(Ea||A!=="onCompositionStart"?A==="onCompositionEnd"&&Ea&&(w=$2()):(br=d,Uy="value"in br?br.value:br.textContent,Ea=!0)),N=dd(h,A),0<N.length&&(A=new P1(A,t,null,n,d),f.push({event:A,listeners:N}),w?A.data=w:(w=K2(n),w!==null&&(A.data=w)))),(w=XI?JI(t,n):ZI(t,n))&&(A=dd(h,"onBeforeInput"),0<A.length&&(N=new P1("onBeforeInput","beforeinput",null,n,d),f.push({event:N,listeners:A}),N.data=w)),H6(f,t,h,n,d)}GN(f,e)})}function pc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function dd(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||i===null||(r=ac(t,n),r!=null&&s.unshift(pc(t,r,i)),r=ac(t,e),r!=null&&s.push(pc(t,r,i))),t.tag===3)return s;t=t.return}return[]}function Q6(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ab(t,e,n,s,r){for(var i=e._reactName,a=[];n!==null&&n!==s;){var l=n,c=l.alternate,h=l.stateNode;if(l=l.tag,c!==null&&c===s)break;l!==5&&l!==26&&l!==27||h===null||(c=h,r?(h=ac(n,i),h!=null&&a.unshift(pc(n,h,c))):r||(h=ac(n,i),h!=null&&a.push(pc(n,h,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var K6=/\r\n?/g,W6=/\u0000|\uFFFD/g;function jb(t){return(typeof t=="string"?t:""+t).replace(K6,`
`).replace(W6,"")}function YN(t,e){return e=jb(e),jb(t)===e}function Te(t,e,n,s,r,i){switch(n){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||Ja(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&Ja(t,""+s);break;case"className":Fu(t,"class",s);break;case"tabIndex":Fu(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Fu(t,n,s);break;case"style":H2(t,s,i);break;case"data":if(e!=="object"){Fu(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=mh(""+s),t.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(e!=="input"&&Te(t,e,"name",r.name,r,null),Te(t,e,"formEncType",r.formEncType,r,null),Te(t,e,"formMethod",r.formMethod,r,null),Te(t,e,"formTarget",r.formTarget,r,null)):(Te(t,e,"encType",r.encType,r,null),Te(t,e,"method",r.method,r,null),Te(t,e,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=mh(""+s),t.setAttribute(n,s);break;case"onClick":s!=null&&(t.onclick=Ts);break;case"onScroll":s!=null&&ie("scroll",t);break;case"onScrollEnd":s!=null&&ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(U(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(U(60));t.innerHTML=n}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}n=mh(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""+s):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":s===!0?t.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,s):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(n,s):t.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(n):t.setAttribute(n,s);break;case"popover":ie("beforetoggle",t),ie("toggle",t),fh(t,"popover",s);break;case"xlinkActuate":ps(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ps(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ps(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ps(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ps(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ps(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ps(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ps(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ps(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":fh(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=EI.get(n)||n,fh(t,n,s))}}function Tg(t,e,n,s,r,i){switch(n){case"style":H2(t,s,i);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(U(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(U(60));t.innerHTML=n}}break;case"children":typeof s=="string"?Ja(t,s):(typeof s=="number"||typeof s=="bigint")&&Ja(t,""+s);break;case"onScroll":s!=null&&ie("scroll",t);break;case"onScrollEnd":s!=null&&ie("scrollend",t);break;case"onClick":s!=null&&(t.onclick=Ts);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!L2.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),i=t[en]||null,i=i!=null?i[n]:null,typeof i=="function"&&t.removeEventListener(e,i,r),typeof s=="function")){typeof i!="function"&&i!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,s,r);break e}n in t?t[n]=s:s===!0?t.setAttribute(n,""):fh(t,n,s)}}}function Mt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ie("error",t),ie("load",t);var s=!1,r=!1,i;for(i in n)if(n.hasOwnProperty(i)){var a=n[i];if(a!=null)switch(i){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(U(137,e));default:Te(t,e,i,a,n,null)}}r&&Te(t,e,"srcSet",n.srcSet,n,null),s&&Te(t,e,"src",n.src,n,null);return;case"input":ie("invalid",t);var l=i=a=r=null,c=null,h=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(d!=null)switch(s){case"name":r=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":h=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(U(137,e));break;default:Te(t,e,s,d,n,null)}}B2(t,i,l,c,h,a,r,!1);return;case"select":ie("invalid",t),s=a=i=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":i=l;break;case"defaultValue":a=l;break;case"multiple":s=l;default:Te(t,e,r,l,n,null)}e=i,n=a,t.multiple=!!s,e!=null?za(t,!!s,e,!1):n!=null&&za(t,!!s,n,!0);return;case"textarea":ie("invalid",t),i=r=s=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":s=l;break;case"defaultValue":r=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(U(91));break;default:Te(t,e,a,l,n,null)}q2(t,s,r,i);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(s=n[c],s!=null))switch(c){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Te(t,e,c,s,n,null)}return;case"dialog":ie("beforetoggle",t),ie("toggle",t),ie("cancel",t),ie("close",t);break;case"iframe":case"object":ie("load",t);break;case"video":case"audio":for(s=0;s<mc.length;s++)ie(mc[s],t);break;case"image":ie("error",t),ie("load",t);break;case"details":ie("toggle",t);break;case"embed":case"source":case"link":ie("error",t),ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(s=n[h],s!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(U(137,e));default:Te(t,e,h,s,n,null)}return;default:if(Vy(e)){for(d in n)n.hasOwnProperty(d)&&(s=n[d],s!==void 0&&Tg(t,e,d,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(s=n[l],s!=null&&Te(t,e,l,s,n,null))}function X6(t,e,n,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,a=null,l=null,c=null,h=null,d=null;for(g in n){var f=n[g];if(n.hasOwnProperty(g)&&f!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":c=f;default:s.hasOwnProperty(g)||Te(t,e,g,null,s,f)}}for(var m in s){var g=s[m];if(f=n[m],s.hasOwnProperty(m)&&(g!=null||f!=null))switch(m){case"type":i=g;break;case"name":r=g;break;case"checked":h=g;break;case"defaultChecked":d=g;break;case"value":a=g;break;case"defaultValue":l=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(U(137,e));break;default:g!==f&&Te(t,e,m,g,s,f)}}Qp(t,a,l,c,h,d,i,r);return;case"select":g=a=l=m=null;for(i in n)if(c=n[i],n.hasOwnProperty(i)&&c!=null)switch(i){case"value":break;case"multiple":g=c;default:s.hasOwnProperty(i)||Te(t,e,i,null,s,c)}for(r in s)if(i=s[r],c=n[r],s.hasOwnProperty(r)&&(i!=null||c!=null))switch(r){case"value":m=i;break;case"defaultValue":l=i;break;case"multiple":a=i;default:i!==c&&Te(t,e,r,i,s,c)}e=l,n=a,s=g,m!=null?za(t,!!n,m,!1):!!s!=!!n&&(e!=null?za(t,!!n,e,!0):za(t,!!n,n?[]:"",!1));return;case"textarea":g=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!s.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Te(t,e,l,null,s,r)}for(a in s)if(r=s[a],i=n[a],s.hasOwnProperty(a)&&(r!=null||i!=null))switch(a){case"value":m=r;break;case"defaultValue":g=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(U(91));break;default:r!==i&&Te(t,e,a,r,s,i)}F2(t,m,g);return;case"option":for(var b in n)if(m=n[b],n.hasOwnProperty(b)&&m!=null&&!s.hasOwnProperty(b))switch(b){case"selected":t.selected=!1;break;default:Te(t,e,b,null,s,m)}for(c in s)if(m=s[c],g=n[c],s.hasOwnProperty(c)&&m!==g&&(m!=null||g!=null))switch(c){case"selected":t.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Te(t,e,c,m,s,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var E in n)m=n[E],n.hasOwnProperty(E)&&m!=null&&!s.hasOwnProperty(E)&&Te(t,e,E,null,s,m);for(h in s)if(m=s[h],g=n[h],s.hasOwnProperty(h)&&m!==g&&(m!=null||g!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(U(137,e));break;default:Te(t,e,h,m,s,g)}return;default:if(Vy(e)){for(var S in n)m=n[S],n.hasOwnProperty(S)&&m!==void 0&&!s.hasOwnProperty(S)&&Tg(t,e,S,void 0,s,m);for(d in s)m=s[d],g=n[d],!s.hasOwnProperty(d)||m===g||m===void 0&&g===void 0||Tg(t,e,d,m,s,g);return}}for(var x in n)m=n[x],n.hasOwnProperty(x)&&m!=null&&!s.hasOwnProperty(x)&&Te(t,e,x,null,s,m);for(f in s)m=s[f],g=n[f],!s.hasOwnProperty(f)||m===g||m==null&&g==null||Te(t,e,f,m,s,g)}function Cb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function J6(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var r=n[s],i=r.transferSize,a=r.initiatorType,l=r.duration;if(i&&l&&Cb(a)){for(a=0,l=r.responseEnd,s+=1;s<n.length;s++){var c=n[s],h=c.startTime;if(h>l)break;var d=c.transferSize,f=c.initiatorType;d&&Cb(f)&&(c=c.responseEnd,a+=d*(c<l?1:(l-h)/(c-h)))}if(--s,e+=8*(i+a)/(r.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Eg=null,Ng=null;function fd(t){return t.nodeType===9?t:t.ownerDocument}function Rb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function QN(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Sg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var op=null;function Z6(){var t=window.event;return t&&t.type==="popstate"?t===op?!1:(op=t,!0):(op=null,!1)}var KN=typeof setTimeout=="function"?setTimeout:void 0,eM=typeof clearTimeout=="function"?clearTimeout:void 0,Ib=typeof Promise=="function"?Promise:void 0,tM=typeof queueMicrotask=="function"?queueMicrotask:typeof Ib<"u"?function(t){return Ib.resolve(null).then(t).catch(nM)}:KN;function nM(t){setTimeout(function(){throw t})}function ri(t){return t==="head"}function Mb(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(s===0){t.removeChild(r),ao(e);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")Yl(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Yl(n);for(var i=n.firstChild;i;){var a=i.nextSibling,l=i.nodeName;i[qc]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=a}}else n==="body"&&Yl(t.ownerDocument.body);n=r}while(n);ao(e)}function Db(t,e){var n=t;t=0;do{var s=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=s}while(n)}function Ag(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ag(n),Oy(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function sM(t,e,n,s){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[qc])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function rM(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=kn(t.nextSibling),t===null))return null;return t}function WN(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=kn(t.nextSibling),t===null))return null;return t}function jg(t){return t.data==="$?"||t.data==="$~"}function Cg(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function iM(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var s=function(){e(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function kn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Rg=null;function kb(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return kn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Pb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function XN(t,e,n){switch(e=fd(n),t){case"html":if(t=e.documentElement,!t)throw Error(U(452));return t;case"head":if(t=e.head,!t)throw Error(U(453));return t;case"body":if(t=e.body,!t)throw Error(U(454));return t;default:throw Error(U(451))}}function Yl(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Oy(t)}var Pn=new Map,Ob=new Set;function md(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ks=ge.d;ge.d={f:aM,r:oM,D:lM,C:cM,L:uM,m:hM,X:fM,S:dM,M:mM};function aM(){var t=Ks.f(),e=gf();return t||e}function oM(t){var e=To(t);e!==null&&e.tag===5&&e.type==="form"?HE(e):Ks.r(t)}var Ao=typeof document>"u"?null:document;function JN(t,e,n){var s=Ao;if(s&&typeof e=="string"&&e){var r=Cn(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Ob.has(r)||(Ob.add(r),t={rel:t,crossOrigin:n,href:e},s.querySelector(r)===null&&(e=s.createElement("link"),Mt(e,"link",t),yt(e),s.head.appendChild(e)))}}function lM(t){Ks.D(t),JN("dns-prefetch",t,null)}function cM(t,e){Ks.C(t,e),JN("preconnect",t,e)}function uM(t,e,n){Ks.L(t,e,n);var s=Ao;if(s&&t&&e){var r='link[rel="preload"][as="'+Cn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Cn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Cn(n.imageSizes)+'"]')):r+='[href="'+Cn(t)+'"]';var i=r;switch(e){case"style":i=io(t);break;case"script":i=jo(t)}Pn.has(i)||(t=Ue({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Pn.set(i,t),s.querySelector(r)!==null||e==="style"&&s.querySelector(Kc(i))||e==="script"&&s.querySelector(Wc(i))||(e=s.createElement("link"),Mt(e,"link",t),yt(e),s.head.appendChild(e)))}}function hM(t,e){Ks.m(t,e);var n=Ao;if(n&&t){var s=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+Cn(s)+'"][href="'+Cn(t)+'"]',i=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=jo(t)}if(!Pn.has(i)&&(t=Ue({rel:"modulepreload",href:t},e),Pn.set(i,t),n.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Wc(i)))return}s=n.createElement("link"),Mt(s,"link",t),yt(s),n.head.appendChild(s)}}}function dM(t,e,n){Ks.S(t,e,n);var s=Ao;if(s&&t){var r=Ua(s).hoistableStyles,i=io(t);e=e||"default";var a=r.get(i);if(!a){var l={loading:0,preload:null};if(a=s.querySelector(Kc(i)))l.loading=5;else{t=Ue({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Pn.get(i))&&w0(t,n);var c=a=s.createElement("link");yt(c),Mt(c,"link",t),c._p=new Promise(function(h,d){c.onload=h,c.onerror=d}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Eh(a,e,s)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(i,a)}}}function fM(t,e){Ks.X(t,e);var n=Ao;if(n&&t){var s=Ua(n).hoistableScripts,r=jo(t),i=s.get(r);i||(i=n.querySelector(Wc(r)),i||(t=Ue({src:t,async:!0},e),(e=Pn.get(r))&&_0(t,e),i=n.createElement("script"),yt(i),Mt(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function mM(t,e){Ks.M(t,e);var n=Ao;if(n&&t){var s=Ua(n).hoistableScripts,r=jo(t),i=s.get(r);i||(i=n.querySelector(Wc(r)),i||(t=Ue({src:t,async:!0,type:"module"},e),(e=Pn.get(r))&&_0(t,e),i=n.createElement("script"),yt(i),Mt(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function Vb(t,e,n,s){var r=(r=Nr.current)?md(r):null;if(!r)throw Error(U(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=io(n.href),n=Ua(r).hoistableStyles,s=n.get(e),s||(s={type:"style",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=io(n.href);var i=Ua(r).hoistableStyles,a=i.get(t);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,a),(i=r.querySelector(Kc(t)))&&!i._p&&(a.instance=i,a.state.loading=5),Pn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Pn.set(t,n),i||pM(r,t,n,a.state))),e&&s===null)throw Error(U(528,""));return a}if(e&&s!==null)throw Error(U(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=jo(n),n=Ua(r).hoistableScripts,s=n.get(e),s||(s={type:"script",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(U(444,t))}}function io(t){return'href="'+Cn(t)+'"'}function Kc(t){return'link[rel="stylesheet"]['+t+"]"}function ZN(t){return Ue({},t,{"data-precedence":t.precedence,precedence:null})}function pM(t,e,n,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),Mt(e,"link",n),yt(e),t.head.appendChild(e))}function jo(t){return'[src="'+Cn(t)+'"]'}function Wc(t){return"script[async]"+t}function Lb(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+Cn(n.href)+'"]');if(s)return e.instance=s,yt(s),s;var r=Ue({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),yt(s),Mt(s,"style",r),Eh(s,n.precedence,t),e.instance=s;case"stylesheet":r=io(n.href);var i=t.querySelector(Kc(r));if(i)return e.state.loading|=4,e.instance=i,yt(i),i;s=ZN(n),(r=Pn.get(r))&&w0(s,r),i=(t.ownerDocument||t).createElement("link"),yt(i);var a=i;return a._p=new Promise(function(l,c){a.onload=l,a.onerror=c}),Mt(i,"link",s),e.state.loading|=4,Eh(i,n.precedence,t),e.instance=i;case"script":return i=jo(n.src),(r=t.querySelector(Wc(i)))?(e.instance=r,yt(r),r):(s=n,(r=Pn.get(i))&&(s=Ue({},n),_0(s,r)),t=t.ownerDocument||t,r=t.createElement("script"),yt(r),Mt(r,"link",s),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(U(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(s=e.instance,e.state.loading|=4,Eh(s,n.precedence,t));return e.instance}function Eh(t,e,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,i=r,a=0;a<s.length;a++){var l=s[a];if(l.dataset.precedence===e)i=l;else if(i!==r)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function w0(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function _0(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Nh=null;function Ub(t,e,n){if(Nh===null){var s=new Map,r=Nh=new Map;r.set(n,s)}else r=Nh,s=r.get(n),s||(s=new Map,r.set(n,s));if(s.has(t))return s;for(s.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var i=n[r];if(!(i[qc]||i[St]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var a=i.getAttribute(e)||"";a=t+a;var l=s.get(a);l?l.push(i):s.set(a,[i])}}return s}function zb(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function gM(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function eS(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function yM(t,e,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=io(s.href),i=e.querySelector(Kc(r));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=pd.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=i,yt(i);return}i=e.ownerDocument||e,s=ZN(s),(r=Pn.get(r))&&w0(s,r),i=i.createElement("link"),yt(i);var a=i;a._p=new Promise(function(l,c){a.onload=l,a.onerror=c}),Mt(i,"link",s),n.instance=i}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=pd.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var lp=0;function xM(t,e){return t.stylesheets&&t.count===0&&Sh(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var s=setTimeout(function(){if(t.stylesheets&&Sh(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4+e);0<t.imgBytes&&lp===0&&(lp=62500*J6());var r=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Sh(t,t.stylesheets),t.unsuspend)){var i=t.unsuspend;t.unsuspend=null,i()}},(t.imgBytes>lp?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s),clearTimeout(r)}}:null}function pd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var gd=null;function Sh(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,gd=new Map,e.forEach(vM,t),gd=null,pd.call(t))}function vM(t,e){if(!(e.state.loading&4)){var n=gd.get(t);if(n)var s=n.get(null);else{n=new Map,gd.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var a=r[i];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),s=a)}s&&n.set(null,s)}r=e.instance,a=r.getAttribute("data-precedence"),i=n.get(a)||s,i===s&&n.set(null,r),n.set(a,r),this.count++,s=pd.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),i?i.parentNode.insertBefore(r,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var gc={$$typeof:_s,Provider:null,Consumer:null,_currentValue:Ii,_currentValue2:Ii,_threadCount:0};function bM(t,e,n,s,r,i,a,l,c){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Im(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Im(0),this.hiddenUpdates=Im(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function tS(t,e,n,s,r,i,a,l,c,h,d,f){return t=new bM(t,e,n,a,c,h,d,f,l),e=1,i===!0&&(e|=24),i=on(3,null,null,e),t.current=i,i.stateNode=t,e=Qy(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:s,isDehydrated:n,cache:e},Xy(i),t}function nS(t){return t?(t=ja,t):ja}function sS(t,e,n,s,r,i){r=nS(r),s.context===null?s.context=r:s.pendingContext=r,s=Ar(e),s.payload={element:n},i=i===void 0?null:i,i!==null&&(s.callback=i),n=jr(t,s,e),n!==null&&(Jt(n,t,e),Ul(n,t,e))}function Bb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function T0(t,e){Bb(t,e),(t=t.alternate)&&Bb(t,e)}function rS(t){if(t.tag===13||t.tag===31){var e=Xi(t,67108864);e!==null&&Jt(e,t,67108864),T0(t,67108864)}}function Fb(t){if(t.tag===13||t.tag===31){var e=mn();e=ky(e);var n=Xi(t,e);n!==null&&Jt(n,t,e),T0(t,e)}}var yd=!0;function wM(t,e,n,s){var r=ee.T;ee.T=null;var i=ge.p;try{ge.p=2,E0(t,e,n,s)}finally{ge.p=i,ee.T=r}}function _M(t,e,n,s){var r=ee.T;ee.T=null;var i=ge.p;try{ge.p=8,E0(t,e,n,s)}finally{ge.p=i,ee.T=r}}function E0(t,e,n,s){if(yd){var r=Ig(s);if(r===null)ap(t,e,s,xd,n),qb(t,s);else if(EM(r,t,e,n,s))s.stopPropagation();else if(qb(t,s),e&4&&-1<TM.indexOf(t)){for(;r!==null;){var i=To(r);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var a=wi(i.pendingLanes);if(a!==0){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var c=1<<31-fn(a);l.entanglements[1]|=c,a&=~c}ms(i),!(pe&6)&&(od=hn()+500,Qc(0))}}break;case 31:case 13:l=Xi(i,2),l!==null&&Jt(l,i,2),gf(),T0(i,2)}if(i=Ig(s),i===null&&ap(t,e,s,xd,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else ap(t,e,s,null,n)}}function Ig(t){return t=Ly(t),N0(t)}var xd=null;function N0(t){if(xd=null,t=_a(t),t!==null){var e=Uc(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=E2(e),t!==null)return t;t=null}else if(n===31){if(t=N2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return xd=t,null}function iS(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lI()){case C2:return 2;case R2:return 8;case Yh:case cI:return 32;case I2:return 268435456;default:return 32}default:return 32}}var Mg=!1,Ir=null,Mr=null,Dr=null,yc=new Map,xc=new Map,mr=[],TM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qb(t,e){switch(t){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":yc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xc.delete(e.pointerId)}}function fl(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=To(e),e!==null&&rS(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function EM(t,e,n,s,r){switch(e){case"focusin":return Ir=fl(Ir,t,e,n,s,r),!0;case"dragenter":return Mr=fl(Mr,t,e,n,s,r),!0;case"mouseover":return Dr=fl(Dr,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return yc.set(i,fl(yc.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,xc.set(i,fl(xc.get(i)||null,t,e,n,s,r)),!0}return!1}function aS(t){var e=_a(t.target);if(e!==null){var n=Uc(e);if(n!==null){if(e=n.tag,e===13){if(e=E2(n),e!==null){t.blockedOn=e,A1(t.priority,function(){Fb(n)});return}}else if(e===31){if(e=N2(n),e!==null){t.blockedOn=e,A1(t.priority,function(){Fb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ah(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ig(t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Wp=s,n.target.dispatchEvent(s),Wp=null}else return e=To(n),e!==null&&rS(e),t.blockedOn=n,!1;e.shift()}return!0}function Hb(t,e,n){Ah(t)&&n.delete(e)}function NM(){Mg=!1,Ir!==null&&Ah(Ir)&&(Ir=null),Mr!==null&&Ah(Mr)&&(Mr=null),Dr!==null&&Ah(Dr)&&(Dr=null),yc.forEach(Hb),xc.forEach(Hb)}function Wu(t,e){t.blockedOn===e&&(t.blockedOn=null,Mg||(Mg=!0,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,NM)))}var Xu=null;function Gb(t){Xu!==t&&(Xu=t,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,function(){Xu===t&&(Xu=null);for(var e=0;e<t.length;e+=3){var n=t[e],s=t[e+1],r=t[e+2];if(typeof s!="function"){if(N0(s||n)===null)continue;break}var i=To(n);i!==null&&(t.splice(e,3),e-=3,dg(i,{pending:!0,data:r,method:n.method,action:s},s,r))}}))}function ao(t){function e(c){return Wu(c,t)}Ir!==null&&Wu(Ir,t),Mr!==null&&Wu(Mr,t),Dr!==null&&Wu(Dr,t),yc.forEach(e),xc.forEach(e);for(var n=0;n<mr.length;n++){var s=mr[n];s.blockedOn===t&&(s.blockedOn=null)}for(;0<mr.length&&(n=mr[0],n.blockedOn===null);)aS(n),n.blockedOn===null&&mr.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var r=n[s],i=n[s+1],a=r[en]||null;if(typeof i=="function")a||Gb(n);else if(a){var l=null;if(i&&i.hasAttribute("formAction")){if(r=i,a=i[en]||null)l=a.formAction;else if(N0(r)!==null)continue}else l=a.action;typeof l=="function"?n[s+1]=l:(n.splice(s,3),s-=3),Gb(n)}}}function oS(){function t(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(a){return r=a})},focusReset:"manual",scroll:"manual"})}function e(){r!==null&&(r(),r=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),r!==null&&(r(),r=null)}}}function S0(t){this._internalRoot=t}vf.prototype.render=S0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));var n=e.current,s=mn();sS(n,s,t,e,null,null)};vf.prototype.unmount=S0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sS(t.current,2,null,t,null,null),gf(),e[_o]=null}};function vf(t){this._internalRoot=t}vf.prototype.unstable_scheduleHydration=function(t){if(t){var e=O2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<mr.length&&e!==0&&e<mr[n].priority;n++);mr.splice(n,0,t),n===0&&aS(t)}};var $b=_2.version;if($b!=="19.2.0")throw Error(U(527,$b,"19.2.0"));ge.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=tI(e),t=t!==null?S2(t):null,t=t===null?null:t.stateNode,t};var SM={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{zc=Ju.inject(SM),dn=Ju}catch{}}tf.createRoot=function(t,e){if(!T2(t))throw Error(U(299));var n=!1,s="",r=JE,i=ZE,a=eN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=tS(t,1,!1,null,null,n,s,null,r,i,a,oS),t[_o]=e.current,b0(t),new S0(e)};tf.hydrateRoot=function(t,e,n){if(!T2(t))throw Error(U(299));var s=!1,r="",i=JE,a=ZE,l=eN,c=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),e=tS(t,1,!0,e,n??null,s,r,c,i,a,l,oS),e.context=nS(null),n=e.current,s=mn(),s=ky(s),r=Ar(s),r.callback=null,jr(n,r,s),n=s,e.current.lanes=n,Fc(e,n),ms(e),t[_o]=e.current,b0(t),new vf(e)};tf.version="19.2.0";function lS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lS)}catch(t){console.error(t)}}lS(),g2.exports=tf;var AM=g2.exports;const jM=a2(AM);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Yb="popstate";function CM(t={}){function e(r,i){let{pathname:a="/",search:l="",hash:c=""}=Zi(r.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Dg("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){let a=r.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let c=r.location.href,h=c.indexOf("#");l=h===-1?c:c.slice(0,h)}return l+"#"+(typeof i=="string"?i:vc(i))}function s(r,i){vn(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return IM(e,n,s,t)}function Fe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RM(){return Math.random().toString(36).substring(2,10)}function Qb(t,e){return{usr:t.state,key:t.key,idx:e}}function Dg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Zi(e):e,state:n,key:e&&e.key||s||RM()}}function vc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Zi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function IM(t,e,n,s={}){let{window:r=document.defaultView,v5Compat:i=!1}=s,a=r.history,l="POP",c=null,h=d();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function d(){return(a.state||{idx:null}).idx}function f(){l="POP";let S=d(),x=S==null?null:S-h;h=S,c&&c({action:l,location:E.location,delta:x})}function m(S,x){l="PUSH";let v=Dg(E.location,S,x);n&&n(v,S),h=d()+1;let _=Qb(v,h),C=E.createHref(v);try{a.pushState(_,"",C)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(C)}i&&c&&c({action:l,location:E.location,delta:1})}function g(S,x){l="REPLACE";let v=Dg(E.location,S,x);n&&n(v,S),h=d();let _=Qb(v,h),C=E.createHref(v);a.replaceState(_,"",C),i&&c&&c({action:l,location:E.location,delta:0})}function b(S){return MM(S)}let E={get action(){return l},get location(){return t(r,a)},listen(S){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(Yb,f),c=S,()=>{r.removeEventListener(Yb,f),c=null}},createHref(S){return e(r,S)},createURL:b,encodeLocation(S){let x=b(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:g,go(S){return a.go(S)}};return E}function MM(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Fe(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:vc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function cS(t,e,n="/"){return DM(t,e,n,!1)}function DM(t,e,n,s){let r=typeof e=="string"?Zi(e):e,i=Us(r.pathname||"/",n);if(i==null)return null;let a=uS(t);kM(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let h=GM(i);l=qM(a[c],h,s)}return l}function uS(t,e=[],n=[],s="",r=!1){let i=(a,l,c=r,h)=>{let d={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(s)&&c)return;Fe(d.relativePath.startsWith(s),`Absolute route path "${d.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(s.length)}let f=Rs([s,d.relativePath]),m=n.concat(d);a.children&&a.children.length>0&&(Fe(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),uS(a.children,e,m,f,c)),!(a.path==null&&!a.index)&&e.push({path:f,score:BM(f,a.index),routesMeta:m})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let h of hS(a.path))i(a,l,!0,h)}),e}function hS(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let a=hS(s.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),r&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function kM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:FM(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var PM=/^:[\w-]+$/,OM=3,VM=2,LM=1,UM=10,zM=-2,Kb=t=>t==="*";function BM(t,e){let n=t.split("/"),s=n.length;return n.some(Kb)&&(s+=zM),e&&(s+=VM),n.filter(r=>!Kb(r)).reduce((r,i)=>r+(PM.test(i)?OM:i===""?LM:UM),s)}function FM(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function qM(t,e,n=!1){let{routesMeta:s}=t,r={},i="/",a=[];for(let l=0;l<s.length;++l){let c=s[l],h=l===s.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=vd({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},d),m=c.route;if(!f&&h&&n&&!s[s.length-1].route.index&&(f=vd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(r,f.params),a.push({params:r,pathname:Rs([i,f.pathname]),pathnameBase:WM(Rs([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Rs([i,f.pathnameBase]))}return a}function vd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=HM(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let i=r[0],a=i.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((h,{paramName:d,isOptional:f},m)=>{if(d==="*"){let b=l[m]||"";a=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const g=l[m];return f&&!g?h[d]=void 0:h[d]=(g||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:a,pattern:t}}function HM(t,e=!1,n=!0){vn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function GM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Us(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var $M=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YM=t=>$M.test(t);function QM(t,e="/"){let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?Zi(t):t,i;if(n)if(YM(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),vn(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${n}`)}n.startsWith("/")?i=Wb(n.substring(1),"/"):i=Wb(n,e)}else i=e;return{pathname:i,search:XM(s),hash:JM(r)}}function Wb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function cp(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function A0(t){let e=KM(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function j0(t,e,n,s=!1){let r;typeof t=="string"?r=Zi(t):(r={...t},Fe(!r.pathname||!r.pathname.includes("?"),cp("?","pathname","search",r)),Fe(!r.pathname||!r.pathname.includes("#"),cp("#","pathname","hash",r)),Fe(!r.search||!r.search.includes("#"),cp("#","search","hash",r)));let i=t===""||r.pathname==="",a=i?"/":r.pathname,l;if(a==null)l=n;else{let f=e.length-1;if(!s&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),f-=1;r.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=QM(r,l),h=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||d)&&(c.pathname+="/"),c}var Rs=t=>t.join("/").replace(/\/\/+/g,"/"),WM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),XM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ZM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dS=["POST","PUT","PATCH","DELETE"];new Set(dS);var eD=["GET",...dS];new Set(eD);var Co=T.createContext(null);Co.displayName="DataRouter";var bf=T.createContext(null);bf.displayName="DataRouterState";T.createContext(!1);var fS=T.createContext({isTransitioning:!1});fS.displayName="ViewTransition";var tD=T.createContext(new Map);tD.displayName="Fetchers";var nD=T.createContext(null);nD.displayName="Await";var Gn=T.createContext(null);Gn.displayName="Navigation";var Xc=T.createContext(null);Xc.displayName="Location";var $n=T.createContext({outlet:null,matches:[],isDataRoute:!1});$n.displayName="Route";var C0=T.createContext(null);C0.displayName="RouteError";function sD(t,{relative:e}={}){Fe(Ro(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=T.useContext(Gn),{hash:r,pathname:i,search:a}=Jc(t,{relative:e}),l=i;return n!=="/"&&(l=i==="/"?n:Rs([n,i])),s.createHref({pathname:l,search:a,hash:r})}function Ro(){return T.useContext(Xc)!=null}function Yn(){return Fe(Ro(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Xc).location}var mS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pS(t){T.useContext(Gn).static||T.useLayoutEffect(t)}function Qn(){let{isDataRoute:t}=T.useContext($n);return t?xD():rD()}function rD(){Fe(Ro(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(Co),{basename:e,navigator:n}=T.useContext(Gn),{matches:s}=T.useContext($n),{pathname:r}=Yn(),i=JSON.stringify(A0(s)),a=T.useRef(!1);return pS(()=>{a.current=!0}),T.useCallback((c,h={})=>{if(vn(a.current,mS),!a.current)return;if(typeof c=="number"){n.go(c);return}let d=j0(c,JSON.parse(i),r,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Rs([e,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[e,n,i,r,t])}var iD=T.createContext(null);function aD(t){let e=T.useContext($n).outlet;return T.useMemo(()=>e&&T.createElement(iD.Provider,{value:t},e),[e,t])}function Jc(t,{relative:e}={}){let{matches:n}=T.useContext($n),{pathname:s}=Yn(),r=JSON.stringify(A0(n));return T.useMemo(()=>j0(t,JSON.parse(r),s,e==="path"),[t,r,s,e])}function oD(t,e){return gS(t,e)}function gS(t,e,n,s,r){var v;Fe(Ro(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=T.useContext(Gn),{matches:a}=T.useContext($n),l=a[a.length-1],c=l?l.params:{},h=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let _=f&&f.path||"";yS(h,!f||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let m=Yn(),g;if(e){let _=typeof e=="string"?Zi(e):e;Fe(d==="/"||((v=_.pathname)==null?void 0:v.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${_.pathname}" was given in the \`location\` prop.`),g=_}else g=m;let b=g.pathname||"/",E=b;if(d!=="/"){let _=d.replace(/^\//,"").split("/");E="/"+b.replace(/^\//,"").split("/").slice(_.length).join("/")}let S=cS(t,{pathname:E});vn(f||S!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),vn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=dD(S&&S.map(_=>Object.assign({},_,{params:Object.assign({},c,_.params),pathname:Rs([d,i.encodeLocation?i.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?d:Rs([d,i.encodeLocation?i.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),a,n,s,r);return e&&x?T.createElement(Xc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},x):x}function lD(){let t=yD(),e=ZM(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:i},"ErrorBoundary")," or"," ",T.createElement("code",{style:i},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:r},n):null,a)}var cD=T.createElement(lD,null),uD=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?T.createElement($n.Provider,{value:this.props.routeContext},T.createElement(C0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hD({routeContext:t,match:e,children:n}){let s=T.useContext(Co);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement($n.Provider,{value:t},n)}function dD(t,e=[],n=null,s=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);Fe(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(n)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:g}=n,b=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||b){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let h=n&&s?(d,f)=>{var m,g;s(d,{location:n.location,params:((g=(m=n.matches)==null?void 0:m[0])==null?void 0:g.params)??{},errorInfo:f})}:void 0;return i.reduceRight((d,f,m)=>{let g,b=!1,E=null,S=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,E=f.route.errorElement||cD,l&&(c<0&&m===0?(yS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):c===m&&(b=!0,S=f.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,m+1)),v=()=>{let _;return g?_=E:b?_=S:f.route.Component?_=T.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,T.createElement(hD,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?T.createElement(uD,{location:n.location,revalidation:n.revalidation,component:E,error:g,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:h}):v()},null)}function R0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fD(t){let e=T.useContext(Co);return Fe(e,R0(t)),e}function mD(t){let e=T.useContext(bf);return Fe(e,R0(t)),e}function pD(t){let e=T.useContext($n);return Fe(e,R0(t)),e}function I0(t){let e=pD(t),n=e.matches[e.matches.length-1];return Fe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function gD(){return I0("useRouteId")}function yD(){var s;let t=T.useContext(C0),e=mD("useRouteError"),n=I0("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function xD(){let{router:t}=fD("useNavigate"),e=I0("useNavigate"),n=T.useRef(!1);return pS(()=>{n.current=!0}),T.useCallback(async(r,i={})=>{vn(n.current,mS),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...i}))},[t,e])}var Xb={};function yS(t,e,n){!e&&!Xb[t]&&(Xb[t]=!0,vn(!1,n))}T.memo(vD);function vD({routes:t,future:e,state:n,unstable_onError:s}){return gS(t,void 0,n,s,e)}function Jb({to:t,replace:e,state:n,relative:s}){Fe(Ro(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=T.useContext(Gn);vn(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=T.useContext($n),{pathname:a}=Yn(),l=Qn(),c=j0(t,A0(i),a,s==="path"),h=JSON.stringify(c);return T.useEffect(()=>{l(JSON.parse(h),{replace:e,state:n,relative:s})},[l,h,s,e,n]),null}function xS(t){return aD(t.context)}function ke(t){Fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bD({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:r,static:i=!1}){Fe(!Ro(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=T.useMemo(()=>({basename:a,navigator:r,static:i,future:{}}),[a,r,i]);typeof n=="string"&&(n=Zi(n));let{pathname:c="/",search:h="",hash:d="",state:f=null,key:m="default"}=n,g=T.useMemo(()=>{let b=Us(c,a);return b==null?null:{location:{pathname:b,search:h,hash:d,state:f,key:m},navigationType:s}},[a,c,h,d,f,m,s]);return vn(g!=null,`<Router basename="${a}"> is not able to match the URL "${c}${h}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:T.createElement(Gn.Provider,{value:l},T.createElement(Xc.Provider,{children:e,value:g}))}function wD({children:t,location:e}){return oD(kg(t),e)}function kg(t,e=[]){let n=[];return T.Children.forEach(t,(s,r)=>{if(!T.isValidElement(s))return;let i=[...e,r];if(s.type===T.Fragment){n.push.apply(n,kg(s.props.children,i));return}Fe(s.type===ke,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let a={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=kg(s.props.children,i)),n.push(a)}),n}var jh="get",Ch="application/x-www-form-urlencoded";function wf(t){return t!=null&&typeof t.tagName=="string"}function _D(t){return wf(t)&&t.tagName.toLowerCase()==="button"}function TD(t){return wf(t)&&t.tagName.toLowerCase()==="form"}function ED(t){return wf(t)&&t.tagName.toLowerCase()==="input"}function ND(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function SD(t,e){return t.button===0&&(!e||e==="_self")&&!ND(t)}var Zu=null;function AD(){if(Zu===null)try{new FormData(document.createElement("form"),0),Zu=!1}catch{Zu=!0}return Zu}var jD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function up(t){return t!=null&&!jD.has(t)?(vn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ch}"`),null):t}function CD(t,e){let n,s,r,i,a;if(TD(t)){let l=t.getAttribute("action");s=l?Us(l,e):null,n=t.getAttribute("method")||jh,r=up(t.getAttribute("enctype"))||Ch,i=new FormData(t)}else if(_D(t)||ED(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(s=c?Us(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||jh,r=up(t.getAttribute("formenctype"))||up(l.getAttribute("enctype"))||Ch,i=new FormData(l,t),!AD()){let{name:h,type:d,value:f}=t;if(d==="image"){let m=h?`${h}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else h&&i.append(h,f)}}else{if(wf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jh,s=null,r=Ch,a=t}return i&&r==="text/plain"&&(a=i,i=void 0),{action:s,method:n.toLowerCase(),encType:r,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function M0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function RD(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Us(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function ID(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function DD(t,e,n){let s=await Promise.all(t.map(async r=>{let i=e.routes[r.route.id];if(i){let a=await ID(i,n);return a.links?a.links():[]}return[]}));return VD(s.flat(1).filter(MD).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Zb(t,e,n,s,r,i){let a=(c,h)=>n[h]?c.route.id!==n[h].route.id:!0,l=(c,h)=>{var d;return n[h].pathname!==c.pathname||((d=n[h].route.path)==null?void 0:d.endsWith("*"))&&n[h].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,h)=>a(c,h)||l(c,h)):i==="data"?e.filter((c,h)=>{var f;let d=s.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,h)||l(c,h))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function kD(t,e,{includeHydrateFallback:n}={}){return PD(t.map(s=>{let r=e.routes[s.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function PD(t){return[...new Set(t)]}function OD(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function VD(t,e){let n=new Set;return new Set(e),t.reduce((s,r)=>{let i=JSON.stringify(OD(r));return n.has(i)||(n.add(i),s.push({key:i,link:r})),s},[])}function vS(){let t=T.useContext(Co);return M0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function LD(){let t=T.useContext(bf);return M0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var D0=T.createContext(void 0);D0.displayName="FrameworkContext";function bS(){let t=T.useContext(D0);return M0(t,"You must render this element inside a <HydratedRouter> element"),t}function UD(t,e){let n=T.useContext(D0),[s,r]=T.useState(!1),[i,a]=T.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:h,onMouseLeave:d,onTouchStart:f}=e,m=T.useRef(null);T.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let E=x=>{x.forEach(v=>{a(v.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return m.current&&S.observe(m.current),()=>{S.disconnect()}}},[t]),T.useEffect(()=>{if(s){let E=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(E)}}},[s]);let g=()=>{r(!0)},b=()=>{r(!1),a(!1)};return n?t!=="intent"?[i,m,{}]:[i,m,{onFocus:ml(l,g),onBlur:ml(c,b),onMouseEnter:ml(h,g),onMouseLeave:ml(d,b),onTouchStart:ml(f,g)}]:[!1,m,{}]}function ml(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function zD({page:t,...e}){let{router:n}=vS(),s=T.useMemo(()=>cS(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?T.createElement(FD,{page:t,matches:s,...e}):null}function BD(t){let{manifest:e,routeModules:n}=bS(),[s,r]=T.useState([]);return T.useEffect(()=>{let i=!1;return DD(t,e,n).then(a=>{i||r(a)}),()=>{i=!0}},[t,e,n]),s}function FD({page:t,matches:e,...n}){let s=Yn(),{manifest:r,routeModules:i}=bS(),{basename:a}=vS(),{loaderData:l,matches:c}=LD(),h=T.useMemo(()=>Zb(t,e,c,r,s,"data"),[t,e,c,r,s]),d=T.useMemo(()=>Zb(t,e,c,r,s,"assets"),[t,e,c,r,s]),f=T.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let b=new Set,E=!1;if(e.forEach(x=>{var _;let v=r.routes[x.route.id];!v||!v.hasLoader||(!h.some(C=>C.route.id===x.route.id)&&x.route.id in l&&((_=i[x.route.id])!=null&&_.shouldRevalidate)||v.hasClientLoader?E=!0:b.add(x.route.id))}),b.size===0)return[];let S=RD(t,a,"data");return E&&b.size>0&&S.searchParams.set("_routes",e.filter(x=>b.has(x.route.id)).map(x=>x.route.id).join(",")),[S.pathname+S.search]},[a,l,s,r,h,e,t,i]),m=T.useMemo(()=>kD(d,r),[d,r]),g=BD(d);return T.createElement(T.Fragment,null,f.map(b=>T.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),m.map(b=>T.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),g.map(({key:b,link:E})=>T.createElement("link",{key:b,nonce:n.nonce,...E})))}function qD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var wS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wS&&(window.__reactRouterVersion="7.9.6")}catch{}function HD({basename:t,children:e,window:n}){let s=T.useRef();s.current==null&&(s.current=CM({window:n,v5Compat:!0}));let r=s.current,[i,a]=T.useState({action:r.action,location:r.location}),l=T.useCallback(c=>{T.startTransition(()=>a(c))},[a]);return T.useLayoutEffect(()=>r.listen(l),[r,l]),T.createElement(bD,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:r})}var _S=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=T.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:r,reloadDocument:i,replace:a,state:l,target:c,to:h,preventScrollReset:d,viewTransition:f,...m},g){let{basename:b}=T.useContext(Gn),E=typeof h=="string"&&_S.test(h),S,x=!1;if(typeof h=="string"&&E&&(S=h,wS))try{let A=new URL(window.location.href),R=h.startsWith("//")?new URL(A.protocol+h):new URL(h),M=Us(R.pathname,b);R.origin===A.origin&&M!=null?h=M+R.search+R.hash:x=!0}catch{vn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=sD(h,{relative:r}),[_,C,D]=UD(s,m),P=YD(h,{replace:a,state:l,target:c,preventScrollReset:d,relative:r,viewTransition:f});function N(A){e&&e(A),A.defaultPrevented||P(A)}let w=T.createElement("a",{...m,...D,href:S||v,onClick:x||i?e:N,ref:qD(g,C),target:c,"data-discover":!E&&n==="render"?"true":void 0});return _&&!E?T.createElement(T.Fragment,null,w,T.createElement(zD,{page:v})):w});Ae.displayName="Link";var Tn=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:r=!1,style:i,to:a,viewTransition:l,children:c,...h},d){let f=Jc(a,{relative:h.relative}),m=Yn(),g=T.useContext(bf),{navigator:b,basename:E}=T.useContext(Gn),S=g!=null&&JD(f)&&l===!0,x=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,v=m.pathname,_=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(v=v.toLowerCase(),_=_?_.toLowerCase():null,x=x.toLowerCase()),_&&E&&(_=Us(_,E)||_);const C=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let D=v===x||!r&&v.startsWith(x)&&v.charAt(C)==="/",P=_!=null&&(_===x||!r&&_.startsWith(x)&&_.charAt(x.length)==="/"),N={isActive:D,isPending:P,isTransitioning:S},w=D?e:void 0,A;typeof s=="function"?A=s(N):A=[s,D?"active":null,P?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let R=typeof i=="function"?i(N):i;return T.createElement(Ae,{...h,"aria-current":w,className:A,ref:d,style:R,to:a,viewTransition:l},typeof c=="function"?c(N):c)});Tn.displayName="NavLink";var GD=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:r,state:i,method:a=jh,action:l,onSubmit:c,relative:h,preventScrollReset:d,viewTransition:f,...m},g)=>{let b=WD(),E=XD(l,{relative:h}),S=a.toLowerCase()==="get"?"get":"post",x=typeof l=="string"&&_S.test(l),v=_=>{if(c&&c(_),_.defaultPrevented)return;_.preventDefault();let C=_.nativeEvent.submitter,D=(C==null?void 0:C.getAttribute("formmethod"))||a;b(C||_.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:r,state:i,relative:h,preventScrollReset:d,viewTransition:f})};return T.createElement("form",{ref:g,method:S,action:E,onSubmit:s?c:v,...m,"data-discover":!x&&t==="render"?"true":void 0})});GD.displayName="Form";function $D(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TS(t){let e=T.useContext(Co);return Fe(e,$D(t)),e}function YD(t,{target:e,replace:n,state:s,preventScrollReset:r,relative:i,viewTransition:a}={}){let l=Qn(),c=Yn(),h=Jc(t,{relative:i});return T.useCallback(d=>{if(SD(d,e)){d.preventDefault();let f=n!==void 0?n:vc(c)===vc(h);l(t,{replace:f,state:s,preventScrollReset:r,relative:i,viewTransition:a})}},[c,l,h,n,s,e,t,r,i,a])}var QD=0,KD=()=>`__${String(++QD)}__`;function WD(){let{router:t}=TS("useSubmit"),{basename:e}=T.useContext(Gn),n=gD();return T.useCallback(async(s,r={})=>{let{action:i,method:a,encType:l,formData:c,body:h}=CD(s,e);if(r.navigate===!1){let d=r.fetcherKey||KD();await t.fetch(d,n,r.action||i,{preventScrollReset:r.preventScrollReset,formData:c,body:h,formMethod:r.method||a,formEncType:r.encType||l,flushSync:r.flushSync})}else await t.navigate(r.action||i,{preventScrollReset:r.preventScrollReset,formData:c,body:h,formMethod:r.method||a,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function XD(t,{relative:e}={}){let{basename:n}=T.useContext(Gn),s=T.useContext($n);Fe(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),i={...Jc(t||".",{relative:e})},a=Yn();if(t==null){i.search=a.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&r.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Rs([n,i.pathname])),vc(i)}function JD(t,{relative:e}={}){let n=T.useContext(fS);Fe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=TS("useViewTransitionState"),r=Jc(t,{relative:e});if(!n.isTransitioning)return!1;let i=Us(n.currentLocation.pathname,s)||n.currentLocation.pathname,a=Us(n.nextLocation.pathname,s)||n.nextLocation.pathname;return vd(r.pathname,a)!=null||vd(r.pathname,i)!=null}/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),e5=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),ew=t=>{const e=e5(t);return e.charAt(0).toUpperCase()+e.slice(1)},ES=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),t5=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:a,...l},c)=>T.createElement("svg",{ref:c,...n5,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:ES("lucide",r),...!i&&!t5(l)&&{"aria-hidden":"true"},...l},[...a.map(([h,d])=>T.createElement(h,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=(t,e)=>{const n=T.forwardRef(({className:s,...r},i)=>T.createElement(s5,{ref:i,iconNode:e,className:ES(`lucide-${ZD(ew(t))}`,`lucide-${t}`,s),...r}));return n.displayName=ew(t),n};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],oo=H("arrow-right",r5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],a5=H("arrow-up-down",i5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],l5=H("award",o5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],u5=H("banknote",c5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],_f=H("bell",h5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],NS=H("calendar",d5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],m5=H("camera",f5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],SS=H("chart-column",p5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],y5=H("chart-no-axes-column-increasing",g5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Hr=H("check",x5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Zc=H("chevron-down",v5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]],w5=H("chevrons-down",b5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ea=H("circle-alert",_5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],AS=H("circle-check-big",T5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],N5=H("circle-dollar-sign",E5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],A5=H("circle-question-mark",S5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],C5=H("circle-x",j5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]],I5=H("clipboard-copy",R5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],D5=H("clipboard-list",M5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Tf=H("clock",k5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],O5=H("cloud-upload",P5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Bn=H("coffee",V5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],U5=H("crown",L5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],B5=H("dollar-sign",z5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Pg=H("eye-off",F5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Og=H("eye",q5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],jS=H("facebook",H5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],$5=H("file-image",G5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],bc=H("gift",Y5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],K5=H("hash",Q5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],X5=H("history",W5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Z5=H("info",J5);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],CS=H("instagram",e3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],n3=H("key",t3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],r3=H("layout-dashboard",s3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],a3=H("lightbulb",i3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],_t=H("loader-circle",o3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],bd=H("lock",l3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],tw=H("log-out",c3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],zs=H("mail",u3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],k0=H("map-pin",h3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],f3=H("medal",d3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],RS=H("menu",m3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],g3=H("message-circle",p3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Io=H("message-square",y3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"M5 12h14",key:"1ays0h"}]],IS=H("minus",x3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],b3=H("package",v3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],_3=H("palette",w3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Bs=H("phone",T3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],eu=H("plus",E3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],S3=H("quote",N3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],MS=H("refresh-cw",A3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],P0=H("save",j3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],wd=H("search",C3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],O0=H("send",R3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],V0=H("settings",I3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],D3=H("share-2",M3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],wc=H("shield",k3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],L0=H("shopping-bag",P3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],U0=H("shopping-cart",O3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],DS=H("square-pen",V3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],kS=H("star",L3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ef=H("trash-2",U3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],PS=H("triangle-alert",z3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],OS=H("twitter",B3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],nw=H("upload",F3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Fs=H("user",q3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_d=H("users",H3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],VS=H("wallet",G3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["path",{d:"M12 10v2.2l1.6 1",key:"n3r21l"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}]],Y3=H("watch",$3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ws=H("x",Q3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],W3=H("zap",K3),fe=({children:t,className:e="",hover:n=!1})=>{const s=n?"hover:shadow-xl transition-all duration-300":"";return o.jsx("div",{className:`rounded-lg border border-gray-100 bg-white p-6 shadow-sm ${s} ${e}`,children:t})},vt=({children:t,className:e=""})=>{const n="inline-flex items-center rounded-full px-3 py-1 text-sm font-medium",s=e.includes("bg-")?"":"bg-primary-100 text-primary-800";return o.jsx("span",{className:`${n} ${s} ${e}`,children:t})},X3=()=>{};var sw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},J3=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],a=t[n++],l=t[n++],c=((r&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63)}}return e.join("")},US={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],a=r+1<t.length,l=a?t[r+1]:0,c=r+2<t.length,h=c?t[r+2]:0,d=i>>2,f=(i&3)<<4|l>>4;let m=(l&15)<<2|h>>6,g=h&63;c||(g=64,a||(m=64)),s.push(n[d],n[f],n[m],n[g])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(LS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):J3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const h=r<t.length?n[t.charAt(r)]:64;++r;const f=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||l==null||h==null||f==null)throw new Z3;const m=i<<2|l>>4;if(s.push(m),h!==64){const g=l<<4&240|h>>2;if(s.push(g),f!==64){const b=h<<6&192|f;s.push(b)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Z3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ek=function(t){const e=LS(t);return US.encodeByteArray(e,!0)},Td=function(t){return ek(t).replace(/\./g,"")},zS=function(t){try{return US.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=()=>tk().__FIREBASE_DEFAULTS__,sk=()=>{if(typeof process>"u"||typeof sw>"u")return;const t=sw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zS(t[1]);return e&&JSON.parse(e)},Nf=()=>{try{return X3()||nk()||sk()||rk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BS=t=>{var e,n;return(n=(e=Nf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},ik=t=>{const e=BS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},FS=()=>{var t;return(t=Nf())==null?void 0:t.config},qS=t=>{var e;return(e=Nf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function HS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Td(JSON.stringify(n)),Td(JSON.stringify(a)),""].join(".")}const Ql={};function lk(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?t.emulator.push(e):t.prod.push(e);return t}function ck(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let rw=!1;function GS(t,e){if(typeof window>"u"||typeof document>"u"||!Mo(window.location.host)||Ql[t]===e||Ql[t]||rw)return;Ql[t]=e;function n(m){return`__firebase__banner__${m}`}const s="__firebase__banner",i=lk().prod.length>0;function a(){const m=document.getElementById(s);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{rw=!0,a()},m}function d(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=ck(s),g=n("text"),b=document.getElementById(g)||document.createElement("span"),E=n("learnmore"),S=document.getElementById(E)||document.createElement("a"),x=n("preprendIcon"),v=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const _=m.element;l(_),d(S,E);const C=h();c(v,x),_.append(v,b,S,C),document.body.appendChild(_)}i?(b.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function hk(){var e;const t=(e=Nf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pk(){const t=Ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gk(){return!hk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yk(){try{return typeof indexedDB=="object"}catch{return!1}}function xk(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk="FirebaseError";class Xs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=vk,Object.setPrototypeOf(this,Xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?bk(i,s):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new Xs(r,l,s)}}function bk(t,e){return t.replace(wk,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const wk=/\{\$([^}]+)}/g;function _k(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gr(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],a=e[r];if(iw(i)&&iw(a)){if(!Gr(i,a))return!1}else if(i!==a)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function iw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Nl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,i]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function Sl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Tk(t,e){const n=new Ek(t,e);return n.subscribe.bind(n)}class Ek{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Nk(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=hp),r.error===void 0&&(r.error=hp),r.complete===void 0&&(r.complete=hp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t){return t&&t._delegate?t._delegate:t}class qi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new ak;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jk(e))try{this.getOrInitializeService({instanceIdentifier:Ei})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=Ei){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ei){return this.instances.has(e)}getOptions(e=Ei){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);s===l&&a.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const i=this.instances.get(s);return i&&e(i,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Ak(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ei){return this.component?this.component.multipleInstances?e:Ei:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ak(t){return t===Ei?void 0:t}function jk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Sk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(oe||(oe={}));const Rk={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},Ik=oe.INFO,Mk={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},Dk=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=Mk[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class z0{constructor(e){this.name=e,this._logLevel=Ik,this._logHandler=Dk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Rk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}const kk=(t,e)=>e.some(n=>t instanceof n);let aw,ow;function Pk(){return aw||(aw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ok(){return ow||(ow=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $S=new WeakMap,Vg=new WeakMap,YS=new WeakMap,dp=new WeakMap,B0=new WeakMap;function Vk(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(kr(t.result)),r()},a=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&$S.set(n,t)}).catch(()=>{}),B0.set(e,t),e}function Lk(t){if(Vg.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),r()},a=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Vg.set(t,e)}let Lg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Uk(t){Lg=t(Lg)}function zk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(fp(this),e,...n);return YS.set(s,e.sort?e.sort():[e]),kr(s)}:Ok().includes(t)?function(...e){return t.apply(fp(this),e),kr($S.get(this))}:function(...e){return kr(t.apply(fp(this),e))}}function Bk(t){return typeof t=="function"?zk(t):(t instanceof IDBTransaction&&Lk(t),kk(t,Pk())?new Proxy(t,Lg):t)}function kr(t){if(t instanceof IDBRequest)return Vk(t);if(dp.has(t))return dp.get(t);const e=Bk(t);return e!==t&&(dp.set(t,e),B0.set(e,t)),e}const fp=t=>B0.get(t);function Fk(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const a=indexedDB.open(t,e),l=kr(a);return s&&a.addEventListener("upgradeneeded",c=>{s(kr(a.result),c.oldVersion,c.newVersion,kr(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const qk=["get","getKey","getAll","getAllKeys","count"],Hk=["put","add","delete","clear"],mp=new Map;function lw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mp.get(e))return mp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=Hk.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||qk.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let h=c.store;return s&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),r&&c.done]))[0]};return mp.set(e,i),i}Uk(t=>({...t,get:(e,n,s)=>lw(e,n)||t.get(e,n,s),has:(e,n)=>!!lw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($k(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function $k(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ug="@firebase/app",cw="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new z0("@firebase/app"),Yk="@firebase/app-compat",Qk="@firebase/analytics-compat",Kk="@firebase/analytics",Wk="@firebase/app-check-compat",Xk="@firebase/app-check",Jk="@firebase/auth",Zk="@firebase/auth-compat",eP="@firebase/database",tP="@firebase/data-connect",nP="@firebase/database-compat",sP="@firebase/functions",rP="@firebase/functions-compat",iP="@firebase/installations",aP="@firebase/installations-compat",oP="@firebase/messaging",lP="@firebase/messaging-compat",cP="@firebase/performance",uP="@firebase/performance-compat",hP="@firebase/remote-config",dP="@firebase/remote-config-compat",fP="@firebase/storage",mP="@firebase/storage-compat",pP="@firebase/firestore",gP="@firebase/ai",yP="@firebase/firestore-compat",xP="firebase",vP="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="[DEFAULT]",bP={[Ug]:"fire-core",[Yk]:"fire-core-compat",[Kk]:"fire-analytics",[Qk]:"fire-analytics-compat",[Xk]:"fire-app-check",[Wk]:"fire-app-check-compat",[Jk]:"fire-auth",[Zk]:"fire-auth-compat",[eP]:"fire-rtdb",[tP]:"fire-data-connect",[nP]:"fire-rtdb-compat",[sP]:"fire-fn",[rP]:"fire-fn-compat",[iP]:"fire-iid",[aP]:"fire-iid-compat",[oP]:"fire-fcm",[lP]:"fire-fcm-compat",[cP]:"fire-perf",[uP]:"fire-perf-compat",[hP]:"fire-rc",[dP]:"fire-rc-compat",[fP]:"fire-gcs",[mP]:"fire-gcs-compat",[pP]:"fire-fst",[yP]:"fire-fst-compat",[gP]:"fire-vertex","fire-js":"fire-js",[xP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=new Map,wP=new Map,Bg=new Map;function uw(t,e){try{t.container.addComponent(e)}catch(n){qs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function lo(t){const e=t.name;if(Bg.has(e))return qs.debug(`There were multiple attempts to register component ${e}.`),!1;Bg.set(e,t);for(const n of Ed.values())uw(n,t);for(const n of wP.values())uw(n,t);return!0}function F0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pr=new tu("app","Firebase",_P);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=vP;function QS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:zg,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw Pr.create("bad-app-name",{appName:String(r)});if(n||(n=FS()),!n)throw Pr.create("no-options");const i=Ed.get(r);if(i){if(Gr(n,i.options)&&Gr(s,i.config))return i;throw Pr.create("duplicate-app",{appName:r})}const a=new Ck(r);for(const c of Bg.values())a.addComponent(c);const l=new TP(n,s,a);return Ed.set(r,l),l}function KS(t=zg){const e=Ed.get(t);if(!e&&t===zg&&FS())return QS();if(!e)throw Pr.create("no-app",{appName:t});return e}function Or(t,e,n){let s=bP[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),i=e.match(/\s|\//);if(r||i){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qs.warn(a.join(" "));return}lo(new qi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="firebase-heartbeat-database",NP=1,_c="firebase-heartbeat-store";let pp=null;function WS(){return pp||(pp=Fk(EP,NP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_c)}catch(n){console.warn(n)}}}}).catch(t=>{throw Pr.create("idb-open",{originalErrorMessage:t.message})})),pp}async function SP(t){try{const n=(await WS()).transaction(_c),s=await n.objectStore(_c).get(XS(t));return await n.done,s}catch(e){if(e instanceof Xs)qs.warn(e.message);else{const n=Pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qs.warn(n.message)}}}async function hw(t,e){try{const s=(await WS()).transaction(_c,"readwrite");await s.objectStore(_c).put(e,XS(t)),await s.done}catch(n){if(n instanceof Xs)qs.warn(n.message);else{const s=Pr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qs.warn(s.message)}}}function XS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=1024,jP=30;class CP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IP(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=dw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>jP){const a=MP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){qs.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dw(),{heartbeatsToSend:s,unsentEntries:r}=RP(this._heartbeatsCache.heartbeats),i=Td(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return qs.warn(n),""}}}function dw(){return new Date().toISOString().substring(0,10)}function RP(t,e=AP){const n=[];let s=t.slice();for(const r of t){const i=n.find(a=>a.agent===r.agent);if(i){if(i.dates.push(r.date),fw(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),fw(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class IP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yk()?xk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return hw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return hw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function fw(t){return Td(JSON.stringify({version:2,heartbeats:t})).length}function MP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(t){lo(new qi("platform-logger",e=>new Gk(e),"PRIVATE")),lo(new qi("heartbeat",e=>new CP(e),"PRIVATE")),Or(Ug,cw,t),Or(Ug,cw,"esm2020"),Or("fire-js","")}DP("");function JS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kP=JS,ZS=new tu("auth","Firebase",JS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=new z0("@firebase/auth");function PP(t,...e){Nd.logLevel<=oe.WARN&&Nd.warn(`Auth (${Do}): ${t}`,...e)}function Rh(t,...e){Nd.logLevel<=oe.ERROR&&Nd.error(`Auth (${Do}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t,...e){throw q0(t,...e)}function ns(t,...e){return q0(t,...e)}function eA(t,e,n){const s={...kP(),[e]:n};return new tu("auth","Firebase",s).create(e,{appName:t.name})}function Is(t){return eA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function q0(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return ZS.create(t,...e)}function Z(t,e,...n){if(!t)throw q0(e,...n)}function Ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rh(e),new Error(e)}function Hs(t,e){t||Ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function OP(){return mw()==="http:"||mw()==="https:"}function mw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OP()||fk()||"connection"in navigator)?navigator.onLine:!0}function LP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hs(n>e,"Short delay should be less than long delay!"),this.isMobile=uk()||mk()}get(){return VP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(t,e){Hs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BP=new su(3e4,6e4);function ii(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ai(t,e,n,s,r={}){return nA(t,r,async()=>{let i={},a={};s&&(e==="GET"?a=s:i={body:JSON.stringify(s)});const l=nu({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:c,...i};return dk()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Mo(t.emulatorConfig.host)&&(h.credentials="include"),tA.fetch()(await sA(t,t.config.apiHost,n,l),h)})}async function nA(t,e,n){t._canInitEmulator=!1;const s={...UP,...e};try{const r=new qP(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw eh(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw eh(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw eh(t,"user-disabled",a);const d=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw eA(t,d,h);Fn(t,d)}}catch(r){if(r instanceof Xs)throw r;Fn(t,"network-request-failed",{message:String(r)})}}async function ru(t,e,n,s,r={}){const i=await ai(t,e,n,s,r);return"mfaPendingCredential"in i&&Fn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function sA(t,e,n,s){const r=`${e}${n}?${s}`,i=t,a=i.config.emulator?H0(t.config,r):`${t.config.apiScheme}://${r}`;return zP.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function FP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ns(this.auth,"network-request-failed")),BP.get())})}}function eh(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=ns(t,e,s);return r.customData._tokenResponse=n,r}function pw(t){return t!==void 0&&t.enterprise!==void 0}class HP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return FP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GP(t,e){return ai(t,"GET","/v2/recaptchaConfig",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $P(t,e){return ai(t,"POST","/v1/accounts:delete",e)}async function Sd(t,e){return ai(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YP(t,e=!1){const n=We(t),s=await n.getIdToken(e),r=G0(s);Z(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:r,token:s,authTime:Kl(gp(r.auth_time)),issuedAtTime:Kl(gp(r.iat)),expirationTime:Kl(gp(r.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function gp(t){return Number(t)*1e3}function G0(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Rh("JWT malformed, contained fewer than 3 sections"),null;try{const r=zS(n);return r?JSON.parse(r):(Rh("Failed to decode base64 JWT payload"),null)}catch(r){return Rh("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function gw(t){const e=G0(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Xs&&QP(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function QP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ad(t){var f;const e=t.auth,n=await t.getIdToken(),s=await Tc(t,Sd(e,{idToken:n}));Z(s==null?void 0:s.users.length,e,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const i=(f=r.providerUserInfo)!=null&&f.length?rA(r.providerUserInfo):[],a=XP(t.providerData,i),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new qg(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function WP(t){const e=We(t);await Ad(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XP(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function rA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JP(t,e){const n=await nA(t,{},async()=>{const s=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,a=await sA(t,r,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:s};return t.emulatorConfig&&Mo(t.emulatorConfig.host)&&(c.credentials="include"),tA.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZP(t,e){return ai(t,"POST","/v2/accounts:revokeToken",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");const n=gw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await JP(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,a=new $a;return s&&(Z(typeof s=="string","internal-error",{appName:e}),a.refreshToken=s),r&&(Z(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),i&&(Z(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return Ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zn{constructor({uid:e,auth:n,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new KP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new qg(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Tc(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return YP(this,e)}reload(){return WP(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ad(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(Is(this.auth));const e=await this.getIdToken();return await Tc(this,$P(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,r=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,h=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:g,providerData:b,stsTokenManager:E}=n;Z(f&&E,e,"internal-error");const S=$a.fromJSON(this.name,E);Z(typeof f=="string",e,"internal-error"),ar(s,e.name),ar(r,e.name),Z(typeof m=="boolean",e,"internal-error"),Z(typeof g=="boolean",e,"internal-error"),ar(i,e.name),ar(a,e.name),ar(l,e.name),ar(c,e.name),ar(h,e.name),ar(d,e.name);const x=new zn({uid:f,auth:e,email:r,emailVerified:m,displayName:s,isAnonymous:g,photoURL:a,phoneNumber:i,tenantId:l,stsTokenManager:S,createdAt:h,lastLoginAt:d});return b&&Array.isArray(b)&&(x.providerData=b.map(v=>({...v}))),c&&(x._redirectEventId=c),x}static async _fromIdTokenResponse(e,n,s=!1){const r=new $a;r.updateFromServerResponse(n);const i=new zn({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await Ad(i),i}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];Z(r.localId!==void 0,"internal-error");const i=r.providerUserInfo!==void 0?rA(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(i!=null&&i.length),l=new $a;l.updateFromIdToken(s);const c=new zn({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new qg(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=new Map;function Ss(t){Hs(t instanceof Function,"Expected a class definition");let e=yw.get(t);return e?(Hs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iA.type="NONE";const xw=iA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(t,e,n){return`firebase:${t}:${e}:${n}`}class Ya{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=Ih(this.userKey,r.apiKey,i),this.fullPersistenceKey=Ih("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sd(this.auth,{idToken:e}).catch(()=>{});return n?zn._fromGetAccountInfoResponse(this.auth,n,e):null}return zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ya(Ss(xw),e,s);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=r[0]||Ss(xw);const a=Ih(s,e.config.apiKey,e.name);let l=null;for(const h of n)try{const d=await h._get(a);if(d){let f;if(typeof d=="string"){const m=await Sd(e,{idToken:d}).catch(()=>{});if(!m)break;f=await zn._fromGetAccountInfoResponse(e,m,d)}else f=zn._fromJSON(e,d);h!==i&&(l=f),i=h;break}}catch{}const c=r.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Ya(i,e,s):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(a)}catch{}})),new Ya(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hA(e))return"Blackberry";if(dA(e))return"Webos";if(oA(e))return"Safari";if((e.includes("chrome/")||lA(e))&&!e.includes("edge/"))return"Chrome";if(uA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function aA(t=Ut()){return/firefox\//i.test(t)}function oA(t=Ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lA(t=Ut()){return/crios\//i.test(t)}function cA(t=Ut()){return/iemobile/i.test(t)}function uA(t=Ut()){return/android/i.test(t)}function hA(t=Ut()){return/blackberry/i.test(t)}function dA(t=Ut()){return/webos/i.test(t)}function $0(t=Ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function eO(t=Ut()){var e;return $0(t)&&!!((e=window.navigator)!=null&&e.standalone)}function tO(){return pk()&&document.documentMode===10}function fA(t=Ut()){return $0(t)||uA(t)||dA(t)||hA(t)||/windows phone/i.test(t)||cA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(t,e=[]){let n;switch(t){case"Browser":n=vw(Ut());break;case"Worker":n=`${vw(Ut())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Do}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(t,e={}){return ai(t,"GET","/v2/passwordPolicy",ii(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=6;class iO{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??rO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bw(this),this.idTokenSubscription=new bw(this),this.beforeStateQueue=new nO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ss(n)),this._initializationPromise=this.queue(async()=>{var s,r,i;if(!this._deleted&&(this.persistenceManager=await Ya.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sd(this,{idToken:e}),s=await zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Mn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ad(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(Is(this));const n=e?We(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(Is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(Is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sO(this),n=new iO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await ZP(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ss(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[Ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,s,r);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&PP(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ta(t){return We(t)}class bw{constructor(e){this.auth=e,this.observer=null,this.addObserver=Tk(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oO(t){Sf=t}function pA(t){return Sf.loadJS(t)}function lO(){return Sf.recaptchaEnterpriseScript}function cO(){return Sf.gapiScript}function uO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class hO{constructor(){this.enterprise=new dO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class dO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const fO="recaptcha-enterprise",gA="NO_RECAPTCHA";class mO{constructor(e){this.type=fO,this.auth=ta(e)}async verify(e="verify",n=!1){async function s(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{GP(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new HP(c);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,a(h.siteKey)}}).catch(c=>{l(c)})})}function r(i,a,l){const c=window.grecaptcha;pw(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(h=>{a(h)}).catch(()=>{a(gA)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hO().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{s(this.auth).then(l=>{if(!n&&pw(window.grecaptcha))r(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=lO();c.length!==0&&(c+=l),pA(c).then(()=>{r(l,i,a)}).catch(h=>{a(h)})}}).catch(l=>{a(l)})})}}async function ww(t,e,n,s=!1,r=!1){const i=new mO(t);let a;if(r)a=gA;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Hg(t,e,n,s,r){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await ww(t,e,n,n==="getOobCode");return s(t,a)}else return s(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await ww(t,e,n,n==="getOobCode");return s(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(t,e){const n=F0(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(Gr(i,e??{}))return r;Fn(r,"already-initialized")}return n.initialize({options:e})}function gO(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ss);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function yO(t,e,n){const s=ta(t);Z(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,i=yA(e),{host:a,port:l}=xO(e),c=l===null?"":`:${l}`,h={url:`${i}//${a}${c}/`},d=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){Z(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Z(Gr(h,s.config.emulator)&&Gr(d,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=h,s.emulatorConfig=d,s.settings.appVerificationDisabledForTesting=!0,Mo(a)?(HS(`${i}//${a}${c}`),GS("Auth",!0)):vO()}function yA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xO(t){const e=yA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:_w(s.substr(i.length+1))}}else{const[i,a]=s.split(":");return{host:i,port:_w(a)}}}function _w(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function vO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ns("not implemented")}_getIdTokenResponse(e){return Ns("not implemented")}_linkToIdToken(e,n){return Ns("not implemented")}_getReauthenticationResolver(e){return Ns("not implemented")}}async function bO(t,e){return ai(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wO(t,e){return ru(t,"POST","/v1/accounts:signInWithPassword",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(t,e){return ru(t,"POST","/v1/accounts:signInWithEmailLink",ii(t,e))}async function TO(t,e){return ru(t,"POST","/v1/accounts:signInWithEmailLink",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends Y0{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Ec(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ec(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hg(e,n,"signInWithPassword",wO);case"emailLink":return _O(e,{email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hg(e,s,"signUpPassword",bO);case"emailLink":return TO(e,{idToken:n,email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(t,e){return ru(t,"POST","/v1/accounts:signInWithIdp",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="http://localhost";class Hi extends Y0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...i}=n;if(!s||!r)return null;const a=new Hi(s,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Qa(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Qa(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qa(e,n)}buildRequest(){const e={requestUri:EO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SO(t){const e=Nl(Sl(t)).link,n=e?Nl(Sl(e)).deep_link_id:null,s=Nl(Sl(t)).deep_link_id;return(s?Nl(Sl(s)).link:null)||s||n||e||t}class Q0{constructor(e){const n=Nl(Sl(e)),s=n.apiKey??null,r=n.oobCode??null,i=NO(n.mode??null);Z(s&&r&&i,"argument-error"),this.apiKey=s,this.operation=i,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=SO(e);try{return new Q0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.providerId=ko.PROVIDER_ID}static credential(e,n){return Ec._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Q0.parseLink(n);return Z(s,"argument-error"),Ec._fromEmailAndCode(e,s.code,s.tenantId)}}ko.PROVIDER_ID="password";ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends xA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends iu{constructor(){super("facebook.com")}static credential(e){return Hi._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hi._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return gr.credential(n,s)}catch{return null}}}gr.GOOGLE_SIGN_IN_METHOD="google.com";gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends iu{constructor(){super("github.com")}static credential(e){return Hi._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.GITHUB_SIGN_IN_METHOD="github.com";yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends iu{constructor(){super("twitter.com")}static credential(e,n){return Hi._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return xr.credential(n,s)}catch{return null}}}xr.TWITTER_SIGN_IN_METHOD="twitter.com";xr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(t,e){return ru(t,"POST","/v1/accounts:signUp",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await zn._fromIdTokenResponse(e,s,r),a=Tw(s);return new Gi({user:i,providerId:a,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=Tw(s);return new Gi({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function Tw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends Xs{constructor(e,n,s,r){super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,jd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new jd(e,n,s,r)}}function vA(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?jd._fromErrorAndOperation(t,i,e,s):i})}async function jO(t,e,n=!1){const s=await Tc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Gi._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CO(t,e,n=!1){const{auth:s}=t;if(Mn(s.app))return Promise.reject(Is(s));const r="reauthenticate";try{const i=await Tc(t,vA(s,r,e,t),n);Z(i.idToken,s,"internal-error");const a=G0(i.idToken);Z(a,s,"internal-error");const{sub:l}=a;return Z(t.uid===l,s,"user-mismatch"),Gi._forOperation(t,r,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Fn(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA(t,e,n=!1){if(Mn(t.app))return Promise.reject(Is(t));const s="signIn",r=await vA(t,s,e),i=await Gi._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}async function RO(t,e){return bA(ta(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wA(t){const e=ta(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IO(t,e,n){if(Mn(t.app))return Promise.reject(Is(t));const s=ta(t),a=await Hg(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AO).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&wA(t),c}),l=await Gi._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function MO(t,e,n){return Mn(t.app)?Promise.reject(Is(t)):RO(We(t),ko.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&wA(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t,e){return We(t).setPersistence(e)}function kO(t,e,n,s){return We(t).onIdTokenChanged(e,n,s)}function PO(t,e,n){return We(t).beforeAuthStateChanged(e,n)}function OO(t,e,n,s){return We(t).onAuthStateChanged(e,n,s)}function VO(t){return We(t).signOut()}const Cd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cd,"1"),this.storage.removeItem(Cd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=1e3,UO=10;class TA extends _A{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(s);!n&&this.localCache[s]===a||this.notifyListeners(s,a)},i=this.storage.getItem(s);tO()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,UO):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},LO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}TA.type="LOCAL";const EA=TA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA extends _A{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}NA.type="SESSION";const K0=NA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new Af(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const l=Array.from(a).map(async h=>h(n.origin,i)),c=await zO(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Af.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const h=W0("",20);r.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},s);a={messageChannel:r,onMessage(f){const m=f;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(){return window}function FO(t){ss().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(){return typeof ss().WorkerGlobalScope<"u"&&typeof ss().importScripts=="function"}async function qO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function GO(){return SA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="firebaseLocalStorageDb",$O=1,Rd="firebaseLocalStorage",jA="fbase_key";class au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jf(t,e){return t.transaction([Rd],e?"readwrite":"readonly").objectStore(Rd)}function YO(){const t=indexedDB.deleteDatabase(AA);return new au(t).toPromise()}function Gg(){const t=indexedDB.open(AA,$O);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Rd,{keyPath:jA})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Rd)?e(s):(s.close(),await YO(),e(await Gg()))})})}async function Ew(t,e,n){const s=jf(t,!0).put({[jA]:e,value:n});return new au(s).toPromise()}async function QO(t,e){const n=jf(t,!1).get(e),s=await new au(n).toPromise();return s===void 0?null:s.value}function Nw(t,e){const n=jf(t,!0).delete(e);return new au(n).toPromise()}const KO=800,WO=3;class CA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>WO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Af._getInstance(GO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await qO(),!this.activeServiceWorker)return;this.sender=new BO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gg();return await Ew(e,Cd,"1"),await Nw(e,Cd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Ew(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>QO(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Nw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=jf(r,!1).getAll();return new au(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CA.type="LOCAL";const XO=CA;new su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(t,e){return e?Ss(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0 extends Y0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZO(t){return bA(t.auth,new X0(t),t.bypassAuthState)}function eV(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),CO(n,new X0(t),t.bypassAuthState)}async function tV(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),jO(n,new X0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZO;case"linkViaPopup":case"linkViaRedirect":return tV;case"reauthViaPopup":case"reauthViaRedirect":return eV;default:Fn(this.auth,"internal-error")}}resolve(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=new su(2e3,1e4);class Ma extends RA{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,Ma.currentPopupAction&&Ma.currentPopupAction.cancel(),Ma.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){Hs(this.filter.length===1,"Popup operations only handle one event");const e=W0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ma.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nV.get())};e()}}Ma.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV="pendingRedirect",Mh=new Map;class rV extends RA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Mh.get(this.auth._key());if(!e){try{const s=await iV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Mh.set(this.auth._key(),e)}return this.bypassAuthState||Mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iV(t,e){const n=lV(e),s=oV(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function aV(t,e){Mh.set(t._key(),e)}function oV(t){return Ss(t._redirectPersistence)}function lV(t){return Ih(sV,t.config.apiKey,t.name)}async function cV(t,e,n=!1){if(Mn(t.app))return Promise.reject(Is(t));const s=ta(t),r=JO(s,e),a=await new rV(s,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await s._persistUserIfCurrent(a.user),await s._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=10*60*1e3;class hV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!IA(e)){const r=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(ns(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uV&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sw(e))}saveEventToCache(e){this.cachedEventUids.add(Sw(e)),this.lastProcessedEventTime=Date.now()}}function Sw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function IA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fV(t,e={}){return ai(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pV=/^https?/;async function gV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fV(t);for(const n of e)try{if(yV(n))return}catch{}Fn(t,"unauthorized-domain")}function yV(t){const e=Fg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===s}if(!pV.test(n))return!1;if(mV.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=new su(3e4,6e4);function Aw(){const t=ss().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vV(t){return new Promise((e,n)=>{var r,i,a;function s(){Aw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Aw(),n(ns(t,"network-request-failed"))},timeout:xV.get()})}if((i=(r=ss().gapi)==null?void 0:r.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((a=ss().gapi)!=null&&a.load)s();else{const l=uO("iframefcb");return ss()[l]=()=>{gapi.load?s():n(ns(t,"network-request-failed"))},pA(`${cO()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Dh=null,e})}let Dh=null;function bV(t){return Dh=Dh||vV(t),Dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=new su(5e3,15e3),_V="__/auth/iframe",TV="emulator/auth/iframe",EV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SV(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?H0(e,TV):`https://${t.config.authDomain}/${_V}`,s={apiKey:e.apiKey,appName:t.name,v:Do},r=NV.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${nu(s).slice(1)}`}async function AV(t){const e=await bV(t),n=ss().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:SV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EV,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const a=ns(t,"network-request-failed"),l=ss().setTimeout(()=>{i(a)},wV.get());function c(){ss().clearTimeout(l),r(s)}s.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CV=500,RV=600,IV="_blank",MV="http://localhost";class jw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DV(t,e,n,s=CV,r=RV){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const c={...jV,width:s.toString(),height:r.toString(),top:i,left:a},h=Ut().toLowerCase();n&&(l=lA(h)?IV:n),aA(h)&&(e=e||MV,c.scrollbars="yes");const d=Object.entries(c).reduce((m,[g,b])=>`${m}${g}=${b},`,"");if(eO(h)&&l!=="_self")return kV(e||"",l),new jw(null);const f=window.open(e||"",l,d);Z(f,t,"popup-blocked");try{f.focus()}catch{}return new jw(f)}function kV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV="__/auth/handler",OV="emulator/auth/handler",VV=encodeURIComponent("fac");async function Cw(t,e,n,s,r,i){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Do,eventId:r};if(e instanceof xA){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",_k(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))a[d]=f}if(e instanceof iu){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),h=c?`#${VV}=${encodeURIComponent(c)}`:"";return`${LV(t)}?${nu(l).slice(1)}${h}`}function LV({config:t}){return t.emulator?H0(t,OV):`https://${t.authDomain}/${PV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="webStorageSupport";class UV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=K0,this._completeRedirectFn=cV,this._overrideRedirectResult=aV}async _openPopup(e,n,s,r){var a;Hs((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const i=await Cw(e,n,s,Fg(),r);return DV(e,i,W0())}async _openRedirect(e,n,s,r){await this._originValidation(e);const i=await Cw(e,n,s,Fg(),r);return FO(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(Hs(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await AV(e),s=new hV(e);return n.register("authEvent",r=>(Z(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yp,{type:yp},r=>{var a;const i=(a=r==null?void 0:r[0])==null?void 0:a[yp];i!==void 0&&n(!!i),Fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fA()||oA()||$0()}}const zV=UV;var Rw="@firebase/auth",Iw="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qV(t){lo(new qi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=s.options;Z(a&&!a.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mA(t)},h=new aO(s,r,i,c);return gO(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),lo(new qi("auth-internal",e=>{const n=ta(e.getProvider("auth").getImmediate());return(s=>new BV(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(Rw,Iw,FV(t)),Or(Rw,Iw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV=5*60,GV=qS("authIdTokenMaxAge")||HV;let Mw=null;const $V=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>GV)return;const r=n==null?void 0:n.token;Mw!==r&&(Mw=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function YV(t=KS()){const e=F0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=pO(t,{popupRedirectResolver:zV,persistence:[XO,EA,K0]}),s=qS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(s,location.origin);if(location.origin===i.origin){const a=$V(i.toString());PO(n,a,()=>a(n.currentUser)),kO(n,l=>a(l))}}const r=BS("auth");return r&&yO(n,`http://${r}`),n}function QV(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}oO({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=ns("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",QV().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qV("Browser");var Dw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vr,MA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,w){function A(){}A.prototype=w.prototype,N.F=w.prototype,N.prototype=new A,N.prototype.constructor=N,N.D=function(R,M,k){for(var I=Array(arguments.length-2),$=2;$<arguments.length;$++)I[$-2]=arguments[$];return w.prototype[M].apply(R,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(N,w,A){A||(A=0);const R=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)R[M]=w.charCodeAt(A++)|w.charCodeAt(A++)<<8|w.charCodeAt(A++)<<16|w.charCodeAt(A++)<<24;else for(M=0;M<16;++M)R[M]=w[A++]|w[A++]<<8|w[A++]<<16|w[A++]<<24;w=N.g[0],A=N.g[1],M=N.g[2];let k=N.g[3],I;I=w+(k^A&(M^k))+R[0]+3614090360&4294967295,w=A+(I<<7&4294967295|I>>>25),I=k+(M^w&(A^M))+R[1]+3905402710&4294967295,k=w+(I<<12&4294967295|I>>>20),I=M+(A^k&(w^A))+R[2]+606105819&4294967295,M=k+(I<<17&4294967295|I>>>15),I=A+(w^M&(k^w))+R[3]+3250441966&4294967295,A=M+(I<<22&4294967295|I>>>10),I=w+(k^A&(M^k))+R[4]+4118548399&4294967295,w=A+(I<<7&4294967295|I>>>25),I=k+(M^w&(A^M))+R[5]+1200080426&4294967295,k=w+(I<<12&4294967295|I>>>20),I=M+(A^k&(w^A))+R[6]+2821735955&4294967295,M=k+(I<<17&4294967295|I>>>15),I=A+(w^M&(k^w))+R[7]+4249261313&4294967295,A=M+(I<<22&4294967295|I>>>10),I=w+(k^A&(M^k))+R[8]+1770035416&4294967295,w=A+(I<<7&4294967295|I>>>25),I=k+(M^w&(A^M))+R[9]+2336552879&4294967295,k=w+(I<<12&4294967295|I>>>20),I=M+(A^k&(w^A))+R[10]+4294925233&4294967295,M=k+(I<<17&4294967295|I>>>15),I=A+(w^M&(k^w))+R[11]+2304563134&4294967295,A=M+(I<<22&4294967295|I>>>10),I=w+(k^A&(M^k))+R[12]+1804603682&4294967295,w=A+(I<<7&4294967295|I>>>25),I=k+(M^w&(A^M))+R[13]+4254626195&4294967295,k=w+(I<<12&4294967295|I>>>20),I=M+(A^k&(w^A))+R[14]+2792965006&4294967295,M=k+(I<<17&4294967295|I>>>15),I=A+(w^M&(k^w))+R[15]+1236535329&4294967295,A=M+(I<<22&4294967295|I>>>10),I=w+(M^k&(A^M))+R[1]+4129170786&4294967295,w=A+(I<<5&4294967295|I>>>27),I=k+(A^M&(w^A))+R[6]+3225465664&4294967295,k=w+(I<<9&4294967295|I>>>23),I=M+(w^A&(k^w))+R[11]+643717713&4294967295,M=k+(I<<14&4294967295|I>>>18),I=A+(k^w&(M^k))+R[0]+3921069994&4294967295,A=M+(I<<20&4294967295|I>>>12),I=w+(M^k&(A^M))+R[5]+3593408605&4294967295,w=A+(I<<5&4294967295|I>>>27),I=k+(A^M&(w^A))+R[10]+38016083&4294967295,k=w+(I<<9&4294967295|I>>>23),I=M+(w^A&(k^w))+R[15]+3634488961&4294967295,M=k+(I<<14&4294967295|I>>>18),I=A+(k^w&(M^k))+R[4]+3889429448&4294967295,A=M+(I<<20&4294967295|I>>>12),I=w+(M^k&(A^M))+R[9]+568446438&4294967295,w=A+(I<<5&4294967295|I>>>27),I=k+(A^M&(w^A))+R[14]+3275163606&4294967295,k=w+(I<<9&4294967295|I>>>23),I=M+(w^A&(k^w))+R[3]+4107603335&4294967295,M=k+(I<<14&4294967295|I>>>18),I=A+(k^w&(M^k))+R[8]+1163531501&4294967295,A=M+(I<<20&4294967295|I>>>12),I=w+(M^k&(A^M))+R[13]+2850285829&4294967295,w=A+(I<<5&4294967295|I>>>27),I=k+(A^M&(w^A))+R[2]+4243563512&4294967295,k=w+(I<<9&4294967295|I>>>23),I=M+(w^A&(k^w))+R[7]+1735328473&4294967295,M=k+(I<<14&4294967295|I>>>18),I=A+(k^w&(M^k))+R[12]+2368359562&4294967295,A=M+(I<<20&4294967295|I>>>12),I=w+(A^M^k)+R[5]+4294588738&4294967295,w=A+(I<<4&4294967295|I>>>28),I=k+(w^A^M)+R[8]+2272392833&4294967295,k=w+(I<<11&4294967295|I>>>21),I=M+(k^w^A)+R[11]+1839030562&4294967295,M=k+(I<<16&4294967295|I>>>16),I=A+(M^k^w)+R[14]+4259657740&4294967295,A=M+(I<<23&4294967295|I>>>9),I=w+(A^M^k)+R[1]+2763975236&4294967295,w=A+(I<<4&4294967295|I>>>28),I=k+(w^A^M)+R[4]+1272893353&4294967295,k=w+(I<<11&4294967295|I>>>21),I=M+(k^w^A)+R[7]+4139469664&4294967295,M=k+(I<<16&4294967295|I>>>16),I=A+(M^k^w)+R[10]+3200236656&4294967295,A=M+(I<<23&4294967295|I>>>9),I=w+(A^M^k)+R[13]+681279174&4294967295,w=A+(I<<4&4294967295|I>>>28),I=k+(w^A^M)+R[0]+3936430074&4294967295,k=w+(I<<11&4294967295|I>>>21),I=M+(k^w^A)+R[3]+3572445317&4294967295,M=k+(I<<16&4294967295|I>>>16),I=A+(M^k^w)+R[6]+76029189&4294967295,A=M+(I<<23&4294967295|I>>>9),I=w+(A^M^k)+R[9]+3654602809&4294967295,w=A+(I<<4&4294967295|I>>>28),I=k+(w^A^M)+R[12]+3873151461&4294967295,k=w+(I<<11&4294967295|I>>>21),I=M+(k^w^A)+R[15]+530742520&4294967295,M=k+(I<<16&4294967295|I>>>16),I=A+(M^k^w)+R[2]+3299628645&4294967295,A=M+(I<<23&4294967295|I>>>9),I=w+(M^(A|~k))+R[0]+4096336452&4294967295,w=A+(I<<6&4294967295|I>>>26),I=k+(A^(w|~M))+R[7]+1126891415&4294967295,k=w+(I<<10&4294967295|I>>>22),I=M+(w^(k|~A))+R[14]+2878612391&4294967295,M=k+(I<<15&4294967295|I>>>17),I=A+(k^(M|~w))+R[5]+4237533241&4294967295,A=M+(I<<21&4294967295|I>>>11),I=w+(M^(A|~k))+R[12]+1700485571&4294967295,w=A+(I<<6&4294967295|I>>>26),I=k+(A^(w|~M))+R[3]+2399980690&4294967295,k=w+(I<<10&4294967295|I>>>22),I=M+(w^(k|~A))+R[10]+4293915773&4294967295,M=k+(I<<15&4294967295|I>>>17),I=A+(k^(M|~w))+R[1]+2240044497&4294967295,A=M+(I<<21&4294967295|I>>>11),I=w+(M^(A|~k))+R[8]+1873313359&4294967295,w=A+(I<<6&4294967295|I>>>26),I=k+(A^(w|~M))+R[15]+4264355552&4294967295,k=w+(I<<10&4294967295|I>>>22),I=M+(w^(k|~A))+R[6]+2734768916&4294967295,M=k+(I<<15&4294967295|I>>>17),I=A+(k^(M|~w))+R[13]+1309151649&4294967295,A=M+(I<<21&4294967295|I>>>11),I=w+(M^(A|~k))+R[4]+4149444226&4294967295,w=A+(I<<6&4294967295|I>>>26),I=k+(A^(w|~M))+R[11]+3174756917&4294967295,k=w+(I<<10&4294967295|I>>>22),I=M+(w^(k|~A))+R[2]+718787259&4294967295,M=k+(I<<15&4294967295|I>>>17),I=A+(k^(M|~w))+R[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+k&4294967295}s.prototype.v=function(N,w){w===void 0&&(w=N.length);const A=w-this.blockSize,R=this.C;let M=this.h,k=0;for(;k<w;){if(M==0)for(;k<=A;)r(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<w;)if(R[M++]=N.charCodeAt(k++),M==this.blockSize){r(this,R),M=0;break}}else for(;k<w;)if(R[M++]=N[k++],M==this.blockSize){r(this,R),M=0;break}}this.h=M,this.o+=w},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var A=N.length-8;A<N.length;++A)N[A]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,A=0;A<4;++A)for(let R=0;R<32;R+=8)N[w++]=this.g[A]>>>R&255;return N};function i(N,w){var A=l;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=w(N)}function a(N,w){this.h=w;const A=[];let R=!0;for(let M=N.length-1;M>=0;M--){const k=N[M]|0;R&&k==w||(A[M]=k,R=!1)}this.g=A}var l={};function c(N){return-128<=N&&N<128?i(N,function(w){return new a([w|0],w<0?-1:0)}):new a([N|0],N<0?-1:0)}function h(N){if(isNaN(N)||!isFinite(N))return f;if(N<0)return S(h(-N));const w=[];let A=1;for(let R=0;N>=A;R++)w[R]=N/A|0,A*=4294967296;return new a(w,0)}function d(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return S(d(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=h(Math.pow(w,8));let R=f;for(let k=0;k<N.length;k+=8){var M=Math.min(8,N.length-k);const I=parseInt(N.substring(k,k+M),w);M<8?(M=h(Math.pow(w,M)),R=R.j(M).add(h(I))):(R=R.j(A),R=R.add(h(I)))}return R}var f=c(0),m=c(1),g=c(16777216);t=a.prototype,t.m=function(){if(E(this))return-S(this).m();let N=0,w=1;for(let A=0;A<this.g.length;A++){const R=this.i(A);N+=(R>=0?R:4294967296+R)*w,w*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(b(this))return"0";if(E(this))return"-"+S(this).toString(N);const w=h(Math.pow(N,6));var A=this;let R="";for(;;){const M=C(A,w).g;A=x(A,M.j(w));let k=((A.g.length>0?A.g[0]:A.h)>>>0).toString(N);if(A=M,b(A))return k+R;for(;k.length<6;)k="0"+k;R=k+R}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function b(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function E(N){return N.h==-1}t.l=function(N){return N=x(this,N),E(N)?-1:b(N)?0:1};function S(N){const w=N.g.length,A=[];for(let R=0;R<w;R++)A[R]=~N.g[R];return new a(A,~N.h).add(m)}t.abs=function(){return E(this)?S(this):this},t.add=function(N){const w=Math.max(this.g.length,N.g.length),A=[];let R=0;for(let M=0;M<=w;M++){let k=R+(this.i(M)&65535)+(N.i(M)&65535),I=(k>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);R=I>>>16,k&=65535,I&=65535,A[M]=I<<16|k}return new a(A,A[A.length-1]&-2147483648?-1:0)};function x(N,w){return N.add(S(w))}t.j=function(N){if(b(this)||b(N))return f;if(E(this))return E(N)?S(this).j(S(N)):S(S(this).j(N));if(E(N))return S(this.j(S(N)));if(this.l(g)<0&&N.l(g)<0)return h(this.m()*N.m());const w=this.g.length+N.g.length,A=[];for(var R=0;R<2*w;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(let M=0;M<N.g.length;M++){const k=this.i(R)>>>16,I=this.i(R)&65535,$=N.i(M)>>>16,ye=N.i(M)&65535;A[2*R+2*M]+=I*ye,v(A,2*R+2*M),A[2*R+2*M+1]+=k*ye,v(A,2*R+2*M+1),A[2*R+2*M+1]+=I*$,v(A,2*R+2*M+1),A[2*R+2*M+2]+=k*$,v(A,2*R+2*M+2)}for(N=0;N<w;N++)A[N]=A[2*N+1]<<16|A[2*N];for(N=w;N<2*w;N++)A[N]=0;return new a(A,0)};function v(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function _(N,w){this.g=N,this.h=w}function C(N,w){if(b(w))throw Error("division by zero");if(b(N))return new _(f,f);if(E(N))return w=C(S(N),w),new _(S(w.g),S(w.h));if(E(w))return w=C(N,S(w)),new _(S(w.g),w.h);if(N.g.length>30){if(E(N)||E(w))throw Error("slowDivide_ only works with positive integers.");for(var A=m,R=w;R.l(N)<=0;)A=D(A),R=D(R);var M=P(A,1),k=P(R,1);for(R=P(R,2),A=P(A,2);!b(R);){var I=k.add(R);I.l(N)<=0&&(M=M.add(A),k=I),R=P(R,1),A=P(A,1)}return w=x(N,M.j(w)),new _(M,w)}for(M=f;N.l(w)>=0;){for(A=Math.max(1,Math.floor(N.m()/w.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),k=h(A),I=k.j(w);E(I)||I.l(N)>0;)A-=R,k=h(A),I=k.j(w);b(k)&&(k=m),M=M.add(k),N=x(N,I)}return new _(M,N)}t.B=function(N){return C(this,N).h},t.and=function(N){const w=Math.max(this.g.length,N.g.length),A=[];for(let R=0;R<w;R++)A[R]=this.i(R)&N.i(R);return new a(A,this.h&N.h)},t.or=function(N){const w=Math.max(this.g.length,N.g.length),A=[];for(let R=0;R<w;R++)A[R]=this.i(R)|N.i(R);return new a(A,this.h|N.h)},t.xor=function(N){const w=Math.max(this.g.length,N.g.length),A=[];for(let R=0;R<w;R++)A[R]=this.i(R)^N.i(R);return new a(A,this.h^N.h)};function D(N){const w=N.g.length+1,A=[];for(let R=0;R<w;R++)A[R]=N.i(R)<<1|N.i(R-1)>>>31;return new a(A,N.h)}function P(N,w){const A=w>>5;w%=32;const R=N.g.length-A,M=[];for(let k=0;k<R;k++)M[k]=w>0?N.i(k+A)>>>w|N.i(k+A+1)<<32-w:N.i(k+A);return new a(M,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,MA=s,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,Vr=a}).apply(typeof Dw<"u"?Dw:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DA,Al,kA,kh,$g,PA,OA,VA;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function r(u,p){if(p)e:{var y=s;u=u.split(".");for(var j=0;j<u.length-1;j++){var O=u[j];if(!(O in y))break e;y=y[O]}u=u[u.length-1],j=y[u],p=p(j),p!=j&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}r("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(u){return u||function(p){var y=[],j;for(j in p)Object.prototype.hasOwnProperty.call(p,j)&&y.push([j,p[j]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function l(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function c(u,p,y){return u.call.apply(u.bind,arguments)}function h(u,p,y){return h=c,h.apply(null,arguments)}function d(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var j=y.slice();return j.push.apply(j,arguments),u.apply(this,j)}}function f(u,p){function y(){}y.prototype=p.prototype,u.Z=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(j,O,V){for(var F=Array(arguments.length-2),re=2;re<arguments.length;re++)F[re-2]=arguments[re];return p.prototype[O].apply(j,F)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function g(u){const p=u.length;if(p>0){const y=Array(p);for(let j=0;j<p;j++)y[j]=u[j];return y}return[]}function b(u,p){for(let j=1;j<arguments.length;j++){const O=arguments[j];var y=typeof O;if(y=y!="object"?y:O?Array.isArray(O)?"array":y:"null",y=="array"||y=="object"&&typeof O.length=="number"){y=u.length||0;const V=O.length||0;u.length=y+V;for(let F=0;F<V;F++)u[y+F]=O[F]}else u.push(O)}}class E{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function S(u){a.setTimeout(()=>{throw u},0)}function x(){var u=N;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class v{constructor(){this.h=this.g=null}add(p,y){const j=_.get();j.set(p,y),this.h?this.h.next=j:this.g=j,this.h=j}}var _=new E(()=>new C,u=>u.reset());class C{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let D,P=!1,N=new v,w=()=>{const u=Promise.resolve(void 0);D=()=>{u.then(A)}};function A(){for(var u;u=x();){try{u.h.call(u.g)}catch(y){S(y)}var p=_;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}P=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};a.addEventListener("test",y,p),a.removeEventListener("test",y,p)}catch{}return u}();function I(u){return/^[\s\xa0]*$/.test(u)}function $(u,p){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}f($,M),$.prototype.init=function(u,p){const y=this.type=u.type,j=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),B=0;function Q(u,p,y,j,O){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!j,this.ha=O,this.key=++B,this.da=this.fa=!1}function K(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xe(u,p,y){for(const j in u)p.call(y,u[j],j,u)}function ze(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function hi(u){const p={};for(const y in u)p[y]=u[y];return p}const di="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ia(u,p){let y,j;for(let O=1;O<arguments.length;O++){j=arguments[O];for(y in j)u[y]=j[y];for(let V=0;V<di.length;V++)y=di[V],Object.prototype.hasOwnProperty.call(j,y)&&(u[y]=j[y])}}function wn(u){this.src=u,this.g={},this.h=0}wn.prototype.add=function(u,p,y,j,O){const V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);const F=sm(u,p,j,O);return F>-1?(p=u[F],y||(p.fa=!1)):(p=new Q(p,this.src,V,!!j,O),p.fa=y,u.push(p)),p};function Js(u,p){const y=p.type;if(y in u.g){var j=u.g[y],O=Array.prototype.indexOf.call(j,p,void 0),V;(V=O>=0)&&Array.prototype.splice.call(j,O,1),V&&(K(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function sm(u,p,y,j){for(let O=0;O<u.length;++O){const V=u[O];if(!V.da&&V.listener==p&&V.capture==!!y&&V.ha==j)return O}return-1}var rm="closure_lm_"+(Math.random()*1e6|0),im={};function wv(u,p,y,j,O){if(Array.isArray(p)){for(let V=0;V<p.length;V++)wv(u,p[V],y,j,O);return null}return y=Ev(y),u&&u[ye]?u.J(p,y,l(j)?!!j.capture:!1,O):t4(u,p,y,!1,j,O)}function t4(u,p,y,j,O,V){if(!p)throw Error("Invalid event type");const F=l(O)?!!O.capture:!!O;let re=om(u);if(re||(u[rm]=re=new wn(u)),y=re.add(p,y,j,F,V),y.proxy)return y;if(j=n4(),y.proxy=j,j.src=u,j.listener=y,u.addEventListener)k||(O=F),O===void 0&&(O=!1),u.addEventListener(p.toString(),j,O);else if(u.attachEvent)u.attachEvent(Tv(p.toString()),j);else if(u.addListener&&u.removeListener)u.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return y}function n4(){function u(y){return p.call(u.src,u.listener,y)}const p=s4;return u}function _v(u,p,y,j,O){if(Array.isArray(p))for(var V=0;V<p.length;V++)_v(u,p[V],y,j,O);else j=l(j)?!!j.capture:!!j,y=Ev(y),u&&u[ye]?(u=u.i,V=String(p).toString(),V in u.g&&(p=u.g[V],y=sm(p,y,j,O),y>-1&&(K(p[y]),Array.prototype.splice.call(p,y,1),p.length==0&&(delete u.g[V],u.h--)))):u&&(u=om(u))&&(p=u.g[p.toString()],u=-1,p&&(u=sm(p,y,j,O)),(y=u>-1?p[u]:null)&&am(y))}function am(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ye])Js(p.i,u);else{var y=u.type,j=u.proxy;p.removeEventListener?p.removeEventListener(y,j,u.capture):p.detachEvent?p.detachEvent(Tv(y),j):p.addListener&&p.removeListener&&p.removeListener(j),(y=om(p))?(Js(y,u),y.h==0&&(y.src=null,p[rm]=null)):K(u)}}}function Tv(u){return u in im?im[u]:im[u]="on"+u}function s4(u,p){if(u.da)u=!0;else{p=new $(p,this);const y=u.listener,j=u.ha||u.src;u.fa&&am(u),u=y.call(j,p)}return u}function om(u){return u=u[rm],u instanceof wn?u:null}var lm="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ev(u){return typeof u=="function"?u:(u[lm]||(u[lm]=function(p){return u.handleEvent(p)}),u[lm])}function kt(){R.call(this),this.i=new wn(this),this.M=this,this.G=null}f(kt,R),kt.prototype[ye]=!0,kt.prototype.removeEventListener=function(u,p,y,j){_v(this,u,p,y,j)};function zt(u,p){var y,j=u.G;if(j)for(y=[];j;j=j.G)y.push(j);if(u=u.M,j=p.type||p,typeof p=="string")p=new M(p,u);else if(p instanceof M)p.target=p.target||u;else{var O=p;p=new M(j,u),ia(p,O)}O=!0;let V,F;if(y)for(F=y.length-1;F>=0;F--)V=p.g=y[F],O=Nu(V,j,!0,p)&&O;if(V=p.g=u,O=Nu(V,j,!0,p)&&O,O=Nu(V,j,!1,p)&&O,y)for(F=0;F<y.length;F++)V=p.g=y[F],O=Nu(V,j,!1,p)&&O}kt.prototype.N=function(){if(kt.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const y=u.g[p];for(let j=0;j<y.length;j++)K(y[j]);delete u.g[p],u.h--}}this.G=null},kt.prototype.J=function(u,p,y,j){return this.i.add(String(u),p,!1,y,j)},kt.prototype.K=function(u,p,y,j){return this.i.add(String(u),p,!0,y,j)};function Nu(u,p,y,j){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let O=!0;for(let V=0;V<p.length;++V){const F=p[V];if(F&&!F.da&&F.capture==y){const re=F.listener,lt=F.ha||F.src;F.fa&&Js(u.i,F),O=re.call(lt,j)!==!1&&O}}return O&&!j.defaultPrevented}function r4(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=h(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:a.setTimeout(u,p||0)}function Nv(u){u.g=r4(()=>{u.g=null,u.i&&(u.i=!1,Nv(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class i4 extends R{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Nv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Go(u){R.call(this),this.h=u,this.g={}}f(Go,R);var Sv=[];function Av(u){xe(u.g,function(p,y){this.g.hasOwnProperty(y)&&am(p)},u),u.g={}}Go.prototype.N=function(){Go.Z.N.call(this),Av(this)},Go.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cm=a.JSON.stringify,a4=a.JSON.parse,o4=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function jv(){}function Cv(){}var $o={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function um(){M.call(this,"d")}f(um,M);function hm(){M.call(this,"c")}f(hm,M);var fi={},Rv=null;function Su(){return Rv=Rv||new kt}fi.Ia="serverreachability";function Iv(u){M.call(this,fi.Ia,u)}f(Iv,M);function Yo(u){const p=Su();zt(p,new Iv(p))}fi.STAT_EVENT="statevent";function Mv(u,p){M.call(this,fi.STAT_EVENT,u),this.stat=p}f(Mv,M);function Bt(u){const p=Su();zt(p,new Mv(p,u))}fi.Ja="timingevent";function Dv(u,p){M.call(this,fi.Ja,u),this.size=p}f(Dv,M);function Qo(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function Ko(){this.g=!0}Ko.prototype.ua=function(){this.g=!1};function l4(u,p,y,j,O,V){u.info(function(){if(u.g)if(V){var F="",re=V.split("&");for(let Se=0;Se<re.length;Se++){var lt=re[Se].split("=");if(lt.length>1){const mt=lt[0];lt=lt[1];const Wn=mt.split("_");F=Wn.length>=2&&Wn[1]=="type"?F+(mt+"="+lt+"&"):F+(mt+"=redacted&")}}}else F=null;else F=V;return"XMLHTTP REQ ("+j+") [attempt "+O+"]: "+p+`
`+y+`
`+F})}function c4(u,p,y,j,O,V,F){u.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+O+"]: "+p+`
`+y+`
`+V+" "+F})}function aa(u,p,y,j){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+h4(u,y)+(j?" "+j:"")})}function u4(u,p){u.info(function(){return"TIMEOUT: "+p})}Ko.prototype.info=function(){};function h4(u,p){if(!u.g)return p;if(!p)return null;try{const V=JSON.parse(p);if(V){for(u=0;u<V.length;u++)if(Array.isArray(V[u])){var y=V[u];if(!(y.length<2)){var j=y[1];if(Array.isArray(j)&&!(j.length<1)){var O=j[0];if(O!="noop"&&O!="stop"&&O!="close")for(let F=1;F<j.length;F++)j[F]=""}}}}return cm(V)}catch{return p}}var Au={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kv={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Pv;function dm(){}f(dm,jv),dm.prototype.g=function(){return new XMLHttpRequest},Pv=new dm;function Wo(u){return encodeURIComponent(String(u))}function d4(u){var p=1;u=u.split(":");const y=[];for(;p>0&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function Zs(u,p,y,j){this.j=u,this.i=p,this.l=y,this.S=j||1,this.V=new Go(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ov}function Ov(){this.i=null,this.g="",this.h=!1}var Vv={},fm={};function mm(u,p,y){u.M=1,u.A=Cu(Kn(p)),u.u=y,u.R=!0,Lv(u,null)}function Lv(u,p){u.F=Date.now(),ju(u),u.B=Kn(u.A);var y=u.B,j=u.S;Array.isArray(j)||(j=[String(j)]),Xv(y.i,"t",j),u.C=0,y=u.j.L,u.h=new Ov,u.g=p1(u.j,y?p:null,!u.u),u.P>0&&(u.O=new i4(h(u.Y,u,u.g),u.P)),p=u.V,y=u.g,j=u.ba;var O="readystatechange";Array.isArray(O)||(O&&(Sv[0]=O.toString()),O=Sv);for(let V=0;V<O.length;V++){const F=wv(y,O[V],j||p.handleEvent,!1,p.h||p);if(!F)break;p.g[F.key]=F}p=u.J?hi(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),Yo(),l4(u.i,u.v,u.B,u.l,u.S,u.u)}Zs.prototype.ba=function(u){u=u.target;const p=this.O;p&&nr(u)==3?p.j():this.Y(u)},Zs.prototype.Y=function(u){try{if(u==this.g)e:{const re=nr(this.g),lt=this.g.ya(),Se=this.g.ca();if(!(re<3)&&(re!=3||this.g&&(this.h.h||this.g.la()||r1(this.g)))){this.K||re!=4||lt==7||(lt==8||Se<=0?Yo(3):Yo(2)),pm(this);var p=this.g.ca();this.X=p;var y=f4(this);if(this.o=p==200,c4(this.i,this.v,this.B,this.l,this.S,re,p),this.o){if(this.U&&!this.L){t:{if(this.g){var j,O=this.g;if((j=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(j)){var V=j;break t}}V=null}if(u=V)aa(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gm(this,u);else{this.o=!1,this.m=3,Bt(12),mi(this),Xo(this);break e}}if(this.R){u=!0;let mt;for(;!this.K&&this.C<y.length;)if(mt=m4(this,y),mt==fm){re==4&&(this.m=4,Bt(14),u=!1),aa(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==Vv){this.m=4,Bt(15),aa(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else aa(this.i,this.l,mt,null),gm(this,mt);if(Uv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),re!=4||y.length!=0||this.h.h||(this.m=1,Bt(16),u=!1),this.o=this.o&&u,!u)aa(this.i,this.l,y,"[Invalid Chunked Response]"),mi(this),Xo(this);else if(y.length>0&&!this.W){this.W=!0;var F=this.j;F.g==this&&F.aa&&!F.P&&(F.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Em(F),F.P=!0,Bt(11))}}else aa(this.i,this.l,y,null),gm(this,y);re==4&&mi(this),this.o&&!this.K&&(re==4?h1(this.j,this):(this.o=!1,ju(this)))}else j4(this.g),p==400&&y.indexOf("Unknown SID")>0?(this.m=3,Bt(12)):(this.m=0,Bt(13)),mi(this),Xo(this)}}}catch{}finally{}};function f4(u){if(!Uv(u))return u.g.la();const p=r1(u.g);if(p==="")return"";let y="";const j=p.length,O=nr(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mi(u),Xo(u),"";u.h.i=new a.TextDecoder}for(let V=0;V<j;V++)u.h.h=!0,y+=u.h.i.decode(p[V],{stream:!(O&&V==j-1)});return p.length=0,u.h.g+=y,u.C=0,u.h.g}function Uv(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function m4(u,p){var y=u.C,j=p.indexOf(`
`,y);return j==-1?fm:(y=Number(p.substring(y,j)),isNaN(y)?Vv:(j+=1,j+y>p.length?fm:(p=p.slice(j,j+y),u.C=j+y,p)))}Zs.prototype.cancel=function(){this.K=!0,mi(this)};function ju(u){u.T=Date.now()+u.H,zv(u,u.H)}function zv(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Qo(h(u.aa,u),p)}function pm(u){u.D&&(a.clearTimeout(u.D),u.D=null)}Zs.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(u4(this.i,this.B),this.M!=2&&(Yo(),Bt(17)),mi(this),this.m=2,Xo(this)):zv(this,this.T-u)};function Xo(u){u.j.I==0||u.K||h1(u.j,u)}function mi(u){pm(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,Av(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function gm(u,p){try{var y=u.j;if(y.I!=0&&(y.g==u||ym(y.h,u))){if(!u.L&&ym(y.h,u)&&y.I==3){try{var j=y.Ba.g.parse(p)}catch{j=null}if(Array.isArray(j)&&j.length==3){var O=j;if(O[0]==0){e:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)ku(y),Mu(y);else break e;Tm(y),Bt(18)}}else y.xa=O[1],0<y.xa-y.K&&O[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=Qo(h(y.Va,y),6e3));qv(y.h)<=1&&y.ta&&(y.ta=void 0)}else gi(y,11)}else if((u.L||y.g==u)&&ku(y),!I(p))for(O=y.Ba.g.parse(p),p=0;p<O.length;p++){let Se=O[p];const mt=Se[0];if(!(mt<=y.K))if(y.K=mt,Se=Se[1],y.I==2)if(Se[0]=="c"){y.M=Se[1],y.ba=Se[2];const Wn=Se[3];Wn!=null&&(y.ka=Wn,y.j.info("VER="+y.ka));const yi=Se[4];yi!=null&&(y.za=yi,y.j.info("SVER="+y.za));const sr=Se[5];sr!=null&&typeof sr=="number"&&sr>0&&(j=1.5*sr,y.O=j,y.j.info("backChannelRequestTimeoutMs_="+j)),j=y;const rr=u.g;if(rr){const Ou=rr.g?rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ou){var V=j.h;V.g||Ou.indexOf("spdy")==-1&&Ou.indexOf("quic")==-1&&Ou.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(xm(V,V.h),V.h=null))}if(j.G){const Nm=rr.g?rr.g.getResponseHeader("X-HTTP-Session-Id"):null;Nm&&(j.wa=Nm,Me(j.J,j.G,Nm))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),j=y;var F=u;if(j.na=m1(j,j.L?j.ba:null,j.W),F.L){Hv(j.h,F);var re=F,lt=j.O;lt&&(re.H=lt),re.D&&(pm(re),ju(re)),j.g=F}else c1(j);y.i.length>0&&Du(y)}else Se[0]!="stop"&&Se[0]!="close"||gi(y,7);else y.I==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?gi(y,7):_m(y):Se[0]!="noop"&&y.l&&y.l.qa(Se),y.A=0)}}Yo(4)}catch{}}var p4=class{constructor(u,p){this.g=u,this.map=p}};function Bv(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fv(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function qv(u){return u.h?1:u.g?u.g.size:0}function ym(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function xm(u,p){u.g?u.g.add(p):u.h=p}function Hv(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Bv.prototype.cancel=function(){if(this.i=Gv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Gv(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.G);return p}return g(u.i)}var $v=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function g4(u,p){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const j=u[y].indexOf("=");let O,V=null;j>=0?(O=u[y].substring(0,j),V=u[y].substring(j+1)):O=u[y],p(O,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function er(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof er?(this.l=u.l,Jo(this,u.j),this.o=u.o,this.g=u.g,Zo(this,u.u),this.h=u.h,vm(this,Jv(u.i)),this.m=u.m):u&&(p=String(u).match($v))?(this.l=!1,Jo(this,p[1]||"",!0),this.o=el(p[2]||""),this.g=el(p[3]||"",!0),Zo(this,p[4]),this.h=el(p[5]||"",!0),vm(this,p[6]||"",!0),this.m=el(p[7]||"")):(this.l=!1,this.i=new nl(null,this.l))}er.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(tl(p,Yv,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(tl(p,Yv,!0),"@"),u.push(Wo(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(tl(y,y.charAt(0)=="/"?v4:x4,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",tl(y,w4)),u.join("")},er.prototype.resolve=function(u){const p=Kn(this);let y=!!u.j;y?Jo(p,u.j):y=!!u.o,y?p.o=u.o:y=!!u.g,y?p.g=u.g:y=u.u!=null;var j=u.h;if(y)Zo(p,u.u);else if(y=!!u.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var O=p.h.lastIndexOf("/");O!=-1&&(j=p.h.slice(0,O+1)+j)}if(O=j,O==".."||O==".")j="";else if(O.indexOf("./")!=-1||O.indexOf("/.")!=-1){j=O.lastIndexOf("/",0)==0,O=O.split("/");const V=[];for(let F=0;F<O.length;){const re=O[F++];re=="."?j&&F==O.length&&V.push(""):re==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),j&&F==O.length&&V.push("")):(V.push(re),j=!0)}j=V.join("/")}else j=O}return y?p.h=j:y=u.i.toString()!=="",y?vm(p,Jv(u.i)):y=!!u.m,y&&(p.m=u.m),p};function Kn(u){return new er(u)}function Jo(u,p,y){u.j=y?el(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Zo(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function vm(u,p,y){p instanceof nl?(u.i=p,_4(u.i,u.l)):(y||(p=tl(p,b4)),u.i=new nl(p,u.l))}function Me(u,p,y){u.i.set(p,y)}function Cu(u){return Me(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function el(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function tl(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,y4),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function y4(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Yv=/[#\/\?@]/g,x4=/[#\?:]/g,v4=/[#\?]/g,b4=/[#\?@]/g,w4=/#/g;function nl(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function pi(u){u.g||(u.g=new Map,u.h=0,u.i&&g4(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}t=nl.prototype,t.add=function(u,p){pi(this),this.i=null,u=oa(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function Qv(u,p){pi(u),p=oa(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Kv(u,p){return pi(u),p=oa(u,p),u.g.has(p)}t.forEach=function(u,p){pi(this),this.g.forEach(function(y,j){y.forEach(function(O){u.call(p,O,j,this)},this)},this)};function Wv(u,p){pi(u);let y=[];if(typeof p=="string")Kv(u,p)&&(y=y.concat(u.g.get(oa(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)y=y.concat(u[p]);return y}t.set=function(u,p){return pi(this),this.i=null,u=oa(this,u),Kv(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=Wv(this,u),u.length>0?String(u[0]):p):p};function Xv(u,p,y){Qv(u,p),y.length>0&&(u.i=null,u.g.set(oa(u,p),g(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let j=0;j<p.length;j++){var y=p[j];const O=Wo(y);y=Wv(this,y);for(let V=0;V<y.length;V++){let F=O;y[V]!==""&&(F+="="+Wo(y[V])),u.push(F)}}return this.i=u.join("&")};function Jv(u){const p=new nl;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function oa(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function _4(u,p){p&&!u.j&&(pi(u),u.i=null,u.g.forEach(function(y,j){const O=j.toLowerCase();j!=O&&(Qv(this,j),Xv(this,O,y))},u)),u.j=p}function T4(u,p){const y=new Ko;if(a.Image){const j=new Image;j.onload=d(tr,y,"TestLoadImage: loaded",!0,p,j),j.onerror=d(tr,y,"TestLoadImage: error",!1,p,j),j.onabort=d(tr,y,"TestLoadImage: abort",!1,p,j),j.ontimeout=d(tr,y,"TestLoadImage: timeout",!1,p,j),a.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=u}else p(!1)}function E4(u,p){const y=new Ko,j=new AbortController,O=setTimeout(()=>{j.abort(),tr(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:j.signal}).then(V=>{clearTimeout(O),V.ok?tr(y,"TestPingServer: ok",!0,p):tr(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(O),tr(y,"TestPingServer: error",!1,p)})}function tr(u,p,y,j,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),j(y)}catch{}}function N4(){this.g=new o4}function bm(u){this.i=u.Sb||null,this.h=u.ab||!1}f(bm,jv),bm.prototype.g=function(){return new Ru(this.i,this.h)};function Ru(u,p){kt.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Ru,kt),t=Ru.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,rl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||a).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,sl(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,rl(this)),this.g&&(this.readyState=3,rl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Zv(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Zv(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?sl(this):rl(this),this.readyState==3&&Zv(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,sl(this))},t.Na=function(u){this.g&&(this.response=u,sl(this))},t.ga=function(){this.g&&sl(this)};function sl(u){u.readyState=4,u.l=null,u.j=null,u.B=null,rl(u)}t.setRequestHeader=function(u,p){this.A.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function rl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ru.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function e1(u){let p="";return xe(u,function(y,j){p+=j,p+=":",p+=y,p+=`\r
`}),p}function wm(u,p,y){e:{for(j in y){var j=!1;break e}j=!0}j||(y=e1(y),typeof u=="string"?y!=null&&Wo(y):Me(u,p,y))}function $e(u){kt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f($e,kt);var S4=/^https?$/i,A4=["POST","PUT"];t=$e.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,p,y,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Pv.g(),this.g.onreadystatechange=m(h(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(V){t1(this,V);return}if(u=y||"",y=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var O in j)y.set(O,j[O]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const V of j.keys())y.set(V,j.get(V));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(y.keys()).find(V=>V.toLowerCase()=="content-type"),O=a.FormData&&u instanceof a.FormData,!(Array.prototype.indexOf.call(A4,p,void 0)>=0)||j||O||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,F]of y)this.g.setRequestHeader(V,F);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(V){t1(this,V)}};function t1(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,n1(u),Iu(u)}function n1(u){u.A||(u.A=!0,zt(u,"complete"),zt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,zt(this,"complete"),zt(this,"abort"),Iu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Iu(this,!0)),$e.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?s1(this):this.Xa())},t.Xa=function(){s1(this)};function s1(u){if(u.h&&typeof i<"u"){if(u.v&&nr(u)==4)setTimeout(u.Ca.bind(u),0);else if(zt(u,"readystatechange"),nr(u)==4){u.h=!1;try{const V=u.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var j;if(j=V===0){let F=String(u.D).match($v)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),j=!S4.test(F?F.toLowerCase():"")}y=j}if(y)zt(u,"complete"),zt(u,"success");else{u.o=6;try{var O=nr(u)>2?u.g.statusText:""}catch{O=""}u.l=O+" ["+u.ca()+"]",n1(u)}}finally{Iu(u)}}}}function Iu(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,p||zt(u,"ready");try{y.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function nr(u){return u.g?u.g.readyState:0}t.ca=function(){try{return nr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),a4(p)}};function r1(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function j4(u){const p={};u=(u.g&&nr(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<u.length;j++){if(I(u[j]))continue;var y=d4(u[j]);const O=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const V=p[O]||[];p[O]=V,V.push(y)}ze(p,function(j){return j.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function il(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function i1(u){this.za=0,this.i=[],this.j=new Ko,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=il("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=il("baseRetryDelayMs",5e3,u),this.Za=il("retryDelaySeedMs",1e4,u),this.Ta=il("forwardChannelMaxRetries",2,u),this.va=il("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Bv(u&&u.concurrentRequestLimit),this.Ba=new N4,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=i1.prototype,t.ka=8,t.I=1,t.connect=function(u,p,y,j){Bt(0),this.W=u,this.H=p||{},y&&j!==void 0&&(this.H.OSID=y,this.H.OAID=j),this.F=this.X,this.J=m1(this,null,this.W),Du(this)};function _m(u){if(a1(u),u.I==3){var p=u.V++,y=Kn(u.J);if(Me(y,"SID",u.M),Me(y,"RID",p),Me(y,"TYPE","terminate"),al(u,y),p=new Zs(u,u.j,p),p.M=2,p.A=Cu(Kn(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(p.A.toString(),"")}catch{}!y&&a.Image&&(new Image().src=p.A,y=!0),y||(p.g=p1(p.j,null),p.g.ea(p.A)),p.F=Date.now(),ju(p)}f1(u)}function Mu(u){u.g&&(Em(u),u.g.cancel(),u.g=null)}function a1(u){Mu(u),u.v&&(a.clearTimeout(u.v),u.v=null),ku(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&a.clearTimeout(u.m),u.m=null)}function Du(u){if(!Fv(u.h)&&!u.m){u.m=!0;var p=u.Ea;D||w(),P||(D(),P=!0),N.add(p,u),u.D=0}}function C4(u,p){return qv(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Qo(h(u.Ea,u,p),d1(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const O=new Zs(this,this.j,u);let V=this.o;if(this.U&&(V?(V=hi(V),ia(V,this.U)):V=this.U),this.u!==null||this.R||(O.J=V,V=null),this.S)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var j=this.i[y];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(p+=j,p>4096){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=l1(this,O,p),y=Kn(this.J),Me(y,"RID",u),Me(y,"CVER",22),this.G&&Me(y,"X-HTTP-Session-Id",this.G),al(this,y),V&&(this.R?p="headers="+Wo(e1(V))+"&"+p:this.u&&wm(y,this.u,V)),xm(this.h,O),this.Ra&&Me(y,"TYPE","init"),this.S?(Me(y,"$req",p),Me(y,"SID","null"),O.U=!0,mm(O,y,null)):mm(O,y,p),this.I=2}}else this.I==3&&(u?o1(this,u):this.i.length==0||Fv(this.h)||o1(this))};function o1(u,p){var y;p?y=p.l:y=u.V++;const j=Kn(u.J);Me(j,"SID",u.M),Me(j,"RID",y),Me(j,"AID",u.K),al(u,j),u.u&&u.o&&wm(j,u.u,u.o),y=new Zs(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),p&&(u.i=p.G.concat(u.i)),p=l1(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),xm(u.h,y),mm(y,j,p)}function al(u,p){u.H&&xe(u.H,function(y,j){Me(p,j,y)}),u.l&&xe({},function(y,j){Me(p,j,y)})}function l1(u,p,y){y=Math.min(u.i.length,y);const j=u.l?h(u.l.Ka,u.l,u):null;e:{var O=u.i;let re=-1;for(;;){const lt=["count="+y];re==-1?y>0?(re=O[0].g,lt.push("ofs="+re)):re=0:lt.push("ofs="+re);let Se=!0;for(let mt=0;mt<y;mt++){var V=O[mt].g;const Wn=O[mt].map;if(V-=re,V<0)re=Math.max(0,O[mt].g-100),Se=!1;else try{V="req"+V+"_"||"";try{var F=Wn instanceof Map?Wn:Object.entries(Wn);for(const[yi,sr]of F){let rr=sr;l(sr)&&(rr=cm(sr)),lt.push(V+yi+"="+encodeURIComponent(rr))}}catch(yi){throw lt.push(V+"type="+encodeURIComponent("_badmap")),yi}}catch{j&&j(Wn)}}if(Se){F=lt.join("&");break e}}F=void 0}return u=u.i.splice(0,y),p.G=u,F}function c1(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;D||w(),P||(D(),P=!0),N.add(p,u),u.A=0}}function Tm(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Qo(h(u.Da,u),d1(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,u1(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Qo(h(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Bt(10),Mu(this),u1(this))};function Em(u){u.B!=null&&(a.clearTimeout(u.B),u.B=null)}function u1(u){u.g=new Zs(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=Kn(u.na);Me(p,"RID","rpc"),Me(p,"SID",u.M),Me(p,"AID",u.K),Me(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&Me(p,"TO",u.ia),Me(p,"TYPE","xmlhttp"),al(u,p),u.u&&u.o&&wm(p,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=Cu(Kn(p)),y.u=null,y.R=!0,Lv(y,u)}t.Va=function(){this.C!=null&&(this.C=null,Mu(this),Tm(this),Bt(19))};function ku(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function h1(u,p){var y=null;if(u.g==p){ku(u),Em(u),u.g=null;var j=2}else if(ym(u.h,p))y=p.G,Hv(u.h,p),j=1;else return;if(u.I!=0){if(p.o)if(j==1){y=p.u?p.u.length:0,p=Date.now()-p.F;var O=u.D;j=Su(),zt(j,new Dv(j,y)),Du(u)}else c1(u);else if(O=p.m,O==3||O==0&&p.X>0||!(j==1&&C4(u,p)||j==2&&Tm(u)))switch(y&&y.length>0&&(p=u.h,p.i=p.i.concat(y)),O){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function d1(u,p){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*p}function gi(u,p){if(u.j.info("Error code "+p),p==2){var y=h(u.bb,u),j=u.Ua;const O=!j;j=new er(j||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Jo(j,"https"),Cu(j),O?T4(j.toString(),y):E4(j.toString(),y)}else Bt(2);u.I=0,u.l&&u.l.pa(p),f1(u),a1(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function f1(u){if(u.I=0,u.ja=[],u.l){const p=Gv(u.h);(p.length!=0||u.i.length!=0)&&(b(u.ja,p),b(u.ja,u.i),u.h.i.length=0,g(u.i),u.i.length=0),u.l.oa()}}function m1(u,p,y){var j=y instanceof er?Kn(y):new er(y);if(j.g!="")p&&(j.g=p+"."+j.g),Zo(j,j.u);else{var O=a.location;j=O.protocol,p=p?p+"."+O.hostname:O.hostname,O=+O.port;const V=new er(null);j&&Jo(V,j),p&&(V.g=p),O&&Zo(V,O),y&&(V.h=y),j=V}return y=u.G,p=u.wa,y&&p&&Me(j,y,p),Me(j,"VER",u.ka),al(u,j),j}function p1(u,p,y){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new $e(new bm({ab:y})):new $e(u.ma),p.Fa(u.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function g1(){}t=g1.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Pu(){}Pu.prototype.g=function(u,p){return new sn(u,p)};function sn(u,p){kt.call(this),this.g=new i1(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!I(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!I(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new la(this)}f(sn,kt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){_m(this.g)},sn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=cm(u),u=y);p.i.push(new p4(p.Ya++,u)),p.I==3&&Du(p)},sn.prototype.N=function(){this.g.l=null,delete this.j,_m(this.g),delete this.g,sn.Z.N.call(this)};function y1(u){um.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}f(y1,um);function x1(){hm.call(this),this.status=1}f(x1,hm);function la(u){this.g=u}f(la,g1),la.prototype.ra=function(){zt(this.g,"a")},la.prototype.qa=function(u){zt(this.g,new y1(u))},la.prototype.pa=function(u){zt(this.g,new x1)},la.prototype.oa=function(){zt(this.g,"b")},Pu.prototype.createWebChannel=Pu.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,VA=function(){return new Pu},OA=function(){return Su()},PA=fi,$g={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Au.NO_ERROR=0,Au.TIMEOUT=8,Au.HTTP_ERROR=6,kh=Au,kv.COMPLETE="complete",kA=kv,Cv.EventType=$o,$o.OPEN="a",$o.CLOSE="b",$o.ERROR="c",$o.MESSAGE="d",kt.prototype.listen=kt.prototype.J,Al=Cv,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,DA=$e}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});const kw="@firebase/firestore",Pw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new z0("@firebase/firestore");function ga(){return $i.logLevel}function G(t,...e){if($i.logLevel<=oe.DEBUG){const n=e.map(J0);$i.debug(`Firestore (${Po}): ${t}`,...n)}}function Gs(t,...e){if($i.logLevel<=oe.ERROR){const n=e.map(J0);$i.error(`Firestore (${Po}): ${t}`,...n)}}function co(t,...e){if($i.logLevel<=oe.WARN){const n=e.map(J0);$i.warn(`Firestore (${Po}): ${t}`,...n)}}function J0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,LA(t,s,n)}function LA(t,e,n){let s=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Gs(s),new Error(s)}function me(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||LA(e,r,s)}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Xs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}class WV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class XV{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){me(this.o===void 0,42304);let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let i=new rs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new rs,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},l=c=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new rs)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(me(typeof s.accessToken=="string",31837,{l:s}),new UA(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return me(e===null||typeof e=="string",2055,{h:e}),new Vt(e)}}class JV{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZV{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new JV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ow{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class e9{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){me(this.o===void 0,3512);const s=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,G("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ow(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ow(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=t9(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%62))}return s}}function le(t,e){return t<e?-1:t>e?1:0}function Yg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),i=e.charAt(s);if(r!==i)return xp(r)===xp(i)?le(r,i):xp(r)?1:-1}return le(t.length,e.length)}const n9=55296,s9=57343;function xp(t){const e=t.charCodeAt(0);return e>=n9&&e<=s9}function uo(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="__name__";class Xn{constructor(e,n,s){n===void 0?n=0:n>e.length&&W(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&W(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Xn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=Xn.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return le(e.length,n.length)}static compareSegments(e,n){const s=Xn.isNumericId(e),r=Xn.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?Xn.extractNumericId(e).compare(Xn.extractNumericId(n)):Yg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vr.fromString(e.substring(4,e.length-2))}}class Ne extends Xn{construct(e,n,s){return new Ne(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new q(L.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const r9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends Xn{construct(e,n,s){return new jt(e,n,s)}static isValidIdentifier(e){return r9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vw}static keyField(){return new jt([Vw])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new q(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new q(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new q(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(s+=l,r++):(i(),r++)}if(i(),a)throw new q(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Ne.fromString(e))}static fromName(e){return new Y(Ne.fromString(e).popFirst(5))}static empty(){return new Y(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Ne(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(t,e,n){if(!n)throw new q(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function i9(t,e,n,s){if(e===!0&&s===!0)throw new q(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Lw(t){if(!Y.isDocumentKey(t))throw new q(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Uw(t){if(Y.isDocumentKey(t))throw new q(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function BA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Cf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":W(12329,{type:typeof t})}function Gt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cf(t);throw new q(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t,e){const n={typeString:t};return e&&(n.value=e),n}function ou(t,e){if(!BA(t))throw new q(L.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,i="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const a=t[s];if(r&&typeof a!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${s}' field to equal '${i.value}'`;break}}if(n)throw new q(L.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=-62135596800,Bw=1e6;class Oe{static now(){return Oe.fromMillis(Date.now())}static fromDate(e){return Oe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Bw);return new Oe(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zw)throw new q(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bw}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ou(e,Oe._jsonSchema))return new Oe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Oe._jsonSchemaVersion="firestore/timestamp/1.0",Oe._jsonSchema={type:ot("string",Oe._jsonSchemaVersion),seconds:ot("number"),nanoseconds:ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{static fromTimestamp(e){return new J(e)}static min(){return new J(new Oe(0,0))}static max(){return new J(new Oe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=-1;function a9(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=J.fromTimestamp(s===1e9?new Oe(n+1,0):new Oe(n,s));return new $r(r,Y.empty(),e)}function o9(t){return new $r(t.readTime,t.key,Nc)}class $r{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new $r(J.min(),Y.empty(),Nc)}static max(){return new $r(J.max(),Y.empty(),Nc)}}function l9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==c9)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&W(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,s)=>{n(e)})}static reject(e){return new z((n,s)=>{s(e)})}static waitFor(e){return new z((n,s)=>{let r=0,i=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++i,a&&i===r&&n()},c=>s(c))}),a=!0,i===r&&n()})}static or(e){let n=z.resolve(!1);for(const s of e)n=n.next(r=>r?z.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new z((s,r)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const h=c;n(e[h]).next(d=>{a[h]=d,++l,l===i&&s(a)},d=>r(d))}})}static doWhile(e,n){return new z((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function h9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=-1;function lu(t){return t==null}function Id(t){return t===0&&1/t==-1/0}function d9(t){return typeof t=="number"&&Number.isInteger(t)&&!Id(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="";function f9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Fw(e)),e=m9(t.get(n),e);return Fw(e)}function m9(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const i=t.charAt(r);switch(i){case"\0":n+="";break;case FA:n+="";break;default:n+=i}}return n}function Fw(t){return t+FA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.comparator=e,this.root=n||Nt.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nh(this.root,e,this.comparator,!0)}}class nh{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??Nt.RED,this.left=r??Nt.EMPTY,this.right=i??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new Nt(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Nt.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw W(43730,{key:this.key,value:this.value});if(this.right.isRed())throw W(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw W(27949);return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw W(57766)}get value(){throw W(16141)}get color(){throw W(16727)}get left(){throw W(29726)}get right(){throw W(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new Nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hw(this.data.getIterator())}getIteratorFrom(e){return new Hw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ut(this.comparator);return n.data=e,n}}class Hw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new un([])}unionWith(e){let n=new ut(jt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new HA("Invalid base64 string: "+i):i}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const p9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(t){if(me(!!t,39018),typeof t=="string"){let e=0;const n=p9.exec(t);if(me(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Je(t.seconds),nanos:Je(t.nanos)}}function Je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qr(t){return typeof t=="string"?Dt.fromBase64String(t):Dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="server_timestamp",$A="__type__",YA="__previous_value__",QA="__local_write_time__";function tx(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[$A])==null?void 0:s.stringValue)===GA}function If(t){const e=t.mapValue.fields[YA];return tx(e)?If(e):e}function Sc(t){const e=Yr(t.mapValue.fields[QA].timestampValue);return new Oe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e,n,s,r,i,a,l,c,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=d}}const Md="(default)";class Ac{constructor(e,n){this.projectId=e,this.database=n||Md}static empty(){return new Ac("","")}get isDefaultDatabase(){return this.database===Md}isEqual(e){return e instanceof Ac&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="__type__",y9="__max__",sh={mapValue:{}},WA="__vector__",Dd="value";function Kr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tx(t)?4:v9(t)?9007199254740991:x9(t)?10:11:W(28295,{value:t})}function us(t,e){if(t===e)return!0;const n=Kr(t);if(n!==Kr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sc(t).isEqual(Sc(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Yr(r.timestampValue),l=Yr(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Qr(r.bytesValue).isEqual(Qr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Je(r.geoPointValue.latitude)===Je(i.geoPointValue.latitude)&&Je(r.geoPointValue.longitude)===Je(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Je(r.integerValue)===Je(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Je(r.doubleValue),l=Je(i.doubleValue);return a===l?Id(a)===Id(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return uo(t.arrayValue.values||[],e.arrayValue.values||[],us);case 10:case 11:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(qw(a)!==qw(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!us(a[c],l[c])))return!1;return!0}(t,e);default:return W(52216,{left:t})}}function jc(t,e){return(t.values||[]).find(n=>us(n,e))!==void 0}function ho(t,e){if(t===e)return 0;const n=Kr(t),s=Kr(e);if(n!==s)return le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Je(i.integerValue||i.doubleValue),c=Je(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Gw(t.timestampValue,e.timestampValue);case 4:return Gw(Sc(t),Sc(e));case 5:return Yg(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Qr(i),c=Qr(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let h=0;h<l.length&&h<c.length;h++){const d=le(l[h],c[h]);if(d!==0)return d}return le(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=le(Je(i.latitude),Je(a.latitude));return l!==0?l:le(Je(i.longitude),Je(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return $w(t.arrayValue,e.arrayValue);case 10:return function(i,a){var m,g,b,E;const l=i.fields||{},c=a.fields||{},h=(m=l[Dd])==null?void 0:m.arrayValue,d=(g=c[Dd])==null?void 0:g.arrayValue,f=le(((b=h==null?void 0:h.values)==null?void 0:b.length)||0,((E=d==null?void 0:d.values)==null?void 0:E.length)||0);return f!==0?f:$w(h,d)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===sh.mapValue&&a===sh.mapValue)return 0;if(i===sh.mapValue)return 1;if(a===sh.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),h=a.fields||{},d=Object.keys(h);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const m=Yg(c[f],d[f]);if(m!==0)return m;const g=ho(l[c[f]],h[d[f]]);if(g!==0)return g}return le(c.length,d.length)}(t.mapValue,e.mapValue);default:throw W(23264,{he:n})}}function Gw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);const n=Yr(t),s=Yr(e),r=le(n.seconds,s.seconds);return r!==0?r:le(n.nanos,s.nanos)}function $w(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=ho(n[r],s[r]);if(i)return i}return le(n.length,s.length)}function fo(t){return Qg(t)}function Qg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=Yr(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=Qg(i);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const a of s)i?i=!1:r+=",",r+=`${a}:${Qg(n.fields[a])}`;return r+"}"}(t.mapValue):W(61005,{value:t})}function Ph(t){switch(Kr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=If(t);return e?16+Ph(e):16;case 5:return 2*t.stringValue.length;case 6:return Qr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,i)=>r+Ph(i),0)}(t.arrayValue);case 10:case 11:return function(s){let r=0;return oi(s.fields,(i,a)=>{r+=i.length+Ph(a)}),r}(t.mapValue);default:throw W(13486,{value:t})}}function Yw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Kg(t){return!!t&&"integerValue"in t}function nx(t){return!!t&&"arrayValue"in t}function Qw(t){return!!t&&"nullValue"in t}function Kw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Oh(t){return!!t&&"mapValue"in t}function x9(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[KA])==null?void 0:s.stringValue)===WA}function Wl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return oi(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Wl(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wl(t.arrayValue.values[n]);return e}return{...t}}function v9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===y9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(n)}setAll(e){let n=jt.emptyPath(),s={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=l.popLast()}a?s[l.lastSegment()]=Wl(a):r.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());Oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return us(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];Oh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){oi(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new qt(Wl(this.value))}}function XA(t){const e=[];return oi(t.fields,(n,s)=>{const r=new jt([n]);if(Oh(s)){const i=XA(s.mapValue).fields;if(i.length===0)e.push(r);else for(const a of i)e.push(r.child(a))}else e.push(r)}),new un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n,s,r,i,a,l){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new xt(e,0,J.min(),J.min(),J.min(),qt.empty(),0)}static newFoundDocument(e,n,s,r){return new xt(e,1,n,J.min(),s,r,0)}static newNoDocument(e,n){return new xt(e,2,n,J.min(),J.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new xt(e,3,n,J.min(),J.min(),qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n){this.position=e,this.inclusive=n}}function Ww(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],a=t.position[r];if(i.field.isKeyField()?s=Y.comparator(Y.fromName(a.referenceValue),n.key):s=ho(a,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function Xw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!us(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n="asc"){this.field=e,this.dir=n}}function b9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{}class it extends JA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new _9(e,n,s):n==="array-contains"?new N9(e,s):n==="in"?new S9(e,s):n==="not-in"?new A9(e,s):n==="array-contains-any"?new j9(e,s):new it(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new T9(e,s):new E9(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ho(n,this.value)):n!==null&&Kr(this.value)===Kr(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends JA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new qn(e,n)}matches(e){return ZA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ZA(t){return t.op==="and"}function ej(t){return w9(t)&&ZA(t)}function w9(t){for(const e of t.filters)if(e instanceof qn)return!1;return!0}function Wg(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+fo(t.value);if(ej(t))return t.filters.map(e=>Wg(e)).join(",");{const e=t.filters.map(n=>Wg(n)).join(",");return`${t.op}(${e})`}}function tj(t,e){return t instanceof it?function(s,r){return r instanceof it&&s.op===r.op&&s.field.isEqual(r.field)&&us(s.value,r.value)}(t,e):t instanceof qn?function(s,r){return r instanceof qn&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((i,a,l)=>i&&tj(a,r.filters[l]),!0):!1}(t,e):void W(19439)}function nj(t){return t instanceof it?function(n){return`${n.field.canonicalString()} ${n.op} ${fo(n.value)}`}(t):t instanceof qn?function(n){return n.op.toString()+" {"+n.getFilters().map(nj).join(" ,")+"}"}(t):"Filter"}class _9 extends it{constructor(e,n,s){super(e,n,s),this.key=Y.fromName(s.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class T9 extends it{constructor(e,n){super(e,"in",n),this.keys=sj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class E9 extends it{constructor(e,n){super(e,"not-in",n),this.keys=sj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sj(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>Y.fromName(s.referenceValue))}class N9 extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return nx(n)&&jc(n.arrayValue,this.value)}}class S9 extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jc(this.value.arrayValue,n)}}class A9 extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(jc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!jc(this.value.arrayValue,n)}}class j9 extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!nx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>jc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e,n=null,s=[],r=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=a,this.endAt=l,this.Te=null}}function Jw(t,e=null,n=[],s=[],r=null,i=null,a=null){return new C9(t,e,n,s,r,i,a)}function sx(t){const e=te(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Wg(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),lu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>fo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>fo(s)).join(",")),e.Te=n}return e.Te}function rx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!b9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xw(t.startAt,e.startAt)&&Xw(t.endAt,e.endAt)}function Xg(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n=null,s=[],r=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function R9(t,e,n,s,r,i,a,l){return new Lo(t,e,n,s,r,i,a,l)}function Mf(t){return new Lo(t)}function Zw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rj(t){return t.collectionGroup!==null}function Xl(t){const e=te(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new ut(jt.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Cc(i,s))}),n.has(jt.keyField().canonicalString())||e.Ie.push(new Cc(jt.keyField(),s))}return e.Ie}function is(t){const e=te(t);return e.Ee||(e.Ee=I9(e,Xl(t))),e.Ee}function I9(t,e){if(t.limitType==="F")return Jw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const i=r.dir==="desc"?"asc":"desc";return new Cc(r.field,i)});const n=t.endAt?new kd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new kd(t.startAt.position,t.startAt.inclusive):null;return Jw(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Jg(t,e){const n=t.filters.concat([e]);return new Lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zg(t,e,n){return new Lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Df(t,e){return rx(is(t),is(e))&&t.limitType===e.limitType}function ij(t){return`${sx(is(t))}|lt:${t.limitType}`}function ya(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>nj(r)).join(", ")}]`),lu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>fo(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>fo(r)).join(",")),`Target(${s})`}(is(t))}; limitType=${t.limitType})`}function kf(t,e){return e.isFoundDocument()&&function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):Y.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)}(t,e)&&function(s,r){for(const i of Xl(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(s,r){return!(s.startAt&&!function(a,l,c){const h=Ww(a,l,c);return a.inclusive?h<=0:h<0}(s.startAt,Xl(s),r)||s.endAt&&!function(a,l,c){const h=Ww(a,l,c);return a.inclusive?h>=0:h>0}(s.endAt,Xl(s),r))}(t,e)}function M9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aj(t){return(e,n)=>{let s=!1;for(const r of Xl(t)){const i=D9(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function D9(t,e,n){const s=t.field.isKeyField()?Y.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),h=l.data.field(i);return c!==null&&h!==null?ho(c,h):W(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return W(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){oi(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return qA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9=new Ge(Y.comparator);function $s(){return k9}const oj=new Ge(Y.comparator);function jl(...t){let e=oj;for(const n of t)e=e.insert(n.key,n);return e}function lj(t){let e=oj;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ci(){return Jl()}function cj(){return Jl()}function Jl(){return new na(t=>t.toString(),(t,e)=>t.isEqual(e))}const P9=new Ge(Y.comparator),O9=new ut(Y.comparator);function ce(...t){let e=O9;for(const n of t)e=e.add(n);return e}const V9=new ut(le);function L9(){return V9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Id(e)?"-0":e}}function uj(t){return{integerValue:""+t}}function hj(t,e){return d9(e)?uj(e):ix(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(){this._=void 0}}function U9(t,e,n){return t instanceof Rc?function(r,i){const a={fields:{[$A]:{stringValue:GA},[QA]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&tx(i)&&(i=If(i)),i&&(a.fields[YA]=i),{mapValue:a}}(n,e):t instanceof mo?fj(t,e):t instanceof Ic?mj(t,e):function(r,i){const a=dj(r,i),l=e_(a)+e_(r.Ae);return Kg(a)&&Kg(r.Ae)?uj(l):ix(r.serializer,l)}(t,e)}function z9(t,e,n){return t instanceof mo?fj(t,e):t instanceof Ic?mj(t,e):n}function dj(t,e){return t instanceof Mc?function(s){return Kg(s)||function(i){return!!i&&"doubleValue"in i}(s)}(e)?e:{integerValue:0}:null}class Rc extends Pf{}class mo extends Pf{constructor(e){super(),this.elements=e}}function fj(t,e){const n=pj(e);for(const s of t.elements)n.some(r=>us(r,s))||n.push(s);return{arrayValue:{values:n}}}class Ic extends Pf{constructor(e){super(),this.elements=e}}function mj(t,e){let n=pj(e);for(const s of t.elements)n=n.filter(r=>!us(r,s));return{arrayValue:{values:n}}}class Mc extends Pf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function e_(t){return Je(t.integerValue||t.doubleValue)}function pj(t){return nx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n){this.field=e,this.transform=n}}function B9(t,e){return t.field.isEqual(e.field)&&function(s,r){return s instanceof mo&&r instanceof mo||s instanceof Ic&&r instanceof Ic?uo(s.elements,r.elements,us):s instanceof Mc&&r instanceof Mc?us(s.Ae,r.Ae):s instanceof Rc&&r instanceof Rc}(t.transform,e.transform)}class F9{constructor(e,n){this.version=e,this.transformResults=n}}class Ct{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ct}static exists(e){return new Ct(void 0,e)}static updateTime(e){return new Ct(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Of{}function gj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vf(t.key,Ct.none()):new cu(t.key,t.data,Ct.none());{const n=t.data,s=qt.empty();let r=new ut(jt.comparator);for(let i of e.fields)if(!r.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?s.delete(i):s.set(i,a),r=r.add(i)}return new li(t.key,s,new un(r.toArray()),Ct.none())}}function q9(t,e,n){t instanceof cu?function(r,i,a){const l=r.value.clone(),c=n_(r.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof li?function(r,i,a){if(!Vh(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=n_(r.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(yj(r)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(r,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Zl(t,e,n,s){return t instanceof cu?function(i,a,l,c){if(!Vh(i.precondition,a))return l;const h=i.value.clone(),d=s_(i.fieldTransforms,c,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,s):t instanceof li?function(i,a,l,c){if(!Vh(i.precondition,a))return l;const h=s_(i.fieldTransforms,c,a),d=a.data;return d.setAll(yj(i)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,s):function(i,a,l){return Vh(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function H9(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=dj(s.transform,r||null);i!=null&&(n===null&&(n=qt.empty()),n.set(s.field,i))}return n||null}function t_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&uo(s,r,(i,a)=>B9(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cu extends Of{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class li extends Of{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function yj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function n_(t,e,n){const s=new Map;me(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const i=t[r],a=i.transform,l=e.data.field(i.field);s.set(i.field,z9(a,l,n[r]))}return s}function s_(t,e,n){const s=new Map;for(const r of t){const i=r.transform,a=n.data.field(r.field);s.set(r.field,U9(i,a,e))}return s}class Vf extends Of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xj extends Of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&q9(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Zl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Zl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=cj();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(r.key)?null:l;const c=gj(a,l);c!==null&&s.set(r.key,c),a.isValidDocument()||a.convertToNoDocument(J.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&uo(this.mutations,e.mutations,(n,s)=>t_(n,s))&&uo(this.baseMutations,e.baseMutations,(n,s)=>t_(n,s))}}class ox{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){me(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let r=function(){return P9}();const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,s[a].version);return new ox(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt,de;function vj(t){switch(t){case L.OK:return W(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return W(15467,{code:t})}}function bj(t){if(t===void 0)return Gs("GRPC error has no .code"),L.UNKNOWN;switch(t){case tt.OK:return L.OK;case tt.CANCELLED:return L.CANCELLED;case tt.UNKNOWN:return L.UNKNOWN;case tt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case tt.INTERNAL:return L.INTERNAL;case tt.UNAVAILABLE:return L.UNAVAILABLE;case tt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case tt.NOT_FOUND:return L.NOT_FOUND;case tt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case tt.ABORTED:return L.ABORTED;case tt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case tt.DATA_LOSS:return L.DATA_LOSS;default:return W(39323,{code:t})}}(de=tt||(tt={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=new Vr([4294967295,4294967295],0);function r_(t){const e=Q9().encode(t),n=new MA;return n.update(e),new Uint8Array(n.digest())}function i_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Vr([n,s],0),new Vr([r,i],0)]}class lx{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Cl(`Invalid padding: ${n}`);if(s<0)throw new Cl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Vr.fromNumber(this.ge)}ye(e,n,s){let r=e.add(n.multiply(Vr.fromNumber(s)));return r.compare(K9)===1&&(r=new Vr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=r_(e),[s,r]=i_(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(s,r,i);if(!this.we(a))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new lx(i,r,n);return s.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=r_(e),[s,r]=i_(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(s,r,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Lf(J.min(),r,new Ge(le),$s(),ce())}}class uu{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new uu(s,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n,s,r){this.be=e,this.removedTargetIds=n,this.key=s,this.De=r}}class wj{constructor(e,n){this.targetId=e,this.Ce=n}}class _j{constructor(e,n,s=Dt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class a_{constructor(){this.ve=0,this.Fe=o_(),this.Me=Dt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ce(),n=ce(),s=ce();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:W(38017,{changeType:i})}}),new uu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=o_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,me(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class W9{constructor(e){this.Ge=e,this.ze=new Map,this.je=$s(),this.Je=rh(),this.He=rh(),this.Ye=new Ge(le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:W(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,s=e.Ce.count,r=this.ot(n);if(r){const i=r.target;if(Xg(i))if(s===0){const a=new Y(i.path);this.et(n,a,xt.newNoDocument(a,J.min()))}else me(s===1,20013,{expectedCount:s});else{const a=this._t(n);if(a!==s){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let a,l;try{a=Qr(s).toUint8Array()}catch(c){if(c instanceof HA)return co("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new lx(a,r,i)}catch(c){return co(c instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let r=0;return s.forEach(i=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((i,a)=>{const l=this.ot(a);if(l){if(i.current&&Xg(l.target)){const c=new Y(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,xt.newNoDocument(c,e))}i.Be&&(n.set(a,i.ke()),i.qe())}});let s=ce();this.He.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const h=this.ot(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(i))}),this.je.forEach((i,a)=>a.setReadTime(e));const r=new Lf(e,n,this.Ye,this.je,s);return this.je=$s(),this.Je=rh(),this.He=rh(),this.Ye=new Ge(le),r}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new a_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ut(le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ut(le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new a_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function rh(){return new Ge(Y.comparator)}function o_(){return new Ge(Y.comparator)}const X9={asc:"ASCENDING",desc:"DESCENDING"},J9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z9={and:"AND",or:"OR"};class eL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ey(t,e){return t.useProto3Json||lu(e)?e:{value:e}}function Pd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tL(t,e){return Pd(t,e.toTimestamp())}function pn(t){return me(!!t,49232),J.fromTimestamp(function(n){const s=Yr(n);return new Oe(s.seconds,s.nanos)}(t))}function cx(t,e){return ty(t,e).canonicalString()}function ty(t,e){const n=function(r){return new Ne(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Ej(t){const e=Ne.fromString(t);return me(Rj(e),10190,{key:e.toString()}),e}function Od(t,e){return cx(t.databaseId,e.path)}function ec(t,e){const n=Ej(e);if(n.get(1)!==t.databaseId.projectId)throw new q(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(Sj(n))}function Nj(t,e){return cx(t.databaseId,e)}function nL(t){const e=Ej(t);return e.length===4?Ne.emptyPath():Sj(e)}function ny(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Sj(t){return me(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function l_(t,e,n){return{name:Od(t,e),fields:n.value.mapValue.fields}}function sL(t,e){return"found"in e?function(s,r){me(!!r.found,43571),r.found.name,r.found.updateTime;const i=ec(s,r.found.name),a=pn(r.found.updateTime),l=r.found.createTime?pn(r.found.createTime):J.min(),c=new qt({mapValue:{fields:r.found.fields}});return xt.newFoundDocument(i,a,l,c)}(t,e):"missing"in e?function(s,r){me(!!r.missing,3894),me(!!r.readTime,22933);const i=ec(s,r.missing),a=pn(r.readTime);return xt.newNoDocument(i,a)}(t,e):W(7234,{result:e})}function rL(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:W(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(h,d){return h.useProto3Json?(me(d===void 0||typeof d=="string",58123),Dt.fromBase64String(d||"")):(me(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Dt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){const d=h.code===void 0?L.UNKNOWN:bj(h.code);return new q(d,h.message||"")}(a);n=new _j(s,r,i,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=ec(t,s.document.name),i=pn(s.document.updateTime),a=s.document.createTime?pn(s.document.createTime):J.min(),l=new qt({mapValue:{fields:s.document.fields}}),c=xt.newFoundDocument(r,i,a,l),h=s.targetIds||[],d=s.removedTargetIds||[];n=new Lh(h,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=ec(t,s.document),i=s.readTime?pn(s.readTime):J.min(),a=xt.newNoDocument(r,i),l=s.removedTargetIds||[];n=new Lh([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=ec(t,s.document),i=s.removedTargetIds||[];n=new Lh([],i,r,null)}else{if(!("filter"in e))return W(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,a=new Y9(r,i),l=s.targetId;n=new wj(l,a)}}return n}function Aj(t,e){let n;if(e instanceof cu)n={update:l_(t,e.key,e.value)};else if(e instanceof Vf)n={delete:Od(t,e.key)};else if(e instanceof li)n={update:l_(t,e.key,e.data),updateMask:fL(e.fieldMask)};else{if(!(e instanceof xj))return W(16599,{Vt:e.type});n={verify:Od(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(i,a){const l=a.transform;if(l instanceof Rc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof mo)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ic)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Mc)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw W(20930,{transform:a.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:tL(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:W(27497)}(t,e.precondition)),n}function iL(t,e){return t&&t.length>0?(me(e!==void 0,14353),t.map(n=>function(r,i){let a=r.updateTime?pn(r.updateTime):pn(i);return a.isEqual(J.min())&&(a=pn(i)),new F9(a,r.transformResults||[])}(n,e))):[]}function aL(t,e){return{documents:[Nj(t,e.path)]}}function oL(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Nj(t,r);const i=function(h){if(h.length!==0)return Cj(qn.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:xa(m.field),direction:uL(m.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=ey(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:n,parent:r}}function lL(t){let e=nL(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){me(s===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const m=jj(f);return m instanceof qn&&ej(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(m=>function(b){return new Cc(va(b.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,lu(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,g=f.values||[];return new kd(g,m)}(n.startAt));let h=null;return n.endAt&&(h=function(f){const m=!f.before,g=f.values||[];return new kd(g,m)}(n.endAt)),R9(e,r,a,i,l,"F",c,h)}function cL(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=va(n.unaryFilter.field);return it.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=va(n.unaryFilter.field);return it.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=va(n.unaryFilter.field);return it.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=va(n.unaryFilter.field);return it.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return W(61313);default:return W(60726)}}(t):t.fieldFilter!==void 0?function(n){return it.create(va(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return W(58110);default:return W(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qn.create(n.compositeFilter.filters.map(s=>jj(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return W(1026)}}(n.compositeFilter.op))}(t):W(30097,{filter:t})}function uL(t){return X9[t]}function hL(t){return J9[t]}function dL(t){return Z9[t]}function xa(t){return{fieldPath:t.canonicalString()}}function va(t){return jt.fromServerFormat(t.fieldPath)}function Cj(t){return t instanceof it?function(n){if(n.op==="=="){if(Kw(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NAN"}};if(Qw(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Kw(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NOT_NAN"}};if(Qw(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xa(n.field),op:hL(n.op),value:n.value}}}(t):t instanceof qn?function(n){const s=n.getFilters().map(r=>Cj(r));return s.length===1?s[0]:{compositeFilter:{op:dL(n.op),filters:s}}}(t):W(54877,{filter:t})}function fL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Rj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n,s,r,i=J.min(),a=J.min(),l=Dt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e){this.yt=e}}function pL(t){const e=lL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(){this.Cn=new yL}addToCollectionParentIndex(e,n){return this.Cn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve($r.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve($r.min())}updateCollectionGroup(e,n,s){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class yL{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new ut(Ne.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new ut(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ij=41943040;class Xt{static withCacheSize(e){return new Xt(e,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(Ij,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new po(0)}static cr(){return new po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="LruGarbageCollector",xL=1048576;function h_([t,e],[n,s]){const r=le(t,n);return r===0?le(e,s):r}class vL{constructor(e){this.Ir=e,this.buffer=new ut(h_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();h_(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bL{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){G(u_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vo(n)?G(u_,"Ignoring IndexedDB error during garbage collection: ",n):await Oo(n)}await this.Vr(3e5)})}}class wL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Rf.ce);const s=new vL(n);return this.mr.forEachTarget(e,r=>s.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>s.Ar(r))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(c_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,r,i,a,l,c,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,a=Date.now(),this.nthSequenceNumber(e,r))).next(f=>(s=f,l=Date.now(),this.removeTargets(e,s,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,s))).next(f=>(h=Date.now(),ga()<=oe.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(h-c)+`ms
Total Duration: ${h-d}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:f})))}}function _L(t,e){return new wL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(){this.changes=new na(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?z.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&Zl(s.mutation,r,un.empty(),Oe.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ce()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ce()){const r=Ci();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let a=jl();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const s=Ci();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ce()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,s,r){let i=$s();const a=Jl(),l=function(){return Jl()}();return n.forEach((c,h)=>{const d=s.get(h.key);r.has(h.key)&&(d===void 0||d.mutation instanceof li)?i=i.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),Zl(d.mutation,h,d.mutation.getFieldMask(),Oe.now())):a.set(h.key,un.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((h,d)=>a.set(h,d)),n.forEach((h,d)=>l.set(h,new EL(d,a.get(h)??null))),l))}recalculateAndSaveOverlays(e,n){const s=Jl();let r=new Ge((a,l)=>a-l),i=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let d=s.get(c)||un.empty();d=l.applyToLocalView(h,d),s.set(c,d);const f=(r.get(l.batchId)||ce()).add(c);r=r.insert(l.batchId,f)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,d=c.value,f=cj();d.forEach(m=>{if(!i.has(m)){const g=gj(n.get(m),s.get(m));g!==null&&f.set(m,g),i=i.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,f))}return z.waitFor(a)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,r){return function(a){return Y.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):z.resolve(Ci());let l=Nc,c=i;return a.next(h=>z.forEach(h,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,c,h,ce())).next(d=>({batchId:l,changes:lj(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(s=>{let r=jl();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const i=n.collectionGroup;let a=jl();return this.indexManager.getCollectionParents(e,i).next(l=>z.forEach(l,c=>{const h=function(f,m){return new Lo(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,s,r).next(d=>{d.forEach((f,m)=>{a=a.insert(f,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i,r))).next(a=>{i.forEach((c,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,xt.newInvalidDocument(d)))});let l=jl();return a.forEach((c,h)=>{const d=i.get(c);d!==void 0&&Zl(d.mutation,h,un.empty(),Oe.now()),kf(n,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:pn(r.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:pL(r.bundledQuery),readTime:pn(r.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(){this.overlays=new Ge(Y.comparator),this.qr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ci();return z.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.St(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.qr.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(s)),z.resolve()}getOverlaysForCollection(e,n,s){const r=Ci(),i=n.length+1,a=new Y(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&c.largestBatchId>s&&r.set(c.getKey(),c)}return z.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new Ge((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>s){let d=i.get(h.largestBatchId);d===null&&(d=Ci(),i=i.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=Ci(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=r)););return z.resolve(l)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const a=this.qr.get(r.largestBatchId).delete(s.key);this.qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(s.key,new $9(n,s));let i=this.qr.get(n);i===void 0&&(i=ce(),this.qr.set(n,i)),this.qr.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this.Qr=new ut(pt.$r),this.Ur=new ut(pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new pt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new pt(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new Y(new Ne([])),s=new pt(n,e),r=new pt(n,e+1),i=[];return this.Ur.forEachInRange([s,r],a=>{this.Gr(a),i.push(a.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Y(new Ne([])),s=new pt(n,e),r=new pt(n,e+1);let i=ce();return this.Ur.forEachInRange([s,r],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new pt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class pt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Y.comparator(e.key,n.key)||le(e.Yr,n.Yr)}static Kr(e,n){return le(e.Yr,n.Yr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ut(pt.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new G9(i,n,s,r);this.mutationQueue.push(a);for(const l of r)this.Zr=this.Zr.add(new pt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return z.resolve(a)}lookupMutationBatch(e,n){return z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ei(s),i=r<0?0:r;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?ex:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new pt(n,0),r=new pt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([s,r],a=>{const l=this.Xr(a.Yr);i.push(l)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ut(le);return n.forEach(r=>{const i=new pt(r,0),a=new pt(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],l=>{s=s.add(l.Yr)})}),z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;Y.isDocumentKey(i)||(i=i.child(""));const a=new pt(new Y(i),0);let l=new ut(le);return this.Zr.forEachWhile(c=>{const h=c.key.path;return!!s.isPrefixOf(h)&&(h.length===r&&(l=l.add(c.Yr)),!0)},a),z.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(s=>{const r=this.Xr(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){me(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return z.forEach(n.mutations,r=>{const i=new pt(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new pt(n,0),r=this.Zr.firstAfterOrEqual(s);return z.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.ri=e,this.docs=function(){return new Ge(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,a=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return z.resolve(s?s.document.mutableCopy():xt.newInvalidDocument(n))}getEntries(e,n){let s=$s();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():xt.newInvalidDocument(r))}),z.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=$s();const a=n.path,l=new Y(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:d}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||l9(o9(d),s)<=0||(r.has(d.key)||kf(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,s,r){W(9500)}ii(e,n){return z.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new IL(this)}getSize(e){return z.resolve(this.size)}}class IL extends TL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(s)}),z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e){this.persistence=e,this.si=new na(n=>sx(n),rx),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.oi=0,this._i=new ux,this.targetCount=0,this.ai=po.ur()}forEachTarget(e,n){return this.si.forEach((s,r)=>n(r)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new po(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Pr(n),z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),z.waitFor(i).next(()=>r)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return z.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),z.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(a=>{i.push(r.markPotentiallyOrphaned(e,a))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return z.resolve(s)}containsKey(e,n){return z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e,n){this.ui={},this.overlays={},this.ci=new Rf(0),this.li=!1,this.li=!0,this.hi=new jL,this.referenceDelegate=e(this),this.Pi=new ML(this),this.indexManager=new gL,this.remoteDocumentCache=function(r){return new RL(r)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new mL(n),this.Ii=new SL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new AL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new CL(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){G("MemoryPersistence","Starting transaction:",e);const r=new DL(this.ci.next());return this.referenceDelegate.Ei(),s(r).next(i=>this.referenceDelegate.di(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Ai(e,n){return z.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class DL extends u9{constructor(e){super(),this.currentSequenceNumber=e}}class hx{constructor(e){this.persistence=e,this.Ri=new ux,this.Vi=null}static mi(e){return new hx(e)}get fi(){if(this.Vi)return this.Vi;throw W(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),z.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.fi.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,s=>{const r=Y.fromPath(s);return this.gi(e,r).next(i=>{i||n.removeEntry(r,J.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Vd{constructor(e,n){this.persistence=e,this.pi=new na(s=>f9(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=_L(this,n)}static mi(e,n){return new Vd(e,n)}Ei(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return z.forEach(this.pi,(s,r)=>this.br(e,s,r).next(i=>i?z.resolve():n(r)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,a=>this.br(e,a,n).next(l=>{l||(s++,i.removeEntry(a,J.min()))})).next(()=>i.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),z.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ph(e.data.value)),n}br(e,n,s){return z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return z.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=r}static As(e,n){let s=ce(),r=ce();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new dx(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return gk()?8:h9(Ut())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,r){const i={result:null};return this.ys(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.ws(e,n,r,s).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new kL;return this.Ss(e,n,a).next(l=>{if(i.result=l,this.Vs)return this.bs(e,n,a,l.size)})}).next(()=>i.result)}bs(e,n,s,r){return s.documentReadCount<this.fs?(ga()<=oe.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(ga()<=oe.DEBUG&&G("QueryEngine","Query:",ya(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.gs*r?(ga()<=oe.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,is(n))):z.resolve())}ys(e,n){if(Zw(n))return z.resolve(null);let s=is(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Zg(n,null,"F"),s=is(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const a=ce(...i);return this.ps.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,s).next(c=>{const h=this.Ds(n,l);return this.Cs(n,h,a,c.readTime)?this.ys(e,Zg(n,null,"F")):this.vs(e,h,n,c)}))})))}ws(e,n,s,r){return Zw(n)||r.isEqual(J.min())?z.resolve(null):this.ps.getDocuments(e,s).next(i=>{const a=this.Ds(n,i);return this.Cs(n,a,s,r)?z.resolve(null):(ga()<=oe.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ya(n)),this.vs(e,a,n,a9(r,Nc)).next(l=>l))})}Ds(e,n){let s=new ut(aj(e));return n.forEach((r,i)=>{kf(e,i)&&(s=s.add(i))}),s}Cs(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,n,s){return ga()<=oe.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",ya(n)),this.ps.getDocumentsMatchingQuery(e,n,$r.min(),s)}vs(e,n,s,r){return this.ps.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="LocalStore",OL=3e8;class VL{constructor(e,n,s,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new Ge(le),this.xs=new na(i=>sx(i),rx),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function LL(t,e,n,s){return new VL(t,e,n,s)}async function Dj(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const a=[],l=[];let c=ce();for(const h of r){a.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}for(const h of i){l.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(s,c).next(h=>({Ls:h,removedBatchIds:a,addedBatchIds:l}))})})}function UL(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,h,d){const f=h.batch,m=f.keys();let g=z.resolve();return m.forEach(b=>{g=g.next(()=>d.getEntry(c,b)).next(E=>{const S=h.docVersions.get(b);me(S!==null,48541),E.version.compareTo(S)<0&&(f.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),d.addEntry(E)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(l){let c=ce();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function kj(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function zL(t,e){const n=te(t),s=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const l=[];e.targetChanges.forEach((d,f)=>{const m=r.get(f);if(!m)return;l.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,f)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Dt.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,s)),r=r.insert(f,g),function(E,S,x){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=OL?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(m,g,d)&&l.push(n.Pi.updateTargetData(i,g))});let c=$s(),h=ce();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(BL(i,a,e.documentUpdates).next(d=>{c=d.ks,h=d.qs})),!s.isEqual(J.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,s));l.push(d)}return z.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,h)).next(()=>c)}).then(i=>(n.Ms=r,i))}function BL(t,e,n){let s=ce(),r=ce();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let a=$s();return n.forEach((l,c)=>{const h=i.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),c.isNoDocument()&&c.version.isEqual(J.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):G(fx,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{ks:a,qs:r}})}function FL(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=ex),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function qL(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Pi.getTargetData(s,e).next(i=>i?(r=i,z.resolve(r)):n.Pi.allocateTargetId(s).next(a=>(r=new Er(e,a,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ms.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function sy(t,e,n){const s=te(t),r=s.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,a=>s.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!Vo(a))throw a;G(fx,`Failed to update sequence numbers for target ${e}: ${a}`)}s.Ms=s.Ms.remove(e),s.xs.delete(r.target)}function d_(t,e,n){const s=te(t);let r=J.min(),i=ce();return s.persistence.runTransaction("Execute query","readwrite",a=>function(c,h,d){const f=te(c),m=f.xs.get(d);return m!==void 0?z.resolve(f.Ms.get(m)):f.Pi.getTargetData(h,d)}(s,a,is(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>s.Fs.getDocumentsMatchingQuery(a,e,n?r:J.min(),n?i:ce())).next(l=>(HL(s,M9(e),l),{documents:l,Qs:i})))}function HL(t,e,n){let s=t.Os.get(e)||J.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Os.set(e,s)}class f_{constructor(){this.activeTargetIds=L9()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GL{constructor(){this.Mo=new f_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new f_,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="ConnectivityMonitor";class p_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){G(m_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){G(m_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;function ry(){return ih===null?ih=function(){return 268435456+Math.round(2147483648*Math.random())}():ih++,"0x"+ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="RestConnection",YL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${r}`,this.Wo=this.databaseId.database===Md?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Go(e,n,s,r,i){const a=ry(),l=this.zo(e,n.toUriEncodedString());G(vp,`Sending RPC '${e}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,r,i);const{host:h}=new URL(l),d=Mo(h);return this.Jo(e,l,c,s,d).then(f=>(G(vp,`Received RPC '${e}' ${a}: `,f),f),f=>{throw co(vp,`RPC '${e}' ${a} failed with error: `,f,"url: ",l,"request:",s),f})}Ho(e,n,s,r,i,a){return this.Go(e,n,s,r,i)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Po}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}zo(e,n){const s=YL[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt="WebChannelConnection";class WL extends QL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,r,i){const a=ry();return new Promise((l,c)=>{const h=new DA;h.setWithCredentials(!0),h.listenOnce(kA.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case kh.NO_ERROR:const f=h.getResponseJson();G(Pt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),l(f);break;case kh.TIMEOUT:G(Pt,`RPC '${e}' ${a} timed out`),c(new q(L.DEADLINE_EXCEEDED,"Request time out"));break;case kh.HTTP_ERROR:const m=h.getStatus();if(G(Pt,`RPC '${e}' ${a} failed with status:`,m,"response text:",h.getResponseText()),m>0){let g=h.getResponseJson();Array.isArray(g)&&(g=g[0]);const b=g==null?void 0:g.error;if(b&&b.status&&b.message){const E=function(x){const v=x.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(v)>=0?v:L.UNKNOWN}(b.status);c(new q(E,b.message))}else c(new q(L.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new q(L.UNAVAILABLE,"Connection failed."));break;default:W(9055,{l_:e,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{G(Pt,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(r);G(Pt,`RPC '${e}' ${a} sending request:`,r),h.send(n,"POST",d,s,15)})}T_(e,n,s){const r=ry(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=VA(),l=OA(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const d=i.join("");G(Pt,`Creating RPC '${e}' stream ${r}: ${d}`,c);const f=a.createWebChannel(d,c);this.I_(f);let m=!1,g=!1;const b=new KL({Yo:S=>{g?G(Pt,`Not sending because RPC '${e}' stream ${r} is closed:`,S):(m||(G(Pt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),m=!0),G(Pt,`RPC '${e}' stream ${r} sending:`,S),f.send(S))},Zo:()=>f.close()}),E=(S,x,v)=>{S.listen(x,_=>{try{v(_)}catch(C){setTimeout(()=>{throw C},0)}})};return E(f,Al.EventType.OPEN,()=>{g||(G(Pt,`RPC '${e}' stream ${r} transport opened.`),b.o_())}),E(f,Al.EventType.CLOSE,()=>{g||(g=!0,G(Pt,`RPC '${e}' stream ${r} transport closed`),b.a_(),this.E_(f))}),E(f,Al.EventType.ERROR,S=>{g||(g=!0,co(Pt,`RPC '${e}' stream ${r} transport errored. Name:`,S.name,"Message:",S.message),b.a_(new q(L.UNAVAILABLE,"The operation could not be completed")))}),E(f,Al.EventType.MESSAGE,S=>{var x;if(!g){const v=S.data[0];me(!!v,16349);const _=v,C=(_==null?void 0:_.error)||((x=_[0])==null?void 0:x.error);if(C){G(Pt,`RPC '${e}' stream ${r} received error:`,C);const D=C.status;let P=function(A){const R=tt[A];if(R!==void 0)return bj(R)}(D),N=C.message;P===void 0&&(P=L.INTERNAL,N="Unknown error status: "+D+" with message "+C.message),g=!0,b.a_(new q(P,N)),f.close()}else G(Pt,`RPC '${e}' stream ${r} received:`,v),b.u_(v)}}),E(l,PA.STAT_EVENT,S=>{S.stat===$g.PROXY?G(Pt,`RPC '${e}' stream ${r} detected buffering proxy`):S.stat===$g.NOPROXY&&G(Pt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function bp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(t){return new eL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-s);r>0&&G("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="PersistentStream";class Pj{constructor(e,n,s,r,i,a,l,c){this.Mi=e,this.S_=s,this.b_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(Gs(n.toString()),Gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.D_===n&&this.G_(s,r)},s=>{e(()=>{const r=new q(L.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{s(()=>this.z_(r))}),this.stream.onMessage(r=>{s(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(g_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(G(g_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XL extends Pj{constructor(e,n,s,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=rL(this.serializer,e),s=function(i){if(!("targetChange"in i))return J.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?J.min():a.readTime?pn(a.readTime):J.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=ny(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=Xg(c)?{documents:aL(i,c)}:{query:oL(i,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=Tj(i,a.resumeToken);const h=ey(i,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(J.min())>0){l.readTime=Pd(i,a.snapshotVersion.toTimestamp());const h=ey(i,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const s=cL(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=ny(this.serializer),n.removeTarget=e,this.q_(n)}}class JL extends Pj{constructor(e,n,s,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,me(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=iL(e.writeResults,e.commitTime),s=pn(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=ny(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>Aj(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{}class e8 extends ZL{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new q(L.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Go(e,ty(n,s),r,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(L.UNKNOWN,i.toString())})}Ho(e,n,s,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(e,ty(n,s),r,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new q(L.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class t8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gs(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="RemoteStore";class n8{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(a=>{s.enqueueAndForget(async()=>{sa(this)&&(G(Yi,"Restarting streams for network reachability change."),await async function(c){const h=te(c);h.Ea.add(4),await hu(h),h.Ra.set("Unknown"),h.Ea.delete(4),await zf(h)}(this))})}),this.Ra=new t8(s,r)}}async function zf(t){if(sa(t))for(const e of t.da)await e(!0)}async function hu(t){for(const e of t.da)await e(!1)}function Oj(t,e){const n=te(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),xx(n)?yx(n):Uo(n).O_()&&gx(n,e))}function px(t,e){const n=te(t),s=Uo(n);n.Ia.delete(e),s.O_()&&Vj(n,e),n.Ia.size===0&&(s.O_()?s.L_():sa(n)&&n.Ra.set("Unknown"))}function gx(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uo(t).Y_(e)}function Vj(t,e){t.Va.Ue(e),Uo(t).Z_(e)}function yx(t){t.Va=new W9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Uo(t).start(),t.Ra.ua()}function xx(t){return sa(t)&&!Uo(t).x_()&&t.Ia.size>0}function sa(t){return te(t).Ea.size===0}function Lj(t){t.Va=void 0}async function s8(t){t.Ra.set("Online")}async function r8(t){t.Ia.forEach((e,n)=>{gx(t,e)})}async function i8(t,e){Lj(t),xx(t)?(t.Ra.ha(e),yx(t)):t.Ra.set("Unknown")}async function a8(t,e,n){if(t.Ra.set("Online"),e instanceof _j&&e.state===2&&e.cause)try{await async function(r,i){const a=i.cause;for(const l of i.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ia.delete(l),r.Va.removeTarget(l))}(t,e)}catch(s){G(Yi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ld(t,s)}else if(e instanceof Lh?t.Va.Ze(e):e instanceof wj?t.Va.st(e):t.Va.tt(e),!n.isEqual(J.min()))try{const s=await kj(t.localStore);n.compareTo(s)>=0&&await function(i,a){const l=i.Va.Tt(a);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.Ia.get(h);d&&i.Ia.set(h,d.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,h)=>{const d=i.Ia.get(c);if(!d)return;i.Ia.set(c,d.withResumeToken(Dt.EMPTY_BYTE_STRING,d.snapshotVersion)),Vj(i,c);const f=new Er(d.target,c,h,d.sequenceNumber);gx(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(s){G(Yi,"Failed to raise snapshot:",s),await Ld(t,s)}}async function Ld(t,e,n){if(!Vo(e))throw e;t.Ea.add(1),await hu(t),t.Ra.set("Offline"),n||(n=()=>kj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(Yi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await zf(t)})}function Uj(t,e){return e().catch(n=>Ld(t,n,e))}async function Bf(t){const e=te(t),n=Wr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ex;for(;o8(e);)try{const r=await FL(e.localStore,s);if(r===null){e.Ta.length===0&&n.L_();break}s=r.batchId,l8(e,r)}catch(r){await Ld(e,r)}zj(e)&&Bj(e)}function o8(t){return sa(t)&&t.Ta.length<10}function l8(t,e){t.Ta.push(e);const n=Wr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function zj(t){return sa(t)&&!Wr(t).x_()&&t.Ta.length>0}function Bj(t){Wr(t).start()}async function c8(t){Wr(t).ra()}async function u8(t){const e=Wr(t);for(const n of t.Ta)e.ea(n.mutations)}async function h8(t,e,n){const s=t.Ta.shift(),r=ox.from(s,e,n);await Uj(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Bf(t)}async function d8(t,e){e&&Wr(t).X_&&await async function(s,r){if(function(a){return vj(a)&&a!==L.ABORTED}(r.code)){const i=s.Ta.shift();Wr(s).B_(),await Uj(s,()=>s.remoteSyncer.rejectFailedWrite(i.batchId,r)),await Bf(s)}}(t,e),zj(t)&&Bj(t)}async function y_(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),G(Yi,"RemoteStore received new credentials");const s=sa(n);n.Ea.add(3),await hu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await zf(n)}async function f8(t,e){const n=te(t);e?(n.Ea.delete(2),await zf(n)):e||(n.Ea.add(2),await hu(n),n.Ra.set("Unknown"))}function Uo(t){return t.ma||(t.ma=function(n,s,r){const i=te(n);return i.sa(),new XL(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Xo:s8.bind(null,t),t_:r8.bind(null,t),r_:i8.bind(null,t),H_:a8.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),xx(t)?yx(t):t.Ra.set("Unknown")):(await t.ma.stop(),Lj(t))})),t.ma}function Wr(t){return t.fa||(t.fa=function(n,s,r){const i=te(n);return i.sa(),new JL(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:c8.bind(null,t),r_:d8.bind(null,t),ta:u8.bind(null,t),na:h8.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Bf(t)):(await t.fa.stop(),t.Ta.length>0&&(G(Yi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,i){const a=Date.now()+s,l=new vx(e,n,a,r,i);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bx(t,e){if(Gs("AsyncQueue",`${e}: ${t}`),Vo(t))return new q(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{static emptySet(e){return new Ka(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Y.comparator(n.key,s.key):(n,s)=>Y.comparator(n.key,s.key),this.keyedMap=jl(),this.sortedSet=new Ge(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ka)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ka;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(){this.ga=new Ge(Y.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):W(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class go{constructor(e,n,s,r,i,a,l,c,h){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,s,r,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new go(e,n,Ka.emptySet(n),a,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class p8{constructor(){this.queries=v_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=te(n),i=r.queries;r.queries=v_(),i.forEach((a,l)=>{for(const c of l.Sa)c.onError(s)})})(this,new q(L.ABORTED,"Firestore shutting down"))}}function v_(){return new na(t=>ij(t),Df)}async function wx(t,e){const n=te(t);let s=3;const r=e.query;let i=n.queries.get(r);i?!i.ba()&&e.Da()&&(s=2):(i=new m8,s=e.Da()?0:1);try{switch(s){case 0:i.wa=await n.onListen(r,!0);break;case 1:i.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=bx(a,`Initialization of query '${ya(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Tx(n)}async function _x(t,e){const n=te(t),s=e.query;let r=3;const i=n.queries.get(s);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?r=e.Da()?0:1:!i.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function g8(t,e){const n=te(t);let s=!1;for(const r of e){const i=r.query,a=n.queries.get(i);if(a){for(const l of a.Sa)l.Fa(r)&&(s=!0);a.wa=r}}s&&Tx(n)}function y8(t,e,n){const s=te(t),r=s.queries.get(e);if(r)for(const i of r.Sa)i.onError(n);s.queries.delete(e)}function Tx(t){t.Ca.forEach(e=>{e.next()})}var iy,b_;(b_=iy||(iy={})).Ma="default",b_.Cache="cache";class Ex{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new go(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==iy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e){this.key=e}}class qj{constructor(e){this.key=e}}class x8{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ce(),this.mutatedKeys=ce(),this.eu=aj(e),this.tu=new Ka(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new x_,r=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,f)=>{const m=r.get(d),g=kf(this.query,f)?f:null,b=!!m&&this.mutatedKeys.has(m.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;m&&g?m.data.isEqual(g.data)?b!==E&&(s.track({type:3,doc:g}),S=!0):this.su(m,g)||(s.track({type:2,doc:g}),S=!0,(c&&this.eu(g,c)>0||h&&this.eu(g,h)<0)&&(l=!0)):!m&&g?(s.track({type:0,doc:g}),S=!0):m&&!g&&(s.track({type:1,doc:m}),S=!0,(c||h)&&(l=!0)),S&&(g?(a=a.add(g),i=E?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),s.track({type:1,doc:d})}return{tu:a,iu:s,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((d,f)=>function(g,b){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W(20277,{Rt:S})}};return E(g)-E(b)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(s),r=r??!1;const l=n&&!r?this._u():[],c=this.Xa.size===0&&this.current&&!r?1:0,h=c!==this.Za;return this.Za=c,a.length!==0||h?{snapshot:new go(this.query,e.tu,i,a,e.mutatedKeys,c===0,h,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new x_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ce(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new qj(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new Fj(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=ce();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Nx="SyncEngine";class v8{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class b8{constructor(e){this.key=e,this.hu=!1}}class w8{constructor(e,n,s,r,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new na(l=>ij(l),Df),this.Iu=new Map,this.Eu=new Set,this.du=new Ge(Y.comparator),this.Au=new Map,this.Ru=new ux,this.Vu={},this.mu=new Map,this.fu=po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _8(t,e,n=!0){const s=Kj(t);let r;const i=s.Tu.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.lu()):r=await Hj(s,e,n,!0),r}async function T8(t,e){const n=Kj(t);await Hj(n,e,!0,!1)}async function Hj(t,e,n,s){const r=await qL(t.localStore,is(e)),i=r.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return s&&(l=await E8(t,e,i,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&Oj(t.remoteStore,r),l}async function E8(t,e,n,s,r){t.pu=(f,m,g)=>async function(E,S,x,v){let _=S.view.ru(x);_.Cs&&(_=await d_(E.localStore,S.query,!1).then(({documents:N})=>S.view.ru(N,_)));const C=v&&v.targetChanges.get(S.targetId),D=v&&v.targetMismatches.get(S.targetId)!=null,P=S.view.applyChanges(_,E.isPrimaryClient,C,D);return __(E,S.targetId,P.au),P.snapshot}(t,f,m,g);const i=await d_(t.localStore,e,!0),a=new x8(e,i.Qs),l=a.ru(i.documents),c=uu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),h=a.applyChanges(l,t.isPrimaryClient,c);__(t,n,h.au);const d=new v8(e,n,a);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function N8(t,e,n){const s=te(t),r=s.Tu.get(e),i=s.Iu.get(r.targetId);if(i.length>1)return s.Iu.set(r.targetId,i.filter(a=>!Df(a,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await sy(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&px(s.remoteStore,r.targetId),ay(s,r.targetId)}).catch(Oo)):(ay(s,r.targetId),await sy(s.localStore,r.targetId,!0))}async function S8(t,e){const n=te(t),s=n.Tu.get(e),r=n.Iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),px(n.remoteStore,s.targetId))}async function A8(t,e,n){const s=k8(t);try{const r=await function(a,l){const c=te(a),h=Oe.now(),d=l.reduce((g,b)=>g.add(b.key),ce());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=$s(),E=ce();return c.Ns.getEntries(g,d).next(S=>{b=S,b.forEach((x,v)=>{v.isValidDocument()||(E=E.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,b)).next(S=>{f=S;const x=[];for(const v of l){const _=H9(v,f.get(v.key).overlayedDocument);_!=null&&x.push(new li(v.key,_,XA(_.value.mapValue),Ct.exists(!0)))}return c.mutationQueue.addMutationBatch(g,h,x,l)}).next(S=>{m=S;const x=S.applyToLocalDocumentSet(f,E);return c.documentOverlayCache.saveOverlays(g,S.batchId,x)})}).then(()=>({batchId:m.batchId,changes:lj(f)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(a,l,c){let h=a.Vu[a.currentUser.toKey()];h||(h=new Ge(le)),h=h.insert(l,c),a.Vu[a.currentUser.toKey()]=h}(s,r.batchId,n),await du(s,r.changes),await Bf(s.remoteStore)}catch(r){const i=bx(r,"Failed to persist write");n.reject(i)}}async function Gj(t,e){const n=te(t);try{const s=await zL(n.localStore,e);e.targetChanges.forEach((r,i)=>{const a=n.Au.get(i);a&&(me(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.hu=!0:r.modifiedDocuments.size>0?me(a.hu,14607):r.removedDocuments.size>0&&(me(a.hu,42227),a.hu=!1))}),await du(n,s,e)}catch(s){await Oo(s)}}function w_(t,e,n){const s=te(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Tu.forEach((i,a)=>{const l=a.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){const c=te(a);c.onlineState=l;let h=!1;c.queries.forEach((d,f)=>{for(const m of f.Sa)m.va(l)&&(h=!0)}),h&&Tx(c)}(s.eventManager,e),r.length&&s.Pu.H_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function j8(t,e,n){const s=te(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Au.get(e),i=r&&r.key;if(i){let a=new Ge(Y.comparator);a=a.insert(i,xt.newNoDocument(i,J.min()));const l=ce().add(i),c=new Lf(J.min(),new Map,new Ge(le),a,l);await Gj(s,c),s.du=s.du.remove(i),s.Au.delete(e),Sx(s)}else await sy(s.localStore,e,!1).then(()=>ay(s,e,n)).catch(Oo)}async function C8(t,e){const n=te(t),s=e.batch.batchId;try{const r=await UL(n.localStore,e);Yj(n,s,null),$j(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await du(n,r)}catch(r){await Oo(r)}}async function R8(t,e,n){const s=te(t);try{const r=await function(a,l){const c=te(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return c.mutationQueue.lookupMutationBatch(h,l).next(f=>(me(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(h,f))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>c.localDocuments.getDocuments(h,d))})}(s.localStore,e);Yj(s,e,n),$j(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await du(s,r)}catch(r){await Oo(r)}}function $j(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Yj(t,e,n){const s=te(t);let r=s.Vu[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.Vu[s.currentUser.toKey()]=r}}function ay(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||Qj(t,s)})}function Qj(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(px(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Sx(t))}function __(t,e,n){for(const s of n)s instanceof Fj?(t.Ru.addReference(s.key,e),I8(t,s)):s instanceof qj?(G(Nx,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||Qj(t,s.key)):W(19791,{wu:s})}function I8(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(G(Nx,"New document in limbo: "+n),t.Eu.add(s),Sx(t))}function Sx(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Y(Ne.fromString(e)),s=t.fu.next();t.Au.set(s,new b8(n)),t.du=t.du.insert(n,s),Oj(t.remoteStore,new Er(is(Mf(n.path)),s,"TargetPurposeLimboResolution",Rf.ce))}}async function du(t,e,n){const s=te(t),r=[],i=[],a=[];s.Tu.isEmpty()||(s.Tu.forEach((l,c)=>{a.push(s.pu(c,e,n).then(h=>{var d;if((h||n)&&s.isPrimaryClient){const f=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;s.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(h){r.push(h);const f=dx.As(c.targetId,h);i.push(f)}}))}),await Promise.all(a),s.Pu.H_(r),await async function(c,h){const d=te(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>z.forEach(h,m=>z.forEach(m.Es,g=>d.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>z.forEach(m.ds,g=>d.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!Vo(f))throw f;G(fx,"Failed to update sequence numbers: "+f)}for(const f of h){const m=f.targetId;if(!f.fromCache){const g=d.Ms.get(m),b=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(b);d.Ms=d.Ms.insert(m,E)}}}(s.localStore,i))}async function M8(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){G(Nx,"User change. New user:",e.toKey());const s=await Dj(n.localStore,e);n.currentUser=e,function(i,a){i.mu.forEach(l=>{l.forEach(c=>{c.reject(new q(L.CANCELLED,a))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await du(n,s.Ls)}}function D8(t,e){const n=te(t),s=n.Au.get(e);if(s&&s.hu)return ce().add(s.key);{let r=ce();const i=n.Iu.get(e);if(!i)return r;for(const a of i){const l=n.Tu.get(a);r=r.unionWith(l.view.nu)}return r}}function Kj(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=j8.bind(null,e),e.Pu.H_=g8.bind(null,e.eventManager),e.Pu.yu=y8.bind(null,e.eventManager),e}function k8(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=R8.bind(null,e),e}class Ud{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return LL(this.persistence,new PL,e.initialUser,this.serializer)}Cu(e){return new Mj(hx.mi,this.serializer)}Du(e){return new GL}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ud.provider={build:()=>new Ud};class P8 extends Ud{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){me(this.persistence.referenceDelegate instanceof Vd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new bL(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new Mj(s=>Vd.mi(s,n),this.serializer)}}class oy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>w_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=M8.bind(null,this.syncEngine),await f8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new p8}()}createDatastore(e){const n=Uf(e.databaseInfo.databaseId),s=function(i){return new WL(i)}(e.databaseInfo);return function(i,a,l,c){return new e8(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,r,i,a,l){return new n8(s,r,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>w_(this.syncEngine,n,0),function(){return p_.v()?new p_:new $L}())}createSyncEngine(e,n){return function(r,i,a,l,c,h,d){const f=new w8(r,i,a,l,c,h);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const i=te(r);G(Yi,"RemoteStore shutting down."),i.Ea.add(5),await hu(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}oy.provider={build:()=>new oy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Gs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new q(L.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(r,i){const a=te(r),l={documents:i.map(f=>Od(a.serializer,f))},c=await a.Ho("BatchGetDocuments",a.serializer.databaseId,Ne.emptyPath(),l,i.length),h=new Map;c.forEach(f=>{const m=sL(a.serializer,f);h.set(m.key.toString(),m)});const d=[];return i.forEach(f=>{const m=h.get(f.toString());me(!!m,55234,{key:f}),d.push(m)}),d}(this.datastore,e);return n.forEach(s=>this.recordVersion(s)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,s)=>{const r=Y.fromPath(s);this.mutations.push(new xj(r,this.precondition(r)))}),await async function(s,r){const i=te(s),a={writes:r.map(l=>Aj(i.serializer,l))};await i.Go("Commit",i.serializer.databaseId,Ne.emptyPath(),a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw W(50498,{Gu:e.constructor.name});n=J.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new q(L.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(J.min())?Ct.exists(!1):Ct.updateTime(n):Ct.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(J.min()))throw new q(L.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ct.updateTime(n)}return Ct.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e,n,s,r,i){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=r,this.deferred=i,this.zu=s.maxAttempts,this.M_=new mx(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new O8(this.datastore),n=this.Hu(e);n&&n.then(s=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(s)}).catch(r=>{this.Yu(r)}))}).catch(s=>{this.Yu(s)})})}Hu(e){try{const n=this.updateFunction(e);return!lu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!vj(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="FirestoreClient";class L8{constructor(e,n,s,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=Vt.UNAUTHENTICATED,this.clientId=Z0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,async a=>{G(Xr,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(s,a=>(G(Xr,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=bx(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function wp(t,e){t.asyncQueue.verifyOperationInProgress(),G(Xr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await Dj(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function T_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await U8(t);G(Xr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>y_(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>y_(e.remoteStore,r)),t._onlineComponents=e}async function U8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(Xr,"Using user provided OfflineComponentProvider");try{await wp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===L.FAILED_PRECONDITION||r.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await wp(t,new Ud)}}else G(Xr,"Using default OfflineComponentProvider"),await wp(t,new P8(void 0));return t._offlineComponents}async function jx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(Xr,"Using user provided OnlineComponentProvider"),await T_(t,t._uninitializedComponentsProvider._online)):(G(Xr,"Using default OnlineComponentProvider"),await T_(t,new oy))),t._onlineComponents}function z8(t){return jx(t).then(e=>e.syncEngine)}function B8(t){return jx(t).then(e=>e.datastore)}async function zd(t){const e=await jx(t),n=e.eventManager;return n.onListen=_8.bind(null,e.syncEngine),n.onUnlisten=N8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=T8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=S8.bind(null,e.syncEngine),n}function F8(t,e,n={}){const s=new rs;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,h){const d=new Ax({next:m=>{d.Nu(),a.enqueueAndForget(()=>_x(i,f));const g=m.docs.has(l);!g&&m.fromCache?h.reject(new q(L.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?h.reject(new q(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),f=new Ex(Mf(l.path),d,{includeMetadataChanges:!0,qa:!0});return wx(i,f)}(await zd(t),t.asyncQueue,e,n,s)),s.promise}function q8(t,e,n={}){const s=new rs;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,h){const d=new Ax({next:m=>{d.Nu(),a.enqueueAndForget(()=>_x(i,f)),m.fromCache&&c.source==="server"?h.reject(new q(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(m)},error:m=>h.reject(m)}),f=new Ex(l,d,{includeMetadataChanges:!0,qa:!0});return wx(i,f)}(await zd(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj="firestore.googleapis.com",N_=!0;class S_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new q(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xj,this.ssl=N_}else this.host=e.host,this.ssl=e.ssl??N_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ij;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xL)throw new q(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wj(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ff{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new KV;switch(s.type){case"firstParty":return new ZV(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new q(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=E_.get(n);s&&(G("ComponentProvider","Removing Datastore"),E_.delete(n),s.terminate())}(this),Promise.resolve()}}function H8(t,e,n,s={}){var h;t=Gt(t,Ff);const r=Mo(e),i=t._getSettings(),a={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&(HS(`https://${l}`),GS("Firestore",!0)),i.host!==Xj&&i.host!==l&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:r,emulatorOptions:s};if(!Gr(c,a)&&(t._setSettings(c),s.mockUserToken)){let d,f;if(typeof s.mockUserToken=="string")d=s.mockUserToken,f=Vt.MOCK_USER;else{d=ok(s.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const m=s.mockUserToken.sub||s.mockUserToken.user_id;if(!m)throw new q(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Vt(m)}t._authCredentials=new WV(new UA(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ci(this.firestore,e,this._query)}}class He{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new He(this.firestore,e,this._key)}toJSON(){return{type:He._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ou(n,He._jsonSchema))return new He(e,s||null,new Y(Ne.fromString(n.referencePath)))}}He._jsonSchemaVersion="firestore/documentReference/1.0",He._jsonSchema={type:ot("string",He._jsonSchemaVersion),referencePath:ot("string")};class Lr extends ci{constructor(e,n,s){super(e,n,Mf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new He(this.firestore,null,new Y(e))}withConverter(e){return new Lr(this.firestore,e,this._path)}}function Zt(t,e,...n){if(t=We(t),zA("collection","path",e),t instanceof Ff){const s=Ne.fromString(e,...n);return Uw(s),new Lr(t,null,s)}{if(!(t instanceof He||t instanceof Lr))throw new q(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ne.fromString(e,...n));return Uw(s),new Lr(t.firestore,null,s)}}function It(t,e,...n){if(t=We(t),arguments.length===1&&(e=Z0.newId()),zA("doc","path",e),t instanceof Ff){const s=Ne.fromString(e,...n);return Lw(s),new He(t,null,new Y(s))}{if(!(t instanceof He||t instanceof Lr))throw new q(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ne.fromString(e,...n));return Lw(s),new He(t.firestore,t instanceof Lr?t.converter:null,new Y(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="AsyncQueue";class j_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mx(this,"async_queue_retry"),this._c=()=>{const s=bp();s&&G(A_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=bp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=bp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new rs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Vo(e))throw e;G(A_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Gs("INTERNAL UNHANDLED ERROR: ",C_(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=vx.createAndSchedule(this,e,n,s,i=>this.hc(i));return this.tc.push(r),r}uc(){this.nc&&W(47125,{Pc:C_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function C_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(t){return function(n,s){if(typeof n!="object"||n===null)return!1;const r=n;for(const i of s)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class hs extends Ff{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new j_,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new j_(e),this._firestoreClient=void 0,await e}}}function G8(t,e){const n=typeof t=="object"?t:KS(),s=typeof t=="string"?t:Md,r=F0(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=ik("firestore");i&&H8(r,...i)}return r}function fu(t){if(t._terminated)throw new q(L.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$8(t),t._firestoreClient}function $8(t){var s,r,i;const e=t._freezeSettings(),n=function(l,c,h,d){return new g9(l,c,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Wj(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new L8(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ln(Dt.fromBase64String(e))}catch(n){throw new q(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ln(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ou(e,ln._jsonSchema))return ln.fromBase64String(e.bytes)}}ln._jsonSchemaVersion="firestore/bytes/1.0",ln._jsonSchema={type:ot("string",ln._jsonSchemaVersion),bytes:ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:as._jsonSchemaVersion}}static fromJSON(e){if(ou(e,as._jsonSchema))return new as(e.latitude,e.longitude)}}as._jsonSchemaVersion="firestore/geoPoint/1.0",as._jsonSchema={type:ot("string",as._jsonSchemaVersion),latitude:ot("number"),longitude:ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:os._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ou(e,os._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new os(e.vectorValues);throw new q(L.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}os._jsonSchemaVersion="firestore/vectorValue/1.0",os._jsonSchema={type:ot("string",os._jsonSchemaVersion),vectorValues:ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8=/^__.*__$/;class Q8{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new li(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}class Jj{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new li(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Zj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W(40011,{Ac:t})}}class qf{constructor(e,n,s,r,i,a){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new qf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Bd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Zj(this.Ac)&&Y8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class K8{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Uf(e)}Cc(e,n,s,r=!1){return new qf({Ac:e,methodName:n,Dc:s,path:jt.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pu(t){const e=t._freezeSettings(),n=Uf(t._databaseId);return new K8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Cx(t,e,n,s,r,i={}){const a=t.Cc(i.merge||i.mergeFields?2:0,e,n,r);Dx("Data must be an object, but it was:",a,s);const l=nC(s,a);let c,h;if(i.merge)c=new un(a.fieldMask),h=a.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const m=ly(e,f,n);if(!a.contains(m))throw new q(L.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);rC(d,m)||d.push(m)}c=new un(d),h=a.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,h=a.fieldTransforms;return new Q8(new qt(l),c,h)}class Hf extends zo{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hf}}function W8(t,e,n){return new qf({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Rx extends zo{_toFieldTransform(e){return new ax(e.path,new Rc)}isEqual(e){return e instanceof Rx}}class Ix extends zo{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=W8(this,e,!0),s=this.vc.map(i=>Bo(i,n)),r=new mo(s);return new ax(e.path,r)}isEqual(e){return e instanceof Ix&&Gr(this.vc,e.vc)}}class Mx extends zo{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Mc(e.serializer,hj(e.serializer,this.Fc));return new ax(e.path,n)}isEqual(e){return e instanceof Mx&&this.Fc===e.Fc}}function eC(t,e,n,s){const r=t.Cc(1,e,n);Dx("Data must be an object, but it was:",r,s);const i=[],a=qt.empty();oi(s,(c,h)=>{const d=kx(e,c,n);h=We(h);const f=r.yc(d);if(h instanceof Hf)i.push(d);else{const m=Bo(h,f);m!=null&&(i.push(d),a.set(d,m))}});const l=new un(i);return new Jj(a,l,r.fieldTransforms)}function tC(t,e,n,s,r,i){const a=t.Cc(1,e,n),l=[ly(e,s,n)],c=[r];if(i.length%2!=0)throw new q(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(ly(e,i[m])),c.push(i[m+1]);const h=[],d=qt.empty();for(let m=l.length-1;m>=0;--m)if(!rC(h,l[m])){const g=l[m];let b=c[m];b=We(b);const E=a.yc(g);if(b instanceof Hf)h.push(g);else{const S=Bo(b,E);S!=null&&(h.push(g),d.set(g,S))}}const f=new un(h);return new Jj(d,f,a.fieldTransforms)}function X8(t,e,n,s=!1){return Bo(n,t.Cc(s?4:3,e))}function Bo(t,e){if(sC(t=We(t)))return Dx("Unsupported field value:",e,t),nC(t,e);if(t instanceof zo)return function(s,r){if(!Zj(r.Ac))throw r.Sc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,r){const i=[];let a=0;for(const l of s){let c=Bo(l,r.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(s,r){if((s=We(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return hj(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=Oe.fromDate(s);return{timestampValue:Pd(r.serializer,i)}}if(s instanceof Oe){const i=new Oe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Pd(r.serializer,i)}}if(s instanceof as)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ln)return{bytesValue:Tj(r.serializer,s._byteString)};if(s instanceof He){const i=r.databaseId,a=s.firestore._databaseId;if(!a.isEqual(i))throw r.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:cx(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof os)return function(a,l){return{mapValue:{fields:{[KA]:{stringValue:WA},[Dd]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.Sc("VectorValues must only contain numeric values.");return ix(l.serializer,h)})}}}}}}(s,r);throw r.Sc(`Unsupported field value: ${Cf(s)}`)}(t,e)}function nC(t,e){const n={};return qA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oi(t,(s,r)=>{const i=Bo(r,e.mc(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function sC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Oe||t instanceof as||t instanceof ln||t instanceof He||t instanceof zo||t instanceof os)}function Dx(t,e,n){if(!sC(n)||!BA(n)){const s=Cf(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function ly(t,e,n){if((e=We(e))instanceof mu)return e._internalPath;if(typeof e=="string")return kx(t,e);throw Bd("Field path arguments must be of type string or ",t,!1,void 0,n)}const J8=new RegExp("[~\\*/\\[\\]]");function kx(t,e,n){if(e.search(J8)>=0)throw Bd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mu(...e.split("."))._internalPath}catch{throw Bd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bd(t,e,n,s,r){const i=s&&!s.isEmpty(),a=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${s}`),a&&(c+=` in document ${r}`),c+=")"),new q(L.INVALID_ARGUMENT,l+t+c)}function rC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Z8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Z8 extends Fd{data(){return super.data()}}function Gf(t,e){return typeof e=="string"?kx(t,e):e instanceof mu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Px{}class aC extends Px{}function ds(t,e,...n){let s=[];e instanceof Px&&s.push(e),s=s.concat(n),function(i){const a=i.filter(c=>c instanceof Vx).length,l=i.filter(c=>c instanceof $f).length;if(a>1||a>0&&l>0)throw new q(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const r of s)t=r._apply(t);return t}class $f extends aC{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new $f(e,n,s)}_apply(e){const n=this._parse(e);return oC(e._query,n),new ci(e.firestore,e.converter,Jg(e._query,n))}_parse(e){const n=pu(e.firestore);return function(i,a,l,c,h,d,f){let m;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new q(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){M_(f,d);const b=[];for(const E of f)b.push(I_(c,i,E));m={arrayValue:{values:b}}}else m=I_(c,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||M_(f,d),m=X8(l,a,f,d==="in"||d==="not-in");return it.create(h,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ox(t,e,n){const s=e,r=Gf("where",t);return $f._create(r,s,n)}class Vx extends Px{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Vx(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let a=r;const l=i.getFlattenedFilters();for(const c of l)oC(a,c),a=Jg(a,c)}(e._query,n),new ci(e.firestore,e.converter,Jg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lx extends aC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Lx(e,n)}_apply(e){const n=function(r,i,a){if(r.startAt!==null)throw new q(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new q(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cc(i,a)}(e._query,this._field,this._direction);return new ci(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Lo(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function gu(t,e="asc"){const n=e,s=Gf("orderBy",t);return Lx._create(s,n)}function I_(t,e,n){if(typeof(n=We(n))=="string"){if(n==="")throw new q(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rj(e)&&n.indexOf("/")!==-1)throw new q(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Ne.fromString(n));if(!Y.isDocumentKey(s))throw new q(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Yw(t,new Y(s))}if(n instanceof He)return Yw(t,n._key);throw new q(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cf(n)}.`)}function M_(t,e){if(!Array.isArray(t)||t.length===0)throw new q(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oC(t,e){const n=function(r,i){for(const a of r)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class lC{convertValue(e,n="none"){switch(Kr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw W(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return oi(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertVectorValue(e){var s,r,i;const n=(i=(r=(s=e.fields)==null?void 0:s[Dd].arrayValue)==null?void 0:r.values)==null?void 0:i.map(a=>Je(a.doubleValue));return new os(n)}convertGeoPoint(e){return new as(Je(e.latitude),Je(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=If(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Sc(e));default:return null}}convertTimestamp(e){const n=Yr(e);return new Oe(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ne.fromString(e);me(Rj(s),9688,{name:e});const r=new Ac(s.get(1),s.get(3)),i=new Y(s.popFirst(5));return r.isEqual(n)||Gs(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class eU extends lC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ln(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new He(this.firestore,null,n)}}class Da{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ur extends Fd{constructor(e,n,s,r,i,a){super(e,n,s,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Gf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(L.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ur._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ur._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ur._jsonSchema={type:ot("string",Ur._jsonSchemaVersion),bundleSource:ot("string","DocumentSnapshot"),bundleName:ot("string"),bundle:ot("string")};class Uh extends Ur{data(e={}){return super.data(e)}}class Oi{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Da(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Uh(this._firestore,this._userDataWriter,s.key,s,new Da(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const c=new Uh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Da(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Uh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Da(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:tU(l.type),doc:c,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(L.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Oi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Z0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),s.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),r.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(t){t=Gt(t,He);const e=Gt(t.firestore,hs);return F8(fu(e),t._key).then(n=>uC(e,t,n))}Oi._jsonSchemaVersion="firestore/querySnapshot/1.0",Oi._jsonSchema={type:ot("string",Oi._jsonSchemaVersion),bundleSource:ot("string","QuerySnapshot"),bundleName:ot("string"),bundle:ot("string")};class Yf extends lC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ln(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new He(this.firestore,null,n)}}function Jr(t){t=Gt(t,ci);const e=Gt(t.firestore,hs),n=fu(e),s=new Yf(e);return iC(t._query),q8(n,t._query).then(r=>new Oi(e,s,t,r))}function cC(t,e,n){t=Gt(t,He);const s=Gt(t.firestore,hs),r=Ux(t.converter,e,n);return Qf(s,[Cx(pu(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Ct.none())])}function Zr(t,e,n,...s){t=Gt(t,He);const r=Gt(t.firestore,hs),i=pu(r);let a;return a=typeof(e=We(e))=="string"||e instanceof mu?tC(i,"updateDoc",t._key,e,n,s):eC(i,"updateDoc",t._key,e),Qf(r,[a.toMutation(t._key,Ct.exists(!0))])}function sU(t){return Qf(Gt(t.firestore,hs),[new Vf(t._key,Ct.none())])}function yu(t,e){const n=Gt(t.firestore,hs),s=It(t),r=Ux(t.converter,e);return Qf(n,[Cx(pu(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,Ct.exists(!1))]).then(()=>s)}function xu(t,...e){var c,h,d;t=We(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||R_(e[s])||(n=e[s++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(R_(e[s])){const f=e[s];e[s]=(c=f.next)==null?void 0:c.bind(f),e[s+1]=(h=f.error)==null?void 0:h.bind(f),e[s+2]=(d=f.complete)==null?void 0:d.bind(f)}let i,a,l;if(t instanceof He)a=Gt(t.firestore,hs),l=Mf(t._key.path),i={next:f=>{e[s]&&e[s](uC(a,t,f))},error:e[s+1],complete:e[s+2]};else{const f=Gt(t,ci);a=Gt(f.firestore,hs),l=f._query;const m=new Yf(a);i={next:g=>{e[s]&&e[s](new Oi(a,m,f,g))},error:e[s+1],complete:e[s+2]},iC(t._query)}return function(m,g,b,E){const S=new Ax(E),x=new Ex(g,S,b);return m.asyncQueue.enqueueAndForget(async()=>wx(await zd(m),x)),()=>{S.Nu(),m.asyncQueue.enqueueAndForget(async()=>_x(await zd(m),x))}}(fu(a),l,r,i)}function Qf(t,e){return function(s,r){const i=new rs;return s.asyncQueue.enqueueAndForget(async()=>A8(await z8(s),r,i)),i.promise}(fu(t),e)}function uC(t,e,n){const s=n.docs.get(e._key),r=new Yf(t);return new Ur(t,r,e._key,s,new Da(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU={maxAttempts:5};function Rl(t,e){if((t=We(t)).firestore!==e)throw new q(L.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=pu(e)}get(e){const n=Rl(e,this._firestore),s=new eU(this._firestore);return this._transaction.lookup([n._key]).then(r=>{if(!r||r.length!==1)return W(24041);const i=r[0];if(i.isFoundDocument())return new Fd(this._firestore,s,i.key,i,n.converter);if(i.isNoDocument())return new Fd(this._firestore,s,n._key,null,n.converter);throw W(18433,{doc:i})})}set(e,n,s){const r=Rl(e,this._firestore),i=Ux(r.converter,n,s),a=Cx(this._dataReader,"Transaction.set",r._key,i,r.converter!==null,s);return this._transaction.set(r._key,a),this}update(e,n,s,...r){const i=Rl(e,this._firestore);let a;return a=typeof(n=We(n))=="string"||n instanceof mu?tC(this._dataReader,"Transaction.update",i._key,n,s,r):eC(this._dataReader,"Transaction.update",i._key,n),this._transaction.update(i._key,a),this}delete(e){const n=Rl(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU extends iU{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Rl(e,this._firestore),s=new Yf(this._firestore);return super.get(e).then(r=>new Ur(this._firestore,s,n._key,r._document,new Da(!1,!1),n.converter))}}function oU(t,e,n){t=Gt(t,hs);const s={...rU,...n};return function(i){if(i.maxAttempts<1)throw new q(L.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(i,a,l){const c=new rs;return i.asyncQueue.enqueueAndForget(async()=>{const h=await B8(i);new V8(i.asyncQueue,h,l,a,c).ju()}),c.promise}(fu(t),r=>e(new aU(t,r)),s)}function qd(){return new Rx("serverTimestamp")}function hC(...t){return new Ix("arrayUnion",t)}function ji(t){return new Mx("increment",t)}(function(e,n=!0){(function(r){Po=r})(Do),lo(new qi("firestore",(s,{instanceIdentifier:r,options:i})=>{const a=s.getProvider("app").getImmediate(),l=new hs(new XV(s.getProvider("auth-internal")),new e9(a,s.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new q(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ac(h.options.projectId,d)}(a,r),a);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Or(kw,Pw,e),Or(kw,Pw,"esm2020")})();var lU="firebase",cU="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(lU,cU,"app");const uU={apiKey:"AIzaSyDzEay5fGB-2r5_V9UXOO8cOv-nJdHwDRg",authDomain:"rush-coffee.firebaseapp.com",projectId:"rush-coffee",storageBucket:"rush-coffee.firebasestorage.app",messagingSenderId:"423413538635",appId:"1:423413538635:web:ded0369f50c3a9086bd2ce"},dC=QS(uU),pl=YV(dC),ve=G8(dC),fC=T.createContext(void 0),On=()=>{const t=T.useContext(fC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},hU=({children:t})=>{const[e,n]=T.useState(null),[s,r]=T.useState(!0);T.useEffect(()=>{let f;const m=OO(pl,async g=>{if(f&&f(),g){const b=It(ve,"users",g.uid);f=xu(b,E=>{var S;if(E.exists()){const x=E.data(),v={uid:g.uid,email:g.email,firstName:x.firstName||"User",lastName:x.lastName||"",phone:x.phone||"",photoURL:x.photoURL,createdAt:((S=x.createdAt)==null?void 0:S.toDate())||new Date,role:x.role,totalOrders:x.totalOrders??0,totalSpent:x.totalSpent??0,currentPoints:x.currentPoints??0,lifetimePoints:x.lifetimePoints??0,tier:x.tier||"bronze",rewardsHistory:(x.rewardsHistory||[]).map(_=>({..._,date:_.date.toDate()})).sort((_,C)=>C.date-_.date),preferences:x.preferences||{notifications:{push:!0,emailUpdates:!0,marketing:!1},theme:"auto",privacy:{shareUsageData:!0,personalizedRecs:!0}}};n(v)}else n(null);r(!1)},E=>{console.error("Error listening to user document:",E),n(null),r(!1)})}else n(null),r(!1)});return()=>{m(),f&&f()}},[]);const d={currentUser:e,loading:s,register:async(f,m,g,b,E)=>{const x=(await IO(pl,f,m)).user,v={id:`rh-${Date.now()}`,type:"earned",points:25,description:"Welcome Bonus",date:new Date},_={firstName:g,lastName:b,phone:E||"",createdAt:new Date,totalOrders:0,totalSpent:0,currentPoints:25,lifetimePoints:25,tier:"bronze",rewardsHistory:[v],preferences:{notifications:{push:!0,emailUpdates:!0,marketing:!1},theme:"auto",privacy:{shareUsageData:!0,personalizedRecs:!0}},cart:[]};await cC(It(ve,"users",x.uid),_)},login:async(f,m,g)=>{await DO(pl,g?EA:K0),await MO(pl,f,m)},logout:async()=>{await VO(pl)},updateUserProfile:async f=>{if(!e)return;const m=It(ve,"users",e.uid);await Zr(m,f)},updateUserPhoto:async f=>{if(!e)return;const m=It(ve,"users",e.uid);await Zr(m,{photoURL:f})}};return o.jsx(fC.Provider,{value:d,children:!s&&t})},mC=[{id:"cb-01",name:"Spanish Latte",description:"A creamy and sweet latte with a Spanish twist, featuring condensed milk for a rich flavor.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:"https://images.unsplash.com/photo-1621289191399-074a1d134887?q=80&w=600",available:!0,stock:99,popular:!0,displayOrder:1,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:150},{ingredientId:"condensed-milk",quantity:30}]},{id:"cb-02",name:"Rush Coffee Blend",description:"Our signature house blend, perfectly balanced for a smooth and satisfying coffee experience.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:89}],imageUrl:"https://images.unsplash.com/photo-1589341323325-16c8f94685f8?q=80&w=600",available:!0,stock:99,popular:!0,displayOrder:2,recipe:[{ingredientId:"coffee-beans-blend",quantity:18},{ingredientId:"hot-water",quantity:200}]},{id:"cb-03",name:"Caramel Chocolate Mocha",description:"A decadent mix of rich chocolate, espresso, and creamy caramel for the ultimate treat.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:"https://images.unsplash.com/photo-1603803204918-a0833a6f3b25?q=80&w=600",available:!0,stock:99,popular:!0,displayOrder:3,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:150},{ingredientId:"chocolate-sauce",quantity:20},{ingredientId:"caramel-sauce",quantity:15}]},{id:"cb-04",name:"Dark Chocolate Mocha",description:"A bold and intense mocha experience with premium dark chocolate and strong espresso.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:"https://images.unsplash.com/photo-1542326588-e8a2455822ff?q=80&w=600",available:!0,stock:99,displayOrder:4},{id:"cb-05",name:"Mocha Latte",description:"A classic blend of smooth espresso, rich chocolate sauce, and steamed milk.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:"https://images.unsplash.com/photo-1623112142751-0a9981836104?q=80&w=600",available:!0,stock:99,displayOrder:5},{id:"cb-06",name:"Americano",description:"Bold espresso shots topped with hot water to create a light layer of crema.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:"https://images.unsplash.com/photo-1586348943529-beaae6c28db9?q=80&w=600",available:!0,stock:99,displayOrder:6},{id:"cb-07",name:"Biscoff Latte",description:"An indulgent latte infused with the irresistible flavor of caramelized Biscoff cookies.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:99},{name:"Venti",size:"22oz",price:199}],imageUrl:"https://images.unsplash.com/photo-1610890693148-e1db6f51f47a?q=80&w=600",available:!0,stock:99,displayOrder:7},{id:"cb-08",name:"Reeses Latte",description:"The perfect combination of peanut butter, chocolate, and espresso. A candy lover's dream.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:"https://images.unsplash.com/photo-1611082596937-293699a6d36f?q=80&w=600",available:!0,stock:99,displayOrder:8},{id:"cb-09",name:"Brown Sugar Latte",description:"A comforting latte sweetened with rich, molasses-like brown sugar syrup.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:79}],imageUrl:"https://images.unsplash.com/photo-1630449942323-28d11634a36f?q=80&w=600",available:!0,stock:99,displayOrder:9},{id:"cb-10",name:"Iced Latte",description:"A simple classic. Chilled espresso with cold milk served over ice.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:69}],imageUrl:"https://images.unsplash.com/photo-1589396520838-03c642278453?q=80&w=600",available:!0,stock:99,displayOrder:10},{id:"cb-11",name:"Orange Latte",description:"A unique and refreshing latte with a zesty hint of natural orange flavor.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:89}],imageUrl:"https://images.unsplash.com/photo-1610889556528-9a742f161427?q=80&w=600",available:!0,stock:99,displayOrder:11},{id:"cb-12",name:"Coffee Jelly",description:"A delightful iced coffee drink with chewy, coffee-flavored jelly cubes.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:99}],imageUrl:"https://images.unsplash.com/photo-1572498873426-9d6f3e0d2b7e?q=80&w=600",available:!0,stock:99,displayOrder:12},{id:"nc-01",name:"Red Velvet",description:"A sweet and creamy drink inspired by the classic red velvet cake, with hints of cocoa and vanilla.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:"https://images.unsplash.com/photo-1600718374662-0483d2b9da44?q=80&w=600",available:!0,stock:99,displayOrder:13},{id:"nc-02",name:"Red Velvet Matcha Latte",description:"A beautiful and delicious blend of earthy matcha and sweet red velvet flavors.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:"https://images.unsplash.com/photo-1563822558223-5a2a8adea614?q=80&w=600",available:!0,stock:99,displayOrder:14},{id:"nc-03",name:"Milky Choco",description:"A rich and comforting chocolate drink made with high-quality cocoa and fresh milk.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:"https://images.unsplash.com/photo-1542848523-2a4721a78736?q=80&w=600",available:!0,stock:99,displayOrder:15},{id:"nc-04",name:"Strawberry Milk",description:"A refreshing and creamy drink made with real strawberries and fresh milk.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:"https://images.unsplash.com/photo-1622171129302-1f486241a87e?q=80&w=600",available:!0,stock:99,displayOrder:16},{id:"nc-05",name:"Biscoff Milky",description:"A non-coffee treat blending the sweet, caramelized taste of Biscoff with creamy milk.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:"https://images.unsplash.com/photo-1596700249549-8055f1f99b24?q=80&w=600",available:!0,stock:99,displayOrder:17},{id:"nc-06",name:"Oreo Latte",description:"A fun and delicious drink packed with the classic cookies and cream flavor of Oreos.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:"https://images.unsplash.com/photo-1625194657116-2a9a11da4821?q=80&w=600",available:!0,stock:99,displayOrder:18},{id:"ms-01",name:"Matcha Latte",description:"Premium Japanese matcha green tea with steamed milk, a perfect balance of earthy and creamy.",category:"Matcha Series",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:89}],imageUrl:"https://images.unsplash.com/photo-1577968897966-3d4325b36def?q=80&w=600",available:!0,stock:99,popular:!0,displayOrder:19,recipe:[{ingredientId:"matcha-powder",quantity:5},{ingredientId:"milk",quantity:200}]},{id:"ms-02",name:"Strawberry Matcha",description:"A delightful pairing of sweet strawberry puree and high-quality matcha green tea.",category:"Matcha Series",sizes:[{name:"Grande",size:"16oz",price:99},{name:"Venti",size:"22oz",price:109}],imageUrl:"https://images.unsplash.com/photo-1615837197154-2e801f9bd236?q=80&w=600",available:!0,stock:99,displayOrder:20},{id:"ms-03",name:"Matcha Cream Cheese",description:"Earthy matcha topped with a rich, savory, and slightly sweet cream cheese foam.",category:"Matcha Series",sizes:[{name:"Grande",size:"16oz",price:99},{name:"Venti",size:"22oz",price:109}],imageUrl:"https://images.unsplash.com/photo-1587764353351-d4a4bca0f17e?q=80&w=600",available:!0,stock:99,displayOrder:21},{id:"ms-04",name:"Matcha Oreo",description:"A creative blend of matcha and crushed Oreo cookies for a unique texture and flavor.",category:"Matcha Series",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:"https://images.unsplash.com/photo-1562376556-a65529391005?q=80&w=600",available:!0,stock:99,displayOrder:22}],pC=T.createContext(void 0),Fo=()=>{const t=T.useContext(pC);if(!t)throw new Error("useProduct must be used within a ProductProvider");return t},dU=({children:t})=>{const[e,n]=T.useState([]),[s,r]=T.useState(!0),[i,a]=T.useState(null),l=T.useCallback(async()=>{r(!0);try{const m=Zt(ve,"products"),g=ds(m,gu("displayOrder","asc")),E=(await Jr(g)).docs.map(S=>({id:S.id,...S.data()}));n(E)}catch(m){console.error("Error fetching products from Firestore: ",m),a("Could not connect to the database. Please check your connection and try again."),n([])}finally{r(!1)}},[]);T.useEffect(()=>{(async()=>{const g=Zt(ve,"products");if((await Jr(ds(g))).empty){console.log("Products collection is empty. Seeding database...");try{const E=mC.map(S=>{const{id:x,...v}=S,_=It(g,x);return cC(_,v)});await Promise.all(E),console.log("Seeding complete.")}catch(E){console.error("Error seeding products:",E),a("Failed to seed the database."),r(!1);return}}await l()})()},[l]);const f={products:e,isLoading:s,error:i,addProduct:async m=>{try{await yu(Zt(ve,"products"),m),await l()}catch(g){throw console.error("Error adding product: ",g),new Error("Failed to add product.")}},updateProduct:async(m,g)=>{try{const b=It(ve,"products",m);await Zr(b,g),await l()}catch(b){throw console.error("Error updating product: ",b),new Error("Failed to update product.")}},deleteProduct:async m=>{try{const g=It(ve,"products",m);await sU(g),await l()}catch(g){throw console.error("Error deleting product: ",g),new Error("Failed to delete product.")}}};return o.jsx(pC.Provider,{value:f,children:t})},gC=T.createContext(void 0),nn=()=>{const t=T.useContext(gC);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t},fU=({children:t})=>{const[e,n]=T.useState([]),[s,r]=T.useState(!1),[i,a]=T.useState(null),[l,c]=T.useState(!0),{currentUser:h}=On(),{products:d,isLoading:f}=Fo();T.useEffect(()=>{if(i){const N=setTimeout(()=>a(null),4e3);return()=>clearTimeout(N)}},[i]);const m=T.useCallback(N=>{a(N)},[]);T.useEffect(()=>{h?(async()=>{var w;if(!(!h||f)){c(!0);try{const A=It(ve,"users",h.uid),R=await nU(A);if(R.exists()){const k=(((w=R.data())==null?void 0:w.cart)||[]).map(I=>{const $=d.find(B=>B.id===I.productId);if(!$)return null;const ye=$.sizes.find(B=>B.name===I.sizeName);return ye?{id:`${$.id}-${ye.name}`,product:$,selectedSize:ye,quantity:I.quantity}:null}).filter(I=>I!==null);n(k)}}catch(A){console.error("Error fetching cart from Firestore:",A),m("Couldn't load your cart.")}finally{c(!1)}}})():(n([]),c(!1))},[h,d,f,m]);const g=T.useCallback(async N=>{if(h)try{const w=It(ve,"users",h.uid),A=N.map(R=>({productId:R.product.id,sizeName:R.selectedSize.name,quantity:R.quantity}));await Zr(w,{cart:A})}catch(w){console.error("Error updating Firestore cart:",w),m("Error saving your cart.")}},[h,m]),b=T.useMemo(()=>e.reduce((N,w)=>N+w.quantity,0),[e]),E=()=>r(!0),P={cartItems:e,isCartOpen:s,toastMessage:i,totalCartItems:b,isCartLoading:l,addToCart:(N,w)=>{const A=`${N.id}-${w.name}`;let R;e.find(k=>k.id===A)?R=e.map(k=>k.id===A?{...k,quantity:Math.min(k.quantity+1,N.stock)}:k):R=[...e,{id:A,product:N,selectedSize:w,quantity:1}],n(R),g(R),m(`${N.name} (${w.name}) added to cart!`),E()},addMultipleToCart:N=>{if(!N||N.length===0)return;let w=[...e],A=0;N.forEach(R=>{const M=`${R.product.id}-${R.selectedSize.name}`,k=w.findIndex(I=>I.id===M);if(k>-1){const I=w[k],$=I.quantity+R.quantity;w[k]={...I,quantity:Math.min($,R.product.stock)}}else w.push({id:M,product:R.product,selectedSize:R.selectedSize,quantity:Math.min(R.quantity,R.product.stock)});A+=R.quantity}),n(w),g(w),m(`${A} item(s) added to your cart!`),E()},updateQuantity:(N,w)=>{let A;w<1?A=e.filter(R=>R.id!==N):A=e.map(R=>R.id===N?{...R,quantity:Math.min(w,R.product.stock)}:R),n(A),g(A)},removeFromCart:N=>{const w=e.find(R=>R.id===N),A=e.filter(R=>R.id!==N);n(A),g(A),w&&m(`${w.product.name} (${w.selectedSize.name}) removed from cart.`)},openCart:E,closeCart:()=>r(!1),showToast:m,clearCart:()=>{n([]),g([])}};return o.jsx(gC.Provider,{value:P,children:t})},bt=({className:t,...e})=>o.jsxs("svg",{viewBox:"0 0 241 175",xmlns:"http://www.w3.org/2000/svg",className:t,fill:"currentColor",...e,children:[o.jsx("path",{d:"M153.092 78.5C178.275 50.84 210.393 19.4076 222.5 17.5C234.607 15.5924 239.5 30 239.5 30C239.5 30 244.137 46.596 236.388 72.8253C228.64 99.0547 199 128.5 199 128.5C199 128.5 177.5 152.5 147.5 167C147.5 167 114.686 183.001 104.889 169.159C95.0912 155.316 127.909 106.16 153.092 78.5Z"}),o.jsx("path",{d:"M8.99445 86.0801C8.99445 86.0801 -16.2682 31.1886 17.8826 14.4198C33.7618 9.56756 76 55.675 76 64.5C76 70 63.7899 86.337 59 101.5C54.887 114.52 55.557 134.266 52.0896 135.774C48.0468 137.533 37.3644 137.835 8.99445 86.0801Z"}),o.jsx("path",{d:"M47 12.5C41.0274 7.52362 41.5502 -7.59339e-06 52.5 0C63.4498 7.5934e-06 69.3348 2.24286 82.0884 7.45282C95.3718 12.8792 105.888 16.4103 109.463 23.875C111.5 32.5 107.979 33.026 103.5 38.5C99.0205 43.9741 96 44.1666 91 43.5C83.5342 42.5047 52.9726 17.4764 47 12.5Z"}),o.jsx("path",{d:"M200.048 20.8891C212.988 11.4339 207.491 2.52815 200.048 2.97405C192.604 3.41995 127.379 9.72972 89.5542 67.6673C85.4261 73.9905 72.4385 95.2439 69.1452 112.455C65.6022 130.971 65.8681 149.097 73.6272 157.74C81.0528 166.012 88.1891 164.145 92.2823 156.482C96.4277 148.721 97.4982 135.065 100.004 127.882C104.983 113.605 104.907 116.382 109.393 106.379C114.278 95.4879 120.938 86.2377 126.993 78.4363C154.543 42.9442 190.775 27.6646 200.048 20.8891Z"})]}),mU=[{href:"/",label:"Home"},{href:"/about",label:"About"},{href:"/menu",label:"Menu"},{href:"/contact",label:"Contact"}],pU=[{href:"/menu",label:"Menu"},{href:"/queue",label:"Queue"},{href:"/rewards",label:"Rewards"}],D_=[{href:"/profile",label:"My Profile",Icon:Fs},{href:"/rewards",label:"My Rewards",Icon:bc},{href:"/about",label:"About",Icon:Z5},{href:"/contact",label:"Contact",Icon:Bs}],ht=()=>{const[t,e]=T.useState(!1),[n,s]=T.useState(!1),r=T.useRef(null),{currentUser:i,logout:a}=On(),{totalCartItems:l,openCart:c}=nn(),h=Qn(),d=i?pU:mU,f=()=>e(!1);T.useEffect(()=>{const S=x=>{r.current&&!r.current.contains(x.target)&&s(!1)};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]),T.useEffect(()=>{const S=()=>{window.innerWidth>=768&&e(!1)};return window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]),T.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]);const m=async()=>{await a(),f(),s(!1),h("/")},g=()=>e(!t),b=(S=!1)=>{const x="rounded-full text-sm font-semibold transition-colors",v="block w-full text-center py-3 text-base",_="px-6 py-2",C=S?f:void 0;return i?o.jsxs("div",{className:`relative ${S?"w-full":""}`,ref:r,children:[o.jsxs("button",{onClick:()=>s(!n),className:`flex w-full items-center justify-center gap-2 rounded-full border border-primary-600 px-4 py-2 text-sm font-semibold text-primary-600 transition-colors hover:bg-primary-50 ${S?"text-base":""}`,"aria-haspopup":"true","aria-expanded":n,children:[o.jsxs("span",{children:["Welcome, ",i.firstName,"!"]}),o.jsx(Zc,{className:`h-4 w-4 transition-transform ${n?"rotate-180":""}`})]}),n&&!S&&o.jsx("div",{className:"absolute right-0 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:o.jsxs("div",{className:"py-1",role:"menu","aria-orientation":"vertical",children:[D_.map(D=>o.jsxs(Tn,{to:D.href,onClick:()=>s(!1),className:({isActive:P})=>`flex items-center gap-3 px-4 py-2 text-sm transition-colors hover:bg-gray-100 ${P?"text-primary-600 font-semibold":"text-gray-700"}`,role:"menuitem",children:[o.jsx(D.Icon,{className:"h-4 w-4"}),D.label]},D.label)),i.role==="admin"&&o.jsxs(o.Fragment,{children:[o.jsx("hr",{className:"my-1"}),o.jsxs(Tn,{to:"/admin",onClick:()=>s(!1),className:"flex items-center gap-3 px-4 py-2 text-sm font-semibold text-yellow-700 transition-colors hover:bg-yellow-50",role:"menuitem",children:[o.jsx(wc,{className:"h-4 w-4"}),"Admin Dashboard"]})]}),o.jsx("hr",{className:"my-1"}),o.jsxs("button",{onClick:m,className:"flex w-full items-center gap-3 px-4 py-2 text-left text-sm text-red-600 transition-colors hover:bg-red-50",role:"menuitem",children:[o.jsx(tw,{className:"h-4 w-4"}),"Logout"]})]})})]}):o.jsxs("div",{className:`flex items-center ${S?"flex-col space-y-3":"gap-4"}`,children:[o.jsx(Tn,{to:"/auth/login",onClick:C,className:`${x} border border-primary-600 text-primary-600 hover:bg-primary-50 ${S?v:_}`,children:"Login"}),o.jsx(Tn,{to:"/auth/register",onClick:C,className:`${x} bg-primary-600 text-white shadow-sm hover:bg-primary-700 ${S?v:_}`,children:"Sign Up"})]})},E=()=>o.jsxs("button",{onClick:c,className:"relative rounded-full p-2 text-gray-700 transition hover:bg-gray-100","aria-label":`Open cart with ${l} items`,children:[o.jsx(U0,{className:"h-6 w-6"}),l>0&&o.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-xs font-bold text-white","aria-hidden":"true",children:l})]});return o.jsxs(o.Fragment,{children:[o.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-gray-200/80 bg-white/95 shadow-md backdrop-blur-sm",children:o.jsxs("div",{className:"container mx-auto flex h-20 items-center justify-between px-4 sm:px-6 lg:px-8",children:[o.jsxs(Tn,{to:"/",className:"flex items-center gap-2",children:[o.jsx(bt,{className:"h-8 w-8 text-primary-600"}),o.jsx("span",{className:"text-2xl font-bold text-primary-600",children:"Rush Coffee"})]}),o.jsx("nav",{className:"hidden items-center space-x-8 md:flex",children:d.map(S=>o.jsx(Tn,{to:S.href,className:({isActive:x})=>`text-base font-medium transition-colors hover:text-primary-600 ${x?"text-primary-600":"text-gray-700"}`,children:S.label},S.label))}),o.jsxs("div",{className:"hidden items-center gap-2 md:flex",children:[b(),i&&o.jsx(E,{})]}),o.jsxs("div",{className:"flex items-center gap-2 md:hidden",children:[i&&o.jsx(E,{}),o.jsx("button",{onClick:g,className:"rounded-md p-2 text-gray-700 transition hover:bg-gray-100","aria-label":"Toggle menu","aria-expanded":t,children:o.jsx(RS,{className:"h-6 w-6"})})]})]})}),o.jsxs("div",{className:`fixed inset-0 z-40 transform transition-opacity duration-300 md:hidden ${t?"opacity-100":"opacity-0 pointer-events-none"}`,children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:f,"aria-hidden":"true"}),o.jsxs("div",{className:`fixed top-0 right-0 flex h-full w-4/5 max-w-sm flex-col bg-white shadow-2xl transition-transform duration-300 ease-in-out ${t?"translate-x-0":"translate-x-full"}`,role:"dialog","aria-modal":"true","aria-labelledby":"mobile-menu-title",children:[o.jsxs("div",{className:"flex items-center justify-between border-b p-4",children:[o.jsxs(Tn,{to:"/",className:"flex items-center gap-2",onClick:f,children:[o.jsx(bt,{className:"h-7 w-7 text-primary-600"}),o.jsx("span",{id:"mobile-menu-title",className:"text-xl font-bold text-primary-600",children:"Rush Coffee"})]}),o.jsx("button",{onClick:f,className:"rounded-md p-2 text-gray-700 transition hover:bg-gray-100","aria-label":"Close menu",children:o.jsx(Ws,{className:"h-6 w-6"})})]}),o.jsxs("nav",{className:"flex flex-1 flex-col gap-4 overflow-y-auto p-4",children:[d.map(S=>o.jsx(Tn,{to:S.href,onClick:f,className:({isActive:x})=>`rounded-md px-3 py-2 text-lg font-medium transition-colors hover:bg-gray-100 ${x?"bg-primary-50 text-primary-600":"text-gray-800"}`,children:S.label},S.label)),i&&o.jsxs("div",{className:"border-t pt-4 mt-2",children:[D_.map(S=>o.jsxs(Tn,{to:S.href,onClick:f,className:({isActive:x})=>`flex items-center gap-3 rounded-md px-3 py-2 text-lg font-medium transition-colors hover:bg-gray-100 ${x?"bg-primary-50 text-primary-600":"text-gray-800"}`,children:[o.jsx(S.Icon,{className:"h-5 w-5"}),S.label]},S.label)),i.role==="admin"&&o.jsxs(Tn,{to:"/admin",onClick:f,className:({isActive:S})=>`flex items-center gap-3 rounded-md px-3 py-2 text-lg font-medium transition-colors hover:bg-yellow-50 ${S?"bg-yellow-100 text-yellow-800":"text-yellow-700"}`,children:[o.jsx(wc,{className:"h-5 w-5"}),"Admin Dashboard"]})]})]}),o.jsx("div",{className:"mt-auto border-t p-4 space-y-3",children:i?o.jsxs("button",{onClick:m,className:"flex w-full items-center justify-center gap-2 rounded-full bg-red-500 px-6 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-red-600",children:[o.jsx(tw,{className:"h-5 w-5"}),"Logout"]}):b(!0)})]})]})]})},dt=()=>o.jsxs("footer",{className:"bg-coffee-900 text-coffee-100",children:[o.jsxs("div",{className:"container mx-auto grid grid-cols-1 gap-8 px-6 py-12 md:grid-cols-2 lg:grid-cols-4",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs(Ae,{to:"/",className:"flex items-center gap-2",children:[o.jsx(bt,{className:"h-8 w-8 text-primary-400"}),o.jsx("span",{className:"text-2xl font-bold text-primary-400",children:"Rush Coffee"})]}),o.jsx("p",{className:"font-semibold",children:"Premium coffee, no waiting."}),o.jsx("p",{className:"text-sm text-coffee-100/80",children:"Join the digital queue and get your coffee fix faster than ever."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"mb-4 font-semibold text-primary-400",children:"Quick Links"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(Ae,{to:"/",className:"transition hover:text-primary-400",children:"Home"})}),o.jsx("li",{children:o.jsx(Ae,{to:"/about",className:"transition hover:text-primary-400",children:"About Us"})}),o.jsx("li",{children:o.jsx(Ae,{to:"/menu",className:"transition hover:text-primary-400",children:"Menu"})}),o.jsx("li",{children:o.jsx(Ae,{to:"/faq",className:"transition hover:text-primary-400",children:"FAQ"})}),o.jsx("li",{children:o.jsx(Ae,{to:"/contact",className:"transition hover:text-primary-400",children:"Contact"})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"mb-4 font-semibold text-primary-400",children:"Legal"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(Ae,{to:"/terms",className:"transition hover:text-primary-400",children:"Terms of Service"})}),o.jsx("li",{children:o.jsx(Ae,{to:"/privacy",className:"transition hover:text-primary-400",children:"Privacy Policy"})}),o.jsx("li",{children:o.jsx(Ae,{to:"/cookies",className:"transition hover:text-primary-400",children:"Cookie Policy"})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"mb-4 font-semibold text-primary-400",children:"Contact & Connect"}),o.jsx("address",{className:"not-italic",children:o.jsxs("ul",{className:"space-y-3",children:[o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx(k0,{className:"mt-1 h-5 w-5 flex-shrink-0"}),o.jsx("span",{children:"123 Coffee Street, Manila"})]}),o.jsxs("li",{className:"flex items-center gap-3",children:[o.jsx(Bs,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("a",{href:"tel:+639171234567",className:"transition hover:text-primary-400",children:"+63 917 123 4567"})]}),o.jsxs("li",{className:"flex items-center gap-3",children:[o.jsx(zs,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("a",{href:"mailto:hello@rushcoffee.ph",className:"transition hover:text-primary-400",children:"hello@rushcoffee.ph"})]})]})}),o.jsxs("div",{className:"mt-6 flex gap-4",children:[o.jsx("a",{href:"#","aria-label":"Facebook",className:"transition hover:text-primary-400",children:o.jsx(jS,{className:"h-6 w-6"})}),o.jsx("a",{href:"#","aria-label":"Instagram",className:"transition hover:text-primary-400",children:o.jsx(CS,{className:"h-6 w-6"})}),o.jsx("a",{href:"#","aria-label":"Twitter",className:"transition hover:text-primary-400",children:o.jsx(OS,{className:"h-6 w-6"})})]})]})]}),o.jsx("div",{className:"border-t border-coffee-800 bg-coffee-900/50",children:o.jsxs("div",{className:"container mx-auto flex flex-col items-center justify-between gap-2 px-6 py-4 text-center text-sm sm:flex-row",children:[o.jsxs("p",{children:[" ",new Date().getFullYear()," Rush Coffee. All rights reserved."]}),o.jsx("p",{children:"Made with  and "})]})})]}),gU=[{Icon:Tf,title:"Live Queue Updates",description:"Track your position in real-time and know exactly when your coffee will be ready. No more waiting around!",iconBgColor:"bg-primary-100",iconTextColor:"text-primary-600"},{Icon:bt,title:"Order Ahead",description:"Browse our menu, customize your drink, and order from anywhere. Your coffee, your way.",iconBgColor:"bg-coffee-100",iconTextColor:"text-coffee-800"},{Icon:bc,title:"Loyalty Rewards",description:"Earn points with every purchase and redeem for free drinks and exclusive perks.",iconBgColor:"bg-green-100",iconTextColor:"text-green-600"},{Icon:VS,title:"Multiple Payment Options",description:"Pay with GCash or cash on pickupwhatever works best for you.",iconBgColor:"bg-blue-100",iconTextColor:"text-blue-600"}],k_=[{number:1,Icon:RS,title:"Browse & Customize",description:"Explore our menu of premium coffee drinks and customize your order exactly how you like it.",hasAnimation:!0},{number:2,Icon:_d,title:"Join Virtual Queue",description:"Place your order and automatically join the queue. Get your position and estimated wait time instantly."},{number:3,Icon:_f,title:"Pickup & Enjoy",description:"Receive real-time notifications. When ready, breeze past the line and grab your coffee.",isPulsing:!0}],yU=[{quote:"Rush Coffee changed my morning routine! No more waiting in long lines. I order on my way and pick up when it's ready. Absolutely love it!",name:"Sarah M.",title:"Regular Customer",initial:"S",avatarBg:"bg-primary-100",avatarText:"text-primary-600"},{quote:"The queue system is genius. I can track exactly when my coffee will be ready. Plus, earning rewards with every purchase is a nice bonus!",name:"Miguel R.",title:"Gold Member",initial:"M",avatarBg:"bg-blue-100",avatarText:"text-blue-600"},{quote:"Best coffee experience in Manila. Fast, convenient, and the coffee is always perfect. The mobile app makes everything so easy!",name:"Ana L.",title:"VIP Member",initial:"A",avatarBg:"bg-green-100",avatarText:"text-green-600"}],xU=()=>{const{currentUser:t}=On(),e=t?"/menu":"/auth/register";return o.jsxs("div",{className:"bg-white",children:[o.jsx(ht,{}),o.jsxs("main",{children:[o.jsxs("section",{className:"relative flex min-h-[calc(100vh-5rem)] items-center overflow-hidden bg-white",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-50 via-coffee-100 to-white"}),o.jsx("div",{className:"container relative mx-auto max-w-7xl px-6 py-20",children:o.jsxs("div",{className:"grid grid-cols-1 items-center gap-12 lg:grid-cols-2",children:[o.jsxs("div",{className:"animate-fade-in-up text-center lg:text-left",children:[o.jsx("p",{className:"mb-4 font-medium text-primary-600",style:{animationDelay:"100ms",opacity:0},children:" Welcome to Rush Coffee"}),o.jsxs("h1",{className:"font-display text-5xl font-bold text-coffee-900 md:text-6xl lg:text-7xl",children:[o.jsx("span",{className:"block",style:{animation:"fade-in-up 0.8s ease-out 200ms forwards",opacity:0},children:"Skip the Line,"}),o.jsx("span",{className:"block text-primary-600",style:{animation:"fade-in-up 0.8s ease-out 300ms forwards",opacity:0},children:"Get Your Coffee"}),o.jsx("span",{className:"block",style:{animation:"fade-in-up 0.8s ease-out 400ms forwards",opacity:0},children:"Faster."})]}),o.jsx("p",{className:"mx-auto mt-6 max-w-2xl text-lg text-gray-600 md:text-xl lg:mx-0",style:{animation:"fade-in-up 0.8s ease-out 500ms forwards",opacity:0},children:"Join our digital queue system. Order ahead, track your position in real-time, and breeze through pickup. Your perfect cup awaitswithout the wait."}),o.jsxs("div",{className:"mt-8 flex flex-wrap justify-center gap-2 lg:justify-start",style:{animation:"fade-in-up 0.8s ease-out 600ms forwards",opacity:0},children:[o.jsx(vt,{className:"animate-pulse-slow",children:" Real-Time Queue"}),o.jsx(vt,{className:"animate-pulse-slow",children:" Mobile Ordering"}),o.jsx(vt,{className:"animate-pulse-slow",children:" Rewards Program"})]}),o.jsxs("div",{className:"mt-8 flex flex-col items-center gap-4 sm:flex-row sm:justify-center lg:justify-start",style:{animation:"fade-in-up 0.8s ease-out 700ms forwards",opacity:0},children:[o.jsxs(Ae,{to:e,className:"flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-8 py-4 text-lg font-semibold text-white shadow-lg transition-transform hover:scale-105 hover:bg-primary-700 sm:w-auto",children:[o.jsx(bt,{className:"h-5 w-5"}),"Order Now"]}),o.jsxs("a",{href:"#features",className:"flex w-full items-center justify-center gap-2 rounded-full border-2 border-primary-600 px-8 py-4 text-lg font-semibold text-primary-600 transition-transform hover:scale-105 hover:bg-primary-50 sm:w-auto",children:[o.jsx(w5,{className:"h-5 w-5"}),"View Features"]})]}),o.jsx("p",{className:"mt-6 text-sm text-gray-500",style:{animation:"fade-in-up 0.8s ease-out 800ms forwards",opacity:0},children:"Join 5,000+ happy customers "})]}),o.jsxs("div",{className:"relative hidden h-96 lg:flex lg:items-center lg:justify-center",children:[o.jsx("div",{className:"absolute h-80 w-80 animate-float rounded-full bg-primary-200/50 blur-3xl"}),o.jsx("div",{className:"absolute bottom-0 right-0 h-64 w-64 animate-float-delay rounded-full bg-coffee-800/10 blur-2xl"}),o.jsx("div",{className:"relative animate-fade-in-up",style:{animationDelay:"500ms",opacity:0},children:o.jsx(bt,{className:"h-auto w-[250px] animate-float drop-shadow-2xl lg:w-[350px]"})})]})]})})]}),o.jsx("section",{id:"features",className:"bg-white px-6 py-20",children:o.jsxs("div",{className:"container mx-auto max-w-7xl",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"mb-2 font-medium text-primary-600",children:"Why Rush Coffee?"}),o.jsx("h2",{className:"mb-4 font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"Everything You Need for a Seamless Coffee Experience"}),o.jsx("p",{className:"mx-auto mb-12 max-w-2xl text-gray-600",children:"From ordering to pickup, we've got you covered."})]}),o.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:gU.map((n,s)=>o.jsxs(fe,{hover:!0,className:"text-center",children:[o.jsx("div",{className:`mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-xl ${n.iconBgColor}`,children:o.jsx(n.Icon,{className:`h-8 w-8 ${n.iconTextColor}`})}),o.jsx("h3",{className:"mb-2 font-display text-xl font-semibold text-coffee-900",children:n.title}),o.jsx("p",{className:"text-sm leading-relaxed text-gray-600",children:n.description})]},s))})]})}),o.jsx("section",{id:"how-it-works",className:"bg-gradient-to-b from-coffee-50 to-white px-6 py-20",children:o.jsxs("div",{className:"container mx-auto max-w-7xl",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"mb-2 font-medium text-primary-600",children:"Simple Process"}),o.jsx("h2",{className:"mb-4 font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"How Rush Coffee Works"}),o.jsx("p",{className:"mx-auto mb-16 max-w-2xl text-gray-600",children:"Get your perfect cup in three easy steps."})]}),o.jsx("div",{className:"flex flex-col items-stretch justify-center gap-16 lg:flex-row lg:items-center lg:gap-8",children:k_.map((n,s)=>o.jsxs(T.Fragment,{children:[o.jsxs("div",{className:"relative w-full max-w-sm flex-1 text-center",children:[o.jsx("div",{className:"absolute -top-4 left-1/2 z-10 flex h-12 w-12 -translate-x-1/2 items-center justify-center rounded-full bg-primary-600 font-display text-xl font-bold text-white shadow-lg",children:n.number}),o.jsxs(fe,{className:"pt-8",children:[o.jsxs("div",{className:"relative mx-auto flex h-20 w-20 items-center justify-center rounded-2xl bg-gradient-to-br from-primary-100 to-coffee-100 p-4",children:[n.hasAnimation&&o.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-2xl",children:[o.jsx("div",{className:"absolute left-1/2 top-2 h-4 w-px -translate-x-1/2 animate-steam-1 rounded-full bg-primary-300/80"}),o.jsx("div",{className:"absolute left-1/3 top-2 h-5 w-px animate-steam-2 rounded-full bg-primary-300/80"}),o.jsx("div",{className:"absolute left-2/3 top-2 h-3 w-px animate-steam-1 rounded-full bg-primary-300/80"})]}),o.jsx(n.Icon,{className:`h-10 w-10 text-primary-600 ${n.isPulsing?"animate-pulse-slow":""}`})]}),o.jsx("h3",{className:"mb-2 mt-4 font-display text-xl font-semibold text-coffee-900",children:n.title}),o.jsx("p",{className:"text-sm text-gray-600",children:n.description})]})]}),s<k_.length-1&&o.jsx("div",{className:"hidden text-primary-400 lg:flex",children:o.jsx(oo,{className:"h-10 w-10"})})]},n.number))})]})}),o.jsx("section",{id:"testimonials",className:"bg-white py-20 px-6",children:o.jsxs("div",{className:"container mx-auto max-w-7xl",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"mb-2 font-medium text-primary-600",children:"Customer Love"}),o.jsx("h2",{className:"mb-4 font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"What Our Customers Say"}),o.jsx("p",{className:"mx-auto mb-12 max-w-2xl text-gray-600",children:"Join thousands of satisfied coffee lovers."})]}),o.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:yU.map((n,s)=>o.jsxs(fe,{hover:!0,className:"flex flex-col border-l-4 border-primary-400 transition-transform duration-300 hover:scale-105",children:[o.jsx(S3,{className:"h-8 w-8 text-primary-200"}),o.jsx("div",{className:"my-4 text-yellow-400",children:""}),o.jsxs("p",{className:"flex-grow font-sans italic text-gray-700",children:['"',n.quote,'"']}),o.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[o.jsx("div",{className:`flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full font-bold ${n.avatarBg} ${n.avatarText}`,children:n.initial}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-coffee-900",children:n.name}),o.jsx(vt,{className:"bg-gray-100 text-gray-600 text-xs px-2 py-0.5",children:n.title})]})]})]},s))})]})}),o.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-r from-primary-600 via-coffee-600 to-primary-700 py-16 px-6",children:[o.jsx("div",{className:"absolute top-0 left-0 -translate-x-1/3 -translate-y-1/3 opacity-10",children:o.jsx(bt,{className:"h-48 w-48 animate-float text-white"})}),o.jsx("div",{className:"absolute bottom-0 right-0 translate-x-1/3 translate-y-1/3 opacity-10",children:o.jsx(bt,{className:"h-64 w-64 animate-float-delay text-white"})}),o.jsxs("div",{className:"relative z-10 mx-auto max-w-4xl text-center",children:[o.jsxs("div",{className:"relative mx-auto mb-4 inline-block",children:[o.jsx("span",{className:"text-5xl",role:"img","aria-label":"Coffee cup",children:""}),o.jsxs("div",{className:"absolute -top-4 left-0 right-0 h-12",children:[o.jsx("div",{className:"absolute left-1/2 h-6 w-px -translate-x-1/2 animate-steam-1 rounded-full bg-white/50"}),o.jsx("div",{className:"absolute left-1/3 h-8 w-px animate-steam-2 rounded-full bg-white/50"}),o.jsx("div",{className:"absolute left-2/3 h-5 w-px animate-steam-1 rounded-full bg-white/50"})]})]}),o.jsx("h2",{className:"mb-4 font-display text-4xl font-bold text-white md:text-5xl",children:"Ready to Rush Through Your Day?"}),o.jsx("p",{className:"mb-2 text-xl text-primary-100",children:"Join 5,000+ customers who've already skipped the line."}),o.jsxs("div",{className:"my-8 flex flex-col items-center justify-center gap-4 sm:flex-row",children:[o.jsx("span",{className:"rounded-full bg-white/10 px-4 py-2 text-sm font-medium text-white backdrop-blur",children:"10,000+ Orders Completed"}),o.jsx("span",{className:"rounded-full bg-white/10 px-4 py-2 text-sm font-medium text-white backdrop-blur",children:"4.9 Average Rating"}),o.jsx("span",{className:"rounded-full bg-white/10 px-4 py-2 text-sm font-medium text-white backdrop-blur",children:"< 5 min Average Wait"})]}),o.jsxs(Ae,{to:e,className:"inline-flex transform items-center justify-center gap-2 rounded-full bg-white px-8 py-4 text-lg font-semibold text-primary-600 shadow-lg transition hover:scale-105 hover:shadow-2xl",children:["Start Ordering Now",o.jsx(oo,{className:"h-5 w-5"})]}),o.jsxs("p",{className:"mt-4 text-sm",children:[o.jsx("span",{className:"text-white/80",children:"Already have an account? "}),o.jsx(Ae,{to:"/auth/login",className:"font-semibold text-white underline transition hover:text-primary-100",children:"Login"})]})]})]})]}),o.jsx(dt,{})]})},vU=()=>o.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),o.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),o.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z",fill:"#FBBC05"}),o.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),bU=()=>{const[t,e]=T.useState(""),[n,s]=T.useState(""),[r,i]=T.useState(!1),[a,l]=T.useState(!1),[c,h]=T.useState({}),[d,f]=T.useState(null),[m,g]=T.useState(!1),b=Qn(),{login:E}=On(),S=()=>{const v={};return t?/\S+@\S+\.\S+/.test(t)||(v.email="Email address is invalid"):v.email="Email is required",n||(v.password="Password is required"),v},x=async v=>{v.preventDefault(),f(null);const _=S();if(Object.keys(_).length>0){h(_);return}h({}),g(!0);try{await E(t,n,a),b("/")}catch(C){let D="An unexpected error occurred. Please try again.";switch(C.code){case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":D="Invalid email or password. Please try again.";break;case"auth/too-many-requests":D="Too many failed login attempts. Please try again later.";break}f(D)}finally{g(!1)}};return o.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-primary-50 via-coffee-50 to-white",children:[o.jsx(ht,{}),o.jsx("main",{className:"flex flex-1 items-center justify-center px-4 py-12 sm:px-6 lg:px-8",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsxs(fe,{className:"rounded-2xl p-8 shadow-xl",children:[o.jsxs("div",{className:"mb-6 text-center",children:[o.jsx(bt,{className:"mx-auto h-12 w-12 text-primary-600"}),o.jsx("h2",{className:"mt-4 font-display text-3xl font-bold text-coffee-900",children:"Rush Coffee"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Welcome back! "})]}),d&&o.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded-lg bg-red-50 p-3 text-sm text-red-700",role:"alert",children:[o.jsx(ea,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("span",{children:d})]}),o.jsxs("form",{onSubmit:x,noValidate:!0,className:"space-y-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),o.jsx(zs,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:v=>e(v.target.value),className:`w-full rounded-lg border py-3 pl-10 pr-3 text-gray-400 placeholder:text-gray-400 transition-colors focus:outline-none focus:ring-2 ${c.email?"border-red-500 ring-red-500":"border-gray-300 focus:border-primary-500 focus:ring-primary-500"}`,placeholder:"Email address","aria-invalid":!!c.email,"aria-describedby":"email-error"}),c.email&&o.jsx("p",{id:"email-error",className:"mt-1 text-xs text-red-600",role:"alert",children:c.email})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),o.jsx(bd,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),o.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",required:!0,value:n,onChange:v=>s(v.target.value),className:`w-full rounded-lg border py-3 pl-10 pr-10 text-gray-400 placeholder:text-gray-400 transition-colors focus:outline-none focus:ring-2 ${c.password?"border-red-500 ring-red-500":"border-gray-300 focus:border-primary-500 focus:ring-primary-500"}`,placeholder:"Password","aria-invalid":!!c.password,"aria-describedby":"password-error"}),o.jsx("button",{type:"button",onClick:()=>i(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600","aria-label":r?"Hide password":"Show password",children:r?o.jsx(Pg,{className:"h-5 w-5"}):o.jsx(Og,{className:"h-5 w-5"})}),c.password&&o.jsx("p",{id:"password-error",className:"mt-1 text-xs text-red-600",role:"alert",children:c.password})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:a,onChange:v=>l(v.target.checked),className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),o.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),o.jsx("div",{className:"text-sm",children:o.jsx(Ae,{to:"#",className:"font-medium text-primary-600 hover:text-primary-500",children:"Forgot your password?"})})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:m,className:"flex w-full justify-center rounded-full bg-primary-600 px-4 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-primary-400",children:m?o.jsx(_t,{className:"h-6 w-6 animate-spin"}):"Login"})})]}),o.jsxs("div",{className:"my-6 flex items-center",children:[o.jsx("div",{className:"flex-grow border-t border-gray-300"}),o.jsx("span",{className:"mx-4 flex-shrink text-sm text-gray-500",children:"or"}),o.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{type:"button",disabled:!0,className:"flex w-full items-center justify-center gap-3 rounded-full border border-gray-300 px-4 py-3 text-base font-medium text-gray-700 transition-colors hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-60",children:[o.jsx(vU,{}),"Continue with Google"]}),o.jsx(vt,{className:"absolute -top-2 right-2 bg-gray-500 text-white text-xs px-2 py-0.5",children:"Coming Soon"})]}),o.jsxs("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Don't have an account?"," ",o.jsx(Ae,{to:"/auth/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign up"})]})]})})}),o.jsx(dt,{})]})},wU=t=>{let e=0;return t.length>=8&&e++,t.match(/[a-z]/)&&e++,t.match(/[A-Z]/)&&e++,t.match(/[0-9]/)&&e++,t.match(/[^a-zA-Z0-9]/)&&e++,e/5*100},ha=({name:t,label:e,type:n,placeholder:s,Icon:r,children:i,autoComplete:a,value:l,onChange:c,onBlur:h,error:d,touched:f})=>{const m=f&&d,g=f&&!d&&l;return o.jsxs("div",{className:"relative",children:[o.jsx("label",{htmlFor:t,className:"sr-only",children:e}),o.jsx(r,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),o.jsx("input",{id:t,name:t,type:n,autoComplete:a,required:!["phone"].includes(t),value:l,onChange:c,onBlur:h,className:`w-full rounded-lg border py-3 pl-10 pr-10 text-gray-400 placeholder:text-gray-400 transition-colors focus:outline-none focus:ring-2 ${m?"border-red-500 ring-red-500":g?"border-green-500":"border-gray-300 focus:border-primary-500 focus:ring-primary-500"}`,placeholder:s,"aria-invalid":!!m,"aria-describedby":`${t}-error`}),i,m?o.jsx(Ws,{className:"absolute right-3 top-1/2 h-5 w-5 -translate-y-1/2 text-red-500"}):null,g?o.jsx(Hr,{className:"absolute right-3 top-1/2 h-5 w-5 -translate-y-1/2 text-green-500"}):null,m&&o.jsx("p",{id:`${t}-error`,className:"mt-1 text-xs text-red-600",role:"alert",children:d})]})},_U=()=>{const[t,e]=T.useState({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",terms:!1}),[n,s]=T.useState({}),[r,i]=T.useState({}),[a,l]=T.useState(null),[c,h]=T.useState(!1),[d,f]=T.useState(!1),[m,g]=T.useState(!1),[b,E]=T.useState(0),S=Qn(),{register:x}=On(),v=T.useCallback(()=>{const w={};return t.firstName?t.firstName.length<2&&(w.firstName="First name must be at least 2 characters"):w.firstName="First name is required",t.lastName?t.lastName.length<2&&(w.lastName="Last name must be at least 2 characters"):w.lastName="Last name is required",t.email?/\S+@\S+\.\S+/.test(t.email)||(w.email="Email address is invalid"):w.email="Email is required",t.phone&&!/^(09|\+639)\d{9}$/.test(t.phone)&&(w.phone="Invalid Philippine phone number"),t.password?t.password.length<8?w.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])/.test(t.password)||(w.password="Must contain uppercase, lowercase, and a number"):w.password="Password is required",t.confirmPassword?t.password!==t.confirmPassword&&(w.confirmPassword="Passwords do not match"):w.confirmPassword="Please confirm your password",t.terms||(w.terms="You must accept the terms and conditions"),w},[t]);T.useEffect(()=>{r.password&&E(wU(t.password))},[t.password,r.password]),T.useEffect(()=>{Object.keys(r).length>0&&s(v())},[t,r,v]);const _=w=>{const{name:A,value:R,type:M,checked:k}=w.target;e(I=>({...I,[A]:M==="checkbox"?k:R}))},C=w=>{const{name:A}=w.target;i(R=>({...R,[A]:!0}))},D=async w=>{w.preventDefault(),l(null),i({firstName:!0,lastName:!0,email:!0,phone:!0,password:!0,confirmPassword:!0,terms:!0});const A=v();if(Object.keys(A).length>0){s(A);return}h(!0);try{await x(t.email,t.password,t.firstName,t.lastName,t.phone),S("/")}catch(R){let M="An unexpected error occurred. Please try again.";switch(R.code){case"auth/email-already-in-use":M="This email address is already registered.";break;case"auth/invalid-email":M="The email address is not valid.";break;case"auth/weak-password":M="The password is too weak.";break}l(M)}finally{h(!1)}},P=()=>b<40?"bg-red-500":b<80?"bg-yellow-500":"bg-green-500",N=()=>b<40?"Weak":b<80?"Medium":"Strong";return o.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-primary-50 via-coffee-50 to-white",children:[o.jsx(ht,{}),o.jsx("main",{className:"flex flex-1 items-center justify-center px-4 py-12 sm:px-6 lg:px-8",children:o.jsx("div",{className:"w-full max-w-2xl",children:o.jsxs(fe,{className:"rounded-2xl p-8 shadow-xl",children:[o.jsxs("div",{className:"mb-6 text-center",children:[o.jsx(bt,{className:"mx-auto h-12 w-12 text-primary-600"}),o.jsx("h2",{className:"mt-4 font-display text-3xl font-bold text-coffee-900",children:"Join Rush Coffee"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Start skipping the line today "})]}),a&&o.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded-lg bg-red-50 p-3 text-sm text-red-700",role:"alert",children:[o.jsx(ea,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("span",{children:a})]}),o.jsxs("form",{onSubmit:D,noValidate:!0,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-2",children:[o.jsx(ha,{name:"firstName",label:"First Name",type:"text",placeholder:"First Name",Icon:Fs,autoComplete:"given-name",value:t.firstName,onChange:_,onBlur:C,error:n.firstName,touched:r.firstName}),o.jsx(ha,{name:"lastName",label:"Last Name",type:"text",placeholder:"Last Name",Icon:Fs,autoComplete:"family-name",value:t.lastName,onChange:_,onBlur:C,error:n.lastName,touched:r.lastName})]}),o.jsx(ha,{name:"email",label:"Email address",type:"email",placeholder:"Email address",Icon:zs,autoComplete:"email",value:t.email,onChange:_,onBlur:C,error:n.email,touched:r.email}),o.jsx(ha,{name:"phone",label:"Phone Number (Optional)",type:"tel",placeholder:"Phone Number (e.g., 09xxxxxxxxx)",Icon:Bs,autoComplete:"tel",value:t.phone,onChange:_,onBlur:C,error:n.phone,touched:r.phone}),o.jsxs("div",{className:"relative",children:[o.jsx(ha,{name:"password",label:"Password",type:d?"text":"password",placeholder:"Password",Icon:bd,autoComplete:"new-password",value:t.password,onChange:_,onBlur:C,error:n.password,touched:r.password,children:o.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 z-10","aria-label":d?"Hide password":"Show password",children:d?o.jsx(Pg,{className:"h-5 w-5"}):o.jsx(Og,{className:"h-5 w-5"})})}),r.password&&o.jsxs("div",{className:"mt-2 space-y-1",children:[o.jsx("div",{className:"h-2 w-full rounded-full bg-gray-200",children:o.jsx("div",{className:`h-2 rounded-full ${P()}`,style:{width:`${b}%`,transition:"width 0.3s, background-color 0.3s"}})}),o.jsx("p",{className:"text-xs font-medium",style:{color:P().replace("bg-","text-")},children:N()})]})]}),o.jsx(ha,{name:"confirmPassword",label:"Confirm Password",type:m?"text":"password",placeholder:"Confirm Password",Icon:bd,autoComplete:"new-password",value:t.confirmPassword,onChange:_,onBlur:C,error:n.confirmPassword,touched:r.confirmPassword,children:o.jsx("button",{type:"button",onClick:()=>g(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 z-10","aria-label":m?"Hide password":"Show password",children:m?o.jsx(Pg,{className:"h-5 w-5"}):o.jsx(Og,{className:"h-5 w-5"})})}),o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"flex h-6 items-center",children:o.jsx("input",{id:"terms",name:"terms",type:"checkbox",checked:t.terms,onChange:_,onBlur:C,className:`h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500 ${r.terms&&n.terms?"border-red-500":""}`})}),o.jsxs("div",{className:"ml-3 text-sm leading-6",children:[o.jsxs("label",{htmlFor:"terms",className:"font-medium text-gray-900",children:["I agree to the"," ",o.jsx(Ae,{to:"/terms",className:"font-semibold text-primary-600 hover:underline",children:"Terms of Service"})," and ",o.jsx(Ae,{to:"/privacy",className:"font-semibold text-primary-600 hover:underline",children:"Privacy Policy"}),"."]}),r.terms&&n.terms&&o.jsx("p",{className:"mt-1 text-xs text-red-600",children:n.terms})]})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:c,className:"flex w-full justify-center rounded-full bg-primary-600 px-4 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-primary-400",children:c?o.jsx(_t,{className:"h-6 w-6 animate-spin"}):"Create Account"})})]}),o.jsxs("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Already have an account?"," ",o.jsx(Ae,{to:"/auth/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Login"})]})]})})}),o.jsx(dt,{})]})},zx=T.createContext({});function Bx(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const Kf=T.createContext(null),Fx=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class TU extends T.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function EU({children:t,isPresent:e}){const n=T.useId(),s=T.useRef(null),r=T.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=T.useContext(Fx);return T.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:h}=r.current;if(e||!s.current||!a||!l)return;s.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),o.jsx(TU,{isPresent:e,childRef:s,sizeRef:r,children:T.cloneElement(t,{ref:s})})}const NU=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:i,mode:a})=>{const l=Bx(SU),c=T.useId(),h=T.useCallback(f=>{l.set(f,!0);for(const m of l.values())if(!m)return;s&&s()},[l,s]),d=T.useMemo(()=>({id:c,initial:e,isPresent:n,custom:r,onExitComplete:h,register:f=>(l.set(f,!1),()=>l.delete(f))}),i?[Math.random(),h]:[n,h]);return T.useMemo(()=>{l.forEach((f,m)=>l.set(m,!1))},[n]),T.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),a==="popLayout"&&(t=o.jsx(EU,{isPresent:n,children:t})),o.jsx(Kf.Provider,{value:d,children:t})};function SU(){return new Map}function yC(t=!0){const e=T.useContext(Kf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=e,i=T.useId();T.useEffect(()=>{t&&r(i)},[t]);const a=T.useCallback(()=>t&&s&&s(i),[i,s,t]);return!n&&s?[!1,a]:[!0]}const ah=t=>t.key||"";function P_(t){const e=[];return T.Children.forEach(t,n=>{T.isValidElement(n)&&e.push(n)}),e}const qx=typeof window<"u",xC=qx?T.useLayoutEffect:T.useEffect,vu=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:i="sync",propagate:a=!1})=>{const[l,c]=yC(a),h=T.useMemo(()=>P_(t),[t]),d=a&&!l?[]:h.map(ah),f=T.useRef(!0),m=T.useRef(h),g=Bx(()=>new Map),[b,E]=T.useState(h),[S,x]=T.useState(h);xC(()=>{f.current=!1,m.current=h;for(let C=0;C<S.length;C++){const D=ah(S[C]);d.includes(D)?g.delete(D):g.get(D)!==!0&&g.set(D,!1)}},[S,d.length,d.join("-")]);const v=[];if(h!==b){let C=[...h];for(let D=0;D<S.length;D++){const P=S[D],N=ah(P);d.includes(N)||(C.splice(D,0,P),v.push(P))}i==="wait"&&v.length&&(C=v),x(P_(C)),E(h);return}const{forceRender:_}=T.useContext(zx);return o.jsx(o.Fragment,{children:S.map(C=>{const D=ah(C),P=a&&!l?!1:h===S||d.includes(D),N=()=>{if(g.has(D))g.set(D,!0);else return;let w=!0;g.forEach(A=>{A||(w=!1)}),w&&(_==null||_(),x(m.current),a&&(c==null||c()),s&&s())};return o.jsx(NU,{isPresent:P,initial:!f.current||n?void 0:!1,custom:P?void 0:e,presenceAffectsLayout:r,mode:i,onExitComplete:P?void 0:N,children:C},D)})})},gn=t=>t;let vC=gn;function Hx(t){let e;return()=>(e===void 0&&(e=t()),e)}const yo=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},Ms=t=>t*1e3,Ds=t=>t/1e3,AU={useManualTiming:!1};function jU(t){let e=new Set,n=new Set,s=!1,r=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(h){i.has(h)&&(c.schedule(h),t()),h(a)}const c={schedule:(h,d=!1,f=!1)=>{const g=f&&s?e:n;return d&&i.add(h),g.has(h)||g.add(h),h},cancel:h=>{n.delete(h),i.delete(h)},process:h=>{if(a=h,s){r=!0;return}s=!0,[e,n]=[n,e],e.forEach(l),e.clear(),s=!1,r&&(r=!1,c.process(h))}};return c}const oh=["read","resolveKeyframes","update","preRender","render","postRender"],CU=40;function bC(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=oh.reduce((x,v)=>(x[v]=jU(i),x),{}),{read:l,resolveKeyframes:c,update:h,preRender:d,render:f,postRender:m}=a,g=()=>{const x=performance.now();n=!1,r.delta=s?1e3/60:Math.max(Math.min(x-r.timestamp,CU),1),r.timestamp=x,r.isProcessing=!0,l.process(r),c.process(r),h.process(r),d.process(r),f.process(r),m.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(g))},b=()=>{n=!0,s=!0,r.isProcessing||t(g)};return{schedule:oh.reduce((x,v)=>{const _=a[v];return x[v]=(C,D=!1,P=!1)=>(n||b(),_.schedule(C,D,P)),x},{}),cancel:x=>{for(let v=0;v<oh.length;v++)a[oh[v]].cancel(x)},state:r,steps:a}}const{schedule:Le,cancel:ei,state:Tt,steps:_p}=bC(typeof requestAnimationFrame<"u"?requestAnimationFrame:gn,!0),wC=T.createContext({strict:!1}),O_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xo={};for(const t in O_)xo[t]={isEnabled:e=>O_[t].some(n=>!!e[n])};function RU(t){for(const e in t)xo[e]={...xo[e],...t[e]}}const IU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||IU.has(t)}let _C=t=>!Hd(t);function MU(t){t&&(_C=e=>e.startsWith("on")?!Hd(e):t(e))}try{MU(require("@emotion/is-prop-valid").default)}catch{}function DU(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(_C(r)||n===!0&&Hd(r)||!e&&!Hd(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}function kU(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const Wf=T.createContext({});function Dc(t){return typeof t=="string"||Array.isArray(t)}function Xf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Gx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$x=["initial",...Gx];function Jf(t){return Xf(t.animate)||$x.some(e=>Dc(t[e]))}function TC(t){return!!(Jf(t)||t.variants)}function PU(t,e){if(Jf(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Dc(n)?n:void 0,animate:Dc(s)?s:void 0}}return t.inherit!==!1?e:{}}function OU(t){const{initial:e,animate:n}=PU(t,T.useContext(Wf));return T.useMemo(()=>({initial:e,animate:n}),[V_(e),V_(n)])}function V_(t){return Array.isArray(t)?t.join(" "):t}const VU=Symbol.for("motionComponentSymbol");function ka(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function LU(t,e,n){return T.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):ka(n)&&(n.current=s))},[e])}const Yx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),UU="framerAppearId",EC="data-"+Yx(UU),{schedule:Qx}=bC(queueMicrotask,!1),NC=T.createContext({});function zU(t,e,n,s,r){var i,a;const{visualElement:l}=T.useContext(Wf),c=T.useContext(wC),h=T.useContext(Kf),d=T.useContext(Fx).reducedMotion,f=T.useRef(null);s=s||c.renderer,!f.current&&s&&(f.current=s(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const m=f.current,g=T.useContext(NC);m&&!m.projection&&r&&(m.type==="html"||m.type==="svg")&&BU(f.current,n,r,g);const b=T.useRef(!1);T.useInsertionEffect(()=>{m&&b.current&&m.update(n,h)});const E=n[EC],S=T.useRef(!!E&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,E))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,E)));return xC(()=>{m&&(b.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),Qx.render(m.render),S.current&&m.animationState&&m.animationState.animateChanges())}),T.useEffect(()=>{m&&(!S.current&&m.animationState&&m.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,E)}),S.current=!1))}),m}function BU(t,e,n,s){const{layoutId:r,layout:i,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:SC(t.parent)),t.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!a||l&&ka(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,layoutScroll:c,layoutRoot:h})}function SC(t){if(t)return t.options.allowProjection!==!1?t.projection:SC(t.parent)}function FU({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:r}){var i,a;t&&RU(t);function l(h,d){let f;const m={...T.useContext(Fx),...h,layoutId:qU(h)},{isStatic:g}=m,b=OU(h),E=s(h,g);if(!g&&qx){HU();const S=GU(m);f=S.MeasureLayout,b.visualElement=zU(r,E,m,e,S.ProjectionNode)}return o.jsxs(Wf.Provider,{value:b,children:[f&&b.visualElement?o.jsx(f,{visualElement:b.visualElement,...m}):null,n(r,h,LU(E,b.visualElement,d),E,g,b.visualElement)]})}l.displayName=`motion.${typeof r=="string"?r:`create(${(a=(i=r.displayName)!==null&&i!==void 0?i:r.name)!==null&&a!==void 0?a:""})`}`;const c=T.forwardRef(l);return c[VU]=r,c}function qU({layoutId:t}){const e=T.useContext(zx).id;return e&&t!==void 0?e+"-"+t:t}function HU(t,e){T.useContext(wC).strict}function GU(t){const{drag:e,layout:n}=xo;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const $U=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Kx(t){return typeof t!="string"||t.includes("-")?!1:!!($U.indexOf(t)>-1||/[A-Z]/u.test(t))}function L_(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Wx(t,e,n,s){if(typeof e=="function"){const[r,i]=L_(s);e=e(n!==void 0?n:t.custom,r,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,i]=L_(s);e=e(n!==void 0?n:t.custom,r,i)}return e}const cy=t=>Array.isArray(t),YU=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),QU=t=>cy(t)?t[t.length-1]||0:t,Lt=t=>!!(t&&t.getVelocity);function zh(t){const e=Lt(t)?t.get():t;return YU(e)?e.toValue():e}function KU({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},s,r,i){const a={latestValues:WU(s,r,i,t),renderState:e()};return n&&(a.onMount=l=>n({props:s,current:l,...a}),a.onUpdate=l=>n(l)),a}const AC=t=>(e,n)=>{const s=T.useContext(Wf),r=T.useContext(Kf),i=()=>KU(t,e,s,r);return n?i():Bx(i)};function WU(t,e,n,s){const r={},i=s(t,{});for(const m in i)r[m]=zh(i[m]);let{initial:a,animate:l}=t;const c=Jf(t),h=TC(t);e&&h&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const f=d?l:a;if(f&&typeof f!="boolean"&&!Xf(f)){const m=Array.isArray(f)?f:[f];for(let g=0;g<m.length;g++){const b=Wx(t,m[g]);if(b){const{transitionEnd:E,transition:S,...x}=b;for(const v in x){let _=x[v];if(Array.isArray(_)){const C=d?_.length-1:0;_=_[C]}_!==null&&(r[v]=_)}for(const v in E)r[v]=E[v]}}}return r}const qo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ra=new Set(qo),jC=t=>e=>typeof e=="string"&&e.startsWith(t),CC=jC("--"),XU=jC("var(--"),Xx=t=>XU(t)?JU.test(t.split("/*")[0].trim()):!1,JU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,RC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ys=(t,e,n)=>n>e?e:n<t?t:n,Ho={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},kc={...Ho,transform:t=>Ys(0,1,t)},lh={...Ho,default:1},bu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),lr=bu("deg"),ls=bu("%"),X=bu("px"),ZU=bu("vh"),e7=bu("vw"),U_={...ls,parse:t=>ls.parse(t)/100,transform:t=>ls.transform(t*100)},t7={borderWidth:X,borderTopWidth:X,borderRightWidth:X,borderBottomWidth:X,borderLeftWidth:X,borderRadius:X,radius:X,borderTopLeftRadius:X,borderTopRightRadius:X,borderBottomRightRadius:X,borderBottomLeftRadius:X,width:X,maxWidth:X,height:X,maxHeight:X,top:X,right:X,bottom:X,left:X,padding:X,paddingTop:X,paddingRight:X,paddingBottom:X,paddingLeft:X,margin:X,marginTop:X,marginRight:X,marginBottom:X,marginLeft:X,backgroundPositionX:X,backgroundPositionY:X},n7={rotate:lr,rotateX:lr,rotateY:lr,rotateZ:lr,scale:lh,scaleX:lh,scaleY:lh,scaleZ:lh,skew:lr,skewX:lr,skewY:lr,distance:X,translateX:X,translateY:X,translateZ:X,x:X,y:X,z:X,perspective:X,transformPerspective:X,opacity:kc,originX:U_,originY:U_,originZ:X},z_={...Ho,transform:Math.round},Jx={...t7,...n7,zIndex:z_,size:X,fillOpacity:kc,strokeOpacity:kc,numOctaves:z_},s7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},r7=qo.length;function i7(t,e,n){let s="",r=!0;for(let i=0;i<r7;i++){const a=qo[i],l=t[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const h=RC(l,Jx[a]);if(!c){r=!1;const d=s7[a]||a;s+=`${d}(${h}) `}n&&(e[a]=h)}}return s=s.trim(),n?s=n(e,r?"":s):r&&(s="none"),s}function Zx(t,e,n){const{style:s,vars:r,transformOrigin:i}=t;let a=!1,l=!1;for(const c in e){const h=e[c];if(ra.has(c)){a=!0;continue}else if(CC(c)){r[c]=h;continue}else{const d=RC(h,Jx[c]);c.startsWith("origin")?(l=!0,i[c]=d):s[c]=d}}if(e.transform||(a||n?s.transform=i7(e,t.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:h="50%",originZ:d=0}=i;s.transformOrigin=`${c} ${h} ${d}`}}const a7={offset:"stroke-dashoffset",array:"stroke-dasharray"},o7={offset:"strokeDashoffset",array:"strokeDasharray"};function l7(t,e,n=1,s=0,r=!0){t.pathLength=1;const i=r?a7:o7;t[i.offset]=X.transform(-s);const a=X.transform(e),l=X.transform(n);t[i.array]=`${a} ${l}`}function B_(t,e,n){return typeof t=="string"?t:X.transform(e+n*t)}function c7(t,e,n){const s=B_(e,t.x,t.width),r=B_(n,t.y,t.height);return`${s} ${r}`}function ev(t,{attrX:e,attrY:n,attrScale:s,originX:r,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},d,f){if(Zx(t,h,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:g,dimensions:b}=t;m.transform&&(b&&(g.transform=m.transform),delete m.transform),b&&(r!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=c7(b,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),s!==void 0&&(m.scale=s),a!==void 0&&l7(m,a,l,c,!1)}const tv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),IC=()=>({...tv(),attrs:{}}),nv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function MC(t,{style:e,vars:n},s,r){Object.assign(t.style,e,r&&r.getProjectionStyles(s));for(const i in n)t.style.setProperty(i,n[i])}const DC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kC(t,e,n,s){MC(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(DC.has(r)?r:Yx(r),e.attrs[r])}const Gd={};function u7(t){Object.assign(Gd,t)}function PC(t,{layout:e,layoutId:n}){return ra.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Gd[t]||t==="opacity")}function sv(t,e,n){var s;const{style:r}=t,i={};for(const a in r)(Lt(r[a])||e.style&&Lt(e.style[a])||PC(a,t)||((s=n==null?void 0:n.getValue(a))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(i[a]=r[a]);return i}function OC(t,e,n){const s=sv(t,e,n);for(const r in t)if(Lt(t[r])||Lt(e[r])){const i=qo.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[i]=t[r]}return s}function h7(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const F_=["x","y","width","height","cx","cy","r"],d7={useVisualState:AC({scrapeMotionValuesFromProps:OC,createRenderState:IC,onUpdate:({props:t,prevProps:e,current:n,renderState:s,latestValues:r})=>{if(!n)return;let i=!!t.drag;if(!i){for(const l in r)if(ra.has(l)){i=!0;break}}if(!i)return;let a=!e;if(e)for(let l=0;l<F_.length;l++){const c=F_[l];t[c]!==e[c]&&(a=!0)}a&&Le.read(()=>{h7(n,s),Le.render(()=>{ev(s,r,nv(n.tagName),t.transformTemplate),kC(n,s)})})}})},f7={useVisualState:AC({scrapeMotionValuesFromProps:sv,createRenderState:tv})};function VC(t,e,n){for(const s in e)!Lt(e[s])&&!PC(s,n)&&(t[s]=e[s])}function m7({transformTemplate:t},e){return T.useMemo(()=>{const n=tv();return Zx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function p7(t,e){const n=t.style||{},s={};return VC(s,n,t),Object.assign(s,m7(t,e)),s}function g7(t,e){const n={},s=p7(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}function y7(t,e,n,s){const r=T.useMemo(()=>{const i=IC();return ev(i,e,nv(s),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};VC(i,t.style,t),r.style={...i,...r.style}}return r}function x7(t=!1){return(n,s,r,{latestValues:i},a)=>{const c=(Kx(n)?y7:g7)(s,i,a,n),h=DU(s,typeof n=="string",t),d=n!==T.Fragment?{...h,...c,ref:r}:{},{children:f}=s,m=T.useMemo(()=>Lt(f)?f.get():f,[f]);return T.createElement(n,{...d,children:m})}}function v7(t,e){return function(s,{forwardMotionProps:r}={forwardMotionProps:!1}){const a={...Kx(s)?d7:f7,preloadedFeatures:t,useRender:x7(r),createVisualElement:e,Component:s};return FU(a)}}function LC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function Zf(t,e,n){const s=t.getProps();return Wx(s,e,n!==void 0?n:s.custom,t)}const b7=Hx(()=>window.ScrollTimeline!==void 0);class w7{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e,n){const s=this.animations.map(r=>{if(b7()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{s.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class _7 extends w7{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function rv(t,e){return t?t[e]||t.default||t:void 0}const uy=2e4;function UC(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<uy;)e+=n,s=t.next(e);return e>=uy?1/0:e}function iv(t){return typeof t=="function"}function q_(t,e){t.timeline=e,t.onfinish=null}const av=t=>Array.isArray(t)&&typeof t[0]=="number",T7={linearEasing:void 0};function E7(t,e){const n=Hx(t);return()=>{var s;return(s=T7[e])!==null&&s!==void 0?s:n()}}const $d=E7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zC=(t,e,n=10)=>{let s="";const r=Math.max(Math.round(e/n),2);for(let i=0;i<r;i++)s+=t(yo(0,r-1,i))+", ";return`linear(${s.substring(0,s.length-2)})`};function BC(t){return!!(typeof t=="function"&&$d()||!t||typeof t=="string"&&(t in hy||$d())||av(t)||Array.isArray(t)&&t.every(BC))}const Il=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,hy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Il([0,.65,.55,1]),circOut:Il([.55,0,1,.45]),backIn:Il([.31,.01,.66,-.59]),backOut:Il([.33,1.53,.69,.99])};function FC(t,e){if(t)return typeof t=="function"&&$d()?zC(t,e):av(t)?Il(t):Array.isArray(t)?t.map(n=>FC(n,e)||hy.easeOut):hy[t]}const Ln={x:!1,y:!1};function qC(){return Ln.x||Ln.y}function N7(t,e,n){var s;if(t instanceof Element)return[t];if(typeof t=="string"){let r=document;const i=(s=void 0)!==null&&s!==void 0?s:r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function HC(t,e){const n=N7(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[n,r,()=>s.abort()]}function H_(t){return e=>{e.pointerType==="touch"||qC()||t(e)}}function S7(t,e,n={}){const[s,r,i]=HC(t,n),a=H_(l=>{const{target:c}=l,h=e(l);if(typeof h!="function"||!c)return;const d=H_(f=>{h(f),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,r)});return s.forEach(l=>{l.addEventListener("pointerenter",a,r)}),i}const GC=(t,e)=>e?t===e?!0:GC(t,e.parentElement):!1,ov=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,A7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function j7(t){return A7.has(t.tagName)||t.tabIndex!==-1}const Ml=new WeakSet;function G_(t){return e=>{e.key==="Enter"&&t(e)}}function Tp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const C7=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=G_(()=>{if(Ml.has(n))return;Tp(n,"down");const r=G_(()=>{Tp(n,"up")}),i=()=>Tp(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function $_(t){return ov(t)&&!qC()}function R7(t,e,n={}){const[s,r,i]=HC(t,n),a=l=>{const c=l.currentTarget;if(!$_(l)||Ml.has(c))return;Ml.add(c);const h=e(l),d=(g,b)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),!(!$_(g)||!Ml.has(c))&&(Ml.delete(c),typeof h=="function"&&h(g,{success:b}))},f=g=>{d(g,n.useGlobalTarget||GC(c,g.target))},m=g=>{d(g,!1)};window.addEventListener("pointerup",f,r),window.addEventListener("pointercancel",m,r)};return s.forEach(l=>{!j7(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,r),l.addEventListener("focus",h=>C7(h,r),r)}),i}function I7(t){return t==="x"||t==="y"?Ln[t]?null:(Ln[t]=!0,()=>{Ln[t]=!1}):Ln.x||Ln.y?null:(Ln.x=Ln.y=!0,()=>{Ln.x=Ln.y=!1})}const $C=new Set(["width","height","top","left","right","bottom",...qo]);let Bh;function M7(){Bh=void 0}const cs={now:()=>(Bh===void 0&&cs.set(Tt.isProcessing||AU.useManualTiming?Tt.timestamp:performance.now()),Bh),set:t=>{Bh=t,queueMicrotask(M7)}};function lv(t,e){t.indexOf(e)===-1&&t.push(e)}function cv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class uv{constructor(){this.subscriptions=[]}add(e){return lv(this.subscriptions,e),()=>cv(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let i=0;i<r;i++){const a=this.subscriptions[i];a&&a(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function YC(t,e){return e?t*(1e3/e):0}const Y_=30,D7=t=>!isNaN(parseFloat(t));class k7{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{const i=cs.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=cs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=D7(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new uv);const s=this.events[e].add(n);return e==="change"?()=>{s(),Le.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=cs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Y_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Y_);return YC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Pc(t,e){return new k7(t,e)}function P7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Pc(n))}function O7(t,e){const n=Zf(t,e);let{transitionEnd:s={},transition:r={},...i}=n||{};i={...i,...s};for(const a in i){const l=QU(i[a]);P7(t,a,l)}}function V7(t){return!!(Lt(t)&&t.add)}function dy(t,e){const n=t.getValue("willChange");if(V7(n))return n.add(e)}function QC(t){return t.props[EC]}const KC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,L7=1e-7,U7=12;function z7(t,e,n,s,r){let i,a,l=0;do a=e+(n-e)/2,i=KC(a,s,r)-t,i>0?n=a:e=a;while(Math.abs(i)>L7&&++l<U7);return a}function wu(t,e,n,s){if(t===e&&n===s)return gn;const r=i=>z7(i,0,1,t,n);return i=>i===0||i===1?i:KC(r(i),e,s)}const WC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,XC=t=>e=>1-t(1-e),JC=wu(.33,1.53,.69,.99),hv=XC(JC),ZC=WC(hv),eR=t=>(t*=2)<1?.5*hv(t):.5*(2-Math.pow(2,-10*(t-1))),dv=t=>1-Math.sin(Math.acos(t)),tR=XC(dv),nR=WC(dv),sR=t=>/^0[^.\s]+$/u.test(t);function B7(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||sR(t):!0}const tc=t=>Math.round(t*1e5)/1e5,fv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function F7(t){return t==null}const q7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mv=(t,e)=>n=>!!(typeof n=="string"&&q7.test(n)&&n.startsWith(t)||e&&!F7(n)&&Object.prototype.hasOwnProperty.call(n,e)),rR=(t,e,n)=>s=>{if(typeof s!="string")return s;const[r,i,a,l]=s.match(fv);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},H7=t=>Ys(0,255,t),Ep={...Ho,transform:t=>Math.round(H7(t))},Ri={test:mv("rgb","red"),parse:rR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Ep.transform(t)+", "+Ep.transform(e)+", "+Ep.transform(n)+", "+tc(kc.transform(s))+")"};function G7(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const fy={test:mv("#"),parse:G7,transform:Ri.transform},Pa={test:mv("hsl","hue"),parse:rR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ls.transform(tc(e))+", "+ls.transform(tc(n))+", "+tc(kc.transform(s))+")"},Ot={test:t=>Ri.test(t)||fy.test(t)||Pa.test(t),parse:t=>Ri.test(t)?Ri.parse(t):Pa.test(t)?Pa.parse(t):fy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ri.transform(t):Pa.transform(t)},$7=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Y7(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(fv))===null||e===void 0?void 0:e.length)||0)+(((n=t.match($7))===null||n===void 0?void 0:n.length)||0)>0}const iR="number",aR="color",Q7="var",K7="var(",Q_="${}",W7=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Oc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},r=[];let i=0;const l=e.replace(W7,c=>(Ot.test(c)?(s.color.push(i),r.push(aR),n.push(Ot.parse(c))):c.startsWith(K7)?(s.var.push(i),r.push(Q7),n.push(c)):(s.number.push(i),r.push(iR),n.push(parseFloat(c))),++i,Q_)).split(Q_);return{values:n,split:l,indexes:s,types:r}}function oR(t){return Oc(t).values}function lR(t){const{split:e,types:n}=Oc(t),s=e.length;return r=>{let i="";for(let a=0;a<s;a++)if(i+=e[a],r[a]!==void 0){const l=n[a];l===iR?i+=tc(r[a]):l===aR?i+=Ot.transform(r[a]):i+=r[a]}return i}}const X7=t=>typeof t=="number"?0:t;function J7(t){const e=oR(t);return lR(t)(e.map(X7))}const ti={test:Y7,parse:oR,createTransformer:lR,getAnimatableNone:J7},Z7=new Set(["brightness","contrast","saturate","opacity"]);function ez(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(fv)||[];if(!s)return t;const r=n.replace(s,"");let i=Z7.has(e)?1:0;return s!==n&&(i*=100),e+"("+i+r+")"}const tz=/\b([a-z-]*)\(.*?\)/gu,my={...ti,getAnimatableNone:t=>{const e=t.match(tz);return e?e.map(ez).join(" "):t}},nz={...Jx,color:Ot,backgroundColor:Ot,outlineColor:Ot,fill:Ot,stroke:Ot,borderColor:Ot,borderTopColor:Ot,borderRightColor:Ot,borderBottomColor:Ot,borderLeftColor:Ot,filter:my,WebkitFilter:my},pv=t=>nz[t];function cR(t,e){let n=pv(t);return n!==my&&(n=ti),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const sz=new Set(["auto","none","0"]);function rz(t,e,n){let s=0,r;for(;s<t.length&&!r;){const i=t[s];typeof i=="string"&&!sz.has(i)&&Oc(i).values.length&&(r=t[s]),s++}if(r&&n)for(const i of e)t[i]=cR(n,r)}const K_=t=>t===Ho||t===X,W_=(t,e)=>parseFloat(t.split(", ")[e]),X_=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const r=s.match(/^matrix3d\((.+)\)$/u);if(r)return W_(r[1],e);{const i=s.match(/^matrix\((.+)\)$/u);return i?W_(i[1],t):0}},iz=new Set(["x","y","z"]),az=qo.filter(t=>!iz.has(t));function oz(t){const e=[];return az.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const vo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:X_(4,13),y:X_(5,14)};vo.translateX=vo.x;vo.translateY=vo.y;const Vi=new Set;let py=!1,gy=!1;function uR(){if(gy){const t=Array.from(Vi).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const r=oz(s);r.length&&(n.set(s,r),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([i,a])=>{var l;(l=s.getValue(i))===null||l===void 0||l.set(a)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}gy=!1,py=!1,Vi.forEach(t=>t.complete()),Vi.clear()}function hR(){Vi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(gy=!0)})}function lz(){hR(),uR()}class gv{constructor(e,n,s,r,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Vi.add(this),py||(py=!0,Le.read(hR),Le.resolveKeyframes(uR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:r}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const a=r==null?void 0:r.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(s&&n){const c=s.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),r&&a===void 0&&r.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Vi.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Vi.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const dR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),cz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function uz(t){const e=cz.exec(t);if(!e)return[,];const[,n,s,r]=e;return[`--${n??s}`,r]}function fR(t,e,n=1){const[s,r]=uz(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const a=i.trim();return dR(a)?parseFloat(a):a}return Xx(r)?fR(r,e,n+1):r}const mR=t=>e=>e.test(t),hz={test:t=>t==="auto",parse:t=>t},pR=[Ho,X,ls,lr,e7,ZU,hz],J_=t=>pR.find(mR(t));class gR extends gv{constructor(e,n,s,r,i){super(e,n,s,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let h=e[c];if(typeof h=="string"&&(h=h.trim(),Xx(h))){const d=fR(h,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!$C.has(s)||e.length!==2)return;const[r,i]=e,a=J_(r),l=J_(i);if(a!==l)if(K_(a)&&K_(l))for(let c=0;c<e.length;c++){const h=e[c];typeof h=="string"&&(e[c]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let r=0;r<e.length;r++)B7(e[r])&&s.push(r);s.length&&rz(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vo[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:s,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const i=n.getValue(s);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=vo[s](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,h])=>{n.getValue(c).set(h)}),this.resolveNoneKeyframes()}}const Z_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ti.test(t)||t==="0")&&!t.startsWith("url("));function dz(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function fz(t,e,n,s){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=Z_(r,e),l=Z_(i,e);return!a||!l?!1:dz(t)||(n==="spring"||iv(n))&&s}const mz=t=>t!==null;function em(t,{repeat:e,repeatType:n="loop"},s){const r=t.filter(mz),i=e&&n!=="loop"&&e%2===1?0:r.length-1;return!i||s===void 0?r[i]:s}const pz=40;class yR{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=cs.now(),this.options={autoplay:e,delay:n,type:s,repeat:r,repeatDelay:i,repeatType:a,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>pz?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&lz(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=cs.now(),this.hasAttemptedResolve=!0;const{name:s,type:r,velocity:i,delay:a,onComplete:l,onUpdate:c,isGenerator:h}=this.options;if(!h&&!fz(e,s,r,i))if(a)this.options.duration=0;else{c&&c(em(e,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const qe=(t,e,n)=>t+(e-t)*n;function Np(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function gz({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,i=0,a=0;if(!e)r=i=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;r=Np(c,l,t+1/3),i=Np(c,l,t),a=Np(c,l,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:s}}function Yd(t,e){return n=>n>0?e:t}const Sp=(t,e,n)=>{const s=t*t,r=n*(e*e-s)+s;return r<0?0:Math.sqrt(r)},yz=[fy,Ri,Pa],xz=t=>yz.find(e=>e.test(t));function eT(t){const e=xz(t);if(!e)return!1;let n=e.parse(t);return e===Pa&&(n=gz(n)),n}const tT=(t,e)=>{const n=eT(t),s=eT(e);if(!n||!s)return Yd(t,e);const r={...n};return i=>(r.red=Sp(n.red,s.red,i),r.green=Sp(n.green,s.green,i),r.blue=Sp(n.blue,s.blue,i),r.alpha=qe(n.alpha,s.alpha,i),Ri.transform(r))},vz=(t,e)=>n=>e(t(n)),_u=(...t)=>t.reduce(vz),yy=new Set(["none","hidden"]);function bz(t,e){return yy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function wz(t,e){return n=>qe(t,e,n)}function yv(t){return typeof t=="number"?wz:typeof t=="string"?Xx(t)?Yd:Ot.test(t)?tT:Ez:Array.isArray(t)?xR:typeof t=="object"?Ot.test(t)?tT:_z:Yd}function xR(t,e){const n=[...t],s=n.length,r=t.map((i,a)=>yv(i)(i,e[a]));return i=>{for(let a=0;a<s;a++)n[a]=r[a](i);return n}}function _z(t,e){const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=yv(t[r])(t[r],e[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}}function Tz(t,e){var n;const s=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=t.indexes[a][r[a]],c=(n=t.values[l])!==null&&n!==void 0?n:0;s[i]=c,r[a]++}return s}const Ez=(t,e)=>{const n=ti.createTransformer(e),s=Oc(t),r=Oc(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?yy.has(t)&&!r.values.length||yy.has(e)&&!s.values.length?bz(t,e):_u(xR(Tz(s,r),r.values),n):Yd(t,e)};function vR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?qe(t,e,n):yv(t)(t,e)}const Nz=5;function bR(t,e,n){const s=Math.max(e-Nz,0);return YC(n-t(s),e-s)}const Qe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ap=.001;function Sz({duration:t=Qe.duration,bounce:e=Qe.bounce,velocity:n=Qe.velocity,mass:s=Qe.mass}){let r,i,a=1-e;a=Ys(Qe.minDamping,Qe.maxDamping,a),t=Ys(Qe.minDuration,Qe.maxDuration,Ds(t)),a<1?(r=h=>{const d=h*a,f=d*t,m=d-n,g=xy(h,a),b=Math.exp(-f);return Ap-m/g*b},i=h=>{const f=h*a*t,m=f*n+n,g=Math.pow(a,2)*Math.pow(h,2)*t,b=Math.exp(-f),E=xy(Math.pow(h,2),a);return(-r(h)+Ap>0?-1:1)*((m-g)*b)/E}):(r=h=>{const d=Math.exp(-h*t),f=(h-n)*t+1;return-Ap+d*f},i=h=>{const d=Math.exp(-h*t),f=(n-h)*(t*t);return d*f});const l=5/t,c=jz(r,i,l);if(t=Ms(t),isNaN(c))return{stiffness:Qe.stiffness,damping:Qe.damping,duration:t};{const h=Math.pow(c,2)*s;return{stiffness:h,damping:a*2*Math.sqrt(s*h),duration:t}}}const Az=12;function jz(t,e,n){let s=n;for(let r=1;r<Az;r++)s=s-t(s)/e(s);return s}function xy(t,e){return t*Math.sqrt(1-e*e)}const Cz=["duration","bounce"],Rz=["stiffness","damping","mass"];function nT(t,e){return e.some(n=>t[n]!==void 0)}function Iz(t){let e={velocity:Qe.velocity,stiffness:Qe.stiffness,damping:Qe.damping,mass:Qe.mass,isResolvedFromDuration:!1,...t};if(!nT(t,Rz)&&nT(t,Cz))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,i=2*Ys(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Qe.mass,stiffness:r,damping:i}}else{const n=Sz(t);e={...e,...n,mass:Qe.mass},e.isResolvedFromDuration=!0}return e}function wR(t=Qe.visualDuration,e=Qe.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:r}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:h,mass:d,duration:f,velocity:m,isResolvedFromDuration:g}=Iz({...n,velocity:-Ds(n.velocity||0)}),b=m||0,E=h/(2*Math.sqrt(c*d)),S=a-i,x=Ds(Math.sqrt(c/d)),v=Math.abs(S)<5;s||(s=v?Qe.restSpeed.granular:Qe.restSpeed.default),r||(r=v?Qe.restDelta.granular:Qe.restDelta.default);let _;if(E<1){const D=xy(x,E);_=P=>{const N=Math.exp(-E*x*P);return a-N*((b+E*x*S)/D*Math.sin(D*P)+S*Math.cos(D*P))}}else if(E===1)_=D=>a-Math.exp(-x*D)*(S+(b+x*S)*D);else{const D=x*Math.sqrt(E*E-1);_=P=>{const N=Math.exp(-E*x*P),w=Math.min(D*P,300);return a-N*((b+E*x*S)*Math.sinh(w)+D*S*Math.cosh(w))/D}}const C={calculatedDuration:g&&f||null,next:D=>{const P=_(D);if(g)l.done=D>=f;else{let N=0;E<1&&(N=D===0?Ms(b):bR(_,D,P));const w=Math.abs(N)<=s,A=Math.abs(a-P)<=r;l.done=w&&A}return l.value=l.done?a:P,l},toString:()=>{const D=Math.min(UC(C),uy),P=zC(N=>C.next(D*N).value,D,30);return D+"ms "+P}};return C}function sT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:h=.5,restSpeed:d}){const f=t[0],m={done:!1,value:f},g=w=>l!==void 0&&w<l||c!==void 0&&w>c,b=w=>l===void 0?c:c===void 0||Math.abs(l-w)<Math.abs(c-w)?l:c;let E=n*e;const S=f+E,x=a===void 0?S:a(S);x!==S&&(E=x-f);const v=w=>-E*Math.exp(-w/s),_=w=>x+v(w),C=w=>{const A=v(w),R=_(w);m.done=Math.abs(A)<=h,m.value=m.done?x:R};let D,P;const N=w=>{g(m.value)&&(D=w,P=wR({keyframes:[m.value,b(m.value)],velocity:bR(_,w,m.value),damping:r,stiffness:i,restDelta:h,restSpeed:d}))};return N(0),{calculatedDuration:null,next:w=>{let A=!1;return!P&&D===void 0&&(A=!0,C(w),N(w)),D!==void 0&&w>=D?P.next(w-D):(!A&&C(w),m)}}}const Mz=wu(.42,0,1,1),Dz=wu(0,0,.58,1),_R=wu(.42,0,.58,1),kz=t=>Array.isArray(t)&&typeof t[0]!="number",Pz={linear:gn,easeIn:Mz,easeInOut:_R,easeOut:Dz,circIn:dv,circInOut:nR,circOut:tR,backIn:hv,backInOut:ZC,backOut:JC,anticipate:eR},rT=t=>{if(av(t)){vC(t.length===4);const[e,n,s,r]=t;return wu(e,n,s,r)}else if(typeof t=="string")return Pz[t];return t};function Oz(t,e,n){const s=[],r=n||vR,i=t.length-1;for(let a=0;a<i;a++){let l=r(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||gn:e;l=_u(c,l)}s.push(l)}return s}function Vz(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const i=t.length;if(vC(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=Oz(e,s,r),c=l.length,h=d=>{if(a&&d<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const m=yo(t[f],t[f+1],d);return l[f](m)};return n?d=>h(Ys(t[0],t[i-1],d)):h}function Lz(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=yo(0,e,s);t.push(qe(n,1,r))}}function Uz(t){const e=[0];return Lz(e,t.length-1),e}function zz(t,e){return t.map(n=>n*e)}function Bz(t,e){return t.map(()=>e||_R).splice(0,t.length-1)}function Qd({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=kz(s)?s.map(rT):rT(s),i={done:!1,value:e[0]},a=zz(n&&n.length===e.length?n:Uz(e),t),l=Vz(a,e,{ease:Array.isArray(r)?r:Bz(e,r)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const Fz=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Le.update(e,!0),stop:()=>ei(e),now:()=>Tt.isProcessing?Tt.timestamp:cs.now()}},qz={decay:sT,inertia:sT,tween:Qd,keyframes:Qd,spring:wR},Hz=t=>t/100;class xv extends yR{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:s,element:r,keyframes:i}=this.options,a=(r==null?void 0:r.KeyframeResolver)||gv,l=(c,h)=>this.onKeyframesResolved(c,h);this.resolver=new a(i,l,n,s,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=this.options,l=iv(n)?n:qz[n]||Qd;let c,h;l!==Qd&&typeof e[0]!="number"&&(c=_u(Hz,vR(e[0],e[1])),e=[0,100]);const d=l({...this.options,keyframes:e});i==="mirror"&&(h=l({...this.options,keyframes:[...e].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=UC(d));const{calculatedDuration:f}=d,m=f+r,g=m*(s+1)-r;return{generator:d,mirroredGenerator:h,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:m,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:s}=this;if(!s){const{keyframes:w}=this.options;return{done:!0,value:w[w.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:a,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:h,totalDuration:d,resolvedDuration:f}=s;if(this.startTime===null)return i.next(0);const{delay:m,repeat:g,repeatType:b,repeatDelay:E,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-m*(this.speed>=0?1:-1),v=this.speed>=0?x<0:x>d;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let _=this.currentTime,C=i;if(g){const w=Math.min(this.currentTime,d)/f;let A=Math.floor(w),R=w%1;!R&&w>=1&&(R=1),R===1&&A--,A=Math.min(A,g+1),!!(A%2)&&(b==="reverse"?(R=1-R,E&&(R-=E/f)):b==="mirror"&&(C=a)),_=Ys(0,1,R)*f}const D=v?{done:!1,value:c[0]}:C.next(_);l&&(D.value=l(D.value));let{done:P}=D;!v&&h!==null&&(P=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return N&&r!==void 0&&(D.value=em(c,this.options,r)),S&&S(D.value),N&&this.finish(),D}get duration(){const{resolved:e}=this;return e?Ds(e.calculatedDuration):0}get time(){return Ds(this.currentTime)}set time(e){e=Ms(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Fz,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Gz=new Set(["opacity","clipPath","filter","transform"]);function $z(t,e,n,{delay:s=0,duration:r=300,repeat:i=0,repeatType:a="loop",ease:l="easeInOut",times:c}={}){const h={[e]:n};c&&(h.offset=c);const d=FC(l,r);return Array.isArray(d)&&(h.easing=d),t.animate(h,{delay:s,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}const Yz=Hx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Kd=10,Qz=2e4;function Kz(t){return iv(t.type)||t.type==="spring"||!BC(t.ease)}function Wz(t,e){const n=new xv({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const r=[];let i=0;for(;!s.done&&i<Qz;)s=n.sample(i),r.push(s.value),i+=Kd;return{times:void 0,keyframes:r,duration:i-Kd,ease:"linear"}}const TR={anticipate:eR,backInOut:ZC,circInOut:nR};function Xz(t){return t in TR}class iT extends yR{constructor(e){super(e);const{name:n,motionValue:s,element:r,keyframes:i}=this.options;this.resolver=new gR(i,(a,l)=>this.onKeyframesResolved(a,l),n,s,r),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:s=300,times:r,ease:i,type:a,motionValue:l,name:c,startTime:h}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&$d()&&Xz(i)&&(i=TR[i]),Kz(this.options)){const{onComplete:f,onUpdate:m,motionValue:g,element:b,...E}=this.options,S=Wz(e,E);e=S.keyframes,e.length===1&&(e[1]=e[0]),s=S.duration,r=S.times,i=S.ease,a="keyframes"}const d=$z(l.owner.current,c,e,{...this.options,duration:s,times:r,ease:i});return d.startTime=h??this.calcStartTime(),this.pendingTimeline?(q_(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(em(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:r,type:a,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ds(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ds(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=Ms(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return gn;const{animation:s}=n;q_(s,e)}return gn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:s,duration:r,type:i,ease:a,times:l}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:d,onComplete:f,element:m,...g}=this.options,b=new xv({...g,keyframes:s,duration:r,type:i,ease:a,times:l,isGenerator:!0}),E=Ms(this.time);h.setWithVelocity(b.sample(E-Kd).value,b.sample(E).value,Kd)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:s,repeatDelay:r,repeatType:i,damping:a,type:l}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:h}=n.owner.getProps();return Yz()&&s&&Gz.has(s)&&!c&&!h&&!r&&i!=="mirror"&&a!==0&&l!=="inertia"}}const Jz={type:"spring",stiffness:500,damping:25,restSpeed:10},Zz=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),eB={type:"keyframes",duration:.8},tB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nB=(t,{keyframes:e})=>e.length>2?eB:ra.has(t)?t.startsWith("scale")?Zz(e[1]):Jz:tB;function sB({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:h,...d}){return!!Object.keys(d).length}const vv=(t,e,n,s={},r,i)=>a=>{const l=rv(s,t)||{},c=l.delay||s.delay||0;let{elapsed:h=0}=s;h=h-Ms(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-h,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:r};sB(l)||(d={...d,...nB(t,d)}),d.duration&&(d.duration=Ms(d.duration)),d.repeatDelay&&(d.repeatDelay=Ms(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!i&&e.get()!==void 0){const m=em(d.keyframes,l);if(m!==void 0)return Le.update(()=>{d.onUpdate(m),d.onComplete()}),new _7([])}return!i&&iT.supports(d)?new iT(d):new xv(d)};function rB({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function ER(t,e,{delay:n=0,transitionOverride:s,type:r}={}){var i;let{transition:a=t.getDefaultTransition(),transitionEnd:l,...c}=e;s&&(a=s);const h=[],d=r&&t.animationState&&t.animationState.getState()[r];for(const f in c){const m=t.getValue(f,(i=t.latestValues[f])!==null&&i!==void 0?i:null),g=c[f];if(g===void 0||d&&rB(d,f))continue;const b={delay:n,...rv(a||{},f)};let E=!1;if(window.MotionHandoffAnimation){const x=QC(t);if(x){const v=window.MotionHandoffAnimation(x,f,Le);v!==null&&(b.startTime=v,E=!0)}}dy(t,f),m.start(vv(f,m,g,t.shouldReduceMotion&&$C.has(f)?{type:!1}:b,t,E));const S=m.animation;S&&h.push(S)}return l&&Promise.all(h).then(()=>{Le.update(()=>{l&&O7(t,l)})}),h}function vy(t,e,n={}){var s;const r=Zf(t,e,n.type==="exit"?(s=t.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(ER(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:m}=i;return iB(t,e,d+h,f,m,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[h,d]=c==="beforeChildren"?[a,l]:[l,a];return h().then(()=>d())}else return Promise.all([a(),l(n.delay)])}function iB(t,e,n=0,s=0,r=1,i){const a=[],l=(t.variantChildren.size-1)*s,c=r===1?(h=0)=>h*s:(h=0)=>l-h*s;return Array.from(t.variantChildren).sort(aB).forEach((h,d)=>{h.notify("AnimationStart",e),a.push(vy(h,e,{...i,delay:n+c(d)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(a)}function aB(t,e){return t.sortNodePosition(e)}function oB(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(i=>vy(t,i,n));s=Promise.all(r)}else if(typeof e=="string")s=vy(t,e,n);else{const r=typeof e=="function"?Zf(t,e,n.custom):e;s=Promise.all(ER(t,r,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const lB=$x.length;function NR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?NR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<lB;n++){const s=$x[n],r=t.props[s];(Dc(r)||r===!1)&&(e[s]=r)}return e}const cB=[...Gx].reverse(),uB=Gx.length;function hB(t){return e=>Promise.all(e.map(({animation:n,options:s})=>oB(t,n,s)))}function dB(t){let e=hB(t),n=aT(),s=!0;const r=c=>(h,d)=>{var f;const m=Zf(t,d,c==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(m){const{transition:g,transitionEnd:b,...E}=m;h={...h,...E,...b}}return h};function i(c){e=c(t)}function a(c){const{props:h}=t,d=NR(t.parent)||{},f=[],m=new Set;let g={},b=1/0;for(let S=0;S<uB;S++){const x=cB[S],v=n[x],_=h[x]!==void 0?h[x]:d[x],C=Dc(_),D=x===c?v.isActive:null;D===!1&&(b=S);let P=_===d[x]&&_!==h[x]&&C;if(P&&s&&t.manuallyAnimateOnMount&&(P=!1),v.protectedKeys={...g},!v.isActive&&D===null||!_&&!v.prevProp||Xf(_)||typeof _=="boolean")continue;const N=fB(v.prevProp,_);let w=N||x===c&&v.isActive&&!P&&C||S>b&&C,A=!1;const R=Array.isArray(_)?_:[_];let M=R.reduce(r(x),{});D===!1&&(M={});const{prevResolvedValues:k={}}=v,I={...k,...M},$=Q=>{w=!0,m.has(Q)&&(A=!0,m.delete(Q)),v.needsAnimating[Q]=!0;const K=t.getValue(Q);K&&(K.liveStyle=!1)};for(const Q in I){const K=M[Q],xe=k[Q];if(g.hasOwnProperty(Q))continue;let ze=!1;cy(K)&&cy(xe)?ze=!LC(K,xe):ze=K!==xe,ze?K!=null?$(Q):m.add(Q):K!==void 0&&m.has(Q)?$(Q):v.protectedKeys[Q]=!0}v.prevProp=_,v.prevResolvedValues=M,v.isActive&&(g={...g,...M}),s&&t.blockInitialAnimation&&(w=!1),w&&(!(P&&N)||A)&&f.push(...R.map(Q=>({animation:Q,options:{type:x}})))}if(m.size){const S={};m.forEach(x=>{const v=t.getBaseTarget(x),_=t.getValue(x);_&&(_.liveStyle=!0),S[x]=v??null}),f.push({animation:S})}let E=!!f.length;return s&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(E=!1),s=!1,E?e(f):Promise.resolve()}function l(c,h){var d;if(n[c].isActive===h)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(c,h)}),n[c].isActive=h;const f=a(c);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=aT(),s=!0}}}function fB(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!LC(e,t):!1}function vi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aT(){return{animate:vi(!0),whileInView:vi(),whileHover:vi(),whileTap:vi(),whileDrag:vi(),whileFocus:vi(),exit:vi()}}class ui{constructor(e){this.isMounted=!1,this.node=e}update(){}}class mB extends ui{constructor(e){super(e),e.animationState||(e.animationState=dB(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Xf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let pB=0;class gB extends ui{constructor(){super(...arguments),this.id=pB++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const yB={animation:{Feature:mB},exit:{Feature:gB}};function Vc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Tu(t){return{point:{x:t.pageX,y:t.pageY}}}const xB=t=>e=>ov(e)&&t(e,Tu(e));function nc(t,e,n,s){return Vc(t,e,xB(n),s)}const oT=(t,e)=>Math.abs(t-e);function vB(t,e){const n=oT(t.x,e.x),s=oT(t.y,e.y);return Math.sqrt(n**2+s**2)}class SR{constructor(e,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Cp(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=vB(f.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:b}=f,{timestamp:E}=Tt;this.history.push({...b,timestamp:E});const{onStart:S,onMove:x}=this.handlers;m||(S&&S(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=jp(m,this.transformPagePoint),Le.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:g,onSessionEnd:b,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Cp(f.type==="pointercancel"?this.lastMoveEventInfo:jp(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,S),b&&b(f,S)},!ov(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const a=Tu(e),l=jp(a,this.transformPagePoint),{point:c}=l,{timestamp:h}=Tt;this.history=[{...c,timestamp:h}];const{onSessionStart:d}=n;d&&d(e,Cp(l,this.history)),this.removeListeners=_u(nc(this.contextWindow,"pointermove",this.handlePointerMove),nc(this.contextWindow,"pointerup",this.handlePointerUp),nc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ei(this.updatePoint)}}function jp(t,e){return e?{point:e(t.point)}:t}function lT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Cp({point:t},e){return{point:t,delta:lT(t,AR(e)),offset:lT(t,bB(e)),velocity:wB(e,.1)}}function bB(t){return t[0]}function AR(t){return t[t.length-1]}function wB(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=AR(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>Ms(e)));)n--;if(!s)return{x:0,y:0};const i=Ds(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const a={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const jR=1e-4,_B=1-jR,TB=1+jR,CR=.01,EB=0-CR,NB=0+CR;function bn(t){return t.max-t.min}function SB(t,e,n){return Math.abs(t-e)<=n}function cT(t,e,n,s=.5){t.origin=s,t.originPoint=qe(e.min,e.max,t.origin),t.scale=bn(n)/bn(e),t.translate=qe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=_B&&t.scale<=TB||isNaN(t.scale))&&(t.scale=1),(t.translate>=EB&&t.translate<=NB||isNaN(t.translate))&&(t.translate=0)}function sc(t,e,n,s){cT(t.x,e.x,n.x,s?s.originX:void 0),cT(t.y,e.y,n.y,s?s.originY:void 0)}function uT(t,e,n){t.min=n.min+e.min,t.max=t.min+bn(e)}function AB(t,e,n){uT(t.x,e.x,n.x),uT(t.y,e.y,n.y)}function hT(t,e,n){t.min=e.min-n.min,t.max=t.min+bn(e)}function rc(t,e,n){hT(t.x,e.x,n.x),hT(t.y,e.y,n.y)}function jB(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?qe(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?qe(n,t,s.max):Math.min(t,n)),t}function dT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function CB(t,{top:e,left:n,bottom:s,right:r}){return{x:dT(t.x,n,r),y:dT(t.y,e,s)}}function fT(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function RB(t,e){return{x:fT(t.x,e.x),y:fT(t.y,e.y)}}function IB(t,e){let n=.5;const s=bn(t),r=bn(e);return r>s?n=yo(e.min,e.max-s,t.min):s>r&&(n=yo(t.min,t.max-r,e.min)),Ys(0,1,n)}function MB(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const by=.35;function DB(t=by){return t===!1?t=0:t===!0&&(t=by),{x:mT(t,"left","right"),y:mT(t,"top","bottom")}}function mT(t,e,n){return{min:pT(t,e),max:pT(t,n)}}function pT(t,e){return typeof t=="number"?t:t[e]||0}const gT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Oa=()=>({x:gT(),y:gT()}),yT=()=>({min:0,max:0}),Xe=()=>({x:yT(),y:yT()});function En(t){return[t("x"),t("y")]}function RR({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function kB({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function PB(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Rp(t){return t===void 0||t===1}function wy({scale:t,scaleX:e,scaleY:n}){return!Rp(t)||!Rp(e)||!Rp(n)}function Ni(t){return wy(t)||IR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function IR(t){return xT(t.x)||xT(t.y)}function xT(t){return t&&t!=="0%"}function Wd(t,e,n){const s=t-n,r=e*s;return n+r}function vT(t,e,n,s,r){return r!==void 0&&(t=Wd(t,r,s)),Wd(t,n,s)+e}function _y(t,e=0,n=1,s,r){t.min=vT(t.min,e,n,s,r),t.max=vT(t.max,e,n,s,r)}function MR(t,{x:e,y:n}){_y(t.x,e.translate,e.scale,e.originPoint),_y(t.y,n.translate,n.scale,n.originPoint)}const bT=.999999999999,wT=1.0000000000001;function OB(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let i,a;for(let l=0;l<r;l++){i=n[l],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&La(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,MR(t,a)),s&&Ni(i.latestValues)&&La(t,i.latestValues))}e.x<wT&&e.x>bT&&(e.x=1),e.y<wT&&e.y>bT&&(e.y=1)}function Va(t,e){t.min=t.min+e,t.max=t.max+e}function _T(t,e,n,s,r=.5){const i=qe(t.min,t.max,r);_y(t,e,n,i,s)}function La(t,e){_T(t.x,e.x,e.scaleX,e.scale,e.originX),_T(t.y,e.y,e.scaleY,e.scale,e.originY)}function DR(t,e){return RR(PB(t.getBoundingClientRect(),e))}function VB(t,e,n){const s=DR(t,n),{scroll:r}=e;return r&&(Va(s.x,r.offset.x),Va(s.y,r.offset.y)),s}const kR=({current:t})=>t?t.ownerDocument.defaultView:null,LB=new WeakMap;class UB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Tu(d).point)},i=(d,f)=>{const{drag:m,dragPropagation:g,onDragStart:b}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=I7(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),En(S=>{let x=this.getAxisMotionValue(S).get()||0;if(ls.test(x)){const{projection:v}=this.visualElement;if(v&&v.layout){const _=v.layout.layoutBox[S];_&&(x=bn(_)*(parseFloat(x)/100))}}this.originPoint[S]=x}),b&&Le.postRender(()=>b(d,f)),dy(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},a=(d,f)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:b,onDrag:E}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:S}=f;if(g&&this.currentDirection===null){this.currentDirection=zB(S),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",f.point,S),this.updateAxis("y",f.point,S),this.visualElement.render(),E&&E(d,f)},l=(d,f)=>this.stop(d,f),c=()=>En(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new SR(e,{onSessionStart:r,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:kR(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Le.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!ch(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(a=jB(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&ka(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=CB(r.layoutBox,n):this.constraints=!1,this.elastic=DB(s),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&En(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=MB(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ka(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=VB(s,r.root,this.visualElement.getTransformPagePoint());let a=RB(r.layout.layoutBox,i);if(n){const l=n(kB(a));this.hasMutatedConstraints=!!l,l&&(a=RR(l))}return a}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},h=En(d=>{if(!ch(d,n,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const m=r?200:1e6,g=r?40:1e7,b={type:"inertia",velocity:s?e[d]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,b)});return Promise.all(h).then(l)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return dy(this.visualElement,e),s.start(vv(e,s,0,n,this.visualElement,!1))}stopAnimation(){En(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){En(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){En(n=>{const{drag:s}=this.getProps();if(!ch(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:a,max:l}=r.layout.layoutBox[n];i.set(e[n]-qe(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ka(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};En(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();r[a]=IB({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),En(a=>{if(!ch(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:h}=this.constraints[a];l.set(qe(c,h,r[a]))})}addListeners(){if(!this.visualElement.current)return;LB.set(this.visualElement,this);const e=this.visualElement.current,n=nc(e,"pointerdown",c=>{const{drag:h,dragListener:d=!0}=this.getProps();h&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();ka(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Le.read(s);const a=Vc(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:h})=>{this.isDragging&&h&&(En(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=by,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function ch(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function zB(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class BB extends ui{constructor(e){super(e),this.removeGroupControls=gn,this.removeListeners=gn,this.controls=new UB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gn}unmount(){this.removeGroupControls(),this.removeListeners()}}const TT=t=>(e,n)=>{t&&Le.postRender(()=>t(e,n))};class FB extends ui{constructor(){super(...arguments),this.removePointerDownListener=gn}onPointerDown(e){this.session=new SR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:TT(e),onStart:TT(n),onMove:s,onEnd:(i,a)=>{delete this.session,r&&Le.postRender(()=>r(i,a))}}}mount(){this.removePointerDownListener=nc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Fh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ET(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const gl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(X.test(t))t=parseFloat(t);else return t;const n=ET(t,e.target.x),s=ET(t,e.target.y);return`${n}% ${s}%`}},qB={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=ti.parse(t);if(r.length>5)return s;const i=ti.createTransformer(t),a=typeof r[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;r[0+a]/=l,r[1+a]/=c;const h=qe(l,c,.5);return typeof r[2+a]=="number"&&(r[2+a]/=h),typeof r[3+a]=="number"&&(r[3+a]/=h),i(r)}};class HB extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=e;u7(GB),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Fh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,a=s.projection;return a&&(a.isPresent=i,r||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Le.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Qx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function PR(t){const[e,n]=yC(),s=T.useContext(zx);return o.jsx(HB,{...t,layoutGroup:s,switchLayoutGroup:T.useContext(NC),isPresent:e,safeToRemove:n})}const GB={borderRadius:{...gl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gl,borderTopRightRadius:gl,borderBottomLeftRadius:gl,borderBottomRightRadius:gl,boxShadow:qB};function $B(t,e,n){const s=Lt(t)?t:Pc(t);return s.start(vv("",s,e,n)),s.animation}function YB(t){return t instanceof SVGElement&&t.tagName!=="svg"}const QB=(t,e)=>t.depth-e.depth;class KB{constructor(){this.children=[],this.isDirty=!1}add(e){lv(this.children,e),this.isDirty=!0}remove(e){cv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(QB),this.isDirty=!1,this.children.forEach(e)}}function WB(t,e){const n=cs.now(),s=({timestamp:r})=>{const i=r-n;i>=e&&(ei(s),t(i-e))};return Le.read(s,!0),()=>ei(s)}const OR=["TopLeft","TopRight","BottomLeft","BottomRight"],XB=OR.length,NT=t=>typeof t=="string"?parseFloat(t):t,ST=t=>typeof t=="number"||X.test(t);function JB(t,e,n,s,r,i){r?(t.opacity=qe(0,n.opacity!==void 0?n.opacity:1,ZB(s)),t.opacityExit=qe(e.opacity!==void 0?e.opacity:1,0,eF(s))):i&&(t.opacity=qe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let a=0;a<XB;a++){const l=`border${OR[a]}Radius`;let c=AT(e,l),h=AT(n,l);if(c===void 0&&h===void 0)continue;c||(c=0),h||(h=0),c===0||h===0||ST(c)===ST(h)?(t[l]=Math.max(qe(NT(c),NT(h),s),0),(ls.test(h)||ls.test(c))&&(t[l]+="%")):t[l]=h}(e.rotate||n.rotate)&&(t.rotate=qe(e.rotate||0,n.rotate||0,s))}function AT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ZB=VR(0,.5,tR),eF=VR(.5,.95,gn);function VR(t,e,n){return s=>s<t?0:s>e?1:n(yo(t,e,s))}function jT(t,e){t.min=e.min,t.max=e.max}function _n(t,e){jT(t.x,e.x),jT(t.y,e.y)}function CT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function RT(t,e,n,s,r){return t-=e,t=Wd(t,1/n,s),r!==void 0&&(t=Wd(t,1/r,s)),t}function tF(t,e=0,n=1,s=.5,r,i=t,a=t){if(ls.test(e)&&(e=parseFloat(e),e=qe(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=qe(i.min,i.max,s);t===i&&(l-=e),t.min=RT(t.min,e,n,l,r),t.max=RT(t.max,e,n,l,r)}function IT(t,e,[n,s,r],i,a){tF(t,e[n],e[s],e[r],e.scale,i,a)}const nF=["x","scaleX","originX"],sF=["y","scaleY","originY"];function MT(t,e,n,s){IT(t.x,e,nF,n?n.x:void 0,s?s.x:void 0),IT(t.y,e,sF,n?n.y:void 0,s?s.y:void 0)}function DT(t){return t.translate===0&&t.scale===1}function LR(t){return DT(t.x)&&DT(t.y)}function kT(t,e){return t.min===e.min&&t.max===e.max}function rF(t,e){return kT(t.x,e.x)&&kT(t.y,e.y)}function PT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function UR(t,e){return PT(t.x,e.x)&&PT(t.y,e.y)}function OT(t){return bn(t.x)/bn(t.y)}function VT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class iF{constructor(){this.members=[]}add(e){lv(this.members,e),e.scheduleRender()}remove(e){if(cv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function aF(t,e,n){let s="";const r=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((r||i||a)&&(s=`translate3d(${r}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:d,rotateX:f,rotateY:m,skewX:g,skewY:b}=n;h&&(s=`perspective(${h}px) ${s}`),d&&(s+=`rotate(${d}deg) `),f&&(s+=`rotateX(${f}deg) `),m&&(s+=`rotateY(${m}deg) `),g&&(s+=`skewX(${g}deg) `),b&&(s+=`skewY(${b}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const Si={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Dl=typeof window<"u"&&window.MotionDebug!==void 0,Ip=["","X","Y","Z"],oF={visibility:"hidden"},LT=1e3;let lF=0;function Mp(t,e,n,s){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),s&&(s[t]=0))}function zR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=QC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Le,!(r||i))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&zR(s)}function BR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(a={},l=e==null?void 0:e()){this.id=lF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Dl&&(Si.totalNodes=Si.resolvedTargetDeltas=Si.recalculatedProjection=0),this.nodes.forEach(hF),this.nodes.forEach(gF),this.nodes.forEach(yF),this.nodes.forEach(dF),Dl&&window.MotionDebug.record(Si)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new KB)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new uv),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=YB(a),this.instance=a;const{layoutId:c,layout:h,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(h||c)&&(this.isLayoutDirty=!0),t){let f;const m=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=WB(m,250),Fh.hasAnimatedSinceResize&&(Fh.hasAnimatedSinceResize=!1,this.nodes.forEach(zT))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||h)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:g,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||d.getDefaultTransition()||_F,{onLayoutAnimationStart:S,onLayoutAnimationComplete:x}=d.getProps(),v=!this.targetLayout||!UR(this.targetLayout,b)||g,_=!m&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||m&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,_);const C={...rv(E,"layout"),onPlay:S,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else m||zT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ei(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xF),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(UT);return}this.isUpdating||this.nodes.forEach(mF),this.isUpdating=!1,this.nodes.forEach(pF),this.nodes.forEach(cF),this.nodes.forEach(uF),this.clearAllSnapshots();const l=cs.now();Tt.delta=Ys(0,1e3/60,l-Tt.timestamp),Tt.timestamp=l,Tt.isProcessing=!0,_p.update.process(Tt),_p.preRender.process(Tt),_p.render.process(Tt),Tt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Qx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fF),this.sharedNodes.forEach(vF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!LR(this.projectionDelta),c=this.getTransformTemplate(),h=c?c(this.latestValues,""):void 0,d=h!==this.prevTransformTemplateValue;a&&(l||Ni(this.latestValues)||d)&&(r(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),TF(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:l}=this.options;if(!l)return Xe();const c=l.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(EF))){const{scroll:d}=this.root;d&&(Va(c.x,d.offset.x),Va(c.y,d.offset.y))}return c}removeElementScroll(a){var l;const c=Xe();if(_n(c,a),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let h=0;h<this.path.length;h++){const d=this.path[h],{scroll:f,options:m}=d;d!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&_n(c,a),Va(c.x,f.offset.x),Va(c.y,f.offset.y))}return c}applyTransform(a,l=!1){const c=Xe();_n(c,a);for(let h=0;h<this.path.length;h++){const d=this.path[h];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&La(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ni(d.latestValues)&&La(c,d.latestValues)}return Ni(this.latestValues)&&La(c,this.latestValues),c}removeTransform(a){const l=Xe();_n(l,a);for(let c=0;c<this.path.length;c++){const h=this.path[c];if(!h.instance||!Ni(h.latestValues))continue;wy(h.latestValues)&&h.updateSnapshot();const d=Xe(),f=h.measurePageBox();_n(d,f),MT(l,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,d)}return Ni(this.latestValues)&&MT(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(a||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Tt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xe(),this.relativeTargetOrigin=Xe(),rc(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),_n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Xe(),this.targetWithTransforms=Xe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),AB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_n(this.target,this.layout.layoutBox),MR(this.target,this.targetDelta)):_n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xe(),this.relativeTargetOrigin=Xe(),rc(this.relativeTargetOrigin,this.target,g.target),_n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Dl&&Si.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||wy(this.parent.latestValues)||IR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Tt.timestamp&&(h=!1),h)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;_n(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;OB(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Xe());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(CT(this.prevProjectionDelta.x,this.projectionDelta.x),CT(this.prevProjectionDelta.y,this.projectionDelta.y)),sc(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!VT(this.projectionDelta.x,this.prevProjectionDelta.x)||!VT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),Dl&&Si.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Oa(),this.projectionDelta=Oa(),this.projectionDeltaWithTransform=Oa()}setAnimationOrigin(a,l=!1){const c=this.snapshot,h=c?c.latestValues:{},d={...this.latestValues},f=Oa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Xe(),g=c?c.source:void 0,b=this.layout?this.layout.source:void 0,E=g!==b,S=this.getStack(),x=!S||S.members.length<=1,v=!!(E&&!x&&this.options.crossfade===!0&&!this.path.some(wF));this.animationProgress=0;let _;this.mixTargetDelta=C=>{const D=C/1e3;BT(f.x,a.x,D),BT(f.y,a.y,D),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rc(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),bF(this.relativeTarget,this.relativeTargetOrigin,m,D),_&&rF(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Xe()),_n(_,this.relativeTarget)),E&&(this.animationValues=d,JB(d,h,this.latestValues,D,v,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ei(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Le.update(()=>{Fh.hasAnimatedSinceResize=!0,this.currentAnimation=$B(0,LT,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(LT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:h,latestValues:d}=a;if(!(!l||!c||!h)){if(this!==a&&this.layout&&h&&FR(this.options.animationType,this.layout.layoutBox,h.layoutBox)){c=this.target||Xe();const f=bn(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const m=bn(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+m}_n(l,c),La(l,d),sc(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new iF),this.sharedNodes.get(a).add(l);const h=l.options.initialPromotionConfig;l.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const h=this.getStack();h&&h.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const h={};c.z&&Mp("z",a,h,this.animationValues);for(let d=0;d<Ip.length;d++)Mp(`rotate${Ip[d]}`,a,h,this.animationValues),Mp(`skew${Ip[d]}`,a,h,this.animationValues);a.render();for(const d in h)a.setStaticValue(d,h[d]),this.animationValues&&(this.animationValues[d]=h[d]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return oF;const h={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=zh(a==null?void 0:a.pointerEvents)||"",h.transform=d?d(this.latestValues,""):"none",h;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=zh(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ni(this.latestValues)&&(E.transform=d?d({},""):"none",this.hasProjected=!1),E}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),h.transform=aF(this.projectionDeltaWithTransform,this.treeScale,m),d&&(h.transform=d(m,h.transform));const{x:g,y:b}=this.projectionDelta;h.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,f.animationValues?h.opacity=f===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:h.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const E in Gd){if(m[E]===void 0)continue;const{correct:S,applyTo:x}=Gd[E],v=h.transform==="none"?m[E]:S(m[E],f);if(x){const _=x.length;for(let C=0;C<_;C++)h[x[C]]=v}else h[E]=v}return this.options.layoutId&&(h.pointerEvents=f===this?zh(a==null?void 0:a.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(UT),this.root.sharedNodes.clear()}}}function cF(t){t.updateLayout()}function uF(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:i}=t.options,a=n.source!==t.layout.source;i==="size"?En(f=>{const m=a?n.measuredBox[f]:n.layoutBox[f],g=bn(m);m.min=s[f].min,m.max=m.min+g}):FR(i,n.layoutBox,s)&&En(f=>{const m=a?n.measuredBox[f]:n.layoutBox[f],g=bn(s[f]);m.max=m.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const l=Oa();sc(l,s,n.layoutBox);const c=Oa();a?sc(c,t.applyTransform(r,!0),n.measuredBox):sc(c,s,n.layoutBox);const h=!LR(l);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:g}=f;if(m&&g){const b=Xe();rc(b,n.layoutBox,m.layoutBox);const E=Xe();rc(E,s,g.layoutBox),UR(b,E)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=b,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:h,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function hF(t){Dl&&Si.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function dF(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function fF(t){t.clearSnapshot()}function UT(t){t.clearMeasurements()}function mF(t){t.isLayoutDirty=!1}function pF(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function zT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function gF(t){t.resolveTargetDelta()}function yF(t){t.calcProjection()}function xF(t){t.resetSkewAndRotation()}function vF(t){t.removeLeadSnapshot()}function BT(t,e,n){t.translate=qe(e.translate,0,n),t.scale=qe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function FT(t,e,n,s){t.min=qe(e.min,n.min,s),t.max=qe(e.max,n.max,s)}function bF(t,e,n,s){FT(t.x,e.x,n.x,s),FT(t.y,e.y,n.y,s)}function wF(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const _F={duration:.45,ease:[.4,0,.1,1]},qT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),HT=qT("applewebkit/")&&!qT("chrome/")?Math.round:gn;function GT(t){t.min=HT(t.min),t.max=HT(t.max)}function TF(t){GT(t.x),GT(t.y)}function FR(t,e,n){return t==="position"||t==="preserve-aspect"&&!SB(OT(e),OT(n),.2)}function EF(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const NF=BR({attachResizeListener:(t,e)=>Vc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dp={current:void 0},qR=BR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Dp.current){const t=new NF({});t.mount(window),t.setOptions({layoutScroll:!0}),Dp.current=t}return Dp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),SF={pan:{Feature:FB},drag:{Feature:BB,ProjectionNode:qR,MeasureLayout:PR}};function $T(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,i=s[r];i&&Le.postRender(()=>i(e,Tu(e)))}class AF extends ui{mount(){const{current:e}=this.node;e&&(this.unmount=S7(e,n=>($T(this.node,n,"Start"),s=>$T(this.node,s,"End"))))}unmount(){}}class jF extends ui{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_u(Vc(this.node.current,"focus",()=>this.onFocus()),Vc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function YT(t,e,n){const{props:s}=t;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),i=s[r];i&&Le.postRender(()=>i(e,Tu(e)))}class CF extends ui{mount(){const{current:e}=this.node;e&&(this.unmount=R7(e,n=>(YT(this.node,n,"Start"),(s,{success:r})=>YT(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ty=new WeakMap,kp=new WeakMap,RF=t=>{const e=Ty.get(t.target);e&&e(t)},IF=t=>{t.forEach(RF)};function MF({root:t,...e}){const n=t||document;kp.has(n)||kp.set(n,{});const s=kp.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(IF,{root:t,...e})),s[r]}function DF(t,e,n){const s=MF(e);return Ty.set(t,n),s.observe(t),()=>{Ty.delete(t),s.unobserve(t)}}const kF={some:0,all:1};class PF extends ui{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:kF[r]},l=c=>{const{isIntersecting:h}=c;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=h?d:f;m&&m(c)};return DF(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(OF(e,n))&&this.startObserver()}unmount(){}}function OF({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const VF={inView:{Feature:PF},tap:{Feature:CF},focus:{Feature:jF},hover:{Feature:AF}},LF={layout:{ProjectionNode:qR,MeasureLayout:PR}},Ey={current:null},HR={current:!1};function UF(){if(HR.current=!0,!!qx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ey.current=t.matches;t.addListener(e),e()}else Ey.current=!1}const zF=[...pR,Ot,ti],BF=t=>zF.find(mR(t)),QT=new WeakMap;function FF(t,e,n){for(const s in e){const r=e[s],i=n[s];if(Lt(r))t.addValue(s,r);else if(Lt(i))t.addValue(s,Pc(r,{owner:t}));else if(i!==r)if(t.hasValue(s)){const a=t.getValue(s);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=t.getStaticValue(s);t.addValue(s,Pc(a!==void 0?a:r,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const KT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qF{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=cs.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Le.render(this.render,!1,!0))};const{latestValues:c,renderState:h,onUpdate:d}=a;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Jf(n),this.isVariantNode=TC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in m){const b=m[g];c[g]!==void 0&&Lt(b)&&b.set(c[g],!1)}}mount(e){this.current=e,QT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),HR.current||UF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ey.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){QT.delete(this.current),this.projection&&this.projection.unmount(),ei(this.notifyUpdate),ei(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=ra.has(e),r=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Le.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in xo){const n=xo[e];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<KT.length;s++){const r=KT[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,a=e[i];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=FF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Pc(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){var s;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(dR(r)||sR(r))?r=parseFloat(r):!BF(r)&&ti.test(n)&&(r=cR(e,n)),this.setBaseTarget(e,Lt(r)?r.get():r)),Lt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const a=Wx(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(r=a[e])}if(s&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Lt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new uv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class GR extends qF{constructor(){super(...arguments),this.KeyframeResolver=gR}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Lt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function HF(t){return window.getComputedStyle(t)}class GF extends GR{constructor(){super(...arguments),this.type="html",this.renderInstance=MC}readValueFromInstance(e,n){if(ra.has(n)){const s=pv(n);return s&&s.default||0}else{const s=HF(e),r=(CC(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return DR(e,n)}build(e,n,s){Zx(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return sv(e,n,s)}}class $F extends GR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xe}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ra.has(n)){const s=pv(n);return s&&s.default||0}return n=DC.has(n)?n:Yx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return OC(e,n,s)}build(e,n,s){ev(e,n,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,s,r){kC(e,n,s,r)}mount(e){this.isSVGTag=nv(e.tagName),super.mount(e)}}const YF=(t,e)=>Kx(t)?new $F(e):new GF(e,{allowProjection:t!==T.Fragment}),QF=v7({...yB,...VF,...SF,...LF},YF),Qs=kU(QF),KF=({product:t,onAddToCart:e,isLoggedIn:n})=>{const{name:s,description:r,category:i,imageUrl:a,available:l,stock:c,popular:h,new:d}=t,f=Qn(),[m,g]=T.useState(t.sizes[0]),b=!l||c===0,E=()=>{n?e(t,m):f("/auth/login")},S=()=>b?o.jsx("p",{className:"text-sm font-medium text-red-600",children:"Out of Stock"}):c<5?o.jsxs("p",{className:"text-sm font-medium text-orange-600",children:["Only ",c," left"]}):o.jsx("p",{className:"text-sm font-medium text-green-600",children:"In Stock"});return o.jsxs(fe,{className:"flex flex-col overflow-hidden transition-transform duration-300 hover:-translate-y-1",hover:!0,children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:a,alt:s,className:"h-48 w-full object-cover"}),o.jsxs("div",{className:"absolute top-2 right-2 flex flex-col items-end gap-1",children:[b?o.jsx(vt,{className:"bg-red-100 text-red-800",children:"Out of Stock"}):c>0&&c<5?o.jsx(vt,{className:"bg-orange-100 text-orange-800",children:"Low Stock"}):null,h&&!b&&o.jsx(vt,{className:"bg-primary-100 text-primary-800",children:"Popular"}),d&&!b&&o.jsx(vt,{className:"bg-blue-100 text-blue-800",children:"New"})]})]}),o.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:i}),o.jsx("h3",{className:"mt-1 text-lg font-semibold text-coffee-900",children:s}),o.jsx("p",{className:"mt-1 h-10 text-sm text-gray-600 line-clamp-2",children:r})]}),o.jsxs("div",{className:"mt-auto pt-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("p",{className:"text-xl font-bold text-primary-600",children:["",m.price.toFixed(2)]}),S()]}),o.jsx("div",{className:"mt-4 flex w-full rounded-full border border-gray-200 bg-gray-50 p-1",children:t.sizes.map(x=>o.jsxs("button",{onClick:()=>g(x),className:`w-1/2 rounded-full py-1.5 text-sm font-semibold transition-colors ${m.name===x.name?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:[x.name," (",x.size,")"]},x.name))}),o.jsx("button",{onClick:E,disabled:b,className:"mt-3 flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-gray-400","aria-label":n?`Add ${s} to cart`:`Login to order ${s}`,children:b?"Out of Stock":n?o.jsxs(o.Fragment,{children:[o.jsx(U0,{className:"h-4 w-4"}),"Add to Cart"]}):"Login to Order"})]})]})]})},$R=()=>o.jsxs(fe,{className:"flex animate-pulse flex-col overflow-hidden",children:[o.jsx("div",{className:"relative",children:o.jsx("div",{className:"h-48 w-full bg-gray-300"})}),o.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"h-4 w-1/4 rounded bg-gray-300"}),o.jsx("div",{className:"mt-2 h-6 w-3/4 rounded bg-gray-300"}),o.jsxs("div",{className:"mt-2 space-y-2",children:[o.jsx("div",{className:"h-4 rounded bg-gray-300"}),o.jsx("div",{className:"h-4 w-5/6 rounded bg-gray-300"})]})]}),o.jsxs("div",{className:"mt-auto pt-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"h-8 w-1/3 rounded bg-gray-300"}),o.jsx("div",{className:"h-5 w-1/4 rounded bg-gray-300"})]}),o.jsx("div",{className:"mt-3 h-10 w-full rounded-full bg-gray-300"})]})]})]}),WF=[{value:"default",label:"Default"},{value:"price-asc",label:"Price: Low to High"},{value:"price-desc",label:"Price: High to Low"},{value:"name-asc",label:"Name: A-Z"},{value:"name-desc",label:"Name: Z-A"}],XF={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},JF={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},ZF=()=>{const{products:t,isLoading:e,error:n}=Fo(),[s,r]=T.useState("All"),[i,a]=T.useState(""),[l,c]=T.useState("default"),[h,d]=T.useState(!1),f=T.useRef(null),m=T.useRef(null),{addToCart:g}=nn(),{currentUser:b}=On(),E=T.useMemo(()=>t.length===0?["All"]:["All",...[...new Set(t.map(v=>v.category))].sort()],[t]);T.useEffect(()=>{const x=v=>{f.current&&!f.current.contains(v.target)&&d(!1)};return document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[]);const S=T.useMemo(()=>{const v=[...t.filter(_=>{const C=s==="All"||_.category===s,D=i.trim()===""||_.name.toLowerCase().includes(i.toLowerCase())||_.description.toLowerCase().includes(i.toLowerCase());return C&&D})];switch(l){case"price-asc":v.sort((_,C)=>_.sizes[0].price-C.sizes[0].price);break;case"price-desc":v.sort((_,C)=>C.sizes[0].price-_.sizes[0].price);break;case"name-asc":v.sort((_,C)=>_.name.localeCompare(C.name));break;case"name-desc":v.sort((_,C)=>C.name.localeCompare(_.name));break}return v},[s,i,t,l]);return o.jsxs("div",{className:"flex min-h-screen flex-col bg-white",children:[o.jsx(ht,{}),o.jsxs("main",{children:[o.jsx("section",{className:"bg-gradient-to-r from-primary-50 to-coffee-50 px-6 py-12 text-center",children:o.jsxs("div",{className:"container mx-auto max-w-4xl",children:[o.jsx("h1",{className:"font-display text-4xl font-bold text-coffee-900 md:text-5xl",children:"Our Menu"}),o.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"Discover your perfect cup "}),o.jsxs("div",{className:"mx-auto mt-6 flex max-w-2xl flex-col items-center gap-4 sm:flex-row",children:[o.jsxs("div",{className:"relative w-full flex-grow",children:[o.jsx(wd,{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",value:i,onChange:x=>a(x.target.value),placeholder:"Search for coffee, matcha...",className:"w-full rounded-full border border-gray-300 py-3 pl-12 pr-4 text-gray-700 placeholder:text-gray-400 shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500"})]}),o.jsxs("div",{className:"relative flex w-full justify-end sm:w-auto sm:justify-start",ref:f,children:[o.jsx("button",{onClick:()=>d(!h),className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-full border border-primary-600 bg-white shadow-sm transition-colors hover:bg-primary-50","aria-haspopup":"true","aria-expanded":h,"aria-label":"Sort products",children:o.jsx(a5,{className:"h-5 w-5 text-gray-500"})}),o.jsx("div",{className:`absolute right-0 top-full z-40 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none transition-all duration-200 ease-out ${h?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,role:"menu","aria-orientation":"vertical",children:o.jsx("div",{className:"py-1",role:"none",children:WF.map(x=>o.jsxs("button",{onClick:()=>{c(x.value),d(!1)},className:`flex w-full items-center justify-between px-4 py-2 text-sm text-left font-medium transition-colors ${l===x.value?"bg-primary-50 text-primary-600":"text-gray-700 hover:bg-gray-100"}`,role:"menuitem",children:[o.jsx("span",{children:x.label}),l===x.value&&o.jsx(Hr,{className:"h-4 w-4"})]},x.value))})})]})]})]})}),o.jsx("div",{className:"sticky top-20 z-30 border-b border-gray-200 bg-white/95 py-3 backdrop-blur-sm",children:o.jsx("div",{className:"container mx-auto flex max-w-7xl gap-2 overflow-x-auto px-6 pb-2",children:E.map(x=>o.jsx("button",{onClick:()=>{var v;r(x),(v=m.current)==null||v.scrollIntoView({behavior:"smooth"})},className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition-colors ${s===x?"bg-primary-600 text-white shadow":"border border-gray-300 bg-white text-gray-700 hover:bg-gray-100"}`,children:x},x))})}),o.jsx("section",{ref:m,className:"bg-gray-50 px-6 py-8 scroll-mt-36",children:o.jsx("div",{className:"container mx-auto max-w-7xl",children:e?o.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:Array.from({length:8}).map((x,v)=>o.jsx($R,{},v))}):n?o.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-red-200 bg-red-50 py-20 text-center text-red-700",children:[o.jsx(ea,{className:"h-16 w-16"}),o.jsx("h3",{className:"mt-4 text-xl font-semibold",children:"Oops! Something went wrong."}),o.jsx("p",{className:"mt-2",children:n})]}):S.length>0?o.jsx(Qs.div,{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",variants:XF,initial:"hidden",animate:"visible",children:S.map(x=>o.jsx(Qs.div,{variants:JF,layout:!0,className:"flex",children:o.jsx(KF,{product:x,onAddToCart:g,isLoggedIn:!!b})},x.id))}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[o.jsx(wd,{className:"h-24 w-24 text-gray-300"}),o.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-800",children:"No products found"}),o.jsx("p",{className:"mt-2 text-gray-500",children:"Try adjusting your filters or search query."})]})})})]}),o.jsx(dt,{})]})},eq=({selectedMethod:t,onSelectMethod:e})=>{const n=t==="gcash",s=t==="cash",r=({isSelected:i})=>o.jsx("div",{className:`absolute top-4 right-4 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full border-2 transition-all ${i?"border-primary-600 bg-primary-600":"border-gray-400 bg-white"}`,children:i&&o.jsx(Hr,{className:"h-4 w-4 text-white"})});return o.jsxs("div",{className:"w-full",children:[o.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Payment Method"}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",role:"radiogroup",children:[o.jsxs("div",{onClick:()=>e("gcash"),role:"radio","aria-checked":n,tabIndex:0,onKeyDown:i=>(i.key===" "||i.key==="Enter")&&e("gcash"),className:`relative cursor-pointer rounded-xl border-2 p-6 transition-all duration-200 ease-in-out hover:border-primary-300 ${n?"border-primary-600 bg-primary-50 shadow-lg":"border-gray-200 bg-white"}`,children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-blue-100",children:o.jsx(VS,{className:"h-7 w-7 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"pr-8 font-display text-lg font-bold text-coffee-900",children:"GCash"}),o.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Pay securely via GCash QR code."})]})]}),o.jsx("div",{className:"mt-4",children:o.jsx(vt,{className:n?"bg-blue-200 text-blue-800":"bg-gray-100 text-gray-700",children:"Instant confirmation"})}),o.jsx(r,{isSelected:n})]}),o.jsxs("div",{onClick:()=>e("cash"),role:"radio","aria-checked":s,tabIndex:0,onKeyDown:i=>(i.key===" "||i.key==="Enter")&&e("cash"),className:`relative cursor-pointer rounded-xl border-2 p-6 transition-all duration-200 ease-in-out hover:border-primary-300 ${s?"border-primary-600 bg-primary-50 shadow-lg":"border-gray-200 bg-white"}`,children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-green-100",children:o.jsx(u5,{className:"h-7 w-7 text-green-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"pr-8 font-display text-lg font-bold text-coffee-900",children:"Cash on Pickup"}),o.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Pay when you collect your order."})]})]}),o.jsx("div",{className:"mt-4",children:o.jsx(vt,{className:s?"bg-green-200 text-green-800":"bg-gray-100 text-gray-700",children:"Pay at counter"})}),o.jsx(r,{isSelected:s})]})]})]})},tq=({totalAmount:t,orderNumber:e,receipt:n,onReceiptUpload:s})=>{const[r,i]=T.useState(null);T.useEffect(()=>{if(!n){i(null);return}const c=URL.createObjectURL(n);return i(c),()=>URL.revokeObjectURL(c)},[n]);const a=c=>{c.target.files&&c.target.files[0]&&s(c.target.files[0]),c.target.value=""},l=()=>{s(null)};return o.jsxs("div",{className:"w-full max-w-md mx-auto space-y-6",children:[o.jsx("div",{className:"rounded-lg border-l-4 border-blue-400 bg-blue-50 p-4",role:"alert",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(ea,{className:"h-5 w-5 text-blue-400","aria-hidden":"true"})}),o.jsx("div",{className:"ml-3",children:o.jsx("p",{className:"text-sm text-blue-700",children:"Please scan the QR code, complete the payment, and upload a screenshot of your receipt."})})]})}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mx-auto flex h-64 w-64 items-center justify-center rounded-xl border-4 border-primary-600 bg-white p-4 shadow-lg",children:o.jsx("div",{className:"relative flex h-full w-full items-center justify-center bg-[radial-gradient(#1e1612_1px,transparent_1px),radial-gradient(#1e1612_1px,transparent_1px)] bg-[length:12px_12px] bg-[position:0_0,6px_6px]",children:o.jsx("div",{className:"bg-white p-2 font-mono text-sm font-bold text-coffee-900",children:e})})}),o.jsxs("p",{className:"mt-4 text-sm font-medium text-gray-600",children:["Merchant: ",o.jsx("span",{className:"font-bold text-coffee-900",children:"Rush Coffee"})]}),o.jsxs("p",{className:"font-display text-3xl font-bold text-primary-600",children:["",t.toFixed(2)]})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("input",{type:"file",id:"receipt-upload",className:"hidden",accept:"image/*",onChange:a}),n?o.jsxs("div",{className:"relative rounded-lg border border-gray-300 bg-white p-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[r?o.jsx("img",{src:r,alt:"Receipt preview",className:"h-16 w-16 flex-shrink-0 rounded-md object-cover"}):o.jsx("div",{className:"flex h-16 w-16 flex-shrink-0 items-center justify-center rounded-md bg-gray-100",children:o.jsx($5,{className:"h-8 w-8 text-gray-400"})}),o.jsxs("div",{className:"flex-1 overflow-hidden",children:[o.jsx("p",{className:"truncate text-sm font-medium text-gray-800",children:n.name}),o.jsxs("p",{className:"text-xs text-gray-500",children:[(n.size/1024).toFixed(2)," KB"]})]})]}),o.jsx("button",{onClick:l,className:"absolute -top-2 -right-2 flex h-6 w-6 items-center justify-center rounded-full bg-red-500 text-white transition-transform hover:scale-110","aria-label":"Remove receipt",children:o.jsx(Ws,{className:"h-4 w-4"})})]}):o.jsxs("label",{htmlFor:"receipt-upload",className:"flex cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-6 text-center transition hover:bg-gray-100",children:[o.jsx(O5,{className:"h-12 w-12 text-gray-400"}),o.jsx("span",{className:"mt-2 block text-sm font-semibold text-gray-600",children:"Upload Receipt"}),o.jsx("span",{className:"mt-1 block text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})]})]})},nq=({items:t,subtotal:e,serviceFee:n=0,total:s})=>o.jsx("div",{className:"w-full lg:sticky lg:top-24",children:o.jsxs(fe,{className:"rounded-xl border-gray-200 p-6 shadow-none",children:[o.jsx("h2",{className:"mb-4 font-display text-lg font-semibold text-coffee-900",children:"Order Summary"}),o.jsx("div",{className:"max-h-60 space-y-2 overflow-y-auto pr-2",children:t.map((r,i)=>o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-gray-700",children:r.productName}),o.jsxs("span",{className:"ml-2 rounded-md bg-gray-100 px-1.5 py-0.5 text-xs font-medium text-gray-600",children:["",r.quantity]})]}),o.jsxs("span",{className:"font-medium text-gray-900",children:["",(r.price*r.quantity).toFixed(2)]})]},i))}),o.jsx("hr",{className:"my-4 border-gray-200"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Subtotal"}),o.jsxs("span",{className:"font-medium text-gray-900",children:["",e.toFixed(2)]})]}),n>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Service Fee"}),o.jsxs("span",{className:"font-medium text-gray-900",children:["",n.toFixed(2)]})]})]}),o.jsx("hr",{className:"my-4 border-dashed border-gray-300"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-base font-bold text-gray-900",children:"Total"}),o.jsxs("span",{className:"font-display text-2xl font-bold text-primary-600",children:["",s.toFixed(2)]})]})]})}),YR=T.createContext(void 0),bv=()=>{const t=T.useContext(YR);if(t===void 0)throw new Error("useOrder must be used within an OrderProvider");return t},sq=({children:t})=>{const[e,n]=T.useState(null),[s,r]=T.useState([]),[i,a]=T.useState(!0),{currentUser:l}=On();T.useEffect(()=>{l?(async()=>{a(!0);try{const f=Zt(ve,"orders"),m=ds(f,Ox("userId","==",l.uid)),b=(await Jr(m)).docs.map(S=>({id:S.id,...S.data(),timestamp:S.data().timestamp.toDate()}));b.sort((S,x)=>x.timestamp.getTime()-S.timestamp.getTime()),r(b);const E=b.find(S=>S.status!=="completed");n(E||null)}catch(f){console.error("Error fetching order history:",f)}finally{a(!1)}})():(r([]),n(null),a(!1))},[l]),T.useEffect(()=>{if(e&&e.status!=="completed"){const d=["waiting","preparing","ready","completed"],f=e.status,m=d.indexOf(f);if(m===-1||m>=d.length-1)return;const g=setTimeout(()=>{const b=d[m+1];n(E=>E?{...E,status:b}:null)},1e4);return()=>clearTimeout(g)}},[e]);const h={activeOrder:e,setActiveOrder:n,orderHistory:s,addOrderToHistory:async d=>{try{const f=await yu(Zt(ve,"orders"),{...d,timestamp:qd()}),m={...d,id:f.id,timestamp:new Date};r(g=>[m,...g]),n(m)}catch(f){console.error("Error adding order to Firestore:",f)}},isHistoryLoading:i};return o.jsx(YR.Provider,{value:h,children:t})},rq=()=>{const t=Qn(),{cartItems:e,showToast:n,totalCartItems:s,clearCart:r}=nn(),{currentUser:i}=On(),{setActiveOrder:a,addOrderToHistory:l}=bv(),[c,h]=T.useState(null),[d,f]=T.useState({name:"",phone:""}),[m,g]=T.useState(""),[b,E]=T.useState({}),[S,x]=T.useState(null),[v,_]=T.useState(!1),[C,D]=T.useState(!1),{subtotal:P,serviceFee:N,total:w}=T.useMemo(()=>{const I=e.reduce((ye,B)=>ye+B.selectedSize.price*B.quantity,0),$=15;return{subtotal:I,serviceFee:$,total:I+$}},[e]),A=T.useMemo(()=>e.map(I=>({productName:`${I.product.name} (${I.selectedSize.name})`,quantity:I.quantity,price:I.selectedSize.price})),[e]);T.useEffect(()=>{if(!i){n("Please log in to proceed to checkout."),t("/auth/login",{state:{from:"/checkout"}});return}s===0&&!v&&!C&&(n("Your cart is empty. Add items to checkout."),t("/menu"))},[s,t,n,v,C,i]),T.useEffect(()=>{i&&f({name:`${i.firstName} ${i.lastName}`,phone:i.phone||""})},[i]);const R=()=>{const I={};return d.name.trim().length<2&&(I.name="Name must be at least 2 characters long."),/^(09|\+639)\d{9}$/.test(d.phone)||(I.phone="Please enter a valid Philippine phone number (e.g., 09xxxxxxxxx)."),c||(I.payment="Please select a payment method."),c==="gcash"&&!S&&(I.gcash="Please upload your payment receipt to proceed."),E(I),Object.keys(I).length===0},M=async I=>{if(I.preventDefault(),!i||!R()){n("Please correct the errors before proceeding.");return}_(!0);const $=`RC-2025-${Math.floor(1e3+Math.random()*9e3)}`;setTimeout(async()=>{const ye={userId:i.uid,customerName:d.name,orderNumber:$,position:Math.floor(Math.random()*5)+1,status:"waiting",orderItems:e.map(B=>({productId:B.product.id,productName:`${B.product.name} (${B.selectedSize.name})`,quantity:B.quantity,price:B.selectedSize.price})),totalAmount:w,paymentMethod:c,paymentStatus:c==="gcash"?"paid":"pending",estimatedTime:10};await l(ye),r(),_(!1),D(!0),t("/queue",{state:{fromCheckout:!0,orderNumber:$}})},2e3)},k=v||!c||!d.name||!/^(09|\+639)\d{9}$/.test(d.phone)||c==="gcash"&&!S;return!i||s===0&&!C?o.jsxs("div",{className:"flex min-h-screen flex-col",children:[o.jsx(ht,{}),o.jsx("main",{className:"flex flex-1 items-center justify-center bg-gray-50 text-center",children:o.jsxs("div",{children:[o.jsx(L0,{className:"mx-auto h-24 w-24 text-gray-300"}),o.jsx("h1",{className:"mt-4 text-2xl font-bold text-gray-800",children:"Your cart is empty"}),o.jsx("p",{className:"mt-2 text-gray-500",children:"Add some delicious coffee to get started."}),o.jsx("button",{onClick:()=>t("/menu"),className:"mt-6 rounded-full bg-primary-600 px-6 py-2 font-semibold text-white hover:bg-primary-700",children:"Browse Menu"})]})}),o.jsx(dt,{})]}):o.jsxs("div",{className:"flex min-h-screen flex-col bg-gray-50",children:[o.jsx(ht,{}),o.jsxs("main",{className:"container mx-auto max-w-7xl px-4 py-8",children:[o.jsx("h1",{className:"mb-6 font-display text-3xl font-bold text-coffee-900",children:"Checkout"}),o.jsxs("form",{onSubmit:M,id:"checkout-form",className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[o.jsxs("div",{className:"space-y-8 lg:col-span-2",children:[o.jsxs("div",{className:"rounded-xl border bg-white p-6",children:[o.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Your Information"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),o.jsx(Fs,{className:"absolute left-3 top-10 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"text",id:"name",value:d.name,onChange:I=>f({...d,name:I.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 py-2 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Juan dela Cruz"}),b.name&&o.jsx("p",{className:"mt-1 text-xs text-red-500",children:b.name})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),o.jsx(Bs,{className:"absolute left-3 top-10 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"tel",id:"phone",value:d.phone,onChange:I=>f({...d,phone:I.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 py-2 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"09171234567"}),b.phone&&o.jsx("p",{className:"mt-1 text-xs text-red-500",children:b.phone})]})]})]}),o.jsxs("div",{className:"rounded-xl border bg-white p-6",children:[o.jsx(eq,{selectedMethod:c,onSelectMethod:h}),b.payment&&o.jsx("p",{className:"mt-2 text-xs text-red-500",children:b.payment}),c==="gcash"&&o.jsxs("div",{className:"mt-6 border-t pt-6",children:[o.jsx(tq,{totalAmount:w,orderNumber:`TEMP-${Date.now()}`,receipt:S,onReceiptUpload:x}),b.gcash&&o.jsx("p",{className:"mt-2 text-xs text-red-500 text-center",children:b.gcash})]}),c==="cash"&&o.jsx("div",{className:"mt-6 rounded-lg border-l-4 border-green-400 bg-green-50 p-4",role:"alert",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(ea,{className:"h-5 w-5 text-green-400"})}),o.jsx("div",{className:"ml-3",children:o.jsx("p",{className:"text-sm text-green-700",children:"Please prepare the exact amount. You can pay at the counter upon pickup."})})]})})]}),o.jsxs("div",{className:"rounded-xl border bg-white p-6",children:[o.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Special Instructions (Optional)"}),o.jsxs("div",{className:"relative",children:[o.jsx(Io,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),o.jsx("textarea",{id:"notes",value:m,onChange:I=>g(I.target.value),rows:3,className:"block w-full rounded-md border-gray-300 py-2 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"e.g., less ice, extra shot..."})]})]}),o.jsx("div",{className:"hidden lg:block",children:o.jsx("button",{type:"submit",form:"checkout-form",disabled:k,className:"mt-2 flex w-full max-w-xs justify-center rounded-full bg-primary-600 px-4 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 disabled:cursor-not-allowed disabled:bg-primary-400",children:v?o.jsx(_t,{className:"h-6 w-6 animate-spin"}):"Place Order"})})]}),o.jsx("div",{className:"lg:col-span-1",children:o.jsx(nq,{items:A,subtotal:P,serviceFee:N,total:w})})]})]}),o.jsx("div",{className:"sticky bottom-0 left-0 right-0 border-t border-gray-200 bg-white/90 p-4 backdrop-blur-sm lg:hidden",children:o.jsx("button",{type:"submit",form:"checkout-form",disabled:k,className:"flex w-full justify-center rounded-full bg-primary-600 px-4 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 disabled:cursor-not-allowed disabled:bg-primary-400",children:v?o.jsx(_t,{className:"h-6 w-6 animate-spin"}):`Place Order (${w.toFixed(2)})`})}),o.jsx(dt,{})]})};function je(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ni(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const QR=6048e5,iq=864e5,uh=43200,WT=1440;let aq={};function Eu(){return aq}function Lc(t,e){var l,c,h,d;const n=Eu(),s=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(h=n.locale)==null?void 0:h.options)==null?void 0:d.weekStartsOn)??0,r=je(t),i=r.getDay(),a=(i<s?7:0)+i-s;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}function Xd(t){return Lc(t,{weekStartsOn:1})}function KR(t){const e=je(t),n=e.getFullYear(),s=ni(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const r=Xd(s),i=ni(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=Xd(i);return e.getTime()>=r.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function XT(t){const e=je(t);return e.setHours(0,0,0,0),e}function Jd(t){const e=je(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function oq(t,e){const n=XT(t),s=XT(e),r=+n-Jd(n),i=+s-Jd(s);return Math.round((r-i)/iq)}function lq(t){const e=KR(t),n=ni(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Xd(n)}function qh(t,e){const n=je(t),s=je(e),r=n.getTime()-s.getTime();return r<0?-1:r>0?1:r}function cq(t){return ni(t,Date.now())}function uq(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function hq(t){if(!uq(t)&&typeof t!="number")return!1;const e=je(t);return!isNaN(Number(e))}function dq(t,e){const n=je(t),s=je(e),r=n.getFullYear()-s.getFullYear(),i=n.getMonth()-s.getMonth();return r*12+i}function fq(t){return e=>{const s=(t?Math[t]:Math.trunc)(e);return s===0?0:s}}function mq(t,e){return+je(t)-+je(e)}function pq(t){const e=je(t);return e.setHours(23,59,59,999),e}function gq(t){const e=je(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function yq(t){const e=je(t);return+pq(e)==+gq(e)}function xq(t,e){const n=je(t),s=je(e),r=qh(n,s),i=Math.abs(dq(n,s));let a;if(i<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-r*i);let l=qh(n,s)===-r;yq(je(t))&&i===1&&qh(t,s)===1&&(l=!1),a=r*(i-Number(l))}return a===0?0:a}function vq(t,e,n){const s=mq(t,e)/1e3;return fq(n==null?void 0:n.roundingMethod)(s)}function bq(t){const e=je(t),n=ni(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const wq={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_q=(t,e,n)=>{let s;const r=wq[t];return typeof r=="string"?s=r:e===1?s=r.one:s=r.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Pp(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Tq={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Eq={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Nq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Sq={date:Pp({formats:Tq,defaultWidth:"full"}),time:Pp({formats:Eq,defaultWidth:"full"}),dateTime:Pp({formats:Nq,defaultWidth:"full"})},Aq={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jq=(t,e,n,s)=>Aq[t];function yl(t){return(e,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let r;if(s==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;r=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;r=t.values[l]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return r[i]}}const Cq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Rq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Iq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Mq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Dq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Pq=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Oq={ordinalNumber:Pq,era:yl({values:Cq,defaultWidth:"wide"}),quarter:yl({values:Rq,defaultWidth:"wide",argumentCallback:t=>t-1}),month:yl({values:Iq,defaultWidth:"wide"}),day:yl({values:Mq,defaultWidth:"wide"}),dayPeriod:yl({values:Dq,defaultWidth:"wide",formattingValues:kq,defaultFormattingWidth:"wide"})};function xl(t){return(e,n={})=>{const s=n.width,r=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],i=e.match(r);if(!i)return null;const a=i[0],l=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Lq(l,f=>f.test(a)):Vq(l,f=>f.test(a));let h;h=t.valueCallback?t.valueCallback(c):c,h=n.valueCallback?n.valueCallback(h):h;const d=e.slice(a.length);return{value:h,rest:d}}}function Vq(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Lq(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Uq(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const r=s[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(r.length);return{value:a,rest:l}}}const zq=/^(\d+)(th|st|nd|rd)?/i,Bq=/\d+/i,Fq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qq={any:[/^b/i,/^(a|c)/i]},Hq={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Gq={any:[/1/i,/2/i,/3/i,/4/i]},$q={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Yq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Qq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Kq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Wq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Jq={ordinalNumber:Uq({matchPattern:zq,parsePattern:Bq,valueCallback:t=>parseInt(t,10)}),era:xl({matchPatterns:Fq,defaultMatchWidth:"wide",parsePatterns:qq,defaultParseWidth:"any"}),quarter:xl({matchPatterns:Hq,defaultMatchWidth:"wide",parsePatterns:Gq,defaultParseWidth:"any",valueCallback:t=>t+1}),month:xl({matchPatterns:$q,defaultMatchWidth:"wide",parsePatterns:Yq,defaultParseWidth:"any"}),day:xl({matchPatterns:Qq,defaultMatchWidth:"wide",parsePatterns:Kq,defaultParseWidth:"any"}),dayPeriod:xl({matchPatterns:Wq,defaultMatchWidth:"any",parsePatterns:Xq,defaultParseWidth:"any"})},WR={code:"en-US",formatDistance:_q,formatLong:Sq,formatRelative:jq,localize:Oq,match:Jq,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Zq(t){const e=je(t);return oq(e,bq(e))+1}function eH(t){const e=je(t),n=+Xd(e)-+lq(e);return Math.round(n/QR)+1}function XR(t,e){var d,f,m,g;const n=je(t),s=n.getFullYear(),r=Eu(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,a=ni(t,0);a.setFullYear(s+1,0,i),a.setHours(0,0,0,0);const l=Lc(a,e),c=ni(t,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const h=Lc(c,e);return n.getTime()>=l.getTime()?s+1:n.getTime()>=h.getTime()?s:s-1}function tH(t,e){var l,c,h,d;const n=Eu(),s=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(h=n.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??1,r=XR(t,e),i=ni(t,0);return i.setFullYear(r,0,s),i.setHours(0,0,0,0),Lc(i,e)}function nH(t,e){const n=je(t),s=+Lc(n,e)-+tH(n,e);return Math.round(s/QR)+1}function be(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const or={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return be(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):be(n+1,2)},d(t,e){return be(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return be(t.getHours()%12||12,e.length)},H(t,e){return be(t.getHours(),e.length)},m(t,e){return be(t.getMinutes(),e.length)},s(t,e){return be(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),r=Math.trunc(s*Math.pow(10,n-3));return be(r,e.length)}},da={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},JT={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),r=s>0?s:1-s;return n.ordinalNumber(r,{unit:"year"})}return or.y(t,e)},Y:function(t,e,n,s){const r=XR(t,s),i=r>0?r:1-r;if(e==="YY"){const a=i%100;return be(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):be(i,e.length)},R:function(t,e){const n=KR(t);return be(n,e.length)},u:function(t,e){const n=t.getFullYear();return be(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return be(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return be(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return or.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return be(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const r=nH(t,s);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):be(r,e.length)},I:function(t,e,n){const s=eH(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):be(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):or.d(t,e)},D:function(t,e,n){const s=Zq(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):be(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const r=t.getDay(),i=(r-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return be(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const r=t.getDay(),i=(r-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return be(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),r=s===0?7:s;switch(e){case"i":return String(r);case"ii":return be(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let r;switch(s===12?r=da.noon:s===0?r=da.midnight:r=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let r;switch(s>=17?r=da.evening:s>=12?r=da.afternoon:s>=4?r=da.morning:r=da.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return or.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):or.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):be(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):be(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):or.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):or.s(t,e)},S:function(t,e){return or.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return e2(s);case"XXXX":case"XX":return Ai(s);case"XXXXX":case"XXX":default:return Ai(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return e2(s);case"xxxx":case"xx":return Ai(s);case"xxxxx":case"xxx":default:return Ai(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ZT(s,":");case"OOOO":default:return"GMT"+Ai(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ZT(s,":");case"zzzz":default:return"GMT"+Ai(s,":")}},t:function(t,e,n){const s=Math.trunc(t.getTime()/1e3);return be(s,e.length)},T:function(t,e,n){const s=t.getTime();return be(s,e.length)}};function ZT(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=Math.trunc(s/60),i=s%60;return i===0?n+String(r):n+String(r)+e+be(i,2)}function e2(t,e){return t%60===0?(t>0?"-":"+")+be(Math.abs(t)/60,2):Ai(t,e)}function Ai(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=be(Math.trunc(s/60),2),i=be(s%60,2);return n+r+e+i}const t2=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},JR=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},sH=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],r=n[2];if(!r)return t2(t,e);let i;switch(s){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",t2(s,e)).replace("{{time}}",JR(r,e))},rH={p:JR,P:sH},iH=/^D+$/,aH=/^Y+$/,oH=["D","DD","YY","YYYY"];function lH(t){return iH.test(t)}function cH(t){return aH.test(t)}function uH(t,e,n){const s=hH(t,e,n);if(console.warn(s),oH.includes(t))throw new RangeError(s)}function hH(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const dH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mH=/^'([^]*?)'?$/,pH=/''/g,gH=/[a-zA-Z]/;function tm(t,e,n){var d,f,m,g;const s=Eu(),r=s.locale??WR,i=s.firstWeekContainsDate??((f=(d=s.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,a=s.weekStartsOn??((g=(m=s.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,l=je(t);if(!hq(l))throw new RangeError("Invalid time value");let c=e.match(fH).map(b=>{const E=b[0];if(E==="p"||E==="P"){const S=rH[E];return S(b,r.formatLong)}return b}).join("").match(dH).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const E=b[0];if(E==="'")return{isToken:!1,value:yH(b)};if(JT[E])return{isToken:!0,value:b};if(E.match(gH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:b}});r.localize.preprocessor&&(c=r.localize.preprocessor(l,c));const h={firstWeekContainsDate:i,weekStartsOn:a,locale:r};return c.map(b=>{if(!b.isToken)return b.value;const E=b.value;(cH(E)||lH(E))&&uH(E,e,String(t));const S=JT[E[0]];return S(l,E,r.localize,h)}).join("")}function yH(t){const e=t.match(mH);return e?e[1].replace(pH,"'"):t}function xH(t,e,n){const s=Eu(),r=(n==null?void 0:n.locale)??s.locale??WR,i=2520,a=qh(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:a});let c,h;a>0?(c=je(e),h=je(t)):(c=je(t),h=je(e));const d=vq(h,c),f=(Jd(h)-Jd(c))/1e3,m=Math.round((d-f)/60);let g;if(m<2)return n!=null&&n.includeSeconds?d<5?r.formatDistance("lessThanXSeconds",5,l):d<10?r.formatDistance("lessThanXSeconds",10,l):d<20?r.formatDistance("lessThanXSeconds",20,l):d<40?r.formatDistance("halfAMinute",0,l):d<60?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",1,l):m===0?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",m,l);if(m<45)return r.formatDistance("xMinutes",m,l);if(m<90)return r.formatDistance("aboutXHours",1,l);if(m<WT){const b=Math.round(m/60);return r.formatDistance("aboutXHours",b,l)}else{if(m<i)return r.formatDistance("xDays",1,l);if(m<uh){const b=Math.round(m/WT);return r.formatDistance("xDays",b,l)}else if(m<uh*2)return g=Math.round(m/uh),r.formatDistance("aboutXMonths",g,l)}if(g=xq(h,c),g<12){const b=Math.round(m/uh);return r.formatDistance("xMonths",b,l)}else{const b=g%12,E=Math.trunc(g/12);return b<3?r.formatDistance("aboutXYears",E,l):b<9?r.formatDistance("overXYears",E,l):r.formatDistance("almostXYears",E+1,l)}}function nm(t,e){return xH(t,cq(t),e)}const vH=({children:t,className:e="",hover:n=!1})=>{const s=n?"hover:shadow-xl transition-all duration-300":"";return o.jsx("div",{className:`rounded-lg border border-gray-100 bg-white p-6 shadow-sm ${s} ${e}`,children:t})},Ce=({children:t,variant:e="primary",size:n="md",className:s="",asChild:r=!1,...i})=>{const a="inline-flex items-center justify-center rounded-full font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-60",l={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-primary-100 text-primary-700 hover:bg-primary-200 focus:ring-primary-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500"},c={sm:"px-4 py-2 text-sm",md:"px-6 py-2.5 text-base",lg:"px-8 py-3 text-lg"},h=r?"span":"button";return T.createElement(h,{className:`${a} ${l[e]} ${c[n]} ${s}`,...i},t)},bH={waiting:{Icon:Tf,text:"Your order is in the queue.",color:"text-yellow-600",bgColor:"bg-yellow-100",progress:10,progressText:"Ordered"},preparing:{Icon:Bn,text:"Your order is being prepared.",color:"text-blue-600",bgColor:"bg-blue-100",progress:50,progressText:"Preparing"},ready:{Icon:_f,text:"Your order is ready for pickup!",color:"text-green-600",bgColor:"bg-green-100",progress:100,progressText:"Ready"},completed:{Icon:Hr,text:"Your order has been completed.",color:"text-primary-600",bgColor:"bg-primary-100",progress:100,progressText:"Completed"}},wH=({order:t})=>{const[e,n]=T.useState(!1),s=Qn(),r=bH[t.status],{addMultipleToCart:i,showToast:a}=nn(),{products:l}=Fo(),c=()=>{const d=[],f=[];for(const m of t.orderItems){const g=l.find(x=>x.id===m.productId);if(!g||!g.available||g.stock===0){f.push(m.productName);continue}const b=m.productName.match(/\((Grande|Venti)\)$/),E=b?b[1]:null;if(!E){f.push(m.productName);continue}const S=g.sizes.find(x=>x.name===E);if(!S){f.push(m.productName);continue}d.push({product:g,selectedSize:S,quantity:m.quantity})}d.length>0&&i(d),f.length>0&&a(`Could not add: ${f.join(", ")}. They may be unavailable.`)},h=()=>{t.status==="completed"?s("/menu"):c()};return o.jsxs(vH,{className:"w-full max-w-md rounded-2xl p-6 shadow-lg",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full ${r.bgColor}`,children:o.jsx(r.Icon,{className:`h-6 w-6 ${r.color}`})}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-display text-xl font-bold text-coffee-900",children:r.text}),o.jsxs("p",{className:"text-sm text-gray-500",children:["Order #",t.orderNumber]})]})]}),o.jsxs("div",{className:"mt-6 space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-600",children:[o.jsx("span",{children:"Ordered"}),o.jsx("span",{children:"Preparing"}),o.jsx("span",{children:"Ready"})]}),o.jsx("div",{className:"h-2 w-full rounded-full bg-gray-200",children:o.jsx("div",{className:"h-2 rounded-full bg-primary-600 transition-all duration-500 ease-out",style:{width:`${r.progress}%`}})}),o.jsx("p",{className:"text-right text-sm font-semibold text-primary-600",children:r.progressText})]}),o.jsxs("div",{className:"mt-6 border-t border-gray-200 pt-4",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-500",children:"Time Placed"}),o.jsx("span",{className:"font-medium text-gray-800",children:tm(t.timestamp,"p")})]}),o.jsxs("div",{className:"mt-1 flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-500",children:"Estimated Wait"}),o.jsxs("span",{className:"font-medium text-gray-800",children:["~",t.estimatedTime," min"]})]}),o.jsxs("div",{className:"mt-3 flex justify-between text-lg font-bold",children:[o.jsx("span",{className:"text-gray-800",children:"Total"}),o.jsxs("span",{className:"text-primary-600",children:["",t.totalAmount.toFixed(2)]})]})]}),o.jsxs("div",{className:"mt-4 border-t border-gray-200",children:[o.jsxs("button",{onClick:()=>n(!e),className:"flex w-full items-center justify-between py-3 text-left font-semibold text-gray-700 hover:text-primary-600",children:[o.jsxs("span",{children:["View Items (",t.orderItems.length,")"]}),o.jsx(Zc,{className:`h-5 w-5 transform transition-transform duration-300 ${e?"rotate-180":""}`})]}),o.jsx(vu,{children:e&&o.jsx(Qs.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:o.jsx("ul",{className:"space-y-2 pb-2",children:t.orderItems.map((d,f)=>o.jsxs("li",{className:"flex justify-between border-b border-gray-100 py-1 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-800",children:d.productName}),o.jsxs("span",{className:"ml-2 text-gray-500",children:["x",d.quantity]})]}),o.jsxs("span",{className:"text-gray-600",children:["",(d.price*d.quantity).toFixed(2)]})]},f))})})})]}),o.jsx("div",{className:"mt-4 border-t border-gray-200 pt-4",children:o.jsx(Ce,{size:"lg",className:"w-full",onClick:h,variant:t.status==="completed"?"primary":"secondary",children:t.status==="completed"?o.jsxs(o.Fragment,{children:[o.jsx(U0,{className:"mr-2 h-5 w-5"}),"Start New Order"]}):o.jsxs(o.Fragment,{children:[o.jsx(MS,{className:"mr-2 h-5 w-5"}),"Reorder Items"]})})})]})},_H="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQ2IiBoZWlnaHQ9IjE3OCIgdmlld0JveD0iMCAwIDI0NiAxNzgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xNTQuNTAzIDgwQzE4MC41MDMgNTEgMjEzLjAwMyAyMC41IDIyNS41MDMgMTguNUMyMzguMDAzIDE2LjUgMjQ0LjAwMyAyOS41IDI0NC4wMDMgMjkuNUMyNDQuMDAzIDI5LjUgMjQ4LjUwMyA1Mi41IDI0MC41MDMgODBDMjMyLjUwMyAxMDcuNSAyMTEuNTAzIDEyNCAyMTEuNTAzIDEyNEMyMTEuNTAzIDEyNCAxNjYuNTAzIDE3MSAxNDcuMDAzIDE3NUMxNDcuMDAzIDE3NSAxMTkuMDAzIDE4MS41IDEwNy4wMDMgMTcyLjVDOTUuMDAyNSAxNjMuNSAxMjguNTAzIDEwOSAxNTQuNTAzIDgwWiIgZmlsbD0iI0VCNUYxNiIvPgo8cGF0aCBkPSJNMTIuMDAyNSA4OUMxMi4wMDI1IDg5IC0yMS4wMjkzIDIyLjAyMyAyMi41MDI1IDE3QzM1LjUwMjUgMTUuNSA4MC4wMDI1IDU2IDc5LjUwMjUgNTkuNUM4Mi41MDI1IDc1IDcyLjAwMjUgODcgNjQuNTAyNSA5N0M2MS4xMzM2IDEwMS40OTIgNjAuMDAyNSAxMDcuNSA1OC4wMDI1IDExOS41QzU4LjAwMjUgMTM5IDUzLjAwMjUgMTM4LjUgNTMuMDAyNSAxMzguNUM1My4wMDI1IDEzOC41IDQwLjUwMjUgMTQxIDEyLjAwMjUgODlaIiBmaWxsPSIjRUI1RjE2IiIvPgo8cGF0aCBkPSJNNDcuMDAyNSAxN0M0MS4wMDI1IDEyLjAwMDEgNDIuMDAyNSAtNy42MjkzOWUtMDYgNTMuMDAyNSAwQzY0LjAwMjUgNy42Mjk0ZS0wNiA3NC4xOTA0IDQuNzY1MzQgODcuMDAyNSAxMEMxMDAuMzQ3IDE1LjQ1MjEgMTEwLjkxMSAxOSAxMTQuNTAzIDI2LjVDMTE4LjA5NCAzNCAxMTQuNTAzIDM5LjUgMTEwLjAwMyA0NUMxMDUuNTAzIDUwLjUgMTAyLjAwMyA1MiA5NC41MDI1IDUxQzg3LjAwMjUgNTAgNTMuMDAyNSAyMiA0Ny4wMDI1IDE3WiIgZmlsbD0iI0VCNUYxNiIvPgo8cGF0aCBkPSJNMjA1LjUwMyAyMy41QzIxOC41MDMgMTQgMjA1LjUwMyA1LjUgMjA1LjUwMyA1LjVDMTYyLjIzOSAxLjQzMjUyIDEyMi40MDggMzEuOTMyNCA4Mi4wMDI1IDg4LjVDNzEuNjQ1NCAxMDMgNjIuNTU4MyAxNTAuMzIyIDc4LjUwMjUgMTYxQzk3LjE3ODQgMTczLjUwOCAxMDIuNjM0IDE2Ny4xMDkgMTAzLjUwMyAxMzJDMTIxLjUwMyA1MSAxOTIuNTAzIDMzIDIwNS41MDMgMjMuNVoiIGZpbGw9IiNFQjVGMTYiLz4KPC9zdmc+Cg==",TH=()=>{var d;const{currentUser:t}=On(),{activeOrder:e}=bv(),n=Yn(),s=Qn(),[r,i]=T.useState("default"),[a,l]=T.useState(!1),c=T.useRef(null);T.useEffect(()=>{"Notification"in window&&(i(Notification.permission),Notification.permission==="default"&&l(!0))},[]),T.useEffect(()=>{if(e&&e.status==="ready"&&r==="granted"&&c.current!==e.id){const f="Your Order is Ready! ",m={body:`Your Rush Coffee order (${e.orderNumber}) is now ready for pickup.`,icon:_H,tag:e.id},g=new Notification(f,m);g.onclick=()=>{window.focus()},c.current=e.id}(!e||e.status==="completed")&&(c.current=null)},[e,r]);const h=async()=>{if(!("Notification"in window)){alert("This browser does not support desktop notification");return}const f=await Notification.requestPermission();i(f),(f==="granted"||f==="denied")&&l(!1)};return t?e?o.jsxs("div",{className:"flex min-h-screen flex-col bg-gray-50",children:[o.jsx(ht,{}),o.jsx("main",{className:"flex flex-1 items-center justify-center px-4 py-12 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex w-full max-w-md flex-col items-center gap-6",children:[((d=n.state)==null?void 0:d.fromCheckout)&&o.jsxs("div",{className:"w-full rounded-lg bg-green-100 p-4 text-center text-green-800 animate-fade-in-up",children:[o.jsx("h2",{className:"font-bold",children:"Order Placed Successfully!"}),o.jsx("p",{className:"text-sm",children:"You are now in the queue. We'll start preparing your order shortly."})]}),a&&r==="default"&&e.status!=="completed"&&o.jsxs("div",{className:"relative w-full animate-fade-in-up rounded-lg border border-primary-200 bg-white p-4 shadow-sm",children:[o.jsx("button",{onClick:()=>l(!1),className:"absolute top-2 right-2 rounded-full p-1 text-gray-400 transition-colors hover:text-gray-600","aria-label":"Dismiss",children:o.jsx(Ws,{className:"h-4 w-4"})}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full bg-primary-100",children:o.jsx(_f,{className:"h-6 w-6 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-800",children:"Get Order Updates"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Know the moment your coffee is ready!"})]})]}),o.jsx("button",{onClick:h,className:"mt-3 w-full rounded-full bg-primary-600 px-4 py-2 text-sm font-semibold text-white transition-colors hover:bg-primary-700",children:"Enable Notifications"})]}),o.jsx(wH,{order:e})]})}),o.jsx(dt,{})]}):o.jsxs("div",{className:"flex min-h-screen flex-col bg-gray-50",children:[o.jsx(ht,{}),o.jsx("main",{className:"flex flex-1 items-center justify-center px-6 py-20 text-center",children:o.jsxs("div",{children:[o.jsx(bt,{className:"mx-auto h-24 w-24 text-gray-300 opacity-50"}),o.jsx("h1",{className:"mt-4 font-display text-2xl font-bold text-coffee-900",children:"Your queue is empty"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Ready for your next coffee fix?"}),o.jsxs("button",{onClick:()=>s("/menu"),className:"mt-8 inline-flex items-center justify-center gap-2 rounded-full bg-primary-600 px-8 py-3 font-semibold text-white shadow-lg transition-transform hover:scale-105",children:["Start a New Order",o.jsx(oo,{className:"h-5 w-5"})]})]})}),o.jsx(dt,{})]}):o.jsxs("div",{className:"flex min-h-screen flex-col bg-gray-50",children:[o.jsx(ht,{}),o.jsx("main",{className:"flex flex-1 items-center justify-center px-6 py-20 text-center",children:o.jsxs("div",{children:[o.jsx(bt,{className:"mx-auto h-24 w-24 text-gray-300 opacity-50"}),o.jsx("h1",{className:"mt-4 font-display text-2xl font-bold text-coffee-900",children:"You're not in the queue"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Please log in and place an order to see your queue status."}),o.jsxs("div",{className:"mt-8 flex justify-center gap-4",children:[o.jsx(Ae,{to:"/auth/login",className:"rounded-full bg-primary-600 px-8 py-3 font-semibold text-white transition-transform hover:scale-105",children:"Login"}),o.jsx(Ae,{to:"/menu",className:"rounded-full border-2 border-primary-600 px-8 py-3 font-semibold text-primary-600 transition-transform hover:scale-105 hover:bg-primary-50",children:"View Menu"})]})]})}),o.jsx(dt,{})]})},bo=({isOpen:t,onClose:e,title:n,children:s,footer:r,size:i="md"})=>{if(T.useEffect(()=>{const l=c=>{c.key==="Escape"&&e()};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[e]),!t)return null;const a={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg"};return o.jsx("div",{className:"fixed inset-0 z-50 flex animate-fade-in-up items-center justify-center bg-black/60 p-4 backdrop-blur-sm",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",onClick:e,style:{animationDuration:"0.3s"},children:o.jsx("div",{className:`relative w-full transform transition-all ${a[i]}`,onClick:l=>l.stopPropagation(),children:o.jsxs(fe,{className:"rounded-xl p-0 shadow-2xl",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-4",children:[o.jsx("h3",{id:"modal-title",className:"text-lg font-semibold text-coffee-900",children:n}),o.jsx("button",{onClick:e,className:"rounded-full p-1 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-700","aria-label":"Close modal",children:o.jsx(Ws,{className:"h-5 w-5"})})]}),o.jsx("div",{className:"p-6",children:s}),r&&o.jsx("div",{className:"flex justify-end gap-3 rounded-b-xl border-t border-gray-200 bg-gray-50 p-4",children:r})]})})})},EH={bronze:{Icon:f3,name:"Bronze Member",gradient:"from-orange-400 to-orange-600",nextTierName:"Silver",progressColor:"bg-gray-400",minPoints:0},silver:{Icon:l5,name:"Silver Member",gradient:"from-gray-300 to-gray-500",nextTierName:"Gold",progressColor:"bg-yellow-400",minPoints:300},gold:{Icon:U5,name:"Gold Member",gradient:"from-yellow-400 to-yellow-600",nextTierName:null,progressColor:"",minPoints:1e3}},NH=({tier:t,currentPoints:e,nextTierPoints:n,showProgress:s=!0})=>{const r=EH[t],i=n-e,a=t!=="gold"?Math.max(0,Math.min(100,(e-r.minPoints)/(n-r.minPoints)*100)):100;return o.jsxs("div",{className:`relative w-full max-w-sm overflow-hidden rounded-2xl bg-gradient-to-br p-6 text-center text-white shadow-lg md:p-8 ${r.gradient}`,children:[o.jsx("div",{className:"absolute inset-0 -translate-x-full animate-shimmer bg-gradient-to-r from-transparent via-white/30 to-transparent"}),o.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[o.jsx(r.Icon,{className:"h-16 w-16 animate-pulse-slow drop-shadow-lg"}),o.jsx("h2",{className:"mt-4 font-display text-2xl font-bold drop-shadow-md md:text-3xl",children:r.name}),o.jsxs("p",{className:"font-semibold text-white/80",children:[e," points"]})]}),s&&t!=="gold"&&o.jsxs("div",{className:"relative z-10 mt-6 text-left",children:[o.jsxs("p",{className:"text-xs font-semibold md:text-sm",children:[o.jsx("span",{className:"font-bold",children:i>0?i:0})," points to ",r.nextTierName]}),o.jsx("div",{className:"mt-1 h-2.5 w-full overflow-hidden rounded-full bg-black/20",children:o.jsx("div",{className:`h-full rounded-full ${r.progressColor} transition-all duration-500 ease-out`,style:{width:`${a}%`}})})]})]})},SH={drink:"bg-blue-100 text-blue-800",food:"bg-green-100 text-green-800",discount:"bg-yellow-100 text-yellow-800"},AH=({reward:t,currentPoints:e,onRedeem:n})=>{const{id:s,name:r,description:i,pointsCost:a,imageUrl:l,category:c,available:h}=t,d=e>=a,f=h&&d,m=a-e,g=()=>h?d?"Redeem Now":o.jsxs(o.Fragment,{children:[o.jsx(bd,{className:"h-4 w-4"}),"Need ",m," more points"]}):"Unavailable";return o.jsxs(fe,{className:"flex flex-col overflow-hidden transition-transform duration-300 hover:-translate-y-1",hover:!0,children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:l,alt:r,className:`h-40 w-full object-cover ${h?"":"grayscale"}`}),o.jsx(vt,{className:`absolute top-2 left-2 capitalize ${SH[c]}`,children:c}),!h&&o.jsx(vt,{className:"absolute top-2 right-2 bg-gray-500 text-white",children:"Temporarily Unavailable"})]}),o.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsx("h3",{className:"text-lg font-semibold text-coffee-900",children:r}),o.jsx("p",{className:"mt-1 h-10 text-sm text-gray-600 line-clamp-2",children:i})]}),o.jsx("div",{className:"mt-4 flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-2 text-primary-600",children:[o.jsx(bc,{className:"h-5 w-5"}),o.jsxs("p",{className:"text-lg font-bold",children:[a," points"]})]})}),o.jsx("button",{onClick:()=>n(s),disabled:!f,className:"mt-4 flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-gray-400 disabled:text-gray-100","aria-label":f?`Redeem ${r}`:`Cannot redeem ${r}`,children:g()})]})]})},jH=({history:t})=>{const[e,n]=T.useState("all"),s=T.useMemo(()=>e==="all"?t:t.filter(a=>a.type===e),[t,e]),r=T.useMemo(()=>[...s].sort((a,l)=>l.date.getTime()-a.date.getTime()),[s]),i=a=>a==="earned"?o.jsx("div",{className:"absolute left-0 top-0 flex h-10 w-10 -translate-x-1/2 items-center justify-center rounded-full bg-green-100 ring-8 ring-white",children:o.jsx(eu,{className:"h-5 w-5 text-green-600"})}):o.jsx("div",{className:"absolute left-0 top-0 flex h-10 w-10 -translate-x-1/2 items-center justify-center rounded-full bg-red-100 ring-8 ring-white",children:o.jsx(IS,{className:"h-5 w-5 text-red-600"})});return o.jsxs(fe,{children:[o.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[o.jsx("h2",{className:"font-display text-2xl font-bold text-coffee-900",children:"Points History"}),o.jsx("div",{className:"flex gap-2 rounded-full bg-gray-100 p-1",children:["all","earned","redeemed"].map(a=>o.jsx("button",{onClick:()=>n(a),className:`rounded-full px-3 py-1 text-sm font-semibold capitalize transition-colors ${e===a?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:a},a))})]}),o.jsx("div",{className:"mt-6 max-h-96 overflow-y-auto pr-2",children:r.length>0?o.jsx("div",{className:"relative border-l-2 border-gray-200 pl-8",children:r.map((a,l)=>o.jsxs("div",{className:`relative ${l<r.length-1?"pb-8":""}`,children:[i(a.type),o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-800",children:a.description}),o.jsx("p",{className:"text-sm text-gray-500",children:nm(a.date,{addSuffix:!0})})]}),o.jsxs("p",{className:`text-lg font-bold ${a.type==="earned"?"text-green-600":"text-red-600"}`,children:[a.type==="earned"?"+":"",a.points]})]})]},a.id))}):o.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 py-10 text-center",children:[o.jsx(X5,{className:"h-12 w-12 text-gray-300"}),o.jsx("p",{className:"font-semibold text-gray-700",children:"No transactions yet"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Your points history for this filter will appear here."})]})})]})},Ny={bronze:{min:0,max:299,name:"Bronze"},silver:{min:300,max:999,name:"Silver"},gold:{min:1e3,max:1/0,name:"Gold"}},CH=[{name:"Free Grande Drink",description:"Redeem your points for any Grande-sized drink on our menu. A perfect treat!",pointsCost:250,imageUrl:"https://images.unsplash.com/photo-1517701559439-d2380festi-fresh-coffee-beans.jpg?q=80&w=600",category:"drink",available:!0,displayOrder:1},{name:"10% Off Total Order",description:"Get a 10% discount on your entire order. Great for when you're treating friends!",pointsCost:400,imageUrl:"https://images.unsplash.com/photo-1556742502-ec7c0e9f34b1-payment-terminal.jpg?q=80&w=600",category:"discount",available:!0,displayOrder:2},{name:"Free Pastry Item",description:"Choose any delicious pastry from our selection to complement your coffee.",pointsCost:150,imageUrl:"https://images.unsplash.com/photo-1582249075228-3d1f404e57b3-assorted-pastries.jpg?q=80&w=600",category:"food",available:!0,displayOrder:3},{name:"Upgrade to Venti",description:"Get a free size upgrade from Grande to Venti on any drink.",pointsCost:100,imageUrl:"https://images.unsplash.com/photo-1594963321151-0c5888e2983b-coffee-cup-size-comparison.jpg?q=80&w=600",category:"drink",available:!0,displayOrder:4}],RH=()=>{var C;const{currentUser:t}=On(),{showToast:e}=nn(),[n,s]=T.useState([]),[r,i]=T.useState(!0),[a,l]=T.useState(!1),[c,h]=T.useState(null),[d,f]=T.useState(!1),[m,g]=T.useState("");T.useEffect(()=>{(async()=>{i(!0);const P=Zt(ve,"rewards");if((await Jr(ds(P))).empty){console.log("Seeding available rewards...");const M=CH.map(k=>yu(P,k));await Promise.all(M)}const w=ds(P,gu("displayOrder")),R=(await Jr(w)).docs.map(M=>({id:M.id,...M.data()}));s(R),i(!1)})()},[]);const b=(t==null?void 0:t.tier)==="bronze"?"silver":"gold",E=t&&((C=Ny[b])==null?void 0:C.min)||0,S=D=>{h(D),l(!0)},x=async()=>{if(!(!t||!c)){f(!0);try{if(t.currentPoints<c.pointsCost)throw new Error("You don't have enough points.");const D=It(ve,"users",t.uid),P={id:`rh-${Date.now()}`,type:"redeemed",points:-c.pointsCost,description:`Redeemed: ${c.name}`,date:new Date};await Zr(D,{currentPoints:ji(-c.pointsCost),rewardsHistory:hC(P)}),g(`RC-REDEEM-${Math.random().toString(36).substr(2,9).toUpperCase()}`)}catch(D){e(D.message||"Failed to redeem reward."),f(!1)}}},v=()=>{navigator.clipboard&&(navigator.clipboard.writeText(m),e("Code copied to clipboard!"))},_=()=>{l(!1),h(null),f(!1),g("")};return t?o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(ht,{}),o.jsxs("main",{children:[o.jsx("section",{className:"bg-gradient-to-r from-primary-50 to-coffee-50 px-6 py-12",children:o.jsx("div",{className:"container mx-auto max-w-7xl",children:o.jsxs("div",{className:"grid grid-cols-1 items-center gap-8 md:grid-cols-3",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("h1",{className:"font-display text-4xl font-bold text-coffee-900 md:text-5xl",children:["Welcome, ",t.firstName,"!"]}),o.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"You're doing great! Keep earning points for amazing rewards."})]}),o.jsx("div",{className:"flex justify-center md:justify-end",children:o.jsx(NH,{tier:t.tier,currentPoints:t.currentPoints,nextTierPoints:E})})]})})}),o.jsx("section",{className:"px-6 py-16",children:o.jsxs("div",{className:"container mx-auto max-w-7xl",children:[o.jsxs("div",{className:"mb-8 flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900",children:"Redeem Your Points"}),o.jsx("p",{className:"mt-1 text-gray-600",children:"Use your points to claim these exciting rewards."})]}),o.jsxs("div",{className:"rounded-full bg-white px-4 py-2 text-lg font-semibold text-primary-600 shadow-md",children:["Your Points: ",o.jsx("span",{className:"font-bold",children:t.currentPoints})]})]}),r?o.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Array.from({length:4}).map((D,P)=>o.jsx($R,{},P))}):n.length>0?o.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:n.map(D=>o.jsx(AH,{reward:D,currentPoints:t.currentPoints,onRedeem:()=>S(D)},D.id))}):o.jsxs(fe,{className:"py-20 text-center",children:[o.jsx(bc,{className:"mx-auto h-16 w-16 text-gray-300"}),o.jsx("h3",{className:"mt-4 font-semibold text-gray-800",children:"No Rewards Available"}),o.jsx("p",{className:"mt-1 text-gray-500",children:"Please check back later for new rewards."})]})]})}),o.jsx("section",{className:"bg-white px-6 py-16",children:o.jsx("div",{className:"container mx-auto max-w-4xl",children:o.jsx(jH,{history:t.rewardsHistory})})})]}),o.jsx(dt,{}),o.jsx(bo,{isOpen:a,onClose:_,title:m?"Reward Claimed!":`Redeem: ${(c==null?void 0:c.name)||""}`,children:m?o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-green-100",children:o.jsx(Hr,{className:"h-8 w-8 text-green-600"})}),o.jsx("h3",{className:"mt-4 text-lg font-semibold text-gray-900",children:"Success!"}),o.jsx("p",{className:"mt-1 text-gray-600",children:"Show this code at the counter to claim your reward:"}),o.jsxs("div",{className:"relative my-4 rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-4",children:[o.jsx("p",{className:"font-mono text-2xl font-bold text-primary-700 tracking-widest",children:m}),o.jsx("button",{onClick:v,className:"absolute top-2 right-2 text-gray-400 hover:text-primary-600",children:o.jsx(I5,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"mt-2 flex items-center justify-center gap-2 rounded-lg bg-yellow-50 p-3 text-sm text-yellow-800",children:[o.jsx(ea,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("span",{children:"This code is for one-time use only."})]}),o.jsx("div",{className:"mt-6",children:o.jsx(Ce,{onClick:_,children:"Close"})})]}):o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"text-center text-gray-600",children:["Are you sure you want to spend ",o.jsxs("span",{className:"font-bold text-primary-600",children:[c==null?void 0:c.pointsCost," points"]})," to redeem this reward?"]}),o.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[o.jsx(Ce,{variant:"ghost",onClick:_,children:"Cancel"}),o.jsxs(Ce,{onClick:x,disabled:d,children:[d?o.jsx(_t,{className:"mr-2 h-4 w-4 animate-spin"}):o.jsx(Hr,{className:"mr-2 h-4 w-4"}),"Confirm"]})]})]})})]}):o.jsxs("div",{className:"flex min-h-screen flex-col bg-gray-50",children:[o.jsx(ht,{}),o.jsx("main",{className:"flex flex-1 items-center justify-center px-6 py-20 text-center",children:o.jsxs("div",{children:[o.jsx(bc,{className:"mx-auto h-24 w-24 text-gray-300 opacity-50"}),o.jsx("h1",{className:"mt-4 font-display text-2xl font-bold text-coffee-900",children:"Join Our Rewards Program"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Log in or create an account to start earning points and get free coffee!"}),o.jsxs("div",{className:"mt-8 flex justify-center gap-4",children:[o.jsx(Ae,{to:"/auth/login",className:"rounded-full bg-primary-600 px-8 py-3 font-semibold text-white transition-transform hover:scale-105",children:"Login"}),o.jsx(Ae,{to:"/auth/register",className:"rounded-full border-2 border-primary-600 px-8 py-3 font-semibold text-primary-600 transition-transform hover:scale-105 hover:bg-primary-50",children:"Sign Up"})]})]})}),o.jsx(dt,{})]})},IH=({user:t,onEditPhoto:e})=>{const n=(s,r)=>`${s.charAt(0)}${r.charAt(0)}`.toUpperCase();return o.jsxs("div",{className:"w-full",children:[o.jsx("div",{className:"relative h-48 w-full bg-gradient-to-r from-primary-500 to-coffee-600"}),o.jsxs("div",{className:"-mt-16 px-6",children:[o.jsxs("div",{className:"relative mx-auto h-32 w-32",children:[t.photoURL?o.jsx("img",{src:t.photoURL,alt:`${t.firstName} ${t.lastName}`,className:"h-full w-full rounded-full border-4 border-white object-cover shadow-lg"}):o.jsx("div",{className:"flex h-full w-full items-center justify-center rounded-full border-4 border-white bg-gradient-to-br from-primary-400 to-primary-600 text-white shadow-lg",children:o.jsx("span",{className:"font-display text-4xl font-bold",children:n(t.firstName,t.lastName)})}),o.jsx("button",{onClick:e,className:"absolute bottom-0 right-0 flex h-10 w-10 items-center justify-center rounded-full bg-primary-600 text-white shadow-lg transition-colors hover:bg-primary-700","aria-label":"Edit profile photo",children:o.jsx(m5,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"mt-4 text-center",children:[o.jsxs("h1",{className:"font-display text-3xl font-bold text-coffee-900",children:[t.firstName," ",t.lastName]}),o.jsx("p",{className:"text-gray-600",children:t.email}),t.role&&o.jsxs(vt,{className:"mt-2 bg-yellow-100 text-yellow-800 capitalize",children:[o.jsx(wc,{className:"mr-1 h-3 w-3"}),t.role]})]})]}),o.jsxs("div",{className:"mt-8 grid grid-cols-3 gap-4 border-y border-gray-200 bg-gray-50/50 px-6 py-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(Bn,{className:"mx-auto mb-1 h-6 w-6 text-primary-600"}),o.jsx("p",{className:"text-xl font-bold text-coffee-900",children:t.totalOrders}),o.jsx("p",{className:"text-xs text-gray-500",children:"Total Orders"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx(N5,{className:"mx-auto mb-1 h-6 w-6 text-primary-600"}),o.jsxs("p",{className:"text-xl font-bold text-coffee-900",children:["",t.totalSpent.toLocaleString()]}),o.jsx("p",{className:"text-xs text-gray-500",children:"Total Spent"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx(NS,{className:"mx-auto mb-1 h-6 w-6 text-primary-600"}),o.jsx("p",{className:"text-xl font-bold text-coffee-900",children:tm(t.createdAt,"MMMM yyyy")}),o.jsx("p",{className:"text-xs text-gray-500",children:"Member Since"})]})]})]})},MH=({user:t,onSave:e,onCancel:n})=>{const[s,r]=T.useState({firstName:t.firstName,lastName:t.lastName,phone:t.phone||""}),[i,a]=T.useState({}),[l,c]=T.useState(!1),[h,d]=T.useState(!1),{showToast:f}=nn();T.useEffect(()=>{const E=s.firstName!==t.firstName||s.lastName!==t.lastName||s.phone!==(t.phone||"");d(E)},[s,t]);const m=()=>{const E={};return s.firstName.length<2&&(E.firstName="First name must be at least 2 characters."),s.lastName.length<2&&(E.lastName="Last name must be at least 2 characters."),s.phone&&!/^(09|\+639)\d{9}$/.test(s.phone)&&(E.phone="Invalid Philippine phone number format."),a(E),Object.keys(E).length===0},g=E=>{r({...s,[E.target.name]:E.target.value})},b=E=>{E.preventDefault(),m()&&(c(!0),setTimeout(()=>{e(s),c(!1),f("Profile updated successfully!")},1e3))};return o.jsxs(fe,{className:"w-full",children:[o.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Edit Profile Information"}),o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(Fs,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",name:"firstName",id:"firstName",value:s.firstName,onChange:g,className:"w-full rounded-md border-gray-300 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0})]}),i.firstName&&o.jsx("p",{className:"mt-1 text-xs text-red-500",children:i.firstName})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(Fs,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",name:"lastName",id:"lastName",value:s.lastName,onChange:g,className:"w-full rounded-md border-gray-300 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0})]}),i.lastName&&o.jsx("p",{className:"mt-1 text-xs text-red-500",children:i.lastName})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(Bs,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"tel",name:"phone",id:"phone",value:s.phone,onChange:g,className:"w-full rounded-md border-gray-300 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),i.phone&&o.jsx("p",{className:"mt-1 text-xs text-red-500",children:i.phone})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(zs,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"email",name:"email",id:"email",value:t.email||"",className:"w-full rounded-md border-gray-300 bg-gray-100 pl-10 text-gray-500 shadow-sm",disabled:!0,readOnly:!0})]}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Contact support to change your email address."})]}),o.jsxs("div",{className:"flex justify-end gap-3 border-t border-gray-200 pt-4",children:[o.jsxs(Ce,{type:"button",variant:"ghost",onClick:n,children:[o.jsx(Ws,{className:"mr-2 h-4 w-4"}),"Cancel"]}),o.jsxs(Ce,{type:"submit",variant:"primary",disabled:!h||l,children:[l?o.jsx(_t,{className:"mr-2 h-4 w-4 animate-spin"}):o.jsx(P0,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]})]})]})},n2={completed:{icon:Hr,color:"bg-green-100 text-green-800"},cancelled:{icon:Ws,color:"bg-red-100 text-red-800"},preparing:{icon:Bn,color:"bg-blue-100 text-blue-800"},waiting:{icon:Bn,color:"bg-yellow-100 text-yellow-800"},ready:{icon:Bn,color:"bg-purple-100 text-purple-800"}},DH={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},kH={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},PH=({order:t})=>{var c,h;const e=((c=n2[t.status])==null?void 0:c.icon)||Bn,n=((h=n2[t.status])==null?void 0:h.color)||"bg-gray-100 text-gray-800",{addMultipleToCart:s,showToast:r}=nn(),{products:i}=Fo(),a=()=>{const d=[],f=[];for(const m of t.orderItems){const g=i.find(x=>x.id===m.productId);if(!g||!g.available||g.stock===0){f.push(m.productName);continue}const b=m.productName.match(/\((Grande|Venti)\)$/),E=b?b[1]:null;if(!E){f.push(m.productName);continue}const S=g.sizes.find(x=>x.name===E);if(!S){f.push(m.productName);continue}d.push({product:g,selectedSize:S,quantity:m.quantity})}d.length>0&&s(d),f.length>0&&r(`Could not add: ${f.join(", ")}. They may be unavailable.`)},l=()=>{const d=t.orderItems;return d.length<=2?d.map(m=>`${m.quantity}x ${m.productName}`).join(", "):`${d.slice(0,2).map(m=>m.productName).join(", ")}, and ${d.length-2} more item(s)`};return o.jsx(fe,{hover:!0,className:"transition-shadow duration-300",children:o.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"font-mono text-sm font-semibold text-primary-700",children:t.orderNumber}),o.jsxs(vt,{className:`capitalize ${n}`,children:[o.jsx(e,{className:"mr-1 h-3 w-3"}),t.status]})]}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:tm(t.timestamp,"MMM dd, yyyy  hh:mm a")}),o.jsx("p",{className:"mt-2 text-sm text-gray-700",children:l()})]}),o.jsxs("div",{className:"flex-shrink-0 text-right sm:ml-4",children:[o.jsxs("p",{className:"font-display text-2xl font-bold text-coffee-900",children:["",t.totalAmount.toFixed(2)]}),o.jsxs(Ce,{size:"sm",variant:"secondary",className:"mt-2",onClick:a,children:[o.jsx(MS,{className:"mr-2 h-4 w-4"}),"Reorder"]})]})]})})},s2=({orders:t,limit:e,showViewAll:n,onViewAll:s})=>{const r=[...t].sort((a,l)=>l.timestamp.getTime()-a.timestamp.getTime()),i=e?r.slice(0,e):r;return t.length===0?o.jsxs("div",{className:"py-16 text-center",children:[o.jsx(L0,{className:"mx-auto h-16 w-16 text-gray-300"}),o.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-800",children:"No Orders Yet"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Your past orders will appear here."}),o.jsx(Ce,{size:"lg",className:"mt-6",children:"Browse Menu"})]}):o.jsxs("div",{children:[o.jsx(Qs.div,{className:"space-y-4",variants:DH,initial:"hidden",animate:"visible",children:i.map(a=>o.jsx(Qs.div,{variants:kH,layout:!0,children:o.jsx(PH,{order:a})},a.id))}),n&&r.length>(e||0)&&o.jsx("div",{className:"mt-6 text-center",children:o.jsx(Ce,{variant:"ghost",onClick:s,children:"View All Orders"})})]})},vl=({label:t,description:e,enabled:n,onChange:s,Icon:r})=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(r,{className:"h-5 w-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-800",children:t}),o.jsx("p",{className:"text-sm text-gray-500",children:e})]})]}),o.jsx("button",{type:"button",className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${n?"bg-primary-600":"bg-gray-200"}`,role:"switch","aria-checked":n,onClick:()=>s(!n),children:o.jsx("span",{"aria-hidden":"true",className:`inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${n?"translate-x-5":"translate-x-0"}`})})]}),OH=({preferences:t,onUpdatePreferences:e})=>{const[n,s]=T.useState(t),[r,i]=T.useState(!1),[a,l]=T.useState(!1),{showToast:c}=nn(),h=(C,D,P)=>{const N={...n,[C]:{...n[C],[D]:P}};s(N),e({[C]:N[C]}),c("Preferences updated!")},[d,f]=T.useState({current:"",new:"",confirm:""}),[m,g]=T.useState({current:!1,new:!1,confirm:!1}),[b,E]=T.useState(!1),[S,x]=T.useState({password:"",checkbox:!1}),[v,_]=T.useState(!1);return o.jsxs(o.Fragment,{children:[o.jsxs(fe,{children:[o.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900",children:"Preferences & Settings"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold text-gray-500",children:"Notifications"}),o.jsx(vl,{Icon:_f,label:"Push Notifications",description:"Get notified when order is ready",enabled:n.notifications.push,onChange:C=>h("notifications","push",C)}),o.jsx(vl,{Icon:zs,label:"Email Updates",description:"Receive order updates via email",enabled:n.notifications.emailUpdates,onChange:C=>h("notifications","emailUpdates",C)}),o.jsx(vl,{Icon:zs,label:"Marketing Emails",description:"Get news and promotions",enabled:n.notifications.marketing,onChange:C=>h("notifications","marketing",C)})]}),o.jsx("hr",{className:"my-6"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(_3,{className:"h-5 w-5 text-gray-500"}),o.jsx("h3",{className:"font-semibold text-gray-800",children:"Appearance"})]}),o.jsx("div",{className:"flex gap-2 rounded-full bg-gray-100 p-1",children:["light","dark","auto"].map(C=>o.jsx("button",{onClick:()=>h("theme","theme",C),className:`w-full rounded-full py-1.5 text-sm font-semibold capitalize transition-colors ${n.theme===C?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:C},C))})]}),o.jsx("hr",{className:"my-6"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold text-gray-500",children:"Privacy"}),o.jsx(vl,{Icon:wc,label:"Share anonymous usage data",description:"Help us improve our services",enabled:n.privacy.shareUsageData,onChange:C=>h("privacy","shareUsageData",C)}),o.jsx(vl,{Icon:wc,label:"Personalized recommendations",description:"Get recommendations based on your activity",enabled:n.privacy.personalizedRecs,onChange:C=>h("privacy","personalizedRecs",C)})]})]}),o.jsxs(fe,{className:"mt-6 border-l-4 border-red-500",children:[o.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-red-700",children:"Account Management"}),o.jsxs("div",{className:"flex flex-col items-start gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-800",children:"Change Password"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Update your password for better security."})]}),o.jsxs(Ce,{variant:"secondary",onClick:()=>i(!0),children:[o.jsx(n3,{className:"mr-2 h-4 w-4"}),"Change Password"]})]}),o.jsx("hr",{className:"my-4"}),o.jsxs("div",{className:"flex flex-col items-start gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-800",children:"Delete Account"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Permanently delete your account and all data."})]}),o.jsxs(Ce,{variant:"danger",onClick:()=>l(!0),children:[o.jsx(Ef,{className:"mr-2 h-4 w-4"}),"Delete Account"]})]})]}),o.jsx(bo,{isOpen:r,onClose:()=>i(!1),title:"Change Password",children:o.jsx("form",{className:"space-y-4",children:o.jsx("p",{className:"text-sm text-gray-600",children:"Password change functionality is coming soon."})})}),o.jsx(bo,{isOpen:a,onClose:()=>l(!1),title:"Delete Account",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-red-100",children:o.jsx(PS,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),o.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Are you absolutely sure?"}),o.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"This action cannot be undone. This will permanently delete your account, orders, and rewards."}),o.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Account deletion functionality is coming soon."})]})})]})},VH=["Poor","Fair","Good","Very Good","Excellent"],LH={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"},Zd=({rating:t,onRatingChange:e,readonly:n=!1,size:s="md",className:r=""})=>{const[i,a]=T.useState(0),l=!n&&e,c=g=>{l&&e(g)},h=g=>{l&&a(g)},d=()=>{l&&a(0)},f=i||t,m=f>0?VH[f-1]:"";return o.jsxs("div",{className:`flex flex-col items-center gap-2 ${r}`,children:[o.jsx("div",{className:"flex",onMouseLeave:d,role:l?"radiogroup":"img","aria-label":l?"Star rating":`Rating: ${t} out of 5 stars`,children:[...Array(5)].map((g,b)=>{const E=b+1,S=E<=f;return o.jsx("button",{type:"button",disabled:!l,onClick:()=>c(E),onMouseEnter:()=>h(E),className:`transition-colors duration-200 ${l?"cursor-pointer":"cursor-default"}`,"aria-label":l?`${E} star`:void 0,"aria-checked":l?t===E:void 0,role:l?"radio":void 0,children:o.jsx(kS,{className:`
                  ${LH[s]}
                  ${S?"text-yellow-400":"text-gray-300"}
                  transition-transform duration-200
                  ${l&&S?"hover:scale-110":""}
                `,fill:S?"currentColor":"none"})},b)})}),l&&o.jsx("div",{className:"h-5 text-sm font-medium text-gray-600",children:m})]})},UH=({user:t})=>{const[e,n]=T.useState(0),[s,r]=T.useState("food"),[i,a]=T.useState(""),[l,c]=T.useState(!1),[h,d]=T.useState([]),[f,m]=T.useState(!0),[g,b]=T.useState(null),{showToast:E}=nn();T.useEffect(()=>{if(!t)return;const v=ds(Zt(ve,"feedback"),Ox("userId","==",t.uid)),_=xu(v,C=>{const D=[];C.forEach(P=>{var w,A;const N=P.data();D.push({id:P.id,...N,createdAt:(w=N.createdAt)==null?void 0:w.toDate(),updatedAt:(A=N.updatedAt)==null?void 0:A.toDate()})}),D.sort((P,N)=>{var w,A;return(((w=N.createdAt)==null?void 0:w.getTime())||0)-(((A=P.createdAt)==null?void 0:A.getTime())||0)}),d(D),m(!1)});return()=>_()},[t]);const S=async v=>{if(v.preventDefault(),e===0||i.trim().length<10){E("Please provide a rating and a comment (at least 10 characters).");return}c(!0);try{await yu(Zt(ve,"feedback"),{userId:t.uid,rating:e,category:s,comment:i,status:"pending",createdAt:qd(),updatedAt:qd()}),E("Feedback submitted successfully!"),n(0),r("food"),a("")}catch(_){console.error("Error submitting feedback: ",_),E("Failed to submit feedback. Please try again.")}finally{c(!1)}},x={pending:"bg-yellow-100 text-yellow-800",reviewed:"bg-blue-100 text-blue-800",resolved:"bg-green-100 text-green-800"};return o.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsxs(fe,{children:[o.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900",children:"Your Feedback History"}),f?o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsx(_t,{className:"h-8 w-8 animate-spin text-primary-600"})}):h.length>0?o.jsx("div",{className:"space-y-3",children:h.map(v=>o.jsxs("div",{className:"rounded-lg border border-gray-200",children:[o.jsxs("button",{onClick:()=>b(g===v.id?null:v.id),className:"flex w-full items-center justify-between p-4 text-left",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Zd,{rating:v.rating,size:"sm",readonly:!0}),o.jsxs("div",{className:"flex-1 overflow-hidden",children:[o.jsx("p",{className:"font-semibold text-gray-800 truncate",children:v.comment}),o.jsx("p",{className:"text-xs text-gray-500",children:v.createdAt?nm(v.createdAt,{addSuffix:!0}):"Just now"})]})]}),o.jsx(Zc,{className:`h-5 w-5 transform transition-transform ${g===v.id?"rotate-180":""}`})]}),o.jsx(vu,{children:g===v.id&&o.jsx(Qs.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:o.jsxs("div",{className:"border-t p-4",children:[o.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:v.comment}),v.response&&o.jsxs("div",{className:"mt-4 rounded-md border-l-4 border-primary-400 bg-primary-50 p-3",children:[o.jsx("p",{className:"font-semibold text-primary-800",children:"Response from Rush Coffee:"}),o.jsxs("p",{className:"mt-1 text-sm text-primary-700 italic",children:['"',v.response,'"']})]}),o.jsx("div",{className:"mt-3",children:o.jsx(vt,{className:`capitalize ${x[v.status]}`,children:v.status})})]})})})]},v.id))}):o.jsxs("div",{className:"py-10 text-center text-gray-500",children:[o.jsx(Io,{className:"mx-auto h-12 w-12 text-gray-300"}),o.jsx("p",{className:"mt-2 font-semibold",children:"No feedback history found."}),o.jsx("p",{className:"text-sm",children:"Share your thoughts with us using the form!"})]})]})}),o.jsx("div",{children:o.jsxs(fe,{children:[o.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900",children:"Leave Feedback"}),o.jsxs("form",{onSubmit:S,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Overall Rating"}),o.jsx(Zd,{rating:e,onRatingChange:n})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),o.jsxs("select",{id:"category",value:s,onChange:v=>r(v.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[o.jsx("option",{value:"food",children:"Food & Drinks"}),o.jsx("option",{value:"service",children:"Service"}),o.jsx("option",{value:"system",children:"App/Website"}),o.jsx("option",{value:"other",children:"Other"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700",children:"Comments"}),o.jsx("textarea",{id:"comment",value:i,onChange:v=>a(v.target.value),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Tell us more about your experience..."})]}),o.jsxs(Ce,{type:"submit",disabled:l,className:"w-full",children:[l?o.jsx(_t,{className:"mr-2 h-4 w-4 animate-spin"}):o.jsx(O0,{className:"mr-2 h-4 w-4"}),l?"Submitting...":"Submit Feedback"]})]})]})})]})},r2=()=>o.jsx(fe,{className:"animate-pulse",children:o.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{className:"flex-grow space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"h-4 w-1/3 rounded bg-gray-300"}),o.jsx("div",{className:"h-5 w-1/4 rounded-full bg-gray-300"})]}),o.jsx("div",{className:"h-3 w-1/4 rounded bg-gray-300"}),o.jsx("div",{className:"h-4 w-1/2 rounded bg-gray-300"})]}),o.jsxs("div",{className:"flex-shrink-0 space-y-2 text-right sm:ml-4",children:[o.jsx("div",{className:"h-8 w-24 rounded bg-gray-300 ml-auto"}),o.jsx("div",{className:"h-8 w-28 rounded-full bg-gray-300 ml-auto"})]})]})}),zH=()=>{const{currentUser:t,updateUserProfile:e,updateUserPhoto:n}=On(),{orderHistory:s,isHistoryLoading:r}=bv(),[i,a]=T.useState(null),[l,c]=T.useState("overview"),[h,d]=T.useState(!1),[f,m]=T.useState(!1),[g,b]=T.useState(null),[E,S]=T.useState(null),[x,v]=T.useState(!1),_=T.useRef(null),{showToast:C,addToCart:D}=nn();T.useEffect(()=>{a(t)},[t]),T.useEffect(()=>{if(!g){S(null);return}const $=URL.createObjectURL(g);return S($),()=>URL.revokeObjectURL($)},[g]);const P=T.useMemo(()=>i?mC.find($=>$.id==="cb-01"):null,[i]),N=$=>{i&&e&&(e($),d(!1))},w=$=>{i&&a(ye=>ye?{...ye,preferences:{...ye.preferences,...$}}:null)},A=$=>{if($.target.files&&$.target.files[0]){if($.target.files[0].size>2*1024*1024){C("File size should not exceed 2MB.");return}b($.target.files[0])}},R=()=>{if(!g||!i||!n)return;v(!0);const $=new FileReader;$.readAsDataURL(g),$.onloadend=async()=>{const ye=$.result;try{await n(ye),v(!1),m(!1),b(null),C("Profile photo updated!")}catch(B){console.error("Error updating photo:",B),C("Failed to update photo."),v(!1)}}},M=()=>{P&&D(P,P.sizes[0])};if(!i)return o.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50",children:o.jsx(_t,{className:"h-12 w-12 animate-spin text-primary-600"})});const k=[{id:"overview",label:"Overview",Icon:Fs},{id:"orders",label:"Order History",Icon:L0},{id:"feedback",label:"My Feedback",Icon:Io},{id:"settings",label:"Settings",Icon:V0}],I=()=>{switch(l){case"orders":return r?o.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map(($,ye)=>o.jsx(r2,{},ye))}):o.jsx(s2,{orders:s});case"settings":return o.jsx(OH,{preferences:i.preferences,onUpdatePreferences:w});case"feedback":return o.jsx(UH,{user:i});case"overview":default:return o.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[o.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[h?o.jsx(MH,{user:i,onSave:N,onCancel:()=>d(!1)}):o.jsxs(fe,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"font-display text-xl font-bold text-coffee-900",children:"Quick Info"}),o.jsxs(Ce,{variant:"ghost",size:"sm",onClick:()=>d(!0),children:[o.jsx(DS,{className:"mr-2 h-4 w-4"})," Edit Profile"]})]}),o.jsxs("ul",{className:"mt-4 space-y-3 text-gray-700",children:[o.jsxs("li",{className:"flex items-center gap-3",children:[o.jsx(zs,{className:"h-5 w-5 text-gray-400"})," ",i.email]}),o.jsxs("li",{className:"flex items-center gap-3",children:[o.jsx(Bs,{className:"h-5 w-5 text-gray-400"})," ",i.phone||"Not provided"]}),o.jsxs("li",{className:"flex items-center gap-3",children:[o.jsx(NS,{className:"h-5 w-5 text-gray-400"})," Member since ",tm(i.createdAt,"MMMM dd, yyyy")]})]})]}),r?o.jsxs(fe,{children:[o.jsx("h3",{className:"font-display text-xl font-bold text-coffee-900",children:"Recent Orders"}),o.jsx("div",{className:"mt-4 space-y-4",children:Array.from({length:3}).map(($,ye)=>o.jsx(r2,{},ye))})]}):o.jsx(s2,{orders:s,limit:3,showViewAll:!0,onViewAll:()=>c("orders")})]}),o.jsxs("div",{className:"space-y-6 lg:col-span-1",children:[P&&o.jsxs(fe,{children:[o.jsx("h3",{className:"font-display text-xl font-bold text-coffee-900",children:"Your Favorite"}),o.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[o.jsx("img",{src:P.imageUrl,alt:P.name,className:"h-20 w-20 rounded-lg object-cover"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-800",children:P.name}),o.jsx("p",{className:"text-sm text-gray-500",children:P.category}),o.jsx(Ce,{size:"sm",variant:"secondary",className:"mt-2",onClick:M,children:"Order Again"})]})]})]}),o.jsxs(fe,{children:[o.jsx("h3",{className:"font-display text-xl font-bold text-coffee-900",children:"Quick Stats"}),o.jsxs("ul",{className:"mt-4 space-y-3 text-gray-700",children:[o.jsxs("li",{className:"flex justify-between",children:[o.jsx("span",{children:"Orders this week:"})," ",o.jsx("span",{className:"font-bold",children:"5"})]}),o.jsxs("li",{className:"flex justify-between",children:[o.jsx("span",{children:"Orders this month:"})," ",o.jsx("span",{className:"font-bold",children:"12"})]}),o.jsxs("li",{className:"flex justify-between",children:[o.jsx("span",{children:"Total Savings:"})," ",o.jsx("span",{className:"font-bold text-green-600",children:"250.00"})]})]})]})]})]})}};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(ht,{}),o.jsxs("main",{children:[o.jsx(IH,{user:i,onEditPhoto:()=>m(!0)}),o.jsx("div",{className:"sticky top-20 z-30 border-b border-gray-200 bg-white/95 backdrop-blur-sm",children:o.jsx("div",{className:"container mx-auto max-w-7xl px-6",children:o.jsx("nav",{className:"-mb-px flex space-x-6 overflow-x-auto",children:k.map($=>o.jsxs("button",{onClick:()=>c($.id),className:`group inline-flex shrink-0 items-center gap-2 whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium transition-colors ${l===$.id?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:[o.jsx($.Icon,{className:`h-5 w-5 ${l!==$.id&&"text-gray-400 group-hover:text-gray-500"}`}),$.label]},$.id))})})}),o.jsx("div",{className:"container mx-auto max-w-7xl p-6",children:I()})]}),o.jsx(dt,{}),o.jsx(bo,{isOpen:f,onClose:()=>m(!1),title:"Upload New Photo",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("input",{type:"file",ref:_,onChange:A,accept:"image/*",className:"hidden"}),o.jsx("div",{className:"flex cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-6 text-center transition hover:bg-gray-100",onClick:()=>{var $;return($=_.current)==null?void 0:$.click()},children:E?o.jsx("img",{src:E,alt:"Preview",className:"h-32 w-32 rounded-full object-cover"}):o.jsxs(o.Fragment,{children:[o.jsx(nw,{className:"h-12 w-12 text-gray-400"}),o.jsx("span",{className:"mt-2 block text-sm font-semibold text-gray-600",children:"Click to upload"}),o.jsx("span",{className:"mt-1 block text-xs text-gray-500",children:"PNG or JPG (MAX. 2MB)"})]})}),x&&o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:o.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full animate-pulse",style:{width:"100%"}})}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(Ce,{variant:"ghost",onClick:()=>m(!1),children:"Cancel"}),o.jsxs(Ce,{onClick:R,disabled:!g||x,children:[x?o.jsx(_t,{className:"mr-2 h-4 w-4 animate-spin"}):o.jsx(nw,{className:"mr-2 h-4 w-4"}),"Upload Photo"]})]})]})})]})},BH=(t,e=2e3)=>{const[n,s]=T.useState(0),r=T.useRef(null),i=t%1!==0?1:0;return T.useEffect(()=>{const a=new IntersectionObserver(([c])=>{if(c.isIntersecting){let h=0;const d=t;if(h===d){s(d);return}const f=Math.round(e/(1e3/60)),m=(d-h)/f,g=()=>{h+=m,h<d?(s(h),requestAnimationFrame(g)):s(d)};requestAnimationFrame(g),a.disconnect()}},{threshold:.1}),l=r.current;return l&&a.observe(l),()=>{l&&a.unobserve(l)}},[t,e]),{count:n.toFixed(i),ref:r}},hh=({icon:t,value:e,label:n,suffix:s=""})=>{const{count:r,ref:i}=BH(e),a=r.includes(".");return o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx(t,{className:"mb-2 h-10 w-10 text-primary-600"}),o.jsxs("span",{ref:i,className:"font-display text-4xl font-bold text-coffee-900",children:[Number(r).toLocaleString(void 0,{minimumFractionDigits:a?1:0,maximumFractionDigits:a?1:0}),s]}),o.jsx("p",{className:"mt-1 text-gray-600",children:n})]})},FH=()=>o.jsxs("div",{className:"bg-white",children:[o.jsx(ht,{}),o.jsxs("main",{children:[o.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-primary-50 via-coffee-100 to-white px-6 py-24 text-center",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/az-subtle.png')] opacity-30"}),o.jsxs("div",{className:"relative z-10 mx-auto max-w-4xl",children:[o.jsx("h1",{className:"animate-fade-in-up font-display text-5xl font-bold text-coffee-900 md:text-6xl",style:{animationDelay:"100ms",opacity:0},children:"About Rush Coffee"}),o.jsx("p",{className:"animate-fade-in-up mt-4 text-xl text-gray-700 md:text-2xl",style:{animationDelay:"300ms",opacity:0},children:"More than just coffee, it's a revolution in your daily ritual."})]})]}),o.jsx("section",{className:"px-6 py-20",children:o.jsxs("div",{className:"container mx-auto grid max-w-7xl items-center gap-12 md:grid-cols-2",children:[o.jsxs("div",{className:"animate-fade-in-up",children:[o.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"Our Story"}),o.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"Founded in 2023 by a group of passionate coffee aficionados and tech enthusiasts, Rush Coffee was born from a simple yet powerful idea: your coffee break should be a moment of joy, not a test of patience."}),o.jsx("p",{className:"mt-4 text-gray-600",children:"We saw the long lines, the rushed orders, and the precious minutes slipping away from people's days. Our mission became clear: to blend the rich tradition of artisanal coffee with the seamless efficiency of modern technology. We're not just serving coffee; we're giving you back your time, one perfectly brewed cup at a time."})]}),o.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"200ms",opacity:0},children:o.jsx("img",{src:"https://images.unsplash.com/photo-1559925393-8be0ec4767c8?q=80&w=1200",alt:"Inside Rush Coffee shop",className:"h-80 w-full rounded-lg object-cover shadow-xl"})})]})}),o.jsx("section",{className:"bg-gray-50 px-6 py-20",children:o.jsxs("div",{className:"container mx-auto max-w-7xl",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"What We Stand For"}),o.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-gray-600",children:"Our core values guide every bean we roast and every line of code we write."})]}),o.jsxs("div",{className:"mt-12 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-4",children:[o.jsxs(fe,{hover:!0,className:"text-center",children:[o.jsx(Bn,{className:"mx-auto mb-4 h-12 w-12 text-primary-600"}),o.jsx("h3",{className:"font-display text-xl font-semibold text-coffee-900",children:"Quality"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"From ethically sourced, premium beans to the perfect extraction, excellence is in every cup."})]}),o.jsxs(fe,{hover:!0,className:"text-center",children:[o.jsx(W3,{className:"mx-auto mb-4 h-12 w-12 text-primary-600"}),o.jsx("h3",{className:"font-display text-xl font-semibold text-coffee-900",children:"Speed"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Our digital queue system ensures your order is ready when you are. Fast, efficient, and always fresh."})]}),o.jsxs(fe,{hover:!0,className:"text-center",children:[o.jsx(_d,{className:"mx-auto mb-4 h-12 w-12 text-primary-600"}),o.jsx("h3",{className:"font-display text-xl font-semibold text-coffee-900",children:"Community"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"We're more than a coffee shop; we're a hub for connection, creativity, and caffeine lovers."})]}),o.jsxs(fe,{hover:!0,className:"text-center",children:[o.jsx(a3,{className:"mx-auto mb-4 h-12 w-12 text-primary-600"}),o.jsx("h3",{className:"font-display text-xl font-semibold text-coffee-900",children:"Innovation"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Continuously improving your experience by thoughtfully integrating technology with tradition."})]})]})]})}),o.jsx("section",{className:"bg-white px-6 py-20",children:o.jsx("div",{className:"container mx-auto max-w-7xl",children:o.jsxs("div",{className:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-4",children:[o.jsx(hh,{icon:_d,value:1e4,label:"Happy Customers",suffix:"+"}),o.jsx(hh,{icon:Bn,value:5e4,label:"Coffees Served",suffix:"+"}),o.jsx(hh,{icon:kS,value:4.9,label:"Average Rating"}),o.jsx(hh,{icon:Y3,value:5,label:"Minutes Average Wait"})]})})}),o.jsx("section",{className:"bg-gray-50 px-6 py-20",children:o.jsxs("div",{className:"container mx-auto grid max-w-7xl items-center gap-12 lg:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"Visit Us"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Experience the Rush Coffee difference in person. We're ready to serve you."}),o.jsxs("ul",{className:"mt-6 space-y-4",children:[o.jsxs("li",{className:"flex items-start gap-4",children:[o.jsx(k0,{className:"mt-1 h-6 w-6 flex-shrink-0 text-primary-600"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-coffee-900",children:"Address"}),o.jsx("p",{className:"text-gray-600",children:"123 Coffee Street, Malate, Manila, 1004 Metro Manila"})]})]}),o.jsxs("li",{className:"flex items-start gap-4",children:[o.jsx(Tf,{className:"mt-1 h-6 w-6 flex-shrink-0 text-primary-600"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-coffee-900",children:"Operating Hours"}),o.jsx("p",{className:"text-gray-600",children:"Monday - Friday: 7:00 AM - 8:00 PM"}),o.jsx("p",{className:"text-gray-600",children:"Saturday - Sunday: 8:00 AM - 6:00 PM"})]})]}),o.jsxs("li",{className:"flex items-start gap-4",children:[o.jsx(Bs,{className:"mt-1 h-6 w-6 flex-shrink-0 text-primary-600"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-coffee-900",children:"Contact"}),o.jsx("a",{href:"tel:+639171234567",className:"text-primary-600 transition hover:text-primary-700",children:"+63 917 123 4567"})]})]})]}),o.jsx(Ce,{size:"lg",className:"mt-8",children:"Get Directions"})]}),o.jsx("div",{className:"h-96 overflow-hidden rounded-lg shadow-xl",children:o.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gray-300 bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1552526881-72f220377224?q=80&w=1200')"},children:o.jsx("span",{className:"rounded bg-white/80 px-4 py-2 font-semibold text-gray-700 backdrop-blur-sm",children:"[Google Maps Placeholder]"})})})]})}),o.jsxs("section",{className:"relative bg-gradient-to-r from-primary-600 via-coffee-600 to-primary-700 px-6 py-20",children:[o.jsx("div",{className:"absolute -left-1/4 -top-1/4 opacity-10",children:o.jsx(bt,{className:"h-64 w-64 animate-float text-white"})}),o.jsx("div",{className:"absolute -bottom-1/4 -right-1/4 opacity-10",children:o.jsx(bt,{className:"h-80 w-80 animate-float-delay text-white"})}),o.jsxs("div",{className:"relative z-10 mx-auto max-w-4xl text-center",children:[o.jsx("h2",{className:"font-display text-4xl font-bold text-white md:text-5xl",children:"Ready to Experience the Rush?"}),o.jsx("p",{className:"mb-8 mt-4 text-xl text-primary-100",children:"Join thousands of customers who've already skipped the line."}),o.jsx(Ae,{to:"/menu",children:o.jsxs(Ce,{size:"lg",className:"bg-white text-primary-600 transition-transform hover:scale-105 hover:bg-primary-50",children:["Order Now ",o.jsx(oo,{className:"ml-2 h-5 w-5"})]})})]})]})]}),o.jsx(dt,{})]}),qH=[{question:"What are your operating hours?",answer:"We are open Monday to Friday from 7:00 AM to 8:00 PM, and Saturday to Sunday from 8:00 AM to 6:00 PM."},{question:"How does the digital queue system work?",answer:"Simply place your order through our app or website. You'll be added to our virtual queue and receive real-time updates on your order status, including your position and estimated wait time. You'll get a notification when it's ready for pickup!"},{question:"Can I customize my drink?",answer:"Absolutely! Most of our drinks can be customized. You can choose your milk, sweetness level, add extra shots, and more right from the order page."},{question:"Do you offer catering services for events?",answer:"Yes, we do! We offer a range of catering options for meetings, parties, and events. Please use the contact form and select 'Partnership' as the subject to discuss your needs with us."},{question:"How do I earn and redeem rewards points?",answer:"You earn points with every purchase made through your account. You can view your points balance and redeem available rewards on the 'Rewards' page in the app."}],HH=({question:t,answer:e,isOpen:n,onClick:s})=>o.jsxs("div",{className:"border-b border-gray-200",children:[o.jsxs("button",{onClick:s,className:"flex w-full items-center justify-between py-4 text-left text-lg font-medium text-gray-800 focus:outline-none",children:[o.jsx("span",{children:t}),o.jsx(Zc,{className:`h-6 w-6 transform transition-transform duration-300 ${n?"rotate-180":""}`})]}),o.jsx(vu,{children:n&&o.jsx(Qs.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:o.jsx("p",{className:"pb-4 text-gray-600",children:e})})})]}),dh=({icon:t,title:e,children:n})=>o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"mt-1 flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-primary-100",children:o.jsx(t,{className:"h-6 w-6 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-display text-xl font-bold text-coffee-900",children:e}),n]})]}),GH=()=>{const[t,e]=T.useState(0),[n,s]=T.useState({name:"",email:"",phone:"",subject:"",message:""}),[r,i]=T.useState({}),[a,l]=T.useState(!1),[c,h]=T.useState(!1),d=()=>{const g={};return n.name.length<2&&(g.name="Name must be at least 2 characters."),/\S+@\S+\.\S+/.test(n.email)||(g.email="Please enter a valid email address."),n.subject||(g.subject="Please select a subject."),n.message.length<10&&(g.message="Message must be at least 10 characters."),i(g),Object.keys(g).length===0},f=g=>{g.preventDefault(),d()&&(l(!0),h(!1),setTimeout(()=>{l(!1),h(!0),s({name:"",email:"",phone:"",subject:"",message:""}),setTimeout(()=>h(!1),5e3)},1500))},m=g=>{s({...n,[g.target.name]:g.target.value})};return o.jsxs("div",{className:"bg-white",children:[o.jsx(ht,{}),o.jsxs("main",{children:[o.jsxs("section",{className:"bg-gradient-to-br from-primary-50 to-coffee-50 px-6 py-20 text-center",children:[o.jsx("h1",{className:"font-display text-5xl font-bold text-coffee-900 md:text-6xl",children:"Get in Touch"}),o.jsx("p",{className:"mt-4 text-xl text-gray-700",children:"We're here to help and answer any question you might have."})]}),o.jsx("section",{className:"px-6 py-20",children:o.jsxs("div",{className:"container mx-auto grid max-w-7xl gap-12 lg:grid-cols-5",children:[o.jsx("div",{className:"lg:col-span-3",children:o.jsxs(fe,{className:"p-8",children:[o.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900",children:"Send us a Message"}),c&&o.jsxs("div",{className:"mt-4 flex items-center gap-2 rounded-lg bg-green-50 p-4 text-green-700",children:[o.jsx(AS,{className:"h-5 w-5"}),o.jsx("p",{children:"Thanks for your message! We'll get back to you soon."})]}),o.jsxs("form",{onSubmit:f,className:"mt-6 space-y-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("label",{htmlFor:"name",className:"sr-only",children:"Name"}),o.jsx(Fs,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",name:"name",id:"name",value:n.name,onChange:m,placeholder:"Full Name",required:!0,className:"w-full rounded-md border-gray-300 py-3 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),r.name&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.name})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),o.jsx(zs,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"email",name:"email",id:"email",value:n.email,onChange:m,placeholder:"Email Address",required:!0,className:"w-full rounded-md border-gray-300 py-3 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),r.email&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.email})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{htmlFor:"phone",className:"sr-only",children:"Phone"}),o.jsx(Bs,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"tel",name:"phone",id:"phone",value:n.phone,onChange:m,placeholder:"Phone Number (Optional)",className:"w-full rounded-md border-gray-300 py-3 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{htmlFor:"subject",className:"sr-only",children:"Subject"}),o.jsx(K5,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),o.jsxs("select",{name:"subject",id:"subject",value:n.subject,onChange:m,required:!0,className:"w-full appearance-none rounded-md border-gray-300 bg-white py-3 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[o.jsx("option",{value:"",disabled:!0,children:"Select a subject..."}),o.jsx("option",{children:"General Inquiry"}),o.jsx("option",{children:"Feedback"}),o.jsx("option",{children:"Partnership"}),o.jsx("option",{children:"Support"})]}),r.subject&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.subject})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{htmlFor:"message",className:"sr-only",children:"Message"}),o.jsx(Io,{className:"absolute left-3 top-4 h-5 w-5 text-gray-400"}),o.jsx("textarea",{name:"message",id:"message",value:n.message,onChange:m,placeholder:"Your Message",rows:5,required:!0,className:"w-full rounded-md border-gray-300 py-3 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),r.message&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.message})]}),o.jsxs(Ce,{type:"submit",size:"lg",disabled:a,className:"w-full",children:[a?o.jsx(_t,{className:"mr-2 h-5 w-5 animate-spin"}):o.jsx(O0,{className:"mr-2 h-5 w-5"}),a?"Sending...":"Send Message"]})]})]})}),o.jsxs("div",{className:"space-y-8 lg:col-span-2",children:[o.jsxs(dh,{icon:k0,title:"Visit Us",children:[o.jsx("p",{className:"mt-1 text-gray-600",children:"123 Coffee Street, Malate, Manila"}),o.jsx(Ce,{variant:"secondary",size:"sm",className:"mt-2",children:"Get Directions"})]}),o.jsxs(dh,{icon:Bs,title:"Call Us",children:[o.jsx("a",{href:"tel:+639171234567",className:"mt-1 text-primary-600 transition hover:text-primary-700",children:"+63 917 123 4567"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Mon-Sun: 7AM - 8PM"})]}),o.jsxs(dh,{icon:zs,title:"Email Us",children:[o.jsx("a",{href:"mailto:hello@rushcoffee.ph",className:"mt-1 text-primary-600 transition hover:text-primary-700",children:"hello@rushcoffee.ph"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Responds within 24 hours"})]}),o.jsx(dh,{icon:D3,title:"Follow Us",children:o.jsxs("div",{className:"mt-2 flex gap-4",children:[o.jsx("a",{href:"#","aria-label":"Facebook",className:"text-gray-500 transition hover:text-primary-600",children:o.jsx(jS,{})}),o.jsx("a",{href:"#","aria-label":"Instagram",className:"text-gray-500 transition hover:text-primary-600",children:o.jsx(CS,{})}),o.jsx("a",{href:"#","aria-label":"Twitter",className:"text-gray-500 transition hover:text-primary-600",children:o.jsx(OS,{})})]})})]})]})}),o.jsx("section",{className:"bg-gray-50 px-6 py-20",children:o.jsxs("div",{className:"container mx-auto max-w-4xl",children:[o.jsx("h2",{className:"text-center font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"Frequently Asked Questions"}),o.jsx("div",{className:"mt-8",children:qH.map((g,b)=>o.jsx(HH,{...g,isOpen:t===b,onClick:()=>e(t===b?null:b)},b))})]})}),o.jsx("section",{children:o.jsx("div",{className:"h-96 w-full bg-gray-300 flex items-center justify-center",children:o.jsx("p",{className:"text-gray-600 font-semibold",children:"[Google Maps Embed Placeholder]"})})})]}),o.jsx(dt,{})]})},ZR=[{category:"Ordering & Queue",question:"How do I join the virtual queue?",answer:"Simply place an order through our website or app. You'll automatically join the queue and receive your position number."},{category:"Ordering & Queue",question:"Can I see my queue position in real-time?",answer:"Yes! Your queue page updates in real-time showing your current position and estimated wait time."},{category:"Ordering & Queue",question:"What happens if I miss my turn?",answer:"Don't worry! You have a 10-minute grace period to pick up your order once it's ready. After that, your order will be held for you, but you may need to wait briefly if we are busy."},{category:"Ordering & Queue",question:"Can I cancel my order?",answer:"Yes, you can cancel an order directly from your order history as long as its status is still 'waiting'. Once it moves to 'preparing', it can no longer be canceled. Refunds for successful cancellations are processed within 3-5 business days."},{category:"Payments",question:"What payment methods do you accept?",answer:"We currently accept GCash for pre-payment and cash on pickup. We are working on adding more digital payment options soon!"},{category:"Payments",question:"Is it safe to pay via GCash?",answer:"Absolutely! We use a secure payment process, and your payment information is encrypted and handled safely."},{category:"Payments",question:"Do I need to pay upfront?",answer:"For GCash payments, yes, payment is required upon placing the order. For cash payments, you can pay at the counter when you pick up your order."},{category:"Rewards",question:"How do I earn rewards points?",answer:"You earn points with every purchase made through your Rush Coffee account! The current rate is 1 point for every 10 spent. Keep an eye out for special promotions to earn bonus points."},{category:"Rewards",question:"When do my points expire?",answer:"Good news - your points never expire! You can save them up for as long as you like and redeem them for rewards whenever you're ready."},{category:"Rewards",question:"What are the tier benefits?",answer:"We have three tiers! Bronze (0-299pts): Earn 1x points. Silver (300-999pts): Earn 1.5x points and get access to exclusive silver rewards. Gold (1000+pts): Earn 2x points, get VIP perks, and early access to new items."},{category:"Account",question:"Do I need an account to order?",answer:"Yes, creating an account is necessary. It allows us to manage your orders in the queue, track your rewards points, and save your preferences for a faster checkout next time."},{category:"Account",question:"How do I reset my password?",answer:"On the login page, click the 'Forgot your password?' link. We'll send a password reset link to the email address associated with your account."},{category:"Account",question:"Can I change my email address?",answer:"To update the email address on your account, please contact our support team at hello@rushcoffee.ph, and we'll be happy to assist you."},{category:"Technical",question:"The website isn't working correctly. What should I do?",answer:"First, try refreshing the page. If that doesn't work, clearing your browser's cache and cookies often resolves the issue. If you're still experiencing problems, please contact our support team with details about the issue."},{category:"Technical",question:"Do you have a mobile app?",answer:"A dedicated mobile app for iOS and Android is currently in development and will be launching soon! For now, our website is fully responsive and works great on all mobile browsers."},{category:"General",question:"What are your operating hours?",answer:"We're open Monday to Sunday, from 7:00 AM to 10:00 PM. Hours may vary on public holidays."},{category:"General",question:"Do you offer WiFi in your store?",answer:"Yes, we offer complimentary high-speed WiFi for all our customers. Just ask our staff for the network details."},{category:"General",question:"Can I customize my drink?",answer:"Absolutely! You can customize aspects like milk type, sweetness level, add extra espresso shots, and choose from various syrups and toppings directly on the product page before adding an item to your cart."}],$H=["All",...Array.from(new Set(ZR.map(t=>t.category)))],YH=({question:t,answer:e,isOpen:n,onClick:s,highlight:r})=>{const i=(a,l)=>{if(!l.trim())return a;const c=new RegExp(`(${l})`,"gi");return a.split(c).map((h,d)=>c.test(h)?o.jsx("mark",{className:"bg-primary-100 text-primary-700 rounded-sm",children:h},d):h)};return o.jsxs("div",{className:"border-b border-gray-200",children:[o.jsxs("button",{onClick:s,className:"flex w-full items-center justify-between py-5 text-left text-lg font-medium text-gray-800 focus:outline-none focus:bg-gray-50 rounded-md",children:[o.jsx("span",{className:"flex-1 pr-4",children:i(t,r)}),o.jsx(Zc,{className:`h-6 w-6 transform text-primary-600 transition-transform duration-300 ${n?"rotate-180":""}`})]}),o.jsx(vu,{children:n&&o.jsx(Qs.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:o.jsx("div",{className:"pb-5 pr-6 text-gray-600 leading-relaxed",children:i(e,r)})})})]})},QH=()=>{const[t,e]=T.useState(""),[n,s]=T.useState("All"),[r,i]=T.useState(0),a=T.useMemo(()=>ZR.filter(l=>{const c=n==="All"||l.category===n,h=t.trim()===""||l.question.toLowerCase().includes(t.toLowerCase())||l.answer.toLowerCase().includes(t.toLowerCase());return c&&h}),[t,n]);return o.jsxs("div",{className:"bg-white",children:[o.jsx(ht,{}),o.jsxs("main",{children:[o.jsx("section",{className:"bg-gradient-to-br from-primary-50 to-coffee-50 px-6 py-16",children:o.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[o.jsx("h1",{className:"font-display text-5xl font-bold text-coffee-900 md:text-6xl",children:"Frequently Asked Questions"}),o.jsx("p",{className:"mt-4 text-xl text-gray-700",children:"Everything you need to know about Rush Coffee"}),o.jsxs("div",{className:"relative mx-auto mt-8 max-w-2xl",children:[o.jsx(wd,{className:"absolute left-6 top-1/2 h-6 w-6 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"search",placeholder:"Search for answers...",value:t,onChange:l=>e(l.target.value),className:"w-full rounded-full border border-gray-300 bg-white py-4 pl-16 pr-6 text-lg shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500"})]})]})}),o.jsx("div",{className:"sticky top-20 z-30 border-b border-gray-200 bg-white/95 py-3 backdrop-blur-sm",children:o.jsx("div",{className:"container mx-auto flex max-w-7xl gap-2 overflow-x-auto px-6 pb-2",children:$H.map(l=>o.jsx("button",{onClick:()=>s(l),className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition-colors ${n===l?"bg-primary-600 text-white shadow":"border border-gray-300 bg-white text-gray-700 hover:bg-gray-100"}`,children:l},l))})}),o.jsx("section",{className:"px-6 py-16",children:o.jsx("div",{className:"container mx-auto max-w-4xl",children:a.length>0?o.jsxs("div",{children:[o.jsxs("p",{className:"mb-4 text-sm text-gray-500",children:[a.length," question(s) found"]}),a.map((l,c)=>o.jsx(YH,{question:l.question,answer:l.answer,isOpen:r===c,onClick:()=>i(r===c?null:c),highlight:t},`${l.category}-${c}`))]}):o.jsxs("div",{className:"py-20 text-center",children:[o.jsx(wd,{className:"mx-auto h-16 w-16 text-gray-300"}),o.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-800",children:"No Results Found"}),o.jsxs("p",{className:"mt-2 text-gray-500",children:[`We couldn't find any answers for "`,t,'". Try a different search term or category.']})]})})}),o.jsx("section",{className:"bg-gray-50 px-6 py-20",children:o.jsx("div",{className:"container mx-auto max-w-4xl",children:o.jsxs(fe,{className:"text-center",children:[o.jsx(A5,{className:"mx-auto h-12 w-12 text-primary-600"}),o.jsx("h2",{className:"mt-4 font-display text-3xl font-bold text-coffee-900",children:"Still have questions?"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"If you can't find the answer you're looking for, please get in touch with our support team."}),o.jsx("div",{className:"mt-6 flex flex-col items-center justify-center gap-4 sm:flex-row",children:o.jsx(Ae,{to:"/contact",children:o.jsxs(Ce,{size:"lg",children:[o.jsx(g3,{className:"mr-2 h-5 w-5"}),"Contact Support"]})})})]})})})]}),o.jsx(dt,{})]})},KH=({cartItems:t,isOpen:e,onClose:n,onUpdateQuantity:s,onRemoveItem:r,onCheckout:i})=>{const a=Qn(),l=t.reduce((d,f)=>d+f.quantity,0),c=t.reduce((d,f)=>d+f.selectedSize.price*f.quantity,0),h=()=>{n(),a("/menu")};return o.jsxs(o.Fragment,{children:[o.jsx("div",{onClick:n,className:`fixed inset-0 z-40 bg-black/50 transition-opacity duration-300 ${e?"opacity-100":"opacity-0 pointer-events-none"}`,"aria-hidden":"true"}),o.jsx("aside",{className:`fixed top-0 right-0 z-50 h-full w-full transform bg-white shadow-2xl transition-transform duration-300 ease-in-out sm:w-96 md:w-[450px] ${e?"translate-x-0":"translate-x-full"}`,role:"dialog","aria-modal":"true","aria-labelledby":"cart-heading",children:o.jsxs("div",{className:"flex h-full flex-col",children:[o.jsxs("header",{className:"flex items-center justify-between border-b border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h2",{id:"cart-heading",className:"font-display text-xl font-bold text-coffee-900",children:"Your Order"}),l>0&&o.jsxs(vt,{children:[l," ",l===1?"item":"items"]})]}),o.jsx("button",{onClick:n,className:"rounded-md p-2 text-gray-500 transition-colors hover:bg-gray-100 hover:text-gray-800","aria-label":"Close cart",children:o.jsx(Ws,{className:"h-6 w-6"})})]}),t.length===0?o.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-4 p-6 text-center",children:[o.jsx(bt,{className:"h-24 w-24 text-gray-300 opacity-50"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Your cart is empty"}),o.jsx("p",{className:"text-gray-500",children:"Looks like you haven't added anything yet."}),o.jsx("button",{onClick:h,className:"mt-4 rounded-full bg-primary-600 px-6 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-700",children:"Start Ordering"})]}):o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o.jsx("ul",{className:"-my-4 divide-y divide-gray-200",children:t.map(d=>o.jsxs("li",{className:"relative flex items-center gap-4 py-4",children:[o.jsx("div",{className:"h-16 w-16 flex-shrink-0 overflow-hidden rounded-md border border-gray-200",children:o.jsx("img",{src:d.product.imageUrl,alt:d.product.name,className:"h-full w-full object-cover object-center"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:d.product.name}),o.jsxs("p",{className:"text-sm text-gray-500",children:[d.selectedSize.name," - ",d.selectedSize.price.toFixed(2)]}),o.jsxs("div",{className:"mt-2 flex items-center",children:[o.jsx("button",{onClick:()=>s(d.id,d.quantity-1),disabled:d.quantity===1,className:"flex h-8 w-8 items-center justify-center rounded-full border border-gray-300 text-gray-600 transition hover:bg-gray-100 disabled:cursor-not-allowed disabled:opacity-50","aria-label":`Decrease quantity of ${d.product.name}`,children:o.jsx(IS,{className:"h-4 w-4"})}),o.jsx("span",{className:"w-12 text-center font-semibold text-gray-800","aria-live":"polite",children:d.quantity}),o.jsx("button",{onClick:()=>s(d.id,d.quantity+1),className:"flex h-8 w-8 items-center justify-center rounded-full border border-gray-300 text-gray-600 transition hover:bg-gray-100","aria-label":`Increase quantity of ${d.product.name}`,children:o.jsx(eu,{className:"h-4 w-4"})})]})]}),o.jsxs("p",{className:"font-semibold text-gray-900",children:["",(d.selectedSize.price*d.quantity).toFixed(2)]}),o.jsx("button",{onClick:()=>r(d.id),className:"absolute top-4 right-0 p-1 text-gray-400 transition-colors hover:text-red-600","aria-label":`Remove ${d.product.name} from cart`,children:o.jsx(Ef,{className:"h-5 w-5"})})]},d.id))})}),t.length>0&&o.jsxs("footer",{className:"mt-auto border-t border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between text-lg font-semibold text-gray-900",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{children:["",c.toFixed(2)]})]}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Taxes and service fee calculated at checkout."}),o.jsx("div",{className:"mt-6",children:o.jsxs("button",{onClick:i,disabled:t.length===0,className:"flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-6 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-gray-400",children:["Proceed to Checkout",o.jsx(oo,{className:"h-5 w-5"})]})})]})]})})]})},WH=()=>{const{pathname:t}=Yn();return T.useEffect(()=>{window.scrollTo(0,0)},[t]),null},XH=()=>{const{currentUser:t,loading:e}=On(),n=Yn();return e?o.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-gray-50",children:o.jsx(_t,{className:"h-12 w-12 animate-spin text-primary-600"})}):t?t.role!=="admin"?o.jsx(Jb,{to:"/",replace:!0}):o.jsx(xS,{}):o.jsx(Jb,{to:"/auth/login",state:{from:n},replace:!0})},JH=()=>o.jsxs("div",{children:[o.jsx("h1",{className:"mb-6 font-display text-3xl font-bold text-gray-800",children:"Admin Dashboard"}),o.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[o.jsxs(fe,{className:"flex items-center gap-4 p-6",children:[o.jsx("div",{className:"rounded-full bg-blue-100 p-3",children:o.jsx(B5,{className:"h-6 w-6 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Total Revenue"}),o.jsx("p",{className:"text-2xl font-bold text-gray-800",children:"12,450.00"})]})]}),o.jsxs(fe,{className:"flex items-center gap-4 p-6",children:[o.jsx("div",{className:"rounded-full bg-green-100 p-3",children:o.jsx(Bn,{className:"h-6 w-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Orders Today"}),o.jsx("p",{className:"text-2xl font-bold text-gray-800",children:"78"})]})]}),o.jsxs(fe,{className:"flex items-center gap-4 p-6",children:[o.jsx("div",{className:"rounded-full bg-yellow-100 p-3",children:o.jsx(_d,{className:"h-6 w-6 text-yellow-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"New Customers"}),o.jsx("p",{className:"text-2xl font-bold text-gray-800",children:"12"})]})]}),o.jsxs(fe,{className:"flex items-center gap-4 p-6",children:[o.jsx("div",{className:"rounded-full bg-purple-100 p-3",children:o.jsx(y5,{className:"h-6 w-6 text-purple-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Pending Orders"}),o.jsx("p",{className:"text-2xl font-bold text-gray-800",children:"5"})]})]})]}),o.jsx("div",{className:"mt-8",children:o.jsxs(fe,{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Sales Overview"}),o.jsx("div",{className:"mt-4 flex h-64 items-center justify-center bg-gray-100",children:o.jsx("p",{className:"text-gray-500",children:"[Chart Placeholder]"})})]})})]}),ZH={waiting:{text:"Start Preparing",nextStatus:"preparing",color:"bg-blue-500 hover:bg-blue-600"},preparing:{text:"Mark as Ready",nextStatus:"ready",color:"bg-green-500 hover:bg-green-600"},ready:{text:"Complete Order",nextStatus:"completed",color:"bg-primary-600 hover:bg-primary-700"}},eG=({order:t,onUpdateStatus:e})=>{const n=ZH[t.status],s=nm(t.timestamp,{addSuffix:!0});return o.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm transition-shadow hover:shadow-md",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"font-mono text-sm font-bold text-primary-700",children:t.orderNumber}),o.jsxs("p",{className:"font-display text-lg font-bold text-gray-800",children:["",t.totalAmount.toFixed(2)]})]}),o.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Fs,{className:"h-4 w-4"}),o.jsx("span",{children:t.customerName})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Tf,{className:"h-4 w-4"}),o.jsx("span",{children:s})]})]}),o.jsx("div",{className:"mt-3 border-t pt-2",children:o.jsx("ul",{className:"text-xs text-gray-500",children:t.orderItems.map((r,i)=>o.jsxs("li",{children:[r.quantity,"x ",r.productName]},i))})}),n&&o.jsxs("button",{onClick:()=>e(t.id,n.nextStatus),className:`mt-4 flex w-full items-center justify-center gap-2 rounded-full px-4 py-2 text-sm font-semibold text-white shadow-sm transition-colors ${n.color}`,children:[o.jsx("span",{children:n.text}),n.nextStatus==="completed"?o.jsx(Hr,{className:"h-4 w-4"}):o.jsx(oo,{className:"h-4 w-4"})]})]})},tG={yellow:"border-yellow-400",blue:"border-blue-400",green:"border-green-400"},Op=({title:t,orders:e,onUpdateStatus:n,color:s})=>o.jsxs("div",{className:"flex flex-col rounded-lg bg-gray-100 p-4",children:[o.jsxs("h2",{className:`mb-4 border-b-4 pb-2 font-display text-xl font-bold text-gray-700 ${tG[s]}`,children:[t," ",o.jsxs("span",{className:"text-base font-medium text-gray-500",children:["(",e.length,")"]})]}),o.jsxs("div",{className:"flex-grow space-y-4 overflow-y-auto",children:[o.jsx(vu,{children:e.map(r=>o.jsx(Qs.div,{layout:!0,initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},children:o.jsx(eG,{order:r,onUpdateStatus:n})},r.id))}),e.length===0&&o.jsx("div",{className:"flex h-32 items-center justify-center text-sm text-gray-500",children:"No orders in this stage."})]})]}),nG=()=>{const[t,e]=T.useState([]),[n,s]=T.useState(!0),{showToast:r}=nn();T.useEffect(()=>{const h=ds(Zt(ve,"orders"),Ox("status","in",["waiting","preparing","ready"]),gu("timestamp","asc")),d=xu(h,f=>{const m=[];f.forEach(g=>{m.push({id:g.id,...g.data(),timestamp:g.data().timestamp.toDate()})}),e(m),s(!1)},f=>{console.error("Error fetching real-time orders: ",f),s(!1)});return()=>d()},[]);const i=async(h,d)=>{try{await oU(ve,async f=>{const m=It(ve,"orders",h),g=await f.get(m);if(!g.exists())throw new Error("Order does not exist!");const b=g.data(),E=b.status;if(E==="waiting"&&d==="preparing")for(const S of b.orderItems){const x=It(ve,"products",S.productId),v=await f.get(x);if(v.exists()&&v.data().recipe)for(const _ of v.data().recipe){const C=It(ve,"ingredients",_.ingredientId),D=_.quantity*S.quantity,P=await f.get(C);if(!P.exists())throw new Error(`Ingredient '${_.ingredientId}' not found.`);if(P.data().stock<D)throw new Error(`Insufficient stock for '${P.data().name}'.`);f.update(C,{stock:ji(-D)})}}if(d==="completed"&&E!=="completed"){const S=It(ve,"users",b.userId),x=await f.get(S);if(x.exists()){const v=x.data();let _=1;v.tier==="silver"&&(_=1.5),v.tier==="gold"&&(_=2);const C=Math.floor(b.totalAmount/10)*_,D=v.lifetimePoints+C;let P=v.tier;P==="bronze"&&D>=Ny.silver.min&&(P="silver"),P==="silver"&&D>=Ny.gold.min&&(P="gold");const N={id:`rh-${Date.now()}`,type:"earned",points:C,description:`Order #${b.orderNumber}`,date:new Date};f.update(S,{totalOrders:ji(1),totalSpent:ji(b.totalAmount),currentPoints:ji(C),lifetimePoints:ji(C),tier:P,rewardsHistory:hC(N)})}}f.update(m,{status:d})})}catch(f){console.error("Error updating order status and stock: ",f),r(f.message||"Failed to update order. Please check inventory.")}},a=T.useMemo(()=>t.filter(h=>h.status==="waiting"),[t]),l=T.useMemo(()=>t.filter(h=>h.status==="preparing"),[t]),c=T.useMemo(()=>t.filter(h=>h.status==="ready"),[t]);return n?o.jsx("div",{className:"flex h-full items-center justify-center",children:o.jsx(_t,{className:"h-12 w-12 animate-spin text-primary-600"})}):o.jsxs("div",{children:[o.jsx("h1",{className:"mb-6 font-display text-3xl font-bold text-gray-800",children:"Live Order Queue"}),t.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border-2 border-dashed bg-gray-50 p-12 text-center",children:[o.jsx(Bn,{className:"h-16 w-16 text-gray-400"}),o.jsx("h2",{className:"mt-4 text-xl font-semibold text-gray-700",children:"No Active Orders"}),o.jsx("p",{className:"mt-1 text-gray-500",children:"New orders will appear here in real-time."})]}):o.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[o.jsx(Op,{title:"Waiting",orders:a,onUpdateStatus:i,color:"yellow"}),o.jsx(Op,{title:"Preparing",orders:l,onUpdateStatus:i,color:"blue"}),o.jsx(Op,{title:"Ready for Pickup",orders:c,onUpdateStatus:i,color:"green"})]})]})},sG=[{to:"/admin",text:"Dashboard",icon:r3},{to:"/admin/queue",text:"Queue Management",icon:D5},{to:"/admin/inventory",text:"Inventory",icon:b3},{to:"/admin/products",text:"Products",icon:Bn},{to:"/admin/feedback",text:"Feedback",icon:Io},{to:"/admin/analytics",text:"Analytics",icon:SS},{to:"/admin/settings",text:"Settings",icon:V0}],rG=()=>o.jsxs("div",{className:"flex h-screen bg-gray-100",children:[o.jsxs("aside",{className:"hidden w-64 flex-shrink-0 bg-gray-800 p-4 text-white md:flex md:flex-col",children:[o.jsxs("div",{className:"mb-8 flex items-center gap-2 px-2",children:[o.jsx(bt,{className:"h-8 w-8 text-primary-400"}),o.jsx("span",{className:"text-xl font-bold text-white",children:"Admin Panel"})]}),o.jsx("nav",{className:"flex-grow",children:o.jsx("ul",{children:sG.map(({to:t,text:e,icon:n})=>o.jsx("li",{children:o.jsxs(Tn,{to:t,end:t==="/admin",className:({isActive:s})=>`flex items-center gap-3 rounded-md px-3 py-2 transition-colors ${s?"bg-primary-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[o.jsx(n,{className:"h-5 w-5"}),o.jsx("span",{children:e})]})},t))})}),o.jsx("div",{className:"mt-auto text-center text-xs text-gray-400",children:o.jsxs("p",{children:[" ",new Date().getFullYear()," Rush Coffee"]})})]}),o.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[o.jsx("header",{className:"border-b bg-white shadow-sm",children:o.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Dashboard"}),o.jsx("div",{})]})}),o.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:o.jsx(xS,{})})]})]}),iG=({ingredient:t,onClose:e,onUpdate:n})=>{const[s,r]=T.useState("add"),[i,a]=T.useState(""),l=c=>{c.preventDefault(),typeof i=="number"&&i>=0&&n(t.id,i,s)};return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:e,children:o.jsxs("div",{className:"w-full max-w-md rounded-lg bg-white p-6 shadow-xl",onClick:c=>c.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h2",{className:"font-display text-xl font-bold text-gray-800",children:["Update Stock: ",t.name]}),o.jsx("button",{onClick:e,className:"rounded-full p-1 text-gray-500 hover:bg-gray-100",children:o.jsx(Ws,{})})]}),o.jsx("div",{className:"mt-4 text-sm",children:o.jsxs("p",{children:["Current Stock: ",o.jsxs("span",{className:"font-bold",children:[t.stock.toLocaleString()," ",t.unit]})]})}),o.jsxs("form",{onSubmit:l,className:"mt-6",children:[o.jsxs("div",{className:"flex gap-2 rounded-full bg-gray-100 p-1",children:[o.jsx("button",{type:"button",onClick:()=>r("add"),className:`w-full rounded-full py-2 text-sm font-semibold transition-colors ${s==="add"?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:"Add Stock"}),o.jsx("button",{type:"button",onClick:()=>r("set"),className:`w-full rounded-full py-2 text-sm font-semibold transition-colors ${s==="set"?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:"Set New Total"})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:s==="add"?`Amount to Add (${t.unit})`:`New Total Stock (${t.unit})`}),o.jsx("input",{type:"number",id:"amount",value:i,onChange:c=>a(c.target.value===""?"":Number(c.target.value)),min:"0",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0,autoFocus:!0})]}),o.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[o.jsx("button",{type:"button",onClick:e,className:"rounded-full bg-gray-200 px-4 py-2 text-sm font-semibold text-gray-800 hover:bg-gray-300",children:"Cancel"}),o.jsxs("button",{type:"submit",className:"flex items-center gap-2 rounded-full bg-primary-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-700 disabled:bg-primary-400",disabled:i===""||i<0,children:[o.jsx(P0,{className:"h-4 w-4"}),"Update Stock"]})]})]})]})})},aG=[{name:"Espresso Shot",stock:1e3,unit:"pcs",lowStockThreshold:100},{name:"Milk",stock:2e4,unit:"ml",lowStockThreshold:2e3},{name:"Condensed Milk",stock:5e3,unit:"ml",lowStockThreshold:500},{name:"Coffee Beans (Blend)",stock:1e4,unit:"g",lowStockThreshold:1e3},{name:"Hot Water",stock:99999,unit:"ml",lowStockThreshold:1e4},{name:"Chocolate Sauce",stock:3e3,unit:"ml",lowStockThreshold:300},{name:"Caramel Sauce",stock:3e3,unit:"ml",lowStockThreshold:300},{name:"Matcha Powder",stock:2e3,unit:"g",lowStockThreshold:200}],oG=()=>{const[t,e]=T.useState([]),[n,s]=T.useState(!0),[r,i]=T.useState(!1),[a,l]=T.useState(null);T.useEffect(()=>{const m=async()=>{const b=Zt(ve,"ingredients");if((await Jr(ds(b))).empty){console.log("Seeding ingredients...");const v=aG.map(_=>yu(b,_));await Promise.all(v)}const S=ds(Zt(ve,"ingredients"),gu("name","asc"));return xu(S,v=>{const _=[];v.forEach(C=>{_.push({id:C.id,...C.data()})}),e(_),s(!1)},v=>{console.error("Error fetching inventory: ",v),s(!1)})};let g;return m().then(b=>{b&&(g=b)}),()=>{g&&g()}},[]);const c=m=>{l(m),i(!0)},h=()=>{i(!1),l(null)},d=async(m,g,b)=>{const E=It(ve,"ingredients",m);try{b==="add"?await Zr(E,{stock:ji(g)}):await Zr(E,{stock:g}),h()}catch(S){console.error("Error updating stock: ",S)}},f=m=>m.stock<=0?{text:"Out of Stock",color:"text-red-600",Icon:C5}:m.stock<=m.lowStockThreshold?{text:"Low Stock",color:"text-yellow-600",Icon:PS}:{text:"In Stock",color:"text-green-600",Icon:AS};return n?o.jsx("div",{className:"flex h-full items-center justify-center",children:o.jsx(_t,{className:"h-12 w-12 animate-spin text-primary-600"})}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h1",{className:"font-display text-3xl font-bold text-gray-800",children:"Inventory Management"}),o.jsxs("button",{className:"flex items-center gap-2 rounded-full bg-primary-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-700",children:[o.jsx(eu,{className:"h-4 w-4"}),"Add Ingredient"]})]}),o.jsx("div",{className:"overflow-x-auto rounded-lg border bg-white shadow-sm",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Ingredient"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Current Stock"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),o.jsx("th",{scope:"col",className:"relative px-6 py-3",children:o.jsx("span",{className:"sr-only",children:"Edit"})})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:t.map(m=>{const g=f(m);return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:o.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.name})}),o.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:o.jsxs("div",{className:"text-sm text-gray-900",children:[m.stock.toLocaleString()," ",o.jsx("span",{className:"text-gray-500",children:m.unit})]})}),o.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:o.jsxs("div",{className:`inline-flex items-center gap-1 text-sm font-semibold ${g.color}`,children:[o.jsx(g.Icon,{className:"h-4 w-4"}),g.text]})}),o.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium",children:o.jsx("button",{onClick:()=>c(m),className:"text-primary-600 hover:text-primary-800",children:"Update Stock"})})]},m.id)})})]})}),r&&a&&o.jsx(iG,{ingredient:a,onClose:h,onUpdate:d})]})},i2={name:"",description:"",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:0},{name:"Venti",size:"22oz",price:0}],imageUrl:"",available:!0,stock:0,popular:!1,new:!1,displayOrder:99,recipe:[]},lG=({isOpen:t,onClose:e,productToEdit:n})=>{var v,_;const[s,r]=T.useState(i2),[i,a]=T.useState([]),[l,c]=T.useState(!1),{addProduct:h,updateProduct:d}=Fo(),{showToast:f}=nn();T.useEffect(()=>{t&&(async()=>{const P=(await Jr(Zt(ve,"ingredients"))).docs.map(N=>({id:N.id,...N.data()}));a(P)})()},[t]),T.useEffect(()=>{r(n||i2)},[n,t]);const m=C=>{const{name:D,value:P,type:N}=C.target,w=C.target.checked;r(A=>({...A,[D]:N==="checkbox"?w:P}))},g=(C,D)=>{r(P=>({...P,sizes:P.sizes.map(N=>N.name===C?{...N,price:D}:N)}))},b=(C,D,P)=>{const N=[...s.recipe||[]];N[C][D]=P,r(w=>({...w,recipe:N}))},E=()=>{const C=[...s.recipe||[],{ingredientId:"",quantity:0}];r(D=>({...D,recipe:C}))},S=C=>{const D=[...s.recipe||[]];D.splice(C,1),r(P=>({...P,recipe:D}))},x=async C=>{C.preventDefault(),c(!0);try{if(n){const{id:D,...P}={...s,id:n.id};await d(D,P),f("Product updated successfully!")}else await h(s),f("Product added successfully!");e()}catch(D){console.error(D),f("An error occurred. Please try again.")}finally{c(!1)}};return o.jsx(bo,{isOpen:t,onClose:e,title:n?"Edit Product":"Add New Product",size:"lg",children:o.jsxs("form",{onSubmit:x,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),o.jsx("input",{type:"text",name:"name",id:"name",value:s.name,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),o.jsxs("select",{name:"category",id:"category",value:s.category,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",children:[o.jsx("option",{children:"Coffee Based"}),o.jsx("option",{children:"Non-Coffee Based"}),o.jsx("option",{children:"Matcha Series"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),o.jsx("textarea",{name:"description",id:"description",value:s.description,onChange:m,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700",children:"Image URL"}),o.jsx("input",{type:"text",name:"imageUrl",id:"imageUrl",value:s.imageUrl,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Grande Price ()"}),o.jsx("input",{type:"number",value:(v=s.sizes.find(C=>C.name==="Grande"))==null?void 0:v.price,onChange:C=>g("Grande",+C.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Venti Price ()"}),o.jsx("input",{type:"number",value:(_=s.sizes.find(C=>C.name==="Venti"))==null?void 0:_.price,onChange:C=>g("Venti",+C.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-700",children:"Stock"}),o.jsx("input",{type:"number",name:"stock",id:"stock",value:s.stock,onChange:C=>r(D=>({...D,stock:+C.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"displayOrder",className:"block text-sm font-medium text-gray-700",children:"Display Order"}),o.jsx("input",{type:"number",name:"displayOrder",id:"displayOrder",value:s.displayOrder,onChange:C=>r(D=>({...D,displayOrder:+C.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]})]}),o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"available",checked:s.available,onChange:m,className:"h-4 w-4 rounded"}),o.jsx("label",{className:"ml-2 text-sm",children:"Available"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"popular",checked:s.popular,onChange:m,className:"h-4 w-4 rounded"}),o.jsx("label",{className:"ml-2 text-sm",children:"Popular"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"new",checked:s.new,onChange:m,className:"h-4 w-4 rounded"}),o.jsx("label",{className:"ml-2 text-sm",children:"New"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-md font-medium text-gray-800",children:"Recipe"}),o.jsxs("div",{className:"mt-2 space-y-2 rounded-md border bg-gray-50 p-3",children:[(s.recipe||[]).map((C,D)=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("select",{value:C.ingredientId,onChange:P=>b(D,"ingredientId",P.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm",children:[o.jsx("option",{value:"",disabled:!0,children:"Select Ingredient"}),i.map(P=>o.jsx("option",{value:P.id,children:P.name},P.id))]}),o.jsx("input",{type:"number",value:C.quantity,onChange:P=>b(D,"quantity",+P.target.value),className:"block w-32 rounded-md border-gray-300 shadow-sm",placeholder:"Qty"}),o.jsx(Ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>S(D),className:"px-2",children:o.jsx(Ef,{className:"h-4 w-4 text-red-500"})})]},D)),o.jsxs(Ce,{type:"button",variant:"secondary",size:"sm",onClick:E,children:[o.jsx(eu,{className:"mr-1 h-4 w-4"}),"Add Ingredient"]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx(Ce,{type:"button",variant:"ghost",onClick:e,children:"Cancel"}),o.jsxs(Ce,{type:"submit",disabled:l,children:[l?o.jsx(_t,{className:"mr-2 h-4 w-4 animate-spin"}):o.jsx(P0,{className:"mr-2 h-4 w-4"}),n?"Save Changes":"Add Product"]})]})]})})},cG=()=>{const{products:t,isLoading:e,error:n,deleteProduct:s}=Fo(),[r,i]=T.useState(!1),[a,l]=T.useState(null),{showToast:c}=nn(),h=(m=null)=>{l(m),i(!0)},d=()=>{i(!1),l(null)},f=async(m,g)=>{if(window.confirm(`Are you sure you want to delete "${g}"? This action cannot be undone.`))try{await s(m),c(`"${g}" has been deleted.`)}catch{c(`Failed to delete "${g}".`)}};return e?o.jsx("div",{className:"flex h-full items-center justify-center",children:o.jsx(_t,{className:"h-12 w-12 animate-spin text-primary-600"})}):n?o.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-red-200 bg-red-50 py-20 text-center text-red-700",children:[o.jsx(ea,{className:"h-16 w-16"}),o.jsx("h3",{className:"mt-4 text-xl font-semibold",children:"Oops! Something went wrong."}),o.jsx("p",{className:"mt-2",children:n})]}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h1",{className:"font-display text-3xl font-bold text-gray-800",children:"Product Management"}),o.jsxs("button",{onClick:()=>h(),className:"flex items-center gap-2 rounded-full bg-primary-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-700",children:[o.jsx(eu,{className:"h-4 w-4"}),"Add New Product"]})]}),o.jsx("div",{className:"overflow-x-auto rounded-lg border bg-white shadow-sm",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Product"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Category"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Price (G/V)"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Stock"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),o.jsx("th",{scope:"col",className:"relative px-6 py-3",children:o.jsx("span",{className:"sr-only",children:"Actions"})})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:t.map(m=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:o.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:m.imageUrl,alt:m.name})}),o.jsx("div",{className:"ml-4",children:o.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.name})})]})}),o.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:m.category}),o.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:["",m.sizes[0].price.toFixed(2)," / ",m.sizes[1].price.toFixed(2)]}),o.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:m.stock}),o.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:m.available?o.jsx("span",{className:"inline-flex rounded-full bg-green-100 px-2 text-xs font-semibold leading-5 text-green-800",children:"Available"}):o.jsx("span",{className:"inline-flex rounded-full bg-red-100 px-2 text-xs font-semibold leading-5 text-red-800",children:"Unavailable"})}),o.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium",children:[o.jsx("button",{onClick:()=>h(m),className:"p-1 text-primary-600 hover:text-primary-800",children:o.jsx(DS,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>f(m.id,m.name),className:"ml-2 p-1 text-red-600 hover:text-red-800",children:o.jsx(Ef,{className:"h-4 w-4"})})]})]},m.id))})]})}),o.jsx(lG,{isOpen:r,onClose:d,productToEdit:a})]})},uG=()=>o.jsxs("div",{children:[o.jsx("h1",{className:"mb-6 font-display text-3xl font-bold text-gray-800",children:"Analytics & Reports"}),o.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border-2 border-dashed bg-gray-50 p-12 text-center",children:[o.jsx(SS,{className:"h-16 w-16 text-gray-400"}),o.jsx("h2",{className:"mt-4 text-xl font-semibold text-gray-700",children:"Coming Soon"}),o.jsx("p",{className:"mt-1 text-gray-500",children:"This is where you'll find detailed charts and reports on sales, customers, and product performance."})]})]}),hG={pending:"bg-yellow-100 text-yellow-800",reviewed:"bg-blue-100 text-blue-800",resolved:"bg-green-100 text-green-800"},dG=({feedback:t,onRespond:e})=>{const n=t.user?`${t.user.firstName} ${t.user.lastName}`:`User ${t.userId.substring(0,6)}`;return o.jsxs("div",{className:"flex flex-col rounded-lg border bg-white p-4 shadow-sm transition-shadow hover:shadow-md",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-800",children:n}),o.jsx("p",{className:"text-xs text-gray-500",children:t.createdAt?nm(t.createdAt,{addSuffix:!0}):"Just now"})]}),o.jsx(vt,{className:`capitalize ${hG[t.status]}`,children:t.status})]}),o.jsx("div",{className:"my-3 flex justify-start",children:o.jsx(Zd,{rating:t.rating,readonly:!0,size:"sm"})}),o.jsxs("p",{className:"flex-grow text-sm text-gray-600 line-clamp-3",children:['"',t.comment,'"']}),o.jsx("div",{className:"mt-4 border-t pt-3",children:o.jsx("button",{onClick:e,className:"w-full rounded-full bg-primary-100 px-4 py-2 text-sm font-semibold text-primary-700 transition-colors hover:bg-primary-200",children:"View & Respond"})})]})},fG=({isOpen:t,onClose:e,feedback:n})=>{const[s,r]=T.useState(n.response||""),[i,a]=T.useState(n.status),[l,c]=T.useState(!1);T.useEffect(()=>{t&&(r(n.response||""),a(n.status))},[t,n]);const h=async f=>{f.preventDefault(),c(!0);try{const m=It(ve,"feedback",n.id);await Zr(m,{response:s,status:i,updatedAt:qd()}),e()}catch(m){console.error("Error updating feedback: ",m)}finally{c(!1)}},d=n.user?`${n.user.firstName} ${n.user.lastName}`:`User ID: ${n.userId}`;return o.jsx(bo,{isOpen:t,onClose:e,title:`Feedback from ${d}`,children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-500",children:"Rating"}),o.jsx(Zd,{rating:n.rating,readonly:!0})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-500",children:"Comment"}),o.jsx("p",{className:"mt-1 max-h-40 overflow-y-auto rounded-md bg-gray-50 p-3 text-gray-700 whitespace-pre-wrap",children:n.comment})]}),o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"response",className:"block text-sm font-medium text-gray-700",children:"Your Response"}),o.jsx("textarea",{id:"response",value:s,onChange:f=>r(f.target.value),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Write a response to the customer..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Update Status"}),o.jsx("div",{className:"mt-2 flex gap-2 rounded-full bg-gray-100 p-1",children:["pending","reviewed","resolved"].map(f=>o.jsx("button",{type:"button",onClick:()=>a(f),className:`w-full rounded-full py-1.5 text-sm font-semibold capitalize transition-colors ${i===f?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:f},f))})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsx(Ce,{type:"button",variant:"ghost",onClick:e,children:"Cancel"}),o.jsxs(Ce,{type:"submit",disabled:l,children:[l?o.jsx(_t,{className:"mr-2 h-4 w-4 animate-spin"}):o.jsx(O0,{className:"mr-2 h-4 w-4"}),"Save Response"]})]})]})]})})},mG=()=>{const[t,e]=T.useState([]),[n,s]=T.useState(!0),[r,i]=T.useState("pending"),[a,l]=T.useState(!1),[c,h]=T.useState(null);T.useEffect(()=>{const g=new Map,b=async()=>{if(g.size>0)return g;const x=Zt(ve,"users");return(await Jr(x)).forEach(_=>{const C=_.data();g.set(_.id,{firstName:C.firstName,lastName:C.lastName,email:C.email})}),g},E=ds(Zt(ve,"feedback"),gu("createdAt","desc")),S=xu(E,async x=>{const v=await b(),_=[];x.forEach(C=>{var P,N;const D=C.data();_.push({id:C.id,...D,createdAt:(P=D.createdAt)==null?void 0:P.toDate(),updatedAt:(N=D.updatedAt)==null?void 0:N.toDate(),user:v.get(D.userId)})}),e(_),s(!1)},x=>{console.error("Error fetching feedback: ",x),s(!1)});return()=>S()},[]);const d=T.useMemo(()=>r==="all"?t:t.filter(g=>g.status===r),[r,t]),f=g=>{h(g),l(!0)},m=()=>{l(!1),h(null)};return n?o.jsx("div",{className:"flex h-full items-center justify-center",children:o.jsx(_t,{className:"h-12 w-12 animate-spin text-primary-600"})}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[o.jsx("h1",{className:"font-display text-3xl font-bold text-gray-800",children:"Customer Feedback"}),o.jsx("div",{className:"flex mt-4 md:mt-0 gap-2 rounded-full bg-gray-200 p-1",children:["pending","reviewed","resolved","all"].map(g=>o.jsx("button",{onClick:()=>i(g),className:`rounded-full px-3 py-1.5 text-sm font-semibold capitalize transition-colors ${r===g?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:g},g))})]}),d.length>0?o.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:d.map(g=>o.jsx(dG,{feedback:g,onRespond:()=>f(g)},g.id))}):o.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border-2 border-dashed bg-gray-50 p-12 text-center",children:[o.jsx(Io,{className:"h-16 w-16 text-gray-400"}),o.jsx("h2",{className:"mt-4 text-xl font-semibold text-gray-700",children:"No Feedback Here"}),o.jsxs("p",{className:"mt-1 text-gray-500",children:['No feedback matching the "',r,'" filter.']})]}),c&&o.jsx(fG,{isOpen:a,onClose:m,feedback:c})]})},pG=()=>o.jsxs("div",{children:[o.jsx("h1",{className:"mb-6 font-display text-3xl font-bold text-gray-800",children:"Shop Settings"}),o.jsxs("div",{className:"mt-6 flex flex-col items-center justify-center rounded-lg border-2 border-dashed bg-gray-50 p-12 text-center",children:[o.jsx(V0,{className:"h-16 w-16 text-gray-400"}),o.jsx("h2",{className:"mt-4 text-xl font-semibold text-gray-700",children:"More Settings Coming Soon"}),o.jsx("p",{className:"mt-1 text-gray-500",children:"This is where you'll manage your shop's information, hours, and other system settings."})]})]}),gG=()=>o.jsxs("div",{className:"bg-white",children:[o.jsx(ht,{}),o.jsxs("main",{children:[o.jsxs("section",{className:"bg-gradient-to-br from-primary-50 to-coffee-50 px-6 py-20 text-center",children:[o.jsx("h1",{className:"font-display text-5xl font-bold text-coffee-900 md:text-6xl",children:"Terms of Service"}),o.jsxs("p",{className:"mt-4 text-xl text-gray-700",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),o.jsx("section",{className:"px-6 py-16",children:o.jsxs("div",{className:"prose prose-lg mx-auto max-w-4xl text-gray-700 prose-headings:font-display prose-headings:text-coffee-900 prose-a:text-primary-600 hover:prose-a:text-primary-700",children:[o.jsx("h2",{children:"1. Introduction"}),o.jsx("p",{children:'Welcome to Rush Coffee ("we," "our," or "us"). These Terms of Service govern your use of our website, mobile application, and services (collectively, the "Services"). By accessing or using our Services, you agree to be bound by these terms.'}),o.jsx("h2",{children:"2. User Accounts"}),o.jsx("p",{children:"To use certain features of our Services, you must register for an account. You agree to provide accurate, current, and complete information during the registration process and to update such information to keep it accurate, current, and complete. You are responsible for safeguarding your password and for all activities that occur under your account."}),o.jsx("h2",{children:"3. Orders and Payments"}),o.jsx("p",{children:"When you place an order through our Services, you are making an offer to purchase the products you have selected. All orders are subject to our acceptance. We reserve the right to refuse or cancel any order for any reason, including limitations on quantities available for purchase, inaccuracies, or errors in product or pricing information."}),o.jsx("p",{children:'Payment for all orders must be made at the time of placing the order, unless you select "Cash on Pickup." We accept payment through GCash and other methods as may be made available from time to time.'}),o.jsx("h2",{children:"4. Rewards Program"}),o.jsx("p",{children:"Our rewards program allows you to earn points for purchases and redeem them for rewards. Points are non-transferable and have no cash value. We reserve the right to modify, suspend, or terminate the rewards program at any time without notice."}),o.jsx("h2",{children:"5. Limitation of Liability"}),o.jsx("p",{children:"To the fullest extent permitted by applicable law, Rush Coffee shall not be liable for any indirect, incidental, special, consequential, or punitive damages, or any loss of profits or revenues, whether incurred directly or indirectly, or any loss of data, use, goodwill, or other intangible losses, resulting from (a) your access to or use of or inability to access or use the services; (b) any conduct or content of any third party on the services; or (c) unauthorized access, use, or alteration of your transmissions or content."}),o.jsx("h2",{children:"6. Changes to Terms"}),o.jsx("p",{children:"We may modify these Terms of Service from time to time. We will provide notice of any changes by posting the new Terms of Service on this page. You are advised to review these Terms of Service periodically for any changes."}),o.jsx("h2",{children:"7. Contact Us"}),o.jsxs("p",{children:["If you have any questions about these Terms of Service, please contact us at ",o.jsx("a",{href:"mailto:hello@rushcoffee.ph",children:"hello@rushcoffee.ph"}),"."]})]})})]}),o.jsx(dt,{})]}),yG=()=>o.jsxs("div",{className:"bg-white",children:[o.jsx(ht,{}),o.jsxs("main",{children:[o.jsxs("section",{className:"bg-gradient-to-br from-primary-50 to-coffee-50 px-6 py-20 text-center",children:[o.jsx("h1",{className:"font-display text-5xl font-bold text-coffee-900 md:text-6xl",children:"Privacy Policy"}),o.jsx("p",{className:"mt-4 text-xl text-gray-700",children:"Your privacy is important to us."}),o.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),o.jsx("section",{className:"px-6 py-16",children:o.jsxs("div",{className:"prose prose-lg mx-auto max-w-4xl text-gray-700 prose-headings:font-display prose-headings:text-coffee-900 prose-a:text-primary-600 hover:prose-a:text-primary-700",children:[o.jsx("h2",{children:"1. Information We Collect"}),o.jsx("p",{children:"We collect information you provide directly to us when you create an account, place an order, or communicate with us. This information may include your name, email address, phone number, and order details."}),o.jsx("h2",{children:"2. How We Use Your Information"}),o.jsx("p",{children:"We use the information we collect to:"}),o.jsxs("ul",{children:[o.jsx("li",{children:"Process your transactions and fulfill your orders."}),o.jsx("li",{children:"Communicate with you about your orders, account, and our services."}),o.jsx("li",{children:"Operate and improve our Services, including our rewards program."}),o.jsx("li",{children:"Personalize your experience."})]}),o.jsx("h2",{children:"3. Information Sharing"}),o.jsx("p",{children:"We do not share your personal information with third parties except as necessary to provide our Services (e.g., with payment processors) or as required by law. We do not sell your personal data."}),o.jsx("h2",{children:"4. Data Security"}),o.jsx("p",{children:"We implement reasonable security measures to protect your information from unauthorized access, alteration, disclosure, or destruction. However, no internet-based service is 100% secure, so we cannot guarantee absolute security."}),o.jsx("h2",{children:"5. Your Choices"}),o.jsx("p",{children:"You may review and update your account information at any time by logging into your account and visiting your profile page. You can also unsubscribe from our marketing emails by following the instructions in those emails."}),o.jsx("h2",{children:"6. Contact Us"}),o.jsxs("p",{children:["If you have any questions about this Privacy Policy, please contact us at ",o.jsx("a",{href:"mailto:hello@rushcoffee.ph",children:"hello@rushcoffee.ph"}),"."]})]})})]}),o.jsx(dt,{})]}),xG=({title:t})=>o.jsxs("div",{className:"flex min-h-screen flex-col",children:[o.jsx(ht,{}),o.jsx("main",{className:"flex flex-1 items-center justify-center bg-gradient-to-br from-primary-50 to-coffee-50",children:o.jsxs("div",{className:"p-4 text-center",children:[o.jsx(bt,{className:"mx-auto mb-4 h-16 w-16 text-gray-400 opacity-50"}),o.jsx("h1",{className:"mb-4 font-display text-4xl font-bold text-gray-900",children:t}),o.jsx("p",{className:"mb-8 text-gray-600",children:"We're brewing something special. Check back soon!"}),o.jsx(Ae,{to:"/",className:"font-medium text-primary-600 transition-colors hover:text-primary-700",children:" Back to Home"})]})}),o.jsx(dt,{})]}),vG=()=>o.jsxs("div",{className:"flex min-h-screen flex-col",children:[o.jsx(ht,{}),o.jsx("main",{className:"flex flex-1 items-center justify-center bg-gradient-to-br from-primary-50 to-coffee-50",children:o.jsxs("div",{className:"p-4 text-center",children:[o.jsx(bt,{className:"mx-auto mb-4 h-16 w-16 text-gray-400 opacity-50"}),o.jsx("h1",{className:"mb-4 font-display text-4xl font-bold text-gray-900",children:"404 - Page Not Found"}),o.jsx("p",{className:"mb-8 text-gray-600",children:"This coffee blend doesn't exist on our menu. Maybe it got lost in the daily grind?"}),o.jsx(Ae,{to:"/",className:"font-medium text-primary-600 transition-colors hover:text-primary-700",children:" Back to Home"})]})}),o.jsx(dt,{})]}),bG=()=>{const{isCartOpen:t,closeCart:e,cartItems:n,updateQuantity:s,removeFromCart:r,toastMessage:i}=nn(),a=Qn(),l=()=>{e(),a("/checkout")};return o.jsxs(o.Fragment,{children:[o.jsx(WH,{}),o.jsxs(wD,{children:[o.jsx(ke,{path:"/",element:o.jsx(xU,{})}),o.jsx(ke,{path:"/about",element:o.jsx(FH,{})}),o.jsx(ke,{path:"/menu",element:o.jsx(ZF,{})}),o.jsx(ke,{path:"/contact",element:o.jsx(GH,{})}),o.jsx(ke,{path:"/auth/login",element:o.jsx(bU,{})}),o.jsx(ke,{path:"/auth/register",element:o.jsx(_U,{})}),o.jsx(ke,{path:"/checkout",element:o.jsx(rq,{})}),o.jsx(ke,{path:"/queue",element:o.jsx(TH,{})}),o.jsx(ke,{path:"/rewards",element:o.jsx(RH,{})}),o.jsx(ke,{path:"/profile",element:o.jsx(zH,{})}),o.jsx(ke,{path:"/faq",element:o.jsx(QH,{})}),o.jsx(ke,{path:"/terms",element:o.jsx(gG,{})}),o.jsx(ke,{path:"/privacy",element:o.jsx(yG,{})}),o.jsx(ke,{path:"/cookies",element:o.jsx(xG,{title:"Cookie Policy"})}),o.jsx(ke,{element:o.jsx(XH,{}),children:o.jsxs(ke,{path:"/admin",element:o.jsx(rG,{}),children:[o.jsx(ke,{index:!0,element:o.jsx(JH,{})}),o.jsx(ke,{path:"queue",element:o.jsx(nG,{})}),o.jsx(ke,{path:"inventory",element:o.jsx(oG,{})}),o.jsx(ke,{path:"products",element:o.jsx(cG,{})}),o.jsx(ke,{path:"analytics",element:o.jsx(uG,{})}),o.jsx(ke,{path:"feedback",element:o.jsx(mG,{})}),o.jsx(ke,{path:"settings",element:o.jsx(pG,{})})]})}),o.jsx(ke,{path:"*",element:o.jsx(vG,{})})]}),o.jsx(KH,{isOpen:t,onClose:e,cartItems:n,onUpdateQuantity:s,onRemoveItem:r,onCheckout:l}),i&&o.jsx("div",{className:"fixed bottom-4 right-4 z-[100] animate-fade-in-up rounded-lg bg-gray-900 px-4 py-3 text-white shadow-lg",children:i})]})},wG=()=>o.jsx(hU,{children:o.jsx(dU,{children:o.jsx(sq,{children:o.jsx(fU,{children:o.jsx(HD,{children:o.jsx(bG,{})})})})})}),e4=document.getElementById("root");if(!e4)throw new Error("Could not find root element to mount to");const _G=jM.createRoot(e4);_G.render(o.jsx(Q4.StrictMode,{children:o.jsx(wG,{})}));
