var TX=Object.defineProperty;var AX=(t,e,n)=>e in t?TX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var B_=(t,e,n)=>AX(t,typeof e!="symbol"?e+"":e,n);function IX(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function aa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jV={exports:{}},sw={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CX=Symbol.for("react.transitional.element"),PX=Symbol.for("react.fragment");function TV(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:CX,type:t,key:r,ref:e!==void 0?e:null,props:n}}sw.Fragment=PX;sw.jsx=TV;sw.jsxs=TV;jV.exports=sw;var o=jV.exports,AV={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uj=Symbol.for("react.transitional.element"),kX=Symbol.for("react.portal"),RX=Symbol.for("react.fragment"),OX=Symbol.for("react.strict_mode"),DX=Symbol.for("react.profiler"),MX=Symbol.for("react.consumer"),LX=Symbol.for("react.context"),VX=Symbol.for("react.forward_ref"),zX=Symbol.for("react.suspense"),UX=Symbol.for("react.memo"),IV=Symbol.for("react.lazy"),FX=Symbol.for("react.activity"),MR=Symbol.iterator;function BX(t){return t===null||typeof t!="object"?null:(t=MR&&t[MR]||t["@@iterator"],typeof t=="function"?t:null)}var CV={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PV=Object.assign,kV={};function rf(t,e,n){this.props=t,this.context=e,this.refs=kV,this.updater=n||CV}rf.prototype.isReactComponent={};rf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function RV(){}RV.prototype=rf.prototype;function Fj(t,e,n){this.props=t,this.context=e,this.refs=kV,this.updater=n||CV}var Bj=Fj.prototype=new RV;Bj.constructor=Fj;PV(Bj,rf.prototype);Bj.isPureReactComponent=!0;var LR=Array.isArray;function zS(){}var St={H:null,A:null,T:null,S:null},OV=Object.prototype.hasOwnProperty;function $j(t,e,n){var r=n.ref;return{$$typeof:Uj,type:t,key:e,ref:r!==void 0?r:null,props:n}}function $X(t,e){return $j(t.type,e,t.props)}function qj(t){return typeof t=="object"&&t!==null&&t.$$typeof===Uj}function qX(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var VR=/\/+/g;function $_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qX(""+t.key):e.toString(36)}function HX(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(zS,zS):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function md(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Uj:case kX:a=!0;break;case IV:return a=t._init,md(a(t._payload),e,n,r,i)}}if(a)return i=i(t),a=r===""?"."+$_(t,0):r,LR(i)?(n="",a!=null&&(n=a.replace(VR,"$&/")+"/"),md(i,e,n,"",function(u){return u})):i!=null&&(qj(i)&&(i=$X(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(VR,"$&/")+"/")+a)),e.push(i)),1;a=0;var l=r===""?".":r+":";if(LR(t))for(var c=0;c<t.length;c++)r=t[c],s=l+$_(r,c),a+=md(r,e,n,s,i);else if(c=BX(t),typeof c=="function")for(t=c.call(t),c=0;!(r=t.next()).done;)r=r.value,s=l+$_(r,c++),a+=md(r,e,n,s,i);else if(s==="object"){if(typeof t.then=="function")return md(HX(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function g0(t,e,n){if(t==null)return t;var r=[],i=0;return md(t,r,"","",function(s){return e.call(n,s,i++)}),r}function GX(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var zR=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},WX={map:g0,forEach:function(t,e,n){g0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return g0(t,function(){e++}),e},toArray:function(t){return g0(t,function(e){return e})||[]},only:function(t){if(!qj(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Activity=FX;Te.Children=WX;Te.Component=rf;Te.Fragment=RX;Te.Profiler=DX;Te.PureComponent=Fj;Te.StrictMode=OX;Te.Suspense=zX;Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=St;Te.__COMPILER_RUNTIME={__proto__:null,c:function(t){return St.H.useMemoCache(t)}};Te.cache=function(t){return function(){return t.apply(null,arguments)}};Te.cacheSignal=function(){return null};Te.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=PV({},t.props),i=t.key;if(e!=null)for(s in e.key!==void 0&&(i=""+e.key),e)!OV.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(r[s]=e[s]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];r.children=a}return $j(t.type,i,r)};Te.createContext=function(t){return t={$$typeof:LX,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:MX,_context:t},t};Te.createElement=function(t,e,n){var r,i={},s=null;if(e!=null)for(r in e.key!==void 0&&(s=""+e.key),e)OV.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return $j(t,s,i)};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:VX,render:t}};Te.isValidElement=qj;Te.lazy=function(t){return{$$typeof:IV,_payload:{_status:-1,_result:t},_init:GX}};Te.memo=function(t,e){return{$$typeof:UX,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=St.T,n={};St.T=n;try{var r=t(),i=St.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(zS,zR)}catch(s){zR(s)}finally{e!==null&&n.types!==null&&(e.types=n.types),St.T=e}};Te.unstable_useCacheRefresh=function(){return St.H.useCacheRefresh()};Te.use=function(t){return St.H.use(t)};Te.useActionState=function(t,e,n){return St.H.useActionState(t,e,n)};Te.useCallback=function(t,e){return St.H.useCallback(t,e)};Te.useContext=function(t){return St.H.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t,e){return St.H.useDeferredValue(t,e)};Te.useEffect=function(t,e){return St.H.useEffect(t,e)};Te.useEffectEvent=function(t){return St.H.useEffectEvent(t)};Te.useId=function(){return St.H.useId()};Te.useImperativeHandle=function(t,e,n){return St.H.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return St.H.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return St.H.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return St.H.useMemo(t,e)};Te.useOptimistic=function(t,e){return St.H.useOptimistic(t,e)};Te.useReducer=function(t,e,n){return St.H.useReducer(t,e,n)};Te.useRef=function(t){return St.H.useRef(t)};Te.useState=function(t){return St.H.useState(t)};Te.useSyncExternalStore=function(t,e,n){return St.H.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return St.H.useTransition()};Te.version="19.2.0";AV.exports=Te;var g=AV.exports;const hs=aa(g),KX=IX({__proto__:null,default:hs},[g]);var DV={exports:{}},aw={},MV={exports:{}},LV={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,B){var G=L.length;L.push(B);e:for(;0<G;){var ee=G-1>>>1,Z=L[ee];if(0<i(Z,B))L[ee]=B,L[G]=Z,G=ee;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var B=L[0],G=L.pop();if(G!==B){L[0]=G;e:for(var ee=0,Z=L.length,H=Z>>>1;ee<H;){var oe=2*(ee+1)-1,xe=L[oe],re=oe+1,ve=L[re];if(0>i(xe,G))re<Z&&0>i(ve,xe)?(L[ee]=ve,L[re]=G,ee=re):(L[ee]=xe,L[oe]=G,ee=oe);else if(re<Z&&0>i(ve,G))L[ee]=ve,L[re]=G,ee=re;else break e}}return B}function i(L,B){var G=L.sortIndex-B.sortIndex;return G!==0?G:L.id-B.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,y=!1,v=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function N(L){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=L)r(u),B.sortIndex=B.expirationTime,e(c,B);else break;B=n(u)}}function E(L){if(v=!1,N(L),!y)if(n(c)!==null)y=!0,C||(C=!0,O());else{var B=n(u);B!==null&&M(E,B.startTime-L)}}var C=!1,j=-1,T=5,A=-1;function P(){return x?!0:!(t.unstable_now()-A<T)}function k(){if(x=!1,C){var L=t.unstable_now();A=L;var B=!0;try{e:{y=!1,v&&(v=!1,_(j),j=-1),m=!0;var G=f;try{t:{for(N(L),h=n(c);h!==null&&!(h.expirationTime>L&&P());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,f=h.priorityLevel;var Z=ee(h.expirationTime<=L);if(L=t.unstable_now(),typeof Z=="function"){h.callback=Z,N(L),B=!0;break t}h===n(c)&&r(c),N(L)}else r(c);h=n(c)}if(h!==null)B=!0;else{var H=n(u);H!==null&&M(E,H.startTime-L),B=!1}}break e}finally{h=null,f=G,m=!1}B=void 0}}finally{B?O():C=!1}}}var O;if(typeof b=="function")O=function(){b(k)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,V=R.port2;R.port1.onmessage=k,O=function(){V.postMessage(null)}}else O=function(){w(k,0)};function M(L,B){j=w(function(){L(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var G=f;f=B;try{return L()}finally{f=G}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var G=f;f=L;try{return B()}finally{f=G}},t.unstable_scheduleCallback=function(L,B,G){var ee=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ee+G:ee):G=ee,L){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=G+Z,L={id:d++,callback:B,priorityLevel:L,startTime:G,expirationTime:Z,sortIndex:-1},G>ee?(L.sortIndex=G,e(u,L),n(c)===null&&L===n(u)&&(v?(_(j),j=-1):v=!0,M(E,G-ee))):(L.sortIndex=Z,e(c,L),y||m||(y=!0,C||(C=!0,O()))),L},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(L){var B=f;return function(){var G=f;f=B;try{return L.apply(this,arguments)}finally{f=G}}}})(LV);MV.exports=LV;var YX=MV.exports,VV={exports:{}},zr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QX=g;function zV(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ro(){}var Rr={d:{f:Ro,r:function(){throw Error(zV(522))},D:Ro,C:Ro,L:Ro,m:Ro,X:Ro,S:Ro,M:Ro},p:0,findDOMNode:null},XX=Symbol.for("react.portal");function JX(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:XX,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var ep=QX.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ow(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}zr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Rr;zr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(zV(299));return JX(t,e,null,n)};zr.flushSync=function(t){var e=ep.T,n=Rr.p;try{if(ep.T=null,Rr.p=2,t)return t()}finally{ep.T=e,Rr.p=n,Rr.d.f()}};zr.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Rr.d.C(t,e))};zr.prefetchDNS=function(t){typeof t=="string"&&Rr.d.D(t)};zr.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=ow(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Rr.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):n==="script"&&Rr.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};zr.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=ow(e.as,e.crossOrigin);Rr.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Rr.d.M(t)};zr.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=ow(n,e.crossOrigin);Rr.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};zr.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=ow(e.as,e.crossOrigin);Rr.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Rr.d.m(t)};zr.requestFormReset=function(t){Rr.d.r(t)};zr.unstable_batchedUpdates=function(t,e){return t(e)};zr.useFormState=function(t,e,n){return ep.H.useFormState(t,e,n)};zr.useFormStatus=function(){return ep.H.useHostTransitionStatus()};zr.version="19.2.0";function UV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UV)}catch(t){console.error(t)}}UV(),VV.exports=zr;var au=VV.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jn=YX,FV=g,ZX=au;function K(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function BV(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qg(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $V(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qV(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function UR(t){if(Qg(t)!==t)throw Error(K(188))}function eJ(t){var e=t.alternate;if(!e){if(e=Qg(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return UR(i),t;if(s===r)return UR(i),e;s=s.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function HV(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=HV(t),e!==null)return e;t=t.sibling}return null}var Tt=Object.assign,tJ=Symbol.for("react.element"),y0=Symbol.for("react.transitional.element"),Lm=Symbol.for("react.portal"),_d=Symbol.for("react.fragment"),GV=Symbol.for("react.strict_mode"),US=Symbol.for("react.profiler"),WV=Symbol.for("react.consumer"),Na=Symbol.for("react.context"),Hj=Symbol.for("react.forward_ref"),FS=Symbol.for("react.suspense"),BS=Symbol.for("react.suspense_list"),Gj=Symbol.for("react.memo"),Uo=Symbol.for("react.lazy"),$S=Symbol.for("react.activity"),nJ=Symbol.for("react.memo_cache_sentinel"),FR=Symbol.iterator;function om(t){return t===null||typeof t!="object"?null:(t=FR&&t[FR]||t["@@iterator"],typeof t=="function"?t:null)}var rJ=Symbol.for("react.client.reference");function qS(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===rJ?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _d:return"Fragment";case US:return"Profiler";case GV:return"StrictMode";case FS:return"Suspense";case BS:return"SuspenseList";case $S:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Lm:return"Portal";case Na:return t.displayName||"Context";case WV:return(t._context.displayName||"Context")+".Consumer";case Hj:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gj:return e=t.displayName||null,e!==null?e:qS(t.type)||"Memo";case Uo:e=t._payload,t=t._init;try{return qS(t(e))}catch{}}return null}var Vm=Array.isArray,Ne=FV.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ke=ZX.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Bc={pending:!1,data:null,method:null,action:null},HS=[],Nd=-1;function oa(t){return{current:t}}function zn(t){0>Nd||(t.current=HS[Nd],HS[Nd]=null,Nd--)}function mt(t,e){Nd++,HS[Nd]=t.current,t.current=e}var $s=oa(null),Lp=oa(null),il=oa(null),Jv=oa(null);function Zv(t,e){switch(mt(il,e),mt(Lp,t),mt($s,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?WO(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=WO(e),t=fU(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}zn($s),mt($s,t)}function ah(){zn($s),zn(Lp),zn(il)}function GS(t){t.memoizedState!==null&&mt(Jv,t);var e=$s.current,n=fU(e,t.type);e!==n&&(mt(Lp,t),mt($s,n))}function ex(t){Lp.current===t&&(zn($s),zn(Lp)),Jv.current===t&&(zn(Jv),Kp._currentValue=Bc)}var q_,BR;function pc(t){if(q_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);q_=e&&e[1]||"",BR=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+q_+t+BR}var H_=!1;function G_(t,e){if(!t||H_)return"";H_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(m){var f=m}Reflect.construct(t,[],h)}else{try{h.call()}catch(m){f=m}t.call(h.prototype)}}else{try{throw Error()}catch(m){f=m}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(m){if(m&&f&&typeof m.stack=="string")return[m.stack,f.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var c=a.split(`
`),u=l.split(`
`);for(i=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===c.length||i===u.length)for(r=c.length-1,i=u.length-1;1<=r&&0<=i&&c[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==u[i]){var d=`
`+c[r].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=r&&0<=i);break}}}finally{H_=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?pc(n):""}function iJ(t,e){switch(t.tag){case 26:case 27:case 5:return pc(t.type);case 16:return pc("Lazy");case 13:return t.child!==e&&e!==null?pc("Suspense Fallback"):pc("Suspense");case 19:return pc("SuspenseList");case 0:case 15:return G_(t.type,!1);case 11:return G_(t.type.render,!1);case 1:return G_(t.type,!0);case 31:return pc("Activity");default:return""}}function $R(t){try{var e="",n=null;do e+=iJ(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var WS=Object.prototype.hasOwnProperty,Wj=jn.unstable_scheduleCallback,W_=jn.unstable_cancelCallback,sJ=jn.unstable_shouldYield,aJ=jn.unstable_requestPaint,yi=jn.unstable_now,oJ=jn.unstable_getCurrentPriorityLevel,KV=jn.unstable_ImmediatePriority,YV=jn.unstable_UserBlockingPriority,tx=jn.unstable_NormalPriority,lJ=jn.unstable_LowPriority,QV=jn.unstable_IdlePriority,cJ=jn.log,uJ=jn.unstable_setDisableYieldValue,Xg=null,vi=null;function Qo(t){if(typeof cJ=="function"&&uJ(t),vi&&typeof vi.setStrictMode=="function")try{vi.setStrictMode(Xg,t)}catch{}}var xi=Math.clz32?Math.clz32:fJ,dJ=Math.log,hJ=Math.LN2;function fJ(t){return t>>>=0,t===0?32:31-(dJ(t)/hJ|0)|0}var v0=256,x0=262144,b0=4194304;function gc(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function lw(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var l=r&134217727;return l!==0?(r=l&~s,r!==0?i=gc(r):(a&=l,a!==0?i=gc(a):n||(n=l&~t,n!==0&&(i=gc(n))))):(l=r&~s,l!==0?i=gc(l):a!==0?i=gc(a):n||(n=r&~t,n!==0&&(i=gc(n)))),i===0?0:e!==0&&e!==i&&!(e&s)&&(s=i&-i,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:i}function Jg(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function mJ(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XV(){var t=b0;return b0<<=1,!(b0&62914560)&&(b0=4194304),t}function K_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Zg(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function pJ(t,e,n,r,i,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,c=t.expirationTimes,u=t.hiddenUpdates;for(n=a&~n;0<n;){var d=31-xi(n),h=1<<d;l[d]=0,c[d]=-1;var f=u[d];if(f!==null)for(u[d]=null,d=0;d<f.length;d++){var m=f[d];m!==null&&(m.lane&=-536870913)}n&=~h}r!==0&&JV(t,r,0),s!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function JV(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-xi(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function ZV(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function ez(t,e){var n=e&-e;return n=n&42?1:Kj(n),n&(t.suspendedLanes|e)?0:n}function Kj(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Yj(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function tz(){var t=Ke.p;return t!==0?t:(t=window.event,t===void 0?32:SU(t.type))}function qR(t,e){var n=Ke.p;try{return Ke.p=t,e()}finally{Ke.p=n}}var $l=Math.random().toString(36).slice(2),Xn="__reactFiber$"+$l,Zr="__reactProps$"+$l,sf="__reactContainer$"+$l,KS="__reactEvents$"+$l,gJ="__reactListeners$"+$l,yJ="__reactHandles$"+$l,HR="__reactResources$"+$l,ey="__reactMarker$"+$l;function Qj(t){delete t[Xn],delete t[Zr],delete t[KS],delete t[gJ],delete t[yJ]}function Sd(t){var e=t[Xn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sf]||n[Xn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=JO(t);t!==null;){if(n=t[Xn])return n;t=JO(t)}return e}t=n,n=t.parentNode}return null}function af(t){if(t=t[Xn]||t[sf]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function zm(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(K(33))}function $d(t){var e=t[HR];return e||(e=t[HR]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Ln(t){t[ey]=!0}var nz=new Set,rz={};function Ru(t,e){oh(t,e),oh(t+"Capture",e)}function oh(t,e){for(rz[t]=e,t=0;t<e.length;t++)nz.add(e[t])}var vJ=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),GR={},WR={};function xJ(t){return WS.call(WR,t)?!0:WS.call(GR,t)?!1:vJ.test(t)?WR[t]=!0:(GR[t]=!0,!1)}function hv(t,e,n){if(xJ(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function w0(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function da(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function Li(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function iz(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bJ(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function YS(t){if(!t._valueTracker){var e=iz(t)?"checked":"value";t._valueTracker=bJ(t,e,""+t[e])}}function sz(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=iz(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function nx(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var wJ=/[\n"\\]/g;function Ui(t){return t.replace(wJ,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function QS(t,e,n,r,i,s,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Li(e)):t.value!==""+Li(e)&&(t.value=""+Li(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?XS(t,a,Li(e)):n!=null?XS(t,a,Li(n)):r!=null&&t.removeAttribute("value"),i==null&&s!=null&&(t.defaultChecked=!!s),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+Li(l):t.removeAttribute("name")}function az(t,e,n,r,i,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){YS(t);return}n=n!=null?""+Li(n):"",e=e!=null?""+Li(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=l?t.checked:!!r,t.defaultChecked=!!r,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),YS(t)}function XS(t,e,n){e==="number"&&nx(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function qd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Li(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function oz(t,e,n){if(e!=null&&(e=""+Li(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Li(n):""}function lz(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(K(92));if(Vm(r)){if(1<r.length)throw Error(K(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Li(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),YS(t)}function lh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _J=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function KR(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||_J.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function cz(t,e,n){if(e!=null&&typeof e!="object")throw Error(K(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&KR(t,i,r)}else for(var s in e)e.hasOwnProperty(s)&&KR(t,s,e[s])}function Xj(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var NJ=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),SJ=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fv(t){return SJ.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Sa(){}var JS=null;function Jj(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ed=null,Hd=null;function YR(t){var e=af(t);if(e&&(t=e.stateNode)){var n=t[Zr]||null;e:switch(t=e.stateNode,e.type){case"input":if(QS(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ui(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[Zr]||null;if(!i)throw Error(K(90));QS(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&sz(r)}break e;case"textarea":oz(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&qd(t,!!n.multiple,e,!1)}}}var Y_=!1;function uz(t,e,n){if(Y_)return t(e,n);Y_=!0;try{var r=t(e);return r}finally{if(Y_=!1,(Ed!==null||Hd!==null)&&(bw(),Ed&&(e=Ed,t=Hd,Hd=Ed=null,YR(e),t)))for(e=0;e<t.length;e++)YR(t[e])}}function Vp(t,e){var n=t.stateNode;if(n===null)return null;var r=n[Zr]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var Ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ZS=!1;if(Ba)try{var lm={};Object.defineProperty(lm,"passive",{get:function(){ZS=!0}}),window.addEventListener("test",lm,lm),window.removeEventListener("test",lm,lm)}catch{ZS=!1}var Xo=null,Zj=null,mv=null;function dz(){if(mv)return mv;var t,e=Zj,n=e.length,r,i="value"in Xo?Xo.value:Xo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return mv=i.slice(t,1<r?1-r:void 0)}function pv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _0(){return!0}function QR(){return!1}function ti(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_0:QR,this.isPropagationStopped=QR,this}return Tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_0)},persist:function(){},isPersistent:_0}),e}var Ou={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cw=ti(Ou),ty=Tt({},Ou,{view:0,detail:0}),EJ=ti(ty),Q_,X_,cm,uw=Tt({},ty,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cm&&(cm&&t.type==="mousemove"?(Q_=t.screenX-cm.screenX,X_=t.screenY-cm.screenY):X_=Q_=0,cm=t),Q_)},movementY:function(t){return"movementY"in t?t.movementY:X_}}),XR=ti(uw),jJ=Tt({},uw,{dataTransfer:0}),TJ=ti(jJ),AJ=Tt({},ty,{relatedTarget:0}),J_=ti(AJ),IJ=Tt({},Ou,{animationName:0,elapsedTime:0,pseudoElement:0}),CJ=ti(IJ),PJ=Tt({},Ou,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kJ=ti(PJ),RJ=Tt({},Ou,{data:0}),JR=ti(RJ),OJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LJ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MJ[t])?!!e[t]:!1}function eT(){return LJ}var VJ=Tt({},ty,{key:function(t){if(t.key){var e=OJ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?DJ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eT,charCode:function(t){return t.type==="keypress"?pv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zJ=ti(VJ),UJ=Tt({},uw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZR=ti(UJ),FJ=Tt({},ty,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eT}),BJ=ti(FJ),$J=Tt({},Ou,{propertyName:0,elapsedTime:0,pseudoElement:0}),qJ=ti($J),HJ=Tt({},uw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GJ=ti(HJ),WJ=Tt({},Ou,{newState:0,oldState:0}),KJ=ti(WJ),YJ=[9,13,27,32],tT=Ba&&"CompositionEvent"in window,tp=null;Ba&&"documentMode"in document&&(tp=document.documentMode);var QJ=Ba&&"TextEvent"in window&&!tp,hz=Ba&&(!tT||tp&&8<tp&&11>=tp),eO=" ",tO=!1;function fz(t,e){switch(t){case"keyup":return YJ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mz(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jd=!1;function XJ(t,e){switch(t){case"compositionend":return mz(e);case"keypress":return e.which!==32?null:(tO=!0,eO);case"textInput":return t=e.data,t===eO&&tO?null:t;default:return null}}function JJ(t,e){if(jd)return t==="compositionend"||!tT&&fz(t,e)?(t=dz(),mv=Zj=Xo=null,jd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hz&&e.locale!=="ko"?null:e.data;default:return null}}var ZJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ZJ[t.type]:e==="textarea"}function pz(t,e,n,r){Ed?Hd?Hd.push(r):Hd=[r]:Ed=r,e=bx(e,"onChange"),0<e.length&&(n=new cw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var np=null,zp=null;function eZ(t){uU(t,0)}function dw(t){var e=zm(t);if(sz(e))return t}function rO(t,e){if(t==="change")return e}var gz=!1;if(Ba){var Z_;if(Ba){var eN="oninput"in document;if(!eN){var iO=document.createElement("div");iO.setAttribute("oninput","return;"),eN=typeof iO.oninput=="function"}Z_=eN}else Z_=!1;gz=Z_&&(!document.documentMode||9<document.documentMode)}function sO(){np&&(np.detachEvent("onpropertychange",yz),zp=np=null)}function yz(t){if(t.propertyName==="value"&&dw(zp)){var e=[];pz(e,zp,t,Jj(t)),uz(eZ,e)}}function tZ(t,e,n){t==="focusin"?(sO(),np=e,zp=n,np.attachEvent("onpropertychange",yz)):t==="focusout"&&sO()}function nZ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dw(zp)}function rZ(t,e){if(t==="click")return dw(e)}function iZ(t,e){if(t==="input"||t==="change")return dw(e)}function sZ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ei=typeof Object.is=="function"?Object.is:sZ;function Up(t,e){if(Ei(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!WS.call(e,i)||!Ei(t[i],e[i]))return!1}return!0}function aO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oO(t,e){var n=aO(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=aO(n)}}function vz(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vz(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xz(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=nx(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nx(t.document)}return e}function nT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var aZ=Ba&&"documentMode"in document&&11>=document.documentMode,Td=null,e2=null,rp=null,t2=!1;function lO(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;t2||Td==null||Td!==nx(r)||(r=Td,"selectionStart"in r&&nT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rp&&Up(rp,r)||(rp=r,r=bx(e2,"onSelect"),0<r.length&&(e=new cw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Td)))}function dc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ad={animationend:dc("Animation","AnimationEnd"),animationiteration:dc("Animation","AnimationIteration"),animationstart:dc("Animation","AnimationStart"),transitionrun:dc("Transition","TransitionRun"),transitionstart:dc("Transition","TransitionStart"),transitioncancel:dc("Transition","TransitionCancel"),transitionend:dc("Transition","TransitionEnd")},tN={},bz={};Ba&&(bz=document.createElement("div").style,"AnimationEvent"in window||(delete Ad.animationend.animation,delete Ad.animationiteration.animation,delete Ad.animationstart.animation),"TransitionEvent"in window||delete Ad.transitionend.transition);function Du(t){if(tN[t])return tN[t];if(!Ad[t])return t;var e=Ad[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bz)return tN[t]=e[n];return t}var wz=Du("animationend"),_z=Du("animationiteration"),Nz=Du("animationstart"),oZ=Du("transitionrun"),lZ=Du("transitionstart"),cZ=Du("transitioncancel"),Sz=Du("transitionend"),Ez=new Map,n2="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");n2.push("scrollEnd");function bs(t,e){Ez.set(t,e),Ru(e,[t])}var rx=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Mi=[],Id=0,rT=0;function hw(){for(var t=Id,e=rT=Id=0;e<t;){var n=Mi[e];Mi[e++]=null;var r=Mi[e];Mi[e++]=null;var i=Mi[e];Mi[e++]=null;var s=Mi[e];if(Mi[e++]=null,r!==null&&i!==null){var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}s!==0&&jz(n,i,s)}}function fw(t,e,n,r){Mi[Id++]=t,Mi[Id++]=e,Mi[Id++]=n,Mi[Id++]=r,rT|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function iT(t,e,n,r){return fw(t,e,n,r),ix(t)}function Mu(t,e){return fw(t,null,null,e),ix(t)}function jz(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,s=t.return;s!==null;)s.childLanes|=n,r=s.alternate,r!==null&&(r.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(i=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,i&&e!==null&&(i=31-xi(n),t=s.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),s):null}function ix(t){if(50<hp)throw hp=0,N2=null,Error(K(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Cd={};function uZ(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hi(t,e,n,r){return new uZ(t,e,n,r)}function sT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pa(t,e){var n=t.alternate;return n===null?(n=hi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Tz(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function gv(t,e,n,r,i,s){var a=0;if(r=t,typeof t=="function")sT(t)&&(a=1);else if(typeof t=="string")a=pee(t,n,$s.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case $S:return t=hi(31,n,e,i),t.elementType=$S,t.lanes=s,t;case _d:return $c(n.children,i,s,e);case GV:a=8,i|=24;break;case US:return t=hi(12,n,e,i|2),t.elementType=US,t.lanes=s,t;case FS:return t=hi(13,n,e,i),t.elementType=FS,t.lanes=s,t;case BS:return t=hi(19,n,e,i),t.elementType=BS,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Na:a=10;break e;case WV:a=9;break e;case Hj:a=11;break e;case Gj:a=14;break e;case Uo:a=16,r=null;break e}a=29,n=Error(K(130,t===null?"null":typeof t,"")),r=null}return e=hi(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function $c(t,e,n,r){return t=hi(7,t,r,e),t.lanes=n,t}function nN(t,e,n){return t=hi(6,t,null,e),t.lanes=n,t}function Az(t){var e=hi(18,null,null,0);return e.stateNode=t,e}function rN(t,e,n){return e=hi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var cO=new WeakMap;function Fi(t,e){if(typeof t=="object"&&t!==null){var n=cO.get(t);return n!==void 0?n:(e={value:t,source:e,stack:$R(e)},cO.set(t,e),e)}return{value:t,source:e,stack:$R(e)}}var Pd=[],kd=0,sx=null,Fp=0,Vi=[],zi=0,wl=null,Ds=1,Ms="";function ya(t,e){Pd[kd++]=Fp,Pd[kd++]=sx,sx=t,Fp=e}function Iz(t,e,n){Vi[zi++]=Ds,Vi[zi++]=Ms,Vi[zi++]=wl,wl=t;var r=Ds;t=Ms;var i=32-xi(r)-1;r&=~(1<<i),n+=1;var s=32-xi(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ds=1<<32-xi(e)+i|n<<i|r,Ms=s+t}else Ds=1<<s|n<<i|r,Ms=t}function aT(t){t.return!==null&&(ya(t,1),Iz(t,1,0))}function oT(t){for(;t===sx;)sx=Pd[--kd],Pd[kd]=null,Fp=Pd[--kd],Pd[kd]=null;for(;t===wl;)wl=Vi[--zi],Vi[zi]=null,Ms=Vi[--zi],Vi[zi]=null,Ds=Vi[--zi],Vi[zi]=null}function Cz(t,e){Vi[zi++]=Ds,Vi[zi++]=Ms,Vi[zi++]=wl,Ds=e.id,Ms=e.overflow,wl=t}var Jn=null,wt=null,Be=!1,sl=null,Bi=!1,r2=Error(K(519));function _l(t){var e=Error(K(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bp(Fi(e,t)),r2}function uO(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Xn]=t,e[Zr]=r,n){case"dialog":Re("cancel",e),Re("close",e);break;case"iframe":case"object":case"embed":Re("load",e);break;case"video":case"audio":for(n=0;n<Gp.length;n++)Re(Gp[n],e);break;case"source":Re("error",e);break;case"img":case"image":case"link":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"input":Re("invalid",e),az(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Re("invalid",e);break;case"textarea":Re("invalid",e),lz(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||hU(e.textContent,n)?(r.popover!=null&&(Re("beforetoggle",e),Re("toggle",e)),r.onScroll!=null&&Re("scroll",e),r.onScrollEnd!=null&&Re("scrollend",e),r.onClick!=null&&(e.onclick=Sa),e=!0):e=!1,e||_l(t,!0)}function dO(t){for(Jn=t.return;Jn;)switch(Jn.tag){case 5:case 31:case 13:Bi=!1;return;case 27:case 3:Bi=!0;return;default:Jn=Jn.return}}function ed(t){if(t!==Jn)return!1;if(!Be)return dO(t),Be=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||A2(t.type,t.memoizedProps)),n=!n),n&&wt&&_l(t),dO(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));wt=XO(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));wt=XO(t)}else e===27?(e=wt,ql(t.type)?(t=k2,k2=null,wt=t):wt=e):wt=Jn?Wi(t.stateNode.nextSibling):null;return!0}function ou(){wt=Jn=null,Be=!1}function iN(){var t=sl;return t!==null&&(Hr===null?Hr=t:Hr.push.apply(Hr,t),sl=null),t}function Bp(t){sl===null?sl=[t]:sl.push(t)}var i2=oa(null),Lu=null,Ea=null;function qo(t,e,n){mt(i2,e._currentValue),e._currentValue=n}function ka(t){t._currentValue=i2.current,zn(i2)}function s2(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function a2(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){var a=i.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=i;for(var c=0;c<e.length;c++)if(l.context===e[c]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),s2(s.return,n,t),r||(a=null);break e}s=l.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(K(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),s2(a,n,t),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function of(t,e,n,r){t=null;for(var i=e,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(K(387));if(a=a.memoizedProps,a!==null){var l=i.type;Ei(i.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(i===Jv.current){if(a=i.alternate,a===null)throw Error(K(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Kp):t=[Kp])}i=i.return}t!==null&&a2(e,t,n,r),e.flags|=262144}function ax(t){for(t=t.firstContext;t!==null;){if(!Ei(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function lu(t){Lu=t,Ea=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function er(t){return Pz(Lu,t)}function N0(t,e){return Lu===null&&lu(t),Pz(t,e)}function Pz(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Ea===null){if(t===null)throw Error(K(308));Ea=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Ea=Ea.next=e;return n}var dZ=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},hZ=jn.unstable_scheduleCallback,fZ=jn.unstable_NormalPriority,pn={$$typeof:Na,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lT(){return{controller:new dZ,data:new Map,refCount:0}}function ny(t){t.refCount--,t.refCount===0&&hZ(fZ,function(){t.controller.abort()})}var ip=null,o2=0,ch=0,Gd=null;function mZ(t,e){if(ip===null){var n=ip=[];o2=0,ch=RT(),Gd={status:"pending",value:void 0,then:function(r){n.push(r)}}}return o2++,e.then(hO,hO),e}function hO(){if(--o2===0&&ip!==null){Gd!==null&&(Gd.status="fulfilled");var t=ip;ip=null,ch=0,Gd=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function pZ(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var fO=Ne.S;Ne.S=function(t,e){H9=yi(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&mZ(t,e),fO!==null&&fO(t,e)};var qc=oa(null);function cT(){var t=qc.current;return t!==null?t:ut.pooledCache}function yv(t,e){e===null?mt(qc,qc.current):mt(qc,e.pool)}function kz(){var t=cT();return t===null?null:{parent:pn._currentValue,pool:t}}var lf=Error(K(460)),uT=Error(K(474)),mw=Error(K(542)),ox={then:function(){}};function mO(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Rz(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Sa,Sa),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,gO(t),t;default:if(typeof e.status=="string")e.then(Sa,Sa);else{if(t=ut,t!==null&&100<t.shellSuspendCounter)throw Error(K(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,gO(t),t}throw Hc=e,lf}}function yc(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Hc=n,lf):n}}var Hc=null;function pO(){if(Hc===null)throw Error(K(459));var t=Hc;return Hc=null,t}function gO(t){if(t===lf||t===mw)throw Error(K(483))}var Wd=null,$p=0;function S0(t){var e=$p;return $p+=1,Wd===null&&(Wd=[]),Rz(Wd,t,e)}function um(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function E0(t,e){throw e.$$typeof===tJ?Error(K(525)):(t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Oz(t){function e(w,_){if(t){var b=w.deletions;b===null?(w.deletions=[_],w.flags|=16):b.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w){for(var _=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function i(w,_){return w=Pa(w,_),w.index=0,w.sibling=null,w}function s(w,_,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<_?(w.flags|=67108866,_):b):(w.flags|=67108866,_)):(w.flags|=1048576,_)}function a(w){return t&&w.alternate===null&&(w.flags|=67108866),w}function l(w,_,b,N){return _===null||_.tag!==6?(_=nN(b,w.mode,N),_.return=w,_):(_=i(_,b),_.return=w,_)}function c(w,_,b,N){var E=b.type;return E===_d?d(w,_,b.props.children,N,b.key):_!==null&&(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Uo&&yc(E)===_.type)?(_=i(_,b.props),um(_,b),_.return=w,_):(_=gv(b.type,b.key,b.props,null,w.mode,N),um(_,b),_.return=w,_)}function u(w,_,b,N){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=rN(b,w.mode,N),_.return=w,_):(_=i(_,b.children||[]),_.return=w,_)}function d(w,_,b,N,E){return _===null||_.tag!==7?(_=$c(b,w.mode,N,E),_.return=w,_):(_=i(_,b),_.return=w,_)}function h(w,_,b){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=nN(""+_,w.mode,b),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case y0:return b=gv(_.type,_.key,_.props,null,w.mode,b),um(b,_),b.return=w,b;case Lm:return _=rN(_,w.mode,b),_.return=w,_;case Uo:return _=yc(_),h(w,_,b)}if(Vm(_)||om(_))return _=$c(_,w.mode,b,null),_.return=w,_;if(typeof _.then=="function")return h(w,S0(_),b);if(_.$$typeof===Na)return h(w,N0(w,_),b);E0(w,_)}return null}function f(w,_,b,N){var E=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return E!==null?null:l(w,_,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case y0:return b.key===E?c(w,_,b,N):null;case Lm:return b.key===E?u(w,_,b,N):null;case Uo:return b=yc(b),f(w,_,b,N)}if(Vm(b)||om(b))return E!==null?null:d(w,_,b,N,null);if(typeof b.then=="function")return f(w,_,S0(b),N);if(b.$$typeof===Na)return f(w,_,N0(w,b),N);E0(w,b)}return null}function m(w,_,b,N,E){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return w=w.get(b)||null,l(_,w,""+N,E);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case y0:return w=w.get(N.key===null?b:N.key)||null,c(_,w,N,E);case Lm:return w=w.get(N.key===null?b:N.key)||null,u(_,w,N,E);case Uo:return N=yc(N),m(w,_,b,N,E)}if(Vm(N)||om(N))return w=w.get(b)||null,d(_,w,N,E,null);if(typeof N.then=="function")return m(w,_,b,S0(N),E);if(N.$$typeof===Na)return m(w,_,b,N0(_,N),E);E0(_,N)}return null}function y(w,_,b,N){for(var E=null,C=null,j=_,T=_=0,A=null;j!==null&&T<b.length;T++){j.index>T?(A=j,j=null):A=j.sibling;var P=f(w,j,b[T],N);if(P===null){j===null&&(j=A);break}t&&j&&P.alternate===null&&e(w,j),_=s(P,_,T),C===null?E=P:C.sibling=P,C=P,j=A}if(T===b.length)return n(w,j),Be&&ya(w,T),E;if(j===null){for(;T<b.length;T++)j=h(w,b[T],N),j!==null&&(_=s(j,_,T),C===null?E=j:C.sibling=j,C=j);return Be&&ya(w,T),E}for(j=r(j);T<b.length;T++)A=m(j,w,T,b[T],N),A!==null&&(t&&A.alternate!==null&&j.delete(A.key===null?T:A.key),_=s(A,_,T),C===null?E=A:C.sibling=A,C=A);return t&&j.forEach(function(k){return e(w,k)}),Be&&ya(w,T),E}function v(w,_,b,N){if(b==null)throw Error(K(151));for(var E=null,C=null,j=_,T=_=0,A=null,P=b.next();j!==null&&!P.done;T++,P=b.next()){j.index>T?(A=j,j=null):A=j.sibling;var k=f(w,j,P.value,N);if(k===null){j===null&&(j=A);break}t&&j&&k.alternate===null&&e(w,j),_=s(k,_,T),C===null?E=k:C.sibling=k,C=k,j=A}if(P.done)return n(w,j),Be&&ya(w,T),E;if(j===null){for(;!P.done;T++,P=b.next())P=h(w,P.value,N),P!==null&&(_=s(P,_,T),C===null?E=P:C.sibling=P,C=P);return Be&&ya(w,T),E}for(j=r(j);!P.done;T++,P=b.next())P=m(j,w,T,P.value,N),P!==null&&(t&&P.alternate!==null&&j.delete(P.key===null?T:P.key),_=s(P,_,T),C===null?E=P:C.sibling=P,C=P);return t&&j.forEach(function(O){return e(w,O)}),Be&&ya(w,T),E}function x(w,_,b,N){if(typeof b=="object"&&b!==null&&b.type===_d&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case y0:e:{for(var E=b.key;_!==null;){if(_.key===E){if(E=b.type,E===_d){if(_.tag===7){n(w,_.sibling),N=i(_,b.props.children),N.return=w,w=N;break e}}else if(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Uo&&yc(E)===_.type){n(w,_.sibling),N=i(_,b.props),um(N,b),N.return=w,w=N;break e}n(w,_);break}else e(w,_);_=_.sibling}b.type===_d?(N=$c(b.props.children,w.mode,N,b.key),N.return=w,w=N):(N=gv(b.type,b.key,b.props,null,w.mode,N),um(N,b),N.return=w,w=N)}return a(w);case Lm:e:{for(E=b.key;_!==null;){if(_.key===E)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){n(w,_.sibling),N=i(_,b.children||[]),N.return=w,w=N;break e}else{n(w,_);break}else e(w,_);_=_.sibling}N=rN(b,w.mode,N),N.return=w,w=N}return a(w);case Uo:return b=yc(b),x(w,_,b,N)}if(Vm(b))return y(w,_,b,N);if(om(b)){if(E=om(b),typeof E!="function")throw Error(K(150));return b=E.call(b),v(w,_,b,N)}if(typeof b.then=="function")return x(w,_,S0(b),N);if(b.$$typeof===Na)return x(w,_,N0(w,b),N);E0(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,_!==null&&_.tag===6?(n(w,_.sibling),N=i(_,b),N.return=w,w=N):(n(w,_),N=nN(b,w.mode,N),N.return=w,w=N),a(w)):n(w,_)}return function(w,_,b,N){try{$p=0;var E=x(w,_,b,N);return Wd=null,E}catch(j){if(j===lf||j===mw)throw j;var C=hi(29,j,null,w.mode);return C.lanes=N,C.return=w,C}finally{}}}var cu=Oz(!0),Dz=Oz(!1),Fo=!1;function dT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function l2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function al(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ol(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,We&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=ix(t),jz(t,null,n),e}return fw(t,r,e,n),ix(t)}function sp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ZV(t,n)}}function sN(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var c2=!1;function ap(){if(c2){var t=Gd;if(t!==null)throw t}}function op(t,e,n,r){c2=!1;var i=t.updateQueue;Fo=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var h=i.baseState;a=0,d=u=c=null,l=s;do{var f=l.lane&-536870913,m=f!==l.lane;if(m?(Ve&f)===f:(r&f)===f){f!==0&&f===ch&&(c2=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var y=t,v=l;f=e;var x=n;switch(v.tag){case 1:if(y=v.payload,typeof y=="function"){h=y.call(x,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,f=typeof y=="function"?y.call(x,h,f):y,f==null)break e;h=Tt({},h,f);break e;case 2:Fo=!0}}f=l.callback,f!==null&&(t.flags|=64,m&&(t.flags|=8192),m=i.callbacks,m===null?i.callbacks=[f]:m.push(f))}else m={lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,a|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,s===null&&(i.shared.lanes=0),Sl|=a,t.lanes=a,t.memoizedState=h}}function Mz(t,e){if(typeof t!="function")throw Error(K(191,t));t.call(e)}function Lz(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Mz(n[t],e)}var uh=oa(null),lx=oa(0);function yO(t,e){t=Ga,mt(lx,t),mt(uh,e),Ga=t|e.baseLanes}function u2(){mt(lx,Ga),mt(uh,uh.current)}function hT(){Ga=lx.current,zn(uh),zn(lx)}var ji=oa(null),Gi=null;function Ho(t){var e=t.alternate;mt(rn,rn.current&1),mt(ji,t),Gi===null&&(e===null||uh.current!==null||e.memoizedState!==null)&&(Gi=t)}function d2(t){mt(rn,rn.current),mt(ji,t),Gi===null&&(Gi=t)}function Vz(t){t.tag===22?(mt(rn,rn.current),mt(ji,t),Gi===null&&(Gi=t)):Go()}function Go(){mt(rn,rn.current),mt(ji,ji.current)}function ui(t){zn(ji),Gi===t&&(Gi=null),zn(rn)}var rn=oa(0);function cx(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||C2(n)||P2(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $a=0,Ie=null,st=null,fn=null,ux=!1,Kd=!1,uu=!1,dx=0,qp=0,Yd=null,gZ=0;function Ht(){throw Error(K(321))}function fT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ei(t[n],e[n]))return!1;return!0}function mT(t,e,n,r,i,s){return $a=s,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ne.H=t===null||t.memoizedState===null?p9:ET,uu=!1,s=n(r,i),uu=!1,Kd&&(s=Uz(e,n,r,i)),zz(t),s}function zz(t){Ne.H=Hp;var e=st!==null&&st.next!==null;if($a=0,fn=st=Ie=null,ux=!1,qp=0,Yd=null,e)throw Error(K(300));t===null||gn||(t=t.dependencies,t!==null&&ax(t)&&(gn=!0))}function Uz(t,e,n,r){Ie=t;var i=0;do{if(Kd&&(Yd=null),qp=0,Kd=!1,25<=i)throw Error(K(301));if(i+=1,fn=st=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Ne.H=g9,s=e(n,r)}while(Kd);return s}function yZ(){var t=Ne.H,e=t.useState()[0];return e=typeof e.then=="function"?ry(e):e,t=t.useState()[0],(st!==null?st.memoizedState:null)!==t&&(Ie.flags|=1024),e}function pT(){var t=dx!==0;return dx=0,t}function gT(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function yT(t){if(ux){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}ux=!1}$a=0,fn=st=Ie=null,Kd=!1,qp=dx=0,Yd=null}function Ar(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Ie.memoizedState=fn=t:fn=fn.next=t,fn}function on(){if(st===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var e=fn===null?Ie.memoizedState:fn.next;if(e!==null)fn=e,st=t;else{if(t===null)throw Ie.alternate===null?Error(K(467)):Error(K(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},fn===null?Ie.memoizedState=fn=t:fn=fn.next=t}return fn}function pw(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ry(t){var e=qp;return qp+=1,Yd===null&&(Yd=[]),t=Rz(Yd,t,e),e=Ie,(fn===null?e.memoizedState:fn.next)===null&&(e=e.alternate,Ne.H=e===null||e.memoizedState===null?p9:ET),t}function gw(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ry(t);if(t.$$typeof===Na)return er(t)}throw Error(K(438,String(t)))}function vT(t){var e=null,n=Ie.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=Ie.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=pw(),Ie.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=nJ;return e.index++,n}function qa(t,e){return typeof e=="function"?e(t):e}function vv(t){var e=on();return xT(e,st,t)}function xT(t,e,n){var r=t.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=n;var i=t.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}e.baseQueue=i=s,r.pending=null}if(s=t.baseState,i===null)t.memoizedState=s;else{e=i.next;var l=a=null,c=null,u=e,d=!1;do{var h=u.lane&-536870913;if(h!==u.lane?(Ve&h)===h:($a&h)===h){var f=u.revertLane;if(f===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===ch&&(d=!0);else if(($a&f)===f){u=u.next,f===ch&&(d=!0);continue}else h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=h,a=s):c=c.next=h,Ie.lanes|=f,Sl|=f;h=u.action,uu&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=f,a=s):c=c.next=f,Ie.lanes|=h,Sl|=h;u=u.next}while(u!==null&&u!==e);if(c===null?a=s:c.next=l,!Ei(s,t.memoizedState)&&(gn=!0,d&&(n=Gd,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=c,r.lastRenderedState=s}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function aN(t){var e=on(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Ei(s,e.memoizedState)||(gn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Fz(t,e,n){var r=Ie,i=on(),s=Be;if(s){if(n===void 0)throw Error(K(407));n=n()}else n=e();var a=!Ei((st||i).memoizedState,n);if(a&&(i.memoizedState=n,gn=!0),i=i.queue,bT(qz.bind(null,r,i,t),[t]),i.getSnapshot!==e||a||fn!==null&&fn.memoizedState.tag&1){if(r.flags|=2048,dh(9,{destroy:void 0},$z.bind(null,r,i,n,e),null),ut===null)throw Error(K(349));s||$a&127||Bz(r,e,n)}return n}function Bz(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ie.updateQueue,e===null?(e=pw(),Ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $z(t,e,n,r){e.value=n,e.getSnapshot=r,Hz(e)&&Gz(t)}function qz(t,e,n){return n(function(){Hz(e)&&Gz(t)})}function Hz(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ei(t,n)}catch{return!0}}function Gz(t){var e=Mu(t,2);e!==null&&Jr(e,t,2)}function h2(t){var e=Ar();if(typeof t=="function"){var n=t;if(t=n(),uu){Qo(!0);try{n()}finally{Qo(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:t},e}function Wz(t,e,n,r){return t.baseState=n,xT(t,st,typeof r=="function"?r:qa)}function vZ(t,e,n,r,i){if(vw(t))throw Error(K(485));if(t=e.action,t!==null){var s={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};Ne.T!==null?n(!0):s.isTransition=!1,r(s),n=e.pending,n===null?(s.next=e.pending=s,Kz(e,s)):(s.next=n.next,e.pending=n.next=s)}}function Kz(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var s=Ne.T,a={};Ne.T=a;try{var l=n(i,r),c=Ne.S;c!==null&&c(a,l),vO(t,e,l)}catch(u){f2(t,e,u)}finally{s!==null&&a.types!==null&&(s.types=a.types),Ne.T=s}}else try{s=n(i,r),vO(t,e,s)}catch(u){f2(t,e,u)}}function vO(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){xO(t,e,r)},function(r){return f2(t,e,r)}):xO(t,e,n)}function xO(t,e,n){e.status="fulfilled",e.value=n,Yz(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Kz(t,n)))}function f2(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,Yz(e),e=e.next;while(e!==r)}t.action=null}function Yz(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Qz(t,e){return e}function bO(t,e){if(Be){var n=ut.formState;if(n!==null){e:{var r=Ie;if(Be){if(wt){t:{for(var i=wt,s=Bi;i.nodeType!==8;){if(!s){i=null;break t}if(i=Wi(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){wt=Wi(i.nextSibling),r=i.data==="F!";break e}}_l(r)}r=!1}r&&(e=n[0])}}return n=Ar(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qz,lastRenderedState:e},n.queue=r,n=h9.bind(null,Ie,r),r.dispatch=n,r=h2(!1),s=ST.bind(null,Ie,!1,r.queue),r=Ar(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=vZ.bind(null,Ie,i,s,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function wO(t){var e=on();return Xz(e,st,t)}function Xz(t,e,n){if(e=xT(t,e,Qz)[0],t=vv(qa)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=ry(e)}catch(a){throw a===lf?mw:a}else r=e;e=on();var i=e.queue,s=i.dispatch;return n!==e.memoizedState&&(Ie.flags|=2048,dh(9,{destroy:void 0},xZ.bind(null,i,n),null)),[r,s,t]}function xZ(t,e){t.action=e}function _O(t){var e=on(),n=st;if(n!==null)return Xz(e,n,t);on(),e=e.memoizedState,n=on();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function dh(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=Ie.updateQueue,e===null&&(e=pw(),Ie.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Jz(){return on().memoizedState}function xv(t,e,n,r){var i=Ar();Ie.flags|=t,i.memoizedState=dh(1|e,{destroy:void 0},n,r===void 0?null:r)}function yw(t,e,n,r){var i=on();r=r===void 0?null:r;var s=i.memoizedState.inst;st!==null&&r!==null&&fT(r,st.memoizedState.deps)?i.memoizedState=dh(e,s,n,r):(Ie.flags|=t,i.memoizedState=dh(1|e,s,n,r))}function NO(t,e){xv(8390656,8,t,e)}function bT(t,e){yw(2048,8,t,e)}function bZ(t){Ie.flags|=4;var e=Ie.updateQueue;if(e===null)e=pw(),Ie.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function Zz(t){var e=on().memoizedState;return bZ({ref:e,nextImpl:t}),function(){if(We&2)throw Error(K(440));return e.impl.apply(void 0,arguments)}}function e9(t,e){return yw(4,2,t,e)}function t9(t,e){return yw(4,4,t,e)}function n9(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function r9(t,e,n){n=n!=null?n.concat([t]):null,yw(4,4,n9.bind(null,e,t),n)}function wT(){}function i9(t,e){var n=on();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&fT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function s9(t,e){var n=on();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&fT(e,r[1]))return r[0];if(r=t(),uu){Qo(!0);try{t()}finally{Qo(!1)}}return n.memoizedState=[r,e],r}function _T(t,e,n){return n===void 0||$a&1073741824&&!(Ve&261930)?t.memoizedState=e:(t.memoizedState=n,t=W9(),Ie.lanes|=t,Sl|=t,n)}function a9(t,e,n,r){return Ei(n,e)?n:uh.current!==null?(t=_T(t,n,r),Ei(t,e)||(gn=!0),t):!($a&42)||$a&1073741824&&!(Ve&261930)?(gn=!0,t.memoizedState=n):(t=W9(),Ie.lanes|=t,Sl|=t,e)}function o9(t,e,n,r,i){var s=Ke.p;Ke.p=s!==0&&8>s?s:8;var a=Ne.T,l={};Ne.T=l,ST(t,!1,e,n);try{var c=i(),u=Ne.S;if(u!==null&&u(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=pZ(c,r);lp(t,e,d,bi(t))}else lp(t,e,r,bi(t))}catch(h){lp(t,e,{then:function(){},status:"rejected",reason:h},bi())}finally{Ke.p=s,a!==null&&l.types!==null&&(a.types=l.types),Ne.T=a}}function wZ(){}function m2(t,e,n,r){if(t.tag!==5)throw Error(K(476));var i=l9(t).queue;o9(t,i,e,Bc,n===null?wZ:function(){return c9(t),n(r)})}function l9(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Bc,baseState:Bc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:Bc},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function c9(t){var e=l9(t);e.next===null&&(e=t.alternate.memoizedState),lp(t,e.next.queue,{},bi())}function NT(){return er(Kp)}function u9(){return on().memoizedState}function d9(){return on().memoizedState}function _Z(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=bi();t=al(n);var r=ol(e,t,n);r!==null&&(Jr(r,e,n),sp(r,e,n)),e={cache:lT()},t.payload=e;return}e=e.return}}function NZ(t,e,n){var r=bi();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},vw(t)?f9(e,n):(n=iT(t,e,n,r),n!==null&&(Jr(n,t,r),m9(n,e,r)))}function h9(t,e,n){var r=bi();lp(t,e,n,r)}function lp(t,e,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(vw(t))f9(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,Ei(l,a))return fw(t,e,i,0),ut===null&&hw(),!1}catch{}finally{}if(n=iT(t,e,i,r),n!==null)return Jr(n,t,r),m9(n,e,r),!0}return!1}function ST(t,e,n,r){if(r={lane:2,revertLane:RT(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},vw(t)){if(e)throw Error(K(479))}else e=iT(t,n,r,2),e!==null&&Jr(e,t,2)}function vw(t){var e=t.alternate;return t===Ie||e!==null&&e===Ie}function f9(t,e){Kd=ux=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function m9(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ZV(t,n)}}var Hp={readContext:er,use:gw,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useLayoutEffect:Ht,useInsertionEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useSyncExternalStore:Ht,useId:Ht,useHostTransitionStatus:Ht,useFormState:Ht,useActionState:Ht,useOptimistic:Ht,useMemoCache:Ht,useCacheRefresh:Ht};Hp.useEffectEvent=Ht;var p9={readContext:er,use:gw,useCallback:function(t,e){return Ar().memoizedState=[t,e===void 0?null:e],t},useContext:er,useEffect:NO,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,xv(4194308,4,n9.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xv(4194308,4,t,e)},useInsertionEffect:function(t,e){xv(4,2,t,e)},useMemo:function(t,e){var n=Ar();e=e===void 0?null:e;var r=t();if(uu){Qo(!0);try{t()}finally{Qo(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Ar();if(n!==void 0){var i=n(e);if(uu){Qo(!0);try{n(e)}finally{Qo(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=NZ.bind(null,Ie,t),[r.memoizedState,t]},useRef:function(t){var e=Ar();return t={current:t},e.memoizedState=t},useState:function(t){t=h2(t);var e=t.queue,n=h9.bind(null,Ie,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:wT,useDeferredValue:function(t,e){var n=Ar();return _T(n,t,e)},useTransition:function(){var t=h2(!1);return t=o9.bind(null,Ie,t.queue,!0,!1),Ar().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=Ie,i=Ar();if(Be){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),ut===null)throw Error(K(349));Ve&127||Bz(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,NO(qz.bind(null,r,s,t),[t]),r.flags|=2048,dh(9,{destroy:void 0},$z.bind(null,r,s,n,e),null),n},useId:function(){var t=Ar(),e=ut.identifierPrefix;if(Be){var n=Ms,r=Ds;n=(r&~(1<<32-xi(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=dx++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=gZ++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:NT,useFormState:bO,useActionState:bO,useOptimistic:function(t){var e=Ar();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=ST.bind(null,Ie,!0,n),n.dispatch=e,[t,e]},useMemoCache:vT,useCacheRefresh:function(){return Ar().memoizedState=_Z.bind(null,Ie)},useEffectEvent:function(t){var e=Ar(),n={impl:t};return e.memoizedState=n,function(){if(We&2)throw Error(K(440));return n.impl.apply(void 0,arguments)}}},ET={readContext:er,use:gw,useCallback:i9,useContext:er,useEffect:bT,useImperativeHandle:r9,useInsertionEffect:e9,useLayoutEffect:t9,useMemo:s9,useReducer:vv,useRef:Jz,useState:function(){return vv(qa)},useDebugValue:wT,useDeferredValue:function(t,e){var n=on();return a9(n,st.memoizedState,t,e)},useTransition:function(){var t=vv(qa)[0],e=on().memoizedState;return[typeof t=="boolean"?t:ry(t),e]},useSyncExternalStore:Fz,useId:u9,useHostTransitionStatus:NT,useFormState:wO,useActionState:wO,useOptimistic:function(t,e){var n=on();return Wz(n,st,t,e)},useMemoCache:vT,useCacheRefresh:d9};ET.useEffectEvent=Zz;var g9={readContext:er,use:gw,useCallback:i9,useContext:er,useEffect:bT,useImperativeHandle:r9,useInsertionEffect:e9,useLayoutEffect:t9,useMemo:s9,useReducer:aN,useRef:Jz,useState:function(){return aN(qa)},useDebugValue:wT,useDeferredValue:function(t,e){var n=on();return st===null?_T(n,t,e):a9(n,st.memoizedState,t,e)},useTransition:function(){var t=aN(qa)[0],e=on().memoizedState;return[typeof t=="boolean"?t:ry(t),e]},useSyncExternalStore:Fz,useId:u9,useHostTransitionStatus:NT,useFormState:_O,useActionState:_O,useOptimistic:function(t,e){var n=on();return st!==null?Wz(n,st,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:vT,useCacheRefresh:d9};g9.useEffectEvent=Zz;function oN(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var p2={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=bi(),i=al(r);i.payload=e,n!=null&&(i.callback=n),e=ol(t,i,r),e!==null&&(Jr(e,t,r),sp(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=bi(),i=al(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ol(t,i,r),e!==null&&(Jr(e,t,r),sp(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bi(),r=al(n);r.tag=2,e!=null&&(r.callback=e),e=ol(t,r,n),e!==null&&(Jr(e,t,n),sp(e,t,n))}};function SO(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Up(n,r)||!Up(i,s):!0}function EO(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&p2.enqueueReplaceState(e,e.state,null)}function du(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Tt({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function y9(t){rx(t)}function v9(t){console.error(t)}function x9(t){rx(t)}function hx(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function jO(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function g2(t,e,n){return n=al(n),n.tag=3,n.payload={element:null},n.callback=function(){hx(t,e)},n}function b9(t){return t=al(t),t.tag=3,t}function w9(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=r.value;t.payload=function(){return i(s)},t.callback=function(){jO(e,n,r)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){jO(e,n,r),typeof i!="function"&&(ll===null?ll=new Set([this]):ll.add(this));var l=r.stack;this.componentDidCatch(r.value,{componentStack:l!==null?l:""})})}function SZ(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&of(e,n,i,!0),n=ji.current,n!==null){switch(n.tag){case 31:case 13:return Gi===null?yx():n.alternate===null&&Kt===0&&(Kt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===ox?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),vN(t,r,i)),!1;case 22:return n.flags|=65536,r===ox?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),vN(t,r,i)),!1}throw Error(K(435,n.tag))}return vN(t,r,i),yx(),!1}if(Be)return e=ji.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==r2&&(t=Error(K(422),{cause:r}),Bp(Fi(t,n)))):(r!==r2&&(e=Error(K(423),{cause:r}),Bp(Fi(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=Fi(r,n),i=g2(t.stateNode,r,i),sN(t,i),Kt!==4&&(Kt=2)),!1;var s=Error(K(520),{cause:r});if(s=Fi(s,n),dp===null?dp=[s]:dp.push(s),Kt!==4&&(Kt=2),e===null)return!0;r=Fi(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=g2(n.stateNode,r,t),sN(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(ll===null||!ll.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=b9(i),w9(i,t,n,r),sN(n,i),!1}n=n.return}while(n!==null);return!1}var jT=Error(K(461)),gn=!1;function Yn(t,e,n,r){e.child=t===null?Dz(e,null,n,r):cu(e,t.child,n,r)}function TO(t,e,n,r,i){n=n.render;var s=e.ref;if("ref"in r){var a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}else a=r;return lu(e),r=mT(t,e,n,a,s,i),l=pT(),t!==null&&!gn?(gT(t,e,i),Ha(t,e,i)):(Be&&l&&aT(e),e.flags|=1,Yn(t,e,r,i),e.child)}function AO(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!sT(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,_9(t,e,s,r,i)):(t=gv(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!TT(t,i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Up,n(a,r)&&t.ref===e.ref)return Ha(t,e,i)}return e.flags|=1,t=Pa(s,r),t.ref=e.ref,t.return=e,e.child=t}function _9(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Up(s,r)&&t.ref===e.ref)if(gn=!1,e.pendingProps=r=s,TT(t,i))t.flags&131072&&(gn=!0);else return e.lanes=t.lanes,Ha(t,e,i)}return y2(t,e,n,r,i)}function N9(t,e,n,r){var i=r.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(s=s!==null?s.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~s}else r=0,e.child=null;return IO(t,e,s,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&yv(e,s!==null?s.cachePool:null),s!==null?yO(e,s):u2(),Vz(e);else return r=e.lanes=536870912,IO(t,e,s!==null?s.baseLanes|n:n,n,r)}else s!==null?(yv(e,s.cachePool),yO(e,s),Go(),e.memoizedState=null):(t!==null&&yv(e,null),u2(),Go());return Yn(t,e,i,n),e.child}function Um(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function IO(t,e,n,r,i){var s=cT();return s=s===null?null:{parent:pn._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&yv(e,null),u2(),Vz(e),t!==null&&of(t,e,r,!0),e.childLanes=i,null}function bv(t,e){return e=fx({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function CO(t,e,n){return cu(e,t.child,null,n),t=bv(e,e.pendingProps),t.flags|=2,ui(e),e.memoizedState=null,t}function EZ(t,e,n){var r=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Be){if(r.mode==="hidden")return t=bv(e,r),e.lanes=536870912,Um(null,t);if(d2(e),(t=wt)?(t=pU(t,Bi),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:wl!==null?{id:Ds,overflow:Ms}:null,retryLane:536870912,hydrationErrors:null},n=Az(t),n.return=e,e.child=n,Jn=e,wt=null)):t=null,t===null)throw _l(e);return e.lanes=536870912,null}return bv(e,r)}var s=t.memoizedState;if(s!==null){var a=s.dehydrated;if(d2(e),i)if(e.flags&256)e.flags&=-257,e=CO(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(K(558));else if(gn||of(t,e,n,!1),i=(n&t.childLanes)!==0,gn||i){if(r=ut,r!==null&&(a=ez(r,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,Mu(t,a),Jr(r,t,a),jT;yx(),e=CO(t,e,n)}else t=s.treeContext,wt=Wi(a.nextSibling),Jn=e,Be=!0,sl=null,Bi=!1,t!==null&&Cz(e,t),e=bv(e,r),e.flags|=4096;return e}return t=Pa(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function wv(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(K(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function y2(t,e,n,r,i){return lu(e),n=mT(t,e,n,r,void 0,i),r=pT(),t!==null&&!gn?(gT(t,e,i),Ha(t,e,i)):(Be&&r&&aT(e),e.flags|=1,Yn(t,e,n,i),e.child)}function PO(t,e,n,r,i,s){return lu(e),e.updateQueue=null,n=Uz(e,r,n,i),zz(t),r=pT(),t!==null&&!gn?(gT(t,e,s),Ha(t,e,s)):(Be&&r&&aT(e),e.flags|=1,Yn(t,e,n,s),e.child)}function kO(t,e,n,r,i){if(lu(e),e.stateNode===null){var s=Cd,a=n.contextType;typeof a=="object"&&a!==null&&(s=er(a)),s=new n(r,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=p2,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=r,s.state=e.memoizedState,s.refs={},dT(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?er(a):Cd,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(oN(e,n,a,r),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&p2.enqueueReplaceState(s,s.state,null),op(e,r,s,i),ap(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){s=e.stateNode;var l=e.memoizedProps,c=du(n,l);s.props=c;var u=s.context,d=n.contextType;a=Cd,typeof d=="object"&&d!==null&&(a=er(d));var h=n.getDerivedStateFromProps;d=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||u!==a)&&EO(e,s,r,a),Fo=!1;var f=e.memoizedState;s.state=f,op(e,r,s,i),ap(),u=e.memoizedState,l||f!==u||Fo?(typeof h=="function"&&(oN(e,n,h,r),u=e.memoizedState),(c=Fo||SO(e,n,c,r,f,u,a))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=a,r=c):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,l2(t,e),a=e.memoizedProps,d=du(n,a),s.props=d,h=e.pendingProps,f=s.context,u=n.contextType,c=Cd,typeof u=="object"&&u!==null&&(c=er(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||f!==c)&&EO(e,s,r,c),Fo=!1,f=e.memoizedState,s.state=f,op(e,r,s,i),ap();var m=e.memoizedState;a!==h||f!==m||Fo||t!==null&&t.dependencies!==null&&ax(t.dependencies)?(typeof l=="function"&&(oN(e,n,l,r),m=e.memoizedState),(d=Fo||SO(e,n,d,r,f,m,c)||t!==null&&t.dependencies!==null&&ax(t.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=c,r=d):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return s=r,wv(t,e),r=(e.flags&128)!==0,s||r?(s=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&r?(e.child=cu(e,t.child,null,i),e.child=cu(e,null,n,i)):Yn(t,e,n,i),e.memoizedState=s.state,t=e.child):t=Ha(t,e,i),t}function RO(t,e,n,r){return ou(),e.flags|=256,Yn(t,e,n,r),e.child}var lN={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cN(t){return{baseLanes:t,cachePool:kz()}}function uN(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=pi),t}function S9(t,e,n){var r=e.pendingProps,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(rn.current&2)!==0),a&&(i=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(Be){if(i?Ho(e):Go(),(t=wt)?(t=pU(t,Bi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:wl!==null?{id:Ds,overflow:Ms}:null,retryLane:536870912,hydrationErrors:null},n=Az(t),n.return=e,e.child=n,Jn=e,wt=null)):t=null,t===null)throw _l(e);return P2(t)?e.lanes=32:e.lanes=536870912,null}var l=r.children;return r=r.fallback,i?(Go(),i=e.mode,l=fx({mode:"hidden",children:l},i),r=$c(r,i,n,null),l.return=e,r.return=e,l.sibling=r,e.child=l,r=e.child,r.memoizedState=cN(n),r.childLanes=uN(t,a,n),e.memoizedState=lN,Um(null,r)):(Ho(e),v2(e,l))}var c=t.memoizedState;if(c!==null&&(l=c.dehydrated,l!==null)){if(s)e.flags&256?(Ho(e),e.flags&=-257,e=dN(t,e,n)):e.memoizedState!==null?(Go(),e.child=t.child,e.flags|=128,e=null):(Go(),l=r.fallback,i=e.mode,r=fx({mode:"visible",children:r.children},i),l=$c(l,i,n,null),l.flags|=2,r.return=e,l.return=e,r.sibling=l,e.child=r,cu(e,t.child,null,n),r=e.child,r.memoizedState=cN(n),r.childLanes=uN(t,a,n),e.memoizedState=lN,e=Um(null,r));else if(Ho(e),P2(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var u=a.dgst;a=u,r=Error(K(419)),r.stack="",r.digest=a,Bp({value:r,source:null,stack:null}),e=dN(t,e,n)}else if(gn||of(t,e,n,!1),a=(n&t.childLanes)!==0,gn||a){if(a=ut,a!==null&&(r=ez(a,n),r!==0&&r!==c.retryLane))throw c.retryLane=r,Mu(t,r),Jr(a,t,r),jT;C2(l)||yx(),e=dN(t,e,n)}else C2(l)?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,wt=Wi(l.nextSibling),Jn=e,Be=!0,sl=null,Bi=!1,t!==null&&Cz(e,t),e=v2(e,r.children),e.flags|=4096);return e}return i?(Go(),l=r.fallback,i=e.mode,c=t.child,u=c.sibling,r=Pa(c,{mode:"hidden",children:r.children}),r.subtreeFlags=c.subtreeFlags&65011712,u!==null?l=Pa(u,l):(l=$c(l,i,n,null),l.flags|=2),l.return=e,r.return=e,r.sibling=l,e.child=r,Um(null,r),r=e.child,l=t.child.memoizedState,l===null?l=cN(n):(i=l.cachePool,i!==null?(c=pn._currentValue,i=i.parent!==c?{parent:c,pool:c}:i):i=kz(),l={baseLanes:l.baseLanes|n,cachePool:i}),r.memoizedState=l,r.childLanes=uN(t,a,n),e.memoizedState=lN,Um(t.child,r)):(Ho(e),n=t.child,t=n.sibling,n=Pa(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function v2(t,e){return e=fx({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function fx(t,e){return t=hi(22,t,null,e),t.lanes=0,t}function dN(t,e,n){return cu(e,t.child,null,n),t=v2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function OO(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),s2(t.return,e,n)}function hN(t,e,n,r,i,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.treeForkCount=s)}function E9(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;r=r.children;var a=rn.current,l=(a&2)!==0;if(l?(a=a&1|2,e.flags|=128):a&=1,mt(rn,a),Yn(t,e,r,n),r=Be?Fp:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&OO(t,n,e);else if(t.tag===19)OO(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&cx(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),hN(e,!1,i,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&cx(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}hN(e,!0,n,null,s,r);break;case"together":hN(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Ha(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Sl|=e.lanes,!(n&e.childLanes))if(t!==null){if(of(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=Pa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Pa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function TT(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&ax(t)))}function jZ(t,e,n){switch(e.tag){case 3:Zv(e,e.stateNode.containerInfo),qo(e,pn,t.memoizedState.cache),ou();break;case 27:case 5:GS(e);break;case 4:Zv(e,e.stateNode.containerInfo);break;case 10:qo(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,d2(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Ho(e),e.flags|=128,null):n&e.child.childLanes?S9(t,e,n):(Ho(e),t=Ha(t,e,n),t!==null?t.sibling:null);Ho(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(of(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return E9(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),mt(rn,rn.current),r)break;return null;case 22:return e.lanes=0,N9(t,e,n,e.pendingProps);case 24:qo(e,pn,t.memoizedState.cache)}return Ha(t,e,n)}function j9(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)gn=!0;else{if(!TT(t,n)&&!(e.flags&128))return gn=!1,jZ(t,e,n);gn=!!(t.flags&131072)}else gn=!1,Be&&e.flags&1048576&&Iz(e,Fp,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=yc(e.elementType),e.type=t,typeof t=="function")sT(t)?(r=du(t,r),e.tag=1,e=kO(null,e,t,r,n)):(e.tag=0,e=y2(null,e,t,r,n));else{if(t!=null){var i=t.$$typeof;if(i===Hj){e.tag=11,e=TO(null,e,t,r,n);break e}else if(i===Gj){e.tag=14,e=AO(null,e,t,r,n);break e}}throw e=qS(t)||t,Error(K(306,e,""))}}return e;case 0:return y2(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=du(r,e.pendingProps),kO(t,e,r,i,n);case 3:e:{if(Zv(e,e.stateNode.containerInfo),t===null)throw Error(K(387));r=e.pendingProps;var s=e.memoizedState;i=s.element,l2(t,e),op(e,r,null,n);var a=e.memoizedState;if(r=a.cache,qo(e,pn,r),r!==s.cache&&a2(e,[pn],n,!0),ap(),r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=RO(t,e,r,n);break e}else if(r!==i){i=Fi(Error(K(424)),e),Bp(i),e=RO(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(wt=Wi(t.firstChild),Jn=e,Be=!0,sl=null,Bi=!0,n=Dz(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ou(),r===i){e=Ha(t,e,n);break e}Yn(t,e,r,n)}e=e.child}return e;case 26:return wv(t,e),t===null?(n=eD(e.type,null,e.pendingProps,null))?e.memoizedState=n:Be||(n=e.type,t=e.pendingProps,r=wx(il.current).createElement(n),r[Xn]=e,r[Zr]=t,nr(r,n,t),Ln(r),e.stateNode=r):e.memoizedState=eD(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return GS(e),t===null&&Be&&(r=e.stateNode=gU(e.type,e.pendingProps,il.current),Jn=e,Bi=!0,i=wt,ql(e.type)?(k2=i,wt=Wi(r.firstChild)):wt=i),Yn(t,e,e.pendingProps.children,n),wv(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Be&&((i=r=wt)&&(r=nee(r,e.type,e.pendingProps,Bi),r!==null?(e.stateNode=r,Jn=e,wt=Wi(r.firstChild),Bi=!1,i=!0):i=!1),i||_l(e)),GS(e),i=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,r=s.children,A2(i,s)?r=null:a!==null&&A2(i,a)&&(e.flags|=32),e.memoizedState!==null&&(i=mT(t,e,yZ,null,null,n),Kp._currentValue=i),wv(t,e),Yn(t,e,r,n),e.child;case 6:return t===null&&Be&&((t=n=wt)&&(n=ree(n,e.pendingProps,Bi),n!==null?(e.stateNode=n,Jn=e,wt=null,t=!0):t=!1),t||_l(e)),null;case 13:return S9(t,e,n);case 4:return Zv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=cu(e,null,r,n):Yn(t,e,r,n),e.child;case 11:return TO(t,e,e.type,e.pendingProps,n);case 7:return Yn(t,e,e.pendingProps,n),e.child;case 8:return Yn(t,e,e.pendingProps.children,n),e.child;case 12:return Yn(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,qo(e,e.type,r.value),Yn(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,lu(e),i=er(i),r=r(i),e.flags|=1,Yn(t,e,r,n),e.child;case 14:return AO(t,e,e.type,e.pendingProps,n);case 15:return _9(t,e,e.type,e.pendingProps,n);case 19:return E9(t,e,n);case 31:return EZ(t,e,n);case 22:return N9(t,e,n,e.pendingProps);case 24:return lu(e),r=er(pn),t===null?(i=cT(),i===null&&(i=ut,s=lT(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),e.memoizedState={parent:r,cache:i},dT(e),qo(e,pn,i)):(t.lanes&n&&(l2(t,e),op(e,null,null,n),ap()),i=t.memoizedState,s=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),qo(e,pn,r)):(r=s.cache,qo(e,pn,r),r!==i.cache&&a2(e,[pn],n,!0))),Yn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(K(156,e.tag))}function ha(t){t.flags|=4}function fN(t,e,n,r,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(Q9())t.flags|=8192;else throw Hc=ox,uT}else t.flags&=-16777217}function DO(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!xU(e))if(Q9())t.flags|=8192;else throw Hc=ox,uT}function j0(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?XV():536870912,t.lanes|=e,hh|=e)}function dm(t,e){if(!Be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function TZ(t,e,n){var r=e.pendingProps;switch(oT(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(e),null;case 1:return xt(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),ka(pn),ah(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ed(e)?ha(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,iN())),xt(e),null;case 26:var i=e.type,s=e.memoizedState;return t===null?(ha(e),s!==null?(xt(e),DO(e,s)):(xt(e),fN(e,i,null,r,n))):s?s!==t.memoizedState?(ha(e),xt(e),DO(e,s)):(xt(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&ha(e),xt(e),fN(e,i,t,r,n)),null;case 27:if(ex(e),n=il.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&ha(e);else{if(!r){if(e.stateNode===null)throw Error(K(166));return xt(e),null}t=$s.current,ed(e)?uO(e):(t=gU(i,r,n),e.stateNode=t,ha(e))}return xt(e),null;case 5:if(ex(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&ha(e);else{if(!r){if(e.stateNode===null)throw Error(K(166));return xt(e),null}if(s=$s.current,ed(e))uO(e);else{var a=wx(il.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof r.is=="string"?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s=typeof r.is=="string"?a.createElement(i,{is:r.is}):a.createElement(i)}}s[Xn]=e,s[Zr]=r;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=s;e:switch(nr(s,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ha(e)}}return xt(e),fN(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&ha(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(t=il.current,ed(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=Jn,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[Xn]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||hU(t.nodeValue,n)),t||_l(e,!0)}else t=wx(t).createTextNode(r),t[Xn]=e,e.stateNode=t}return xt(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=ed(e),n!==null){if(t===null){if(!r)throw Error(K(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(557));t[Xn]=e}else ou(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xt(e),t=!1}else n=iN(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(ui(e),e):(ui(e),null);if(e.flags&128)throw Error(K(558))}return xt(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=ed(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(K(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[Xn]=e}else ou(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xt(e),i=!1}else i=iN(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(ui(e),e):(ui(e),null)}return ui(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),j0(e,e.updateQueue),xt(e),null);case 4:return ah(),t===null&&OT(e.stateNode.containerInfo),xt(e),null;case 10:return ka(e.type),xt(e),null;case 19:if(zn(rn),r=e.memoizedState,r===null)return xt(e),null;if(i=(e.flags&128)!==0,s=r.rendering,s===null)if(i)dm(r,!1);else{if(Kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=cx(t),s!==null){for(e.flags|=128,dm(r,!1),t=s.updateQueue,e.updateQueue=t,j0(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Tz(n,t),n=n.sibling;return mt(rn,rn.current&1|2),Be&&ya(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&yi()>px&&(e.flags|=128,i=!0,dm(r,!1),e.lanes=4194304)}else{if(!i)if(t=cx(s),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,j0(e,t),dm(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!Be)return xt(e),null}else 2*yi()-r.renderingStartTime>px&&n!==536870912&&(e.flags|=128,i=!0,dm(r,!1),e.lanes=4194304);r.isBackwards?(s.sibling=e.child,e.child=s):(t=r.last,t!==null?t.sibling=s:e.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=yi(),t.sibling=null,n=rn.current,mt(rn,i?n&1|2:n&1),Be&&ya(e,r.treeForkCount),t):(xt(e),null);case 22:case 23:return ui(e),hT(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(xt(e),e.subtreeFlags&6&&(e.flags|=8192)):xt(e),n=e.updateQueue,n!==null&&j0(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&zn(qc),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),ka(pn),xt(e),null;case 25:return null;case 30:return null}throw Error(K(156,e.tag))}function AZ(t,e){switch(oT(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ka(pn),ah(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return ex(e),null;case 31:if(e.memoizedState!==null){if(ui(e),e.alternate===null)throw Error(K(340));ou()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(ui(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));ou()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return zn(rn),null;case 4:return ah(),null;case 10:return ka(e.type),null;case 22:case 23:return ui(e),hT(),t!==null&&zn(qc),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return ka(pn),null;case 25:return null;default:return null}}function T9(t,e){switch(oT(e),e.tag){case 3:ka(pn),ah();break;case 26:case 27:case 5:ex(e);break;case 4:ah();break;case 31:e.memoizedState!==null&&ui(e);break;case 13:ui(e);break;case 19:zn(rn);break;case 10:ka(e.type);break;case 22:case 23:ui(e),hT(),t!==null&&zn(qc);break;case 24:ka(pn)}}function iy(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(l){et(e,e.return,l)}}function Nl(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var s=i.next;r=s;do{if((r.tag&t)===t){var a=r.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,i=e;var c=n,u=l;try{u()}catch(d){et(i,c,d)}}}r=r.next}while(r!==s)}}catch(d){et(e,e.return,d)}}function A9(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Lz(e,n)}catch(r){et(t,t.return,r)}}}function I9(t,e,n){n.props=du(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){et(t,e,r)}}function cp(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){et(t,e,i)}}function Ls(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){et(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){et(t,e,i)}else n.current=null}function C9(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){et(t,t.return,i)}}function mN(t,e,n){try{var r=t.stateNode;QZ(r,t.type,n,e),r[Zr]=e}catch(i){et(t,t.return,i)}}function P9(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ql(t.type)||t.tag===4}function pN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||P9(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ql(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function x2(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Sa));else if(r!==4&&(r===27&&ql(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(x2(t,e,n),t=t.sibling;t!==null;)x2(t,e,n),t=t.sibling}function mx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&ql(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(mx(t,e,n),t=t.sibling;t!==null;)mx(t,e,n),t=t.sibling}function k9(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);nr(e,r,n),e[Xn]=t,e[Zr]=n}catch(s){et(t,t.return,s)}}var va=!1,mn=!1,gN=!1,MO=typeof WeakSet=="function"?WeakSet:Set,Dn=null;function IZ(t,e){if(t=t.containerInfo,j2=Ex,t=xz(t),nT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(l=a+i),h!==s||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===i&&(l=a),f===s&&++d===r&&(c=a),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(T2={focusedElem:t,selectionRange:n},Ex=!1,Dn=e;Dn!==null;)if(e=Dn,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Dn=t;else for(;Dn!==null;){switch(e=Dn,s=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var y=du(n.type,i);t=r.getSnapshotBeforeUpdate(y,s),r.__reactInternalSnapshotBeforeUpdate=t}catch(v){et(n,n.return,v)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)I2(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":I2(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(K(163))}if(t=e.sibling,t!==null){t.return=e.return,Dn=t;break}Dn=e.return}}function R9(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:ma(t,n),r&4&&iy(5,n);break;case 1:if(ma(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){et(n,n.return,a)}else{var i=du(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){et(n,n.return,a)}}r&64&&A9(n),r&512&&cp(n,n.return);break;case 3:if(ma(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Lz(t,e)}catch(a){et(n,n.return,a)}}break;case 27:e===null&&r&4&&k9(n);case 26:case 5:ma(t,n),e===null&&r&4&&C9(n),r&512&&cp(n,n.return);break;case 12:ma(t,n);break;case 31:ma(t,n),r&4&&M9(t,n);break;case 13:ma(t,n),r&4&&L9(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=VZ.bind(null,n),iee(t,n))));break;case 22:if(r=n.memoizedState!==null||va,!r){e=e!==null&&e.memoizedState!==null||mn,i=va;var s=mn;va=r,(mn=e)&&!s?pa(t,n,(n.subtreeFlags&8772)!==0):ma(t,n),va=i,mn=s}break;case 30:break;default:ma(t,n)}}function O9(t){var e=t.alternate;e!==null&&(t.alternate=null,O9(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Qj(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ct=null,qr=!1;function fa(t,e,n){for(n=n.child;n!==null;)D9(t,e,n),n=n.sibling}function D9(t,e,n){if(vi&&typeof vi.onCommitFiberUnmount=="function")try{vi.onCommitFiberUnmount(Xg,n)}catch{}switch(n.tag){case 26:mn||Ls(n,e),fa(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:mn||Ls(n,e);var r=Ct,i=qr;ql(n.type)&&(Ct=n.stateNode,qr=!1),fa(t,e,n),fp(n.stateNode),Ct=r,qr=i;break;case 5:mn||Ls(n,e);case 6:if(r=Ct,i=qr,Ct=null,fa(t,e,n),Ct=r,qr=i,Ct!==null)if(qr)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(n.stateNode)}catch(s){et(n,e,s)}else try{Ct.removeChild(n.stateNode)}catch(s){et(n,e,s)}break;case 18:Ct!==null&&(qr?(t=Ct,YO(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),gh(t)):YO(Ct,n.stateNode));break;case 4:r=Ct,i=qr,Ct=n.stateNode.containerInfo,qr=!0,fa(t,e,n),Ct=r,qr=i;break;case 0:case 11:case 14:case 15:Nl(2,n,e),mn||Nl(4,n,e),fa(t,e,n);break;case 1:mn||(Ls(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&I9(n,e,r)),fa(t,e,n);break;case 21:fa(t,e,n);break;case 22:mn=(r=mn)||n.memoizedState!==null,fa(t,e,n),mn=r;break;default:fa(t,e,n)}}function M9(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{gh(t)}catch(n){et(e,e.return,n)}}}function L9(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{gh(t)}catch(n){et(e,e.return,n)}}function CZ(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new MO),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new MO),e;default:throw Error(K(435,t.tag))}}function T0(t,e){var n=CZ(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var i=zZ.bind(null,t,r);r.then(i,i)}})}function Br(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(ql(l.type)){Ct=l.stateNode,qr=!1;break e}break;case 5:Ct=l.stateNode,qr=!1;break e;case 3:case 4:Ct=l.stateNode.containerInfo,qr=!0;break e}l=l.return}if(Ct===null)throw Error(K(160));D9(s,a,i),Ct=null,qr=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)V9(e,t),e=e.sibling}var ls=null;function V9(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Br(e,t),$r(t),r&4&&(Nl(3,t,t.return),iy(3,t),Nl(5,t,t.return));break;case 1:Br(e,t),$r(t),r&512&&(mn||n===null||Ls(n,n.return)),r&64&&va&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=ls;if(Br(e,t),$r(t),r&512&&(mn||n===null||Ls(n,n.return)),r&4){var s=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":s=i.getElementsByTagName("title")[0],(!s||s[ey]||s[Xn]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),nr(s,r,n),s[Xn]=t,Ln(s),r=s;break e;case"link":var a=nD("link","href",i).get(r+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}s=i.createElement(r),nr(s,r,n),i.head.appendChild(s);break;case"meta":if(a=nD("meta","content",i).get(r+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}s=i.createElement(r),nr(s,r,n),i.head.appendChild(s);break;default:throw Error(K(468,r))}s[Xn]=t,Ln(s),r=s}t.stateNode=r}else rD(i,t.type,t.stateNode);else t.stateNode=tD(i,r,t.memoizedProps);else s!==r?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,r===null?rD(i,t.type,t.stateNode):tD(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&mN(t,t.memoizedProps,n.memoizedProps)}break;case 27:Br(e,t),$r(t),r&512&&(mn||n===null||Ls(n,n.return)),n!==null&&r&4&&mN(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Br(e,t),$r(t),r&512&&(mn||n===null||Ls(n,n.return)),t.flags&32){i=t.stateNode;try{lh(i,"")}catch(y){et(t,t.return,y)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,mN(t,i,n!==null?n.memoizedProps:i)),r&1024&&(gN=!0);break;case 6:if(Br(e,t),$r(t),r&4){if(t.stateNode===null)throw Error(K(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(y){et(t,t.return,y)}}break;case 3:if(Sv=null,i=ls,ls=_x(e.containerInfo),Br(e,t),ls=i,$r(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gh(e.containerInfo)}catch(y){et(t,t.return,y)}gN&&(gN=!1,z9(t));break;case 4:r=ls,ls=_x(t.stateNode.containerInfo),Br(e,t),$r(t),ls=r;break;case 12:Br(e,t),$r(t);break;case 31:Br(e,t),$r(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,T0(t,r)));break;case 13:Br(e,t),$r(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(xw=yi()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,T0(t,r)));break;case 22:i=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=va,d=mn;if(va=u||i,mn=d||c,Br(e,t),mn=d,va=u,$r(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||c||va||mn||vc(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(s=c.stateNode,i)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=h!=null&&h.hasOwnProperty("display")?h.display:null;l.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(y){et(c,c.return,y)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(y){et(c,c.return,y)}}}else if(e.tag===18){if(n===null){c=e;try{var m=c.stateNode;i?QO(m,!0):QO(c.stateNode,!1)}catch(y){et(c,c.return,y)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,T0(t,n))));break;case 19:Br(e,t),$r(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,T0(t,r)));break;case 30:break;case 21:break;default:Br(e,t),$r(t)}}function $r(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(P9(r)){n=r;break}r=r.return}if(n==null)throw Error(K(160));switch(n.tag){case 27:var i=n.stateNode,s=pN(t);mx(t,s,i);break;case 5:var a=n.stateNode;n.flags&32&&(lh(a,""),n.flags&=-33);var l=pN(t);mx(t,l,a);break;case 3:case 4:var c=n.stateNode.containerInfo,u=pN(t);x2(t,u,c);break;default:throw Error(K(161))}}catch(d){et(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function z9(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;z9(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ma(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)R9(t,e.alternate,e),e=e.sibling}function vc(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Nl(4,e,e.return),vc(e);break;case 1:Ls(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&I9(e,e.return,n),vc(e);break;case 27:fp(e.stateNode);case 26:case 5:Ls(e,e.return),vc(e);break;case 22:e.memoizedState===null&&vc(e);break;case 30:vc(e);break;default:vc(e)}t=t.sibling}}function pa(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:pa(i,s,n),iy(4,s);break;case 1:if(pa(i,s,n),r=s,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){et(r,r.return,u)}if(r=s,i=r.updateQueue,i!==null){var l=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)Mz(c[i],l)}catch(u){et(r,r.return,u)}}n&&a&64&&A9(s),cp(s,s.return);break;case 27:k9(s);case 26:case 5:pa(i,s,n),n&&r===null&&a&4&&C9(s),cp(s,s.return);break;case 12:pa(i,s,n);break;case 31:pa(i,s,n),n&&a&4&&M9(i,s);break;case 13:pa(i,s,n),n&&a&4&&L9(i,s);break;case 22:s.memoizedState===null&&pa(i,s,n),cp(s,s.return);break;case 30:break;default:pa(i,s,n)}e=e.sibling}}function AT(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&ny(n))}function IT(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ny(t))}function as(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)U9(t,e,n,r),e=e.sibling}function U9(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:as(t,e,n,r),i&2048&&iy(9,e);break;case 1:as(t,e,n,r);break;case 3:as(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ny(t)));break;case 12:if(i&2048){as(t,e,n,r),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){et(e,e.return,c)}}else as(t,e,n,r);break;case 31:as(t,e,n,r);break;case 13:as(t,e,n,r);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?as(t,e,n,r):up(t,e):s._visibility&2?as(t,e,n,r):(s._visibility|=2,pd(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),i&2048&&AT(a,e);break;case 24:as(t,e,n,r),i&2048&&IT(e.alternate,e);break;default:as(t,e,n,r)}}function pd(t,e,n,r,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,a=e,l=n,c=r,u=a.flags;switch(a.tag){case 0:case 11:case 15:pd(s,a,l,c,i),iy(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?pd(s,a,l,c,i):up(s,a):(d._visibility|=2,pd(s,a,l,c,i)),i&&u&2048&&AT(a.alternate,a);break;case 24:pd(s,a,l,c,i),i&&u&2048&&IT(a.alternate,a);break;default:pd(s,a,l,c,i)}e=e.sibling}}function up(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:up(n,r),i&2048&&AT(r.alternate,r);break;case 24:up(n,r),i&2048&&IT(r.alternate,r);break;default:up(n,r)}e=e.sibling}}var Fm=8192;function td(t,e,n){if(t.subtreeFlags&Fm)for(t=t.child;t!==null;)F9(t,e,n),t=t.sibling}function F9(t,e,n){switch(t.tag){case 26:td(t,e,n),t.flags&Fm&&t.memoizedState!==null&&gee(n,ls,t.memoizedState,t.memoizedProps);break;case 5:td(t,e,n);break;case 3:case 4:var r=ls;ls=_x(t.stateNode.containerInfo),td(t,e,n),ls=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Fm,Fm=16777216,td(t,e,n),Fm=r):td(t,e,n));break;default:td(t,e,n)}}function B9(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function hm(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Dn=r,q9(r,t)}B9(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)$9(t),t=t.sibling}function $9(t){switch(t.tag){case 0:case 11:case 15:hm(t),t.flags&2048&&Nl(9,t,t.return);break;case 3:hm(t);break;case 12:hm(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,_v(t)):hm(t);break;default:hm(t)}}function _v(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Dn=r,q9(r,t)}B9(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Nl(8,e,e.return),_v(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,_v(e));break;default:_v(e)}t=t.sibling}}function q9(t,e){for(;Dn!==null;){var n=Dn;switch(n.tag){case 0:case 11:case 15:Nl(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ny(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Dn=r;else e:for(n=t;Dn!==null;){r=Dn;var i=r.sibling,s=r.return;if(O9(r),r===n){Dn=null;break e}if(i!==null){i.return=s,Dn=i;break e}Dn=s}}}var PZ={getCacheForType:function(t){var e=er(pn),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return er(pn).controller.signal}},kZ=typeof WeakMap=="function"?WeakMap:Map,We=0,ut=null,De=null,Ve=0,Je=0,oi=null,Jo=!1,cf=!1,CT=!1,Ga=0,Kt=0,Sl=0,Gc=0,PT=0,pi=0,hh=0,dp=null,Hr=null,b2=!1,xw=0,H9=0,px=1/0,gx=null,ll=null,Sn=0,cl=null,fh=null,Ra=0,w2=0,_2=null,G9=null,hp=0,N2=null;function bi(){return We&2&&Ve!==0?Ve&-Ve:Ne.T!==null?RT():tz()}function W9(){if(pi===0)if(!(Ve&536870912)||Be){var t=x0;x0<<=1,!(x0&3932160)&&(x0=262144),pi=t}else pi=536870912;return t=ji.current,t!==null&&(t.flags|=32),pi}function Jr(t,e,n){(t===ut&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(mh(t,0),Zo(t,Ve,pi,!1)),Zg(t,n),(!(We&2)||t!==ut)&&(t===ut&&(!(We&2)&&(Gc|=n),Kt===4&&Zo(t,Ve,pi,!1)),la(t))}function K9(t,e,n){if(We&6)throw Error(K(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Jg(t,e),i=r?DZ(t,e):yN(t,e,!0),s=r;do{if(i===0){cf&&!r&&Zo(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!RZ(n)){i=yN(t,e,!1),s=!1;continue}if(i===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;i=dp;var c=l.current.memoizedState.isDehydrated;if(c&&(mh(l,a).flags|=256),a=yN(l,a,!1),a!==2){if(CT&&!c){l.errorRecoveryDisabledLanes|=s,Gc|=s,i=4;break e}s=Hr,Hr=i,s!==null&&(Hr===null?Hr=s:Hr.push.apply(Hr,s))}i=a}if(s=!1,i!==2)continue}}if(i===1){mh(t,0),Zo(t,e,0,!0);break}e:{switch(r=t,s=i,s){case 0:case 1:throw Error(K(345));case 4:if((e&4194048)!==e)break;case 6:Zo(r,e,pi,!Jo);break e;case 2:Hr=null;break;case 3:case 5:break;default:throw Error(K(329))}if((e&62914560)===e&&(i=xw+300-yi(),10<i)){if(Zo(r,e,pi,!Jo),lw(r,0,!0)!==0)break e;Ra=e,r.timeoutHandle=mU(LO.bind(null,r,n,Hr,gx,b2,e,pi,Gc,hh,Jo,s,"Throttled",-0,0),i);break e}LO(r,n,Hr,gx,b2,e,pi,Gc,hh,Jo,s,null,-0,0)}}break}while(!0);la(t)}function LO(t,e,n,r,i,s,a,l,c,u,d,h,f,m){if(t.timeoutHandle=-1,h=e.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sa},F9(e,s,h);var y=(s&62914560)===s?xw-yi():(s&4194048)===s?H9-yi():0;if(y=yee(h,y),y!==null){Ra=s,t.cancelPendingCommit=y(zO.bind(null,t,e,s,n,r,i,a,l,c,d,h,null,f,m)),Zo(t,s,a,!u);return}}zO(t,e,s,n,r,i,a,l,c)}function RZ(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ei(s(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zo(t,e,n,r){e&=~PT,e&=~Gc,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var s=31-xi(i),a=1<<s;r[s]=-1,i&=~a}n!==0&&JV(t,n,e)}function bw(){return We&6?!0:(sy(0),!1)}function kT(){if(De!==null){if(Je===0)var t=De.return;else t=De,Ea=Lu=null,yT(t),Wd=null,$p=0,t=De;for(;t!==null;)T9(t.alternate,t),t=t.return;De=null}}function mh(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,ZZ(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Ra=0,kT(),ut=t,De=n=Pa(t.current,null),Ve=e,Je=0,oi=null,Jo=!1,cf=Jg(t,e),CT=!1,hh=pi=PT=Gc=Sl=Kt=0,Hr=dp=null,b2=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-xi(r),s=1<<i;e|=t[i],r&=~s}return Ga=e,hw(),n}function Y9(t,e){Ie=null,Ne.H=Hp,e===lf||e===mw?(e=pO(),Je=3):e===uT?(e=pO(),Je=4):Je=e===jT?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,oi=e,De===null&&(Kt=1,hx(t,Fi(e,t.current)))}function Q9(){var t=ji.current;return t===null?!0:(Ve&4194048)===Ve?Gi===null:(Ve&62914560)===Ve||Ve&536870912?t===Gi:!1}function X9(){var t=Ne.H;return Ne.H=Hp,t===null?Hp:t}function J9(){var t=Ne.A;return Ne.A=PZ,t}function yx(){Kt=4,Jo||(Ve&4194048)!==Ve&&ji.current!==null||(cf=!0),!(Sl&134217727)&&!(Gc&134217727)||ut===null||Zo(ut,Ve,pi,!1)}function yN(t,e,n){var r=We;We|=2;var i=X9(),s=J9();(ut!==t||Ve!==e)&&(gx=null,mh(t,e)),e=!1;var a=Kt;e:do try{if(Je!==0&&De!==null){var l=De,c=oi;switch(Je){case 8:kT(),a=6;break e;case 3:case 2:case 9:case 6:ji.current===null&&(e=!0);var u=Je;if(Je=0,oi=null,Rd(t,l,c,u),n&&cf){a=0;break e}break;default:u=Je,Je=0,oi=null,Rd(t,l,c,u)}}OZ(),a=Kt;break}catch(d){Y9(t,d)}while(!0);return e&&t.shellSuspendCounter++,Ea=Lu=null,We=r,Ne.H=i,Ne.A=s,De===null&&(ut=null,Ve=0,hw()),a}function OZ(){for(;De!==null;)Z9(De)}function DZ(t,e){var n=We;We|=2;var r=X9(),i=J9();ut!==t||Ve!==e?(gx=null,px=yi()+500,mh(t,e)):cf=Jg(t,e);e:do try{if(Je!==0&&De!==null){e=De;var s=oi;t:switch(Je){case 1:Je=0,oi=null,Rd(t,e,s,1);break;case 2:case 9:if(mO(s)){Je=0,oi=null,VO(e);break}e=function(){Je!==2&&Je!==9||ut!==t||(Je=7),la(t)},s.then(e,e);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:mO(s)?(Je=0,oi=null,VO(e)):(Je=0,oi=null,Rd(t,e,s,7));break;case 5:var a=null;switch(De.tag){case 26:a=De.memoizedState;case 5:case 27:var l=De;if(a?xU(a):l.stateNode.complete){Je=0,oi=null;var c=l.sibling;if(c!==null)De=c;else{var u=l.return;u!==null?(De=u,ww(u)):De=null}break t}}Je=0,oi=null,Rd(t,e,s,5);break;case 6:Je=0,oi=null,Rd(t,e,s,6);break;case 8:kT(),Kt=6;break e;default:throw Error(K(462))}}MZ();break}catch(d){Y9(t,d)}while(!0);return Ea=Lu=null,Ne.H=r,Ne.A=i,We=n,De!==null?0:(ut=null,Ve=0,hw(),Kt)}function MZ(){for(;De!==null&&!sJ();)Z9(De)}function Z9(t){var e=j9(t.alternate,t,Ga);t.memoizedProps=t.pendingProps,e===null?ww(t):De=e}function VO(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=PO(n,e,e.pendingProps,e.type,void 0,Ve);break;case 11:e=PO(n,e,e.pendingProps,e.type.render,e.ref,Ve);break;case 5:yT(e);default:T9(n,e),e=De=Tz(e,Ga),e=j9(n,e,Ga)}t.memoizedProps=t.pendingProps,e===null?ww(t):De=e}function Rd(t,e,n,r){Ea=Lu=null,yT(e),Wd=null,$p=0;var i=e.return;try{if(SZ(t,i,e,n,Ve)){Kt=1,hx(t,Fi(n,t.current)),De=null;return}}catch(s){if(i!==null)throw De=i,s;Kt=1,hx(t,Fi(n,t.current)),De=null;return}e.flags&32768?(Be||r===1?t=!0:cf||Ve&536870912?t=!1:(Jo=t=!0,(r===2||r===9||r===3||r===6)&&(r=ji.current,r!==null&&r.tag===13&&(r.flags|=16384))),eU(e,t)):ww(e)}function ww(t){var e=t;do{if(e.flags&32768){eU(e,Jo);return}t=e.return;var n=TZ(e.alternate,e,Ga);if(n!==null){De=n;return}if(e=e.sibling,e!==null){De=e;return}De=e=t}while(e!==null);Kt===0&&(Kt=5)}function eU(t,e){do{var n=AZ(t.alternate,t);if(n!==null){n.flags&=32767,De=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){De=t;return}De=t=n}while(t!==null);Kt=6,De=null}function zO(t,e,n,r,i,s,a,l,c){t.cancelPendingCommit=null;do _w();while(Sn!==0);if(We&6)throw Error(K(327));if(e!==null){if(e===t.current)throw Error(K(177));if(s=e.lanes|e.childLanes,s|=rT,pJ(t,n,s,a,l,c),t===ut&&(De=ut=null,Ve=0),fh=e,cl=t,Ra=n,w2=s,_2=i,G9=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,UZ(tx,function(){return sU(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=Ne.T,Ne.T=null,i=Ke.p,Ke.p=2,a=We,We|=4;try{IZ(t,e,n)}finally{We=a,Ke.p=i,Ne.T=r}}Sn=1,tU(),nU(),rU()}}function tU(){if(Sn===1){Sn=0;var t=cl,e=fh,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Ne.T,Ne.T=null;var r=Ke.p;Ke.p=2;var i=We;We|=4;try{V9(e,t);var s=T2,a=xz(t.containerInfo),l=s.focusedElem,c=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&vz(l.ownerDocument.documentElement,l)){if(c!==null&&nT(l)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(d,l.value.length);else{var h=l.ownerDocument||document,f=h&&h.defaultView||window;if(f.getSelection){var m=f.getSelection(),y=l.textContent.length,v=Math.min(c.start,y),x=c.end===void 0?v:Math.min(c.end,y);!m.extend&&v>x&&(a=x,x=v,v=a);var w=oO(l,v),_=oO(l,x);if(w&&_&&(m.rangeCount!==1||m.anchorNode!==w.node||m.anchorOffset!==w.offset||m.focusNode!==_.node||m.focusOffset!==_.offset)){var b=h.createRange();b.setStart(w.node,w.offset),m.removeAllRanges(),v>x?(m.addRange(b),m.extend(_.node,_.offset)):(b.setEnd(_.node,_.offset),m.addRange(b))}}}}for(h=[],m=l;m=m.parentNode;)m.nodeType===1&&h.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<h.length;l++){var N=h[l];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}Ex=!!j2,T2=j2=null}finally{We=i,Ke.p=r,Ne.T=n}}t.current=e,Sn=2}}function nU(){if(Sn===2){Sn=0;var t=cl,e=fh,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Ne.T,Ne.T=null;var r=Ke.p;Ke.p=2;var i=We;We|=4;try{R9(t,e.alternate,e)}finally{We=i,Ke.p=r,Ne.T=n}}Sn=3}}function rU(){if(Sn===4||Sn===3){Sn=0,aJ();var t=cl,e=fh,n=Ra,r=G9;e.subtreeFlags&10256||e.flags&10256?Sn=5:(Sn=0,fh=cl=null,iU(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(ll=null),Yj(n),e=e.stateNode,vi&&typeof vi.onCommitFiberRoot=="function")try{vi.onCommitFiberRoot(Xg,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=Ne.T,i=Ke.p,Ke.p=2,Ne.T=null;try{for(var s=t.onRecoverableError,a=0;a<r.length;a++){var l=r[a];s(l.value,{componentStack:l.stack})}}finally{Ne.T=e,Ke.p=i}}Ra&3&&_w(),la(t),i=t.pendingLanes,n&261930&&i&42?t===N2?hp++:(hp=0,N2=t):hp=0,sy(0)}}function iU(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,ny(e)))}function _w(){return tU(),nU(),rU(),sU()}function sU(){if(Sn!==5)return!1;var t=cl,e=w2;w2=0;var n=Yj(Ra),r=Ne.T,i=Ke.p;try{Ke.p=32>n?32:n,Ne.T=null,n=_2,_2=null;var s=cl,a=Ra;if(Sn=0,fh=cl=null,Ra=0,We&6)throw Error(K(331));var l=We;if(We|=4,$9(s.current),U9(s,s.current,a,n),We=l,sy(0,!1),vi&&typeof vi.onPostCommitFiberRoot=="function")try{vi.onPostCommitFiberRoot(Xg,s)}catch{}return!0}finally{Ke.p=i,Ne.T=r,iU(t,e)}}function UO(t,e,n){e=Fi(n,e),e=g2(t.stateNode,e,2),t=ol(t,e,2),t!==null&&(Zg(t,2),la(t))}function et(t,e,n){if(t.tag===3)UO(t,t,n);else for(;e!==null;){if(e.tag===3){UO(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ll===null||!ll.has(r))){t=Fi(n,t),n=b9(2),r=ol(e,n,2),r!==null&&(w9(n,r,e,t),Zg(r,2),la(r));break}}e=e.return}}function vN(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new kZ;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(CT=!0,i.add(n),t=LZ.bind(null,t,e,n),e.then(t,t))}function LZ(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ut===t&&(Ve&n)===n&&(Kt===4||Kt===3&&(Ve&62914560)===Ve&&300>yi()-xw?!(We&2)&&mh(t,0):PT|=n,hh===Ve&&(hh=0)),la(t)}function aU(t,e){e===0&&(e=XV()),t=Mu(t,e),t!==null&&(Zg(t,e),la(t))}function VZ(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),aU(t,n)}function zZ(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(K(314))}r!==null&&r.delete(e),aU(t,n)}function UZ(t,e){return Wj(t,e)}var vx=null,gd=null,S2=!1,xx=!1,xN=!1,el=0;function la(t){t!==gd&&t.next===null&&(gd===null?vx=gd=t:gd=gd.next=t),xx=!0,S2||(S2=!0,BZ())}function sy(t,e){if(!xN&&xx){xN=!0;do for(var n=!1,r=vx;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var s=0;else{var a=r.suspendedLanes,l=r.pingedLanes;s=(1<<31-xi(42|t)+1)-1,s&=i&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,FO(r,s))}else s=Ve,s=lw(r,r===ut?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(s&3)||Jg(r,s)||(n=!0,FO(r,s));r=r.next}while(n);xN=!1}}function FZ(){oU()}function oU(){xx=S2=!1;var t=0;el!==0&&JZ()&&(t=el);for(var e=yi(),n=null,r=vx;r!==null;){var i=r.next,s=lU(r,e);s===0?(r.next=null,n===null?vx=i:n.next=i,i===null&&(gd=n)):(n=r,(t!==0||s&3)&&(xx=!0)),r=i}Sn!==0&&Sn!==5||sy(t),el!==0&&(el=0)}function lU(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-xi(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=mJ(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}if(e=ut,n=Ve,n=lw(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&W_(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Jg(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&W_(r),Yj(n)){case 2:case 8:n=YV;break;case 32:n=tx;break;case 268435456:n=QV;break;default:n=tx}return r=cU.bind(null,t),n=Wj(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&W_(r),t.callbackPriority=2,t.callbackNode=null,2}function cU(t,e){if(Sn!==0&&Sn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(_w()&&t.callbackNode!==n)return null;var r=Ve;return r=lw(t,t===ut?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(K9(t,r,e),lU(t,yi()),t.callbackNode!=null&&t.callbackNode===n?cU.bind(null,t):null)}function FO(t,e){if(_w())return null;K9(t,e,!0)}function BZ(){eee(function(){We&6?Wj(KV,FZ):oU()})}function RT(){if(el===0){var t=ch;t===0&&(t=v0,v0<<=1,!(v0&261888)&&(v0=256)),el=t}return el}function BO(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:fv(""+t)}function $O(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function $Z(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var s=BO((i[Zr]||null).action),a=r.submitter;a&&(e=(e=a[Zr]||null)?BO(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var l=new cw("action","action",null,r,i);t.push({event:l,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(el!==0){var c=a?$O(i,a):new FormData(i);m2(n,{pending:!0,data:c,method:i.method,action:s},null,c)}}else typeof s=="function"&&(l.preventDefault(),c=a?$O(i,a):new FormData(i),m2(n,{pending:!0,data:c,method:i.method,action:s},s,c))},currentTarget:i}]})}}for(var bN=0;bN<n2.length;bN++){var wN=n2[bN],qZ=wN.toLowerCase(),HZ=wN[0].toUpperCase()+wN.slice(1);bs(qZ,"on"+HZ)}bs(wz,"onAnimationEnd");bs(_z,"onAnimationIteration");bs(Nz,"onAnimationStart");bs("dblclick","onDoubleClick");bs("focusin","onFocus");bs("focusout","onBlur");bs(oZ,"onTransitionRun");bs(lZ,"onTransitionStart");bs(cZ,"onTransitionCancel");bs(Sz,"onTransitionEnd");oh("onMouseEnter",["mouseout","mouseover"]);oh("onMouseLeave",["mouseout","mouseover"]);oh("onPointerEnter",["pointerout","pointerover"]);oh("onPointerLeave",["pointerout","pointerover"]);Ru("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ru("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ru("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ru("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ru("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ru("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GZ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gp));function uU(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;s=l,i.currentTarget=u;try{s(i)}catch(d){rx(d)}i.currentTarget=null,s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;s=l,i.currentTarget=u;try{s(i)}catch(d){rx(d)}i.currentTarget=null,s=c}}}}function Re(t,e){var n=e[KS];n===void 0&&(n=e[KS]=new Set);var r=t+"__bubble";n.has(r)||(dU(e,t,2,!1),n.add(r))}function _N(t,e,n){var r=0;e&&(r|=4),dU(n,t,r,e)}var A0="_reactListening"+Math.random().toString(36).slice(2);function OT(t){if(!t[A0]){t[A0]=!0,nz.forEach(function(n){n!=="selectionchange"&&(GZ.has(n)||_N(n,!1,t),_N(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[A0]||(e[A0]=!0,_N("selectionchange",!1,e))}}function dU(t,e,n,r){switch(SU(e)){case 2:var i=bee;break;case 8:i=wee;break;default:i=VT}n=i.bind(null,e,n,t),i=void 0,!ZS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function NN(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;l!==null;){if(a=Sd(l),a===null)return;if(c=a.tag,c===5||c===6||c===26||c===27){r=s=a;continue e}l=l.parentNode}}r=r.return}uz(function(){var u=s,d=Jj(n),h=[];e:{var f=Ez.get(t);if(f!==void 0){var m=cw,y=t;switch(t){case"keypress":if(pv(n)===0)break e;case"keydown":case"keyup":m=zJ;break;case"focusin":y="focus",m=J_;break;case"focusout":y="blur",m=J_;break;case"beforeblur":case"afterblur":m=J_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=XR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=TJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=BJ;break;case wz:case _z:case Nz:m=CJ;break;case Sz:m=qJ;break;case"scroll":case"scrollend":m=EJ;break;case"wheel":m=GJ;break;case"copy":case"cut":case"paste":m=kJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ZR;break;case"toggle":case"beforetoggle":m=KJ}var v=(e&4)!==0,x=!v&&(t==="scroll"||t==="scrollend"),w=v?f!==null?f+"Capture":null:f;v=[];for(var _=u,b;_!==null;){var N=_;if(b=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||b===null||w===null||(N=Vp(_,w),N!=null&&v.push(Wp(_,N,b))),x)break;_=_.return}0<v.length&&(f=new m(f,y,null,n,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==JS&&(y=n.relatedTarget||n.fromElement)&&(Sd(y)||y[sf]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?Sd(y):null,y!==null&&(x=Qg(y),v=y.tag,y!==x||v!==5&&v!==27&&v!==6)&&(y=null)):(m=null,y=u),m!==y)){if(v=XR,N="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=ZR,N="onPointerLeave",w="onPointerEnter",_="pointer"),x=m==null?f:zm(m),b=y==null?f:zm(y),f=new v(N,_+"leave",m,n,d),f.target=x,f.relatedTarget=b,N=null,Sd(d)===u&&(v=new v(w,_+"enter",y,n,d),v.target=b,v.relatedTarget=x,N=v),x=N,m&&y)t:{for(v=WZ,w=m,_=y,b=0,N=w;N;N=v(N))b++;N=0;for(var E=_;E;E=v(E))N++;for(;0<b-N;)w=v(w),b--;for(;0<N-b;)_=v(_),N--;for(;b--;){if(w===_||_!==null&&w===_.alternate){v=w;break t}w=v(w),_=v(_)}v=null}else v=null;m!==null&&qO(h,f,m,v,!1),y!==null&&x!==null&&qO(h,x,y,v,!0)}}e:{if(f=u?zm(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var C=rO;else if(nO(f))if(gz)C=iZ;else{C=nZ;var j=tZ}else m=f.nodeName,!m||m.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?u&&Xj(u.elementType)&&(C=rO):C=rZ;if(C&&(C=C(t,u))){pz(h,C,n,d);break e}j&&j(t,f,u),t==="focusout"&&u&&f.type==="number"&&u.memoizedProps.value!=null&&XS(f,"number",f.value)}switch(j=u?zm(u):window,t){case"focusin":(nO(j)||j.contentEditable==="true")&&(Td=j,e2=u,rp=null);break;case"focusout":rp=e2=Td=null;break;case"mousedown":t2=!0;break;case"contextmenu":case"mouseup":case"dragend":t2=!1,lO(h,n,d);break;case"selectionchange":if(aZ)break;case"keydown":case"keyup":lO(h,n,d)}var T;if(tT)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else jd?fz(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(hz&&n.locale!=="ko"&&(jd||A!=="onCompositionStart"?A==="onCompositionEnd"&&jd&&(T=dz()):(Xo=d,Zj="value"in Xo?Xo.value:Xo.textContent,jd=!0)),j=bx(u,A),0<j.length&&(A=new JR(A,t,null,n,d),h.push({event:A,listeners:j}),T?A.data=T:(T=mz(n),T!==null&&(A.data=T)))),(T=QJ?XJ(t,n):JJ(t,n))&&(A=bx(u,"onBeforeInput"),0<A.length&&(j=new JR("onBeforeInput","beforeinput",null,n,d),h.push({event:j,listeners:A}),j.data=T)),$Z(h,t,u,n,d)}uU(h,e)})}function Wp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bx(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Vp(t,n),i!=null&&r.unshift(Wp(t,i,s)),i=Vp(t,e),i!=null&&r.push(Wp(t,i,s))),t.tag===3)return r;t=t.return}return[]}function WZ(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function qO(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(l=l.tag,c!==null&&c===r)break;l!==5&&l!==26&&l!==27||u===null||(c=u,i?(u=Vp(n,s),u!=null&&a.unshift(Wp(n,u,c))):i||(u=Vp(n,s),u!=null&&a.push(Wp(n,u,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var KZ=/\r\n?/g,YZ=/\u0000|\uFFFD/g;function HO(t){return(typeof t=="string"?t:""+t).replace(KZ,`
`).replace(YZ,"")}function hU(t,e){return e=HO(e),HO(t)===e}function it(t,e,n,r,i,s){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||lh(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&lh(t,""+r);break;case"className":w0(t,"class",r);break;case"tabIndex":w0(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":w0(t,n,r);break;case"style":cz(t,r,s);break;case"data":if(e!=="object"){w0(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=fv(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&it(t,e,"name",i.name,i,null),it(t,e,"formEncType",i.formEncType,i,null),it(t,e,"formMethod",i.formMethod,i,null),it(t,e,"formTarget",i.formTarget,i,null)):(it(t,e,"encType",i.encType,i,null),it(t,e,"method",i.method,i,null),it(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=fv(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Sa);break;case"onScroll":r!=null&&Re("scroll",t);break;case"onScrollEnd":r!=null&&Re("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(K(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(K(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=fv(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":Re("beforetoggle",t),Re("toggle",t),hv(t,"popover",r);break;case"xlinkActuate":da(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":da(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":da(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":da(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":da(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":da(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":da(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":da(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":da(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":hv(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=NJ.get(n)||n,hv(t,n,r))}}function E2(t,e,n,r,i,s){switch(n){case"style":cz(t,r,s);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(K(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(K(60));t.innerHTML=n}}break;case"children":typeof r=="string"?lh(t,r):(typeof r=="number"||typeof r=="bigint")&&lh(t,""+r);break;case"onScroll":r!=null&&Re("scroll",t);break;case"onScrollEnd":r!=null&&Re("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rz.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),s=t[Zr]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,i),typeof r=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):hv(t,n,r)}}}function nr(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",t),Re("load",t);var r=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(K(137,e));default:it(t,e,s,a,n,null)}}i&&it(t,e,"srcSet",n.srcSet,n,null),r&&it(t,e,"src",n.src,n,null);return;case"input":Re("invalid",t);var l=s=a=i=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case"name":i=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(K(137,e));break;default:it(t,e,r,d,n,null)}}az(t,s,l,c,u,a,i,!1);return;case"select":Re("invalid",t),r=a=s=null;for(i in n)if(n.hasOwnProperty(i)&&(l=n[i],l!=null))switch(i){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":r=l;default:it(t,e,i,l,n,null)}e=s,n=a,t.multiple=!!r,e!=null?qd(t,!!r,e,!1):n!=null&&qd(t,!!r,n,!0);return;case"textarea":Re("invalid",t),s=i=r=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":r=l;break;case"defaultValue":i=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(K(91));break;default:it(t,e,a,l,n,null)}lz(t,r,i,s);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:it(t,e,c,r,n,null)}return;case"dialog":Re("beforetoggle",t),Re("toggle",t),Re("cancel",t),Re("close",t);break;case"iframe":case"object":Re("load",t);break;case"video":case"audio":for(r=0;r<Gp.length;r++)Re(Gp[r],t);break;case"image":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"embed":case"source":case"link":Re("error",t),Re("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(K(137,e));default:it(t,e,u,r,n,null)}return;default:if(Xj(e)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&E2(t,e,d,r,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(r=n[l],r!=null&&it(t,e,l,r,n,null))}function QZ(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,l=null,c=null,u=null,d=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&h!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(m)||it(t,e,m,null,r,h)}}for(var f in r){var m=r[f];if(h=n[f],r.hasOwnProperty(f)&&(m!=null||h!=null))switch(f){case"type":s=m;break;case"name":i=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":a=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(K(137,e));break;default:m!==h&&it(t,e,f,m,r,h)}}QS(t,a,l,c,u,d,s,i);return;case"select":m=a=l=f=null;for(s in n)if(c=n[s],n.hasOwnProperty(s)&&c!=null)switch(s){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(s)||it(t,e,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(s!=null||c!=null))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==c&&it(t,e,i,s,r,c)}e=l,n=a,r=m,f!=null?qd(t,!!n,f,!1):!!r!=!!n&&(e!=null?qd(t,!!n,e,!0):qd(t,!!n,n?[]:"",!1));return;case"textarea":m=f=null;for(l in n)if(i=n[l],n.hasOwnProperty(l)&&i!=null&&!r.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:it(t,e,l,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(i!=null||s!=null))switch(a){case"value":f=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(K(91));break;default:i!==s&&it(t,e,a,i,r,s)}oz(t,f,m);return;case"option":for(var y in n)if(f=n[y],n.hasOwnProperty(y)&&f!=null&&!r.hasOwnProperty(y))switch(y){case"selected":t.selected=!1;break;default:it(t,e,y,null,r,f)}for(c in r)if(f=r[c],m=n[c],r.hasOwnProperty(c)&&f!==m&&(f!=null||m!=null))switch(c){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:it(t,e,c,f,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in n)f=n[v],n.hasOwnProperty(v)&&f!=null&&!r.hasOwnProperty(v)&&it(t,e,v,null,r,f);for(u in r)if(f=r[u],m=n[u],r.hasOwnProperty(u)&&f!==m&&(f!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(K(137,e));break;default:it(t,e,u,f,r,m)}return;default:if(Xj(e)){for(var x in n)f=n[x],n.hasOwnProperty(x)&&f!==void 0&&!r.hasOwnProperty(x)&&E2(t,e,x,void 0,r,f);for(d in r)f=r[d],m=n[d],!r.hasOwnProperty(d)||f===m||f===void 0&&m===void 0||E2(t,e,d,f,r,m);return}}for(var w in n)f=n[w],n.hasOwnProperty(w)&&f!=null&&!r.hasOwnProperty(w)&&it(t,e,w,null,r,f);for(h in r)f=r[h],m=n[h],!r.hasOwnProperty(h)||f===m||f==null&&m==null||it(t,e,h,f,r,m)}function GO(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XZ(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],s=i.transferSize,a=i.initiatorType,l=i.duration;if(s&&l&&GO(a)){for(a=0,l=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],u=c.startTime;if(u>l)break;var d=c.transferSize,h=c.initiatorType;d&&GO(h)&&(c=c.responseEnd,a+=d*(c<l?1:(l-u)/(c-u)))}if(--r,e+=8*(s+a)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var j2=null,T2=null;function wx(t){return t.nodeType===9?t:t.ownerDocument}function WO(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fU(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function A2(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var SN=null;function JZ(){var t=window.event;return t&&t.type==="popstate"?t===SN?!1:(SN=t,!0):(SN=null,!1)}var mU=typeof setTimeout=="function"?setTimeout:void 0,ZZ=typeof clearTimeout=="function"?clearTimeout:void 0,KO=typeof Promise=="function"?Promise:void 0,eee=typeof queueMicrotask=="function"?queueMicrotask:typeof KO<"u"?function(t){return KO.resolve(null).then(t).catch(tee)}:mU;function tee(t){setTimeout(function(){throw t})}function ql(t){return t==="head"}function YO(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(i),gh(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")fp(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,fp(n);for(var s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[ey]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&fp(t.ownerDocument.body);n=i}while(n);gh(e)}function QO(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function I2(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":I2(n),Qj(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function nee(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[ey])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=Wi(t.nextSibling),t===null)break}return null}function ree(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Wi(t.nextSibling),t===null))return null;return t}function pU(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Wi(t.nextSibling),t===null))return null;return t}function C2(t){return t.data==="$?"||t.data==="$~"}function P2(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function iee(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Wi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var k2=null;function XO(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Wi(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function JO(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function gU(t,e,n){switch(e=wx(n),t){case"html":if(t=e.documentElement,!t)throw Error(K(452));return t;case"head":if(t=e.head,!t)throw Error(K(453));return t;case"body":if(t=e.body,!t)throw Error(K(454));return t;default:throw Error(K(451))}}function fp(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Qj(t)}var Qi=new Map,ZO=new Set;function _x(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var co=Ke.d;Ke.d={f:see,r:aee,D:oee,C:lee,L:cee,m:uee,X:hee,S:dee,M:fee};function see(){var t=co.f(),e=bw();return t||e}function aee(t){var e=af(t);e!==null&&e.tag===5&&e.type==="form"?c9(e):co.r(t)}var uf=typeof document>"u"?null:document;function yU(t,e,n){var r=uf;if(r&&typeof e=="string"&&e){var i=Ui(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),ZO.has(i)||(ZO.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),nr(e,"link",t),Ln(e),r.head.appendChild(e)))}}function oee(t){co.D(t),yU("dns-prefetch",t,null)}function lee(t,e){co.C(t,e),yU("preconnect",t,e)}function cee(t,e,n){co.L(t,e,n);var r=uf;if(r&&t&&e){var i='link[rel="preload"][as="'+Ui(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Ui(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Ui(n.imageSizes)+'"]')):i+='[href="'+Ui(t)+'"]';var s=i;switch(e){case"style":s=ph(t);break;case"script":s=df(t)}Qi.has(s)||(t=Tt({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Qi.set(s,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(ay(s))||e==="script"&&r.querySelector(oy(s))||(e=r.createElement("link"),nr(e,"link",t),Ln(e),r.head.appendChild(e)))}}function uee(t,e){co.m(t,e);var n=uf;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Ui(r)+'"][href="'+Ui(t)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=df(t)}if(!Qi.has(s)&&(t=Tt({rel:"modulepreload",href:t},e),Qi.set(s,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(oy(s)))return}r=n.createElement("link"),nr(r,"link",t),Ln(r),n.head.appendChild(r)}}}function dee(t,e,n){co.S(t,e,n);var r=uf;if(r&&t){var i=$d(r).hoistableStyles,s=ph(t);e=e||"default";var a=i.get(s);if(!a){var l={loading:0,preload:null};if(a=r.querySelector(ay(s)))l.loading=5;else{t=Tt({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Qi.get(s))&&DT(t,n);var c=a=r.createElement("link");Ln(c),nr(c,"link",t),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Nv(a,e,r)}a={type:"stylesheet",instance:a,count:1,state:l},i.set(s,a)}}}function hee(t,e){co.X(t,e);var n=uf;if(n&&t){var r=$d(n).hoistableScripts,i=df(t),s=r.get(i);s||(s=n.querySelector(oy(i)),s||(t=Tt({src:t,async:!0},e),(e=Qi.get(i))&&MT(t,e),s=n.createElement("script"),Ln(s),nr(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function fee(t,e){co.M(t,e);var n=uf;if(n&&t){var r=$d(n).hoistableScripts,i=df(t),s=r.get(i);s||(s=n.querySelector(oy(i)),s||(t=Tt({src:t,async:!0,type:"module"},e),(e=Qi.get(i))&&MT(t,e),s=n.createElement("script"),Ln(s),nr(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function eD(t,e,n,r){var i=(i=il.current)?_x(i):null;if(!i)throw Error(K(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=ph(n.href),n=$d(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=ph(n.href);var s=$d(i).hoistableStyles,a=s.get(t);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=i.querySelector(ay(t)))&&!s._p&&(a.instance=s,a.state.loading=5),Qi.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Qi.set(t,n),s||mee(i,t,n,a.state))),e&&r===null)throw Error(K(528,""));return a}if(e&&r!==null)throw Error(K(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=df(n),n=$d(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(K(444,t))}}function ph(t){return'href="'+Ui(t)+'"'}function ay(t){return'link[rel="stylesheet"]['+t+"]"}function vU(t){return Tt({},t,{"data-precedence":t.precedence,precedence:null})}function mee(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),nr(e,"link",n),Ln(e),t.head.appendChild(e))}function df(t){return'[src="'+Ui(t)+'"]'}function oy(t){return"script[async]"+t}function tD(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Ui(n.href)+'"]');if(r)return e.instance=r,Ln(r),r;var i=Tt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Ln(r),nr(r,"style",i),Nv(r,n.precedence,t),e.instance=r;case"stylesheet":i=ph(n.href);var s=t.querySelector(ay(i));if(s)return e.state.loading|=4,e.instance=s,Ln(s),s;r=vU(n),(i=Qi.get(i))&&DT(r,i),s=(t.ownerDocument||t).createElement("link"),Ln(s);var a=s;return a._p=new Promise(function(l,c){a.onload=l,a.onerror=c}),nr(s,"link",r),e.state.loading|=4,Nv(s,n.precedence,t),e.instance=s;case"script":return s=df(n.src),(i=t.querySelector(oy(s)))?(e.instance=i,Ln(i),i):(r=n,(i=Qi.get(s))&&(r=Tt({},n),MT(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),Ln(i),nr(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(K(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,Nv(r,n.precedence,t));return e.instance}function Nv(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var l=r[a];if(l.dataset.precedence===e)s=l;else if(s!==i)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function DT(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function MT(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Sv=null;function nD(t,e,n){if(Sv===null){var r=new Map,i=Sv=new Map;i.set(n,r)}else i=Sv,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var s=n[i];if(!(s[ey]||s[Xn]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var l=r.get(a);l?l.push(s):r.set(a,[s])}}return r}function rD(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function pee(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function xU(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function gee(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=ph(r.href),s=e.querySelector(ay(i));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Nx.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,Ln(s);return}s=e.ownerDocument||e,r=vU(r),(i=Qi.get(i))&&DT(r,i),s=s.createElement("link"),Ln(s);var a=s;a._p=new Promise(function(l,c){a.onload=l,a.onerror=c}),nr(s,"link",r),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Nx.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var EN=0;function yee(t,e){return t.stylesheets&&t.count===0&&Ev(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&Ev(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&EN===0&&(EN=62500*XZ());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ev(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>EN?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Nx(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ev(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Sx=null;function Ev(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Sx=new Map,e.forEach(vee,t),Sx=null,Nx.call(t))}function vee(t,e){if(!(e.state.loading&4)){var n=Sx.get(t);if(n)var r=n.get(null);else{n=new Map,Sx.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}i=e.instance,a=i.getAttribute("data-precedence"),s=n.get(a)||r,s===r&&n.set(null,i),n.set(a,i),this.count++,r=Nx.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Kp={$$typeof:Na,Provider:null,Consumer:null,_currentValue:Bc,_currentValue2:Bc,_threadCount:0};function xee(t,e,n,r,i,s,a,l,c){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=K_(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=K_(0),this.hiddenUpdates=K_(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function bU(t,e,n,r,i,s,a,l,c,u,d,h){return t=new xee(t,e,n,a,c,u,d,h,l),e=1,s===!0&&(e|=24),s=hi(3,null,null,e),t.current=s,s.stateNode=t,e=lT(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:e},dT(s),t}function wU(t){return t?(t=Cd,t):Cd}function _U(t,e,n,r,i,s){i=wU(i),r.context===null?r.context=i:r.pendingContext=i,r=al(e),r.payload={element:n},s=s===void 0?null:s,s!==null&&(r.callback=s),n=ol(t,r,e),n!==null&&(Jr(n,t,e),sp(n,t,e))}function iD(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function LT(t,e){iD(t,e),(t=t.alternate)&&iD(t,e)}function NU(t){if(t.tag===13||t.tag===31){var e=Mu(t,67108864);e!==null&&Jr(e,t,67108864),LT(t,67108864)}}function sD(t){if(t.tag===13||t.tag===31){var e=bi();e=Kj(e);var n=Mu(t,e);n!==null&&Jr(n,t,e),LT(t,e)}}var Ex=!0;function bee(t,e,n,r){var i=Ne.T;Ne.T=null;var s=Ke.p;try{Ke.p=2,VT(t,e,n,r)}finally{Ke.p=s,Ne.T=i}}function wee(t,e,n,r){var i=Ne.T;Ne.T=null;var s=Ke.p;try{Ke.p=8,VT(t,e,n,r)}finally{Ke.p=s,Ne.T=i}}function VT(t,e,n,r){if(Ex){var i=R2(r);if(i===null)NN(t,e,r,jx,n),aD(t,r);else if(Nee(i,t,e,n,r))r.stopPropagation();else if(aD(t,r),e&4&&-1<_ee.indexOf(t)){for(;i!==null;){var s=af(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=gc(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var c=1<<31-xi(a);l.entanglements[1]|=c,a&=~c}la(s),!(We&6)&&(px=yi()+500,sy(0))}}break;case 31:case 13:l=Mu(s,2),l!==null&&Jr(l,s,2),bw(),LT(s,2)}if(s=R2(r),s===null&&NN(t,e,r,jx,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else NN(t,e,r,null,n)}}function R2(t){return t=Jj(t),zT(t)}var jx=null;function zT(t){if(jx=null,t=Sd(t),t!==null){var e=Qg(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=$V(e),t!==null)return t;t=null}else if(n===31){if(t=qV(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return jx=t,null}function SU(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oJ()){case KV:return 2;case YV:return 8;case tx:case lJ:return 32;case QV:return 268435456;default:return 32}default:return 32}}var O2=!1,ul=null,dl=null,hl=null,Yp=new Map,Qp=new Map,Wo=[],_ee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aD(t,e){switch(t){case"focusin":case"focusout":ul=null;break;case"dragenter":case"dragleave":dl=null;break;case"mouseover":case"mouseout":hl=null;break;case"pointerover":case"pointerout":Yp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qp.delete(e.pointerId)}}function fm(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=af(e),e!==null&&NU(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Nee(t,e,n,r,i){switch(e){case"focusin":return ul=fm(ul,t,e,n,r,i),!0;case"dragenter":return dl=fm(dl,t,e,n,r,i),!0;case"mouseover":return hl=fm(hl,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Yp.set(s,fm(Yp.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Qp.set(s,fm(Qp.get(s)||null,t,e,n,r,i)),!0}return!1}function EU(t){var e=Sd(t.target);if(e!==null){var n=Qg(e);if(n!==null){if(e=n.tag,e===13){if(e=$V(n),e!==null){t.blockedOn=e,qR(t.priority,function(){sD(n)});return}}else if(e===31){if(e=qV(n),e!==null){t.blockedOn=e,qR(t.priority,function(){sD(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=R2(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);JS=r,n.target.dispatchEvent(r),JS=null}else return e=af(n),e!==null&&NU(e),t.blockedOn=n,!1;e.shift()}return!0}function oD(t,e,n){jv(t)&&n.delete(e)}function See(){O2=!1,ul!==null&&jv(ul)&&(ul=null),dl!==null&&jv(dl)&&(dl=null),hl!==null&&jv(hl)&&(hl=null),Yp.forEach(oD),Qp.forEach(oD)}function I0(t,e){t.blockedOn===e&&(t.blockedOn=null,O2||(O2=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,See)))}var C0=null;function lD(t){C0!==t&&(C0=t,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,function(){C0===t&&(C0=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(zT(r||n)===null)continue;break}var s=af(n);s!==null&&(t.splice(e,3),e-=3,m2(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function gh(t){function e(c){return I0(c,t)}ul!==null&&I0(ul,t),dl!==null&&I0(dl,t),hl!==null&&I0(hl,t),Yp.forEach(e),Qp.forEach(e);for(var n=0;n<Wo.length;n++){var r=Wo[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Wo.length&&(n=Wo[0],n.blockedOn===null);)EU(n),n.blockedOn===null&&Wo.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[Zr]||null;if(typeof s=="function")a||lD(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[Zr]||null)l=a.formAction;else if(zT(i)!==null)continue}else l=a.action;typeof l=="function"?n[r+1]=l:(n.splice(r,3),r-=3),lD(n)}}}function jU(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return i=a})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function UT(t){this._internalRoot=t}Nw.prototype.render=UT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));var n=e.current,r=bi();_U(n,r,t,e,null,null)};Nw.prototype.unmount=UT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_U(t.current,2,null,t,null,null),bw(),e[sf]=null}};function Nw(t){this._internalRoot=t}Nw.prototype.unstable_scheduleHydration=function(t){if(t){var e=tz();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wo.length&&e!==0&&e<Wo[n].priority;n++);Wo.splice(n,0,t),n===0&&EU(t)}};var cD=FV.version;if(cD!=="19.2.0")throw Error(K(527,cD,"19.2.0"));Ke.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=eJ(e),t=t!==null?HV(t):null,t=t===null?null:t.stateNode,t};var Eee={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Ne,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var P0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!P0.isDisabled&&P0.supportsFiber)try{Xg=P0.inject(Eee),vi=P0}catch{}}aw.createRoot=function(t,e){if(!BV(t))throw Error(K(299));var n=!1,r="",i=y9,s=v9,a=x9;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=bU(t,1,!1,null,null,n,r,null,i,s,a,jU),t[sf]=e.current,OT(t),new UT(e)};aw.hydrateRoot=function(t,e,n){if(!BV(t))throw Error(K(299));var r=!1,i="",s=y9,a=v9,l=x9,c=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),e=bU(t,1,!0,e,n??null,r,i,c,s,a,l,jU),e.context=wU(null),n=e.current,r=bi(),r=Kj(r),i=al(r),i.callback=null,ol(n,i,r),n=r,e.current.lanes=n,Zg(e,n),la(e),t[sf]=e.current,OT(t),new Nw(e)};aw.version="19.2.0";function TU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TU)}catch(t){console.error(t)}}TU(),DV.exports=aw;var jee=DV.exports;const Tee=aa(jee);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var uD="popstate";function Aee(t={}){function e(i,s){let{pathname:a="/",search:l="",hash:c=""}=Vu(i.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),D2("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let a=i.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let c=i.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof s=="string"?s:Xp(s))}function r(i,s){ei(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return Cee(e,n,r,t)}function Mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ei(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Iee(){return Math.random().toString(36).substring(2,10)}function dD(t,e){return{usr:t.state,key:t.key,idx:e}}function D2(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Vu(e):e,state:n,key:e&&e.key||r||Iee()}}function Xp({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Vu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Cee(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){l="POP";let x=d(),w=x==null?null:x-u;u=x,c&&c({action:l,location:v.location,delta:w})}function f(x,w){l="PUSH";let _=D2(v.location,x,w);n&&n(_,x),u=d()+1;let b=dD(_,u),N=v.createHref(_);try{a.pushState(b,"",N)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(N)}s&&c&&c({action:l,location:v.location,delta:1})}function m(x,w){l="REPLACE";let _=D2(v.location,x,w);n&&n(_,x),u=d();let b=dD(_,u),N=v.createHref(_);a.replaceState(b,"",N),s&&c&&c({action:l,location:v.location,delta:0})}function y(x){return Pee(x)}let v={get action(){return l},get location(){return t(i,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(uD,h),c=x,()=>{i.removeEventListener(uD,h),c=null}},createHref(x){return e(i,x)},createURL:y,encodeLocation(x){let w=y(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:m,go(x){return a.go(x)}};return v}function Pee(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Xp(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function AU(t,e,n="/"){return kee(t,e,n,!1)}function kee(t,e,n,r){let i=typeof e=="string"?Vu(e):e,s=Wa(i.pathname||"/",n);if(s==null)return null;let a=IU(t);Ree(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=qee(s);l=Bee(a[c],u,r)}return l}function IU(t,e=[],n=[],r="",i=!1){let s=(a,l,c=i,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&c)return;Mt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let h=Oa([r,d.relativePath]),f=n.concat(d);a.children&&a.children.length>0&&(Mt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),IU(a.children,e,f,h,c)),!(a.path==null&&!a.index)&&e.push({path:h,score:Uee(h,a.index),routesMeta:f})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let u of CU(a.path))s(a,l,!0,u)}),e}function CU(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=CU(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Ree(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Fee(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Oee=/^:[\w-]+$/,Dee=3,Mee=2,Lee=1,Vee=10,zee=-2,hD=t=>t==="*";function Uee(t,e){let n=t.split("/"),r=n.length;return n.some(hD)&&(r+=zee),e&&(r+=Mee),n.filter(i=>!hD(i)).reduce((i,s)=>i+(Oee.test(s)?Dee:s===""?Lee:Vee),r)}function Fee(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Bee(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=Tx({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Tx({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:Oa([s,h.pathname]),pathnameBase:Yee(Oa([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Oa([s,h.pathnameBase]))}return a}function Tx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$ee(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let y=l[f]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=l[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function $ee(t,e=!1,n=!0){ei(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function qee(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ei(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Wa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var Hee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gee=t=>Hee.test(t);function Wee(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Vu(t):t,s;if(n)if(Gee(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),ei(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${n}`)}n.startsWith("/")?s=fD(n.substring(1),"/"):s=fD(n,e)}else s=e;return{pathname:s,search:Qee(r),hash:Xee(i)}}function fD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function jN(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Kee(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function FT(t){let e=Kee(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function BT(t,e,n,r=!1){let i;typeof t=="string"?i=Vu(t):(i={...t},Mt(!i.pathname||!i.pathname.includes("?"),jN("?","pathname","search",i)),Mt(!i.pathname||!i.pathname.includes("#"),jN("#","pathname","hash",i)),Mt(!i.search||!i.search.includes("#"),jN("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let h=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=Wee(i,l),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Oa=t=>t.join("/").replace(/\/\/+/g,"/"),Yee=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Qee=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Xee=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Jee(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var PU=["POST","PUT","PATCH","DELETE"];new Set(PU);var Zee=["GET",...PU];new Set(Zee);var hf=g.createContext(null);hf.displayName="DataRouter";var Sw=g.createContext(null);Sw.displayName="DataRouterState";g.createContext(!1);var kU=g.createContext({isTransitioning:!1});kU.displayName="ViewTransition";var ete=g.createContext(new Map);ete.displayName="Fetchers";var tte=g.createContext(null);tte.displayName="Await";var ws=g.createContext(null);ws.displayName="Navigation";var ly=g.createContext(null);ly.displayName="Location";var _s=g.createContext({outlet:null,matches:[],isDataRoute:!1});_s.displayName="Route";var $T=g.createContext(null);$T.displayName="RouteError";function nte(t,{relative:e}={}){Mt(ff(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=g.useContext(ws),{hash:i,pathname:s,search:a}=cy(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:Oa([n,s])),r.createHref({pathname:l,search:a,hash:i})}function ff(){return g.useContext(ly)!=null}function Ur(){return Mt(ff(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(ly).location}var RU="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OU(t){g.useContext(ws).static||g.useLayoutEffect(t)}function $n(){let{isDataRoute:t}=g.useContext(_s);return t?yte():rte()}function rte(){Mt(ff(),"useNavigate() may be used only in the context of a <Router> component.");let t=g.useContext(hf),{basename:e,navigator:n}=g.useContext(ws),{matches:r}=g.useContext(_s),{pathname:i}=Ur(),s=JSON.stringify(FT(r)),a=g.useRef(!1);return OU(()=>{a.current=!0}),g.useCallback((c,u={})=>{if(ei(a.current,RU),!a.current)return;if(typeof c=="number"){n.go(c);return}let d=BT(c,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Oa([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,s,i,t])}var ite=g.createContext(null);function ste(t){let e=g.useContext(_s).outlet;return g.useMemo(()=>e&&g.createElement(ite.Provider,{value:t},e),[e,t])}function cy(t,{relative:e}={}){let{matches:n}=g.useContext(_s),{pathname:r}=Ur(),i=JSON.stringify(FT(n));return g.useMemo(()=>BT(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function ate(t,e){return DU(t,e)}function DU(t,e,n,r,i){var _;Mt(ff(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=g.useContext(ws),{matches:a}=g.useContext(_s),l=a[a.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let b=h&&h.path||"";MU(u,!h||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let f=Ur(),m;if(e){let b=typeof e=="string"?Vu(e):e;Mt(d==="/"||((_=b.pathname)==null?void 0:_.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${b.pathname}" was given in the \`location\` prop.`),m=b}else m=f;let y=m.pathname||"/",v=y;if(d!=="/"){let b=d.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=AU(t,{pathname:v});ei(h||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),ei(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=dte(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:Oa([d,s.encodeLocation?s.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:Oa([d,s.encodeLocation?s.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),a,n,r,i);return e&&w?g.createElement(ly.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},w):w}function ote(){let t=gte(),e=Jee(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:s},"ErrorBoundary")," or"," ",g.createElement("code",{style:s},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:i},n):null,a)}var lte=g.createElement(ote,null),cte=class extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?g.createElement(_s.Provider,{value:this.props.routeContext},g.createElement($T.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ute({routeContext:t,match:e,children:n}){let r=g.useContext(hf);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),g.createElement(_s.Provider,{value:t},n)}function dte(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);Mt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:m}=n,y=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}let u=n&&r?(d,h)=>{var f,m;r(d,{location:n.location,params:((m=(f=n.matches)==null?void 0:f[0])==null?void 0:m.params)??{},errorInfo:h})}:void 0;return s.reduceRight((d,h,f)=>{let m,y=!1,v=null,x=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||lte,l&&(c<0&&f===0?(MU("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,x=null):c===f&&(y=!0,x=h.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,f+1)),_=()=>{let b;return m?b=v:y?b=x:h.route.Component?b=g.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,g.createElement(ute,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?g.createElement(cte,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:u}):_()},null)}function qT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hte(t){let e=g.useContext(hf);return Mt(e,qT(t)),e}function fte(t){let e=g.useContext(Sw);return Mt(e,qT(t)),e}function mte(t){let e=g.useContext(_s);return Mt(e,qT(t)),e}function HT(t){let e=mte(t),n=e.matches[e.matches.length-1];return Mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function pte(){return HT("useRouteId")}function gte(){var r;let t=g.useContext($T),e=fte("useRouteError"),n=HT("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function yte(){let{router:t}=hte("useNavigate"),e=HT("useNavigate"),n=g.useRef(!1);return OU(()=>{n.current=!0}),g.useCallback(async(i,s={})=>{ei(n.current,RU),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var mD={};function MU(t,e,n){!e&&!mD[t]&&(mD[t]=!0,ei(!1,n))}g.memo(vte);function vte({routes:t,future:e,state:n,unstable_onError:r}){return DU(t,void 0,n,r,e)}function xte({to:t,replace:e,state:n,relative:r}){Mt(ff(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=g.useContext(ws);ei(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=g.useContext(_s),{pathname:a}=Ur(),l=$n(),c=BT(t,FT(s),a,r==="path"),u=JSON.stringify(c);return g.useEffect(()=>{l(JSON.parse(u),{replace:e,state:n,relative:r})},[l,u,r,e,n]),null}function Ax(t){return ste(t.context)}function Ue(t){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bte({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Mt(!ff(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=g.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=Vu(n));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:f="default"}=n,m=g.useMemo(()=>{let y=Wa(c,a);return y==null?null:{location:{pathname:y,search:u,hash:d,state:h,key:f},navigationType:r}},[a,c,u,d,h,f,r]);return ei(m!=null,`<Router basename="${a}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:g.createElement(ws.Provider,{value:l},g.createElement(ly.Provider,{children:e,value:m}))}function wte({children:t,location:e}){return ate(M2(t),e)}function M2(t,e=[]){let n=[];return g.Children.forEach(t,(r,i)=>{if(!g.isValidElement(r))return;let s=[...e,i];if(r.type===g.Fragment){n.push.apply(n,M2(r.props.children,s));return}Mt(r.type===Ue,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=M2(r.props.children,s)),n.push(a)}),n}var Tv="get",Av="application/x-www-form-urlencoded";function Ew(t){return t!=null&&typeof t.tagName=="string"}function _te(t){return Ew(t)&&t.tagName.toLowerCase()==="button"}function Nte(t){return Ew(t)&&t.tagName.toLowerCase()==="form"}function Ste(t){return Ew(t)&&t.tagName.toLowerCase()==="input"}function Ete(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jte(t,e){return t.button===0&&(!e||e==="_self")&&!Ete(t)}function L2(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Tte(t,e){let n=L2(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}var k0=null;function Ate(){if(k0===null)try{new FormData(document.createElement("form"),0),k0=!1}catch{k0=!0}return k0}var Ite=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function TN(t){return t!=null&&!Ite.has(t)?(ei(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Av}"`),null):t}function Cte(t,e){let n,r,i,s,a;if(Nte(t)){let l=t.getAttribute("action");r=l?Wa(l,e):null,n=t.getAttribute("method")||Tv,i=TN(t.getAttribute("enctype"))||Av,s=new FormData(t)}else if(_te(t)||Ste(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?Wa(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Tv,i=TN(t.getAttribute("formenctype"))||TN(l.getAttribute("enctype"))||Av,s=new FormData(l,t),!Ate()){let{name:u,type:d,value:h}=t;if(d==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,h)}}else{if(Ew(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Tv,r=null,i=Av,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function GT(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pte(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Wa(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function kte(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Rte(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Ote(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await kte(s,n);return a.links?a.links():[]}return[]}));return Vte(r.flat(1).filter(Rte).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function pD(t,e,n,r,i,s){let a=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,u)=>a(c,u)||l(c,u)):s==="data"?e.filter((c,u)=>{var h;let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Dte(t,e,{includeHydrateFallback:n}={}){return Mte(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Mte(t){return[...new Set(t)]}function Lte(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Vte(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(Lte(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function LU(){let t=g.useContext(hf);return GT(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function zte(){let t=g.useContext(Sw);return GT(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var WT=g.createContext(void 0);WT.displayName="FrameworkContext";function VU(){let t=g.useContext(WT);return GT(t,"You must render this element inside a <HydratedRouter> element"),t}function Ute(t,e){let n=g.useContext(WT),[r,i]=g.useState(!1),[s,a]=g.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,f=g.useRef(null);g.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let v=w=>{w.forEach(_=>{a(_.isIntersecting)})},x=new IntersectionObserver(v,{threshold:.5});return f.current&&x.observe(f.current),()=>{x.disconnect()}}},[t]),g.useEffect(()=>{if(r){let v=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(v)}}},[r]);let m=()=>{i(!0)},y=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:mm(l,m),onBlur:mm(c,y),onMouseEnter:mm(u,m),onMouseLeave:mm(d,y),onTouchStart:mm(h,m)}]:[!1,f,{}]}function mm(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Fte({page:t,...e}){let{router:n}=LU(),r=g.useMemo(()=>AU(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?g.createElement($te,{page:t,matches:r,...e}):null}function Bte(t){let{manifest:e,routeModules:n}=VU(),[r,i]=g.useState([]);return g.useEffect(()=>{let s=!1;return Ote(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function $te({page:t,matches:e,...n}){let r=Ur(),{manifest:i,routeModules:s}=VU(),{basename:a}=LU(),{loaderData:l,matches:c}=zte(),u=g.useMemo(()=>pD(t,e,c,i,r,"data"),[t,e,c,i,r]),d=g.useMemo(()=>pD(t,e,c,i,r,"assets"),[t,e,c,i,r]),h=g.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let y=new Set,v=!1;if(e.forEach(w=>{var b;let _=i.routes[w.route.id];!_||!_.hasLoader||(!u.some(N=>N.route.id===w.route.id)&&w.route.id in l&&((b=s[w.route.id])!=null&&b.shouldRevalidate)||_.hasClientLoader?v=!0:y.add(w.route.id))}),y.size===0)return[];let x=Pte(t,a,"data");return v&&y.size>0&&x.searchParams.set("_routes",e.filter(w=>y.has(w.route.id)).map(w=>w.route.id).join(",")),[x.pathname+x.search]},[a,l,r,i,u,e,t,s]),f=g.useMemo(()=>Dte(d,i),[d,i]),m=Bte(d);return g.createElement(g.Fragment,null,h.map(y=>g.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),f.map(y=>g.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),m.map(({key:y,link:v})=>g.createElement("link",{key:y,nonce:n.nonce,...v})))}function qte(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var zU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zU&&(window.__reactRouterVersion="7.9.6")}catch{}function Hte({basename:t,children:e,window:n}){let r=g.useRef();r.current==null&&(r.current=Aee({window:n,v5Compat:!0}));let i=r.current,[s,a]=g.useState({action:i.action,location:i.location}),l=g.useCallback(c=>{g.startTransition(()=>a(c))},[a]);return g.useLayoutEffect(()=>i.listen(l),[i,l]),g.createElement(bte,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var UU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=g.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h,...f},m){let{basename:y}=g.useContext(ws),v=typeof u=="string"&&UU.test(u),x,w=!1;if(typeof u=="string"&&v&&(x=u,zU))try{let A=new URL(window.location.href),P=u.startsWith("//")?new URL(A.protocol+u):new URL(u),k=Wa(P.pathname,y);P.origin===A.origin&&k!=null?u=k+P.search+P.hash:w=!0}catch{ei(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=nte(u,{relative:i}),[b,N,E]=Ute(r,f),C=Kte(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h});function j(A){e&&e(A),A.defaultPrevented||C(A)}let T=g.createElement("a",{...f,...E,href:x||_,onClick:w||s?e:j,ref:qte(m,N),target:c,"data-discover":!v&&n==="render"?"true":void 0});return b&&!v?g.createElement(g.Fragment,null,T,g.createElement(Fte,{page:_})):T});ft.displayName="Link";var ai=g.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:l,children:c,...u},d){let h=cy(a,{relative:u.relative}),f=Ur(),m=g.useContext(Sw),{navigator:y,basename:v}=g.useContext(ws),x=m!=null&&ene(h)&&l===!0,w=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,_=f.pathname,b=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(_=_.toLowerCase(),b=b?b.toLowerCase():null,w=w.toLowerCase()),b&&v&&(b=Wa(b,v)||b);const N=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let E=_===w||!i&&_.startsWith(w)&&_.charAt(N)==="/",C=b!=null&&(b===w||!i&&b.startsWith(w)&&b.charAt(w.length)==="/"),j={isActive:E,isPending:C,isTransitioning:x},T=E?e:void 0,A;typeof r=="function"?A=r(j):A=[r,E?"active":null,C?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let P=typeof s=="function"?s(j):s;return g.createElement(ft,{...u,"aria-current":T,className:A,ref:d,style:P,to:a,viewTransition:l},typeof c=="function"?c(j):c)});ai.displayName="NavLink";var Gte=g.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=Tv,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,...f},m)=>{let y=Jte(),v=Zte(l,{relative:u}),x=a.toLowerCase()==="get"?"get":"post",w=typeof l=="string"&&UU.test(l),_=b=>{if(c&&c(b),b.defaultPrevented)return;b.preventDefault();let N=b.nativeEvent.submitter,E=(N==null?void 0:N.getAttribute("formmethod"))||a;y(N||b.currentTarget,{fetcherKey:e,method:E,navigate:n,replace:i,state:s,relative:u,preventScrollReset:d,viewTransition:h})};return g.createElement("form",{ref:m,method:x,action:v,onSubmit:r?c:_,...f,"data-discover":!w&&t==="render"?"true":void 0})});Gte.displayName="Form";function Wte(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FU(t){let e=g.useContext(hf);return Mt(e,Wte(t)),e}function Kte(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let l=$n(),c=Ur(),u=cy(t,{relative:s});return g.useCallback(d=>{if(jte(d,e)){d.preventDefault();let h=n!==void 0?n:Xp(c)===Xp(u);l(t,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[c,l,u,n,r,e,t,i,s,a])}function Yte(t){ei(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=g.useRef(L2(t)),n=g.useRef(!1),r=Ur(),i=g.useMemo(()=>Tte(r.search,n.current?null:e.current),[r.search]),s=$n(),a=g.useCallback((l,c)=>{const u=L2(typeof l=="function"?l(new URLSearchParams(i)):l);n.current=!0,s("?"+u,c)},[s,i]);return[i,a]}var Qte=0,Xte=()=>`__${String(++Qte)}__`;function Jte(){let{router:t}=FU("useSubmit"),{basename:e}=g.useContext(ws),n=pte();return g.useCallback(async(r,i={})=>{let{action:s,method:a,encType:l,formData:c,body:u}=Cte(r,e);if(i.navigate===!1){let d=i.fetcherKey||Xte();await t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||a,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||a,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function Zte(t,{relative:e}={}){let{basename:n}=g.useContext(ws),r=g.useContext(_s);Mt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...cy(t||".",{relative:e})},a=Ur();if(t==null){s.search=a.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let d=l.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Oa([n,s.pathname])),Xp(s)}function ene(t,{relative:e}={}){let n=g.useContext(kU);Mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=FU("useViewTransitionState"),i=cy(t,{relative:e});if(!n.isTransitioning)return!1;let s=Wa(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Wa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Tx(i.pathname,a)!=null||Tx(i.pathname,s)!=null}/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tne=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nne=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),gD=t=>{const e=nne(t);return e.charAt(0).toUpperCase()+e.slice(1)},BU=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),rne=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ine={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sne=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...l},c)=>g.createElement("svg",{ref:c,...ine,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:BU("lucide",i),...!s&&!rne(l)&&{"aria-hidden":"true"},...l},[...a.map(([u,d])=>g.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=(t,e)=>{const n=g.forwardRef(({className:r,...i},s)=>g.createElement(sne,{ref:s,iconNode:e,className:BU(`lucide-${tne(gD(t))}`,`lucide-${t}`,r),...i}));return n.displayName=gD(t),n};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ane=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],$U=X("activity",ane);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const one=[["path",{d:"M12 6.528V3a1 1 0 0 1 1-1h0",key:"11qiee"}],["path",{d:"M18.237 21A15 15 0 0 0 22 11a6 6 0 0 0-10-4.472A6 6 0 0 0 2 11a15.1 15.1 0 0 0 3.763 10 3 3 0 0 0 3.648.648 5.5 5.5 0 0 1 5.178 0A3 3 0 0 0 18.237 21",key:"110c12"}]],qU=X("apple",one);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lne=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],HU=X("arrow-left",lne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cne=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],El=X("arrow-right",cne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const une=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],GU=X("arrow-up-down",une);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dne=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],KT=X("award",dne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hne=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],YT=X("banknote",hne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fne=[["path",{d:"M17 11h1a3 3 0 0 1 0 6h-1",key:"1yp76v"}],["path",{d:"M9 12v6",key:"1u1cab"}],["path",{d:"M13 12v6",key:"1sugkk"}],["path",{d:"M14 7.5c-1 0-1.44.5-3 .5s-2-.5-3-.5-1.72.5-2.5.5a2.5 2.5 0 0 1 0-5c.78 0 1.57.5 2.5.5S9.44 2 11 2s2 1.5 3 1.5 1.72-.5 2.5-.5a2.5 2.5 0 0 1 0 5c-.78 0-1.5-.5-2.5-.5Z",key:"1510fo"}],["path",{d:"M5 8v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8",key:"19jb7n"}]],mne=X("beer",fne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pne=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],mf=X("bell",pne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gne=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],yne=X("box",gne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vne=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],AN=X("briefcase",vne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xne=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],bne=X("bug",xne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wne=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],_ne=X("calculator",wne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nne=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Vs=X("calendar",Nne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sne=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Ene=X("camera",Sne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jne=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ix=X("chart-column",jne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tne=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Ane=X("chart-pie",Tne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ine=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ka=X("check",Ine);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cne=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zu=X("chevron-down",Cne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Un=X("circle-alert",Pne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kne=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fl=X("circle-check-big",kne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],WU=X("circle-check",Rne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const One=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],Dne=X("circle-dollar-sign",One);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Lne=X("circle-question-mark",Mne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Wc=X("circle-x",Vne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zne=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]],Une=X("clipboard-copy",zne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fne=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],KU=X("clipboard-list",Fne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bne=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ca=X("clock",Bne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ne=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],qne=X("cloud-upload",$ne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hne=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Fn=X("coffee",Hne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gne=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],IN=X("cookie",Gne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wne=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],jw=X("credit-card",Wne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kne=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Yne=X("crown",Kne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qne=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],yD=X("database",Qne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xne=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],V2=X("dollar-sign",Xne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jne=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],vD=X("droplet",Jne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zne=[["path",{d:"M15.4 15.63a7.875 6 135 1 1 6.23-6.23 4.5 3.43 135 0 0-6.23 6.23",key:"1dtqwm"}],["path",{d:"m8.29 12.71-2.6 2.6a2.5 2.5 0 1 0-1.65 4.65A2.5 2.5 0 1 0 8.7 18.3l2.59-2.59",key:"1oq1fw"}]],ere=X("drumstick",Zne);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tre=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],nre=X("ellipsis-vertical",tre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],mp=X("eye-off",rre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ml=X("eye",ire);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],YU=X("facebook",sre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],ore=X("file-image",are);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lre=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],xD=X("file-text",lre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],QU=X("funnel",cre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ure=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Jp=X("gift",ure);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],hre=X("globe",dre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],mre=X("hash",fre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pre=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],QT=X("history",pre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gre=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],yre=X("image",gre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Cx=X("info",vre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xre=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],XU=X("instagram",xre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bre=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],wre=X("key",bre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _re=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],JU=X("layout-dashboard",_re);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nre=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],ZU=X("leaf",Nre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sre=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Ere=X("lightbulb",Sre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jre=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Lt=X("loader-circle",jre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tre=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],yh=X("lock",Tre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Zp=X("log-out",Are);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ire=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ir=X("mail",Ire);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cre=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],XT=X("map-pin",Cre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pre=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],kre=X("medal",Pre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rre=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],bD=X("megaphone",Rre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ore=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Tw=X("menu",Ore);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dre=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Mre=X("message-circle",Dre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lre=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Hl=X("message-square",Lre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vre=[["path",{d:"M8 2h8",key:"1ssgc1"}],["path",{d:"M9 2v2.789a4 4 0 0 1-.672 2.219l-.656.984A4 4 0 0 0 7 10.212V20a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-9.789a4 4 0 0 0-.672-2.219l-.656-.984A4 4 0 0 1 15 4.788V2",key:"qtp12x"}],["path",{d:"M7 15a6.472 6.472 0 0 1 5 0 6.47 6.47 0 0 0 5 0",key:"ygeh44"}]],zre=X("milk",Vre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ure=[["path",{d:"M5 12h14",key:"1ays0h"}]],eg=X("minus",Ure);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fre=[["path",{d:"M12 3v6",key:"1holv5"}],["path",{d:"M16.76 3a2 2 0 0 1 1.8 1.1l2.23 4.479a2 2 0 0 1 .21.891V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9.472a2 2 0 0 1 .211-.894L5.45 4.1A2 2 0 0 1 7.24 3z",key:"187q7i"}],["path",{d:"M3.054 9.013h17.893",key:"grwhos"}]],Bre=X("package-2",Fre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $re=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Xi=X("package",$re);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qre=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Hre=X("palette",qre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gre=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ys=X("phone",Gre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wre=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],uo=X("plus",Wre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kre=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Yre=X("printer",Kre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qre=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],Xre=X("quote",Qre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jre=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],wD=X("receipt",Jre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zre=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],uy=X("refresh-cw",Zre);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eie=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],pf=X("save",eie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tie=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ya=X("search",tie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nie=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],JT=X("send",nie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rie=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pp=X("settings",rie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iie=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],sie=X("share-2",iie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aie=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],oie=X("shield-alert",aie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lie=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cie=X("shield-check",lie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uie=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Or=X("shield",uie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const die=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],tg=X("shopping-bag",die);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hie=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],vh=X("shopping-cart",hie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fie=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],e8=X("snowflake",fie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mie=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ng=X("sparkles",mie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pie=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],t8=X("square-pen",pie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gie=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],vs=X("star",gie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yie=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],vie=X("store",yie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xie=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],ZT=X("thumbs-up",xie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bie=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],wie=X("thumbs-down",bie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ie=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gf=X("trash-2",_ie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nie=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Kc=X("trending-up",Nie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sie=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ms=X("triangle-alert",Sie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eie=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],jie=X("twitter",Eie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tie=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],_D=X("upload",Tie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aie=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ND=X("user-check",Aie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iie=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ki=X("user",Iie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cie=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Da=X("users",Cie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pie=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],kie=X("utensils-crossed",Pie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rie=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],n8=X("wallet",Rie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oie=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Die=X("wrench",Oie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mie=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wr=X("x",Mie);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lie=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],rg=X("zap",Lie),Vie=()=>{};var SD={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zie=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},i8={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=s>>2,h=(s&3)<<4|l>>4;let f=(l&15)<<2|u>>6,m=u&63;c||(m=64,a||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(r8(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zie(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||h==null)throw new Uie;const f=s<<2|l>>4;if(r.push(f),u!==64){const m=l<<4&240|u>>2;if(r.push(m),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Uie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fie=function(t){const e=r8(t);return i8.encodeByteArray(e,!0)},Px=function(t){return Fie(t).replace(/\./g,"")},eA=function(t){try{return i8.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kx(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Bie(n)||(t[n]=kx(t[n],e[n]));return t}function Bie(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ie=()=>tA().__FIREBASE_DEFAULTS__,qie=()=>{if(typeof process>"u"||typeof SD>"u")return;const t=SD.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Hie=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eA(t[1]);return e&&JSON.parse(e)},nA=()=>{try{return Vie()||$ie()||qie()||Hie()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rA=()=>{var t;return(t=nA())==null?void 0:t.config},Gie=t=>{var e;return(e=nA())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function iA(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Px(JSON.stringify(n)),Px(JSON.stringify(a)),""].join(".")}const gp={};function Kie(){const t={prod:[],emulator:[]};for(const e of Object.keys(gp))gp[e]?t.emulator.push(e):t.prod.push(e);return t}function Yie(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ED=!1;function sA(t,e){if(typeof window>"u"||typeof document>"u"||!Gl(window.location.host)||gp[t]===e||gp[t]||ED)return;gp[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=Kie().prod.length>0;function a(){const f=document.getElementById(r);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{ED=!0,a()},f}function d(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=Yie(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),v=n("learnmore"),x=document.getElementById(v)||document.createElement("a"),w=n("preprendIcon"),_=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const b=f.element;l(b),d(x,v);const N=u();c(_,w),b.append(_,y,x,N),document.body.appendChild(b)}s?(y.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function Aw(){var e;const t=(e=nA())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xie(){return typeof window<"u"||a8()}function a8(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Jie(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function o8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l8(){const t=Ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function c8(){return!Aw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function u8(){return!Aw()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function ig(){try{return typeof indexedDB=="object"}catch{return!1}}function Zie(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ese="FirebaseError";class vr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ese,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uu.prototype.create)}}class Uu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?tse(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new vr(i,l,r)}}function tse(t,e){return t.replace(nse,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nse=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function rse(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(TD(s)&&TD(a)){if(!jl(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function TD(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Od(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Bm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function d8(t,e){const n=new ise(t,e);return n.subscribe.bind(n)}class ise{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sse(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=CN),i.error===void 0&&(i.error=CN),i.complete===void 0&&(i.complete=CN);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sse(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function CN(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t){return t&&t._delegate?t._delegate:t}class Ji{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ase=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Wie;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lse(e))try{this.getOrInitializeService({instanceIdentifier:xc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xc){return this.instances.has(e)}getOptions(e=xc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ose(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xc){return this.component?this.component.multipleInstances?e:xc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ose(t){return t===xc?void 0:t}function lse(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ase(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=[];var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const f8={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},cse=Oe.INFO,use={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},dse=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=use[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Iw{constructor(e){this.name=e,this._logLevel=cse,this._logHandler=dse,this._userLogHandler=null,oA.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?f8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}function hse(t){oA.forEach(e=>{e.setLogLevel(t)})}function fse(t,e){for(const n of oA){let r=null;e&&e.level&&(r=f8[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...a)=>{const l=a.map(c=>{if(c==null)return null;if(typeof c=="string")return c;if(typeof c=="number"||typeof c=="boolean")return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch{return null}}).filter(c=>c).join(" ");s>=(r??i.logLevel)&&t({level:Oe[s].toLowerCase(),message:l,args:a,type:i.name})}}}const mse=(t,e)=>e.some(n=>t instanceof n);let AD,ID;function pse(){return AD||(AD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gse(){return ID||(ID=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m8=new WeakMap,z2=new WeakMap,p8=new WeakMap,PN=new WeakMap,lA=new WeakMap;function yse(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(pl(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&m8.set(n,t)}).catch(()=>{}),lA.set(e,t),e}function vse(t){if(z2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});z2.set(t,e)}let U2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return z2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||p8.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xse(t){U2=t(U2)}function bse(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kN(this),e,...n);return p8.set(r,e.sort?e.sort():[e]),pl(r)}:gse().includes(t)?function(...e){return t.apply(kN(this),e),pl(m8.get(this))}:function(...e){return pl(t.apply(kN(this),e))}}function wse(t){return typeof t=="function"?bse(t):(t instanceof IDBTransaction&&vse(t),mse(t,pse())?new Proxy(t,U2):t)}function pl(t){if(t instanceof IDBRequest)return yse(t);if(PN.has(t))return PN.get(t);const e=wse(t);return e!==t&&(PN.set(t,e),lA.set(e,t)),e}const kN=t=>lA.get(t);function _se(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=pl(a);return r&&a.addEventListener("upgradeneeded",c=>{r(pl(a.result),c.oldVersion,c.newVersion,pl(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const Nse=["get","getKey","getAll","getAllKeys","count"],Sse=["put","add","delete","clear"],RN=new Map;function CD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(RN.get(e))return RN.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Sse.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Nse.includes(n)))return;const s=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return RN.set(e,s),s}xse(t=>({...t,get:(e,n,r)=>CD(e,n)||t.get(e,n,r),has:(e,n)=>!!CD(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ese{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jse(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function jse(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rx="@firebase/app",F2="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new Iw("@firebase/app"),Tse="@firebase/app-compat",Ase="@firebase/analytics-compat",Ise="@firebase/analytics",Cse="@firebase/app-check-compat",Pse="@firebase/app-check",kse="@firebase/auth",Rse="@firebase/auth-compat",Ose="@firebase/database",Dse="@firebase/data-connect",Mse="@firebase/database-compat",Lse="@firebase/functions",Vse="@firebase/functions-compat",zse="@firebase/installations",Use="@firebase/installations-compat",Fse="@firebase/messaging",Bse="@firebase/messaging-compat",$se="@firebase/performance",qse="@firebase/performance-compat",Hse="@firebase/remote-config",Gse="@firebase/remote-config-compat",Wse="@firebase/storage",Kse="@firebase/storage-compat",Yse="@firebase/firestore",Qse="@firebase/ai",Xse="@firebase/firestore-compat",Jse="firebase",Zse="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl="[DEFAULT]",eae={[Rx]:"fire-core",[Tse]:"fire-core-compat",[Ise]:"fire-analytics",[Ase]:"fire-analytics-compat",[Pse]:"fire-app-check",[Cse]:"fire-app-check-compat",[kse]:"fire-auth",[Rse]:"fire-auth-compat",[Ose]:"fire-rtdb",[Dse]:"fire-data-connect",[Mse]:"fire-rtdb-compat",[Lse]:"fire-fn",[Vse]:"fire-fn-compat",[zse]:"fire-iid",[Use]:"fire-iid-compat",[Fse]:"fire-fcm",[Bse]:"fire-fcm-compat",[$se]:"fire-perf",[qse]:"fire-perf-compat",[Hse]:"fire-rc",[Gse]:"fire-rc-compat",[Wse]:"fire-gcs",[Kse]:"fire-gcs-compat",[Yse]:"fire-fst",[Xse]:"fire-fst-compat",[Qse]:"fire-vertex","fire-js":"fire-js",[Jse]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=new Map,xh=new Map,bh=new Map;function sg(t,e){try{t.container.addComponent(e)}catch(n){Qa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function g8(t,e){t.container.addOrOverwriteComponent(e)}function Xa(t){const e=t.name;if(bh.has(e))return Qa.debug(`There were multiple attempts to register component ${e}.`),!1;bh.set(e,t);for(const n of Al.values())sg(n,t);for(const n of xh.values())sg(n,t);return!0}function y8(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function tae(t,e,n=Tl){y8(t,e).clearInstance(n)}function cA(t){return t.options!==void 0}function v8(t){return cA(t)?!1:"authIdToken"in t||"appCheckToken"in t||"releaseOnDeref"in t||"automaticDataCollectionEnabled"in t}function Nt(t){return t==null?!1:t.settings!==void 0}function nae(){bh.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rae={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wi=new Uu("app","Firebase",rae);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x8=class{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t,e){const n=eA(t.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(n).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3,s=new Date().getTime();i-s<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class iae extends x8{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!0,a={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,a,i);else{const l=e;super(l.options,a,i)}this._serverConfig={automaticDataCollectionEnabled:s,...n},this._serverConfig.authIdToken&&PD(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&PD(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,_i(Rx,F2,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){dA(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw wi.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=Zse;function uA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Tl,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw wi.create("bad-app-name",{appName:String(i)});if(n||(n=rA()),!n)throw wi.create("no-options");const s=Al.get(i);if(s){if(jl(n,s.options)&&jl(r,s.config))return s;throw wi.create("duplicate-app",{appName:i})}const a=new h8(i);for(const c of bh.values())a.addComponent(c);const l=new x8(n,r,a);return Al.set(i,l),l}function sae(t,e={}){if(Xie()&&!a8())throw wi.create("invalid-server-app-environment");let n,r=e||{};if(t&&(cA(t)?n=t.options:v8(t)?r=t:n=t),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),n||(n=rA()),!n)throw wi.create("no-options");const i={...r,...n};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const s=d=>[...d].reduce((h,f)=>Math.imul(31,h)+f.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw wi.create("finalization-registry-not-supported",{});const a=""+s(JSON.stringify(i)),l=xh.get(a);if(l)return l.incRefCount(r.releaseOnDeref),l;const c=new h8(a);for(const d of bh.values())c.addComponent(d);const u=new iae(n,r,a,c);return xh.set(a,u),u}function aae(t=Tl){const e=Al.get(t);if(!e&&t===Tl&&rA())return uA();if(!e)throw wi.create("no-app",{appName:t});return e}function oae(){return Array.from(Al.values())}async function dA(t){let e=!1;const n=t.name;Al.has(n)?(e=!0,Al.delete(n)):xh.has(n)&&t.decRefCount()<=0&&(xh.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function _i(t,e,n){let r=eae[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qa.warn(a.join(" "));return}Xa(new Ji(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function b8(t,e){if(t!==null&&typeof t!="function")throw wi.create("invalid-log-argument");fse(t,e)}function w8(t){hse(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lae="firebase-heartbeat-database",cae=1,ag="firebase-heartbeat-store";let ON=null;function _8(){return ON||(ON=_se(lae,cae,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ag)}catch(n){console.warn(n)}}}}).catch(t=>{throw wi.create("idb-open",{originalErrorMessage:t.message})})),ON}async function uae(t){try{const n=(await _8()).transaction(ag),r=await n.objectStore(ag).get(N8(t));return await n.done,r}catch(e){if(e instanceof vr)Qa.warn(e.message);else{const n=wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qa.warn(n.message)}}}async function kD(t,e){try{const r=(await _8()).transaction(ag,"readwrite");await r.objectStore(ag).put(e,N8(t)),await r.done}catch(n){if(n instanceof vr)Qa.warn(n.message);else{const r=wi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qa.warn(r.message)}}}function N8(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dae=1024,hae=30;class fae{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pae(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=RD();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>hae){const a=gae(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=RD(),{heartbeatsToSend:r,unsentEntries:i}=mae(this._heartbeatsCache.heartbeats),s=Px(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Qa.warn(n),""}}}function RD(){return new Date().toISOString().substring(0,10)}function mae(t,e=dae){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),OD(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),OD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class pae{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ig()?Zie().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uae(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return kD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return kD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function OD(t){return Px(JSON.stringify({version:2,heartbeats:t})).length}function gae(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yae(t){Xa(new Ji("platform-logger",e=>new Ese(e),"PRIVATE")),Xa(new Ji("heartbeat",e=>new fae(e),"PRIVATE")),_i(Rx,F2,t),_i(Rx,F2,"esm2020"),_i("fire-js","")}yae("");const vae=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:vr,SDK_VERSION:ho,_DEFAULT_ENTRY_NAME:Tl,_addComponent:sg,_addOrOverwriteComponent:g8,_apps:Al,_clearComponents:nae,_components:bh,_getProvider:y8,_isFirebaseApp:cA,_isFirebaseServerApp:Nt,_isFirebaseServerAppSettings:v8,_registerComponent:Xa,_removeServiceInstance:tae,_serverApps:xh,deleteApp:dA,getApp:aae,getApps:oae,initializeApp:uA,initializeServerApp:sae,onLog:b8,registerVersion:_i,setLogLevel:w8},Symbol.toStringTag,{value:"Module"}));var DD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gl,S8;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,T){function A(){}A.prototype=T.prototype,j.F=T.prototype,j.prototype=new A,j.prototype.constructor=j,j.D=function(P,k,O){for(var R=Array(arguments.length-2),V=2;V<arguments.length;V++)R[V-2]=arguments[V];return T.prototype[k].apply(P,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(j,T,A){A||(A=0);const P=Array(16);if(typeof T=="string")for(var k=0;k<16;++k)P[k]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(k=0;k<16;++k)P[k]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=j.g[0],A=j.g[1],k=j.g[2];let O=j.g[3],R;R=T+(O^A&(k^O))+P[0]+3614090360&4294967295,T=A+(R<<7&4294967295|R>>>25),R=O+(k^T&(A^k))+P[1]+3905402710&4294967295,O=T+(R<<12&4294967295|R>>>20),R=k+(A^O&(T^A))+P[2]+606105819&4294967295,k=O+(R<<17&4294967295|R>>>15),R=A+(T^k&(O^T))+P[3]+3250441966&4294967295,A=k+(R<<22&4294967295|R>>>10),R=T+(O^A&(k^O))+P[4]+4118548399&4294967295,T=A+(R<<7&4294967295|R>>>25),R=O+(k^T&(A^k))+P[5]+1200080426&4294967295,O=T+(R<<12&4294967295|R>>>20),R=k+(A^O&(T^A))+P[6]+2821735955&4294967295,k=O+(R<<17&4294967295|R>>>15),R=A+(T^k&(O^T))+P[7]+4249261313&4294967295,A=k+(R<<22&4294967295|R>>>10),R=T+(O^A&(k^O))+P[8]+1770035416&4294967295,T=A+(R<<7&4294967295|R>>>25),R=O+(k^T&(A^k))+P[9]+2336552879&4294967295,O=T+(R<<12&4294967295|R>>>20),R=k+(A^O&(T^A))+P[10]+4294925233&4294967295,k=O+(R<<17&4294967295|R>>>15),R=A+(T^k&(O^T))+P[11]+2304563134&4294967295,A=k+(R<<22&4294967295|R>>>10),R=T+(O^A&(k^O))+P[12]+1804603682&4294967295,T=A+(R<<7&4294967295|R>>>25),R=O+(k^T&(A^k))+P[13]+4254626195&4294967295,O=T+(R<<12&4294967295|R>>>20),R=k+(A^O&(T^A))+P[14]+2792965006&4294967295,k=O+(R<<17&4294967295|R>>>15),R=A+(T^k&(O^T))+P[15]+1236535329&4294967295,A=k+(R<<22&4294967295|R>>>10),R=T+(k^O&(A^k))+P[1]+4129170786&4294967295,T=A+(R<<5&4294967295|R>>>27),R=O+(A^k&(T^A))+P[6]+3225465664&4294967295,O=T+(R<<9&4294967295|R>>>23),R=k+(T^A&(O^T))+P[11]+643717713&4294967295,k=O+(R<<14&4294967295|R>>>18),R=A+(O^T&(k^O))+P[0]+3921069994&4294967295,A=k+(R<<20&4294967295|R>>>12),R=T+(k^O&(A^k))+P[5]+3593408605&4294967295,T=A+(R<<5&4294967295|R>>>27),R=O+(A^k&(T^A))+P[10]+38016083&4294967295,O=T+(R<<9&4294967295|R>>>23),R=k+(T^A&(O^T))+P[15]+3634488961&4294967295,k=O+(R<<14&4294967295|R>>>18),R=A+(O^T&(k^O))+P[4]+3889429448&4294967295,A=k+(R<<20&4294967295|R>>>12),R=T+(k^O&(A^k))+P[9]+568446438&4294967295,T=A+(R<<5&4294967295|R>>>27),R=O+(A^k&(T^A))+P[14]+3275163606&4294967295,O=T+(R<<9&4294967295|R>>>23),R=k+(T^A&(O^T))+P[3]+4107603335&4294967295,k=O+(R<<14&4294967295|R>>>18),R=A+(O^T&(k^O))+P[8]+1163531501&4294967295,A=k+(R<<20&4294967295|R>>>12),R=T+(k^O&(A^k))+P[13]+2850285829&4294967295,T=A+(R<<5&4294967295|R>>>27),R=O+(A^k&(T^A))+P[2]+4243563512&4294967295,O=T+(R<<9&4294967295|R>>>23),R=k+(T^A&(O^T))+P[7]+1735328473&4294967295,k=O+(R<<14&4294967295|R>>>18),R=A+(O^T&(k^O))+P[12]+2368359562&4294967295,A=k+(R<<20&4294967295|R>>>12),R=T+(A^k^O)+P[5]+4294588738&4294967295,T=A+(R<<4&4294967295|R>>>28),R=O+(T^A^k)+P[8]+2272392833&4294967295,O=T+(R<<11&4294967295|R>>>21),R=k+(O^T^A)+P[11]+1839030562&4294967295,k=O+(R<<16&4294967295|R>>>16),R=A+(k^O^T)+P[14]+4259657740&4294967295,A=k+(R<<23&4294967295|R>>>9),R=T+(A^k^O)+P[1]+2763975236&4294967295,T=A+(R<<4&4294967295|R>>>28),R=O+(T^A^k)+P[4]+1272893353&4294967295,O=T+(R<<11&4294967295|R>>>21),R=k+(O^T^A)+P[7]+4139469664&4294967295,k=O+(R<<16&4294967295|R>>>16),R=A+(k^O^T)+P[10]+3200236656&4294967295,A=k+(R<<23&4294967295|R>>>9),R=T+(A^k^O)+P[13]+681279174&4294967295,T=A+(R<<4&4294967295|R>>>28),R=O+(T^A^k)+P[0]+3936430074&4294967295,O=T+(R<<11&4294967295|R>>>21),R=k+(O^T^A)+P[3]+3572445317&4294967295,k=O+(R<<16&4294967295|R>>>16),R=A+(k^O^T)+P[6]+76029189&4294967295,A=k+(R<<23&4294967295|R>>>9),R=T+(A^k^O)+P[9]+3654602809&4294967295,T=A+(R<<4&4294967295|R>>>28),R=O+(T^A^k)+P[12]+3873151461&4294967295,O=T+(R<<11&4294967295|R>>>21),R=k+(O^T^A)+P[15]+530742520&4294967295,k=O+(R<<16&4294967295|R>>>16),R=A+(k^O^T)+P[2]+3299628645&4294967295,A=k+(R<<23&4294967295|R>>>9),R=T+(k^(A|~O))+P[0]+4096336452&4294967295,T=A+(R<<6&4294967295|R>>>26),R=O+(A^(T|~k))+P[7]+1126891415&4294967295,O=T+(R<<10&4294967295|R>>>22),R=k+(T^(O|~A))+P[14]+2878612391&4294967295,k=O+(R<<15&4294967295|R>>>17),R=A+(O^(k|~T))+P[5]+4237533241&4294967295,A=k+(R<<21&4294967295|R>>>11),R=T+(k^(A|~O))+P[12]+1700485571&4294967295,T=A+(R<<6&4294967295|R>>>26),R=O+(A^(T|~k))+P[3]+2399980690&4294967295,O=T+(R<<10&4294967295|R>>>22),R=k+(T^(O|~A))+P[10]+4293915773&4294967295,k=O+(R<<15&4294967295|R>>>17),R=A+(O^(k|~T))+P[1]+2240044497&4294967295,A=k+(R<<21&4294967295|R>>>11),R=T+(k^(A|~O))+P[8]+1873313359&4294967295,T=A+(R<<6&4294967295|R>>>26),R=O+(A^(T|~k))+P[15]+4264355552&4294967295,O=T+(R<<10&4294967295|R>>>22),R=k+(T^(O|~A))+P[6]+2734768916&4294967295,k=O+(R<<15&4294967295|R>>>17),R=A+(O^(k|~T))+P[13]+1309151649&4294967295,A=k+(R<<21&4294967295|R>>>11),R=T+(k^(A|~O))+P[4]+4149444226&4294967295,T=A+(R<<6&4294967295|R>>>26),R=O+(A^(T|~k))+P[11]+3174756917&4294967295,O=T+(R<<10&4294967295|R>>>22),R=k+(T^(O|~A))+P[2]+718787259&4294967295,k=O+(R<<15&4294967295|R>>>17),R=A+(O^(k|~T))+P[9]+3951481745&4294967295,j.g[0]=j.g[0]+T&4294967295,j.g[1]=j.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,j.g[2]=j.g[2]+k&4294967295,j.g[3]=j.g[3]+O&4294967295}r.prototype.v=function(j,T){T===void 0&&(T=j.length);const A=T-this.blockSize,P=this.C;let k=this.h,O=0;for(;O<T;){if(k==0)for(;O<=A;)i(this,j,O),O+=this.blockSize;if(typeof j=="string"){for(;O<T;)if(P[k++]=j.charCodeAt(O++),k==this.blockSize){i(this,P),k=0;break}}else for(;O<T;)if(P[k++]=j[O++],k==this.blockSize){i(this,P),k=0;break}}this.h=k,this.o+=T},r.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var T=1;T<j.length-8;++T)j[T]=0;T=this.o*8;for(var A=j.length-8;A<j.length;++A)j[A]=T&255,T/=256;for(this.v(j),j=Array(16),T=0,A=0;A<4;++A)for(let P=0;P<32;P+=8)j[T++]=this.g[A]>>>P&255;return j};function s(j,T){var A=l;return Object.prototype.hasOwnProperty.call(A,j)?A[j]:A[j]=T(j)}function a(j,T){this.h=T;const A=[];let P=!0;for(let k=j.length-1;k>=0;k--){const O=j[k]|0;P&&O==T||(A[k]=O,P=!1)}this.g=A}var l={};function c(j){return-128<=j&&j<128?s(j,function(T){return new a([T|0],T<0?-1:0)}):new a([j|0],j<0?-1:0)}function u(j){if(isNaN(j)||!isFinite(j))return h;if(j<0)return x(u(-j));const T=[];let A=1;for(let P=0;j>=A;P++)T[P]=j/A|0,A*=4294967296;return new a(T,0)}function d(j,T){if(j.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(j.charAt(0)=="-")return x(d(j.substring(1),T));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=u(Math.pow(T,8));let P=h;for(let O=0;O<j.length;O+=8){var k=Math.min(8,j.length-O);const R=parseInt(j.substring(O,O+k),T);k<8?(k=u(Math.pow(T,k)),P=P.j(k).add(u(R))):(P=P.j(A),P=P.add(u(R)))}return P}var h=c(0),f=c(1),m=c(16777216);t=a.prototype,t.m=function(){if(v(this))return-x(this).m();let j=0,T=1;for(let A=0;A<this.g.length;A++){const P=this.i(A);j+=(P>=0?P:4294967296+P)*T,T*=4294967296}return j},t.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(y(this))return"0";if(v(this))return"-"+x(this).toString(j);const T=u(Math.pow(j,6));var A=this;let P="";for(;;){const k=N(A,T).g;A=w(A,k.j(T));let O=((A.g.length>0?A.g[0]:A.h)>>>0).toString(j);if(A=k,y(A))return O+P;for(;O.length<6;)O="0"+O;P=O+P}},t.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function y(j){if(j.h!=0)return!1;for(let T=0;T<j.g.length;T++)if(j.g[T]!=0)return!1;return!0}function v(j){return j.h==-1}t.l=function(j){return j=w(this,j),v(j)?-1:y(j)?0:1};function x(j){const T=j.g.length,A=[];for(let P=0;P<T;P++)A[P]=~j.g[P];return new a(A,~j.h).add(f)}t.abs=function(){return v(this)?x(this):this},t.add=function(j){const T=Math.max(this.g.length,j.g.length),A=[];let P=0;for(let k=0;k<=T;k++){let O=P+(this.i(k)&65535)+(j.i(k)&65535),R=(O>>>16)+(this.i(k)>>>16)+(j.i(k)>>>16);P=R>>>16,O&=65535,R&=65535,A[k]=R<<16|O}return new a(A,A[A.length-1]&-2147483648?-1:0)};function w(j,T){return j.add(x(T))}t.j=function(j){if(y(this)||y(j))return h;if(v(this))return v(j)?x(this).j(x(j)):x(x(this).j(j));if(v(j))return x(this.j(x(j)));if(this.l(m)<0&&j.l(m)<0)return u(this.m()*j.m());const T=this.g.length+j.g.length,A=[];for(var P=0;P<2*T;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(let k=0;k<j.g.length;k++){const O=this.i(P)>>>16,R=this.i(P)&65535,V=j.i(k)>>>16,M=j.i(k)&65535;A[2*P+2*k]+=R*M,_(A,2*P+2*k),A[2*P+2*k+1]+=O*M,_(A,2*P+2*k+1),A[2*P+2*k+1]+=R*V,_(A,2*P+2*k+1),A[2*P+2*k+2]+=O*V,_(A,2*P+2*k+2)}for(j=0;j<T;j++)A[j]=A[2*j+1]<<16|A[2*j];for(j=T;j<2*T;j++)A[j]=0;return new a(A,0)};function _(j,T){for(;(j[T]&65535)!=j[T];)j[T+1]+=j[T]>>>16,j[T]&=65535,T++}function b(j,T){this.g=j,this.h=T}function N(j,T){if(y(T))throw Error("division by zero");if(y(j))return new b(h,h);if(v(j))return T=N(x(j),T),new b(x(T.g),x(T.h));if(v(T))return T=N(j,x(T)),new b(x(T.g),T.h);if(j.g.length>30){if(v(j)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var A=f,P=T;P.l(j)<=0;)A=E(A),P=E(P);var k=C(A,1),O=C(P,1);for(P=C(P,2),A=C(A,2);!y(P);){var R=O.add(P);R.l(j)<=0&&(k=k.add(A),O=R),P=C(P,1),A=C(A,1)}return T=w(j,k.j(T)),new b(k,T)}for(k=h;j.l(T)>=0;){for(A=Math.max(1,Math.floor(j.m()/T.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),O=u(A),R=O.j(T);v(R)||R.l(j)>0;)A-=P,O=u(A),R=O.j(T);y(O)&&(O=f),k=k.add(O),j=w(j,R)}return new b(k,j)}t.B=function(j){return N(this,j).h},t.and=function(j){const T=Math.max(this.g.length,j.g.length),A=[];for(let P=0;P<T;P++)A[P]=this.i(P)&j.i(P);return new a(A,this.h&j.h)},t.or=function(j){const T=Math.max(this.g.length,j.g.length),A=[];for(let P=0;P<T;P++)A[P]=this.i(P)|j.i(P);return new a(A,this.h|j.h)},t.xor=function(j){const T=Math.max(this.g.length,j.g.length),A=[];for(let P=0;P<T;P++)A[P]=this.i(P)^j.i(P);return new a(A,this.h^j.h)};function E(j){const T=j.g.length+1,A=[];for(let P=0;P<T;P++)A[P]=j.i(P)<<1|j.i(P-1)>>>31;return new a(A,j.h)}function C(j,T){const A=T>>5;T%=32;const P=j.g.length-A,k=[];for(let O=0;O<P;O++)k[O]=T>0?j.i(O+A)>>>T|j.i(O+A+1)<<32-T:j.i(O+A);return new a(k,j.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,S8=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,gl=a}).apply(typeof DD<"u"?DD:typeof self<"u"?self:typeof window<"u"?window:{});var R0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E8,$m,j8,Iv,B2,T8,A8,I8;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof R0=="object"&&R0];for(var S=0;S<p.length;++S){var I=p[S];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(p,S){if(S)e:{var I=r;p=p.split(".");for(var D=0;D<p.length-1;D++){var U=p[D];if(!(U in I))break e;I=I[U]}p=p[p.length-1],D=I[p],S=S(D),S!=D&&S!=null&&e(I,p,{configurable:!0,writable:!0,value:S})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(S){var I=[],D;for(D in S)Object.prototype.hasOwnProperty.call(S,D)&&I.push([D,S[D]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(p){var S=typeof p;return S=="object"&&p!=null||S=="function"}function c(p,S,I){return p.call.apply(p.bind,arguments)}function u(p,S,I){return u=c,u.apply(null,arguments)}function d(p,S){var I=Array.prototype.slice.call(arguments,1);return function(){var D=I.slice();return D.push.apply(D,arguments),p.apply(this,D)}}function h(p,S){function I(){}I.prototype=S.prototype,p.Z=S.prototype,p.prototype=new I,p.prototype.constructor=p,p.Ob=function(D,U,q){for(var ae=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)ae[ke-2]=arguments[ke];return S.prototype[U].apply(D,ae)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function m(p){const S=p.length;if(S>0){const I=Array(S);for(let D=0;D<S;D++)I[D]=p[D];return I}return[]}function y(p,S){for(let D=1;D<arguments.length;D++){const U=arguments[D];var I=typeof U;if(I=I!="object"?I:U?Array.isArray(U)?"array":I:"null",I=="array"||I=="object"&&typeof U.length=="number"){I=p.length||0;const q=U.length||0;p.length=I+q;for(let ae=0;ae<q;ae++)p[I+ae]=U[ae]}else p.push(U)}}class v{constructor(S,I){this.i=S,this.j=I,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function x(p){a.setTimeout(()=>{throw p},0)}function w(){var p=j;let S=null;return p.g&&(S=p.g,p.g=p.g.next,p.g||(p.h=null),S.next=null),S}class _{constructor(){this.h=this.g=null}add(S,I){const D=b.get();D.set(S,I),this.h?this.h.next=D:this.g=D,this.h=D}}var b=new v(()=>new N,p=>p.reset());class N{constructor(){this.next=this.g=this.h=null}set(S,I){this.h=S,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let E,C=!1,j=new _,T=()=>{const p=Promise.resolve(void 0);E=()=>{p.then(A)}};function A(){for(var p;p=w();){try{p.h.call(p.g)}catch(I){x(I)}var S=b;S.j(p),S.h<100&&(S.h++,p.next=S.g,S.g=p)}C=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(p,S){this.type=p,this.g=this.target=S,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var p=!1,S=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const I=()=>{};a.addEventListener("test",I,S),a.removeEventListener("test",I,S)}catch{}return p}();function R(p){return/^[\s\xa0]*$/.test(p)}function V(p,S){k.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,S)}h(V,k),V.prototype.init=function(p,S){const I=this.type=p.type,D=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=S,S=p.relatedTarget,S||(I=="mouseover"?S=p.fromElement:I=="mouseout"&&(S=p.toElement)),this.relatedTarget=S,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&V.Z.h.call(this)},V.prototype.h=function(){V.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var M="closure_listenable_"+(Math.random()*1e6|0),L=0;function B(p,S,I,D,U){this.listener=p,this.proxy=null,this.src=S,this.type=I,this.capture=!!D,this.ha=U,this.key=++L,this.da=this.fa=!1}function G(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ee(p,S,I){for(const D in p)S.call(I,p[D],D,p)}function Z(p,S){for(const I in p)S.call(void 0,p[I],I,p)}function H(p){const S={};for(const I in p)S[I]=p[I];return S}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xe(p,S){let I,D;for(let U=1;U<arguments.length;U++){D=arguments[U];for(I in D)p[I]=D[I];for(let q=0;q<oe.length;q++)I=oe[q],Object.prototype.hasOwnProperty.call(D,I)&&(p[I]=D[I])}}function re(p){this.src=p,this.g={},this.h=0}re.prototype.add=function(p,S,I,D,U){const q=p.toString();p=this.g[q],p||(p=this.g[q]=[],this.h++);const ae=ne(p,S,D,U);return ae>-1?(S=p[ae],I||(S.fa=!1)):(S=new B(S,this.src,q,!!D,U),S.fa=I,p.push(S)),S};function ve(p,S){const I=S.type;if(I in p.g){var D=p.g[I],U=Array.prototype.indexOf.call(D,S,void 0),q;(q=U>=0)&&Array.prototype.splice.call(D,U,1),q&&(G(S),p.g[I].length==0&&(delete p.g[I],p.h--))}}function ne(p,S,I,D){for(let U=0;U<p.length;++U){const q=p[U];if(!q.da&&q.listener==S&&q.capture==!!I&&q.ha==D)return U}return-1}var ie="closure_lm_"+(Math.random()*1e6|0),je={};function W(p,S,I,D,U){if(Array.isArray(S)){for(let q=0;q<S.length;q++)W(p,S[q],I,D,U);return null}return I=qf(I),p&&p[M]?p.J(S,I,l(D)?!!D.capture:!1,U):pe(p,S,I,!1,D,U)}function pe(p,S,I,D,U,q){if(!S)throw Error("Invalid event type");const ae=l(U)?!!U.capture:!!U;let ke=Gn(p);if(ke||(p[ie]=ke=new re(p)),I=ke.add(S,I,D,ae,q),I.proxy)return I;if(D=Se(),I.proxy=D,D.src=p,D.listener=I,p.addEventListener)O||(U=ae),U===void 0&&(U=!1),p.addEventListener(S.toString(),D,U);else if(p.attachEvent)p.attachEvent(Pe(S.toString()),D);else if(p.addListener&&p.removeListener)p.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Se(){function p(I){return S.call(p.src,p.listener,I)}const S=Sr;return p}function Y(p,S,I,D,U){if(Array.isArray(S))for(var q=0;q<S.length;q++)Y(p,S[q],I,D,U);else D=l(D)?!!D.capture:!!D,I=qf(I),p&&p[M]?(p=p.i,q=String(S).toString(),q in p.g&&(S=p.g[q],I=ne(S,I,D,U),I>-1&&(G(S[I]),Array.prototype.splice.call(S,I,1),S.length==0&&(delete p.g[q],p.h--)))):p&&(p=Gn(p))&&(S=p.g[S.toString()],p=-1,S&&(p=ne(S,I,D,U)),(I=p>-1?S[p]:null)&&rt(I))}function rt(p){if(typeof p!="number"&&p&&!p.da){var S=p.src;if(S&&S[M])ve(S.i,p);else{var I=p.type,D=p.proxy;S.removeEventListener?S.removeEventListener(I,D,p.capture):S.detachEvent?S.detachEvent(Pe(I),D):S.addListener&&S.removeListener&&S.removeListener(D),(I=Gn(S))?(ve(I,p),I.h==0&&(I.src=null,S[ie]=null)):G(p)}}}function Pe(p){return p in je?je[p]:je[p]="on"+p}function Sr(p,S){if(p.da)p=!0;else{S=new V(S,this);const I=p.listener,D=p.ha||p.src;p.fa&&rt(p),p=I.call(D,S)}return p}function Gn(p){return p=p[ie],p instanceof re?p:null}var ss="__closure_events_fn_"+(Math.random()*1e9>>>0);function qf(p){return typeof p=="function"?p:(p[ss]||(p[ss]=function(S){return p.handleEvent(S)}),p[ss])}function cr(){P.call(this),this.i=new re(this),this.M=this,this.G=null}h(cr,P),cr.prototype[M]=!0,cr.prototype.removeEventListener=function(p,S,I,D){Y(this,p,S,I,D)};function Er(p,S){var I,D=p.G;if(D)for(I=[];D;D=D.G)I.push(D);if(p=p.M,D=S.type||S,typeof S=="string")S=new k(S,p);else if(S instanceof k)S.target=S.target||p;else{var U=S;S=new k(D,p),xe(S,U)}U=!0;let q,ae;if(I)for(ae=I.length-1;ae>=0;ae--)q=S.g=I[ae],U=i0(q,D,!0,S)&&U;if(q=S.g=p,U=i0(q,D,!0,S)&&U,U=i0(q,D,!1,S)&&U,I)for(ae=0;ae<I.length;ae++)q=S.g=I[ae],U=i0(q,D,!1,S)&&U}cr.prototype.N=function(){if(cr.Z.N.call(this),this.i){var p=this.i;for(const S in p.g){const I=p.g[S];for(let D=0;D<I.length;D++)G(I[D]);delete p.g[S],p.h--}}this.G=null},cr.prototype.J=function(p,S,I,D){return this.i.add(String(p),S,!1,I,D)},cr.prototype.K=function(p,S,I,D){return this.i.add(String(p),S,!0,I,D)};function i0(p,S,I,D){if(S=p.i.g[String(S)],!S)return!0;S=S.concat();let U=!0;for(let q=0;q<S.length;++q){const ae=S[q];if(ae&&!ae.da&&ae.capture==I){const ke=ae.listener,wn=ae.ha||ae.src;ae.fa&&ve(p.i,ae),U=ke.call(wn,D)!==!1&&U}}return U&&!D.defaultPrevented}function tX(p,S){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=u(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:a.setTimeout(p,S||0)}function Bk(p){p.g=tX(()=>{p.g=null,p.i&&(p.i=!1,Bk(p))},p.l);const S=p.h;p.h=null,p.m.apply(null,S)}class nX extends P{constructor(S,I){super(),this.m=S,this.l=I,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Bk(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hf(p){P.call(this),this.h=p,this.g={}}h(Hf,P);var $k=[];function qk(p){ee(p.g,function(S,I){this.g.hasOwnProperty(I)&&rt(S)},p),p.g={}}Hf.prototype.N=function(){Hf.Z.N.call(this),qk(this)},Hf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var E_=a.JSON.stringify,rX=a.JSON.parse,iX=class{stringify(p){return a.JSON.stringify(p,void 0)}parse(p){return a.JSON.parse(p,void 0)}};function Hk(){}function Gk(){}var Gf={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function j_(){k.call(this,"d")}h(j_,k);function T_(){k.call(this,"c")}h(T_,k);var ac={},Wk=null;function s0(){return Wk=Wk||new cr}ac.Ia="serverreachability";function Kk(p){k.call(this,ac.Ia,p)}h(Kk,k);function Wf(p){const S=s0();Er(S,new Kk(S))}ac.STAT_EVENT="statevent";function Yk(p,S){k.call(this,ac.STAT_EVENT,p),this.stat=S}h(Yk,k);function jr(p){const S=s0();Er(S,new Yk(S,p))}ac.Ja="timingevent";function Qk(p,S){k.call(this,ac.Ja,p),this.size=S}h(Qk,k);function Kf(p,S){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){p()},S)}function Yf(){this.g=!0}Yf.prototype.ua=function(){this.g=!1};function sX(p,S,I,D,U,q){p.info(function(){if(p.g)if(q){var ae="",ke=q.split("&");for(let ot=0;ot<ke.length;ot++){var wn=ke[ot].split("=");if(wn.length>1){const kn=wn[0];wn=wn[1];const Es=kn.split("_");ae=Es.length>=2&&Es[1]=="type"?ae+(kn+"="+wn+"&"):ae+(kn+"=redacted&")}}}else ae=null;else ae=q;return"XMLHTTP REQ ("+D+") [attempt "+U+"]: "+S+`
`+I+`
`+ae})}function aX(p,S,I,D,U,q,ae){p.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+U+"]: "+S+`
`+I+`
`+q+" "+ae})}function Xu(p,S,I,D){p.info(function(){return"XMLHTTP TEXT ("+S+"): "+lX(p,I)+(D?" "+D:"")})}function oX(p,S){p.info(function(){return"TIMEOUT: "+S})}Yf.prototype.info=function(){};function lX(p,S){if(!p.g)return S;if(!S)return null;try{const q=JSON.parse(S);if(q){for(p=0;p<q.length;p++)if(Array.isArray(q[p])){var I=q[p];if(!(I.length<2)){var D=I[1];if(Array.isArray(D)&&!(D.length<1)){var U=D[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ae=1;ae<D.length;ae++)D[ae]=""}}}}return E_(q)}catch{return S}}var a0={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xk={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jk;function A_(){}h(A_,Hk),A_.prototype.g=function(){return new XMLHttpRequest},Jk=new A_;function Qf(p){return encodeURIComponent(String(p))}function cX(p){var S=1;p=p.split(":");const I=[];for(;S>0&&p.length;)I.push(p.shift()),S--;return p.length&&I.push(p.join(":")),I}function To(p,S,I,D){this.j=p,this.i=S,this.l=I,this.S=D||1,this.V=new Hf(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zk}function Zk(){this.i=null,this.g="",this.h=!1}var eR={},I_={};function C_(p,S,I){p.M=1,p.A=l0(Ss(S)),p.u=I,p.R=!0,tR(p,null)}function tR(p,S){p.F=Date.now(),o0(p),p.B=Ss(p.A);var I=p.B,D=p.S;Array.isArray(D)||(D=[String(D)]),mR(I.i,"t",D),p.C=0,I=p.j.L,p.h=new Zk,p.g=kR(p.j,I?S:null,!p.u),p.P>0&&(p.O=new nX(u(p.Y,p,p.g),p.P)),S=p.V,I=p.g,D=p.ba;var U="readystatechange";Array.isArray(U)||(U&&($k[0]=U.toString()),U=$k);for(let q=0;q<U.length;q++){const ae=W(I,U[q],D||S.handleEvent,!1,S.h||S);if(!ae)break;S.g[ae.key]=ae}S=p.J?H(p.J):{},p.u?(p.v||(p.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,S)):(p.v="GET",p.g.ea(p.B,p.v,null,S)),Wf(),sX(p.i,p.v,p.B,p.l,p.S,p.u)}To.prototype.ba=function(p){p=p.target;const S=this.O;S&&Co(p)==3?S.j():this.Y(p)},To.prototype.Y=function(p){try{if(p==this.g)e:{const ke=Co(this.g),wn=this.g.ya(),ot=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||wR(this.g)))){this.K||ke!=4||wn==7||(wn==8||ot<=0?Wf(3):Wf(2)),P_(this);var S=this.g.ca();this.X=S;var I=uX(this);if(this.o=S==200,aX(this.i,this.v,this.B,this.l,this.S,ke,S),this.o){if(this.U&&!this.L){t:{if(this.g){var D,U=this.g;if((D=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(D)){var q=D;break t}}q=null}if(p=q)Xu(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,k_(this,p);else{this.o=!1,this.m=3,jr(12),oc(this),Xf(this);break e}}if(this.R){p=!0;let kn;for(;!this.K&&this.C<I.length;)if(kn=dX(this,I),kn==I_){ke==4&&(this.m=4,jr(14),p=!1),Xu(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==eR){this.m=4,jr(15),Xu(this.i,this.l,I,"[Invalid Chunk]"),p=!1;break}else Xu(this.i,this.l,kn,null),k_(this,kn);if(nR(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||I.length!=0||this.h.h||(this.m=1,jr(16),p=!1),this.o=this.o&&p,!p)Xu(this.i,this.l,I,"[Invalid Chunked Response]"),oc(this),Xf(this);else if(I.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),U_(ae),ae.P=!0,jr(11))}}else Xu(this.i,this.l,I,null),k_(this,I);ke==4&&oc(this),this.o&&!this.K&&(ke==4?AR(this.j,this):(this.o=!1,o0(this)))}else EX(this.g),S==400&&I.indexOf("Unknown SID")>0?(this.m=3,jr(12)):(this.m=0,jr(13)),oc(this),Xf(this)}}}catch{}finally{}};function uX(p){if(!nR(p))return p.g.la();const S=wR(p.g);if(S==="")return"";let I="";const D=S.length,U=Co(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return oc(p),Xf(p),"";p.h.i=new a.TextDecoder}for(let q=0;q<D;q++)p.h.h=!0,I+=p.h.i.decode(S[q],{stream:!(U&&q==D-1)});return S.length=0,p.h.g+=I,p.C=0,p.h.g}function nR(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function dX(p,S){var I=p.C,D=S.indexOf(`
`,I);return D==-1?I_:(I=Number(S.substring(I,D)),isNaN(I)?eR:(D+=1,D+I>S.length?I_:(S=S.slice(D,D+I),p.C=D+I,S)))}To.prototype.cancel=function(){this.K=!0,oc(this)};function o0(p){p.T=Date.now()+p.H,rR(p,p.H)}function rR(p,S){if(p.D!=null)throw Error("WatchDog timer not null");p.D=Kf(u(p.aa,p),S)}function P_(p){p.D&&(a.clearTimeout(p.D),p.D=null)}To.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(oX(this.i,this.B),this.M!=2&&(Wf(),jr(17)),oc(this),this.m=2,Xf(this)):rR(this,this.T-p)};function Xf(p){p.j.I==0||p.K||AR(p.j,p)}function oc(p){P_(p);var S=p.O;S&&typeof S.dispose=="function"&&S.dispose(),p.O=null,qk(p.V),p.g&&(S=p.g,p.g=null,S.abort(),S.dispose())}function k_(p,S){try{var I=p.j;if(I.I!=0&&(I.g==p||R_(I.h,p))){if(!p.L&&R_(I.h,p)&&I.I==3){try{var D=I.Ba.g.parse(S)}catch{D=null}if(Array.isArray(D)&&D.length==3){var U=D;if(U[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<p.F)f0(I),d0(I);else break e;z_(I),jr(18)}}else I.xa=U[1],0<I.xa-I.K&&U[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=Kf(u(I.Va,I),6e3));aR(I.h)<=1&&I.ta&&(I.ta=void 0)}else cc(I,11)}else if((p.L||I.g==p)&&f0(I),!R(S))for(U=I.Ba.g.parse(S),S=0;S<U.length;S++){let ot=U[S];const kn=ot[0];if(!(kn<=I.K))if(I.K=kn,ot=ot[1],I.I==2)if(ot[0]=="c"){I.M=ot[1],I.ba=ot[2];const Es=ot[3];Es!=null&&(I.ka=Es,I.j.info("VER="+I.ka));const uc=ot[4];uc!=null&&(I.za=uc,I.j.info("SVER="+I.za));const Po=ot[5];Po!=null&&typeof Po=="number"&&Po>0&&(D=1.5*Po,I.O=D,I.j.info("backChannelRequestTimeoutMs_="+D)),D=I;const ko=p.g;if(ko){const p0=ko.g?ko.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p0){var q=D.h;q.g||p0.indexOf("spdy")==-1&&p0.indexOf("quic")==-1&&p0.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(O_(q,q.h),q.h=null))}if(D.G){const F_=ko.g?ko.g.getResponseHeader("X-HTTP-Session-Id"):null;F_&&(D.wa=F_,vt(D.J,D.G,F_))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-p.F,I.j.info("Handshake RTT: "+I.T+"ms")),D=I;var ae=p;if(D.na=PR(D,D.L?D.ba:null,D.W),ae.L){oR(D.h,ae);var ke=ae,wn=D.O;wn&&(ke.H=wn),ke.D&&(P_(ke),o0(ke)),D.g=ae}else jR(D);I.i.length>0&&h0(I)}else ot[0]!="stop"&&ot[0]!="close"||cc(I,7);else I.I==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?cc(I,7):V_(I):ot[0]!="noop"&&I.l&&I.l.qa(ot),I.A=0)}}Wf(4)}catch{}}var hX=class{constructor(p,S){this.g=p,this.map=S}};function iR(p){this.l=p||10,a.PerformanceNavigationTiming?(p=a.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function sR(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function aR(p){return p.h?1:p.g?p.g.size:0}function R_(p,S){return p.h?p.h==S:p.g?p.g.has(S):!1}function O_(p,S){p.g?p.g.add(S):p.h=S}function oR(p,S){p.h&&p.h==S?p.h=null:p.g&&p.g.has(S)&&p.g.delete(S)}iR.prototype.cancel=function(){if(this.i=lR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function lR(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let S=p.i;for(const I of p.g.values())S=S.concat(I.G);return S}return m(p.i)}var cR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fX(p,S){if(p){p=p.split("&");for(let I=0;I<p.length;I++){const D=p[I].indexOf("=");let U,q=null;D>=0?(U=p[I].substring(0,D),q=p[I].substring(D+1)):U=p[I],S(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Ao(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;p instanceof Ao?(this.l=p.l,Jf(this,p.j),this.o=p.o,this.g=p.g,Zf(this,p.u),this.h=p.h,D_(this,pR(p.i)),this.m=p.m):p&&(S=String(p).match(cR))?(this.l=!1,Jf(this,S[1]||"",!0),this.o=em(S[2]||""),this.g=em(S[3]||"",!0),Zf(this,S[4]),this.h=em(S[5]||"",!0),D_(this,S[6]||"",!0),this.m=em(S[7]||"")):(this.l=!1,this.i=new nm(null,this.l))}Ao.prototype.toString=function(){const p=[];var S=this.j;S&&p.push(tm(S,uR,!0),":");var I=this.g;return(I||S=="file")&&(p.push("//"),(S=this.o)&&p.push(tm(S,uR,!0),"@"),p.push(Qf(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&p.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&p.push("/"),p.push(tm(I,I.charAt(0)=="/"?gX:pX,!0))),(I=this.i.toString())&&p.push("?",I),(I=this.m)&&p.push("#",tm(I,vX)),p.join("")},Ao.prototype.resolve=function(p){const S=Ss(this);let I=!!p.j;I?Jf(S,p.j):I=!!p.o,I?S.o=p.o:I=!!p.g,I?S.g=p.g:I=p.u!=null;var D=p.h;if(I)Zf(S,p.u);else if(I=!!p.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var U=S.h.lastIndexOf("/");U!=-1&&(D=S.h.slice(0,U+1)+D)}if(U=D,U==".."||U==".")D="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){D=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let ae=0;ae<U.length;){const ke=U[ae++];ke=="."?D&&ae==U.length&&q.push(""):ke==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),D&&ae==U.length&&q.push("")):(q.push(ke),D=!0)}D=q.join("/")}else D=U}return I?S.h=D:I=p.i.toString()!=="",I?D_(S,pR(p.i)):I=!!p.m,I&&(S.m=p.m),S};function Ss(p){return new Ao(p)}function Jf(p,S,I){p.j=I?em(S,!0):S,p.j&&(p.j=p.j.replace(/:$/,""))}function Zf(p,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);p.u=S}else p.u=null}function D_(p,S,I){S instanceof nm?(p.i=S,xX(p.i,p.l)):(I||(S=tm(S,yX)),p.i=new nm(S,p.l))}function vt(p,S,I){p.i.set(S,I)}function l0(p){return vt(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function em(p,S){return p?S?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function tm(p,S,I){return typeof p=="string"?(p=encodeURI(p).replace(S,mX),I&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function mX(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var uR=/[#\/\?@]/g,pX=/[#\?:]/g,gX=/[#\?]/g,yX=/[#\?@]/g,vX=/#/g;function nm(p,S){this.h=this.g=null,this.i=p||null,this.j=!!S}function lc(p){p.g||(p.g=new Map,p.h=0,p.i&&fX(p.i,function(S,I){p.add(decodeURIComponent(S.replace(/\+/g," ")),I)}))}t=nm.prototype,t.add=function(p,S){lc(this),this.i=null,p=Ju(this,p);let I=this.g.get(p);return I||this.g.set(p,I=[]),I.push(S),this.h+=1,this};function dR(p,S){lc(p),S=Ju(p,S),p.g.has(S)&&(p.i=null,p.h-=p.g.get(S).length,p.g.delete(S))}function hR(p,S){return lc(p),S=Ju(p,S),p.g.has(S)}t.forEach=function(p,S){lc(this),this.g.forEach(function(I,D){I.forEach(function(U){p.call(S,U,D,this)},this)},this)};function fR(p,S){lc(p);let I=[];if(typeof S=="string")hR(p,S)&&(I=I.concat(p.g.get(Ju(p,S))));else for(p=Array.from(p.g.values()),S=0;S<p.length;S++)I=I.concat(p[S]);return I}t.set=function(p,S){return lc(this),this.i=null,p=Ju(this,p),hR(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[S]),this.h+=1,this},t.get=function(p,S){return p?(p=fR(this,p),p.length>0?String(p[0]):S):S};function mR(p,S,I){dR(p,S),I.length>0&&(p.i=null,p.g.set(Ju(p,S),m(I)),p.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],S=Array.from(this.g.keys());for(let D=0;D<S.length;D++){var I=S[D];const U=Qf(I);I=fR(this,I);for(let q=0;q<I.length;q++){let ae=U;I[q]!==""&&(ae+="="+Qf(I[q])),p.push(ae)}}return this.i=p.join("&")};function pR(p){const S=new nm;return S.i=p.i,p.g&&(S.g=new Map(p.g),S.h=p.h),S}function Ju(p,S){return S=String(S),p.j&&(S=S.toLowerCase()),S}function xX(p,S){S&&!p.j&&(lc(p),p.i=null,p.g.forEach(function(I,D){const U=D.toLowerCase();D!=U&&(dR(this,D),mR(this,U,I))},p)),p.j=S}function bX(p,S){const I=new Yf;if(a.Image){const D=new Image;D.onload=d(Io,I,"TestLoadImage: loaded",!0,S,D),D.onerror=d(Io,I,"TestLoadImage: error",!1,S,D),D.onabort=d(Io,I,"TestLoadImage: abort",!1,S,D),D.ontimeout=d(Io,I,"TestLoadImage: timeout",!1,S,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=p}else S(!1)}function wX(p,S){const I=new Yf,D=new AbortController,U=setTimeout(()=>{D.abort(),Io(I,"TestPingServer: timeout",!1,S)},1e4);fetch(p,{signal:D.signal}).then(q=>{clearTimeout(U),q.ok?Io(I,"TestPingServer: ok",!0,S):Io(I,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(U),Io(I,"TestPingServer: error",!1,S)})}function Io(p,S,I,D,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),D(I)}catch{}}function _X(){this.g=new iX}function M_(p){this.i=p.Sb||null,this.h=p.ab||!1}h(M_,Hk),M_.prototype.g=function(){return new c0(this.i,this.h)};function c0(p,S){cr.call(this),this.H=p,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(c0,cr),t=c0.prototype,t.open=function(p,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=S,this.readyState=1,im(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(S.body=p),(this.H||a).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,rm(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,im(this)),this.g&&(this.readyState=3,im(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;gR(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function gR(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var S=p.value?p.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!p.done}))&&(this.response=this.responseText+=S)}p.done?rm(this):im(this),this.readyState==3&&gR(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,rm(this))},t.Na=function(p){this.g&&(this.response=p,rm(this))},t.ga=function(){this.g&&rm(this)};function rm(p){p.readyState=4,p.l=null,p.j=null,p.B=null,im(p)}t.setRequestHeader=function(p,S){this.A.append(p,S)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],S=this.h.entries();for(var I=S.next();!I.done;)I=I.value,p.push(I[0]+": "+I[1]),I=S.next();return p.join(`\r
`)};function im(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(c0.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function yR(p){let S="";return ee(p,function(I,D){S+=D,S+=":",S+=I,S+=`\r
`}),S}function L_(p,S,I){e:{for(D in I){var D=!1;break e}D=!0}D||(I=yR(I),typeof p=="string"?I!=null&&Qf(I):vt(p,S,I))}function qt(p){cr.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(qt,cr);var NX=/^https?$/i,SX=["POST","PUT"];t=qt.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,S,I,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);S=S?S.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jk.g(),this.g.onreadystatechange=f(u(this.Ca,this));try{this.B=!0,this.g.open(S,String(p),!0),this.B=!1}catch(q){vR(this,q);return}if(p=I||"",I=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var U in D)I.set(U,D[U]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const q of D.keys())I.set(q,D.get(q));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(I.keys()).find(q=>q.toLowerCase()=="content-type"),U=a.FormData&&p instanceof a.FormData,!(Array.prototype.indexOf.call(SX,S,void 0)>=0)||D||U||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ae]of I)this.g.setRequestHeader(q,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(q){vR(this,q)}};function vR(p,S){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=S,p.o=5,xR(p),u0(p)}function xR(p){p.A||(p.A=!0,Er(p,"complete"),Er(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Er(this,"complete"),Er(this,"abort"),u0(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),u0(this,!0)),qt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?bR(this):this.Xa())},t.Xa=function(){bR(this)};function bR(p){if(p.h&&typeof s<"u"){if(p.v&&Co(p)==4)setTimeout(p.Ca.bind(p),0);else if(Er(p,"readystatechange"),Co(p)==4){p.h=!1;try{const q=p.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var I;if(!(I=S)){var D;if(D=q===0){let ae=String(p.D).match(cR)[1]||null;!ae&&a.self&&a.self.location&&(ae=a.self.location.protocol.slice(0,-1)),D=!NX.test(ae?ae.toLowerCase():"")}I=D}if(I)Er(p,"complete"),Er(p,"success");else{p.o=6;try{var U=Co(p)>2?p.g.statusText:""}catch{U=""}p.l=U+" ["+p.ca()+"]",xR(p)}}finally{u0(p)}}}}function u0(p,S){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const I=p.g;p.g=null,S||Er(p,"ready");try{I.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Co(p){return p.g?p.g.readyState:0}t.ca=function(){try{return Co(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var S=this.g.responseText;return p&&S.indexOf(p)==0&&(S=S.substring(p.length)),rX(S)}};function wR(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function EX(p){const S={};p=(p.g&&Co(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<p.length;D++){if(R(p[D]))continue;var I=cX(p[D]);const U=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const q=S[U]||[];S[U]=q,q.push(I)}Z(S,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function sm(p,S,I){return I&&I.internalChannelParams&&I.internalChannelParams[p]||S}function _R(p){this.za=0,this.i=[],this.j=new Yf,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=sm("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=sm("baseRetryDelayMs",5e3,p),this.Za=sm("retryDelaySeedMs",1e4,p),this.Ta=sm("forwardChannelMaxRetries",2,p),this.va=sm("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new iR(p&&p.concurrentRequestLimit),this.Ba=new _X,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=_R.prototype,t.ka=8,t.I=1,t.connect=function(p,S,I,D){jr(0),this.W=p,this.H=S||{},I&&D!==void 0&&(this.H.OSID=I,this.H.OAID=D),this.F=this.X,this.J=PR(this,null,this.W),h0(this)};function V_(p){if(NR(p),p.I==3){var S=p.V++,I=Ss(p.J);if(vt(I,"SID",p.M),vt(I,"RID",S),vt(I,"TYPE","terminate"),am(p,I),S=new To(p,p.j,S),S.M=2,S.A=l0(Ss(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(S.A.toString(),"")}catch{}!I&&a.Image&&(new Image().src=S.A,I=!0),I||(S.g=kR(S.j,null),S.g.ea(S.A)),S.F=Date.now(),o0(S)}CR(p)}function d0(p){p.g&&(U_(p),p.g.cancel(),p.g=null)}function NR(p){d0(p),p.v&&(a.clearTimeout(p.v),p.v=null),f0(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&a.clearTimeout(p.m),p.m=null)}function h0(p){if(!sR(p.h)&&!p.m){p.m=!0;var S=p.Ea;E||T(),C||(E(),C=!0),j.add(S,p),p.D=0}}function jX(p,S){return aR(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=S.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=Kf(u(p.Ea,p,S),IR(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const U=new To(this,this.j,p);let q=this.o;if(this.U&&(q?(q=H(q),xe(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var S=0,I=0;I<this.i.length;I++){t:{var D=this.i[I];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(S+=D,S>4096){S=I;break e}if(S===4096||I===this.i.length-1){S=I+1;break e}}S=1e3}else S=1e3;S=ER(this,U,S),I=Ss(this.J),vt(I,"RID",p),vt(I,"CVER",22),this.G&&vt(I,"X-HTTP-Session-Id",this.G),am(this,I),q&&(this.R?S="headers="+Qf(yR(q))+"&"+S:this.u&&L_(I,this.u,q)),O_(this.h,U),this.Ra&&vt(I,"TYPE","init"),this.S?(vt(I,"$req",S),vt(I,"SID","null"),U.U=!0,C_(U,I,null)):C_(U,I,S),this.I=2}}else this.I==3&&(p?SR(this,p):this.i.length==0||sR(this.h)||SR(this))};function SR(p,S){var I;S?I=S.l:I=p.V++;const D=Ss(p.J);vt(D,"SID",p.M),vt(D,"RID",I),vt(D,"AID",p.K),am(p,D),p.u&&p.o&&L_(D,p.u,p.o),I=new To(p,p.j,I,p.D+1),p.u===null&&(I.J=p.o),S&&(p.i=S.G.concat(p.i)),S=ER(p,I,1e3),I.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),O_(p.h,I),C_(I,D,S)}function am(p,S){p.H&&ee(p.H,function(I,D){vt(S,D,I)}),p.l&&ee({},function(I,D){vt(S,D,I)})}function ER(p,S,I){I=Math.min(p.i.length,I);const D=p.l?u(p.l.Ka,p.l,p):null;e:{var U=p.i;let ke=-1;for(;;){const wn=["count="+I];ke==-1?I>0?(ke=U[0].g,wn.push("ofs="+ke)):ke=0:wn.push("ofs="+ke);let ot=!0;for(let kn=0;kn<I;kn++){var q=U[kn].g;const Es=U[kn].map;if(q-=ke,q<0)ke=Math.max(0,U[kn].g-100),ot=!1;else try{q="req"+q+"_"||"";try{var ae=Es instanceof Map?Es:Object.entries(Es);for(const[uc,Po]of ae){let ko=Po;l(Po)&&(ko=E_(Po)),wn.push(q+uc+"="+encodeURIComponent(ko))}}catch(uc){throw wn.push(q+"type="+encodeURIComponent("_badmap")),uc}}catch{D&&D(Es)}}if(ot){ae=wn.join("&");break e}}ae=void 0}return p=p.i.splice(0,I),S.G=p,ae}function jR(p){if(!p.g&&!p.v){p.Y=1;var S=p.Da;E||T(),C||(E(),C=!0),j.add(S,p),p.A=0}}function z_(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=Kf(u(p.Da,p),IR(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,TR(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=Kf(u(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,jr(10),d0(this),TR(this))};function U_(p){p.B!=null&&(a.clearTimeout(p.B),p.B=null)}function TR(p){p.g=new To(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var S=Ss(p.na);vt(S,"RID","rpc"),vt(S,"SID",p.M),vt(S,"AID",p.K),vt(S,"CI",p.F?"0":"1"),!p.F&&p.ia&&vt(S,"TO",p.ia),vt(S,"TYPE","xmlhttp"),am(p,S),p.u&&p.o&&L_(S,p.u,p.o),p.O&&(p.g.H=p.O);var I=p.g;p=p.ba,I.M=1,I.A=l0(Ss(S)),I.u=null,I.R=!0,tR(I,p)}t.Va=function(){this.C!=null&&(this.C=null,d0(this),z_(this),jr(19))};function f0(p){p.C!=null&&(a.clearTimeout(p.C),p.C=null)}function AR(p,S){var I=null;if(p.g==S){f0(p),U_(p),p.g=null;var D=2}else if(R_(p.h,S))I=S.G,oR(p.h,S),D=1;else return;if(p.I!=0){if(S.o)if(D==1){I=S.u?S.u.length:0,S=Date.now()-S.F;var U=p.D;D=s0(),Er(D,new Qk(D,I)),h0(p)}else jR(p);else if(U=S.m,U==3||U==0&&S.X>0||!(D==1&&jX(p,S)||D==2&&z_(p)))switch(I&&I.length>0&&(S=p.h,S.i=S.i.concat(I)),U){case 1:cc(p,5);break;case 4:cc(p,10);break;case 3:cc(p,6);break;default:cc(p,2)}}}function IR(p,S){let I=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(I*=2),I*S}function cc(p,S){if(p.j.info("Error code "+S),S==2){var I=u(p.bb,p),D=p.Ua;const U=!D;D=new Ao(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Jf(D,"https"),l0(D),U?bX(D.toString(),I):wX(D.toString(),I)}else jr(2);p.I=0,p.l&&p.l.pa(S),CR(p),NR(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),jr(2)):(this.j.info("Failed to ping google.com"),jr(1))};function CR(p){if(p.I=0,p.ja=[],p.l){const S=lR(p.h);(S.length!=0||p.i.length!=0)&&(y(p.ja,S),y(p.ja,p.i),p.h.i.length=0,m(p.i),p.i.length=0),p.l.oa()}}function PR(p,S,I){var D=I instanceof Ao?Ss(I):new Ao(I);if(D.g!="")S&&(D.g=S+"."+D.g),Zf(D,D.u);else{var U=a.location;D=U.protocol,S=S?S+"."+U.hostname:U.hostname,U=+U.port;const q=new Ao(null);D&&Jf(q,D),S&&(q.g=S),U&&Zf(q,U),I&&(q.h=I),D=q}return I=p.G,S=p.wa,I&&S&&vt(D,I,S),vt(D,"VER",p.ka),am(p,D),D}function kR(p,S,I){if(S&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=p.Aa&&!p.ma?new qt(new M_({ab:I})):new qt(p.ma),S.Fa(p.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function RR(){}t=RR.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function m0(){}m0.prototype.g=function(p,S){return new ri(p,S)};function ri(p,S){cr.call(this),this.g=new _R(S),this.l=p,this.h=S&&S.messageUrlParams||null,p=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(p?p["X-WebChannel-Content-Type"]=S.messageContentType:p={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(p?p["X-WebChannel-Client-Profile"]=S.sa:p={"X-WebChannel-Client-Profile":S.sa}),this.g.U=p,(p=S&&S.Qb)&&!R(p)&&(this.g.u=p),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!R(S)&&(this.g.G=S,p=this.h,p!==null&&S in p&&(p=this.h,S in p&&delete p[S])),this.j=new Zu(this)}h(ri,cr),ri.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ri.prototype.close=function(){V_(this.g)},ri.prototype.o=function(p){var S=this.g;if(typeof p=="string"){var I={};I.__data__=p,p=I}else this.v&&(I={},I.__data__=E_(p),p=I);S.i.push(new hX(S.Ya++,p)),S.I==3&&h0(S)},ri.prototype.N=function(){this.g.l=null,delete this.j,V_(this.g),delete this.g,ri.Z.N.call(this)};function OR(p){j_.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var S=p.__sm__;if(S){e:{for(const I in S){p=I;break e}p=void 0}(this.i=p)&&(p=this.i,S=S!==null&&p in S?S[p]:void 0),this.data=S}else this.data=p}h(OR,j_);function DR(){T_.call(this),this.status=1}h(DR,T_);function Zu(p){this.g=p}h(Zu,RR),Zu.prototype.ra=function(){Er(this.g,"a")},Zu.prototype.qa=function(p){Er(this.g,new OR(p))},Zu.prototype.pa=function(p){Er(this.g,new DR)},Zu.prototype.oa=function(){Er(this.g,"b")},m0.prototype.createWebChannel=m0.prototype.g,ri.prototype.send=ri.prototype.o,ri.prototype.open=ri.prototype.m,ri.prototype.close=ri.prototype.close,I8=function(){return new m0},A8=function(){return s0()},T8=ac,B2={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},a0.NO_ERROR=0,a0.TIMEOUT=8,a0.HTTP_ERROR=6,Iv=a0,Xk.COMPLETE="complete",j8=Xk,Gk.EventType=Gf,Gf.OPEN="a",Gf.CLOSE="b",Gf.ERROR="c",Gf.MESSAGE="d",cr.prototype.listen=cr.prototype.J,$m=Gk,qt.prototype.listenOnce=qt.prototype.K,qt.prototype.getLastError=qt.prototype.Ha,qt.prototype.getLastErrorCode=qt.prototype.ya,qt.prototype.getStatus=qt.prototype.ca,qt.prototype.getResponseJson=qt.prototype.La,qt.prototype.getResponseText=qt.prototype.la,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Fa,E8=qt}).apply(typeof R0<"u"?R0:typeof self<"u"?self:typeof window<"u"?window:{});const MD="@firebase/firestore",LD="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vf="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=new Iw("@firebase/firestore");function yd(){return Il.logLevel}function xae(t){Il.setLogLevel(t)}function J(t,...e){if(Il.logLevel<=Oe.DEBUG){const n=e.map(hA);Il.debug(`Firestore (${vf}): ${t}`,...n)}}function sn(t,...e){if(Il.logLevel<=Oe.ERROR){const n=e.map(hA);Il.error(`Firestore (${vf}): ${t}`,...n)}}function Xs(t,...e){if(Il.logLevel<=Oe.WARN){const n=e.map(hA);Il.warn(`Firestore (${vf}): ${t}`,...n)}}function hA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,C8(t,r,n)}function C8(t,e,n){let r=`FIRESTORE (${vf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw sn(r),new Error(r)}function me(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||C8(e,i,r)}function bae(t,e){t||ce(57014,e)}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mn.UNAUTHENTICATED))}shutdown(){}}class _ae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Nae{constructor(e){this.t=e,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){me(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new rr,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new rr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(me(typeof r.accessToken=="string",31837,{l:r}),new P8(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return me(e===null||typeof e=="string",2055,{h:e}),new Mn(e)}}class Sae{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Eae{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Sae(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jae{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){me(this.o===void 0,3512);const r=s=>{s.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,J("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new VD(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new VD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Tae(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Ee(t,e){return t<e?-1:t>e?1:0}function $2(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return DN(i)===DN(s)?Ee(i,s):DN(i)?1:-1}return Ee(t.length,e.length)}const Aae=55296,Iae=57343;function DN(t){const e=t.charCodeAt(0);return e>=Aae&&e<=Iae}function wh(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function k8(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="__name__";class Ts{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ts.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ts?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Ts.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Ee(e.length,n.length)}static compareSegments(e,n){const r=Ts.isNumericId(e),i=Ts.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ts.extractNumericId(e).compare(Ts.extractNumericId(n)):$2(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gl.fromString(e.substring(4,e.length-2))}}class Me extends Ts{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const Cae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends Ts{construct(e,n,r){return new Rt(e,n,r)}static isValidIdentifier(e){return Cae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zD}static keyField(){return new Rt([zD])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Q($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Q($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Q($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new Q($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(Me.fromString(e))}static fromName(e){return new se(Me.fromString(e).popFirst(5))}static empty(){return new se(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Me(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(t,e,n){if(!n)throw new Q($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function R8(t,e,n,r){if(e===!0&&r===!0)throw new Q($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function UD(t){if(!se.isDocumentKey(t))throw new Q($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function FD(t){if(se.isDocumentKey(t))throw new Q($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function O8(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Cw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce(12329,{type:typeof t})}function He(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cw(t);throw new Q($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function D8(t,e){if(e<=0)throw new Q($.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(t,e){const n={typeString:t};return e&&(n.value=e),n}function dy(t,e){if(!O8(t))throw new Q($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Q($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=-62135596800,$D=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*$D);return new Qe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<BD)throw new Q($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$D}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dy(e,Qe._jsonSchema))return new Qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-BD;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:yn("string",Qe._jsonSchemaVersion),seconds:yn("number"),nanoseconds:yn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new Qe(0,0))}static max(){return new ye(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=-1;class Ox{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function q2(t){return t.fields.find(e=>e.kind===2)}function bc(t){return t.fields.filter(e=>e.kind!==2)}Ox.UNKNOWN_ID=-1;class Cv{constructor(e,n){this.fieldPath=e,this.kind=n}}class og{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new og(0,Ti.min())}}function M8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(r===1e9?new Qe(n+1,0):new Qe(n,r));return new Ti(i,se.empty(),e)}function L8(t){return new Ti(t.readTime,t.key,_h)}class Ti{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ti(ye.min(),se.empty(),_h)}static max(){return new Ti(ye.max(),se.empty(),_h)}}function pA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==V8)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++s,a&&s===i&&n()},c=>r(c))}),a=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(d=>{a[u]=d,++l,l===s&&r(a)},d=>i(d))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="SimpleDb";class Pw{static open(e,n,r,i){try{return new Pw(n,e.transaction(i,r))}catch(s){throw new yp(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new rr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new yp(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=gA(r.target.error);this.S.reject(new yp(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(J(li,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new kae(n)}}class qs{static delete(e){return J(li,"Removing database:",e),Ac(tA().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!ig())return!1;if(qs.F())return!0;const e=Ut(),n=qs.M(e),r=0<n&&n<10,i=U8(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,qs.M(Ut())===12.2&&sn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(J(li,"Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new yp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new Q($.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new Q($.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new yp(e,a))},i.onupgradeneeded=s=>{J(li,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.N.k(a,i.transaction,s.oldVersion,this.version).next(()=>{J(li,"Database upgrade to version "+this.version+" complete")})}})),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const l=Pw.open(this.db,e,s?"readonly":"readwrite",r),c=i(l).next(u=>(l.C(),u)).catch(u=>(l.abort(u),z.reject(u))).toPromise();return c.catch(()=>{}),await l.D,c}catch(l){const c=l,u=c.name!=="FirebaseError"&&a<3;if(J(li,"Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function U8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Pae{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Ac(this.U.delete())}}class yp extends Q{constructor(e,n){super($.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Kl(t){return t.name==="IndexedDbTransactionError"}class kae{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(J(li,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(J(li,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ac(r)}add(e){return J(li,"ADD",this.store.name,e,e),Ac(this.store.add(e))}get(e){return Ac(this.store.get(e)).next(n=>(n===void 0&&(n=null),J(li,"GET",this.store.name,e,n),n))}delete(e){return J(li,"DELETE",this.store.name,e),Ac(this.store.delete(e))}count(){return J(li,"COUNT",this.store.name),Ac(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new z((a,l)=>{s.onerror=c=>{l(c.target.error)},s.onsuccess=c=>{a(c.target.result)}})}{const s=this.cursor(r),a=[];return this.H(s,(l,c)=>{a.push(c)}).next(()=>a)}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new z((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}})}Z(e,n){J(li,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,(s,a,l)=>l.delete())}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new z((r,i)=>{n.onerror=s=>{const a=gA(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next(l=>{l?a.continue():r()}):r()}})}H(e,n){const r=[];return new z((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const l=a.target.result;if(!l)return void i();const c=new Pae(l),u=n(l.primaryKey,l.value,c);if(u instanceof z){const d=u.catch(h=>(c.done(),z.reject(h)));r.push(d)}c.isDone?i():c.G===null?l.continue():l.continue(c.G)}}).next(()=>z.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ac(t){return new z((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=gA(r.target.error);n(i)}})}let qD=!1;function gA(t){const e=qs.M(Ut());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Q("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qD||(qD=!0,setTimeout(()=>{throw r},0)),r}}return t}const vp="IndexBackfiller";class Rae{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){J(vp,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const n=await this.ne.ie();J(vp,`Documents written: ${n}`)}catch(n){Kl(n)?J(vp,"Ignoring IndexedDB error during index backfill: ",n):await Wl(n)}await this.re(6e4)})}}class Oae{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.se(n,e))}se(e,n){const r=new Set;let i=n,s=!0;return z.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!r.has(a))return J(vp,`Processing collection: ${a}`),this.oe(e,a,i).next(l=>{i-=l,r.add(a)});s=!1})).next(()=>n-i)}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this._e(i,s)).next(l=>(J(vp,`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,n,l))).next(()=>a.size)}))}_e(e,n){let r=e;return n.changes.forEach((i,s)=>{const a=L8(s);pA(a,r)>0&&(r=a)}),new Ti(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Kr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=-1;function hy(t){return t==null}function lg(t){return t===0&&1/t==-1/0}function F8(t){return typeof t=="number"&&Number.isInteger(t)&&!lg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="";function xr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=HD(e)),e=Dae(t.get(n),e);return HD(e)}function Dae(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Dx:n+="";break;default:n+=s}}return n}function HD(t){return t+Dx+""}function zs(t){const e=t.length;if(me(e>=2,64408,{path:t}),e===2)return me(t.charAt(0)===Dx&&t.charAt(1)==="",56145,{path:t}),Me.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const a=t.indexOf(Dx,s);switch((a<0||a>n)&&ce(50515,{path:t}),t.charAt(a+1)){case"":const l=t.substring(s,a);let c;i.length===0?c=l:(i+=l,c=i,i=""),r.push(c);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:ce(61167,{path:t})}s=a+2}return new Me(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc="remoteDocuments",fy="owner",nd="owner",cg="mutationQueues",Mae="userId",cs="mutations",GD="batchId",Rc="userMutationsIndex",WD=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(t,e){return[t,xr(e)]}function B8(t,e,n){return[t,xr(e),n]}const Lae={},Nh="documentMutations",Mx="remoteDocumentsV14",Vae=["prefixPath","collectionGroup","readTime","documentId"],kv="documentKeyIndex",zae=["prefixPath","collectionGroup","documentId"],$8="collectionGroupIndex",Uae=["collectionGroup","readTime","prefixPath","documentId"],ug="remoteDocumentGlobal",H2="remoteDocumentGlobalKey",Sh="targets",q8="queryTargetsIndex",Fae=["canonicalId","targetId"],Eh="targetDocuments",Bae=["targetId","path"],yA="documentTargetsIndex",$ae=["path","targetId"],Lx="targetGlobalKey",Yc="targetGlobal",dg="collectionParents",qae=["collectionId","parent"],jh="clientMetadata",Hae="clientId",kw="bundles",Gae="bundleId",Rw="namedQueries",Wae="name",vA="indexConfiguration",Kae="indexId",G2="collectionGroupIndex",Yae="collectionGroup",xp="indexState",Qae=["indexId","uid"],H8="sequenceNumberIndex",Xae=["uid","sequenceNumber"],bp="indexEntries",Jae=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],G8="documentKeyIndex",Zae=["indexId","uid","orderedDocumentKey"],Ow="documentOverlays",eoe=["userId","collectionPath","documentId"],W2="collectionPathOverlayIndex",toe=["userId","collectionPath","largestBatchId"],W8="collectionGroupOverlayIndex",noe=["userId","collectionGroup","largestBatchId"],xA="globals",roe="name",K8=[cg,cs,Nh,wc,Sh,fy,Yc,Eh,jh,ug,dg,kw,Rw],ioe=[...K8,Ow],Y8=[cg,cs,Nh,Mx,Sh,fy,Yc,Eh,jh,ug,dg,kw,Rw,Ow],Q8=Y8,bA=[...Q8,vA,xp,bp],soe=bA,X8=[...bA,xA],aoe=X8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2 extends z8{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Tn(t,e){const n=le(t);return qs.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function J8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||Qn.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qn.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new O0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new O0(this.root,e,this.comparator,!1)}getReverseIterator(){return new O0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new O0(this.root,e,this.comparator,!0)}}class O0{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Qn.RED,this.left=i??Qn.EMPTY,this.right=s??Qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Qn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Qn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ce(27949);return e+(this.isRed()?0:1)}}Qn.EMPTY=null,Qn.RED=!0,Qn.BLACK=!1;Qn.EMPTY=new class{constructor(){this.size=0}get key(){throw ce(57766)}get value(){throw ce(16141)}get color(){throw ce(16727)}get left(){throw ce(29726)}get right(){throw ce(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Qn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new YD(this.data.getIterator())}getIteratorFrom(e){return new YD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nt(this.comparator);return n.data=e,n}}class YD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function rd(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new Yr([])}unionWith(e){let n=new nt(Rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wh(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ooe(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Z8("Invalid base64 string: "+s):s}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const loe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ja(t){if(me(!!t,39018),typeof t=="string"){let e=0;const n=loe.exec(t);if(me(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pt(t.seconds),nanos:Pt(t.nanos)}}function Pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Za(t){return typeof t=="string"?Yt.fromBase64String(t):Yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF="server_timestamp",tF="__type__",nF="__previous_value__",rF="__local_write_time__";function Dw(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[tF])==null?void 0:r.stringValue)===eF}function Mw(t){const e=t.mapValue.fields[nF];return Dw(e)?Mw(e):e}function hg(t){const e=Ja(t.mapValue.fields[rF].timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class coe{constructor(e,n,r,i,s,a,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Y2="(default)";class Cl{constructor(e,n){this.projectId=e,this.database=n||Y2}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database===Y2}isEqual(e){return e instanceof Cl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="__type__",iF="__max__",tl={mapValue:{fields:{__type__:{stringValue:iF}}}},_A="__vector__",Th="value",Rv={nullValue:"NULL_VALUE"};function Pl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dw(t)?4:sF(t)?9007199254740991:Lw(t)?10:11:ce(28295,{value:t})}function Js(t,e){if(t===e)return!0;const n=Pl(t);if(n!==Pl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hg(t).isEqual(hg(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Ja(i.timestampValue),l=Ja(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Za(i.bytesValue).isEqual(Za(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Pt(i.geoPointValue.latitude)===Pt(s.geoPointValue.latitude)&&Pt(i.geoPointValue.longitude)===Pt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Pt(i.integerValue)===Pt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Pt(i.doubleValue),l=Pt(s.doubleValue);return a===l?lg(a)===lg(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return wh(t.arrayValue.values||[],e.arrayValue.values||[],Js);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(KD(a)!==KD(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Js(a[c],l[c])))return!1;return!0}(t,e);default:return ce(52216,{left:t})}}function fg(t,e){return(t.values||[]).find(n=>Js(n,e))!==void 0}function kl(t,e){if(t===e)return 0;const n=Pl(t),r=Pl(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=Pt(s.integerValue||s.doubleValue),c=Pt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return QD(t.timestampValue,e.timestampValue);case 4:return QD(hg(t),hg(e));case 5:return $2(t.stringValue,e.stringValue);case 6:return function(s,a){const l=Za(s),c=Za(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Ee(l[u],c[u]);if(d!==0)return d}return Ee(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=Ee(Pt(s.latitude),Pt(a.latitude));return l!==0?l:Ee(Pt(s.longitude),Pt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return XD(t.arrayValue,e.arrayValue);case 10:return function(s,a){var f,m,y,v;const l=s.fields||{},c=a.fields||{},u=(f=l[Th])==null?void 0:f.arrayValue,d=(m=c[Th])==null?void 0:m.arrayValue,h=Ee(((y=u==null?void 0:u.values)==null?void 0:y.length)||0,((v=d==null?void 0:d.values)==null?void 0:v.length)||0);return h!==0?h:XD(u,d)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===tl.mapValue&&a===tl.mapValue)return 0;if(s===tl.mapValue)return 1;if(a===tl.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),u=a.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const f=$2(c[h],d[h]);if(f!==0)return f;const m=kl(l[c[h]],u[d[h]]);if(m!==0)return m}return Ee(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ce(23264,{he:n})}}function QD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);const n=Ja(t),r=Ja(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function XD(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=kl(n[i],r[i]);if(s)return s}return Ee(n.length,r.length)}function Ah(t){return Q2(t)}function Q2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ja(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Za(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Q2(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${Q2(n.fields[a])}`;return i+"}"}(t.mapValue):ce(61005,{value:t})}function Ov(t){switch(Pl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mw(t);return e?16+Ov(e):16;case 5:return 2*t.stringValue.length;case 6:return Za(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Ov(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Yl(r.fields,(s,a)=>{i+=s.length+Ov(a)}),i}(t.mapValue);default:throw ce(13486,{value:t})}}function hu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function X2(t){return!!t&&"integerValue"in t}function mg(t){return!!t&&"arrayValue"in t}function JD(t){return!!t&&"nullValue"in t}function ZD(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dv(t){return!!t&&"mapValue"in t}function Lw(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[wA])==null?void 0:r.stringValue)===_A}function wp(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Yl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wp(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wp(t.arrayValue.values[n]);return e}return{...t}}function sF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===iF}const aF={mapValue:{fields:{[wA]:{stringValue:_A},[Th]:{arrayValue:{}}}}};function uoe(t){return"nullValue"in t?Rv:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?hu(Cl.empty(),se.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Lw(t)?aF:{mapValue:{}}:ce(35942,{value:t})}function doe(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?hu(Cl.empty(),se.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?aF:"mapValue"in t?Lw(t)?{mapValue:{}}:tl:ce(61959,{value:t})}function eM(t,e){const n=kl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function tM(t,e){const n=kl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wp(n)}setAll(e){let n=Rt.emptyPath(),r={},i=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=wp(a):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Dv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Js(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Dv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Yl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Zn(wp(this.value))}}function oF(t){const e=[];return Yl(t.fields,(n,r)=>{const i=new Rt([n]);if(Dv(r)){const s=oF(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Yr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n,r,i,s,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new _t(e,0,ye.min(),ye.min(),ye.min(),Zn.empty(),0)}static newFoundDocument(e,n,r,i){return new _t(e,1,n,ye.min(),r,i,0)}static newNoDocument(e,n){return new _t(e,2,n,ye.min(),ye.min(),Zn.empty(),0)}static newUnknownDocument(e,n){return new _t(e,3,n,ye.min(),ye.min(),Zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n){this.position=e,this.inclusive=n}}function nM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=se.comparator(se.fromName(a.referenceValue),n.key):r=kl(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function rM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Js(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n="asc"){this.field=e,this.dir=n}}function hoe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{}class ze extends lF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new foe(e,n,r):n==="array-contains"?new goe(e,r):n==="in"?new mF(e,r):n==="not-in"?new yoe(e,r):n==="array-contains-any"?new voe(e,r):new ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new moe(e,r):new poe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(kl(n,this.value)):n!==null&&Pl(this.value)===Pl(n)&&this.matchesComparison(kl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tt extends lF{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new tt(e,n)}matches(e){return Ih(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ih(t){return t.op==="and"}function J2(t){return t.op==="or"}function NA(t){return cF(t)&&Ih(t)}function cF(t){for(const e of t.filters)if(e instanceof tt)return!1;return!0}function Z2(t){if(t instanceof ze)return t.field.canonicalString()+t.op.toString()+Ah(t.value);if(NA(t))return t.filters.map(e=>Z2(e)).join(",");{const e=t.filters.map(n=>Z2(n)).join(",");return`${t.op}(${e})`}}function uF(t,e){return t instanceof ze?function(r,i){return i instanceof ze&&r.op===i.op&&r.field.isEqual(i.field)&&Js(r.value,i.value)}(t,e):t instanceof tt?function(r,i){return i instanceof tt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,l)=>s&&uF(a,i.filters[l]),!0):!1}(t,e):void ce(19439)}function dF(t,e){const n=t.filters.concat(e);return tt.create(n,t.op)}function hF(t){return t instanceof ze?function(n){return`${n.field.canonicalString()} ${n.op} ${Ah(n.value)}`}(t):t instanceof tt?function(n){return n.op.toString()+" {"+n.getFilters().map(hF).join(" ,")+"}"}(t):"Filter"}class foe extends ze{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class moe extends ze{constructor(e,n){super(e,"in",n),this.keys=fF("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class poe extends ze{constructor(e,n){super(e,"not-in",n),this.keys=fF("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fF(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class goe extends ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mg(n)&&fg(n.arrayValue,this.value)}}class mF extends ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fg(this.value.arrayValue,n)}}class yoe extends ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(fg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fg(this.value.arrayValue,n)}}class voe extends ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fg(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xoe{constructor(e,n=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function eE(t,e=null,n=[],r=[],i=null,s=null,a=null){return new xoe(t,e,n,r,i,s,a)}function fu(t){const e=le(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Z2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),hy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ah(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ah(r)).join(",")),e.Te=n}return e.Te}function my(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hoe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rM(t.startAt,e.startAt)&&rM(t.endAt,e.endAt)}function Vx(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function zx(t,e){return t.filters.filter(n=>n instanceof ze&&n.field.isEqual(e))}function iM(t,e,n){let r=Rv,i=!0;for(const s of zx(t,e)){let a=Rv,l=!0;switch(s.op){case"<":case"<=":a=uoe(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,l=!1;break;case"!=":case"not-in":a=Rv}eM({value:r,inclusive:i},{value:a,inclusive:l})<0&&(r=a,i=l)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];eM({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function sM(t,e,n){let r=tl,i=!0;for(const s of zx(t,e)){let a=tl,l=!0;switch(s.op){case">=":case">":a=doe(s.value),l=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,l=!1;break;case"!=":case"not-in":a=tl}tM({value:r,inclusive:i},{value:a,inclusive:l})>0&&(r=a,i=l)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];tM({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n=null,r=[],i=[],s=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pF(t,e,n,r,i,s,a,l){return new fo(t,e,n,r,i,s,a,l)}function xf(t){return new fo(t)}function aM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function SA(t){return t.collectionGroup!==null}function Qd(t){const e=le(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new nt(Rt.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new pg(s,r))}),n.has(Rt.keyField().canonicalString())||e.Ie.push(new pg(Rt.keyField(),r))}return e.Ie}function Mr(t){const e=le(t);return e.Ee||(e.Ee=boe(e,Qd(t))),e.Ee}function boe(t,e){if(t.limitType==="F")return eE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new pg(i.field,s)});const n=t.endAt?new Rl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Rl(t.startAt.position,t.startAt.inclusive):null;return eE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tE(t,e){const n=t.filters.concat([e]);return new fo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ux(t,e,n){return new fo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function py(t,e){return my(Mr(t),Mr(e))&&t.limitType===e.limitType}function gF(t){return`${fu(Mr(t))}|lt:${t.limitType}`}function vd(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>hF(i)).join(", ")}]`),hy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ah(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ah(i)).join(",")),`Target(${r})`}(Mr(t))}; limitType=${t.limitType})`}function gy(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):se.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Qd(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,l,c){const u=nM(a,l,c);return a.inclusive?u<=0:u<0}(r.startAt,Qd(r),i)||r.endAt&&!function(a,l,c){const u=nM(a,l,c);return a.inclusive?u>=0:u>0}(r.endAt,Qd(r),i))}(t,e)}function yF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vF(t){return(e,n)=>{let r=!1;for(const i of Qd(t)){const s=woe(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function woe(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(s,a,l){const c=a.data.field(s),u=l.data.field(s);return c!==null&&u!==null?kl(c,u):ce(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return J8(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _oe=new gt(se.comparator);function Qr(){return _oe}const xF=new gt(se.comparator);function qm(...t){let e=xF;for(const n of t)e=e.insert(n.key,n);return e}function bF(t){let e=xF;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Us(){return _p()}function wF(){return _p()}function _p(){return new mo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Noe=new gt(se.comparator),Soe=new nt(se.comparator);function Ce(...t){let e=Soe;for(const n of t)e=e.add(n);return e}const Eoe=new nt(Ee);function EA(){return Eoe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lg(e)?"-0":e}}function _F(t){return{integerValue:""+t}}function NF(t,e){return F8(e)?_F(e):jA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(){this._=void 0}}function joe(t,e,n){return t instanceof Ch?function(i,s){const a={fields:{[tF]:{stringValue:eF},[rF]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Dw(s)&&(s=Mw(s)),s&&(a.fields[nF]=s),{mapValue:a}}(n,e):t instanceof mu?EF(t,e):t instanceof pu?jF(t,e):function(i,s){const a=SF(i,s),l=oM(a)+oM(i.Ae);return X2(a)&&X2(i.Ae)?_F(l):jA(i.serializer,l)}(t,e)}function Toe(t,e,n){return t instanceof mu?EF(t,e):t instanceof pu?jF(t,e):n}function SF(t,e){return t instanceof Ph?function(r){return X2(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ch extends Vw{}class mu extends Vw{constructor(e){super(),this.elements=e}}function EF(t,e){const n=TF(e);for(const r of t.elements)n.some(i=>Js(i,r))||n.push(r);return{arrayValue:{values:n}}}class pu extends Vw{constructor(e){super(),this.elements=e}}function jF(t,e){let n=TF(e);for(const r of t.elements)n=n.filter(i=>!Js(i,r));return{arrayValue:{values:n}}}class Ph extends Vw{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function oM(t){return Pt(t.integerValue||t.doubleValue)}function TF(t){return mg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n){this.field=e,this.transform=n}}function Aoe(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof mu&&i instanceof mu||r instanceof pu&&i instanceof pu?wh(r.elements,i.elements,Js):r instanceof Ph&&i instanceof Ph?Js(r.Ae,i.Ae):r instanceof Ch&&i instanceof Ch}(t.transform,e.transform)}class Ioe{constructor(e,n){this.version=e,this.transformResults=n}}class Ot{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ot}static exists(e){return new Ot(void 0,e)}static updateTime(e){return new Ot(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zw{}function AF(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wf(t.key,Ot.none()):new bf(t.key,t.data,Ot.none());{const n=t.data,r=Zn.empty();let i=new nt(Rt.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new po(t.key,r,new Yr(i.toArray()),Ot.none())}}function Coe(t,e,n){t instanceof bf?function(i,s,a){const l=i.value.clone(),c=cM(i.fieldTransforms,s,a.transformResults);l.setAll(c),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof po?function(i,s,a){if(!Mv(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=cM(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(IF(i)),c.setAll(l),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Np(t,e,n,r){return t instanceof bf?function(s,a,l,c){if(!Mv(s.precondition,a))return l;const u=s.value.clone(),d=uM(s.fieldTransforms,c,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof po?function(s,a,l,c){if(!Mv(s.precondition,a))return l;const u=uM(s.fieldTransforms,c,a),d=a.data;return d.setAll(IF(s)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,a,l){return Mv(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function Poe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=SF(r.transform,i||null);s!=null&&(n===null&&(n=Zn.empty()),n.set(r.field,s))}return n||null}function lM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&wh(r,i,(s,a)=>Aoe(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bf extends zw{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class po extends zw{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function IF(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function cM(t,e,n){const r=new Map;me(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,Toe(a,l,n[i]))}return r}function uM(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,joe(s,a,e))}return r}class wf extends zw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TA extends zw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Coe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Np(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Np(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=wF();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const c=AF(a,l);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&wh(this.mutations,e.mutations,(n,r)=>lM(n,r))&&wh(this.baseMutations,e.baseMutations,(n,r)=>lM(n,r))}}class IA{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){me(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return Noe}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new IA(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class koe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un,$e;function CF(t){switch(t){case $.OK:return ce(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ce(15467,{code:t})}}function PF(t){if(t===void 0)return sn("GRPC error has no .code"),$.UNKNOWN;switch(t){case un.OK:return $.OK;case un.CANCELLED:return $.CANCELLED;case un.UNKNOWN:return $.UNKNOWN;case un.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case un.INTERNAL:return $.INTERNAL;case un.UNAVAILABLE:return $.UNAVAILABLE;case un.UNAUTHENTICATED:return $.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case un.NOT_FOUND:return $.NOT_FOUND;case un.ALREADY_EXISTS:return $.ALREADY_EXISTS;case un.PERMISSION_DENIED:return $.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case un.ABORTED:return $.ABORTED;case un.OUT_OF_RANGE:return $.OUT_OF_RANGE;case un.UNIMPLEMENTED:return $.UNIMPLEMENTED;case un.DATA_LOSS:return $.DATA_LOSS;default:return ce(39323,{code:t})}}($e=un||(un={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Roe=new gl([4294967295,4294967295],0);function dM(t){const e=kF().encode(t),n=new S8;return n.update(e),new Uint8Array(n.digest())}function hM(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new gl([n,r],0),new gl([i,s],0)]}class PA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hm(`Invalid padding: ${n}`);if(r<0)throw new Hm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hm(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=gl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(gl.fromNumber(r)));return i.compare(Roe)===1&&(i=new gl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=dM(e),[r,i]=hM(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new PA(s,i,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=dM(e),[r,i]=hM(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xy.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vy(ye.min(),i,new gt(Ee),Qr(),Ce())}}class xy{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xy(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class RF{constructor(e,n){this.targetId=e,this.Ce=n}}class OF{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class fM{constructor(){this.ve=0,this.Fe=mM(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ce(),n=Ce(),r=Ce();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ce(38017,{changeType:s})}}),new xy(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=mM()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,me(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ooe{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qr(),this.Je=D0(),this.He=D0(),this.Ye=new gt(Ee)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ce(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Vx(s))if(r===0){const a=new se(s.path);this.et(n,a,_t.newNoDocument(a,ye.min()))}else me(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,l;try{a=Za(r).toUint8Array()}catch(c){if(c instanceof Z8)return Xs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new PA(a,i,s)}catch(c){return Xs(c instanceof Hm?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,a)=>{const l=this.ot(a);if(l){if(s.current&&Vx(l.target)){const c=new se(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,_t.newNoDocument(c,e))}s.Be&&(n.set(a,s.ke()),s.qe())}});let r=Ce();this.He.forEach((s,a)=>{let l=!0;a.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const i=new vy(e,n,this.Ye,this.je,r);return this.je=Qr(),this.Je=D0(),this.He=D0(),this.Ye=new gt(Ee),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new fM,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new nt(Ee),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new nt(Ee),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new fM),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function D0(){return new gt(se.comparator)}function mM(){return new gt(se.comparator)}const Doe={asc:"ASCENDING",desc:"DESCENDING"},Moe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Loe={and:"AND",or:"OR"};class Voe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nE(t,e){return t.useProto3Json||hy(e)?e:{value:e}}function kh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zoe(t,e){return kh(t,e.toTimestamp())}function ln(t){return me(!!t,49232),ye.fromTimestamp(function(n){const r=Ja(n);return new Qe(r.seconds,r.nanos)}(t))}function kA(t,e){return rE(t,e).canonicalString()}function rE(t,e){const n=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function MF(t){const e=Me.fromString(t);return me(GF(e),10190,{key:e.toString()}),e}function gg(t,e){return kA(t.databaseId,e.path)}function Hs(t,e){const n=MF(e);if(n.get(1)!==t.databaseId.projectId)throw new Q($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(zF(n))}function LF(t,e){return kA(t.databaseId,e)}function VF(t){const e=MF(t);return e.length===4?Me.emptyPath():zF(e)}function iE(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zF(t){return me(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function pM(t,e,n){return{name:gg(t,e),fields:n.value.mapValue.fields}}function UF(t,e,n){const r=Hs(t,e.name),i=ln(e.updateTime),s=e.createTime?ln(e.createTime):ye.min(),a=new Zn({mapValue:{fields:e.fields}}),l=_t.newFoundDocument(r,i,s,a);return n&&l.setHasCommittedMutations(),n?l.setHasCommittedMutations():l}function Uoe(t,e){return"found"in e?function(r,i){me(!!i.found,43571),i.found.name,i.found.updateTime;const s=Hs(r,i.found.name),a=ln(i.found.updateTime),l=i.found.createTime?ln(i.found.createTime):ye.min(),c=new Zn({mapValue:{fields:i.found.fields}});return _t.newFoundDocument(s,a,l,c)}(t,e):"missing"in e?function(r,i){me(!!i.missing,3894),me(!!i.readTime,22933);const s=Hs(r,i.missing),a=ln(i.readTime);return _t.newNoDocument(s,a)}(t,e):ce(7234,{result:e})}function Foe(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ce(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(me(d===void 0||typeof d=="string",58123),Yt.fromBase64String(d||"")):(me(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Yt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const d=u.code===void 0?$.UNKNOWN:PF(u.code);return new Q(d,u.message||"")}(a);n=new OF(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hs(t,r.document.name),s=ln(r.document.updateTime),a=r.document.createTime?ln(r.document.createTime):ye.min(),l=new Zn({mapValue:{fields:r.document.fields}}),c=_t.newFoundDocument(i,s,a,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Lv(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Hs(t,r.document),s=r.readTime?ln(r.readTime):ye.min(),a=_t.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Lv([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Hs(t,r.document),s=r.removedTargetIds||[];n=new Lv([],s,i,null)}else{if(!("filter"in e))return ce(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new koe(i,s),l=r.targetId;n=new RF(l,a)}}return n}function yg(t,e){let n;if(e instanceof bf)n={update:pM(t,e.key,e.value)};else if(e instanceof wf)n={delete:gg(t,e.key)};else if(e instanceof po)n={update:pM(t,e.key,e.data),updateMask:Woe(e.fieldMask)};else{if(!(e instanceof TA))return ce(16599,{Vt:e.type});n={verify:gg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const l=a.transform;if(l instanceof Ch)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof mu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof pu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ph)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw ce(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:zoe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ce(27497)}(t,e.precondition)),n}function sE(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?Ot.updateTime(ln(s.updateTime)):s.exists!==void 0?Ot.exists(s.exists):Ot.none()}(e.currentDocument):Ot.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,l){let c=null;if("setToServerValue"in l)me(l.setToServerValue==="REQUEST_TIME",16630,{proto:l}),c=new Ch;else if("appendMissingElements"in l){const d=l.appendMissingElements.values||[];c=new mu(d)}else if("removeAllFromArray"in l){const d=l.removeAllFromArray.values||[];c=new pu(d)}else"increment"in l?c=new Ph(a,l.increment):ce(16584,{proto:l});const u=Rt.fromServerFormat(l.fieldPath);return new yy(u,c)}(t,i)):[];if(e.update){e.update.name;const i=Hs(t,e.update.name),s=new Zn({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(c){const u=c.fieldPaths||[];return new Yr(u.map(d=>Rt.fromServerFormat(d)))}(e.updateMask);return new po(i,s,a,n,r)}return new bf(i,s,n,r)}if(e.delete){const i=Hs(t,e.delete);return new wf(i,n)}if(e.verify){const i=Hs(t,e.verify);return new TA(i,n)}return ce(1463,{proto:e})}function Boe(t,e){return t&&t.length>0?(me(e!==void 0,14353),t.map(n=>function(i,s){let a=i.updateTime?ln(i.updateTime):ln(s);return a.isEqual(ye.min())&&(a=ln(s)),new Ioe(a,i.transformResults||[])}(n,e))):[]}function FF(t,e){return{documents:[LF(t,e.path)]}}function BF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=LF(t,i);const s=function(u){if(u.length!==0)return HF(tt.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:xd(f.field),direction:qoe(f.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=nE(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function $F(t){let e=VF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){me(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=qF(h);return f instanceof tt&&NA(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=function(h){return h.map(f=>function(y){return new pg(bd(y.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let l=null;n.limit&&(l=function(h){let f;return f=typeof h=="object"?h.value:h,hy(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(h){const f=!!h.before,m=h.values||[];return new Rl(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new Rl(m,f)}(n.endAt)),pF(e,i,a,s,l,"F",c,u)}function $oe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qF(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=bd(n.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=bd(n.unaryFilter.field);return ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=bd(n.unaryFilter.field);return ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=bd(n.unaryFilter.field);return ze.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ce(61313);default:return ce(60726)}}(t):t.fieldFilter!==void 0?function(n){return ze.create(bd(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ce(58110);default:return ce(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return tt.create(n.compositeFilter.filters.map(r=>qF(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce(1026)}}(n.compositeFilter.op))}(t):ce(30097,{filter:t})}function qoe(t){return Doe[t]}function Hoe(t){return Moe[t]}function Goe(t){return Loe[t]}function xd(t){return{fieldPath:t.canonicalString()}}function bd(t){return Rt.fromServerFormat(t.fieldPath)}function HF(t){return t instanceof ze?function(n){if(n.op==="=="){if(ZD(n.value))return{unaryFilter:{field:xd(n.field),op:"IS_NAN"}};if(JD(n.value))return{unaryFilter:{field:xd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ZD(n.value))return{unaryFilter:{field:xd(n.field),op:"IS_NOT_NAN"}};if(JD(n.value))return{unaryFilter:{field:xd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xd(n.field),op:Hoe(n.op),value:n.value}}}(t):t instanceof tt?function(n){const r=n.getFilters().map(i=>HF(i));return r.length===1?r[0]:{compositeFilter:{op:Goe(n.op),filters:r}}}(t):ce(54877,{filter:t})}function Woe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function GF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n,r,i,s=ye.min(),a=ye.min(),l=Yt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new ja(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e){this.yt=e}}function Koe(t,e){let n;if(e.document)n=UF(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=se.fromSegments(e.noDocument.path),i=yu(e.noDocument.readTime);n=_t.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ce(56709);{const r=se.fromSegments(e.unknownDocument.path),i=yu(e.unknownDocument.version);n=_t.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Qe(i[0],i[1]);return ye.fromTimestamp(s)}(e.readTime)),n}function gM(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Fx(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,a){return{name:gg(s,a.key),fields:a.data.value.mapValue.fields,updateTime:kh(s,a.version.toTimestamp()),createTime:kh(s,a.createTime.toTimestamp())}}(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:gu(e.version)};else{if(!e.isUnknownDocument())return ce(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:gu(e.version)}}return r}function Fx(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function gu(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function yu(t){const e=new Qe(t.seconds,t.nanoseconds);return ye.fromTimestamp(e)}function Ic(t,e){const n=(e.baseMutations||[]).map(s=>sE(t.yt,s));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const l=e.mutations[s+1];a.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>sE(t.yt,s)),i=Qe.fromMillis(e.localWriteTimeMs);return new AA(e.batchId,i,n,r)}function Gm(t){const e=yu(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?yu(t.lastLimboFreeSnapshotVersion):ye.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){const a=s.documents.length;return me(a===1,1966,{count:a}),Mr(xf(VF(s.documents[0])))}(t.query):function(s){return Mr($F(s))}(t.query),new ja(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Yt.fromBase64String(t.resumeToken))}function KF(t,e){const n=gu(e.snapshotVersion),r=gu(e.lastLimboFreeSnapshotVersion);let i;i=Vx(e.target)?FF(t.yt,e.target):BF(t.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fu(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function RA(t){const e=$F({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ux(e,e.limit,"L"):e}function MN(t,e){return new CA(e.largestBatchId,sE(t.yt,e.overlayMutation))}function yM(t,e){const n=e.path.lastSegment();return[t,xr(e.path.popLast()),n]}function vM(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:gu(r.readTime),documentKey:xr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yoe{getBundleMetadata(e,n){return xM(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:yu(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return xM(e).put(function(i){return{bundleId:i.id,createTime:gu(ln(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return bM(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:RA(s.bundledQuery),readTime:yu(s.readTime)}}(r)})}saveNamedQuery(e,n){return bM(e).put(function(i){return{name:i.name,readTime:gu(ln(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function xM(t){return Tn(t,kw)}function bM(t){return Tn(t,Rw)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new Uw(e,r)}getOverlay(e,n){return pm(e).get(yM(this.userId,n)).next(r=>r?MN(this.serializer,r):null)}getOverlays(e,n){const r=Us();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,a)=>{const l=new CA(n,a);i.push(this.St(e,l))}),z.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(a=>i.add(xr(a.getCollectionPath())));const s=[];return i.forEach(a=>{const l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);s.push(pm(e).Z(W2,l))}),z.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Us(),s=xr(n),a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return pm(e).J(W2,a).next(l=>{for(const c of l){const u=MN(this.serializer,c);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Us();let a;const l=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return pm(e).ee({index:W8,range:l},(c,u,d)=>{const h=MN(this.serializer,u);s.size()<i||h.largestBatchId===a?(s.set(h.getKey(),h),a=h.largestBatchId):d.done()}).next(()=>s)}St(e,n){return pm(e).put(function(i,s,a){const[l,c,u]=yM(s,a.mutation.key);return{userId:s,collectionPath:c,documentId:u,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:yg(i.yt,a.mutation)}}(this.serializer,this.userId,n))}}function pm(t){return Tn(t,Ow)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qoe{bt(e){return Tn(e,xA)}getSessionToken(e){return this.bt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?Yt.fromUint8Array(r):Yt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Pt(e.integerValue));else if("doubleValue"in e){const r=Pt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),lg(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Ja(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Za(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?sF(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):Lw(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):ce(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var a,l;const r=e.fields||{};this.Ft(n,53);const i=Th,s=((l=(a=r[i].arrayValue)==null?void 0:a.values)==null?void 0:l.length)||0;this.Ft(n,15),n.Mt(Pt(s)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),se.fromName(e).path.forEach(r=>{this.Ft(n,60),this.Ut(r,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Cc.Kt=new Cc;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=255;function Xoe(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function wM(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const a=Xoe(255&r[s]);if(i+=a,a!==8)break}return i}(t);return Math.ceil(e/8)}class Joe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=wM(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=wM(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(id),this.sn(255)}_n(){this.an(id),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===id?(this.sn(id),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===id?(this.an(id),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Zoe{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class ele{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class gm{constructor(){this.cn=new Joe,this.ln=new Zoe(this.cn),this.hn=new ele(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Pc(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Vv(this.En),directionalValue:Vv(this.dn),orderedDocumentKey:Vv(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Oo(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=_M(t.En,e.En),n!==0?n:(n=_M(t.dn,e.dn),n!==0?n:se.comparator(t.In,e.In)))}function _M(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Vv(t){return u8()?function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r}(t):t}function NM(t){return typeof t!="string"?t:function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(t)}class SM{constructor(e){this.mn=new nt((n,r)=>Rt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(me(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=q2(e);if(n!==void 0&&!this.wn(n))return!1;const r=bc(e);let i=new Set,s=0,a=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const l=this.mn.getIterator().getNext();if(!i.has(l.field.canonicalString())){const c=r[s];if(!this.Sn(l,c)||!this.bn(this.fn[a++],c))return!1}++s}for(;s<r.length;++s){const l=r[s];if(a>=this.fn.length||!this.bn(this.fn[a++],l))return!1}return!0}Dn(){if(this.pn)return null;let e=new nt(Rt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Cv(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Cv(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Cv(r.field,r.dir==="asc"?0:1)));return new Ox(Ox.UNKNOWN_ID,this.collectionId,n,og.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(t){var n,r;if(me(t instanceof ze||t instanceof tt,20012),t instanceof ze){if(t instanceof mF){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map(s=>ze.create(t.field,"==",s)))||[];return tt.create(i,"or")}return t}const e=t.filters.map(i=>YF(i));return tt.create(e,t.op)}function tle(t){if(t.getFilters().length===0)return[];const e=lE(YF(t));return me(QF(e),7391),aE(e)||oE(e)?[e]:e.getFilters()}function aE(t){return t instanceof ze}function oE(t){return t instanceof tt&&NA(t)}function QF(t){return aE(t)||oE(t)||function(n){if(n instanceof tt&&J2(n)){for(const r of n.getFilters())if(!aE(r)&&!oE(r))return!1;return!0}return!1}(t)}function lE(t){if(me(t instanceof ze||t instanceof tt,34018),t instanceof ze)return t;if(t.filters.length===1)return lE(t.filters[0]);const e=t.filters.map(r=>lE(r));let n=tt.create(e,t.op);return n=Bx(n),QF(n)?n:(me(n instanceof tt,64498),me(Ih(n),40251),me(n.filters.length>1,57927),n.filters.reduce((r,i)=>OA(r,i)))}function OA(t,e){let n;return me(t instanceof ze||t instanceof tt,38388),me(e instanceof ze||e instanceof tt,25473),n=t instanceof ze?e instanceof ze?function(i,s){return tt.create([i,s],"and")}(t,e):EM(t,e):e instanceof ze?EM(e,t):function(i,s){if(me(i.filters.length>0&&s.filters.length>0,48005),Ih(i)&&Ih(s))return dF(i,s.getFilters());const a=J2(i)?i:s,l=J2(i)?s:i,c=a.filters.map(u=>OA(u,l));return tt.create(c,"or")}(t,e),Bx(n)}function EM(t,e){if(Ih(e))return dF(e,t.getFilters());{const n=e.filters.map(r=>OA(t,r));return tt.create(n,"or")}}function Bx(t){if(me(t instanceof ze||t instanceof tt,11850),t instanceof ze)return t;const e=t.getFilters();if(e.length===1)return Bx(e[0]);if(cF(t))return t;const n=e.map(i=>Bx(i)),r=[];return n.forEach(i=>{i instanceof ze?r.push(i):i instanceof tt&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:tt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nle{constructor(){this.Cn=new DA}addToCollectionParentIndex(e,n){return this.Cn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Ti.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Ti.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class DA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nt(Me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nt(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM="IndexedDbIndexManager",M0=new Uint8Array(0);class rle{constructor(e,n){this.databaseId=n,this.vn=new DA,this.Fn=new mo(r=>fu(r),(r,i)=>my(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.vn.add(n)});const s={collectionId:r,parent:xr(i)};return TM(e).put(s)}return z.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[k8(n),""],!1,!0);return TM(e).J(i).next(s=>{for(const a of s){if(a.collectionId!==n)break;r.push(zs(a.parent))}return r})}addFieldIndex(e,n){const r=ym(e),i=function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const a=ad(e);return s.next(l=>{a.put(vM(l,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=ym(e),i=ad(e),s=sd(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=ym(e),r=sd(e),i=ad(e);return n.Z().next(()=>r.Z()).next(()=>i.Z())}createTargetIndexes(e,n){return z.forEach(this.Mn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new SM(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=sd(e);let i=!0;const s=new Map;return z.forEach(this.Mn(n),a=>this.xn(e,a).next(l=>{i&&(i=!!l),s.set(a,l)})).next(()=>{if(i){let a=Ce();const l=[];return z.forEach(s,(c,u)=>{J(jM,`Using index ${function(b){return`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(N=>`${N.fieldPath}:${N.kind}`).join(",")}`}(c)} to execute ${fu(n)}`);const d=function(b,N){const E=q2(N);if(E===void 0)return null;for(const C of zx(b,E.fieldPath))switch(C.op){case"array-contains-any":return C.value.arrayValue.values||[];case"array-contains":return[C.value]}return null}(u,c),h=function(b,N){const E=new Map;for(const C of bc(N))for(const j of zx(b,C.fieldPath))switch(j.op){case"==":case"in":E.set(C.fieldPath.canonicalString(),j.value);break;case"not-in":case"!=":return E.set(C.fieldPath.canonicalString(),j.value),Array.from(E.values())}return null}(u,c),f=function(b,N){const E=[];let C=!0;for(const j of bc(N)){const T=j.kind===0?iM(b,j.fieldPath,b.startAt):sM(b,j.fieldPath,b.startAt);E.push(T.value),C&&(C=T.inclusive)}return new Rl(E,C)}(u,c),m=function(b,N){const E=[];let C=!0;for(const j of bc(N)){const T=j.kind===0?sM(b,j.fieldPath,b.endAt):iM(b,j.fieldPath,b.endAt);E.push(T.value),C&&(C=T.inclusive)}return new Rl(E,C)}(u,c),y=this.On(c,u,f),v=this.On(c,u,m),x=this.Nn(c,u,h),w=this.Bn(c.indexId,d,y,f.inclusive,v,m.inclusive,x);return z.forEach(w,_=>r.Y(_,n.limit).next(b=>{b.forEach(N=>{const E=se.fromSegments(N.documentKey);a.has(E)||(a=a.add(E),l.push(E))})}))}).next(()=>l)}return z.resolve(null)})}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=tle(tt.create(e.filters,"and")).map(r=>eE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Fn.set(e,n),n)}Bn(e,n,r,i,s,a,l){const c=(n!=null?n.length:1)*Math.max(r.length,s.length),u=c/(n!=null?n.length:1),d=[];for(let h=0;h<c;++h){const f=n?this.Ln(n[h/u]):M0,m=this.kn(e,f,r[h%u],i),y=this.qn(e,f,s[h%u],a),v=l.map(x=>this.kn(e,f,x,!0));d.push(...this.createRange(m,y,v))}return d}kn(e,n,r,i){const s=new Pc(e,se.empty(),n,r);return i?s:s.An()}qn(e,n,r,i){const s=new Pc(e,se.empty(),n,r);return i?s.An():s}xn(e,n){const r=new SM(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let a=null;for(const l of s)r.yn(l)&&(!a||l.fields.length>a.fields.length)&&(a=l);return a})}getIndexType(e,n){let r=2;const i=this.Mn(n);return z.forEach(i,s=>this.xn(e,s).next(a=>{a?r!==0&&a.fields.length<function(c){let u=new nt(Rt.comparator),d=!1;for(const h of c.filters)for(const f of h.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?d=!0:u=u.add(f.field));for(const h of c.orderBy)h.field.isKeyField()||(u=u.add(h.field));return u.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(a){return a.limit!==null}(n)&&i.length>1&&r===2?1:r)}Qn(e,n){const r=new gm;for(const i of bc(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const a=r.Pn(i.kind);Cc.Kt.Dt(s,a)}return r.un()}Ln(e){const n=new gm;return Cc.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new gm;return Cc.Kt.Dt(hu(this.databaseId,n),r.Pn(function(s){const a=bc(s);return a.length===0?0:a[a.length-1].kind}(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new gm);let s=0;for(const a of bc(e)){const l=r[s++];for(const c of i)if(this.Un(n,a.fieldPath)&&mg(l))i=this.Kn(i,a,l);else{const u=c.Pn(a.kind);Cc.Kt.Dt(l,u)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],s=[];for(const a of r.arrayValue.values||[])for(const l of i){const c=new gm;c.seed(l.un()),Cc.Kt.Dt(a,c.Pn(n.kind)),s.push(c)}return s}Un(e,n){return!!e.filters.find(r=>r instanceof ze&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=ym(e),i=ad(e);return(n?r.J(G2,IDBKeyRange.bound(n,n)):r.J()).next(s=>{const a=[];return z.forEach(s,l=>i.get([l.indexId,this.uid]).next(c=>{a.push(function(d,h){const f=h?new og(h.sequenceNumber,new Ti(yu(h.readTime),new se(zs(h.documentKey)),h.largestBatchId)):og.empty(),m=d.fields.map(([y,v])=>new Cv(Rt.fromServerFormat(y),v));return new Ox(d.indexId,d.collectionGroup,m,f)}(l,c))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Ee(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=ym(e),s=ad(e);return this.Gn(e).next(a=>i.J(G2,IDBKeyRange.bound(n,n)).next(l=>z.forEach(l,c=>s.put(vM(c.indexId,this.uid,a,r)))))}updateIndexEntries(e,n){const r=new Map;return z.forEach(n,(i,s)=>{const a=r.get(i.collectionGroup);return(a?z.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next(l=>(r.set(i.collectionGroup,l),z.forEach(l,c=>this.zn(e,i,c).next(u=>{const d=this.jn(s,c);return u.isEqual(d)?z.resolve():this.Jn(e,s,c,u,d)}))))})}Hn(e,n,r,i){return sd(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return sd(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=sd(e);let s=new nt(Oo);return i.ee({index:G8,range:IDBKeyRange.only([r.indexId,this.uid,Vv(this.$n(r,n))])},(a,l)=>{s=s.add(new Pc(r.indexId,n,NM(l.arrayValue),NM(l.directionalValue)))}).next(()=>s)}jn(e,n){let r=new nt(Oo);const i=this.Qn(n,e);if(i==null)return r;const s=q2(n);if(s!=null){const a=e.data.field(s.fieldPath);if(mg(a))for(const l of a.arrayValue.values||[])r=r.add(new Pc(n.indexId,e.key,this.Ln(l),i))}else r=r.add(new Pc(n.indexId,e.key,M0,i));return r}Jn(e,n,r,i,s){J(jM,"Updating index entries for document '%s'",n.key);const a=[];return function(c,u,d,h,f){const m=c.getIterator(),y=u.getIterator();let v=rd(m),x=rd(y);for(;v||x;){let w=!1,_=!1;if(v&&x){const b=d(v,x);b<0?_=!0:b>0&&(w=!0)}else v!=null?_=!0:w=!0;w?(h(x),x=rd(y)):_?(f(v),v=rd(m)):(v=rd(m),x=rd(y))}}(i,s,Oo,l=>{a.push(this.Hn(e,n,r,l))},l=>{a.push(this.Yn(e,n,r,l))}),z.waitFor(a)}Gn(e){let n=1;return ad(e).ee({index:H8,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((a,l)=>Oo(a,l)).filter((a,l,c)=>!l||Oo(a,c[l-1])!==0);const i=[];i.push(e);for(const a of r){const l=Oo(a,e),c=Oo(a,n);if(l===0)i[0]=e.An();else if(l>0&&c<0)i.push(a),i.push(a.An());else if(c>0)break}i.push(n);const s=[];for(let a=0;a<i.length;a+=2){if(this.Zn(i[a],i[a+1]))return[];const l=i[a].Vn(this.uid,M0,se.empty()),c=i[a+1].Vn(this.uid,M0,se.empty());s.push(IDBKeyRange.bound(l,c))}return s}Zn(e,n){return Oo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(AM)}getMinOffset(e,n){return z.mapArray(this.Mn(n),r=>this.xn(e,r).next(i=>i||ce(44426))).next(AM)}}function TM(t){return Tn(t,dg)}function sd(t){return Tn(t,bp)}function ym(t){return Tn(t,vA)}function ad(t){return Tn(t,xp)}function AM(t){me(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;pA(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ti(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XF=41943040;class fr{static withCacheSize(e){return new fr(e,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t,e,n){const r=t.store(cs),i=t.store(Nh),s=[],a=IDBKeyRange.only(n.batchId);let l=0;const c=r.ee({range:a},(d,h,f)=>(l++,f.delete()));s.push(c.next(()=>{me(l===1,47070,{batchId:n.batchId})}));const u=[];for(const d of n.mutations){const h=B8(e,d.key.path,n.batchId);s.push(i.delete(h)),u.push(d.key)}return z.waitFor(s).next(()=>u)}function $x(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ce(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr.DEFAULT_COLLECTION_PERCENTILE=10,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fr.DEFAULT=new fr(XF,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fr.DISABLED=new fr(-1,0,0);class Fw{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){me(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new Fw(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Do(e).ee({index:Rc,range:r},(i,s,a)=>{n=!1,a.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=wd(e),a=Do(e);return a.add({}).next(l=>{me(typeof l=="number",49019);const c=new AA(l,n,r,i),u=function(m,y,v){const x=v.baseMutations.map(_=>yg(m.yt,_)),w=v.mutations.map(_=>yg(m.yt,_));return{userId:y,batchId:v.batchId,localWriteTimeMs:v.localWriteTime.toMillis(),baseMutations:x,mutations:w}}(this.serializer,this.userId,c),d=[];let h=new nt((f,m)=>Ee(f.canonicalString(),m.canonicalString()));for(const f of i){const m=B8(this.userId,f.key.path,l);h=h.add(f.key.path.popLast()),d.push(a.put(u)),d.push(s.put(m,Lae))}return h.forEach(f=>{d.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Xn[l]=c.keys()}),z.waitFor(d).next(()=>c)})}lookupMutationBatch(e,n){return Do(e).get(n).next(r=>r?(me(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Ic(this.serializer,r)):null)}er(e,n){return this.Xn[n]?z.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Do(e).ee({index:Rc,range:i},(a,l,c)=>{l.userId===this.userId&&(me(l.batchId>=r,47524,{tr:r}),s=Ic(this.serializer,l)),c.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=yl;return Do(e).ee({index:Rc,range:n,reverse:!0},(i,s,a)=>{r=s.batchId,a.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,yl],[this.userId,Number.POSITIVE_INFINITY]);return Do(e).J(Rc,n).next(r=>r.map(i=>Ic(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Pv(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return wd(e).ee({range:i},(a,l,c)=>{const[u,d,h]=a,f=zs(d);if(u===this.userId&&n.path.isEqual(f))return Do(e).get(h).next(m=>{if(!m)throw ce(61480,{nr:a,batchId:h});me(m.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:m.userId,batchId:h}),s.push(Ic(this.serializer,m))});c.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(Ee);const i=[];return n.forEach(s=>{const a=Pv(this.userId,s.path),l=IDBKeyRange.lowerBound(a),c=wd(e).ee({range:l},(u,d,h)=>{const[f,m,y]=u,v=zs(m);f===this.userId&&s.path.isEqual(v)?r=r.add(y):h.done()});i.push(c)}),z.waitFor(i).next(()=>this.rr(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Pv(this.userId,r),a=IDBKeyRange.lowerBound(s);let l=new nt(Ee);return wd(e).ee({range:a},(c,u,d)=>{const[h,f,m]=c,y=zs(f);h===this.userId&&r.isPrefixOf(y)?y.length===i&&(l=l.add(m)):d.done()}).next(()=>this.rr(e,l))}rr(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Do(e).get(s).next(a=>{if(a===null)throw ce(35274,{batchId:s});me(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:s}),r.push(Ic(this.serializer,a))}))}),z.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return JF(e.le,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.ir(n.batchId)}),z.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return z.resolve();const r=IDBKeyRange.lowerBound(function(a){return[a]}(this.userId)),i=[];return wd(e).ee({range:r},(s,a,l)=>{if(s[0]===this.userId){const c=zs(s[1]);i.push(c)}else l.done()}).next(()=>{me(i.length===0,56720,{sr:i.map(s=>s.canonicalString())})})})}containsKey(e,n){return ZF(e,this.userId,n)}_r(e){return eB(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:yl,lastStreamToken:""})}}function ZF(t,e,n){const r=Pv(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return wd(t).ee({range:s,X:!0},(l,c,u)=>{const[d,h,f]=l;d===e&&h===i&&(a=!0),u.done()}).next(()=>a)}function Do(t){return Tn(t,cs)}function wd(t){return Tn(t,Nh)}function eB(t){return Tn(t,cg)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vu(0)}static cr(){return new vu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ile{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next(n=>{const r=new vu(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.lr(e).next(n=>ye.fromTimestamp(new Qe(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.lr(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.lr(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i)))}addTargetData(e,n){return this.Pr(e,n).next(()=>this.lr(e).next(r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>od(e).delete(n.targetId)).next(()=>this.lr(e)).next(r=>(me(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return od(e).ee((a,l)=>{const c=Gm(l);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,s.push(this.removeTargetData(e,c)))}).next(()=>z.waitFor(s)).next(()=>i)}forEachTarget(e,n){return od(e).ee((r,i)=>{const s=Gm(i);n(s)})}lr(e){return CM(e).get(Lx).next(n=>(me(n!==null,2888),n))}hr(e,n){return CM(e).put(Lx,n)}Pr(e,n){return od(e).put(KF(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next(n=>n.targetCount)}getTargetData(e,n){const r=fu(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return od(e).ee({range:i,index:q8},(a,l,c)=>{const u=Gm(l);my(n,u.target)&&(s=u,c.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Ko(e);return n.forEach(a=>{const l=xr(a.path);i.push(s.put({targetId:r,path:l})),i.push(this.referenceDelegate.addReference(e,r,a))}),z.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ko(e);return z.forEach(n,s=>{const a=xr(s.path);return z.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Ko(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ko(e);let s=Ce();return i.ee({range:r,X:!0},(a,l,c)=>{const u=zs(a[1]),d=new se(u);s=s.add(d)}).next(()=>s)}containsKey(e,n){const r=xr(n.path),i=IDBKeyRange.bound([r],[k8(r)],!1,!0);let s=0;return Ko(e).ee({index:yA,X:!0,range:i},([a,l],c,u)=>{a!==0&&(s++,u.done())}).next(()=>s>0)}At(e,n){return od(e).get(n).next(r=>r?Gm(r):null)}}function od(t){return Tn(t,Sh)}function CM(t){return Tn(t,Yc)}function Ko(t){return Tn(t,Eh)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM="LruGarbageCollector",sle=1048576;function kM([t,e],[n,r]){const i=Ee(t,n);return i===0?Ee(e,r):i}class ale{constructor(e){this.Ir=e,this.buffer=new nt(kM),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();kM(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){J(PM,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Kl(n)?J(PM,"Ignoring IndexedDB error during garbage collection: ",n):await Wl(n)}await this.Vr(3e5)})}}class ole{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Kr.ce);const r=new ale(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(J("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(IM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(J("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IM):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,a,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(J("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,a=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,l=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),yd()<=Oe.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function nB(t,e){return new ole(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lle{constructor(e,n){this.db=e,this.garbageCollector=nB(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,(r,i)=>n(i))}addReference(e,n,r){return L0(e,r)}removeReference(e,n,r){return L0(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return L0(e,n)}br(e,n){return function(i,s){let a=!1;return eB(i).te(l=>ZF(i,l,s).next(c=>(c&&(a=!0),z.resolve(!c)))).next(()=>a)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,(a,l)=>{if(l<=n){const c=this.br(e,a).next(u=>{if(!u)return s++,r.getEntry(e,a).next(()=>(r.removeEntry(a,ye.min()),Ko(e).delete(function(h){return[0,xr(h.path)]}(a))))});i.push(c)}}).next(()=>z.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return L0(e,n)}Sr(e,n){const r=Ko(e);let i,s=Kr.ce;return r.ee({index:yA},([a,l],{path:c,sequenceNumber:u})=>{a===0?(s!==Kr.ce&&n(new se(zs(i)),s),s=u,i=c):s=Kr.ce}).next(()=>{s!==Kr.ce&&n(new se(zs(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function L0(t,e){return Ko(t).put(function(r,i){return{targetId:0,path:xr(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(){this.changes=new mo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cle{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return hc(e).put(r)}removeEntry(e,n,r){return hc(e).delete(function(s,a){const l=s.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],Fx(a),l[l.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Dr(e,r)))}getEntry(e,n){let r=_t.newInvalidDocument(n);return hc(e).ee({index:kv,range:IDBKeyRange.only(vm(n))},(i,s)=>{r=this.Cr(n,s)}).next(()=>r)}vr(e,n){let r={size:0,document:_t.newInvalidDocument(n)};return hc(e).ee({index:kv,range:IDBKeyRange.only(vm(n))},(i,s)=>{r={document:this.Cr(n,s),size:$x(s)}}).next(()=>r)}getEntries(e,n){let r=Qr();return this.Fr(e,n,(i,s)=>{const a=this.Cr(i,s);r=r.insert(i,a)}).next(()=>r)}Mr(e,n){let r=Qr(),i=new gt(se.comparator);return this.Fr(e,n,(s,a)=>{const l=this.Cr(s,a);r=r.insert(s,l),i=i.insert(s,$x(a))}).next(()=>({documents:r,Or:i}))}Fr(e,n,r){if(n.isEmpty())return z.resolve();let i=new nt(DM);n.forEach(c=>i=i.add(c));const s=IDBKeyRange.bound(vm(i.first()),vm(i.last())),a=i.getIterator();let l=a.getNext();return hc(e).ee({index:kv,range:s},(c,u,d)=>{const h=se.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;l&&DM(l,h)<0;)r(l,null),l=a.getNext();l&&l.isEqual(h)&&(r(l,u),l=a.hasNext()?a.getNext():null),l?d.j(vm(l)):d.done()}).next(()=>{for(;l;)r(l,null),l=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const a=n.path,l=[a.popLast().toArray(),a.lastSegment(),Fx(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return hc(e).J(IDBKeyRange.bound(l,c,!0)).next(u=>{s==null||s.incrementDocumentReadCount(u.length);let d=Qr();for(const h of u){const f=this.Cr(se.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);f.isFoundDocument()&&(gy(n,f)||i.has(f.key))&&(d=d.insert(f.key,f))}return d})}getAllFromCollectionGroup(e,n,r,i){let s=Qr();const a=OM(n,r),l=OM(n,Ti.max());return hc(e).ee({index:$8,range:IDBKeyRange.bound(a,l,!0)},(c,u,d)=>{const h=this.Cr(se.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(h.key,h),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new ule(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return RM(e).get(H2).next(n=>(me(!!n,20021),n))}Dr(e,n){return RM(e).put(H2,n)}Cr(e,n){if(n){const r=Koe(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ye.min())))return r}return _t.newInvalidDocument(e)}}function iB(t){return new cle(t)}class ule extends rB{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new mo(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new nt((s,a)=>Ee(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const l=this.Br.get(s);if(n.push(this.Nr.removeEntry(e,s,l.readTime)),a.isValidDocument()){const c=gM(this.Nr.serializer,a);i=i.add(s.path.popLast());const u=$x(c);r+=u-l.size,n.push(this.Nr.addEntry(e,s,c))}else if(r-=l.size,this.trackRemovals){const c=gM(this.Nr.serializer,a.convertToNoDocument(ye.min()));n.push(this.Nr.addEntry(e,s,c))}}),i.forEach(s=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.Nr.updateMetadata(e,r)),z.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next(r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next(({documents:r,Or:i})=>(i.forEach((s,a)=>{this.Br.set(s,{size:a,readTime:r.get(s).readTime})}),r))}}function RM(t){return Tn(t,ug)}function hc(t){return Tn(t,Mx)}function vm(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function OM(t,e){const n=e.documentKey.path.toArray();return[t,Fx(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function DM(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Ee(n[s],r[s]),i)return i;return i=Ee(n.length,r.length),i||(i=Ee(n[n.length-2],r[r.length-2]),i||Ee(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dle{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Np(r.mutation,i,Yr.empty(),Qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const i=Us();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=qm();return s.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Us();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,i){let s=Qr();const a=_p(),l=function(){return _p()}();return n.forEach((c,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof po)?s=s.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),Np(d.mutation,u,d.mutation.getFieldMask(),Qe.now())):a.set(u.key,Yr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>l.set(u,new dle(d,a.get(u)??null))),l))}recalculateAndSaveOverlays(e,n){const r=_p();let i=new gt((a,l)=>a-l),s=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||Yr.empty();d=l.applyToLocalView(u,d),r.set(c,d);const h=(i.get(l.batchId)||Ce()).add(c);i=i.insert(l.batchId,h)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,h=wF();d.forEach(f=>{if(!s.has(f)){const m=AF(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,h))}return z.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return se.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(Us());let l=_h,c=s;return a.next(u=>z.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),s.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{c=c.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Ce())).next(d=>({batchId:l,changes:bF(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=qm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=qm();return this.indexManager.getCollectionParents(e,s).next(l=>z.forEach(l,c=>{const u=function(h,f){return new fo(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{a=a.insert(h,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((c,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,_t.newInvalidDocument(d)))});let l=qm();return a.forEach((c,u)=>{const d=s.get(c);d!==void 0&&Np(d.mutation,u,Yr.empty(),Qe.now()),gy(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hle{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ln(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:RA(i.bundledQuery),readTime:ln(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fle{constructor(){this.overlays=new gt(se.comparator),this.qr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Us();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=Us(),s=n.length+1,a=new se(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new gt((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Us(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Us(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=i)););return z.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new CA(n,r));let s=this.qr.get(n);s===void 0&&(s=Ce(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mle{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.Qr=new nt(Rn.$r),this.Ur=new nt(Rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Rn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Rn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new se(new Me([])),r=new Rn(n,e),i=new Rn(n,e+1),s=[];return this.Ur.forEachInRange([r,i],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new se(new Me([])),r=new Rn(n,e),i=new Rn(n,e+1);let s=Ce();return this.Ur.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new Rn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return se.comparator(e.key,n.key)||Ee(e.Yr,n.Yr)}static Kr(e,n){return Ee(e.Yr,n.Yr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ple{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new nt(Rn.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new AA(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.Zr=this.Zr.add(new Rn(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return z.resolve(a)}lookupMutationBatch(e,n){return z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?yl:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rn(n,0),i=new Rn(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],a=>{const l=this.Xr(a.Yr);s.push(l)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(Ee);return n.forEach(i=>{const s=new Rn(i,0),a=new Rn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],l=>{r=r.add(l.Yr)})}),z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;se.isDocumentKey(s)||(s=s.child(""));const a=new Rn(new se(s),0);let l=new nt(Ee);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.Yr)),!0)},a),z.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){me(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return z.forEach(n.mutations,i=>{const s=new Rn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Rn(n,0),i=this.Zr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gle{constructor(e){this.ri=e,this.docs=function(){return new gt(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():_t.newInvalidDocument(n))}getEntries(e,n){let r=Qr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_t.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Qr();const a=n.path,l=new se(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||pA(L8(d),r)<=0||(i.has(d.key)||gy(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ce(9500)}ii(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yle(this)}getSize(e){return z.resolve(this.size)}}class yle extends rB{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vle{constructor(e){this.persistence=e,this.si=new mo(n=>fu(n),my),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.oi=0,this._i=new MA,this.targetCount=0,this.ai=vu.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new vu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Pr(n),z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,n){this.ui={},this.overlays={},this.ci=new Kr(0),this.li=!1,this.li=!0,this.hi=new mle,this.referenceDelegate=e(this),this.Pi=new vle(this),this.indexManager=new nle,this.remoteDocumentCache=function(i){return new gle(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new WF(n),this.Ii=new hle(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fle,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new ple(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const i=new xle(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return z.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class xle extends z8{constructor(e){super(),this.currentSequenceNumber=e}}class Bw{constructor(e){this.persistence=e,this.Ri=new MA,this.Vi=null}static mi(e){return new Bw(e)}get fi(){if(this.Vi)return this.Vi;throw ce(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,r=>{const i=se.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,ye.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class qx{constructor(e,n){this.persistence=e,this.pi=new mo(r=>xr(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=nB(this,n)}static mi(e,n){return new qx(e,n)}Ei(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return z.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?z.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,a=>this.br(e,a,n).next(l=>{l||(r++,s.removeEntry(a,ye.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ov(e.data.value)),n}br(e,n,r){return z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ble{constructor(e){this.serializer=e}k(e,n,r,i){const s=new Pw("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(fy)}(e),function(c){c.createObjectStore(cg,{keyPath:Mae}),c.createObjectStore(cs,{keyPath:GD,autoIncrement:!0}).createIndex(Rc,WD,{unique:!0}),c.createObjectStore(Nh)}(e),MM(e),function(c){c.createObjectStore(wc)}(e));let a=z.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore(Eh),c.deleteObjectStore(Sh),c.deleteObjectStore(Yc)}(e),MM(e)),a=a.next(()=>function(c){const u=c.store(Yc),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ye.min().toTimestamp(),targetCount:0};return u.put(Lx,d)}(s))),r<4&&i>=4&&(r!==0&&(a=a.next(()=>function(c,u){return u.store(cs).J().next(h=>{c.deleteObjectStore(cs),c.createObjectStore(cs,{keyPath:GD,autoIncrement:!0}).createIndex(Rc,WD,{unique:!0});const f=u.store(cs),m=h.map(y=>f.put(y));return z.waitFor(m)})}(e,s))),a=a.next(()=>{(function(c){c.createObjectStore(jh,{keyPath:Hae})})(e)})),r<5&&i>=5&&(a=a.next(()=>this.yi(s))),r<6&&i>=6&&(a=a.next(()=>(function(c){c.createObjectStore(ug)}(e),this.wi(s)))),r<7&&i>=7&&(a=a.next(()=>this.Si(s))),r<8&&i>=8&&(a=a.next(()=>this.bi(e,s))),r<9&&i>=9&&(a=a.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(a=a.next(()=>this.Di(s))),r<11&&i>=11&&(a=a.next(()=>{(function(c){c.createObjectStore(kw,{keyPath:Gae})})(e),function(c){c.createObjectStore(Rw,{keyPath:Wae})}(e)})),r<12&&i>=12&&(a=a.next(()=>{(function(c){const u=c.createObjectStore(Ow,{keyPath:eoe});u.createIndex(W2,toe,{unique:!1}),u.createIndex(W8,noe,{unique:!1})})(e)})),r<13&&i>=13&&(a=a.next(()=>function(c){const u=c.createObjectStore(Mx,{keyPath:Vae});u.createIndex(kv,zae),u.createIndex($8,Uae)}(e)).next(()=>this.Ci(e,s)).next(()=>e.deleteObjectStore(wc))),r<14&&i>=14&&(a=a.next(()=>this.Fi(e,s))),r<15&&i>=15&&(a=a.next(()=>function(c){c.createObjectStore(vA,{keyPath:Kae,autoIncrement:!0}).createIndex(G2,Yae,{unique:!1}),c.createObjectStore(xp,{keyPath:Qae}).createIndex(H8,Xae,{unique:!1}),c.createObjectStore(bp,{keyPath:Jae}).createIndex(G8,Zae,{unique:!1})}(e))),r<16&&i>=16&&(a=a.next(()=>{n.objectStore(xp).clear()}).next(()=>{n.objectStore(bp).clear()})),r<17&&i>=17&&(a=a.next(()=>{(function(c){c.createObjectStore(xA,{keyPath:roe})})(e)})),r<18&&i>=18&&u8()&&(a=a.next(()=>{n.objectStore(xp).clear()}).next(()=>{n.objectStore(bp).clear()})),a}wi(e){let n=0;return e.store(wc).ee((r,i)=>{n+=$x(i)}).next(()=>{const r={byteSize:n};return e.store(ug).put(H2,r)})}yi(e){const n=e.store(cg),r=e.store(cs);return n.J().next(i=>z.forEach(i,s=>{const a=IDBKeyRange.bound([s.userId,yl],[s.userId,s.lastAcknowledgedBatchId]);return r.J(Rc,a).next(l=>z.forEach(l,c=>{me(c.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const u=Ic(this.serializer,c);return JF(e,s.userId,u).next(()=>{})}))}))}Si(e){const n=e.store(Eh),r=e.store(wc);return e.store(Yc).get(Lx).next(i=>{const s=[];return r.ee((a,l)=>{const c=new Me(a),u=function(h){return[0,xr(h)]}(c);s.push(n.get(u).next(d=>d?z.resolve():(h=>n.put({targetId:0,path:xr(h),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>z.waitFor(s))})}bi(e,n){e.createObjectStore(dg,{keyPath:qae});const r=n.store(dg),i=new DA,s=a=>{if(i.add(a)){const l=a.lastSegment(),c=a.popLast();return r.put({collectionId:l,parent:xr(c)})}};return n.store(wc).ee({X:!0},(a,l)=>{const c=new Me(a);return s(c.popLast())}).next(()=>n.store(Nh).ee({X:!0},([a,l,c],u)=>{const d=zs(l);return s(d.popLast())}))}Di(e){const n=e.store(Sh);return n.ee((r,i)=>{const s=Gm(i),a=KF(this.serializer,s);return n.put(a)})}Ci(e,n){const r=n.store(wc),i=[];return r.ee((s,a)=>{const l=n.store(Mx),c=function(h){return h.document?new se(Me.fromString(h.document.name).popFirst(5)):h.noDocument?se.fromSegments(h.noDocument.path):h.unknownDocument?se.fromSegments(h.unknownDocument.path):ce(36783)}(a).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(l.put(u))}).next(()=>z.waitFor(i))}Fi(e,n){const r=n.store(cs),i=iB(this.serializer),s=new LA(Bw.mi,this.serializer.yt);return r.J().next(a=>{const l=new Map;return a.forEach(c=>{let u=l.get(c.userId)??Ce();Ic(this.serializer,c).keys().forEach(d=>u=u.add(d)),l.set(c.userId,u)}),z.forEach(l,(c,u)=>{const d=new Mn(u),h=Uw.wt(this.serializer,d),f=s.getIndexManager(d),m=Fw.wt(d,this.serializer,f,s.referenceDelegate);return new sB(i,m,h,f).recalculateAndSaveOverlaysForDocumentKeys(new K2(n,Kr.ce),c).next()})})}}function MM(t){t.createObjectStore(Eh,{keyPath:Bae}).createIndex(yA,$ae,{unique:!0}),t.createObjectStore(Sh,{keyPath:"targetId"}).createIndex(q8,Fae,{unique:!0}),t.createObjectStore(Yc)}const Mo="IndexedDbPersistence",LN=18e5,VN=5e3,zN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",aB="main";class VA{constructor(e,n,r,i,s,a,l,c,u,d,h=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=s,this.window=a,this.document=l,this.xi=u,this.Oi=d,this.Ni=h,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=f=>Promise.resolve(),!VA.v())throw new Q($.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lle(this,i),this.$i=n+aB,this.serializer=new WF(c),this.Ui=new qs(this.$i,this.Ni,new ble(this.serializer)),this.hi=new Qoe,this.Pi=new ile(this.referenceDelegate,this.serializer),this.remoteDocumentCache=iB(this.serializer),this.Ii=new Yoe,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,d===!1&&sn(Mo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Q($.FAILED_PRECONDITION,zN);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Pi.getHighestSequenceNumber(e))}).then(e=>{this.ci=new Kr(e,this.xi)}).then(()=>{this.li=!0}).catch(e=>(this.Ui&&this.Ui.close(),Promise.reject(e)))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget(async()=>{this.started&&await this.Wi()}))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>V0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Hi(e).next(n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)))})}).next(()=>this.Yi(e)).next(n=>this.isPrimary&&!n?this.Zi(e).next(()=>!1):!!n&&this.Xi(e).next(()=>!0))).catch(e=>{if(Kl(e))return J(Mo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return J(Mo,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable(()=>this.Qi(e)),this.isPrimary=e})}Hi(e){return xm(e).get(nd).next(n=>z.resolve(this.es(n)))}ts(e){return V0(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,LN)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Tn(n,jh);return r.J().next(i=>{const s=this.ss(i,LN),a=i.filter(l=>s.indexOf(l)===-1);return z.forEach(a,l=>r.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Wi().then(()=>this.ns()).then(()=>this.ji()))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?z.resolve(!0):xm(e).get(nd).next(n=>{if(n!==null&&this.rs(n.leaseTimestampMs,VN)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new Q($.FAILED_PRECONDITION,zN);return!1}}return!(!this.networkEnabled||!this.inForeground)||V0(e).J().next(r=>this.ss(r,VN).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,l=this.networkEnabled===i.networkEnabled;if(s||a&&l)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&J(Mo,`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[fy,jh],e=>{const n=new K2(e,Kr.ce);return this.Zi(n).next(()=>this.ts(n))}),this.Ui.close(),this.Ps()}ss(e,n){return e.filter(r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId))}Ts(){return this.runTransaction("getActiveClients","readonly",e=>V0(e).J().next(n=>this.ss(n,LN).map(r=>r.clientId)))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return Fw.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new rle(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Uw.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){J(Mo,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(c){return c===18?aoe:c===17?X8:c===16?soe:c===15?bA:c===14?Q8:c===13?Y8:c===12?ioe:c===11?K8:void ce(60245)}(this.Ni);let a;return this.Ui.runTransaction(e,i,s,l=>(a=new K2(l,this.ci?this.ci.next():Kr.ce),n==="readwrite-primary"?this.Hi(a).next(c=>!!c||this.Yi(a)).next(c=>{if(!c)throw sn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)),new Q($.FAILED_PRECONDITION,V8);return r(a)}).next(c=>this.Xi(a).next(()=>c)):this.Is(a).next(()=>r(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Is(e){return xm(e).get(nd).next(n=>{if(n!==null&&this.rs(n.leaseTimestampMs,VN)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Q($.FAILED_PRECONDITION,zN)})}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return xm(e).put(nd,n)}static v(){return qs.v()}Zi(e){const n=xm(e);return n.get(nd).next(r=>this.es(r)?(J(Mo,"Releasing primary lease."),n.delete(nd)):z.resolve())}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(sn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi()))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;c8()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return J(Mo,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return sn(Mo,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){sn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function xm(t){return Tn(t,fy)}function V0(t){return Tn(t,jh)}function zA(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ce(),i=Ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new UA(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wle{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return c8()?8:U8(Ut())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new wle;return this.Ss(e,n,a).next(l=>{if(s.result=l,this.Vs)return this.bs(e,n,a,l.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(yd()<=Oe.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",vd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(yd()<=Oe.DEBUG&&J("QueryEngine","Query:",vd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(yd()<=Oe.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",vd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(n))):z.resolve())}ys(e,n){if(aM(n))return z.resolve(null);let r=Mr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ux(n,null,"F"),r=Mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Ce(...s);return this.ps.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,l);return this.Cs(n,u,a,c.readTime)?this.ys(e,Ux(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,i){return aM(n)||i.isEqual(ye.min())?z.resolve(null):this.ps.getDocuments(e,r).next(s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?z.resolve(null):(yd()<=Oe.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vd(n)),this.vs(e,a,n,M8(i,_h)).next(l=>l))})}Ds(e,n){let r=new nt(vF(e));return n.forEach((i,s)=>{gy(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return yd()<=Oe.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",vd(n)),this.ps.getDocumentsMatchingQuery(e,n,Ti.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="LocalStore",_le=3e8;class Nle{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new gt(Ee),this.xs=new mo(s=>fu(s),my),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sB(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function lB(t,e,n,r){return new Nle(t,e,n,r)}async function cB(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],l=[];let c=Ce();for(const u of i){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of s){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:a,addedBatchIds:l}))})})}function Sle(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const h=u.batch,f=h.keys();let m=z.resolve();return f.forEach(y=>{m=m.next(()=>d.getEntry(c,y)).next(v=>{const x=u.docVersions.get(y);me(x!==null,48541),v.version.compareTo(x)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),m.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Ce();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function uB(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Ele(t,e){const n=le(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;l.push(n.Pi.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Yt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(v,x,w){return v.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=_le?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,m,d)&&l.push(n.Pi.updateTargetData(s,m))});let c=Qr(),u=Ce();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(dB(s,a,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!r.isEqual(ye.min())){const d=n.Pi.getLastRemoteSnapshotVersion(s).next(h=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(d)}return z.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.Ms=i,s))}function dB(t,e,n){let r=Ce(),i=Ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Qr();return n.forEach((l,c)=>{const u=s.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(ye.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):J(FA,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:a,qs:i}})}function jle(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=yl),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Rh(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Pi.allocateTargetId(r).next(a=>(i=new ja(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Oh(t,e,n){const r=le(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Kl(a))throw a;J(FA,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Hx(t,e,n){const r=le(t);let i=ye.min(),s=Ce();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,d){const h=le(c),f=h.xs.get(d);return f!==void 0?z.resolve(h.Ms.get(f)):h.Pi.getTargetData(u,d)}(r,a,Mr(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,l.targetId).next(c=>{s=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:ye.min(),n?s:Ce())).next(l=>(mB(r,yF(e),l),{documents:l,Qs:s})))}function hB(t,e){const n=le(t),r=le(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.At(s,e).next(a=>a?a.target:null))}function fB(t,e){const n=le(t),r=n.Os.get(e)||ye.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Ns.getAllFromCollectionGroup(i,e,M8(r,_h),Number.MAX_SAFE_INTEGER)).then(i=>(mB(n,e,i),i))}function mB(t,e,n){let r=t.Os.get(e)||ye.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}async function Tle(t,e,n,r){const i=le(t);let s=Ce(),a=Qr();for(const u of n){const d=e.$s(u.metadata.name);u.document&&(s=s.add(d));const h=e.Us(u);h.setReadTime(e.Ks(u.metadata.readTime)),a=a.insert(d,h)}const l=i.Ns.newChangeBuffer({trackRemovals:!0}),c=await Rh(i,function(d){return Mr(xf(Me.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>dB(u,l,a).next(d=>(l.apply(u),d)).next(d=>i.Pi.removeMatchingKeysForTargetId(u,c.targetId).next(()=>i.Pi.addMatchingKeys(u,s,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,d.ks,d.qs)).next(()=>d.ks)))}async function Ale(t,e,n=Ce()){const r=await Rh(t,Mr(RA(e.bundledQuery))),i=le(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const a=ln(e.readTime);if(r.snapshotVersion.compareTo(a)>=0)return i.Ii.saveNamedQuery(s,e);const l=r.withResumeToken(Yt.EMPTY_BYTE_STRING,a);return i.Ms=i.Ms.insert(l.targetId,l),i.Pi.updateTargetData(s,l).next(()=>i.Pi.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Pi.addMatchingKeys(s,n,r.targetId)).next(()=>i.Ii.saveNamedQuery(s,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB="firestore_clients";function LM(t,e){return`${pB}_${t}_${e}`}const gB="firestore_mutations";function VM(t,e,n){let r=`${gB}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const yB="firestore_targets";function UN(t,e){return`${yB}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="SharedClientState";class Gx{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let s,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(s=new Q(i.error.code,i.error.message))),a?new Gx(e,n,i.state,s):(sn(As,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sp{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new Q(r.error.code,r.error.message))),s?new Sp(e,r.state,i):(sn(As,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Wx{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=EA();for(let a=0;i&&a<r.activeTargetIds.length;++a)i=F8(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new Wx(e,s):(sn(As,`Failed to parse client data for instance '${e}': ${n}`),null)}}class BA{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new BA(n.clientId,n.onlineState):(sn(As,`Failed to parse online state: ${e}`),null)}}class cE{constructor(){this.activeTargetIds=EA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FN{constructor(e,n,r,i,s){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new gt(Ee),this.started=!1,this.Xs=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.eo=LM(this.persistenceKey,this.Js),this.no=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new cE),this.ro=new RegExp(`^${pB}_${a}_([^_]*)$`),this.io=new RegExp(`^${gB}_${a}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${yB}_${a}_(\\d+)$`),this.oo=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this._o=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(LM(this.persistenceKey,r));if(i){const s=Wx.Ws(r,i);s&&(this.Zs=this.Zs.insert(s.clientId,s))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(UN(this.persistenceKey,e));if(i){const s=Sp.Ws(e,i);s&&(r=s.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(UN(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Po(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return J(As,"READ",e,n),n}setItem(e,n){J(As,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){J(As,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(J(As,"EVENT",n.key,n.newValue),n.key===this.eo)return void sn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=function(s){let a=Kr.ce;if(s!=null)try{const l=JSON.parse(s);me(typeof l=="number",30636,{So:s}),a=l}catch(l){sn(As,"Failed to read sequence number from WebStorage",l)}return a}(n.newValue);r!==Kr.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Do(i)))}}}else this.Xs.push(n)})}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new Gx(this.currentUser,e,n,r),s=VM(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Gs())}Po(e){const n=VM(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=UN(this.persistenceKey,e),s=new Sp(e,n,r);this.setItem(i,s.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return Wx.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Gx.Ws(new Mn(s),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return Sp.Ws(i,n)}uo(e){return BA.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);J(As,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),s=this.lo(r),a=[],l=[];return s.forEach(c=>{i.has(c)||a.push(c)}),i.forEach(c=>{s.has(c)||l.push(c)}),this.syncEngine.Fo(a,l).then(()=>{this.Zs=r})}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=EA();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class vB{constructor(){this.Mo=new cE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new cE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ile{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM="ConnectivityMonitor";class UM{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){J(zM,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){J(zM,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z0=null;function uE(){return z0===null?z0=function(){return 268435456+Math.round(2147483648*Math.random())}():z0++,"0x"+z0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="RestConnection",Cle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ple{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Y2?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const a=uE(),l=this.zo(e,n.toUriEncodedString());J(BN,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:u}=new URL(l),d=Gl(u);return this.Jo(e,l,c,r,d).then(h=>(J(BN,`Received RPC '${e}' ${a}: `,h),h),h=>{throw Xs(BN,`RPC '${e}' ${a} failed with error: `,h,"url: ",l,"request:",r),h})}Ho(e,n,r,i,s,a){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vf}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=Cle[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kle{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="WebChannelConnection";class Rle extends Ple{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=uE();return new Promise((l,c)=>{const u=new E8;u.setWithCredentials(!0),u.listenOnce(j8.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Iv.NO_ERROR:const h=u.getResponseJson();J(ur,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),l(h);break;case Iv.TIMEOUT:J(ur,`RPC '${e}' ${a} timed out`),c(new Q($.DEADLINE_EXCEEDED,"Request time out"));break;case Iv.HTTP_ERROR:const f=u.getStatus();if(J(ur,`RPC '${e}' ${a} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const v=function(w){const _=w.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(_)>=0?_:$.UNKNOWN}(y.status);c(new Q(v,y.message))}else c(new Q($.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Q($.UNAVAILABLE,"Connection failed."));break;default:ce(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{J(ur,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(i);J(ur,`RPC '${e}' ${a} sending request:`,i),u.send(n,"POST",d,r,15)})}T_(e,n,r){const i=uE(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=I8(),l=A8(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=s.join("");J(ur,`Creating RPC '${e}' stream ${i}: ${d}`,c);const h=a.createWebChannel(d,c);this.I_(h);let f=!1,m=!1;const y=new kle({Yo:x=>{m?J(ur,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(f||(J(ur,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),J(ur,`RPC '${e}' stream ${i} sending:`,x),h.send(x))},Zo:()=>h.close()}),v=(x,w,_)=>{x.listen(w,b=>{try{_(b)}catch(N){setTimeout(()=>{throw N},0)}})};return v(h,$m.EventType.OPEN,()=>{m||(J(ur,`RPC '${e}' stream ${i} transport opened.`),y.o_())}),v(h,$m.EventType.CLOSE,()=>{m||(m=!0,J(ur,`RPC '${e}' stream ${i} transport closed`),y.a_(),this.E_(h))}),v(h,$m.EventType.ERROR,x=>{m||(m=!0,Xs(ur,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),y.a_(new Q($.UNAVAILABLE,"The operation could not be completed")))}),v(h,$m.EventType.MESSAGE,x=>{var w;if(!m){const _=x.data[0];me(!!_,16349);const b=_,N=(b==null?void 0:b.error)||((w=b[0])==null?void 0:w.error);if(N){J(ur,`RPC '${e}' stream ${i} received error:`,N);const E=N.status;let C=function(A){const P=un[A];if(P!==void 0)return PF(P)}(E),j=N.message;C===void 0&&(C=$.INTERNAL,j="Unknown error status: "+E+" with message "+N.message),m=!0,y.a_(new Q(C,j)),h.close()}else J(ur,`RPC '${e}' stream ${i} received:`,_),y.u_(_)}}),v(l,T8.STAT_EVENT,x=>{x.stat===B2.PROXY?J(ur,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===B2.NOPROXY&&J(ur,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xB(){return typeof window<"u"?window:null}function zv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(t){return new Voe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&J("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM="PersistentStream";class bB{constructor(e,n,r,i,s,a,l,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $A(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(sn(n.toString()),sn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Q($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return J(FM,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(J(FM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ole extends bB{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Foe(this.serializer,e),r=function(s){if(!("targetChange"in s))return ye.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?ye.min():a.readTime?ln(a.readTime):ye.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=iE(this.serializer),n.addTarget=function(s,a){let l;const c=a.target;if(l=Vx(c)?{documents:FF(s,c)}:{query:BF(s,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=DF(s,a.resumeToken);const u=nE(s,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(ye.min())>0){l.readTime=kh(s,a.snapshotVersion.toTimestamp());const u=nE(s,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=$oe(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=iE(this.serializer),n.removeTarget=e,this.q_(n)}}class Dle extends bB{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,me(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Boe(e.writeResults,e.commitTime),r=ln(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=iE(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yg(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mle{}class Lle extends Mle{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Q($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(e,rE(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q($.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(e,rE(n,r),i,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Q($.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Vle{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(sn(n),this.aa=!1):J("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu="RemoteStore";class zle{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{Ql(this)&&(J(xu,"Restarting streams for network reachability change."),await async function(c){const u=le(c);u.Ea.add(4),await _f(u),u.Ra.set("Unknown"),u.Ea.delete(4),await wy(u)}(this))})}),this.Ra=new Vle(r,i)}}async function wy(t){if(Ql(t))for(const e of t.da)await e(!0)}async function _f(t){for(const e of t.da)await e(!1)}function $w(t,e){const n=le(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),GA(n)?HA(n):Sf(n).O_()&&qA(n,e))}function Dh(t,e){const n=le(t),r=Sf(n);n.Ia.delete(e),r.O_()&&wB(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ql(n)&&n.Ra.set("Unknown"))}function qA(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Sf(t).Y_(e)}function wB(t,e){t.Va.Ue(e),Sf(t).Z_(e)}function HA(t){t.Va=new Ooe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Sf(t).start(),t.Ra.ua()}function GA(t){return Ql(t)&&!Sf(t).x_()&&t.Ia.size>0}function Ql(t){return le(t).Ea.size===0}function _B(t){t.Va=void 0}async function Ule(t){t.Ra.set("Online")}async function Fle(t){t.Ia.forEach((e,n)=>{qA(t,e)})}async function Ble(t,e){_B(t),GA(t)?(t.Ra.ha(e),HA(t)):t.Ra.set("Unknown")}async function $le(t,e,n){if(t.Ra.set("Online"),e instanceof OF&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.Ia.delete(l),i.Va.removeTarget(l))}(t,e)}catch(r){J(xu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Kx(t,r)}else if(e instanceof Lv?t.Va.Ze(e):e instanceof RF?t.Va.st(e):t.Va.tt(e),!n.isEqual(ye.min()))try{const r=await uB(t.localStore);n.compareTo(r)>=0&&await function(s,a){const l=s.Va.Tt(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=s.Ia.get(u);d&&s.Ia.set(u,d.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const d=s.Ia.get(c);if(!d)return;s.Ia.set(c,d.withResumeToken(Yt.EMPTY_BYTE_STRING,d.snapshotVersion)),wB(s,c);const h=new ja(d.target,c,u,d.sequenceNumber);qA(s,h)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){J(xu,"Failed to raise snapshot:",r),await Kx(t,r)}}async function Kx(t,e,n){if(!Kl(e))throw e;t.Ea.add(1),await _f(t),t.Ra.set("Offline"),n||(n=()=>uB(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J(xu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await wy(t)})}function NB(t,e){return e().catch(n=>Kx(t,n,e))}async function Nf(t){const e=le(t),n=Ol(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:yl;for(;qle(e);)try{const i=await jle(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Hle(e,i)}catch(i){await Kx(e,i)}SB(e)&&EB(e)}function qle(t){return Ql(t)&&t.Ta.length<10}function Hle(t,e){t.Ta.push(e);const n=Ol(t);n.O_()&&n.X_&&n.ea(e.mutations)}function SB(t){return Ql(t)&&!Ol(t).x_()&&t.Ta.length>0}function EB(t){Ol(t).start()}async function Gle(t){Ol(t).ra()}async function Wle(t){const e=Ol(t);for(const n of t.Ta)e.ea(n.mutations)}async function Kle(t,e,n){const r=t.Ta.shift(),i=IA.from(r,e,n);await NB(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Nf(t)}async function Yle(t,e){e&&Ol(t).X_&&await async function(r,i){if(function(a){return CF(a)&&a!==$.ABORTED}(i.code)){const s=r.Ta.shift();Ol(r).B_(),await NB(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Nf(r)}}(t,e),SB(t)&&EB(t)}async function BM(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),J(xu,"RemoteStore received new credentials");const r=Ql(n);n.Ea.add(3),await _f(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await wy(n)}async function dE(t,e){const n=le(t);e?(n.Ea.delete(2),await wy(n)):e||(n.Ea.add(2),await _f(n),n.Ra.set("Unknown"))}function Sf(t){return t.ma||(t.ma=function(n,r,i){const s=le(n);return s.sa(),new Ole(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:Ule.bind(null,t),t_:Fle.bind(null,t),r_:Ble.bind(null,t),H_:$le.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),GA(t)?HA(t):t.Ra.set("Unknown")):(await t.ma.stop(),_B(t))})),t.ma}function Ol(t){return t.fa||(t.fa=function(n,r,i){const s=le(n);return s.sa(),new Dle(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Gle.bind(null,t),r_:Yle.bind(null,t),ta:Wle.bind(null,t),na:Kle.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Nf(t)):(await t.fa.stop(),t.Ta.length>0&&(J(xu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new WA(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ef(t,e){if(sn("AsyncQueue",`${e}: ${t}`),Kl(t))return new Q($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{static emptySet(e){return new Xd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=qm(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Xd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.ga=new gt(se.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ce(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Mh{constructor(e,n,r,i,s,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Mh(e,n,Xd.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&py(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qle{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Xle{constructor(){this.queries=qM(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=le(n),s=i.queries;i.queries=qM(),s.forEach((a,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new Q($.ABORTED,"Firestore shutting down"))}}function qM(){return new mo(t=>gF(t),py)}async function KA(t,e){const n=le(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new Qle,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=Ef(a,`Initialization of query '${vd(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&QA(n)}async function YA(t,e){const n=le(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Jle(t,e){const n=le(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Fa(i)&&(r=!0);a.wa=i}}r&&QA(n)}function Zle(t,e,n){const r=le(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function QA(t){t.Ca.forEach(e=>{e.next()})}var hE,HM;(HM=hE||(hE={})).Ma="default",HM.Cache="cache";class XA{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Mh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Mh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hE.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ece{constructor(e,n){this.Qa=e,this.byteLength=n}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e){this.serializer=e}$s(e){return Hs(this.serializer,e)}Us(e){return e.metadata.exists?UF(this.serializer,e.document,!1):_t.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return ln(e)}}class tce{constructor(e,n){this.Ua=e,this.serializer=n,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=jB(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++n;const r=Me.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,{...this.progress}):null}za(e){const n=new Map,r=new GM(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.$s(i.metadata.name);for(const a of i.metadata.queries){const l=(n.get(a)||Ce()).add(s);n.set(a,l)}}return n}async ja(e){const n=await Tle(e,new GM(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)await Ale(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:n}}}function jB(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e){this.key=e}}class AB{constructor(e){this.key=e}}class IB{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ce(),this.mutatedKeys=Ce(),this.eu=vF(e),this.tu=new Xd(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new $M,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=gy(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;f&&m?f.data.isEqual(m.data)?y!==v&&(r.track({type:3,doc:m}),x=!0):this.su(f,m)||(r.track({type:2,doc:m}),x=!0,(c&&this.eu(m,c)>0||u&&this.eu(m,u)<0)&&(l=!0)):!f&&m?(r.track({type:0,doc:m}),x=!0):f&&!m&&(r.track({type:1,doc:f}),x=!0,(c||u)&&(l=!0)),x&&(m?(a=a.add(m),s=v?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:a,iu:r,Cs:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((d,h)=>function(m,y){const v=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce(20277,{Rt:x})}};return v(m)-v(y)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,a.length!==0||u?{snapshot:new Mh(this.query,e.tu,s,a,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $M,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ce(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new AB(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new TB(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ce();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Mh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xl="SyncEngine";class nce{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rce{constructor(e){this.key=e,this.hu=!1}}class ice{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new mo(l=>gF(l),py),this.Iu=new Map,this.Eu=new Set,this.du=new gt(se.comparator),this.Au=new Map,this.Ru=new MA,this.Vu={},this.mu=new Map,this.fu=vu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sce(t,e,n=!0){const r=qw(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await CB(r,e,n,!0),i}async function ace(t,e){const n=qw(t);await CB(n,e,!0,!1)}async function CB(t,e,n,r){const i=await Rh(t.localStore,Mr(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await JA(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&$w(t.remoteStore,i),l}async function JA(t,e,n,r,i){t.pu=(h,f,m)=>async function(v,x,w,_){let b=x.view.ru(w);b.Cs&&(b=await Hx(v.localStore,x.query,!1).then(({documents:j})=>x.view.ru(j,b)));const N=_&&_.targetChanges.get(x.targetId),E=_&&_.targetMismatches.get(x.targetId)!=null,C=x.view.applyChanges(b,v.isPrimaryClient,N,E);return fE(v,x.targetId,C.au),C.snapshot}(t,h,f,m);const s=await Hx(t.localStore,e,!0),a=new IB(e,s.Qs),l=a.ru(s.documents),c=xy.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(l,t.isPrimaryClient,c);fE(t,n,u.au);const d=new nce(e,n,a);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function oce(t,e,n){const r=le(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(a=>!py(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Oh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Dh(r.remoteStore,i.targetId),Lh(r,i.targetId)}).catch(Wl)):(Lh(r,i.targetId),await Oh(r.localStore,i.targetId,!0))}async function lce(t,e){const n=le(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Dh(n.remoteStore,r.targetId))}async function cce(t,e,n){const r=nI(t);try{const i=await function(a,l){const c=le(a),u=Qe.now(),d=l.reduce((m,y)=>m.add(y.key),Ce());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Qr(),v=Ce();return c.Ns.getEntries(m,d).next(x=>{y=x,y.forEach((w,_)=>{_.isValidDocument()||(v=v.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,y)).next(x=>{h=x;const w=[];for(const _ of l){const b=Poe(_,h.get(_.key).overlayedDocument);b!=null&&w.push(new po(_.key,b,oF(b.value.mapValue),Ot.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,w,l)}).next(x=>{f=x;const w=x.applyToLocalDocumentSet(h,v);return c.documentOverlayCache.saveOverlays(m,x.batchId,w)})}).then(()=>({batchId:f.batchId,changes:bF(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,c){let u=a.Vu[a.currentUser.toKey()];u||(u=new gt(Ee)),u=u.insert(l,c),a.Vu[a.currentUser.toKey()]=u}(r,i.batchId,n),await go(r,i.changes),await Nf(r.remoteStore)}catch(i){const s=Ef(i,"Failed to persist write");n.reject(s)}}async function PB(t,e){const n=le(t);try{const r=await Ele(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Au.get(s);a&&(me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?me(a.hu,14607):i.removedDocuments.size>0&&(me(a.hu,42227),a.hu=!1))}),await go(n,r,e)}catch(r){await Wl(r)}}function WM(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,a)=>{const l=a.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const c=le(a);c.onlineState=l;let u=!1;c.queries.forEach((d,h)=>{for(const f of h.Sa)f.va(l)&&(u=!0)}),u&&QA(c)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uce(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new gt(se.comparator);a=a.insert(s,_t.newNoDocument(s,ye.min()));const l=Ce().add(s),c=new vy(ye.min(),new Map,new gt(Ee),a,l);await PB(r,c),r.du=r.du.remove(s),r.Au.delete(e),tI(r)}else await Oh(r.localStore,e,!1).then(()=>Lh(r,e,n)).catch(Wl)}async function dce(t,e){const n=le(t),r=e.batch.batchId;try{const i=await Sle(n.localStore,e);eI(n,r,null),ZA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await go(n,i)}catch(i){await Wl(i)}}async function hce(t,e,n){const r=le(t);try{const i=await function(a,l){const c=le(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(h=>(me(h!==null,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);eI(r,e,n),ZA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await go(r,i)}catch(i){await Wl(i)}}async function fce(t,e){const n=le(t);Ql(n.remoteStore)||J(Xl,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(a){const l=le(a);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>l.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(r===yl)return void e.resolve();const i=n.mu.get(r)||[];i.push(e),n.mu.set(r,i)}catch(r){const i=Ef(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function ZA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function eI(t,e,n){const r=le(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Lh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||kB(t,r)})}function kB(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Dh(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),tI(t))}function fE(t,e,n){for(const r of n)r instanceof TB?(t.Ru.addReference(r.key,e),mce(t,r)):r instanceof AB?(J(Xl,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||kB(t,r.key)):ce(19791,{wu:r})}function mce(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(J(Xl,"New document in limbo: "+n),t.Eu.add(r),tI(t))}function tI(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new se(Me.fromString(e)),r=t.fu.next();t.Au.set(r,new rce(n)),t.du=t.du.insert(n,r),$w(t.remoteStore,new ja(Mr(xf(n.path)),r,"TargetPurposeLimboResolution",Kr.ce))}}async function go(t,e,n){const r=le(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{a.push(r.pu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){i.push(u);const h=UA.As(c.targetId,u);s.push(h)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(c,u){const d=le(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>z.forEach(u,f=>z.forEach(f.Es,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>z.forEach(f.ds,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!Kl(h))throw h;J(FA,"Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.Ms.get(f),y=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(y);d.Ms=d.Ms.insert(f,v)}}}(r.localStore,s))}async function pce(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){J(Xl,"User change. New user:",e.toKey());const r=await cB(n.localStore,e);n.currentUser=e,function(s,a){s.mu.forEach(l=>{l.forEach(c=>{c.reject(new Q($.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await go(n,r.Ls)}}function gce(t,e){const n=le(t),r=n.Au.get(e);if(r&&r.hu)return Ce().add(r.key);{let i=Ce();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const l=n.Tu.get(a);i=i.unionWith(l.view.nu)}return i}}async function yce(t,e){const n=le(t),r=await Hx(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&fE(n,e.targetId,i.au),i}async function vce(t,e){const n=le(t);return fB(n.localStore,e).then(r=>go(n,r))}async function xce(t,e,n,r){const i=le(t),s=await function(l,c){const u=le(l),d=le(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",h=>d.er(h,c).next(f=>f?u.localDocuments.getDocuments(h,f):z.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await Nf(i.remoteStore):n==="acknowledged"||n==="rejected"?(eI(i,e,r||null),ZA(i,e),function(l,c){le(le(l).mutationQueue).ir(c)}(i.localStore,e)):ce(6720,"Unknown batchState",{Su:n}),await go(i,s)):J(Xl,"Cannot apply mutation batch with id: "+e)}async function bce(t,e){const n=le(t);if(qw(n),nI(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await KM(n,r.toArray());n.gu=!0,await dE(n.remoteStore,!0);for(const s of i)$w(n.remoteStore,s)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach((s,a)=>{n.sharedClientState.isLocalQueryTarget(a)?r.push(a):i=i.then(()=>(Lh(n,a),Oh(n.localStore,a,!0))),Dh(n.remoteStore,a)}),await i,await KM(n,r),function(a){const l=le(a);l.Au.forEach((c,u)=>{Dh(l.remoteStore,u)}),l.Ru.Jr(),l.Au=new Map,l.du=new gt(se.comparator)}(n),n.gu=!1,await dE(n.remoteStore,!1)}}async function KM(t,e,n){const r=le(t),i=[],s=[];for(const a of e){let l;const c=r.Iu.get(a);if(c&&c.length!==0){l=await Rh(r.localStore,Mr(c[0]));for(const u of c){const d=r.Tu.get(u),h=await yce(r,d);h.snapshot&&s.push(h.snapshot)}}else{const u=await hB(r.localStore,a);l=await Rh(r.localStore,u),await JA(r,RB(u),a,!1,l.resumeToken)}i.push(l)}return r.Pu.H_(s),i}function RB(t){return pF(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function wce(t){return function(n){return le(le(n).persistence).Ts()}(le(t).localStore)}async function _ce(t,e,n,r){const i=le(t);if(i.gu)return void J(Xl,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const a=await fB(i.localStore,yF(s[0])),l=vy.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Yt.EMPTY_BYTE_STRING);await go(i,a,l);break}case"rejected":await Oh(i.localStore,e,!0),Lh(i,e,r);break;default:ce(64155,n)}}async function Nce(t,e,n){const r=qw(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){J(Xl,"Adding an already active target "+i);continue}const s=await hB(r.localStore,i),a=await Rh(r.localStore,s);await JA(r,RB(s),a.targetId,!1,a.resumeToken),$w(r.remoteStore,a)}for(const i of n)r.Iu.has(i)&&await Oh(r.localStore,i,!1).then(()=>{Dh(r.remoteStore,i),Lh(r,i)}).catch(Wl)}}function qw(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gce.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uce.bind(null,e),e.Pu.H_=Jle.bind(null,e.eventManager),e.Pu.yu=Zle.bind(null,e.eventManager),e}function nI(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dce.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hce.bind(null,e),e}function Sce(t,e,n){const r=le(t);(async function(s,a,l){try{const c=await a.getMetadata();if(await function(m,y){const v=le(m),x=ln(y.createTime);return v.persistence.runTransaction("hasNewerBundle","readonly",w=>v.Ii.getBundleMetadata(w,y.id)).then(w=>!!w&&w.createTime.compareTo(x)>=0)}(s.localStore,c))return await a.close(),l._completeWith(function(m){return{taskState:"Success",documentsLoaded:m.totalDocuments,bytesLoaded:m.totalBytes,totalDocuments:m.totalDocuments,totalBytes:m.totalBytes}}(c)),Promise.resolve(new Set);l._updateProgress(jB(c));const u=new tce(c,a.serializer);let d=await a.bu();for(;d;){const f=await u.Ga(d);f&&l._updateProgress(f),d=await a.bu()}const h=await u.ja(s.localStore);return await go(s,h.Ha,void 0),await function(m,y){const v=le(m);return v.persistence.runTransaction("Save bundle","readwrite",x=>v.Ii.saveBundleMetadata(x,y))}(s.localStore,c),l._completeWith(h.progress),Promise.resolve(h.Ja)}catch(c){return Xs(Xl,`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class vg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=by(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return lB(this.persistence,new oB,e.initialUser,this.serializer)}Cu(e){return new LA(Bw.mi,this.serializer)}Du(e){return new vB}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vg.provider={build:()=>new vg};class Ece extends vg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){me(this.persistence.referenceDelegate instanceof qx,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new tB(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fr.withCacheSize(this.cacheSizeBytes):fr.DEFAULT;return new LA(r=>qx.mi(r,n),this.serializer)}}class OB extends vg{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await nI(this.xu.syncEngine),await Nf(this.xu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return lB(this.persistence,new oB,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new tB(r,e.asyncQueue,n)}Mu(e,n){const r=new Oae(n,this.persistence);return new Rae(e.asyncQueue,r)}Cu(e){const n=zA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?fr.withCacheSize(this.cacheSizeBytes):fr.DEFAULT;return new VA(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,xB(),zv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new vB}}class jce extends OB{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof FN&&(this.sharedClientState.syncEngine={Co:xce.bind(null,n),vo:_ce.bind(null,n),Fo:Nce.bind(null,n),Ts:wce.bind(null,n),Do:vce.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji(async r=>{await bce(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Du(e){const n=xB();if(!FN.v(n))throw new Q($.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=zA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new FN(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class xg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>WM(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pce.bind(null,this.syncEngine),await dE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Xle}()}createDatastore(e){const n=by(e.databaseInfo.databaseId),r=function(s){return new Rle(s)}(e.databaseInfo);return function(s,a,l,c){return new Lle(s,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,l){return new zle(r,i,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>WM(this.syncEngine,n,0),function(){return UM.v()?new UM:new Ile}())}createSyncEngine(e,n){return function(i,s,a,l,c,u,d){const h=new ice(i,s,a,l,c,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=le(i);J(xu,"RemoteStore shutting down."),s.Ea.add(5),await _f(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}xg.provider={build:()=>new xg};function YM(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):sn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tce{constructor(e,n){this.Bu=e,this.serializer=n,this.metadata=new rr,this.buffer=new Uint8Array,this.Lu=function(){return new TextDecoder("utf-8")}(),this.ku().then(r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Qa)}`))},r=>this.metadata.reject(r))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const n=this.Lu.decode(e),r=Number(n);isNaN(r)&&this.Qu(`length string (${n}) is not valid number`);const i=await this.$u(r);return new ece(JSON.parse(i),e.length+r)}Uu(){return this.buffer.findIndex(e=>e===123)}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const n=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ace{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Q($.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const a=le(i),l={documents:s.map(h=>gg(a.serializer,h))},c=await a.Ho("BatchGetDocuments",a.serializer.databaseId,Me.emptyPath(),l,s.length),u=new Map;c.forEach(h=>{const f=Uoe(a.serializer,h);u.set(f.key.toString(),f)});const d=[];return s.forEach(h=>{const f=u.get(h.toString());me(!!f,55234,{key:h}),d.push(f)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new wf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=se.fromPath(r);this.mutations.push(new TA(i,this.precondition(i)))}),await async function(r,i){const s=le(r),a={writes:i.map(l=>yg(s.serializer,l))};await s.Go("Commit",s.serializer.databaseId,Me.emptyPath(),a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ce(50498,{Gu:e.constructor.name});n=ye.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Q($.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ye.min())?Ot.exists(!1):Ot.updateTime(n):Ot.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ye.min()))throw new Q($.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ot.updateTime(n)}return Ot.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ice{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new $A(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new Ace(this.datastore),n=this.Hu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Yu(i)}))}).catch(r=>{this.Yu(r)})})}Hu(e){try{const n=this.updateFunction(e);return!hy(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!CF(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl="FirestoreClient";class Cce{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mn.UNAUTHENTICATED,this.clientId=fA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{J(Dl,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(J(Dl,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ef(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $N(t,e){t.asyncQueue.verifyOperationInProgress(),J(Dl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await cB(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function QM(t,e){t.asyncQueue.verifyOperationInProgress();const n=await rI(t);J(Dl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>BM(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>BM(e.remoteStore,i)),t._onlineComponents=e}async function rI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J(Dl,"Using user provided OfflineComponentProvider");try{await $N(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Xs("Error using user provided cache. Falling back to memory cache: "+n),await $N(t,new vg)}}else J(Dl,"Using default OfflineComponentProvider"),await $N(t,new Ece(void 0));return t._offlineComponents}async function Gw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J(Dl,"Using user provided OnlineComponentProvider"),await QM(t,t._uninitializedComponentsProvider._online)):(J(Dl,"Using default OnlineComponentProvider"),await QM(t,new xg))),t._onlineComponents}function DB(t){return rI(t).then(e=>e.persistence)}function iI(t){return rI(t).then(e=>e.localStore)}function MB(t){return Gw(t).then(e=>e.remoteStore)}function sI(t){return Gw(t).then(e=>e.syncEngine)}function Pce(t){return Gw(t).then(e=>e.datastore)}async function Vh(t){const e=await Gw(t),n=e.eventManager;return n.onListen=sce.bind(null,e.syncEngine),n.onUnlisten=oce.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ace.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lce.bind(null,e.syncEngine),n}function kce(t){return t.asyncQueue.enqueue(async()=>{const e=await DB(t),n=await MB(t);return e.setNetworkEnabled(!0),function(i){const s=le(i);return s.Ea.delete(0),wy(s)}(n)})}function Rce(t){return t.asyncQueue.enqueue(async()=>{const e=await DB(t),n=await MB(t);return e.setNetworkEnabled(!1),async function(i){const s=le(i);s.Ea.add(0),await _f(s),s.Ra.set("Offline")}(n)})}function Oce(t,e){const n=new rr;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,a){try{const l=await function(u,d){const h=le(u);return h.persistence.runTransaction("read document","readonly",f=>h.localDocuments.getDocument(f,d))}(i,s);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new Q($.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=Ef(l,`Failed to get document '${s} from cache`);a.reject(c)}}(await iI(t),e,n)),n.promise}function LB(t,e,n={}){const r=new rr;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,c,u){const d=new Hw({next:f=>{d.Nu(),a.enqueueAndForget(()=>YA(s,h));const m=f.docs.has(l);!m&&f.fromCache?u.reject(new Q($.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&c&&c.source==="server"?u.reject(new Q($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new XA(xf(l.path),d,{includeMetadataChanges:!0,qa:!0});return KA(s,h)}(await Vh(t),t.asyncQueue,e,n,r)),r.promise}function Dce(t,e){const n=new rr;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,a){try{const l=await Hx(i,s,!0),c=new IB(s,l.Qs),u=c.ru(l.documents),d=c.applyChanges(u,!1);a.resolve(d.snapshot)}catch(l){const c=Ef(l,`Failed to execute query '${s} against cache`);a.reject(c)}}(await iI(t),e,n)),n.promise}function VB(t,e,n={}){const r=new rr;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,c,u){const d=new Hw({next:f=>{d.Nu(),a.enqueueAndForget(()=>YA(s,h)),f.fromCache&&c.source==="server"?u.reject(new Q($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new XA(l,d,{includeMetadataChanges:!0,qa:!0});return KA(s,h)}(await Vh(t),t.asyncQueue,e,n,r)),r.promise}function Mce(t,e){const n=new Hw(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){le(i).Ca.add(s),s.next()}(await Vh(t),n)),()=>{n.Nu(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){le(i).Ca.delete(s)}(await Vh(t),n))}}function Lce(t,e,n,r){const i=function(a,l){let c;return c=typeof a=="string"?kF().encode(a):a,function(d,h){return new Tce(d,h)}(function(d,h){if(d instanceof Uint8Array)return YM(d,h);if(d instanceof ArrayBuffer)return YM(new Uint8Array(d),h);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),l)}(n,by(e));t.asyncQueue.enqueueAndForget(async()=>{Sce(await sI(t),i,r)})}function Vce(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=le(r);return s.persistence.runTransaction("Get named query","readonly",a=>s.Ii.getNamedQuery(a,i))}(await iI(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zB(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB="firestore.googleapis.com",JM=!0;class ZM{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Q($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UB,this.ssl=JM}else this.host=e.host,this.ssl=e.ssl??JM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XF;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sle)throw new Q($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}R8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zB(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Q($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Q($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Q($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _y{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZM({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZM(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wae;switch(r.type){case"firstParty":return new Eae(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=XM.get(n);r&&(J("ComponentProvider","Removing Datastore"),XM.delete(n),r.terminate())}(this),Promise.resolve()}}function zce(t,e,n,r={}){var u;t=He(t,_y);const i=Gl(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(iA(`https://${l}`),sA("Firestore",!0)),s.host!==UB&&s.host!==l&&Xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:l,ssl:i,emulatorOptions:r};if(!jl(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Mn.MOCK_USER;else{d=s8(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Q($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Mn(f)}t._authCredentials=new _ae(new P8(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lr=class FB{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new FB(this.firestore,e,this._query)}},pt=class Wm{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wm(this.firestore,e,this._key)}toJSON(){return{type:Wm._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(dy(n,Wm._jsonSchema))return new Wm(e,r||null,new se(Me.fromString(n.referencePath)))}};pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:yn("string",pt._jsonSchemaVersion),referencePath:yn("string")};let vl=class BB extends Lr{constructor(e,n,r){super(e,n,xf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new se(e))}withConverter(e){return new BB(this.firestore,e,this._path)}};function bg(t,e,...n){if(t=ge(t),mA("collection","path",e),t instanceof _y){const r=Me.fromString(e,...n);return FD(r),new vl(t,null,r)}{if(!(t instanceof pt||t instanceof vl))throw new Q($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return FD(r),new vl(t.firestore,null,r)}}function Uce(t,e){if(t=He(t,_y),mA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Q($.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Lr(t,null,function(r){return new fo(Me.emptyPath(),r)}(e))}function wg(t,e,...n){if(t=ge(t),arguments.length===1&&(e=fA.newId()),mA("doc","path",e),t instanceof _y){const r=Me.fromString(e,...n);return UD(r),new pt(t,null,new se(r))}{if(!(t instanceof pt||t instanceof vl))throw new Q($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return UD(r),new pt(t.firestore,t instanceof vl?t.converter:null,new se(r))}}function $B(t,e){return t=ge(t),e=ge(e),(t instanceof pt||t instanceof vl)&&(e instanceof pt||e instanceof vl)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function qB(t,e){return t=ge(t),e=ge(e),t instanceof Lr&&e instanceof Lr&&t.firestore===e.firestore&&py(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4="AsyncQueue";class t4{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $A(this,"async_queue_retry"),this._c=()=>{const r=zv();r&&J(e4,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=zv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new rr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Kl(e))throw e;J(e4,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,sn("INTERNAL UNHANDLED ERROR: ",n4(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=WA.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&ce(47125,{Pc:n4(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function n4(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Fce{constructor(){this._progressObserver={},this._taskCompletionResolver=new rr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bce=-1;let cn=class extends _y{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new t4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new t4(e),this._firestoreClient=void 0,await e}}};function Nr(t){if(t._terminated)throw new Q($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||HB(t),t._firestoreClient}function HB(t){var r,i,s;const e=t._freezeSettings(),n=function(l,c,u,d){return new coe(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,zB(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Cce(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}function $ce(t,e){Xs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return GB(t,xg.provider,{build:r=>new OB(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function qce(t){Xs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();GB(t,xg.provider,{build:n=>new jce(n,e.cacheSizeBytes)})}function GB(t,e,n){if((t=He(t,cn))._firestoreClient||t._terminated)throw new Q($.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new Q($.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},HB(t)}function Hce(t){if(t._initialized&&!t._terminated)throw new Q($.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new rr;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!qs.v())return Promise.resolve();const i=r+aB;await qs.delete(i)}(zA(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function Gce(t){return function(n){const r=new rr;return n.asyncQueue.enqueueAndForget(async()=>fce(await sI(n),r)),r.promise}(Nr(t=He(t,cn)))}function Wce(t){return kce(Nr(t=He(t,cn)))}function Kce(t){return Rce(Nr(t=He(t,cn)))}function Yce(t,e){const n=Nr(t=He(t,cn)),r=new Fce;return Lce(n,t._databaseId,e,r),r}function Qce(t,e){return Vce(Nr(t=He(t,cn)),e).then(n=>n?new Lr(t,null,n.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pr(Yt.fromBase64String(e))}catch(n){throw new Q($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pr(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dy(e,pr._jsonSchema))return pr.fromBase64String(e.bytes)}}pr._jsonSchemaVersion="firestore/bytes/1.0",pr._jsonSchema={type:yn("string",pr._jsonSchemaVersion),bytes:yn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ml=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fu=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ps._jsonSchemaVersion}}static fromJSON(e){if(dy(e,ps._jsonSchema))return new ps(e.latitude,e.longitude)}}ps._jsonSchemaVersion="firestore/geoPoint/1.0",ps._jsonSchema={type:yn("string",ps._jsonSchemaVersion),latitude:yn("number"),longitude:yn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Gs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dy(e,Gs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Gs(e.vectorValues);throw new Q($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gs._jsonSchemaVersion="firestore/vectorValue/1.0",Gs._jsonSchema={type:yn("string",Gs._jsonSchemaVersion),vectorValues:yn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xce=/^__.*__$/;class Jce{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new po(e,this.data,this.fieldMask,n,this.fieldTransforms):new bf(e,this.data,n,this.fieldTransforms)}}class WB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new po(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function KB(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce(40011,{Ac:t})}}class Ww{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ww({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Yx(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(KB(this.Ac)&&Xce.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Zce{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||by(e)}Cc(e,n,r,i=!1){return new Ww({Ac:e,methodName:n,Dc:r,path:Rt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bu(t){const e=t._freezeSettings(),n=by(t._databaseId);return new Zce(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Kw(t,e,n,r,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);hI("Data must be an object, but it was:",a,r);const l=XB(r,a);let c,u;if(s.merge)c=new Yr(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=pE(e,h,n);if(!a.contains(f))throw new Q($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);ZB(d,f)||d.push(f)}c=new Yr(d),u=a.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=a.fieldTransforms;return new Jce(new Zn(l),c,u)}class Ny extends Fu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ny}}function YB(t,e,n){return new Ww({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class aI extends Fu{_toFieldTransform(e){return new yy(e.path,new Ch)}isEqual(e){return e instanceof aI}}class oI extends Fu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=YB(this,e,!0),r=this.vc.map(s=>$u(s,n)),i=new mu(r);return new yy(e.path,i)}isEqual(e){return e instanceof oI&&jl(this.vc,e.vc)}}class lI extends Fu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=YB(this,e,!0),r=this.vc.map(s=>$u(s,n)),i=new pu(r);return new yy(e.path,i)}isEqual(e){return e instanceof lI&&jl(this.vc,e.vc)}}class cI extends Fu{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Ph(e.serializer,NF(e.serializer,this.Fc));return new yy(e.path,n)}isEqual(e){return e instanceof cI&&this.Fc===e.Fc}}function uI(t,e,n,r){const i=t.Cc(1,e,n);hI("Data must be an object, but it was:",i,r);const s=[],a=Zn.empty();Yl(r,(c,u)=>{const d=fI(e,c,n);u=ge(u);const h=i.yc(d);if(u instanceof Ny)s.push(d);else{const f=$u(u,h);f!=null&&(s.push(d),a.set(d,f))}});const l=new Yr(s);return new WB(a,l,i.fieldTransforms)}function dI(t,e,n,r,i,s){const a=t.Cc(1,e,n),l=[pE(e,r,n)],c=[i];if(s.length%2!=0)throw new Q($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)l.push(pE(e,s[f])),c.push(s[f+1]);const u=[],d=Zn.empty();for(let f=l.length-1;f>=0;--f)if(!ZB(u,l[f])){const m=l[f];let y=c[f];y=ge(y);const v=a.yc(m);if(y instanceof Ny)u.push(m);else{const x=$u(y,v);x!=null&&(u.push(m),d.set(m,x))}}const h=new Yr(u);return new WB(d,h,a.fieldTransforms)}function QB(t,e,n,r=!1){return $u(n,t.Cc(r?4:3,e))}function $u(t,e){if(JB(t=ge(t)))return hI("Unsupported field value:",e,t),XB(t,e);if(t instanceof Fu)return function(r,i){if(!KB(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const l of r){let c=$u(l,i.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ge(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return NF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Qe.fromDate(r);return{timestampValue:kh(i.serializer,s)}}if(r instanceof Qe){const s=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kh(i.serializer,s)}}if(r instanceof ps)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pr)return{bytesValue:DF(i.serializer,r._byteString)};if(r instanceof pt){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:kA(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Gs)return function(a,l){return{mapValue:{fields:{[wA]:{stringValue:_A},[Th]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return jA(l.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Cw(r)}`)}(t,e)}function XB(t,e){const n={};return J8(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yl(t,(r,i)=>{const s=$u(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function JB(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof ps||t instanceof pr||t instanceof pt||t instanceof Fu||t instanceof Gs)}function hI(t,e,n){if(!JB(n)||!O8(n)){const r=Cw(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function pE(t,e,n){if((e=ge(e))instanceof Ml)return e._internalPath;if(typeof e=="string")return fI(t,e);throw Yx("Field path arguments must be of type string or ",t,!1,void 0,n)}const eue=new RegExp("[~\\*/\\[\\]]");function fI(t,e,n){if(e.search(eue)>=0)throw Yx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ml(...e.split("."))._internalPath}catch{throw Yx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Yx(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new Q($.INVALID_ARGUMENT,l+t+c)}function ZB(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tue(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Yw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tue extends _g{data(){return super.data()}}function Yw(t,e){return typeof e=="string"?fI(t,e):e instanceof Ml?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mI{}class Sy extends mI{}function js(t,e,...n){let r=[];e instanceof mI&&r.push(e),r=r.concat(n),function(s){const a=s.filter(c=>c instanceof pI).length,l=s.filter(c=>c instanceof Qw).length;if(a>1||a>0&&l>0)throw new Q($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Qw extends Sy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Qw(e,n,r)}_apply(e){const n=this._parse(e);return i7(e._query,n),new Lr(e.firestore,e.converter,tE(e._query,n))}_parse(e){const n=Bu(e.firestore);return function(s,a,l,c,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Q($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){i4(h,d);const y=[];for(const v of h)y.push(r4(c,s,v));f={arrayValue:{values:y}}}else f=r4(c,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||i4(h,d),f=QB(l,a,h,d==="in"||d==="not-in");return ze.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function t7(t,e,n){const r=e,i=Yw("where",t);return Qw._create(i,r,n)}class pI extends mI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pI(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:tt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const l=s.getFlattenedFilters();for(const c of l)i7(a,c),a=tE(a,c)}(e._query,n),new Lr(e.firestore,e.converter,tE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gI extends Sy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new gI(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new Q($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Q($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pg(s,a)}(e._query,this._field,this._direction);return new Lr(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new fo(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function n7(t,e="asc"){const n=e,r=Yw("orderBy",t);return gI._create(r,n)}class Xw extends Sy{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Xw(e,n,r)}_apply(e){return new Lr(e.firestore,e.converter,Ux(e._query,this._limit,this._limitType))}}function nue(t){return D8("limit",t),Xw._create("limit",t,"F")}function rue(t){return D8("limitToLast",t),Xw._create("limitToLast",t,"L")}class Jw extends Sy{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Jw(e,n,r)}_apply(e){const n=r7(e,this.type,this._docOrFields,this._inclusive);return new Lr(e.firestore,e.converter,function(i,s){return new fo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function iue(...t){return Jw._create("startAt",t,!0)}function sue(...t){return Jw._create("startAfter",t,!1)}class Zw extends Sy{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Zw(e,n,r)}_apply(e){const n=r7(e,this.type,this._docOrFields,this._inclusive);return new Lr(e.firestore,e.converter,function(i,s){return new fo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function aue(...t){return Zw._create("endBefore",t,!1)}function oue(...t){return Zw._create("endAt",t,!0)}function r7(t,e,n,r){if(n[0]=ge(n[0]),n[0]instanceof _g)return function(s,a,l,c,u){if(!c)throw new Q($.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const d=[];for(const h of Qd(s))if(h.field.isKeyField())d.push(hu(a,c.key));else{const f=c.data.field(h.field);if(Dw(f))throw new Q($.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const m=h.field.canonicalString();throw new Q($.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}d.push(f)}return new Rl(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Bu(t.firestore);return function(a,l,c,u,d,h){const f=a.explicitOrderBy;if(d.length>f.length)throw new Q($.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let y=0;y<d.length;y++){const v=d[y];if(f[y].field.isKeyField()){if(typeof v!="string")throw new Q($.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof v}`);if(!SA(a)&&v.indexOf("/")!==-1)throw new Q($.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${v}' contains a slash.`);const x=a.path.child(Me.fromString(v));if(!se.isDocumentKey(x))throw new Q($.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const w=new se(x);m.push(hu(l,w))}else{const x=QB(c,u,v);m.push(x)}}return new Rl(m,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function r4(t,e,n){if(typeof(n=ge(n))=="string"){if(n==="")throw new Q($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SA(e)&&n.indexOf("/")!==-1)throw new Q($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Me.fromString(n));if(!se.isDocumentKey(r))throw new Q($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hu(t,new se(r))}if(n instanceof pt)return hu(t,n._key);throw new Q($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cw(n)}.`)}function i4(t,e){if(!Array.isArray(t)||t.length===0)throw new Q($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function i7(t,e){const n=function(i,s){for(const a of i)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class yI{convertValue(e,n="none"){switch(Pl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Th].arrayValue)==null?void 0:i.values)==null?void 0:s.map(a=>Pt(a.doubleValue));return new Gs(n)}convertGeoPoint(e){return new ps(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Mw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hg(e));default:return null}}convertTimestamp(e){const n=Ja(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);me(GF(r),9688,{name:e});const i=new Cl(r.get(1),r.get(3)),s=new se(r.popFirst(5));return i.isEqual(n)||sn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class lue extends yI{constructor(e){super(),this.firestore=e}convertBytes(e){return new pr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}class Oc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Yi=class s7 extends _g{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ep(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Yw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Q($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=s7._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Yi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yi._jsonSchema={type:yn("string",Yi._jsonSchemaVersion),bundleSource:yn("string","DocumentSnapshot"),bundleName:yn("string"),bundle:yn("string")};let Ep=class extends Yi{data(e={}){return super.data(e)}},gs=class a7{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Oc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ep(this._firestore,this._userDataWriter,r.key,r,new Oc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>{const c=new Ep(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Oc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new Ep(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Oc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:cue(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Q($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=a7._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function cue(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce(61501,{type:t})}}function o7(t,e){return t instanceof Yi&&e instanceof Yi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof gs&&e instanceof gs&&t._firestore===e._firestore&&qB(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l7(t){t=He(t,pt);const e=He(t.firestore,cn);return LB(Nr(e),t._key).then(n=>bI(e,t,n))}gs._jsonSchemaVersion="firestore/querySnapshot/1.0",gs._jsonSchema={type:yn("string",gs._jsonSchemaVersion),bundleSource:yn("string","QuerySnapshot"),bundleName:yn("string"),bundle:yn("string")};class qu extends yI{constructor(e){super(),this.firestore=e}convertBytes(e){return new pr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function uue(t){t=He(t,pt);const e=He(t.firestore,cn),n=Nr(e),r=new qu(e);return Oce(n,t._key).then(i=>new Yi(e,r,t._key,i,new Oc(i!==null&&i.hasLocalMutations,!0),t.converter))}function due(t){t=He(t,pt);const e=He(t.firestore,cn);return LB(Nr(e),t._key,{source:"server"}).then(n=>bI(e,t,n))}function vI(t){t=He(t,Lr);const e=He(t.firestore,cn),n=Nr(e),r=new qu(e);return e7(t._query),VB(n,t._query).then(i=>new gs(e,r,t,i))}function hue(t){t=He(t,Lr);const e=He(t.firestore,cn),n=Nr(e),r=new qu(e);return Dce(n,t._query).then(i=>new gs(e,r,t,i))}function fue(t){t=He(t,Lr);const e=He(t.firestore,cn),n=Nr(e),r=new qu(e);return VB(n,t._query,{source:"server"}).then(i=>new gs(e,r,t,i))}function s4(t,e,n){t=He(t,pt);const r=He(t.firestore,cn),i=e1(t.converter,e,n);return Ey(r,[Kw(Bu(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ot.none())])}function a4(t,e,n,...r){t=He(t,pt);const i=He(t.firestore,cn),s=Bu(i);let a;return a=typeof(e=ge(e))=="string"||e instanceof Ml?dI(s,"updateDoc",t._key,e,n,r):uI(s,"updateDoc",t._key,e),Ey(i,[a.toMutation(t._key,Ot.exists(!0))])}function mue(t){return Ey(He(t.firestore,cn),[new wf(t._key,Ot.none())])}function pue(t,e){const n=He(t.firestore,cn),r=wg(t),i=e1(t.converter,e);return Ey(n,[Kw(Bu(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ot.exists(!1))]).then(()=>r)}function xI(t,...e){var c,u,d;t=ge(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||mE(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(mE(e[r])){const h=e[r];e[r]=(c=h.next)==null?void 0:c.bind(h),e[r+1]=(u=h.error)==null?void 0:u.bind(h),e[r+2]=(d=h.complete)==null?void 0:d.bind(h)}let s,a,l;if(t instanceof pt)a=He(t.firestore,cn),l=xf(t._key.path),s={next:h=>{e[r]&&e[r](bI(a,t,h))},error:e[r+1],complete:e[r+2]};else{const h=He(t,Lr);a=He(h.firestore,cn),l=h._query;const f=new qu(a);s={next:m=>{e[r]&&e[r](new gs(a,f,h,m))},error:e[r+1],complete:e[r+2]},e7(t._query)}return function(f,m,y,v){const x=new Hw(v),w=new XA(m,x,y);return f.asyncQueue.enqueueAndForget(async()=>KA(await Vh(f),w)),()=>{x.Nu(),f.asyncQueue.enqueueAndForget(async()=>YA(await Vh(f),w))}}(Nr(a),l,i,s)}function gue(t,e){return Mce(Nr(t=He(t,cn)),mE(e)?e:{next:e})}function Ey(t,e){return function(r,i){const s=new rr;return r.asyncQueue.enqueueAndForget(async()=>cce(await sI(r),i,s)),s.promise}(Nr(t),e)}function bI(t,e,n){const r=n.docs.get(e._key),i=new qu(t);return new Yi(t,i,e._key,r,new Oc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yue={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vue=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Bu(e)}set(e,n,r){this._verifyNotCommitted();const i=nl(e,this._firestore),s=e1(i.converter,n,r),a=Kw(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,Ot.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=nl(e,this._firestore);let a;return a=typeof(n=ge(n))=="string"||n instanceof Ml?dI(this._dataReader,"WriteBatch.update",s._key,n,r,i):uI(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,Ot.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=nl(e,this._firestore);return this._mutations=this._mutations.concat(new wf(n._key,Ot.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Q($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function nl(t,e){if((t=ge(t)).firestore!==e)throw new Q($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xue{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Bu(e)}get(e){const n=nl(e,this._firestore),r=new lue(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return ce(24041);const s=i[0];if(s.isFoundDocument())return new _g(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new _g(this._firestore,r,n._key,null,n.converter);throw ce(18433,{doc:s})})}set(e,n,r){const i=nl(e,this._firestore),s=e1(i.converter,n,r),a=Kw(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this}update(e,n,r,...i){const s=nl(e,this._firestore);let a;return a=typeof(n=ge(n))=="string"||n instanceof Ml?dI(this._dataReader,"Transaction.update",s._key,n,r,i):uI(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,a),this}delete(e){const n=nl(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bue=class extends xue{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=nl(e,this._firestore),r=new qu(this._firestore);return super.get(e).then(i=>new Yi(this._firestore,r,n._key,i._document,new Oc(!1,!1),n.converter))}};function wue(t,e,n){t=He(t,cn);const r={...yue,...n};return function(s){if(s.maxAttempts<1)throw new Q($.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,a,l){const c=new rr;return s.asyncQueue.enqueueAndForget(async()=>{const u=await Pce(s);new Ice(s.asyncQueue,u,l,a,c).ju()}),c.promise}(Nr(t),i=>e(new bue(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ue(){return new Ny("deleteField")}function Nue(){return new aI("serverTimestamp")}function Sue(...t){return new oI("arrayUnion",t)}function Eue(...t){return new lI("arrayRemove",t)}function jue(t){return new cI("increment",t)}(function(e,n=!0){(function(i){vf=i})(ho),Xa(new Ji("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new cn(new Nae(r.getProvider("auth-internal")),new jae(a,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Q($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(u.options.projectId,d)}(a,i),a);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),_i(MD,LD,e),_i(MD,LD,"esm2020")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tue{constructor(e,n){this._delegate=e,this.firebase=n,sg(e,new Ji("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),dA(this._delegate)))}_getService(e,n=Tl){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=Tl){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){sg(this._delegate,e)}_addOrOverwriteComponent(e){g8(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aue={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},o4=new Uu("app-compat","Firebase",Aue);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iue(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:_i,setLogLevel:w8,onLog:b8,apps:null,SDK_VERSION:ho,INTERNAL:{registerComponent:l,removeApp:r,useAsService:c,modularAPIs:vae}};n.default=n,Object.defineProperty(n,"apps",{get:a});function r(u){delete e[u]}function i(u){if(u=u||Tl,!jD(e,u))throw o4.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,d={}){const h=uA(u,d);if(jD(e,h.name))return e[h.name];const f=new t(h,n);return e[h.name]=f,f}function a(){return Object.keys(e).map(u=>e[u])}function l(u){const d=u.name,h=d.replace("-compat","");if(Xa(u)&&u.type==="PUBLIC"){const f=(m=i())=>{if(typeof m[h]!="function")throw o4.create("invalid-app-argument",{appName:d});return m[h]()};u.serviceProps!==void 0&&kx(f,u.serviceProps),n[h]=f,t.prototype[h]=function(...m){return this._getService.bind(this,d).apply(this,u.multipleInstances?m:[])}}return u.type==="PUBLIC"?n[h]:null}function c(u,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c7(){const t=Iue(Tue);t.INTERNAL={...t.INTERNAL,createFirebaseNamespace:c7,extendNamespace:e,createSubscribe:d8,ErrorFactory:Uu,deepExtend:kx};function e(n){kx(t,n)}return t}const Cue=c7();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=new Iw("@firebase/app-compat"),Pue="@firebase/app-compat",kue="0.5.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rue(t){_i(Pue,kue,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=tA();if(t.firebase!==void 0){l4.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&l4.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Fe=Cue;Rue();var Oue="firebase",Due="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fe.registerVersion(Oue,Due,"app-compat");const bm={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},ld={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function u7(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Lue=Mue,Vue=u7,d7=new Uu("auth","Firebase",u7());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=new Iw("@firebase/auth");function zue(t,...e){Qx.logLevel<=Oe.WARN&&Qx.warn(`Auth (${ho}): ${t}`,...e)}function Uv(t,...e){Qx.logLevel<=Oe.ERROR&&Qx.error(`Auth (${ho}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t,...e){throw _I(t,...e)}function En(t,...e){return _I(t,...e)}function wI(t,e,n){const r={...Vue(),[e]:n};return new Uu("auth","Firebase",r).create(e,{appName:t.name})}function Bn(t){return wI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jf(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&sr(t,"argument-error"),wI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _I(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return d7.create(t,...e)}function te(t,e,...n){if(!t)throw _I(e,...n)}function Fs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uv(e),new Error(e)}function xs(t,e){t||Fs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function NI(){return c4()==="http:"||c4()==="https:"}function c4(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uue(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NI()||o8()||"connection"in navigator)?navigator.onLine:!0}function Fue(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n){this.shortDelay=e,this.longDelay=n,xs(n>e,"Short delay should be less than long delay!"),this.isMobile=Qie()||aA()}get(){return Uue()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t,e){xs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ue=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],que=new jy(3e4,6e4);function Xt(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Jt(t,e,n,r,i={}){return f7(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const l=yf({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...s};return Jie()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Gl(t.emulatorConfig.host)&&(u.credentials="include"),h7.fetch()(await m7(t,t.config.apiHost,n,l),u)})}async function f7(t,e,n){t._canInitEmulator=!1;const r={...Bue,...e};try{const i=new Gue(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Km(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Km(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Km(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Km(t,"user-disabled",a);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw wI(t,d,u);sr(t,d)}}catch(i){if(i instanceof vr)throw i;sr(t,"network-request-failed",{message:String(i)})}}async function yo(t,e,n,r,i={}){const s=await Jt(t,e,n,r,i);return"mfaPendingCredential"in s&&sr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function m7(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?SI(t.config,i):`${t.config.apiScheme}://${i}`;return $ue.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function Hue(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gue{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(En(this.auth,"network-request-failed")),que.get())})}}function Km(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=En(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t){return t!==void 0&&t.getResponse!==void 0}function d4(t){return t!==void 0&&t.enterprise!==void 0}class p7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Hue(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wue(t){return(await Jt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function g7(t,e){return Jt(t,"GET","/v2/recaptchaConfig",Xt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kue(t,e){return Jt(t,"POST","/v1/accounts:delete",e)}async function Yue(t,e){return Jt(t,"POST","/v1/accounts:update",e)}async function Xx(t,e){return Jt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Que(t,e=!1){const n=ge(t),r=await n.getIdToken(e),i=t1(r);te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:jp(qN(i.auth_time)),issuedAtTime:jp(qN(i.iat)),expirationTime:jp(qN(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function qN(t){return Number(t)*1e3}function t1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Uv("JWT malformed, contained fewer than 3 sections"),null;try{const i=eA(n);return i?JSON.parse(i):(Uv("Failed to decode base64 JWT payload"),null)}catch(i){return Uv("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function h4(t){const e=t1(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof vr&&Xue(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Xue({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jue{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jp(this.lastLoginAt),this.creationTime=jp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sg(t){var h;const e=t.auth,n=await t.getIdToken(),r=await eo(t,Xx(e,{idToken:n}));te(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(h=i.providerUserInfo)!=null&&h.length?y7(i.providerUserInfo):[],a=ede(t.providerData,s),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new gE(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function Zue(t){const e=ge(t);await Sg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ede(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function y7(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tde(t,e){const n=await f7(t,{},async()=>{const r=yf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await m7(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Gl(t.emulatorConfig.host)&&(c.credentials="include"),h7.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nde(t,e){return Jt(t,"POST","/v2/accounts:revokeToken",Xt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):h4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){te(e.length!==0,"internal-error");const n=h4(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await tde(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Jd;return r&&(te(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(te(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jd,this.toJSON())}_performRefresh(){return Fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fs{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Jue(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new gE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await eo(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Que(this,e)}reload(){return Zue(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nt(this.auth.app))return Promise.reject(Bn(this.auth));const e=await this.getIdToken();return await eo(this,Kue(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:f,isAnonymous:m,providerData:y,stsTokenManager:v}=n;te(h&&v,e,"internal-error");const x=Jd.fromJSON(this.name,v);te(typeof h=="string",e,"internal-error"),Lo(r,e.name),Lo(i,e.name),te(typeof f=="boolean",e,"internal-error"),te(typeof m=="boolean",e,"internal-error"),Lo(s,e.name),Lo(a,e.name),Lo(l,e.name),Lo(c,e.name),Lo(u,e.name),Lo(d,e.name);const w=new fs({uid:h,auth:e,email:i,emailVerified:f,displayName:r,isAnonymous:m,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:x,createdAt:u,lastLoginAt:d});return y&&Array.isArray(y)&&(w.providerData=y.map(_=>({..._}))),c&&(w._redirectEventId=c),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new Jd;i.updateFromServerResponse(n);const s=new fs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Sg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];te(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?y7(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Jd;l.updateFromIdToken(r);const c=new fs({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new gE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=new Map;function gi(t){xs(t instanceof Function,"Expected a class definition");let e=f4.get(t);return e?(xs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,f4.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}v7.type="NONE";const zh=v7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t,e,n){return`firebase:${t}:${e}:${n}`}class Zd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Qc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Qc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Xx(this.auth,{idToken:e}).catch(()=>{});return n?fs._fromGetAccountInfoResponse(this.auth,n,e):null}return fs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Zd(gi(zh),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||gi(zh);const a=Qc(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(a);if(d){let h;if(typeof d=="string"){const f=await Xx(e,{idToken:d}).catch(()=>{});if(!f)break;h=await fs._fromGetAccountInfoResponse(e,f,d)}else h=fs._fromJSON(e,d);u!==s&&(l=h),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Zd(s,e,r):(s=c[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new Zd(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_7(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(x7(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(N7(e))return"Blackberry";if(S7(e))return"Webos";if(b7(e))return"Safari";if((e.includes("chrome/")||w7(e))&&!e.includes("edge/"))return"Chrome";if(Ty(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function x7(t=Ut()){return/firefox\//i.test(t)}function b7(t=Ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w7(t=Ut()){return/crios\//i.test(t)}function _7(t=Ut()){return/iemobile/i.test(t)}function Ty(t=Ut()){return/android/i.test(t)}function N7(t=Ut()){return/blackberry/i.test(t)}function S7(t=Ut()){return/webos/i.test(t)}function Ay(t=Ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rde(t=Ut()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function ide(t=Ut()){var e;return Ay(t)&&!!((e=window.navigator)!=null&&e.standalone)}function sde(){return l8()&&document.documentMode===10}function E7(t=Ut()){return Ay(t)||Ty(t)||S7(t)||N7(t)||/windows phone/i.test(t)||_7(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j7(t,e=[]){let n;switch(t){case"Browser":n=m4(Ut());break;case"Worker":n=`${m4(Ut())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ho}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ade{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,l)=>{try{const c=e(s);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ode(t,e={}){return Jt(t,"GET","/v2/passwordPolicy",Xt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lde=6;class cde{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lde,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ude{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p4(this),this.idTokenSubscription=new p4(this),this.beforeStateQueue=new ade(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d7,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gi(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Zd.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Xx(this,{idToken:e}),r=await fs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Nt(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Fue()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nt(this.app))return Promise.reject(Bn(this));const n=e?ge(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nt(this.app)?Promise.reject(Bn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nt(this.app)?Promise.reject(Bn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ode(this),n=new cde(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Uu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await nde(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gi(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=await Zd.create(this,[gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=j7(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Nt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&zue(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ft(t){return ge(t)}class p4{constructor(e){this.auth=e,this.observer=null,this.addObserver=d8(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dde(t){Iy=t}function EI(t){return Iy.loadJS(t)}function hde(){return Iy.recaptchaV2Script}function fde(){return Iy.recaptchaEnterpriseScript}function mde(){return Iy.gapiScript}function T7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pde=500,gde=6e4,U0=1e12;class yde{constructor(e){this.auth=e,this.counter=U0,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new bde(e,this.auth.name,n||{})),this.counter++,r}reset(e){var r;const n=e||U0;(r=this._widgets.get(n))==null||r.delete(),this._widgets.delete(n)}getResponse(e){var r;const n=e||U0;return((r=this._widgets.get(n))==null?void 0:r.getResponse())||""}async execute(e){var r;const n=e||U0;return(r=this._widgets.get(n))==null||r.execute(),""}}class vde{constructor(){this.enterprise=new xde}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class xde{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class bde{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;te(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=wde(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},gde)},pde))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function wde(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const _de="recaptcha-enterprise",Tp="NO_RECAPTCHA";class A7{constructor(e){this.type=_de,this.auth=Ft(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{g7(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new p7(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function i(s,a,l){const c=window.grecaptcha;d4(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{a(u)}).catch(()=>{a(Tp)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vde().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(l=>{if(!n&&d4(window.grecaptcha))i(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=fde();c.length!==0&&(c+=l),EI(c).then(()=>{i(l,s,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function wm(t,e,n,r=!1,i=!1){const s=new A7(t);let a;if(i)a=Tp;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function xl(t,e,n,r,i){var s,a;if(i==="EMAIL_PASSWORD_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await wm(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await wm(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)});else if(i==="PHONE_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("PHONE_PROVIDER")){const l=await wm(t,e,n);return r(t,l).catch(async c=>{var u;if(((u=t._getRecaptchaConfig())==null?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const d=await wm(t,e,n,!1,!0);return r(t,d)}return Promise.reject(c)})}else{const l=await wm(t,e,n,!1,!0);return r(t,l)}else return Promise.reject(i+" provider is not supported.")}async function Nde(t){const e=Ft(t),n=await g7(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new p7(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new A7(e).verify()}function Sde(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Ede(t,e,n){const r=Ft(t);te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=I7(e),{host:a,port:l}=jde(e),c=l===null?"":`:${l}`,u={url:`${s}//${a}${c}/`},d=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),te(jl(u,r.config.emulator)&&jl(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Gl(a)?(iA(`${s}//${a}${c}`),sA("Auth",!0)):i||Tde()}function I7(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jde(t){const e=I7(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:g4(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:g4(a)}}}function g4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Tde(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fs("not implemented")}_getIdTokenResponse(e){return Fs("not implemented")}_linkToIdToken(e,n){return Fs("not implemented")}_getReauthenticationResolver(e){return Fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C7(t,e){return Jt(t,"POST","/v1/accounts:resetPassword",Xt(t,e))}async function Ade(t,e){return Jt(t,"POST","/v1/accounts:update",e)}async function Ide(t,e){return Jt(t,"POST","/v1/accounts:signUp",e)}async function Cde(t,e){return Jt(t,"POST","/v1/accounts:update",Xt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pde(t,e){return yo(t,"POST","/v1/accounts:signInWithPassword",Xt(t,e))}async function n1(t,e){return Jt(t,"POST","/v1/accounts:sendOobCode",Xt(t,e))}async function kde(t,e){return n1(t,e)}async function Rde(t,e){return n1(t,e)}async function Ode(t,e){return n1(t,e)}async function Dde(t,e){return n1(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mde(t,e){return yo(t,"POST","/v1/accounts:signInWithEmailLink",Xt(t,e))}async function Lde(t,e){return yo(t,"POST","/v1/accounts:signInWithEmailLink",Xt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg extends Tf{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Eg(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Eg(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xl(e,n,"signInWithPassword",Pde,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Mde(e,{email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xl(e,r,"signUpPassword",Ide,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Lde(e,{idToken:n,email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(t,e){return yo(t,"POST","/v1/accounts:signInWithIdp",Xt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vde="http://localhost";class Zs extends Tf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):sr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new Zs(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ma(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ma(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ma(e,n)}buildRequest(){const e={requestUri:Vde,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y4(t,e){return Jt(t,"POST","/v1/accounts:sendVerificationCode",Xt(t,e))}async function zde(t,e){return yo(t,"POST","/v1/accounts:signInWithPhoneNumber",Xt(t,e))}async function Ude(t,e){const n=await yo(t,"POST","/v1/accounts:signInWithPhoneNumber",Xt(t,e));if(n.temporaryProof)throw Km(t,"account-exists-with-different-credential",n);return n}const Fde={USER_NOT_FOUND:"user-not-found"};async function Bde(t,e){const n={...e,operation:"REAUTH"};return yo(t,"POST","/v1/accounts:signInWithPhoneNumber",Xt(t,n),Fde)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends Tf{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Xc({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Xc({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return zde(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return Ude(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return Bde(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new Xc({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $de(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qde(t){const e=Od(Bm(t)).link,n=e?Od(Bm(e)).deep_link_id:null,r=Od(Bm(t)).deep_link_id;return(r?Od(Bm(r)).link:null)||r||n||e||t}class r1{constructor(e){const n=Od(Bm(e)),r=n.apiKey??null,i=n.oobCode??null,s=$de(n.mode??null);te(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=qde(e);try{return new r1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(){this.providerId=Jl.PROVIDER_ID}static credential(e,n){return Eg._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=r1.parseLink(n);return te(r,"argument-error"),Eg._fromEmailAndCode(e,r.code,r.tenantId)}}Jl.PROVIDER_ID="password";Jl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af extends vo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class eh extends Af{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return te("providerId"in n&&"signInMethod"in n,"argument-error"),Zs._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return te(e.idToken||e.accessToken,"argument-error"),Zs._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return eh.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return eh.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:a,providerId:l}=e;if(!r&&!i&&!n&&!s||!l)return null;try{return new eh(l)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Af{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Af{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zs._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ps.credential(n,r)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Af{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.GITHUB_SIGN_IN_METHOD="github.com";ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hde="http://localhost";class Uh extends Tf{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Ma(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ma(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ma(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new Uh(r,s)}static _create(e,n){return new Uh(e,n)}buildRequest(){return{requestUri:Hde,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gde="saml.";class Jx extends vo{constructor(e){te(e.startsWith(Gde),"argument-error"),super(e)}static credentialFromResult(e){return Jx.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Jx.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Uh.fromJSON(e);return te(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Uh._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Af{constructor(){super("twitter.com")}static credential(e,n){return Zs._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Rs.credential(n,r)}catch{return null}}}Rs.TWITTER_SIGN_IN_METHOD="twitter.com";Rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P7(t,e){return yo(t,"POST","/v1/accounts:signUp",Xt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await fs._fromIdTokenResponse(e,r,i),a=v4(r);return new Zi({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=v4(r);return new Zi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function v4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wde(t){var i;if(Nt(t.app))return Promise.reject(Bn(t));const e=Ft(t);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new Zi({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await P7(e,{returnSecureToken:!0}),r=await Zi._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx extends vr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Zx.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Zx(e,n,r,i)}}function k7(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Zx._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R7(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kde(t,e){const n=ge(t);await i1(!0,n,e);const{providerUserInfo:r}=await Yue(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=R7(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function jI(t,e,n=!1){const r=await eo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Zi._forOperation(t,"link",r)}async function i1(t,e,n){await Sg(e);const r=R7(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";te(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O7(t,e,n=!1){const{auth:r}=t;if(Nt(r.app))return Promise.reject(Bn(r));const i="reauthenticate";try{const s=await eo(t,k7(r,i,e,t),n);te(s.idToken,r,"internal-error");const a=t1(s.idToken);te(a,r,"internal-error");const{sub:l}=a;return te(t.uid===l,r,"user-mismatch"),Zi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&sr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D7(t,e,n=!1){if(Nt(t.app))return Promise.reject(Bn(t));const r="signIn",i=await k7(t,r,e),s=await Zi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function s1(t,e){return D7(Ft(t),e)}async function M7(t,e){const n=ge(t);return await i1(!1,n,e.providerId),jI(n,e)}async function L7(t,e){return O7(ge(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yde(t,e){return yo(t,"POST","/v1/accounts:signInWithCustomToken",Xt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qde(t,e){if(Nt(t.app))return Promise.reject(Bn(t));const n=Ft(t),r=await Yde(n,{token:e,returnSecureToken:!0}),i=await Zi._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?TI._fromServerResponse(e,n):"totpInfo"in n?AI._fromServerResponse(e,n):sr(e,"internal-error")}}class TI extends Cy{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new TI(n)}}class AI extends Cy{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new AI(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(t,e,n){var r;te(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),te(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),te(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(te(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(te(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(t){const e=Ft(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Xde(t,e,n){const r=Ft(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&a1(r,i,n),await xl(r,i,"getOobCode",Rde,"EMAIL_PASSWORD_PROVIDER")}async function Jde(t,e,n){await C7(ge(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&II(t),r})}async function Zde(t,e){await Cde(ge(t),{oobCode:e})}async function V7(t,e){const n=ge(t),r=await C7(n,{oobCode:e}),i=r.requestType;switch(te(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(r.mfaInfo,n,"internal-error");default:te(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Cy._fromServerResponse(Ft(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function ehe(t,e){const{data:n}=await V7(ge(t),e);return n.email}async function the(t,e,n){if(Nt(t.app))return Promise.reject(Bn(t));const r=Ft(t),a=await xl(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",P7,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&II(t),c}),l=await Zi._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function nhe(t,e,n){return Nt(t.app)?Promise.reject(Bn(t)):s1(ge(t),Jl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&II(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rhe(t,e,n){const r=Ft(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(a,l){te(l.handleCodeInApp,r,"argument-error"),l&&a1(r,a,l)}s(i,n),await xl(r,i,"getOobCode",Ode,"EMAIL_PASSWORD_PROVIDER")}function ihe(t,e){const n=r1.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function she(t,e,n){if(Nt(t.app))return Promise.reject(Bn(t));const r=ge(t),i=Jl.credentialWithLink(e,n||Ng());return te(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),s1(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ahe(t,e){return Jt(t,"POST","/v1/accounts:createAuthUri",Xt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ohe(t,e){const n=NI()?Ng():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await ahe(ge(t),r);return i||[]}async function lhe(t,e){const n=ge(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&a1(n.auth,i,e);const{email:s}=await kde(n.auth,i);s!==t.email&&await t.reload()}async function che(t,e,n){const r=ge(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&a1(r.auth,s,n);const{email:a}=await Dde(r.auth,s);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uhe(t,e){return Jt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dhe(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ge(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await eo(r,uhe(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function hhe(t,e){const n=ge(t);return Nt(n.auth.app)?Promise.reject(Bn(n.auth)):z7(n,e,null)}function fhe(t,e){return z7(ge(t),null,e)}async function z7(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const a=await eo(t,Ade(r,s));await t._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mhe(t){var i,s;if(!t)return null;const{providerId:e}=t,n=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},r=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(t!=null&&t.idToken)){const a=(s=(i=t1(t.idToken))==null?void 0:i.firebase)==null?void 0:s.sign_in_provider;if(a){const l=a!=="anonymous"&&a!=="custom"?a:null;return new th(r,l)}}if(!e)return null;switch(e){case"facebook.com":return new phe(r,n);case"github.com":return new ghe(r,n);case"google.com":return new yhe(r,n);case"twitter.com":return new vhe(r,n,t.screenName||null);case"custom":case"anonymous":return new th(r,null);default:return new th(r,e,n)}}class th{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class U7 extends th{constructor(e,n,r,i){super(e,n,r),this.username=i}}class phe extends th{constructor(e,n){super(e,"facebook.com",n)}}class ghe extends U7{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class yhe extends th{constructor(e,n){super(e,"google.com",n)}}class vhe extends U7{constructor(e,n,r){super(e,"twitter.com",n,r)}}function xhe(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:mhe(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Dc("enroll",e,n)}static _fromMfaPendingCredential(e){return new Dc("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if((n=e.multiFactorSession)!=null&&n.pendingCredential)return Dc._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((r=e.multiFactorSession)!=null&&r.idToken)return Dc._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Ft(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(l=>Cy._fromServerResponse(r,l));te(i.mfaPendingCredential,r,"internal-error");const a=Dc._fromMfaPendingCredential(i.mfaPendingCredential);return new CI(a,s,async l=>{const c=await l._process(r,a);delete i.mfaInfo,delete i.mfaPendingCredential;const u={...i,idToken:c.idToken,refreshToken:c.refreshToken};switch(n.operationType){case"signIn":const d=await Zi._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(d.user),d;case"reauthenticate":return te(n.user,r,"internal-error"),Zi._forOperation(n.user,n.operationType,u);default:sr(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function bhe(t,e){var i;const n=ge(t),r=e;return te(e.customData.operationType,n,"argument-error"),te((i=r.customData._serverResponse)==null?void 0:i.mfaPendingCredential,n,"argument-error"),CI._fromError(n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(t,e){return Jt(t,"POST","/v2/accounts/mfaEnrollment:start",Xt(t,e))}function whe(t,e){return Jt(t,"POST","/v2/accounts/mfaEnrollment:finalize",Xt(t,e))}function _he(t,e){return Jt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Xt(t,e))}class PI{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Cy._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new PI(e)}async getSession(){return Dc._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await eo(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await eo(this.user,_he(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const HN=new WeakMap;function Nhe(t){const e=ge(t);return HN.has(e)||HN.set(e,PI._fromUser(e)),HN.get(e)}const eb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(eb,"1"),this.storage.removeItem(eb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const She=1e3,Ehe=10;class B7 extends F7{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=E7(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);sde()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Ehe):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},She)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}B7.type="LOCAL";const kI=B7;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7 extends F7{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$7.type="SESSION";const bu=$7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jhe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new o1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async u=>u(n.origin,s)),c=await jhe(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}o1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class The{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const u=Py("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(f.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return window}function Ahe(t){dn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(){return typeof dn().WorkerGlobalScope<"u"&&typeof dn().importScripts=="function"}async function Ihe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Che(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Phe(){return RI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7="firebaseLocalStorageDb",khe=1,tb="firebaseLocalStorage",H7="fbase_key";class ky{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function l1(t,e){return t.transaction([tb],e?"readwrite":"readonly").objectStore(tb)}function Rhe(){const t=indexedDB.deleteDatabase(q7);return new ky(t).toPromise()}function yE(){const t=indexedDB.open(q7,khe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(tb,{keyPath:H7})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(tb)?e(r):(r.close(),await Rhe(),e(await yE()))})})}async function b4(t,e,n){const r=l1(t,!0).put({[H7]:e,value:n});return new ky(r).toPromise()}async function Ohe(t,e){const n=l1(t,!1).get(e),r=await new ky(n).toPromise();return r===void 0?null:r.value}function w4(t,e){const n=l1(t,!0).delete(e);return new ky(n).toPromise()}const Dhe=800,Mhe=3;class G7{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Mhe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=o1._getInstance(Phe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Ihe(),!this.activeServiceWorker)return;this.sender=new The(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Che()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yE();return await b4(e,eb,"1"),await w4(e,eb),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>b4(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Ohe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>w4(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=l1(i,!1).getAll();return new ky(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Dhe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G7.type="LOCAL";const jg=G7;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t,e){return Jt(t,"POST","/v2/accounts/mfaSignIn:start",Xt(t,e))}function Lhe(t,e){return Jt(t,"POST","/v2/accounts/mfaSignIn:finalize",Xt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=T7("rcb"),Vhe=new jy(3e4,6e4);class zhe{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=dn().grecaptcha)!=null&&e.render)}load(e,n=""){return te(Uhe(n),e,"argument-error"),this.shouldResolveImmediately(n)&&u4(dn().grecaptcha)?Promise.resolve(dn().grecaptcha):new Promise((r,i)=>{const s=dn().setTimeout(()=>{i(En(e,"network-request-failed"))},Vhe.get());dn()[GN]=()=>{dn().clearTimeout(s),delete dn()[GN];const l=dn().grecaptcha;if(!l||!u4(l)){i(En(e,"internal-error"));return}const c=l.render;l.render=(u,d)=>{const h=c(u,d);return this.counter++,h},this.hostLanguage=n,r(l)};const a=`${hde()}?${yf({onload:GN,render:"explicit",hl:n})}`;EI(a).catch(()=>{clearTimeout(s),i(En(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!((n=dn().grecaptcha)!=null&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Uhe(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class Fhe{async load(e){return new yde(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="recaptcha",Bhe={theme:"light",type:"image"};let $he=class{constructor(e,n,r={...Bhe}){this.parameters=r,this.type=Ap,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ft(e),this.isInvisible=this.parameters.size==="invisible",te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;te(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Fhe:new zhe,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=a=>{a&&(this.tokenChangeListeners.delete(s),i(a))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=dn()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){te(NI()&&!RI(),this.auth,"internal-error"),await qhe(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Wue(this.auth);te(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function qhe(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Xc._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function Hhe(t,e,n){if(Nt(t.app))return Promise.reject(Bn(t));const r=Ft(t),i=await c1(r,e,ge(n));return new OI(i,s=>s1(r,s))}async function Ghe(t,e,n){const r=ge(t);await i1(!1,r,"phone");const i=await c1(r.auth,e,ge(n));return new OI(i,s=>M7(r,s))}async function Whe(t,e,n){const r=ge(t);if(Nt(r.auth.app))return Promise.reject(Bn(r.auth));const i=await c1(r.auth,e,ge(n));return new OI(i,s=>L7(r,s))}async function c1(t,e,n){var r;if(!t._getRecaptchaConfig())try{await Nde(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const s=i.session;if("phoneNumber"in i){te(s.type==="enroll",t,"internal-error");const a={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await xl(t,a,"mfaSmsEnrollment",async(d,h)=>{if(h.phoneEnrollmentInfo.captchaResponse===Tp){te((n==null?void 0:n.type)===Ap,d,"argument-error");const f=await WN(d,h,n);return x4(d,f)}return x4(d,h)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).phoneSessionInfo.sessionInfo}else{te(s.type==="signin",t,"internal-error");const a=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;te(a,t,"missing-multi-factor-info");const l={mfaPendingCredential:s.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await xl(t,l,"mfaSmsSignIn",async(h,f)=>{if(f.phoneSignInInfo.captchaResponse===Tp){te((n==null?void 0:n.type)===Ap,h,"argument-error");const m=await WN(h,f,n);return _4(h,m)}return _4(h,f)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await xl(t,s,"sendVerificationCode",async(u,d)=>{if(d.captchaResponse===Tp){te((n==null?void 0:n.type)===Ap,u,"argument-error");const h=await WN(u,d,n);return y4(u,h)}return y4(u,d)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).sessionInfo}}finally{n==null||n._reset()}}async function Khe(t,e){const n=ge(t);if(Nt(n.auth.app))return Promise.reject(Bn(n.auth));await jI(n,e)}async function WN(t,e,n){te(n.type===Ap,t,"argument-error");const r=await n.verify();te(typeof r=="string",t,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,a=i.phoneEnrollmentInfo.captchaResponse,l=i.phoneEnrollmentInfo.clientType,c=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:a,clientType:l,recaptchaVersion:c}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,a=i.phoneSignInInfo.clientType,l=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:a,recaptchaVersion:l}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wu=class Fv{constructor(e){this.providerId=Fv.PROVIDER_ID,this.auth=Ft(e)}verifyPhoneNumber(e,n){return c1(this.auth,e,ge(n))}static credential(e,n){return Xc._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Fv.credentialFromTaggedObject(n)}static credentialFromError(e){return Fv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Xc._fromTokenResponse(n,r):null}};wu.PROVIDER_ID="phone";wu.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t,e){return e?gi(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI extends Tf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ma(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ma(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ma(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Yhe(t){return D7(t.auth,new DI(t),t.bypassAuthState)}function Qhe(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),O7(n,new DI(t),t.bypassAuthState)}async function Xhe(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),jI(n,new DI(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Yhe;case"linkViaPopup":case"linkViaRedirect":return Xhe;case"reauthViaPopup":case"reauthViaRedirect":return Qhe;default:sr(this.auth,"internal-error")}}resolve(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jhe=new jy(2e3,1e4);async function Zhe(t,e,n){if(Nt(t.app))return Promise.reject(En(t,"operation-not-supported-in-this-environment"));const r=Ft(t);jf(t,e,vo);const i=Hu(r,n);return new Ta(r,"signInViaPopup",e,i).executeNotNull()}async function efe(t,e,n){const r=ge(t);if(Nt(r.auth.app))return Promise.reject(En(r.auth,"operation-not-supported-in-this-environment"));jf(r.auth,e,vo);const i=Hu(r.auth,n);return new Ta(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function tfe(t,e,n){const r=ge(t);jf(r.auth,e,vo);const i=Hu(r.auth,n);return new Ta(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Ta extends W7{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ta.currentPopupAction&&Ta.currentPopupAction.cancel(),Ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return te(e,this.auth,"internal-error"),e}async onExecution(){xs(this.filter.length===1,"Popup operations only handle one event");const e=Py();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(En(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(En(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(En(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Jhe.get())};e()}}Ta.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nfe="pendingRedirect",Ip=new Map;class rfe extends W7{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ip.get(this.auth._key());if(!e){try{const r=await ife(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ip.set(this.auth._key(),e)}return this.bypassAuthState||Ip.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ife(t,e){const n=Y7(e),r=K7(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function MI(t,e){return K7(t)._set(Y7(e),"true")}function sfe(){Ip.clear()}function LI(t,e){Ip.set(t._key(),e)}function K7(t){return gi(t._redirectPersistence)}function Y7(t){return Qc(nfe,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function afe(t,e,n){return ofe(t,e,n)}async function ofe(t,e,n){if(Nt(t.app))return Promise.reject(Bn(t));const r=Ft(t);jf(t,e,vo),await r._initializationPromise;const i=Hu(r,n);return await MI(i,r),i._openRedirect(r,e,"signInViaRedirect")}function lfe(t,e,n){return cfe(t,e,n)}async function cfe(t,e,n){const r=ge(t);if(jf(r.auth,e,vo),Nt(r.auth.app))return Promise.reject(Bn(r.auth));await r.auth._initializationPromise;const i=Hu(r.auth,n);await MI(i,r.auth);const s=await Q7(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function ufe(t,e,n){return dfe(t,e,n)}async function dfe(t,e,n){const r=ge(t);jf(r.auth,e,vo),await r.auth._initializationPromise;const i=Hu(r.auth,n);await i1(!1,r,e.providerId),await MI(i,r.auth);const s=await Q7(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function hfe(t,e){return await Ft(t)._initializationPromise,u1(t,e,!1)}async function u1(t,e,n=!1){if(Nt(t.app))return Promise.reject(Bn(t));const r=Ft(t),i=Hu(r,e),a=await new rfe(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}async function Q7(t){const e=Py(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ffe=10*60*1e3;class X7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mfe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!J7(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(En(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ffe&&this.cachedEventUids.clear(),this.cachedEventUids.has(N4(e))}saveEventToCache(e){this.cachedEventUids.add(N4(e)),this.lastProcessedEventTime=Date.now()}}function N4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function J7({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mfe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return J7(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z7(t,e={}){return Jt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pfe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gfe=/^https?/;async function yfe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Z7(t);for(const n of e)try{if(vfe(n))return}catch{}sr(t,"unauthorized-domain")}function vfe(t){const e=Ng(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!gfe.test(n))return!1;if(pfe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xfe=new jy(3e4,6e4);function S4(){const t=dn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bfe(t){return new Promise((e,n)=>{var i,s,a;function r(){S4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S4(),n(En(t,"network-request-failed"))},timeout:xfe.get()})}if((s=(i=dn().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=dn().gapi)!=null&&a.load)r();else{const l=T7("iframefcb");return dn()[l]=()=>{gapi.load?r():n(En(t,"network-request-failed"))},EI(`${mde()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Bv=null,e})}let Bv=null;function wfe(t){return Bv=Bv||bfe(t),Bv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _fe=new jy(5e3,15e3),Nfe="__/auth/iframe",Sfe="emulator/auth/iframe",Efe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jfe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tfe(t){const e=t.config;te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?SI(e,Sfe):`https://${t.config.authDomain}/${Nfe}`,r={apiKey:e.apiKey,appName:t.name,v:ho},i=jfe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${yf(r).slice(1)}`}async function Afe(t){const e=await wfe(t),n=dn().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:Tfe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Efe,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=En(t,"network-request-failed"),l=dn().setTimeout(()=>{s(a)},_fe.get());function c(){dn().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ife={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Cfe=500,Pfe=600,kfe="_blank",Rfe="http://localhost";class E4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ofe(t,e,n,r=Cfe,i=Pfe){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...Ife,width:r.toString(),height:i.toString(),top:s,left:a},u=Ut().toLowerCase();n&&(l=w7(u)?kfe:n),x7(u)&&(e=e||Rfe,c.scrollbars="yes");const d=Object.entries(c).reduce((f,[m,y])=>`${f}${m}=${y},`,"");if(ide(u)&&l!=="_self")return Dfe(e||"",l),new E4(null);const h=window.open(e||"",l,d);te(h,t,"popup-blocked");try{h.focus()}catch{}return new E4(h)}function Dfe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mfe="__/auth/handler",Lfe="emulator/auth/handler",Vfe=encodeURIComponent("fac");async function vE(t,e,n,r,i,s){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ho,eventId:i};if(e instanceof vo){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",rse(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))a[d]=h}if(e instanceof Af){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${Vfe}=${encodeURIComponent(c)}`:"";return`${zfe(t)}?${yf(l).slice(1)}${u}`}function zfe({config:t}){return t.emulator?SI(t,Lfe):`https://${t.authDomain}/${Mfe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="webStorageSupport";class Ufe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bu,this._completeRedirectFn=u1,this._overrideRedirectResult=LI}async _openPopup(e,n,r,i){var a;xs((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await vE(e,n,r,Ng(),i);return Ofe(e,s,Py())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await vE(e,n,r,Ng(),i);return Ahe(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(xs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Afe(e),r=new X7(e);return n.register("authEvent",i=>(te(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(KN,{type:KN},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[KN];s!==void 0&&n(!!s),sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yfe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return E7()||b7()||Ay()}}const Ffe=Ufe;class Bfe{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Fs("unexpected MultiFactorSessionType")}}}class VI extends Bfe{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new VI(e)}_finalizeEnroll(e,n,r){return whe(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return Lhe(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class e${constructor(){}static assertion(e){return VI._fromCredential(e)}}e$.FACTOR_ID="phone";var j4="@firebase/auth",T4="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $fe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qfe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Hfe(t){Xa(new Ji("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;te(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j7(t)},u=new ude(r,i,s,c);return Sde(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xa(new Ji("auth-internal",e=>{const n=Ft(e.getProvider("auth").getImmediate());return(r=>new $fe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(j4,T4,qfe(t)),_i(j4,T4,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gfe=5*60;Gie("authIdTokenMaxAge");function Wfe(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}dde({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=En("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Wfe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hfe("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kfe=2e3;async function Yfe(t,e,n){const{BuildInfo:r}=_u();xs(e.sessionId,"AuthEvent did not contain a session ID");const i=await eme(e.sessionId),s={};return Ay()?s.ibi=r.packageName:Ty()?s.apn=r.packageName:sr(t,"operation-not-supported-in-this-environment"),r.displayName&&(s.appDisplayName=r.displayName),s.sessionId=i,vE(t,n,e.type,void 0,e.eventId??void 0,s)}async function Qfe(t){const{BuildInfo:e}=_u(),n={};Ay()?n.iosBundleId=e.packageName:Ty()?n.androidPackageName=e.packageName:sr(t,"operation-not-supported-in-this-environment"),await Z7(t,n)}function Xfe(t){const{cordova:e}=_u();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,rde()?"_blank":"_system","location=yes"),n(i)})})}async function Jfe(t,e,n){const{cordova:r}=_u();let i=()=>{};try{await new Promise((s,a)=>{let l=null;function c(){var f;s();const h=(f=r.plugins.browsertab)==null?void 0:f.close;typeof h=="function"&&h(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function u(){l||(l=window.setTimeout(()=>{a(En(t,"redirect-cancelled-by-user"))},Kfe))}function d(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(c),document.addEventListener("resume",u,!1),Ty()&&document.addEventListener("visibilitychange",d,!1),i=()=>{e.removePassiveListener(c),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",d,!1),l&&window.clearTimeout(l)}})}finally{i()}}function Zfe(t){var n,r,i,s,a,l,c,u,d,h;const e=_u();te(typeof((n=e==null?void 0:e.universalLinks)==null?void 0:n.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),te(typeof((r=e==null?void 0:e.BuildInfo)==null?void 0:r.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),te(typeof((a=(s=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:s.browsertab)==null?void 0:a.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te(typeof((u=(c=(l=e==null?void 0:e.cordova)==null?void 0:l.plugins)==null?void 0:c.browsertab)==null?void 0:u.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te(typeof((h=(d=e==null?void 0:e.cordova)==null?void 0:d.InAppBrowser)==null?void 0:h.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function eme(t){const e=tme(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function tme(t){if(xs(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nme=20;class rme extends X7{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function ime(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:ome(),postBody:null,tenantId:t.tenantId,error:En(t,"no-auth-event")}}function sme(t,e){return xE()._set(bE(t),e)}async function A4(t){const e=await xE()._get(bE(t));return e&&await xE()._remove(bE(t)),e}function ame(t,e){var r,i;const n=cme(e);if(n.includes("/__/auth/callback")){const s=$v(n),a=s.firebaseError?lme(decodeURIComponent(s.firebaseError)):null,l=(i=(r=a==null?void 0:a.code)==null?void 0:r.split("auth/"))==null?void 0:i[1],c=l?En(l):null;return c?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:c,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:n,postBody:null}}return null}function ome(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<nme;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function xE(){return gi(kI)}function bE(t){return Qc("authEvent",t.config.apiKey,t.name)}function lme(t){try{return JSON.parse(t)}catch{return null}}function cme(t){const e=$v(t),n=e.link?decodeURIComponent(e.link):void 0,r=$v(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return $v(i).link||i||r||n||t}function $v(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Od(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ume=500;class dme{constructor(){this._redirectPersistence=bu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=u1,this._overrideRedirectResult=LI}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new rme(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){sr(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){Zfe(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),sfe(),await this._originValidation(e);const a=ime(e,r,i);await sme(e,a);const l=await Yfe(e,a,n),c=await Xfe(l);return Jfe(e,s,c)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Qfe(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=_u(),a=setTimeout(async()=>{await A4(e),n.onEvent(I4())},ume),l=async d=>{clearTimeout(a);const h=await A4(e);let f=null;h&&(d!=null&&d.url)&&(f=ame(h,d.url)),n.onEvent(f||I4())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,l);const c=i,u=`${s.packageName.toLowerCase()}://`;_u().handleOpenURL=async d=>{if(d.toLowerCase().startsWith(u)&&l({url:d}),typeof c=="function")try{c(d)}catch(h){console.error(h)}}}}const hme=dme;function I4(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:En("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fme(t,e){Ft(t)._logFramework(e)}var mme="@firebase/auth-compat",pme="0.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gme=1e3;function Cp(){var t;return((t=self==null?void 0:self.location)==null?void 0:t.protocol)||null}function yme(){return Cp()==="http:"||Cp()==="https:"}function t$(t=Ut()){return!!((Cp()==="file:"||Cp()==="ionic:"||Cp()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function vme(){return aA()||Aw()}function xme(){return l8()&&(document==null?void 0:document.documentMode)===11}function bme(t=Ut()){return/Edge\/\d+/.test(t)}function wme(t=Ut()){return xme()||bme(t)}function n$(){try{const t=self.localStorage,e=Py();if(t)return t.setItem(e,"1"),t.removeItem(e),wme()?ig():!0}catch{return zI()&&ig()}return!1}function zI(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function YN(){return(yme()||o8()||t$())&&!vme()&&n$()&&!zI()}function r$(){return t$()&&typeof document<"u"}async function _me(){return r$()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},gme);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function Nme(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di={LOCAL:"local",NONE:"none",SESSION:"session"},_m=te,i$="persistence";function Sme(t,e){if(_m(Object.values(di).includes(e),t,"invalid-persistence-type"),aA()){_m(e!==di.SESSION,t,"unsupported-persistence-type");return}if(Aw()){_m(e===di.NONE,t,"unsupported-persistence-type");return}if(zI()){_m(e===di.NONE||e===di.LOCAL&&ig(),t,"unsupported-persistence-type");return}_m(e===di.NONE||n$(),t,"unsupported-persistence-type")}async function wE(t){await t._initializationPromise;const e=s$(),n=Qc(i$,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistenceType())}function Eme(t,e){const n=s$();if(!n)return[];const r=Qc(i$,t,e);switch(n.getItem(r)){case di.NONE:return[zh];case di.LOCAL:return[jg,bu];case di.SESSION:return[bu];default:return[]}}function s$(){var t;try{return((t=Nme())==null?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jme=te;class rl{constructor(){this.browserResolver=gi(Ffe),this.cordovaResolver=gi(hme),this.underlyingResolver=null,this._redirectPersistence=bu,this._completeRedirectFn=u1,this._overrideRedirectResult=LI}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return r$()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return jme(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await _me();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a$(t){return t.unwrap()}function Tme(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ame(t){return o$(t)}function Ime(t,e){var r;const n=(r=e.customData)==null?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new Cme(t,bhe(t,e))}else if(n){const i=o$(e),s=e;i&&(s.credential=i,s.tenantId=n.tenantId||void 0,s.email=n.email||void 0,s.phoneNumber=n.phoneNumber||void 0)}}function o$(t){const{_tokenResponse:e}=t instanceof vr?t.customData:t;if(!e)return null;if(!(t instanceof vr)&&"temporaryProof"in e&&"phoneNumber"in e)return wu.credentialFromResult(t);const n=e.providerId;if(!n||n===bm.PASSWORD)return null;let r;switch(n){case bm.GOOGLE:r=Ps;break;case bm.FACEBOOK:r=Cs;break;case bm.GITHUB:r=ks;break;case bm.TWITTER:r=Rs;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:a,pendingToken:l,nonce:c}=e;return!s&&!a&&!i&&!l?null:l?n.startsWith("saml.")?Uh._create(n,l):Zs._fromParams({providerId:n,signInMethod:n,pendingToken:l,idToken:i,accessToken:s}):new eh(n).credential({idToken:i,accessToken:s,rawNonce:c})}return t instanceof vr?r.credentialFromError(t):r.credentialFromResult(t)}function Wr(t,e){return e.catch(n=>{throw n instanceof vr&&Ime(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:Ame(n),additionalUserInfo:xhe(n),user:Aa.getOrCreate(i)}})}async function _E(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Wr(t,n.confirm(r))}}class Cme{constructor(e,n){this.resolver=n,this.auth=Tme(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Wr(a$(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this._delegate=e,this.multiFactor=Nhe(e)}static getOrCreate(e){return Aa.USER_MAP.has(e)||Aa.USER_MAP.set(e,new Aa(e)),Aa.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Wr(this.auth,M7(this._delegate,e))}async linkWithPhoneNumber(e,n){return _E(this.auth,Ghe(this._delegate,e,n))}async linkWithPopup(e){return Wr(this.auth,tfe(this._delegate,e,rl))}async linkWithRedirect(e){return await wE(Ft(this.auth)),ufe(this._delegate,e,rl)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Wr(this.auth,L7(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return _E(this.auth,Whe(this._delegate,e,n))}reauthenticateWithPopup(e){return Wr(this.auth,efe(this._delegate,e,rl))}async reauthenticateWithRedirect(e){return await wE(Ft(this.auth)),lfe(this._delegate,e,rl)}sendEmailVerification(e){return lhe(this._delegate,e)}async unlink(e){return await Kde(this._delegate,e),this}updateEmail(e){return hhe(this._delegate,e)}updatePassword(e){return fhe(this._delegate,e)}updatePhoneNumber(e){return Khe(this._delegate,e)}updateProfile(e){return dhe(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return che(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Aa.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=te;class NE{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Nm(r,"invalid-api-key",{appName:e.name}),Nm(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?rl:void 0;this._delegate=n.initialize({options:{persistence:Pme(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Lue),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Aa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){Ede(this._delegate,e,n)}applyActionCode(e){return Zde(this._delegate,e)}checkActionCode(e){return V7(this._delegate,e)}confirmPasswordReset(e,n){return Jde(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Wr(this._delegate,the(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return ohe(this._delegate,e)}isSignInWithEmailLink(e){return ihe(this._delegate,e)}async getRedirectResult(){Nm(YN(),this._delegate,"operation-not-supported-in-this-environment");const e=await hfe(this._delegate,rl);return e?Wr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){fme(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:a}=C4(e,n,r);return this._delegate.onAuthStateChanged(i,s,a)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:a}=C4(e,n,r);return this._delegate.onIdTokenChanged(i,s,a)}sendSignInLinkToEmail(e,n){return rhe(this._delegate,e,n)}sendPasswordResetEmail(e,n){return Xde(this._delegate,e,n||void 0)}async setPersistence(e){Sme(this._delegate,e);let n;switch(e){case di.SESSION:n=bu;break;case di.LOCAL:n=await gi(jg)._isAvailable()?jg:kI;break;case di.NONE:n=zh;break;default:return sr("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Wr(this._delegate,Wde(this._delegate))}signInWithCredential(e){return Wr(this._delegate,s1(this._delegate,e))}signInWithCustomToken(e){return Wr(this._delegate,Qde(this._delegate,e))}signInWithEmailAndPassword(e,n){return Wr(this._delegate,nhe(this._delegate,e,n))}signInWithEmailLink(e,n){return Wr(this._delegate,she(this._delegate,e,n))}signInWithPhoneNumber(e,n){return _E(this._delegate,Hhe(this._delegate,e,n))}async signInWithPopup(e){return Nm(YN(),this._delegate,"operation-not-supported-in-this-environment"),Wr(this._delegate,Zhe(this._delegate,e,rl))}async signInWithRedirect(e){return Nm(YN(),this._delegate,"operation-not-supported-in-this-environment"),await wE(this._delegate),afe(this._delegate,e,rl)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return ehe(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}NE.Persistence=di;function C4(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:a=>i(a&&Aa.getOrCreate(a)),error:e,complete:n}}function Pme(t,e){const n=Eme(t,e);if(typeof self<"u"&&!n.includes(jg)&&n.push(jg),typeof window<"u")for(const r of[kI,bu])n.includes(r)||n.push(r);return n.includes(zh)||n.push(zh),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{static credential(e,n){return wu.credential(e,n)}constructor(){this.providerId="phone",this._delegate=new wu(a$(Fe.auth()))}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}UI.PHONE_SIGN_IN_METHOD=wu.PHONE_SIGN_IN_METHOD;UI.PROVIDER_ID=wu.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kme=te;class Rme{constructor(e,n,r=Fe.app()){var i;kme((i=r.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new $he(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ome="auth-compat";function Dme(t){t.INTERNAL.registerComponent(new Ji(Ome,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new NE(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ld.EMAIL_SIGNIN,PASSWORD_RESET:ld.PASSWORD_RESET,RECOVER_EMAIL:ld.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ld.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ld.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ld.VERIFY_EMAIL}},EmailAuthProvider:Jl,FacebookAuthProvider:Cs,GithubAuthProvider:ks,GoogleAuthProvider:Ps,OAuthProvider:eh,SAMLAuthProvider:Jx,PhoneAuthProvider:UI,PhoneMultiFactorGenerator:e$,RecaptchaVerifier:Rme,TwitterAuthProvider:Rs,Auth:NE,AuthCredential:Tf,Error:vr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(mme,pme)}Dme(Fe);const Mme="@firebase/firestore-compat",Lme="0.4.2";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new Q("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(){if(typeof Uint8Array>"u")throw new Q("unimplemented","Uint8Arrays are not available in this environment.")}function k4(){if(!ooe())throw new Q("unimplemented","Blobs are unavailable in Firestore in this environment.")}let l$=class SE{constructor(e){this._delegate=e}static fromBase64String(e){return k4(),new SE(pr.fromBase64String(e))}static fromUint8Array(e){return P4(),new SE(pr.fromUint8Array(e))}toBase64(){return k4(),this._delegate.toBase64()}toUint8Array(){return P4(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(t){return Vme(t,["next","error","complete"])}function Vme(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zme{enableIndexedDbPersistence(e,n){return $ce(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return qce(e._delegate)}clearIndexedDbPersistence(e){return Hce(e._delegate)}}class c${constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Cl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Xs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...n,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){zce(this._delegate,e,n,r)}enableNetwork(){return Wce(this._delegate)}disableNetwork(){return Kce(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,R8("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Gce(this._delegate)}onSnapshotsInSync(e){return gue(this._delegate,e)}get app(){if(!this._appCompat)throw new Q("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Fh(this,bg(this._delegate,e))}catch(n){throw Cr(n,"collection()","Firestore.collection()")}}doc(e){try{return new $i(this,wg(this._delegate,e))}catch(n){throw Cr(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ir(this,Uce(this._delegate,e))}catch(n){throw Cr(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return wue(this._delegate,n=>e(new u$(this,n)))}batch(){return Nr(this._delegate),new d$(new vue(this._delegate,e=>Ey(this._delegate,e)))}loadBundle(e){return Yce(this._delegate,e)}namedQuery(e){return Qce(this._delegate,e).then(n=>n?new Ir(this,n):null)}}class d1 extends yI{constructor(e){super(),this.firestore=e}convertBytes(e){return new l$(new pr(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return $i.forKey(n,this.firestore,null)}}function Ume(t){xae(t)}class u${constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new d1(e)}get(e){const n=Mc(e);return this._delegate.get(n).then(r=>new Tg(this._firestore,new Yi(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Mc(e);return r?(FI("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Mc(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Mc(e);return this._delegate.delete(n),this}}class d${constructor(e){this._delegate=e}set(e,n,r){const i=Mc(e);return r?(FI("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Mc(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Mc(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Nu{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Ep(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ag(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Nu.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Nu(e,new d1(e),n),i.set(n,s)),s}}Nu.INSTANCES=new WeakMap;class $i{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new d1(e)}static forPath(e,n,r){if(e.length%2!==0)throw new Q("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new $i(n,new pt(n._delegate,r,new se(e)))}static forKey(e,n,r){return new $i(n,new pt(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Fh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Fh(this.firestore,bg(this._delegate,e))}catch(n){throw Cr(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ge(e),e instanceof pt?$B(this._delegate,e):!1}set(e,n){n=FI("DocumentReference.set",n);try{return n?s4(this._delegate,e,n):s4(this._delegate,e)}catch(r){throw Cr(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?a4(this._delegate,e):a4(this._delegate,e,n,...r)}catch(i){throw Cr(i,"updateDoc()","DocumentReference.update()")}}delete(){return mue(this._delegate)}onSnapshot(...e){const n=h$(e),r=f$(e,i=>new Tg(this.firestore,new Yi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return xI(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=uue(this._delegate):(e==null?void 0:e.source)==="server"?n=due(this._delegate):n=l7(this._delegate),n.then(r=>new Tg(this.firestore,new Yi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new $i(this.firestore,e?this._delegate.withConverter(Nu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Cr(t,e,n){return t.message=t.message.replace(e,n),t}function h$(t){for(const e of t)if(typeof e=="object"&&!EE(e))return e;return{}}function f$(t,e){var r,i;let n;return EE(t[0])?n=t[0]:EE(t[1])?n=t[1]:typeof t[0]=="function"?n={next:t[0],error:t[1],complete:t[2]}:n={next:t[1],error:t[2],complete:t[3]},{next:s=>{n.next&&n.next(e(s))},error:(r=n.error)==null?void 0:r.bind(n),complete:(i=n.complete)==null?void 0:i.bind(n)}}class Tg{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new $i(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return o7(this._delegate,e._delegate)}}class Ag extends Tg{data(e){const n=this._delegate.data(e);return this._delegate._converter||bae(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}}class Ir{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new d1(e)}where(e,n,r){try{return new Ir(this.firestore,js(this._delegate,t7(e,n,r)))}catch(i){throw Cr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Ir(this.firestore,js(this._delegate,n7(e,n)))}catch(r){throw Cr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ir(this.firestore,js(this._delegate,nue(e)))}catch(n){throw Cr(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Ir(this.firestore,js(this._delegate,rue(e)))}catch(n){throw Cr(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ir(this.firestore,js(this._delegate,iue(...e)))}catch(n){throw Cr(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ir(this.firestore,js(this._delegate,sue(...e)))}catch(n){throw Cr(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ir(this.firestore,js(this._delegate,aue(...e)))}catch(n){throw Cr(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ir(this.firestore,js(this._delegate,oue(...e)))}catch(n){throw Cr(n,"endAt()","Query.endAt()")}}isEqual(e){return qB(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=hue(this._delegate):(e==null?void 0:e.source)==="server"?n=fue(this._delegate):n=vI(this._delegate),n.then(r=>new jE(this.firestore,new gs(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=h$(e),r=f$(e,i=>new jE(this.firestore,new gs(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return xI(this._delegate,n,r)}withConverter(e){return new Ir(this.firestore,e?this._delegate.withConverter(Nu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Fme{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Ag(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class jE{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Ir(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ag(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Fme(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Ag(this._firestore,r))})}isEqual(e){return o7(this._delegate,e._delegate)}}class Fh extends Ir{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new $i(this.firestore,e):null}doc(e){try{return e===void 0?new $i(this.firestore,wg(this._delegate)):new $i(this.firestore,wg(this._delegate,e))}catch(n){throw Cr(n,"doc()","CollectionReference.doc()")}}add(e){return pue(this._delegate,e).then(n=>new $i(this.firestore,n))}isEqual(e){return $B(this._delegate,e._delegate)}withConverter(e){return new Fh(this.firestore,e?this._delegate.withConverter(Nu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Mc(t){return He(t,pt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(...e){this._delegate=new Ml(...e)}static documentId(){return new BI(Rt.keyField().canonicalString())}isEqual(e){return e=ge(e),e instanceof Ml?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{static serverTimestamp(){const e=Nue();return e._methodName="FieldValue.serverTimestamp",new kc(e)}static delete(){const e=_ue();return e._methodName="FieldValue.delete",new kc(e)}static arrayUnion(...e){const n=Sue(...e);return n._methodName="FieldValue.arrayUnion",new kc(n)}static arrayRemove(...e){const n=Eue(...e);return n._methodName="FieldValue.arrayRemove",new kc(n)}static increment(e){const n=jue(e);return n._methodName="FieldValue.increment",new kc(n)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bme={Firestore:c$,GeoPoint:ps,Timestamp:Qe,Blob:l$,Transaction:u$,WriteBatch:d$,DocumentReference:$i,DocumentSnapshot:Tg,Query:Ir,QueryDocumentSnapshot:Ag,QuerySnapshot:jE,CollectionReference:Fh,FieldPath:BI,FieldValue:kc,setLogLevel:Ume,CACHE_SIZE_UNLIMITED:Bce};function $me(t,e){t.INTERNAL.registerComponent(new Ji("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...Bme}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qme(t){$me(t,(e,n)=>new c$(e,n,new zme)),t.registerVersion(Mme,Lme)}qme(Fe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$="firebasestorage.googleapis.com",p$="storageBucket",Hme=2*60*1e3,Gme=10*60*1e3,Wme=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt extends vr{constructor(e,n,r=0){super(QN(e),`Firebase Storage: ${n} (${QN(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Bt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return QN(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var At;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(At||(At={}));function QN(t){return"storage/"+t}function $I(){const t="An unknown error occurred, please check the error payload for server response.";return new Bt(At.UNKNOWN,t)}function Kme(t){return new Bt(At.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Yme(t){return new Bt(At.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Qme(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Bt(At.UNAUTHENTICATED,t)}function Xme(){return new Bt(At.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Jme(t){return new Bt(At.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function g$(){return new Bt(At.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function y$(){return new Bt(At.CANCELED,"User canceled the upload/download.")}function Zme(t){return new Bt(At.INVALID_URL,"Invalid URL '"+t+"'.")}function epe(t){return new Bt(At.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function tpe(){return new Bt(At.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+p$+"' property when initializing the app?")}function v$(){return new Bt(At.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function npe(){return new Bt(At.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function rpe(){return new Bt(At.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ipe(t){return new Bt(At.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function nh(t){return new Bt(At.INVALID_ARGUMENT,t)}function x$(){return new Bt(At.APP_DELETED,"The Firebase app was deleted.")}function b$(t){return new Bt(At.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pp(t,e){return new Bt(At.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Sm(t){throw new Bt(At.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=gr.makeFromUrl(e,n)}catch{return new gr(e,"")}if(r.path==="")return r;throw epe(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function u(N){N.path_=decodeURIComponent(N.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),y={bucket:1,path:3},v=n===m$?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",w=new RegExp(`^https?://${v}/${i}/${x}`,"i"),b=[{regex:l,indices:c,postModify:s},{regex:m,indices:y,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let N=0;N<b.length;N++){const E=b[N],C=E.regex.exec(e);if(C){const j=C[E.indices.bucket];let T=C[E.indices.path];T||(T=""),r=new gr(j,T),E.postModify(r);break}}if(r==null)throw Zme(e);return r}}class spe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ape(t,e,n){let r=1,i=null,s=null,a=!1,l=0;function c(){return l===2}let u=!1;function d(...x){u||(u=!0,e.apply(null,x))}function h(x){i=setTimeout(()=>{i=null,t(m,c())},x)}function f(){s&&clearTimeout(s)}function m(x,...w){if(u){f();return}if(x){f(),d.call(null,x,...w);return}if(c()||a){f(),d.call(null,x,...w);return}r<64&&(r*=2);let b;l===1?(l=2,b=0):b=(r+Math.random())*1e3,h(b)}let y=!1;function v(x){y||(y=!0,f(),!u&&(i!==null?(x||(l=2),clearTimeout(i),h(0)):x||(l=1)))}return h(0),s=setTimeout(()=>{a=!0,v(!0)},n),v}function ope(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lpe(t){return t!==void 0}function cpe(t){return typeof t=="function"}function upe(t){return typeof t=="object"&&!Array.isArray(t)}function h1(t){return typeof t=="string"||t instanceof String}function R4(t){return qI()&&t instanceof Blob}function qI(){return typeof Blob<"u"}function TE(t,e,n,r){if(r<e)throw nh(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw nh(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function w$(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Jc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Jc||(Jc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dpe{constructor(e,n,r,i,s,a,l,c,u,d,h,f=!0,m=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,v)=>{this.resolve_=y,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new F0(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const l=s.getErrorCode()===Jc.NO_ERROR,c=s.getStatus();if(!l||_$(c,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Jc.ABORT;r(!1,new F0(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new F0(u,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());lpe(c)?s(c):s()}catch(c){a(c)}else if(l!==null){const c=$I();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(i.canceled){const c=this.appDelete_?x$():y$();a(c)}else{const c=g$();a(c)}};this.canceled_?n(!1,new F0(!1,null,!0)):this.backoffId_=ape(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ope(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class F0{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function hpe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function fpe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mpe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ppe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function gpe(t,e,n,r,i,s,a=!0,l=!1){const c=w$(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return mpe(d,e),hpe(d,n),fpe(d,s),ppe(d,r),new dpe(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ype(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function vpe(...t){const e=ype();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(qI())return new Blob(t);throw new Bt(At.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function xpe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bpe(t){if(typeof atob>"u")throw ipe("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class XN{constructor(e,n){this.data=e,this.contentType=n||null}}function N$(t,e){switch(t){case qi.RAW:return new XN(S$(e));case qi.BASE64:case qi.BASE64URL:return new XN(E$(t,e));case qi.DATA_URL:return new XN(_pe(e),Npe(e))}throw $I()}function S$(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function wpe(t){let e;try{e=decodeURIComponent(t)}catch{throw Pp(qi.DATA_URL,"Malformed data URL.")}return S$(e)}function E$(t,e){switch(t){case qi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Pp(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case qi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Pp(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=bpe(e)}catch(i){throw i.message.includes("polyfill")?i:Pp(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class j${constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Pp(qi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Spe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function _pe(t){const e=new j$(t);return e.base64?E$(qi.BASE64,e.rest):wpe(e.rest)}function Npe(t){return new j$(t).contentType}function Spe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n){let r=0,i="";R4(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(R4(this.data_)){const r=this.data_,i=xpe(r,e,n);return i===null?null:new xa(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new xa(r,!0)}}static getBlob(...e){if(qI()){const n=e.map(r=>r instanceof xa?r.data_:r);return new xa(vpe.apply(null,n))}else{const n=e.map(a=>h1(a)?N$(qi.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)i[s++]=a[l]}),new xa(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t){let e;try{e=JSON.parse(t)}catch{return null}return upe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Epe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function jpe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function T$(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tpe(t,e){return e}class Tr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Tpe}}let B0=null;function Ape(t){return!h1(t)||t.length<2?t:T$(t)}function f1(){if(B0)return B0;const t=[];t.push(new Tr("bucket")),t.push(new Tr("generation")),t.push(new Tr("metageneration")),t.push(new Tr("name","fullPath",!0));function e(s,a){return Ape(a)}const n=new Tr("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new Tr("size");return i.xform=r,t.push(i),t.push(new Tr("timeCreated")),t.push(new Tr("updated")),t.push(new Tr("md5Hash",null,!0)),t.push(new Tr("cacheControl",null,!0)),t.push(new Tr("contentDisposition",null,!0)),t.push(new Tr("contentEncoding",null,!0)),t.push(new Tr("contentLanguage",null,!0)),t.push(new Tr("contentType",null,!0)),t.push(new Tr("metadata","customMetadata",!0)),B0=t,B0}function Ipe(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new gr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Cpe(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return Ipe(r,t),r}function A$(t,e,n){const r=HI(e);return r===null?null:Cpe(t,r,n)}function Ppe(t,e,n,r){const i=HI(e);if(i===null||!h1(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(u=>{const d=t.bucket,h=t.fullPath,f="/b/"+a(d)+"/o/"+a(h),m=Zl(f,n,r),y=w$({alt:"media",token:u});return m+y})[0]}function GI(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="prefixes",D4="items";function kpe(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[O4])for(const i of n[O4]){const s=i.replace(/\/$/,""),a=t._makeStorageReference(new gr(e,s));r.prefixes.push(a)}if(n[D4])for(const i of n[D4]){const s=t._makeStorageReference(new gr(e,i.name));r.items.push(s)}return r}function Rpe(t,e,n){const r=HI(n);return r===null?null:kpe(t,e,r)}class xo{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t){if(!t)throw $I()}function m1(t,e){function n(r,i){const s=A$(t,i,e);return Ws(s!==null),s}return n}function Ope(t,e){function n(r,i){const s=Rpe(t,e,i);return Ws(s!==null),s}return n}function Dpe(t,e){function n(r,i){const s=A$(t,i,e);return Ws(s!==null),Ppe(s,i,t.host,t._protocol)}return n}function If(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Xme():i=Qme():n.getStatus()===402?i=Yme(t.bucket):n.getStatus()===403?i=Jme(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function p1(t){const e=If(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Kme(t.path)),s.serverResponse=i.serverResponse,s}return n}function I$(t,e,n){const r=e.fullServerUrl(),i=Zl(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,l=new xo(i,s,m1(t,n),a);return l.errorHandler=p1(e),l}function Mpe(t,e,n,r,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const a=e.bucketOnlyServerUrl(),l=Zl(a,t.host,t._protocol),c="GET",u=t.maxOperationRetryTime,d=new xo(l,c,Ope(t,e.bucket),u);return d.urlParams=s,d.errorHandler=If(e),d}function Lpe(t,e,n){const r=e.fullServerUrl(),i=Zl(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,l=new xo(i,s,Dpe(t,n),a);return l.errorHandler=p1(e),l}function Vpe(t,e,n,r){const i=e.fullServerUrl(),s=Zl(i,t.host,t._protocol),a="PATCH",l=GI(n,r),c={"Content-Type":"application/json; charset=utf-8"},u=t.maxOperationRetryTime,d=new xo(s,a,m1(t,r),u);return d.headers=c,d.body=l,d.errorHandler=p1(e),d}function zpe(t,e){const n=e.fullServerUrl(),r=Zl(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function a(c,u){}const l=new xo(r,i,a,s);return l.successCodes=[200,204],l.errorHandler=p1(e),l}function Upe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function C$(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Upe(null,e)),r}function Fpe(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let b="";for(let N=0;N<2;N++)b=b+Math.random().toString().slice(2);return b}const c=l();a["Content-Type"]="multipart/related; boundary="+c;const u=C$(e,r,i),d=GI(u,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+c+"--",m=xa.getBlob(h,r,f);if(m===null)throw v$();const y={name:u.fullPath},v=Zl(s,t.host,t._protocol),x="POST",w=t.maxUploadRetryTime,_=new xo(v,x,m1(t,n),w);return _.urlParams=y,_.headers=a,_.body=m.uploadData(),_.errorHandler=If(e),_}class nb{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function WI(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Ws(!1)}return Ws(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Bpe(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a=C$(e,r,i),l={name:a.fullPath},c=Zl(s,t.host,t._protocol),u="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},h=GI(a,n),f=t.maxUploadRetryTime;function m(v){WI(v);let x;try{x=v.getResponseHeader("X-Goog-Upload-URL")}catch{Ws(!1)}return Ws(h1(x)),x}const y=new xo(c,u,m,f);return y.urlParams=l,y.headers=d,y.body=h,y.errorHandler=If(e),y}function $pe(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const d=WI(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ws(!1)}h||Ws(!1);const f=Number(h);return Ws(!isNaN(f)),new nb(f,r.size(),d==="final")}const a="POST",l=t.maxUploadRetryTime,c=new xo(n,a,s,l);return c.headers=i,c.errorHandler=If(e),c}const M4=256*1024;function qpe(t,e,n,r,i,s,a,l){const c=new nb(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw npe();const u=c.total-c.current;let d=u;i>0&&(d=Math.min(d,i));const h=c.current,f=h+d;let m="";d===0?m="finalize":u===d?m="upload, finalize":m="upload";const y={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":`${c.current}`},v=r.slice(h,f);if(v===null)throw v$();function x(N,E){const C=WI(N,["active","final"]),j=c.current+d,T=r.size();let A;return C==="final"?A=m1(e,s)(N,E):A=null,new nb(j,T,C==="final",A)}const w="POST",_=e.maxUploadRetryTime,b=new xo(n,w,x,_);return b.headers=y,b.body=v.uploadData(),b.progressCallback=l||null,b.errorHandler=If(t),b}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hpe={STATE_CHANGED:"state_changed"},Pr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function JN(t){switch(t){case"running":case"pausing":case"canceling":return Pr.RUNNING;case"paused":return Pr.PAUSED;case"success":return Pr.SUCCESS;case"canceled":return Pr.CANCELED;case"error":return Pr.ERROR;default:return Pr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gpe{constructor(e,n,r){if(cpe(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class Wpe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Jc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Jc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Jc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw Sm("cannot .send() more than once");if(Gl(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Sm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Sm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Sm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Sm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Kpe extends Wpe{initXhr(){this.xhr_.responseType="text"}}function Os(){return new Kpe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=f1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(At.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(_$(i.status,[]))if(s)i=g$();else{this.sleepTime=Math.max(this.sleepTime*2,Wme),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(At.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=Bpe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Os,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=$pe(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Os,n,r);this._request=s,s.getPromise().then(a=>{a=a,this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=M4*this._chunkMultiplier,n=new nb(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let a;try{a=qpe(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const l=this._ref.storage._makeRequest(a,Os,i,s,!1);this._request=l,l.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){M4*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=I$(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Os,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=Fpe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Os,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=y$(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=JN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new Gpe(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(JN(this._state)){case Pr.SUCCESS:cd(this._resolve.bind(null,this.snapshot))();break;case Pr.CANCELED:case Pr.ERROR:const n=this._reject;cd(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(JN(this._state)){case Pr.RUNNING:case Pr.PAUSED:e.next&&cd(e.next.bind(e,this.snapshot))();break;case Pr.SUCCESS:e.complete&&cd(e.complete.bind(e))();break;case Pr.CANCELED:case Pr.ERROR:e.error&&cd(e.error.bind(e,this._error))();break;default:e.error&&cd(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n){this._service=e,n instanceof gr?this._location=n:this._location=gr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Su(e,n)}get root(){const e=new gr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return T$(this._location.path)}get storage(){return this._service}get parent(){const e=Epe(this._location.path);if(e===null)return null;const n=new gr(this._location.bucket,e);return new Su(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw b$(e)}}function Ype(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new P$(t,new xa(e),n)}function Qpe(t){const e={prefixes:[],items:[]};return k$(t,e).then(()=>e)}async function k$(t,e,n){const i=await R$(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await k$(t,e,i.nextPageToken)}function R$(t,e){e!=null&&typeof e.maxResults=="number"&&TE("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=Mpe(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Os)}function Xpe(t){t._throwIfRoot("getMetadata");const e=I$(t.storage,t._location,f1());return t.storage.makeRequestWithTokens(e,Os)}function Jpe(t,e){t._throwIfRoot("updateMetadata");const n=Vpe(t.storage,t._location,e,f1());return t.storage.makeRequestWithTokens(n,Os)}function Zpe(t){t._throwIfRoot("getDownloadURL");const e=Lpe(t.storage,t._location,f1());return t.storage.makeRequestWithTokens(e,Os).then(n=>{if(n===null)throw rpe();return n})}function ege(t){t._throwIfRoot("deleteObject");const e=zpe(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Os)}function O$(t,e){const n=jpe(t._location.path,e),r=new gr(t._location.bucket,n);return new Su(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tge(t){return/^[A-Za-z]+:\/\//.test(t)}function nge(t,e){return new Su(t,e)}function D$(t,e){if(t instanceof KI){const n=t;if(n._bucket==null)throw tpe();const r=new Su(n,n._bucket);return e!=null?D$(r,e):r}else return e!==void 0?O$(t,e):t}function rge(t,e){if(e&&tge(e)){if(t instanceof KI)return nge(t,e);throw nh("To use ref(service, url), the first argument must be a Storage instance.")}else return D$(t,e)}function L4(t,e){const n=e==null?void 0:e[p$];return n==null?null:gr.makeFromBucketSpec(n,t)}function ige(t,e,n,r={}){t.host=`${e}:${n}`;const i=Gl(e);i&&(iA(`https://${t.host}/b`),sA("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:s8(s,t.app.options.projectId))}class KI{constructor(e,n,r,i,s,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=m$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Hme,this._maxUploadRetryTime=Gme,this._requests=new Set,i!=null?this._bucket=gr.makeFromBucketSpec(i,this._host):this._bucket=L4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gr.makeFromBucketSpec(this._url,e):this._bucket=L4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){TE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){TE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Nt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Su(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new spe(x$());{const a=gpe(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const V4="@firebase/storage",z4="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sge="storage";function age(t,e,n){return t=ge(t),Ype(t,e,n)}function oge(t){return t=ge(t),Xpe(t)}function lge(t,e){return t=ge(t),Jpe(t,e)}function cge(t,e){return t=ge(t),R$(t,e)}function uge(t){return t=ge(t),Qpe(t)}function dge(t){return t=ge(t),Zpe(t)}function hge(t){return t=ge(t),ege(t)}function U4(t,e){return t=ge(t),rge(t,e)}function fge(t,e){return O$(t,e)}function mge(t,e,n,r={}){ige(t,e,n,r)}function pge(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new KI(n,r,i,e,ho)}function gge(){Xa(new Ji(sge,pge,"PUBLIC").setMultipleInstances(!0)),_i(V4,z4,""),_i(V4,z4,"esm2020")}gge();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new $0(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new $0(r,this,this._ref))},n)}on(e,n,r,i){let s;return n&&(typeof n=="function"?s=a=>n(new $0(a,this,this._ref)):s={next:n.next?a=>n.next(new $0(a,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class B4{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new La(e,this._service))}get items(){return this._delegate.items.map(e=>new La(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=fge(this._delegate,e);return new La(n,this.storage)}get root(){return new La(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new La(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new F4(age(this._delegate,e,n),this)}putString(e,n=qi.RAW,r){this._throwIfRoot("putString");const i=N$(n,e),s={...r};return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new F4(new P$(this._delegate,new xa(i.data,!0),s),this)}listAll(){return uge(this._delegate).then(e=>new B4(e,this.storage))}list(e){return cge(this._delegate,e||void 0).then(n=>new B4(n,this.storage))}getMetadata(){return oge(this._delegate)}updateMetadata(e){return lge(this._delegate,e)}getDownloadURL(){return dge(this._delegate)}delete(){return this._throwIfRoot("delete"),hge(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw b$(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if($4(e))throw nh("ref() expected a child path but got a URL, use refFromURL instead.");return new La(U4(this._delegate,e),this)}refFromURL(e){if(!$4(e))throw nh("refFromURL() expected a full URL but got a child path, use ref() instead.");try{gr.makeFromUrl(e,this._delegate.host)}catch{throw nh("refFromUrl() expected a valid full URL but got an invalid one.")}return new La(U4(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){mge(this._delegate,e,n,r)}}function $4(t){return/^[A-Za-z]+:\/\//.test(t)}const yge="@firebase/storage-compat",vge="0.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xge="storage-compat";function bge(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new M$(n,r)}function wge(t){const e={TaskState:Pr,TaskEvent:Hpe,StringFormat:qi,Storage:M$,Reference:La};t.INTERNAL.registerComponent(new Ji(xge,bge,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(yge,vge)}wge(Fe);const _ge={apiKey:"AIzaSyDzEay5fGB-2r5_V9UXOO8cOv-nJdHwDRg",authDomain:"rush-coffee.firebaseapp.com",projectId:"rush-coffee",storageBucket:"rush-coffee.appspot.com",messagingSenderId:"423413538635",appId:"1:423413538635:web:ded0369f50c3a9086bd2ce"};Fe.apps.length||Fe.initializeApp(_ge);const ga=Fe.auth(),he=Fe.firestore(),Nge=Fe.storage(),be=({children:t,className:e="",hover:n=!1,variant:r="default",padding:i="md",clickable:s=!1,onClick:a})=>{const l="rounded-2xl transition-all duration-300 ease-out",c={default:"border border-gray-100 bg-white/80 backdrop-blur-sm shadow-lg",elevated:"bg-white shadow-xl border-0",outlined:"border-2 border-primary-200 bg-white",glass:"bg-white/70 backdrop-blur-md border border-white/20 shadow-xl"},u={none:"",sm:"p-4",md:"p-6",lg:"p-8"},d=n?"hover:shadow-2xl hover:-translate-y-1 hover:scale-[1.02]":"",h=s?"cursor-pointer active:scale-[0.98]":"";return o.jsx("div",{className:`${l} ${c[r]} ${u[i]} ${d} ${h} ${e}`,onClick:s?a:void 0,role:s?"button":void 0,tabIndex:s?0:void 0,children:t})},tr=({children:t,className:e="",variant:n="solid",color:r="primary",size:i="md"})=>{const s="inline-flex items-center gap-1.5 rounded-full font-medium",a={xs:"px-2 py-0.5 text-xs",sm:"px-2.5 py-1 text-xs",md:"px-3 py-1 text-sm",lg:"px-4 py-1.5 text-base"},l={primary:"bg-primary-100 text-primary-800",success:"bg-green-100 text-green-800",warning:"bg-amber-100 text-amber-800",error:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800",gray:"bg-gray-100 text-gray-800"},c={primary:"border-2 border-primary-300 text-primary-700 bg-transparent",success:"border-2 border-green-300 text-green-700 bg-transparent",warning:"border-2 border-amber-300 text-amber-700 bg-transparent",error:"border-2 border-red-300 text-red-700 bg-transparent",info:"border-2 border-blue-300 text-blue-700 bg-transparent",gray:"border-2 border-gray-300 text-gray-700 bg-transparent"},u={primary:"bg-primary-500",success:"bg-green-500",warning:"bg-amber-500",error:"bg-red-500",info:"bg-blue-500",gray:"bg-gray-500"},d=n==="outline"?c[r]:l[r];return o.jsxs("span",{className:`${s} ${a[i]} ${d} ${e}`,children:[n==="dot"&&o.jsx("span",{className:`h-2 w-2 rounded-full ${u[r]} animate-pulse`}),t]})},L$=g.createContext(void 0),Zt=()=>{const t=g.useContext(L$);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},q4=async t=>{var i,s,a;const e=he.collection("users").doc(t),n=await e.get();if(!n.exists){console.log(`Creating missing Firestore profile for user: ${t}`);const l=ga.currentUser;if(!l)throw new Error("User not authenticated");const c=((i=l.displayName)==null?void 0:i.split(" "))||["User",""],u=c[0],d=c.slice(1).join(" ")||"",h={email:l.email||"",displayName:l.displayName||`${u} ${d}`,firstName:u,lastName:d,phone:l.phoneNumber||"",photoURL:l.photoURL||void 0,createdAt:new Date,role:"customer",totalOrders:0,totalSpent:0,currentPoints:0,lifetimePoints:0,loyaltyPoints:0,tier:"bronze",rewardsHistory:[],preferences:{notifications:{push:!0,emailUpdates:!0,marketing:!1},theme:"auto",privacy:{shareUsageData:!0,personalizedRecs:!0}},cart:[]};await e.set(h);const m=(await e.get()).data();return{uid:t,email:m.email,displayName:m.displayName,firstName:m.firstName||"User",lastName:m.lastName||"",phone:m.phone||"",photoURL:m.photoURL,createdAt:((s=m.createdAt)==null?void 0:s.toDate())||new Date,role:m.role,totalOrders:m.totalOrders??0,totalSpent:m.totalSpent??0,currentPoints:m.currentPoints??0,lifetimePoints:m.lifetimePoints??0,loyaltyPoints:m.loyaltyPoints??0,tier:m.tier||"bronze",rewardsHistory:(m.rewardsHistory||[]).map(y=>({...y,date:y.date.toDate()})).sort((y,v)=>v.date-y.date),preferences:m.preferences||{notifications:{push:!0,emailUpdates:!0,marketing:!1},theme:"auto",privacy:{shareUsageData:!0,personalizedRecs:!0}}}}const r=n.data();return{uid:t,email:r.email,displayName:r.displayName||`${r.firstName} ${r.lastName}`,firstName:r.firstName||"User",lastName:r.lastName||"",phone:r.phone||"",photoURL:r.photoURL,createdAt:((a=r.createdAt)==null?void 0:a.toDate())||new Date,role:r.role,totalOrders:r.totalOrders??0,totalSpent:r.totalSpent??0,currentPoints:r.currentPoints??0,lifetimePoints:r.lifetimePoints??0,loyaltyPoints:r.loyaltyPoints??0,tier:r.tier||"bronze",rewardsHistory:(r.rewardsHistory||[]).map(l=>({...l,date:l.date.toDate()})).sort((l,c)=>c.date-l.date),preferences:r.preferences||{notifications:{push:!0,emailUpdates:!0,marketing:!1},theme:"auto",privacy:{shareUsageData:!0,personalizedRecs:!0}}}},Sge=({children:t})=>{const[e,n]=g.useState(null),[r,i]=g.useState(!0);g.useEffect(()=>{let x;const w=ga.onAuthStateChanged(async _=>{x&&x(),_?x=he.collection("users").doc(_.uid).onSnapshot(N=>{var E;if(N.exists){const C=N.data(),j={uid:_.uid,email:_.email,firstName:C.firstName||"User",lastName:C.lastName||"",phone:C.phone||"",photoURL:C.photoURL,createdAt:((E=C.createdAt)==null?void 0:E.toDate())||new Date,role:C.role,totalOrders:C.totalOrders??0,totalSpent:C.totalSpent??0,currentPoints:C.currentPoints??0,lifetimePoints:C.lifetimePoints??0,tier:C.tier||"bronze",rewardsHistory:(C.rewardsHistory||[]).map(T=>({...T,date:T.date.toDate()})).sort((T,A)=>A.date-T.date),preferences:C.preferences||{notifications:{push:!0,emailUpdates:!0,marketing:!1},theme:"auto",privacy:{shareUsageData:!0,personalizedRecs:!0}}};n(j)}else console.log("User document not found for UID:",_.uid);i(!1)},N=>{console.error("Error listening to user document:",N),n(null),i(!1)}):(n(null),i(!1))});return()=>{w(),x&&x()}},[]);const v={currentUser:e,loading:r,register:async(x,w,_,b,N)=>{const C=(await ga.createUserWithEmailAndPassword(x,w)).user,j={id:`rh-${Date.now()}`,type:"earned",points:25,description:"Welcome Bonus",date:new Date},T={firstName:_,lastName:b,phone:N||"",createdAt:new Date,role:"customer",totalOrders:0,totalSpent:0,currentPoints:25,lifetimePoints:25,tier:"bronze",rewardsHistory:[j],preferences:{notifications:{push:!0,emailUpdates:!0,marketing:!1},theme:"auto",privacy:{shareUsageData:!0,personalizedRecs:!0}},cart:[]};return await he.collection("users").doc(C.uid).set(T),q4(C.uid)},login:async(x,w,_)=>{console.log(" AuthContext.login called with:",{email:x,rememberMe:_});const b=_?Fe.auth.Auth.Persistence.LOCAL:Fe.auth.Auth.Persistence.SESSION;await ga.setPersistence(b),console.log(" Attempting Firebase authentication..."),sessionStorage.setItem("requires2FA","true");try{const E=(await ga.signInWithEmailAndPassword(x,w)).user.uid;console.log(" Firebase auth successful, userId:",E);const C=Math.floor(1e5+Math.random()*9e5).toString(),j=new Date(Date.now()+10*60*1e3);return console.log(" Storing verification code in Firestore..."),await he.collection("emailVerifications").doc(E).set({code:C,email:x,createdAt:new Date,expiresAt:j,verified:!1}),console.log(` Verification code for ${x}: ${C}`),console.log(" Returning verification needed response..."),{needsVerification:!0,userId:E,email:x}}catch(N){throw sessionStorage.removeItem("requires2FA"),console.error("Login failed, cleared 2FA flag:",N),N}},logout:async()=>{await ga.signOut()},sendPasswordReset:async x=>{await ga.sendPasswordResetEmail(x)},signInWithGoogle:async()=>{var N;const x=new Fe.auth.GoogleAuthProvider,w=await ga.signInWithPopup(x),_=w.user,b=w.additionalUserInfo;if(b!=null&&b.isNewUser){const E=((N=_.displayName)==null?void 0:N.split(" "))||["New","User"],C=E[0],j=E.slice(1).join(" ")||"",T={id:`rh-${Date.now()}`,type:"earned",points:25,description:"Welcome Bonus",date:new Date},A={firstName:C,lastName:j,photoURL:_.photoURL||void 0,createdAt:new Date,role:"customer",totalOrders:0,totalSpent:0,currentPoints:25,lifetimePoints:25,tier:"bronze",rewardsHistory:[T],preferences:{notifications:{push:!0,emailUpdates:!0,marketing:!1},theme:"auto",privacy:{shareUsageData:!0,personalizedRecs:!0}},cart:[]};await he.collection("users").doc(_.uid).set(A)}return q4(_.uid)},updateUserProfile:async x=>{if(!e)return;await he.collection("users").doc(e.uid).update(x)},updateUserPhoto:async x=>{if(!e)return;await he.collection("users").doc(e.uid).update({photoURL:x})},sendEmailVerificationCode:async(x,w)=>{const _=Math.floor(1e5+Math.random()*9e5).toString(),b=new Date(Date.now()+10*60*1e3);await he.collection("emailVerifications").doc(x).set({code:_,email:w,createdAt:new Date,expiresAt:b}),console.log(` Verification code for ${w}: ${_}`)},verifyEmailCode:async(x,w)=>{const _=he.collection("emailVerifications").doc(x),b=await _.get();if(!b.exists)return console.error("No verification code found for user"),!1;const N=b.data();if(!N)return!1;const E=new Date,C=N.expiresAt.toDate();return E>C?(console.error("Verification code expired"),!1):N.code===w?(await _.update({verified:!0}),!0):!1},updateUserPassword:async(x,w)=>{const _=ga.currentUser;if(!_||!_.email)throw new Error("No user logged in");const b=Fe.auth.EmailAuthProvider.credential(_.email,x);await _.reauthenticateWithCredential(b),await _.updatePassword(w)}};return o.jsx(L$.Provider,{value:v,children:!r&&t})},we=t=>`/RushCoffee-Capstone/${t}`,Lc=[{id:"cb-01",name:"Spanish Latte",description:"A creamy and sweet latte with a Spanish twist, featuring condensed milk for a rich flavor.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:we("coffee-based/spanish-latte.png"),available:!0,stock:99,popular:!0,displayOrder:1,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:150},{ingredientId:"condensed-milk",quantity:30}]},{id:"cb-02",name:"Rush Coffee Blend",description:"Our signature house blend, perfectly balanced for a smooth and satisfying coffee experience.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:89}],imageUrl:we("coffee-based/rush-coffee-blend.png"),available:!0,stock:99,popular:!0,displayOrder:2,recipe:[{ingredientId:"coffee-beans",quantity:18},{ingredientId:"hot-water",quantity:200}]},{id:"cb-03",name:"Caramel Chocolate Mocha",description:"A decadent mix of rich chocolate, espresso, and creamy caramel for the ultimate treat.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:we("coffee-based/caramel-chocolate-mocha.jpg"),available:!0,stock:99,popular:!0,displayOrder:3,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:150},{ingredientId:"chocolate-sauce",quantity:20},{ingredientId:"caramel-sauce",quantity:15}]},{id:"cb-04",name:"Dark Chocolate Mocha",description:"A bold and intense mocha experience with premium dark chocolate and strong espresso.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:we("coffee-based/dark-chocolate-mocha.jpg"),available:!0,stock:99,displayOrder:4,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:150},{ingredientId:"chocolate-sauce",quantity:25}]},{id:"cb-05",name:"Mocha Latte",description:"A classic blend of smooth espresso, rich chocolate sauce, and steamed milk.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:we("coffee-based/mocha-latte.jpg"),available:!0,stock:99,displayOrder:5,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:180},{ingredientId:"chocolate-sauce",quantity:20}]},{id:"cb-06",name:"Americano",description:"Bold espresso shots topped with hot water to create a light layer of crema.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:we("coffee-based/americano.jpg"),available:!0,stock:99,displayOrder:6,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"hot-water",quantity:220}]},{id:"cb-07",name:"Biscoff Latte",description:"An indulgent latte infused with the irresistible flavor of caramelized Biscoff cookies.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:99},{name:"Venti",size:"22oz",price:199}],imageUrl:we("coffee-based/biscoff-latte.jpg"),available:!0,stock:99,displayOrder:7,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:170},{ingredientId:"biscoff-spread",quantity:30}]},{id:"cb-08",name:"Reeses Latte",description:"The perfect combination of peanut butter, chocolate, and espresso. A candy lover's dream.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:we("coffee-based/reeses-latte.jpg"),available:!0,stock:99,displayOrder:8,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:160},{ingredientId:"chocolate-sauce",quantity:15},{ingredientId:"peanut-butter",quantity:20}]},{id:"cb-09",name:"Brown Sugar Latte",description:"A comforting latte sweetened with rich, molasses-like brown sugar syrup.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:79}],imageUrl:we("coffee-based/brown-sugar-latte.jpg"),available:!0,stock:99,displayOrder:9,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:180},{ingredientId:"brown-sugar-syrup",quantity:25}]},{id:"cb-10",name:"Iced Latte",description:"A simple classic. Chilled espresso with cold milk served over ice.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:69}],imageUrl:we("coffee-based/iced-latte.jpg"),available:!0,stock:99,displayOrder:10,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:180},{ingredientId:"ice-cubes",quantity:100}]},{id:"cb-11",name:"Orange Latte",description:"A unique and refreshing latte with a zesty hint of natural orange flavor.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:89}],imageUrl:we("coffee-based/orange-latte.jpg"),available:!0,stock:99,displayOrder:11,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:170},{ingredientId:"orange-syrup",quantity:20}]},{id:"cb-12",name:"Coffee Jelly",description:"A delightful iced coffee drink with chewy, coffee-flavored jelly cubes.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:99}],imageUrl:we("coffee-based/coffee-jelly.jpg"),available:!0,stock:99,displayOrder:12,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:150},{ingredientId:"coffee-jelly",quantity:80},{ingredientId:"ice-cubes",quantity:80}]},{id:"nc-01",name:"Red Velvet",description:"A sweet and creamy drink inspired by the classic red velvet cake, with hints of cocoa and vanilla.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:we("non-coffee/red-velvet.jpg"),available:!0,stock:99,displayOrder:13,recipe:[{ingredientId:"milk",quantity:200},{ingredientId:"red-velvet-powder",quantity:25},{ingredientId:"chocolate-sauce",quantity:10},{ingredientId:"vanilla-syrup",quantity:15}]},{id:"nc-02",name:"Red Velvet Matcha Latte",description:"A beautiful and delicious blend of earthy matcha and sweet red velvet flavors.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:we("non-coffee/red-velvet-matcha-latte.jpg"),available:!0,stock:99,displayOrder:14,recipe:[{ingredientId:"milk",quantity:180},{ingredientId:"matcha-powder",quantity:5},{ingredientId:"red-velvet-powder",quantity:15},{ingredientId:"vanilla-syrup",quantity:10}]},{id:"nc-03",name:"Milky Choco",description:"A rich and comforting chocolate drink made with high-quality cocoa and fresh milk.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:we("non-coffee/milky-choco.jpg"),available:!0,stock:99,displayOrder:15,recipe:[{ingredientId:"milk",quantity:220},{ingredientId:"chocolate-sauce",quantity:30}]},{id:"nc-04",name:"Strawberry Milk",description:"A refreshing and creamy drink made with real strawberries and fresh milk.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:we("non-coffee/strawberry-milk.jpg"),available:!0,stock:99,displayOrder:16,recipe:[{ingredientId:"milk",quantity:200},{ingredientId:"strawberry-puree",quantity:50}]},{id:"nc-05",name:"Biscoff Milky",description:"A non-coffee treat blending the sweet, caramelized taste of Biscoff with creamy milk.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:we("non-coffee/biscoff-milky.jpg"),available:!0,stock:99,displayOrder:17,recipe:[{ingredientId:"milk",quantity:200},{ingredientId:"biscoff-spread",quantity:35}]},{id:"nc-06",name:"Oreo Latte",description:"A fun and delicious drink packed with the classic cookies and cream flavor of Oreos.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:we("non-coffee/oreo-latte.jpg"),available:!0,stock:99,displayOrder:18,recipe:[{ingredientId:"milk",quantity:180},{ingredientId:"oreo-crumbs",quantity:40},{ingredientId:"chocolate-sauce",quantity:15}]},{id:"ms-01",name:"Matcha Latte",description:"Premium Japanese matcha green tea with steamed milk, a perfect balance of earthy and creamy.",category:"Matcha Series",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:89}],imageUrl:we("matcha-series/matcha-latte.jpg"),available:!0,stock:99,popular:!0,displayOrder:19,recipe:[{ingredientId:"matcha-powder",quantity:5},{ingredientId:"milk",quantity:200}]},{id:"ms-02",name:"Strawberry Matcha",description:"A delightful pairing of sweet strawberry puree and high-quality matcha green tea.",category:"Matcha Series",sizes:[{name:"Grande",size:"16oz",price:99},{name:"Venti",size:"22oz",price:109}],imageUrl:we("matcha-series/strawberry-matcha.jpg"),available:!0,stock:99,displayOrder:20,recipe:[{ingredientId:"matcha-powder",quantity:5},{ingredientId:"milk",quantity:180},{ingredientId:"strawberry-puree",quantity:40}]},{id:"ms-03",name:"Matcha Cream Cheese",description:"Earthy matcha topped with a rich, savory, and slightly sweet cream cheese foam.",category:"Matcha Series",sizes:[{name:"Grande",size:"16oz",price:99},{name:"Venti",size:"22oz",price:109}],imageUrl:we("matcha-series/matcha-cream-cheese.jpg"),available:!0,stock:99,displayOrder:21,recipe:[{ingredientId:"matcha-powder",quantity:5},{ingredientId:"milk",quantity:180},{ingredientId:"cream-cheese",quantity:30}]},{id:"ms-04",name:"Matcha Oreo",description:"A creative blend of matcha and crushed Oreo cookies for a unique texture and flavor.",category:"Matcha Series",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:we("matcha-series/matcha-oreo.jpg"),available:!0,stock:99,displayOrder:22,recipe:[{ingredientId:"matcha-powder",quantity:5},{ingredientId:"milk",quantity:180},{ingredientId:"oreo-crumbs",quantity:35}]},{id:"rf-01",name:"Flamangooverload Shake",description:"An explosive mix of flamingo and mango for an overload of fruity goodness.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:we("refreshments/flamangooverload.jpg"),available:!0,stock:99,displayOrder:23,recipe:[{ingredientId:"mango-puree",quantity:100},{ingredientId:"strawberry-puree",quantity:50},{ingredientId:"ice-cubes",quantity:120},{ingredientId:"milk",quantity:80}]},{id:"rf-02",name:"Mangoberry Shake",description:"A delightful blend of sweet mangoes and tangy berries, perfectly refreshing.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:we("refreshments/mangoberry.jpg"),available:!0,stock:99,displayOrder:24,recipe:[{ingredientId:"mango-puree",quantity:80},{ingredientId:"mixed-berries",quantity:50},{ingredientId:"ice-cubes",quantity:120},{ingredientId:"milk",quantity:80}]},{id:"rf-03",name:"Mango Caramel Shake",description:"Creamy mango shake drizzled with rich, buttery caramel sauce.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:we("refreshments/mango-caramel.jpg"),available:!0,stock:99,displayOrder:25,recipe:[{ingredientId:"mango-puree",quantity:100},{ingredientId:"caramel-sauce",quantity:20},{ingredientId:"ice-cubes",quantity:120},{ingredientId:"milk",quantity:80}]},{id:"rf-04",name:"Blueberry Shake",description:"A classic fruit shake made with sweet and juicy blueberries.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:we("refreshments/blueberry-shake.jpg"),available:!0,stock:99,displayOrder:26,recipe:[{ingredientId:"blueberry-puree",quantity:100},{ingredientId:"ice-cubes",quantity:120},{ingredientId:"milk",quantity:100}]},{id:"rf-05",name:"Strawberry Shake",description:"A creamy and delicious shake made with ripe, sweet strawberries.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:we("refreshments/strawberry-shake.jpg"),available:!0,stock:99,displayOrder:27,recipe:[{ingredientId:"strawberry-puree",quantity:100},{ingredientId:"ice-cubes",quantity:120},{ingredientId:"milk",quantity:100}]},{id:"rf-06",name:"Green Apple Shake",description:"A tart and refreshing shake with the crisp taste of green apples.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:we("refreshments/green-apple-shake.jpg"),available:!0,stock:99,displayOrder:28,recipe:[{ingredientId:"green-apple-puree",quantity:100},{ingredientId:"ice-cubes",quantity:120},{ingredientId:"milk",quantity:100}]},{id:"rf-07",name:"Blueberry Soda Pop",description:"Fizzy and fun, this soda pop is bursting with sweet blueberry flavor.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:we("refreshments/blueberry-soda.jpg"),available:!0,stock:99,displayOrder:29,recipe:[{ingredientId:"blueberry-puree",quantity:60},{ingredientId:"soda-water",quantity:200},{ingredientId:"ice-cubes",quantity:100}]},{id:"rf-08",name:"Strawberry Soda Pop",description:"A refreshing soda pop with the sweet taste of summer strawberries.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:we("refreshments/strawberry-soda.jpg"),available:!0,stock:99,displayOrder:30,recipe:[{ingredientId:"strawberry-puree",quantity:60},{ingredientId:"soda-water",quantity:200},{ingredientId:"ice-cubes",quantity:100}]},{id:"rf-09",name:"Green Apple Soda Pop",description:"A crisp and bubbly soda with a tangy green apple twist.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:we("refreshments/green-apple-soda.jpg"),available:!0,stock:99,displayOrder:31,recipe:[{ingredientId:"green-apple-puree",quantity:60},{ingredientId:"soda-water",quantity:200},{ingredientId:"ice-cubes",quantity:100}]},{id:"rf-10",name:"Lemon Soda Pop",description:"A zesty and invigorating soda pop with a classic lemon flavor.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:we("refreshments/lemon-soda.jpg"),available:!0,stock:99,displayOrder:32,recipe:[{ingredientId:"lemon-juice",quantity:60},{ingredientId:"soda-water",quantity:200},{ingredientId:"ice-cubes",quantity:100}]},{id:"rf-11",name:"Lychee Soda Pop",description:"An exotic and fragrant soda pop with the sweet, floral taste of lychee.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79},{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:we("refreshments/flamangooverload.jpg"),available:!0,stock:99,displayOrder:23,recipe:[{ingredientId:"mango-puree",quantity:100},{ingredientId:"strawberry-puree",quantity:50},{ingredientId:"ice-cubes",quantity:120},{ingredientId:"milk",quantity:80}]},{id:"rf-02",name:"Mangoberry Shake",description:"A delightful blend of sweet mangoes and tangy berries, perfectly refreshing.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:we("refreshments/mangoberry.jpg"),available:!0,stock:99,displayOrder:24,recipe:[{ingredientId:"mango-puree",quantity:80},{ingredientId:"mixed-berries",quantity:50},{ingredientId:"ice-cubes",quantity:120},{ingredientId:"milk",quantity:80}]},{id:"rf-03",name:"Mango Caramel Shake",description:"Creamy mango shake drizzled with rich, buttery caramel sauce.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:we("refreshments/mango-caramel.jpg"),available:!0,stock:99,displayOrder:25,recipe:[{ingredientId:"mango-puree",quantity:100},{ingredientId:"caramel-sauce",quantity:20},{ingredientId:"ice-cubes",quantity:120},{ingredientId:"milk",quantity:80}]},{id:"rf-04",name:"Blueberry Shake",description:"A classic fruit shake made with sweet and juicy blueberries.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:we("refreshments/blueberry-shake.jpg"),available:!0,stock:99,displayOrder:26,recipe:[{ingredientId:"blueberry-puree",quantity:100},{ingredientId:"ice-cubes",quantity:120},{ingredientId:"milk",quantity:100}]},{id:"rf-05",name:"Strawberry Shake",description:"A creamy and delicious shake made with ripe, sweet strawberries.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:we("refreshments/strawberry-shake.jpg"),available:!0,stock:99,displayOrder:27,recipe:[{ingredientId:"strawberry-puree",quantity:100},{ingredientId:"ice-cubes",quantity:120},{ingredientId:"milk",quantity:100}]},{id:"rf-06",name:"Green Apple Shake",description:"A tart and refreshing shake with the crisp taste of green apples.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:we("refreshments/green-apple-shake.jpg"),available:!0,stock:99,displayOrder:28,recipe:[{ingredientId:"green-apple-puree",quantity:100},{ingredientId:"ice-cubes",quantity:120},{ingredientId:"milk",quantity:100}]},{id:"rf-07",name:"Blueberry Soda Pop",description:"Fizzy and fun, this soda pop is bursting with sweet blueberry flavor.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:we("refreshments/blueberry-soda.jpg"),available:!0,stock:99,displayOrder:29,recipe:[{ingredientId:"blueberry-puree",quantity:60},{ingredientId:"soda-water",quantity:200},{ingredientId:"ice-cubes",quantity:100}]},{id:"rf-08",name:"Strawberry Soda Pop",description:"A refreshing soda pop with the sweet taste of summer strawberries.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:we("refreshments/strawberry-soda.jpg"),available:!0,stock:99,displayOrder:30,recipe:[{ingredientId:"strawberry-puree",quantity:60},{ingredientId:"soda-water",quantity:200},{ingredientId:"ice-cubes",quantity:100}]},{id:"rf-09",name:"Green Apple Soda Pop",description:"A crisp and bubbly soda with a tangy green apple twist.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:we("refreshments/green-apple-soda.jpg"),available:!0,stock:99,displayOrder:31,recipe:[{ingredientId:"green-apple-puree",quantity:60},{ingredientId:"soda-water",quantity:200},{ingredientId:"ice-cubes",quantity:100}]},{id:"rf-10",name:"Lemon Soda Pop",description:"A zesty and invigorating soda pop with a classic lemon flavor.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:we("refreshments/lemon-soda.jpg"),available:!0,stock:99,displayOrder:32,recipe:[{ingredientId:"lemon-juice",quantity:60},{ingredientId:"soda-water",quantity:200},{ingredientId:"ice-cubes",quantity:100}]},{id:"rf-11",name:"Lychee Soda Pop",description:"An exotic and fragrant soda pop with the sweet, floral taste of lychee.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:we("refreshments/lychee-soda.jpg"),available:!0,stock:99,displayOrder:33,recipe:[{ingredientId:"lychee-syrup",quantity:60},{ingredientId:"soda-water",quantity:200},{ingredientId:"ice-cubes",quantity:100}]},{id:"rf-12",name:"Mango Soda Pop",description:"A tropical and bubbly soda bursting with sweet mango flavor.",category:"Refreshments",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:79}],imageUrl:we("refreshments/mango-soda.jpg"),available:!0,stock:99,displayOrder:34,recipe:[{ingredientId:"mango-puree",quantity:60},{ingredientId:"soda-water",quantity:200},{ingredientId:"ice-cubes",quantity:100}]},{id:"ml-01",name:"Breaded Bacon",description:"Crispy breaded bacon served with creamy white sauce and golden fries.",category:"Meals",sizes:[{name:"Ala Carte",size:"w/ Fries",price:119},{name:"Combo Meal",size:"w/ Fries & Drink",price:139}],imageUrl:we("menu/ala-carte-breaded-bacon-with-white-sauce and fries.jpg"),comboImageUrl:we("menu/combo-meals-breaded-bacon-with-white-sauce,-fries-and-a-drink.jpg"),available:!0,stock:99,popular:!0,displayOrder:35,recipe:[{ingredientId:"bacon-strips",quantity:.15},{ingredientId:"bread-crumbs",quantity:50},{ingredientId:"french-fries",quantity:.15},{ingredientId:"white-sauce",quantity:30},{ingredientId:"cooking-oil",quantity:100},{ingredientId:"takeout-pack",quantity:1}]},{id:"ml-02",name:"Breaded Porkchop",description:"A juicy breaded porkchop fried to perfection, served with white sauce and fries.",category:"Meals",sizes:[{name:"Ala Carte",size:"w/ Fries",price:129},{name:"Combo Meal",size:"w/ Fries & Drink",price:149}],imageUrl:we("menu/ala-carte-breaded-porkchop-with-white-sauce-and-fries.jpg"),comboImageUrl:we("menu/combo-meals-breaded-porkchop-with-white-sauce-and-fries-w-drink.jpg"),available:!0,stock:99,popular:!0,displayOrder:36,recipe:[{ingredientId:"porkchop",quantity:.2},{ingredientId:"bread-crumbs",quantity:60},{ingredientId:"french-fries",quantity:.15},{ingredientId:"white-sauce",quantity:30},{ingredientId:"cooking-oil",quantity:120},{ingredientId:"takeout-pack",quantity:1}]},{id:"ml-03",name:"Breaded Chicken",description:"Tender breaded chicken fillet with a side of fries and our signature white sauce.",category:"Meals",sizes:[{name:"Ala Carte",size:"w/ Fries",price:119},{name:"Combo Meal",size:"w/ Fries & Drink",price:139}],imageUrl:we("menu/ala-carte-chicken-with-white-sauce-and-fries.jpg"),comboImageUrl:we("menu/combo-meals-breaded-chicken-with-white-sauce,-fries-and-a-drink.jpg"),available:!0,stock:99,displayOrder:37,recipe:[{ingredientId:"chicken-fillet",quantity:.2},{ingredientId:"bread-crumbs",quantity:55},{ingredientId:"french-fries",quantity:.15},{ingredientId:"white-sauce",quantity:30},{ingredientId:"cooking-oil",quantity:110},{ingredientId:"takeout-pack",quantity:1}]}],V$=g.createContext(void 0),Gu=()=>{const t=g.useContext(V$);if(!t)throw new Error("useProduct must be used within a ProductProvider");return t},Ege=({children:t})=>{const[e,n]=g.useState([]),[r,i]=g.useState(!0),[s,a]=g.useState(null),l=g.useCallback(async()=>{i(!0),a(null);try{const f=he.collection("products"),m=f.orderBy("displayOrder","asc"),y=await m.get();if(y.empty){console.log("Products collection is empty. Seeding products with specific IDs...");const _=he.batch();Lc.forEach(E=>{const{id:C,...j}=E,T=f.doc(C);_.set(T,j)}),await _.commit(),console.log(`Successfully seeded ${Lc.length} products to Firestore!`);const N=(await m.get()).docs.map(E=>({id:E.id,...E.data()}));n(N);return}const v=y.docs.map(_=>({id:_.id,..._.data()}));n(v);const x=he.batch();let w=!1;Lc.forEach(_=>{const b=v.find(N=>N.id===_.id);if(b){const N=JSON.stringify(b.recipe||[]),E=JSON.stringify(_.recipe||[]);if(N!==E){const C=f.doc(_.id);x.update(C,{recipe:_.recipe}),w=!0,console.log(`Syncing recipe for ${_.name}`)}}}),w&&(await x.commit(),console.log(" Recipes synced from code to Firestore"))}catch(f){f.code==="permission-denied"?console.info("Firestore permission denied. This is expected if security rules are not yet configured or if you are offline. Falling back to mock data for demonstration."):console.warn("Error fetching products from Firestore. Falling back to mock data.",f),n(Lc),a(null)}finally{i(!1)}},[]);g.useEffect(()=>{l()},[l]);const h={products:e,isLoading:r,error:s,addProduct:async f=>{try{await he.collection("products").add(f),await l()}catch(m){throw console.error("Error adding product: ",m),new Error("Failed to add product.")}},updateProduct:async(f,m)=>{try{await he.collection("products").doc(f).update(m),await l()}catch(y){throw console.error("Error updating product: ",y),new Error("Failed to update product.")}},deleteProduct:async f=>{try{await he.collection("products").doc(f).delete(),await l()}catch(m){throw console.error("Error deleting product: ",m),new Error("Failed to delete product.")}}};return o.jsx(V$.Provider,{value:h,children:t})},z$=g.createContext(void 0),lr=()=>{const t=g.useContext(z$);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t},jge=({children:t})=>{const[e,n]=g.useState([]),[r,i]=g.useState(!1),[s,a]=g.useState(null),[l,c]=g.useState(!0),[u,d]=g.useState([]),{currentUser:h}=Zt(),{products:f,isLoading:m}=Gu();g.useEffect(()=>{if(s){const O=setTimeout(()=>a(null),4e3);return()=>clearTimeout(O)}},[s]);const y=g.useCallback(O=>{a(O)},[]);g.useEffect(()=>{h?(async()=>{var R;if(!(!h||m)){c(!0);try{const M=await he.collection("users").doc(h.uid).get();if(M.exists){const B=(((R=M.data())==null?void 0:R.cart)||[]).map(G=>{const ee=f.find(xe=>xe.id===G.productId);if(!ee)return null;const Z=ee.sizes.find(xe=>xe.name===G.sizeName);if(!Z)return null;const H=G.customizations?JSON.stringify(G.customizations):"";return{id:`${ee.id}-${Z.name}-${H}`,product:ee,selectedSize:Z,quantity:G.quantity,customizations:G.customizations}}).filter(G=>G!==null);n(B)}}catch(V){console.error("Error fetching cart from Firestore:",V),y("Couldn't load your cart.")}finally{c(!1)}}})():(n([]),c(!1))},[h,f,m,y]);const v=g.useCallback(async O=>{if(h)try{const R=he.collection("users").doc(h.uid),V=O.map(M=>{const L={};return M.customizations&&(M.customizations.sugarLevel!==void 0&&(L.sugarLevel=M.customizations.sugarLevel),M.customizations.iceLevel!==void 0&&(L.iceLevel=M.customizations.iceLevel),M.customizations.toppings!==void 0&&(L.toppings=M.customizations.toppings)),{productId:M.product.id,sizeName:M.selectedSize.name,quantity:M.quantity,...Object.keys(L).length>0&&{customizations:L}}});await R.set({cart:V},{merge:!0})}catch(R){console.error("Error updating Firestore cart:",R),y("Error saving your cart.")}},[h,y]),x=g.useMemo(()=>e.reduce((O,R)=>O+R.quantity,0),[e]),w=()=>i(!0),_=()=>i(!1),b=(O,R,V,M=1)=>{const L=V?JSON.stringify(V):"",B=`${O.id}-${R.name}-${L}`;let G;e.find(Z=>Z.id===B)?G=e.map(Z=>Z.id===B?{...Z,quantity:Math.min(Z.quantity+M,O.stock)}:Z):G=[...e,{id:B,product:O,selectedSize:R,quantity:Math.min(M,O.stock),customizations:V}],n(G),v(G),y(`${O.name} (${R.name}) added to cart!`),w()},N=O=>{if(!O||O.length===0)return;let R=[...e],V=0;O.forEach(M=>{const L=M.customizations?JSON.stringify(M.customizations):"",B=`${M.product.id}-${M.selectedSize.name}-${L}`,G=R.findIndex(ee=>ee.id===B);if(G>-1){const ee=R[G],Z=ee.quantity+M.quantity;R[G]={...ee,quantity:Math.min(Z,M.product.stock)}}else R.push({id:B,product:M.product,selectedSize:M.selectedSize,quantity:Math.min(M.quantity,M.product.stock),customizations:M.customizations});V+=M.quantity}),n(R),v(R),y(`${V} item(s) added to your cart!`),w()},E=(O,R)=>{let V;R<1?V=e.filter(M=>M.id!==O):V=e.map(M=>M.id===O?{...M,quantity:Math.min(R,M.product.stock)}:M),n(V),v(V)},C=O=>{const R=e.find(M=>M.id===O),V=e.filter(M=>M.id!==O);n(V),v(V),R&&y(`${R.product.name} (${R.selectedSize.name}) removed from cart.`)},j=()=>{n([]),d([]),v([])},T=O=>{d(R=>R.includes(O)?R.filter(V=>V!==O):[...R,O])},A=()=>{d(e.map(O=>O.id))},P=()=>{d([])};g.useEffect(()=>{const O=e.map(R=>R.id);d(R=>{const V=R.filter(L=>O.includes(L)),M=O.filter(L=>!R.includes(L));return[...V,...M]})},[e]);const k={cartItems:e,isCartOpen:r,toastMessage:s,totalCartItems:x,isCartLoading:l,selectedItemIds:u,addToCart:b,addMultipleToCart:N,updateQuantity:E,removeFromCart:C,openCart:w,closeCart:_,showToast:y,toggleItemSelection:T,selectAllItems:A,deselectAllItems:P,clearCart:j};return o.jsx(z$.Provider,{value:k,children:t})},vn=({className:t,...e})=>o.jsxs("svg",{viewBox:"0 0 241 175",xmlns:"http://www.w3.org/2000/svg",className:t,fill:"currentColor",...e,children:[o.jsx("path",{d:"M153.092 78.5C178.275 50.84 210.393 19.4076 222.5 17.5C234.607 15.5924 239.5 30 239.5 30C239.5 30 244.137 46.596 236.388 72.8253C228.64 99.0547 199 128.5 199 128.5C199 128.5 177.5 152.5 147.5 167C147.5 167 114.686 183.001 104.889 169.159C95.0912 155.316 127.909 106.16 153.092 78.5Z"}),o.jsx("path",{d:"M8.99445 86.0801C8.99445 86.0801 -16.2682 31.1886 17.8826 14.4198C33.7618 9.56756 76 55.675 76 64.5C76 70 63.7899 86.337 59 101.5C54.887 114.52 55.557 134.266 52.0896 135.774C48.0468 137.533 37.3644 137.835 8.99445 86.0801Z"}),o.jsx("path",{d:"M47 12.5C41.0274 7.52362 41.5502 -7.59339e-06 52.5 0C63.4498 7.5934e-06 69.3348 2.24286 82.0884 7.45282C95.3718 12.8792 105.888 16.4103 109.463 23.875C111.5 32.5 107.979 33.026 103.5 38.5C99.0205 43.9741 96 44.1666 91 43.5C83.5342 42.5047 52.9726 17.4764 47 12.5Z"}),o.jsx("path",{d:"M200.048 20.8891C212.988 11.4339 207.491 2.52815 200.048 2.97405C192.604 3.41995 127.379 9.72972 89.5542 67.6673C85.4261 73.9905 72.4385 95.2439 69.1452 112.455C65.6022 130.971 65.8681 149.097 73.6272 157.74C81.0528 166.012 88.1891 164.145 92.2823 156.482C96.4277 148.721 97.4982 135.065 100.004 127.882C104.983 113.605 104.907 116.382 109.393 106.379C114.278 95.4879 120.938 86.2377 126.993 78.4363C154.543 42.9442 190.775 27.6646 200.048 20.8891Z"})]}),ea=({isOpen:t,onClose:e,title:n,children:r,footer:i,size:s="md",hideHeader:a=!1,className:l=""})=>{const[c,u]=g.useState(!1);if(g.useEffect(()=>{const h=f=>{f.key==="Escape"&&e()};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[e]),g.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),g.useEffect(()=>{if(t){u(!0);const h=setTimeout(()=>{u(!1)},1e3);return()=>clearTimeout(h)}},[t,s,r]),!t)return null;const d={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-2xl"};return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4 backdrop-blur-sm animate-fade-in",role:"dialog","aria-modal":"true","aria-labelledby":n?"modal-title":void 0,onClick:e,children:o.jsx("div",{className:`relative w-full transform transition-all ${d[s]} ${l} max-h-[90vh] flex flex-col animate-scale-in`,onClick:h=>h.stopPropagation(),children:o.jsxs(be,{variant:"elevated",className:"rounded-3xl p-0 shadow-2xl flex flex-col max-h-full overflow-hidden bg-white",children:[o.jsx("button",{onClick:e,className:"absolute right-6 top-6 z-10 rounded-full p-2 text-gray-400 transition-all hover:bg-gray-100 hover:text-gray-600 active:scale-95","aria-label":"Close modal",children:o.jsx(wr,{className:"h-6 w-6"})}),!a&&n&&o.jsx("div",{className:"px-8 pt-8 pb-2 flex-shrink-0",children:o.jsx("h3",{id:"modal-title",className:"text-2xl font-bold text-gray-900",children:n})}),o.jsx("div",{className:`${a&&!n?"p-8 pb-10":"px-8 py-6 pb-10"} overflow-y-auto custom-scrollbar ${c?"scrollbar-flash":""} flex-1`,children:r}),i&&o.jsx("div",{className:"flex justify-end gap-3 border-t border-gray-200 bg-gray-50 px-8 py-5 flex-shrink-0 rounded-b-3xl",children:i})]})})})},Tge=()=>o.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),o.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),o.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z",fill:"#FBBC05"}),o.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),Age=({onForgotPassword:t,onRegister:e,onSuccess:n,onVerificationNeeded:r})=>{const[i,s]=g.useState(""),[a,l]=g.useState(""),[c,u]=g.useState(!1),[d,h]=g.useState(!1),[f,m]=g.useState(!1),[y,v]=g.useState(!1),[x,w]=g.useState(null),{login:_,signInWithGoogle:b}=Zt(),N=$n(),E=T=>{N(T==="admin"?"/admin":T==="employee"?"/employee":"/menu")},C=async T=>{if(T.preventDefault(),!i||!a){w("Please fill in all fields");return}m(!0),w(null);try{const A=await _(i,a,c);A.needsVerification&&A.userId?r(i,A.userId):n()}catch(A){w(A.message||"Failed to login")}finally{m(!1)}},j=async()=>{v(!0),w(null);try{const T=await b();n(),E(T.role)}catch(T){w(T.message||"Failed to sign in with Google")}finally{v(!1)}};return o.jsxs("div",{className:"w-full max-w-md mx-auto",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(vn,{className:"mx-auto h-16 w-16 text-coffee-600 mb-4"}),o.jsx("h2",{className:"font-display text-4xl font-bold text-gray-900",children:"Rush Coffee"})]}),o.jsxs("form",{onSubmit:C,className:"space-y-4",children:[x&&o.jsxs("div",{className:"flex items-start gap-2 rounded-lg bg-red-50 p-3 text-sm text-red-800 border border-red-200",children:[o.jsx(Un,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("span",{children:x})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),o.jsxs("div",{className:"relative",children:[o.jsx(ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"email",value:i,onChange:T=>s(T.target.value),className:"w-full pl-12 pr-4 py-3.5 bg-coffee-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-coffee-500 focus:border-coffee-500 focus:bg-white transition-all placeholder:text-gray-400",placeholder:"name@example.com"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(yh,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:d?"text":"password",value:a,onChange:T=>l(T.target.value),className:"w-full pl-12 pr-12 py-3.5 bg-coffee-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-coffee-500 focus:border-coffee-500 focus:bg-white transition-all placeholder:text-gray-400",placeholder:"Enter your password"}),o.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:d?o.jsx(mp,{className:"h-5 w-5"}):o.jsx(ml,{className:"h-5 w-5"})})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("label",{className:"flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:c,onChange:T=>u(T.target.checked),className:"w-4 h-4 rounded border-gray-300 text-coffee-600 focus:ring-coffee-500"}),o.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Remember me"})]}),o.jsx("button",{type:"button",onClick:t,className:"text-sm text-coffee-600 hover:text-coffee-700 font-medium transition-colors",children:"Forgot your password?"})]}),o.jsx("button",{type:"submit",disabled:f,className:"w-full bg-coffee-600 hover:bg-coffee-700 text-white font-semibold py-3.5 rounded-xl transition-all transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none shadow-md hover:shadow-lg",children:f?o.jsxs("span",{className:"flex items-center justify-center gap-2",children:[o.jsx(Lt,{className:"h-5 w-5 animate-spin"}),"Logging in..."]}):"Login"}),o.jsxs("div",{className:"relative my-6",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-200"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Or continue with"})})]}),o.jsxs("button",{type:"button",onClick:j,disabled:y,className:"w-full flex items-center justify-center gap-3 border-2 border-gray-200 hover:border-gray-300 hover:bg-gray-50 py-3.5 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[y?o.jsx(Lt,{className:"h-5 w-5 animate-spin"}):o.jsx(Tge,{}),o.jsx("span",{className:"font-semibold text-gray-700",children:"Google"})]}),o.jsxs("p",{className:"text-center text-sm text-gray-600 mt-6",children:["Don't have an account?"," ",o.jsx("button",{type:"button",onClick:e,className:"text-coffee-600 font-semibold hover:text-coffee-700 transition-colors",children:"Sign up"})]})]})]})},Ige=g.createContext(void 0),Cge=()=>{const t=g.useContext(Ige);return t||{executeRecaptcha:async()=>"mock-token"}},Pge=({onLogin:t,onSuccess:e,onVerificationNeeded:n})=>{const[r,i]=g.useState({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:""}),[s,a]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState(null),{register:h}=Zt(),{executeRecaptcha:f}=Cge(),m=async y=>{if(y.preventDefault(),d(null),r.password!==r.confirmPassword){d("Passwords don't match");return}c(!0);try{await f(),await h(r.email,r.password,r.firstName,r.lastName,r.phone),n(r.email)}catch(v){d(v.message||"Failed to register")}finally{c(!1)}};return o.jsxs("div",{className:"w-full max-w-2xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx(vn,{className:"mx-auto h-16 w-16 text-coffee-600 mb-4"}),o.jsx("h2",{className:"font-display text-4xl font-bold text-gray-900",children:"Join Rush Coffee"}),o.jsxs("p",{className:"mt-2 text-gray-600 flex items-center justify-center gap-1",children:["Start skipping the line today ",o.jsx("span",{children:""})]})]}),o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[u&&o.jsxs("div",{className:"flex items-start gap-2 rounded-lg bg-red-50 p-3 text-sm text-red-800 border border-red-200",children:[o.jsx(Un,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("span",{children:u})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ki,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"text",required:!0,value:r.firstName,onChange:y=>i({...r,firstName:y.target.value}),className:"w-full pl-12 pr-4 py-3.5 bg-coffee-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-coffee-500 focus:border-coffee-500 focus:bg-white transition-all placeholder:text-gray-400",placeholder:"Enter first name"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ki,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"text",required:!0,value:r.lastName,onChange:y=>i({...r,lastName:y.target.value}),className:"w-full pl-12 pr-4 py-3.5 bg-coffee-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-coffee-500 focus:border-coffee-500 focus:bg-white transition-all placeholder:text-gray-400",placeholder:"Enter last name"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),o.jsxs("div",{className:"relative",children:[o.jsx(ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"email",required:!0,value:r.email,onChange:y=>i({...r,email:y.target.value}),className:"w-full pl-12 pr-4 py-3.5 bg-coffee-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-coffee-500 focus:border-coffee-500 focus:bg-white transition-all placeholder:text-gray-400",placeholder:"name@example.com"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number (Optional)"}),o.jsxs("div",{className:"relative",children:[o.jsx(ys,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"tel",value:r.phone,onChange:y=>i({...r,phone:y.target.value}),className:"w-full pl-12 pr-4 py-3.5 bg-coffee-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-coffee-500 focus:border-coffee-500 focus:bg-white transition-all placeholder:text-gray-400",placeholder:"09xxxxxxxxx"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(yh,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:s?"text":"password",required:!0,value:r.password,onChange:y=>i({...r,password:y.target.value}),className:"w-full pl-12 pr-12 py-3.5 bg-coffee-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-coffee-500 focus:border-coffee-500 focus:bg-white transition-all placeholder:text-gray-400",placeholder:"Create a password"}),o.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:s?o.jsx(mp,{className:"h-5 w-5"}):o.jsx(ml,{className:"h-5 w-5"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(yh,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:s?"text":"password",required:!0,value:r.confirmPassword,onChange:y=>i({...r,confirmPassword:y.target.value}),className:"w-full pl-12 pr-4 py-3.5 bg-coffee-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-coffee-500 focus:border-coffee-500 focus:bg-white transition-all placeholder:text-gray-400",placeholder:"Confirm your password"})]})]}),o.jsx("button",{type:"submit",disabled:l,className:"w-full bg-coffee-600 hover:bg-coffee-700 text-white font-semibold py-3.5 rounded-xl transition-all transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none shadow-md hover:shadow-lg",children:l?o.jsxs("span",{className:"flex items-center justify-center gap-2",children:[o.jsx(Lt,{className:"h-5 w-5 animate-spin"}),"Creating account..."]}):"Create Account"}),o.jsxs("p",{className:"text-center text-sm text-gray-600 mt-6",children:["Already have an account?"," ",o.jsx("button",{type:"button",onClick:t,className:"text-coffee-600 font-semibold hover:text-coffee-700 transition-colors",children:"Login"})]})]})]})},kge=({isOpen:t,onClose:e,initialView:n="login",onVerificationNeeded:r})=>{const[i,s]=hs.useState(n);return hs.useEffect(()=>{t&&s(n)},[t,n]),o.jsx(ea,{isOpen:t,onClose:e,hideHeader:!0,size:i==="register"?"xl":"md",children:i==="login"?o.jsx(Age,{onForgotPassword:()=>{},onRegister:()=>s("register"),onSuccess:e,onVerificationNeeded:(a,l)=>r==null?void 0:r(a,l)},"login"):o.jsx(Pge,{onLogin:()=>s("login"),onSuccess:e,onVerificationNeeded:a=>r==null?void 0:r(a,"new-user-id")},"register")})},Rge=({email:t,onVerify:e,onBack:n,onResend:r})=>{const[i,s]=g.useState(["","","","","",""]),[a,l]=g.useState(!1),[c,u]=g.useState(null),[d,h]=g.useState(30),f=g.useRef([]);g.useEffect(()=>{if(d>0){const _=setTimeout(()=>h(d-1),1e3);return()=>clearTimeout(_)}},[d]);const m=(_,b)=>{var E;if(b.length>1)return;const N=[...i];N[_]=b,s(N),b&&_<5&&((E=f.current[_+1])==null||E.focus())},y=(_,b)=>{var N;b.key==="Backspace"&&!i[_]&&_>0&&((N=f.current[_-1])==null||N.focus())},v=_=>{var E;_.preventDefault();const b=_.clipboardData.getData("text").slice(0,6).split(""),N=[...i];b.forEach((C,j)=>{j<6&&(N[j]=C)}),s(N),b.length===6&&((E=f.current[5])==null||E.focus())},x=async _=>{_.preventDefault();const b=i.join("");if(b.length!==6){u("Please enter the complete 6-digit code");return}l(!0),u(null);try{await e(b)}catch(N){u(N.message||"Verification failed"),l(!1)}},w=async()=>{d>0||(await r(),h(30))};return o.jsxs("form",{onSubmit:x,className:"space-y-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(vn,{className:"mx-auto h-16 w-16 text-coffee-600 mb-4"}),o.jsx("h2",{className:"font-display text-3xl font-bold text-gray-900 mb-2",children:"Verify Your Email"}),o.jsx("p",{className:"text-gray-600 mb-2",children:"We've sent a verification code to"}),o.jsx("p",{className:"text-lg font-bold text-coffee-700",children:t})]}),o.jsx("div",{className:"flex justify-center gap-3",children:i.map((_,b)=>o.jsx("input",{ref:N=>f.current[b]=N,type:"text",maxLength:1,value:_,onChange:N=>m(b,N.target.value),onKeyDown:N=>y(b,N),onPaste:v,className:"w-12 h-14 sm:w-14 sm:h-16 text-center text-2xl font-bold bg-coffee-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-coffee-500 focus:border-coffee-500 transition-all placeholder:text-gray-300",placeholder:""},b))}),c&&o.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-red-600 bg-red-50 p-3 rounded-lg border border-red-100",children:[o.jsx(cie,{className:"h-4 w-4"}),o.jsx("span",{children:c})]}),o.jsx("button",{type:"submit",disabled:a||i.join("").length!==6,className:"w-full bg-coffee-600 hover:bg-coffee-700 text-white font-semibold py-4 rounded-xl transition-all transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none shadow-md hover:shadow-lg",children:a?o.jsxs("span",{className:"flex items-center justify-center gap-2",children:[o.jsx(Lt,{className:"h-5 w-5 animate-spin"}),"Verifying..."]}):"Verify Account"}),o.jsxs("div",{className:"flex items-center justify-between text-sm pt-2",children:[o.jsxs("button",{type:"button",onClick:n,className:"flex items-center gap-2 text-gray-500 hover:text-gray-900 font-medium transition-colors group",children:[o.jsx(HU,{className:"h-4 w-4 transition-transform group-hover:-translate-x-1"}),"Back to Login"]}),o.jsxs("button",{type:"button",onClick:w,disabled:d>0,className:`flex items-center gap-2 font-medium transition-colors ${d>0?"text-gray-400 cursor-not-allowed":"text-coffee-600 hover:text-coffee-700"}`,children:[o.jsx(uy,{className:`h-4 w-4 ${d>0?"animate-spin":""}`}),d>0?`Resend in ${d}s`:"Resend Code"]})]})]})},Oge=({isOpen:t,onClose:e,email:n,userId:r,onSuccess:i,onBackToLogin:s,onResend:a})=>{const{verifyEmailCode:l}=Zt(),c=async()=>{a?await a():(console.log("Resending code for user",r),await new Promise(d=>setTimeout(d,1e3)))},u=async d=>{if(!r)throw new Error("User ID is missing. Cannot verify.");if(await l(r,d))i();else throw new Error("Invalid verification code. Please check the console or try again.")};return o.jsx(ea,{isOpen:t,onClose:e,hideHeader:!0,size:"md",children:o.jsx(Rge,{email:n,onVerify:u,onBack:s||e,onResend:c})})},Dge=[{href:"/",label:"Home"},{href:"/about",label:"About"},{href:"/menu",label:"Menu"},{href:"/contact",label:"Contact"}],Mge=[{href:"/menu",label:"Menu"},{href:"/queue",label:"Queue"},{href:"/rewards",label:"Rewards"}],H4=[{href:"/profile",label:"My Profile",Icon:Ki},{href:"/rewards",label:"My Rewards",Icon:Jp},{href:"/about",label:"About",Icon:Cx},{href:"/contact",label:"Contact",Icon:ys}],ar=()=>{const[t,e]=g.useState(!1),[n,r]=g.useState(!1),i=g.useRef(null),[s,a]=g.useState(!1),[l,c]=g.useState("login"),[u,d]=g.useState(!1),[h,f]=g.useState(""),[m,y]=g.useState(""),{currentUser:v,logout:x}=Zt(),{totalCartItems:w,openCart:_}=lr(),b=$n(),N=Ur(),[E]=Yte(),C=N.pathname==="/auth/verify-email",j=sessionStorage.getItem("requires2FA")==="true",T=v&&!C&&!j,A=T?Mge:Dge,P=()=>e(!1),k=Z=>{c(Z),a(!0),P()};g.useEffect(()=>{const Z=E.get("auth");Z==="login"?(c("login"),a(!0)):Z==="register"&&(c("register"),a(!0))},[E]);const O=(Z,H)=>{a(!1),f(Z),y(H),d(!0)},R=()=>{d(!1),sessionStorage.removeItem("requires2FA"),(v==null?void 0:v.role)==="admin"?b("/admin"):(v==null?void 0:v.role)==="employee"?b("/employee"):b("/menu")},V=()=>{d(!1),sessionStorage.removeItem("requires2FA"),x()},M=()=>{d(!1),sessionStorage.removeItem("requires2FA"),x(),c("login"),a(!0)};g.useEffect(()=>{const Z=H=>{i.current&&!i.current.contains(H.target)&&r(!1)};return document.addEventListener("mousedown",Z),()=>document.removeEventListener("mousedown",Z)},[]),g.useEffect(()=>{const Z=()=>{window.innerWidth>=768&&e(!1)};return window.addEventListener("resize",Z),()=>window.removeEventListener("resize",Z)},[]),g.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]);const L=async()=>{await x(),P(),r(!1),b("/")},B=()=>e(!t),G=(Z=!1)=>{const H="rounded-full text-sm font-semibold transition-colors",oe="block w-full text-center py-3 text-base",xe="px-6 py-2";return T?o.jsxs("div",{className:`relative ${Z?"w-full":""}`,ref:i,children:[o.jsxs("button",{onClick:()=>r(!n),className:`flex w-full items-center justify-center gap-2 rounded-full border border-primary-600 px-4 py-2 text-sm font-semibold text-primary-600 transition-colors hover:bg-primary-50 ${Z?"text-base":""}`,"aria-haspopup":"true","aria-expanded":n,children:[o.jsxs("span",{children:["Welcome, ",v.firstName,"!"]}),o.jsx(zu,{className:`h-4 w-4 transition-transform ${n?"rotate-180":""}`})]}),n&&!Z&&o.jsx("div",{className:"absolute right-0 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none animate-fade-in-up",children:o.jsxs("div",{className:"py-1",role:"menu","aria-orientation":"vertical",children:[H4.map(re=>o.jsxs(ai,{to:re.href,onClick:()=>r(!1),className:({isActive:ve})=>`flex items-center gap-3 px-4 py-2 text-sm transition-colors hover:bg-gray-100 ${ve?"text-primary-600 font-semibold":"text-gray-700"}`,role:"menuitem",children:[o.jsx(re.Icon,{className:"h-4 w-4"}),re.label]},re.label)),(v.role==="employee"||v.role==="admin")&&o.jsxs(o.Fragment,{children:[o.jsx("hr",{className:"my-1"}),o.jsxs(ai,{to:"/employee",onClick:()=>r(!1),className:"flex items-center gap-3 px-4 py-2 text-sm font-semibold text-blue-700 transition-colors hover:bg-blue-50",role:"menuitem",children:[o.jsx(Or,{className:"h-4 w-4"}),"Employee Portal"]})]}),v.role==="admin"&&o.jsxs(ai,{to:"/admin",onClick:()=>r(!1),className:"flex items-center gap-3 px-4 py-2 text-sm font-semibold text-yellow-700 transition-colors hover:bg-yellow-50",role:"menuitem",children:[o.jsx(Or,{className:"h-4 w-4"}),"Admin Dashboard"]}),o.jsx("hr",{className:"my-1"}),o.jsxs("button",{onClick:L,className:"flex w-full items-center gap-3 px-4 py-2 text-left text-sm text-red-600 transition-colors hover:bg-red-50",role:"menuitem",children:[o.jsx(Zp,{className:"h-4 w-4"}),"Logout"]})]})})]}):o.jsxs("div",{className:`flex items-center ${Z?"flex-col space-y-3":"gap-4"}`,children:[o.jsx("button",{onClick:()=>k("login"),className:`${H} border border-primary-600 text-primary-600 hover:bg-primary-50 ${Z?oe:xe}`,children:"Login"}),o.jsx("button",{onClick:()=>k("register"),className:`${H} bg-primary-600 text-white shadow-sm hover:bg-primary-700 ${Z?oe:xe}`,children:"Sign Up"})]})},ee=()=>o.jsxs("button",{onClick:_,className:"relative rounded-full p-2 text-gray-700 transition hover:bg-gray-100","aria-label":`Open cart with ${w} items`,children:[o.jsx(vh,{className:"h-6 w-6"}),w>0&&o.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-xs font-bold text-white","aria-hidden":"true",children:w})]});return o.jsxs(o.Fragment,{children:[o.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-gray-200/80 bg-white/95 shadow-md backdrop-blur-sm",children:o.jsxs("div",{className:"container mx-auto flex h-16 items-center justify-between px-4 sm:h-20 sm:px-6 lg:px-8 md:grid md:grid-cols-3",children:[o.jsxs(ai,{to:"/",className:"flex items-center gap-2 flex-shrink-0 md:justify-self-start",children:[o.jsx(vn,{className:"h-7 w-7 text-primary-600 sm:h-8 sm:w-8"}),o.jsx("span",{className:"text-lg font-bold text-primary-600 whitespace-nowrap sm:text-2xl",children:"Rush Coffee"})]}),o.jsx("nav",{className:"hidden items-center justify-center space-x-8 md:flex md:justify-self-center",children:A.map(Z=>o.jsx(ai,{to:Z.href,className:({isActive:H})=>`relative text-sm font-normal uppercase transition-colors hover:text-primary-600 ${H?"text-primary-600":"text-gray-700"} after:absolute after:bottom-0 after:left-0 after:h-[1px] after:w-full after:origin-center after:transform after:bg-primary-600 after:transition-transform after:duration-300 ${H?"after:scale-x-100":"after:scale-x-0"} hover:after:scale-x-100`,children:Z.label},Z.label))}),o.jsxs("div",{className:"hidden items-center justify-end gap-4 md:flex md:justify-self-end",children:[G(),T&&o.jsx(ee,{})]}),o.jsxs("div",{className:"flex items-center justify-end gap-2 md:hidden",children:[T&&o.jsx(ee,{}),o.jsx("button",{onClick:B,className:"rounded-md p-2 text-gray-700 transition hover:bg-gray-100","aria-label":"Toggle menu","aria-expanded":t,children:o.jsx(Tw,{className:"h-6 w-6"})})]})]})}),o.jsxs("div",{className:`fixed inset-0 z-[60] md:hidden ${t?"pointer-events-auto":"pointer-events-none"}`,children:[o.jsx("div",{className:`absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300 ${t?"opacity-100":"opacity-0"}`,onClick:P,"aria-hidden":"true"}),o.jsxs("div",{className:`absolute top-0 right-0 h-full w-4/5 max-w-sm transform bg-white shadow-2xl transition-transform duration-300 ease-out ${t?"translate-x-0":"translate-x-full"}`,role:"dialog","aria-modal":"true","aria-labelledby":"mobile-menu-title",children:[o.jsxs("div",{className:"flex items-center justify-between border-b p-4",children:[o.jsxs(ai,{to:"/",className:"flex items-center gap-2",onClick:P,children:[o.jsx(vn,{className:"h-7 w-7 text-primary-600"}),o.jsx("span",{id:"mobile-menu-title",className:"text-xl font-bold text-primary-600",children:"Rush Coffee"})]}),o.jsx("button",{onClick:P,className:"rounded-full p-2 text-gray-500 transition hover:bg-gray-100 hover:text-gray-700","aria-label":"Close menu",children:o.jsx(wr,{className:"h-6 w-6"})})]}),o.jsxs("nav",{className:"flex flex-1 flex-col gap-2 overflow-y-auto p-4",children:[A.map(Z=>o.jsx(ai,{to:Z.href,onClick:P,className:({isActive:H})=>`rounded-xl px-4 py-3 text-lg font-medium transition-all ${H?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:Z.label},Z.label)),T&&o.jsxs("div",{className:"mt-4 border-t pt-4",children:[o.jsx("p",{className:"mb-2 px-4 text-xs font-semibold uppercase tracking-wider text-gray-400",children:"Account"}),H4.map(Z=>o.jsxs(ai,{to:Z.href,onClick:P,className:({isActive:H})=>`flex items-center gap-3 rounded-xl px-4 py-3 text-base font-medium transition-all ${H?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[o.jsx(Z.Icon,{className:"h-5 w-5"}),Z.label]},Z.label)),(v.role==="employee"||v.role==="admin")&&o.jsxs(ai,{to:"/employee",onClick:P,className:({isActive:Z})=>`flex items-center gap-3 rounded-xl px-4 py-3 text-base font-medium transition-all ${Z?"bg-blue-50 text-blue-800":"text-blue-700 hover:bg-blue-50"}`,children:[o.jsx(Or,{className:"h-5 w-5"}),"Employee Portal"]}),v.role==="admin"&&o.jsxs(ai,{to:"/admin",onClick:P,className:({isActive:Z})=>`flex items-center gap-3 rounded-xl px-4 py-3 text-base font-medium transition-all ${Z?"bg-yellow-50 text-yellow-800":"text-yellow-700 hover:bg-yellow-50"}`,children:[o.jsx(Or,{className:"h-5 w-5"}),"Admin Dashboard"]})]})]}),o.jsx("div",{className:"border-t p-4",children:T?o.jsxs("button",{onClick:L,className:"flex w-full items-center justify-center gap-2 rounded-xl bg-red-50 px-6 py-3 text-base font-semibold text-red-600 transition-colors hover:bg-red-100",children:[o.jsx(Zp,{className:"h-5 w-5"}),"Logout"]}):G(!0)})]})]}),o.jsx(kge,{isOpen:s,onClose:()=>a(!1),initialView:l,onVerificationNeeded:O}),o.jsx(Oge,{isOpen:u,onClose:V,email:h,userId:m,onSuccess:R,onBackToLogin:M})]})},or=()=>o.jsxs("footer",{className:"relative bg-coffee-900 text-coffee-200",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-5"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),o.jsxs("div",{className:"container relative z-10 mx-auto grid grid-cols-2 gap-8 px-6 py-12 md:grid-cols-2 lg:grid-cols-4",children:[o.jsxs("div",{className:"col-span-2 space-y-4 md:col-span-1 lg:col-span-1",children:[o.jsxs(ft,{to:"/",className:"flex items-center gap-2",children:[o.jsx(vn,{className:"h-8 w-8 text-primary-500"}),o.jsx("span",{className:"font-display text-2xl font-bold text-white",children:"Rush Coffee"})]}),o.jsx("p",{className:"font-medium text-white",children:"Premium coffee, no waiting."}),o.jsx("p",{className:"text-sm leading-relaxed text-coffee-200/80",children:"Join the digital queue and get your coffee fix faster than ever. Experience the future of coffee ordering."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"mb-6 font-display text-lg font-bold text-white",children:"Quick Links"}),o.jsxs("ul",{className:"space-y-3",children:[o.jsx("li",{children:o.jsx(ft,{to:"/",className:"transition-colors hover:text-primary-400 hover:underline",children:"Home"})}),o.jsx("li",{children:o.jsx(ft,{to:"/about",className:"transition-colors hover:text-primary-400 hover:underline",children:"About Us"})}),o.jsx("li",{children:o.jsx(ft,{to:"/menu",className:"transition-colors hover:text-primary-400 hover:underline",children:"Menu"})}),o.jsx("li",{children:o.jsx(ft,{to:"/faq",className:"transition-colors hover:text-primary-400 hover:underline",children:"FAQ"})}),o.jsx("li",{children:o.jsx(ft,{to:"/contact",className:"transition-colors hover:text-primary-400 hover:underline",children:"Contact"})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"mb-6 font-display text-lg font-bold text-white",children:"Legal"}),o.jsxs("ul",{className:"space-y-3",children:[o.jsx("li",{children:o.jsx(ft,{to:"/terms",className:"transition-colors hover:text-primary-400 hover:underline",children:"Terms of Service"})}),o.jsx("li",{children:o.jsx(ft,{to:"/privacy",className:"transition-colors hover:text-primary-400 hover:underline",children:"Privacy Policy"})}),o.jsx("li",{children:o.jsx(ft,{to:"/cookies",className:"transition-colors hover:text-primary-400 hover:underline",children:"Cookie Policy"})})]})]}),o.jsxs("div",{className:"col-span-2 md:col-span-1 lg:col-span-1",children:[o.jsx("h3",{className:"mb-6 font-display text-lg font-bold text-white",children:"Contact & Connect"}),o.jsx("address",{className:"not-italic",children:o.jsxs("ul",{className:"space-y-4",children:[o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx(XT,{className:"mt-1 h-5 w-5 flex-shrink-0 text-primary-500"}),o.jsx("span",{children:"11 Visayan Ave. St. Galas, Quezon City, Philippines"})]}),o.jsxs("li",{className:"flex items-center gap-3",children:[o.jsx(ys,{className:"h-5 w-5 flex-shrink-0 text-primary-500"}),o.jsx("a",{href:"tel:09304641022",className:"transition-colors hover:text-white",children:"0930 464 1022"})]}),o.jsxs("li",{className:"flex items-center gap-3",children:[o.jsx(ir,{className:"h-5 w-5 flex-shrink-0 text-primary-500"}),o.jsx("a",{href:"mailto:hello@rushcoffee.ph",className:"transition-colors hover:text-white",children:"hello@rushcoffee.ph"})]})]})}),o.jsxs("div",{className:"mt-8 flex gap-4",children:[o.jsx("a",{href:"https://www.facebook.com/profile.php?id=61551613276320",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",className:"rounded-full bg-white/5 p-2 transition-colors hover:bg-primary-600 hover:text-white",children:o.jsx(YU,{className:"h-5 w-5"})}),o.jsx("a",{href:"https://www.instagram.com/Rush_Coffee2023/",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",className:"rounded-full bg-white/5 p-2 transition-colors hover:bg-primary-600 hover:text-white",children:o.jsx(XU,{className:"h-5 w-5"})})]})]})]}),o.jsx("div",{className:"relative z-10 border-t border-white/10 bg-black/20",children:o.jsxs("div",{className:"container mx-auto flex flex-col items-center justify-between gap-4 px-6 py-6 text-center text-sm text-coffee-300 sm:flex-row",children:[o.jsx("p",{children:" 2023 Rush Coffee. All rights reserved."}),o.jsxs("p",{className:"flex items-center gap-1",children:["Made with ",o.jsx("span",{className:"text-red-500",children:""})," and ",o.jsx("span",{className:"text-amber-500",children:""})]})]})})]}),Lge=[{Icon:ca,title:"Live Queue Updates",description:"Track your position in real-time and know exactly when your coffee will be ready. No more waiting around!",iconBgColor:"bg-primary-100",iconTextColor:"text-primary-600"},{Icon:vn,title:"Order Ahead",description:"Browse our menu, customize your drink, and order from anywhere. Your coffee, your way.",iconBgColor:"bg-coffee-100",iconTextColor:"text-coffee-800"},{Icon:Jp,title:"Loyalty Rewards",description:"Earn points with every purchase and redeem for free drinks and exclusive perks.",iconBgColor:"bg-green-100",iconTextColor:"text-green-600"},{Icon:n8,title:"Multiple Payment Options",description:"Pay with GCash or cash on pickupwhatever works best for you.",iconBgColor:"bg-blue-100",iconTextColor:"text-blue-600"}],Vge=[{number:1,Icon:Tw,title:"Browse & Customize",description:"Explore our menu of premium coffee drinks and customize your order exactly how you like it.",hasAnimation:!0},{number:2,Icon:Da,title:"Join Virtual Queue",description:"Place your order and automatically join the queue. Get your position and estimated wait time instantly."},{number:3,Icon:mf,title:"Pickup & Enjoy",description:"Receive real-time notifications. When ready, breeze past the line and grab your coffee.",isPulsing:!0}],zge=[{quote:"Rush Coffee changed my morning routine! No more waiting in long lines. I order on my way and pick up when it's ready. Absolutely love it!",name:"Sarah M.",title:"Regular Customer",initial:"S",avatarBg:"bg-primary-100",avatarText:"text-primary-600"},{quote:"The queue system is genius. I can track exactly when my coffee will be ready. Plus, earning rewards with every purchase is a nice bonus!",name:"Miguel R.",title:"Gold Member",initial:"M",avatarBg:"bg-blue-100",avatarText:"text-blue-600"},{quote:"Best coffee experience in Manila. Fast, convenient, and the coffee is always perfect. The mobile app makes everything so easy!",name:"Ana L.",title:"VIP Member",initial:"A",avatarBg:"bg-green-100",avatarText:"text-green-600"}],Uge=()=>{const{currentUser:t}=Zt(),e=t?"/menu":"/auth/register",[n,r]=g.useState(zge);return g.useEffect(()=>{(async()=>{try{const s=js(bg(he,"feedback"),t7("status","==","reviewed")),a=await vI(s);if(!a.empty){const c=a.docs.map(u=>u.data()).filter(u=>u.rating>=4).sort((u,d)=>d.rating-u.rating).slice(0,3);if(c.length>0){const u=await Promise.all(c.map(async d=>{let h="Rush Customer",f="R";if(d.userId)try{const v=await l7(wg(he,"users",d.userId));if(v.exists()){const x=v.data();h=`${x.firstName} ${x.lastName.charAt(0)}.`,f=x.firstName.charAt(0)}}catch(v){console.error("Error fetching user for review",v)}const m=[{bg:"bg-primary-100",text:"text-primary-600"},{bg:"bg-blue-100",text:"text-blue-600"},{bg:"bg-green-100",text:"text-green-600"},{bg:"bg-yellow-100",text:"text-yellow-600"},{bg:"bg-purple-100",text:"text-purple-600"}],y=m[Math.floor(Math.random()*m.length)];return{quote:d.comment,name:h,title:"Verified Customer",initial:f,avatarBg:y.bg,avatarText:y.text,rating:d.rating}}));r(u)}}}catch(s){console.error("Error fetching reviews:",s)}})()},[]),o.jsxs("div",{className:"bg-white",children:[o.jsx(ar,{}),o.jsxs("main",{children:[o.jsxs("section",{className:"relative flex min-h-[calc(100vh-5rem)] items-center overflow-hidden bg-gray-900",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1497935586351-b67a49e012bf?q=80&w=2071&auto=format&fit=crop",alt:"Coffee Shop Atmosphere",className:"h-full w-full object-cover opacity-40"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900 via-gray-900/80 to-transparent"})]}),o.jsx("div",{className:"container relative z-10 mx-auto max-w-7xl px-6 py-20",children:o.jsxs("div",{className:"grid grid-cols-1 items-center gap-12 lg:grid-cols-2",children:[o.jsxs("div",{className:"animate-fade-in-up text-center lg:text-left",children:[o.jsx("p",{className:"mb-4 font-medium text-primary-400",style:{animationDelay:"100ms",opacity:0},children:" Welcome to Rush Coffee"}),o.jsxs("h1",{className:"font-display text-5xl font-bold text-white md:text-6xl lg:text-7xl",children:[o.jsx("span",{className:"block",style:{animation:"fade-in-up 0.8s ease-out 200ms forwards",opacity:0},children:"Skip the Line,"}),o.jsx("span",{className:"block text-primary-400",style:{animation:"fade-in-up 0.8s ease-out 300ms forwards",opacity:0},children:"Get Your Coffee"}),o.jsx("span",{className:"block",style:{animation:"fade-in-up 0.8s ease-out 400ms forwards",opacity:0},children:"Faster."})]}),o.jsx("p",{className:"mx-auto mt-6 max-w-2xl text-lg text-gray-300 md:text-xl lg:mx-0",style:{animation:"fade-in-up 0.8s ease-out 500ms forwards",opacity:0},children:"Join our digital queue system. Order ahead, track your position in real-time, and breeze through pickup. Your perfect cup awaitswithout the wait."}),o.jsxs("div",{className:"mt-8 flex flex-wrap justify-center gap-2 lg:justify-start",style:{animation:"fade-in-up 0.8s ease-out 600ms forwards",opacity:0},children:[o.jsx(tr,{className:"bg-primary-900/50 text-white border border-primary-700",children:" Real-Time Queue"}),o.jsx(tr,{className:"bg-primary-900/50 text-white border border-primary-700",children:" Mobile Ordering"}),o.jsx(tr,{className:"bg-primary-900/50 text-white border border-primary-700",children:" Rewards Program"})]}),o.jsx("div",{className:"mt-8 flex flex-col items-center gap-4 sm:flex-row sm:justify-center lg:justify-start",style:{animation:"fade-in-up 0.8s ease-out 700ms forwards",opacity:0},children:o.jsxs(ft,{to:e,className:"flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-8 py-4 text-lg font-semibold text-white shadow-lg transition-transform hover:scale-105 hover:bg-primary-700 sm:w-auto",children:[o.jsx(vn,{className:"h-5 w-5"}),"Order Now"]})}),o.jsx("p",{className:"mt-6 text-sm text-gray-400",style:{animation:"fade-in-up 0.8s ease-out 800ms forwards",opacity:0},children:"Join 4,000+ happy customers "})]}),o.jsxs("div",{className:"relative hidden h-96 lg:flex lg:items-center lg:justify-center",children:[o.jsx("div",{className:"absolute h-80 w-80 animate-float rounded-full bg-primary-500/20 blur-3xl"}),o.jsx("div",{className:"absolute bottom-0 right-0 h-64 w-64 animate-float-delay rounded-full bg-coffee-500/20 blur-2xl"}),o.jsx("div",{className:"relative animate-fade-in-up",style:{animationDelay:"500ms",opacity:0},children:o.jsx(vn,{className:"h-auto w-[250px] animate-float drop-shadow-2xl text-white lg:w-[350px]"})})]})]})})]}),o.jsx("section",{id:"features",className:"bg-white px-6 py-20",children:o.jsxs("div",{className:"container mx-auto max-w-7xl",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"mb-2 font-medium text-primary-600",children:"Why Rush Coffee?"}),o.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900 md:text-4xl",children:"Everything You Need for a Seamless Coffee Experience"}),o.jsx("p",{className:"mx-auto mb-12 max-w-2xl text-sm text-gray-600 md:text-base",children:"From ordering to pickup, we've got you covered."})]}),o.jsx("div",{className:"grid grid-cols-2 gap-3 md:gap-4 md:grid-cols-2 lg:grid-cols-4",children:Lge.map((i,s)=>o.jsxs(be,{hover:!0,padding:"none",className:"text-center p-4 md:p-6",children:[o.jsx("div",{className:`mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-xl md:mb-4 md:h-16 md:w-16 ${i.iconBgColor}`,children:o.jsx(i.Icon,{className:`h-6 w-6 md:h-8 md:w-8 ${i.iconTextColor}`})}),o.jsx("h3",{className:"mb-1 font-display text-sm font-bold text-coffee-900 md:mb-2 md:text-xl md:font-semibold",children:i.title}),o.jsx("p",{className:"text-xs leading-snug text-gray-600 md:text-sm md:leading-relaxed",children:i.description})]},s))})]})}),o.jsx("section",{id:"how-it-works",className:"bg-gradient-to-b from-coffee-50 to-white px-6 py-12 md:py-20",children:o.jsxs("div",{className:"container mx-auto max-w-7xl",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"mb-2 font-medium text-primary-600",children:"Simple Process"}),o.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900 md:text-4xl",children:"How Rush Coffee Works"}),o.jsx("p",{className:"mx-auto mb-10 max-w-2xl text-sm text-gray-600 md:mb-16 md:text-base",children:"Get your perfect cup in three easy steps."})]}),o.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:Vge.map((i,s)=>o.jsxs("div",{className:`relative w-full text-center ${s===2?"md:col-span-2 lg:col-span-1 md:w-[calc(50%-0.5rem)] md:mx-auto lg:w-full":""}`,children:[o.jsx("div",{className:"absolute -top-3 left-1/2 z-10 flex h-10 w-10 -translate-x-1/2 items-center justify-center rounded-full bg-primary-600 font-display text-lg font-bold text-white shadow-lg md:-top-4 md:h-12 md:w-12 md:text-xl",children:i.number}),o.jsxs(be,{className:"pt-8 h-full",padding:"sm",children:[o.jsxs("div",{className:"relative mx-auto flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-primary-100 to-coffee-100 p-3 md:h-20 md:w-20 md:p-4",children:[i.hasAnimation&&o.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-2xl",children:[o.jsx("div",{className:"absolute left-1/2 top-2 h-4 w-px -translate-x-1/2 animate-steam-1 rounded-full bg-primary-300/80"}),o.jsx("div",{className:"absolute left-1/3 top-2 h-5 w-px animate-steam-2 rounded-full bg-primary-300/80"}),o.jsx("div",{className:"absolute left-2/3 top-2 h-3 w-px animate-steam-1 rounded-full bg-primary-300/80"})]}),o.jsx(i.Icon,{className:`h-8 w-8 text-primary-600 md:h-10 md:w-10 ${i.isPulsing?"animate-pulse-slow":""}`})]}),o.jsx("h3",{className:"mb-2 mt-3 font-display text-lg font-semibold text-coffee-900 md:mt-4 md:text-xl",children:i.title}),o.jsx("p",{className:"text-xs text-gray-600 md:text-sm",children:i.description})]})]},i.number))})]})}),o.jsx("section",{id:"testimonials",className:"bg-white py-12 px-6 md:py-20",children:o.jsxs("div",{className:"container mx-auto max-w-7xl",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"mb-2 font-medium text-primary-600",children:"Customer Love"}),o.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900 md:text-4xl",children:"What Our Customers Say"}),o.jsx("p",{className:"mx-auto mb-10 max-w-2xl text-sm text-gray-600 md:mb-12 md:text-base",children:"Join thousands of satisfied coffee lovers."})]}),o.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:n.map((i,s)=>o.jsxs(be,{hover:!0,padding:"sm",className:`flex flex-col border-l-4 border-primary-400 transition-transform duration-300 hover:scale-105 ${s===2?"md:col-span-2 lg:col-span-1 md:w-[calc(50%-0.5rem)] md:mx-auto lg:w-full":""}`,children:[o.jsx(Xre,{className:"h-6 w-6 text-primary-200 md:h-8 md:w-8"}),o.jsx("div",{className:"my-3 text-sm text-yellow-400 md:my-4 md:text-base",children:"".repeat(Math.round(i.rating||5))}),o.jsxs("p",{className:"flex-grow font-sans italic text-sm text-gray-700 md:text-base",children:['"',i.quote,'"']}),o.jsxs("div",{className:"mt-4 flex items-center gap-3 md:gap-4",children:[o.jsx("div",{className:`flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full font-bold text-sm md:h-12 md:w-12 md:text-base ${i.avatarBg} ${i.avatarText}`,children:i.initial}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-coffee-900 md:text-base",children:i.name}),o.jsx(tr,{className:"bg-gray-100 text-gray-600 text-[10px] px-1.5 py-0.5 md:text-xs md:px-2",children:i.title})]})]})]},s))})]})}),o.jsxs("section",{className:"relative overflow-hidden bg-coffee-900 px-6 py-24 text-center text-white",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?q=80&w=2070&auto=format&fit=crop",alt:"Coffee shop atmosphere",className:"h-full w-full object-cover opacity-20"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-coffee-900/90 via-coffee-800/90 to-coffee-900/90"})]}),o.jsx("div",{className:"absolute -left-1/4 -top-1/4 opacity-5",children:o.jsx(vn,{className:"h-96 w-96 animate-float text-white"})}),o.jsx("div",{className:"absolute -bottom-1/4 -right-1/4 opacity-5",children:o.jsx(vn,{className:"h-[30rem] w-[30rem] animate-float-delay text-white"})}),o.jsxs("div",{className:"relative z-10 mx-auto max-w-3xl",children:[o.jsxs("div",{className:"relative mx-auto mb-6 inline-block",children:[o.jsx("span",{className:"text-6xl",role:"img","aria-label":"Coffee cup",children:""}),o.jsxs("div",{className:"absolute -top-4 left-0 right-0 h-12",children:[o.jsx("div",{className:"absolute left-1/2 h-6 w-px -translate-x-1/2 animate-steam-1 rounded-full bg-white/50"}),o.jsx("div",{className:"absolute left-1/3 h-8 w-px animate-steam-2 rounded-full bg-white/50"}),o.jsx("div",{className:"absolute left-2/3 h-5 w-px animate-steam-1 rounded-full bg-white/50"})]})]}),o.jsx("h2",{className:"font-display text-4xl font-bold md:text-5xl lg:text-6xl",children:"Ready to Rush Through Your Day?"}),o.jsx("p",{className:"mx-auto mb-8 mt-6 max-w-2xl text-xl text-gray-300",children:"Join 4,000+ customers who've already skipped the line. Experience the future of coffee ordering."}),o.jsxs("div",{className:"mb-10 flex flex-wrap justify-center gap-3",children:[o.jsx("span",{className:"rounded-full bg-white/10 px-4 py-1.5 text-sm font-medium text-white backdrop-blur-sm border border-white/10",children:"5,000+ Orders Completed"}),o.jsx("span",{className:"rounded-full bg-white/10 px-4 py-1.5 text-sm font-medium text-white backdrop-blur-sm border border-white/10",children:"4.9 Average Rating"}),o.jsx("span",{className:"rounded-full bg-white/10 px-4 py-1.5 text-sm font-medium text-white backdrop-blur-sm border border-white/10",children:"< 5 min Average Wait"})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 sm:flex-row",children:[o.jsxs(ft,{to:e,className:"group inline-flex items-center justify-center gap-2 rounded-full bg-primary-600 px-8 py-4 text-lg font-semibold text-white shadow-lg transition-all hover:bg-primary-500 hover:shadow-primary-600/30 hover:-translate-y-1",children:["Start Ordering Now",o.jsx(El,{className:"h-5 w-5 transition-transform group-hover:translate-x-1"})]}),o.jsx(ft,{to:"/menu",className:"inline-flex items-center justify-center gap-2 rounded-full border border-white/20 bg-white/5 px-8 py-4 text-lg font-semibold text-white backdrop-blur-sm transition-all hover:bg-white/10 hover:-translate-y-1",children:"View Menu"})]}),o.jsxs("p",{className:"mt-8 text-sm text-gray-400",children:["Already have an account?"," ",o.jsx(ft,{to:"/auth/login",className:"font-medium text-primary-400 hover:text-primary-300 hover:underline",children:"Log in here"})]})]})]})]}),o.jsx(or,{})]})},Fge=()=>{const t=$n();return g.useEffect(()=>{t("/?auth=login",{replace:!0})},[t]),null},Bge=()=>{const t=$n();return g.useEffect(()=>{t("/?auth=register",{replace:!0})},[t]),null},fi=g.forwardRef(({className:t,type:e,label:n,error:r,helperText:i,success:s,startIcon:a,endIcon:l,containerClassName:c,id:u,inputSize:d="md",...h},f)=>{const m={sm:"px-3 py-2 text-sm",md:"px-4 py-3.5 text-sm",lg:"px-5 py-4 text-base"};return o.jsxs("div",{className:`w-full ${c||""}`,children:[n&&o.jsx("label",{htmlFor:u,className:"mb-1.5 block text-sm font-medium text-coffee-900",children:n}),o.jsxs("div",{className:"relative group",children:[a&&o.jsx("div",{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 transition-colors group-focus-within:text-primary-600",children:a}),o.jsx("input",{id:u,type:e,className:`
              w-full rounded-xl border bg-white text-gray-900 
              placeholder:text-gray-500 placeholder:font-medium transition-all duration-200 ease-in-out
              focus:border-primary-500 focus:outline-none focus:ring-4 focus:ring-primary-500/10
              disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500
              ${a?"pl-10":""}
              ${l?"pr-10":""}
              ${m[d]}
              ${r?"border-red-300 focus:border-red-500 focus:ring-red-500/10":s?"border-green-300 focus:border-green-500 focus:ring-green-500/10":"border-gray-500 shadow-sm hover:border-primary-400"}
              ${t||""}
            `,ref:f,...h}),l&&o.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:l})]}),r&&o.jsx("p",{className:"mt-1.5 text-xs font-medium text-red-600 animate-fade-in-up",children:r}),!r&&s&&o.jsx("p",{className:"mt-1.5 text-xs font-medium text-green-600 animate-fade-in-up",children:s}),!r&&!s&&i&&o.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:i})]})});fi.displayName="Input";const $ge=()=>{const[t,e]=g.useState(""),[n,r]=g.useState(null),[i,s]=g.useState(null),[a,l]=g.useState(!1),{sendPasswordReset:c}=Zt(),u=async d=>{if(d.preventDefault(),r(null),s(null),t){if(!/\S+@\S+\.\S+/.test(t)){r("Please enter a valid email address");return}}else{r("Email is required");return}l(!0);try{await c(t),s("Password reset link sent to your email. Please check your inbox.")}catch(h){let f="An unexpected error occurred. Please try again.";(h.code==="auth/user-not-found"||h.code==="auth/invalid-email")&&(f="No user found with this email address."),r(f)}finally{l(!1)}};return o.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-primary-50 via-coffee-50 to-white",children:[o.jsx(ar,{}),o.jsx("main",{className:"flex flex-1 items-center justify-center px-4 py-12 sm:px-6 lg:px-8",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsxs(be,{className:"rounded-2xl p-8 shadow-xl",children:[o.jsxs("div",{className:"mb-6 text-center",children:[o.jsx(vn,{className:"mx-auto h-12 w-12 text-primary-600"}),o.jsx("h2",{className:"mt-4 font-display text-3xl font-bold text-coffee-900",children:"Reset Password"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Enter your email to receive a reset link."})]}),n&&o.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded-lg bg-red-50 p-3 text-sm text-red-700",role:"alert",children:[o.jsx(Un,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("span",{children:n})]}),i&&o.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded-lg bg-green-50 p-3 text-sm text-green-700",role:"alert",children:[o.jsx(fl,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("span",{children:i})]}),o.jsxs("form",{onSubmit:u,noValidate:!0,className:"space-y-6",children:[o.jsx(fi,{id:"email",name:"email",type:"email",label:"Email address",autoComplete:"email",required:!0,value:t,onChange:d=>e(d.target.value),placeholder:"Email address",startIcon:o.jsx(ir,{className:"h-5 w-5"})}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:a,className:"flex w-full justify-center rounded-full bg-primary-600 px-4 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-primary-400",children:a?o.jsx(Lt,{className:"h-6 w-6 animate-spin"}):"Send Reset Link"})})]}),o.jsxs("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Remember your password?"," ",o.jsx(ft,{to:"/auth/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Back to Login"})]})]})})}),o.jsx(or,{})]})},YI=g.createContext({});function QI(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}const g1=g.createContext(null),XI=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class qge extends g.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Hge({children:t,isPresent:e}){const n=g.useId(),r=g.useRef(null),i=g.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=g.useContext(XI);return g.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:u}=i.current;if(e||!r.current||!a||!l)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),o.jsx(qge,{isPresent:e,childRef:r,sizeRef:i,children:g.cloneElement(t,{ref:r})})}const Gge=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a})=>{const l=QI(Wge),c=g.useId(),u=g.useCallback(h=>{l.set(h,!0);for(const f of l.values())if(!f)return;r&&r()},[l,r]),d=g.useMemo(()=>({id:c,initial:e,isPresent:n,custom:i,onExitComplete:u,register:h=>(l.set(h,!1),()=>l.delete(h))}),s?[Math.random(),u]:[n,u]);return g.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[n]),g.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),a==="popLayout"&&(t=o.jsx(Hge,{isPresent:n,children:t})),o.jsx(g1.Provider,{value:d,children:t})};function Wge(){return new Map}function U$(t=!0){const e=g.useContext(g1);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=g.useId();g.useEffect(()=>{t&&i(s)},[t]);const a=g.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const q0=t=>t.key||"";function G4(t){const e=[];return g.Children.forEach(t,n=>{g.isValidElement(n)&&e.push(n)}),e}const JI=typeof window<"u",F$=JI?g.useLayoutEffect:g.useEffect,ba=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1})=>{const[l,c]=U$(a),u=g.useMemo(()=>G4(t),[t]),d=a&&!l?[]:u.map(q0),h=g.useRef(!0),f=g.useRef(u),m=QI(()=>new Map),[y,v]=g.useState(u),[x,w]=g.useState(u);F$(()=>{h.current=!1,f.current=u;for(let N=0;N<x.length;N++){const E=q0(x[N]);d.includes(E)?m.delete(E):m.get(E)!==!0&&m.set(E,!1)}},[x,d.length,d.join("-")]);const _=[];if(u!==y){let N=[...u];for(let E=0;E<x.length;E++){const C=x[E],j=q0(C);d.includes(j)||(N.splice(E,0,C),_.push(C))}s==="wait"&&_.length&&(N=_),w(G4(N)),v(u);return}const{forceRender:b}=g.useContext(YI);return o.jsx(o.Fragment,{children:x.map(N=>{const E=q0(N),C=a&&!l?!1:u===x||d.includes(E),j=()=>{if(m.has(E))m.set(E,!0);else return;let T=!0;m.forEach(A=>{A||(T=!1)}),T&&(b==null||b(),w(f.current),a&&(c==null||c()),r&&r())};return o.jsx(Gge,{isPresent:C,initial:!h.current||n?void 0:!1,custom:C?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:C?void 0:j,children:N},E)})})},Ni=t=>t;let B$=Ni;function ZI(t){let e;return()=>(e===void 0&&(e=t()),e)}const Bh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Va=t=>t*1e3,za=t=>t/1e3,Kge={useManualTiming:!1};function Yge(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(u){s.has(u)&&(c.schedule(u),t()),u(a)}const c={schedule:(u,d=!1,h=!1)=>{const m=h&&r?e:n;return d&&s.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(a=u,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(l),e.clear(),r=!1,i&&(i=!1,c.process(u))}};return c}const H0=["read","resolveKeyframes","update","preRender","render","postRender"],Qge=40;function $$(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=H0.reduce((w,_)=>(w[_]=Yge(s),w),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:f}=a,m=()=>{const w=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,Qge),1),i.timestamp=w,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))},y=()=>{n=!0,r=!0,i.isProcessing||t(m)};return{schedule:H0.reduce((w,_)=>{const b=a[_];return w[_]=(N,E=!1,C=!1)=>(n||y(),b.schedule(N,E,C)),w},{}),cancel:w=>{for(let _=0;_<H0.length;_++)a[H0[_]].cancel(w)},state:i,steps:a}}const{schedule:Et,cancel:Ll,state:Kn,steps:ZN}=$$(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ni,!0),q$=g.createContext({strict:!1}),W4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$h={};for(const t in W4)$h[t]={isEnabled:e=>W4[t].some(n=>!!e[n])};function Xge(t){for(const e in t)$h[e]={...$h[e],...t[e]}}const Jge=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Jge.has(t)}let H$=t=>!rb(t);function Zge(t){t&&(H$=e=>e.startsWith("on")?!rb(e):t(e))}try{Zge(require("@emotion/is-prop-valid").default)}catch{}function eye(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(H$(i)||n===!0&&rb(i)||!e&&!rb(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function tye(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const y1=g.createContext({});function Ig(t){return typeof t=="string"||Array.isArray(t)}function v1(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const eC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tC=["initial",...eC];function x1(t){return v1(t.animate)||tC.some(e=>Ig(t[e]))}function G$(t){return!!(x1(t)||t.variants)}function nye(t,e){if(x1(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ig(n)?n:void 0,animate:Ig(r)?r:void 0}}return t.inherit!==!1?e:{}}function rye(t){const{initial:e,animate:n}=nye(t,g.useContext(y1));return g.useMemo(()=>({initial:e,animate:n}),[K4(e),K4(n)])}function K4(t){return Array.isArray(t)?t.join(" "):t}const iye=Symbol.for("motionComponentSymbol");function Dd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function sye(t,e,n){return g.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Dd(n)&&(n.current=r))},[e])}const nC=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),aye="framerAppearId",W$="data-"+nC(aye),{schedule:rC}=$$(queueMicrotask,!1),K$=g.createContext({});function oye(t,e,n,r,i){var s,a;const{visualElement:l}=g.useContext(y1),c=g.useContext(q$),u=g.useContext(g1),d=g.useContext(XI).reducedMotion,h=g.useRef(null);r=r||c.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,m=g.useContext(K$);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&lye(h.current,n,i,m);const y=g.useRef(!1);g.useInsertionEffect(()=>{f&&y.current&&f.update(n,u)});const v=n[W$],x=g.useRef(!!v&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,v))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,v)));return F$(()=>{f&&(y.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),rC.render(f.render),x.current&&f.animationState&&f.animationState.animateChanges())}),g.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,v)}),x.current=!1))}),f}function lye(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Y$(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||l&&Dd(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function Y$(t){if(t)return t.options.allowProjection!==!1?t.projection:Y$(t.parent)}function cye({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,a;t&&Xge(t);function l(u,d){let h;const f={...g.useContext(XI),...u,layoutId:uye(u)},{isStatic:m}=f,y=rye(u),v=r(u,m);if(!m&&JI){dye();const x=hye(f);h=x.MeasureLayout,y.visualElement=oye(i,v,f,e,x.ProjectionNode)}return o.jsxs(y1.Provider,{value:y,children:[h&&y.visualElement?o.jsx(h,{visualElement:y.visualElement,...f}):null,n(i,u,sye(v,y.visualElement,d),v,m,y.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(a=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&a!==void 0?a:""})`}`;const c=g.forwardRef(l);return c[iye]=i,c}function uye({layoutId:t}){const e=g.useContext(YI).id;return e&&t!==void 0?e+"-"+t:t}function dye(t,e){g.useContext(q$).strict}function hye(t){const{drag:e,layout:n}=$h;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const fye=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iC(t){return typeof t!="string"||t.includes("-")?!1:!!(fye.indexOf(t)>-1||/[A-Z]/u.test(t))}function Y4(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function sC(t,e,n,r){if(typeof e=="function"){const[i,s]=Y4(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=Y4(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const AE=t=>Array.isArray(t),mye=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),pye=t=>AE(t)?t[t.length-1]||0:t,yr=t=>!!(t&&t.getVelocity);function qv(t){const e=yr(t)?t.get():t;return mye(e)?e.toValue():e}function gye({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const a={latestValues:yye(r,i,s,t),renderState:e()};return n&&(a.onMount=l=>n({props:r,current:l,...a}),a.onUpdate=l=>n(l)),a}const Q$=t=>(e,n)=>{const r=g.useContext(y1),i=g.useContext(g1),s=()=>gye(t,e,r,i);return n?s():QI(s)};function yye(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=qv(s[f]);let{initial:a,animate:l}=t;const c=x1(t),u=G$(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?l:a;if(h&&typeof h!="boolean"&&!v1(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const y=sC(t,f[m]);if(y){const{transitionEnd:v,transition:x,...w}=y;for(const _ in w){let b=w[_];if(Array.isArray(b)){const N=d?b.length-1:0;b=b[N]}b!==null&&(i[_]=b)}for(const _ in v)i[_]=v[_]}}}return i}const Cf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wu=new Set(Cf),X$=t=>e=>typeof e=="string"&&e.startsWith(t),J$=X$("--"),vye=X$("var(--"),aC=t=>vye(t)?xye.test(t.split("/*")[0].trim()):!1,xye=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Z$=(t,e)=>e&&typeof t=="number"?e.transform(t):t,to=(t,e,n)=>n>e?e:n<t?t:n,Pf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Cg={...Pf,transform:t=>to(0,1,t)},G0={...Pf,default:1},Ry=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),zo=Ry("deg"),Ks=Ry("%"),_e=Ry("px"),bye=Ry("vh"),wye=Ry("vw"),Q4={...Ks,parse:t=>Ks.parse(t)/100,transform:t=>Ks.transform(t*100)},_ye={borderWidth:_e,borderTopWidth:_e,borderRightWidth:_e,borderBottomWidth:_e,borderLeftWidth:_e,borderRadius:_e,radius:_e,borderTopLeftRadius:_e,borderTopRightRadius:_e,borderBottomRightRadius:_e,borderBottomLeftRadius:_e,width:_e,maxWidth:_e,height:_e,maxHeight:_e,top:_e,right:_e,bottom:_e,left:_e,padding:_e,paddingTop:_e,paddingRight:_e,paddingBottom:_e,paddingLeft:_e,margin:_e,marginTop:_e,marginRight:_e,marginBottom:_e,marginLeft:_e,backgroundPositionX:_e,backgroundPositionY:_e},Nye={rotate:zo,rotateX:zo,rotateY:zo,rotateZ:zo,scale:G0,scaleX:G0,scaleY:G0,scaleZ:G0,skew:zo,skewX:zo,skewY:zo,distance:_e,translateX:_e,translateY:_e,translateZ:_e,x:_e,y:_e,z:_e,perspective:_e,transformPerspective:_e,opacity:Cg,originX:Q4,originY:Q4,originZ:_e},X4={...Pf,transform:Math.round},oC={..._ye,...Nye,zIndex:X4,size:_e,fillOpacity:Cg,strokeOpacity:Cg,numOctaves:X4},Sye={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Eye=Cf.length;function jye(t,e,n){let r="",i=!0;for(let s=0;s<Eye;s++){const a=Cf[s],l=t[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=Z$(l,oC[a]);if(!c){i=!1;const d=Sye[a]||a;r+=`${d}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function lC(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,l=!1;for(const c in e){const u=e[c];if(Wu.has(c)){a=!0;continue}else if(J$(c)){i[c]=u;continue}else{const d=Z$(u,oC[c]);c.startsWith("origin")?(l=!0,s[c]=d):r[c]=d}}if(e.transform||(a||n?r.transform=jye(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${c} ${u} ${d}`}}const Tye={offset:"stroke-dashoffset",array:"stroke-dasharray"},Aye={offset:"strokeDashoffset",array:"strokeDasharray"};function Iye(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Tye:Aye;t[s.offset]=_e.transform(-r);const a=_e.transform(e),l=_e.transform(n);t[s.array]=`${a} ${l}`}function J4(t,e,n){return typeof t=="string"?t:_e.transform(e+n*t)}function Cye(t,e,n){const r=J4(e,t.x,t.width),i=J4(n,t.y,t.height);return`${r} ${i}`}function cC(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},d,h){if(lC(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m,dimensions:y}=t;f.transform&&(y&&(m.transform=f.transform),delete f.transform),y&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=Cye(y,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),a!==void 0&&Iye(f,a,l,c,!1)}const uC=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),eq=()=>({...uC(),attrs:{}}),dC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function tq(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const nq=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function rq(t,e,n,r){tq(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(nq.has(i)?i:nC(i),e.attrs[i])}const ib={};function Pye(t){Object.assign(ib,t)}function iq(t,{layout:e,layoutId:n}){return Wu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ib[t]||t==="opacity")}function hC(t,e,n){var r;const{style:i}=t,s={};for(const a in i)(yr(i[a])||e.style&&yr(e.style[a])||iq(a,t)||((r=n==null?void 0:n.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[a]=i[a]);return s}function sq(t,e,n){const r=hC(t,e,n);for(const i in t)if(yr(t[i])||yr(e[i])){const s=Cf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function kye(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Z4=["x","y","width","height","cx","cy","r"],Rye={useVisualState:Q$({scrapeMotionValuesFromProps:sq,createRenderState:eq,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const l in i)if(Wu.has(l)){s=!0;break}}if(!s)return;let a=!e;if(e)for(let l=0;l<Z4.length;l++){const c=Z4[l];t[c]!==e[c]&&(a=!0)}a&&Et.read(()=>{kye(n,r),Et.render(()=>{cC(r,i,dC(n.tagName),t.transformTemplate),rq(n,r)})})}})},Oye={useVisualState:Q$({scrapeMotionValuesFromProps:hC,createRenderState:uC})};function aq(t,e,n){for(const r in e)!yr(e[r])&&!iq(r,n)&&(t[r]=e[r])}function Dye({transformTemplate:t},e){return g.useMemo(()=>{const n=uC();return lC(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Mye(t,e){const n=t.style||{},r={};return aq(r,n,t),Object.assign(r,Dye(t,e)),r}function Lye(t,e){const n={},r=Mye(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function Vye(t,e,n,r){const i=g.useMemo(()=>{const s=eq();return cC(s,e,dC(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};aq(s,t.style,t),i.style={...s,...i.style}}return i}function zye(t=!1){return(n,r,i,{latestValues:s},a)=>{const c=(iC(n)?Vye:Lye)(r,s,a,n),u=eye(r,typeof n=="string",t),d=n!==g.Fragment?{...u,...c,ref:i}:{},{children:h}=r,f=g.useMemo(()=>yr(h)?h.get():h,[h]);return g.createElement(n,{...d,children:f})}}function Uye(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...iC(r)?Rye:Oye,preloadedFeatures:t,useRender:zye(i),createVisualElement:e,Component:r};return cye(a)}}function oq(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function b1(t,e,n){const r=t.getProps();return sC(r,e,n!==void 0?n:r.custom,t)}const Fye=ZI(()=>window.ScrollTimeline!==void 0);class Bye{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(Fye()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class $ye extends Bye{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function fC(t,e){return t?t[e]||t.default||t:void 0}const IE=2e4;function lq(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<IE;)e+=n,r=t.next(e);return e>=IE?1/0:e}function mC(t){return typeof t=="function"}function e5(t,e){t.timeline=e,t.onfinish=null}const pC=t=>Array.isArray(t)&&typeof t[0]=="number",qye={linearEasing:void 0};function Hye(t,e){const n=ZI(t);return()=>{var r;return(r=qye[e])!==null&&r!==void 0?r:n()}}const sb=Hye(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cq=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(Bh(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function uq(t){return!!(typeof t=="function"&&sb()||!t||typeof t=="string"&&(t in CE||sb())||pC(t)||Array.isArray(t)&&t.every(uq))}const Ym=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,CE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ym([0,.65,.55,1]),circOut:Ym([.55,0,1,.45]),backIn:Ym([.31,.01,.66,-.59]),backOut:Ym([.33,1.53,.69,.99])};function dq(t,e){if(t)return typeof t=="function"&&sb()?cq(t,e):pC(t)?Ym(t):Array.isArray(t)?t.map(n=>dq(n,e)||CE.easeOut):CE[t]}const os={x:!1,y:!1};function hq(){return os.x||os.y}function Gye(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function fq(t,e){const n=Gye(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function t5(t){return e=>{e.pointerType==="touch"||hq()||t(e)}}function Wye(t,e,n={}){const[r,i,s]=fq(t,n),a=t5(l=>{const{target:c}=l,u=e(l);if(typeof u!="function"||!c)return;const d=t5(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,i)});return r.forEach(l=>{l.addEventListener("pointerenter",a,i)}),s}const mq=(t,e)=>e?t===e?!0:mq(t,e.parentElement):!1,gC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Kye=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Yye(t){return Kye.has(t.tagName)||t.tabIndex!==-1}const Qm=new WeakSet;function n5(t){return e=>{e.key==="Enter"&&t(e)}}function eS(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Qye=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=n5(()=>{if(Qm.has(n))return;eS(n,"down");const i=n5(()=>{eS(n,"up")}),s=()=>eS(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function r5(t){return gC(t)&&!hq()}function Xye(t,e,n={}){const[r,i,s]=fq(t,n),a=l=>{const c=l.currentTarget;if(!r5(l)||Qm.has(c))return;Qm.add(c);const u=e(l),d=(m,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!r5(m)||!Qm.has(c))&&(Qm.delete(c),typeof u=="function"&&u(m,{success:y}))},h=m=>{d(m,n.useGlobalTarget||mq(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return r.forEach(l=>{!Yye(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),l.addEventListener("focus",u=>Qye(u,i),i)}),s}function Jye(t){return t==="x"||t==="y"?os[t]?null:(os[t]=!0,()=>{os[t]=!1}):os.x||os.y?null:(os.x=os.y=!0,()=>{os.x=os.y=!1})}const pq=new Set(["width","height","top","left","right","bottom",...Cf]);let Hv;function Zye(){Hv=void 0}const Ys={now:()=>(Hv===void 0&&Ys.set(Kn.isProcessing||Kge.useManualTiming?Kn.timestamp:performance.now()),Hv),set:t=>{Hv=t,queueMicrotask(Zye)}};function yC(t,e){t.indexOf(e)===-1&&t.push(e)}function vC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class xC{constructor(){this.subscriptions=[]}add(e){return yC(this.subscriptions,e),()=>vC(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function gq(t,e){return e?t*(1e3/e):0}const i5=30,e0e=t=>!isNaN(parseFloat(t));class t0e{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Ys.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ys.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=e0e(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new xC);const r=this.events[e].add(n);return e==="change"?()=>{r(),Et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ys.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>i5)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,i5);return gq(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Pg(t,e){return new t0e(t,e)}function n0e(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Pg(n))}function r0e(t,e){const n=b1(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const l=pye(s[a]);n0e(t,a,l)}}function i0e(t){return!!(yr(t)&&t.add)}function PE(t,e){const n=t.getValue("willChange");if(i0e(n))return n.add(e)}function yq(t){return t.props[W$]}const vq=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,s0e=1e-7,a0e=12;function o0e(t,e,n,r,i){let s,a,l=0;do a=e+(n-e)/2,s=vq(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>s0e&&++l<a0e);return a}function Oy(t,e,n,r){if(t===e&&n===r)return Ni;const i=s=>o0e(s,0,1,t,n);return s=>s===0||s===1?s:vq(i(s),e,r)}const xq=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,bq=t=>e=>1-t(1-e),wq=Oy(.33,1.53,.69,.99),bC=bq(wq),_q=xq(bC),Nq=t=>(t*=2)<1?.5*bC(t):.5*(2-Math.pow(2,-10*(t-1))),wC=t=>1-Math.sin(Math.acos(t)),Sq=bq(wC),Eq=xq(wC),jq=t=>/^0[^.\s]+$/u.test(t);function l0e(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||jq(t):!0}const kp=t=>Math.round(t*1e5)/1e5,_C=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function c0e(t){return t==null}const u0e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,NC=(t,e)=>n=>!!(typeof n=="string"&&u0e.test(n)&&n.startsWith(t)||e&&!c0e(n)&&Object.prototype.hasOwnProperty.call(n,e)),Tq=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,l]=r.match(_C);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},d0e=t=>to(0,255,t),tS={...Pf,transform:t=>Math.round(d0e(t))},Vc={test:NC("rgb","red"),parse:Tq("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+tS.transform(t)+", "+tS.transform(e)+", "+tS.transform(n)+", "+kp(Cg.transform(r))+")"};function h0e(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const kE={test:NC("#"),parse:h0e,transform:Vc.transform},Md={test:NC("hsl","hue"),parse:Tq("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ks.transform(kp(e))+", "+Ks.transform(kp(n))+", "+kp(Cg.transform(r))+")"},dr={test:t=>Vc.test(t)||kE.test(t)||Md.test(t),parse:t=>Vc.test(t)?Vc.parse(t):Md.test(t)?Md.parse(t):kE.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Vc.transform(t):Md.transform(t)},f0e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function m0e(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(_C))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(f0e))===null||n===void 0?void 0:n.length)||0)>0}const Aq="number",Iq="color",p0e="var",g0e="var(",s5="${}",y0e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function kg(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(y0e,c=>(dr.test(c)?(r.color.push(s),i.push(Iq),n.push(dr.parse(c))):c.startsWith(g0e)?(r.var.push(s),i.push(p0e),n.push(c)):(r.number.push(s),i.push(Aq),n.push(parseFloat(c))),++s,s5)).split(s5);return{values:n,split:l,indexes:r,types:i}}function Cq(t){return kg(t).values}function Pq(t){const{split:e,types:n}=kg(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const l=n[a];l===Aq?s+=kp(i[a]):l===Iq?s+=dr.transform(i[a]):s+=i[a]}return s}}const v0e=t=>typeof t=="number"?0:t;function x0e(t){const e=Cq(t);return Pq(t)(e.map(v0e))}const Vl={test:m0e,parse:Cq,createTransformer:Pq,getAnimatableNone:x0e},b0e=new Set(["brightness","contrast","saturate","opacity"]);function w0e(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(_C)||[];if(!r)return t;const i=n.replace(r,"");let s=b0e.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const _0e=/\b([a-z-]*)\(.*?\)/gu,RE={...Vl,getAnimatableNone:t=>{const e=t.match(_0e);return e?e.map(w0e).join(" "):t}},N0e={...oC,color:dr,backgroundColor:dr,outlineColor:dr,fill:dr,stroke:dr,borderColor:dr,borderTopColor:dr,borderRightColor:dr,borderBottomColor:dr,borderLeftColor:dr,filter:RE,WebkitFilter:RE},SC=t=>N0e[t];function kq(t,e){let n=SC(t);return n!==RE&&(n=Vl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const S0e=new Set(["auto","none","0"]);function E0e(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!S0e.has(s)&&kg(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=kq(n,i)}const a5=t=>t===Pf||t===_e,o5=(t,e)=>parseFloat(t.split(", ")[e]),l5=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return o5(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?o5(s[1],t):0}},j0e=new Set(["x","y","z"]),T0e=Cf.filter(t=>!j0e.has(t));function A0e(t){const e=[];return T0e.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const qh={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:l5(4,13),y:l5(5,14)};qh.translateX=qh.x;qh.translateY=qh.y;const Zc=new Set;let OE=!1,DE=!1;function Rq(){if(DE){const t=Array.from(Zc).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=A0e(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{var l;(l=r.getValue(s))===null||l===void 0||l.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}DE=!1,OE=!1,Zc.forEach(t=>t.complete()),Zc.clear()}function Oq(){Zc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(DE=!0)})}function I0e(){Oq(),Rq()}class EC{constructor(e,n,r,i,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Zc.add(this),OE||(OE=!0,Et.read(Oq),Et.resolveKeyframes(Rq))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=i==null?void 0:i.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),i&&a===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Zc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Zc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Dq=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),C0e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function P0e(t){const e=C0e.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Mq(t,e,n=1){const[r,i]=P0e(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return Dq(a)?parseFloat(a):a}return aC(i)?Mq(i,e,n+1):i}const Lq=t=>e=>e.test(t),k0e={test:t=>t==="auto",parse:t=>t},Vq=[Pf,_e,Ks,zo,wye,bye,k0e],c5=t=>Vq.find(Lq(t));class zq extends EC{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),aC(u))){const d=Mq(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!pq.has(r)||e.length!==2)return;const[i,s]=e,a=c5(i),l=c5(s);if(a!==l)if(a5(a)&&a5(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)l0e(e[i])&&r.push(i);r.length&&E0e(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qh[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,l=i[a];i[a]=qh[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const u5=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Vl.test(t)||t==="0")&&!t.startsWith("url("));function R0e(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function O0e(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=u5(i,e),l=u5(s,e);return!a||!l?!1:R0e(t)||(n==="spring"||mC(n))&&r}const D0e=t=>t!==null;function w1(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(D0e),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const M0e=40;class Uq{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ys.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>M0e?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&I0e(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ys.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:a,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!O0e(e,r,i,s))if(a)this.options.duration=0;else{c&&c(w1(e,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const zt=(t,e,n)=>t+(e-t)*n;function nS(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function L0e({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;i=nS(c,l,t+1/3),s=nS(c,l,t),a=nS(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function ab(t,e){return n=>n>0?e:t}const rS=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},V0e=[kE,Vc,Md],z0e=t=>V0e.find(e=>e.test(t));function d5(t){const e=z0e(t);if(!e)return!1;let n=e.parse(t);return e===Md&&(n=L0e(n)),n}const h5=(t,e)=>{const n=d5(t),r=d5(e);if(!n||!r)return ab(t,e);const i={...n};return s=>(i.red=rS(n.red,r.red,s),i.green=rS(n.green,r.green,s),i.blue=rS(n.blue,r.blue,s),i.alpha=zt(n.alpha,r.alpha,s),Vc.transform(i))},U0e=(t,e)=>n=>e(t(n)),Dy=(...t)=>t.reduce(U0e),ME=new Set(["none","hidden"]);function F0e(t,e){return ME.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function B0e(t,e){return n=>zt(t,e,n)}function jC(t){return typeof t=="number"?B0e:typeof t=="string"?aC(t)?ab:dr.test(t)?h5:H0e:Array.isArray(t)?Fq:typeof t=="object"?dr.test(t)?h5:$0e:ab}function Fq(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>jC(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function $0e(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=jC(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function q0e(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],l=t.indexes[a][i[a]],c=(n=t.values[l])!==null&&n!==void 0?n:0;r[s]=c,i[a]++}return r}const H0e=(t,e)=>{const n=Vl.createTransformer(e),r=kg(t),i=kg(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ME.has(t)&&!i.values.length||ME.has(e)&&!r.values.length?F0e(t,e):Dy(Fq(q0e(r,i),i.values),n):ab(t,e)};function Bq(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?zt(t,e,n):jC(t)(t,e)}const G0e=5;function $q(t,e,n){const r=Math.max(e-G0e,0);return gq(n-t(r),e-r)}const Wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},iS=.001;function W0e({duration:t=Wt.duration,bounce:e=Wt.bounce,velocity:n=Wt.velocity,mass:r=Wt.mass}){let i,s,a=1-e;a=to(Wt.minDamping,Wt.maxDamping,a),t=to(Wt.minDuration,Wt.maxDuration,za(t)),a<1?(i=u=>{const d=u*a,h=d*t,f=d-n,m=LE(u,a),y=Math.exp(-h);return iS-f/m*y},s=u=>{const h=u*a*t,f=h*n+n,m=Math.pow(a,2)*Math.pow(u,2)*t,y=Math.exp(-h),v=LE(Math.pow(u,2),a);return(-i(u)+iS>0?-1:1)*((f-m)*y)/v}):(i=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-iS+d*h},s=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const l=5/t,c=Y0e(i,s,l);if(t=Va(t),isNaN(c))return{stiffness:Wt.stiffness,damping:Wt.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const K0e=12;function Y0e(t,e,n){let r=n;for(let i=1;i<K0e;i++)r=r-t(r)/e(r);return r}function LE(t,e){return t*Math.sqrt(1-e*e)}const Q0e=["duration","bounce"],X0e=["stiffness","damping","mass"];function f5(t,e){return e.some(n=>t[n]!==void 0)}function J0e(t){let e={velocity:Wt.velocity,stiffness:Wt.stiffness,damping:Wt.damping,mass:Wt.mass,isResolvedFromDuration:!1,...t};if(!f5(t,X0e)&&f5(t,Q0e))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*to(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Wt.mass,stiffness:i,damping:s}}else{const n=W0e(t);e={...e,...n,mass:Wt.mass},e.isResolvedFromDuration=!0}return e}function qq(t=Wt.visualDuration,e=Wt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=J0e({...n,velocity:-za(n.velocity||0)}),y=f||0,v=u/(2*Math.sqrt(c*d)),x=a-s,w=za(Math.sqrt(c/d)),_=Math.abs(x)<5;r||(r=_?Wt.restSpeed.granular:Wt.restSpeed.default),i||(i=_?Wt.restDelta.granular:Wt.restDelta.default);let b;if(v<1){const E=LE(w,v);b=C=>{const j=Math.exp(-v*w*C);return a-j*((y+v*w*x)/E*Math.sin(E*C)+x*Math.cos(E*C))}}else if(v===1)b=E=>a-Math.exp(-w*E)*(x+(y+w*x)*E);else{const E=w*Math.sqrt(v*v-1);b=C=>{const j=Math.exp(-v*w*C),T=Math.min(E*C,300);return a-j*((y+v*w*x)*Math.sinh(T)+E*x*Math.cosh(T))/E}}const N={calculatedDuration:m&&h||null,next:E=>{const C=b(E);if(m)l.done=E>=h;else{let j=0;v<1&&(j=E===0?Va(y):$q(b,E,C));const T=Math.abs(j)<=r,A=Math.abs(a-C)<=i;l.done=T&&A}return l.value=l.done?a:C,l},toString:()=>{const E=Math.min(lq(N),IE),C=cq(j=>N.next(E*j).value,E,30);return E+"ms "+C}};return N}function m5({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=T=>l!==void 0&&T<l||c!==void 0&&T>c,y=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let v=n*e;const x=h+v,w=a===void 0?x:a(x);w!==x&&(v=w-h);const _=T=>-v*Math.exp(-T/r),b=T=>w+_(T),N=T=>{const A=_(T),P=b(T);f.done=Math.abs(A)<=u,f.value=f.done?w:P};let E,C;const j=T=>{m(f.value)&&(E=T,C=qq({keyframes:[f.value,y(f.value)],velocity:$q(b,T,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return j(0),{calculatedDuration:null,next:T=>{let A=!1;return!C&&E===void 0&&(A=!0,N(T),j(T)),E!==void 0&&T>=E?C.next(T-E):(!A&&N(T),f)}}}const Z0e=Oy(.42,0,1,1),eve=Oy(0,0,.58,1),Hq=Oy(.42,0,.58,1),tve=t=>Array.isArray(t)&&typeof t[0]!="number",nve={linear:Ni,easeIn:Z0e,easeInOut:Hq,easeOut:eve,circIn:wC,circInOut:Eq,circOut:Sq,backIn:bC,backInOut:_q,backOut:wq,anticipate:Nq},p5=t=>{if(pC(t)){B$(t.length===4);const[e,n,r,i]=t;return Oy(e,n,r,i)}else if(typeof t=="string")return nve[t];return t};function rve(t,e,n){const r=[],i=n||Bq,s=t.length-1;for(let a=0;a<s;a++){let l=i(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||Ni:e;l=Dy(c,l)}r.push(l)}return r}function ive(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(B$(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=rve(e,r,i),c=l.length,u=d=>{if(a&&d<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=Bh(t[h],t[h+1],d);return l[h](f)};return n?d=>u(to(t[0],t[s-1],d)):u}function sve(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Bh(0,e,r);t.push(zt(n,1,i))}}function ave(t){const e=[0];return sve(e,t.length-1),e}function ove(t,e){return t.map(n=>n*e)}function lve(t,e){return t.map(()=>e||Hq).splice(0,t.length-1)}function ob({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=tve(r)?r.map(p5):p5(r),s={done:!1,value:e[0]},a=ove(n&&n.length===e.length?n:ave(e),t),l=ive(a,e,{ease:Array.isArray(i)?i:lve(e,i)});return{calculatedDuration:t,next:c=>(s.value=l(c),s.done=c>=t,s)}}const cve=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Et.update(e,!0),stop:()=>Ll(e),now:()=>Kn.isProcessing?Kn.timestamp:Ys.now()}},uve={decay:m5,inertia:m5,tween:ob,keyframes:ob,spring:qq},dve=t=>t/100;class TC extends Uq{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,a=(i==null?void 0:i.KeyframeResolver)||EC,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new a(s,l,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=this.options,l=mC(n)?n:uve[n]||ob;let c,u;l!==ob&&typeof e[0]!="number"&&(c=Dy(dve,Bq(e[0],e[1])),e=[0,100]);const d=l({...this.options,keyframes:e});s==="mirror"&&(u=l({...this.options,keyframes:[...e].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=lq(d));const{calculatedDuration:h}=d,f=h+i,m=f*(r+1)-i;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:a,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:m,repeatType:y,repeatDelay:v,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-f*(this.speed>=0?1:-1),_=this.speed>=0?w<0:w>d;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let b=this.currentTime,N=s;if(m){const T=Math.min(this.currentTime,d)/h;let A=Math.floor(T),P=T%1;!P&&T>=1&&(P=1),P===1&&A--,A=Math.min(A,m+1),!!(A%2)&&(y==="reverse"?(P=1-P,v&&(P-=v/h)):y==="mirror"&&(N=a)),b=to(0,1,P)*h}const E=_?{done:!1,value:c[0]}:N.next(b);l&&(E.value=l(E.value));let{done:C}=E;!_&&u!==null&&(C=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return j&&i!==void 0&&(E.value=w1(c,this.options,i)),x&&x(E.value),j&&this.finish(),E}get duration(){const{resolved:e}=this;return e?za(e.calculatedDuration):0}get time(){return za(this.currentTime)}set time(e){e=Va(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=za(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=cve,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const hve=new Set(["opacity","clipPath","filter","transform"]);function fve(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:l="easeInOut",times:c}={}){const u={[e]:n};c&&(u.offset=c);const d=dq(l,i);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const mve=ZI(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),lb=10,pve=2e4;function gve(t){return mC(t.type)||t.type==="spring"||!uq(t.ease)}function yve(t,e){const n=new TC({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<pve;)r=n.sample(s),i.push(r.value),s+=lb;return{times:void 0,keyframes:i,duration:s-lb,ease:"linear"}}const Gq={anticipate:Nq,backInOut:_q,circInOut:Eq};function vve(t){return t in Gq}class g5 extends Uq{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new zq(s,(a,l)=>this.onKeyframesResolved(a,l),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof s=="string"&&sb()&&vve(s)&&(s=Gq[s]),gve(this.options)){const{onComplete:h,onUpdate:f,motionValue:m,element:y,...v}=this.options,x=yve(e,v);e=x.keyframes,e.length===1&&(e[1]=e[0]),r=x.duration,i=x.times,s=x.ease,a="keyframes"}const d=fve(l.owner.current,c,e,{...this.options,duration:r,times:i,ease:s});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(e5(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(w1(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:i,type:a,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return za(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return za(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Va(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Ni;const{animation:r}=n;e5(r,e)}return Ni}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:a,times:l}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...m}=this.options,y=new TC({...m,keyframes:r,duration:i,type:s,ease:a,times:l,isGenerator:!0}),v=Va(this.time);u.setWithVelocity(y.sample(v-lb).value,y.sample(v).value,lb)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:a,type:l}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return mve()&&r&&hve.has(r)&&!c&&!u&&!i&&s!=="mirror"&&a!==0&&l!=="inertia"}}const xve={type:"spring",stiffness:500,damping:25,restSpeed:10},bve=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),wve={type:"keyframes",duration:.8},_ve={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Nve=(t,{keyframes:e})=>e.length>2?wve:Wu.has(t)?t.startsWith("scale")?bve(e[1]):xve:_ve;function Sve({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const AC=(t,e,n,r={},i,s)=>a=>{const l=fC(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Va(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i};Sve(l)||(d={...d,...Nve(t,d)}),d.duration&&(d.duration=Va(d.duration)),d.repeatDelay&&(d.repeatDelay=Va(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const f=w1(d.keyframes,l);if(f!==void 0)return Et.update(()=>{d.onUpdate(f),d.onComplete()}),new $ye([])}return!s&&g5.supports(d)?new g5(d):new TC(d)};function Eve({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Wq(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:a=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(a=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in c){const f=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),m=c[h];if(m===void 0||d&&Eve(d,h))continue;const y={delay:n,...fC(a||{},h)};let v=!1;if(window.MotionHandoffAnimation){const w=yq(t);if(w){const _=window.MotionHandoffAnimation(w,h,Et);_!==null&&(y.startTime=_,v=!0)}}PE(t,h),f.start(AC(h,f,m,t.shouldReduceMotion&&pq.has(h)?{type:!1}:y,t,v));const x=f.animation;x&&u.push(x)}return l&&Promise.all(u).then(()=>{Et.update(()=>{l&&r0e(t,l)})}),u}function VE(t,e,n={}){var r;const i=b1(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(Wq(t,i,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return jve(t,e,d+u,h,f,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[u,d]=c==="beforeChildren"?[a,l]:[l,a];return u().then(()=>d())}else return Promise.all([a(),l(n.delay)])}function jve(t,e,n=0,r=0,i=1,s){const a=[],l=(t.variantChildren.size-1)*r,c=i===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(t.variantChildren).sort(Tve).forEach((u,d)=>{u.notify("AnimationStart",e),a.push(VE(u,e,{...s,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function Tve(t,e){return t.sortNodePosition(e)}function Ave(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>VE(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=VE(t,e,n);else{const i=typeof e=="function"?b1(t,e,n.custom):e;r=Promise.all(Wq(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Ive=tC.length;function Kq(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Kq(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Ive;n++){const r=tC[n],i=t.props[r];(Ig(i)||i===!1)&&(e[r]=i)}return e}const Cve=[...eC].reverse(),Pve=eC.length;function kve(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Ave(t,n,r)))}function Rve(t){let e=kve(t),n=y5(),r=!0;const i=c=>(u,d)=>{var h;const f=b1(t,d,c==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:y,...v}=f;u={...u,...v,...y}}return u};function s(c){e=c(t)}function a(c){const{props:u}=t,d=Kq(t.parent)||{},h=[],f=new Set;let m={},y=1/0;for(let x=0;x<Pve;x++){const w=Cve[x],_=n[w],b=u[w]!==void 0?u[w]:d[w],N=Ig(b),E=w===c?_.isActive:null;E===!1&&(y=x);let C=b===d[w]&&b!==u[w]&&N;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),_.protectedKeys={...m},!_.isActive&&E===null||!b&&!_.prevProp||v1(b)||typeof b=="boolean")continue;const j=Ove(_.prevProp,b);let T=j||w===c&&_.isActive&&!C&&N||x>y&&N,A=!1;const P=Array.isArray(b)?b:[b];let k=P.reduce(i(w),{});E===!1&&(k={});const{prevResolvedValues:O={}}=_,R={...O,...k},V=B=>{T=!0,f.has(B)&&(A=!0,f.delete(B)),_.needsAnimating[B]=!0;const G=t.getValue(B);G&&(G.liveStyle=!1)};for(const B in R){const G=k[B],ee=O[B];if(m.hasOwnProperty(B))continue;let Z=!1;AE(G)&&AE(ee)?Z=!oq(G,ee):Z=G!==ee,Z?G!=null?V(B):f.add(B):G!==void 0&&f.has(B)?V(B):_.protectedKeys[B]=!0}_.prevProp=b,_.prevResolvedValues=k,_.isActive&&(m={...m,...k}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(C&&j)||A)&&h.push(...P.map(B=>({animation:B,options:{type:w}})))}if(f.size){const x={};f.forEach(w=>{const _=t.getBaseTarget(w),b=t.getValue(w);b&&(b.liveStyle=!0),x[w]=_??null}),h.push({animation:x})}let v=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(h):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),n[c].isActive=u;const h=a(c);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=y5(),r=!0}}}function Ove(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!oq(e,t):!1}function fc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function y5(){return{animate:fc(!0),whileInView:fc(),whileHover:fc(),whileTap:fc(),whileDrag:fc(),whileFocus:fc(),exit:fc()}}class ec{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Dve extends ec{constructor(e){super(e),e.animationState||(e.animationState=Rve(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();v1(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Mve=0;class Lve extends ec{constructor(){super(...arguments),this.id=Mve++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Vve={animation:{Feature:Dve},exit:{Feature:Lve}};function Rg(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function My(t){return{point:{x:t.pageX,y:t.pageY}}}const zve=t=>e=>gC(e)&&t(e,My(e));function Rp(t,e,n,r){return Rg(t,e,zve(n),r)}const v5=(t,e)=>Math.abs(t-e);function Uve(t,e){const n=v5(t.x,e.x),r=v5(t.y,e.y);return Math.sqrt(n**2+r**2)}class Yq{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=aS(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=Uve(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:y}=h,{timestamp:v}=Kn;this.history.push({...y,timestamp:v});const{onStart:x,onMove:w}=this.handlers;f||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=sS(f,this.transformPagePoint),Et.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=aS(h.type==="pointercancel"?this.lastMoveEventInfo:sS(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,x),y&&y(h,x)},!gC(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=My(e),l=sS(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=Kn;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,aS(l,this.history)),this.removeListeners=Dy(Rp(this.contextWindow,"pointermove",this.handlePointerMove),Rp(this.contextWindow,"pointerup",this.handlePointerUp),Rp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ll(this.updatePoint)}}function sS(t,e){return e?{point:e(t.point)}:t}function x5(t,e){return{x:t.x-e.x,y:t.y-e.y}}function aS({point:t},e){return{point:t,delta:x5(t,Qq(e)),offset:x5(t,Fve(e)),velocity:Bve(e,.1)}}function Fve(t){return t[0]}function Qq(t){return t[t.length-1]}function Bve(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Qq(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Va(e)));)n--;if(!r)return{x:0,y:0};const s=za(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const Xq=1e-4,$ve=1-Xq,qve=1+Xq,Jq=.01,Hve=0-Jq,Gve=0+Jq;function Ai(t){return t.max-t.min}function Wve(t,e,n){return Math.abs(t-e)<=n}function b5(t,e,n,r=.5){t.origin=r,t.originPoint=zt(e.min,e.max,t.origin),t.scale=Ai(n)/Ai(e),t.translate=zt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=$ve&&t.scale<=qve||isNaN(t.scale))&&(t.scale=1),(t.translate>=Hve&&t.translate<=Gve||isNaN(t.translate))&&(t.translate=0)}function Op(t,e,n,r){b5(t.x,e.x,n.x,r?r.originX:void 0),b5(t.y,e.y,n.y,r?r.originY:void 0)}function w5(t,e,n){t.min=n.min+e.min,t.max=t.min+Ai(e)}function Kve(t,e,n){w5(t.x,e.x,n.x),w5(t.y,e.y,n.y)}function _5(t,e,n){t.min=e.min-n.min,t.max=t.min+Ai(e)}function Dp(t,e,n){_5(t.x,e.x,n.x),_5(t.y,e.y,n.y)}function Yve(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?zt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?zt(n,t,r.max):Math.min(t,n)),t}function N5(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Qve(t,{top:e,left:n,bottom:r,right:i}){return{x:N5(t.x,n,i),y:N5(t.y,e,r)}}function S5(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Xve(t,e){return{x:S5(t.x,e.x),y:S5(t.y,e.y)}}function Jve(t,e){let n=.5;const r=Ai(t),i=Ai(e);return i>r?n=Bh(e.min,e.max-r,t.min):r>i&&(n=Bh(t.min,t.max-i,e.min)),to(0,1,n)}function Zve(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const zE=.35;function exe(t=zE){return t===!1?t=0:t===!0&&(t=zE),{x:E5(t,"left","right"),y:E5(t,"top","bottom")}}function E5(t,e,n){return{min:j5(t,e),max:j5(t,n)}}function j5(t,e){return typeof t=="number"?t:t[e]||0}const T5=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ld=()=>({x:T5(),y:T5()}),A5=()=>({min:0,max:0}),nn=()=>({x:A5(),y:A5()});function Oi(t){return[t("x"),t("y")]}function Zq({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function txe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function nxe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function oS(t){return t===void 0||t===1}function UE({scale:t,scaleX:e,scaleY:n}){return!oS(t)||!oS(e)||!oS(n)}function _c(t){return UE(t)||eH(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function eH(t){return I5(t.x)||I5(t.y)}function I5(t){return t&&t!=="0%"}function cb(t,e,n){const r=t-n,i=e*r;return n+i}function C5(t,e,n,r,i){return i!==void 0&&(t=cb(t,i,r)),cb(t,n,r)+e}function FE(t,e=0,n=1,r,i){t.min=C5(t.min,e,n,r,i),t.max=C5(t.max,e,n,r,i)}function tH(t,{x:e,y:n}){FE(t.x,e.translate,e.scale,e.originPoint),FE(t.y,n.translate,n.scale,n.originPoint)}const P5=.999999999999,k5=1.0000000000001;function rxe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let l=0;l<i;l++){s=n[l],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&zd(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,tH(t,a)),r&&_c(s.latestValues)&&zd(t,s.latestValues))}e.x<k5&&e.x>P5&&(e.x=1),e.y<k5&&e.y>P5&&(e.y=1)}function Vd(t,e){t.min=t.min+e,t.max=t.max+e}function R5(t,e,n,r,i=.5){const s=zt(t.min,t.max,i);FE(t,e,n,s,r)}function zd(t,e){R5(t.x,e.x,e.scaleX,e.scale,e.originX),R5(t.y,e.y,e.scaleY,e.scale,e.originY)}function nH(t,e){return Zq(nxe(t.getBoundingClientRect(),e))}function ixe(t,e,n){const r=nH(t,n),{scroll:i}=e;return i&&(Vd(r.x,i.offset.x),Vd(r.y,i.offset.y)),r}const rH=({current:t})=>t?t.ownerDocument.defaultView:null,sxe=new WeakMap;class axe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(My(d).point)},s=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:y}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Jye(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Oi(x=>{let w=this.getAxisMotionValue(x).get()||0;if(Ks.test(w)){const{projection:_}=this.visualElement;if(_&&_.layout){const b=_.layout.layoutBox[x];b&&(w=Ai(b)*(parseFloat(w)/100))}}this.originPoint[x]=w}),y&&Et.postRender(()=>y(d,h)),PE(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:y,onDrag:v}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:x}=h;if(m&&this.currentDirection===null){this.currentDirection=oxe(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),v&&v(d,h)},l=(d,h)=>this.stop(d,h),c=()=>Oi(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Yq(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:rH(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Et.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!W0(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=Yve(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Dd(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Qve(i.layoutBox,n):this.constraints=!1,this.elastic=exe(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Oi(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Zve(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Dd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=ixe(r,i.root,this.visualElement.getTransformPagePoint());let a=Xve(i.layout.layoutBox,s);if(n){const l=n(txe(a));this.hasMutatedConstraints=!!l,l&&(a=Zq(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Oi(d=>{if(!W0(d,n,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return PE(this.visualElement,e),r.start(AC(e,r,0,n,this.visualElement,!1))}stopAnimation(){Oi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Oi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Oi(n=>{const{drag:r}=this.getProps();if(!W0(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[n];s.set(e[n]-zt(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Dd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Oi(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();i[a]=Jve({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Oi(a=>{if(!W0(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(zt(c,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;sxe.set(this.visualElement,this);const e=this.visualElement.current,n=Rp(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Dd(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Et.read(r);const a=Rg(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Oi(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=zE,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function W0(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function oxe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class lxe extends ec{constructor(e){super(e),this.removeGroupControls=Ni,this.removeListeners=Ni,this.controls=new axe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ni}unmount(){this.removeGroupControls(),this.removeListeners()}}const O5=t=>(e,n)=>{t&&Et.postRender(()=>t(e,n))};class cxe extends ec{constructor(){super(...arguments),this.removePointerDownListener=Ni}onPointerDown(e){this.session=new Yq(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rH(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:O5(e),onStart:O5(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&Et.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Rp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function D5(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Em={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(_e.test(t))t=parseFloat(t);else return t;const n=D5(t,e.target.x),r=D5(t,e.target.y);return`${n}% ${r}%`}},uxe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Vl.parse(t);if(i.length>5)return r;const s=Vl.createTransformer(t),a=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;i[0+a]/=l,i[1+a]/=c;const u=zt(l,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};class dxe extends g.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Pye(hxe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Gv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,a=r.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Et.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),rC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function iH(t){const[e,n]=U$(),r=g.useContext(YI);return o.jsx(dxe,{...t,layoutGroup:r,switchLayoutGroup:g.useContext(K$),isPresent:e,safeToRemove:n})}const hxe={borderRadius:{...Em,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Em,borderTopRightRadius:Em,borderBottomLeftRadius:Em,borderBottomRightRadius:Em,boxShadow:uxe};function fxe(t,e,n){const r=yr(t)?t:Pg(t);return r.start(AC("",r,e,n)),r.animation}function mxe(t){return t instanceof SVGElement&&t.tagName!=="svg"}const pxe=(t,e)=>t.depth-e.depth;class gxe{constructor(){this.children=[],this.isDirty=!1}add(e){yC(this.children,e),this.isDirty=!0}remove(e){vC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(pxe),this.isDirty=!1,this.children.forEach(e)}}function yxe(t,e){const n=Ys.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Ll(r),t(s-e))};return Et.read(r,!0),()=>Ll(r)}const sH=["TopLeft","TopRight","BottomLeft","BottomRight"],vxe=sH.length,M5=t=>typeof t=="string"?parseFloat(t):t,L5=t=>typeof t=="number"||_e.test(t);function xxe(t,e,n,r,i,s){i?(t.opacity=zt(0,n.opacity!==void 0?n.opacity:1,bxe(r)),t.opacityExit=zt(e.opacity!==void 0?e.opacity:1,0,wxe(r))):s&&(t.opacity=zt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<vxe;a++){const l=`border${sH[a]}Radius`;let c=V5(e,l),u=V5(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||L5(c)===L5(u)?(t[l]=Math.max(zt(M5(c),M5(u),r),0),(Ks.test(u)||Ks.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=zt(e.rotate||0,n.rotate||0,r))}function V5(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const bxe=aH(0,.5,Sq),wxe=aH(.5,.95,Ni);function aH(t,e,n){return r=>r<t?0:r>e?1:n(Bh(t,e,r))}function z5(t,e){t.min=e.min,t.max=e.max}function Ci(t,e){z5(t.x,e.x),z5(t.y,e.y)}function U5(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function F5(t,e,n,r,i){return t-=e,t=cb(t,1/n,r),i!==void 0&&(t=cb(t,1/i,r)),t}function _xe(t,e=0,n=1,r=.5,i,s=t,a=t){if(Ks.test(e)&&(e=parseFloat(e),e=zt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=zt(s.min,s.max,r);t===s&&(l-=e),t.min=F5(t.min,e,n,l,i),t.max=F5(t.max,e,n,l,i)}function B5(t,e,[n,r,i],s,a){_xe(t,e[n],e[r],e[i],e.scale,s,a)}const Nxe=["x","scaleX","originX"],Sxe=["y","scaleY","originY"];function $5(t,e,n,r){B5(t.x,e,Nxe,n?n.x:void 0,r?r.x:void 0),B5(t.y,e,Sxe,n?n.y:void 0,r?r.y:void 0)}function q5(t){return t.translate===0&&t.scale===1}function oH(t){return q5(t.x)&&q5(t.y)}function H5(t,e){return t.min===e.min&&t.max===e.max}function Exe(t,e){return H5(t.x,e.x)&&H5(t.y,e.y)}function G5(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function lH(t,e){return G5(t.x,e.x)&&G5(t.y,e.y)}function W5(t){return Ai(t.x)/Ai(t.y)}function K5(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class jxe{constructor(){this.members=[]}add(e){yC(this.members,e),e.scheduleRender()}remove(e){if(vC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Txe(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:y}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Nc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Xm=typeof window<"u"&&window.MotionDebug!==void 0,lS=["","X","Y","Z"],Axe={visibility:"hidden"},Y5=1e3;let Ixe=0;function cS(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function cH(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=yq(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Et,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&cH(r)}function uH({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},l=e==null?void 0:e()){this.id=Ixe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Xm&&(Nc.totalNodes=Nc.resolvedTargetDeltas=Nc.recalculatedProjection=0),this.nodes.forEach(kxe),this.nodes.forEach(Lxe),this.nodes.forEach(Vxe),this.nodes.forEach(Rxe),Xm&&window.MotionDebug.record(Nc)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new gxe)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new xC),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=mxe(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=yxe(f,250),Gv.hasAnimatedSinceResize&&(Gv.hasAnimatedSinceResize=!1,this.nodes.forEach(X5))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||$xe,{onLayoutAnimationStart:x,onLayoutAnimationComplete:w}=d.getProps(),_=!this.targetLayout||!lH(this.targetLayout,y)||m,b=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const N={...fC(v,"layout"),onPlay:x,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else f||X5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ll(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zxe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cH(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Q5);return}this.isUpdating||this.nodes.forEach(Dxe),this.isUpdating=!1,this.nodes.forEach(Mxe),this.nodes.forEach(Cxe),this.nodes.forEach(Pxe),this.clearAllSnapshots();const l=Ys.now();Kn.delta=to(0,1e3/60,l-Kn.timestamp),Kn.timestamp=l,Kn.isProcessing=!0,ZN.update.process(Kn),ZN.preRender.process(Kn),ZN.render.process(Kn),Kn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Oxe),this.sharedNodes.forEach(Uxe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!oH(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(l||_c(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),qxe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:l}=this.options;if(!l)return nn();const c=l.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(Hxe))){const{scroll:d}=this.root;d&&(Vd(c.x,d.offset.x),Vd(c.y,d.offset.y))}return c}removeElementScroll(a){var l;const c=nn();if(Ci(c,a),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Ci(c,a),Vd(c.x,h.offset.x),Vd(c.y,h.offset.y))}return c}applyTransform(a,l=!1){const c=nn();Ci(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&zd(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),_c(d.latestValues)&&zd(c,d.latestValues)}return _c(this.latestValues)&&zd(c,this.latestValues),c}removeTransform(a){const l=nn();Ci(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!_c(u.latestValues))continue;UE(u.latestValues)&&u.updateSnapshot();const d=nn(),h=u.measurePageBox();Ci(d,h),$5(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return _c(this.latestValues)&&$5(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Kn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),Dp(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Ci(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=nn(),this.targetWithTransforms=nn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Kve(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ci(this.target,this.layout.layoutBox),tH(this.target,this.targetDelta)):Ci(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),Dp(this.relativeTargetOrigin,this.target,m.target),Ci(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Xm&&Nc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||UE(this.parent.latestValues)||eH(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Kn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Ci(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;rxe(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=nn());const{target:y}=l;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(U5(this.prevProjectionDelta.x,this.projectionDelta.x),U5(this.prevProjectionDelta.y,this.projectionDelta.y)),Op(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!K5(this.projectionDelta.x,this.prevProjectionDelta.x)||!K5(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Xm&&Nc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ld(),this.projectionDelta=Ld(),this.projectionDeltaWithTransform=Ld()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Ld();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=nn(),m=c?c.source:void 0,y=this.layout?this.layout.source:void 0,v=m!==y,x=this.getStack(),w=!x||x.members.length<=1,_=!!(v&&!w&&this.options.crossfade===!0&&!this.path.some(Bxe));this.animationProgress=0;let b;this.mixTargetDelta=N=>{const E=N/1e3;J5(h.x,a.x,E),J5(h.y,a.y,E),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Dp(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Fxe(this.relativeTarget,this.relativeTargetOrigin,f,E),b&&Exe(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=nn()),Ci(b,this.relativeTarget)),v&&(this.animationValues=d,xxe(d,u,this.latestValues,E,_,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ll(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Et.update(()=>{Gv.hasAnimatedSinceResize=!0,this.currentAnimation=fxe(0,Y5,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Y5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&dH(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||nn();const h=Ai(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const f=Ai(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}Ci(l,c),zd(l,d),Op(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new jxe),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&cS("z",a,u,this.animationValues);for(let d=0;d<lS.length;d++)cS(`rotate${lS[d]}`,a,u,this.animationValues),cS(`skew${lS[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Axe;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=qv(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=qv(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!_c(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Txe(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in ib){if(f[v]===void 0)continue;const{correct:x,applyTo:w}=ib[v],_=u.transform==="none"?f[v]:x(f[v],h);if(w){const b=w.length;for(let N=0;N<b;N++)u[w[N]]=_}else u[v]=_}return this.options.layoutId&&(u.pointerEvents=h===this?qv(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Q5),this.root.sharedNodes.clear()}}}function Cxe(t){t.updateLayout()}function Pxe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,a=n.source!==t.layout.source;s==="size"?Oi(h=>{const f=a?n.measuredBox[h]:n.layoutBox[h],m=Ai(f);f.min=r[h].min,f.max=f.min+m}):dH(s,n.layoutBox,r)&&Oi(h=>{const f=a?n.measuredBox[h]:n.layoutBox[h],m=Ai(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const l=Ld();Op(l,r,n.layoutBox);const c=Ld();a?Op(c,t.applyTransform(i,!0),n.measuredBox):Op(c,r,n.layoutBox);const u=!oH(l);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const y=nn();Dp(y,n.layoutBox,f.layoutBox);const v=nn();Dp(v,r,m.layoutBox),lH(y,v)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=y,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function kxe(t){Xm&&Nc.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Rxe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Oxe(t){t.clearSnapshot()}function Q5(t){t.clearMeasurements()}function Dxe(t){t.isLayoutDirty=!1}function Mxe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function X5(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Lxe(t){t.resolveTargetDelta()}function Vxe(t){t.calcProjection()}function zxe(t){t.resetSkewAndRotation()}function Uxe(t){t.removeLeadSnapshot()}function J5(t,e,n){t.translate=zt(e.translate,0,n),t.scale=zt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Z5(t,e,n,r){t.min=zt(e.min,n.min,r),t.max=zt(e.max,n.max,r)}function Fxe(t,e,n,r){Z5(t.x,e.x,n.x,r),Z5(t.y,e.y,n.y,r)}function Bxe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const $xe={duration:.45,ease:[.4,0,.1,1]},e6=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),t6=e6("applewebkit/")&&!e6("chrome/")?Math.round:Ni;function n6(t){t.min=t6(t.min),t.max=t6(t.max)}function qxe(t){n6(t.x),n6(t.y)}function dH(t,e,n){return t==="position"||t==="preserve-aspect"&&!Wve(W5(e),W5(n),.2)}function Hxe(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Gxe=uH({attachResizeListener:(t,e)=>Rg(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),uS={current:void 0},hH=uH({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!uS.current){const t=new Gxe({});t.mount(window),t.setOptions({layoutScroll:!0}),uS.current=t}return uS.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Wxe={pan:{Feature:cxe},drag:{Feature:lxe,ProjectionNode:hH,MeasureLayout:iH}};function r6(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Et.postRender(()=>s(e,My(e)))}class Kxe extends ec{mount(){const{current:e}=this.node;e&&(this.unmount=Wye(e,n=>(r6(this.node,n,"Start"),r=>r6(this.node,r,"End"))))}unmount(){}}class Yxe extends ec{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Dy(Rg(this.node.current,"focus",()=>this.onFocus()),Rg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function i6(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Et.postRender(()=>s(e,My(e)))}class Qxe extends ec{mount(){const{current:e}=this.node;e&&(this.unmount=Xye(e,n=>(i6(this.node,n,"Start"),(r,{success:i})=>i6(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const BE=new WeakMap,dS=new WeakMap,Xxe=t=>{const e=BE.get(t.target);e&&e(t)},Jxe=t=>{t.forEach(Xxe)};function Zxe({root:t,...e}){const n=t||document;dS.has(n)||dS.set(n,{});const r=dS.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Jxe,{root:t,...e})),r[i]}function ebe(t,e,n){const r=Zxe(e);return BE.set(t,n),r.observe(t),()=>{BE.delete(t),r.unobserve(t)}}const tbe={some:0,all:1};class nbe extends ec{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:tbe[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return ebe(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(rbe(e,n))&&this.startObserver()}unmount(){}}function rbe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const ibe={inView:{Feature:nbe},tap:{Feature:Qxe},focus:{Feature:Yxe},hover:{Feature:Kxe}},sbe={layout:{ProjectionNode:hH,MeasureLayout:iH}},$E={current:null},fH={current:!1};function abe(){if(fH.current=!0,!!JI)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>$E.current=t.matches;t.addListener(e),e()}else $E.current=!1}const obe=[...Vq,dr,Vl],lbe=t=>obe.find(Lq(t)),s6=new WeakMap;function cbe(t,e,n){for(const r in e){const i=e[r],s=n[r];if(yr(i))t.addValue(r,i);else if(yr(s))t.addValue(r,Pg(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,Pg(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const a6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ube{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=EC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Ys.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Et.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=a;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=x1(n),this.isVariantNode=G$(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in f){const y=f[m];c[m]!==void 0&&yr(y)&&y.set(c[m],!1)}}mount(e){this.current=e,s6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),fH.current||abe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$E.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){s6.delete(this.current),this.projection&&this.projection.unmount(),Ll(this.notifyUpdate),Ll(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Wu.has(e),i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Et.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in $h){const n=$h[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<a6.length;r++){const i=a6[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=cbe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Pg(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Dq(i)||jq(i))?i=parseFloat(i):!lbe(i)&&Vl.test(n)&&(i=kq(e,n)),this.setBaseTarget(e,yr(i)?i.get():i)),yr(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const a=sC(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(i=a[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!yr(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new xC),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class mH extends ube{constructor(){super(...arguments),this.KeyframeResolver=zq}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function dbe(t){return window.getComputedStyle(t)}class hbe extends mH{constructor(){super(...arguments),this.type="html",this.renderInstance=tq}readValueFromInstance(e,n){if(Wu.has(n)){const r=SC(n);return r&&r.default||0}else{const r=dbe(e),i=(J$(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return nH(e,n)}build(e,n,r){lC(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return hC(e,n,r)}}class fbe extends mH{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Wu.has(n)){const r=SC(n);return r&&r.default||0}return n=nq.has(n)?n:nC(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return sq(e,n,r)}build(e,n,r){cC(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){rq(e,n,r,i)}mount(e){this.isSVGTag=dC(e.tagName),super.mount(e)}}const mbe=(t,e)=>iC(t)?new fbe(e):new hbe(e,{allowProjection:t!==g.Fragment}),pbe=Uye({...Vve,...ibe,...Wxe,...sbe},mbe),Gt=tye(pbe),gbe=({product:t,onAddToCart:e,onBuyNow:n,isLoggedIn:r})=>{const{name:i,description:s,category:a,imageUrl:l,comboImageUrl:c,available:u,stock:d,popular:h,new:f}=t,m=$n(),[y,v]=g.useState(t.sizes[0]),x=y.name==="Combo Meal"&&c?c:l,w=!u||d===0,_=E=>{E.stopPropagation(),r?e(t,y):m("/auth/login")},b=E=>{E.stopPropagation(),r&&n?n(t,y):r||m("/auth/login")},N=()=>w?o.jsx("p",{className:"text-[10px] sm:text-sm font-medium text-red-600",children:"Out of Stock"}):d<5?o.jsxs("p",{className:"text-[10px] sm:text-sm font-medium text-orange-600",children:["Only ",d," left"]}):o.jsx("p",{className:"text-[10px] sm:text-sm font-medium text-green-600",children:"In Stock"});return o.jsxs(be,{className:"flex flex-col overflow-hidden transition-transform duration-300 hover:-translate-y-1",hover:!0,children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:x,alt:i,className:"h-32 w-full object-cover sm:h-48"}),o.jsxs("div",{className:"absolute top-2 right-2 z-10 flex flex-col items-end gap-1",children:[w?o.jsx(tr,{className:"bg-red-100 text-red-800",size:"sm",children:"Out of Stock"}):d>0&&d<5?o.jsx(tr,{className:"bg-orange-100 text-orange-800",size:"sm",children:"Low Stock"}):null,h&&!w&&o.jsx("div",{className:"rounded-full bg-amber-100 p-1.5 text-amber-600 shadow-sm",title:"Popular",children:o.jsx(vs,{className:"h-4 w-4 fill-current"})}),f&&!w&&o.jsx("div",{className:"rounded-full bg-blue-100 p-1.5 text-blue-600 shadow-sm",title:"New",children:o.jsx(ng,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"flex flex-1 flex-col p-2.5 sm:p-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] text-gray-500 sm:text-xs",children:a}),o.jsx("h3",{className:"font-semibold text-coffee-900 text-sm sm:text-lg leading-tight",children:i})]}),o.jsxs("div",{className:"mt-auto pt-2 sm:pt-4",children:[o.jsxs("div",{className:"flex items-end justify-between gap-1",children:[o.jsxs("p",{className:"text-base font-bold text-primary-600 sm:text-xl",children:["",y.price.toFixed(2)]}),N()]}),o.jsx("div",{className:"mt-2 flex w-full rounded-full border border-gray-200 bg-gray-50 p-1 sm:mt-4",children:t.sizes.map(E=>o.jsxs("button",{onClick:C=>{C.stopPropagation(),v(E)},className:`w-1/2 rounded-full py-1 text-[10px] sm:text-xs font-semibold transition-colors sm:py-1.5 ${y.name===E.name?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:[E.name," ",o.jsxs("span",{className:"hidden sm:inline",children:["(",E.size,")"]})]},E.name))}),o.jsx("div",{className:"mt-2 flex gap-2 sm:mt-3",children:w?o.jsx("button",{disabled:!0,className:"flex w-full items-center justify-center gap-2 rounded-full bg-gray-100 px-3 py-2 text-[10px] font-semibold text-gray-400 sm:px-4 sm:py-2.5 sm:text-sm cursor-not-allowed",children:"Out of Stock"}):r?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:_,className:"flex items-center justify-center rounded-xl bg-primary-50 px-3 py-2 text-primary-700 hover:bg-primary-100 transition-colors",title:"Add to Cart",children:o.jsx(vh,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),o.jsx("button",{onClick:b,className:"flex-1 flex items-center justify-center rounded-xl bg-primary-600 px-3 py-2 text-[10px] font-bold text-white shadow-sm transition-colors hover:bg-primary-700 sm:text-sm",children:"Buy Now"})]}):o.jsx("button",{onClick:()=>m("/auth/login"),className:"flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-3 py-2 text-[10px] font-semibold text-white shadow-sm hover:bg-primary-700 sm:px-4 sm:py-2.5 sm:text-sm",children:"Login to Order"})})]})]})]})},pH=()=>o.jsxs(be,{className:"flex animate-pulse flex-col overflow-hidden",children:[o.jsx("div",{className:"relative",children:o.jsx("div",{className:"h-32 w-full bg-gray-300 sm:h-48"})}),o.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"h-4 w-1/4 rounded bg-gray-300"}),o.jsx("div",{className:"mt-2 h-6 w-3/4 rounded bg-gray-300"}),o.jsxs("div",{className:"mt-2 space-y-2",children:[o.jsx("div",{className:"h-4 rounded bg-gray-300"}),o.jsx("div",{className:"h-4 w-5/6 rounded bg-gray-300"})]})]}),o.jsxs("div",{className:"mt-auto pt-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"h-8 w-1/3 rounded bg-gray-300"}),o.jsx("div",{className:"h-5 w-1/4 rounded bg-gray-300"})]}),o.jsx("div",{className:"mt-3 h-10 w-full rounded-full bg-gray-300"})]})]})]}),ybe=()=>{const[t,e]=g.useState([]),[n,r]=g.useState(!0),[i,s]=g.useState(null);return g.useEffect(()=>{(async()=>{try{r(!0);const c=await he.collection("ingredients").where("isTopping","==",!0).get(),u=[];c.forEach(d=>{const h=d.data();h.stock>0&&h.toppingPrice!==void 0&&h.portionSize!==void 0&&u.push({id:d.id,name:h.name,price:h.toppingPrice,stock:h.stock,portionSize:h.portionSize})}),u.sort((d,h)=>d.name.localeCompare(h.name)),e(u),s(null)}catch(l){console.error("Error fetching toppings:",l),s("Failed to load toppings"),e([{id:"pearls",name:"Pearls",price:10,stock:3e3,portionSize:30},{id:"pudding",name:"Pudding",price:15,stock:2e3,portionSize:40},{id:"grass-jelly",name:"Grass Jelly",price:15,stock:2500,portionSize:35}])}finally{r(!1)}})()},[]),{toppings:t,isLoading:n,error:i}},eu={sugarLevels:[{value:"0%",label:"No Sugar",sugarAmount:0,sugarIngredientId:"brown-sugar-syrup"},{value:"25%",label:"25% Sweet",sugarAmount:5,sugarIngredientId:"brown-sugar-syrup"},{value:"50%",label:"50% Sweet",sugarAmount:10,sugarIngredientId:"brown-sugar-syrup"},{value:"75%",label:"75% Sweet",sugarAmount:15,sugarIngredientId:"brown-sugar-syrup"},{value:"100%",label:"Regular (100%)",sugarAmount:20,sugarIngredientId:"brown-sugar-syrup"}],iceLevels:[{value:"None",label:"No Ice",iceAmount:0,iceIngredientId:"ice-cubes"},{value:"Less",label:"Less Ice",iceAmount:50,iceIngredientId:"ice-cubes"},{value:"Normal",label:"Normal Ice",iceAmount:100,iceIngredientId:"ice-cubes"},{value:"Extra",label:"Extra Ice",iceAmount:150,iceIngredientId:"ice-cubes"}]},gH=async()=>{try{const t=he.collection("settings").doc("customizationOptions");(await t.get()).exists?console.log(" Customization options already exist in Firestore"):(console.log("Seeding customization options to Firestore..."),await t.set(eu),console.log(" Customization options seeded successfully"))}catch(t){throw console.error(" Error seeding customization options:",t),t}},vbe=async()=>{try{const t=he.collection("settings").doc("customizationOptions"),e=await t.get();return e.exists?e.data():(await gH(),(await t.get()).data())}catch(t){return console.error("Error fetching customization options:",t),eu}},xbe=()=>{const[t,e]=g.useState(eu),[n,r]=g.useState(!0),[i,s]=g.useState(null);return g.useEffect(()=>{(async()=>{try{r(!0);const l=await vbe();l&&l.sugarLevels&&l.iceLevels?(e(l),s(null)):e(eu)}catch(l){console.error("Error fetching customization options:",l),s("Failed to load customization options"),e(eu)}finally{r(!1)}})()},[]),{options:t,isLoading:n,error:i}},IC=({product:t,selectedSize:e,isOpen:n,onClose:r,onConfirm:i,onBuyNow:s,initialCustomizations:a,initialQuantity:l=1})=>{const[c,u]=g.useState("100%"),[d,h]=g.useState("Normal"),[f,m]=g.useState("None"),[y,v]=g.useState(1),{toppings:x,isLoading:w}=ybe(),{options:_,isLoading:b}=xbe();if(hs.useEffect(()=>{if(n){if(a){u(a.sugarLevel||"100%"),h(a.iceLevel||"Normal");const k=a.toppings&&a.toppings.length>0?a.toppings[0]:"None";m(k)}else u("100%"),h("Normal"),m("None");v(l)}},[n,a,l]),!n)return null;const N=()=>{const k=["Coffee Based","Non-Coffee Based","Matcha Series","Refreshments"].includes(t.category),O={toppings:f!=="None"?[f]:[]};return k&&(O.sugarLevel=c,O.iceLevel=d),O},E=()=>{i(N(),y,A/y)},C=[{id:"none",name:"None",price:0},...x.map(k=>({id:k.id,name:k.name,price:k.price}))],j=C.find(k=>k.name===f),T=(j==null?void 0:j.price)||0,A=(e.price+T)*y,P=w||b;return o.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center sm:items-center animate-in fade-in duration-200",children:[o.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:r}),o.jsxs("div",{className:"relative z-10 w-full max-w-lg overflow-hidden bg-white shadow-2xl transition-all duration-300 ease-out sm:rounded-3xl rounded-t-3xl max-h-[90vh] flex flex-col animate-in slide-in-from-bottom-4 sm:slide-in-from-bottom-0 sm:zoom-in-95",children:[o.jsxs("div",{className:"relative shrink-0 bg-white border-b border-gray-100 p-4 flex items-center gap-4",children:[o.jsx("div",{className:"h-20 w-20 shrink-0 rounded-xl overflow-hidden bg-gray-100 border border-gray-200",children:o.jsx("img",{src:t.imageUrl,alt:t.name,className:"h-full w-full object-cover"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900 leading-tight mb-1",children:t.name}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[o.jsx("span",{className:"bg-gray-100 px-2 py-0.5 rounded font-medium text-gray-700",children:e.name}),o.jsx("span",{children:e.size})]})]}),o.jsx("button",{onClick:r,className:"h-9 w-9 flex items-center justify-center rounded-full bg-gray-100 text-gray-500 hover:bg-gray-200 transition-colors",children:o.jsx(wr,{className:"h-5 w-5"})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-5 pb-24 space-y-6",children:P?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Lt,{className:"h-8 w-8 animate-spin text-coffee-600"})}):o.jsxs(o.Fragment,{children:[["Coffee Based","Non-Coffee Based","Matcha Series","Refreshments"].includes(t.category)&&o.jsxs("div",{children:[o.jsx("h4",{className:"mb-3 text-sm font-bold text-gray-900 uppercase tracking-wide flex items-center gap-2",children:"Sugar Level"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:_.sugarLevels.map(k=>o.jsx("button",{onClick:()=>u(k.value),className:`flex-1 min-w-[60px] rounded-lg py-2 text-sm font-semibold transition-all border ${c===k.value?"bg-coffee-600 text-white border-coffee-600 shadow-md":"bg-white text-gray-600 border-gray-200 hover:border-coffee-300 hover:bg-coffee-50"}`,children:k.value},k.value))})]}),["Coffee Based","Non-Coffee Based","Matcha Series","Refreshments"].includes(t.category)&&o.jsxs("div",{children:[o.jsx("h4",{className:"mb-3 text-sm font-bold text-gray-900 uppercase tracking-wide flex items-center gap-2",children:"Ice Level"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:_.iceLevels.map(k=>o.jsx("button",{onClick:()=>h(k.value),className:`flex-1 min-w-[60px] rounded-lg py-2 text-sm font-semibold transition-all border ${d===k.value?"bg-coffee-600 text-white border-coffee-600 shadow-md":"bg-white text-gray-600 border-gray-200 hover:border-coffee-300 hover:bg-coffee-50"}`,children:k.value},k.value))})]}),o.jsxs("div",{children:[o.jsxs("h4",{className:"mb-3 text-sm font-bold text-gray-900 uppercase tracking-wide flex items-center justify-between",children:[o.jsx("span",{children:"Toppings"}),o.jsx("span",{className:"text-xs font-normal text-gray-500 normal-case",children:"Select one"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:C.map(k=>{const O=f===k.name;return o.jsxs("button",{onClick:()=>m(k.name),className:`
                                                    relative px-3 py-2 rounded-lg text-sm font-medium transition-all border flex items-center gap-2
                                                    ${O?"bg-coffee-50 border-coffee-600 text-coffee-700 shadow-sm ring-1 ring-coffee-600":"bg-white border-gray-200 text-gray-600 hover:border-coffee-300 hover:bg-gray-50"}
                                                `,children:[o.jsx("span",{children:k.name}),k.price>0&&o.jsxs("span",{className:`text-xs font-bold ${O?"text-coffee-600":"text-gray-400"}`,children:["+",k.price]})]},k.id)})})]}),o.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[o.jsx("span",{className:"font-bold text-gray-900",children:"Quantity"}),o.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 rounded-lg p-1 border border-gray-200",children:[o.jsx("button",{onClick:()=>v(Math.max(1,y-1)),className:"h-8 w-8 rounded-md bg-white shadow-sm flex items-center justify-center text-gray-600 hover:text-coffee-600 disabled:opacity-50 transition-colors",disabled:y<=1,children:o.jsx(eg,{className:"h-4 w-4"})}),o.jsx("span",{className:"w-8 text-center font-bold text-gray-900 tabular-nums",children:y}),o.jsx("button",{onClick:()=>v(y+1),className:"h-8 w-8 rounded-md bg-coffee-600 shadow-sm flex items-center justify-center text-white hover:bg-coffee-700 transition-colors",children:o.jsx(uo,{className:"h-4 w-4"})})]})]})]})}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 border-t border-gray-200 bg-white p-4 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]",children:o.jsx("div",{className:"flex gap-3",children:o.jsxs("button",{onClick:E,disabled:P,className:"w-full flex items-center justify-between rounded-xl bg-gradient-to-r from-coffee-600 to-coffee-700 px-6 py-3.5 text-white font-bold shadow-lg hover:shadow-xl hover:scale-[1.01] active:scale-[0.99] transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx("span",{children:"Add to Order"}),o.jsxs("span",{className:"text-lg tabular-nums",children:["",A.toFixed(2)]})]})})})]})]})},bbe=[{value:"default",label:"Default"},{value:"price-asc",label:"Price: Low to High"},{value:"price-desc",label:"Price: High to Low"},{value:"name-asc",label:"Name: A-Z"},{value:"name-desc",label:"Name: Z-A"}],wbe={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},_be={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},Nbe=()=>{const{products:t,isLoading:e,error:n}=Gu(),[r,i]=g.useState("All"),[s,a]=g.useState(""),[l,c]=g.useState("default"),[u,d]=g.useState(!1),h=g.useRef(null),f=g.useRef(null),{addToCart:m}=lr(),{currentUser:y}=Zt(),[v,x]=g.useState(!1),[w,_]=g.useState(null),[b,N]=g.useState(null),E=(A,P)=>{["Coffee Based","Non Coffee","Refreshments","Matcha Series"].includes(A.category)?(_(A),N(P),x(!0)):m(A,P)},C=(A,P)=>{w&&b&&m(w,b,A,P)},j=g.useMemo(()=>t.length===0?["All"]:["All",...[...new Set(t.map(P=>P.category))].sort()],[t]);g.useEffect(()=>{const A=P=>{h.current&&!h.current.contains(P.target)&&d(!1)};return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[]);const T=g.useMemo(()=>{const P=[...t.filter(k=>{const O=r==="All"||k.category===r,R=s.trim()===""||k.name.toLowerCase().includes(s.toLowerCase())||k.description.toLowerCase().includes(s.toLowerCase());return O&&R})];switch(l){case"price-asc":P.sort((k,O)=>k.sizes[0].price-O.sizes[0].price);break;case"price-desc":P.sort((k,O)=>O.sizes[0].price-k.sizes[0].price);break;case"name-asc":P.sort((k,O)=>k.name.localeCompare(O.name));break;case"name-desc":P.sort((k,O)=>O.name.localeCompare(k.name));break}return P},[r,s,t,l]);return o.jsxs("div",{className:"flex min-h-screen flex-col bg-white",children:[o.jsx(ar,{}),o.jsxs("main",{children:[o.jsxs("section",{className:"relative flex min-h-[40vh] items-center justify-center bg-coffee-900 px-6 py-16 text-center text-white",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1509042239860-f550ce710b93?q=80&w=2574&auto=format&fit=crop')] bg-cover bg-center opacity-20"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-coffee-900/80 to-coffee-900/90"}),o.jsxs("div",{className:"container relative z-40 mx-auto max-w-4xl",children:[o.jsx("h1",{className:"font-display text-4xl font-bold md:text-5xl",children:"Our Menu"}),o.jsx("p",{className:"mt-2 text-lg text-gray-200",children:"Discover your perfect cup "}),o.jsxs("div",{className:"mx-auto mt-8 flex max-w-2xl gap-3",children:[o.jsxs("div",{className:"relative flex-grow",children:[o.jsx(Ya,{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",value:s,onChange:A=>a(A.target.value),placeholder:"Search for coffee, matcha...",className:"w-full rounded-full border-0 bg-white/10 py-3 pl-12 pr-4 text-white placeholder:text-gray-400 ring-1 ring-white/20 transition focus:bg-white/20 focus:ring-2 focus:ring-primary-500"})]}),o.jsxs("div",{className:"relative shrink-0",ref:h,children:[o.jsx("button",{onClick:()=>d(!u),className:"flex h-12 w-12 items-center justify-center rounded-full bg-white/10 text-white backdrop-blur-sm ring-1 ring-white/20 transition hover:bg-white/20","aria-haspopup":"true","aria-expanded":u,"aria-label":"Sort products",children:o.jsx(GU,{className:"h-5 w-5"})}),o.jsx("div",{className:`absolute right-0 top-full z-[100] mt-2 w-56 origin-top-right rounded-xl border border-gray-100 bg-white p-1 shadow-xl ring-1 ring-black ring-opacity-5 transition-all duration-200 ease-out ${u?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,role:"menu","aria-orientation":"vertical",children:o.jsx("div",{className:"py-1",role:"none",children:bbe.map(A=>o.jsxs("button",{onClick:()=>{c(A.value),d(!1)},className:`flex w-full items-center justify-between rounded-lg px-4 py-2.5 text-sm text-left font-medium transition-colors ${l===A.value?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-50"}`,role:"menuitem",children:[o.jsx("span",{children:A.label}),l===A.value&&o.jsx(Ka,{className:"h-4 w-4"})]},A.value))})})]})]})]})]}),o.jsx("div",{className:"sticky top-16 z-20 border-b border-gray-200 bg-white/95 py-3 backdrop-blur-sm sm:top-20",children:o.jsx("div",{className:"container mx-auto flex max-w-7xl gap-2 overflow-x-auto px-6 pb-2",children:j.map(A=>o.jsx("button",{onClick:()=>{var P;i(A),(P=f.current)==null||P.scrollIntoView({behavior:"smooth"})},className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition-colors ${r===A?"bg-primary-600 text-white shadow":"border border-gray-300 bg-white text-gray-700 hover:bg-gray-100"}`,children:A},A))})}),o.jsx("section",{ref:f,className:"bg-gray-50 px-6 py-8 scroll-mt-36",children:o.jsx("div",{className:"container mx-auto max-w-7xl",children:e?o.jsx("div",{className:"grid grid-cols-2 gap-4 sm:gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:Array.from({length:8}).map((A,P)=>o.jsx(pH,{},P))}):n?o.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-red-200 bg-red-50 py-20 text-center text-red-700",children:[o.jsx(Un,{className:"h-16 w-16"}),o.jsx("h3",{className:"mt-4 text-xl font-semibold",children:"Oops! Something went wrong."}),o.jsx("p",{className:"mt-2",children:n})]}):T.length>0?o.jsx(Gt.div,{className:"grid grid-cols-2 gap-4 sm:gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",variants:wbe,initial:"hidden",animate:"visible",children:T.map(A=>o.jsx(Gt.div,{variants:_be,layout:!0,className:"flex",children:o.jsx(gbe,{product:A,onAddToCart:E,isLoggedIn:!!y})},A.id))}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[o.jsx(Ya,{className:"h-24 w-24 text-gray-300"}),o.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-800",children:"No products found"}),o.jsx("p",{className:"mt-2 text-gray-500",children:"Try adjusting your filters or search query."})]})})})]}),o.jsx(or,{}),w&&b&&o.jsx(IC,{product:w,selectedSize:b,isOpen:v,onClose:()=>x(!1),onConfirm:C})]})},Sbe=({selectedMethod:t,onSelectMethod:e})=>{const n=t==="gcash",r=t==="cash",i=({isSelected:s})=>o.jsx("div",{className:`absolute top-4 right-4 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full border-2 transition-all ${s?"border-primary-600 bg-primary-600":"border-gray-400 bg-white"}`,children:s&&o.jsx(Ka,{className:"h-4 w-4 text-white"})});return o.jsxs("div",{className:"w-full",children:[o.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Payment Method"}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",role:"radiogroup",children:[o.jsxs("div",{onClick:()=>e("gcash"),role:"radio","aria-checked":n,tabIndex:0,onKeyDown:s=>(s.key===" "||s.key==="Enter")&&e("gcash"),className:`relative cursor-pointer rounded-xl border-2 p-6 transition-all duration-200 ease-in-out hover:border-primary-300 ${n?"border-primary-600 bg-primary-50 shadow-lg":"border-gray-200 bg-white"}`,children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-blue-100",children:o.jsx(n8,{className:"h-7 w-7 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"pr-8 font-display text-lg font-bold text-coffee-900",children:"GCash"}),o.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Pay securely via GCash QR code."})]})]}),o.jsx("div",{className:"mt-4",children:o.jsx(tr,{className:n?"bg-blue-200 text-blue-800":"bg-gray-100 text-gray-700",children:"Instant confirmation"})}),o.jsx(i,{isSelected:n})]}),o.jsxs("div",{onClick:()=>e("cash"),role:"radio","aria-checked":r,tabIndex:0,onKeyDown:s=>(s.key===" "||s.key==="Enter")&&e("cash"),className:`relative cursor-pointer rounded-xl border-2 p-6 transition-all duration-200 ease-in-out hover:border-primary-300 ${r?"border-primary-600 bg-primary-50 shadow-lg":"border-gray-200 bg-white"}`,children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-green-100",children:o.jsx(YT,{className:"h-7 w-7 text-green-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"pr-8 font-display text-lg font-bold text-coffee-900",children:"Over the counter payment"}),o.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Pay when you collect your order."})]})]}),o.jsx("div",{className:"mt-4",children:o.jsx(tr,{className:r?"bg-green-200 text-green-800":"bg-gray-100 text-gray-700",children:"Pay at counter"})}),o.jsx(i,{isSelected:r})]})]})]})},Ebe=({totalAmount:t,orderNumber:e,receipt:n,onReceiptUpload:r})=>{const[i,s]=g.useState(null);g.useEffect(()=>{if(!n){s(null);return}const c=URL.createObjectURL(n);return s(c),()=>URL.revokeObjectURL(c)},[n]);const a=c=>{c.target.files&&c.target.files[0]&&r(c.target.files[0]),c.target.value=""},l=()=>{r(null)};return o.jsxs("div",{className:"w-full max-w-md mx-auto space-y-6",children:[o.jsx("div",{className:"rounded-lg border-l-4 border-blue-400 bg-blue-50 p-4",role:"alert",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Un,{className:"h-5 w-5 text-blue-400","aria-hidden":"true"})}),o.jsx("div",{className:"ml-3",children:o.jsx("p",{className:"text-sm text-blue-700",children:"Please scan the QR code, complete the payment, and upload a screenshot of your receipt."})})]})}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mx-auto flex h-64 w-64 items-center justify-center rounded-xl border-4 border-primary-600 bg-white p-4 shadow-lg",children:o.jsx("div",{className:"relative flex h-full w-full items-center justify-center bg-[radial-gradient(#1e1612_1px,transparent_1px),radial-gradient(#1e1612_1px,transparent_1px)] bg-[length:12px_12px] bg-[position:0_0,6px_6px]",children:o.jsx("div",{className:"bg-white p-2 font-mono text-sm font-bold text-coffee-900",children:e})})}),o.jsxs("p",{className:"mt-4 text-sm font-medium text-gray-600",children:["Merchant: ",o.jsx("span",{className:"font-bold text-coffee-900",children:"Rush Coffee"})]}),o.jsxs("p",{className:"font-display text-3xl font-bold text-primary-600",children:["",t.toFixed(2)]})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("input",{type:"file",id:"receipt-upload",className:"hidden",accept:"image/*",onChange:a}),n?o.jsxs("div",{className:"relative rounded-lg border border-gray-300 bg-white p-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[i?o.jsx("img",{src:i,alt:"Receipt preview",className:"h-16 w-16 flex-shrink-0 rounded-md object-cover"}):o.jsx("div",{className:"flex h-16 w-16 flex-shrink-0 items-center justify-center rounded-md bg-gray-100",children:o.jsx(ore,{className:"h-8 w-8 text-gray-400"})}),o.jsxs("div",{className:"flex-1 overflow-hidden",children:[o.jsx("p",{className:"truncate text-sm font-medium text-gray-800",children:n.name}),o.jsxs("p",{className:"text-xs text-gray-500",children:[(n.size/1024).toFixed(2)," KB"]})]})]}),o.jsx("button",{onClick:l,className:"absolute -top-2 -right-2 flex h-6 w-6 items-center justify-center rounded-full bg-red-500 text-white transition-transform hover:scale-110","aria-label":"Remove receipt",children:o.jsx(wr,{className:"h-4 w-4"})})]}):o.jsxs("label",{htmlFor:"receipt-upload",className:"flex cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-6 text-center transition hover:bg-gray-100",children:[o.jsx(qne,{className:"h-12 w-12 text-gray-400"}),o.jsx("span",{className:"mt-2 block text-sm font-semibold text-gray-600",children:"Upload Receipt"}),o.jsx("span",{className:"mt-1 block text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})]})]})},jbe=({items:t,subtotal:e,serviceFee:n=0,total:r})=>o.jsx("div",{className:"w-full lg:sticky lg:top-24",children:o.jsxs(be,{className:"rounded-xl border-gray-200 p-6 shadow-none",children:[o.jsx("h2",{className:"mb-4 font-display text-lg font-semibold text-coffee-900",children:"Order Summary"}),o.jsx("div",{className:"max-h-60 space-y-2 overflow-y-auto pr-2",children:t.map((i,s)=>o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-gray-700",children:i.productName}),o.jsxs("span",{className:"ml-2 rounded-md bg-gray-100 px-1.5 py-0.5 text-xs font-medium text-gray-600",children:["",i.quantity]})]}),o.jsxs("span",{className:"font-medium text-gray-900",children:["",(i.price*i.quantity).toFixed(2)]})]},s))}),o.jsx("hr",{className:"my-4 border-gray-200"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Subtotal"}),o.jsxs("span",{className:"font-medium text-gray-900",children:["",e.toFixed(2)]})]}),n>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Service Fee"}),o.jsxs("span",{className:"font-medium text-gray-900",children:["",n.toFixed(2)]})]})]}),o.jsx("hr",{className:"my-4 border-dashed border-gray-300"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-base font-bold text-gray-900",children:"Total"}),o.jsxs("span",{className:"font-display text-2xl font-bold text-primary-600",children:["",r.toFixed(2)]})]})]})}),yH=g.createContext(void 0),vH=()=>{const t=g.useContext(yH);if(t===void 0)throw new Error("useNotification must be used within a NotificationProvider");return t},Tbe=({children:t})=>{const[e,n]=g.useState({message:"",type:"info",isVisible:!1}),r=g.useCallback((a,l="info")=>{n({message:a,type:l,isVisible:!0}),setTimeout(()=>{n(c=>({...c,isVisible:!1}))},5e3)},[]),i=g.useCallback(()=>{n(a=>({...a,isVisible:!1}))},[]),s={notification:e,showNotification:r,hideNotification:i};return o.jsx(yH.Provider,{value:s,children:t})},xH=g.createContext(void 0),CC=()=>{const t=g.useContext(xH);if(t===void 0)throw new Error("useOrder must be used within an OrderProvider");return t},Abe=({children:t})=>{const[e,n]=g.useState(null),[r,i]=g.useState([]),[s,a]=g.useState(!0),{currentUser:l}=Zt(),{showNotification:c}=vH(),u=g.useRef(void 0);g.useEffect(()=>{let f;return l?(a(!0),f=he.collection("orders").where("userId","==",l.uid).onSnapshot(v=>{const x=v.docs.map(_=>{var b;return{id:_.id,..._.data(),timestamp:((b=_.data().timestamp)==null?void 0:b.toDate())||new Date}});x.sort((_,b)=>b.timestamp.getTime()-_.timestamp.getTime()),i(x);const w=x.find(_=>_.status!=="completed"&&_.status!=="cancelled")||null;n(w),a(!1)},v=>{console.error("Error listening to order history:",v),a(!1)})):(i([]),n(null),a(!1)),()=>{f&&f()}},[l]),g.useEffect(()=>{const f=e==null?void 0:e.status,m=u.current;if(f==="ready"&&m!=="ready"){const y=e==null?void 0:e.orderItems.map(v=>v.productName).join(", ");c(`Your order for ${y} is ready!`,"success")}u.current=f},[e==null?void 0:e.status,e==null?void 0:e.orderItems,c]);const h={activeOrder:e,setActiveOrder:n,orderHistory:r,addOrderToHistory:async f=>{try{const m=await he.collection("orders").add({...f,timestamp:Fe.firestore.FieldValue.serverTimestamp()}),y={...f,id:m.id,timestamp:new Date};i(v=>[y,...v]),n(y)}catch(m){console.error("Error adding order to Firestore:",m)}},isHistoryLoading:s};return o.jsx(xH.Provider,{value:h,children:t})},Ibe=()=>{const t=$n(),{cartItems:e,showToast:n,totalCartItems:r,clearCart:i,selectedItemIds:s}=lr(),{currentUser:a}=Zt(),{setActiveOrder:l,addOrderToHistory:c}=CC(),u=g.useMemo(()=>e.filter(M=>s.includes(M.id)),[e,s]),[d,h]=g.useState(null),[f,m]=g.useState({name:"",phone:""}),[y,v]=g.useState(""),[x,w]=g.useState({}),[_,b]=g.useState(null),[N,E]=g.useState(!1),[C,j]=g.useState(!1),{subtotal:T,serviceFee:A,total:P}=g.useMemo(()=>{const M=u.reduce((B,G)=>B+G.selectedSize.price*G.quantity,0),L=15;return{subtotal:M,serviceFee:L,total:M+L}},[u]),k=g.useMemo(()=>u.map(M=>({productName:`${M.product.name} (${M.selectedSize.name})`,quantity:M.quantity,price:M.selectedSize.price})),[u]);g.useEffect(()=>{if(!a){n("Please log in to proceed to checkout."),t("/auth/login",{state:{from:"/checkout"}});return}r===0&&!N&&!C&&(n("Your cart is empty. Add items to checkout."),t("/menu"))},[r,t,n,N,C,a]),g.useEffect(()=>{a&&m({name:`${a.firstName} ${a.lastName}`,phone:a.phone||""})},[a]);const O=()=>{const M={};return f.name.trim().length<2&&(M.name="Name must be at least 2 characters long."),/^(09|\+639)\d{9}$/.test(f.phone)||(M.phone="Please enter a valid Philippine phone number (e.g., 09xxxxxxxxx)."),d||(M.payment="Please select a payment method."),d==="gcash"&&!_&&(M.gcash="Please upload your payment receipt to proceed."),w(M),Object.keys(M).length===0},R=async M=>{if(M.preventDefault(),!a||!O()){n("Please correct the errors before proceeding.");return}E(!0);const L=`RC-2025-${Math.floor(1e3+Math.random()*9e3)}`;setTimeout(async()=>{const B={userId:a.uid,customerName:f.name,orderNumber:L,position:Math.floor(Math.random()*5)+1,status:"waiting",orderItems:u.map(G=>({productId:G.product.id,productName:`${G.product.name} (${G.selectedSize.name})`,quantity:G.quantity,price:G.selectedSize.price})),totalAmount:P,paymentMethod:d,paymentStatus:d==="gcash"?"paid":"pending",estimatedTime:10};await c(B),i(),E(!1),j(!0),t("/queue",{state:{fromCheckout:!0,orderNumber:L}})},2e3)},V=N||!d||!f.name||!/^(09|\+639)\d{9}$/.test(f.phone)||d==="gcash"&&!_;return!a||r===0&&!C?o.jsxs("div",{className:"flex min-h-screen flex-col",children:[o.jsx(ar,{}),o.jsx("main",{className:"flex flex-1 items-center justify-center bg-gray-50 text-center",children:o.jsxs("div",{children:[o.jsx(tg,{className:"mx-auto h-24 w-24 text-gray-300"}),o.jsx("h1",{className:"mt-4 text-2xl font-bold text-gray-800",children:"Your cart is empty"}),o.jsx("p",{className:"mt-2 text-gray-500",children:"Add some delicious coffee to get started."}),o.jsx("button",{onClick:()=>t("/menu"),className:"mt-6 rounded-full bg-primary-600 px-6 py-2 font-semibold text-white hover:bg-primary-700",children:"Browse Menu"})]})}),o.jsx(or,{})]}):o.jsxs("div",{className:"flex min-h-screen flex-col bg-gray-50",children:[o.jsx(ar,{}),o.jsxs("main",{className:"container mx-auto max-w-7xl px-4 py-8",children:[o.jsx("h1",{className:"mb-6 font-display text-3xl font-bold text-coffee-900",children:"Checkout"}),o.jsxs("form",{onSubmit:R,id:"checkout-form",className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[o.jsxs("div",{className:"space-y-8 lg:col-span-2",children:[o.jsxs("div",{className:"rounded-xl border bg-white p-6",children:[o.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Your Information"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),o.jsx(Ki,{className:"absolute left-3 top-10 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"text",id:"name",value:f.name,onChange:M=>m({...f,name:M.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 py-2 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Juan dela Cruz"}),x.name&&o.jsx("p",{className:"mt-1 text-xs text-red-500",children:x.name})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),o.jsx(ys,{className:"absolute left-3 top-10 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"tel",id:"phone",value:f.phone,onChange:M=>m({...f,phone:M.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 py-2 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"09171234567"}),x.phone&&o.jsx("p",{className:"mt-1 text-xs text-red-500",children:x.phone})]})]})]}),o.jsxs("div",{className:"rounded-xl border bg-white p-6",children:[o.jsx(Sbe,{selectedMethod:d,onSelectMethod:h}),x.payment&&o.jsx("p",{className:"mt-2 text-xs text-red-500",children:x.payment}),d==="gcash"&&o.jsxs("div",{className:"mt-6 border-t pt-6",children:[o.jsx(Ebe,{totalAmount:P,orderNumber:`TEMP-${Date.now()}`,receipt:_,onReceiptUpload:b}),x.gcash&&o.jsx("p",{className:"mt-2 text-xs text-red-500 text-center",children:x.gcash})]}),d==="cash"&&o.jsx("div",{className:"mt-6 rounded-lg border-l-4 border-green-400 bg-green-50 p-4",role:"alert",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Un,{className:"h-5 w-5 text-green-400"})}),o.jsx("div",{className:"ml-3",children:o.jsx("p",{className:"text-sm text-green-700",children:"Please prepare the exact amount. You can pay at the counter upon pickup."})})]})})]}),o.jsxs("div",{className:"rounded-xl border bg-white p-6",children:[o.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Special Instructions (Optional)"}),o.jsxs("div",{className:"relative",children:[o.jsx(Hl,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),o.jsx("textarea",{id:"notes",value:y,onChange:M=>v(M.target.value),rows:3,className:"block w-full rounded-md border-gray-300 py-2 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"e.g., less ice, extra shot..."})]})]}),o.jsx("div",{className:"hidden lg:block",children:o.jsx("button",{type:"submit",form:"checkout-form",disabled:V,className:"mt-2 flex w-full max-w-xs justify-center rounded-full bg-primary-600 px-4 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 disabled:cursor-not-allowed disabled:bg-primary-400",children:N?o.jsx(Lt,{className:"h-6 w-6 animate-spin"}):"Place Order"})})]}),o.jsx("div",{className:"lg:col-span-1",children:o.jsx(jbe,{items:k,subtotal:T,serviceFee:A,total:P})})]})]}),o.jsx("div",{className:"sticky bottom-0 left-0 right-0 border-t border-gray-200 bg-white/90 p-4 backdrop-blur-sm lg:hidden",children:o.jsx("button",{type:"submit",form:"checkout-form",disabled:V,className:"flex w-full justify-center rounded-full bg-primary-600 px-4 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 disabled:cursor-not-allowed disabled:bg-primary-400",children:N?o.jsx(Lt,{className:"h-6 w-6 animate-spin"}):`Place Order (${P.toFixed(2)})`})}),o.jsx(or,{})]})},Ae=g.forwardRef(({children:t,variant:e="primary",size:n="md",className:r="",asChild:i=!1,isLoading:s=!1,startIcon:a,endIcon:l,fullWidth:c=!1,disabled:u,...d},h)=>{const f="inline-flex items-center justify-center gap-2 rounded-full font-semibold transition-all duration-200 ease-in-out focus:outline-none focus:ring-4 disabled:cursor-not-allowed disabled:opacity-60 active:scale-95",m={primary:"bg-primary-600 text-white shadow-lg hover:bg-primary-700 hover:shadow-xl focus:ring-primary-500/30 active:bg-primary-800",secondary:"bg-coffee-600 text-white shadow-lg hover:bg-coffee-700 hover:shadow-xl focus:ring-coffee-500/30 active:bg-coffee-800",outline:"border-2 border-primary-600 bg-transparent text-primary-600 hover:bg-primary-50 focus:ring-primary-500/20 active:bg-primary-100",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500/20 active:bg-gray-200",danger:"bg-red-600 text-white shadow-lg hover:bg-red-700 hover:shadow-xl focus:ring-red-500/30 active:bg-red-800"},y={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg",xl:"px-10 py-5 text-xl"},v=c?"w-full":"",x=`${f} ${m[e]} ${y[n]} ${v} ${r}`,w=o.jsxs(o.Fragment,{children:[s&&o.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!s&&a&&o.jsx("span",{className:"inline-flex items-center flex-shrink-0",children:a}),o.jsx("span",{className:"inline-flex items-center",children:t}),!s&&l&&o.jsx("span",{className:"inline-flex items-center flex-shrink-0",children:l})]});return i?o.jsx("span",{className:x,children:w}):o.jsx("button",{ref:h,className:x,disabled:u||s,...d,children:w})});Ae.displayName="Button";const o6=({order:t,isOpen:e,onClose:n})=>{if(hs.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),!e)return null;const r=()=>{window.print()};return au.createPortal(o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 print:p-0 print:absolute print:inset-0 print:block print:bg-white",onClick:n,children:o.jsxs("div",{className:"flex flex-col w-full max-w-md max-h-[90vh] overflow-hidden rounded-3xl bg-white shadow-2xl print:max-w-none print:shadow-none print:rounded-none print:max-h-none print:overflow-visible animate-fade-in-up",onClick:i=>i.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 p-4 print:hidden flex-shrink-0 bg-white z-10",children:[o.jsx("h3",{className:"font-display text-lg font-bold text-gray-900",children:"Digital Receipt"}),o.jsx("button",{onClick:n,className:"rounded-full p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-600 transition-colors",children:o.jsx(wr,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-8 print:p-0 print:overflow-visible",id:"receipt-content",children:[o.jsxs("div",{className:"mb-8 text-center",children:[o.jsx(vn,{className:"mx-auto h-16 w-16 text-primary-600 mb-4"}),o.jsx("h1",{className:"font-display text-2xl font-bold text-coffee-900",children:"Rush Coffee"}),o.jsx("p",{className:"text-sm text-gray-500",children:"11 Visayan Ave. St. Galas, Quezon City"}),o.jsx("p",{className:"text-sm text-gray-500",children:"0930 464 1022"})]}),o.jsxs("div",{className:"mb-8 flex items-center justify-between border-b border-dashed border-gray-300 pb-6",children:[o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Order No."}),o.jsx("p",{className:"font-mono text-lg font-bold text-gray-900",children:t.orderNumber})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Date"}),o.jsx("p",{className:"font-medium text-gray-900",children:new Date(t.timestamp).toLocaleDateString()}),o.jsx("p",{className:"text-xs text-gray-500",children:new Date(t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Customer"}),o.jsx("p",{className:"font-medium text-gray-900",children:t.customerName})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider mb-3",children:"Order Details"}),o.jsx("ul",{className:"space-y-3",children:t.orderItems.map((i,s)=>o.jsxs("li",{className:"flex justify-between text-sm",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("span",{className:"font-medium text-gray-900",children:[i.quantity,"x ",i.productName]}),i.customizations&&o.jsxs("div",{className:"text-xs text-gray-500 pl-4 mt-0.5",children:[i.customizations.sugarLevel&&o.jsxs("span",{children:["Sugar: ",i.customizations.sugarLevel,", "]}),i.customizations.iceLevel&&o.jsxs("span",{children:["Ice: ",i.customizations.iceLevel]})]})]}),o.jsxs("span",{className:"font-medium text-gray-900",children:["",(i.price*i.quantity).toFixed(2)]})]},s))})]}),o.jsxs("div",{className:"border-t border-dashed border-gray-300 pt-4 space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Subtotal"}),o.jsxs("span",{className:"font-medium text-gray-900",children:["",(t.totalAmount-15).toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Service Fee"}),o.jsx("span",{className:"font-medium text-gray-900",children:"15.00"})]}),o.jsxs("div",{className:"flex justify-between text-lg font-bold text-coffee-900 pt-2 border-t border-gray-100 mt-2",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{children:["",t.totalAmount.toFixed(2)]})]})]}),o.jsxs("div",{className:"mt-6 rounded-lg bg-gray-50 p-4 text-center print:bg-transparent print:border print:border-gray-200",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Payment Method"}),o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("span",{className:`inline-block h-2 w-2 rounded-full ${t.paymentStatus==="paid"?"bg-green-500":"bg-amber-500"}`}),o.jsx("span",{className:"font-bold text-gray-900 uppercase",children:t.paymentMethod})]}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Status: ",o.jsx("span",{className:t.paymentStatus==="paid"?"text-green-600 font-medium":"text-amber-600 font-medium",children:t.paymentStatus==="paid"?"PAID":"PENDING"})]})]}),o.jsxs("div",{className:"mt-8 text-center border-t border-gray-100 pt-6",children:[o.jsx("p",{className:"font-display text-lg font-bold text-coffee-900 mb-1",children:"Thank You!"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Please present this receipt at the counter."}),o.jsx("p",{className:"text-[10px] text-gray-400 mt-4 font-mono",children:t.id})]})]}),o.jsx("div",{className:"border-t border-gray-100 p-4 bg-gray-50 print:hidden flex-shrink-0 z-10",children:o.jsxs(Ae,{onClick:r,fullWidth:!0,className:"flex items-center justify-center gap-2",children:[o.jsx(Yre,{className:"h-4 w-4"}),"Print Receipt"]})})]})}),o.jsx("style",{children:`
        @media print {
          body * {
            visibility: hidden;
          }
          #receipt-content, #receipt-content * {
            visibility: visible;
          }
          #receipt-content {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            margin: 0;
            padding: 20px;
          }
        }
      `})]}),document.body)},Cbe=async t=>{try{const e=he.batch(),n={straw:0,napkins:0,"cup-grande":0,"cup-venti":0,"lid-grande":0,"lid-venti":0,"takeout-pack":0};t.forEach(r=>{const i=r.productName.toLowerCase(),s=r.quantity;i.includes("grande")?(n["cup-grande"]+=s,n["lid-grande"]+=s,n.straw+=s,n.napkins+=s*2):i.includes("venti")&&(n["cup-venti"]+=s,n["lid-venti"]+=s,n.straw+=s,n.napkins+=s*2),(i.includes("ala carte")||i.includes("combo"))&&(n["takeout-pack"]+=s,n.napkins+=s*2)});for(const[r,i]of Object.entries(n))if(i>0){const s=he.collection("ingredients").doc(r);e.update(s,{stock:Fe.firestore.FieldValue.increment(-i)})}await e.commit(),console.log(" Packaging deducted successfully:",n)}catch(e){console.error(" Error deducting packaging:",e)}},Pbe=({delay:t})=>{const e=Math.random()*300-150,n=Math.random()*300+50,r=Math.random()*360,i=["#EF4444","#F59E0B","#10B981","#3B82F6","#8B5CF6","#EC4899"],s=i[Math.floor(Math.random()*i.length)];return o.jsx(Gt.div,{initial:{opacity:1,x:0,y:-20,scale:.5,rotate:0},animate:{opacity:[1,1,0],x:e,y:n,scale:[.5,1,.5],rotate:r},transition:{duration:2.5,delay:t,ease:"easeOut"},style:{position:"absolute",top:0,left:"50%",width:"8px",height:"8px",backgroundColor:s,borderRadius:Math.random()>.5?"50%":"2px",zIndex:50}})},kbe=()=>{const t=Array.from({length:60});return o.jsx("div",{className:"absolute top-0 left-0 right-0 h-full pointer-events-none overflow-hidden z-50",children:t.map((e,n)=>o.jsx(Pbe,{delay:Math.random()*.3},n))})},l6={waiting:{Icon:ca,text:"Order Placed",subtext:"We've received your order.",color:"text-amber-600",bgColor:"bg-amber-50",headerGradient:"from-amber-500 to-amber-600",step:1},preparing:{Icon:Fn,text:"Brewing Now",subtext:"Your coffee is being crafted.",color:"text-blue-600",bgColor:"bg-blue-50",headerGradient:"from-blue-500 to-blue-600",step:2},ready:{Icon:mf,text:"Ready for Pickup!",subtext:"Grab it at the counter.",color:"text-green-600",bgColor:"bg-green-50",headerGradient:"from-green-500 to-green-600",step:3},completed:{Icon:Ka,text:"Enjoy!",subtext:"Order completed.",color:"text-primary-600",bgColor:"bg-primary-50",headerGradient:"from-primary-600 to-primary-800",step:4}},Rbe=({order:t,onDismiss:e})=>{const[n,r]=g.useState(!1),[i,s]=g.useState(!1),[a,l]=g.useState(!1),[c,u]=g.useState(0),[d,h]=g.useState(0),[f,m]=g.useState(!1),y=$n(),v=l6[t.status]||l6.waiting,{showToast:x}=lr();g.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]),g.useEffect(()=>{const b=sessionStorage.getItem(`confetti_shown_${t.id}`);if(t.status==="ready"&&!b){s(!0),sessionStorage.setItem(`confetti_shown_${t.id}`,"true");const N=setTimeout(()=>s(!1),4e3);return()=>clearTimeout(N)}},[t.status,t.id]);const w=()=>{y("/menu")},_=async()=>{if(!a){l(!0);try{let b=0;if(t.orderItems.forEach(N=>{const E=N.productName.toLowerCase();E.includes("grande")?b+=4*N.quantity:E.includes("venti")?b+=5*N.quantity:E.includes("ala carte")?b+=4*N.quantity:E.includes("combo")&&(b+=5*N.quantity)}),await Cbe(t.orderItems),await he.collection("orders").doc(t.id).update({status:"completed",completedAt:new Date,updatedAt:new Date}),t.userId){const N={totalOrders:Fe.firestore.FieldValue.increment(1)};b>0&&(N.currentPoints=Fe.firestore.FieldValue.increment(b),N.loyaltyPoints=Fe.firestore.FieldValue.increment(b)),await he.collection("users").doc(t.userId).update(N),b>0?x(`Order completed! Earned ${b} loyalty points!`):x("Order marked as completed!")}}catch(b){console.error("Error updating order status:",b),x("Failed to update order status. Please try again.")}finally{l(!1)}}};return t.status==="completed"?au.createPortal(o.jsxs(ba,{children:[o.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center px-4 sm:px-6",children:[o.jsx(Gt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),o.jsxs(Gt.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative w-full max-w-sm overflow-hidden rounded-3xl bg-white shadow-2xl max-h-[90vh] overflow-y-auto scrollbar-hide",children:[o.jsxs("div",{className:`bg-gradient-to-br ${v.headerGradient} px-6 py-8 text-center text-white relative overflow-hidden`,children:[o.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden opacity-10",children:[o.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 rounded-full bg-white"}),o.jsx("div",{className:"absolute bottom-10 -left-10 w-24 h-24 rounded-full bg-white"})]}),o.jsx(Gt.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.1},className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-white/20 backdrop-blur-md ring-4 ring-white/10",children:o.jsx(Ka,{className:"h-8 w-8 text-white",strokeWidth:3})}),o.jsx("h2",{className:"font-display text-2xl font-bold tracking-tight",children:"Enjoy your coffee!"}),o.jsxs("p",{className:"mt-1 text-primary-100 font-medium",children:["Order #",t.orderNumber," completed"]})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6 text-center",children:[o.jsx("p",{className:"mb-3 text-sm font-semibold text-gray-500 uppercase tracking-wide",children:"How was your experience?"}),o.jsx("div",{className:"flex justify-center gap-2",children:[1,2,3,4,5].map(b=>o.jsx(Gt.button,{whileHover:{scale:1.2},whileTap:{scale:.9},onClick:()=>u(b),onMouseEnter:()=>h(b),onMouseLeave:()=>h(0),className:"focus:outline-none",children:o.jsx(vs,{className:`h-8 w-8 transition-colors duration-200 ${b<=(d||c)?"fill-amber-400 text-amber-400":"fill-gray-100 text-gray-300"}`})},b))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ae,{size:"lg",variant:"outline",className:"w-full rounded-xl border-2 border-gray-100 text-gray-700 hover:bg-gray-50 hover:border-gray-200 font-semibold py-3.5",onClick:()=>m(!0),children:[o.jsx(wD,{className:"mr-2 h-5 w-5"}),"View Receipt"]}),e&&o.jsx(Ae,{size:"lg",className:"w-full rounded-xl bg-primary-600 text-white hover:bg-primary-700 shadow-lg hover:shadow-primary-600/30 transition-all font-bold py-3.5 text-base",onClick:()=>{y("/menu"),e&&e()},children:"Done"}),o.jsx(Ae,{size:"lg",variant:"ghost",className:"w-full rounded-xl text-primary-600 hover:bg-primary-50 font-semibold py-2",onClick:()=>y("/menu"),children:"Order Again"})]})]})]})]}),o.jsx(o6,{order:t,isOpen:f,onClose:()=>m(!1)})]}),document.body):au.createPortal(o.jsx(ba,{children:o.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center px-4 sm:px-6",children:[o.jsx(Gt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/40 backdrop-blur-sm"}),o.jsxs(Gt.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-md overflow-hidden rounded-3xl bg-white shadow-2xl max-h-[90vh] overflow-y-auto scrollbar-hide",children:[i&&o.jsx(kbe,{}),o.jsxs(Gt.div,{className:`relative overflow-hidden px-6 py-8 text-center text-white bg-gradient-to-br ${v.headerGradient}`,layout:!0,children:[o.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden opacity-10",children:[o.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 rounded-full bg-white"}),o.jsx("div",{className:"absolute bottom-10 -left-10 w-24 h-24 rounded-full bg-white"})]}),o.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[o.jsx(ba,{mode:"wait",children:o.jsx(Gt.div,{initial:{scale:.8,opacity:0,rotate:-20},animate:{scale:1,opacity:1,rotate:0},exit:{scale:.8,opacity:0,rotate:20},transition:{type:"spring",stiffness:200,damping:15},className:"mb-3 flex h-16 w-16 items-center justify-center rounded-full bg-white/20 backdrop-blur-md ring-4 ring-white/10 shadow-lg",children:o.jsx(v.Icon,{className:"h-8 w-8 text-white"})},t.status)}),o.jsx(ba,{mode:"wait",children:o.jsxs(Gt.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},exit:{y:-10,opacity:0},transition:{duration:.3},children:[o.jsx("h2",{className:"font-display text-2xl font-bold tracking-tight",children:v.text}),o.jsx("p",{className:"mt-1 text-white/90 font-medium text-base",children:v.subtext})]},`${t.status}-text`)}),o.jsxs("div",{className:"mt-3 inline-flex items-center rounded-full bg-white/20 px-3 py-1 text-xs font-medium text-white backdrop-blur-md border border-white/10",children:["Order #",t.orderNumber]})]})]}),o.jsx("div",{className:"px-6 py-5 bg-white",children:o.jsxs("div",{className:"relative flex justify-between items-center",children:[o.jsx("div",{className:"absolute left-[20px] right-[20px] top-[16px] h-1 -translate-y-1/2 bg-gray-100 rounded-full z-0"}),o.jsx(Gt.div,{className:`absolute left-[20px] top-[16px] h-1 -translate-y-1/2 rounded-full z-0 bg-gradient-to-r ${v.headerGradient}`,initial:{width:"0%"},animate:{width:v.step===1?"0%":v.step===2?"50%":"calc(100% - 40px)"},transition:{duration:.5,ease:"easeInOut"}}),["waiting","preparing","ready"].map((b,N)=>{const E=N+1,C=v.step>=E,j=v.step===E;let T=ca;return b==="preparing"&&(T=Fn),b==="ready"&&(T=mf),o.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[o.jsx(Gt.div,{animate:{scale:j?1.2:1,backgroundColor:"#fff",borderColor:C?"currentColor":"#E5E7EB",boxShadow:j?"0 10px 15px -3px rgba(0, 0, 0, 0.1)":"none"},transition:{duration:.3},className:`flex h-8 w-8 items-center justify-center rounded-full border-2 transition-colors duration-300 ${C?v.color.replace("text-","border-"):"border-gray-200 text-gray-300"}`,children:o.jsx(T,{className:`h-4 w-4 ${C?v.color:"text-gray-300"}`})}),o.jsx("span",{className:`mt-2 text-[10px] font-bold uppercase tracking-wider transition-colors duration-300 ${C?v.color:"text-gray-400"}`,children:b})]},b)})]})}),o.jsxs("div",{className:"border-t border-gray-100 bg-gray-50/50 px-6 py-5",children:[o.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4 rounded-2xl bg-white p-4 shadow-sm ring-1 ring-gray-100",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"Estimated Wait"}),o.jsxs("p",{className:"text-lg font-bold text-gray-900 mt-0.5",children:["~",t.estimatedTime," min"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"Total Amount"}),o.jsxs("p",{className:"text-lg font-bold text-primary-600 mt-0.5",children:["",t.totalAmount.toFixed(2)]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:()=>r(!n),className:"flex w-full items-center justify-between rounded-xl bg-white px-4 py-3 text-sm font-medium text-gray-700 shadow-sm ring-1 ring-gray-100 transition-all hover:bg-gray-50 hover:shadow-md",children:[o.jsxs("span",{className:"flex items-center gap-3",children:[o.jsx(Fn,{className:"h-4 w-4 text-gray-400"}),o.jsxs("span",{className:"font-semibold",children:["View Order Items (",t.orderItems.length,")"]})]}),o.jsx(zu,{className:`h-4 w-4 text-gray-400 transition-transform duration-300 ${n?"rotate-180":""}`})]}),o.jsx(ba,{children:n&&o.jsxs(Gt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden rounded-xl bg-white shadow-sm ring-1 ring-gray-100",children:[o.jsx("ul",{className:"divide-y divide-gray-50 px-5",children:t.orderItems.map((b,N)=>o.jsxs("li",{className:"flex justify-between py-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-bold text-gray-900 block",children:b.productName}),o.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:["Qty: ",b.quantity]})]}),o.jsxs("span",{className:"font-bold text-gray-600",children:["",(b.price*b.quantity).toFixed(2)]})]},N))}),o.jsx("div",{className:"p-3 border-t border-gray-50 bg-gray-50/50",children:o.jsxs(Ae,{size:"sm",variant:"ghost",className:"w-full text-xs font-semibold text-primary-600 hover:bg-primary-50",onClick:()=>m(!0),children:[o.jsx(wD,{className:"mr-2 h-3 w-3"}),"View Digital Receipt"]})})]})}),o.jsxs("div",{className:"pt-1 space-y-2",children:[t.status==="ready"?o.jsx(Ae,{variant:"primary",className:"w-full rounded-xl bg-green-600 text-white hover:bg-green-700 shadow-lg hover:shadow-green-600/30 transition-all py-3.5 text-base font-bold",onClick:_,disabled:a,children:a?o.jsxs("span",{className:"flex items-center justify-center gap-2",children:[o.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Updating..."]}):o.jsxs("span",{className:"flex items-center justify-center gap-2",children:[o.jsx(ZT,{className:"h-4 w-4"}),"I've Received My Order"]})}):o.jsxs(Ae,{variant:"primary",className:"w-full rounded-xl bg-coffee-600 text-white hover:bg-coffee-700 shadow-lg hover:shadow-coffee-600/30 transition-all py-3.5 font-bold",onClick:w,children:[o.jsx(tg,{className:"mr-2 h-5 w-5"}),"Browse Menu"]}),o.jsxs(Ae,{variant:"ghost",className:"w-full rounded-xl text-gray-500 hover:bg-gray-100 font-semibold py-2.5",onClick:()=>y("/menu"),children:[o.jsx(HU,{className:"mr-2 h-4 w-4"}),"Back to Menu"]})]})]})]})]}),o.jsx(o6,{order:t,isOpen:f,onClose:()=>m(!1)})]})}),document.body)},Obe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQ2IiBoZWlnaHQ9IjE3OCIgdmlld0JveD0iMCAwIDI0NiAxNzgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xNTQuNTAzIDgwQzE4MC41MDMgNTEgMjEzLjAwMyAyMC41IDIyNS41MDMgMTguNUMyMzguMDAzIDE2LjUgMjQ0LjAwMyAyOS41IDI0NC4wMDMgMjkuNUMyNDQuMDAzIDI5LjUgMjQ4LjUwMyA1Mi41IDI0MC41MDMgODBDMjMyLjUwMyAxMDcuNSAyMTEuNTAzIDEyNCAyMTEuNTAzIDEyNEMyMTEuNTAzIDEyNCAxNjYuNTAzIDE3MSAxNDcuMDAzIDE3NUMxNDcuMDAzIDE3NSAxMTkuMDAzIDE4MS41IDEwNy4wMDMgMTcyLjVDOTUuMDAyNSAxNjMuNSAxMjguNTAzIDEwOSAxNTQuNTAzIDgwWiIgZmlsbD0iI0VCNUYxNiIvPgo8cGF0aCBkPSJNMTIuMDAyNSA4OUMxMi4wMDI1IDg5IC0yMS4wMjkzIDIyLjAyMyAyMi41MDI1IDE3QzM1LjUwMjUgMTUuNSA4MC4wMDI1IDU2IDc5LjUwMjUgNTkuNUM4Mi41MDI1IDc1IDcyLjAwMjUgODcgNjQuNTAyNSA5N0M2MS4xMzM2IDEwMS40OTIgNjAuMDAyNSAxMDcuNSA1OC4wMDI1IDExOS41QzU4LjAwMjUgMTM5IDUzLjAwMjUgMTM4LjUgNTMuMDAyNSAxMzguNUM1My4wMDI1IDEzOC41IDQwLjUwMjUgMTQxIDEyLjAwMjUgODlaIiBmaWxsPSIjRUI1RjE2IiIvPgo8cGF0aCBkPSJNNDcuMDAyNSAxN0M0MS4wMDI1IDEyLjAwMDEgNDIuMDAyNSAtNy42MjkzOWUtMDYgNTMuMDAyNSAwQzY0LjAwMjUgNy42Mjk0ZS0wNiA3NC4xOTA0IDQuNzY1MzQgODcuMDAyNSAxMEMxMDAuMzQ3IDE1LjQ1MjEgMTEwLjkxMSAxOSAxMTQuNTAzIDI2LjVDMTE4LjA5NCAzNCAxMTQuNTAzIDM5LjUgMTEwLjAwMyA0NUMxMDUuNTAzIDUwLjUgMTAyLjAwMyA1MiA5NC41MDI1IDUxQzg3LjAwMjUgNTAgNTMuMDAyNSAyMiA0Ny4wMDI1IDE3WiIgZmlsbD0iI0VCNUYxNiIvPgo8cGF0aCBkPSJNMjA1LjUwMyAyMy41QzIxOC41MDMgMTQgMjA1LjUwMyA1LjUgMjA1LjUwMyA1LjVDMTYyLjIzOSAxLjQzMjUyIDEyMi40MDggMzEuOTMyNCA4Mi4wMDI1IDg4LjVDNzEuNjQ1NCAxMDMgNjIuNTU4MyAxNTAuMzIyIDc4LjUwMjUgMTYxQzk3LjE3ODQgMTczLjUwOCAxMDIuNjM0IDE2Ny4xMDkgMTAzLjUwMyAxMzJDMTIxLjUwMyA1MSAxOTIuNTAzIDMzIDIwNS41MDMgMjMuNVoiIGZpbGw9IiNFQjVGMTYiLz4KPC9zdmc+Cg==";let c6=null;const Dbe=async()=>{if(console.log("[Notifications]  Checking notification support..."),!("Notification"in window))return console.warn("[Notifications]  Notifications are not supported in this browser"),"denied";console.log("[Notifications]  Notification API available"),console.log("[Notifications] Current permission:",Notification.permission);try{console.log("[Notifications]  Requesting notification permission...");const t=await Notification.requestPermission();return console.log("[Notifications] Permission result:",t),t}catch(t){return console.error("[Notifications]  Error requesting notification permission:",t),"denied"}},Mbe=async t=>{if(console.log("[Notifications]  Attempting to show notification:",t.title),!("Notification"in window))return console.warn("[Notifications]  Notifications are not supported"),!1;if(console.log("[Notifications] Current permission:",Notification.permission),Notification.permission!=="granted")return console.warn("[Notifications]  Notification permission not granted. Current:",Notification.permission),!1;const e={body:t.body,icon:t.icon,tag:t.tag,badge:t.icon,vibrate:[200,100,200],requireInteraction:!1,data:t.data};console.log("[Notifications] Notification options:",e);try{if(c6&&"showNotification"in c6,"Notification"in window&&typeof Notification=="function"){console.log("[Notifications]  Using direct Notification API (fallback)");const n=new Notification(t.title,e);return n.onclick=()=>{console.log("[Notifications]  Notification clicked"),window.focus(),n.close()},console.log("[Notifications]  Direct notification shown successfully!"),!0}return console.warn("[Notifications]  No notification method available"),!1}catch(n){return console.error("[Notifications]  Error showing notification:",n),!1}},Lbe=()=>{if(!("Notification"in window))return"denied";const t=Notification.permission;return console.log("[Notifications] Current permission status:",t),t},u6=()=>{const t="Notification"in window;return console.log("[Notifications] Notifications supported:",t),t},hS=()=>o.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-md border border-gray-100 text-center animate-pulse",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-200 mb-3"}),o.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded mb-2"}),o.jsx("div",{className:"h-4 w-12 bg-gray-200 rounded"})]})}),Vbe=()=>{var V;const{currentUser:t}=Zt(),{activeOrder:e,orderHistory:n}=CC(),{products:r,isLoading:i}=Gu(),{addToCart:s,showToast:a}=lr(),l=Ur(),c=$n(),[u,d]=g.useState("default"),[h,f]=g.useState(!1),m=g.useRef(null),[y,v]=g.useState(null),[x,w]=g.useState(!1),[_,b]=g.useState(()=>{const M=localStorage.getItem("dismissedOrderIds");return M?JSON.parse(M):[]});g.useEffect(()=>{localStorage.setItem("dismissedOrderIds",JSON.stringify(_))},[_]);const N=g.useMemo(()=>{const M=n.find(L=>L.status==="completed"&&!_.includes(L.id));return M||e||null},[e,n,_]),E=g.useMemo(()=>{const M=r.length>0?r:Lc;return M.length>0?M[0]:null},[r]),[C,j]=g.useState(((V=l.state)==null?void 0:V.fromCheckout)||!1);g.useEffect(()=>{if(C){const M=setTimeout(()=>{j(!1),window.history.replaceState({},document.title)},2e3);return()=>clearTimeout(M)}},[C]),g.useEffect(()=>{if(u6()){const M=Lbe();d(M),M==="default"&&f(!0)}},[]),g.useEffect(()=>{e&&e.status==="ready"&&u==="granted"&&m.current!==e.id&&Mbe({title:"Your Order is Ready! ",body:`Your Rush Coffee order (${e.orderNumber}) is now ready for pickup.`,icon:Obe,tag:e.id,data:{orderId:e.id,orderNumber:e.orderNumber}}).then(M=>{M&&(console.log("Notification sent successfully"),m.current=e.id)}),(!e||e.status==="completed")&&(m.current=null)},[e,u]);const T=async()=>{if(!u6()){alert("This browser does not support notifications");return}const M=await Dbe();d(M),(M==="granted"||M==="denied")&&f(!1)},A=()=>{if(N){const M=[..._,N.id];b(M),localStorage.setItem("dismissedOrderIds",JSON.stringify(M))}},P=M=>{v(M),w(!0)},k=(M,L)=>{if(y){const B=y.sizes[0];s(y,B,M,L),a(`Added ${L} ${y.name} to cart`),w(!1)}},O=g.useMemo(()=>n.filter(M=>M.status==="completed").slice(0,2),[n]),R=M=>{const L=r.find(B=>B.id===M);return(L==null?void 0:L.imageUrl)||null};return t?o.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-coffee-50 via-gray-50 to-primary-50 relative",children:[o.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute top-10 left-10 h-32 w-32 rounded-full bg-coffee-600 blur-3xl opacity-5"}),o.jsx("div",{className:"absolute bottom-20 right-10 h-40 w-40 rounded-full bg-primary-600 blur-3xl opacity-5"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 h-64 w-64 rounded-full bg-coffee-400 blur-3xl opacity-5"})]}),o.jsx(ar,{}),o.jsxs("main",{className:"flex-1 w-full max-w-3xl mx-auto px-4 py-8 sm:py-12 relative z-10",children:[N&&o.jsx(Rbe,{order:N,onDismiss:A}),C&&!N&&o.jsx("div",{className:"fixed top-24 left-1/2 -translate-x-1/2 z-50 w-full max-w-md px-4",children:o.jsxs("div",{className:"w-full rounded-2xl bg-gradient-to-r from-green-50 to-emerald-50 p-4 text-center border border-green-200 shadow-lg animate-fade-in-up",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[o.jsx("div",{className:"h-6 w-6 rounded-full bg-green-500 flex items-center justify-center",children:o.jsx("svg",{className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),o.jsx("h2",{className:"font-bold text-green-900",children:"Order Placed Successfully!"})]}),o.jsx("p",{className:"text-sm text-green-700",children:"You are now in the queue."})]})}),h&&u==="default"&&(!N||N.status==="completed")&&o.jsxs("div",{className:"mb-8 relative w-full animate-fade-in-up rounded-2xl border border-primary-200 bg-white/95 backdrop-blur-sm p-4 shadow-md",children:[o.jsx("button",{onClick:()=>f(!1),className:"absolute top-2 right-2 rounded-full p-1 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600","aria-label":"Dismiss",children:o.jsx(wr,{className:"h-4 w-4"})}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-gradient-to-br from-primary-100 to-primary-200",children:o.jsx(mf,{className:"h-6 w-6 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-gray-900",children:"Get Order Updates"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Know the moment your coffee is ready!"})]})]}),o.jsx("button",{onClick:T,className:"mt-4 w-full rounded-full bg-gradient-to-r from-primary-600 to-primary-700 px-4 py-2.5 text-sm font-semibold text-white transition-all hover:shadow-lg",children:"Enable Notifications"})]}),o.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[o.jsx("h1",{className:"font-display text-2xl sm:text-3xl font-bold text-coffee-900",children:"Your Queue"}),o.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-600",children:"Track your orders and rewards"})]}),t&&o.jsxs("div",{className:"mb-8 sm:mb-12",children:[o.jsx("h2",{className:"text-center text-xs font-bold text-gray-500 uppercase tracking-wider mb-6",children:"Your Coffee Journey"}),o.jsx("div",{className:"grid grid-cols-3 gap-3 sm:gap-6",children:t?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-4 sm:p-6 shadow-md border border-gray-100 hover:shadow-lg transition-shadow text-center",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center mb-2 sm:mb-3",children:o.jsx(ca,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600"})}),o.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-coffee-900",children:t.totalOrders||0}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-1 font-medium",children:"Orders"})]})}),o.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-4 sm:p-6 shadow-md border border-gray-100 hover:shadow-lg transition-shadow text-center",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-full bg-gradient-to-br from-amber-100 to-amber-200 flex items-center justify-center mb-2 sm:mb-3",children:o.jsx(KT,{className:"h-5 w-5 sm:h-6 sm:w-6 text-amber-600"})}),o.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-coffee-900",children:t.currentPoints||0}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-1 font-medium",children:"Points"})]})}),o.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-4 sm:p-6 shadow-md border border-gray-100 hover:shadow-lg transition-shadow text-center",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-full bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center mb-2 sm:mb-3",children:o.jsx(Kc,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600"})}),o.jsx("p",{className:"text-xl sm:text-2xl font-bold text-coffee-900 capitalize",children:t.tier||"Bronze"}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-1 font-medium",children:"Tier"})]})})]}):o.jsxs(o.Fragment,{children:[o.jsx(hS,{}),o.jsx(hS,{}),o.jsx(hS,{})]})})]}),O.length>0&&o.jsxs("div",{className:"w-full mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-center flex-1 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Recent Orders"}),n.filter(M=>M.status==="completed").length>2&&o.jsx(ft,{to:"/profile",className:"text-xs font-semibold text-primary-600 hover:text-primary-700 transition-colors",children:"View All"})]}),o.jsx("div",{className:"space-y-4",children:O.map(M=>{const L=M.orderItems[0],B=L?R(L.productId):null;return o.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-4 sm:p-5 shadow-md border border-gray-100 hover:shadow-xl hover:scale-[1.01] transition-all duration-200 cursor-pointer group",children:o.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[o.jsx("div",{className:"flex-shrink-0 h-14 w-14 sm:h-16 sm:w-16 rounded-xl overflow-hidden bg-gradient-to-br from-coffee-100 to-coffee-200 shadow-inner group-hover:shadow-lg transition-shadow",children:B?o.jsx("img",{src:B,alt:L.productName,className:"h-full w-full object-cover"}):o.jsx("div",{className:"h-full w-full flex items-center justify-center",children:o.jsx(Fn,{className:"h-7 w-7 sm:h-8 sm:w-8 text-coffee-600"})})}),o.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[o.jsxs("div",{className:"flex items-start justify-between mb-1",children:[o.jsx("h3",{className:"font-bold text-coffee-900 text-sm sm:text-base truncate pr-2 sm:pr-4",children:(L==null?void 0:L.productName)||"Coffee Order"}),o.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0 font-medium bg-gray-100 px-2 py-1 rounded-full",children:new Date(M.timestamp).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),o.jsx("p",{className:"text-xs text-gray-500 mb-2 font-mono",children:M.orderNumber}),M.orderItems.length>1&&o.jsxs("p",{className:"text-xs text-gray-600 mb-2 sm:mb-3 italic",children:["+",M.orderItems.length-1," more item",M.orderItems.length>2?"s":""]}),o.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-gray-100",children:[o.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-700",children:"Completed"}),o.jsxs("p",{className:"text-sm sm:text-base font-bold text-primary-600",children:["",M.totalAmount.toFixed(2)]})]})]})]})},M.id)})})]}),o.jsx("div",{className:"w-full max-w-md mx-auto mt-6",children:i?o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl p-6 shadow-xl border border-gray-100 text-center animate-pulse",children:[o.jsx("div",{className:"mb-4 relative mx-auto w-32 h-32 bg-gray-200 rounded-full"}),o.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mx-auto mb-2"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-4"}),o.jsx("div",{className:"h-12 bg-gray-200 rounded"})]}):E?o.jsxs(o.Fragment,{children:[O.length>0?o.jsx("h2",{className:"text-center text-xs font-bold text-gray-500 uppercase tracking-wider mb-6",children:"Recommended for You"}):o.jsxs("div",{className:"text-center mb-6 animate-fade-in-up",children:[o.jsxs("div",{className:"inline-flex items-center justify-center gap-2 mb-2",children:[o.jsx(ng,{className:"h-5 w-5 text-amber-500"}),o.jsx("h2",{className:"text-lg font-bold text-coffee-900",children:"Welcome to Rush Coffee!"}),o.jsx(ng,{className:"h-5 w-5 text-amber-500"})]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Start your journey with our most popular drink:"})]}),o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl p-5 sm:p-6 shadow-xl border border-gray-100 text-center relative overflow-hidden group hover:shadow-2xl transition-all duration-300",children:[o.jsx("div",{className:"absolute top-4 right-4 bg-amber-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md z-10 animate-pulse",children:"Recommended"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary-50/50 to-transparent pointer-events-none"}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"mb-4 relative mx-auto w-28 h-28 sm:w-32 sm:h-32",children:[o.jsx("div",{className:"absolute inset-0 bg-primary-200 rounded-full blur-2xl opacity-20 group-hover:opacity-40 transition-opacity duration-500"}),o.jsx("img",{src:E.imageUrl,alt:E.name,className:"w-full h-full object-cover rounded-full shadow-lg group-hover:scale-110 transition-transform duration-500"})]}),o.jsx("h3",{className:"text-lg sm:text-xl font-display font-bold text-gray-900 mb-1",children:E.name}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mb-4 line-clamp-2 px-2 sm:px-4",children:E.description}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:[o.jsxs("button",{onClick:()=>P(E),className:"w-full sm:flex-1 bg-primary-600 text-white font-bold py-3 px-6 rounded-xl shadow-lg shadow-primary-600/20 hover:bg-primary-700 hover:shadow-primary-600/40 hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center gap-2",children:[o.jsx(uo,{className:"w-5 h-5"}),"Add to Cart"]}),o.jsx("button",{onClick:()=>c("/menu"),className:"w-full sm:w-auto bg-white text-gray-700 font-bold py-3 px-4 rounded-xl border border-gray-200 hover:bg-gray-50 hover:border-gray-300 hover:shadow-md transition-all",children:"View Menu"})]})]})]})]}):O.length===0&&o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-2xl p-8 border-2 border-dashed border-gray-200 text-center",children:[o.jsx(Fn,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),o.jsx("p",{className:"text-sm text-gray-500",children:"No orders yet. Your coffee journey starts here! "}),o.jsx("button",{onClick:()=>c("/menu"),className:"mt-6 inline-flex items-center justify-center gap-2 rounded-full bg-primary-600 px-6 py-2.5 font-semibold text-white shadow-md transition-all hover:bg-primary-700",children:"Start a New Order"})]})})]}),y&&o.jsx(IC,{product:y,selectedSize:y.sizes[0],isOpen:x,onClose:()=>w(!1),onConfirm:k}),o.jsx(or,{})]}):o.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-coffee-50 via-gray-50 to-primary-50 relative",children:[o.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute top-10 left-10 h-32 w-32 rounded-full bg-coffee-600 blur-3xl opacity-5"}),o.jsx("div",{className:"absolute bottom-20 right-10 h-40 w-40 rounded-full bg-primary-600 blur-3xl opacity-5"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 h-64 w-64 rounded-full bg-coffee-400 blur-3xl opacity-5"})]}),o.jsx(ar,{}),o.jsx("main",{className:"flex flex-1 items-center justify-center px-6 py-20 text-center relative z-10",children:o.jsxs("div",{children:[o.jsx(vn,{className:"mx-auto h-24 w-24 text-gray-300 opacity-50"}),o.jsx("h1",{className:"mt-4 font-display text-2xl font-bold text-coffee-900",children:"You're not in the queue"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Please log in and place an order to see your queue status."}),o.jsxs("div",{className:"mt-8 flex justify-center gap-4",children:[o.jsx(ft,{to:"/auth/login",className:"rounded-full bg-primary-600 px-8 py-3 font-semibold text-white transition-transform hover:scale-105 shadow-lg",children:"Login"}),o.jsx(ft,{to:"/menu",className:"rounded-full border-2 border-primary-600 px-8 py-3 font-semibold text-primary-600 transition-transform hover:scale-105 hover:bg-primary-50 shadow-sm",children:"View Menu"})]})]})}),o.jsx(or,{})]})},zbe={bronze:{Icon:kre,name:"Bronze Member",gradient:"from-orange-400 to-orange-600",nextTierName:"Silver",progressColor:"bg-gray-400",minPoints:0},silver:{Icon:KT,name:"Silver Member",gradient:"from-gray-300 to-gray-500",nextTierName:"Gold",progressColor:"bg-yellow-400",minPoints:300},gold:{Icon:Yne,name:"Gold Member",gradient:"from-yellow-400 to-yellow-600",nextTierName:null,progressColor:"",minPoints:1e3}},Ube=({tier:t,currentPoints:e,nextTierPoints:n,showProgress:r=!0})=>{const i=zbe[t],s=n-e,a=t!=="gold"?Math.max(0,Math.min(100,(e-i.minPoints)/(n-i.minPoints)*100)):100;return o.jsxs("div",{className:`relative w-full max-w-sm overflow-hidden rounded-2xl bg-gradient-to-br p-6 text-center text-white shadow-lg md:p-8 ${i.gradient}`,children:[o.jsx("div",{className:"absolute inset-0 -translate-x-full animate-shimmer bg-gradient-to-r from-transparent via-white/30 to-transparent"}),o.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[o.jsx(i.Icon,{className:"h-16 w-16 animate-pulse-slow drop-shadow-lg"}),o.jsx("h2",{className:"mt-4 font-display text-2xl font-bold drop-shadow-md md:text-3xl",children:i.name}),o.jsxs("p",{className:"font-semibold text-white/80",children:[e," points"]})]}),r&&t!=="gold"&&o.jsxs("div",{className:"relative z-10 mt-6 text-left",children:[o.jsxs("p",{className:"text-xs font-semibold md:text-sm",children:[o.jsx("span",{className:"font-bold",children:s>0?s:0})," points to ",i.nextTierName]}),o.jsx("div",{className:"mt-1 h-2.5 w-full overflow-hidden rounded-full bg-black/20",children:o.jsx("div",{className:`h-full rounded-full ${i.progressColor} transition-all duration-500 ease-out`,style:{width:`${a}%`}})})]})]})},Fbe={drink:"bg-blue-100 text-blue-800",food:"bg-green-100 text-green-800",discount:"bg-yellow-100 text-yellow-800"},Bbe=({reward:t,currentPoints:e,onRedeem:n})=>{const{id:r,name:i,description:s,pointsCost:a,imageUrl:l,category:c,available:u}=t,d=e>=a,h=u&&d,f=a-e,m=()=>u?d?"Redeem Now":o.jsxs(o.Fragment,{children:[o.jsx(yh,{className:"h-4 w-4"}),"Need ",f," more points"]}):"Unavailable";return o.jsxs(be,{className:"flex flex-col overflow-hidden transition-transform duration-300 hover:-translate-y-1",hover:!0,children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:l,alt:i,className:`h-40 w-full object-cover ${u?"":"grayscale"}`}),o.jsx(tr,{className:`absolute top-2 left-2 capitalize ${Fbe[c]}`,children:c}),!u&&o.jsx(tr,{className:"absolute top-2 right-2 bg-gray-500 text-white",children:"Temporarily Unavailable"})]}),o.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsx("h3",{className:"text-lg font-semibold text-coffee-900",children:i}),o.jsx("p",{className:"mt-1 h-10 text-sm text-gray-600 line-clamp-2",children:s})]}),o.jsx("div",{className:"mt-4 flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-2 text-primary-600",children:[o.jsx(Jp,{className:"h-5 w-5"}),o.jsxs("p",{className:"text-lg font-bold",children:[a," points"]})]})}),o.jsx("button",{onClick:()=>n(r),disabled:!h,className:"mt-4 flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-gray-400 disabled:text-gray-100","aria-label":h?`Redeem ${i}`:`Cannot redeem ${i}`,children:m()})]})]})};function lt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function zl(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const bH=6048e5,$be=864e5,K0=43200,d6=1440;let qbe={};function Ly(){return qbe}function Og(t,e){var l,c,u,d;const n=Ly(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=lt(t),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function ub(t){return Og(t,{weekStartsOn:1})}function wH(t){const e=lt(t),n=e.getFullYear(),r=zl(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=ub(r),s=zl(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=ub(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function h6(t){const e=lt(t);return e.setHours(0,0,0,0),e}function db(t){const e=lt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Hbe(t,e){const n=h6(t),r=h6(e),i=+n-db(n),s=+r-db(r);return Math.round((i-s)/$be)}function Gbe(t){const e=wH(t),n=zl(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),ub(n)}function Wv(t,e){const n=lt(t),r=lt(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function Wbe(t){return zl(t,Date.now())}function Kbe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Ybe(t){if(!Kbe(t)&&typeof t!="number")return!1;const e=lt(t);return!isNaN(Number(e))}function Qbe(t,e){const n=lt(t),r=lt(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function Xbe(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function Jbe(t,e){return+lt(t)-+lt(e)}function Zbe(t){const e=lt(t);return e.setHours(23,59,59,999),e}function ewe(t){const e=lt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function twe(t){const e=lt(t);return+Zbe(e)==+ewe(e)}function nwe(t,e){const n=lt(t),r=lt(e),i=Wv(n,r),s=Math.abs(Qbe(n,r));let a;if(s<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*s);let l=Wv(n,r)===-i;twe(lt(t))&&s===1&&Wv(t,r)===1&&(l=!1),a=i*(s-Number(l))}return a===0?0:a}function rwe(t,e,n){const r=Jbe(t,e)/1e3;return Xbe(n==null?void 0:n.roundingMethod)(r)}function iwe(t){const e=lt(t),n=zl(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const swe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},awe=(t,e,n)=>{let r;const i=swe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function fS(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const owe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lwe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cwe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},uwe={date:fS({formats:owe,defaultWidth:"full"}),time:fS({formats:lwe,defaultWidth:"full"}),dateTime:fS({formats:cwe,defaultWidth:"full"})},dwe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hwe=(t,e,n,r)=>dwe[t];function jm(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;i=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const fwe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mwe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pwe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gwe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ywe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vwe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xwe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},bwe={ordinalNumber:xwe,era:jm({values:fwe,defaultWidth:"wide"}),quarter:jm({values:mwe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:jm({values:pwe,defaultWidth:"wide"}),day:jm({values:gwe,defaultWidth:"wide"}),dayPeriod:jm({values:ywe,defaultWidth:"wide",formattingValues:vwe,defaultFormattingWidth:"wide"})};function Tm(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?_we(l,h=>h.test(a)):wwe(l,h=>h.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function wwe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function _we(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Nwe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(i.length);return{value:a,rest:l}}}const Swe=/^(\d+)(th|st|nd|rd)?/i,Ewe=/\d+/i,jwe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Twe={any:[/^b/i,/^(a|c)/i]},Awe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Iwe={any:[/1/i,/2/i,/3/i,/4/i]},Cwe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Pwe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kwe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Rwe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Owe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Dwe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Mwe={ordinalNumber:Nwe({matchPattern:Swe,parsePattern:Ewe,valueCallback:t=>parseInt(t,10)}),era:Tm({matchPatterns:jwe,defaultMatchWidth:"wide",parsePatterns:Twe,defaultParseWidth:"any"}),quarter:Tm({matchPatterns:Awe,defaultMatchWidth:"wide",parsePatterns:Iwe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Tm({matchPatterns:Cwe,defaultMatchWidth:"wide",parsePatterns:Pwe,defaultParseWidth:"any"}),day:Tm({matchPatterns:kwe,defaultMatchWidth:"wide",parsePatterns:Rwe,defaultParseWidth:"any"}),dayPeriod:Tm({matchPatterns:Owe,defaultMatchWidth:"any",parsePatterns:Dwe,defaultParseWidth:"any"})},_H={code:"en-US",formatDistance:awe,formatLong:uwe,formatRelative:hwe,localize:bwe,match:Mwe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Lwe(t){const e=lt(t);return Hbe(e,iwe(e))+1}function Vwe(t){const e=lt(t),n=+ub(e)-+Gbe(e);return Math.round(n/bH)+1}function NH(t,e){var d,h,f,m;const n=lt(t),r=n.getFullYear(),i=Ly(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(f=i.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,a=zl(t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const l=Og(a,e),c=zl(t,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const u=Og(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function zwe(t,e){var l,c,u,d;const n=Ly(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=NH(t,e),s=zl(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Og(s,e)}function Uwe(t,e){const n=lt(t),r=+Og(n,e)-+zwe(n,e);return Math.round(r/bH)+1}function Xe(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Vo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Xe(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Xe(n+1,2)},d(t,e){return Xe(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Xe(t.getHours()%12||12,e.length)},H(t,e){return Xe(t.getHours(),e.length)},m(t,e){return Xe(t.getMinutes(),e.length)},s(t,e){return Xe(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Xe(i,e.length)}},ud={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},f6={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Vo.y(t,e)},Y:function(t,e,n,r){const i=NH(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Xe(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Xe(s,e.length)},R:function(t,e){const n=wH(t);return Xe(n,e.length)},u:function(t,e){const n=t.getFullYear();return Xe(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Xe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Xe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Vo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Xe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Uwe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Xe(i,e.length)},I:function(t,e,n){const r=Vwe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Xe(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Vo.d(t,e)},D:function(t,e,n){const r=Lwe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Xe(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Xe(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Xe(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Xe(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=ud.noon:r===0?i=ud.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=ud.evening:r>=12?i=ud.afternoon:r>=4?i=ud.morning:i=ud.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Vo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Vo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Xe(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Xe(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Vo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Vo.s(t,e)},S:function(t,e){return Vo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return p6(r);case"XXXX":case"XX":return Sc(r);case"XXXXX":case"XXX":default:return Sc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return p6(r);case"xxxx":case"xx":return Sc(r);case"xxxxx":case"xxx":default:return Sc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+m6(r,":");case"OOOO":default:return"GMT"+Sc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+m6(r,":");case"zzzz":default:return"GMT"+Sc(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Xe(r,e.length)},T:function(t,e,n){const r=t.getTime();return Xe(r,e.length)}};function m6(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Xe(s,2)}function p6(t,e){return t%60===0?(t>0?"-":"+")+Xe(Math.abs(t)/60,2):Sc(t,e)}function Sc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Xe(Math.trunc(r/60),2),s=Xe(r%60,2);return n+i+e+s}const g6=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},SH=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Fwe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return g6(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",g6(r,e)).replace("{{time}}",SH(i,e))},Bwe={p:SH,P:Fwe},$we=/^D+$/,qwe=/^Y+$/,Hwe=["D","DD","YY","YYYY"];function Gwe(t){return $we.test(t)}function Wwe(t){return qwe.test(t)}function Kwe(t,e,n){const r=Ywe(t,e,n);if(console.warn(r),Hwe.includes(t))throw new RangeError(r)}function Ywe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Qwe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Xwe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Jwe=/^'([^]*?)'?$/,Zwe=/''/g,e1e=/[a-zA-Z]/;function PC(t,e,n){var d,h,f,m;const r=Ly(),i=r.locale??_H,s=r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,a=r.weekStartsOn??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,l=lt(t);if(!Ybe(l))throw new RangeError("Invalid time value");let c=e.match(Xwe).map(y=>{const v=y[0];if(v==="p"||v==="P"){const x=Bwe[v];return x(y,i.formatLong)}return y}).join("").match(Qwe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:t1e(y)};if(f6[v])return{isToken:!0,value:y};if(v.match(e1e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return c.map(y=>{if(!y.isToken)return y.value;const v=y.value;(Wwe(v)||Gwe(v))&&Kwe(v,e,String(t));const x=f6[v[0]];return x(l,v,i.localize,u)}).join("")}function t1e(t){const e=t.match(Jwe);return e?e[1].replace(Zwe,"'"):t}function n1e(t,e,n){const r=Ly(),i=(n==null?void 0:n.locale)??r.locale??_H,s=2520,a=Wv(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:a});let c,u;a>0?(c=lt(e),u=lt(t)):(c=lt(t),u=lt(e));const d=rwe(u,c),h=(db(u)-db(c))/1e3,f=Math.round((d-h)/60);let m;if(f<2)return n!=null&&n.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,l):d<10?i.formatDistance("lessThanXSeconds",10,l):d<20?i.formatDistance("lessThanXSeconds",20,l):d<40?i.formatDistance("halfAMinute",0,l):d<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):f===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",f,l);if(f<45)return i.formatDistance("xMinutes",f,l);if(f<90)return i.formatDistance("aboutXHours",1,l);if(f<d6){const y=Math.round(f/60);return i.formatDistance("aboutXHours",y,l)}else{if(f<s)return i.formatDistance("xDays",1,l);if(f<K0){const y=Math.round(f/d6);return i.formatDistance("xDays",y,l)}else if(f<K0*2)return m=Math.round(f/K0),i.formatDistance("aboutXMonths",m,l)}if(m=nwe(u,c),m<12){const y=Math.round(f/K0);return i.formatDistance("xMonths",y,l)}else{const y=m%12,v=Math.trunc(m/12);return y<3?i.formatDistance("aboutXYears",v,l):y<9?i.formatDistance("overXYears",v,l):i.formatDistance("almostXYears",v+1,l)}}function kC(t,e){return n1e(t,Wbe(t),e)}const r1e=({history:t})=>{const[e,n]=g.useState("all"),r=g.useMemo(()=>e==="all"?t:t.filter(a=>a.type===e),[t,e]),i=g.useMemo(()=>[...r].sort((a,l)=>l.date.getTime()-a.date.getTime()),[r]),s=a=>a==="earned"?o.jsx("div",{className:"absolute left-1 top-0 flex h-10 w-10 -translate-x-1/2 items-center justify-center rounded-full bg-gradient-to-br from-green-400 to-green-600 shadow-lg ring-2 ring-white transition-transform hover:scale-110",children:o.jsx(uo,{className:"h-4 w-4 text-white",strokeWidth:3})}):o.jsx("div",{className:"absolute left-1 top-0 flex h-10 w-10 -translate-x-1/2 items-center justify-center rounded-full bg-gradient-to-br from-red-400 to-red-600 shadow-lg ring-2 ring-white transition-transform hover:scale-110",children:o.jsx(eg,{className:"h-4 w-4 text-white",strokeWidth:3})});return o.jsxs(be,{className:"bg-gradient-to-br from-white to-gray-50",children:[o.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900",children:"Points History"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track your rewards journey"})]}),o.jsx("div",{className:"flex gap-2 rounded-full bg-white p-1.5 shadow-sm ring-1 ring-gray-200",children:["all","earned","redeemed"].map(a=>o.jsx("button",{onClick:()=>n(a),className:`rounded-full px-4 py-2 text-sm font-semibold capitalize transition-all duration-200 ${e===a?"bg-gradient-to-r from-primary-600 to-primary-700 text-white shadow-md":"text-gray-700 hover:bg-gray-100"}`,children:a},a))})]}),o.jsx("div",{className:"mt-8 max-h-[500px] overflow-y-auto pr-2 scrollbar-thin scrollbar-track-gray-100 scrollbar-thumb-gray-300",children:i.length>0?o.jsx("div",{className:"relative border-l-2 border-gray-300 pl-6",children:i.map((a,l)=>o.jsxs("div",{className:`group relative transition-all duration-200 hover:translate-x-1 ${l<i.length-1?"pb-10":""}`,children:[s(a.type),o.jsxs("div",{className:"ml-8 flex items-start justify-between gap-4 rounded-lg bg-white p-4 shadow-sm ring-1 ring-gray-100 transition-shadow duration-200 group-hover:shadow-md",children:[o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("p",{className:"truncate font-semibold text-gray-900",children:a.description}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:kC(a.date,{addSuffix:!0})})]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsxs("p",{className:`text-xl font-bold ${a.type==="earned"?"text-green-600":"text-red-600"}`,children:[a.type==="earned"?"+":"",a.points]})})]})]},a.id))}):o.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 rounded-lg bg-gray-50 py-16 text-center",children:[o.jsx("div",{className:"rounded-full bg-gray-100 p-4",children:o.jsx(QT,{className:"h-12 w-12 text-gray-400"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-lg font-semibold text-gray-700",children:"No transactions yet"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Your points history for this filter will appear here."})]})]})})]})},i1e={bronze:{min:0,max:299,name:"Bronze"},silver:{min:300,max:999,name:"Silver"},gold:{min:1e3,max:1/0,name:"Gold"}},Y0=t=>`/RushCoffee-Capstone/${t}`,s1e=[{name:"Free Grande Drink",description:"Redeem your points for any Grande-sized drink on our menu. A perfect treat!",pointsCost:200,imageUrl:Y0("Rewards/Free-Iced-Grande-Drink.jpg"),category:"drink",available:!0,displayOrder:1},{name:"10% Off Total Order",description:"Get a 10% discount on your entire order. Great for when you're treating friends!",pointsCost:200,imageUrl:Y0("Rewards/10-percent-off.jpg"),category:"discount",available:!0,displayOrder:2},{name:"Free Rice Meal",description:"Choose any Tasty Rice Meal from our selection to complement your coffee.",pointsCost:350,imageUrl:Y0("Rewards/Free-Rice-Meal.jpg"),category:"food",available:!0,displayOrder:3},{name:"Upgrade to Venti",description:"Get a free size upgrade from Grande to Venti on any drink.",pointsCost:300,imageUrl:Y0("Rewards/Free-Iced-Venti-Drink.jpg"),category:"drink",available:!0,displayOrder:4}],a1e=()=>{var N;const{currentUser:t}=Zt(),{showToast:e}=lr(),[n,r]=g.useState([]),[i,s]=g.useState(!0),[a,l]=g.useState(!1),[c,u]=g.useState(null),[d,h]=g.useState(!1),[f,m]=g.useState("");g.useEffect(()=>{(async()=>{s(!0);const C=s1e.map((j,T)=>({...j,id:`mock-reward-${T}`}));r(C),s(!1)})()},[]);const y=(t==null?void 0:t.tier)==="bronze"?"silver":(t==null?void 0:t.tier)==="silver"?"gold":null,v=y&&((N=i1e[y])==null?void 0:N.min)||0,x=E=>{u(E),l(!0)},w=async()=>{if(!(!t||!c)){h(!0);try{if(t.currentPoints<c.pointsCost)throw new Error("You don't have enough points.");const E=he.collection("users").doc(t.uid),C={id:`rh-${Date.now()}`,type:"redeemed",points:-c.pointsCost,description:`Redeemed: ${c.name}`,date:new Date};await E.update({currentPoints:Fe.firestore.FieldValue.increment(-c.pointsCost),rewardsHistory:Fe.firestore.FieldValue.arrayUnion(C)}),m(`RC-REDEEM-${Math.random().toString(36).substr(2,9).toUpperCase()}`)}catch(E){e(E.message||"Failed to redeem reward."),h(!1)}}},_=()=>{navigator.clipboard&&(navigator.clipboard.writeText(f),e("Code copied to clipboard!"))},b=()=>{l(!1),u(null),h(!1),m("")};return t?o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(ar,{}),o.jsxs("main",{children:[o.jsx("section",{className:"bg-gradient-to-r from-primary-50 to-coffee-50 px-6 py-12",children:o.jsx("div",{className:"container mx-auto max-w-7xl",children:o.jsxs("div",{className:"grid grid-cols-1 items-center gap-8 md:grid-cols-3",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("h1",{className:"font-display text-4xl font-bold text-coffee-900 md:text-5xl",children:["Welcome, ",t.firstName,"!"]}),o.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"You're doing great! Keep earning points for amazing rewards."})]}),o.jsx("div",{className:"flex justify-center md:justify-end",children:o.jsx(Ube,{tier:t.tier,currentPoints:t.currentPoints,nextTierPoints:v})})]})})}),o.jsx("section",{className:"px-6 py-16",children:o.jsxs("div",{className:"container mx-auto max-w-7xl",children:[o.jsxs("div",{className:"mb-8 flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900",children:"Redeem Your Points"}),o.jsx("p",{className:"mt-1 text-gray-600",children:"Use your points to claim these exciting rewards."})]}),o.jsxs("div",{className:"rounded-full bg-white px-4 py-2 text-lg font-semibold text-primary-600 shadow-md",children:["Your Points: ",o.jsx("span",{className:"font-bold",children:t.currentPoints})]})]}),i?o.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Array.from({length:4}).map((E,C)=>o.jsx(pH,{},C))}):n.length>0?o.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:n.map(E=>o.jsx(Bbe,{reward:E,currentPoints:t.currentPoints,onRedeem:()=>x(E)},E.id))}):o.jsxs(be,{className:"py-20 text-center",children:[o.jsx(Jp,{className:"mx-auto h-16 w-16 text-gray-300"}),o.jsx("h3",{className:"mt-4 font-semibold text-gray-800",children:"No Rewards Available"}),o.jsx("p",{className:"mt-1 text-gray-500",children:"Please check back later for new rewards."})]})]})}),o.jsx("section",{className:"bg-white px-6 py-16",children:o.jsx("div",{className:"container mx-auto max-w-4xl",children:o.jsx(r1e,{history:t.rewardsHistory})})})]}),o.jsx(or,{}),o.jsx(ea,{isOpen:a,onClose:b,title:f?"Reward Claimed!":`Redeem: ${(c==null?void 0:c.name)||""}`,children:f?o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-green-100",children:o.jsx(Ka,{className:"h-8 w-8 text-green-600"})}),o.jsx("h3",{className:"mt-4 text-lg font-semibold text-gray-900",children:"Success!"}),o.jsx("p",{className:"mt-1 text-gray-600",children:"Show this code at the counter to claim your reward:"}),o.jsxs("div",{className:"relative my-4 rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-4",children:[o.jsx("p",{className:"font-mono text-2xl font-bold text-primary-700 tracking-widest",children:f}),o.jsx("button",{onClick:_,className:"absolute top-2 right-2 text-gray-400 hover:text-primary-600",children:o.jsx(Une,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"mt-2 flex items-center justify-center gap-2 rounded-lg bg-yellow-50 p-3 text-sm text-yellow-800",children:[o.jsx(Un,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("span",{children:"This code is for one-time use only."})]}),o.jsx("div",{className:"mt-6",children:o.jsx(Ae,{onClick:b,children:"Close"})})]}):o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"text-center text-gray-600",children:["Are you sure you want to spend ",o.jsxs("span",{className:"font-bold text-primary-600",children:[c==null?void 0:c.pointsCost," points"]})," to redeem this reward?"]}),o.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[o.jsx(Ae,{variant:"ghost",onClick:b,children:"Cancel"}),o.jsxs(Ae,{onClick:w,disabled:d,children:[d?o.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}):o.jsx(Ka,{className:"mr-2 h-4 w-4"}),"Confirm"]})]})]})})]}):o.jsxs("div",{className:"flex min-h-screen flex-col bg-gray-50",children:[o.jsx(ar,{}),o.jsx("main",{className:"flex flex-1 items-center justify-center px-6 py-20 text-center",children:o.jsxs("div",{children:[o.jsx(Jp,{className:"mx-auto h-24 w-24 text-gray-300 opacity-50"}),o.jsx("h1",{className:"mt-4 font-display text-2xl font-bold text-coffee-900",children:"Join Our Rewards Program"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Log in or create an account to start earning points and get free coffee!"}),o.jsxs("div",{className:"mt-8 flex justify-center gap-4",children:[o.jsx(ft,{to:"/auth/login",className:"rounded-full bg-primary-600 px-8 py-3 font-semibold text-white transition-transform hover:scale-105",children:"Login"}),o.jsx(ft,{to:"/auth/register",className:"rounded-full border-2 border-primary-600 px-8 py-3 font-semibold text-primary-600 transition-transform hover:scale-105 hover:bg-primary-50",children:"Sign Up"})]})]})}),o.jsx(or,{})]})},o1e=({user:t,onEditPhoto:e})=>{const n=(i,s)=>`${i.charAt(0)}${s.charAt(0)}`.toUpperCase(),r=i=>i==="admin"?"Admin":i==="employee"?"Employee":i==="customer"?"Customer":"";return o.jsxs("div",{className:"w-full bg-white shadow-sm",children:[o.jsx("div",{className:"relative h-48 w-full overflow-hidden bg-gradient-to-r from-coffee-600 via-coffee-500 to-primary-600",children:o.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"24px 24px"}})}),o.jsx("div",{className:"container mx-auto px-6",children:o.jsxs("div",{className:"relative -mt-16 mb-6 flex flex-col items-center",children:[o.jsxs("div",{className:"relative h-32 w-32 transition-transform hover:scale-105",children:[t.photoURL?o.jsx("img",{src:t.photoURL,alt:`${t.firstName} ${t.lastName}`,className:"h-full w-full rounded-full border-4 border-white object-cover shadow-xl"}):o.jsx("div",{className:"flex h-full w-full items-center justify-center rounded-full border-4 border-white bg-gradient-to-br from-primary-400 to-primary-600 text-white shadow-xl",children:o.jsx("span",{className:"font-display text-4xl font-bold",children:n(t.firstName,t.lastName)})}),o.jsx("button",{onClick:e,className:"absolute bottom-1 right-1 flex h-9 w-9 items-center justify-center rounded-full bg-white text-gray-600 shadow-lg transition-all hover:bg-primary-50 hover:text-primary-600","aria-label":"Edit profile photo",children:o.jsx(Ene,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"mt-4 text-center",children:[o.jsxs("h1",{className:"font-display text-3xl font-bold text-gray-900",children:[t.firstName," ",t.lastName]}),o.jsx("p",{className:"text-gray-500 font-medium",children:t.email}),o.jsxs("div",{className:"mt-3 flex flex-wrap justify-center gap-2",children:[t.role&&o.jsxs(tr,{className:"bg-blue-50 text-blue-700 border border-blue-100 px-3 py-1",children:[o.jsx(Or,{className:"mr-1.5 h-3.5 w-3.5"}),o.jsx("span",{children:r(t.role)})]}),o.jsx(tr,{className:`px-3 py-1 border ${t.tier==="gold"?"bg-yellow-50 text-yellow-700 border-yellow-200":t.tier==="silver"?"bg-gray-50 text-gray-700 border-gray-200":"bg-orange-50 text-orange-800 border-orange-200"}`,children:o.jsxs("span",{className:"capitalize font-semibold",children:[t.tier," Member"]})})]})]})]})}),o.jsx("div",{className:"border-t border-gray-100 bg-gray-50/50",children:o.jsxs("div",{className:"container mx-auto grid grid-cols-2 gap-4 px-6 py-6 sm:grid-cols-4",children:[o.jsxs("div",{className:"flex flex-col items-center justify-center border-r border-gray-200 last:border-0 sm:border-r",children:[o.jsx("div",{className:"mb-2 flex h-10 w-10 items-center justify-center rounded-full bg-orange-100 text-orange-600",children:o.jsx(Fn,{className:"h-5 w-5"})}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.totalOrders}),o.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-gray-500",children:"Orders"})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center border-r border-gray-200 last:border-0 sm:border-r",children:[o.jsx("div",{className:"mb-2 flex h-10 w-10 items-center justify-center rounded-full bg-green-100 text-green-600",children:o.jsx(Dne,{className:"h-5 w-5"})}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",t.totalSpent.toLocaleString()]}),o.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-gray-500",children:"Spent"})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center border-r border-gray-200 last:border-0 sm:border-r",children:[o.jsx("div",{className:"mb-2 flex h-10 w-10 items-center justify-center rounded-full bg-yellow-100 text-yellow-600",children:o.jsx(vs,{className:"h-5 w-5"})}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.currentPoints}),o.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-gray-500",children:"Points"})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"mb-2 flex h-10 w-10 items-center justify-center rounded-full bg-blue-100 text-blue-600",children:o.jsx(Vs,{className:"h-5 w-5"})}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:PC(t.createdAt,"MMM yyyy")}),o.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-gray-500",children:"Joined"})]})]})})]})},l1e=({user:t,onSave:e,onCancel:n})=>{const[r,i]=g.useState({firstName:t.firstName,lastName:t.lastName,phone:t.phone||""}),[s,a]=g.useState({}),[l,c]=g.useState(!1),[u,d]=g.useState(!1),{showToast:h}=lr();g.useEffect(()=>{const v=r.firstName!==t.firstName||r.lastName!==t.lastName||r.phone!==(t.phone||"");d(v)},[r,t]);const f=()=>{const v={};return r.firstName.length<2&&(v.firstName="First name must be at least 2 characters."),r.lastName.length<2&&(v.lastName="Last name must be at least 2 characters."),r.phone&&!/^(09|\+639)\d{9}$/.test(r.phone)&&(v.phone="Invalid Philippine phone number format."),a(v),Object.keys(v).length===0},m=v=>{i({...r,[v.target.name]:v.target.value})},y=v=>{v.preventDefault(),f()&&(c(!0),setTimeout(()=>{e(r),c(!1),h("Profile updated successfully!")},1e3))};return o.jsxs(be,{className:"w-full",children:[o.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Edit Profile Information"}),o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(Ki,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",name:"firstName",id:"firstName",value:r.firstName,onChange:m,className:"w-full rounded-md border-gray-300 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0})]}),s.firstName&&o.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.firstName})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(Ki,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",name:"lastName",id:"lastName",value:r.lastName,onChange:m,className:"w-full rounded-md border-gray-300 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0})]}),s.lastName&&o.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.lastName})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(ys,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"tel",name:"phone",id:"phone",value:r.phone,onChange:m,className:"w-full rounded-md border-gray-300 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),s.phone&&o.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.phone})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(ir,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"email",name:"email",id:"email",value:t.email||"",className:"w-full rounded-md border-gray-300 bg-gray-100 pl-10 text-gray-500 shadow-sm",disabled:!0,readOnly:!0})]}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Contact support to change your email address."})]}),o.jsxs("div",{className:"flex justify-end gap-3 border-t border-gray-200 pt-4",children:[o.jsxs(Ae,{type:"button",variant:"ghost",onClick:n,children:[o.jsx(wr,{className:"mr-2 h-4 w-4"}),"Cancel"]}),o.jsxs(Ae,{type:"submit",variant:"primary",disabled:!u||l,children:[l?o.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}):o.jsx(pf,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]})]})]})},y6={completed:{icon:Ka,color:"bg-green-100 text-green-800"},cancelled:{icon:wr,color:"bg-red-100 text-red-800"},preparing:{icon:Fn,color:"bg-blue-100 text-blue-800"},waiting:{icon:Fn,color:"bg-yellow-100 text-yellow-800"},ready:{icon:Fn,color:"bg-purple-100 text-purple-800"}},c1e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},u1e={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},d1e=({order:t})=>{var c,u;const e=((c=y6[t.status])==null?void 0:c.icon)||Fn,n=((u=y6[t.status])==null?void 0:u.color)||"bg-gray-100 text-gray-800",{addMultipleToCart:r,showToast:i}=lr(),{products:s}=Gu(),a=()=>{const d=[],h=[];for(const f of t.orderItems){const m=s.find(w=>w.id===f.productId);if(!m||!m.available||m.stock===0){h.push(f.productName);continue}const y=f.productName.match(/\((Grande|Venti)\)$/),v=y?y[1]:null;if(!v){h.push(f.productName);continue}const x=m.sizes.find(w=>w.name===v);if(!x){h.push(f.productName);continue}d.push({product:m,selectedSize:x,quantity:f.quantity,customizations:f.customizations})}d.length>0&&r(d),h.length>0&&i(`Could not add: ${h.join(", ")}. They may be unavailable.`)},l=()=>{const d=t.orderItems;return d.length<=2?d.map(f=>`${f.quantity}x ${f.productName}`).join(", "):`${d.slice(0,2).map(f=>f.productName).join(", ")}, and ${d.length-2} more item(s)`};return o.jsx(be,{hover:!0,className:"transition-shadow duration-300",children:o.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"font-mono text-sm font-semibold text-primary-700",children:t.orderNumber}),o.jsxs(tr,{className:`capitalize ${n}`,children:[o.jsx(e,{className:"mr-1 h-3 w-3"}),t.status]})]}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:PC(t.timestamp,"MMM dd, yyyy  hh:mm a")}),o.jsx("p",{className:"mt-2 text-sm text-gray-700",children:l()}),t.status==="cancelled"&&t.cancellationReason&&o.jsxs("div",{className:"mt-2 rounded-md bg-red-50 p-2 text-sm text-red-700 border border-red-100",children:[o.jsx("span",{className:"font-semibold",children:"Reason:"})," ",t.cancellationReason]})]}),o.jsxs("div",{className:"flex-shrink-0 text-right sm:ml-4",children:[o.jsxs("p",{className:"font-display text-2xl font-bold text-coffee-900",children:["",t.totalAmount.toFixed(2)]}),o.jsxs(Ae,{size:"sm",variant:"secondary",className:"mt-2",onClick:a,children:[o.jsx(uy,{className:"mr-2 h-4 w-4"}),"Reorder"]})]})]})})},v6=({orders:t,limit:e,showViewAll:n,onViewAll:r})=>{const i=[...t].sort((a,l)=>l.timestamp.getTime()-a.timestamp.getTime()),s=e?i.slice(0,e):i;return t.length===0?o.jsxs("div",{className:"py-16 text-center",children:[o.jsx(tg,{className:"mx-auto h-16 w-16 text-gray-300"}),o.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-800",children:"No Orders Yet"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Your past orders will appear here."}),o.jsx(Ae,{size:"lg",className:"mt-6",children:"Browse Menu"})]}):o.jsxs("div",{children:[o.jsx(Gt.div,{className:"space-y-4",variants:c1e,initial:"hidden",animate:"visible",children:s.map(a=>o.jsx(Gt.div,{variants:u1e,layout:!0,children:o.jsx(d1e,{order:a})},a.id))}),n&&i.length>(e||0)&&o.jsx("div",{className:"mt-6 text-center",children:o.jsx(Ae,{variant:"ghost",onClick:r,children:"View All Orders"})})]})},Am=({label:t,description:e,enabled:n,onChange:r,Icon:i})=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(i,{className:"h-5 w-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-800",children:t}),o.jsx("p",{className:"text-sm text-gray-500",children:e})]})]}),o.jsx("button",{type:"button",className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${n?"bg-primary-600":"bg-gray-200"}`,role:"switch","aria-checked":n,onClick:()=>r(!n),children:o.jsx("span",{"aria-hidden":"true",className:`inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${n?"translate-x-5":"translate-x-0"}`})})]}),h1e=({preferences:t,onUpdatePreferences:e})=>{const[n,r]=g.useState(t),[i,s]=g.useState(!1),[a,l]=g.useState(!1),{showToast:c}=lr(),{updateUserPassword:u}=Zt(),d=(P,k,O)=>{const R={...n,[P]:{...n[P],[k]:O}};r(R),e({[P]:R[P]}),c("Preferences updated!")},[h,f]=g.useState({current:"",new:"",confirm:""}),[m,y]=g.useState({current:!1,new:!1,confirm:!1}),[v,x]=g.useState(!1),[w,_]=g.useState(null),[b,N]=g.useState({password:"",checkbox:!1}),[E,C]=g.useState(!1),j=P=>{f({...h,[P.target.name]:P.target.value}),_(null)},T=P=>{y({...m,[P]:!m[P]})},A=async P=>{if(P.preventDefault(),_(null),h.new!==h.confirm){_("New passwords do not match.");return}if(h.new.length<6){_("Password must be at least 6 characters.");return}x(!0);try{await u(h.current,h.new),c("Password updated successfully!"),s(!1),f({current:"",new:"",confirm:""})}catch(k){console.error("Error updating password:",k),k.code==="auth/wrong-password"?_("Incorrect current password."):_("Failed to update password. Please try again.")}finally{x(!1)}};return o.jsxs(o.Fragment,{children:[o.jsxs(be,{children:[o.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900",children:"Preferences & Settings"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold text-gray-500",children:"Notifications"}),o.jsx(Am,{Icon:mf,label:"Push Notifications",description:"Get notified when order is ready",enabled:n.notifications.push,onChange:P=>d("notifications","push",P)}),o.jsx(Am,{Icon:ir,label:"Email Updates",description:"Receive order updates via email",enabled:n.notifications.emailUpdates,onChange:P=>d("notifications","emailUpdates",P)}),o.jsx(Am,{Icon:ir,label:"Marketing Emails",description:"Get news and promotions",enabled:n.notifications.marketing,onChange:P=>d("notifications","marketing",P)})]}),o.jsx("hr",{className:"my-6"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Hre,{className:"h-5 w-5 text-gray-500"}),o.jsx("h3",{className:"font-semibold text-gray-800",children:"Appearance"})]}),o.jsx("div",{className:"flex gap-2 rounded-full bg-gray-100 p-1",children:["light","dark","auto"].map(P=>o.jsx("button",{onClick:()=>d("theme","theme",P),className:`w-full rounded-full py-1.5 text-sm font-semibold capitalize transition-colors ${n.theme===P?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:P},P))})]}),o.jsx("hr",{className:"my-6"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold text-gray-500",children:"Privacy"}),o.jsx(Am,{Icon:Or,label:"Share anonymous usage data",description:"Help us improve our services",enabled:n.privacy.shareUsageData,onChange:P=>d("privacy","shareUsageData",P)}),o.jsx(Am,{Icon:Or,label:"Personalized recommendations",description:"Get recommendations based on your activity",enabled:n.privacy.personalizedRecs,onChange:P=>d("privacy","personalizedRecs",P)})]})]}),o.jsxs(be,{className:"mt-6 border-l-4 border-red-500",children:[o.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-red-700",children:"Account Management"}),o.jsxs("div",{className:"flex flex-col items-start gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-800",children:"Change Password"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Update your password for better security."})]}),o.jsxs(Ae,{variant:"secondary",onClick:()=>s(!0),children:[o.jsx(wre,{className:"mr-2 h-4 w-4"}),"Change Password"]})]}),o.jsx("hr",{className:"my-4"}),o.jsxs("div",{className:"flex flex-col items-start gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-800",children:"Delete Account"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Permanently delete your account and all data."})]}),o.jsxs(Ae,{variant:"danger",onClick:()=>l(!0),children:[o.jsx(gf,{className:"mr-2 h-4 w-4"}),"Delete Account"]})]})]}),o.jsx(ea,{isOpen:i,onClose:()=>s(!1),title:"Change Password",children:o.jsxs("form",{onSubmit:A,className:"space-y-4",children:[w&&o.jsxs("div",{className:"p-3 bg-red-50 text-red-600 text-sm rounded-lg flex items-center gap-2",children:[o.jsx(ms,{className:"h-4 w-4"}),w]}),o.jsx(fi,{label:"Current Password",type:m.current?"text":"password",name:"current",value:h.current,onChange:j,required:!0,endIcon:o.jsx("button",{type:"button",onClick:()=>T("current"),className:"text-gray-900 hover:text-gray-700 cursor-pointer",children:m.current?o.jsx(mp,{className:"h-4 w-4"}):o.jsx(ml,{className:"h-4 w-4"})})}),o.jsx(fi,{label:"New Password",type:m.new?"text":"password",name:"new",value:h.new,onChange:j,required:!0,endIcon:o.jsx("button",{type:"button",onClick:()=>T("new"),className:"text-gray-900 hover:text-gray-700 cursor-pointer",children:m.new?o.jsx(mp,{className:"h-4 w-4"}):o.jsx(ml,{className:"h-4 w-4"})})}),o.jsx(fi,{label:"Confirm New Password",type:m.confirm?"text":"password",name:"confirm",value:h.confirm,onChange:j,required:!0,endIcon:o.jsx("button",{type:"button",onClick:()=>T("confirm"),className:"text-gray-900 hover:text-gray-700 cursor-pointer",children:m.confirm?o.jsx(mp,{className:"h-4 w-4"}):o.jsx(ml,{className:"h-4 w-4"})})}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsx(Ae,{type:"button",variant:"ghost",onClick:()=>s(!1),children:"Cancel"}),o.jsxs(Ae,{type:"submit",disabled:v,children:[v?o.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}):o.jsx(pf,{className:"mr-2 h-4 w-4"}),"Update Password"]})]})]})}),o.jsx(ea,{isOpen:a,onClose:()=>l(!1),title:"Delete Account",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-red-100",children:o.jsx(ms,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),o.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Are you absolutely sure?"}),o.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"This action cannot be undone. This will permanently delete your account, orders, and rewards."}),o.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Account deletion functionality is coming soon."})]})})]})},f1e=["Poor","Fair","Good","Very Good","Excellent"],m1e={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"},hb=({rating:t,onRatingChange:e,readonly:n=!1,size:r="md",className:i=""})=>{const[s,a]=g.useState(0),l=!n&&e,c=m=>{l&&e(m)},u=m=>{l&&a(m)},d=()=>{l&&a(0)},h=s||t,f=h>0?f1e[h-1]:"";return o.jsxs("div",{className:`flex flex-col items-center gap-2 ${i}`,children:[o.jsx("div",{className:"flex",onMouseLeave:d,role:l?"radiogroup":"img","aria-label":l?"Star rating":`Rating: ${t} out of 5 stars`,children:[...Array(5)].map((m,y)=>{const v=y+1,x=v<=h;return o.jsx("button",{type:"button",disabled:!l,onClick:()=>c(v),onMouseEnter:()=>u(v),className:`transition-colors duration-200 ${l?"cursor-pointer":"cursor-default"}`,"aria-label":l?`${v} star`:void 0,"aria-checked":l?t===v:void 0,role:l?"radio":void 0,children:o.jsx(vs,{className:`
                  ${m1e[r]}
                  ${x?"text-yellow-400":"text-gray-300"}
                  transition-transform duration-200
                  ${l&&x?"hover:scale-110":""}
                `,fill:x?"currentColor":"none"})},y)})}),l&&o.jsx("div",{className:"h-5 text-sm font-medium text-gray-600",children:f})]})},p1e=({user:t})=>{const[e,n]=g.useState("feedback"),[r,i]=g.useState(0),[s,a]=g.useState("food"),[l,c]=g.useState(""),[u,d]=g.useState(!1),[h,f]=g.useState([]),[m,y]=g.useState(!0),[v,x]=g.useState(null),{showToast:w}=lr();g.useEffect(()=>{if(!t)return;const C=he.collection("feedback").where("userId","==",t.uid).onSnapshot(j=>{const T=[];j.forEach(A=>{var k,O;const P=A.data();T.push({id:A.id,...P,createdAt:(k=P.createdAt)==null?void 0:k.toDate(),updatedAt:(O=P.updatedAt)==null?void 0:O.toDate()})}),T.sort((A,P)=>{var k,O;return(((k=P.createdAt)==null?void 0:k.getTime())||0)-(((O=A.createdAt)==null?void 0:O.getTime())||0)}),f(T),y(!1)});return()=>C()},[t]);const _=E=>{n(E),c(""),E==="issue"?(i(0),a("system")):(i(0),a("food"))},b=async E=>{if(E.preventDefault(),e==="feedback"&&r===0){w("Please provide a rating.");return}if(l.trim().length<10){w("Please provide a description (at least 10 characters).");return}d(!0);try{await he.collection("feedback").add({userId:t.uid,rating:e==="issue"?0:r,category:s,comment:l,status:"pending",createdAt:Fe.firestore.FieldValue.serverTimestamp(),updatedAt:Fe.firestore.FieldValue.serverTimestamp(),type:e}),w(e==="issue"?"Issue reported successfully!":"Feedback submitted successfully!"),i(0),c(""),e==="feedback"&&a("food")}catch(C){console.error("Error submitting feedback: ",C),w("Failed to submit. Please try again.")}finally{d(!1)}},N={pending:"bg-yellow-100 text-yellow-800",published:"bg-blue-100 text-blue-800",resolved:"bg-green-100 text-green-800"};return o.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsxs(be,{children:[o.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900",children:"Your History"}),m?o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsx(Lt,{className:"h-8 w-8 animate-spin text-primary-600"})}):h.length>0?o.jsx("div",{className:"space-y-3",children:h.map(E=>o.jsxs("div",{className:"rounded-lg border border-gray-200",children:[o.jsxs("button",{onClick:()=>x(v===E.id?null:E.id),className:"flex w-full items-center justify-between p-4 text-left",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[E.rating>0?o.jsx(hb,{rating:E.rating,size:"sm",readonly:!0}):o.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-red-600 bg-red-50 px-2 py-1 rounded-full",children:[o.jsx(Un,{className:"h-3 w-3"}),"Issue Report"]}),o.jsxs("div",{className:"flex-1 overflow-hidden",children:[o.jsx("p",{className:"font-semibold text-gray-800 truncate",children:E.comment}),o.jsx("p",{className:"text-xs text-gray-500",children:E.createdAt?kC(E.createdAt,{addSuffix:!0}):"Just now"})]})]}),o.jsx(zu,{className:`h-5 w-5 transform transition-transform ${v===E.id?"rotate-180":""}`})]}),o.jsx(ba,{children:v===E.id&&o.jsx(Gt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:o.jsxs("div",{className:"border-t p-4",children:[o.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[o.jsx(tr,{className:"capitalize bg-gray-100 text-gray-600",children:E.category}),o.jsx(tr,{className:`capitalize ${N[E.status]}`,children:E.status})]}),o.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:E.comment}),E.response&&o.jsxs("div",{className:"mt-4 rounded-md border-l-4 border-primary-400 bg-primary-50 p-3",children:[o.jsx("p",{className:"font-semibold text-primary-800",children:"Response from Rush Coffee:"}),o.jsxs("p",{className:"mt-1 text-sm text-primary-700 italic",children:['"',E.response,'"']})]})]})})})]},E.id))}):o.jsxs("div",{className:"py-10 text-center text-gray-500",children:[o.jsx(Hl,{className:"mx-auto h-12 w-12 text-gray-300"}),o.jsx("p",{className:"mt-2 font-semibold",children:"No history found."}),o.jsx("p",{className:"text-sm",children:"Share your thoughts or report issues using the form!"})]})]})}),o.jsx("div",{children:o.jsxs(be,{children:[o.jsxs("div",{className:"flex p-1 mb-6 bg-gray-100 rounded-lg",children:[o.jsxs("button",{onClick:()=>_("feedback"),className:`flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium rounded-md transition-all ${e==="feedback"?"bg-white text-primary-700 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[o.jsx(ZT,{className:"h-4 w-4"}),"Give Feedback"]}),o.jsxs("button",{onClick:()=>_("issue"),className:`flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium rounded-md transition-all ${e==="issue"?"bg-white text-red-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[o.jsx(Un,{className:"h-4 w-4"}),"Report Issue"]})]}),o.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900",children:e==="feedback"?"Share Your Experience":"Report a Problem"}),o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e==="feedback"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Overall Rating"}),o.jsx(hb,{rating:r,onRatingChange:i})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),o.jsxs("select",{id:"category",value:s,onChange:E=>a(E.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[o.jsx("option",{value:"food",children:"Food & Drinks"}),o.jsx("option",{value:"service",children:"Service"}),o.jsx("option",{value:"system",children:"App/Website"}),o.jsx("option",{value:"other",children:"Other"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700",children:e==="feedback"?"Comments":"Describe the issue"}),o.jsx("textarea",{id:"comment",value:l,onChange:E=>c(E.target.value),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:e==="feedback"?"Tell us more about your experience...":"Please describe the issue in detail..."})]}),o.jsxs(Ae,{type:"submit",disabled:u,className:`w-full ${e==="issue"?"bg-red-600 hover:bg-red-700":""}`,children:[u?o.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}):e==="issue"?o.jsx(Un,{className:"mr-2 h-4 w-4"}):o.jsx(JT,{className:"mr-2 h-4 w-4"}),u?"Submitting...":e==="issue"?"Report Issue":"Submit Feedback"]})]})]})})]})},x6=()=>o.jsx(be,{className:"animate-pulse",children:o.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{className:"flex-grow space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"h-4 w-1/3 rounded bg-gray-300"}),o.jsx("div",{className:"h-5 w-1/4 rounded-full bg-gray-300"})]}),o.jsx("div",{className:"h-3 w-1/4 rounded bg-gray-300"}),o.jsx("div",{className:"h-4 w-1/2 rounded bg-gray-300"})]}),o.jsxs("div",{className:"flex-shrink-0 space-y-2 text-right sm:ml-4",children:[o.jsx("div",{className:"h-8 w-24 rounded bg-gray-300 ml-auto"}),o.jsx("div",{className:"h-8 w-28 rounded-full bg-gray-300 ml-auto"})]})]})}),g1e=()=>{const{currentUser:t,updateUserProfile:e,updateUserPhoto:n}=Zt(),{orderHistory:r,isHistoryLoading:i}=CC(),[s,a]=g.useState(null),[l,c]=g.useState("overview"),[u,d]=g.useState(!1),[h,f]=g.useState(!1),[m,y]=g.useState(null),[v,x]=g.useState(null),[w,_]=g.useState(!1),b=g.useRef(null),{showToast:N,addToCart:E}=lr();g.useEffect(()=>{a(t)},[t]),g.useEffect(()=>{if(!m){x(null);return}const V=URL.createObjectURL(m);return x(V),()=>URL.revokeObjectURL(V)},[m]);const C=g.useMemo(()=>s?Lc.find(V=>V.id==="cb-01"):null,[s]),j=V=>{s&&e&&(e(V),d(!1))},T=V=>{s&&a(M=>M?{...M,preferences:{...M.preferences,...V}}:null)},A=V=>{if(V.target.files&&V.target.files[0]){if(V.target.files[0].size>2*1024*1024){N("File size should not exceed 2MB.");return}y(V.target.files[0])}},P=()=>{if(!m||!s||!n)return;_(!0);const V=new FileReader;V.readAsDataURL(m),V.onloadend=async()=>{const M=V.result;try{await n(M),_(!1),f(!1),y(null),N("Profile photo updated!")}catch(L){console.error("Error updating photo:",L),N("Failed to update photo."),_(!1)}}},k=()=>{C&&E(C,C.sizes[0])};if(!s)return o.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50",children:o.jsx(Lt,{className:"h-12 w-12 animate-spin text-primary-600"})});const O=[{id:"overview",label:"Overview",Icon:Ki},{id:"orders",label:"Order History",Icon:tg},{id:"feedback",label:"My Feedback",Icon:Hl},{id:"settings",label:"Settings",Icon:pp}],R=()=>{switch(l){case"orders":return i?o.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((V,M)=>o.jsx(x6,{},M))}):o.jsx(v6,{orders:r});case"settings":return o.jsx(h1e,{preferences:s.preferences,onUpdatePreferences:T});case"feedback":return o.jsx(p1e,{user:s});case"overview":default:return o.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[o.jsxs("div",{className:"space-y-8 lg:col-span-2",children:[u?o.jsx(l1e,{user:s,onSave:j,onCancel:()=>d(!1)}):o.jsxs(be,{className:"overflow-hidden border-none shadow-md transition-shadow hover:shadow-lg",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 pb-4 mb-4",children:[o.jsx("h3",{className:"font-display text-xl font-bold text-gray-900",children:"Personal Information"}),o.jsxs(Ae,{variant:"ghost",size:"sm",onClick:()=>d(!0),className:"text-primary-600 hover:bg-primary-50",children:[o.jsx(t8,{className:"mr-2 h-4 w-4"})," Edit"]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors",children:[o.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100 text-blue-600",children:o.jsx(ir,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase",children:"Email Address"}),o.jsx("p",{className:"text-gray-900 font-medium",children:s.email})]})]}),o.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors",children:[o.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-purple-100 text-purple-600",children:o.jsx(ys,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase",children:"Phone Number"}),o.jsx("p",{className:"text-gray-900 font-medium",children:s.phone||"Not provided"})]})]}),o.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors",children:[o.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-orange-100 text-orange-600",children:o.jsx(Vs,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase",children:"Member Since"}),o.jsx("p",{className:"text-gray-900 font-medium",children:PC(s.createdAt,"MMMM dd, yyyy")})]})]})]})]}),i?o.jsxs(be,{className:"border-none shadow-md",children:[o.jsx("h3",{className:"font-display text-xl font-bold text-gray-900 mb-4",children:"Recent Orders"}),o.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((V,M)=>o.jsx(x6,{},M))})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"font-display text-xl font-bold text-gray-900",children:"Recent Orders"}),o.jsx(Ae,{variant:"link",onClick:()=>c("orders"),className:"text-primary-600",children:"View All"})]}),o.jsx(v6,{orders:r,limit:3,showViewAll:!1})]})]}),o.jsxs("div",{className:"space-y-8 lg:col-span-1",children:[o.jsxs(be,{className:`border-none shadow-md text-white overflow-hidden relative ${s.tier==="gold"?"bg-gradient-to-br from-yellow-500 to-yellow-700":s.tier==="silver"?"bg-gradient-to-br from-gray-400 to-gray-600":"bg-gradient-to-br from-orange-400 to-orange-600"}`,children:[o.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 h-24 w-24 rounded-full bg-white opacity-10 blur-xl"}),o.jsx("div",{className:"absolute bottom-0 left-0 -mb-4 -ml-4 h-24 w-24 rounded-full bg-black opacity-10 blur-xl"}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white/80 text-sm font-medium uppercase tracking-wider",children:"Current Tier"}),o.jsxs("h3",{className:"font-display text-2xl font-bold capitalize",children:[s.tier," Member"]})]}),o.jsx("div",{className:"h-12 w-12 rounded-full bg-white/20 flex items-center justify-center backdrop-blur-sm",children:o.jsx(vs,{className:"h-6 w-6 text-white",fill:"currentColor"})})]}),o.jsxs("div",{className:"mb-2 flex justify-between items-end",children:[o.jsx("span",{className:"text-3xl font-bold",children:s.currentPoints}),o.jsx("span",{className:"text-sm text-white/80 mb-1",children:"points earned"})]}),o.jsx("div",{className:"w-full bg-black/20 rounded-full h-2 mb-4",children:o.jsx("div",{className:"bg-white h-2 rounded-full transition-all duration-500 shadow-[0_0_10px_rgba(255,255,255,0.5)]",style:{width:`${Math.min(s.currentPoints%1e3/10,100)}%`}})}),o.jsx("p",{className:"text-sm text-white/90",children:s.tier==="gold"?"You are at the highest tier! Enjoy your exclusive benefits.":`Earn ${1e3-s.currentPoints%1e3} more points to reach ${s.tier==="bronze"?"Silver":"Gold"} tier.`})]})]}),C&&o.jsxs(be,{className:"border-none shadow-md transition-shadow hover:shadow-lg overflow-hidden group",children:[o.jsx("h3",{className:"font-display text-xl font-bold text-gray-900 mb-4",children:"Your Favorite"}),o.jsxs("div",{className:"relative aspect-square w-full overflow-hidden rounded-xl mb-4",children:[o.jsx("img",{src:C.imageUrl,alt:C.name,className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-110"}),o.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex flex-col justify-end p-4",children:[o.jsx("p",{className:"font-bold text-white text-lg",children:C.name}),o.jsx("p",{className:"text-white/80 text-sm",children:C.category})]})]}),o.jsxs(Ae,{className:"w-full rounded-xl py-3 font-bold shadow-lg shadow-primary-600/20",onClick:k,children:["Order Again ",o.jsx(tg,{className:"ml-2 h-4 w-4"})]})]})]})]})}};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(ar,{}),o.jsxs("main",{children:[o.jsx(o1e,{user:s,onEditPhoto:()=>f(!0)}),o.jsx("div",{className:"sticky top-16 z-30 border-b border-gray-200 bg-white/95 backdrop-blur-sm sm:top-20",children:o.jsx("div",{className:"container mx-auto max-w-7xl px-4 sm:px-6",children:o.jsx("nav",{className:"-mb-px flex space-x-6 overflow-x-auto py-4 no-scrollbar",children:O.map(V=>o.jsxs("button",{onClick:()=>c(V.id),className:`group inline-flex shrink-0 items-center gap-2 rounded-full px-4 py-2 text-sm font-medium transition-all ${l===V.id?"bg-primary-600 text-white shadow-md":"bg-transparent text-gray-500 hover:bg-gray-100 hover:text-gray-900"}`,children:[o.jsx(V.Icon,{className:`h-4 w-4 ${l===V.id?"text-white":"text-gray-400 group-hover:text-gray-600"}`}),V.label]},V.id))})})}),o.jsx("div",{className:"container mx-auto max-w-7xl p-6",children:R()})]}),o.jsx(or,{}),o.jsx(ea,{isOpen:h,onClose:()=>f(!1),title:"Upload New Photo",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("input",{type:"file",ref:b,onChange:A,accept:"image/*",className:"hidden"}),o.jsx("div",{className:"flex cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-6 text-center transition hover:bg-gray-100",onClick:()=>{var V;return(V=b.current)==null?void 0:V.click()},children:v?o.jsx("img",{src:v,alt:"Preview",className:"h-32 w-32 rounded-full object-cover"}):o.jsxs(o.Fragment,{children:[o.jsx(_D,{className:"h-12 w-12 text-gray-400"}),o.jsx("span",{className:"mt-2 block text-sm font-semibold text-gray-600",children:"Click to upload"}),o.jsx("span",{className:"mt-1 block text-xs text-gray-500",children:"PNG or JPG (MAX. 2MB)"})]})}),w&&o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:o.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full animate-pulse",style:{width:"100%"}})}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(Ae,{variant:"ghost",onClick:()=>f(!1),children:"Cancel"}),o.jsxs(Ae,{onClick:P,disabled:!m||w,children:[w?o.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}):o.jsx(_D,{className:"mr-2 h-4 w-4"}),"Upload Photo"]})]})]})})]})},y1e="/RushCoffee-Capstone/assets/rush-coffee-storefront-BCrquOJJ.jpg",v1e=()=>o.jsxs("div",{className:"bg-white",children:[o.jsx(ar,{}),o.jsxs("main",{children:[o.jsxs("section",{className:"relative flex min-h-[40vh] items-center justify-center overflow-hidden bg-coffee-900 px-6 py-24 text-center text-white",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1447933601403-0c6688de566e?q=80&w=2561&auto=format&fit=crop",alt:"Coffee beans close up",className:"h-full w-full object-cover opacity-40"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-coffee-900/60 via-coffee-900/40 to-coffee-900/90"})]}),o.jsxs("div",{className:"relative z-10 mx-auto max-w-4xl",children:[o.jsx("span",{className:"mb-4 inline-block rounded-full bg-primary-500/20 px-4 py-1.5 text-sm font-medium text-primary-300 backdrop-blur-sm",children:"Our Story & Mission"}),o.jsx("h1",{className:"animate-fade-in-up font-display text-5xl font-bold md:text-7xl",style:{animationDelay:"100ms",opacity:0},children:"Brewing the Future"}),o.jsx("p",{className:"animate-fade-in-up mx-auto mt-6 max-w-2xl text-xl text-gray-200 md:text-2xl",style:{animationDelay:"300ms",opacity:0},children:"Where artisanal tradition meets modern convenience. We're redefining your daily coffee ritual."})]}),o.jsx("button",{onClick:()=>{var t;return(t=document.getElementById("our-story"))==null?void 0:t.scrollIntoView({behavior:"smooth"})},className:"absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce text-white/50 hover:text-white transition-colors cursor-pointer","aria-label":"Scroll down",children:o.jsx(El,{className:"h-6 w-6 rotate-90"})})]}),o.jsx("section",{id:"our-story",className:"px-6 py-32",children:o.jsxs("div",{className:"container mx-auto grid max-w-7xl items-center gap-12 md:grid-cols-2",children:[o.jsxs("div",{className:"animate-fade-in-up",children:[o.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"Our Story"}),o.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"Founded in 2023 by a group of passionate coffee aficionados and tech enthusiasts, Rush Coffee was born from a simple yet powerful idea: your coffee break should be a moment of joy, not a test of patience."}),o.jsx("p",{className:"mt-4 text-gray-600",children:"We saw the long lines, the rushed orders, and the precious minutes slipping away from people's days. Our mission became clear: to blend the rich tradition of artisanal coffee with the seamless efficiency of modern technology. We're not just serving coffee; we're giving you back your time, one perfectly brewed cup at a time."})]}),o.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"200ms",opacity:0},children:o.jsx("img",{src:y1e,alt:"Inside Rush Coffee shop",className:"h-80 w-full rounded-lg object-cover shadow-xl"})})]})}),o.jsx("section",{className:"bg-gray-50 px-6 py-32",children:o.jsxs("div",{className:"container mx-auto max-w-7xl",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"What We Stand For"}),o.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-gray-600",children:"Our core values guide every bean we roast and every line of code we write."})]}),o.jsxs("div",{className:"mt-12 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-4",children:[o.jsxs(be,{hover:!0,className:"text-center",children:[o.jsx(Fn,{className:"mx-auto mb-4 h-12 w-12 text-primary-600"}),o.jsx("h3",{className:"font-display text-xl font-semibold text-coffee-900",children:"Quality"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"From ethically sourced, premium beans to the perfect extraction, excellence is in every cup."})]}),o.jsxs(be,{hover:!0,className:"text-center",children:[o.jsx(rg,{className:"mx-auto mb-4 h-12 w-12 text-primary-600"}),o.jsx("h3",{className:"font-display text-xl font-semibold text-coffee-900",children:"Speed"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Our digital queue system ensures your order is ready when you are. Fast, efficient, and always fresh."})]}),o.jsxs(be,{hover:!0,className:"text-center",children:[o.jsx(Da,{className:"mx-auto mb-4 h-12 w-12 text-primary-600"}),o.jsx("h3",{className:"font-display text-xl font-semibold text-coffee-900",children:"Community"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"We're more than a coffee shop; we're a hub for connection, creativity, and caffeine lovers."})]}),o.jsxs(be,{hover:!0,className:"text-center",children:[o.jsx(Ere,{className:"mx-auto mb-4 h-12 w-12 text-primary-600"}),o.jsx("h3",{className:"font-display text-xl font-semibold text-coffee-900",children:"Innovation"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Continuously improving your experience by thoughtfully integrating technology with tradition."})]})]})]})}),o.jsx("section",{className:"bg-gray-50 px-6 py-20",children:o.jsxs("div",{className:"container mx-auto grid max-w-7xl items-center gap-12 lg:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"Visit Us"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Experience the Rush Coffee difference in person. We're ready to serve you."}),o.jsxs("ul",{className:"mt-6 space-y-4",children:[o.jsxs("li",{className:"flex items-start gap-4",children:[o.jsx(XT,{className:"mt-1 h-6 w-6 flex-shrink-0 text-primary-600"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-coffee-900",children:"Address"}),o.jsx("p",{className:"text-gray-600",children:"11 Visayan Ave. St. Galas, Quezon City, Philippines"})]})]}),o.jsxs("li",{className:"flex items-start gap-4",children:[o.jsx(ca,{className:"mt-1 h-6 w-6 flex-shrink-0 text-primary-600"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-coffee-900",children:"Operating Hours"}),o.jsx("p",{className:"text-gray-600",children:"Monday - Sunday 12pm - 10pm"})]})]}),o.jsxs("li",{className:"flex items-start gap-4",children:[o.jsx(ys,{className:"mt-1 h-6 w-6 flex-shrink-0 text-primary-600"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-coffee-900",children:"Contact"}),o.jsx("a",{href:"tel:09304641022",className:"text-primary-600 transition hover:text-primary-700",children:"0930 464 1022"})]})]})]}),o.jsx(Ae,{size:"lg",className:"mt-8",children:"Get Directions"})]}),o.jsx("div",{className:"h-96 overflow-hidden rounded-lg shadow-xl",children:o.jsx("iframe",{src:"https://maps.google.com/maps?q=11%20Visayan%20Ave%20St.%20Galas%20Quezon%20City&t=&z=15&ie=UTF8&iwloc=&output=embed",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Rush Coffee Location"})})]})}),o.jsxs("section",{className:"relative overflow-hidden bg-coffee-900 px-6 py-24 text-center text-white",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?q=80&w=2070&auto=format&fit=crop",alt:"Coffee shop atmosphere",className:"h-full w-full object-cover opacity-20"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-coffee-900/90 via-coffee-800/90 to-coffee-900/90"})]}),o.jsx("div",{className:"absolute -left-1/4 -top-1/4 opacity-5",children:o.jsx(vn,{className:"h-96 w-96 animate-float text-white"})}),o.jsx("div",{className:"absolute -bottom-1/4 -right-1/4 opacity-5",children:o.jsx(vn,{className:"h-[30rem] w-[30rem] animate-float-delay text-white"})}),o.jsxs("div",{className:"relative z-10 mx-auto max-w-3xl",children:[o.jsx("h2",{className:"font-display text-4xl font-bold md:text-5xl lg:text-6xl",children:"Ready to Experience the Rush?"}),o.jsx("p",{className:"mx-auto mb-10 mt-6 max-w-2xl text-xl text-gray-300",children:"Join thousands of happy customers who've already upgraded their coffee routine. Skip the line, not the quality."}),o.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 sm:flex-row",children:[o.jsxs(ft,{to:"/auth/register",className:"group inline-flex items-center justify-center gap-2 rounded-full bg-primary-600 px-8 py-4 text-lg font-semibold text-white shadow-lg transition-all hover:bg-primary-500 hover:shadow-primary-600/30 hover:-translate-y-1",children:["Start Ordering",o.jsx(El,{className:"h-5 w-5 transition-transform group-hover:translate-x-1"})]}),o.jsx(ft,{to:"/menu",className:"inline-flex items-center justify-center gap-2 rounded-full border border-white/20 bg-white/5 px-8 py-4 text-lg font-semibold text-white backdrop-blur-sm transition-all hover:bg-white/10 hover:-translate-y-1",children:"View Menu"})]}),o.jsxs("p",{className:"mt-8 text-sm text-gray-400",children:["Already have an account?"," ",o.jsx(ft,{to:"/auth/login",className:"font-medium text-primary-400 hover:text-primary-300 hover:underline",children:"Log in here"})]})]})]})]}),o.jsx(or,{})]}),RC=g.forwardRef(({className:t,label:e,error:n,helperText:r,startIcon:i,containerClassName:s,id:a,showCharCount:l=!1,maxLength:c,autoResize:u=!1,value:d,onChange:h,...f},m)=>{const[y,v]=hs.useState(0),x=hs.useRef(null);hs.useEffect(()=>{d!==void 0&&v(String(d).length)},[d]),hs.useEffect(()=>{u&&x.current&&(x.current.style.height="auto",x.current.style.height=`${x.current.scrollHeight}px`)},[d,u]);const w=b=>{v(b.target.value.length),h&&h(b)},_=b=>{x.current=b,typeof m=="function"?m(b):m&&(m.current=b)};return o.jsxs("div",{className:`w-full ${s||""}`,children:[e&&o.jsx("label",{htmlFor:a,className:"mb-1.5 block text-sm font-medium text-coffee-900",children:e}),o.jsxs("div",{className:"relative group",children:[i&&o.jsx("div",{className:"pointer-events-none absolute left-3 top-3 text-gray-400 transition-colors group-focus-within:text-primary-600",children:i}),o.jsx("textarea",{id:a,className:`
              w-full rounded-xl border bg-white px-4 py-3.5 text-sm text-gray-900 
              placeholder:text-gray-500 placeholder:font-medium transition-all duration-200 ease-in-out resize-none
              focus:border-primary-500 focus:outline-none focus:ring-4 focus:ring-primary-500/10
              disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500
              ${i?"pl-10":""}
              ${n?"border-red-300 focus:border-red-500 focus:ring-red-500/10":"border-gray-500 shadow-sm hover:border-primary-400"}
              ${u?"overflow-hidden":""}
              ${t||""}
            `,ref:_,value:d,onChange:w,maxLength:c,...f})]}),o.jsxs("div",{className:"mt-1.5 flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[n&&o.jsx("p",{className:"text-xs font-medium text-red-600 animate-fade-in-up",children:n}),!n&&r&&o.jsx("p",{className:"text-xs text-gray-500",children:r})]}),l&&c&&o.jsxs("p",{className:`text-xs ml-2 flex-shrink-0 transition-colors ${y>c*.9?"text-amber-600 font-medium":"text-gray-400"}`,children:[y,"/",c]})]})]})});RC.displayName="Textarea";const EH=g.forwardRef(({className:t,label:e,error:n,helperText:r,startIcon:i,containerClassName:s,id:a,options:l,children:c,...u},d)=>o.jsxs("div",{className:`w-full ${s||""}`,children:[e&&o.jsx("label",{htmlFor:a,className:"mb-1.5 block text-sm font-medium text-coffee-900",children:e}),o.jsxs("div",{className:"relative group",children:[i&&o.jsx("div",{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 transition-colors group-focus-within:text-primary-600 z-10",children:i}),o.jsx("select",{id:a,className:`
              w-full appearance-none rounded-xl border bg-white px-4 py-3.5 text-sm text-gray-900 
              cursor-pointer transition-all duration-200 ease-in-out
              focus:border-primary-500 focus:outline-none focus:ring-4 focus:ring-primary-500/10
              disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500
              ${i?"pl-10":""}
              pr-10
              ${n?"border-red-300 focus:border-red-500 focus:ring-red-500/10":"border-gray-500 shadow-sm hover:border-primary-400"}
              ${t||""}
            `,ref:d,...u,children:l?l.map(h=>o.jsx("option",{value:h.value,disabled:h.disabled,children:h.label},h.value)):c}),o.jsx("div",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:o.jsx(zu,{className:"h-5 w-5"})})]}),n&&o.jsx("p",{className:"mt-1.5 text-xs font-medium text-red-600 animate-fade-in-up",children:n}),!n&&r&&o.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:r})]}));EH.displayName="Select";const x1e=[{question:"What are your operating hours?",answer:"We are open Monday - Sunday 12pm - 10pm."},{question:"How does the digital queue system work?",answer:"Simply place your order through our app or website. You'll be added to our virtual queue and receive real-time updates on your order status, including your position and estimated wait time. You'll get a notification when it's ready for pickup!"},{question:"Can I customize my drink?",answer:"Absolutely! Most of our drinks can be customized. You can choose your milk, sweetness level, add extra shots, and more right from the order page."},{question:"Do you offer catering services for events?",answer:"Yes, we do! We offer a range of catering options for meetings, parties, and events. Please use the contact form and select 'Partnership' as the subject to discuss your needs with us."},{question:"How do I earn and redeem rewards points?",answer:"You earn points with every purchase made through your account. You can view your points balance and redeem available rewards on the 'Rewards' page in the app."}],b1e=({question:t,answer:e,isOpen:n,onClick:r})=>o.jsxs("div",{className:"border-b border-gray-200",children:[o.jsxs("button",{onClick:r,className:"flex w-full items-center justify-between py-4 text-left text-lg font-medium text-gray-800 focus:outline-none",children:[o.jsx("span",{children:t}),o.jsx(zu,{className:`h-6 w-6 transform transition-transform duration-300 ${n?"rotate-180":""}`})]}),o.jsx(ba,{children:n&&o.jsx(Gt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:o.jsx("p",{className:"pb-4 text-gray-600",children:e})})})]}),w1e=()=>{const[t,e]=g.useState(0),[n,r]=g.useState({name:"",email:"",phone:"",subject:"",message:""}),[i,s]=g.useState({}),[a,l]=g.useState(!1),[c,u]=g.useState(!1),d=()=>{const m={};return n.name.length<2&&(m.name="Name must be at least 2 characters."),/\S+@\S+\.\S+/.test(n.email)||(m.email="Please enter a valid email address."),n.subject||(m.subject="Please select a subject."),n.message.length<10&&(m.message="Message must be at least 10 characters."),s(m),Object.keys(m).length===0},h=m=>{m.preventDefault(),d()&&(l(!0),u(!1),setTimeout(()=>{l(!1),u(!0),r({name:"",email:"",phone:"",subject:"",message:""}),setTimeout(()=>u(!1),5e3)},1500))},f=m=>{r({...n,[m.target.name]:m.target.value})};return o.jsxs("div",{className:"bg-white",children:[o.jsx(ar,{}),o.jsxs("main",{children:[o.jsxs("section",{className:"relative flex min-h-[40vh] items-center justify-center overflow-hidden bg-coffee-900 px-6 py-20 text-center text-white",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1485182708500-e8f1f318ba72?q=80&w=2610&auto=format&fit=crop",alt:"Coffee shop conversation",className:"h-full w-full object-cover opacity-30"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-coffee-900/80 via-coffee-900/60 to-coffee-900/90"})]}),o.jsxs("div",{className:"relative z-10 mx-auto max-w-3xl",children:[o.jsx("span",{className:"mb-4 inline-block rounded-full bg-primary-500/20 px-4 py-1.5 text-sm font-medium text-primary-300 backdrop-blur-sm",children:"We'd Love to Hear From You"}),o.jsx("h1",{className:"animate-fade-in-up font-display text-5xl font-bold md:text-6xl",style:{animationDelay:"100ms",opacity:0},children:"Get in Touch"}),o.jsx("p",{className:"animate-fade-in-up mx-auto mt-4 max-w-2xl text-xl text-gray-200",style:{animationDelay:"300ms",opacity:0},children:"Have a question, feedback, or just want to say hello? We're here to help."})]})]}),o.jsx("section",{className:"bg-gray-50 px-6 py-24",children:o.jsx("div",{className:"container mx-auto max-w-6xl",children:o.jsxs("div",{className:"overflow-hidden rounded-3xl bg-white shadow-2xl lg:grid lg:grid-cols-5",children:[o.jsxs("div",{className:"p-8 lg:col-span-3 lg:p-12",children:[o.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900",children:"Send us a Message"}),c&&o.jsxs(Gt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mt-4 flex items-center gap-3 rounded-xl bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 p-4 shadow-sm",children:[o.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-green-500",children:o.jsx(fl,{className:"h-6 w-6 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-green-900",children:"Message Sent Successfully!"}),o.jsx("p",{className:"text-sm text-green-700",children:"We'll get back to you within 24 hours."})]})]}),o.jsxs("form",{onSubmit:h,className:"mt-8 space-y-6",children:[o.jsx(fi,{id:"name",name:"name",label:"Name",value:n.name,onChange:f,placeholder:"Full Name",required:!0,error:i.name,startIcon:o.jsx(Ki,{className:"h-5 w-5"})}),o.jsx(fi,{id:"email",name:"email",type:"email",label:"Email",value:n.email,onChange:f,placeholder:"name@company.com",required:!0,error:i.email,startIcon:o.jsx(ir,{className:"h-5 w-5"})}),o.jsx(fi,{id:"phone",name:"phone",type:"tel",label:"Phone",value:n.phone,onChange:f,placeholder:"Phone Number (Optional)",startIcon:o.jsx(ys,{className:"h-5 w-5"})}),o.jsxs(EH,{id:"subject",name:"subject",label:"Subject",value:n.subject,onChange:f,required:!0,error:i.subject,startIcon:o.jsx(mre,{className:"h-5 w-5"}),children:[o.jsx("option",{value:"",disabled:!0,children:"Select a subject..."}),o.jsx("option",{value:"general",children:"General Inquiry"}),o.jsx("option",{value:"feedback",children:"Feedback"}),o.jsx("option",{value:"partnership",children:"Partnership"}),o.jsx("option",{value:"support",children:"Support"})]}),o.jsx(RC,{id:"message",name:"message",label:"Message",value:n.message,onChange:f,placeholder:"How can we help you today?",rows:5,required:!0,error:i.message,startIcon:o.jsx(Hl,{className:"h-5 w-5"}),showCharCount:!0,maxLength:500,helperText:"Please provide as much detail as possible"}),o.jsx(Ae,{type:"submit",size:"lg",fullWidth:!0,isLoading:a,startIcon:!a&&o.jsx(JT,{className:"h-5 w-5"}),children:a?"Sending...":"Send Message"})]})]}),o.jsxs("div",{className:"bg-coffee-900 p-8 text-white lg:col-span-2 lg:p-12",children:[o.jsx("h3",{className:"mb-8 font-display text-2xl font-bold",children:"Contact Information"}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-white/10 backdrop-blur-sm",children:o.jsx(XT,{className:"h-6 w-6 text-primary-300"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-lg",children:"Visit Us"}),o.jsx("p",{className:"mt-1 text-gray-300",children:"11 Visayan Ave. St. Galas, Quezon City, Philippines"}),o.jsxs("a",{href:"https://www.google.com/maps/dir/?api=1&destination=11+Visayan+Ave+St.+Galas+Quezon+City",target:"_blank",rel:"noopener noreferrer",className:"mt-2 inline-flex items-center text-sm font-medium text-primary-300 hover:text-white",children:["Get Directions ",o.jsx(El,{className:"ml-1 h-4 w-4"})]})]})]}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-white/10 backdrop-blur-sm",children:o.jsx(ys,{className:"h-6 w-6 text-primary-300"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-lg",children:"Call Us"}),o.jsx("a",{href:"tel:09304641022",className:"mt-1 block text-gray-300 hover:text-white transition-colors",children:"0930 464 1022"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Monday - Sunday 12pm - 10pm"})]})]}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-white/10 backdrop-blur-sm",children:o.jsx(ir,{className:"h-6 w-6 text-primary-300"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-lg",children:"Email Us"}),o.jsx("a",{href:"mailto:hello@rushcoffee.ph",className:"mt-1 block text-gray-300 hover:text-white transition-colors",children:"hello@rushcoffee.ph"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Responds within 24 hours"})]})]}),o.jsxs("div",{className:"pt-8 border-t border-white/10",children:[o.jsx("h4",{className:"font-bold text-lg mb-4",children:"Follow Us"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("a",{href:"https://www.facebook.com/profile.php?id=61551613276320",target:"_blank",rel:"noopener noreferrer",className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/10 text-white transition hover:bg-primary-600 hover:scale-110",children:o.jsx(YU,{className:"h-5 w-5"})}),o.jsx("a",{href:"https://www.instagram.com/Rush_Coffee2023/",target:"_blank",rel:"noopener noreferrer",className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/10 text-white transition hover:bg-primary-600 hover:scale-110",children:o.jsx(XU,{className:"h-5 w-5"})}),o.jsx("a",{href:"#",className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/10 text-white transition hover:bg-primary-600 hover:scale-110",children:o.jsx(jie,{className:"h-5 w-5"})})]})]})]})]})]})})}),o.jsx("section",{className:"bg-gray-50 px-6 py-20",children:o.jsxs("div",{className:"container mx-auto max-w-4xl",children:[o.jsx("h2",{className:"text-center font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"Frequently Asked Questions"}),o.jsx("div",{className:"mt-8",children:x1e.map((m,y)=>o.jsx(b1e,{...m,isOpen:t===y,onClick:()=>e(t===y?null:y)},y))})]})}),o.jsx("section",{className:"bg-gray-50 px-6 pb-24 pt-12",children:o.jsxs("div",{className:"container mx-auto max-w-6xl text-center",children:[o.jsx("h2",{className:"mb-2 font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"Find Your Way to Us"}),o.jsx("p",{className:"mb-8 text-gray-600",children:"Come visit our cozy spot in the heart of the city."}),o.jsx("div",{className:"h-96 w-full overflow-hidden rounded-3xl shadow-xl",children:o.jsx("iframe",{src:"https://maps.google.com/maps?q=11%20Visayan%20Ave%20St.%20Galas%20Quezon%20City&t=&z=15&ie=UTF8&iwloc=&output=embed",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Rush Coffee Location"})})]})})]}),o.jsx(or,{})]})},jH=[{category:"Ordering & Queue",question:"How do I join the virtual queue?",answer:"Simply place an order through our website or app. You'll automatically join the queue and receive your position number."},{category:"Ordering & Queue",question:"Can I see my queue position in real-time?",answer:"Yes! Your queue page updates in real-time showing your current position and estimated wait time."},{category:"Ordering & Queue",question:"What happens if I miss my turn?",answer:"Don't worry! You have a 10-minute grace period to pick up your order once it's ready. After that, your order will be held for you, but you may need to wait briefly if we are busy."},{category:"Ordering & Queue",question:"Can I cancel my order?",answer:"Yes, you can cancel an order directly from your order history as long as its status is still 'waiting'. Once it moves to 'preparing', it can no longer be canceled. Refunds for successful cancellations are processed within 3-5 business days."},{category:"Payments",question:"What payment methods do you accept?",answer:"We currently accept GCash for pre-payment and cash on pickup. We are working on adding more digital payment options soon!"},{category:"Payments",question:"Is it safe to pay via GCash?",answer:"Absolutely! We use a secure payment process, and your payment information is encrypted and handled safely."},{category:"Payments",question:"Do I need to pay upfront?",answer:"For GCash payments, yes, payment is required upon placing the order. For cash payments, you can pay at the counter when you pick up your order."},{category:"Rewards",question:"How do I earn rewards points?",answer:"You earn points with every purchase made through your Rush Coffee account! The current rate is 1 point for every 10 spent. Keep an eye out for special promotions to earn bonus points."},{category:"Rewards",question:"When do my points expire?",answer:"Good news - your points never expire! You can save them up for as long as you like and redeem them for rewards whenever you're ready."},{category:"Rewards",question:"What are the tier benefits?",answer:"We have three tiers! Bronze (0-299pts): Earn 1x points. Silver (300-999pts): Earn 1.5x points and get access to exclusive silver rewards. Gold (1000+pts): Earn 2x points, get VIP perks, and early access to new items."},{category:"Account",question:"Do I need an account to order?",answer:"Yes, creating an account is necessary. It allows us to manage your orders in the queue, track your rewards points, and save your preferences for a faster checkout next time."},{category:"Account",question:"How do I reset my password?",answer:"On the login page, click the 'Forgot your password?' link. We'll send a password reset link to the email address associated with your account."},{category:"Account",question:"Can I change my email address?",answer:"To update the email address on your account, please contact our support team at hello@rushcoffee.ph, and we'll be happy to assist you."},{category:"Technical",question:"The website isn't working correctly. What should I do?",answer:"First, try refreshing the page. If that doesn't work, clearing your browser's cache and cookies often resolves the issue. If you're still experiencing problems, please contact our support team with details about the issue."},{category:"Technical",question:"Do you have a mobile app?",answer:"A dedicated mobile app for iOS and Android is currently in development and will be launching soon! For now, our website is fully responsive and works great on all mobile browsers."},{category:"General",question:"What are your operating hours?",answer:"We're open Monday to Sunday, from 12:00 PM to 10:00 PM. Hours may vary on public holidays."},{category:"General",question:"Do you offer WiFi in your store?",answer:"Yes, we offer complimentary high-speed WiFi for all our customers. Just ask our staff for the network details."},{category:"General",question:"Can I customize my drink?",answer:"Absolutely! You can customize aspects like milk type, sweetness level, add extra espresso shots, and choose from various syrups and toppings directly on the product page before adding an item to your cart."}],_1e=["All",...Array.from(new Set(jH.map(t=>t.category)))],N1e=({question:t,answer:e,isOpen:n,onClick:r,highlight:i})=>{const s=(a,l)=>{if(!l.trim())return a;const c=new RegExp(`(${l})`,"gi");return a.split(c).map((u,d)=>c.test(u)?o.jsx("mark",{className:"bg-primary-100 text-primary-700 rounded-sm",children:u},d):u)};return o.jsxs("div",{className:"border-b border-gray-200",children:[o.jsxs("button",{onClick:r,className:"flex w-full items-center justify-between py-5 text-left text-lg font-medium text-gray-800 focus:outline-none focus:bg-gray-50 rounded-md",children:[o.jsx("span",{className:"flex-1 pr-4",children:s(t,i)}),o.jsx(zu,{className:`h-6 w-6 transform text-primary-600 transition-transform duration-300 ${n?"rotate-180":""}`})]}),o.jsx(ba,{children:n&&o.jsx(Gt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:o.jsx("div",{className:"pb-5 pr-6 text-gray-600 leading-relaxed",children:s(e,i)})})})]})},S1e=()=>{const[t,e]=g.useState(""),[n,r]=g.useState("All"),[i,s]=g.useState(0),a=g.useMemo(()=>jH.filter(l=>{const c=n==="All"||l.category===n,u=t.trim()===""||l.question.toLowerCase().includes(t.toLowerCase())||l.answer.toLowerCase().includes(t.toLowerCase());return c&&u}),[t,n]);return o.jsxs("div",{className:"bg-white",children:[o.jsx(ar,{}),o.jsxs("main",{children:[o.jsx("section",{className:"bg-gradient-to-br from-primary-50 to-coffee-50 px-6 py-16",children:o.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[o.jsx("h1",{className:"font-display text-5xl font-bold text-coffee-900 md:text-6xl",children:"Frequently Asked Questions"}),o.jsx("p",{className:"mt-4 text-xl text-gray-700",children:"Everything you need to know about Rush Coffee"}),o.jsxs("div",{className:"relative mx-auto mt-8 max-w-2xl",children:[o.jsx(Ya,{className:"absolute left-6 top-1/2 h-6 w-6 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"search",placeholder:"Search for answers...",value:t,onChange:l=>e(l.target.value),className:"w-full rounded-full border border-gray-300 bg-white py-4 pl-16 pr-6 text-lg shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500"})]})]})}),o.jsx("div",{className:"sticky top-20 z-30 border-b border-gray-200 bg-white/95 py-3 backdrop-blur-sm",children:o.jsx("div",{className:"container mx-auto flex max-w-7xl gap-2 overflow-x-auto px-6 pb-2",children:_1e.map(l=>o.jsx("button",{onClick:()=>r(l),className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition-colors ${n===l?"bg-primary-600 text-white shadow":"border border-gray-300 bg-white text-gray-700 hover:bg-gray-100"}`,children:l},l))})}),o.jsx("section",{className:"px-6 py-16",children:o.jsx("div",{className:"container mx-auto max-w-4xl",children:a.length>0?o.jsxs("div",{children:[o.jsxs("p",{className:"mb-4 text-sm text-gray-500",children:[a.length," question(s) found"]}),a.map((l,c)=>o.jsx(N1e,{question:l.question,answer:l.answer,isOpen:i===c,onClick:()=>s(i===c?null:c),highlight:t},`${l.category}-${c}`))]}):o.jsxs("div",{className:"py-20 text-center",children:[o.jsx(Ya,{className:"mx-auto h-16 w-16 text-gray-300"}),o.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-800",children:"No Results Found"}),o.jsxs("p",{className:"mt-2 text-gray-500",children:[`We couldn't find any answers for "`,t,'". Try a different search term or category.']})]})})}),o.jsx("section",{className:"bg-gray-50 px-6 py-20",children:o.jsx("div",{className:"container mx-auto max-w-4xl",children:o.jsxs(be,{className:"text-center",children:[o.jsx(Lne,{className:"mx-auto h-12 w-12 text-primary-600"}),o.jsx("h2",{className:"mt-4 font-display text-3xl font-bold text-coffee-900",children:"Still have questions?"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"If you can't find the answer you're looking for, please get in touch with our support team."}),o.jsx("div",{className:"mt-6 flex flex-col items-center justify-center gap-4 sm:flex-row",children:o.jsx(ft,{to:"/contact",children:o.jsxs(Ae,{size:"lg",children:[o.jsx(Mre,{className:"mr-2 h-5 w-5"}),"Contact Support"]})})})]})})})]}),o.jsx(or,{})]})},E1e=()=>{const{notification:t,hideNotification:e}=vH(),n={success:o.jsx(fl,{className:"h-6 w-6 text-green-500"}),info:o.jsx(Cx,{className:"h-6 w-6 text-blue-500"}),warning:o.jsx(ms,{className:"h-6 w-6 text-amber-500"}),error:o.jsx(Wc,{className:"h-6 w-6 text-red-500"})},r={success:"bg-white border-green-100",info:"bg-white border-blue-100",warning:"bg-white border-amber-100",error:"bg-white border-red-100"};return o.jsx(ba,{children:t.isVisible&&o.jsxs(Gt.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{type:"spring",stiffness:300,damping:30},className:`fixed top-6 left-0 right-0 z-[100] mx-auto flex w-[90%] max-w-md items-center gap-3 rounded-xl border p-4 shadow-xl ${r[t.type]}`,children:[o.jsx("div",{className:"flex-shrink-0",children:n[t.type]}),o.jsx("div",{className:"flex-1",children:o.jsx("p",{className:"font-medium text-gray-900",children:t.message})}),o.jsx("button",{onClick:e,className:"flex-shrink-0 rounded-full p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-500",children:o.jsx(wr,{className:"h-4 w-4"})})]})})},j1e={Pearls:10,Pudding:15,"Grass Jelly":15},T1e=({cartItems:t,isOpen:e,onClose:n,onUpdateQuantity:r,onRemoveItem:i,onCheckout:s,selectedItemIds:a,onToggleItemSelection:l,onSelectAll:c,onDeselectAll:u})=>{const d=$n(),h=t.reduce((_,b)=>_+b.quantity,0),f=t.length>0&&a.length===t.length,m=a.length>0&&a.length<t.length,y=_=>_?_.reduce((b,N)=>b+(j1e[N]||0),0):0,v=t.filter(_=>a.includes(_.id)).reduce((_,b)=>{var E;const N=y((E=b.customizations)==null?void 0:E.toppings);return _+(b.selectedSize.price+N)*b.quantity},0),x=()=>{n(),d("/menu")},w=()=>{f?u():c()};return o.jsxs(o.Fragment,{children:[o.jsx("div",{onClick:n,className:`fixed inset-0 z-40 bg-black/50 transition-opacity duration-300 ${e?"opacity-100":"opacity-0 pointer-events-none"}`,"aria-hidden":"true"}),o.jsx("aside",{className:`fixed top-0 right-0 z-50 h-full w-full transform bg-white shadow-2xl transition-transform duration-300 ease-in-out sm:w-96 md:w-[450px] ${e?"translate-x-0":"translate-x-full"}`,role:"dialog","aria-modal":"true","aria-labelledby":"cart-heading",children:o.jsxs("div",{className:"flex h-full flex-col",children:[o.jsxs("header",{className:"flex items-center justify-between border-b border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h2",{id:"cart-heading",className:"font-display text-xl font-bold text-coffee-900",children:"Your Order"}),h>0&&o.jsxs(tr,{children:[h," ",h===1?"item":"items"]})]}),o.jsx("button",{onClick:n,className:"rounded-md p-2 text-gray-500 transition-colors hover:bg-gray-100 hover:text-gray-800","aria-label":"Close cart",children:o.jsx(wr,{className:"h-6 w-6"})})]}),t.length>0&&o.jsx("div",{className:"border-b border-gray-200 px-6 py-3 bg-gray-50/50 backdrop-blur-sm sticky top-0 z-10",children:o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group select-none",children:[o.jsxs("div",{className:"relative flex items-center justify-center h-5 w-5",children:[o.jsx("input",{type:"checkbox",checked:f,onChange:w,className:"peer h-5 w-5 cursor-pointer appearance-none rounded-md border-2 border-gray-300 bg-white transition-all checked:border-primary-600 checked:bg-primary-600 hover:border-primary-500 focus:ring-2 focus:ring-primary-500/20"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-0 peer-checked:opacity-100 transition-opacity duration-200",children:m&&!f?o.jsx(eg,{className:"h-3.5 w-3.5 text-white",strokeWidth:3}):o.jsx(Ka,{className:"h-3.5 w-3.5 text-white",strokeWidth:3})})]}),o.jsx("span",{className:"text-sm font-semibold text-gray-700 group-hover:text-primary-700 transition-colors",children:f?"Deselect All":"Select All"}),a.length>0&&o.jsxs("span",{className:"ml-auto text-xs font-medium text-primary-600 bg-primary-50 px-2 py-1 rounded-full",children:[a.length," selected"]})]})}),t.length===0?o.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-4 p-6 text-center",children:[o.jsx(vn,{className:"h-24 w-24 text-gray-300 opacity-50"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Your cart is empty"}),o.jsx("p",{className:"text-gray-500",children:"Looks like you haven't added anything yet."}),o.jsx("button",{onClick:x,className:"mt-4 rounded-full bg-primary-600 px-6 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-700",children:"Start Ordering"})]}):o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o.jsx("ul",{className:"-my-4 divide-y divide-gray-200",children:t.map(_=>{var A;const b=_.selectedSize.name==="Combo Meal",N=b?`${_.product.name} (${_.selectedSize.name})`:_.product.name,E=b&&_.product.comboImageUrl?_.product.comboImageUrl:_.product.imageUrl,C=y((A=_.customizations)==null?void 0:A.toppings),j=_.selectedSize.price+C,T=a.includes(_.id);return o.jsxs("li",{className:`relative flex items-start gap-3 py-4 transition-colors ${T?"bg-primary-50/30":""}`,children:[o.jsxs("div",{className:"pt-1 relative flex items-center justify-center h-5 w-5",children:[o.jsx("input",{type:"checkbox",checked:T,onChange:()=>l(_.id),className:"peer h-5 w-5 cursor-pointer appearance-none rounded-md border-2 border-gray-300 bg-white transition-all checked:border-primary-600 checked:bg-primary-600 hover:border-primary-500 focus:ring-2 focus:ring-primary-500/20"}),o.jsx(Ka,{className:"absolute h-3.5 w-3.5 text-white opacity-0 peer-checked:opacity-100 transition-opacity duration-200 pointer-events-none",strokeWidth:3})]}),o.jsx("div",{className:"h-16 w-16 flex-shrink-0 overflow-hidden rounded-md border border-gray-200",children:o.jsx("img",{src:E,alt:N,className:"h-full w-full object-cover object-center"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-semibold text-gray-800 truncate",children:N}),o.jsxs("p",{className:"text-sm text-gray-500",children:[_.selectedSize.size," - ",j.toFixed(2)]}),_.customizations&&o.jsxs("div",{className:"mt-1 text-xs text-gray-500 space-y-0.5",children:[_.customizations.sugarLevel&&o.jsxs("p",{children:["Sugar: ",_.customizations.sugarLevel]}),_.customizations.iceLevel&&o.jsxs("p",{children:["Ice: ",_.customizations.iceLevel]}),_.customizations.toppings&&_.customizations.toppings.length>0&&o.jsxs("p",{children:["Toppings: ",_.customizations.toppings.join(", ")]})]}),o.jsxs("div",{className:"mt-2 flex items-center",children:[o.jsx("button",{onClick:()=>r(_.id,_.quantity-1),disabled:_.quantity===1,className:"flex h-8 w-8 items-center justify-center rounded-full border border-gray-300 text-gray-600 transition hover:bg-gray-100 disabled:cursor-not-allowed disabled:opacity-50","aria-label":`Decrease quantity of ${N}`,children:o.jsx(eg,{className:"h-4 w-4"})}),o.jsx("span",{className:"w-12 text-center font-semibold text-gray-800","aria-live":"polite",children:_.quantity}),o.jsx("button",{onClick:()=>r(_.id,_.quantity+1),className:"flex h-8 w-8 items-center justify-center rounded-full border border-gray-300 text-gray-600 transition hover:bg-gray-100","aria-label":`Increase quantity of ${N}`,children:o.jsx(uo,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-1",children:[o.jsxs("p",{className:"font-semibold text-gray-900",children:["",(j*_.quantity).toFixed(2)]}),o.jsx("button",{onClick:()=>i(_.id),className:"p-1 text-gray-400 transition-colors hover:text-red-600","aria-label":`Remove ${N} from cart`,children:o.jsx(gf,{className:"h-5 w-5"})})]})]},_.id)})})}),t.length>0&&o.jsxs("footer",{className:"mt-auto border-t border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between text-lg font-semibold text-gray-900",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{children:["",v.toFixed(2)]})]}),a.length<t.length&&o.jsx("p",{className:"mt-1 text-xs text-amber-600",children:a.length===0?"Please select items to checkout":`${t.length-a.length} item(s) not selected`}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Taxes and service fee calculated at checkout."}),o.jsx("div",{className:"mt-6",children:o.jsxs("button",{onClick:s,disabled:a.length===0,className:"flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-6 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-gray-400 disabled:opacity-50",children:["Proceed to Checkout",o.jsx(El,{className:"h-5 w-5"})]})})]})]})})]})},A1e=()=>{const{pathname:t}=Ur();return g.useEffect(()=>{window.scrollTo(0,0)},[t]),null},b6=({allowedRoles:t,redirectTo:e})=>{const{currentUser:n,loading:r}=Zt(),i=Ur();return r?o.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-gray-50",children:o.jsx(Lt,{className:"h-12 w-12 animate-spin text-primary-600"})}):n?!t||t.length===0?o.jsx(Ax,{}):n.role&&t.includes(n.role)?o.jsx(Ax,{}):o.jsx("div",{className:"flex min-h-screen flex-col items-center justify-center bg-gradient-to-br from-red-50 to-orange-50 px-4",children:o.jsxs("div",{className:"max-w-md text-center",children:[o.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-red-100",children:o.jsx(oie,{className:"h-10 w-10 text-red-600"})}),o.jsx("h1",{className:"mb-3 font-display text-4xl font-bold text-gray-900",children:"Access Denied"}),o.jsx("p",{className:"mb-6 text-lg text-gray-600",children:"You don't have permission to access this page."}),o.jsxs("p",{className:"mb-8 text-sm text-gray-500",children:["Your role: ",o.jsx("span",{className:"font-semibold capitalize",children:n.role||"customer"}),o.jsx("br",{}),"Required role: ",o.jsx("span",{className:"font-semibold capitalize",children:t.join(" or ")})]}),o.jsx("button",{onClick:()=>window.history.back(),className:"rounded-lg bg-primary-600 px-6 py-3 font-semibold text-white transition-colors hover:bg-primary-700",children:"Go Back"})]})}):o.jsx(xte,{to:e||"/auth/login",state:{from:i},replace:!0})},I1e={blue:{bg:"bg-blue-100",text:"text-blue-600"},green:{bg:"bg-green-100",text:"text-green-600"},yellow:{bg:"bg-yellow-100",text:"text-yellow-600"},purple:{bg:"bg-purple-100",text:"text-purple-600"},indigo:{bg:"bg-indigo-100",text:"text-indigo-600"},emerald:{bg:"bg-emerald-100",text:"text-emerald-600"},amber:{bg:"bg-amber-100",text:"text-amber-600"},orange:{bg:"bg-orange-100",text:"text-orange-600"},red:{bg:"bg-red-100",text:"text-red-600"}},mc=({title:t,value:e,Icon:n,isLoading:r,color:i,trend:s,subtext:a})=>{const{bg:l,text:c}=I1e[i];return o.jsxs(be,{className:"flex items-start justify-between p-5 border border-gray-100 shadow-sm transition-all hover:shadow-md h-full",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),r?o.jsx("div",{className:"mt-1 h-8 w-24 animate-pulse rounded-md bg-gray-200"}):o.jsxs("div",{className:"flex flex-col",children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e}),a&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a})]}),!r&&s&&o.jsxs("div",{className:`flex items-center gap-1 text-xs font-medium ${s.value>=0?"text-green-600":"text-red-600"}`,children:[o.jsxs("span",{children:[s.value>0?"+":"",s.value,"%"]}),o.jsx("span",{className:"text-gray-400 font-normal",children:s.label})]})]}),o.jsx("div",{className:`flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-2xl ${l}`,children:o.jsx(n,{className:`h-6 w-6 ${c}`})})]})},C1e=(t="today")=>{const[e,n]=g.useState([]),[r,i]=g.useState([]),[s,a]=g.useState([]),[l,c]=g.useState([]),[u,d]=g.useState(!0);return g.useEffect(()=>{(async()=>{d(!0);try{const{startDate:f,endDate:m}=P1e(t),v=(await he.collection("orders").where("timestamp",">=",f).where("timestamp","<",m).get()).docs.map(b=>{var E;const N=b.data();return{id:b.id,...N,orderItems:N.orderItems||N.items||[],timestamp:(E=N.timestamp)!=null&&E.toDate?N.timestamp.toDate():N.timestamp?new Date(N.timestamp):new Date,totalAmount:N.totalAmount||N.subtotal||0}}),x=k1e(v,t);n(x);const w=R1e(v);i(w);const _=O1e(v);if(a(_),t==="today"||t==="week"){const b=D1e(v);c(b)}}catch(f){console.error("Error fetching sales data:",f)}finally{d(!1)}})()},[t]),{salesData:e,topProducts:r,categorySales:s,peakHours:l,isLoading:u}};function P1e(t){const e=new Date;let n,r=new Date(e);switch(t){case"today":n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1);break;case"week":n=new Date(e),n.setDate(e.getDate()-7);break;case"month":n=new Date(e),n.setDate(e.getDate()-30);break;case"year":n=new Date(e),n.setFullYear(e.getFullYear()-1);break;default:n=new Date(e.getFullYear(),e.getMonth(),e.getDate())}return{startDate:n,endDate:r}}function k1e(t,e){const n=new Map;return t.forEach(r=>{var l;const i=(l=r.timestamp)!=null&&l.toDate?r.timestamp.toDate():new Date(r.timestamp);let s;switch(e){case"today":s=`${i.getHours()}:00`;break;case"week":s=i.toLocaleDateString("en-US",{month:"short",day:"numeric"});break;case"month":s=i.toLocaleDateString("en-US",{month:"short",day:"numeric"});break;case"year":s=i.toLocaleDateString("en-US",{month:"short",year:"numeric"});break;default:s=i.toLocaleDateString()}const a=n.get(s)||{revenue:0,orders:0};n.set(s,{revenue:a.revenue+(r.totalAmount||0),orders:a.orders+1})}),Array.from(n.entries()).map(([r,i])=>({date:r,revenue:i.revenue,orders:i.orders,averageOrderValue:i.orders>0?i.revenue/i.orders:0})).sort((r,i)=>e==="today"?parseInt(r.date)-parseInt(i.date):0)}function R1e(t){const e=new Map;return t.forEach(n=>{var r;(r=n.orderItems)==null||r.forEach(i=>{const s=e.get(i.productId)||{name:i.productName,quantity:0,revenue:0};e.set(i.productId,{name:i.productName,quantity:s.quantity+i.quantity,revenue:s.revenue+i.price*i.quantity})})}),Array.from(e.entries()).map(([n,r])=>({productId:n,productName:r.name,quantity:r.quantity,revenue:r.revenue})).sort((n,r)=>r.revenue-n.revenue).slice(0,10)}function O1e(t){const e=new Map;return t.forEach(n=>{var r;(r=n.orderItems)==null||r.forEach(i=>{const s=M1e(i.productName),a=e.get(s)||{revenue:0,orders:new Set};e.set(s,{revenue:a.revenue+i.price*i.quantity,orders:a.orders.add(n.id)})})}),Array.from(e.entries()).map(([n,r])=>({category:n,revenue:r.revenue,orders:r.orders.size})).sort((n,r)=>r.revenue-n.revenue)}function D1e(t){const e=new Map;for(let n=0;n<24;n++)e.set(n,{orders:0,revenue:0});return t.forEach(n=>{var a;const i=((a=n.timestamp)!=null&&a.toDate?n.timestamp.toDate():new Date(n.timestamp)).getHours(),s=e.get(i)||{orders:0,revenue:0};e.set(i,{orders:s.orders+1,revenue:s.revenue+(n.totalAmount||0)})}),Array.from(e.entries()).map(([n,r])=>({hour:n,orders:r.orders,revenue:r.revenue})).filter(n=>n.orders>0)}function M1e(t){const e=t.toLowerCase();return e.includes("latte")||e.includes("espresso")||e.includes("cappuccino")||e.includes("mocha")?"Coffee Based":e.includes("matcha")?"Matcha Series":e.includes("chocolate")||e.includes("milk")?"Non-Coffee Based":e.includes("tea")||e.includes("lemon")||e.includes("soda")?"Refreshments":e.includes("waffle")||e.includes("pasta")||e.includes("sandwich")?"Meals":"Other"}function TH(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=TH(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function qe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=TH(t))&&(r&&(r+=" "),r+=e);return r}var L1e=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function OC(t){if(typeof t!="string")return!1;var e=L1e;return e.includes(t)}var V1e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function AH(t){if(typeof t!="string")return!1;var e=V1e;return e.includes(t)}function IH(t){return typeof t=="string"&&t.startsWith("data-")}function Vr(t){var e=Object.entries(t).filter(n=>{var[r]=n;return AH(r)||IH(r)});return Object.fromEntries(e)}function Eu(t){if(t==null)return null;if(g.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Vr(e)}return typeof t=="object"&&!Array.isArray(t)?Vr(t):null}function _r(t){var e=Object.entries(t).filter(n=>{var[r]=n;return AH(r)||IH(r)||OC(r)});return Object.fromEntries(e)}function z1e(t){return t==null?null:g.isValidElement(t)?_r(t.props):typeof t=="object"&&!Array.isArray(t)?_r(t):null}var U1e=["children","width","height","viewBox","className","style","title","desc"];function qE(){return qE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qE.apply(null,arguments)}function F1e(t,e){if(t==null)return{};var n,r,i=B1e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function B1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var DC=g.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:a,style:l,title:c,desc:u}=t,d=F1e(t,U1e),h=s||{width:r,height:i,x:0,y:0},f=qe("recharts-surface",a);return g.createElement("svg",qE({},_r(d),{className:f,width:r,height:i,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),g.createElement("title",null,c),g.createElement("desc",null,u),n)}),$1e=["children","className"];function HE(){return HE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HE.apply(null,arguments)}function q1e(t,e){if(t==null)return{};var n,r,i=H1e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function H1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Qt=g.forwardRef((t,e)=>{var{children:n,className:r}=t,i=q1e(t,$1e),s=qe("recharts-layer",r);return g.createElement("g",HE({className:s},_r(i),{ref:e}),n)}),CH=g.createContext(null),G1e=()=>g.useContext(CH);function ht(t){return function(){return t}}const PH=Math.cos,fb=Math.sin,Ns=Math.sqrt,mb=Math.PI,_1=2*mb,GE=Math.PI,WE=2*GE,Ec=1e-6,W1e=WE-Ec;function kH(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function K1e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return kH;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Y1e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?kH:K1e(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=r-e,u=i-n,d=a-e,h=l-n,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>Ec)if(!(Math.abs(h*c-u*d)>Ec)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,y=i-l,v=c*c+u*u,x=m*m+y*y,w=Math.sqrt(v),_=Math.sqrt(f),b=s*Math.tan((GE-Math.acos((v+f-x)/(2*w*_)))/2),N=b/_,E=b/w;Math.abs(N-1)>Ec&&this._append`L${e+N*d},${n+N*h}`,this._append`A${s},${s},0,0,${+(h*m>d*y)},${this._x1=e+E*c},${this._y1=n+E*u}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),u=e+l,d=n+c,h=1^a,f=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ec||Math.abs(this._y1-d)>Ec)&&this._append`L${u},${d}`,r&&(f<0&&(f=f%WE+WE),f>W1e?this._append`A${r},${r},0,1,${h},${e-l},${n-c}A${r},${r},0,1,${h},${this._x1=u},${this._y1=d}`:f>Ec&&this._append`A${r},${r},0,${+(f>=GE)},${h},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function MC(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Y1e(e)}function LC(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function RH(t){this._context=t}RH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function N1(t){return new RH(t)}function OH(t){return t[0]}function DH(t){return t[1]}function MH(t,e){var n=ht(!0),r=null,i=N1,s=null,a=MC(l);t=typeof t=="function"?t:t===void 0?OH:ht(t),e=typeof e=="function"?e:e===void 0?DH:ht(e);function l(c){var u,d=(c=LC(c)).length,h,f=!1,m;for(r==null&&(s=i(m=a())),u=0;u<=d;++u)!(u<d&&n(h=c[u],u,c))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(h,u,c),+e(h,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:ht(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:ht(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:ht(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),l):r},l}function Q0(t,e,n){var r=null,i=ht(!0),s=null,a=N1,l=null,c=MC(u);t=typeof t=="function"?t:t===void 0?OH:ht(+t),e=typeof e=="function"?e:ht(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?DH:ht(+n);function u(h){var f,m,y,v=(h=LC(h)).length,x,w=!1,_,b=new Array(v),N=new Array(v);for(s==null&&(l=a(_=c())),f=0;f<=v;++f){if(!(f<v&&i(x=h[f],f,h))===w)if(w=!w)m=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=f-1;y>=m;--y)l.point(b[y],N[y]);l.lineEnd(),l.areaEnd()}w&&(b[f]=+t(x,f,h),N[f]=+e(x,f,h),l.point(r?+r(x,f,h):b[f],n?+n(x,f,h):N[f]))}if(_)return l=null,_+""||null}function d(){return MH().defined(i).curve(a).context(s)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:ht(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:ht(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:ht(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:ht(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:ht(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:ht(+h),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:ht(!!h),u):i},u.curve=function(h){return arguments.length?(a=h,s!=null&&(l=a(s)),u):a},u.context=function(h){return arguments.length?(h==null?s=l=null:l=a(s=h),u):s},u}class LH{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Q1e(t){return new LH(t,!0)}function X1e(t){return new LH(t,!1)}const VC={draw(t,e){const n=Ns(e/mb);t.moveTo(n,0),t.arc(0,0,n,0,_1)}},J1e={draw(t,e){const n=Ns(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},VH=Ns(1/3),Z1e=VH*2,e_e={draw(t,e){const n=Ns(e/Z1e),r=n*VH;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},t_e={draw(t,e){const n=Ns(e),r=-n/2;t.rect(r,r,n,n)}},n_e=.8908130915292852,zH=fb(mb/10)/fb(7*mb/10),r_e=fb(_1/10)*zH,i_e=-PH(_1/10)*zH,s_e={draw(t,e){const n=Ns(e*n_e),r=r_e*n,i=i_e*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=_1*s/5,l=PH(a),c=fb(a);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},mS=Ns(3),a_e={draw(t,e){const n=-Ns(e/(mS*3));t.moveTo(0,n*2),t.lineTo(-mS*n,-n),t.lineTo(mS*n,-n),t.closePath()}},Pi=-.5,ki=Ns(3)/2,KE=1/Ns(12),o_e=(KE/2+1)*3,l_e={draw(t,e){const n=Ns(e/o_e),r=n/2,i=n*KE,s=r,a=n*KE+n,l=-s,c=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(l,c),t.lineTo(Pi*r-ki*i,ki*r+Pi*i),t.lineTo(Pi*s-ki*a,ki*s+Pi*a),t.lineTo(Pi*l-ki*c,ki*l+Pi*c),t.lineTo(Pi*r+ki*i,Pi*i-ki*r),t.lineTo(Pi*s+ki*a,Pi*a-ki*s),t.lineTo(Pi*l+ki*c,Pi*c-ki*l),t.closePath()}};function c_e(t,e){let n=null,r=MC(i);t=typeof t=="function"?t:ht(t||VC),e=typeof e=="function"?e:ht(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:ht(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:ht(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function pb(){}function gb(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function UH(t){this._context=t}UH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function u_e(t){return new UH(t)}function FH(t){this._context=t}FH.prototype={areaStart:pb,areaEnd:pb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:gb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function d_e(t){return new FH(t)}function BH(t){this._context=t}BH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:gb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function h_e(t){return new BH(t)}function $H(t){this._context=t}$H.prototype={areaStart:pb,areaEnd:pb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function f_e(t){return new $H(t)}function w6(t){return t<0?-1:1}function _6(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),l=(s*i+a*r)/(r+i);return(w6(s)+w6(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function N6(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function pS(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,a-l*n,s,a)}function yb(t){this._context=t}yb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pS(this,this._t0,N6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,pS(this,N6(this,n=_6(this,t,e)),n);break;default:pS(this,this._t0,n=_6(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function qH(t){this._context=new HH(t)}(qH.prototype=Object.create(yb.prototype)).point=function(t,e){yb.prototype.point.call(this,e,t)};function HH(t){this._context=t}HH.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function m_e(t){return new yb(t)}function p_e(t){return new qH(t)}function GH(t){this._context=t}GH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=S6(t),i=S6(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function S6(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function g_e(t){return new GH(t)}function S1(t,e){this._context=t,this._t=e}S1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function y_e(t){return new S1(t,.5)}function v_e(t){return new S1(t,0)}function x_e(t){return new S1(t,1)}function Hh(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,l=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function YE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function b_e(t,e){return t[e]}function w_e(t){const e=[];return e.key=t,e}function __e(){var t=ht([]),e=YE,n=Hh,r=b_e;function i(s){var a=Array.from(t.apply(this,arguments),w_e),l,c=a.length,u=-1,d;for(const h of s)for(l=0,++u;l<c;++l)(a[l][u]=[0,+r(h,a[l].key,u,s)]).data=h;for(l=0,d=LC(e(a));l<c;++l)a[d[l]].index=l;return n(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:ht(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:ht(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?YE:typeof s=="function"?s:ht(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Hh,i):n},i}function N_e(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Hh(t,e)}}function S_e(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,l=0;a<i;++a)l+=t[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}Hh(t,e)}}function E_e(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var l=0,c=0,u=0;l<a;++l){for(var d=t[e[l]],h=d[r][1]||0,f=d[r-1][1]||0,m=(h-f)/2,y=0;y<l;++y){var v=t[e[y]],x=v[r][1]||0,w=v[r-1][1]||0;m+=x-w}c+=h,u+=m*h}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,Hh(t,e)}}var E1={},WH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(WH);var zC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(zC);var j1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(j1);var T1={},KH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(KH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KH,n=j1;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],a=i.length;if(a===0)return s;let l=0,c="",u="",d=!1;for(i.charCodeAt(0)===46&&(s.push(""),l++);l<a;){const h=i[l];u?h==="\\"&&l+1<a?(l++,c+=i[l]):h===u?u="":c+=h:d?h==='"'||h==="'"?u=h:h==="]"?(d=!1,s.push(c),c=""):c+=h:h==="["?(d=!0,c&&(s.push(c),c="")):h==="."?c&&(s.push(c),c=""):c+=h,l++}return c&&s.push(c),s}t.toPath=r})(T1);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WH,n=zC,r=j1,i=T1;function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?n.isDeepKey(c)?s(l,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return a(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function a(l,c,u){if(c.length===0)return u;let d=l;for(let h=0;h<c.length;h++){if(d==null||e.isUnsafeProperty(c[h]))return u;d=d[c[h]]}return d===void 0?u:d}t.get=s})(E1);var j_e=E1.get;const ju=aa(j_e);var Vn=t=>t===0?0:t>0?1:-1,es=t=>typeof t=="number"&&t!=+t,no=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ue=t=>(typeof t=="number"||t instanceof Number)&&!es(t),ta=t=>ue(t)||typeof t=="string",T_e=0,Dg=t=>{var e=++T_e;return"".concat(t||"").concat(e)},br=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ue(e)&&typeof e!="string")return r;var s;if(no(e)){if(n==null)return r;var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return es(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},YH=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Ye(t,e,n){return ue(t)&&ue(e)?t+n*(e-t):e}function QH(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):ju(r,e))===n)}var jt=t=>t===null||typeof t>"u",Vy=t=>jt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function A_e(t){return t!=null}function Ku(){}var I_e=["type","size","sizeType"];function QE(){return QE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QE.apply(null,arguments)}function E6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E6(Object(n),!0).forEach(function(r){C_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C_e(t,e,n){return(e=P_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P_e(t){var e=k_e(t,"string");return typeof e=="symbol"?e:e+""}function k_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R_e(t,e){if(t==null)return{};var n,r,i=O_e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function O_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var XH={symbolCircle:VC,symbolCross:J1e,symbolDiamond:e_e,symbolSquare:t_e,symbolStar:s_e,symbolTriangle:a_e,symbolWye:l_e},D_e=Math.PI/180,M_e=t=>{var e="symbol".concat(Vy(t));return XH[e]||VC},L_e=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*D_e;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},V_e=(t,e)=>{XH["symbol".concat(Vy(t))]=e},UC=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=R_e(t,I_e),s=j6(j6({},i),{},{type:e,size:n,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var l=()=>{var f=M_e(a),m=c_e().type(f).size(L_e(n,r,a)),y=m();if(y!==null)return y},{className:c,cx:u,cy:d}=s,h=_r(s);return ue(u)&&ue(d)&&ue(n)?g.createElement("path",QE({},h,{className:qe("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};UC.registerSymbol=V_e;var JH=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,FC=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(g.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{OC(i)&&(r[i]=s=>n[i](n,s))}),r},z_e=(t,e,n)=>r=>(t(e,n,r),null),zy=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];OC(i)&&typeof s=="function"&&(r||(r={}),r[i]=z_e(s,e,n))}),r};function T6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U_e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T6(Object(n),!0).forEach(function(r){F_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F_e(t,e,n){return(e=B_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B_e(t){var e=$_e(t,"string");return typeof e=="symbol"?e:e+""}function $_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function en(t,e){var n=U_e({},t),r=e,i=Object.keys(e),s=i.reduce((a,l)=>(a[l]===void 0&&r[l]!==void 0&&(a[l]=r[l]),a),n);return s}function vb(){return vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vb.apply(null,arguments)}function A6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q_e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A6(Object(n),!0).forEach(function(r){H_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H_e(t,e,n){return(e=G_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G_e(t){var e=W_e(t,"string");return typeof e=="symbol"?e:e+""}function W_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Di=32,K_e={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Y_e(t){var{data:e,iconType:n,inactiveColor:r}=t,i=Di/2,s=Di/6,a=Di/3,l=e.inactive?r:e.color,c=n??e.type;if(c==="none")return null;if(c==="plainline"){var u;return g.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(u=e.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Di,y2:i,className:"recharts-legend-icon"})}if(c==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(Di,"M").concat(2*a,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return g.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Di/8,"h").concat(Di,"v").concat(Di*3/4,"h").concat(-Di,"z"),className:"recharts-legend-icon"});if(g.isValidElement(e.legendIcon)){var d=q_e({},e);return delete d.legendIcon,g.cloneElement(e.legendIcon,d)}return g.createElement(UC,{fill:l,cx:i,cy:i,size:Di,sizeType:"diameter",type:c})}function Q_e(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:a}=t,l={x:0,y:0,width:Di,height:Di},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,h)=>{var f=d.formatter||i,m=qe({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:d.inactive});if(d.type==="none")return null;var y=d.inactive?s:d.color,v=f?f(d.value,d,h):d.value;return g.createElement("li",vb({className:m,style:c,key:"legend-item-".concat(h)},zy(t,d,h)),g.createElement(DC,{width:n,height:n,viewBox:l,style:u,"aria-label":"".concat(v," legend icon")},g.createElement(Y_e,{data:d,iconType:a,inactiveColor:s})),g.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},v))})}var X_e=t=>{var e=en(t,K_e),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:s},g.createElement(Q_e,vb({},e,{payload:n})))},ZH={},eG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const a=n[s],l=r(a);i.has(l)||i.set(l,a)}return Array.from(i.values())}t.uniqBy=e})(eG);var BC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(BC);var tG={},A1={},nG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(nG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nG;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(A1);var rG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(rG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A1,n=rG;function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(tG);var iG={},sG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=E1;function n(r){return function(i){return e.get(i,r)}}t.property=n})(sG);var aG={},$C={},oG={},qC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(qC);var HC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(HC);var GC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(GC);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qC,n=HC,r=GC;function i(d,h,f){return typeof f!="function"?i(d,h,()=>{}):s(d,h,function m(y,v,x,w,_,b){const N=f(y,v,x,w,_,b);return N!==void 0?!!N:s(y,v,m,b)},new Map)}function s(d,h,f,m){if(h===d)return!0;switch(typeof h){case"object":return a(d,h,f,m);case"function":return Object.keys(h).length>0?s(d,{...h},f,m):r.eq(d,h);default:return e.isObject(d)?typeof h=="string"?h==="":!0:r.eq(d,h)}}function a(d,h,f,m){if(h==null)return!0;if(Array.isArray(h))return c(d,h,f,m);if(h instanceof Map)return l(d,h,f,m);if(h instanceof Set)return u(d,h,f,m);const y=Object.keys(h);if(d==null)return y.length===0;if(y.length===0)return!0;if(m!=null&&m.has(h))return m.get(h)===d;m==null||m.set(h,d);try{for(let v=0;v<y.length;v++){const x=y[v];if(!n.isPrimitive(d)&&!(x in d)||h[x]===void 0&&d[x]!==void 0||h[x]===null&&d[x]!==null||!f(d[x],h[x],x,d,h,m))return!1}return!0}finally{m==null||m.delete(h)}}function l(d,h,f,m){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[y,v]of h.entries()){const x=d.get(y);if(f(x,v,y,d,h,m)===!1)return!1}return!0}function c(d,h,f,m){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const y=new Set;for(let v=0;v<h.length;v++){const x=h[v];let w=!1;for(let _=0;_<d.length;_++){if(y.has(_))continue;const b=d[_];let N=!1;if(f(b,x,v,d,h,m)&&(N=!0),N){y.add(_),w=!0;break}}if(!w)return!1}return!0}function u(d,h,f,m){return h.size===0?!0:d instanceof Set?c([...d],[...h],f,m):!1}t.isMatchWith=i,t.isSetMatch=u})(oG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oG;function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})($C);var lG={},WC={},cG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(cG);var KC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(KC);var YC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",h="[object Function]",f="[object ArrayBuffer]",m="[object Object]",y="[object Error]",v="[object DataView]",x="[object Uint8Array]",w="[object Uint8ClampedArray]",_="[object Uint16Array]",b="[object Uint32Array]",N="[object BigUint64Array]",E="[object Int8Array]",C="[object Int16Array]",j="[object Int32Array]",T="[object BigInt64Array]",A="[object Float32Array]",P="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=f,t.arrayTag=d,t.bigInt64ArrayTag=T,t.bigUint64ArrayTag=N,t.booleanTag=i,t.dataViewTag=v,t.dateTag=l,t.errorTag=y,t.float32ArrayTag=A,t.float64ArrayTag=P,t.functionTag=h,t.int16ArrayTag=C,t.int32ArrayTag=j,t.int8ArrayTag=E,t.mapTag=c,t.numberTag=r,t.objectTag=m,t.regexpTag=e,t.setTag=u,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=_,t.uint32ArrayTag=b,t.uint8ArrayTag=x,t.uint8ClampedArrayTag=w})(YC);var uG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(uG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cG,n=KC,r=YC,i=HC,s=uG;function a(d,h){return l(d,void 0,d,new Map,h)}function l(d,h,f,m=new Map,y=void 0){const v=y==null?void 0:y(d,h,f,m);if(v!==void 0)return v;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const x=new Array(d.length);m.set(d,x);for(let w=0;w<d.length;w++)x[w]=l(d[w],w,f,m,y);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;m.set(d,x);for(const[w,_]of d)x.set(w,l(_,w,f,m,y));return x}if(d instanceof Set){const x=new Set;m.set(d,x);for(const w of d)x.add(l(w,void 0,f,m,y));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,x);for(let w=0;w<d.length;w++)x[w]=l(d[w],w,f,m,y);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,x),c(x,d,f,m,y),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return m.set(d,x),c(x,d,f,m,y),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return m.set(d,x),c(x,d,f,m,y),x}if(d instanceof Error){const x=new d.constructor;return m.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,c(x,d,f,m,y),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return m.set(d,x),c(x,d,f,m,y),x}if(d instanceof Number){const x=new Number(d.valueOf());return m.set(d,x),c(x,d,f,m,y),x}if(d instanceof String){const x=new String(d.valueOf());return m.set(d,x),c(x,d,f,m,y),x}if(typeof d=="object"&&u(d)){const x=Object.create(Object.getPrototypeOf(d));return m.set(d,x),c(x,d,f,m,y),x}return d}function c(d,h,f=d,m,y){const v=[...Object.keys(h),...e.getSymbols(h)];for(let x=0;x<v.length;x++){const w=v[x],_=Object.getOwnPropertyDescriptor(d,w);(_==null||_.writable)&&(d[w]=l(h[w],w,f,m,y))}}function u(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=l,t.copyProperties=c})(WC);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WC;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(lG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$C,n=lG;function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(aG);var dG={},hG={},fG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WC,n=YC;function r(i,s){return e.cloneDeepWith(i,(a,l,c,u)=>{const d=s==null?void 0:s(a,l,c,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(h,i),h}case n.argumentsTag:{const h={};return e.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}t.cloneDeepWith=r})(fG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fG;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(hG);var mG={},QC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(QC);var pG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KC;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(pG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zC,n=QC,r=pG,i=T1;function s(a,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&e.isDeepKey(l)&&(a==null?void 0:a[l])==null?c=i.toPath(l):c=[l],c.length===0)return!1;let u=a;for(let d=0;d<c.length;d++){const h=c[d];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}t.has=s})(mG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$C,n=j1,r=hG,i=E1,s=mG;function a(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=r.cloneDeep(c),function(u){const d=i.get(u,l);return d===void 0?s.has(u,l):c===void 0?d===void 0:e.isMatch(d,c)}}t.matchesProperty=a})(dG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BC,n=sG,r=aG,i=dG;function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=s})(iG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eG,n=BC,r=tG,i=iG;function s(a,l=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(l)):[]}t.uniqBy=s})(ZH);var J_e=ZH.uniqBy;const I6=aa(J_e);function gG(t,e,n){return e===!0?I6(t,n):typeof e=="function"?I6(t,e):t}var yG={exports:{}},vG={},xG={exports:{}},bG={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh=g;function Z_e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var eNe=typeof Object.is=="function"?Object.is:Z_e,tNe=Gh.useState,nNe=Gh.useEffect,rNe=Gh.useLayoutEffect,iNe=Gh.useDebugValue;function sNe(t,e){var n=e(),r=tNe({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return rNe(function(){i.value=n,i.getSnapshot=e,gS(i)&&s({inst:i})},[t,n,e]),nNe(function(){return gS(i)&&s({inst:i}),t(function(){gS(i)&&s({inst:i})})},[t]),iNe(n),n}function gS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!eNe(t,n)}catch{return!0}}function aNe(t,e){return e()}var oNe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?aNe:sNe;bG.useSyncExternalStore=Gh.useSyncExternalStore!==void 0?Gh.useSyncExternalStore:oNe;xG.exports=bG;var lNe=xG.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1=g,cNe=lNe;function uNe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dNe=typeof Object.is=="function"?Object.is:uNe,hNe=cNe.useSyncExternalStore,fNe=I1.useRef,mNe=I1.useEffect,pNe=I1.useMemo,gNe=I1.useDebugValue;vG.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=fNe(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=pNe(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&a.hasValue){var y=a.value;if(i(y,m))return h=y}return h=m}if(y=h,dNe(d,m))return y;var v=r(m);return i!==void 0&&i(y,v)?(d=m,y):(d=m,h=v)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,n,r,i]);var l=hNe(t,s[0],s[1]);return mNe(function(){a.hasValue=!0,a.value=l},[l]),gNe(l),l};yG.exports=vG;var yNe=yG.exports,XC=g.createContext(null),vNe=t=>t,yt=()=>{var t=g.useContext(XC);return t?t.store.dispatch:vNe},Kv=()=>{},xNe=()=>Kv,bNe=(t,e)=>t===e;function fe(t){var e=g.useContext(XC);return yNe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:xNe,e?e.store.getState:Kv,e?e.store.getState:Kv,e?t:Kv,bNe)}function wNe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function _Ne(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function NNe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var C6=t=>Array.isArray(t)?t:[t];function SNe(t){const e=Array.isArray(t[0])?t[0]:t;return NNe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function ENe(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var jNe=class{constructor(t){this.value=t}deref(){return this.value}},TNe=typeof WeakRef<"u"?WeakRef:jNe,ANe=0,P6=1;function X0(){return{s:ANe,v:void 0,o:null,p:null}}function wG(t,e={}){let n=X0();const{resultEqualityCheck:r}=e;let i,s=0;function a(){var h;let l=n;const{length:c}=arguments;for(let f=0,m=c;f<m;f++){const y=arguments[f];if(typeof y=="function"||typeof y=="object"&&y!==null){let v=l.o;v===null&&(l.o=v=new WeakMap);const x=v.get(y);x===void 0?(l=X0(),v.set(y,l)):l=x}else{let v=l.p;v===null&&(l.p=v=new Map);const x=v.get(y);x===void 0?(l=X0(),v.set(y,l)):l=x}}const u=l;let d;if(l.s===P6)d=l.v;else if(d=t.apply(null,arguments),s++,r){const f=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;f!=null&&r(f,d)&&(d=f,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new TNe(d):d}return u.s=P6,u.v=d,d}return a.clearCache=()=>{n=X0(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function INe(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,a=0,l,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),wNe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...c},{memoize:h,memoizeOptions:f=[],argsMemoize:m=wG,argsMemoizeOptions:y=[]}=d,v=C6(f),x=C6(y),w=SNe(i),_=h(function(){return s++,u.apply(null,arguments)},...v),b=m(function(){a++;const E=ENe(w,arguments);return l=_.apply(null,E),l},...x);return Object.assign(b,{resultFunc:u,memoizedResultFunc:_,dependencies:w,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var F=INe(wG),CNe=Object.assign((t,e=F)=>{_Ne(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((a,l,c)=>(a[n[c]]=l,a),{}))},{withTypes:()=>CNe}),_G={},NG={},SG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const a=e(r),l=e(i);if(a===l&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?l-a:a-l}return 0};t.compareValues=n})(SG);var EG={},JC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(JC);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JC,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(EG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SG,n=EG,r=T1;function i(s,a,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,y)=>{let v=m;for(let x=0;x<y.length&&v!=null;++x)v=v[y[x]];return v},d=(m,y)=>y==null||m==null?y:typeof m=="object"&&"key"in m?Object.hasOwn(y,m.key)?y[m.key]:u(y,m.path):typeof m=="function"?m(y):Array.isArray(m)?u(y,m):typeof y=="object"?y[m]:y,h=a.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return s.map(m=>({original:m,criteria:h.map(y=>d(y,m))})).slice().sort((m,y)=>{for(let v=0;v<h.length;v++){const x=e.compareValues(m.criteria[v],y.criteria[v],l[v]);if(x!==0)return x}return 0}).map(m=>m.original)}t.orderBy=i})(NG);var jG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),a=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<s?a(d,c+1):i.push(d)}};return a(n,0),i}t.flatten=e})(jG);var ZC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QC,n=A1,r=qC,i=GC;function s(a,l,c){return r.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&e.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],a):!1}t.isIterateeCall=s})(ZC);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NG,n=jG,r=ZC;function i(s,...a){const l=a.length;return l>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:l>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,n.flatten(a),["asc"])}t.sortBy=i})(_G);var PNe=_G.sortBy;const C1=aa(PNe);var TG=t=>t.legend.settings,kNe=t=>t.legend.size,RNe=t=>t.legend.payload,ONe=F([RNe,TG],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?C1(r,n):r});function DNe(){return fe(ONe)}var J0=1;function AG(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=g.useState({height:0,left:0,top:0,width:0}),r=g.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>J0||Math.abs(a.left-e.left)>J0||Math.abs(a.top-e.top)>J0||Math.abs(a.width-e.width)>J0)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Wn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var MNe=typeof Symbol=="function"&&Symbol.observable||"@@observable",k6=MNe,yS=()=>Math.random().toString(36).substring(7).split("").join("."),LNe={INIT:`@@redux/INIT${yS()}`,REPLACE:`@@redux/REPLACE${yS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${yS()}`},xb=LNe;function eP(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function IG(t,e,n){if(typeof t!="function")throw new Error(Wn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Wn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Wn(1));return n(IG)(t,e)}let r=t,i=e,s=new Map,a=s,l=0,c=!1;function u(){a===s&&(a=new Map,s.forEach((x,w)=>{a.set(w,x)}))}function d(){if(c)throw new Error(Wn(3));return i}function h(x){if(typeof x!="function")throw new Error(Wn(4));if(c)throw new Error(Wn(5));let w=!0;u();const _=l++;return a.set(_,x),function(){if(w){if(c)throw new Error(Wn(6));w=!1,u(),a.delete(_),s=null}}}function f(x){if(!eP(x))throw new Error(Wn(7));if(typeof x.type>"u")throw new Error(Wn(8));if(typeof x.type!="string")throw new Error(Wn(17));if(c)throw new Error(Wn(9));try{c=!0,i=r(i,x)}finally{c=!1}return(s=a).forEach(_=>{_()}),x}function m(x){if(typeof x!="function")throw new Error(Wn(10));r=x,f({type:xb.REPLACE})}function y(){const x=h;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Wn(11));function _(){const N=w;N.next&&N.next(d())}return _(),{unsubscribe:x(_)}},[k6](){return this}}}return f({type:xb.INIT}),{dispatch:f,subscribe:h,getState:d,replaceReducer:m,[k6]:y}}function VNe(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:xb.INIT})>"u")throw new Error(Wn(12));if(typeof n(void 0,{type:xb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Wn(13))})}function CG(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{VNe(n)}catch(s){i=s}return function(a={},l){if(i)throw i;let c=!1;const u={};for(let d=0;d<r.length;d++){const h=r[d],f=n[h],m=a[h],y=f(m,l);if(typeof y>"u")throw l&&l.type,new Error(Wn(14));u[h]=y,c=c||y!==m}return c=c||r.length!==Object.keys(a).length,c?u:a}}function bb(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function zNe(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Wn(15))};const a={getState:i.getState,dispatch:(c,...u)=>s(c,...u)},l=t.map(c=>c(a));return s=bb(...l)(i.dispatch),{...i,dispatch:s}}}function PG(t){return eP(t)&&"type"in t&&typeof t.type=="string"}var kG=Symbol.for("immer-nothing"),R6=Symbol.for("immer-draftable"),Ii=Symbol.for("immer-state");function us(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Mg=Object.getPrototypeOf;function Tu(t){return!!t&&!!t[Ii]}function ro(t){var e;return t?RG(t)||Array.isArray(t)||!!t[R6]||!!((e=t.constructor)!=null&&e[R6])||Uy(t)||k1(t):!1}var UNe=Object.prototype.constructor.toString(),O6=new WeakMap;function RG(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=O6.get(n);return r===void 0&&(r=Function.toString.call(n),O6.set(n,r)),r===UNe}function wb(t,e,n=!0){P1(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function P1(t){const e=t[Ii];return e?e.type_:Array.isArray(t)?1:Uy(t)?2:k1(t)?3:0}function XE(t,e){return P1(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function OG(t,e,n){const r=P1(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function FNe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Uy(t){return t instanceof Map}function k1(t){return t instanceof Set}function jc(t){return t.copy_||t.base_}function JE(t,e){if(Uy(t))return new Map(t);if(k1(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=RG(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Ii];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],l=r[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[a]})}return Object.create(Mg(t),r)}else{const r=Mg(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function tP(t,e=!1){return R1(t)||Tu(t)||!ro(t)||(P1(t)>1&&Object.defineProperties(t,{set:Z0,add:Z0,clear:Z0,delete:Z0}),Object.freeze(t),e&&Object.values(t).forEach(n=>tP(n,!0))),t}function BNe(){us(2)}var Z0={value:BNe};function R1(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var $Ne={};function Au(t){const e=$Ne[t];return e||us(0,t),e}var Lg;function DG(){return Lg}function qNe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function D6(t,e){e&&(Au("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function ZE(t){ej(t),t.drafts_.forEach(HNe),t.drafts_=null}function ej(t){t===Lg&&(Lg=t.parent_)}function M6(t){return Lg=qNe(Lg,t)}function HNe(t){const e=t[Ii];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function L6(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ii].modified_&&(ZE(e),us(4)),ro(t)&&(t=_b(e,t),e.parent_||Nb(e,t)),e.patches_&&Au("Patches").generateReplacementPatches_(n[Ii].base_,t,e.patches_,e.inversePatches_)):t=_b(e,n,[]),ZE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==kG?t:void 0}function _b(t,e,n){if(R1(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Ii];if(!i)return wb(e,(s,a)=>V6(t,i,e,s,a,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Nb(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,l=!1;i.type_===3&&(a=new Set(s),s.clear(),l=!0),wb(a,(c,u)=>V6(t,i,s,c,u,n,l),r),Nb(t,s,!1),n&&t.patches_&&Au("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function V6(t,e,n,r,i,s,a){if(i==null||typeof i!="object"&&!a)return;const l=R1(i);if(!(l&&!a)){if(Tu(i)){const c=s&&e&&e.type_!==3&&!XE(e.assigned_,r)?s.concat(r):void 0,u=_b(t,i,c);if(OG(n,r,u),Tu(u))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(ro(i)&&!l){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&l)return;_b(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Uy(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Nb(t,i)}}}function Nb(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&tP(e,n)}function GNe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:DG(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=nP;n&&(i=[r],s=Vg);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=a,l}var nP={get(t,e){if(e===Ii)return t;const n=jc(t);if(!XE(n,e))return WNe(t,n,e);const r=n[e];return t.finalized_||!ro(r)?r:r===vS(t.base_,e)?(xS(t),t.copy_[e]=nj(r,t)):r},has(t,e){return e in jc(t)},ownKeys(t){return Reflect.ownKeys(jc(t))},set(t,e,n){const r=MG(jc(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=vS(jc(t),e),s=i==null?void 0:i[Ii];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(FNe(n,i)&&(n!==void 0||XE(t.base_,e)))return!0;xS(t),tj(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return vS(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,xS(t),tj(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=jc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){us(11)},getPrototypeOf(t){return Mg(t.base_)},setPrototypeOf(){us(12)}},Vg={};wb(nP,(t,e)=>{Vg[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Vg.deleteProperty=function(t,e){return Vg.set.call(this,t,e,void 0)};Vg.set=function(t,e,n){return nP.set.call(this,t[0],e,n,t[0])};function vS(t,e){const n=t[Ii];return(n?jc(n):t)[e]}function WNe(t,e,n){var i;const r=MG(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function MG(t,e){if(!(e in t))return;let n=Mg(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Mg(n)}}function tj(t){t.modified_||(t.modified_=!0,t.parent_&&tj(t.parent_))}function xS(t){t.copy_||(t.copy_=JE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var KNe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(c=s,...u){return a.produce(c,d=>n.call(this,d,...u))}}typeof n!="function"&&us(6),r!==void 0&&typeof r!="function"&&us(7);let i;if(ro(e)){const s=M6(this),a=nj(e,void 0);let l=!0;try{i=n(a),l=!1}finally{l?ZE(s):ej(s)}return D6(s,r),L6(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===kG&&(i=void 0),this.autoFreeze_&&tP(i,!0),r){const s=[],a=[];Au("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else us(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...l)=>this.produceWithPatches(a,c=>e(c,...l));let r,i;return[this.produce(e,n,(a,l)=>{r=a,i=l}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ro(t)||us(8),Tu(t)&&(t=Ua(t));const e=M6(this),n=nj(t,void 0);return n[Ii].isManual_=!0,ej(e),n}finishDraft(t,e){const n=t&&t[Ii];(!n||!n.isManual_)&&us(9);const{scope_:r}=n;return D6(r,e),L6(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Au("Patches").applyPatches_;return Tu(t)?r(t,e):this.produce(t,i=>r(i,e))}};function nj(t,e){const n=Uy(t)?Au("MapSet").proxyMap_(t,e):k1(t)?Au("MapSet").proxySet_(t,e):GNe(t,e);return(e?e.scope_:DG()).drafts_.push(n),n}function Ua(t){return Tu(t)||us(10,t),LG(t)}function LG(t){if(!ro(t)||R1(t))return t;const e=t[Ii];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=JE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=JE(t,!0);return wb(n,(i,s)=>{OG(n,i,LG(s))},r),e&&(e.finalized_=!1),n}var rj=new KNe,VG=rj.produce,YNe=rj.setUseStrictIteration.bind(rj);function zG(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var QNe=zG(),XNe=zG,JNe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?bb:bb.apply(null,arguments)};function ts(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Si(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>PG(r)&&r.type===t,n}var UG=class Jm extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Jm.prototype)}static get[Symbol.species](){return Jm}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Jm(...e[0].concat(this)):new Jm(...e.concat(this))}};function z6(t){return ro(t)?VG(t,()=>{}):t}function ev(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function ZNe(t){return typeof t=="boolean"}var eSe=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new UG;return n&&(ZNe(n)?a.push(QNe):a.push(XNe(n.extraArgument))),a},FG="RTK_autoBatch",Nn=()=>t=>({payload:t,meta:{[FG]:!0}}),U6=t=>e=>{setTimeout(e,t)},BG=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,a=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:U6(10):t.type==="callback"?t.queueNotification:U6(t.timeout),u=()=>{a=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),f=r.subscribe(h);return l.add(d),()=>{f(),l.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[FG]),s=!i,s&&(a||(a=!0,c(u))),r.dispatch(d)}finally{i=!0}}})},tSe=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new UG(t);return r&&i.push(BG(typeof r=="object"?r:void 0)),i};function nSe(t){const e=eSe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(eP(n))l=CG(n);else throw new Error(Si(1));let c;typeof r=="function"?c=r(e):c=e();let u=bb;i&&(u=JNe({trace:!1,...typeof i=="object"&&i}));const d=zNe(...c),h=tSe(d);let f=typeof a=="function"?a(h):h();const m=u(...f);return IG(l,s,m)}function $G(t){const e={},n=[];let r;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Si(28));if(l in e)throw new Error(Si(29));return e[l]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}YNe(!1);function rSe(t){return typeof t=="function"}function iSe(t,e){let[n,r,i]=$G(e),s;if(rSe(t))s=()=>z6(t());else{const l=z6(t);s=()=>l}function a(l=s(),c){let u=[n[c.type],...r.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,h)=>{if(h)if(Tu(d)){const m=h(d,c);return m===void 0?d:m}else{if(ro(d))return VG(d,f=>h(f,c));{const f=h(d,c);if(f===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return d},l)}return a.getInitialState=s,a}var sSe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",aSe=(t=21)=>{let e="",n=t;for(;n--;)e+=sSe[Math.random()*64|0];return e},oSe=Symbol.for("rtk-slice-createasyncthunk");function lSe(t,e){return`${t}/${e}`}function cSe({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[oSe];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(Si(11));const l=(typeof i.reducers=="function"?i.reducers(dSe()):i.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(N,E){const C=typeof N=="string"?N:N.type;if(!C)throw new Error(Si(12));if(C in u.sliceCaseReducersByType)throw new Error(Si(13));return u.sliceCaseReducersByType[C]=E,d},addMatcher(N,E){return u.sliceMatchers.push({matcher:N,reducer:E}),d},exposeAction(N,E){return u.actionCreators[N]=E,d},exposeCaseReducer(N,E){return u.sliceCaseReducersByName[N]=E,d}};c.forEach(N=>{const E=l[N],C={reducerName:N,type:lSe(s,N),createNotation:typeof i.reducers=="function"};fSe(E)?pSe(C,E,d,e):hSe(C,E,d)});function h(){const[N={},E=[],C=void 0]=typeof i.extraReducers=="function"?$G(i.extraReducers):[i.extraReducers],j={...N,...u.sliceCaseReducersByType};return iSe(i.initialState,T=>{for(let A in j)T.addCase(A,j[A]);for(let A of u.sliceMatchers)T.addMatcher(A.matcher,A.reducer);for(let A of E)T.addMatcher(A.matcher,A.reducer);C&&T.addDefaultCase(C)})}const f=N=>N,m=new Map,y=new WeakMap;let v;function x(N,E){return v||(v=h()),v(N,E)}function w(){return v||(v=h()),v.getInitialState()}function _(N,E=!1){function C(T){let A=T[N];return typeof A>"u"&&E&&(A=ev(y,C,w)),A}function j(T=f){const A=ev(m,E,()=>new WeakMap);return ev(A,T,()=>{const P={};for(const[k,O]of Object.entries(i.selectors??{}))P[k]=uSe(O,T,()=>ev(y,T,w),E);return P})}return{reducerPath:N,getSelectors:j,get selectors(){return j(C)},selectSlice:C}}const b={name:s,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:w,..._(a),injectInto(N,{reducerPath:E,...C}={}){const j=E??a;return N.inject({reducerPath:j,reducer:x},C),{...b,..._(j,!0)}}};return b}}function uSe(t,e,n,r){function i(s,...a){let l=e(s);return typeof l>"u"&&r&&(l=n()),t(l,...a)}return i.unwrapped=t,i}var ni=cSe();function dSe(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function hSe({type:t,reducerName:e,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!mSe(r))throw new Error(Si(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?ts(t,a):ts(t))}function fSe(t){return t._reducerDefinitionType==="asyncThunk"}function mSe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function pSe({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Si(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:c,settled:u,options:d}=n,h=i(t,s,d);r.exposeAction(e,h),a&&r.addCase(h.fulfilled,a),l&&r.addCase(h.pending,l),c&&r.addCase(h.rejected,c),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(e,{fulfilled:a||tv,pending:l||tv,rejected:c||tv,settled:u||tv})}function tv(){}var gSe="task",qG="listener",HG="completed",rP="cancelled",ySe=`task-${rP}`,vSe=`task-${HG}`,ij=`${qG}-${rP}`,xSe=`${qG}-${HG}`,O1=class{constructor(t){B_(this,"name","TaskAbortError");B_(this,"message");this.code=t,this.message=`${gSe} ${rP} (reason: ${t})`}},iP=(t,e)=>{if(typeof t!="function")throw new TypeError(Si(32))},Sb=()=>{},GG=(t,e=Sb)=>(t.catch(e),t),WG=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),tu=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},nu=t=>{if(t.aborted){const{reason:e}=t;throw new O1(e)}};function KG(t,e){let n=Sb;return new Promise((r,i)=>{const s=()=>i(new O1(t.reason));if(t.aborted){s();return}n=WG(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Sb})}var bSe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof O1?"cancelled":"rejected",error:n}}finally{e==null||e()}},Eb=t=>e=>GG(KG(t,e).then(n=>(nu(t),n))),YG=t=>{const e=Eb(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:rh}=Object,F6={},D1="listenerMiddleware",wSe=(t,e)=>{const n=r=>WG(t,()=>tu(r,t.reason));return(r,i)=>{iP(r);const s=new AbortController;n(s);const a=bSe(async()=>{nu(t),nu(s.signal);const l=await r({pause:Eb(s.signal),delay:YG(s.signal),signal:s.signal});return nu(s.signal),l},()=>tu(s,vSe));return i!=null&&i.autoJoin&&e.push(a.catch(Sb)),{result:Eb(t)(a),cancel(){tu(s,ySe)}}}},_Se=(t,e)=>{const n=async(r,i)=>{nu(e);let s=()=>{};const l=[new Promise((c,u)=>{let d=t({predicate:r,effect:(h,f)=>{f.unsubscribe(),c([h,f.getState(),f.getOriginalState()])}});s=()=>{d(),u()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await KG(e,Promise.race(l));return nu(e),c}finally{s()}};return(r,i)=>GG(n(r,i))},QG=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=ts(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Si(21));return iP(s),{predicate:i,type:e,effect:s}},XG=rh(t=>{const{type:e,predicate:n,effect:r}=QG(t);return{id:aSe(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Si(22))}}},{withTypes:()=>XG}),B6=(t,e)=>{const{type:n,effect:r,predicate:i}=QG(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},sj=t=>{t.pending.forEach(e=>{tu(e,ij)})},NSe=(t,e)=>()=>{for(const n of e.keys())sj(n);t.clear()},$6=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},JG=rh(ts(`${D1}/add`),{withTypes:()=>JG}),SSe=ts(`${D1}/removeAll`),ZG=rh(ts(`${D1}/remove`),{withTypes:()=>ZG}),ESe=(...t)=>{console.error(`${D1}/error`,...t)},Fy=(t={})=>{const e=new Map,n=new Map,r=m=>{const y=n.get(m)??0;n.set(m,y+1)},i=m=>{const y=n.get(m)??1;y===1?n.delete(m):n.set(m,y-1)},{extra:s,onError:a=ESe}=t;iP(a);const l=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),y=>{m.unsubscribe(),y!=null&&y.cancelActive&&sj(m)}),c=m=>{const y=B6(e,m)??XG(m);return l(y)};rh(c,{withTypes:()=>c});const u=m=>{const y=B6(e,m);return y&&(y.unsubscribe(),m.cancelActive&&sj(y)),!!y};rh(u,{withTypes:()=>u});const d=async(m,y,v,x)=>{const w=new AbortController,_=_Se(c,w.signal),b=[];try{m.pending.add(w),r(m),await Promise.resolve(m.effect(y,rh({},v,{getOriginalState:x,condition:(N,E)=>_(N,E).then(Boolean),take:_,delay:YG(w.signal),pause:Eb(w.signal),extra:s,signal:w.signal,fork:wSe(w.signal,b),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((N,E,C)=>{N!==w&&(tu(N,ij),C.delete(N))})},cancel:()=>{tu(w,ij),m.pending.delete(w)},throwIfCancelled:()=>{nu(w.signal)}})))}catch(N){N instanceof O1||$6(a,N,{raisedBy:"effect"})}finally{await Promise.all(b),tu(w,xSe),i(m),m.pending.delete(w)}},h=NSe(e,n);return{middleware:m=>y=>v=>{if(!PG(v))return y(v);if(JG.match(v))return c(v.payload);if(SSe.match(v)){h();return}if(ZG.match(v))return u(v.payload);let x=m.getState();const w=()=>{if(x===F6)throw new Error(Si(23));return x};let _;try{if(_=y(v),e.size>0){const b=m.getState(),N=Array.from(e.values());for(const E of N){let C=!1;try{C=E.predicate(v,b,x)}catch(j){C=!1,$6(a,j,{raisedBy:"predicate"})}C&&d(E,v,m,w)}}}finally{x=F6}return _},startListening:c,stopListening:u,clearListeners:h}};function Si(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var jSe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},eW=ni({name:"chartLayout",initialState:jSe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:TSe,setLayout:ASe,setChartSize:ISe,setScale:CSe}=eW.actions,PSe=eW.reducer;function tW(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function q6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ud(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q6(Object(n),!0).forEach(function(r){kSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kSe(t,e,n){return(e=RSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RSe(t){var e=OSe(t,"string");return typeof e=="symbol"?e:e+""}function OSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function at(t,e,n){return jt(t)||jt(e)?n:ta(e)?ju(t,e,n):typeof e=="function"?e(t):n}var DSe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:a,layout:l}=e;if((l==="vertical"||l==="horizontal"&&a==="middle")&&s!=="center"&&ue(t[s]))return Ud(Ud({},t),{},{[s]:t[s]+(r||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&a!=="middle"&&ue(t[a]))return Ud(Ud({},t),{},{[a]:t[a]+(i||0)})}return t},ua=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",nW=(t,e,n,r)=>{if(r)return t.map(l=>l.coordinate);var i,s,a=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate));return i||a.push(e),s||a.push(n),a},rW=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:a,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:h,niceTicks:f,axisType:m}=t;if(!a)return null;var y=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,v=i==="category"&&a.bandwidth?a.bandwidth()/y:0;if(v=m==="angleAxis"&&s&&s.length>=2?Vn(s[0]-s[1])*2*v:v,h||f){var x=(h||f||[]).map((w,_)=>{var b=r?r.indexOf(w):w;return{coordinate:a(b)+v,value:w,offset:v,index:_}});return x.filter(w=>!es(w.coordinate))}return c&&u?u.map((w,_)=>({coordinate:a(w)+v,value:w,index:_,offset:v})):a.ticks&&d!=null?a.ticks(d).map((w,_)=>({coordinate:a(w)+v,value:w,offset:v,index:_})):a.domain().map((w,_)=>({coordinate:a(w)+v,value:r?r[w]:w,index:_,offset:v}))},H6=1e-4,MSe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-H6,s=Math.max(r[0],r[1])+H6,a=t(e[0]),l=t(e[n-1]);(a<i||a>s||l<i||l>s)&&t.domain([e[0],e[n-1]])}},LSe=(t,e)=>{if(!e||e.length!==2||!ue(e[0])||!ue(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!ue(t[0])||t[0]<n)&&(i[0]=n),(!ue(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},VSe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0,a=0;a<e;++a){var l=es(t[a][n][1])?t[a][n][0]:t[a][n][1];l>=0?(t[a][n][0]=i,t[a][n][1]=i+l,i=t[a][n][1]):(t[a][n][0]=s,t[a][n][1]=s+l,s=t[a][n][1])}},zSe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0;s<e;++s){var a=es(t[s][n][1])?t[s][n][0]:t[s][n][1];a>=0?(t[s][n][0]=i,t[s][n][1]=i+a,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},USe={sign:VSe,expand:N_e,none:Hh,silhouette:S_e,wiggle:E_e,positive:zSe},FSe=(t,e,n)=>{var r=USe[n],i=__e().keys(e).value((s,a)=>Number(at(s,a,0))).order(YE).offset(r);return i(t)};function iW(t){return t==null?void 0:String(t)}function jb(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!jt(i[e.dataKey])){var l=QH(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var c=at(i,jt(a)?e.dataKey:a);return jt(c)?null:e.scale(c)}var G6=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:a}=t;if(e.type==="category")return n[a]?n[a].coordinate+r:null;var l=at(s,e.dataKey,e.scale.domain()[a]);return jt(l)?null:e.scale(l)-i/2+r},BSe=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},$Se=t=>{var e=t.flat(2).filter(ue);return[Math.min(...e),Math.max(...e)]},qSe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],HSe=(t,e,n)=>{if(t!=null)return qSe(Object.keys(t).reduce((r,i)=>{var s=t[i],{stackedData:a}=s,l=a.reduce((c,u)=>{var d=tW(u,e,n),h=$Se(d);return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},W6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,K6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ul=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=C1(e,d=>d.coordinate),s=1/0,a=1,l=i.length;a<l;a++){var c=i[a],u=i[a-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function Y6(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return Ud(Ud({},e),{},{dataKey:n,payload:r,value:i,name:s})}function tc(t,e){if(t)return String(t);if(typeof e=="string")return e}var GSe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},WSe=(t,e)=>e==="centric"?t.angle:t.radius,bo=t=>t.layout.width,wo=t=>t.layout.height,KSe=t=>t.layout.scale,sW=t=>t.layout.margin,M1=F(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),L1=F(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),aW="data-recharts-item-index",oW="data-recharts-item-data-key",By=60;function Q6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q6(Object(n),!0).forEach(function(r){YSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YSe(t,e,n){return(e=QSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QSe(t){var e=XSe(t,"string");return typeof e=="symbol"?e:e+""}function XSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JSe=t=>t.brush.height;function ZSe(t){var e=L1(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:By;return n+i}return n},0)}function e2e(t){var e=L1(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:By;return n+i}return n},0)}function t2e(t){var e=M1(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function n2e(t){var e=M1(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var An=F([bo,wo,sW,JSe,ZSe,e2e,t2e,n2e,TG,kNe],(t,e,n,r,i,s,a,l,c,u)=>{var d={left:(n.left||0)+i,right:(n.right||0)+s},h={top:(n.top||0)+a,bottom:(n.bottom||0)+l},f=nv(nv({},h),d),m=f.bottom;f.bottom+=r,f=DSe(f,c,u);var y=t-f.left-f.right,v=e-f.top-f.bottom;return nv(nv({brushBottom:m},f),{},{width:Math.max(y,0),height:Math.max(v,0)})}),r2e=F(An,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),sP=F(bo,wo,(t,e)=>({x:0,y:0,width:t,height:e})),i2e=g.createContext(null),qn=()=>g.useContext(i2e)!=null,V1=t=>t.brush,z1=F([V1,An,sW],(t,e,n)=>({height:t.height,x:ue(t.x)?t.x:e.left,y:ue(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:ue(t.width)?t.width:e.width})),lW={},cW={},uW={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let a,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{l!==null&&(n.apply(a,l),a=void 0,l=null)},h=()=>{u&&d(),v()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,h()},r)},y=()=>{f!==null&&(clearTimeout(f),f=null)},v=()=>{y(),a=void 0,l=null},x=()=>{d()},w=function(..._){if(i!=null&&i.aborted)return;a=this,l=_;const b=f==null;m(),c&&b&&d()};return w.schedule=m,w.cancel=v,w.flush=x,i==null||i.addEventListener("abort",v,{once:!0}),w}t.debounce=e})(uW);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uW;function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);a&&(u[0]="leading"),l&&(u[1]="trailing");let d,h=null;const f=e.debounce(function(...v){d=r.apply(this,v),h=null},i,{edges:u}),m=function(...v){return c!=null&&(h===null&&(h=Date.now()),Date.now()-h>=c)?(d=r.apply(this,v),h=Date.now(),f.cancel(),f.schedule(),d):(f.apply(this,v),d)},y=()=>(f.flush(),d);return m.cancel=f.cancel,m.flush=y,m}t.debounce=n})(cW);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cW;function n(r,i=0,s={}){const{leading:a=!0,trailing:l=!0}=s;return e.debounce(r,i,{leading:a,maxWait:i,trailing:l})}t.throttle=n})(lW);var s2e=lW.throttle;const a2e=aa(s2e);var Tb=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},dW=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:a}=n,l=no(r)?t:Number(r),c=no(i)?e:Number(i);return s&&s>0&&(l?c=l/s:c&&(l=c*s),a&&c!=null&&c>a&&(c=a)),{calculatedWidth:l,calculatedHeight:c}},o2e={width:0,height:0,overflow:"visible"},l2e={width:0,overflowX:"visible"},c2e={height:0,overflowY:"visible"},u2e={},d2e=t=>{var{width:e,height:n}=t,r=no(e),i=no(n);return r&&i?o2e:r?l2e:i?c2e:u2e};function h2e(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function It(t){return Number.isFinite(t)}function na(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function aj(){return aj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aj.apply(null,arguments)}function X6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X6(Object(n),!0).forEach(function(r){f2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f2e(t,e,n){return(e=m2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m2e(t){var e=p2e(t,"string");return typeof e=="symbol"?e:e+""}function p2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hW=g.createContext({width:-1,height:-1});function g2e(t){return na(t.width)&&na(t.height)}function fW(t){var{children:e,width:n,height:r}=t,i=g.useMemo(()=>({width:n,height:r}),[n,r]);return g2e(i)?g.createElement(hW.Provider,{value:i},e):null}var aP=()=>g.useContext(hW),y2e=g.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:a=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:h,className:f,onResize:m,style:y={}}=t,v=g.useRef(null),x=g.useRef();x.current=m,g.useImperativeHandle(e,()=>v.current);var[w,_]=g.useState({containerWidth:r.width,containerHeight:r.height}),b=g.useCallback((T,A)=>{_(P=>{var k=Math.round(T),O=Math.round(A);return P.containerWidth===k&&P.containerHeight===O?P:{containerWidth:k,containerHeight:O}})},[]);g.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return Ku;var T=O=>{var R,{width:V,height:M}=O[0].contentRect;b(V,M),(R=x.current)===null||R===void 0||R.call(x,V,M)};d>0&&(T=a2e(T,d,{trailing:!0,leading:!1}));var A=new ResizeObserver(T),{width:P,height:k}=v.current.getBoundingClientRect();return b(P,k),A.observe(v.current),()=>{A.disconnect()}},[b,d]);var{containerWidth:N,containerHeight:E}=w;Tb(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:C,calculatedHeight:j}=dW(N,E,{width:i,height:s,aspect:n,maxHeight:c});return Tb(C!=null&&C>0||j!=null&&j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,j,i,s,a,l,n),g.createElement("div",{id:h?"".concat(h):void 0,className:qe("recharts-responsive-container",f),style:J6(J6({},y),{},{width:i,height:s,minWidth:a,minHeight:l,maxHeight:c}),ref:v},g.createElement("div",{style:d2e({width:i,height:s})},g.createElement(fW,{width:C,height:j},u)))}),Wh=g.forwardRef((t,e)=>{var n=aP();if(na(n.width)&&na(n.height))return t.children;var{width:r,height:i}=h2e({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:a}=dW(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return ue(s)&&ue(a)?g.createElement(fW,{width:s,height:a},t.children):g.createElement(y2e,aj({},t,{width:r,height:i,ref:e}))});function mW(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var U1=()=>{var t,e=qn(),n=fe(r2e),r=fe(z1),i=(t=fe(V1))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},v2e={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},pW=()=>{var t;return(t=fe(An))!==null&&t!==void 0?t:v2e},oP=()=>fe(bo),lP=()=>fe(wo),x2e=()=>fe(t=>t.layout.margin),Le=t=>t.layout.layoutType,kf=()=>fe(Le),b2e=()=>{var t=kf();return t!==void 0},F1=t=>{var e=yt(),n=qn(),{width:r,height:i}=t,s=aP(),a=r,l=i;return s&&(a=s.width>0?s.width:r,l=s.height>0?s.height:i),g.useEffect(()=>{!n&&na(a)&&na(l)&&e(ISe({width:a,height:l}))},[e,n,a,l]),null},w2e={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},gW=ni({name:"legend",initialState:w2e,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Nn()},removeLegendPayload:{reducer(t,e){var n=Ua(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Nn()}}}),{setLegendSize:Z6,setLegendSettings:_2e,addLegendPayload:yW,removeLegendPayload:vW}=gW.actions,N2e=gW.reducer,S2e=["contextPayload"];function oj(){return oj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oj.apply(null,arguments)}function e3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e3(Object(n),!0).forEach(function(r){E2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E2e(t,e,n){return(e=j2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j2e(t){var e=T2e(t,"string");return typeof e=="symbol"?e:e+""}function T2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A2e(t,e){if(t==null)return{};var n,r,i=I2e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function I2e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function C2e(t){return t.value}function P2e(t){var{contextPayload:e}=t,n=A2e(t,S2e),r=gG(e,t.payloadUniqBy,C2e),i=Kh(Kh({},n),{},{payload:r});return g.isValidElement(t.content)?g.cloneElement(t.content,i):typeof t.content=="function"?g.createElement(t.content,i):g.createElement(X_e,i)}function k2e(t,e,n,r,i,s){var{layout:a,align:l,verticalAlign:c}=e,u,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(l==="center"&&a==="vertical"?u={left:((r||0)-s.width)/2}:u=l==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?d={top:((i||0)-s.height)/2}:d=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Kh(Kh({},u),d)}function R2e(t){var e=yt();return g.useEffect(()=>{e(_2e(t))},[e,t]),null}function O2e(t){var e=yt();return g.useEffect(()=>(e(Z6(t)),()=>{e(Z6({width:0,height:0}))}),[e,t]),null}function D2e(t,e,n,r){return t==="vertical"&&ue(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var M2e={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Yh(t){var e=en(t,M2e),n=DNe(),r=G1e(),i=x2e(),{width:s,height:a,wrapperStyle:l,portal:c}=e,[u,d]=AG([n]),h=oP(),f=lP();if(h==null||f==null)return null;var m=h-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),y=D2e(e.layout,a,s,m),v=c?l:Kh(Kh({position:"absolute",width:(y==null?void 0:y.width)||s||"auto",height:(y==null?void 0:y.height)||a||"auto"},k2e(l,e,i,h,f,u)),l),x=c??r;if(x==null||n==null)return null;var w=g.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:d},g.createElement(R2e,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),g.createElement(O2e,{width:u.width,height:u.height}),g.createElement(P2e,oj({},e,y,{margin:i,chartWidth:h,chartHeight:f,contextPayload:n})));return au.createPortal(w,x)}Yh.displayName="Legend";function lj(){return lj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lj.apply(null,arguments)}function t3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t3(Object(n),!0).forEach(function(r){L2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L2e(t,e,n){return(e=V2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V2e(t){var e=z2e(t,"string");return typeof e=="symbol"?e:e+""}function z2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U2e(t){return Array.isArray(t)&&ta(t[0])&&ta(t[1])?t.join(" ~ "):t}var F2e=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:a,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:f=!1}=t,m=()=>{if(s&&s.length){var E={padding:0,margin:0},C=(l?C1(s,l):s).map((j,T)=>{if(j.type==="none")return null;var A=j.formatter||a||U2e,{value:P,name:k}=j,O=P,R=k;if(A){var V=A(P,k,j,T,s);if(Array.isArray(V))[O,R]=V;else if(V!=null)O=V;else return null}var M=bS({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},r);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:M},ta(R)?g.createElement("span",{className:"recharts-tooltip-item-name"},R):null,ta(R)?g.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,g.createElement("span",{className:"recharts-tooltip-item-value"},O),g.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:E},C)}return null},y=bS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=bS({margin:0},i),x=!jt(d),w=x?d:"",_=qe("recharts-default-tooltip",c),b=qe("recharts-tooltip-label",u);x&&h&&s!==void 0&&s!==null&&(w=h(d,s));var N=f?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",lj({className:_,style:y},N),g.createElement("p",{className:b,style:v},g.isValidElement(w)?w:"".concat(w)),m())},Im="recharts-tooltip-wrapper",B2e={visibility:"hidden"};function $2e(t){var{coordinate:e,translateX:n,translateY:r}=t;return qe(Im,{["".concat(Im,"-right")]:ue(n)&&e&&ue(e.x)&&n>=e.x,["".concat(Im,"-left")]:ue(n)&&e&&ue(e.x)&&n<e.x,["".concat(Im,"-bottom")]:ue(r)&&e&&ue(e.y)&&r>=e.y,["".concat(Im,"-top")]:ue(r)&&e&&ue(e.y)&&r<e.y})}function n3(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=t;if(s&&ue(s[r]))return s[r];var d=n[r]-l-(i>0?i:0),h=n[r]+i;if(e[r])return a[r]?d:h;var f=c[r];if(f==null)return 0;if(a[r]){var m=d,y=f;return m<y?Math.max(h,f):Math.max(d,f)}if(u==null)return 0;var v=h+l,x=f+u;return v>x?Math.max(d,f):Math.max(h,f)}function q2e(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function H2e(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:l,viewBox:c}=t,u,d,h;return a.height>0&&a.width>0&&n?(d=n3({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),h=n3({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=q2e({translateX:d,translateY:h,useTranslate3d:l})):u=B2e,{cssProperties:u,cssClasses:$2e({translateX:d,translateY:h,coordinate:n})}}function r3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r3(Object(n),!0).forEach(function(r){cj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cj(t,e,n){return(e=G2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G2e(t){var e=W2e(t,"string");return typeof e=="symbol"?e:e+""}function W2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class K2e extends g.PureComponent{constructor(){super(...arguments),cj(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),cj(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:h,useTranslate3d:f,viewBox:m,wrapperStyle:y,lastBoundingBox:v,innerRef:x,hasPortalFromProps:w}=this.props,{cssClasses:_,cssProperties:b}=H2e({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:h,tooltipBox:{height:v.height,width:v.width},useTranslate3d:f,viewBox:m}),N=w?{}:rv(rv({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),E=rv(rv({},N),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},y);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:E,ref:x},s)}}var Y2e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),_o={devToolsEnabled:!1,isSsr:Y2e()},xW=()=>{var t;return(t=fe(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function uj(){return uj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uj.apply(null,arguments)}function i3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i3(Object(n),!0).forEach(function(r){Q2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q2e(t,e,n){return(e=X2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X2e(t){var e=J2e(t,"string");return typeof e=="symbol"?e:e+""}function J2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a3={curveBasisClosed:d_e,curveBasisOpen:h_e,curveBasis:u_e,curveBumpX:Q1e,curveBumpY:X1e,curveLinearClosed:f_e,curveLinear:N1,curveMonotoneX:m_e,curveMonotoneY:p_e,curveNatural:g_e,curveStep:y_e,curveStepAfter:x_e,curveStepBefore:v_e},Ab=t=>It(t.x)&&It(t.y),o3=t=>t.base!=null&&Ab(t.base)&&Ab(t),Cm=t=>t.x,Pm=t=>t.y,Z2e=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Vy(t));return(n==="curveMonotone"||n==="curveBump")&&e?a3["".concat(n).concat(e==="vertical"?"Y":"X")]:a3[n]||N1},eEe=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,a=Z2e(e,i),l=s?n.filter(Ab):n,c;if(Array.isArray(r)){var u=n.map((m,y)=>s3(s3({},m),{},{base:r[y]}));i==="vertical"?c=Q0().y(Pm).x1(Cm).x0(m=>m.base.x):c=Q0().x(Cm).y1(Pm).y0(m=>m.base.y);var d=c.defined(o3).curve(a),h=s?u.filter(o3):u;return d(h)}i==="vertical"&&ue(r)?c=Q0().y(Pm).x1(Cm).x0(r):ue(r)?c=Q0().x(Cm).y1(Pm).y0(r):c=MH().x(Cm).y(Pm);var f=c.defined(Ab).curve(a);return f(l)},ih=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?eEe(t):r;return g.createElement("path",uj({},Vr(t),FC(t),{className:qe("recharts-curve",e),d:s===null?void 0:s,ref:i}))},tEe=["x","y","top","left","width","height","className"];function dj(){return dj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dj.apply(null,arguments)}function l3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nEe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l3(Object(n),!0).forEach(function(r){rEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rEe(t,e,n){return(e=iEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iEe(t){var e=sEe(t,"string");return typeof e=="symbol"?e:e+""}function sEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aEe(t,e){if(t==null)return{};var n,r,i=oEe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oEe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lEe=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),cEe=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:a=0,className:l}=t,c=aEe(t,tEe),u=nEe({x:e,y:n,top:r,left:i,width:s,height:a},c);return!ue(e)||!ue(n)||!ue(s)||!ue(a)||!ue(r)||!ue(i)?null:g.createElement("path",dj({},_r(u),{className:qe("recharts-cross",l),d:lEe(e,n,s,a,r,i)}))};function uEe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function c3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c3(Object(n),!0).forEach(function(r){dEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dEe(t,e,n){return(e=hEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hEe(t){var e=fEe(t,"string");return typeof e=="symbol"?e:e+""}function fEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mEe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),bW=(t,e,n)=>t.map(r=>"".concat(mEe(r)," ").concat(e,"ms ").concat(n)).join(","),pEe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),zg=(t,e)=>Object.keys(e).reduce((n,r)=>u3(u3({},n),{},{[r]:t(r,e[r])}),{});function d3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d3(Object(n),!0).forEach(function(r){gEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gEe(t,e,n){return(e=yEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yEe(t){var e=vEe(t,"string");return typeof e=="symbol"?e:e+""}function vEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ib=(t,e,n)=>t+(e-t)*n,hj=t=>{var{from:e,to:n}=t;return e!==n},wW=(t,e,n)=>{var r=zg((i,s)=>{if(hj(s)){var[a,l]=t(s.from,s.to,s.velocity);return _n(_n({},s),{},{from:a,velocity:l})}return s},e);return n<1?zg((i,s)=>hj(s)?_n(_n({},s),{},{velocity:Ib(s.velocity,r[i].velocity,n),from:Ib(s.from,r[i].from,n)}):s,e):wW(t,r,n-1)};function xEe(t,e,n,r,i,s){var a,l=r.reduce((f,m)=>_n(_n({},f),{},{[m]:{from:t[m],velocity:0,to:e[m]}}),{}),c=()=>zg((f,m)=>m.from,l),u=()=>!Object.values(l).filter(hj).length,d=null,h=f=>{a||(a=f);var m=f-a,y=m/n.dt;l=wW(n,l,y),i(_n(_n(_n({},t),e),c())),a=f,u()||(d=s.setTimeout(h))};return()=>(d=s.setTimeout(h),()=>{var f;(f=d)===null||f===void 0||f()})}function bEe(t,e,n,r,i,s,a){var l=null,c=i.reduce((h,f)=>_n(_n({},h),{},{[f]:[t[f],e[f]]}),{}),u,d=h=>{u||(u=h);var f=(h-u)/r,m=zg((v,x)=>Ib(...x,n(f)),c);if(s(_n(_n(_n({},t),e),m)),f<1)l=a.setTimeout(d);else{var y=zg((v,x)=>Ib(...x,n(1)),c);s(_n(_n(_n({},t),e),y))}};return()=>(l=a.setTimeout(d),()=>{var h;(h=l)===null||h===void 0||h()})}const wEe=(t,e,n,r,i,s)=>{var a=pEe(t,e);return n==null?()=>(i(_n(_n({},t),e)),()=>{}):n.isStepper===!0?xEe(t,e,n,a,i,s):bEe(t,e,n,r,a,i,s)};var Cb=1e-4,_W=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],NW=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),h3=(t,e)=>n=>{var r=_W(t,e);return NW(r,n)},_Ee=(t,e)=>n=>{var r=_W(t,e),i=[...r.map((s,a)=>s*a).slice(1),0];return NW(i,n)},NEe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,s=n[0].split("(");if(s[0]==="cubic-bezier"&&((i=s[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var a=s[1].split(")")[0].split(",").map(l=>parseFloat(l));return[a[0],a[1],a[2],a[3]]}}}return n.length===4?n:[0,0,1,1]},SEe=(t,e,n,r)=>{var i=h3(t,n),s=h3(e,r),a=_Ee(t,n),l=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,h=d,f=0;f<8;++f){var m=i(h)-d,y=a(h);if(Math.abs(m-d)<Cb||y<Cb)return s(h);h=l(h-m/y)}return s(h)};return c.isStepper=!1,c},f3=function(){return SEe(...NEe(...arguments))},EEe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(a,l,c)=>{var u=-(a-l)*n,d=c*r,h=c+(u-d)*i/1e3,f=c*i/1e3+a;return Math.abs(f-l)<Cb&&Math.abs(h)<Cb?[l,0]:[f,h]};return s.isStepper=!0,s.dt=i,s},jEe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return f3(t);case"spring":return EEe();default:if(t.split("(")[0]==="cubic-bezier")return f3(t)}return typeof t=="function"?t:null};function TEe(t){var e,n=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var l=a,[c,...u]=l;if(typeof c=="number"){i=t.setTimeout(s.bind(null,u),c);return}s(c),i=t.setTimeout(s.bind(null,u));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class AEe{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function IEe(){return TEe(new AEe)}var CEe=g.createContext(IEe);function PEe(t,e){var n=g.useContext(CEe);return g.useMemo(()=>e??n(t),[t,e,n])}var kEe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},m3={t:0},wS={t:1};function Rf(t){var e=en(t,kEe),{isActive:n,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c,children:u}=e,d=PEe(e.animationId,e.animationManager),[h,f]=g.useState(n?m3:wS),m=g.useRef(null);return g.useEffect(()=>{n||f(wS)},[n]),g.useEffect(()=>{if(!n||!r)return Ku;var y=wEe(m3,wS,jEe(s),i,f,d.getTimeoutController()),v=()=>{m.current=y()};return d.start([c,a,v,i,l]),()=>{d.stop(),m.current&&m.current(),l()}},[n,r,i,s,a,c,l,d]),u(h.t)}function Of(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=g.useRef(Dg(e)),r=g.useRef(t);return r.current!==t&&(n.current=Dg(e),r.current=t),n.current}var REe=["radius"],OEe=["radius"];function p3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p3(Object(n),!0).forEach(function(r){DEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DEe(t,e,n){return(e=MEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MEe(t){var e=LEe(t,"string");return typeof e=="symbol"?e:e+""}function LEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pb(){return Pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pb.apply(null,arguments)}function y3(t,e){if(t==null)return{};var n,r,i=VEe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function VEe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var v3=(t,e,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,u;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,f=4;h<f;h++)d[h]=i[h]>s?s:i[h];u="M".concat(t,",").concat(e+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(e)),u+="L ".concat(t+n-l*d[1],",").concat(e),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(e+a*d[1])),u+="L ".concat(t+n,",").concat(e+r-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-l*d[2],",").concat(e+r)),u+="L ".concat(t+l*d[3],",").concat(e+r),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+r-a*d[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var m=Math.min(s,i);u="M ".concat(t,",").concat(e+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(e,`
            L `).concat(t+n-l*m,",").concat(e,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n,",").concat(e+a*m,`
            L `).concat(t+n,",").concat(e+r-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n-l*m,",").concat(e+r,`
            L `).concat(t+l*m,",").concat(e+r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(e+r-a*m," Z")}else u="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return u},x3={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SW=t=>{var e=en(t,x3),n=g.useRef(null),[r,i]=g.useState(-1);g.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var B=n.current.getTotalLength();B&&i(B)}catch{}},[]);var{x:s,y:a,width:l,height:c,radius:u,className:d}=e,{animationEasing:h,animationDuration:f,animationBegin:m,isAnimationActive:y,isUpdateAnimationActive:v}=e,x=g.useRef(l),w=g.useRef(c),_=g.useRef(s),b=g.useRef(a),N=g.useMemo(()=>({x:s,y:a,width:l,height:c,radius:u}),[s,a,l,c,u]),E=Of(N,"rectangle-");if(s!==+s||a!==+a||l!==+l||c!==+c||l===0||c===0)return null;var C=qe("recharts-rectangle",d);if(!v){var j=_r(e),{radius:T}=j,A=y3(j,REe);return g.createElement("path",Pb({},A,{radius:typeof u=="number"?u:void 0,className:C,d:v3(s,a,l,c,u)}))}var P=x.current,k=w.current,O=_.current,R=b.current,V="0px ".concat(r===-1?1:r,"px"),M="".concat(r,"px 0px"),L=bW(["strokeDasharray"],f,typeof h=="string"?h:x3.animationEasing);return g.createElement(Rf,{animationId:E,key:E,canBegin:r>0,duration:f,easing:h,isActive:v,begin:m},B=>{var G=Ye(P,l,B),ee=Ye(k,c,B),Z=Ye(O,s,B),H=Ye(R,a,B);n.current&&(x.current=G,w.current=ee,_.current=Z,b.current=H);var oe;y?B>0?oe={transition:L,strokeDasharray:M}:oe={strokeDasharray:V}:oe={strokeDasharray:M};var xe=_r(e),{radius:re}=xe,ve=y3(xe,OEe);return g.createElement("path",Pb({},ve,{radius:typeof u=="number"?u:void 0,className:C,d:v3(Z,H,G,ee,u),ref:n,style:g3(g3({},oe),e.style)}))})};function b3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b3(Object(n),!0).forEach(function(r){zEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zEe(t,e,n){return(e=UEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UEe(t){var e=FEe(t,"string");return typeof e=="symbol"?e:e+""}function FEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kb=Math.PI/180,BEe=t=>t*180/Math.PI,xn=(t,e,n,r)=>({x:t+Math.cos(-kb*r)*n,y:e+Math.sin(-kb*r)*n}),EW=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},$Ee=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},qEe=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,a=$Ee({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var l=(n-i)/a,c=Math.acos(l);return r>s&&(c=2*Math.PI-c),{radius:a,angle:BEe(c),angleInRadian:c}},HEe=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},GEe=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return t+a*360},WEe=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=qEe({x:n,y:r},e),{innerRadius:a,outerRadius:l}=e;if(i<a||i>l||i===0)return null;var{startAngle:c,endAngle:u}=HEe(e),d=s,h;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;h=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=c}return h?w3(w3({},e),{},{radius:i,angle:GEe(d,e)}):null};function jW(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,a=xn(e,n,r,i),l=xn(e,n,r,s);return{points:[a,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function fj(){return fj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fj.apply(null,arguments)}var KEe=(t,e)=>{var n=Vn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},iv=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:l,cornerIsExternal:c}=t,u=l*(a?1:-1)+r,d=Math.asin(l/u)/kb,h=c?i:i+s*d,f=xn(e,n,u,h),m=xn(e,n,r,h),y=c?i-s*d:i,v=xn(e,n,u*Math.cos(d*kb),y);return{center:f,circleTangency:m,lineTangency:v,theta:d}},TW=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=t,l=KEe(s,a),c=s+l,u=xn(e,n,i,s),d=xn(e,n,i,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var f=xn(e,n,r,s),m=xn(e,n,r,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(e,",").concat(n," Z");return h},YEe=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:u}=t,d=Vn(u-c),{circleTangency:h,lineTangency:f,theta:m}=iv({cx:e,cy:n,radius:i,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:y,lineTangency:v,theta:x}=iv({cx:e,cy:n,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),w=l?Math.abs(c-u):Math.abs(c-u)-m-x;if(w<0)return a?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):TW({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:u});var _="M ".concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
  `);if(r>0){var{circleTangency:b,lineTangency:N,theta:E}=iv({cx:e,cy:n,radius:r,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:C,lineTangency:j,theta:T}=iv({cx:e,cy:n,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),A=l?Math.abs(c-u):Math.abs(c-u)-E-T;if(A<0&&s===0)return"".concat(_,"L").concat(e,",").concat(n,"Z");_+="L".concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(A>180),",").concat(+(d>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,"Z")}else _+="L".concat(e,",").concat(n,"Z");return _},QEe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},AW=t=>{var e=en(t,QEe),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=e;if(s<i||u===d)return null;var f=qe("recharts-sector",h),m=s-i,y=br(a,m,0,!0),v;return y>0&&Math.abs(u-d)<360?v=YEe({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(y,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):v=TW({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),g.createElement("path",fj({},_r(e),{className:f,d:v}))};function XEe(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(JH(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:a,angle:l}=e,c=xn(r,i,s,l),u=xn(r,i,a,l);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return jW(e)}}var IW={},CW={},PW={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JC;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(PW);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PW;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(CW);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZC,n=CW;function r(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),a=a===void 0?i<s?1:-1:n.toFinite(a);const l=Math.max(Math.ceil((s-i)/(a||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=i,i+=a;return c}t.range=r})(IW);var JEe=IW.range;const kW=aa(JEe);function bl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ZEe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cP(t){let e,n,r;t.length!==2?(e=bl,n=(l,c)=>bl(t(l),c),r=(l,c)=>t(l)-c):(e=t===bl||t===ZEe?t:eje,n=t,r=t);function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function a(l,c,u=0,d=l.length){const h=i(l,c,u,d-1);return h>u&&r(l[h-1],c)>-r(l[h],c)?h-1:h}return{left:i,center:a,right:s}}function eje(){return 0}function RW(t){return t===null?NaN:+t}function*tje(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const nje=cP(bl),$y=nje.right;cP(RW).center;class _3 extends Map{constructor(e,n=sje){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(N3(this,e))}has(e){return super.has(N3(this,e))}set(e,n){return super.set(rje(this,e),n)}delete(e){return super.delete(ije(this,e))}}function N3({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function rje({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ije({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function sje(t){return t!==null&&typeof t=="object"?t.valueOf():t}function aje(t=bl){if(t===bl)return OW;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function OW(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const oje=Math.sqrt(50),lje=Math.sqrt(10),cje=Math.sqrt(2);function Rb(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=oje?10:s>=lje?5:s>=cje?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*a,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=n&&n<2?Rb(t,e,n*2):[l,c,u]}function mj(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?Rb(e,t,n):Rb(t,e,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(r)if(a<0)for(let u=0;u<l;++u)c[u]=(s-u)/-a;else for(let u=0;u<l;++u)c[u]=(s-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(i+u)/-a;else for(let u=0;u<l;++u)c[u]=(i+u)*a;return c}function pj(t,e,n){return e=+e,t=+t,n=+n,Rb(t,e,n)[2]}function gj(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?pj(e,t,n):pj(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function S3(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function E3(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function DW(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?OW:aje(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(e-u*h/c+f)),y=Math.min(r,Math.floor(e+(c-u)*h/c+f));DW(t,e,m,y,i)}const s=t[e];let a=n,l=r;for(km(t,n,e),i(t[r],s)>0&&km(t,n,r);a<l;){for(km(t,a,l),++a,--l;i(t[a],s)<0;)++a;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?km(t,n,l):(++l,km(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function km(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function uje(t,e,n){if(t=Float64Array.from(tje(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return E3(t);if(e>=1)return S3(t);var r,i=(r-1)*e,s=Math.floor(i),a=S3(DW(t,s).subarray(0,s+1)),l=E3(t.subarray(s+1));return a+(l-a)*(i-s)}}function dje(t,e,n=RW){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return a+(l-a)*(i-s)}}function hje(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function rs(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function No(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const yj=Symbol("implicit");function uP(){var t=new _3,e=[],n=[],r=yj;function i(s){let a=t.get(s);if(a===void 0){if(r!==yj)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new _3;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return uP(e,n).unknown(r)},rs.apply(i,arguments),i}function dP(){var t=uP().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,l=!1,c=0,u=0,d=.5;delete t.unknown;function h(){var f=e().length,m=i<r,y=m?i:r,v=m?r:i;s=(v-y)/Math.max(1,f-c+u*2),l&&(s=Math.floor(s)),y+=(v-y-s*(f-c))*d,a=s*(1-c),l&&(y=Math.round(y),a=Math.round(a));var x=hje(f).map(function(w){return y+s*w});return n(m?x.reverse():x)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,l=!0,h()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(f){return arguments.length?(l=!!f,h()):l},t.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},t.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},t.copy=function(){return dP(e(),[r,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},rs.apply(h(),arguments)}function MW(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return MW(e())},t}function fje(){return MW(dP.apply(null,arguments).paddingInner(1))}function hP(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function LW(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function qy(){}var Ug=.7,Ob=1/Ug,sh="\\s*([+-]?\\d+)\\s*",Fg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mje=/^#([0-9a-f]{3,8})$/,pje=new RegExp(`^rgb\\(${sh},${sh},${sh}\\)$`),gje=new RegExp(`^rgb\\(${Qs},${Qs},${Qs}\\)$`),yje=new RegExp(`^rgba\\(${sh},${sh},${sh},${Fg}\\)$`),vje=new RegExp(`^rgba\\(${Qs},${Qs},${Qs},${Fg}\\)$`),xje=new RegExp(`^hsl\\(${Fg},${Qs},${Qs}\\)$`),bje=new RegExp(`^hsla\\(${Fg},${Qs},${Qs},${Fg}\\)$`),j3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hP(qy,Bg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:T3,formatHex:T3,formatHex8:wje,formatHsl:_je,formatRgb:A3,toString:A3});function T3(){return this.rgb().formatHex()}function wje(){return this.rgb().formatHex8()}function _je(){return VW(this).formatHsl()}function A3(){return this.rgb().formatRgb()}function Bg(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=mje.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?I3(e):n===3?new Xr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?sv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?sv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=pje.exec(t))?new Xr(e[1],e[2],e[3],1):(e=gje.exec(t))?new Xr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=yje.exec(t))?sv(e[1],e[2],e[3],e[4]):(e=vje.exec(t))?sv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=xje.exec(t))?k3(e[1],e[2]/100,e[3]/100,1):(e=bje.exec(t))?k3(e[1],e[2]/100,e[3]/100,e[4]):j3.hasOwnProperty(t)?I3(j3[t]):t==="transparent"?new Xr(NaN,NaN,NaN,0):null}function I3(t){return new Xr(t>>16&255,t>>8&255,t&255,1)}function sv(t,e,n,r){return r<=0&&(t=e=n=NaN),new Xr(t,e,n,r)}function Nje(t){return t instanceof qy||(t=Bg(t)),t?(t=t.rgb(),new Xr(t.r,t.g,t.b,t.opacity)):new Xr}function vj(t,e,n,r){return arguments.length===1?Nje(t):new Xr(t,e,n,r??1)}function Xr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}hP(Xr,vj,LW(qy,{brighter(t){return t=t==null?Ob:Math.pow(Ob,t),new Xr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ug:Math.pow(Ug,t),new Xr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Xr(ru(this.r),ru(this.g),ru(this.b),Db(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:C3,formatHex:C3,formatHex8:Sje,formatRgb:P3,toString:P3}));function C3(){return`#${zc(this.r)}${zc(this.g)}${zc(this.b)}`}function Sje(){return`#${zc(this.r)}${zc(this.g)}${zc(this.b)}${zc((isNaN(this.opacity)?1:this.opacity)*255)}`}function P3(){const t=Db(this.opacity);return`${t===1?"rgb(":"rgba("}${ru(this.r)}, ${ru(this.g)}, ${ru(this.b)}${t===1?")":`, ${t})`}`}function Db(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ru(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function zc(t){return t=ru(t),(t<16?"0":"")+t.toString(16)}function k3(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ds(t,e,n,r)}function VW(t){if(t instanceof ds)return new ds(t.h,t.s,t.l,t.opacity);if(t instanceof qy||(t=Bg(t)),!t)return new ds;if(t instanceof ds)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,l=s-i,c=(s+i)/2;return l?(e===s?a=(n-r)/l+(n<r)*6:n===s?a=(r-e)/l+2:a=(e-n)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new ds(a,l,c,t.opacity)}function Eje(t,e,n,r){return arguments.length===1?VW(t):new ds(t,e,n,r??1)}function ds(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}hP(ds,Eje,LW(qy,{brighter(t){return t=t==null?Ob:Math.pow(Ob,t),new ds(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ug:Math.pow(Ug,t),new ds(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Xr(_S(t>=240?t-240:t+120,i,r),_S(t,i,r),_S(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ds(R3(this.h),av(this.s),av(this.l),Db(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Db(this.opacity);return`${t===1?"hsl(":"hsla("}${R3(this.h)}, ${av(this.s)*100}%, ${av(this.l)*100}%${t===1?")":`, ${t})`}`}}));function R3(t){return t=(t||0)%360,t<0?t+360:t}function av(t){return Math.max(0,Math.min(1,t||0))}function _S(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const fP=t=>()=>t;function jje(t,e){return function(n){return t+n*e}}function Tje(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Aje(t){return(t=+t)==1?zW:function(e,n){return n-e?Tje(e,n,t):fP(isNaN(e)?n:e)}}function zW(t,e){var n=e-t;return n?jje(t,n):fP(isNaN(t)?e:t)}const O3=function t(e){var n=Aje(e);function r(i,s){var a=n((i=vj(i)).r,(s=vj(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),u=zW(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function Ije(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Cje(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Pje(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Df(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(l){for(a=0;a<r;++a)s[a]=i[a](l);return s}}function kje(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Mb(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Rje(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Df(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var xj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,NS=new RegExp(xj.source,"g");function Oje(t){return function(){return t}}function Dje(t){return function(e){return t(e)+""}}function Mje(t,e){var n=xj.lastIndex=NS.lastIndex=0,r,i,s,a=-1,l=[],c=[];for(t=t+"",e=e+"";(r=xj.exec(t))&&(i=NS.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:Mb(r,i)})),n=NS.lastIndex;return n<e.length&&(s=e.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?Dje(c[0].x):Oje(e):(e=c.length,function(u){for(var d=0,h;d<e;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function Df(t,e){var n=typeof e,r;return e==null||n==="boolean"?fP(e):(n==="number"?Mb:n==="string"?(r=Bg(e))?(e=r,O3):Mje:e instanceof Bg?O3:e instanceof Date?kje:Cje(e)?Ije:Array.isArray(e)?Pje:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Rje:Mb)(t,e)}function mP(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Lje(t,e){e===void 0&&(e=t,t=Df);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[l](a-l)}}function Vje(t){return function(){return t}}function Lb(t){return+t}var D3=[0,1];function Dr(t){return t}function bj(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Vje(isNaN(e)?NaN:.5)}function zje(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Uje(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=bj(i,r),s=n(a,s)):(r=bj(r,i),s=n(s,a)),function(l){return s(r(l))}}function Fje(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=bj(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(l){var c=$y(t,l,1,r)-1;return s[c](i[c](l))}}function Hy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function B1(){var t=D3,e=D3,n=Df,r,i,s,a=Dr,l,c,u;function d(){var f=Math.min(t.length,e.length);return a!==Dr&&(a=zje(t[0],t[f-1])),l=f>2?Fje:Uje,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?s:(c||(c=l(t.map(r),e,n)))(r(a(f)))}return h.invert=function(f){return a(i((u||(u=l(e,t.map(r),Mb)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,Lb),d()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=mP,d()},h.clamp=function(f){return arguments.length?(a=f?!0:Dr,d()):a!==Dr},h.interpolate=function(f){return arguments.length?(n=f,d()):n},h.unknown=function(f){return arguments.length?(s=f,h):s},function(f,m){return r=f,i=m,d()}}function pP(){return B1()(Dr,Dr)}function Bje(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Vb(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Qh(t){return t=Vb(Math.abs(t)),t?t[1]:NaN}function $je(t,e){return function(n,r){for(var i=n.length,s=[],a=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[a=(a+1)%t.length];return s.reverse().join(e)}}function qje(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Hje=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $g(t){if(!(e=Hje.exec(t)))throw new Error("invalid format: "+t);var e;return new gP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}$g.prototype=gP.prototype;function gP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}gP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Gje(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var UW;function Wje(t,e){var n=Vb(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(UW=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Vb(t,Math.max(0,e+s-1))[0]}function M3(t,e){var n=Vb(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const L3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Bje,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>M3(t*100,e),r:M3,s:Wje,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function V3(t){return t}var z3=Array.prototype.map,U3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Kje(t){var e=t.grouping===void 0||t.thousands===void 0?V3:$je(z3.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?V3:qje(z3.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(h){h=$g(h);var f=h.fill,m=h.align,y=h.sign,v=h.symbol,x=h.zero,w=h.width,_=h.comma,b=h.precision,N=h.trim,E=h.type;E==="n"?(_=!0,E="g"):L3[E]||(b===void 0&&(b=12),N=!0,E="g"),(x||f==="0"&&m==="=")&&(x=!0,f="0",m="=");var C=v==="$"?n:v==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",j=v==="$"?r:/[%p]/.test(E)?a:"",T=L3[E],A=/[defgprs%]/.test(E);b=b===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function P(k){var O=C,R=j,V,M,L;if(E==="c")R=T(k)+R,k="";else{k=+k;var B=k<0||1/k<0;if(k=isNaN(k)?c:T(Math.abs(k),b),N&&(k=Gje(k)),B&&+k==0&&y!=="+"&&(B=!1),O=(B?y==="("?y:l:y==="-"||y==="("?"":y)+O,R=(E==="s"?U3[8+UW/3]:"")+R+(B&&y==="("?")":""),A){for(V=-1,M=k.length;++V<M;)if(L=k.charCodeAt(V),48>L||L>57){R=(L===46?i+k.slice(V+1):k.slice(V))+R,k=k.slice(0,V);break}}}_&&!x&&(k=e(k,1/0));var G=O.length+k.length+R.length,ee=G<w?new Array(w-G+1).join(f):"";switch(_&&x&&(k=e(ee+k,ee.length?w-R.length:1/0),ee=""),m){case"<":k=O+k+R+ee;break;case"=":k=O+ee+k+R;break;case"^":k=ee.slice(0,G=ee.length>>1)+O+k+R+ee.slice(G);break;default:k=ee+O+k+R;break}return s(k)}return P.toString=function(){return h+""},P}function d(h,f){var m=u((h=$g(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(Qh(f)/3)))*3,v=Math.pow(10,-y),x=U3[8+y/3];return function(w){return m(v*w)+x}}return{format:u,formatPrefix:d}}var ov,yP,FW;Yje({thousands:",",grouping:[3],currency:["$",""]});function Yje(t){return ov=Kje(t),yP=ov.format,FW=ov.formatPrefix,ov}function Qje(t){return Math.max(0,-Qh(Math.abs(t)))}function Xje(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qh(e)/3)))*3-Qh(Math.abs(t)))}function Jje(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Qh(e)-Qh(t))+1}function BW(t,e,n,r){var i=gj(t,e,n),s;switch(r=$g(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Xje(i,a))&&(r.precision=s),FW(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Jje(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Qje(i))&&(r.precision=s-(r.type==="%")*2);break}}return yP(r)}function nc(t){var e=t.domain;return t.ticks=function(n){var r=e();return mj(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return BW(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],l=r[s],c,u,d=10;for(l<a&&(u=a,a=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=pj(a,l,n),u===c)return r[i]=a,r[s]=l,e(r);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function $W(){var t=pP();return t.copy=function(){return Hy(t,$W())},rs.apply(t,arguments),nc(t)}function qW(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Lb),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return qW(t).unknown(e)},t=arguments.length?Array.from(t,Lb):[0,1],nc(n)}function HW(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function F3(t){return Math.log(t)}function B3(t){return Math.exp(t)}function Zje(t){return-Math.log(-t)}function eTe(t){return-Math.exp(-t)}function tTe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function nTe(t){return t===10?tTe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function rTe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function $3(t){return(e,n)=>-t(-e,n)}function vP(t){const e=t(F3,B3),n=e.domain;let r=10,i,s;function a(){return i=rTe(r),s=nTe(r),n()[0]<0?(i=$3(i),s=$3(s),t(Zje,eTe)):t(F3,B3),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=i(u),m=i(d),y,v;const x=l==null?10:+l;let w=[];if(!(r%1)&&m-f<x){if(f=Math.floor(f),m=Math.ceil(m),u>0){for(;f<=m;++f)for(y=1;y<r;++y)if(v=f<0?y/s(-f):y*s(f),!(v<u)){if(v>d)break;w.push(v)}}else for(;f<=m;++f)for(y=r-1;y>=1;--y)if(v=f>0?y/s(-f):y*s(f),!(v<u)){if(v>d)break;w.push(v)}w.length*2<x&&(w=mj(u,d,x))}else w=mj(f,m,Math.min(m-f,x)).map(s);return h?w.reverse():w},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=$g(c)).precision==null&&(c.trim=!0),c=yP(c)),l===1/0)return c;const u=Math.max(1,r*l/e.ticks().length);return d=>{let h=d/s(Math.round(i(d)));return h*r<r-.5&&(h*=r),h<=u?c(d):""}},e.nice=()=>n(HW(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function GW(){const t=vP(B1()).domain([1,10]);return t.copy=()=>Hy(t,GW()).base(t.base()),rs.apply(t,arguments),t}function q3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function H3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function xP(t){var e=1,n=t(q3(e),H3(e));return n.constant=function(r){return arguments.length?t(q3(e=+r),H3(e)):e},nc(n)}function WW(){var t=xP(B1());return t.copy=function(){return Hy(t,WW()).constant(t.constant())},rs.apply(t,arguments)}function G3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function iTe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function sTe(t){return t<0?-t*t:t*t}function bP(t){var e=t(Dr,Dr),n=1;function r(){return n===1?t(Dr,Dr):n===.5?t(iTe,sTe):t(G3(n),G3(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},nc(e)}function wP(){var t=bP(B1());return t.copy=function(){return Hy(t,wP()).exponent(t.exponent())},rs.apply(t,arguments),t}function aTe(){return wP.apply(null,arguments).exponent(.5)}function W3(t){return Math.sign(t)*t*t}function oTe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function KW(){var t=pP(),e=[0,1],n=!1,r;function i(s){var a=oTe(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(W3(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Lb)).map(W3)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return KW(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},rs.apply(i,arguments),nc(i)}function YW(){var t=[],e=[],n=[],r;function i(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=dje(t,a/l);return s}function s(a){return a==null||isNaN(a=+a)?r:e[$y(n,a)]}return s.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(bl),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return YW().domain(t).range(e).unknown(r)},rs.apply(s,arguments)}function QW(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[$y(r,c,0,n)]:s}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return QW().domain([t,e]).range(i).unknown(s)},rs.apply(nc(a),arguments)}function XW(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[$y(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return XW().domain(t).range(e).unknown(n)},rs.apply(i,arguments)}const SS=new Date,ES=new Date;function In(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<a);return c},i.filter=s=>In(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!s(a););else for(;--l>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(SS.setTime(+s),ES.setTime(+a),t(SS),t(ES),Math.floor(n(SS,ES))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const zb=In(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);zb.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?In(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):zb);zb.range;const Ia=1e3,Hi=Ia*60,Ca=Hi*60,io=Ca*24,_P=io*7,K3=io*30,jS=io*365,Uc=In(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ia)},(t,e)=>(e-t)/Ia,t=>t.getUTCSeconds());Uc.range;const NP=In(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ia)},(t,e)=>{t.setTime(+t+e*Hi)},(t,e)=>(e-t)/Hi,t=>t.getMinutes());NP.range;const SP=In(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Hi)},(t,e)=>(e-t)/Hi,t=>t.getUTCMinutes());SP.range;const EP=In(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ia-t.getMinutes()*Hi)},(t,e)=>{t.setTime(+t+e*Ca)},(t,e)=>(e-t)/Ca,t=>t.getHours());EP.range;const jP=In(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ca)},(t,e)=>(e-t)/Ca,t=>t.getUTCHours());jP.range;const Gy=In(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Hi)/io,t=>t.getDate()-1);Gy.range;const $1=In(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/io,t=>t.getUTCDate()-1);$1.range;const JW=In(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/io,t=>Math.floor(t/io));JW.range;function Yu(t){return In(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Hi)/_P)}const q1=Yu(0),Ub=Yu(1),lTe=Yu(2),cTe=Yu(3),Xh=Yu(4),uTe=Yu(5),dTe=Yu(6);q1.range;Ub.range;lTe.range;cTe.range;Xh.range;uTe.range;dTe.range;function Qu(t){return In(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/_P)}const H1=Qu(0),Fb=Qu(1),hTe=Qu(2),fTe=Qu(3),Jh=Qu(4),mTe=Qu(5),pTe=Qu(6);H1.range;Fb.range;hTe.range;fTe.range;Jh.range;mTe.range;pTe.range;const TP=In(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());TP.range;const AP=In(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());AP.range;const so=In(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());so.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:In(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});so.range;const ao=In(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ao.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:In(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ao.range;function ZW(t,e,n,r,i,s){const a=[[Uc,1,Ia],[Uc,5,5*Ia],[Uc,15,15*Ia],[Uc,30,30*Ia],[s,1,Hi],[s,5,5*Hi],[s,15,15*Hi],[s,30,30*Hi],[i,1,Ca],[i,3,3*Ca],[i,6,6*Ca],[i,12,12*Ca],[r,1,io],[r,2,2*io],[n,1,_P],[e,1,K3],[e,3,3*K3],[t,1,jS]];function l(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const m=h&&typeof h.range=="function"?h:c(u,d,h),y=m?m.range(u,+d+1):[];return f?y.reverse():y}function c(u,d,h){const f=Math.abs(d-u)/h,m=cP(([,,x])=>x).right(a,f);if(m===a.length)return t.every(gj(u/jS,d/jS,h));if(m===0)return zb.every(Math.max(gj(u,d,h),1));const[y,v]=a[f/a[m-1][2]<a[m][2]/f?m-1:m];return y.every(v)}return[l,c]}const[gTe,yTe]=ZW(ao,AP,H1,JW,jP,SP),[vTe,xTe]=ZW(so,TP,q1,Gy,EP,NP);function TS(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function AS(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Rm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function bTe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,l=t.months,c=t.shortMonths,u=Om(i),d=Dm(i),h=Om(s),f=Dm(s),m=Om(a),y=Dm(a),v=Om(l),x=Dm(l),w=Om(c),_=Dm(c),b={a:B,A:G,b:ee,B:Z,c:null,d:eL,e:eL,f:$Te,g:ZTe,G:tAe,H:UTe,I:FTe,j:BTe,L:eK,m:qTe,M:HTe,p:H,q:oe,Q:rL,s:iL,S:GTe,u:WTe,U:KTe,V:YTe,w:QTe,W:XTe,x:null,X:null,y:JTe,Y:eAe,Z:nAe,"%":nL},N={a:xe,A:re,b:ve,B:ne,c:null,d:tL,e:tL,f:aAe,g:gAe,G:vAe,H:rAe,I:iAe,j:sAe,L:nK,m:oAe,M:lAe,p:ie,q:je,Q:rL,s:iL,S:cAe,u:uAe,U:dAe,V:hAe,w:fAe,W:mAe,x:null,X:null,y:pAe,Y:yAe,Z:xAe,"%":nL},E={a:P,A:k,b:O,B:R,c:V,d:J3,e:J3,f:MTe,g:X3,G:Q3,H:Z3,I:Z3,j:kTe,L:DTe,m:PTe,M:RTe,p:A,q:CTe,Q:VTe,s:zTe,S:OTe,u:ETe,U:jTe,V:TTe,w:STe,W:ATe,x:M,X:L,y:X3,Y:Q3,Z:ITe,"%":LTe};b.x=C(n,b),b.X=C(r,b),b.c=C(e,b),N.x=C(n,N),N.X=C(r,N),N.c=C(e,N);function C(W,pe){return function(Se){var Y=[],rt=-1,Pe=0,Sr=W.length,Gn,ss,qf;for(Se instanceof Date||(Se=new Date(+Se));++rt<Sr;)W.charCodeAt(rt)===37&&(Y.push(W.slice(Pe,rt)),(ss=Y3[Gn=W.charAt(++rt)])!=null?Gn=W.charAt(++rt):ss=Gn==="e"?" ":"0",(qf=pe[Gn])&&(Gn=qf(Se,ss)),Y.push(Gn),Pe=rt+1);return Y.push(W.slice(Pe,rt)),Y.join("")}}function j(W,pe){return function(Se){var Y=Rm(1900,void 0,1),rt=T(Y,W,Se+="",0),Pe,Sr;if(rt!=Se.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(pe&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Pe=AS(Rm(Y.y,0,1)),Sr=Pe.getUTCDay(),Pe=Sr>4||Sr===0?Fb.ceil(Pe):Fb(Pe),Pe=$1.offset(Pe,(Y.V-1)*7),Y.y=Pe.getUTCFullYear(),Y.m=Pe.getUTCMonth(),Y.d=Pe.getUTCDate()+(Y.w+6)%7):(Pe=TS(Rm(Y.y,0,1)),Sr=Pe.getDay(),Pe=Sr>4||Sr===0?Ub.ceil(Pe):Ub(Pe),Pe=Gy.offset(Pe,(Y.V-1)*7),Y.y=Pe.getFullYear(),Y.m=Pe.getMonth(),Y.d=Pe.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Sr="Z"in Y?AS(Rm(Y.y,0,1)).getUTCDay():TS(Rm(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Sr+5)%7:Y.w+Y.U*7-(Sr+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,AS(Y)):TS(Y)}}function T(W,pe,Se,Y){for(var rt=0,Pe=pe.length,Sr=Se.length,Gn,ss;rt<Pe;){if(Y>=Sr)return-1;if(Gn=pe.charCodeAt(rt++),Gn===37){if(Gn=pe.charAt(rt++),ss=E[Gn in Y3?pe.charAt(rt++):Gn],!ss||(Y=ss(W,Se,Y))<0)return-1}else if(Gn!=Se.charCodeAt(Y++))return-1}return Y}function A(W,pe,Se){var Y=u.exec(pe.slice(Se));return Y?(W.p=d.get(Y[0].toLowerCase()),Se+Y[0].length):-1}function P(W,pe,Se){var Y=m.exec(pe.slice(Se));return Y?(W.w=y.get(Y[0].toLowerCase()),Se+Y[0].length):-1}function k(W,pe,Se){var Y=h.exec(pe.slice(Se));return Y?(W.w=f.get(Y[0].toLowerCase()),Se+Y[0].length):-1}function O(W,pe,Se){var Y=w.exec(pe.slice(Se));return Y?(W.m=_.get(Y[0].toLowerCase()),Se+Y[0].length):-1}function R(W,pe,Se){var Y=v.exec(pe.slice(Se));return Y?(W.m=x.get(Y[0].toLowerCase()),Se+Y[0].length):-1}function V(W,pe,Se){return T(W,e,pe,Se)}function M(W,pe,Se){return T(W,n,pe,Se)}function L(W,pe,Se){return T(W,r,pe,Se)}function B(W){return a[W.getDay()]}function G(W){return s[W.getDay()]}function ee(W){return c[W.getMonth()]}function Z(W){return l[W.getMonth()]}function H(W){return i[+(W.getHours()>=12)]}function oe(W){return 1+~~(W.getMonth()/3)}function xe(W){return a[W.getUTCDay()]}function re(W){return s[W.getUTCDay()]}function ve(W){return c[W.getUTCMonth()]}function ne(W){return l[W.getUTCMonth()]}function ie(W){return i[+(W.getUTCHours()>=12)]}function je(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var pe=C(W+="",b);return pe.toString=function(){return W},pe},parse:function(W){var pe=j(W+="",!1);return pe.toString=function(){return W},pe},utcFormat:function(W){var pe=C(W+="",N);return pe.toString=function(){return W},pe},utcParse:function(W){var pe=j(W+="",!0);return pe.toString=function(){return W},pe}}}var Y3={"-":"",_:" ",0:"0"},Hn=/^\s*\d+/,wTe=/^%/,_Te=/[\\^$*+?|[\]().{}]/g;function Ge(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function NTe(t){return t.replace(_Te,"\\$&")}function Om(t){return new RegExp("^(?:"+t.map(NTe).join("|")+")","i")}function Dm(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function STe(t,e,n){var r=Hn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ETe(t,e,n){var r=Hn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function jTe(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function TTe(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ATe(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Q3(t,e,n){var r=Hn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function X3(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ITe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function CTe(t,e,n){var r=Hn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function PTe(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function J3(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function kTe(t,e,n){var r=Hn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Z3(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function RTe(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function OTe(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function DTe(t,e,n){var r=Hn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function MTe(t,e,n){var r=Hn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function LTe(t,e,n){var r=wTe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function VTe(t,e,n){var r=Hn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function zTe(t,e,n){var r=Hn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function eL(t,e){return Ge(t.getDate(),e,2)}function UTe(t,e){return Ge(t.getHours(),e,2)}function FTe(t,e){return Ge(t.getHours()%12||12,e,2)}function BTe(t,e){return Ge(1+Gy.count(so(t),t),e,3)}function eK(t,e){return Ge(t.getMilliseconds(),e,3)}function $Te(t,e){return eK(t,e)+"000"}function qTe(t,e){return Ge(t.getMonth()+1,e,2)}function HTe(t,e){return Ge(t.getMinutes(),e,2)}function GTe(t,e){return Ge(t.getSeconds(),e,2)}function WTe(t){var e=t.getDay();return e===0?7:e}function KTe(t,e){return Ge(q1.count(so(t)-1,t),e,2)}function tK(t){var e=t.getDay();return e>=4||e===0?Xh(t):Xh.ceil(t)}function YTe(t,e){return t=tK(t),Ge(Xh.count(so(t),t)+(so(t).getDay()===4),e,2)}function QTe(t){return t.getDay()}function XTe(t,e){return Ge(Ub.count(so(t)-1,t),e,2)}function JTe(t,e){return Ge(t.getFullYear()%100,e,2)}function ZTe(t,e){return t=tK(t),Ge(t.getFullYear()%100,e,2)}function eAe(t,e){return Ge(t.getFullYear()%1e4,e,4)}function tAe(t,e){var n=t.getDay();return t=n>=4||n===0?Xh(t):Xh.ceil(t),Ge(t.getFullYear()%1e4,e,4)}function nAe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ge(e/60|0,"0",2)+Ge(e%60,"0",2)}function tL(t,e){return Ge(t.getUTCDate(),e,2)}function rAe(t,e){return Ge(t.getUTCHours(),e,2)}function iAe(t,e){return Ge(t.getUTCHours()%12||12,e,2)}function sAe(t,e){return Ge(1+$1.count(ao(t),t),e,3)}function nK(t,e){return Ge(t.getUTCMilliseconds(),e,3)}function aAe(t,e){return nK(t,e)+"000"}function oAe(t,e){return Ge(t.getUTCMonth()+1,e,2)}function lAe(t,e){return Ge(t.getUTCMinutes(),e,2)}function cAe(t,e){return Ge(t.getUTCSeconds(),e,2)}function uAe(t){var e=t.getUTCDay();return e===0?7:e}function dAe(t,e){return Ge(H1.count(ao(t)-1,t),e,2)}function rK(t){var e=t.getUTCDay();return e>=4||e===0?Jh(t):Jh.ceil(t)}function hAe(t,e){return t=rK(t),Ge(Jh.count(ao(t),t)+(ao(t).getUTCDay()===4),e,2)}function fAe(t){return t.getUTCDay()}function mAe(t,e){return Ge(Fb.count(ao(t)-1,t),e,2)}function pAe(t,e){return Ge(t.getUTCFullYear()%100,e,2)}function gAe(t,e){return t=rK(t),Ge(t.getUTCFullYear()%100,e,2)}function yAe(t,e){return Ge(t.getUTCFullYear()%1e4,e,4)}function vAe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Jh(t):Jh.ceil(t),Ge(t.getUTCFullYear()%1e4,e,4)}function xAe(){return"+0000"}function nL(){return"%"}function rL(t){return+t}function iL(t){return Math.floor(+t/1e3)}var dd,iK,sK;bAe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bAe(t){return dd=bTe(t),iK=dd.format,dd.parse,sK=dd.utcFormat,dd.utcParse,dd}function wAe(t){return new Date(t)}function _Ae(t){return t instanceof Date?+t:+new Date(+t)}function IP(t,e,n,r,i,s,a,l,c,u){var d=pP(),h=d.invert,f=d.domain,m=u(".%L"),y=u(":%S"),v=u("%I:%M"),x=u("%I %p"),w=u("%a %d"),_=u("%b %d"),b=u("%B"),N=u("%Y");function E(C){return(c(C)<C?m:l(C)<C?y:a(C)<C?v:s(C)<C?x:r(C)<C?i(C)<C?w:_:n(C)<C?b:N)(C)}return d.invert=function(C){return new Date(h(C))},d.domain=function(C){return arguments.length?f(Array.from(C,_Ae)):f().map(wAe)},d.ticks=function(C){var j=f();return t(j[0],j[j.length-1],C??10)},d.tickFormat=function(C,j){return j==null?E:u(j)},d.nice=function(C){var j=f();return(!C||typeof C.range!="function")&&(C=e(j[0],j[j.length-1],C??10)),C?f(HW(j,C)):d},d.copy=function(){return Hy(d,IP(t,e,n,r,i,s,a,l,c,u))},d}function NAe(){return rs.apply(IP(vTe,xTe,so,TP,q1,Gy,EP,NP,Uc,iK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function SAe(){return rs.apply(IP(gTe,yTe,ao,AP,H1,$1,jP,SP,Uc,sK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function G1(){var t=0,e=1,n,r,i,s,a=Dr,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:a(i===0?.5:(h=(s(h)-n)*i,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(a=h,u):a};function d(h){return function(f){var m,y;return arguments.length?([m,y]=f,a=h(m,y),u):[a(0),a(1)]}}return u.range=d(Df),u.rangeRound=d(mP),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return s=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function rc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function aK(){var t=nc(G1()(Dr));return t.copy=function(){return rc(t,aK())},No.apply(t,arguments)}function oK(){var t=vP(G1()).domain([1,10]);return t.copy=function(){return rc(t,oK()).base(t.base())},No.apply(t,arguments)}function lK(){var t=xP(G1());return t.copy=function(){return rc(t,lK()).constant(t.constant())},No.apply(t,arguments)}function CP(){var t=bP(G1());return t.copy=function(){return rc(t,CP()).exponent(t.exponent())},No.apply(t,arguments)}function EAe(){return CP.apply(null,arguments).exponent(.5)}function cK(){var t=[],e=Dr;function n(r){if(r!=null&&!isNaN(r=+r))return e(($y(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(bl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>uje(t,s/r))},n.copy=function(){return cK(e).domain(t)},No.apply(n,arguments)}function W1(){var t=0,e=.5,n=1,r=1,i,s,a,l,c,u=Dr,d,h=!1,f;function m(v){return isNaN(v=+v)?f:(v=.5+((v=+d(v))-s)*(r*v<r*s?l:c),u(h?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([t,e,n]=v,i=d(t=+t),s=d(e=+e),a=d(n=+n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,m):[t,e,n]},m.clamp=function(v){return arguments.length?(h=!!v,m):h},m.interpolator=function(v){return arguments.length?(u=v,m):u};function y(v){return function(x){var w,_,b;return arguments.length?([w,_,b]=x,u=Lje(v,[w,_,b]),m):[u(0),u(.5),u(1)]}}return m.range=y(Df),m.rangeRound=y(mP),m.unknown=function(v){return arguments.length?(f=v,m):f},function(v){return d=v,i=v(t),s=v(e),a=v(n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,m}}function uK(){var t=nc(W1()(Dr));return t.copy=function(){return rc(t,uK())},No.apply(t,arguments)}function dK(){var t=vP(W1()).domain([.1,1,10]);return t.copy=function(){return rc(t,dK()).base(t.base())},No.apply(t,arguments)}function hK(){var t=xP(W1());return t.copy=function(){return rc(t,hK()).constant(t.constant())},No.apply(t,arguments)}function PP(){var t=bP(W1());return t.copy=function(){return rc(t,PP()).exponent(t.exponent())},No.apply(t,arguments)}function jAe(){return PP.apply(null,arguments).exponent(.5)}const Zm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:dP,scaleDiverging:uK,scaleDivergingLog:dK,scaleDivergingPow:PP,scaleDivergingSqrt:jAe,scaleDivergingSymlog:hK,scaleIdentity:qW,scaleImplicit:yj,scaleLinear:$W,scaleLog:GW,scaleOrdinal:uP,scalePoint:fje,scalePow:wP,scaleQuantile:YW,scaleQuantize:QW,scaleRadial:KW,scaleSequential:aK,scaleSequentialLog:oK,scaleSequentialPow:CP,scaleSequentialQuantile:cK,scaleSequentialSqrt:EAe,scaleSequentialSymlog:lK,scaleSqrt:aTe,scaleSymlog:WW,scaleThreshold:XW,scaleTime:NAe,scaleUtc:SAe,tickFormat:BW},Symbol.toStringTag,{value:"Module"}));var ic=t=>t.chartData,kP=F([ic],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Wy=(t,e,n,r)=>r?kP(t):ic(t);function Iu(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(It(e)&&It(n))return!0}return!1}function sL(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function fK(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(It(n))i=n;else if(typeof n=="function")return;if(It(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(Iu(a))return a}}function TAe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Iu(r))return sL(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,l;if(i==="auto")e!=null&&(a=Math.min(...e));else if(ue(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&W6.test(i)){var c=W6.exec(i);if(c==null||e==null)a=void 0;else{var u=+c[1];a=e[0]-u}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(l=Math.max(...e));else if(ue(s))l=s;else if(typeof s=="function")try{e!=null&&(l=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&K6.test(s)){var d=K6.exec(s);if(d==null||e==null)l=void 0;else{var h=+d[1];l=e[1]+h}}else l=e==null?void 0:e[1];var f=[a,l];if(Iu(f))return e==null?f:sL(f,e,n)}}}var Mf=1e9,AAe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},OP,Dt=!0,ns="[DecimalError] ",iu=ns+"Invalid argument: ",RP=ns+"Exponent out of range: ",Lf=Math.floor,Tc=Math.pow,IAe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mi,On=1e7,bt=7,mK=9007199254740991,Bb=Lf(mK/bt),de={};de.absoluteValue=de.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};de.comparedTo=de.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};de.decimalPlaces=de.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*bt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};de.dividedBy=de.div=function(t){return Fa(this,new this.constructor(t))};de.dividedToIntegerBy=de.idiv=function(t){var e=this,n=e.constructor;return ct(Fa(e,new n(t),0,1),n.precision)};de.equals=de.eq=function(t){return!this.cmp(t)};de.exponent=function(){return bn(this)};de.greaterThan=de.gt=function(t){return this.cmp(t)>0};de.greaterThanOrEqualTo=de.gte=function(t){return this.cmp(t)>=0};de.isInteger=de.isint=function(){return this.e>this.d.length-2};de.isNegative=de.isneg=function(){return this.s<0};de.isPositive=de.ispos=function(){return this.s>0};de.isZero=function(){return this.s===0};de.lessThan=de.lt=function(t){return this.cmp(t)<0};de.lessThanOrEqualTo=de.lte=function(t){return this.cmp(t)<1};de.logarithm=de.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(mi))throw Error(ns+"NaN");if(n.s<1)throw Error(ns+(n.s?"NaN":"-Infinity"));return n.eq(mi)?new r(0):(Dt=!1,e=Fa(qg(n,s),qg(t,s),s),Dt=!0,ct(e,i))};de.minus=de.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?yK(e,t):pK(e,(t.s=-t.s,t))};de.modulo=de.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ns+"NaN");return n.s?(Dt=!1,e=Fa(n,t,0,1).times(t),Dt=!0,n.minus(e)):ct(new r(n),i)};de.naturalExponential=de.exp=function(){return gK(this)};de.naturalLogarithm=de.ln=function(){return qg(this)};de.negated=de.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};de.plus=de.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?pK(e,t):yK(e,(t.s=-t.s,t))};de.precision=de.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(iu+t);if(e=bn(i)+1,r=i.d.length-1,n=r*bt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};de.squareRoot=de.sqrt=function(){var t,e,n,r,i,s,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ns+"NaN")}for(t=bn(l),Dt=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Bs(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Lf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(s=r,r=s.plus(Fa(l,s,a+2)).times(.5),Bs(s.d).slice(0,a)===(e=Bs(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(ct(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(e!="9999")break;a+=4}return Dt=!0,ct(r,n)};de.times=de.mul=function(t){var e,n,r,i,s,a,l,c,u,d=this,h=d.constructor,f=d.d,m=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,n=d.e+t.e,c=f.length,u=m.length,c<u&&(s=f,f=m,m=s,a=c,c=u,u=a),s=[],a=c+u,r=a;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)l=s[i]+m[r]*f[i-r-1]+e,s[i--]=l%On|0,e=l/On|0;s[i]=(s[i]+e)%On|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Dt?ct(t,h.precision):t};de.toDecimalPlaces=de.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ra(t,0,Mf),e===void 0?e=r.rounding:ra(e,0,8),ct(n,t+bn(n)+1,e))};de.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Cu(r,!0):(ra(t,0,Mf),e===void 0?e=i.rounding:ra(e,0,8),r=ct(new i(r),t+1,e),n=Cu(r,!0,t+1)),n};de.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Cu(i):(ra(t,0,Mf),e===void 0?e=s.rounding:ra(e,0,8),r=ct(new s(i),t+bn(i)+1,e),n=Cu(r.abs(),!1,t+bn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};de.toInteger=de.toint=function(){var t=this,e=t.constructor;return ct(new e(t),bn(t)+1,e.rounding)};de.toNumber=function(){return+this};de.toPower=de.pow=function(t){var e,n,r,i,s,a,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(mi);if(l=new c(l),!l.s){if(t.s<1)throw Error(ns+"Infinity");return l}if(l.eq(mi))return l;if(r=c.precision,t.eq(mi))return ct(l,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=l.s,a){if((n=d<0?-d:d)<=mK){for(i=new c(mi),e=Math.ceil(r/bt+4),Dt=!1;n%2&&(i=i.times(l),oL(i.d,e)),n=Lf(n/2),n!==0;)l=l.times(l),oL(l.d,e);return Dt=!0,t.s<0?new c(mi).div(i):ct(i,r)}}else if(s<0)throw Error(ns+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Dt=!1,i=t.times(qg(l,r+u)),Dt=!0,i=gK(i),i.s=s,i};de.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=bn(i),r=Cu(i,n<=s.toExpNeg||n>=s.toExpPos)):(ra(t,1,Mf),e===void 0?e=s.rounding:ra(e,0,8),i=ct(new s(i),t,e),n=bn(i),r=Cu(i,t<=n||n<=s.toExpNeg,t)),r};de.toSignificantDigits=de.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ra(t,1,Mf),e===void 0?e=r.rounding:ra(e,0,8)),ct(new r(n),t,e)};de.toString=de.valueOf=de.val=de.toJSON=de[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=bn(t),n=t.constructor;return Cu(t,e<=n.toExpNeg||e>=n.toExpPos)};function pK(t,e){var n,r,i,s,a,l,c,u,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Dt?ct(e,h):e;if(c=t.d,u=e.d,a=t.e,i=e.e,c=c.slice(),s=a-i,s){for(s<0?(r=c,s=-s,l=u.length):(r=u,i=a,l=c.length),a=Math.ceil(h/bt),l=a>l?a+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/On|0,c[s]%=On;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Dt?ct(e,h):e}function ra(t,e,n){if(t!==~~t||t<e||t>n)throw Error(iu+t)}function Bs(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=bt-r.length,n&&(s+=Bo(n)),s+=r;a=t[e],r=a+"",n=bt-r.length,n&&(s+=Bo(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Fa=function(){function t(r,i){var s,a=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+a,r[l]=s%On|0,a=s/On|0;return a&&r.unshift(a),r}function e(r,i,s,a){var l,c;if(s!=a)c=s>a?1:-1;else for(l=c=0;l<s;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*On+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var l,c,u,d,h,f,m,y,v,x,w,_,b,N,E,C,j,T,A=r.constructor,P=r.s==i.s?1:-1,k=r.d,O=i.d;if(!r.s)return new A(r);if(!i.s)throw Error(ns+"Division by zero");for(c=r.e-i.e,j=O.length,E=k.length,m=new A(P),y=m.d=[],u=0;O[u]==(k[u]||0);)++u;if(O[u]>(k[u]||0)&&--c,s==null?_=s=A.precision:a?_=s+(bn(r)-bn(i))+1:_=s,_<0)return new A(0);if(_=_/bt+2|0,u=0,j==1)for(d=0,O=O[0],_++;(u<E||d)&&_--;u++)b=d*On+(k[u]||0),y[u]=b/O|0,d=b%O|0;else{for(d=On/(O[0]+1)|0,d>1&&(O=t(O,d),k=t(k,d),j=O.length,E=k.length),N=j,v=k.slice(0,j),x=v.length;x<j;)v[x++]=0;T=O.slice(),T.unshift(0),C=O[0],O[1]>=On/2&&++C;do d=0,l=e(O,v,j,x),l<0?(w=v[0],j!=x&&(w=w*On+(v[1]||0)),d=w/C|0,d>1?(d>=On&&(d=On-1),h=t(O,d),f=h.length,x=v.length,l=e(h,v,f,x),l==1&&(d--,n(h,j<f?T:O,f))):(d==0&&(l=d=1),h=O.slice()),f=h.length,f<x&&h.unshift(0),n(v,h,x),l==-1&&(x=v.length,l=e(O,v,j,x),l<1&&(d++,n(v,j<x?T:O,x))),x=v.length):l===0&&(d++,v=[0]),y[u++]=d,l&&v[0]?v[x++]=k[N]||0:(v=[k[N]],x=1);while((N++<E||v[0]!==void 0)&&_--)}return y[0]||y.shift(),m.e=c,ct(m,a?s+bn(m)+1:s)}}();function gK(t,e){var n,r,i,s,a,l,c=0,u=0,d=t.constructor,h=d.precision;if(bn(t)>16)throw Error(RP+bn(t));if(!t.s)return new d(mi);for(Dt=!1,l=h,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Tc(2,u))/Math.LN10*2+5|0,l+=r,n=i=s=new d(mi),d.precision=l;;){if(i=ct(i.times(t),l),n=n.times(++c),a=s.plus(Fa(i,n,l)),Bs(a.d).slice(0,l)===Bs(s.d).slice(0,l)){for(;u--;)s=ct(s.times(s),l);return d.precision=h,e==null?(Dt=!0,ct(s,h)):s}s=a}}function bn(t){for(var e=t.e*bt,n=t.d[0];n>=10;n/=10)e++;return e}function IS(t,e,n){if(e>t.LN10.sd())throw Dt=!0,n&&(t.precision=n),Error(ns+"LN10 precision limit exceeded");return ct(new t(t.LN10),e)}function Bo(t){for(var e="";t--;)e+="0";return e}function qg(t,e){var n,r,i,s,a,l,c,u,d,h=1,f=10,m=t,y=m.d,v=m.constructor,x=v.precision;if(m.s<1)throw Error(ns+(m.s?"NaN":"-Infinity"));if(m.eq(mi))return new v(0);if(e==null?(Dt=!1,u=x):u=e,m.eq(10))return e==null&&(Dt=!0),IS(v,u);if(u+=f,v.precision=u,n=Bs(y),r=n.charAt(0),s=bn(m),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Bs(m.d),r=n.charAt(0),h++;s=bn(m),r>1?(m=new v("0."+n),s++):m=new v(r+"."+n.slice(1))}else return c=IS(v,u+2,x).times(s+""),m=qg(new v(r+"."+n.slice(1)),u-f).plus(c),v.precision=x,e==null?(Dt=!0,ct(m,x)):m;for(l=a=m=Fa(m.minus(mi),m.plus(mi),u),d=ct(m.times(m),u),i=3;;){if(a=ct(a.times(d),u),c=l.plus(Fa(a,new v(i),u)),Bs(c.d).slice(0,u)===Bs(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(IS(v,u+2,x).times(s+""))),l=Fa(l,new v(h),u),v.precision=x,e==null?(Dt=!0,ct(l,x)):l;l=c,i+=2}}function aL(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Lf(n/bt),t.d=[],r=(n+1)%bt,n<0&&(r+=bt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=bt;r<i;)t.d.push(+e.slice(r,r+=bt));e=e.slice(r),r=bt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Dt&&(t.e>Bb||t.e<-Bb))throw Error(RP+n)}else t.s=0,t.e=0,t.d=[0];return t}function ct(t,e,n){var r,i,s,a,l,c,u,d,h=t.d;for(a=1,s=h[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=bt,i=e,u=h[d=0];else{if(d=Math.ceil((r+1)/bt),s=h.length,d>=s)return t;for(u=s=h[d],a=1;s>=10;s/=10)a++;r%=bt,i=r-bt+a}if(n!==void 0&&(s=Tc(10,a-i-1),l=u/s%10|0,c=e<0||h[d+1]!==void 0||u%s,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?u/Tc(10,a-i):0:h[d-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return c?(s=bn(t),h.length=1,e=e-s-1,h[0]=Tc(10,(bt-e%bt)%bt),t.e=Lf(-e/bt)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=d,s=1,d--):(h.length=d+1,s=Tc(10,bt-r),h[d]=i>0?(u/Tc(10,a-i)%Tc(10,i)|0)*s:0),c)for(;;)if(d==0){(h[0]+=s)==On&&(h[0]=1,++t.e);break}else{if(h[d]+=s,h[d]!=On)break;h[d--]=0,s=1}for(r=h.length;h[--r]===0;)h.pop();if(Dt&&(t.e>Bb||t.e<-Bb))throw Error(RP+bn(t));return t}function yK(t,e){var n,r,i,s,a,l,c,u,d,h,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),Dt?ct(e,m):e;if(c=t.d,h=e.d,r=e.e,u=t.e,c=c.slice(),a=u-r,a){for(d=a<0,d?(n=c,a=-a,l=h.length):(n=h,r=u,l=c.length),i=Math.max(Math.ceil(m/bt),l)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=h.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}a=0}for(d&&(n=c,c=h,h=n,e.s=-e.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>a;){if(c[--i]<h[i]){for(s=i;s&&c[--s]===0;)c[s]=On-1;--c[s],c[i]+=On}c[i]-=h[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Dt?ct(e,m):e):new f(0)}function Cu(t,e,n){var r,i=bn(t),s=Bs(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Bo(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Bo(-i-1)+s,n&&(r=n-a)>0&&(s+=Bo(r))):i>=a?(s+=Bo(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Bo(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Bo(r))),t.s<0?"-"+s:s}function oL(t,e){if(t.length>e)return t.length=e,!0}function vK(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(iu+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return aL(a,s.toString())}else if(typeof s!="string")throw Error(iu+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,IAe.test(s))aL(a,s);else throw Error(iu+s)}if(i.prototype=de,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=vK,i.config=i.set=CAe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function CAe(t){if(!t||typeof t!="object")throw Error(ns+"Object expected");var e,n,r,i=["precision",1,Mf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Lf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(iu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(iu+n+": "+r);return this}var OP=vK(AAe);mi=new OP(1);const Ze=OP;var PAe=t=>t,xK={},bK=t=>t===xK,lL=t=>function e(){return arguments.length===0||arguments.length===1&&bK(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},wK=(t,e)=>t===1?e:lL(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(a=>a!==xK).length;return s>=t?e(...r):wK(t-s,lL(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=r.map(d=>bK(d)?l.shift():d);return e(...u,...l)}))}),K1=t=>wK(t.length,t),wj=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},kAe=K1((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),RAe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return PAe;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((l,c)=>c(l),s(...arguments))}},_j=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),_K=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e&&i.every((a,l)=>{var c;return a===((c=e)===null||c===void 0?void 0:c[l])})||(e=i,n=t(...i)),n}};function NK(t){var e;return t===0?e=1:e=Math.floor(new Ze(t).abs().log(10).toNumber())+1,e}function SK(t,e,n){for(var r=new Ze(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}K1((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});K1((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});K1((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var EK=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},jK=(t,e,n)=>{if(t.lte(0))return new Ze(0);var r=NK(t.toNumber()),i=new Ze(10).pow(r),s=t.div(i),a=r!==1?.05:.1,l=new Ze(Math.ceil(s.div(a).toNumber())).add(n).mul(a),c=l.mul(i);return e?new Ze(c.toNumber()):new Ze(Math.ceil(c.toNumber()))},OAe=(t,e,n)=>{var r=new Ze(1),i=new Ze(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Ze(10).pow(NK(t)-1),i=new Ze(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Ze(Math.floor(t)))}else t===0?i=new Ze(Math.floor((e-1)/2)):n||(i=new Ze(Math.floor(t)));var a=Math.floor((e-1)/2),l=RAe(kAe(c=>i.add(new Ze(c-a).mul(r)).toNumber()),wj);return l(0,e)},TK=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ze(0),tickMin:new Ze(0),tickMax:new Ze(0)};var a=jK(new Ze(n).sub(e).div(r-1),i,s),l;e<=0&&n>=0?l=new Ze(0):(l=new Ze(e).add(n).div(2),l=l.sub(new Ze(l).mod(a)));var c=Math.ceil(l.sub(e).div(a).toNumber()),u=Math.ceil(new Ze(n).sub(l).div(a).toNumber()),d=c+u+1;return d>r?TK(e,n,r,i,s+1):(d<r&&(u=n>0?u+(r-d):u,c=n>0?c:c+(r-d)),{step:a,tickMin:l.sub(new Ze(c).mul(a)),tickMax:l.add(new Ze(u).mul(a))})};function DAe(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[a,l]=EK([e,n]);if(a===-1/0||l===1/0){var c=l===1/0?[a,...wj(0,r-1).map(()=>1/0)]:[...wj(0,r-1).map(()=>-1/0),l];return e>n?_j(c):c}if(a===l)return OAe(a,r,i);var{step:u,tickMin:d,tickMax:h}=TK(a,l,s,i,0),f=SK(d,h.add(new Ze(.1).mul(u)),u);return e>n?_j(f):f}function MAe(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=EK([n,r]);if(s===-1/0||a===1/0)return[n,r];if(s===a)return[s];var l=Math.max(e,2),c=jK(new Ze(a).sub(s).div(l-1),i,0),u=[...SK(new Ze(s),new Ze(a),c),a];return i===!1&&(u=u.map(d=>Math.round(d))),n>r?_j(u):u}var LAe=_K(DAe),VAe=_K(MAe),AK=t=>t.rootProps.maxBarSize,zAe=t=>t.rootProps.barGap,IK=t=>t.rootProps.barCategoryGap,UAe=t=>t.rootProps.barSize,Ky=t=>t.rootProps.stackOffset,DP=t=>t.options.chartName,MP=t=>t.rootProps.syncId,CK=t=>t.rootProps.syncMethod,LP=t=>t.options.eventEmitter,FAe=t=>t.rootProps.baseValue,an={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},wa={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ci={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Y1=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},BAe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:wa.angleAxisId,includeHidden:!1,name:void 0,reversed:wa.reversed,scale:wa.scale,tick:wa.tick,tickCount:void 0,ticks:void 0,type:wa.type,unit:void 0},$Ae={allowDataOverflow:ci.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ci.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ci.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ci.scale,tick:ci.tick,tickCount:ci.tickCount,ticks:void 0,type:ci.type,unit:void 0},qAe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:wa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:wa.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:wa.scale,tick:wa.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},HAe={allowDataOverflow:ci.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ci.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ci.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ci.scale,tick:ci.tick,tickCount:ci.tickCount,ticks:void 0,type:"category",unit:void 0},VP=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?qAe:BAe,zP=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?HAe:$Ae,Q1=t=>t.polarOptions,UP=F([bo,wo,An],EW),PK=F([Q1,UP],(t,e)=>{if(t!=null)return br(t.innerRadius,e,0)}),kK=F([Q1,UP],(t,e)=>{if(t!=null)return br(t.outerRadius,e,e*.8)}),GAe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},RK=F([Q1],GAe);F([VP,RK],Y1);var OK=F([UP,PK,kK],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});F([zP,OK],Y1);var DK=F([Le,Q1,PK,kK,bo,wo],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:l,startAngle:c,endAngle:u}=e;return{cx:br(a,i,i/2),cy:br(l,s,s/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:u,clockWise:!1}}}),Vt=(t,e)=>e,Yy=(t,e,n)=>n;function X1(t){return t==null?void 0:t.id}function MK(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,a=new Map;return t.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:r;if(!(u==null||u.length===0)){var d=X1(l);u.forEach((h,f)=>{var m=s==null||i?f:String(at(h,s,null)),y=at(h,l.dataKey,0),v;a.has(m)?v=a.get(m):v={},Object.assign(v,{[d]:y}),a.set(m,v)})}}),Array.from(a.values())}function J1(t){return t.stackId!=null&&t.dataKey!=null}var Z1=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function e_(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function WAe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Cn=t=>{var e=Le(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Vf=t=>t.tooltip.settings.axisId;function cL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $b(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cL(Object(n),!0).forEach(function(r){KAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KAe(t,e,n){return(e=YAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YAe(t){var e=QAe(t,"string");return typeof e=="symbol"?e:e+""}function QAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nj=[0,"auto"],ii={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},LK=(t,e)=>t.cartesianAxis.xAxis[e],So=(t,e)=>{var n=LK(t,e);return n??ii},si={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Nj,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:By},VK=(t,e)=>t.cartesianAxis.yAxis[e],Eo=(t,e)=>{var n=VK(t,e);return n??si},XAe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},FP=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??XAe},$t=(t,e,n)=>{switch(e){case"xAxis":return So(t,n);case"yAxis":return Eo(t,n);case"zAxis":return FP(t,n);case"angleAxis":return VP(t,n);case"radiusAxis":return zP(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},JAe=(t,e,n)=>{switch(e){case"xAxis":return So(t,n);case"yAxis":return Eo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Qy=(t,e,n)=>{switch(e){case"xAxis":return So(t,n);case"yAxis":return Eo(t,n);case"angleAxis":return VP(t,n);case"radiusAxis":return zP(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},zK=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function BP(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Xy=t=>t.graphicalItems.cartesianItems,ZAe=F([Vt,Yy],BP),$P=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Jy=F([Xy,$t,ZAe],$P,{memoizeOptions:{resultEqualityCheck:e_}}),UK=F([Jy],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(J1)),FK=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),eIe=F([Jy],FK),qP=t=>t.map(e=>e.data).filter(Boolean).flat(1),tIe=F([Jy],qP,{memoizeOptions:{resultEqualityCheck:e_}}),HP=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},GP=F([tIe,Wy],HP),WP=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:at(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:at(i,r)}))):t.map(r=>({value:r})),t_=F([GP,$t,Jy],WP);function BK(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Yv(t){if(ta(t)||t instanceof Date){var e=Number(t);if(It(e))return e}}function uL(t){if(Array.isArray(t)){var e=[Yv(t[0]),Yv(t[1])];return Iu(e)?e:void 0}var n=Yv(t);if(n!=null)return[n,n]}function oo(t){return t.map(Yv).filter(A_e)}function nIe(t,e,n){return!n||typeof e!="number"||es(e)?[]:n.length?oo(n.flatMap(r=>{var i=at(t,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!It(s)||!It(a)))return[e-s,e+a]})):[]}var Pn=t=>{var e=Cn(t),n=Vf(t);return Qy(t,e,n)},$K=F([Pn],t=>t==null?void 0:t.dataKey),rIe=F([UK,Wy,Pn],MK),qK=(t,e,n)=>{var r={},i=e.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[a,l]=s,c=l.map(X1);return[a,{stackedData:FSe(t,c,n),graphicalItems:l}]}))},Hg=F([rIe,UK,Ky],qK),HK=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var a=HSe(t,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},iIe=F([$t],t=>t.allowDataOverflow),KP=t=>{var e;if(t==null||!("domain"in t))return Nj;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=oo(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Nj},YP=F([$t],KP),QP=F([YP,iIe],fK),sIe=F([Hg,ic,Vt,QP],HK,{memoizeOptions:{resultEqualityCheck:Z1}}),n_=t=>t.errorBars,aIe=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>BK(n,r)),qb=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),l=Math.max(...s);return[a,l]}},XP=(t,e,n,r,i)=>{var s,a;if(n.length>0&&t.forEach(l=>{n.forEach(c=>{var u,d,h=(u=r[c.id])===null||u===void 0?void 0:u.filter(w=>BK(i,w)),f=at(l,(d=e.dataKey)!==null&&d!==void 0?d:c.dataKey),m=nIe(l,f,h);if(m.length>=2){var y=Math.min(...m),v=Math.max(...m);(s==null||y<s)&&(s=y),(a==null||v>a)&&(a=v)}var x=uL(f);x!=null&&(s=s==null?x[0]:Math.min(s,x[0]),a=a==null?x[1]:Math.max(a,x[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(l=>{var c=uL(at(l,e.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),a=a==null?c[1]:Math.max(a,c[1]))}),It(s)&&It(a))return[s,a]},oIe=F([GP,$t,eIe,n_,Vt],XP,{memoizeOptions:{resultEqualityCheck:Z1}});function lIe(t){var{value:e}=t;if(ta(e)||e instanceof Date)return e}var cIe=(t,e,n)=>{var r=t.map(lIe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&YH(r))?kW(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},GK=t=>t.referenceElements.dots,zf=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),uIe=F([GK,Vt,Yy],zf),WK=t=>t.referenceElements.areas,dIe=F([WK,Vt,Yy],zf),KK=t=>t.referenceElements.lines,hIe=F([KK,Vt,Yy],zf),YK=(t,e)=>{var n=oo(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},fIe=F(uIe,Vt,YK),QK=(t,e)=>{var n=oo(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},mIe=F([dIe,Vt],QK);function pIe(t){var e;if(t.x!=null)return oo([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:oo(n)}function gIe(t){var e;if(t.y!=null)return oo([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:oo(n)}var XK=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?pIe(r):gIe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},yIe=F([hIe,Vt],XK),vIe=F(fIe,yIe,mIe,(t,e,n)=>qb(t,n,e)),JP=(t,e,n,r,i,s,a,l)=>{if(n!=null)return n;var c=a==="vertical"&&l==="xAxis"||a==="horizontal"&&l==="yAxis",u=c?qb(r,s,i):qb(s,i);return TAe(e,u,t.allowDataOverflow)},xIe=F([$t,YP,QP,sIe,oIe,vIe,Le,Vt],JP,{memoizeOptions:{resultEqualityCheck:Z1}}),bIe=[0,1],ZP=(t,e,n,r,i,s,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:l,type:c}=t,u=ua(e,s);if(u&&l==null){var d;return kW(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return c==="category"?cIe(r,t,u):i==="expand"?bIe:a}},ek=F([$t,Le,GP,t_,Ky,Vt,xIe],ZP),JK=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(Vy(s));return l in Zm?l:"point"}}},Uf=F([$t,Le,zK,DP,Vt],JK);function wIe(t){if(t!=null){if(t in Zm)return Zm[t]();var e="scale".concat(Vy(t));if(e in Zm)return Zm[e]()}}function tk(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=wIe(e);if(i!=null){var s=i.domain(n).range(r);return MSe(s),s}}}var nk=(t,e,n)=>{var r=KP(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Iu(t))return LAe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Iu(t))return VAe(t,e.tickCount,e.allowDecimals)}},rk=F([ek,Qy,Uf],nk),ik=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Iu(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],a=e[1],l=n[n.length-1];return[Math.min(i,s),Math.max(a,l)]}return e},_Ie=F([$t,ek,rk,Vt],ik),NIe=F(t_,$t,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(oo(t.map(l=>l.value))).sort((l,c)=>l-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var a=r[s+1]-r[s];n=Math.min(n,a)}return n/i}}),ZK=F(NIe,Le,IK,An,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!It(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=br(n,t*s),l=t*s/2;return l-a-(l-a)/s*a}return 0}),SIe=(t,e)=>{var n=So(t,e);return n==null||typeof n.padding!="string"?0:ZK(t,"xAxis",e,n.padding)},EIe=(t,e)=>{var n=Eo(t,e);return n==null||typeof n.padding!="string"?0:ZK(t,"yAxis",e,n.padding)},jIe=F(So,SIe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),TIe=F(Eo,EIe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),AIe=F([An,jIe,z1,V1,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),IIe=F([An,Le,TIe,z1,V1,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Zy=(t,e,n,r)=>{var i;switch(e){case"xAxis":return AIe(t,n,r);case"yAxis":return IIe(t,n,r);case"zAxis":return(i=FP(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return RK(t);case"radiusAxis":return OK(t,n);default:return}},eY=F([$t,Zy],Y1),Ff=F([$t,Uf,_Ie,eY],tk);F([Jy,n_,Vt],aIe);function tY(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var r_=(t,e)=>e,i_=(t,e,n)=>n,CIe=F(M1,r_,i_,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(tY)),PIe=F(L1,r_,i_,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(tY)),nY=(t,e)=>({width:t.width,height:e.height}),kIe=(t,e)=>{var n=typeof e.width=="number"?e.width:By;return{width:n,height:t.height}},rY=F(An,So,nY),RIe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},OIe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},DIe=F(wo,An,CIe,r_,i_,(t,e,n,r,i)=>{var s={},a;return n.forEach(l=>{var c=nY(e,l);a==null&&(a=RIe(e,r,t));var u=r==="top"&&!i||r==="bottom"&&i;s[l.id]=a-Number(u)*c.height,a+=(u?-1:1)*c.height}),s}),MIe=F(bo,An,PIe,r_,i_,(t,e,n,r,i)=>{var s={},a;return n.forEach(l=>{var c=kIe(e,l);a==null&&(a=OIe(e,r,t));var u=r==="left"&&!i||r==="right"&&i;s[l.id]=a-Number(u)*c.width,a+=(u?-1:1)*c.width}),s}),LIe=(t,e)=>{var n=So(t,e);if(n!=null)return DIe(t,n.orientation,n.mirror)},VIe=F([An,So,LIe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),zIe=(t,e)=>{var n=Eo(t,e);if(n!=null)return MIe(t,n.orientation,n.mirror)},UIe=F([An,Eo,zIe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),iY=F(An,Eo,(t,e)=>{var n=typeof e.width=="number"?e.width:By;return{width:n,height:t.height}}),dL=(t,e,n)=>{switch(e){case"xAxis":return rY(t,n).width;case"yAxis":return iY(t,n).height;default:return}},sY=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=n,l=ua(t,r),c=e.map(u=>u.value);if(a&&l&&s==="category"&&i&&YH(c))return c}},sk=F([Le,t_,$t,Vt],sY),aY=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,a=ua(t,r);if(a&&(i==="number"||s!=="auto"))return e.map(l=>l.value)}},ak=F([Le,t_,Qy,Vt],aY),hL=F([Le,JAe,Uf,Ff,sk,ak,Zy,rk,Vt],(t,e,n,r,i,s,a,l,c)=>{if(e!=null){var u=ua(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:l,range:a,realScaleType:n,scale:r}}}),FIe=(t,e,n,r,i,s,a,l,c)=>{if(!(e==null||r==null)){var u=ua(t,c),{type:d,ticks:h,tickCount:f}=e,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,y=d==="category"&&r.bandwidth?r.bandwidth()/m:0;y=c==="angleAxis"&&s!=null&&s.length>=2?Vn(s[0]-s[1])*2*y:y;var v=h||i;if(v){var x=v.map((w,_)=>{var b=a?a.indexOf(w):w;return{index:_,coordinate:r(b)+y,value:w,offset:y}});return x.filter(w=>It(w.coordinate))}return u&&l?l.map((w,_)=>({coordinate:r(w)+y,value:w,index:_,offset:y})).filter(w=>It(w.coordinate)):r.ticks?r.ticks(f).map(w=>({coordinate:r(w)+y,value:w,offset:y})):r.domain().map((w,_)=>({coordinate:r(w)+y,value:a?a[w]:w,index:_,offset:y}))}},oY=F([Le,Qy,Uf,Ff,rk,Zy,sk,ak,Vt],FIe),BIe=(t,e,n,r,i,s,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=ua(t,a),{tickCount:c}=e,u=0;return u=a==="angleAxis"&&(r==null?void 0:r.length)>=2?Vn(r[0]-r[1])*2*u:u,l&&s?s.map((d,h)=>({coordinate:n(d)+u,value:d,index:h,offset:u})):n.ticks?n.ticks(c).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,h)=>({coordinate:n(d)+u,value:i?i[d]:d,index:h,offset:u}))}},ia=F([Le,Qy,Ff,Zy,sk,ak,Vt],BIe),sa=F($t,Ff,(t,e)=>{if(!(t==null||e==null))return $b($b({},t),{},{scale:e})}),$Ie=F([$t,Uf,ek,eY],tk);F((t,e,n)=>FP(t,n),$Ie,(t,e)=>{if(!(t==null||e==null))return $b($b({},t),{},{scale:e})});var qIe=F([Le,M1,L1],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),lY=t=>t.options.defaultTooltipEventType,cY=t=>t.options.validateTooltipEventTypes;function uY(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function ok(t,e){var n=lY(t),r=cY(t);return uY(e,n,r)}function HIe(t){return fe(e=>ok(e,t))}var dY=(t,e)=>{var n,r=Number(e);if(!(es(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},GIe=t=>t.tooltip.settings,Yo={active:!1,index:null,dataKey:void 0,coordinate:void 0},WIe={itemInteraction:{click:Yo,hover:Yo},axisInteraction:{click:Yo,hover:Yo},keyboardInteraction:Yo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},hY=ni({name:"tooltip",initialState:WIe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Nn()},removeTooltipEntrySettings:{reducer(t,e){var n=Ua(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Nn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:KIe,removeTooltipEntrySettings:YIe,setTooltipSettingsState:QIe,setActiveMouseOverItemIndex:fY,mouseLeaveItem:XIe,mouseLeaveChart:mY,setActiveClickItemIndex:JIe,setMouseOverAxisIndex:pY,setMouseClickAxisIndex:ZIe,setSyncInteraction:Sj,setKeyboardInteraction:Ej}=hY.actions,eCe=hY.reducer;function fL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fL(Object(n),!0).forEach(function(r){tCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tCe(t,e,n){return(e=nCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nCe(t){var e=rCe(t,"string");return typeof e=="symbol"?e:e+""}function rCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iCe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function sCe(t){return t.index!=null}var gY=(t,e,n,r)=>{if(e==null)return Yo;var i=iCe(t,e,n);if(i==null)return Yo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(sCe(i)){if(s)return lv(lv({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return lv(lv({},Yo),{},{coordinate:i.coordinate})},lk=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!It(r))return n;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(r,s)))},yY=(t,e,n,r,i,s,a,l)=>{if(!(s==null||l==null)){var c=a[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var d=i==null?void 0:i[Number(s)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:d.coordinate}}}},vY=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},e0=t=>t.options.tooltipPayloadSearcher,Bf=t=>t.tooltip;function mL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(n),!0).forEach(function(r){aCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aCe(t,e,n){return(e=oCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oCe(t){var e=lCe(t,"string");return typeof e=="symbol"?e:e+""}function lCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cCe(t,e){return t??e}var xY=(t,e,n,r,i,s,a)=>{if(!(e==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=n,h=[];return t.reduce((f,m)=>{var y,{dataDefinedOnItem:v,settings:x}=m,w=cCe(v,l),_=Array.isArray(w)?tW(w,u,d):w,b=(y=x==null?void 0:x.dataKey)!==null&&y!==void 0?y:r,N=x==null?void 0:x.nameKey,E;if(r&&Array.isArray(_)&&!Array.isArray(_[0])&&a==="axis"?E=QH(_,r,i):E=s(_,e,c,N),Array.isArray(E))E.forEach(j=>{var T=pL(pL({},x),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});f.push(Y6({tooltipEntrySettings:T,dataKey:j.dataKey,payload:j.payload,value:at(j.payload,j.dataKey),name:j.name}))});else{var C;f.push(Y6({tooltipEntrySettings:x,dataKey:b,payload:E,value:at(E,b),name:(C=at(E,N))!==null&&C!==void 0?C:x==null?void 0:x.name}))}return f},h)}},ck=F([Pn,Le,zK,DP,Cn],JK),uCe=F([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),dCe=F([Cn,Vf],BP),t0=F([uCe,Pn,dCe],$P,{memoizeOptions:{resultEqualityCheck:e_}}),hCe=F([t0],t=>t.filter(J1)),fCe=F([t0],qP,{memoizeOptions:{resultEqualityCheck:e_}}),$f=F([fCe,ic],HP),mCe=F([hCe,ic,Pn],MK),uk=F([$f,Pn,t0],WP),bY=F([Pn],KP),pCe=F([Pn],t=>t.allowDataOverflow),wY=F([bY,pCe],fK),gCe=F([t0],t=>t.filter(J1)),yCe=F([mCe,gCe,Ky],qK),vCe=F([yCe,ic,Cn,wY],HK),xCe=F([t0],FK),bCe=F([$f,Pn,xCe,n_,Cn],XP,{memoizeOptions:{resultEqualityCheck:Z1}}),wCe=F([GK,Cn,Vf],zf),_Ce=F([wCe,Cn],YK),NCe=F([WK,Cn,Vf],zf),SCe=F([NCe,Cn],QK),ECe=F([KK,Cn,Vf],zf),jCe=F([ECe,Cn],XK),TCe=F([_Ce,jCe,SCe],qb),ACe=F([Pn,bY,wY,vCe,bCe,TCe,Le,Cn],JP),_Y=F([Pn,Le,$f,uk,Ky,Cn,ACe],ZP),ICe=F([_Y,Pn,ck],nk),CCe=F([Pn,_Y,ICe,Cn],ik),NY=t=>{var e=Cn(t),n=Vf(t),r=!1;return Zy(t,e,n,r)},SY=F([Pn,NY],Y1),EY=F([Pn,ck,CCe,SY],tk),PCe=F([Le,uk,Pn,Cn],sY),kCe=F([Le,uk,Pn,Cn],aY),RCe=(t,e,n,r,i,s,a,l)=>{if(e){var{type:c}=e,u=ua(t,l);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=c==="category"&&r.bandwidth?r.bandwidth()/d:0;return h=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Vn(i[0]-i[1])*2*h:h,u&&a?a.map((f,m)=>({coordinate:r(f)+h,value:f,index:m,offset:h})):r.domain().map((f,m)=>({coordinate:r(f)+h,value:s?s[f]:f,index:m,offset:h}))}}},jo=F([Le,Pn,ck,EY,NY,PCe,kCe,Cn],RCe),dk=F([lY,cY,GIe],(t,e,n)=>uY(n.shared,t,e)),jY=t=>t.tooltip.settings.trigger,hk=t=>t.tooltip.settings.defaultIndex,s_=F([Bf,dk,jY,hk],gY),Fl=F([s_,$f],lk),TY=F([jo,Fl],dY),AY=F([s_],t=>{if(t)return t.dataKey}),IY=F([Bf,dk,jY,hk],vY),OCe=F([bo,wo,Le,An,jo,hk,IY,e0],yY),DCe=F([s_,OCe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),MCe=F([s_],t=>t.active),LCe=F([IY,Fl,ic,$K,TY,e0,dk],xY),VCe=F([LCe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function gL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gL(Object(n),!0).forEach(function(r){zCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zCe(t,e,n){return(e=UCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UCe(t){var e=FCe(t,"string");return typeof e=="symbol"?e:e+""}function FCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BCe=()=>fe(Pn),$Ce=()=>{var t=BCe(),e=fe(jo),n=fe(EY);return Ul(!t||!n?void 0:yL(yL({},t),{},{scale:n}),e)};function vL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vL(Object(n),!0).forEach(function(r){qCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qCe(t,e,n){return(e=HCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HCe(t){var e=GCe(t,"string");return typeof e=="symbol"?e:e+""}function GCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WCe=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},KCe=(t,e,n,r)=>{var i=e.find(u=>u&&u.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:a}=r;return hd(hd(hd({},r),xn(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var l=i.coordinate,{angle:c}=r;return hd(hd(hd({},r),xn(r.cx,r.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function YCe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var CY=(t,e,n,r,i)=>{var s,a=-1,l=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?n[c-1].coordinate:n[l-1].coordinate,d=n[c].coordinate,h=c>=l-1?n[0].coordinate:n[c+1].coordinate,f=void 0;if(Vn(d-u)!==Vn(h-d)){var m=[];if(Vn(h-d)===Vn(i[1]-i[0])){f=h;var y=d+i[1]-i[0];m[0]=Math.min(y,(y+u)/2),m[1]=Math.max(y,(y+u)/2)}else{f=u;var v=h+i[1]-i[0];m[0]=Math.min(d,(v+d)/2),m[1]=Math.max(d,(v+d)/2)}var x=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(t>x[0]&&t<=x[1]||t>=m[0]&&t<=m[1]){({index:a}=n[c]);break}}else{var w=Math.min(u,h),_=Math.max(u,h);if(t>(w+d)/2&&t<=(_+d)/2){({index:a}=n[c]);break}}}else if(e){for(var b=0;b<l;b++)if(b===0&&t<=(e[b].coordinate+e[b+1].coordinate)/2||b>0&&b<l-1&&t>(e[b].coordinate+e[b-1].coordinate)/2&&t<=(e[b].coordinate+e[b+1].coordinate)/2||b===l-1&&t>(e[b].coordinate+e[b-1].coordinate)/2){({index:a}=e[b]);break}}return a},PY=()=>fe(DP),fk=(t,e)=>e,kY=(t,e,n)=>n,mk=(t,e,n,r)=>r,QCe=F(jo,t=>C1(t,e=>e.coordinate)),pk=F([Bf,fk,kY,mk],gY),RY=F([pk,$f],lk),XCe=(t,e,n)=>{if(e!=null){var r=Bf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},OY=F([Bf,fk,kY,mk],vY),Hb=F([bo,wo,Le,An,jo,mk,OY,e0],yY),JCe=F([pk,Hb],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),DY=F([jo,RY],dY),ZCe=F([OY,RY,ic,$K,DY,e0,fk],xY),ePe=F([pk],t=>({isActive:t.active,activeIndex:t.index})),tPe=(t,e,n,r,i,s,a)=>{if(!(!t||!n||!r||!i)&&YCe(t,a)){var l=GSe(t,e),c=CY(l,s,i,n,r),u=WCe(e,i,c,t);return{activeIndex:String(c),activeCoordinate:u}}},nPe=(t,e,n,r,i,s,a)=>{if(!(!t||!r||!i||!s||!n)){var l=WEe(t,n);if(l){var c=WSe(l,e),u=CY(c,a,s,r,i),d=KCe(e,s,u,l);return{activeIndex:String(u),activeCoordinate:d}}}},rPe=(t,e,n,r,i,s,a,l)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?tPe(t,e,r,i,s,a,l):nPe(t,e,n,r,i,s,a)},iPe=F(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),sPe=F(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(an)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:WAe}});function xL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xL(Object(n),!0).forEach(function(r){aPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aPe(t,e,n){return(e=oPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oPe(t){var e=lPe(t,"string");return typeof e=="symbol"?e:e+""}function lPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cPe={},uPe={zIndexMap:Object.values(an).reduce((t,e)=>bL(bL({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),cPe)},dPe=new Set(Object.values(an));function hPe(t){return dPe.has(t)}var MY=ni({name:"zIndex",initialState:uPe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Nn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!hPe(n)&&delete t.zIndexMap[n])},prepare:Nn()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Nn()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:Nn()}}}),{registerZIndexPortal:fPe,unregisterZIndexPortal:mPe,registerZIndexPortalId:pPe,unregisterZIndexPortalId:gPe}=MY.actions,yPe=MY.reducer;function Fr(t){var{zIndex:e,children:n}=t,r=b2e(),i=r&&e!==void 0&&e!==0,s=qn(),a=yt();g.useLayoutEffect(()=>i?(a(fPe({zIndex:e})),()=>{a(mPe({zIndex:e}))}):Ku,[a,e,i]);var l=fe(u=>iPe(u,e,s));if(!i)return n;if(!l)return null;var c=document.getElementById(l);return c?au.createPortal(n,c):null}function jj(){return jj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jj.apply(null,arguments)}function wL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(n),!0).forEach(function(r){vPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vPe(t,e,n){return(e=xPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xPe(t){var e=bPe(t,"string");return typeof e=="symbol"?e:e+""}function bPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wPe(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return g.isValidElement(e)?g.cloneElement(e,r):g.createElement(n,r)}function _Pe(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:a,layout:l,cursor:c,tooltipEventType:u,chartName:d}=t,h=n,f=r,m=i;if(!c||!h||d!=="ScatterChart"&&u!=="axis")return null;var y,v,x;if(d==="ScatterChart")y=h,v=cEe,x=an.cursorLine;else if(d==="BarChart")y=uEe(l,h,s,a),v=SW,x=an.cursorRectangle;else if(l==="radial"&&JH(h)){var{cx:w,cy:_,radius:b,startAngle:N,endAngle:E}=jW(h);y={cx:w,cy:_,startAngle:N,endAngle:E,innerRadius:b,outerRadius:b},v=AW,x=an.cursorLine}else y={points:XEe(l,h,s)},v=ih,x=an.cursorLine;var C=typeof c=="object"&&"className"in c?c.className:void 0,j=cv(cv(cv(cv({stroke:"#ccc",pointerEvents:"none"},s),y),Eu(c)),{},{payload:f,payloadIndex:m,className:qe("recharts-tooltip-cursor",C)});return g.createElement(Fr,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:x},g.createElement(wPe,{cursor:c,cursorComp:v,cursorProps:j}))}function NPe(t){var e=$Ce(),n=pW(),r=kf(),i=PY();return e==null||n==null||r==null||i==null?null:g.createElement(_Pe,jj({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var LY=g.createContext(null),SPe=()=>g.useContext(LY),VY={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,h||c,f),y=n?n+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,y=new Array(m);f<m;f++)y[f]=h[f].fn;return y},l.prototype.listenerCount=function(u){var d=n?n+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,f,m,y){var v=n?n+u:u;if(!this._events[v])return!1;var x=this._events[v],w=arguments.length,_,b;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,h),!0;case 4:return x.fn.call(x.context,d,h,f),!0;case 5:return x.fn.call(x.context,d,h,f,m),!0;case 6:return x.fn.call(x.context,d,h,f,m,y),!0}for(b=1,_=new Array(w-1);b<w;b++)_[b-1]=arguments[b];x.fn.apply(x.context,_)}else{var N=x.length,E;for(b=0;b<N;b++)switch(x[b].once&&this.removeListener(u,x[b].fn,void 0,!0),w){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,d);break;case 3:x[b].fn.call(x[b].context,d,h);break;case 4:x[b].fn.call(x[b].context,d,h,f);break;default:if(!_)for(E=1,_=new Array(w-1);E<w;E++)_[E-1]=arguments[E];x[b].fn.apply(x[b].context,_)}}return!0},l.prototype.on=function(u,d,h){return s(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return s(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,f){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return a(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!f||y.once)&&(!h||y.context===h)&&a(this,m);else{for(var v=0,x=[],w=y.length;v<w;v++)(y[v].fn!==d||f&&!y[v].once||h&&y[v].context!==h)&&x.push(y[v]);x.length?this._events[m]=x.length===1?x[0]:x:a(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(VY);var EPe=VY.exports;const jPe=aa(EPe);var Gg=new jPe,Tj="recharts.syncEvent.tooltip",_L="recharts.syncEvent.brush";function a_(t,e){if(e){var n=Number.parseInt(e,10);if(!es(n))return t==null?void 0:t[n]}}var TPe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},zY=ni({name:"options",initialState:TPe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),APe=zY.reducer,{createEventEmitter:IPe}=zY.actions;function CPe(t){return t.tooltip.syncInteraction}var PPe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},UY=ni({name:"chartData",initialState:PPe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:NL,setDataStartEndIndexes:kPe,setComputedData:p3e}=UY.actions,RPe=UY.reducer,OPe=["x","y"];function SL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SL(Object(n),!0).forEach(function(r){DPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DPe(t,e,n){return(e=MPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MPe(t){var e=LPe(t,"string");return typeof e=="symbol"?e:e+""}function LPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VPe(t,e){if(t==null)return{};var n,r,i=zPe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zPe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function UPe(){var t=fe(MP),e=fe(LP),n=yt(),r=fe(CK),i=fe(jo),s=kf(),a=U1(),l=fe(c=>c.rootProps.className);g.useEffect(()=>{if(t==null)return Ku;var c=(u,d,h)=>{if(e!==h&&t===u){if(r==="index"){var f;if(a&&d!==null&&d!==void 0&&(f=d.payload)!==null&&f!==void 0&&f.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:y,y:v}=m,x=VPe(m,OPe),{x:w,y:_,width:b,height:N}=d.payload.sourceViewBox,E=fd(fd({},x),{},{x:a.x+(b?(y-w)/b:0)*a.width,y:a.y+(N?(v-_)/N:0)*a.height});n(fd(fd({},d),{},{payload:fd(fd({},d.payload),{},{coordinate:E})}))}else n(d);return}if(i!=null){var C;if(typeof r=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},T=r(i,j);C=i[T]}else r==="value"&&(C=i.find(L=>String(L.value)===d.payload.label));var{coordinate:A}=d.payload;if(C==null||d.payload.active===!1||A==null||a==null){n(Sj({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:P,y:k}=A,O=Math.min(P,a.x+a.width),R=Math.min(k,a.y+a.height),V={x:s==="horizontal"?C.coordinate:O,y:s==="horizontal"?R:C.coordinate},M=Sj({active:d.payload.active,coordinate:V,dataKey:d.payload.dataKey,index:String(C.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox});n(M)}}};return Gg.on(Tj,c),()=>{Gg.off(Tj,c)}},[l,n,e,t,r,i,s,a])}function FPe(){var t=fe(MP),e=fe(LP),n=yt();g.useEffect(()=>{if(t==null)return Ku;var r=(i,s,a)=>{e!==a&&t===i&&n(kPe(s))};return Gg.on(_L,r),()=>{Gg.off(_L,r)}},[n,e,t])}function BPe(){var t=yt();g.useEffect(()=>{t(IPe())},[t]),UPe(),FPe()}function $Pe(t,e,n,r,i,s){var a=fe(m=>XCe(m,t,e)),l=fe(LP),c=fe(MP),u=fe(CK),d=fe(CPe),h=d==null?void 0:d.active,f=U1();g.useEffect(()=>{if(!h&&c!=null&&l!=null){var m=Sj({active:s,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:f});Gg.emit(Tj,c,m,l)}},[h,n,a,i,r,l,c,u,s,f])}function EL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EL(Object(n),!0).forEach(function(r){qPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qPe(t,e,n){return(e=HPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HPe(t){var e=GPe(t,"string");return typeof e=="symbol"?e:e+""}function GPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WPe(t){return t.dataKey}function KPe(t,e){return g.isValidElement(t)?g.cloneElement(t,e):typeof t=="function"?g.createElement(t,e):g.createElement(F2e,e)}var TL=[],YPe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!_o.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Zh(t){var e,n,r=en(t,YPe),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:l,content:c,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:f,position:m,reverseDirection:y,useTranslate3d:v,wrapperStyle:x,cursor:w,shared:_,trigger:b,defaultIndex:N,portal:E,axisId:C}=r,j=yt(),T=typeof N=="number"?String(N):N;g.useEffect(()=>{j(QIe({shared:_,trigger:b,axisId:C,active:i,defaultIndex:T}))},[j,_,b,C,i,T]);var A=U1(),P=xW(),k=HIe(_),{activeIndex:O,isActive:R}=(e=fe(ie=>ePe(ie,k,b,T)))!==null&&e!==void 0?e:{},V=fe(ie=>ZCe(ie,k,b,T)),M=fe(ie=>DY(ie,k,b,T)),L=fe(ie=>JCe(ie,k,b,T)),B=V,G=SPe(),ee=(n=i??R)!==null&&n!==void 0?n:!1,[Z,H]=AG([B,ee]),oe=k==="axis"?M:void 0;$Pe(k,b,L,oe,O,ee);var xe=E??G;if(xe==null||A==null||k==null)return null;var re=B??TL;ee||(re=TL),u&&re.length&&(re=gG(re.filter(ie=>ie.value!=null&&(ie.hide!==!0||r.includeHidden)),f,WPe));var ve=re.length>0,ne=g.createElement(K2e,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:d,active:ee,coordinate:L,hasPayload:ve,offset:h,position:m,reverseDirection:y,useTranslate3d:v,viewBox:A,wrapperStyle:x,lastBoundingBox:Z,innerRef:H,hasPortalFromProps:!!E},KPe(c,jL(jL({},r),{},{payload:re,label:oe,active:ee,activeIndex:O,coordinate:L,accessibilityLayer:P})));return g.createElement(g.Fragment,null,au.createPortal(ne,xe),ee&&g.createElement(NPe,{cursor:w,tooltipEventType:k,coordinate:L,payload:re,index:O}))}var sc=t=>null;sc.displayName="Cell";function QPe(t,e,n){return(e=XPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XPe(t){var e=JPe(t,"string");return typeof e=="symbol"?e:e+""}function JPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ZPe{constructor(e){QPe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function AL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eke(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AL(Object(n),!0).forEach(function(r){tke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tke(t,e,n){return(e=nke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nke(t){var e=rke(t,"string");return typeof e=="symbol"?e:e+""}function rke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ike={cacheSize:2e3,enableCache:!0},FY=eke({},ike),IL=new ZPe(FY.cacheSize),ske={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CL="recharts_measurement_span";function ake(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(l)}var PL=(t,e)=>{try{var n=document.getElementById(CL);n||(n=document.createElement("span"),n.setAttribute("id",CL),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,ske,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Mp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||_o.isSsr)return{width:0,height:0};if(!FY.enableCache)return PL(e,n);var r=ake(e,n),i=IL.get(r);if(i)return i;var s=PL(e,n);return IL.set(r,s),s},kL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oke=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lke=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,BY={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},cke=Object.keys(BY),Fd="NaN";function uke(t,e){return t*BY[e]}class Gr{static parse(e){var n,[,r,i]=(n=lke.exec(e))!==null&&n!==void 0?n:[];return new Gr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,es(e)&&(this.unit=""),n!==""&&!oke.test(n)&&(this.num=NaN,this.unit=""),cke.includes(n)&&(this.num=uke(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Gr(NaN,""):new Gr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Gr(NaN,""):new Gr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Gr(NaN,""):new Gr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Gr(NaN,""):new Gr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return es(this.num)}}function $Y(t){if(t.includes(Fd))return Fd;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=kL.exec(e))!==null&&n!==void 0?n:[],a=Gr.parse(r??""),l=Gr.parse(s??""),c=i==="*"?a.multiply(l):a.divide(l);if(c.isNaN())return Fd;e=e.replace(kL,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,d,h,f]=(u=RL.exec(e))!==null&&u!==void 0?u:[],m=Gr.parse(d??""),y=Gr.parse(f??""),v=h==="+"?m.add(y):m.subtract(y);if(v.isNaN())return Fd;e=e.replace(RL,v.toString())}return e}var OL=/\(([^()]*)\)/;function dke(t){for(var e=t,n;(n=OL.exec(e))!=null;){var[,r]=n;e=e.replace(OL,$Y(r))}return e}function hke(t){var e=t.replace(/\s+/g,"");return e=dke(e),e=$Y(e),e}function fke(t){try{return hke(t)}catch{return Fd}}function CS(t){var e=fke(t.slice(5,-1));return e===Fd?"":e}var mke=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],pke=["dx","dy","angle","className","breakAll"];function Aj(){return Aj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Aj.apply(null,arguments)}function DL(t,e){if(t==null)return{};var n,r,i=gke(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gke(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var qY=/[ \f\n\r\t\v\u2028\u2029]+/,HY=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];jt(e)||(n?i=e.toString().split(""):i=e.toString().split(qY));var s=i.map(l=>({word:l,width:Mp(l,r).width})),a=n?0:Mp("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function yke(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var GY=(t,e,n,r)=>t.reduce((i,s)=>{var{word:a,width:l}=s,c=i[i.length-1];if(c&&l!=null&&(e==null||r||c.width+l+n<Number(e)))c.words.push(a),c.width+=l+n;else{var u={words:[a],width:l};i.push(u)}return i},[]),WY=t=>t.reduce((e,n)=>e.width>n.width?e:n),vke="",ML=(t,e,n,r,i,s,a,l)=>{var c=t.slice(0,e),u=HY({breakAll:n,style:r,children:c+vke});if(!u)return[!1,[]];var d=GY(u.wordsWithComputedWidth,s,a,l),h=d.length>i||WY(d).width>Number(s);return[h,d]},xke=(t,e,n,r,i)=>{var{maxLines:s,children:a,style:l,breakAll:c}=t,u=ue(s),d=String(a),h=GY(e,r,n,i);if(!u||i)return h;var f=h.length>s||WY(h).width>Number(r);if(!f)return h;for(var m=0,y=d.length-1,v=0,x;m<=y&&v<=d.length-1;){var w=Math.floor((m+y)/2),_=w-1,[b,N]=ML(d,_,c,l,s,r,n,i),[E]=ML(d,w,c,l,s,r,n,i);if(!b&&!E&&(m=w+1),b&&E&&(y=w-1),!b&&E){x=N;break}v++}return x||h},LL=t=>{var e=jt(t)?[]:t.toString().split(qY);return[{words:e,width:void 0}]},bke=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:a}=t;if((e||n)&&!_o.isSsr){var l,c,u=HY({breakAll:s,children:r,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:h}=u;l=d,c=h}else return LL(r);return xke({breakAll:s,children:r,maxLines:a,style:i},l,c,e,!!n)}return LL(r)},KY="#808080",wke={breakAll:!1,capHeight:"0.71em",fill:KY,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},o_=g.forwardRef((t,e)=>{var n=en(t,wke),{x:r,y:i,lineHeight:s,capHeight:a,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:d}=n,h=DL(n,mke),f=g.useMemo(()=>bke({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:m,dy:y,angle:v,className:x,breakAll:w}=h,_=DL(h,pke);if(!ta(r)||!ta(i)||f.length===0)return null;var b=Number(r)+(ue(m)?m:0),N=Number(i)+(ue(y)?y:0);if(!It(b)||!It(N))return null;var E;switch(d){case"start":E=CS("calc(".concat(a,")"));break;case"middle":E=CS("calc(".concat((f.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:E=CS("calc(".concat(f.length-1," * -").concat(s,")"));break}var C=[];if(c){var j=f[0].width,{width:T}=h;C.push("scale(".concat(ue(T)&&ue(j)?T/j:1,")"))}return v&&C.push("rotate(".concat(v,", ").concat(b,", ").concat(N,")")),C.length&&(_.transform=C.join(" ")),g.createElement("text",Aj({},_r(_),{ref:e,x:b,y:N,className:qe("recharts-text",x),textAnchor:u,fill:l.includes("url")?KY:l}),f.map((A,P)=>{var k=A.words.join(w?"":" ");return g.createElement("tspan",{x:b,dy:P===0?E:s,key:"".concat(k,"-").concat(P)},k)}))});o_.displayName="Text";var _ke=["labelRef"];function Nke(t,e){if(t==null)return{};var n,r,i=Ske(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ske(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function VL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VL(Object(n),!0).forEach(function(r){Eke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eke(t,e,n){return(e=jke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jke(t){var e=Tke(t,"string");return typeof e=="symbol"?e:e+""}function Tke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _a(){return _a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_a.apply(null,arguments)}var YY=g.createContext(null),Ake=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:a,children:l}=t,c=g.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:a}),[e,n,r,i,s,a]);return g.createElement(YY.Provider,{value:c},l)},QY=()=>{var t=g.useContext(YY),e=U1();return t||mW(e)},Ike=g.createContext(null),Cke=()=>{var t=g.useContext(Ike),e=fe(DK);return t||e},Pke=t=>{var{value:e,formatter:n}=t,r=jt(t.children)?e:t.children;return typeof n=="function"?n(r):r},gk=t=>t!=null&&typeof t=="function",kke=(t,e)=>{var n=Vn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Rke=(t,e,n,r,i)=>{var{offset:s,className:a}=t,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:h,endAngle:f,clockWise:m}=i,y=(u+d)/2,v=kke(h,f),x=v>=0?1:-1,w,_;switch(e){case"insideStart":w=h+x*s,_=m;break;case"insideEnd":w=f-x*s,_=!m;break;case"end":w=f+x*s,_=m;break;default:throw new Error("Unsupported position ".concat(e))}_=v<=0?_:!_;var b=xn(l,c,y,w),N=xn(l,c,y,w+(_?1:-1)*359),E="M".concat(b.x,",").concat(b.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(_?0:1,`,
    `).concat(N.x,",").concat(N.y),C=jt(t.id)?Dg("recharts-radial-line-"):t.id;return g.createElement("text",_a({},r,{dominantBaseline:"central",className:qe("recharts-radial-bar-label",a)}),g.createElement("defs",null,g.createElement("path",{id:C,d:E})),g.createElement("textPath",{xlinkHref:"#".concat(C)},n))},Oke=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:l,endAngle:c}=t,u=(l+c)/2;if(n==="outside"){var{x:d,y:h}=xn(r,i,a+e,u);return{x:d,y:h,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(s+a)/2,{x:m,y}=xn(r,i,f,u);return{x:m,y,textAnchor:"middle",verticalAnchor:"middle"}},Ij=t=>"cx"in t&&ue(t.cx),Dke=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!Ij(n)&&(s=n);var{x:a,y:l,upperWidth:c,lowerWidth:u,height:d}=e,h=a,f=a+(c-u)/2,m=(h+f)/2,y=(c+u)/2,v=h+c/2,x=d>=0?1:-1,w=x*r,_=x>0?"end":"start",b=x>0?"start":"end",N=c>=0?1:-1,E=N*r,C=N>0?"end":"start",j=N>0?"start":"end";if(i==="top"){var T={x:h+c/2,y:l-w,textAnchor:"middle",verticalAnchor:_};return tn(tn({},T),s?{height:Math.max(l-s.y,0),width:c}:{})}if(i==="bottom"){var A={x:f+u/2,y:l+d+w,textAnchor:"middle",verticalAnchor:b};return tn(tn({},A),s?{height:Math.max(s.y+s.height-(l+d),0),width:u}:{})}if(i==="left"){var P={x:m-E,y:l+d/2,textAnchor:C,verticalAnchor:"middle"};return tn(tn({},P),s?{width:Math.max(P.x-s.x,0),height:d}:{})}if(i==="right"){var k={x:m+y+E,y:l+d/2,textAnchor:j,verticalAnchor:"middle"};return tn(tn({},k),s?{width:Math.max(s.x+s.width-k.x,0),height:d}:{})}var O=s?{width:y,height:d}:{};return i==="insideLeft"?tn({x:m+E,y:l+d/2,textAnchor:j,verticalAnchor:"middle"},O):i==="insideRight"?tn({x:m+y-E,y:l+d/2,textAnchor:C,verticalAnchor:"middle"},O):i==="insideTop"?tn({x:h+c/2,y:l+w,textAnchor:"middle",verticalAnchor:b},O):i==="insideBottom"?tn({x:f+u/2,y:l+d-w,textAnchor:"middle",verticalAnchor:_},O):i==="insideTopLeft"?tn({x:h+E,y:l+w,textAnchor:j,verticalAnchor:b},O):i==="insideTopRight"?tn({x:h+c-E,y:l+w,textAnchor:C,verticalAnchor:b},O):i==="insideBottomLeft"?tn({x:f+E,y:l+d-w,textAnchor:j,verticalAnchor:_},O):i==="insideBottomRight"?tn({x:f+u-E,y:l+d-w,textAnchor:C,verticalAnchor:_},O):i&&typeof i=="object"&&(ue(i.x)||no(i.x))&&(ue(i.y)||no(i.y))?tn({x:a+br(i.x,y),y:l+br(i.y,d),textAnchor:"end",verticalAnchor:"end"},O):tn({x:v,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},Mke={offset:5,zIndex:an.label};function $o(t){var e=en(t,Mke),{viewBox:n,position:r,value:i,children:s,content:a,className:l="",textBreakAll:c,labelRef:u}=e,d=Cke(),h=QY(),f=r==="center"?h:d??h,m,y,v;if(n==null?m=f:Ij(n)?m=n:m=mW(n),!m||jt(i)&&jt(s)&&!g.isValidElement(a)&&typeof a!="function")return null;var x=tn(tn({},e),{},{viewBox:m});if(g.isValidElement(a)){var{labelRef:w}=x,_=Nke(x,_ke);return g.cloneElement(a,_)}if(typeof a=="function"){if(y=g.createElement(a,x),g.isValidElement(y))return y}else y=Pke(e);var b=_r(e);if(Ij(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Rke(e,r,y,b,m);v=Oke(m,e.offset,e.position)}else v=Dke(e,m);return g.createElement(Fr,{zIndex:e.zIndex},g.createElement(o_,_a({ref:u,className:qe("recharts-label",l)},b,v,{textAnchor:yke(b.textAnchor)?b.textAnchor:v.textAnchor,breakAll:c}),y))}$o.displayName="Label";var Lke=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?g.createElement($o,_a({key:"label-implicit"},r)):ta(t)?g.createElement($o,_a({key:"label-implicit",value:t},r)):g.isValidElement(t)?t.type===$o?g.cloneElement(t,tn({key:"label-implicit"},r)):g.createElement($o,_a({key:"label-implicit",content:t},r)):gk(t)?g.createElement($o,_a({key:"label-implicit",content:t},r)):t&&typeof t=="object"?g.createElement($o,_a({},t,{key:"label-implicit"},r)):null};function Vke(t){var{label:e,labelRef:n}=t,r=QY();return Lke(e,r,n)||null}var XY={},JY={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(JY);var ZY={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(ZY);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JY,n=ZY,r=A1;function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(XY);var zke=XY.last;const Uke=aa(zke);var Fke=["valueAccessor"],Bke=["dataKey","clockWise","id","textBreakAll","zIndex"];function Gb(){return Gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gb.apply(null,arguments)}function zL(t,e){if(t==null)return{};var n,r,i=$ke(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $ke(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var qke=t=>Array.isArray(t.value)?Uke(t.value):t.value,eQ=g.createContext(void 0),yk=eQ.Provider,tQ=g.createContext(void 0),Hke=tQ.Provider;function Gke(){return g.useContext(eQ)}function Wke(){return g.useContext(tQ)}function Qv(t){var{valueAccessor:e=qke}=t,n=zL(t,Fke),{dataKey:r,clockWise:i,id:s,textBreakAll:a,zIndex:l}=n,c=zL(n,Bke),u=Gke(),d=Wke(),h=u||d;return!h||!h.length?null:g.createElement(Fr,{zIndex:l??an.label},g.createElement(Qt,{className:"recharts-label-list"},h.map((f,m)=>{var y,v=jt(r)?e(f,m):at(f&&f.payload,r),x=jt(s)?{}:{id:"".concat(s,"-").concat(m)};return g.createElement($o,Gb({key:"label-".concat(m)},_r(f),c,x,{fill:(y=n.fill)!==null&&y!==void 0?y:f.fill,parentViewBox:f.parentViewBox,value:v,textBreakAll:a,viewBox:f.viewBox,index:m,zIndex:0}))})))}Qv.displayName="LabelList";function l_(t){var{label:e}=t;return e?e===!0?g.createElement(Qv,{key:"labelList-implicit"}):g.isValidElement(e)||gk(e)?g.createElement(Qv,{key:"labelList-implicit",content:e}):typeof e=="object"?g.createElement(Qv,Gb({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function Cj(){return Cj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cj.apply(null,arguments)}var nQ=t=>{var{cx:e,cy:n,r,className:i}=t,s=qe("recharts-dot",i);return ue(e)&&ue(n)&&ue(r)?g.createElement("circle",Cj({},Vr(t),FC(t),{className:s,cx:e,cy:n,r})):null},rQ=t=>t.graphicalItems.polarItems,Kke=F([Vt,Yy],BP),c_=F([rQ,$t,Kke],$P),Yke=F([c_],qP),u_=F([Yke,kP],HP),Qke=F([u_,$t,c_],WP);F([u_,$t,c_],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var s,a=at(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:at(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var UL=()=>{},Xke=F([u_,$t,c_,n_,Vt],XP),Jke=F([$t,YP,QP,UL,Xke,UL,Le,Vt],JP),iQ=F([$t,Le,u_,Qke,Ky,Vt,Jke],ZP),Zke=F([iQ,$t,Uf],nk);F([$t,iQ,Zke,Vt],ik);var eRe={radiusAxis:{},angleAxis:{}},sQ=ni({name:"polarAxis",initialState:eRe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:g3e,removeRadiusAxis:y3e,addAngleAxis:v3e,removeAngleAxis:x3e}=sQ.actions,tRe=sQ.reducer;function FL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FL(Object(n),!0).forEach(function(r){nRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nRe(t,e,n){return(e=rRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rRe(t){var e=iRe(t,"string");return typeof e=="symbol"?e:e+""}function iRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sRe=(t,e)=>e,vk=F([rQ,sRe],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),aRe=[],xk=(t,e,n)=>(n==null?void 0:n.length)===0?aRe:n,aQ=F([kP,vk,xk],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>BL(BL({},e.presentationProps),s.props))),i!=null)return i}}),oRe=F([aQ,vk,xk],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var s,a=at(r,e.nameKey,e.name),l;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?l=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?l=r.fill:l=e.fill,{value:tc(a,e.dataKey),color:l,payload:r,type:e.legendType}})}),lRe=F([aQ,vk,xk,An],(t,e,n,r)=>{if(!(e==null||t==null))return sOe({offset:r,pieSettings:e,displayedData:t,cells:n})}),oQ={exports:{}},dt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bk=Symbol.for("react.transitional.element"),wk=Symbol.for("react.portal"),d_=Symbol.for("react.fragment"),h_=Symbol.for("react.strict_mode"),f_=Symbol.for("react.profiler"),m_=Symbol.for("react.consumer"),p_=Symbol.for("react.context"),g_=Symbol.for("react.forward_ref"),y_=Symbol.for("react.suspense"),v_=Symbol.for("react.suspense_list"),x_=Symbol.for("react.memo"),b_=Symbol.for("react.lazy"),cRe=Symbol.for("react.view_transition"),uRe=Symbol.for("react.client.reference");function is(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case bk:switch(t=t.type,t){case d_:case f_:case h_:case y_:case v_:case cRe:return t;default:switch(t=t&&t.$$typeof,t){case p_:case g_:case b_:case x_:return t;case m_:return t;default:return e}}case wk:return e}}}dt.ContextConsumer=m_;dt.ContextProvider=p_;dt.Element=bk;dt.ForwardRef=g_;dt.Fragment=d_;dt.Lazy=b_;dt.Memo=x_;dt.Portal=wk;dt.Profiler=f_;dt.StrictMode=h_;dt.Suspense=y_;dt.SuspenseList=v_;dt.isContextConsumer=function(t){return is(t)===m_};dt.isContextProvider=function(t){return is(t)===p_};dt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===bk};dt.isForwardRef=function(t){return is(t)===g_};dt.isFragment=function(t){return is(t)===d_};dt.isLazy=function(t){return is(t)===b_};dt.isMemo=function(t){return is(t)===x_};dt.isPortal=function(t){return is(t)===wk};dt.isProfiler=function(t){return is(t)===f_};dt.isStrictMode=function(t){return is(t)===h_};dt.isSuspense=function(t){return is(t)===y_};dt.isSuspenseList=function(t){return is(t)===v_};dt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===d_||t===f_||t===h_||t===y_||t===v_||typeof t=="object"&&t!==null&&(t.$$typeof===b_||t.$$typeof===x_||t.$$typeof===p_||t.$$typeof===m_||t.$$typeof===g_||t.$$typeof===uRe||t.getModuleId!==void 0)};dt.typeOf=is;oQ.exports=dt;var dRe=oQ.exports,$L=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",qL=null,PS=null,lQ=t=>{if(t===qL&&Array.isArray(PS))return PS;var e=[];return g.Children.forEach(t,n=>{jt(n)||(dRe.isFragment(n)?e=e.concat(lQ(n.props.children)):e.push(n))}),PS=e,qL=t,e};function _k(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>$L(i)):r=[$L(e)],lQ(t).forEach(i=>{var s=ju(i,"type.displayName")||ju(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var Nk=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,cQ={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(cQ);var hRe=cQ.isPlainObject;const fRe=aa(hRe);function HL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HL(Object(n),!0).forEach(function(r){mRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mRe(t,e,n){return(e=pRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pRe(t){var e=gRe(t,"string");return typeof e=="symbol"?e:e+""}function gRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wb(){return Wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wb.apply(null,arguments)}var WL=(t,e,n,r,i)=>{var s=n-r,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+n,",").concat(e),a+="L ".concat(t+n-s/2,",").concat(e+i),a+="L ".concat(t+n-s/2-r,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},yRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vRe=t=>{var e=en(t,yRe),{x:n,y:r,upperWidth:i,lowerWidth:s,height:a,className:l}=e,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=e,f=g.useRef(null),[m,y]=g.useState(-1),v=g.useRef(i),x=g.useRef(s),w=g.useRef(a),_=g.useRef(n),b=g.useRef(r),N=Of(t,"trapezoid-");if(g.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var V=f.current.getTotalLength();V&&y(V)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var E=qe("recharts-trapezoid",l);if(!h)return g.createElement("g",null,g.createElement("path",Wb({},_r(e),{className:E,d:WL(n,r,i,s,a)})));var C=v.current,j=x.current,T=w.current,A=_.current,P=b.current,k="0px ".concat(m===-1?1:m,"px"),O="".concat(m,"px 0px"),R=bW(["strokeDasharray"],u,c);return g.createElement(Rf,{animationId:N,key:N,canBegin:m>0,duration:u,easing:c,isActive:h,begin:d},V=>{var M=Ye(C,i,V),L=Ye(j,s,V),B=Ye(T,a,V),G=Ye(A,n,V),ee=Ye(P,r,V);f.current&&(v.current=M,x.current=L,w.current=B,_.current=G,b.current=ee);var Z=V>0?{transition:R,strokeDasharray:O}:{strokeDasharray:k};return g.createElement("path",Wb({},_r(e),{className:E,d:WL(G,ee,M,L,B),ref:f,style:GL(GL({},Z),e.style)}))})},xRe=["option","shapeType","propTransformer","activeClassName","isActive"];function bRe(t,e){if(t==null)return{};var n,r,i=wRe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wRe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function KL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(n),!0).forEach(function(r){_Re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Re(t,e,n){return(e=NRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NRe(t){var e=SRe(t,"string");return typeof e=="symbol"?e:e+""}function SRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ERe(t,e){return Kb(Kb({},e),t)}function jRe(t,e){return t==="symbols"}function YL(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return g.createElement(SW,n);case"trapezoid":return g.createElement(vRe,n);case"sector":return g.createElement(AW,n);case"symbols":if(jRe(e))return g.createElement(UC,n);break;case"curve":return g.createElement(ih,n);default:return null}}function TRe(t){return g.isValidElement(t)?t.props:t}function Sk(t){var{option:e,shapeType:n,propTransformer:r=ERe,activeClassName:i="recharts-active-shape",isActive:s}=t,a=bRe(t,xRe),l;if(g.isValidElement(e))l=g.cloneElement(e,Kb(Kb({},a),TRe(e)));else if(typeof e=="function")l=e(a);else if(fRe(e)&&typeof e!="boolean"){var c=r(e,a);l=g.createElement(YL,{shapeType:n,elementProps:c})}else{var u=a;l=g.createElement(YL,{shapeType:n,elementProps:u})}return s?g.createElement(Qt,{className:i},l):l}var Ek=(t,e)=>{var n=yt();return(r,i)=>s=>{t==null||t(r,i,s),n(fY({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},jk=t=>{var e=yt();return(n,r)=>i=>{t==null||t(n,r,i),e(XIe())}},Tk=(t,e)=>{var n=yt();return(r,i)=>s=>{t==null||t(r,i,s),n(JIe({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function w_(t){var{fn:e,args:n}=t,r=yt(),i=qn();return g.useLayoutEffect(()=>{if(!i){var s=e(n);return r(KIe(s)),()=>{r(YIe(s))}}},[e,n,r,i]),null}function Ak(t){var{legendPayload:e}=t,n=yt(),r=qn();return g.useLayoutEffect(()=>r?Ku:(n(yW(e)),()=>{n(vW(e))}),[n,r,e]),null}function ARe(t){var{legendPayload:e}=t,n=yt(),r=fe(Le);return g.useLayoutEffect(()=>r!=="centric"&&r!=="radial"?Ku:(n(yW(e)),()=>{n(vW(e))}),[n,r,e]),null}var kS,IRe=()=>{var[t]=g.useState(()=>Dg("uid-"));return t},CRe=(kS=KX.useId)!==null&&kS!==void 0?kS:IRe;function uQ(t,e){var n=CRe();return e||(t?"".concat(t,"-").concat(n):n)}var PRe=g.createContext(void 0),__=t=>{var{id:e,type:n,children:r}=t,i=uQ("recharts-".concat(n),e);return g.createElement(PRe.Provider,{value:i},r(i))},kRe={cartesianItems:[],polarItems:[]},dQ=ni({name:"graphicalItems",initialState:kRe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Nn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Ua(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Nn()},removeCartesianGraphicalItem:{reducer(t,e){var n=Ua(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Nn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Nn()},removePolarGraphicalItem:{reducer(t,e){var n=Ua(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Nn()}}}),{addCartesianGraphicalItem:RRe,replaceCartesianGraphicalItem:ORe,removeCartesianGraphicalItem:DRe,addPolarGraphicalItem:MRe,removePolarGraphicalItem:LRe}=dQ.actions,VRe=dQ.reducer;function Ik(t){var e=yt(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?e(RRe(t)):n.current!==t&&e(ORe({prev:n.current,next:t})),n.current=t},[e,t]),g.useLayoutEffect(()=>()=>{n.current&&(e(DRe(n.current)),n.current=null)},[e]),null}function zRe(t){var e=yt();return g.useLayoutEffect(()=>(e(MRe(t)),()=>{e(LRe(t))}),[e,t]),null}var URe=["onMouseEnter","onClick","onMouseLeave"],FRe=["id"],BRe=["id"];function Ck(t,e){if(t==null)return{};var n,r,i=$Re(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $Re(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function QL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QL(Object(n),!0).forEach(function(r){qRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qRe(t,e,n){return(e=HRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HRe(t){var e=GRe(t,"string");return typeof e=="symbol"?e:e+""}function GRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bl(){return Bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bl.apply(null,arguments)}function WRe(t){var e=g.useMemo(()=>_k(t.children,sc),[t.children]),n=fe(r=>oRe(r,t.id,e));return n==null?null:g.createElement(ARe,{legendPayload:n})}function KRe(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:a,name:l,hide:c,tooltipType:u}=t;return{dataDefinedOnItem:r.map(d=>d.tooltipPayload),positions:r.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:e,nameKey:n,name:tc(l,e),hide:c,type:u,color:a,unit:""}}}var YRe=(t,e)=>t>e?"start":t<e?"end":"middle",QRe=(t,e,n)=>br(typeof e=="function"?e(t):e,n,n*.8),XRe=(t,e,n)=>{var{top:r,left:i,width:s,height:a}=e,l=EW(s,a),c=i+br(t.cx,s,s/2),u=r+br(t.cy,a,a/2),d=br(t.innerRadius,l,0),h=QRe(n,t.outerRadius,l),f=t.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:h,maxRadius:f}},JRe=(t,e)=>{var n=Vn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function ZRe(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var eOe=(t,e)=>{if(g.isValidElement(t))return g.cloneElement(t,e);if(typeof t=="function")return t(e);var n=qe("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return g.createElement(ih,Bl({},e,{type:"linear",className:n}))},tOe=(t,e,n)=>{if(g.isValidElement(t))return g.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),g.isValidElement(r)))return r;var i=qe("recharts-pie-label-text",ZRe(t));return g.createElement(o_,Bl({},e,{alignmentBaseline:"middle",className:i}),r)};function nOe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:s,dataKey:a}=n;if(!r||!i||!e)return null;var l=Vr(n),c=Eu(i),u=Eu(s),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,h=e.map((f,m)=>{var y=(f.startAngle+f.endAngle)/2,v=xn(f.cx,f.cy,f.outerRadius+d,y),x=kt(kt(kt(kt({},l),f),{},{stroke:"none"},c),{},{index:m,textAnchor:YRe(v.x,f.cx)},v),w=kt(kt(kt(kt({},l),f),{},{fill:"none",stroke:f.fill},u),{},{index:m,points:[xn(f.cx,f.cy,f.outerRadius,y),v],key:"line"});return g.createElement(Fr,{zIndex:an.label,key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(m)},g.createElement(Qt,null,s&&eOe(s,w),tOe(i,x,at(f,a))))});return g.createElement(Qt,{className:"recharts-pie-labels"},h)}function rOe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?g.createElement(l_,{label:i}):g.createElement(nOe,{sectors:e,props:n,showLabels:r})}function iOe(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i}=t,s=fe(Fl),{onMouseEnter:a,onClick:l,onMouseLeave:c}=i,u=Ck(i,URe),d=Ek(a,i.dataKey),h=jk(c),f=Tk(l,i.dataKey);return e==null||e.length===0?null:g.createElement(g.Fragment,null,e.map((m,y)=>{if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&e.length!==1)return null;var v=n&&String(y)===s,x=s?r:null,w=v?n:x,_=kt(kt({},m),{},{stroke:m.stroke,tabIndex:-1,[aW]:y,[oW]:i.dataKey});return g.createElement(Qt,Bl({key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(y),tabIndex:-1,className:"recharts-pie-sector"},zy(u,m,y),{onMouseEnter:d(m,y),onMouseLeave:h(m,y),onClick:f(m,y)}),g.createElement(Sk,Bl({option:w,isActive:v,shapeType:"sector"},_)))}))}function sOe(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:s}=t,{cornerRadius:a,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:h}=n,f=Math.abs(n.minAngle),m=JRe(l,c),y=Math.abs(m),v=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,x=r.filter(C=>at(C,u,0)!==0).length,w=(y>=360?x:x-1)*v,_=y-x*f-w,b=r.reduce((C,j)=>{var T=at(j,u,0);return C+(ue(T)?T:0)},0),N;if(b>0){var E;N=r.map((C,j)=>{var T=at(C,u,0),A=at(C,d,j),P=XRe(n,s,C),k=(ue(T)?T:0)/b,O,R=kt(kt({},C),i&&i[j]&&i[j].props);j?O=E.endAngle+Vn(m)*v*(T!==0?1:0):O=l;var V=O+Vn(m)*((T!==0?f:0)+k*_),M=(O+V)/2,L=(P.innerRadius+P.outerRadius)/2,B=[{name:A,value:T,payload:R,dataKey:u,type:h}],G=xn(P.cx,P.cy,L,M);return E=kt(kt(kt(kt({},n.presentationProps),{},{percent:k,cornerRadius:typeof a=="string"?parseFloat(a):a,name:A,tooltipPayload:B,midAngle:M,middleRadius:L,tooltipPosition:G},R),P),{},{value:T,startAngle:O,endAngle:V,payload:R,paddingAngle:Vn(m)*v}),E})}return N}function aOe(t){var{showLabels:e,sectors:n,children:r}=t,i=g.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return g.createElement(Hke,{value:e?i:void 0},r)}function oOe(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:h}=e,f=Of(e,"recharts-pie-"),m=n.current,[y,v]=g.useState(!1),x=g.useCallback(()=>{typeof h=="function"&&h(),v(!1)},[h]),w=g.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return g.createElement(aOe,{showLabels:!y,sectors:r},g.createElement(Rf,{animationId:f,begin:s,duration:a,isActive:i,easing:l,onAnimationStart:w,onAnimationEnd:x,key:f},_=>{var b=[],N=r&&r[0],E=N==null?void 0:N.startAngle;return r==null||r.forEach((C,j)=>{var T=m&&m[j],A=j>0?ju(C,"paddingAngle",0):0;if(T){var P=Ye(T.endAngle-T.startAngle,C.endAngle-C.startAngle,_),k=kt(kt({},C),{},{startAngle:E+A,endAngle:E+P+A});b.push(k),E=k.endAngle}else{var{endAngle:O,startAngle:R}=C,V=Ye(0,O-R,_),M=kt(kt({},C),{},{startAngle:E+A,endAngle:E+V+A});b.push(M),E=M.endAngle}}),n.current=b,g.createElement(Qt,null,g.createElement(iOe,{sectors:b,activeShape:c,inactiveShape:u,allOtherPieProps:e}))}),g.createElement(rOe,{showLabels:!y,sectors:r,props:e}),e.children)}var lOe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!_o.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:an.area};function cOe(t){var{id:e}=t,n=Ck(t,FRe),{hide:r,className:i,rootTabIndex:s}=t,a=g.useMemo(()=>_k(t.children,sc),[t.children]),l=fe(d=>lRe(d,e,a)),c=g.useRef(null),u=qe("recharts-pie",i);return r||l==null?(c.current=null,g.createElement(Qt,{tabIndex:s,className:u})):g.createElement(Fr,{zIndex:t.zIndex},g.createElement(w_,{fn:KRe,args:kt(kt({},t),{},{sectors:l})}),g.createElement(Qt,{tabIndex:s,className:u},g.createElement(oOe,{props:kt(kt({},n),{},{sectors:l}),previousSectorsRef:c})))}function hQ(t){var e=en(t,lOe),{id:n}=e,r=Ck(e,BRe),i=Vr(r);return g.createElement(__,{id:n,type:"pie"},s=>g.createElement(g.Fragment,null,g.createElement(zRe,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),g.createElement(WRe,Bl({},r,{id:s})),g.createElement(cOe,Bl({},r,{id:s}))))}hQ.displayName="Pie";var uOe=["points"];function XL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XL(Object(n),!0).forEach(function(r){dOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dOe(t,e,n){return(e=hOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hOe(t){var e=fOe(t,"string");return typeof e=="symbol"?e:e+""}function fOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yb(){return Yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yb.apply(null,arguments)}function mOe(t,e){if(t==null)return{};var n,r,i=pOe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gOe(t){var{option:e,dotProps:n,className:r}=t;if(g.isValidElement(e))return g.cloneElement(e,n);if(typeof e=="function")return e(n);var i=qe(r,typeof e!="boolean"?e.className:""),s=n??{},{points:a}=s,l=mOe(s,uOe);return g.createElement(nQ,Yb({},l,{className:i}))}function yOe(t,e){return t==null?!1:e?!0:t.length===1}function fQ(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:a,needClip:l,clipPathId:c,zIndex:u=an.scatter}=t;if(!yOe(e,n))return null;var d=Nk(n),h=z1e(n),f=e.map((y,v)=>{var x,w,_=RS(RS(RS({r:3},a),h),{},{index:v,cx:(x=y.x)!==null&&x!==void 0?x:void 0,cy:(w=y.y)!==null&&w!==void 0?w:void 0,dataKey:s,value:y.value,payload:y.payload,points:e});return g.createElement(gOe,{key:"dot-".concat(v),option:n,dotProps:_,className:i})}),m={};return l&&c!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),g.createElement(Fr,{zIndex:u},g.createElement(Qt,Yb({className:r},m),f))}function JL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JL(Object(n),!0).forEach(function(r){vOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vOe(t,e,n){return(e=xOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xOe(t){var e=bOe(t,"string");return typeof e=="symbol"?e:e+""}function bOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wOe={xAxis:{},yAxis:{},zAxis:{}},mQ=ni({name:"cartesianAxis",initialState:wOe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Nn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Nn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Nn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Nn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Nn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Nn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var a=[...s,r].slice(-3);t.yAxis[n]=ZL(ZL({},t.yAxis[n]),{},{width:r,widthHistory:a})}}}}),{addXAxis:_Oe,removeXAxis:NOe,addYAxis:SOe,removeYAxis:EOe,addZAxis:b3e,removeZAxis:w3e,updateYAxisWidth:jOe}=mQ.actions,TOe=mQ.reducer,AOe=F([An],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),IOe=F([AOe,bo,wo],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),N_=()=>fe(IOe),COe=()=>fe(VCe);function eV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eV(Object(n),!0).forEach(function(r){POe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function POe(t,e,n){return(e=kOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kOe(t){var e=ROe(t,"string");return typeof e=="symbol"?e:e+""}function ROe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OOe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s}=t;if(i===!1||e.x==null||e.y==null)return null;var a={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},l=OS(OS(OS({},a),Eu(i)),FC(i)),c;return g.isValidElement(i)?c=g.cloneElement(i,l):typeof i=="function"?c=i(l):c=g.createElement(nQ,l),g.createElement(Qt,{className:"recharts-active-dot"},c)};function Pj(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,zIndex:s=an.activeDot}=t,a=fe(Fl),l=COe();if(e==null||l==null)return null;var c=e.find(u=>l.includes(u.payload));return jt(c)?null:g.createElement(Fr,{zIndex:s},g.createElement(OOe,{point:c,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r}))}var DOe="Invariant failed";function MOe(t,e){throw new Error(DOe)}var LOe=["x","y"];function kj(){return kj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kj.apply(null,arguments)}function tV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tV(Object(n),!0).forEach(function(r){VOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VOe(t,e,n){return(e=zOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zOe(t){var e=UOe(t,"string");return typeof e=="symbol"?e:e+""}function UOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FOe(t,e){if(t==null)return{};var n,r,i=BOe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function BOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $Oe(t,e){var{x:n,y:r}=t,i=FOe(t,LOe),s="".concat(n),a=parseInt(s,10),l="".concat(r),c=parseInt(l,10),u="".concat(e.height||i.height),d=parseInt(u,10),h="".concat(e.width||i.width),f=parseInt(h,10);return Mm(Mm(Mm(Mm(Mm({},e),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:d,width:f,name:e.name,radius:e.radius})}function Qb(t){return g.createElement(Sk,kj({shapeType:"rectangle",propTransformer:$Oe,activeClassName:"recharts-active-bar"},t))}var qOe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ue(e))return e;var s=ue(r)||jt(r);return s?e(r,i):(s||MOe(),n)}},HOe={},pQ=ni({name:"errorBars",initialState:HOe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:_3e,replaceErrorBar:N3e,removeErrorBar:S3e}=pQ.actions,GOe=pQ.reducer,WOe=["children"];function KOe(t,e){if(t==null)return{};var n,r,i=YOe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function YOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var QOe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},XOe=g.createContext(QOe);function gQ(t){var{children:e}=t,n=KOe(t,WOe);return g.createElement(XOe.Provider,{value:n},e)}function S_(t,e){var n,r,i=fe(u=>So(u,t)),s=fe(u=>Eo(u,e)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ii.allowDataOverflow,l=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:si.allowDataOverflow,c=a||l;return{needClip:c,needClipX:a,needClipY:l}}function Pk(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=N_(),{needClipX:s,needClipY:a,needClip:l}=S_(e,n);if(!l||!i)return null;var{x:c,y:u,width:d,height:h}=i;return g.createElement("clipPath",{id:"clipPath-".concat(r)},g.createElement("rect",{x:s?c:c-d/2,y:a?u:u-h/2,width:s?d:d*2,height:a?h:h*2}))}function JOe(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&It(t.zIndex)?t.zIndex:e}var ZOe=["onMouseEnter","onMouseLeave","onClick"],eDe=["value","background","tooltipPosition"],tDe=["id"],nDe=["onMouseEnter","onClick","onMouseLeave"];function lo(){return lo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lo.apply(null,arguments)}function nV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nV(Object(n),!0).forEach(function(r){rDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rDe(t,e,n){return(e=iDe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iDe(t){var e=sDe(t,"string");return typeof e=="symbol"?e:e+""}function sDe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xb(t,e){if(t==null)return{};var n,r,i=aDe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aDe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var oDe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:tc(n,e),payload:t}]};function lDe(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:a,unit:l}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:tc(s,e),hide:a,type:t.tooltipType,color:t.fill,unit:l}}}function cDe(t){var e=fe(Fl),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:a,onMouseLeave:l,onClick:c}=s,u=Xb(s,ZOe),d=Ek(a,r),h=jk(l),f=Tk(c,r);if(!i||n==null)return null;var m=Eu(i);return g.createElement(Fr,{zIndex:JOe(i,an.barBackground)},n.map((y,v)=>{var{value:x,background:w,tooltipPosition:_}=y,b=Xb(y,eDe);if(!w)return null;var N=d(y,v),E=h(y,v),C=f(y,v),j=kr(kr(kr(kr(kr({option:i,isActive:String(v)===e},b),{},{fill:"#eee"},w),m),zy(u,y,v)),{},{onMouseEnter:N,onMouseLeave:E,onClick:C,dataKey:r,index:v,className:"recharts-bar-background-rectangle"});return g.createElement(Qb,lo({key:"background-bar-".concat(v)},j))}))}function uDe(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(s=>{var a={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return kr(kr({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return g.createElement(yk,{value:e?i:void 0},n)}function dDe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:a}=t,l=fe(Fl),c=fe(AY),u=n&&String(s)===l&&(c==null||a===c),d=u?n:e;return u?g.createElement(Fr,{zIndex:an.activeBar},g.createElement(Qb,lo({},r,{name:String(r.name)},i,{isActive:u,option:d,index:s,dataKey:a}))):g.createElement(Qb,lo({},r,{name:String(r.name)},i,{isActive:u,option:d,index:s,dataKey:a}))}function hDe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return g.createElement(Qb,lo({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function fDe(t){var e,{data:n,props:r}=t,i=(e=Vr(r))!==null&&e!==void 0?e:{},{id:s}=i,a=Xb(i,tDe),{shape:l,dataKey:c,activeBar:u}=r,{onMouseEnter:d,onClick:h,onMouseLeave:f}=r,m=Xb(r,nDe),y=Ek(d,c),v=jk(f),x=Tk(h,c);return n?g.createElement(g.Fragment,null,n.map((w,_)=>g.createElement(Qt,lo({key:"rectangle-".concat(w==null?void 0:w.x,"-").concat(w==null?void 0:w.y,"-").concat(w==null?void 0:w.value,"-").concat(_),className:"recharts-bar-rectangle"},zy(m,w,_),{onMouseEnter:y(w,_),onMouseLeave:v(w,_),onClick:x(w,_)}),u?g.createElement(dDe,{shape:l,activeBar:u,baseProps:a,entry:w,index:_,dataKey:c}):g.createElement(hDe,{shape:l,baseProps:a,entry:w,index:_,dataKey:c})))):null}function mDe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=e,h=n.current,f=Of(e,"recharts-bar-"),[m,y]=g.useState(!1),v=!m,x=g.useCallback(()=>{typeof u=="function"&&u(),y(!1)},[u]),w=g.useCallback(()=>{typeof d=="function"&&d(),y(!0)},[d]);return g.createElement(uDe,{showLabels:v,rects:r},g.createElement(Rf,{animationId:f,begin:a,duration:l,isActive:s,easing:c,onAnimationEnd:x,onAnimationStart:w,key:f},_=>{var b=_===1?r:r==null?void 0:r.map((N,E)=>{var C=h&&h[E];if(C)return kr(kr({},N),{},{x:Ye(C.x,N.x,_),y:Ye(C.y,N.y,_),width:Ye(C.width,N.width,_),height:Ye(C.height,N.height,_)});if(i==="horizontal"){var j=Ye(0,N.height,_),T=Ye(N.stackedBarStart,N.y,_);return kr(kr({},N),{},{y:T,height:j})}var A=Ye(0,N.width,_),P=Ye(N.stackedBarStart,N.x,_);return kr(kr({},N),{},{width:A,x:P})});return _>0&&(n.current=b??null),b==null?null:g.createElement(Qt,null,g.createElement(fDe,{props:e,data:b}))}),g.createElement(l_,{label:e.label}),e.children)}function pDe(t){var e=g.useRef(null);return g.createElement(mDe,{previousRectanglesRef:e,props:t})}var yQ=0,gDe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:at(t,e)}};class yDe extends g.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:a,needClip:l,background:c,id:u}=this.props;if(e||n==null)return null;var d=qe("recharts-bar",i),h=u;return g.createElement(Qt,{className:d,id:u},l&&g.createElement("defs",null,g.createElement(Pk,{clipPathId:h,xAxisId:s,yAxisId:a})),g.createElement(Qt,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(h,")"):void 0},g.createElement(cDe,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),g.createElement(pDe,this.props)))}}var vDe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!_o.isSsr,legendType:"rect",minPointSize:yQ,xAxisId:0,yAxisId:0,zIndex:an.bar};function xDe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=t,{needClip:h}=S_(e,n),f=kf(),m=qn(),y=_k(t.children,sc),v=fe(_=>WDe(_,e,n,m,t.id,y));if(f!=="vertical"&&f!=="horizontal")return null;var x,w=v==null?void 0:v[0];return w==null||w.height==null||w.width==null?x=0:x=f==="vertical"?w.height/2:w.width/2,g.createElement(gQ,{xAxisId:e,yAxisId:n,data:v,dataPointFormatter:gDe,errorBarOffset:x},g.createElement(yDe,lo({},t,{layout:f,needClip:h,data:v,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function bDe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:a,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:h,offset:f,cells:m,parentViewBox:y,dataStartIndex:v}=t,x=e==="horizontal"?l:a,w=d?x.scale.domain():null,_=BSe({numericAxis:x}),b=x.scale(_);return h.map((N,E)=>{var C,j,T,A,P,k;d?C=LSe(d[E+v],w):(C=at(N,n),Array.isArray(C)||(C=[_,C]));var O=qOe(r,yQ)(C[1],E);if(e==="horizontal"){var R,[V,M]=[l.scale(C[0]),l.scale(C[1])];j=G6({axis:a,ticks:c,bandSize:s,offset:i.offset,entry:N,index:E}),T=(R=M??V)!==null&&R!==void 0?R:void 0,A=i.size;var L=V-M;if(P=es(L)?0:L,k={x:j,y:f.top,width:A,height:f.height},Math.abs(O)>0&&Math.abs(P)<Math.abs(O)){var B=Vn(P||O)*(Math.abs(O)-Math.abs(P));T-=B,P+=B}}else{var[G,ee]=[a.scale(C[0]),a.scale(C[1])];if(j=G,T=G6({axis:l,ticks:u,bandSize:s,offset:i.offset,entry:N,index:E}),A=ee-G,P=i.size,k={x:f.left,y:T,width:f.width,height:P},Math.abs(O)>0&&Math.abs(A)<Math.abs(O)){var Z=Vn(A||O)*(Math.abs(O)-Math.abs(A));A+=Z}}if(j==null||T==null||A==null||P==null)return null;var H=kr(kr({},N),{},{stackedBarStart:b,x:j,y:T,width:A,height:P,value:d?C:C[1],payload:N,background:k,tooltipPosition:{x:j+A/2,y:T+P/2},parentViewBox:y},m&&m[E]&&m[E].props);return H}).filter(Boolean)}function wDe(t){var e=en(t,vDe),n=qn();return g.createElement(__,{id:e.id,type:"bar"},r=>g.createElement(g.Fragment,null,g.createElement(Ak,{legendPayload:oDe(e)}),g.createElement(w_,{fn:lDe,args:e}),g.createElement(Ik,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:iW(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),g.createElement(Fr,{zIndex:e.zIndex},g.createElement(xDe,lo({},e,{id:r})))))}var Wg=g.memo(wDe);Wg.displayName="Bar";function rV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rV(Object(n),!0).forEach(function(r){_De(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _De(t,e,n){return(e=NDe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NDe(t){var e=SDe(t,"string");return typeof e=="symbol"?e:e+""}function SDe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EDe=(t,e)=>e,jDe=(t,e,n)=>n,TDe=(t,e,n,r)=>r,ADe=(t,e,n,r,i)=>i,n0=F([Xy,ADe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),IDe=F([n0],t=>t==null?void 0:t.maxBarSize),CDe=(t,e,n,r,i,s)=>s,iV=(t,e,n)=>{var r=n??t;if(!jt(r))return br(r,e,0)},PDe=F([Le,Xy,EDe,jDe,TDe],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),kDe=(t,e,n,r)=>{var i=Le(t);return i==="horizontal"?Hg(t,"yAxis",n,r):Hg(t,"xAxis",e,r)},RDe=(t,e,n)=>{var r=Le(t);return r==="horizontal"?dL(t,"xAxis",e):dL(t,"yAxis",n)},ODe=(t,e,n)=>{var r={},i=t.filter(J1),s=t.filter(u=>u.stackId==null),a=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),r),l=Object.entries(a).map(u=>{var[d,h]=u,f=h.map(y=>y.dataKey),m=iV(e,n,h[0].barSize);return{stackId:d,dataKeys:f,barSize:m}}),c=s.map(u=>{var d=[u.dataKey].filter(f=>f!=null),h=iV(e,n,u.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...l,...c]},DDe=F([PDe,UAe,RDe],ODe),MDe=(t,e,n,r,i)=>{var s,a,l=n0(t,e,n,r,i);if(l!=null){var c=Le(t),u=AK(t),{maxBarSize:d}=l,h=jt(d)?u:d,f,m;return c==="horizontal"?(f=sa(t,"xAxis",e,r),m=ia(t,"xAxis",e,r)):(f=sa(t,"yAxis",n,r),m=ia(t,"yAxis",n,r)),(s=(a=Ul(f,m,!0))!==null&&a!==void 0?a:h)!==null&&s!==void 0?s:0}},vQ=(t,e,n,r)=>{var i=Le(t),s,a;return i==="horizontal"?(s=sa(t,"xAxis",e,r),a=ia(t,"xAxis",e,r)):(s=sa(t,"yAxis",n,r),a=ia(t,"yAxis",n,r)),Ul(s,a)};function LDe(t,e,n,r,i){var s=r.length;if(!(s<1)){var a=br(t,n,0,!0),l,c=[];if(It(r[0].barSize)){var u=!1,d=n/s,h=r.reduce((w,_)=>w+(_.barSize||0),0);h+=(s-1)*a,h>=n&&(h-=(s-1)*a,a=0),h>=n&&d>0&&(u=!0,d*=.9,h=s*d);var f=(n-h)/2>>0,m={offset:f-a,size:0};l=r.reduce((w,_)=>{var b,N={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:m.offset+m.size+a,size:u?d:(b=_.barSize)!==null&&b!==void 0?b:0}},E=[...w,N];return m=E[E.length-1].position,E},c)}else{var y=br(e,n,0,!0);n-2*y-(s-1)*a<=0&&(a=0);var v=(n-2*y-(s-1)*a)/s;v>1&&(v>>=0);var x=It(i)?Math.min(v,i):v;l=r.reduce((w,_,b)=>[...w,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:y+(v+a)*b+(v-x)/2,size:x}}],c)}return l}}var VDe=(t,e,n,r,i,s,a)=>{var l=jt(a)?e:a,c=LDe(n,r,i!==s?i:s,t,l);return i!==s&&c!=null&&(c=c.map(u=>uv(uv({},u),{},{position:uv(uv({},u.position),{},{offset:u.position.offset-i/2})}))),c},zDe=F([DDe,AK,zAe,IK,MDe,vQ,IDe],VDe),UDe=(t,e,n,r)=>sa(t,"xAxis",e,r),FDe=(t,e,n,r)=>sa(t,"yAxis",n,r),BDe=(t,e,n,r)=>ia(t,"xAxis",e,r),$De=(t,e,n,r)=>ia(t,"yAxis",n,r),qDe=F([zDe,n0],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),HDe=(t,e)=>{var n=X1(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===n)}}}},GDe=F([kDe,n0],HDe),WDe=F([An,sP,UDe,FDe,BDe,$De,qDe,Le,Wy,vQ,GDe,n0,CDe],(t,e,n,r,i,s,a,l,c,u,d,h,f)=>{var{chartData:m,dataStartIndex:y,dataEndIndex:v}=c;if(!(h==null||a==null||e==null||l!=="horizontal"&&l!=="vertical"||n==null||r==null||i==null||s==null||u==null)){var{data:x}=h,w;if(x!=null&&x.length>0?w=x:w=m==null?void 0:m.slice(y,v+1),w!=null)return bDe({layout:l,barSettings:h,pos:a,parentViewBox:e,bandSize:u,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:d,displayedData:w,offset:t,cells:f,dataStartIndex:y})}}),xQ=t=>{var{chartData:e}=t,n=yt(),r=qn();return g.useEffect(()=>r?()=>{}:(n(NL(e)),()=>{n(NL(void 0))}),[e,n,r]),null},sV={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},bQ=ni({name:"brush",initialState:sV,reducers:{setBrushSettings(t,e){return e.payload==null?sV:e.payload}}}),{setBrushSettings:E3e}=bQ.actions,KDe=bQ.reducer;function YDe(t,e,n){return(e=QDe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QDe(t){var e=XDe(t,"string");return typeof e=="symbol"?e:e+""}function XDe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class kk{static create(e){return new kk(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}YDe(kk,"EPS",1e-4);function JDe(t){return(t%180+180)%180}var ZDe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=JDe(i),a=s*Math.PI/180,l=Math.atan(r/n),c=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},eMe={dots:[],areas:[],lines:[]},wQ=ni({name:"referenceElements",initialState:eMe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Ua(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Ua(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Ua(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:j3e,removeDot:T3e,addArea:A3e,removeArea:I3e,addLine:C3e,removeLine:P3e}=wQ.actions,tMe=wQ.reducer,nMe=g.createContext(void 0),rMe=t=>{var{children:e}=t,[n]=g.useState("".concat(Dg("recharts"),"-clip")),r=N_();if(r==null)return null;var{x:i,y:s,width:a,height:l}=r;return g.createElement(nMe.Provider,{value:n},g.createElement("defs",null,g.createElement("clipPath",{id:n},g.createElement("rect",{x:i,y:s,height:l,width:a}))),e)};function ef(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function _Q(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function iMe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return ZDe(r,n)}function sMe(t,e,n){var r=n==="width",{x:i,y:s,width:a,height:l}=t;return e===1?{start:r?i:s,end:r?i+a:s+l}:{start:r?i+a:s+l,end:r?i:s}}function Jb(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function aMe(t,e){return _Q(t,e+1)}function oMe(t,e,n,r,i){for(var s=(r||[]).slice(),{start:a,end:l}=e,c=0,u=1,d=a,h=function(){var y=r==null?void 0:r[c];if(y===void 0)return{v:_Q(r,u)};var v=c,x,w=()=>(x===void 0&&(x=n(y,v)),x),_=y.coordinate,b=c===0||Jb(t,_,w,d,l);b||(c=0,d=a,u+=1),b&&(d=_+t*(w()/2+i),c+=u)},f;u<=s.length;)if(f=h(),f)return f.v;return[]}function aV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aV(Object(n),!0).forEach(function(r){lMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lMe(t,e,n){return(e=cMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cMe(t){var e=uMe(t,"string");return typeof e=="symbol"?e:e+""}function uMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dMe(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,{start:l}=e,{end:c}=e,u=function(f){var m=s[f],y,v=()=>(y===void 0&&(y=n(m,f)),y);if(f===a-1){var x=t*(m.coordinate+t*v()/2-c);s[f]=m=hr(hr({},m),{},{tickCoord:x>0?m.coordinate-x*t:m.coordinate})}else s[f]=m=hr(hr({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var w=Jb(t,m.tickCoord,v,l,c);w&&(c=m.tickCoord-t*(v()/2+i),s[f]=hr(hr({},m),{},{isShow:!0}))}},d=a-1;d>=0;d--)u(d);return s}function hMe(t,e,n,r,i,s){var a=(r||[]).slice(),l=a.length,{start:c,end:u}=e;if(s){var d=r[l-1],h=n(d,l-1),f=t*(d.coordinate+t*h/2-u);if(a[l-1]=d=hr(hr({},d),{},{tickCoord:f>0?d.coordinate-f*t:d.coordinate}),d.tickCoord!=null){var m=Jb(t,d.tickCoord,()=>h,c,u);m&&(u=d.tickCoord-t*(h/2+i),a[l-1]=hr(hr({},d),{},{isShow:!0}))}}for(var y=s?l-1:l,v=function(_){var b=a[_],N,E=()=>(N===void 0&&(N=n(b,_)),N);if(_===0){var C=t*(b.coordinate-t*E()/2-c);a[_]=b=hr(hr({},b),{},{tickCoord:C<0?b.coordinate-C*t:b.coordinate})}else a[_]=b=hr(hr({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var j=Jb(t,b.tickCoord,E,c,u);j&&(c=b.tickCoord+t*(E()/2+i),a[_]=hr(hr({},b),{},{isShow:!0}))}},x=0;x<y;x++)v(x);return a}function Rk(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=t;if(!i||!i.length||!r)return[];if(ue(c)||_o.isSsr){var f;return(f=aMe(i,ue(c)?c:0))!==null&&f!==void 0?f:[]}var m=[],y=l==="top"||l==="bottom"?"width":"height",v=d&&y==="width"?Mp(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=(b,N)=>{var E=typeof u=="function"?u(b.value,N):b.value;return y==="width"?iMe(Mp(E,{fontSize:e,letterSpacing:n}),v,h):Mp(E,{fontSize:e,letterSpacing:n})[y]},w=i.length>=2?Vn(i[1].coordinate-i[0].coordinate):1,_=sMe(s,w,y);return c==="equidistantPreserveStart"?oMe(w,_,x,i,a):(c==="preserveStart"||c==="preserveStartEnd"?m=hMe(w,_,x,i,a,c==="preserveStartEnd"):m=dMe(w,_,x,i,a),m.filter(b=>b.isShow))}var fMe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){Array.from(e).forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>a&&(a=h.width)}});var l=n?n.getBoundingClientRect().width:0,c=i+s,u=a+c+l+(n?r:0);return Math.round(u)}return 0},mMe=["axisLine","width","height","className","hide","ticks","axisType"],pMe=["viewBox"],gMe=["viewBox"];function Rj(t,e){if(t==null)return{};var n,r,i=yMe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Pu(){return Pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pu.apply(null,arguments)}function oV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oV(Object(n),!0).forEach(function(r){vMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vMe(t,e,n){return(e=xMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xMe(t){var e=bMe(t,"string");return typeof e=="symbol"?e:e+""}function bMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ok={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:an.axis};function wMe(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:a,axisLine:l,otherSvgProps:c}=t;if(!l)return null;var u=hn(hn(hn({},c),Vr(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!a||s==="bottom"&&a);u=hn(hn({},u),{},{x1:e,y1:n+d*i,x2:e+r,y2:n+d*i})}else{var h=+(s==="left"&&!a||s==="right"&&a);u=hn(hn({},u),{},{x1:e+h*r,y1:n,x2:e+h*r,y2:n+i})}return g.createElement("line",Pu({},u,{className:qe("recharts-cartesian-axis-line",ju(l,"className"))}))}function _Me(t,e,n,r,i,s,a,l,c){var u,d,h,f,m,y,v=l?-1:1,x=t.tickSize||a,w=ue(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":u=d=t.coordinate,f=n+ +!l*i,h=f-v*x,y=h-v*c,m=w;break;case"left":h=f=t.coordinate,d=e+ +!l*r,u=d-v*x,m=u-v*c,y=w;break;case"right":h=f=t.coordinate,d=e+ +l*r,u=d+v*x,m=u+v*c,y=w;break;default:u=d=t.coordinate,f=n+ +l*i,h=f+v*x,y=h+v*c,m=w;break}return{line:{x1:u,y1:h,x2:d,y2:f},tick:{x:m,y}}}function NMe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function SMe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function EMe(t){var{option:e,tickProps:n,value:r}=t,i,s=qe(n.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(e))i=g.cloneElement(e,hn(hn({},n),{},{className:s}));else if(typeof e=="function")i=e(hn(hn({},n),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=qe(a,e==null?void 0:e.className)),i=g.createElement(o_,Pu({},n,{className:a}),r)}return i}var jMe=g.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:a,unit:l,padding:c,tickTextProps:u,orientation:d,mirror:h,x:f,y:m,width:y,height:v,tickSize:x,tickMargin:w,fontSize:_,letterSpacing:b,getTicksConfig:N,events:E,axisType:C}=t,j=Rk(hn(hn({},N),{},{ticks:n}),_,b),T=NMe(d,h),A=SMe(d,h),P=Vr(N),k=Eu(r),O={};typeof i=="object"&&(O=i);var R=hn(hn({},P),{},{fill:"none"},O),V=j.map(B=>hn({entry:B},_Me(B,f,m,y,v,d,x,h,w))),M=V.map(B=>{var{entry:G,line:ee}=B;return g.createElement(Qt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(G.value,"-").concat(G.coordinate,"-").concat(G.tickCoord)},i&&g.createElement("line",Pu({},R,ee,{className:qe("recharts-cartesian-axis-tick-line",ju(i,"className"))})))}),L=V.map((B,G)=>{var{entry:ee,tick:Z}=B,H=hn(hn(hn(hn({textAnchor:T,verticalAnchor:A},P),{},{stroke:"none",fill:s},k),Z),{},{index:G,payload:ee,visibleTicksCount:j.length,tickFormatter:a,padding:c},u);return g.createElement(Qt,Pu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},zy(E,ee,G)),r&&g.createElement(EMe,{option:r,tickProps:H,value:"".concat(typeof a=="function"?a(ee.value,G):ee.value).concat(l||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(C,"-ticks")},L.length>0&&g.createElement(Fr,{zIndex:an.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(C,"-tick-labels"),ref:e},L)),M.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(C,"-tick-lines")},M))}),TMe=g.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:a,ticks:l,axisType:c}=t,u=Rj(t,mMe),[d,h]=g.useState(""),[f,m]=g.useState(""),y=g.useRef(null);g.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var x;return fMe({ticks:y.current,label:(x=t.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var v=g.useCallback(x=>{if(x){var w=x.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=w;var _=w[0];if(_){var b=window.getComputedStyle(_),N=b.fontSize,E=b.letterSpacing;(N!==d||E!==f)&&(h(N),m(E))}}},[d,f]);return a||r!=null&&r<=0||i!=null&&i<=0?null:g.createElement(Fr,{zIndex:t.zIndex},g.createElement(Qt,{className:qe("recharts-cartesian-axis",s)},g.createElement(wMe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Vr(t)}),g.createElement(jMe,{ref:v,axisType:c,events:u,fontSize:d,getTicksConfig:t,height:t.height,letterSpacing:f,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:l,unit:t.unit,width:t.width,x:t.x,y:t.y}),g.createElement(Ake,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},g.createElement(Vke,{label:t.label,labelRef:t.labelRef}),t.children)))}),AMe=g.memo(TMe,(t,e)=>{var{viewBox:n}=t,r=Rj(t,pMe),{viewBox:i}=e,s=Rj(e,gMe);return ef(n,i)&&ef(r,s)}),Dk=g.forwardRef((t,e)=>{var n=en(t,Ok);return g.createElement(AMe,Pu({},n,{ref:e}))});Dk.displayName="CartesianAxis";var IMe=["x1","y1","x2","y2","key"],CMe=["offset"],PMe=["xAxisId","yAxisId"],kMe=["xAxisId","yAxisId"];function lV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lV(Object(n),!0).forEach(function(r){RMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RMe(t,e,n){return(e=OMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OMe(t){var e=DMe(t,"string");return typeof e=="symbol"?e:e+""}function DMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fc(){return Fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fc.apply(null,arguments)}function Zb(t,e){if(t==null)return{};var n,r,i=MMe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function MMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var LMe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:a,ry:l}=t;return g.createElement("rect",{x:r,y:i,ry:l,width:s,height:a,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function NQ(t){var{option:e,lineItemProps:n}=t,r;if(g.isValidElement(e))r=g.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:a,x2:l,y2:c,key:u}=n,d=Zb(n,IMe),h=(i=Vr(d))!==null&&i!==void 0?i:{},{offset:f}=h,m=Zb(h,CMe);r=g.createElement("line",Fc({},m,{x1:s,y1:a,x2:l,y2:c,fill:"none",key:u}))}return r}function VMe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,l=Zb(t,PMe),c=i.map((u,d)=>{var h=mr(mr({},l),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(d),index:d});return g.createElement(NQ,{key:"line-".concat(d),option:r,lineItemProps:h})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function zMe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,l=Zb(t,kMe),c=i.map((u,d)=>{var h=mr(mr({},l),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(d),index:d});return g.createElement(NQ,{option:r,lineItemProps:h,key:"line-".concat(d)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function UMe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:a,horizontalPoints:l,horizontal:c=!0}=t;if(!c||!e||!e.length||l==null)return null;var u=l.map(h=>Math.round(h+i-i)).sort((h,f)=>h-f);i!==u[0]&&u.unshift(0);var d=u.map((h,f)=>{var m=!u[f+1],y=m?i+a-h:u[f+1]-h;if(y<=0)return null;var v=f%e.length;return g.createElement("rect",{key:"react-".concat(f),y:h,x:r,height:y,width:s,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function FMe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:a,height:l,verticalPoints:c}=t;if(!e||!n||!n.length)return null;var u=c.map(h=>Math.round(h+i-i)).sort((h,f)=>h-f);i!==u[0]&&u.unshift(0);var d=u.map((h,f)=>{var m=!u[f+1],y=m?i+a-h:u[f+1]-h;if(y<=0)return null;var v=f%n.length;return g.createElement("rect",{key:"react-".concat(f),x:h,y:s,width:y,height:l,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var BMe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return nW(Rk(mr(mr(mr({},Ok),n),{},{ticks:rW(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},$Me=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return nW(Rk(mr(mr(mr({},Ok),n),{},{ticks:rW(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},qMe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:an.grid};function Kg(t){var e=oP(),n=lP(),r=pW(),i=mr(mr({},en(t,qMe)),{},{x:ue(t.x)?t.x:r.left,y:ue(t.y)?t.y:r.top,width:ue(t.width)?t.width:r.width,height:ue(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:a,x:l,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:m}=i,y=qn(),v=fe(A=>hL(A,"xAxis",s,y)),x=fe(A=>hL(A,"yAxis",a,y));if(!na(u)||!na(d)||!ue(l)||!ue(c))return null;var w=i.verticalCoordinatesGenerator||BMe,_=i.horizontalCoordinatesGenerator||$Me,{horizontalPoints:b,verticalPoints:N}=i;if((!b||!b.length)&&typeof _=="function"){var E=f&&f.length,C=_({yAxis:x?mr(mr({},x),{},{ticks:E?f:x.ticks}):void 0,width:e??u,height:n??d,offset:r},E?!0:h);Tb(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(b=C)}if((!N||!N.length)&&typeof w=="function"){var j=m&&m.length,T=w({xAxis:v?mr(mr({},v),{},{ticks:j?m:v.ticks}):void 0,width:e??u,height:n??d,offset:r},j?!0:h);Tb(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(N=T)}return g.createElement(Fr,{zIndex:i.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(LMe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),g.createElement(UMe,Fc({},i,{horizontalPoints:b})),g.createElement(FMe,Fc({},i,{verticalPoints:N})),g.createElement(VMe,Fc({},i,{offset:r,horizontalPoints:b,xAxis:v,yAxis:x})),g.createElement(zMe,Fc({},i,{offset:r,verticalPoints:N,xAxis:v,yAxis:x}))))}Kg.displayName="CartesianGrid";var SQ=(t,e,n,r)=>sa(t,"xAxis",e,r),EQ=(t,e,n,r)=>ia(t,"xAxis",e,r),jQ=(t,e,n,r)=>sa(t,"yAxis",n,r),TQ=(t,e,n,r)=>ia(t,"yAxis",n,r),HMe=F([Le,SQ,jQ,EQ,TQ],(t,e,n,r,i)=>ua(t,"xAxis")?Ul(e,r,!1):Ul(n,i,!1)),GMe=(t,e,n,r,i)=>i;function WMe(t){return t.type==="line"}var KMe=F([Xy,GMe],(t,e)=>t.filter(WMe).find(n=>n.id===e)),YMe=F([Le,SQ,jQ,EQ,TQ,KMe,HMe,Wy],(t,e,n,r,i,s,a,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null)){var{dataKey:h,data:f}=s,m;if(f!=null&&f.length>0?m=f:m=c==null?void 0:c.slice(u,d+1),m!=null)return p4e({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:h,bandSize:a,displayedData:m})}});function AQ(t){var e=Eu(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,a=Number(i),l=Number(s);return(Number.isNaN(a)||a<0)&&(a=n),(Number.isNaN(l)||l<0)&&(l=r),{r:a,strokeWidth:l}}return{r:n,strokeWidth:r}}var QMe=["id"],XMe=["type","layout","connectNulls","needClip","shape"],JMe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Yg(){return Yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yg.apply(null,arguments)}function cV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cV(Object(n),!0).forEach(function(r){ZMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZMe(t,e,n){return(e=e4e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e4e(t){var e=t4e(t,"string");return typeof e=="symbol"?e:e+""}function t4e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mk(t,e){if(t==null)return{};var n,r,i=n4e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function n4e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var r4e=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:tc(n,e),payload:t}]};function i4e(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:l,unit:c}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:tc(a,e),hide:l,type:t.tooltipType,color:t.stroke,unit:c}}}var IQ=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function s4e(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var a4e=(t,e,n)=>{var r=n.reduce((h,f)=>h+f);if(!r)return IQ(e,t);for(var i=Math.floor(t/r),s=t%r,a=e-t,l=[],c=0,u=0;c<n.length;u+=n[c],++c)if(u+n[c]>s){l=[...n.slice(0,c),s-u];break}var d=l.length%2===0?[0,a]:[a];return[...s4e(n,i),...l,...d].map(h=>"".concat(h,"px")).join(", ")};function o4e(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:a}=r,{id:l}=r,c=Mk(r,QMe),u=Vr(c);return g.createElement(fQ,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:u,needClip:a,clipPathId:e})}function l4e(t){var{showLabels:e,children:n,points:r}=t,i=g.useMemo(()=>r==null?void 0:r.map(s=>{var a,l,c={x:(a=s.x)!==null&&a!==void 0?a:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Is(Is({},c),{},{value:s.value,payload:s.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return g.createElement(yk,{value:e?i:void 0},n)}function uV(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:a,layout:l,connectNulls:c,needClip:u,shape:d}=s,h=Mk(s,XMe),f=Is(Is({},_r(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(e,")"):void 0,points:r,type:a,layout:l,connectNulls:c,strokeDasharray:i??s.strokeDasharray});return g.createElement(g.Fragment,null,(r==null?void 0:r.length)>1&&g.createElement(Sk,Yg({shapeType:"curve",option:d},f,{pathRef:n})),g.createElement(o4e,{points:r,clipPathId:e,props:s}))}function c4e(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function u4e(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:a,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,animateNewValues:f,width:m,height:y,onAnimationEnd:v,onAnimationStart:x}=n,w=i.current,_=Of(n,"recharts-line-"),[b,N]=g.useState(!1),E=!b,C=g.useCallback(()=>{typeof v=="function"&&v(),N(!1)},[v]),j=g.useCallback(()=>{typeof x=="function"&&x(),N(!0)},[x]),T=c4e(r.current),A=s.current;return g.createElement(l4e,{points:a,showLabels:E},n.children,g.createElement(Rf,{animationId:_,begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:C,onAnimationStart:j,key:_},P=>{var k=Ye(A,T+A,P),O=Math.min(k,T),R;if(c)if(l){var V="".concat(l).split(/[,\s]+/gim).map(B=>parseFloat(B));R=a4e(O,T,V)}else R=IQ(T,O);else R=l==null?void 0:String(l);if(w){var M=w.length/a.length,L=P===1?a:a.map((B,G)=>{var ee=Math.floor(G*M);if(w[ee]){var Z=w[ee];return Is(Is({},B),{},{x:Ye(Z.x,B.x,P),y:Ye(Z.y,B.y,P)})}return f?Is(Is({},B),{},{x:Ye(m*2,B.x,P),y:Ye(y/2,B.y,P)}):Is(Is({},B),{},{x:B.x,y:B.y})});return i.current=L,g.createElement(uV,{props:n,points:L,clipPathId:e,pathRef:r,strokeDasharray:R})}return P>0&&T>0&&(i.current=a,s.current=O),g.createElement(uV,{props:n,points:a,clipPathId:e,pathRef:r,strokeDasharray:R})}),g.createElement(l_,{label:n.label}))}function d4e(t){var{clipPathId:e,props:n}=t,r=g.useRef(null),i=g.useRef(0),s=g.useRef(null);return g.createElement(u4e,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var h4e=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:at(t.payload,e)}};class f4e extends g.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:a,top:l,left:c,width:u,height:d,id:h,needClip:f,zIndex:m}=this.props;if(e)return null;var y=qe("recharts-line",i),v=h,{r:x,strokeWidth:w}=AQ(n),_=Nk(n),b=x*2+w;return g.createElement(Fr,{zIndex:m},g.createElement(Qt,{className:y},f&&g.createElement("defs",null,g.createElement(Pk,{clipPathId:v,xAxisId:s,yAxisId:a}),!_&&g.createElement("clipPath",{id:"clipPath-dots-".concat(v)},g.createElement("rect",{x:c-b/2,y:l-b/2,width:u+b,height:d+b}))),g.createElement(gQ,{xAxisId:s,yAxisId:a,data:r,dataPointFormatter:h4e,errorBarOffset:0},g.createElement(d4e,{props:this.props,clipPathId:v}))),g.createElement(Pj,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var CQ={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!_o.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:an.line};function m4e(t){var e=en(t,CQ),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:h,legendType:f,xAxisId:m,yAxisId:y,id:v}=e,x=Mk(e,JMe),{needClip:w}=S_(m,y),_=N_(),b=kf(),N=qn(),E=fe(P=>YMe(P,m,y,N,v));if(b!=="horizontal"&&b!=="vertical"||E==null||_==null)return null;var{height:C,width:j,x:T,y:A}=_;return g.createElement(f4e,Yg({},x,{id:v,connectNulls:l,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:d,hide:u,label:h,legendType:f,xAxisId:m,yAxisId:y,points:E,layout:b,height:C,width:j,left:T,top:A,needClip:w}))}function p4e(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:l,displayedData:c}=t;return c.map((u,d)=>{var h=at(u,a);if(e==="horizontal"){var f=jb({axis:n,ticks:i,bandSize:l,entry:u,index:d}),m=jt(h)?null:r.scale(h);return{x:f,y:m,value:h,payload:u}}var y=jt(h)?null:n.scale(h),v=jb({axis:r,ticks:s,bandSize:l,entry:u,index:d});return y==null||v==null?null:{x:y,y:v,value:h,payload:u}}).filter(Boolean)}function g4e(t){var e=en(t,CQ),n=qn();return g.createElement(__,{id:e.id,type:"line"},r=>g.createElement(g.Fragment,null,g.createElement(Ak,{legendPayload:r4e(e)}),g.createElement(w_,{fn:i4e,args:e}),g.createElement(Ik,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),g.createElement(m4e,Yg({},e,{id:r}))))}var Xv=g.memo(g4e);Xv.displayName="Line";var PQ=(t,e,n,r)=>sa(t,"xAxis",e,r),kQ=(t,e,n,r)=>ia(t,"xAxis",e,r),RQ=(t,e,n,r)=>sa(t,"yAxis",n,r),OQ=(t,e,n,r)=>ia(t,"yAxis",n,r),y4e=F([Le,PQ,RQ,kQ,OQ],(t,e,n,r,i)=>ua(t,"xAxis")?Ul(e,r,!1):Ul(n,i,!1)),v4e=(t,e,n,r,i)=>i,DQ=F([Xy,v4e],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),x4e=(t,e,n,r,i)=>{var s,a=DQ(t,e,n,r,i);if(a!=null){var l=Le(t),c=ua(l,"xAxis"),u;if(c?u=Hg(t,"yAxis",n,r):u=Hg(t,"xAxis",e,r),u!=null){var{stackId:d}=a,h=X1(a);if(!(d==null||h==null)){var f=(s=u[d])===null||s===void 0?void 0:s.stackedData;return f==null?void 0:f.find(m=>m.key===h)}}}},b4e=F([Le,PQ,RQ,kQ,OQ,x4e,Wy,y4e,DQ,FAe],(t,e,n,r,i,s,a,l,c,u)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:f}=a;if(!(c==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:m}=c,y;if(m&&m.length>0?y=m:y=d==null?void 0:d.slice(h,f+1),y!=null)return z4e({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:h,areaSettings:c,stackedData:s,displayedData:y,chartBaseValue:u,bandSize:l})}}),w4e=["id"],_4e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function su(){return su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},su.apply(null,arguments)}function MQ(t,e){if(t==null)return{};var n,r,i=N4e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function N4e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function dV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dV(Object(n),!0).forEach(function(r){S4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S4e(t,e,n){return(e=E4e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E4e(t){var e=j4e(t,"string");return typeof e=="symbol"?e:e+""}function j4e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ew(t,e){return t&&t!=="none"?t:e}var T4e=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:s,hide:a}=t;return[{inactive:a,dataKey:e,type:s,color:ew(r,i),value:tc(n,e),payload:t}]};function A4e(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:l,unit:c}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:tc(a,e),hide:l,type:t.tooltipType,color:ew(r,s),unit:c}}}function I4e(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:s,dataKey:a}=r,l=Vr(r);return g.createElement(fQ,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:a,baseProps:l,needClip:i,clipPathId:e})}function C4e(t){var{showLabels:e,children:n,points:r}=t,i=r.map(s=>{var a,l,c={x:(a=s.x)!==null&&a!==void 0?a:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Bd(Bd({},c),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return g.createElement(yk,{value:e?i:void 0},n)}function hV(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:s}=t,{layout:a,type:l,stroke:c,connectNulls:u,isRange:d}=s,{id:h}=s,f=MQ(s,w4e),m=Vr(f),y=_r(f);return g.createElement(g.Fragment,null,(e==null?void 0:e.length)>1&&g.createElement(Qt,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},g.createElement(ih,su({},y,{id:h,points:e,connectNulls:u,type:l,baseLine:n,layout:a,stroke:"none",className:"recharts-area-area"})),c!=="none"&&g.createElement(ih,su({},m,{className:"recharts-area-curve",layout:a,type:l,connectNulls:u,fill:"none",points:e})),c!=="none"&&d&&g.createElement(ih,su({},m,{className:"recharts-area-curve",layout:a,type:l,connectNulls:u,fill:"none",points:n}))),g.createElement(I4e,{points:e,props:f,clipPathId:i}))}function P4e(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,s=r[0].y,a=r[r.length-1].y;if(!It(s)||!It(a))return null;var l=e*Math.abs(s-a),c=Math.max(...r.map(u=>u.x||0));return ue(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(u=>u.x||0),c)),ue(c)?g.createElement("rect",{x:0,y:s<a?s:s-l,width:c+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}function k4e(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,s=r[0].x,a=r[r.length-1].x;if(!It(s)||!It(a))return null;var l=e*Math.abs(s-a),c=Math.max(...r.map(u=>u.y||0));return ue(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(u=>u.y||0),c)),ue(c)?g.createElement("rect",{x:s<a?s:s-l,y:0,width:l,height:Math.floor(c+(i?parseInt("".concat(i),10):1))}):null}function R4e(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:s}=t;return n==="vertical"?g.createElement(P4e,{alpha:e,points:r,baseLine:i,strokeWidth:s}):g.createElement(k4e,{alpha:e,points:r,baseLine:i,strokeWidth:s})}function O4e(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=t,{points:a,baseLine:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,onAnimationStart:f,onAnimationEnd:m}=r,y=Of(r,"recharts-area-"),[v,x]=g.useState(!1),w=!v,_=g.useCallback(()=>{typeof m=="function"&&m(),x(!1)},[m]),b=g.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]),N=i.current,E=s.current;return g.createElement(C4e,{showLabels:w,points:a},r.children,g.createElement(Rf,{animationId:y,begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:_,onAnimationStart:b,key:y},C=>{if(N){var j=N.length/a.length,T=C===1?a:a.map((P,k)=>{var O=Math.floor(k*j);if(N[O]){var R=N[O];return Bd(Bd({},P),{},{x:Ye(R.x,P.x,C),y:Ye(R.y,P.y,C)})}return P}),A;return ue(l)?A=Ye(E,l,C):jt(l)||es(l)?A=Ye(E,0,C):A=l.map((P,k)=>{var O=Math.floor(k*j);if(Array.isArray(E)&&E[O]){var R=E[O];return Bd(Bd({},P),{},{x:Ye(R.x,P.x,C),y:Ye(R.y,P.y,C)})}return P}),C>0&&(i.current=T,s.current=A),g.createElement(hV,{points:T,baseLine:A,needClip:e,clipPathId:n,props:r})}return C>0&&(i.current=a,s.current=l),g.createElement(Qt,null,c&&g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(n)},g.createElement(R4e,{alpha:C,points:a,baseLine:l,layout:r.layout,strokeWidth:r.strokeWidth}))),g.createElement(Qt,{clipPath:"url(#animationClipPath-".concat(n,")")},g.createElement(hV,{points:a,baseLine:l,needClip:e,clipPathId:n,props:r})))}),g.createElement(l_,{label:r.label}))}function D4e(t){var{needClip:e,clipPathId:n,props:r}=t,i=g.useRef(null),s=g.useRef();return g.createElement(O4e,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s})}class M4e extends g.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:s,left:a,needClip:l,xAxisId:c,yAxisId:u,width:d,height:h,id:f,baseLine:m,zIndex:y}=this.props;if(e)return null;var v=qe("recharts-area",i),x=f,{r:w,strokeWidth:_}=AQ(n),b=Nk(n),N=w*2+_;return g.createElement(Fr,{zIndex:y},g.createElement(Qt,{className:v},l&&g.createElement("defs",null,g.createElement(Pk,{clipPathId:x,xAxisId:c,yAxisId:u}),!b&&g.createElement("clipPath",{id:"clipPath-dots-".concat(x)},g.createElement("rect",{x:a-N/2,y:s-N/2,width:d+N,height:h+N}))),g.createElement(D4e,{needClip:l,clipPathId:x,props:this.props})),g.createElement(Pj,{points:r,mainColor:ew(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(m)&&g.createElement(Pj,{points:m,mainColor:ew(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var LQ={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!_o.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0,zIndex:an.area};function L4e(t){var e,n=en(t,LQ),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:l,dot:c,fill:u,fillOpacity:d,hide:h,isAnimationActive:f,legendType:m,stroke:y,xAxisId:v,yAxisId:x}=n,w=MQ(n,_4e),_=kf(),b=PY(),{needClip:N}=S_(v,x),E=qn(),{points:C,isRange:j,baseLine:T}=(e=fe(V=>b4e(V,v,x,E,t.id)))!==null&&e!==void 0?e:{},A=N_();if(_!=="horizontal"&&_!=="vertical"||A==null||b!=="AreaChart"&&b!=="ComposedChart")return null;var{height:P,width:k,x:O,y:R}=A;return!C||!C.length?null:g.createElement(M4e,su({},w,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,baseLine:T,connectNulls:l,dot:c,fill:u,fillOpacity:d,height:P,hide:h,layout:_,isAnimationActive:f,isRange:j,legendType:m,needClip:N,points:C,stroke:y,width:k,left:O,top:R,xAxisId:v,yAxisId:x}))}var V4e=(t,e,n,r,i)=>{var s=n??e;if(ue(s))return s;var a=t==="horizontal"?i:r,l=a.scale.domain();if(a.type==="number"){var c=Math.max(l[0],l[1]),u=Math.min(l[0],l[1]);return s==="dataMin"?u:s==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return s==="dataMin"?l[0]:s==="dataMax"?l[1]:l[0]};function z4e(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:a,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:h,yAxisTicks:f,bandSize:m}=t,y=i&&i.length,v=V4e(s,a,n,l,c),x=s==="horizontal",w=!1,_=u.map((N,E)=>{var C;y?C=i[d+E]:(C=at(N,r),Array.isArray(C)?w=!0:C=[v,C]);var j=C[1]==null||y&&!e&&at(N,r)==null;return x?{x:jb({axis:l,ticks:h,bandSize:m,entry:N,index:E}),y:j?null:c.scale(C[1]),value:C,payload:N}:{x:j?null:l.scale(C[1]),y:jb({axis:c,ticks:f,bandSize:m,entry:N,index:E}),value:C,payload:N}}),b;return y||w?b=_.map(N=>{var E=Array.isArray(N.value)?N.value[0]:null;return x?{x:N.x,y:E!=null&&N.y!=null?c.scale(E):null,payload:N.payload}:{x:E!=null?l.scale(E):null,y:N.y,payload:N.payload}}):b=x?c.scale(v):l.scale(v),{points:_,baseLine:b,isRange:w}}function U4e(t){var e=en(t,LQ),n=qn();return g.createElement(__,{id:e.id,type:"area"},r=>g.createElement(g.Fragment,null,g.createElement(Ak,{legendPayload:T4e(e)}),g.createElement(w_,{fn:A4e,args:e}),g.createElement(Ik,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:iW(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),g.createElement(L4e,su({},e,{id:r}))))}var Oj=g.memo(U4e);Oj.displayName="Area";var F4e=["dangerouslySetInnerHTML","ticks"],B4e=["id"],$4e=["domain"],q4e=["domain"];function Dj(){return Dj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dj.apply(null,arguments)}function tw(t,e){if(t==null)return{};var n,r,i=H4e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function H4e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function G4e(t){var e=yt();return g.useLayoutEffect(()=>(e(_Oe(t)),()=>{e(NOe(t))}),[t,e]),null}var W4e=t=>{var{xAxisId:e,className:n}=t,r=fe(sP),i=qn(),s="xAxis",a=fe(x=>Ff(x,s,e,i)),l=fe(x=>oY(x,s,e,i)),c=fe(x=>rY(x,e)),u=fe(x=>VIe(x,e)),d=fe(x=>LK(x,e));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:f}=t,m=tw(t,F4e),{id:y}=d,v=tw(d,B4e);return g.createElement(Dk,Dj({},m,v,{scale:a,x:u.x,y:u.y,width:c.width,height:c.height,className:qe("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l,axisType:s}))},K4e={allowDataOverflow:ii.allowDataOverflow,allowDecimals:ii.allowDecimals,allowDuplicatedCategory:ii.allowDuplicatedCategory,height:ii.height,hide:!1,mirror:ii.mirror,orientation:ii.orientation,padding:ii.padding,reversed:ii.reversed,scale:ii.scale,tickCount:ii.tickCount,type:ii.type,xAxisId:0},Y4e=t=>{var e,n,r,i,s,a=en(t,K4e);return g.createElement(g.Fragment,null,g.createElement(G4e,{interval:(e=a.interval)!==null&&e!==void 0?e:"preserveEnd",id:a.xAxisId,scale:a.scale,type:a.type,padding:a.padding,allowDataOverflow:a.allowDataOverflow,domain:a.domain,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,includeHidden:(n=a.includeHidden)!==null&&n!==void 0?n:!1,reversed:a.reversed,ticks:a.ticks,height:a.height,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(r=a.angle)!==null&&r!==void 0?r:0,minTickGap:(i=a.minTickGap)!==null&&i!==void 0?i:5,tick:(s=a.tick)!==null&&s!==void 0?s:!0,tickFormatter:a.tickFormatter}),g.createElement(W4e,a))},Q4e=(t,e)=>{var{domain:n}=t,r=tw(t,$4e),{domain:i}=e,s=tw(e,q4e);return ef(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:ef({domain:n},{domain:i}):!1},tf=g.memo(Y4e,Q4e);tf.displayName="XAxis";var X4e=["dangerouslySetInnerHTML","ticks"],J4e=["id"],Z4e=["domain"],e5e=["domain"];function Mj(){return Mj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mj.apply(null,arguments)}function nw(t,e){if(t==null)return{};var n,r,i=t5e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function t5e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function n5e(t){var e=yt();return g.useLayoutEffect(()=>(e(SOe(t)),()=>{e(EOe(t))}),[t,e]),null}var r5e=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=g.useRef(null),a=g.useRef(null),l=fe(sP),c=qn(),u=yt(),d="yAxis",h=fe(E=>Ff(E,d,e,c)),f=fe(E=>iY(E,e)),m=fe(E=>UIe(E,e)),y=fe(E=>oY(E,d,e,c)),v=fe(E=>VK(E,e));if(g.useLayoutEffect(()=>{if(!(r!=="auto"||!f||gk(i)||g.isValidElement(i)||v==null)){var E=s.current;if(E){var C=E.getCalculatedWidth();Math.round(f.width)!==Math.round(C)&&u(jOe({id:e,width:C}))}}},[y,f,u,i,e,r,v]),f==null||m==null||v==null)return null;var{dangerouslySetInnerHTML:x,ticks:w}=t,_=nw(t,X4e),{id:b}=v,N=nw(v,J4e);return g.createElement(Dk,Mj({},_,N,{ref:s,labelRef:a,scale:h,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:qe("recharts-".concat(d," ").concat(d),n),viewBox:l,ticks:y,axisType:d}))},i5e={allowDataOverflow:si.allowDataOverflow,allowDecimals:si.allowDecimals,allowDuplicatedCategory:si.allowDuplicatedCategory,hide:!1,mirror:si.mirror,orientation:si.orientation,padding:si.padding,reversed:si.reversed,scale:si.scale,tickCount:si.tickCount,type:si.type,width:si.width,yAxisId:0},s5e=t=>{var e,n,r,i,s,a=en(t,i5e);return g.createElement(g.Fragment,null,g.createElement(n5e,{interval:(e=a.interval)!==null&&e!==void 0?e:"preserveEnd",id:a.yAxisId,scale:a.scale,type:a.type,domain:a.domain,allowDataOverflow:a.allowDataOverflow,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,padding:a.padding,includeHidden:(n=a.includeHidden)!==null&&n!==void 0?n:!1,reversed:a.reversed,ticks:a.ticks,width:a.width,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(r=a.angle)!==null&&r!==void 0?r:0,minTickGap:(i=a.minTickGap)!==null&&i!==void 0?i:5,tick:(s=a.tick)!==null&&s!==void 0?s:!0,tickFormatter:a.tickFormatter}),g.createElement(r5e,a))},a5e=(t,e)=>{var{domain:n}=t,r=nw(t,Z4e),{domain:i}=e,s=nw(e,e5e);return ef(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:ef({domain:n},{domain:i}):!1},nf=g.memo(s5e,a5e);nf.displayName="YAxis";var o5e={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0=g;function l5e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var c5e=typeof Object.is=="function"?Object.is:l5e,u5e=r0.useSyncExternalStore,d5e=r0.useRef,h5e=r0.useEffect,f5e=r0.useMemo,m5e=r0.useDebugValue;o5e.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=d5e(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=f5e(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&a.hasValue){var y=a.value;if(i(y,m))return h=y}return h=m}if(y=h,c5e(d,m))return y;var v=r(m);return i!==void 0&&i(y,v)?(d=m,y):(d=m,h=v)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,n,r,i]);var l=u5e(t,s[0],s[1]);return h5e(function(){a.hasValue=!0,a.value=l},[l]),m5e(l),l};function p5e(t){t()}function g5e(){let t=null,e=null;return{clear(){t=null,e=null},notify(){p5e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var fV={notify(){},get:()=>[]};function y5e(t,e){let n,r=fV,i=0,s=!1;function a(v){d();const x=r.subscribe(v);let w=!1;return()=>{w||(w=!0,x(),h())}}function l(){r.notify()}function c(){y.onStateChange&&y.onStateChange()}function u(){return s}function d(){i++,n||(n=t.subscribe(c),r=g5e())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=fV)}function f(){s||(s=!0,d())}function m(){s&&(s=!1,h())}const y={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>r};return y}var v5e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",x5e=v5e(),b5e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",w5e=b5e(),_5e=()=>x5e||w5e?g.useLayoutEffect:g.useEffect,N5e=_5e(),DS=Symbol.for("react-redux-context"),MS=typeof globalThis<"u"?globalThis:{};function S5e(){if(!g.createContext)return{};const t=MS[DS]??(MS[DS]=new Map);let e=t.get(g.createContext);return e||(e=g.createContext(null),t.set(g.createContext,e)),e}var E5e=S5e();function j5e(t){const{children:e,context:n,serverState:r,store:i}=t,s=g.useMemo(()=>{const c=y5e(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),a=g.useMemo(()=>i.getState(),[i]);N5e(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const l=n||E5e;return g.createElement(l.Provider,{value:s},e)}var T5e=j5e,A5e=(t,e)=>e,Lk=F([A5e,Le,DK,Cn,SY,jo,QCe,An],rPe),Vk=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},VQ=ts("mouseClick"),zQ=Fy();zQ.startListening({actionCreator:VQ,effect:(t,e)=>{var n=t.payload,r=Lk(e.getState(),Vk(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(ZIe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Lj=ts("mouseMove"),UQ=Fy();UQ.startListening({actionCreator:Lj,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=ok(r,r.tooltip.settings.shared),s=Lk(r,Vk(n));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?e.dispatch(pY({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(mY()))}});var mV={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},FQ=ni({name:"rootProps",initialState:mV,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:mV.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue}}}),I5e=FQ.reducer,{updateOptions:C5e}=FQ.actions,BQ=ni({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:P5e}=BQ.actions,k5e=BQ.reducer,$Q=ts("keyDown"),qQ=ts("focus"),zk=Fy();zk.startListening({actionCreator:$Q,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(lk(i,$f(n))),l=jo(n);if(s==="Enter"){var c=Hb(n,"axis","hover",String(i.index));e.dispatch(Ej({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=qIe(n),d=u==="left-to-right"?1:-1,h=s==="ArrowRight"?1:-1,f=a+h*d;if(!(l==null||f>=l.length||f<0)){var m=Hb(n,"axis","hover",String(f));e.dispatch(Ej({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});zk.startListening({actionCreator:qQ,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",a=Hb(n,"axis","hover",String(s));e.dispatch(Ej({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Ri=ts("externalEvent"),HQ=Fy();HQ.startListening({actionCreator:Ri,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:DCe(n),activeDataKey:AY(n),activeIndex:Fl(n),activeLabel:TY(n),activeTooltipIndex:Fl(n),isTooltipActive:MCe(n)};t.payload.handler(r,t.payload.reactEvent)}}});var R5e=F([Bf],t=>t.tooltipItemPayloads),O5e=F([R5e,e0,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,n);return a}}}),GQ=ts("touchMove"),WQ=Fy();WQ.startListening({actionCreator:GQ,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=ok(r,r.tooltip.settings.shared);if(i==="axis"){var s=Lk(r,Vk({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(pY({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,l=n.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(aW),d=(a=c.getAttribute(oW))!==null&&a!==void 0?a:void 0,h=O5e(e.getState(),u,d);e.dispatch(fY({activeDataKey:d,activeIndex:u,activeCoordinate:h}))}}}});var D5e=CG({brush:KDe,cartesianAxis:TOe,chartData:RPe,errorBars:GOe,graphicalItems:VRe,layout:PSe,legend:N2e,options:APe,polarAxis:tRe,polarOptions:k5e,referenceElements:tMe,rootProps:I5e,tooltip:eCe,zIndex:yPe}),M5e=function(e){return nSe({reducer:D5e,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([zQ.middleware,UQ.middleware,zk.middleware,HQ.middleware,WQ.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(BG({type:"raf"}))},devTools:_o.devToolsEnabled})};function KQ(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=qn(),s=g.useRef(null);if(i)return n;s.current==null&&(s.current=M5e(e));var a=XC;return g.createElement(T5e,{context:a,store:s.current},n)}function YQ(t){var{layout:e,margin:n}=t,r=yt(),i=qn();return g.useEffect(()=>{i||(r(ASe(e)),r(TSe(n)))},[r,i,e,n]),null}function QQ(t){var e=yt();return g.useEffect(()=>{e(C5e(t))},[e,t]),null}function pV(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=uQ("".concat(r).concat(e)),s=yt();return g.useLayoutEffect(()=>(s(pPe({zIndex:e,elementId:i,isPanorama:n})),()=>{s(gPe({zIndex:e,isPanorama:n}))}),[s,e,i,n]),g.createElement("g",{id:i})}function gV(t){var{children:e,isPanorama:n}=t,r=fe(sPe);if(!r||r.length===0)return e;var i=r.filter(a=>a<0),s=r.filter(a=>a>0);return g.createElement(g.Fragment,null,i.map(a=>g.createElement(pV,{key:a,zIndex:a,isPanorama:n})),e,s.map(a=>g.createElement(pV,{key:a,zIndex:a,isPanorama:n})))}var L5e=["children"];function V5e(t,e){if(t==null)return{};var n,r,i=z5e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function z5e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rw(){return rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rw.apply(null,arguments)}var U5e={width:"100%",height:"100%",display:"block"},F5e=g.forwardRef((t,e)=>{var n=oP(),r=lP(),i=xW();if(!na(n)||!na(r))return null;var{children:s,otherAttributes:a,title:l,desc:c}=t,u,d;return a!=null&&(typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0),g.createElement(DC,rw({},a,{title:l,desc:c,role:d,tabIndex:u,width:n,height:r,style:U5e,ref:e}),s)}),B5e=t=>{var{children:e}=t,n=fe(z1);if(!n)return null;var{width:r,height:i,y:s,x:a}=n;return g.createElement(DC,{width:r,height:i,x:a,y:s},e)},yV=g.forwardRef((t,e)=>{var{children:n}=t,r=V5e(t,L5e),i=qn();return i?g.createElement(B5e,null,g.createElement(gV,{isPanorama:!0},n)):g.createElement(F5e,rw({ref:e},r),g.createElement(gV,{isPanorama:!1},n))});function $5e(){var t=yt(),[e,n]=g.useState(null),r=fe(KSe);return g.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;It(s)&&s!==r&&t(CSe(s))}},[e,t,r]),n}function vV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q5e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vV(Object(n),!0).forEach(function(r){H5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H5e(t,e,n){return(e=G5e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G5e(t){var e=W5e(t,"string");return typeof e=="symbol"?e:e+""}function W5e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ku(){return ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ku.apply(null,arguments)}var K5e=()=>(BPe(),null);function iw(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Y5e=g.forwardRef((t,e)=>{var n,r,i=g.useRef(null),[s,a]=g.useState({containerWidth:iw((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:iw((r=t.style)===null||r===void 0?void 0:r.height)}),l=g.useCallback((u,d)=>{a(h=>{var f=Math.round(u),m=Math.round(d);return h.containerWidth===f&&h.containerHeight===m?h:{containerWidth:f,containerHeight:m}})},[]),c=g.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:h}=u.getBoundingClientRect();l(d,h);var f=y=>{var{width:v,height:x}=y[0].contentRect;l(v,x)},m=new ResizeObserver(f);m.observe(u),i.current=m}},[e,l]);return g.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[l]),g.createElement(g.Fragment,null,g.createElement(F1,{width:s.containerWidth,height:s.containerHeight}),g.createElement("div",ku({ref:c},t)))}),Q5e=g.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=g.useState({containerWidth:iw(n),containerHeight:iw(r)}),a=g.useCallback((c,u)=>{s(d=>{var h=Math.round(c),f=Math.round(u);return d.containerWidth===h&&d.containerHeight===f?d:{containerWidth:h,containerHeight:f}})},[]),l=g.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();a(u,d)}},[e,a]);return g.createElement(g.Fragment,null,g.createElement(F1,{width:i.containerWidth,height:i.containerHeight}),g.createElement("div",ku({ref:l},t)))}),X5e=g.forwardRef((t,e)=>{var{width:n,height:r}=t;return g.createElement(g.Fragment,null,g.createElement(F1,{width:n,height:r}),g.createElement("div",ku({ref:e},t)))}),J5e=g.forwardRef((t,e)=>{var{width:n,height:r}=t;return no(n)||no(r)?g.createElement(Q5e,ku({},t,{ref:e})):g.createElement(X5e,ku({},t,{ref:e}))});function Z5e(t){return t===!0?Y5e:J5e}var e6e=g.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:m,onTouchMove:y,onTouchStart:v,style:x,width:w,responsive:_,dispatchTouchEvents:b=!0}=t,N=g.useRef(null),E=yt(),[C,j]=g.useState(null),[T,A]=g.useState(null),P=$5e(),k=aP(),O=(k==null?void 0:k.width)>0?k.width:w,R=(k==null?void 0:k.height)>0?k.height:i,V=g.useCallback(W=>{P(W),typeof e=="function"&&e(W),j(W),A(W),W!=null&&(N.current=W)},[P,e,j,A]),M=g.useCallback(W=>{E(VQ(W)),E(Ri({handler:s,reactEvent:W}))},[E,s]),L=g.useCallback(W=>{E(Lj(W)),E(Ri({handler:u,reactEvent:W}))},[E,u]),B=g.useCallback(W=>{E(mY()),E(Ri({handler:d,reactEvent:W}))},[E,d]),G=g.useCallback(W=>{E(Lj(W)),E(Ri({handler:h,reactEvent:W}))},[E,h]),ee=g.useCallback(()=>{E(qQ())},[E]),Z=g.useCallback(W=>{E($Q(W.key))},[E]),H=g.useCallback(W=>{E(Ri({handler:a,reactEvent:W}))},[E,a]),oe=g.useCallback(W=>{E(Ri({handler:l,reactEvent:W}))},[E,l]),xe=g.useCallback(W=>{E(Ri({handler:c,reactEvent:W}))},[E,c]),re=g.useCallback(W=>{E(Ri({handler:f,reactEvent:W}))},[E,f]),ve=g.useCallback(W=>{E(Ri({handler:v,reactEvent:W}))},[E,v]),ne=g.useCallback(W=>{b&&E(GQ(W)),E(Ri({handler:y,reactEvent:W}))},[E,b,y]),ie=g.useCallback(W=>{E(Ri({handler:m,reactEvent:W}))},[E,m]),je=Z5e(_);return g.createElement(LY.Provider,{value:C},g.createElement(CH.Provider,{value:T},g.createElement(je,{width:O??(x==null?void 0:x.width),height:R??(x==null?void 0:x.height),className:qe("recharts-wrapper",r),style:q5e({position:"relative",cursor:"default",width:O,height:R},x),onClick:M,onContextMenu:H,onDoubleClick:oe,onFocus:ee,onKeyDown:Z,onMouseDown:xe,onMouseEnter:L,onMouseLeave:B,onMouseMove:G,onMouseUp:re,onTouchEnd:ie,onTouchMove:ne,onTouchStart:ve,ref:V},g.createElement(K5e,null),n)))}),t6e=["width","height","responsive","children","className","style","compact","title","desc"];function n6e(t,e){if(t==null)return{};var n,r,i=r6e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function r6e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var XQ=g.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:a,style:l,compact:c,title:u,desc:d}=t,h=n6e(t,t6e),f=Vr(h);return c?g.createElement(g.Fragment,null,g.createElement(F1,{width:n,height:r}),g.createElement(yV,{otherAttributes:f,title:u,desc:d},s)):g.createElement(e6e,{className:a,style:l,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},g.createElement(yV,{otherAttributes:f,title:u,desc:d,ref:e},g.createElement(rMe,null,s)))});function Vj(){return Vj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vj.apply(null,arguments)}var i6e={top:5,right:5,bottom:5,left:5},s6e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:i6e,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Uk=g.forwardRef(function(e,n){var r,i=en(e.categoricalChartProps,s6e),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=e,d={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return g.createElement(KQ,{preloadedState:{options:d},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:s},g.createElement(xQ,{chartData:u.data}),g.createElement(YQ,{layout:i.layout,margin:i.margin}),g.createElement(QQ,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),g.createElement(XQ,Vj({},i,{ref:n})))}),a6e=["axis"],o6e=g.forwardRef((t,e)=>g.createElement(Uk,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:a6e,tooltipPayloadSearcher:a_,categoricalChartProps:t,ref:e})),l6e=["axis","item"],Fk=g.forwardRef((t,e)=>g.createElement(Uk,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:l6e,tooltipPayloadSearcher:a_,categoricalChartProps:t,ref:e}));function c6e(t){var e=yt();return g.useEffect(()=>{e(P5e(t))},[e,t]),null}var u6e=["layout"];function zj(){return zj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zj.apply(null,arguments)}function d6e(t,e){if(t==null)return{};var n,r,i=h6e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function h6e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var f6e={top:5,right:5,bottom:5,left:5},m6e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:f6e,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},p6e=g.forwardRef(function(e,n){var r,i=en(e.categoricalChartProps,m6e),{layout:s}=i,a=d6e(i,u6e),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=e,h={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return g.createElement(KQ,{preloadedState:{options:h},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:l},g.createElement(xQ,{chartData:i.data}),g.createElement(YQ,{layout:s,margin:i.margin}),g.createElement(QQ,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),g.createElement(c6e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),g.createElement(XQ,zj({},a,{ref:n})))}),g6e=["item"],y6e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},v6e=g.forwardRef((t,e)=>{var n=en(t,y6e);return g.createElement(p6e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:g6e,tooltipPayloadSearcher:a_,categoricalChartProps:n,ref:e})}),x6e=["axis"],b6e=g.forwardRef((t,e)=>g.createElement(Uk,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:x6e,tooltipPayloadSearcher:a_,categoricalChartProps:t,ref:e}));const w6e=({data:t,showOrders:e=!0,type:n="area"})=>{const r=({active:i,payload:s,label:a})=>i&&s&&s.length?o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border border-gray-200",children:[o.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:a}),o.jsxs("p",{className:"text-sm text-blue-600",children:["Revenue: ",s[0].value.toLocaleString("en-US",{minimumFractionDigits:2})]}),e&&s[1]&&o.jsxs("p",{className:"text-sm text-green-600",children:["Orders: ",s[1].value]}),s[2]&&o.jsxs("p",{className:"text-sm text-purple-600",children:["Avg Order: ",s[2].value.toLocaleString("en-US",{minimumFractionDigits:2})]})]}):null;return n==="area"?o.jsx(Wh,{width:"100%",height:"100%",children:o.jsxs(b6e,{data:t,children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),o.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]}),e&&o.jsxs("linearGradient",{id:"colorOrders",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.3}),o.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]})]}),o.jsx(Kg,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),o.jsx(tf,{dataKey:"date",stroke:"#6B7280",style:{fontSize:"12px"}}),o.jsx(nf,{stroke:"#6B7280",style:{fontSize:"12px"},tickFormatter:i=>`${i.toLocaleString()}`}),o.jsx(Zh,{content:o.jsx(r,{}),cursor:!1,wrapperStyle:{outline:"none"}}),o.jsx(Yh,{wrapperStyle:{paddingTop:"20px"},iconType:"circle"}),o.jsx(Oj,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenue)",name:"Revenue"}),e&&o.jsx(Oj,{type:"monotone",dataKey:"orders",stroke:"#10B981",strokeWidth:2,fillOpacity:1,fill:"url(#colorOrders)",name:"Orders"})]})}):o.jsx(Wh,{width:"100%",height:"100%",children:o.jsxs(o6e,{data:t,children:[o.jsx(Kg,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),o.jsx(tf,{dataKey:"date",stroke:"#6B7280",style:{fontSize:"12px"}}),o.jsx(nf,{stroke:"#6B7280",style:{fontSize:"12px"},tickFormatter:i=>`${i.toLocaleString()}`}),o.jsx(Zh,{content:o.jsx(r,{}),cursor:!1,wrapperStyle:{outline:"none"}}),o.jsx(Yh,{wrapperStyle:{paddingTop:"20px"},iconType:"circle"}),o.jsx(Xv,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",strokeWidth:3,dot:{fill:"#3B82F6",r:4},activeDot:{r:6},name:"Revenue"}),e&&o.jsx(Xv,{type:"monotone",dataKey:"orders",stroke:"#10B981",strokeWidth:3,dot:{fill:"#10B981",r:4},activeDot:{r:6},name:"Orders"}),o.jsx(Xv,{type:"monotone",dataKey:"averageOrderValue",stroke:"#8B5CF6",strokeWidth:2,strokeDasharray:"5 5",dot:{fill:"#8B5CF6",r:3},name:"Avg Order Value"})]})})},xV=["#3B82F6","#10B981","#F59E0B","#8B5CF6","#EC4899","#14B8A6","#F97316","#6366F1","#EF4444","#06B6D4"],_6e=({data:t,showRevenue:e=!0})=>{const n=({active:r,payload:i,label:s})=>r&&i&&i.length?o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border border-gray-200",children:[o.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:s}),o.jsxs("p",{className:"text-sm text-blue-600",children:["Quantity Sold: ",i[0].value]}),e&&i[1]&&o.jsxs("p",{className:"text-sm text-green-600",children:["Revenue: ",i[1].value.toLocaleString("en-US",{minimumFractionDigits:2})]})]}):null;return t.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[o.jsx(Kc,{className:"w-12 h-12 mb-3 opacity-50"}),o.jsx("p",{children:"No sales data available"})]}):o.jsx(Wh,{width:"100%",height:"100%",children:o.jsxs(Fk,{data:t,layout:"vertical",margin:{top:5,right:30,left:10,bottom:5},children:[o.jsx(Kg,{strokeDasharray:"3 3",stroke:"#E5E7EB",horizontal:!1,vertical:!0}),o.jsx(tf,{type:"number",stroke:"#9CA3AF",style:{fontSize:"12px"},axisLine:!1,tickLine:!1}),o.jsx(nf,{type:"category",dataKey:"productName",stroke:"#4B5563",style:{fontSize:"12px",fontWeight:500},width:100,tickFormatter:r=>r.length>12?r.substring(0,12)+"...":r,axisLine:!1,tickLine:!1}),o.jsx(Zh,{content:o.jsx(n,{}),cursor:{fill:"#F3F4F6",opacity:.5},wrapperStyle:{outline:"none"}}),o.jsx(Yh,{wrapperStyle:{paddingTop:"10px"},iconType:"circle"}),o.jsx(Wg,{dataKey:"quantity",name:"Quantity Sold",radius:[0,4,4,0],barSize:32,background:{fill:"#F9FAFB",radius:4},children:t.map((r,i)=>o.jsx(sc,{fill:xV[i%xV.length]},`cell-${i}`))})]})})},bV={"Coffee Based":"#8B4513","Non-Coffee Based":"#D2691E","Matcha Series":"#90EE90",Refreshments:"#87CEEB",Meals:"#FFD700",Other:"#9CA3AF"},N6e=({data:t})=>{const e=({active:s,payload:a})=>{if(s&&a&&a.length){const l=a[0].payload,c=(l.revenue/l.total*100).toFixed(1);return o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border border-gray-200",children:[o.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:l.category}),o.jsxs("p",{className:"text-sm text-blue-600",children:["Revenue: ",l.revenue.toLocaleString("en-US",{minimumFractionDigits:2})]}),o.jsxs("p",{className:"text-sm text-green-600",children:["Orders: ",l.orders]}),o.jsxs("p",{className:"text-sm text-purple-600",children:["Share: ",c,"%"]})]})}return null},n=({cx:s,cy:a,midAngle:l,innerRadius:c,outerRadius:u,percent:d})=>{const h=Math.PI/180,f=c+(u-c)*.5,m=s+f*Math.cos(-l*h),y=a+f*Math.sin(-l*h);return d<.05?null:o.jsx("text",{x:m,y,fill:"white",textAnchor:m>s?"start":"end",dominantBaseline:"central",className:"font-semibold text-sm",children:`${(d*100).toFixed(0)}%`})};if(t.length===0)return o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[o.jsx(Xi,{className:"w-12 h-12 mb-3 opacity-50"}),o.jsx("p",{children:"No category data available"})]});const r=t.reduce((s,a)=>s+a.revenue,0),i=t.map(s=>({...s,total:r}));return o.jsx(Wh,{width:"100%",height:"100%",children:o.jsxs(v6e,{children:[o.jsx(hQ,{data:i,cx:"50%",cy:"50%",labelLine:!1,label:n,outerRadius:100,fill:"#8884d8",dataKey:"revenue",animationBegin:0,animationDuration:800,children:i.map((s,a)=>o.jsx(sc,{fill:bV[s.category]||bV.Other},`cell-${a}`))}),o.jsx(Zh,{content:o.jsx(e,{}),wrapperStyle:{outline:"none"}}),o.jsx(Yh,{verticalAlign:"bottom",height:36,iconType:"circle",formatter:(s,a)=>{const l=(a.payload.revenue/r*100).toFixed(1);return`${s} (${l}%)`}})]})})},S6e=({data:t})=>{const e=({active:s,payload:a,label:l})=>s&&a&&a.length?o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border border-gray-200",children:[o.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:n(l)}),o.jsxs("p",{className:"text-sm text-blue-600",children:["Orders: ",a[0].value]}),o.jsxs("p",{className:"text-sm text-green-600",children:["Revenue: ",a[1].value.toLocaleString("en-US",{minimumFractionDigits:2})]})]}):null,n=s=>{const a=s>=12?"PM":"AM";return`${s===0?12:s>12?s-12:s}:00 ${a}`},r=(s,a)=>{const l=s/a;return l>.7?"#EF4444":l>.4?"#F59E0B":"#3B82F6"};if(t.length===0)return o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[o.jsx(ca,{className:"w-12 h-12 mb-3 opacity-50"}),o.jsx("p",{children:"No peak hours data available"})]});const i=Math.max(...t.map(s=>s.orders));return o.jsx(Wh,{width:"100%",height:"100%",children:o.jsxs(Fk,{data:t,children:[o.jsx(Kg,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),o.jsx(tf,{dataKey:"hour",stroke:"#6B7280",style:{fontSize:"11px"},tickFormatter:n,interval:0,angle:-45,textAnchor:"end",height:70}),o.jsx(nf,{stroke:"#6B7280",style:{fontSize:"12px"}}),o.jsx(Zh,{content:o.jsx(e,{}),cursor:!1,wrapperStyle:{outline:"none"}}),o.jsx(Yh,{wrapperStyle:{paddingTop:"10px"},iconType:"circle"}),o.jsx(Wg,{dataKey:"orders",name:"Orders",radius:[8,8,0,0],children:t.map((s,a)=>o.jsx(sc,{fill:r(s.orders,i)},`cell-orders-${a}`))}),o.jsx(Wg,{dataKey:"revenue",name:"Revenue ()",fill:"#10B981",radius:[8,8,0,0],opacity:.7})]})})},JQ=()=>{const[t,e]=g.useState("today"),{salesData:n,topProducts:r,categorySales:i,peakHours:s,isLoading:a}=C1e(t),l=[{value:"today",label:"Today",icon:Vs},{value:"week",label:"This Week",icon:Vs},{value:"month",label:"This Month",icon:Vs},{value:"year",label:"This Year",icon:Vs}],c=n.reduce((h,f)=>h+f.revenue,0),u=n.reduce((h,f)=>h+f.orders,0),d=u>0?c/u:0;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 sm:text-2xl",children:"Sales Overview"}),o.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 sm:pb-0",children:l.map(h=>{const f=h.icon;return o.jsxs("button",{onClick:()=>e(h.value),className:`
                  flex flex-shrink-0 items-center gap-2 px-3 py-2 rounded-lg font-medium transition-all text-sm sm:px-4
                  ${t===h.value?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}
                `,children:[o.jsx(f,{className:"w-4 h-4"}),o.jsx("span",{className:"whitespace-nowrap",children:h.label})]},h.value)})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(be,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-700 mb-1",children:"Total Revenue"}),o.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["",c.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),o.jsx("div",{className:"p-3 bg-blue-200 rounded-lg",children:o.jsx(Kc,{className:"w-6 h-6 text-blue-700"})})]})}),o.jsx(be,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-700 mb-1",children:"Total Orders"}),o.jsx("p",{className:"text-2xl font-bold text-green-900",children:u})]}),o.jsx("div",{className:"p-3 bg-green-200 rounded-lg",children:o.jsx(Xi,{className:"w-6 h-6 text-green-700"})})]})}),o.jsx(be,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-purple-700 mb-1",children:"Avg Order Value"}),o.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:["",d.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),o.jsx("div",{className:"p-3 bg-purple-200 rounded-lg",children:o.jsx(GU,{className:"w-6 h-6 text-purple-700"})})]})})]}),o.jsxs(be,{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Kc,{className:"w-5 h-5 text-blue-600"}),o.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Revenue & Orders Trend"})]}),o.jsx("div",{className:"h-80",children:a?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[o.jsx(Kc,{className:"w-12 h-12 mb-3 opacity-50"}),o.jsx("p",{children:"No sales data available for this period"})]}):o.jsx(w6e,{data:n,showOrders:!0,type:"area"})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(be,{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Xi,{className:"w-5 h-5 text-green-600"}),o.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Top Selling Products"})]}),o.jsx("div",{className:"h-96",children:a?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):o.jsx(_6e,{data:r,showRevenue:!0})})]}),o.jsxs(be,{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Ane,{className:"w-5 h-5 text-purple-600"}),o.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Sales by Category"})]}),o.jsx("div",{className:"h-96",children:a?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):o.jsx(N6e,{data:i})})]})]}),(t==="today"||t==="week")&&s.length>0&&o.jsxs(be,{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(ca,{className:"w-5 h-5 text-orange-600"}),o.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Peak Hours Analysis"})]}),o.jsx("div",{className:"h-80",children:a?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):o.jsx(S6e,{data:s})})]})]})},E6e=()=>{const t=$n(),[e,n]=g.useState({revenueToday:0,ordersToday:0,newCustomersToday:0,pendingOrders:0,totalCustomers:0,avgOrderValue:0}),[r,i]=g.useState({revenueYesterday:0,ordersYesterday:0,customersYesterday:0}),[s,a]=g.useState([]),[l,c]=g.useState(!0),[u,d]=g.useState([]),[h,f]=g.useState(!0),[m,y]=g.useState({totalCustomers:0,activeToday:0,averageLifetimeValue:0,topTierCustomers:0}),[v,x]=g.useState(!0),[w,_]=g.useState(new Date);g.useEffect(()=>{const j=new Date,T=new Date(j.getFullYear(),j.getMonth(),j.getDate()),A=new Date(j.getFullYear(),j.getMonth(),j.getDate()+1),P=new Date(j.getFullYear(),j.getMonth(),j.getDate()-1),O=he.collection("orders").where("status","in",["waiting","preparing","ready"]).onSnapshot(re=>{const ve=[];re.forEach(ne=>{const ie=ne.data();ve.push({id:ne.id,...ie,orderItems:ie.orderItems||ie.items||[],timestamp:ie.timestamp.toDate()})}),ve.sort((ne,ie)=>ne.timestamp.getTime()-ie.timestamp.getTime()),a(ve),c(!1)},re=>{console.error("Error fetching queue:",re),c(!1)}),V=he.collection("ingredients").onSnapshot(re=>{const ve=[];re.forEach(ne=>{const ie=ne.data();(ie.stock===0||ie.stock<=ie.lowStockThreshold)&&ve.push({id:ne.id,name:ie.name,stock:ie.stock,unit:ie.unit,lowStockThreshold:ie.lowStockThreshold,category:ie.category})}),d(ve),f(!1)},re=>{console.error("Error fetching inventory:",re),f(!1)}),L=he.collection("orders").where("timestamp",">=",T).where("timestamp","<",A).onSnapshot(re=>{let ve=0;const ne=re.size;re.forEach(je=>{const W=je.data();W.status==="completed"&&(ve+=W.totalAmount||0)});const ie=ne>0?ve/ne:0;n(je=>({...je,revenueToday:ve,ordersToday:ne,avgOrderValue:ie}))},re=>console.error("Error fetching today's orders:",re)),G=he.collection("users").where("createdAt",">=",T).where("createdAt","<",A).onSnapshot(re=>{n(ve=>({...ve,newCustomersToday:re.size}))},re=>console.error("Error fetching new users:",re)),Z=he.collection("orders").where("status","in",["waiting","preparing"]).onSnapshot(re=>{n(ve=>({...ve,pendingOrders:re.size}))},re=>console.error("Error fetching pending orders:",re)),oe=he.collection("users").onSnapshot(re=>{let ve=0,ne=0,ie=0;re.forEach(je=>{const W=je.data();ve+=W.totalSpent||0,(W.tier==="gold"||W.tier==="silver")&&ne++,W.lastOrderDate&&W.lastOrderDate.toDate()>=T&&ie++}),y({totalCustomers:re.size,activeToday:ie,averageLifetimeValue:re.size>0?ve/re.size:0,topTierCustomers:ne}),n(je=>({...je,totalCustomers:re.size}))},re=>console.error("Error fetching customer metrics:",re));return(async()=>{try{const re=await he.collection("orders").where("timestamp",">=",P).where("timestamp","<",T).get();let ve=0;const ne=re.size;re.forEach(W=>{const pe=W.data();pe.status==="completed"&&(ve+=pe.totalAmount||0)});const je=(await he.collection("users").where("createdAt",">=",P).where("createdAt","<",T).get()).size;return{revenueYesterday:ve,ordersYesterday:ne,customersYesterday:je}}catch(re){return console.error("Error fetching yesterday's data:",re),{revenueYesterday:0,ordersYesterday:0,customersYesterday:0}}})().then(re=>{i(re),x(!1)}),()=>{O(),V(),L(),G(),Z(),oe()}},[]);const b=(j,T)=>T===0?j>0?100:0:Number(((j-T)/T*100).toFixed(1)),N=()=>{_(new Date)},E=g.useMemo(()=>({waiting:s.filter(j=>j.status==="waiting").length,preparing:s.filter(j=>j.status==="preparing").length,ready:s.filter(j=>j.status==="ready").length}),[s]),C=g.useMemo(()=>({outOfStock:u.filter(j=>j.stock===0).length,lowStock:u.filter(j=>j.stock>0&&j.stock<=j.lowStockThreshold).length}),[u]);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"font-display text-3xl font-bold text-gray-800",children:"Admin Dashboard"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Real-time overview of your coffee shop operations"})]}),o.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium text-gray-700",children:[o.jsx(uy,{className:"h-4 w-4"}),o.jsxs("span",{children:["Last updated: ",w.toLocaleTimeString()]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[o.jsx(mc,{title:"Total Revenue Today",value:`${e.revenueToday.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,Icon:V2,isLoading:v,color:"blue",trend:{value:b(e.revenueToday,r.revenueYesterday),label:"vs yesterday"}}),o.jsx(mc,{title:"Orders Today",value:e.ordersToday,Icon:Fn,isLoading:v,color:"green",trend:{value:b(e.ordersToday,r.ordersYesterday),label:"vs yesterday"}}),o.jsx(mc,{title:"New Customers Today",value:e.newCustomersToday,Icon:Da,isLoading:v,color:"yellow",trend:{value:b(e.newCustomersToday,r.customersYesterday),label:"vs yesterday"}}),o.jsx(mc,{title:"Pending Orders",value:e.pendingOrders,Icon:Ix,isLoading:v,color:"purple"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[o.jsx(mc,{title:"Avg Order Value",value:`${e.avgOrderValue.toFixed(2)}`,Icon:vh,isLoading:v,color:"indigo",subtext:"Lifetime average"}),o.jsx(mc,{title:"Total Customers",value:m.totalCustomers,Icon:Da,isLoading:v,color:"emerald",subtext:"Registered users"}),o.jsx(mc,{title:"Premium Members",value:m.topTierCustomers,Icon:vs,isLoading:v,color:"amber",subtext:"Silver & Gold tiers"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 bg-blue-600 rounded-lg flex items-center justify-center",children:o.jsx($U,{className:"h-5 w-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Live Queue"}),o.jsx("p",{className:"text-xs text-gray-600",children:"Real-time order management"})]})]}),o.jsxs("button",{onClick:()=>t("/admin/queue"),className:"flex items-center gap-1 px-3 py-1.5 bg-blue-600 text-white text-sm font-semibold rounded-lg hover:bg-blue-700 transition-colors",children:["Manage ",o.jsx(El,{className:"h-4 w-4"})]})]})}),o.jsx("div",{className:"p-6",children:l?o.jsx("div",{className:"flex items-center justify-center h-40",children:o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary-600 border-t-transparent rounded-full"})}):s.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Fn,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-500 text-sm",children:"No active orders in queue"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3 text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:E.waiting}),o.jsx("p",{className:"text-xs text-yellow-600 font-medium mt-1",children:"Waiting"})]}),o.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-blue-700",children:E.preparing}),o.jsx("p",{className:"text-xs text-blue-600 font-medium mt-1",children:"Preparing"})]}),o.jsxs("div",{className:"bg-green-50 rounded-lg p-3 text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-green-700",children:E.ready}),o.jsx("p",{className:"text-xs text-green-600 font-medium mt-1",children:"Ready"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-2",children:"Next in Queue"}),o.jsx("div",{className:"space-y-2",children:s.slice(0,3).map((j,T)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-8 w-8 bg-primary-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:T+1}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900",children:j.orderNumber}),o.jsxs("p",{className:"text-xs text-gray-500",children:[j.orderItems.length," item",j.orderItems.length>1?"s":""]})]})]}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${j.status==="waiting"?"bg-yellow-100 text-yellow-700":j.status==="preparing"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:j.status.charAt(0).toUpperCase()+j.status.slice(1)})]},j.id))})]})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 px-6 py-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 bg-orange-600 rounded-lg flex items-center justify-center",children:o.jsx(Xi,{className:"h-5 w-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Inventory Alerts"}),o.jsx("p",{className:"text-xs text-gray-600",children:"Stock warnings & alerts"})]})]}),o.jsxs("button",{onClick:()=>t("/admin/inventory"),className:"flex items-center gap-1 px-3 py-1.5 bg-orange-600 text-white text-sm font-semibold rounded-lg hover:bg-orange-700 transition-colors",children:["Manage ",o.jsx(El,{className:"h-4 w-4"})]})]})}),o.jsx("div",{className:"p-6",children:h?o.jsx("div",{className:"flex items-center justify-center h-40",children:o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-orange-600 border-t-transparent rounded-full"})}):u.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Xi,{className:"h-12 w-12 text-green-300 mx-auto mb-3"}),o.jsx("p",{className:"text-green-600 text-sm font-medium",children:"All inventory levels are healthy!"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"bg-red-50 rounded-lg p-3 text-center border border-red-100",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[o.jsx(Wc,{className:"h-4 w-4 text-red-600"}),o.jsx("p",{className:"text-2xl font-bold text-red-700",children:C.outOfStock})]}),o.jsx("p",{className:"text-xs text-red-600 font-medium",children:"Out of Stock"})]}),o.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3 text-center border border-yellow-100",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[o.jsx(ms,{className:"h-4 w-4 text-yellow-600"}),o.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:C.lowStock})]}),o.jsx("p",{className:"text-xs text-yellow-600 font-medium",children:"Low Stock"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-2",children:"Recent Alerts"}),o.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:u.slice(0,5).map(j=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[j.stock===0?o.jsx(Wc,{className:"h-5 w-5 text-red-500 flex-shrink-0"}):o.jsx(ms,{className:"h-5 w-5 text-yellow-500 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900",children:j.name}),o.jsx("p",{className:"text-xs text-gray-500",children:j.category})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:`text-sm font-bold ${j.stock===0?"text-red-600":"text-yellow-600"}`,children:[j.stock," ",j.unit]}),o.jsxs("p",{className:"text-xs text-gray-400",children:["Threshold: ",j.lowStockThreshold]})]})]},j.id))})]})]})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 px-6 py-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 bg-purple-600 rounded-lg flex items-center justify-center",children:o.jsx(rg,{className:"h-5 w-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Customer Engagement"}),o.jsx("p",{className:"text-xs text-gray-600",children:"Track customer behavior & loyalty"})]})]})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-4 border border-purple-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Da,{className:"h-5 w-5 text-purple-600"}),o.jsx("p",{className:"text-sm font-semibold text-purple-900",children:"Active Today"})]}),o.jsx("p",{className:"text-3xl font-bold text-purple-700",children:m.activeToday}),o.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"customers ordered today"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4 border border-blue-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(V2,{className:"h-5 w-5 text-blue-600"}),o.jsx("p",{className:"text-sm font-semibold text-blue-900",children:"Avg LTV"})]}),o.jsxs("p",{className:"text-3xl font-bold text-blue-700",children:["",m.averageLifetimeValue.toFixed(0)]}),o.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"lifetime customer value"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl p-4 border border-amber-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(vs,{className:"h-5 w-5 text-amber-600"}),o.jsx("p",{className:"text-sm font-semibold text-amber-900",children:"Premium Tiers"})]}),o.jsx("p",{className:"text-3xl font-bold text-amber-700",children:m.topTierCustomers}),o.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"Silver & Gold members"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4 border border-green-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Kc,{className:"h-5 w-5 text-green-600"}),o.jsx("p",{className:"text-sm font-semibold text-green-900",children:"Growth Rate"})]}),o.jsxs("p",{className:"text-3xl font-bold text-green-700",children:["+",b(e.newCustomersToday,r.customersYesterday).toFixed(0),"%"]}),o.jsx("p",{className:"text-xs text-green-600 mt-1",children:"vs yesterday"})]})]})})]}),o.jsx("div",{className:"mt-8",children:o.jsx(JQ,{})})]})},wV=()=>{const[t,e]=g.useState([]),[n,r]=g.useState(!0),{showToast:i}=lr();g.useEffect(()=>{const u=he.collection("orders").orderBy("timestamp","desc").limit(100).onSnapshot(d=>{const h=d.docs.map(f=>{var y;const m=f.data();return{id:f.id,...m,orderItems:m.orderItems||m.items||[],timestamp:(y=m.timestamp)!=null&&y.toDate?m.timestamp.toDate():m.timestamp?new Date(m.timestamp):new Date}});e(h),r(!1)});return()=>u()},[]);const s=async(u,d,h)=>{try{const f={status:d,updatedAt:new Date};h&&(f.cancellationReason=h),await he.collection("orders").doc(u).update(f),i(`Order updated to ${d}`)}catch(f){console.error("Error updating order status:",f),i("Failed to update order status")}},a=u=>{if(window.confirm("Are you sure you want to cancel this order?")){const d=window.prompt("Please enter a reason for cancellation (optional):","Out of Stock");s(u,"cancelled",d||"No reason provided")}},l=u=>t.filter(d=>d.status===u).sort((d,h)=>d.timestamp.getTime()-h.timestamp.getTime()),c=({title:u,status:d,icon:h,color:f,nextStatus:m,actionLabel:y})=>{const v=l(d);return o.jsxs("div",{className:"flex flex-col h-full bg-gray-50 rounded-lg p-4 border border-gray-200",children:[o.jsxs("div",{className:`flex items-center gap-2 mb-4 pb-2 border-b-2 ${f}`,children:[o.jsx(h,{className:"h-5 w-5 text-gray-700"}),o.jsx("h2",{className:"font-bold text-gray-700",children:u}),o.jsx("span",{className:"ml-auto bg-white px-2 py-0.5 rounded-full text-xs font-bold shadow-sm border",children:v.length})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 pr-1",children:[v.map(x=>o.jsxs(be,{className:"p-3 shadow-sm hover:shadow-md transition-shadow bg-white",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"font-bold text-lg",children:["#",x.orderNumber]}),o.jsx("p",{className:"text-xs text-gray-500",children:x.customerName})]}),o.jsx("span",{className:"text-xs text-gray-400",children:x.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),o.jsx("div",{className:"space-y-1 mb-3",children:(x.orderItems||[]).map((w,_)=>o.jsx("div",{className:"text-sm flex justify-between",children:o.jsxs("span",{className:"text-gray-700",children:[w.quantity,"x ",w.productName]})},_))}),o.jsxs("div",{className:"flex gap-2 mt-2",children:[d==="waiting"&&o.jsx("button",{onClick:()=>a(x.id),className:"p-1.5 text-red-500 hover:bg-red-50 rounded-md transition-colors",title:"Cancel Order",children:o.jsx(gf,{className:"h-4 w-4"})}),m&&o.jsx(Ae,{size:"sm",className:"w-full flex items-center justify-center gap-1",onClick:()=>s(x.id,m),children:y||"Next"})]})]},x.id)),v.length===0&&o.jsx("div",{className:"text-center py-8 text-gray-400 text-sm italic",children:"No orders"})]})]})};return n?o.jsx("div",{className:"flex h-full items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):o.jsxs("div",{className:"h-[calc(100vh-100px)] flex flex-col",children:[o.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Queue Management"}),o.jsx("p",{className:"text-gray-500",children:"Real-time kitchen display system"})]}),o.jsx("div",{className:"flex gap-4 text-sm",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),o.jsx("span",{children:"Connected"})]})})]}),o.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-6 overflow-hidden",children:[o.jsx(c,{title:"Waiting",status:"waiting",icon:ca,color:"border-gray-400",nextStatus:"preparing",actionLabel:"Start Preparing"}),o.jsx(c,{title:"Preparing",status:"preparing",icon:Fn,color:"border-yellow-400",nextStatus:"ready",actionLabel:"Mark Ready"}),o.jsx(c,{title:"Ready to Serve",status:"ready",icon:fl,color:"border-green-400",nextStatus:"completed",actionLabel:"Complete Order"})]})]})},ZQ=({isOpen:t,onClose:e,onConfirm:n})=>o.jsxs(ea,{isOpen:t,onClose:e,title:"Confirm Logout",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-red-100",children:o.jsx(ms,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),o.jsx("h3",{className:"mt-3 text-lg font-medium text-gray-900",children:"Are you sure?"}),o.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"You will be returned to the login page."})]}),o.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[o.jsx(Ae,{variant:"ghost",onClick:e,className:"w-full",children:"Cancel"}),o.jsxs(Ae,{variant:"danger",onClick:n,className:"w-full",children:[o.jsx(Zp,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]}),LS=[{to:"/admin",text:"Dashboard",icon:JU},{to:"/admin/queue",text:"Queue Management",icon:KU},{to:"/admin/inventory",text:"Inventory",icon:Xi},{to:"/admin/products",text:"Products",icon:Fn},{to:"/admin/feedback",text:"Feedback",icon:Hl},{to:"/admin/history",text:"Order History",icon:QT},{to:"/admin/users",text:"User Management",icon:Da},{to:"/admin/analytics",text:"Analytics",icon:Ix},{to:"/admin/settings",text:"Settings",icon:pp}],j6e=()=>{const{logout:t}=Zt(),e=$n(),n=Ur(),[r,i]=g.useState(!1),[s,a]=g.useState(!1),l=n.pathname,u=(LS.find(y=>y.to===l)||LS[0]).text,d=()=>{i(!0)},h=async()=>{try{await t(),e("/auth/login")}catch(y){console.error("Failed to log out:",y)}finally{i(!1)}},f=()=>{a(!1)};g.useEffect(()=>{f()},[e]),g.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[s]);const m=({isMobile:y=!1})=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-8 flex items-center justify-between gap-2 px-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(vn,{className:"h-8 w-8 text-primary-400"}),o.jsx("span",{className:"text-xl font-bold text-white",children:"Admin Panel"})]}),y&&o.jsx("button",{onClick:f,className:"rounded-md p-2 text-gray-300 transition hover:bg-gray-700 hover:text-white md:hidden","aria-label":"Close menu",children:o.jsx(wr,{className:"h-6 w-6"})})]}),o.jsx("nav",{className:"flex-grow",children:o.jsx("ul",{children:LS.map(({to:v,text:x,icon:w})=>o.jsx("li",{className:"mb-1",children:o.jsxs(ai,{to:v,end:v==="/admin",onClick:y?f:void 0,className:({isActive:_})=>`flex items-center gap-3 rounded-md px-3 py-2 transition-colors ${_?"bg-primary-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[o.jsx(w,{className:"h-5 w-5"}),o.jsx("span",{children:x})]})},v))})}),o.jsx("div",{className:"mt-4 border-t border-gray-700 pt-4",children:o.jsxs("button",{onClick:d,className:"flex w-full items-center gap-3 rounded-md px-3 py-2 text-left text-gray-300 transition-colors hover:bg-red-500/80 hover:text-white",children:[o.jsx(Zp,{className:"h-5 w-5"}),o.jsx("span",{children:"Logout"})]})}),o.jsx("div",{className:"mt-4 text-center text-xs text-gray-400",children:o.jsxs("p",{children:[" ",new Date().getFullYear()," Rush Coffee"]})})]});return o.jsxs("div",{className:"flex h-screen bg-gray-100",children:[o.jsx("aside",{className:"hidden w-64 flex-shrink-0 bg-gray-800 p-4 text-white md:flex md:flex-col",children:o.jsx(m,{})}),o.jsxs("div",{className:`fixed inset-0 z-50 transform transition-opacity duration-300 md:hidden ${s?"opacity-100":"opacity-0 pointer-events-none"}`,children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:f,"aria-hidden":"true"}),o.jsx("aside",{className:`fixed top-0 left-0 flex h-full w-64 flex-col bg-gray-800 p-4 text-white shadow-2xl transition-transform duration-300 ease-in-out ${s?"translate-x-0":"-translate-x-full"}`,role:"dialog","aria-modal":"true","aria-label":"Mobile navigation menu",children:o.jsx(m,{isMobile:!0})})]}),o.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[o.jsx("header",{className:"border-b bg-white shadow-sm",children:o.jsxs("div",{className:"flex h-16 items-center justify-between px-4 sm:px-6",children:[o.jsx("button",{onClick:()=>a(!0),className:"rounded-md p-1.5 text-gray-700 transition hover:bg-gray-100 md:hidden","aria-label":"Open menu","aria-expanded":s,children:o.jsx(Tw,{className:"h-5 w-5"})}),o.jsx("h1",{className:"text-lg font-semibold text-gray-800 sm:text-xl",children:u}),o.jsx("div",{className:"w-10 md:w-0"})]})}),o.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:o.jsx(Ax,{})})]}),o.jsx(ZQ,{isOpen:r,onClose:()=>i(!1),onConfirm:h})]})},T6e=({ingredient:t,onClose:e,onUpdate:n})=>{const[r,i]=g.useState("add"),[s,a]=g.useState(""),[l,c]=g.useState(t.expirationDate||""),u=d=>{d.preventDefault(),typeof s=="number"&&s>=0&&n(t.id,s,r,l)};return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:e,children:o.jsxs("div",{className:"w-full max-w-md rounded-lg bg-white p-6 shadow-xl",onClick:d=>d.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h2",{className:"font-display text-xl font-bold text-gray-800",children:["Update Stock: ",t.name]}),o.jsx("button",{onClick:e,className:"rounded-full p-1 text-gray-500 hover:bg-gray-100",children:o.jsx(wr,{})})]}),o.jsxs("div",{className:"mt-4 text-sm",children:[o.jsxs("p",{children:["Current Stock: ",o.jsxs("span",{className:"font-bold",children:[t.stock.toLocaleString()," ",t.unit]})]}),t.expirationDate&&o.jsxs("p",{className:"mt-1 text-gray-500",children:["Current Expiration: ",new Date(t.expirationDate).toLocaleDateString()]})]}),o.jsxs("form",{onSubmit:u,className:"mt-6 space-y-4",children:[o.jsxs("div",{className:"flex gap-2 rounded-full bg-gray-100 p-1",children:[o.jsx("button",{type:"button",onClick:()=>i("add"),className:`w-full rounded-full py-2 text-sm font-semibold transition-colors ${r==="add"?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:"Add Stock"}),o.jsx("button",{type:"button",onClick:()=>i("set"),className:`w-full rounded-full py-2 text-sm font-semibold transition-colors ${r==="set"?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:"Set New Total"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:r==="add"?`Amount to Add (${t.unit})`:`New Total Stock (${t.unit})`}),o.jsx("input",{type:"number",id:"amount",value:s,onChange:d=>a(d.target.value===""?"":Number(d.target.value)),min:"0",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0,autoFocus:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"expirationDate",className:"block text-sm font-medium text-gray-700",children:"New Expiration Date (Optional)"}),o.jsx("input",{type:"date",id:"expirationDate",value:l,onChange:d=>c(d.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Update this if the new batch has a different expiration date."})]}),o.jsxs("div",{className:"mt-6 flex justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:e,className:"rounded-full bg-gray-200 px-4 py-2 text-sm font-semibold text-gray-800 hover:bg-gray-300",children:"Cancel"}),o.jsxs("button",{type:"submit",className:"flex items-center gap-2 rounded-full bg-primary-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-700 disabled:bg-primary-400",disabled:s===""||s<0,children:[o.jsx(pf,{className:"h-4 w-4"}),"Update Stock"]})]})]})]})})},A6e=({isOpen:t,onClose:e,onAdd:n})=>{const[r,i]=g.useState({name:"",category:"Coffee & Beans",stock:0,unit:"g",lowStockThreshold:10}),[s,a]=g.useState(!1),l=u=>{const{name:d,value:h,type:f}=u.target;i(m=>({...m,[d]:f==="number"?Math.max(0,Number(h)):h}))},c=async u=>{if(u.preventDefault(),!!r.name.trim()){a(!0);try{await n(r)}catch(d){console.error("Failed to add ingredient",d)}finally{a(!1)}}};return o.jsx(ea,{isOpen:t,onClose:e,title:"Add New Ingredient",children:o.jsxs("form",{onSubmit:c,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Ingredient Name"}),o.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:l,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0,autoFocus:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),o.jsxs("select",{id:"category",name:"category",value:r.category,onChange:l,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0,children:[o.jsx("option",{value:"Coffee & Beans",children:"Coffee & Beans"}),o.jsx("option",{value:"Dairy",children:"Dairy"}),o.jsx("option",{value:"Sauces",children:"Sauces"}),o.jsx("option",{value:"Syrups",children:"Syrups"}),o.jsx("option",{value:"Specialty",children:"Specialty"}),o.jsx("option",{value:"Matcha & Tea",children:"Matcha & Tea"}),o.jsx("option",{value:"Fruits & Purees",children:"Fruits & Purees"}),o.jsx("option",{value:"Beverages",children:"Beverages"}),o.jsx("option",{value:"Frozen",children:"Frozen"}),o.jsx("option",{value:"Proteins",children:"Proteins"}),o.jsx("option",{value:"Dry Goods",children:"Dry Goods"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-700",children:"Initial Stock"}),o.jsx("input",{type:"number",id:"stock",name:"stock",value:r.stock,onChange:l,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0,min:"0"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700",children:"Unit"}),o.jsxs("select",{id:"unit",name:"unit",value:r.unit,onChange:l,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[o.jsx("option",{value:"g",children:"Grams (g)"}),o.jsx("option",{value:"ml",children:"Milliliters (ml)"}),o.jsx("option",{value:"pcs",children:"Pieces (pcs)"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lowStockThreshold",className:"block text-sm font-medium text-gray-700",children:"Low Stock Threshold"}),o.jsx("input",{type:"number",id:"lowStockThreshold",name:"lowStockThreshold",value:r.lowStockThreshold,onChange:l,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0,min:"0"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"expirationDate",className:"block text-sm font-medium text-gray-700",children:"Expiration Date"}),o.jsx("input",{type:"date",id:"expirationDate",name:"expirationDate",value:r.expirationDate||"",onChange:l,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsx(Ae,{type:"button",variant:"ghost",onClick:e,children:"Cancel"}),o.jsxs(Ae,{type:"submit",disabled:s,children:[s?o.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}):o.jsx(pf,{className:"mr-2 h-4 w-4"}),"Save Ingredient"]})]})]})})},_V=[{id:"espresso-shot",name:"Espresso Shot",category:"Coffee & Beans",stock:1e3,unit:"pcs",lowStockThreshold:100},{id:"coffee-beans",name:"Coffee Beans (Blend)",category:"Coffee & Beans",stock:1e4,unit:"g",lowStockThreshold:1e3},{id:"milk",name:"Milk",category:"Dairy",stock:2e4,unit:"ml",lowStockThreshold:2e3},{id:"condensed-milk",name:"Condensed Milk",category:"Dairy",stock:5e3,unit:"ml",lowStockThreshold:500},{id:"cream-cheese",name:"Cream Cheese",category:"Dairy",stock:3e3,unit:"g",lowStockThreshold:300},{id:"whipped-cream",name:"Whipped Cream",category:"Dairy",stock:2e3,unit:"ml",lowStockThreshold:200},{id:"chocolate-sauce",name:"Chocolate Sauce",category:"Sauces",stock:3e3,unit:"ml",lowStockThreshold:300},{id:"caramel-sauce",name:"Caramel Sauce",category:"Sauces",stock:3e3,unit:"ml",lowStockThreshold:300},{id:"brown-sugar-syrup",name:"Brown Sugar Syrup",category:"Syrups",stock:2500,unit:"ml",lowStockThreshold:250,portionSize:20},{id:"vanilla-syrup",name:"Vanilla Syrup",category:"Syrups",stock:2e3,unit:"ml",lowStockThreshold:200},{id:"orange-syrup",name:"Orange Syrup",category:"Syrups",stock:1500,unit:"ml",lowStockThreshold:150},{id:"biscoff-spread",name:"Biscoff Spread",category:"Specialty",stock:2e3,unit:"g",lowStockThreshold:200},{id:"peanut-butter",name:"Peanut Butter",category:"Specialty",stock:2e3,unit:"g",lowStockThreshold:200},{id:"oreo-crumbs",name:"Oreo Cookie Crumbs",category:"Specialty",stock:3e3,unit:"g",lowStockThreshold:300},{id:"coffee-jelly",name:"Coffee Jelly",category:"Specialty",stock:2500,unit:"g",lowStockThreshold:250},{id:"red-velvet-powder",name:"Red Velvet Powder",category:"Specialty",stock:2e3,unit:"g",lowStockThreshold:200},{id:"pearls",name:"Pearls",category:"Specialty",stock:3e3,unit:"g",lowStockThreshold:300,isTopping:!0,toppingPrice:10,portionSize:30},{id:"pudding",name:"Pudding",category:"Specialty",stock:2e3,unit:"g",lowStockThreshold:200,isTopping:!0,toppingPrice:15,portionSize:40},{id:"grass-jelly",name:"Grass Jelly",category:"Specialty",stock:2500,unit:"g",lowStockThreshold:250,isTopping:!0,toppingPrice:15,portionSize:35},{id:"matcha-powder",name:"Matcha Powder",category:"Matcha & Tea",stock:2e3,unit:"g",lowStockThreshold:200},{id:"strawberry-puree",name:"Strawberry Puree",category:"Fruits & Purees",stock:4e3,unit:"ml",lowStockThreshold:400},{id:"mango-puree",name:"Mango Puree",category:"Fruits & Purees",stock:4e3,unit:"ml",lowStockThreshold:400},{id:"blueberry-puree",name:"Blueberry Puree",category:"Fruits & Purees",stock:3e3,unit:"ml",lowStockThreshold:300},{id:"green-apple-puree",name:"Green Apple Puree",category:"Fruits & Purees",stock:3e3,unit:"ml",lowStockThreshold:300},{id:"lemon-juice",name:"Lemon Juice",category:"Fruits & Purees",stock:2e3,unit:"ml",lowStockThreshold:200},{id:"lychee-syrup",name:"Lychee Syrup",category:"Syrups",stock:2e3,unit:"ml",lowStockThreshold:200},{id:"mixed-berries",name:"Mixed Berries",category:"Fruits & Purees",stock:2e3,unit:"g",lowStockThreshold:200},{id:"soda-water",name:"Soda Water",category:"Beverages",stock:1e4,unit:"ml",lowStockThreshold:1e3},{id:"ice-cubes",name:"Ice Cubes",category:"Frozen",stock:5e4,unit:"g",lowStockThreshold:5e3,portionSize:100},{id:"hot-water",name:"Hot Water",category:"Beverages",stock:99999,unit:"ml",lowStockThreshold:1e4},{id:"bacon-strips",name:"Bacon Strips",category:"Proteins",stock:5,unit:"kg",lowStockThreshold:1,portionSize:.1},{id:"porkchop",name:"Porkchop",category:"Proteins",stock:4,unit:"kg",lowStockThreshold:1,portionSize:.2},{id:"chicken-fillet",name:"Chicken Fillet",category:"Proteins",stock:5,unit:"kg",lowStockThreshold:1,portionSize:.15},{id:"bread-crumbs",name:"Bread Crumbs",category:"Dry Goods",stock:3e3,unit:"g",lowStockThreshold:300},{id:"french-fries",name:"French Fries",category:"Frozen",stock:6,unit:"kg",lowStockThreshold:1,portionSize:.15},{id:"white-sauce",name:"White Sauce",category:"Sauces",stock:2e3,unit:"ml",lowStockThreshold:200},{id:"cooking-oil",name:"Cooking Oil",category:"Dry Goods",stock:5e3,unit:"ml",lowStockThreshold:500,expirationDate:"2025-12-31"},{id:"cup-grande",name:"Cup - Grande (16oz)",category:"Supplies & Packaging",stock:500,unit:"pcs",lowStockThreshold:50,portionSize:1},{id:"cup-venti",name:"Cup - Venti (20oz)",category:"Supplies & Packaging",stock:500,unit:"pcs",lowStockThreshold:50,portionSize:1},{id:"lid-grande",name:"Lid - Grande",category:"Supplies & Packaging",stock:500,unit:"pcs",lowStockThreshold:50,portionSize:1},{id:"lid-venti",name:"Lid - Venti",category:"Supplies & Packaging",stock:500,unit:"pcs",lowStockThreshold:50,portionSize:1},{id:"straw",name:"Straws",category:"Supplies & Packaging",stock:1e3,unit:"pcs",lowStockThreshold:100,portionSize:1},{id:"napkins",name:"Napkins",category:"Supplies & Packaging",stock:2e3,unit:"pcs",lowStockThreshold:200,portionSize:2},{id:"takeout-pack",name:"Takeout Pack (Meal Box)",category:"Supplies & Packaging",stock:300,unit:"pcs",lowStockThreshold:30,portionSize:1}],NV=()=>{const[t,e]=g.useState([]),[n,r]=g.useState(!0),[i,s]=g.useState(!1),[a,l]=g.useState(!1),[c,u]=g.useState(null),[d,h]=g.useState("All"),[f,m]=g.useState(""),[y,v]=g.useState("all"),{showToast:x}=lr(),{currentUser:w}=Zt(),_=(w==null?void 0:w.role)==="admin",b={All:{icon:Xi,color:"text-gray-700",bgColor:"bg-gray-100"},"Coffee & Beans":{icon:Fn,color:"text-amber-700",bgColor:"bg-amber-50"},Dairy:{icon:zre,color:"text-blue-700",bgColor:"bg-blue-50"},Sauces:{icon:vD,color:"text-red-700",bgColor:"bg-red-50"},Syrups:{icon:vD,color:"text-purple-700",bgColor:"bg-purple-50"},Specialty:{icon:ng,color:"text-yellow-700",bgColor:"bg-yellow-50"},"Matcha & Tea":{icon:ZU,color:"text-green-700",bgColor:"bg-green-50"},"Fruits & Purees":{icon:qU,color:"text-pink-700",bgColor:"bg-pink-50"},Beverages:{icon:mne,color:"text-cyan-700",bgColor:"bg-cyan-50"},Frozen:{icon:e8,color:"text-blue-600",bgColor:"bg-blue-50"},Proteins:{icon:ere,color:"text-orange-700",bgColor:"bg-orange-50"},"Dry Goods":{icon:yne,color:"text-stone-700",bgColor:"bg-stone-50"},"Supplies & Packaging":{icon:Bre,color:"text-indigo-700",bgColor:"bg-indigo-50"}},N=hs.useMemo(()=>{let H=t;if(d!=="All"&&(H=H.filter(oe=>oe.category===d)),y==="lowStock")H=H.filter(oe=>oe.stock>0&&oe.stock<=oe.lowStockThreshold);else if(y==="outOfStock")H=H.filter(oe=>oe.stock===0);else if(y==="newAdded"){const oe=new Date;oe.setDate(oe.getDate()-7),H=H.filter(xe=>xe.createdAt&&new Date(xe.createdAt)>=oe)}return f.trim()&&(H=H.filter(oe=>oe.name.toLowerCase().includes(f.toLowerCase()))),H},[t,d,f,y]),E=["All","Coffee & Beans","Dairy","Sauces","Syrups","Specialty","Matcha & Tea","Fruits & Purees","Beverages","Frozen","Proteins","Dry Goods","Supplies & Packaging"],C=H=>H==="All"?t.length:t.filter(oe=>oe.category===H).length,j=H=>(H==="All"?t:t.filter(xe=>xe.category===H)).filter(xe=>xe.stock>0&&xe.stock<=xe.lowStockThreshold).length,T=H=>{v(H),h("All")},A=H=>H.stock===0?{text:"Out of Stock",color:"text-red-600",Icon:Wc}:H.stock<=H.lowStockThreshold?{text:"Low Stock",color:"text-yellow-600",Icon:ms}:{text:"In Stock",color:"text-green-600",Icon:fl},P=t.filter(H=>{if(!H.expirationDate)return!1;const oe=new Date,re=new Date(H.expirationDate).getTime()-oe.getTime();return Math.ceil(re/(1e3*60*60*24))<=7}),k=t.filter(H=>H.stock>0&&H.stock<=H.lowStockThreshold),O=t.filter(H=>H.stock===0),R=t.filter(H=>{if(!H.createdAt)return!1;const oe=new Date(H.createdAt),xe=new Date;return xe.setDate(xe.getDate()-7),oe>=xe});g.useEffect(()=>{const H=async()=>{const xe=he.collection("ingredients"),re=await xe.get(),ve=new Set(re.docs.map(pe=>pe.id)),ne=he.batch();let ie=!1;_V.forEach(pe=>{if(!ve.has(pe.id)){console.log(`Seeding missing ingredient: ${pe.name}`);const{id:Se,...Y}=pe,rt=xe.doc(Se);ne.set(rt,Y),ie=!0}}),re.docs.forEach(pe=>{const Se=pe.data(),Y={};if(!Se.expirationDate){const rt=new Date;rt.setDate(rt.getDate()+30),Y.expirationDate=rt.toISOString().split("T")[0]}Se.createdAt||(Y.createdAt=new Date().toISOString()),Object.keys(Y).length>0&&(ne.update(pe.ref,Y),ie=!0)}),ie&&(await ne.commit(),console.log("Ingredients seeded/updated successfully."));try{await gH()}catch(pe){console.error("Error seeding customization options:",pe)}return he.collection("ingredients").orderBy("name","asc").onSnapshot(pe=>{const Se=[];pe.forEach(Y=>{Se.push({id:Y.id,...Y.data()})}),console.log(" Fetched Ingredients:",Se.map(Y=>`${Y.name} (${Y.id})`)),e(Se),r(!1)},pe=>{console.error("Error fetching inventory: ",pe),r(!1)})};let oe;return H().then(xe=>{xe&&(oe=xe)}),()=>{oe&&oe()}},[]);const V=H=>{u(H),s(!0)},M=()=>{s(!1),u(null)},L=()=>{l(!0)},B=()=>{l(!1)},G=async H=>{try{const oe=H.name.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();if((await he.collection("ingredients").doc(oe).get()).exists){x(`Ingredient with name "${H.name}" already exists!`);return}const{id:re,...ve}=H,ne={...ve,createdAt:new Date().toISOString()};await he.collection("ingredients").doc(oe).set(ne),x(`Ingredient "${H.name}" added successfully with ID: ${oe}`),B()}catch(oe){throw console.error("Error adding ingredient: ",oe),x("Failed to add ingredient."),oe}},ee=async(H,oe,xe,re)=>{const ve=he.collection("ingredients").doc(H);try{const ne={};xe==="add"?ne.stock=Fe.firestore.FieldValue.increment(oe):ne.stock=oe,re&&(ne.expirationDate=re),await ve.update(ne),M()}catch(ne){console.error("Error updating stock: ",ne)}},Z=async()=>{try{r(!0);const H=he.batch(),oe=he.collection("ingredients"),xe=await oe.get(),re=new Map;xe.docs.forEach(ve=>{re.set(ve.id,ve.data())}),_V.forEach(ve=>{const{id:ne,...ie}=ve,je=oe.doc(ne),W=re.get(ne),pe={...ie,expirationDate:(W==null?void 0:W.expirationDate)||ie.expirationDate,createdAt:(W==null?void 0:W.createdAt)||new Date().toISOString()};H.set(je,pe)}),await H.commit(),x("Ingredients re-seeded successfully!"),console.log("Ingredients re-seeded from mockIngredients.ts")}catch(H){console.error("Error re-seeding ingredients: ",H),x("Failed to re-seed ingredients.")}finally{r(!1)}};return n?o.jsx("div",{className:"flex h-full items-center justify-center",children:o.jsx(Lt,{className:"h-12 w-12 animate-spin text-primary-600"})}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-6",children:[o.jsx("h1",{className:"font-display text-2xl font-bold text-gray-800 sm:text-3xl",children:"Inventory Management"}),_&&o.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[o.jsxs("button",{onClick:Z,className:"flex w-full items-center justify-center gap-2 rounded-full bg-green-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-green-700 sm:w-auto",children:[o.jsx(uy,{className:"h-4 w-4"}),o.jsx("span",{children:"Re-seed Ingredients"})]}),o.jsxs("button",{onClick:L,className:"flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 sm:w-auto",children:[o.jsx(uo,{className:"h-4 w-4"}),o.jsx("span",{children:"Add Ingredient"})]})]})]}),o.jsxs("div",{className:"space-y-4 mb-6",children:[O.length>0&&o.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"rounded-full bg-red-100 p-2 text-red-600",children:o.jsx(Wc,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold text-red-900",children:["Critical: ",O.length," Items Out of Stock"]}),o.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:O.map(H=>o.jsx("span",{className:"inline-flex items-center rounded-md bg-white px-2 py-1 text-xs font-medium text-red-700 ring-1 ring-inset ring-red-600/20",children:H.name},H.id))})]})]})}),k.length>0&&o.jsx("div",{className:"rounded-xl border border-yellow-200 bg-yellow-50 p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"rounded-full bg-yellow-100 p-2 text-yellow-600",children:o.jsx(ms,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold text-yellow-900",children:["Warning: ",k.length," Items Low on Stock"]}),o.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:k.map(H=>o.jsxs("span",{className:"inline-flex items-center rounded-md bg-white px-2 py-1 text-xs font-medium text-yellow-700 ring-1 ring-inset ring-yellow-600/20",children:[H.name," (",H.stock," ",H.unit,")"]},H.id))})]})]})}),P.length>0&&o.jsx("div",{className:"rounded-xl border border-orange-200 bg-orange-50 p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"rounded-full bg-orange-100 p-2 text-orange-600",children:o.jsx(Vs,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold text-orange-900",children:["Attention Needed: ",P.length," Items Expiring Soon"]}),o.jsx("p",{className:"mt-1 text-sm text-orange-700",children:"The following items are expiring within 7 days or have already expired:"}),o.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:P.map(H=>o.jsxs("span",{className:"inline-flex items-center rounded-md bg-white px-2 py-1 text-xs font-medium text-orange-700 ring-1 ring-inset ring-orange-600/20",children:[H.name," (",new Date(H.expirationDate).toLocaleDateString(),")"]},H.id))})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6 sm:grid-cols-2 lg:grid-cols-4",children:[o.jsxs("button",{onClick:()=>T("all"),className:`flex items-center justify-between p-5 bg-white rounded-xl border border-gray-100 shadow-sm transition-all hover:shadow-md cursor-pointer text-left group ${y==="all"?"ring-2 ring-primary-600 ring-offset-1":""}`,children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500 group-hover:text-primary-600 transition-colors",children:"Total Ingredients"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t.length})]}),o.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gray-100 text-gray-600 group-hover:bg-primary-50 group-hover:text-primary-600 transition-colors",children:o.jsx(Xi,{className:"h-6 w-6"})})]}),o.jsxs("button",{onClick:()=>T("lowStock"),className:`flex items-center justify-between p-5 bg-white rounded-xl border border-gray-100 shadow-sm transition-all hover:shadow-md cursor-pointer text-left group ${y==="lowStock"?"ring-2 ring-yellow-500 ring-offset-1":""}`,children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500 group-hover:text-yellow-600 transition-colors",children:"Low Stock Items"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:j("All")})]}),o.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-yellow-50 text-yellow-600 group-hover:bg-yellow-100 transition-colors",children:o.jsx(ms,{className:"h-6 w-6"})})]}),o.jsxs("button",{onClick:()=>T("outOfStock"),className:`flex items-center justify-between p-5 bg-white rounded-xl border border-gray-100 shadow-sm transition-all hover:shadow-md cursor-pointer text-left group ${y==="outOfStock"?"ring-2 ring-red-500 ring-offset-1":""}`,children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500 group-hover:text-red-600 transition-colors",children:"Out of Stock"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t.filter(H=>H.stock===0).length})]}),o.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-red-50 text-red-600 group-hover:bg-red-100 transition-colors",children:o.jsx(Wc,{className:"h-6 w-6"})})]}),o.jsxs("button",{onClick:()=>T("newAdded"),className:`flex items-center justify-between p-5 bg-white rounded-xl border border-gray-100 shadow-sm transition-all hover:shadow-md cursor-pointer text-left group ${y==="newAdded"?"ring-2 ring-blue-500 ring-offset-1":""}`,children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500 group-hover:text-blue-600 transition-colors",children:"New Ingredients"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:R.length})]}),o.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-50 text-blue-600 group-hover:bg-blue-100 transition-colors",children:o.jsx(ng,{className:"h-6 w-6"})})]})]}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ya,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search ingredients...",value:f,onChange:H=>m(H.target.value),className:"w-full rounded-lg border bg-white pl-10 pr-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500 focus:ring-opacity-20"})]})}),o.jsx("div",{className:"mb-6 overflow-x-auto py-1",children:o.jsx("div",{className:"flex gap-2 pb-2 px-1",children:E.map(H=>{const oe=C(H),xe=j(H),re=d===H,ve=b[H],ne=ve.icon;return o.jsxs("button",{onClick:()=>{h(H),v("all")},className:`flex-shrink-0 flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold transition-all ${re?"bg-primary-600 text-white shadow-md scale-105":`${ve.bgColor} ${ve.color} hover:shadow-md hover:scale-102`}`,children:[o.jsx(ne,{className:"h-4 w-4"}),o.jsx("span",{children:H}),oe>0&&o.jsx("span",{className:`inline-flex items-center justify-center min-w-[20px] h-5 px-1.5 rounded-full text-xs font-bold ${re?"bg-white bg-opacity-25":"bg-white bg-opacity-50"}`,children:oe}),xe>0&&o.jsxs("span",{className:"inline-flex items-center justify-center min-w-[20px] h-5 px-1.5 rounded-full text-xs font-bold bg-yellow-500 text-white",children:[" ",xe]})]},H)})})}),o.jsxs("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:[N.map(H=>{const oe=A(H);return o.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm flex flex-col gap-3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:H.name}),o.jsx("p",{className:"text-xs text-gray-500",children:H.category})]}),o.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${oe.color==="text-red-600"?"bg-red-50 text-red-700":oe.color==="text-yellow-600"?"bg-yellow-50 text-yellow-700":"bg-green-50 text-green-700"}`,children:[o.jsx(oe.Icon,{className:"h-3 w-3"}),oe.text]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-50",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Current Stock"}),o.jsxs("p",{className:"font-medium text-gray-900",children:[H.stock.toLocaleString()," ",o.jsx("span",{className:"text-gray-400 text-xs",children:H.unit})]})]}),H.expirationDate&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Expires"}),o.jsx("p",{className:`font-medium ${new Date(H.expirationDate)<new Date?"text-red-600":"text-gray-900"}`,children:new Date(H.expirationDate).toLocaleDateString()})]}),o.jsx("button",{onClick:()=>V(H),className:"px-3 py-1.5 bg-primary-50 text-primary-700 text-xs font-semibold rounded-lg hover:bg-primary-100 transition-colors",children:"Update"})]})]},H.id)}),N.length===0&&o.jsx("div",{className:"text-center py-8 text-gray-500",children:"No ingredients found."})]}),o.jsx("div",{className:"hidden md:block overflow-x-auto rounded-lg border bg-white shadow-sm",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Ingredient"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Current Stock"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Expiration"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),o.jsx("th",{scope:"col",className:"relative px-6 py-3",children:o.jsx("span",{className:"sr-only",children:"Edit"})})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:N.map(H=>{const oe=A(H);return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:o.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.name})}),o.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:o.jsxs("div",{className:"text-sm text-gray-900",children:[H.stock.toLocaleString()," ",o.jsx("span",{className:"text-gray-500",children:H.unit})]})}),o.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:o.jsx("div",{className:`text-sm ${H.expirationDate&&new Date(H.expirationDate)<new Date?"text-red-600 font-medium":"text-gray-900"}`,children:H.expirationDate?new Date(H.expirationDate).toLocaleDateString():"-"})}),o.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:o.jsxs("div",{className:`inline-flex items-center gap-1 text-sm font-semibold ${oe.color}`,children:[o.jsx(oe.Icon,{className:"h-4 w-4"}),oe.text]})}),o.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium",children:o.jsx("button",{onClick:()=>V(H),className:"text-primary-600 hover:text-primary-800",children:"Update Stock"})})]},H.id)})})]})}),i&&c&&o.jsx(T6e,{ingredient:c,onClose:M,onUpdate:ee}),o.jsx(A6e,{isOpen:a,onClose:B,onAdd:G})]})},SV={name:"",description:"",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:0},{name:"Venti",size:"22oz",price:0}],imageUrl:"",available:!0,stock:0,popular:!1,new:!1,displayOrder:99,recipe:[]},I6e=({isOpen:t,onClose:e,productToEdit:n})=>{var k,O;const[r,i]=g.useState(SV),[s,a]=g.useState([]),[l,c]=g.useState(!1),{addProduct:u,updateProduct:d}=Gu(),{showToast:h}=lr(),{currentUser:f}=Zt(),m=(f==null?void 0:f.role)==="admin",[y,v]=g.useState(null),[x,w]=g.useState(null),_=g.useRef(null);g.useEffect(()=>{t&&(async()=>{const M=(await he.collection("ingredients").get()).docs.map(L=>({id:L.id,...L.data()}));a(M)})()},[t]),g.useEffect(()=>{n?(i(n),w(n.imageUrl)):(i(SV),w(null)),v(null)},[n,t]);const b=R=>{if(m&&R.target.files&&R.target.files[0]){const V=R.target.files[0];if(V.size>2*1024*1024){h("Image file should be less than 2MB.");return}v(V);const M=URL.createObjectURL(V);w(M)}},N=R=>{if(!m)return;const{name:V,value:M,type:L}=R.target,B=R.target.checked;i(G=>({...G,[V]:L==="checkbox"?B:M}))},E=(R,V)=>{m&&i(M=>({...M,sizes:M.sizes.map(L=>L.name===R?{...L,price:V}:L)}))},C=(R,V,M)=>{if(!m)return;const L=[...r.recipe||[]];L[R][V]=M,i(B=>({...B,recipe:L}))},j=()=>{if(!m)return;const R=[...r.recipe||[],{ingredientId:"",quantity:0}];i(V=>({...V,recipe:R}))},T=R=>{if(!m)return;const V=[...r.recipe||[]];V.splice(R,1),i(M=>({...M,recipe:V}))},A=async R=>{if(R.preventDefault(),!m)return;c(!0);let V=r.imageUrl;if(y)try{V=await(await Nge.ref(`product_images/${Date.now()}-${y.name}`).put(y)).ref.getDownloadURL()}catch(L){console.error("Error uploading image:",L),h("Failed to upload image. Please try again."),c(!1);return}const M={...r,imageUrl:V};try{if(n){const{id:L,...B}={...M,id:n.id};await d(L,B),h("Product updated successfully!")}else await u(M),h("Product added successfully!");e()}catch(L){console.error(L),h("An error occurred. Please try again.")}finally{c(!1)}},P=m?n?"Edit Product":"Add New Product":"Product Recipe & Details";return o.jsx(ea,{isOpen:t,onClose:e,title:P,size:"lg",children:o.jsxs("form",{onSubmit:A,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),o.jsx("input",{type:"text",name:"name",id:"name",value:r.name,onChange:N,disabled:!m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm disabled:bg-gray-100 disabled:text-gray-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),o.jsxs("select",{name:"category",id:"category",value:r.category,onChange:N,disabled:!m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm disabled:bg-gray-100 disabled:text-gray-500",children:[o.jsx("option",{children:"Coffee Based"}),o.jsx("option",{children:"Non-Coffee Based"}),o.jsx("option",{children:"Matcha Series"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),o.jsx("textarea",{name:"description",id:"description",value:r.description,onChange:N,disabled:!m,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm disabled:bg-gray-100 disabled:text-gray-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Image"}),o.jsxs("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md ${m?"cursor-pointer hover:border-primary-500":""} bg-gray-50`,onClick:()=>{var R;return m&&((R=_.current)==null?void 0:R.click())},children:[o.jsx("input",{ref:_,id:"file-upload",name:"file-upload",type:"file",className:"sr-only",accept:"image/png, image/jpeg",onChange:b,disabled:!m}),x?o.jsx("img",{src:x,alt:"Product preview",className:"max-h-40 rounded-lg object-contain"}):o.jsxs("div",{className:"space-y-1 text-center",children:[o.jsx(yre,{className:"mx-auto h-12 w-12 text-gray-400"}),m&&o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx("span",{className:"font-medium text-primary-600",children:"Click to upload"})," or drag and drop"]}),o.jsx("p",{className:"text-xs text-gray-500",children:"PNG or JPG up to 2MB"})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Grande Price ()"}),o.jsx("input",{type:"number",value:(k=r.sizes.find(R=>R.name==="Grande"))==null?void 0:k.price,onChange:R=>E("Grande",+R.target.value),disabled:!m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm disabled:bg-gray-100 disabled:text-gray-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Venti Price ()"}),o.jsx("input",{type:"number",value:(O=r.sizes.find(R=>R.name==="Venti"))==null?void 0:O.price,onChange:R=>E("Venti",+R.target.value),disabled:!m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm disabled:bg-gray-100 disabled:text-gray-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-700",children:"Stock"}),o.jsx("input",{type:"number",name:"stock",id:"stock",value:r.stock,onChange:R=>i(V=>({...V,stock:+R.target.value})),disabled:!m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm disabled:bg-gray-100 disabled:text-gray-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"displayOrder",className:"block text-sm font-medium text-gray-700",children:"Display Order"}),o.jsx("input",{type:"number",name:"displayOrder",id:"displayOrder",value:r.displayOrder,onChange:R=>i(V=>({...V,displayOrder:+R.target.value})),disabled:!m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm disabled:bg-gray-100 disabled:text-gray-500"})]})]}),o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"available",checked:r.available,onChange:N,disabled:!m,className:"h-4 w-4 rounded disabled:opacity-50"}),o.jsx("label",{className:"ml-2 text-sm",children:"Available"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"popular",checked:r.popular,onChange:N,disabled:!m,className:"h-4 w-4 rounded disabled:opacity-50"}),o.jsx("label",{className:"ml-2 text-sm",children:"Popular"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"new",checked:r.new,onChange:N,disabled:!m,className:"h-4 w-4 rounded disabled:opacity-50"}),o.jsx("label",{className:"ml-2 text-sm",children:"New"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-md font-medium text-gray-800",children:"Recipe"}),o.jsxs("div",{className:"mt-2 space-y-2 rounded-md border bg-gray-50 p-3",children:[(r.recipe||[]).map((R,V)=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("select",{value:R.ingredientId,onChange:M=>C(V,"ingredientId",M.target.value),disabled:!m,className:"block w-full rounded-md border-gray-300 shadow-sm disabled:bg-gray-100 disabled:text-gray-500",children:[o.jsx("option",{value:"",disabled:!0,children:"Select Ingredient"}),s.map(M=>o.jsx("option",{value:M.id,children:M.name},M.id))]}),o.jsx("input",{type:"number",value:R.quantity,onChange:M=>C(V,"quantity",+M.target.value),disabled:!m,className:"block w-32 rounded-md border-gray-300 shadow-sm disabled:bg-gray-100 disabled:text-gray-500",placeholder:"Qty"}),m&&o.jsx(Ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>T(V),className:"px-2",children:o.jsx(gf,{className:"h-4 w-4 text-red-500"})})]},V)),m&&o.jsxs(Ae,{type:"button",variant:"secondary",size:"sm",onClick:j,children:[o.jsx(uo,{className:"mr-1 h-4 w-4"}),"Add Ingredient"]}),!m&&(r.recipe||[]).length===0&&o.jsx("p",{className:"text-sm text-gray-500 italic",children:"No recipe details available."})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx(Ae,{type:"button",variant:"ghost",onClick:e,children:"Close"}),m&&o.jsxs(Ae,{type:"submit",disabled:l,children:[l?o.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}):o.jsx(pf,{className:"mr-2 h-4 w-4"}),n?"Save Changes":"Add Product"]})]})]})})},C6e=()=>{const{products:t,isLoading:e,error:n,deleteProduct:r}=Gu(),[i,s]=g.useState([]),[a,l]=g.useState(!0),[c,u]=g.useState(!1),[d,h]=g.useState(null),[f,m]=g.useState("All"),[y,v]=g.useState(""),[x,w]=g.useState("all"),{showToast:_}=lr(),{currentUser:b}=Zt(),N=(b==null?void 0:b.role)==="admin";g.useEffect(()=>{const M=he.collection("ingredients").onSnapshot(L=>{const B=L.docs.map(G=>({id:G.id,...G.data()}));s(B),l(!1)},L=>{console.error("Error fetching ingredients:",L),l(!1)});return()=>M()},[]);const E=M=>{if(!M.available)return{available:!1,reason:"Manually set to unavailable"};if(!M.recipe||M.recipe.length===0)return{available:!0};const L=[];for(const B of M.recipe){const G=i.find(ee=>ee.id===B.ingredientId);(!G||G.stock<=0)&&L.push(G?G.name:"Unknown Ingredient")}return L.length>0?{available:!1,reason:`Missing: ${L.join(", ")}`}:{available:!0}},C={All:{icon:Xi,color:"text-gray-700",bgColor:"bg-gray-100"},"Coffee Based":{icon:Fn,color:"text-amber-700",bgColor:"bg-amber-50"},"Non-Coffee Based":{icon:e8,color:"text-blue-700",bgColor:"bg-blue-50"},"Matcha Series":{icon:ZU,color:"text-green-700",bgColor:"bg-green-50"},Refreshments:{icon:qU,color:"text-pink-700",bgColor:"bg-pink-50"},Meals:{icon:kie,color:"text-orange-700",bgColor:"bg-orange-50"}},j=g.useMemo(()=>{let M=t;return f!=="All"&&(M=M.filter(L=>L.category===f)),x==="lowStock"?M=M.filter(L=>L.stock>0&&L.stock<=20):x==="outOfStock"?M=M.filter(L=>{const B=E(L);return L.stock===0||!B.available}):x==="popular"&&(M=M.filter(L=>L.popular)),y.trim()&&(M=M.filter(L=>L.name.toLowerCase().includes(y.toLowerCase()))),M},[t,f,y,x,i]),T=["All","Coffee Based","Non-Coffee Based","Matcha Series","Refreshments","Meals"],A=M=>M==="All"?t.length:t.filter(L=>L.category===M).length,P=M=>(M==="All"?t:t.filter(B=>B.category===M)).filter(B=>B.stock>0&&B.stock<=20).length,k=M=>{w(M),m("All")},O=(M=null)=>{h(M),u(!0)},R=()=>{u(!1),h(null)},V=async(M,L)=>{if(window.confirm(`Are you sure you want to delete "${L}"?`))try{await r(M),_(`"${L}" has been deleted.`)}catch{_(`Failed to delete "${L}".`)}};return e||a?o.jsx("div",{className:"flex h-full items-center justify-center",children:o.jsx(Lt,{className:"h-12 w-12 animate-spin text-primary-600"})}):n?o.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-red-200 bg-red-50 py-20 text-center text-red-700",children:[o.jsx(Un,{className:"h-16 w-16"}),o.jsx("h3",{className:"mt-4 text-xl font-semibold",children:"Oops! Something went wrong."}),o.jsx("p",{className:"mt-2",children:n})]}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-6",children:[o.jsx("h1",{className:"font-display text-2xl font-bold text-gray-800 sm:text-3xl",children:N?"Product Management":"Menu & Recipes"}),N&&o.jsxs("button",{onClick:()=>O(),className:"flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 sm:w-auto",children:[o.jsx(uo,{className:"h-4 w-4"}),o.jsx("span",{children:"Add New Product"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 sm:grid-cols-4",children:[o.jsx("button",{onClick:()=>k("all"),className:`bg-white rounded-lg border p-4 shadow-sm transition-all hover:shadow-md cursor-pointer text-left ${x==="all"?"ring-2 ring-primary-600":""}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Products"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t.length})]}),o.jsx(Xi,{className:"h-10 w-10 text-primary-600 opacity-75"})]})}),o.jsx("button",{onClick:()=>k("lowStock"),className:`bg-white rounded-lg border p-4 shadow-sm transition-all hover:shadow-md cursor-pointer text-left ${x==="lowStock"?"ring-2 ring-yellow-600":""}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),o.jsx("p",{className:"text-2xl font-bold text-yellow-600 mt-1",children:P("All")})]}),o.jsx(ms,{className:"h-10 w-10 text-yellow-600 opacity-75"})]})}),o.jsx("button",{onClick:()=>k("outOfStock"),className:`bg-white rounded-lg border p-4 shadow-sm transition-all hover:shadow-md cursor-pointer text-left ${x==="outOfStock"?"ring-2 ring-red-600":""}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Unavailable"}),o.jsx("p",{className:"text-2xl font-bold text-red-600 mt-1",children:t.filter(M=>!E(M).available||M.stock===0).length})]}),o.jsx(Wc,{className:"h-10 w-10 text-red-600 opacity-75"})]})}),o.jsx("button",{onClick:()=>k("popular"),className:`bg-white rounded-lg border p-4 shadow-sm transition-all hover:shadow-md cursor-pointer text-left ${x==="popular"?"ring-2 ring-green-600":""}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Popular Items"}),o.jsx("p",{className:"text-2xl font-bold text-green-600 mt-1",children:t.filter(M=>M.popular).length})]}),o.jsx(vs,{className:"h-10 w-10 text-green-600 opacity-75"})]})})]}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ya,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search products...",value:y,onChange:M=>v(M.target.value),className:"w-full rounded-lg border bg-white pl-10 pr-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500 focus:ring-opacity-20"})]})}),o.jsx("div",{className:"mb-6 overflow-x-auto py-1",children:o.jsx("div",{className:"flex gap-2 pb-2 px-1",children:T.map(M=>{const L=A(M),B=P(M),G=f===M,ee=C[M],Z=ee.icon;return o.jsxs("button",{onClick:()=>{m(M),w("all")},className:`flex-shrink-0 flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold transition-all ${G?"bg-primary-600 text-white shadow-md scale-105":`${ee.bgColor} ${ee.color} hover:shadow-md hover:scale-102`}`,children:[o.jsx(Z,{className:"h-4 w-4"}),o.jsx("span",{children:M}),L>0&&o.jsx("span",{className:`inline-flex items-center justify-center min-w-[20px] h-5 px-1.5 rounded-full text-xs font-bold ${G?"bg-white bg-opacity-25":"bg-white bg-opacity-50"}`,children:L}),B>0&&o.jsxs("span",{className:"inline-flex items-center justify-center min-w-[20px] h-5 px-1.5 rounded-full text-xs font-bold bg-yellow-500 text-white",children:[" ",B]})]},M)})})}),o.jsx("div",{className:"overflow-x-auto rounded-lg border bg-white shadow-sm",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Product"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Category"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Price (G/V)"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Stock"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),o.jsx("th",{scope:"col",className:"relative px-6 py-3",children:o.jsx("span",{className:"sr-only",children:"Actions"})})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:j.map(M=>{const L=E(M),B=M.available&&L.available;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:o.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:M.imageUrl,alt:M.name})}),o.jsx("div",{className:"ml-4",children:o.jsxs("div",{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[M.name,M.popular&&o.jsx(vs,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),M.new&&o.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full font-semibold",children:"NEW"})]})})]})}),o.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:M.category}),o.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:["",M.sizes[0].price.toFixed(2)," / ",M.sizes[1].price.toFixed(2)]}),o.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm",children:o.jsx("span",{className:`font-semibold ${M.stock===0?"text-red-600":M.stock<=20?"text-yellow-600":"text-gray-900"}`,children:M.stock})}),o.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:B?o.jsx("span",{className:"inline-flex rounded-full bg-green-100 px-2 text-xs font-semibold leading-5 text-green-800",children:"Available"}):o.jsxs("div",{className:"flex flex-col items-start gap-1",children:[o.jsx("span",{className:"inline-flex rounded-full bg-red-100 px-2 text-xs font-semibold leading-5 text-red-800",children:"Unavailable"}),!L.available&&o.jsxs("span",{className:"text-xs text-red-500 flex items-center gap-1",title:L.reason,children:[o.jsx(Un,{className:"h-3 w-3"}),L.reason.length>20?L.reason.substring(0,20)+"...":L.reason]})]})}),o.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium",children:[o.jsx("button",{onClick:()=>O(M),className:"p-1 text-primary-600 hover:text-primary-800",title:N?"Edit":"View Details",children:N?o.jsx(t8,{className:"h-4 w-4"}):o.jsx(ml,{className:"h-4 w-4"})}),N&&o.jsx("button",{onClick:()=>V(M.id,M.name),className:"ml-2 p-1 text-red-600 hover:text-red-800",children:o.jsx(gf,{className:"h-4 w-4"})})]})]},M.id)})})]})}),o.jsx(I6e,{isOpen:c,onClose:R,productToEdit:d})]})},P6e=["#10B981","#F59E0B","#EF4444"],k6e=({feedbackData:t,isLoading:e})=>{const n=g.useMemo(()=>{if(!t.length)return null;const r=t.filter(f=>f.rating>0),i=r.length;if(i===0)return null;const s=r.reduce((f,m)=>f+m.rating,0)/i,a=r.filter(f=>f.rating===5).length,l=r.filter(f=>f.rating<=3).length,c=Math.round((a-l)/i*100),u=[{name:"Positive (5)",value:a},{name:"Neutral (4)",value:r.filter(f=>f.rating===4).length},{name:"Negative (1-3)",value:l}],h=["food","service","system","other"].map(f=>{const m=r.filter(v=>v.category===f),y=m.length?m.reduce((v,x)=>v+x.rating,0)/m.length:0;return{name:f.charAt(0).toUpperCase()+f.slice(1),rating:Number(y.toFixed(1)),count:m.length}}).filter(f=>f.count>0);return{avgRating:s,nps:c,sentimentData:u,categoryData:h,totalReviews:i}},[t]);return e?o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-8",children:[o.jsx(be,{className:"h-80 animate-pulse bg-gray-100",children:o.jsx("div",{})}),o.jsx(be,{className:"h-80 animate-pulse bg-gray-100",children:o.jsx("div",{})})]}):n?o.jsxs("div",{className:"mt-8 space-y-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Customer Satisfaction & Feedback"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(be,{className:"flex items-center justify-between p-6 bg-gradient-to-br from-yellow-50 to-amber-50 border-amber-100",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Average Rating"}),o.jsxs("div",{className:"flex items-baseline gap-2 mt-1",children:[o.jsx("span",{className:"text-3xl font-bold text-amber-900",children:n.avgRating.toFixed(1)}),o.jsx("div",{className:"flex text-amber-500",children:[...Array(5)].map((r,i)=>o.jsx(vs,{className:`w-4 h-4 ${i<Math.round(n.avgRating)?"fill-current":"text-amber-200"}`},i))})]}),o.jsxs("p",{className:"text-xs text-amber-700 mt-1",children:["Based on ",n.totalReviews," reviews"]})]})}),o.jsxs(be,{className:`flex items-center justify-between p-6 bg-gradient-to-br ${n.nps>0?"from-green-50 to-emerald-50 border-emerald-100":"from-red-50 to-rose-50 border-rose-100"}`,children:[o.jsxs("div",{children:[o.jsx("p",{className:`text-sm font-medium ${n.nps>0?"text-emerald-800":"text-rose-800"}`,children:"Net Promoter Score (NPS)"}),o.jsx("div",{className:"flex items-baseline gap-2 mt-1",children:o.jsxs("span",{className:`text-3xl font-bold ${n.nps>0?"text-emerald-900":"text-rose-900"}`,children:[n.nps>0?"+":"",n.nps]})}),o.jsx("p",{className:`text-xs mt-1 ${n.nps>0?"text-emerald-700":"text-rose-700"}`,children:n.nps>50?"Excellent":n.nps>0?"Good":"Needs Improvement"})]}),o.jsx("div",{className:`p-3 rounded-full ${n.nps>0?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"}`,children:n.nps>0?o.jsx(ZT,{className:"w-6 h-6"}):o.jsx(wie,{className:"w-6 h-6"})})]}),o.jsx(be,{className:"flex items-center justify-between p-6 bg-white border-gray-100",children:o.jsxs("div",{className:"w-full",children:[o.jsx("p",{className:"text-sm font-medium text-gray-500 mb-3",children:"Sentiment Distribution"}),o.jsx("div",{className:"flex h-4 w-full rounded-full overflow-hidden",children:n.sentimentData.map((r,i)=>o.jsx("div",{style:{width:`${r.value/n.totalReviews*100}%`,backgroundColor:P6e[i]},title:`${r.name}: ${r.value}`},r.name))}),o.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-500",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"Pos"]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),"Neu"]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),"Neg"]})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(be,{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Rating by Category"}),o.jsx("div",{className:"h-64",children:o.jsx(Wh,{width:"100%",height:"100%",children:o.jsxs(Fk,{data:n.categoryData,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[o.jsx(tf,{type:"number",domain:[0,5],hide:!0}),o.jsx(nf,{dataKey:"name",type:"category",width:80,tick:{fontSize:12}}),o.jsx(Zh,{cursor:{fill:"transparent"}}),o.jsx(Wg,{dataKey:"rating",fill:"#8B5CF6",radius:[0,4,4,0],barSize:20,background:{fill:"#F3F4F6"},children:n.categoryData.map((r,i)=>o.jsx(sc,{fill:r.rating>=4.5?"#10B981":r.rating>=4?"#8B5CF6":"#F59E0B"},`cell-${i}`))})]})})})]}),o.jsxs(be,{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Feedback Volume Trend"}),o.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400 text-sm bg-gray-50 rounded-lg border border-dashed border-gray-200",children:"Chart placeholder (Requires historical data aggregation)"})]})]})]}):o.jsxs(be,{className:"mt-8 text-center py-12",children:[o.jsx(Hl,{className:"mx-auto h-12 w-12 text-gray-300"}),o.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No Feedback Data"}),o.jsx("p",{className:"text-gray-500",children:"Collect more customer feedback to see satisfaction metrics."})]})},R6e=()=>{const[t,e]=g.useState([]),[n,r]=g.useState(!0);return g.useEffect(()=>{(async()=>{r(!0);try{const a=(await he.collection("feedback").orderBy("createdAt","desc").limit(100).get()).docs.map(l=>{var c,u;return{id:l.id,...l.data(),createdAt:(c=l.data().createdAt)==null?void 0:c.toDate(),updatedAt:(u=l.data().updatedAt)==null?void 0:u.toDate()}});e(a)}catch(s){console.error("Error fetching feedback:",s)}finally{r(!1)}})()},[]),o.jsxs("div",{className:"space-y-8",children:[o.jsx(JQ,{}),o.jsx("div",{className:"border-t border-gray-200 pt-8",children:o.jsx(k6e,{feedbackData:t,isLoading:n})})]})},O6e={pending:"bg-yellow-100 text-yellow-800 border-yellow-200",published:"bg-blue-100 text-blue-800 border-blue-200",resolved:"bg-green-100 text-green-800 border-green-200"},D6e=({feedback:t,onRespond:e})=>{const n=t.user?`${t.user.firstName} ${t.user.lastName}`:`User ${t.userId.substring(0,6)}`,r=t.rating===0;return o.jsxs("div",{className:`flex flex-col rounded-xl border bg-white p-5 shadow-sm transition-all hover:shadow-md group ${r?"border-l-4 border-l-red-500":"border-gray-100"}`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center text-sm font-bold ${r?"bg-red-50 text-red-600":"bg-gray-100 text-gray-600"}`,children:r?o.jsx(bne,{className:"h-5 w-5"}):n.charAt(0)}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-gray-800 text-sm",children:n}),o.jsx("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:t.createdAt?kC(t.createdAt,{addSuffix:!0}):"Just now"})]})]}),o.jsx(tr,{className:`capitalize border ${O6e[t.status]}`,children:t.status})]}),o.jsxs("div",{className:"mb-3",children:[r?o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-md bg-red-50 px-2.5 py-1 text-xs font-bold text-red-700 ring-1 ring-inset ring-red-600/10",children:[o.jsx(Un,{className:"h-3.5 w-3.5"}),"Issue Report"]}),o.jsx("span",{className:"inline-flex items-center gap-1 rounded-md bg-gray-50 px-2 py-1 text-xs font-medium text-gray-600 ring-1 ring-inset ring-gray-500/10 capitalize",children:t.category})]}):o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(hb,{rating:t.rating,readonly:!0,size:"sm"}),o.jsx("span",{className:"text-xs text-gray-400",children:""}),o.jsx("span",{className:"text-xs font-medium text-gray-500 capitalize",children:t.category})]}),o.jsxs("div",{className:`rounded-lg p-3 text-sm ${r?"bg-red-50/50 text-gray-800":"bg-gray-50 text-gray-600"}`,children:['"',t.comment,'"']})]}),o.jsx("div",{className:"mt-auto pt-2",children:o.jsxs("button",{onClick:e,className:`w-full flex items-center justify-center gap-2 rounded-lg px-4 py-2.5 text-sm font-semibold transition-colors 
            ${r?"bg-red-600 text-white hover:bg-red-700 shadow-sm":"bg-white border border-gray-200 text-gray-700 hover:bg-gray-50 hover:text-primary-600"}`,children:[o.jsx(Hl,{className:"h-4 w-4"}),r?"Resolve Issue":"View & Respond"]})})]})},M6e=({isOpen:t,onClose:e,feedback:n})=>{const[r,i]=g.useState(n.response||""),[s,a]=g.useState(n.status),[l,c]=g.useState(!1);g.useEffect(()=>{t&&(i(n.response||""),a(n.status))},[t,n]);const u=async h=>{h.preventDefault(),c(!0);try{await he.collection("feedback").doc(n.id).update({response:r,status:s,updatedAt:Fe.firestore.FieldValue.serverTimestamp()}),e()}catch(f){console.error("Error updating feedback: ",f)}finally{c(!1)}},d=n.user?`${n.user.firstName} ${n.user.lastName}`:`User ID: ${n.userId}`;return o.jsx(ea,{isOpen:t,onClose:e,title:`Feedback from ${d}`,children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-500",children:"Rating"}),o.jsx(hb,{rating:n.rating,readonly:!0})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-500",children:"Comment"}),o.jsx("p",{className:"mt-1 max-h-40 overflow-y-auto rounded-md bg-gray-50 p-3 text-gray-700 whitespace-pre-wrap",children:n.comment})]}),o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"response",className:"block text-sm font-medium text-gray-700",children:"Your Response"}),o.jsx("textarea",{id:"response",value:r,onChange:h=>i(h.target.value),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Write a response to the customer..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Update Status"}),o.jsx("div",{className:"mt-2 flex gap-2 rounded-full bg-gray-100 p-1",children:["pending","published","resolved"].map(h=>o.jsx("button",{type:"button",onClick:()=>a(h),className:`w-full rounded-full py-1.5 text-sm font-semibold capitalize transition-colors ${s===h?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:h},h))})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsx(Ae,{type:"button",variant:"ghost",onClick:e,children:"Cancel"}),o.jsxs(Ae,{type:"submit",disabled:l,children:[l?o.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}):o.jsx(JT,{className:"mr-2 h-4 w-4"}),"Save Response"]})]})]})]})})},L6e=()=>{const[t,e]=g.useState([]),[n,r]=g.useState(!0),[i,s]=g.useState("pending"),[a,l]=g.useState("all"),[c,u]=g.useState(!1),[d,h]=g.useState(null);g.useEffect(()=>{const x=new Map,w=async()=>{if(x.size>0)return x;const N=bg(he,"users");return(await vI(N)).forEach(C=>{const j=C.data();x.set(C.id,{firstName:j.firstName,lastName:j.lastName,email:j.email})}),x},_=js(bg(he,"feedback"),n7("createdAt","desc")),b=xI(_,async N=>{try{const E=await w(),C=[];N.forEach(j=>{var A,P;const T=j.data();C.push({id:j.id,...T,createdAt:(A=T.createdAt)==null?void 0:A.toDate(),updatedAt:(P=T.updatedAt)==null?void 0:P.toDate(),user:E.get(T.userId)})}),e(C)}catch(E){console.error("Error processing feedback data:",E)}finally{r(!1)}},N=>{console.error("Error fetching feedback: ",N),r(!1)});return()=>b()},[]);const f=g.useMemo(()=>t.filter(x=>!(i!=="all"&&x.status!==i||a==="reviews"&&x.rating===0||a==="reports"&&x.rating>0)),[i,a,t]),m=g.useMemo(()=>({total:t.length,reviews:t.filter(x=>x.rating>0).length,reports:t.filter(x=>x.rating===0).length,pending:t.filter(x=>x.status==="pending").length}),[t]),y=x=>{h(x),u(!0)},v=()=>{u(!1),h(null)};return n?o.jsx("div",{className:"flex h-full items-center justify-center",children:o.jsx(Lt,{className:"h-12 w-12 animate-spin text-primary-600"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-end md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"font-display text-3xl font-bold text-gray-800",children:"Feedback & Support"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Manage customer reviews and resolve reported issues."})]}),o.jsxs("div",{className:"flex p-1 bg-gray-100 rounded-lg self-start md:self-auto",children:[o.jsxs("button",{onClick:()=>l("all"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${a==="all"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:["All (",m.total,")"]}),o.jsxs("button",{onClick:()=>l("reviews"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-all ${a==="reviews"?"bg-white text-primary-700 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[o.jsx(vs,{className:"h-4 w-4"}),"Reviews (",m.reviews,")"]}),o.jsxs("button",{onClick:()=>l("reports"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-all ${a==="reports"?"bg-white text-red-700 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[o.jsx(Un,{className:"h-4 w-4"}),"Issues (",m.reports,")"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:[o.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white border border-gray-200 rounded-full text-sm font-medium text-gray-600",children:[o.jsx(QU,{className:"h-4 w-4"}),o.jsx("span",{children:"Filter Status:"})]}),["pending","published","resolved","all"].map(x=>o.jsx("button",{onClick:()=>s(x),className:`rounded-full px-4 py-1.5 text-sm font-semibold capitalize transition-all border ${i===x?"bg-gray-800 text-white border-gray-800":"bg-white text-gray-600 border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:x},x))]}),f.length>0?o.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:f.map(x=>o.jsx(D6e,{feedback:x,onRespond:()=>y(x)},x.id))}):o.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border-2 border-dashed border-gray-200 bg-gray-50/50 p-16 text-center",children:[o.jsx("div",{className:"h-16 w-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:o.jsx(Hl,{className:"h-8 w-8 text-gray-400"})}),o.jsx("h2",{className:"text-xl font-bold text-gray-700",children:"No items found"}),o.jsxs("p",{className:"mt-2 text-gray-500 max-w-sm",children:["There are no ",a==="reports"?"issue reports":a==="reviews"?"reviews":"items",' matching the "',i,'" filter.']}),i!=="all"&&o.jsx("button",{onClick:()=>s("all"),className:"mt-6 text-primary-600 font-semibold hover:text-primary-700",children:"Clear Filters"})]}),d&&o.jsx(M6e,{isOpen:c,onClose:v,feedback:d})]})},V6e=({enabled:t,onChange:e,label:n,description:r,Icon:i})=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[i&&o.jsx(i,{className:"h-5 w-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-800",children:n}),r&&o.jsx("p",{className:"text-sm text-gray-500",children:r})]})]}),o.jsx("button",{type:"button",className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${t?"bg-primary-600":"bg-gray-200"}`,role:"switch","aria-checked":t,onClick:()=>e(!t),children:o.jsx("span",{"aria-hidden":"true",className:`inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${t?"translate-x-5":"translate-x-0"}`})})]}),dv={shopName:"Rush Coffee",address:"123 Coffee Street, Malate, Manila",phone:"+63 917 123 4567",email:"hello@rushcoffee.ph",operatingHours:"Mon-Sun: 7:00 AM - 10:00 PM",announcement:{enabled:!1,message:"Welcome to Rush Coffee! Enjoy our new Matcha series."}},z6e=()=>{const[t,e]=g.useState(dv),[n,r]=g.useState(!0),[i,s]=g.useState(!1),[a,l]=g.useState(null),{showToast:c}=lr();g.useEffect(()=>{(async()=>{const m=he.collection("settings").doc("shopConfig");try{const y=await m.get();y.exists?e({...dv,...y.data()}):e(dv)}catch(y){if(console.error("Error fetching settings:",y),y.code==="permission-denied"){const x=o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"font-bold",children:"Permission Denied: Cannot access Shop Settings."}),o.jsx("p",{className:"mt-1",children:"This is a Firestore security rule issue. Please update your rules in the Firebase Console to allow admins to manage settings."}),o.jsxs("p",{className:"mt-2",children:["Ensure you have a rule like this in your ",o.jsx("code",{className:"bg-red-200 text-red-900 px-1 rounded",children:"firestore.rules"})," file:"]}),o.jsx("pre",{className:"mt-2 text-xs bg-red-200 text-red-900 p-2 rounded-md overflow-x-auto",children:o.jsx("code",{children:`
service cloud.firestore {
  match /databases/{database}/documents {
    // ... your other rules ...

    // ADD OR UPDATE THIS RULE:
    match /settings/{docId} {
      allow read: if true;
      allow write: if get(/databases/$(database)/documents/users/$(request.auth.uid)).data.role == 'admin';
    }
  }
}`.trim()})})]});l(x)}else l("An error occurred while loading shop settings. Please check the console for details.");e(dv)}finally{r(!1)}})()},[]);const u=f=>{const{name:m,value:y}=f.target;e(v=>({...v,[m]:y}))},d=(f,m)=>{e(y=>({...y,announcement:{...y.announcement,[f]:m}}))},h=async f=>{f.preventDefault(),s(!0);try{await he.collection("settings").doc("shopConfig").set(t,{merge:!0}),c("Settings saved successfully!"),a&&l(null)}catch(m){console.error("Error saving settings:",m),m.code==="permission-denied"?l("Save Failed: Your account does not have permission to write to shop settings. Please check your Firestore security rules. Changes were not saved."):l("Failed to save settings. An error occurred.")}finally{s(!1)}};return n?o.jsx("div",{className:"flex h-full items-center justify-center",children:o.jsx(Lt,{className:"h-12 w-12 animate-spin text-primary-600"})}):o.jsxs("div",{children:[o.jsx("h1",{className:"mb-6 font-display text-3xl font-bold text-gray-800",children:"Shop Settings"}),a&&o.jsxs("div",{className:"mb-6 flex items-start gap-3 rounded-lg bg-red-50 p-4 text-sm text-red-700",children:[o.jsx(Un,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),o.jsx("div",{children:a})]}),o.jsxs("form",{onSubmit:h,className:"mx-auto max-w-4xl space-y-6",children:[o.jsxs("fieldset",{disabled:!!a,className:"space-y-6 disabled:opacity-50",children:[o.jsxs(be,{children:[o.jsxs("h2",{className:"mb-4 flex items-center gap-2 text-xl font-bold text-gray-800",children:[o.jsx(vie,{className:"h-5 w-5 text-primary-600"}),"Shop Information"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(fi,{label:"Shop Name",name:"shopName",id:"shopName",value:t.shopName,onChange:u,placeholder:"Enter shop name"}),o.jsx(fi,{label:"Address",name:"address",id:"address",value:t.address,onChange:u,placeholder:"Enter shop address"}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[o.jsx(fi,{label:"Contact Phone",name:"phone",id:"phone",type:"tel",value:t.phone,onChange:u,placeholder:"Enter contact phone"}),o.jsx(fi,{label:"Contact Email",name:"email",id:"email",type:"email",value:t.email,onChange:u,placeholder:"Enter contact email"})]})]})]}),o.jsxs(be,{children:[o.jsxs("h2",{className:"mb-4 flex items-center gap-2 text-xl font-bold text-gray-800",children:[o.jsx(ca,{className:"h-5 w-5 text-primary-600"}),"Operating Hours"]}),o.jsx("div",{children:o.jsx(RC,{label:"Display Text",name:"operatingHours",id:"operatingHours",value:t.operatingHours,onChange:u,rows:3,placeholder:`e.g., Mon-Fri: 7am - 8pm
Sat-Sun: 8am - 6pm`,helperText:"This text will be displayed in the footer and contact page."})})]}),o.jsxs(be,{children:[o.jsxs("h2",{className:"mb-4 flex items-center gap-2 text-xl font-bold text-gray-800",children:[o.jsx(bD,{className:"h-5 w-5 text-primary-600"}),"System-wide Announcement"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(V6e,{Icon:bD,label:"Enable Announcement Banner",description:"Show a banner at the top of the site.",enabled:t.announcement.enabled,onChange:f=>d("enabled",f)}),o.jsx("div",{children:o.jsx(fi,{label:"Announcement Message",name:"announcementMessage",id:"announcementMessage",value:t.announcement.message,onChange:f=>d("message",f.target.value),placeholder:"Enter announcement message"})})]})]})]}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-end gap-3",children:o.jsxs(Ae,{type:"submit",disabled:i||!!a,size:"lg",className:"w-full sm:w-auto",children:[i?o.jsx(Lt,{className:"mr-2 h-5 w-5 animate-spin"}):o.jsx(pf,{className:"mr-2 h-5 w-5"}),"Save Settings"]})})]})]})},EV=()=>{const[t,e]=g.useState([]),[n,r]=g.useState(!0),[i,s]=g.useState("all"),[a,l]=g.useState("all"),[c,u]=g.useState("");g.useEffect(()=>{const y=he.collection("orders").orderBy("timestamp","desc").onSnapshot(v=>{const x=v.docs.map(w=>{var b;const _=w.data();return{id:w.id,..._,orderItems:_.orderItems||_.items||[],timestamp:(b=_.timestamp)!=null&&b.toDate?_.timestamp.toDate():_.timestamp?new Date(_.timestamp):new Date,totalAmount:_.totalAmount||_.subtotal||0}});e(x),r(!1)},v=>{console.error("Error fetching orders:",v),r(!1)});return()=>y()},[]);const d=t.filter(y=>{const v=i==="all"||y.status===i,x=y.id.toLowerCase().includes(c.toLowerCase())||(y.customerName||"").toLowerCase().includes(c.toLowerCase())||(y.orderNumber||"").toLowerCase().includes(c.toLowerCase());let w=!0;if(a!=="all"){const _=new Date(y.timestamp),b=new Date;if(b.setHours(0,0,0,0),a==="today")w=_>=b;else if(a==="week"){const N=new Date(b);N.setDate(b.getDate()-7),w=_>=N}else if(a==="month"){const N=new Date(b);N.setMonth(b.getMonth()-1),w=_>=N}}return v&&x&&w}),h=y=>{switch(y){case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"preparing":return"bg-yellow-100 text-yellow-800";case"ready":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},f=y=>y==="gcash"?o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium bg-blue-50 text-blue-700 border border-blue-100",children:[o.jsx(jw,{className:"w-3 h-3"})," GCash"]}):o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium bg-green-50 text-green-700 border border-green-100",children:[o.jsx(YT,{className:"w-3 h-3"})," Cash"]}),m=y=>{try{if(!y)return"N/A";const v=new Date(y);return isNaN(v.getTime())?"Invalid Date":new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).format(v)}catch{return"Error"}};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Order History"}),o.jsx("p",{className:"text-gray-500",children:"View and manage all past orders"})]})}),o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex flex-col lg:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ya,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"text",placeholder:"Search by Order ID, Name, or Order #",value:c,onChange:y=>u(y.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-coffee-500 focus:border-transparent outline-none"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("div",{className:"relative",children:[o.jsxs("select",{value:i,onChange:y=>s(y.target.value),className:"appearance-none bg-white border border-gray-200 text-gray-700 py-2 px-4 pr-8 rounded-lg focus:outline-none focus:ring-2 focus:ring-coffee-500 cursor-pointer",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"cancelled",children:"Cancelled"}),o.jsx("option",{value:"ready",children:"Ready"}),o.jsx("option",{value:"preparing",children:"Preparing"}),o.jsx("option",{value:"waiting",children:"Waiting"})]}),o.jsx(zu,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{value:a,onChange:y=>l(y.target.value),className:"appearance-none bg-white border border-gray-200 text-gray-700 py-2 px-4 pr-8 rounded-lg focus:outline-none focus:ring-2 focus:ring-coffee-500 cursor-pointer",children:[o.jsx("option",{value:"all",children:"All Dates"}),o.jsx("option",{value:"today",children:"Today"}),o.jsx("option",{value:"week",children:"Last 7 Days"}),o.jsx("option",{value:"month",children:"Last 30 Days"})]}),o.jsx(Vs,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100 text-xs uppercase tracking-wider text-gray-500 font-semibold",children:[o.jsx("th",{className:"px-6 py-4",children:"Order Details"}),o.jsx("th",{className:"px-6 py-4",children:"Customer"}),o.jsx("th",{className:"px-6 py-4",children:"Items"}),o.jsx("th",{className:"px-6 py-4",children:"Payment"}),o.jsx("th",{className:"px-6 py-4",children:"Total"}),o.jsx("th",{className:"px-6 py-4",children:"Status"}),o.jsx("th",{className:"px-6 py-4",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:n?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"Loading orders..."})}):d.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"No orders found matching your criteria."})}):d.map(y=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[o.jsxs("td",{className:"px-6 py-4",children:[o.jsxs("div",{className:"font-medium text-gray-900",children:["#",y.orderNumber]}),o.jsxs("div",{className:"text-xs text-gray-500 mt-0.5 flex items-center gap-1",children:[o.jsx(Vs,{className:"w-3 h-3"}),m(y.timestamp)]})]}),o.jsx("td",{className:"px-6 py-4 text-gray-600 font-medium",children:y.customerName}),o.jsx("td",{className:"px-6 py-4 text-gray-600",children:o.jsxs("span",{title:(y.orderItems||[]).map(v=>`${v.quantity}x ${v.productName}`).join(", "),className:"text-sm",children:[(y.orderItems||[]).length," items"]})}),o.jsx("td",{className:"px-6 py-4",children:f(y.paymentMethod||"cash")}),o.jsxs("td",{className:"px-6 py-4 font-medium text-gray-900",children:["",y.totalAmount.toFixed(2)]}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`inline-flex w-fit px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${h(y.status)}`,children:y.status}),y.status==="cancelled"&&o.jsxs("span",{className:"text-xs text-red-500 flex items-center gap-1",children:[o.jsx(Un,{className:"w-3 h-3"}),"Cancelled"]})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("button",{className:"text-coffee-600 hover:text-coffee-700 font-medium text-sm flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx(ml,{className:"w-4 h-4"}),"View"]})})]},y.id))})]})}),!n&&d.length>0&&o.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex justify-between items-center text-sm text-gray-600 bg-gray-50/50",children:[o.jsxs("span",{children:["Showing ",d.length," orders"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:"px-3 py-1.5 border border-gray-200 rounded-lg hover:bg-white hover:shadow-sm disabled:opacity-50 transition-all text-xs font-medium",disabled:!0,children:"Previous"}),o.jsx("button",{className:"px-3 py-1.5 border border-gray-200 rounded-lg hover:bg-white hover:shadow-sm disabled:opacity-50 transition-all text-xs font-medium",disabled:!0,children:"Next"})]})]})]})]})},U6e=()=>{const[t,e]=g.useState([]),[n,r]=g.useState(!0),[i,s]=g.useState(""),[a,l]=g.useState("all"),[c,u]=g.useState(null);g.useEffect(()=>{const b=N=>{c&&!N.target.closest(".action-menu")&&u(null)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[c]),g.useEffect(()=>{const b=he.collection("users").onSnapshot(N=>{const E=N.docs.map(C=>{var T;const j=C.data();return{uid:C.id,...j,totalSpent:j.totalSpent??0,totalOrders:j.totalOrders??0,createdAt:((T=j.createdAt)==null?void 0:T.toDate())||new Date}});e(E),r(!1)},N=>{console.error("Error fetching users:",N),r(!1)});return()=>b()},[]);const d=t.filter(b=>{var j,T,A,P;const N=a==="all"||b.role===a,E=i.toLowerCase(),C=(((j=b.firstName)==null?void 0:j.toLowerCase())||"").includes(E)||(((T=b.lastName)==null?void 0:T.toLowerCase())||"").includes(E)||(((A=b.email)==null?void 0:A.toLowerCase())||"").includes(E)||(((P=b.phone)==null?void 0:P.toLowerCase())||"").includes(E);return N&&C}),h=t.length,f=t.filter(b=>b.role==="customer"||!b.role).length,m=t.filter(b=>b.role==="employee").length,y=t.filter(b=>b.role==="admin").length,v=b=>{switch(b){case"admin":return o.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-xs font-medium bg-purple-50 text-purple-700 ring-1 ring-inset ring-purple-700/10",children:[o.jsx(Or,{className:"w-3.5 h-3.5"})," Admin"]});case"employee":return o.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-xs font-medium bg-blue-50 text-blue-700 ring-1 ring-inset ring-blue-700/10",children:[o.jsx(AN,{className:"w-3.5 h-3.5"})," Employee"]});default:return o.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-xs font-medium bg-green-50 text-green-700 ring-1 ring-inset ring-green-600/20",children:[o.jsx(Ki,{className:"w-3.5 h-3.5"})," Customer"]})}},x=b=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(b),w=async(b,N)=>{try{await he.collection("users").doc(b).update({role:N}),u(null)}catch(E){console.error("Error updating user role:",E)}},_=({title:b,value:N,icon:E,color:C})=>o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-[0_2px_10px_-3px_rgba(6,81,237,0.1)] border border-gray-100 flex items-center gap-4 transition-all hover:shadow-md",children:[o.jsx("div",{className:`p-3 rounded-xl ${C} bg-opacity-10`,children:o.jsx(E,{className:`w-6 h-6 ${C.replace("bg-","text-")}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 font-medium mb-1",children:b}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:N})]})]});return o.jsxs("div",{className:"space-y-8 pb-10 max-w-[1600px] mx-auto",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"User Management"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Manage access, roles, and view user statistics."})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(_,{title:"Total Users",value:h,icon:Da,color:"bg-gray-600"}),o.jsx(_,{title:"Customers",value:f,icon:Ki,color:"bg-green-600"}),o.jsx(_,{title:"Employees",value:m,icon:AN,color:"bg-blue-600"}),o.jsx(_,{title:"Admins",value:y,icon:Or,color:"bg-purple-600"})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-[0_2px_10px_-3px_rgba(6,81,237,0.1)] border border-gray-100 overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"p-5 border-b border-gray-100 flex flex-col sm:flex-row gap-4 justify-between bg-white items-center",children:[o.jsxs("div",{className:"relative w-full sm:max-w-md",children:[o.jsx(Ya,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"text",placeholder:"Search by name, email, or phone...",value:i,onChange:b=>s(b.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-coffee-500 focus:border-transparent outline-none transition-all"})]}),o.jsx("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:o.jsxs("div",{className:"relative w-full sm:w-48",children:[o.jsxs("select",{value:a,onChange:b=>l(b.target.value),className:"w-full appearance-none bg-gray-50 border border-gray-200 text-gray-700 py-2.5 px-4 pr-10 rounded-lg focus:outline-none focus:ring-2 focus:ring-coffee-500 cursor-pointer font-medium text-sm",children:[o.jsx("option",{value:"all",children:"All Roles"}),o.jsx("option",{value:"customer",children:"Customers"}),o.jsx("option",{value:"employee",children:"Employees"}),o.jsx("option",{value:"admin",children:"Admins"})]}),o.jsx(QU,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left border-collapse",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50/50 border-b border-gray-100 text-xs uppercase tracking-wider text-gray-500 font-semibold",children:[o.jsx("th",{className:"px-6 py-4 w-[25%]",children:"User Details"}),o.jsx("th",{className:"px-6 py-4 w-[15%]",children:"Role"}),o.jsx("th",{className:"px-6 py-4 w-[25%]",children:"Contact Info"}),o.jsx("th",{className:"px-6 py-4 w-[15%]",children:"Activity"}),o.jsx("th",{className:"px-6 py-4 w-[15%]",children:"Joined"}),o.jsx("th",{className:"px-6 py-4 w-[5%] text-right"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-50",children:n?Array.from({length:5}).map((b,N)=>o.jsxs("tr",{className:"animate-pulse",children:[o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full inline-block mr-3"}),o.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded inline-block"})]}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"h-6 w-20 bg-gray-200 rounded-full"})}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded mb-2"}),o.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded"})]}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"h-4 w-16 bg-gray-200 rounded mb-2"}),o.jsx("div",{className:"h-4 w-12 bg-gray-200 rounded"})]}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded"})}),o.jsx("td",{className:"px-6 py-4"})]},N)):d.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-6 py-16 text-center text-gray-500",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"bg-gray-100 p-4 rounded-full mb-4",children:o.jsx(Da,{className:"w-8 h-8 text-gray-400"})}),o.jsx("p",{className:"text-lg font-medium text-gray-900",children:"No users found"}),o.jsx("p",{className:"text-sm mt-1",children:"Try adjusting your search or filters."})]})})}):d.map(b=>{var N,E;return o.jsxs("tr",{className:"group hover:bg-gray-50/50 transition-colors duration-150",children:[o.jsx("td",{className:"px-6 py-4 align-top",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center text-gray-600 font-bold shadow-sm overflow-hidden border border-white ring-1 ring-gray-100 flex-shrink-0",children:b.photoURL?o.jsx("img",{src:b.photoURL,alt:b.firstName,className:"w-full h-full object-cover"}):o.jsxs("span",{className:"text-sm",children:[(N=b.firstName)==null?void 0:N[0],(E=b.lastName)==null?void 0:E[0]]})}),o.jsxs("div",{children:[o.jsxs("div",{className:"font-semibold text-gray-900",children:[b.firstName," ",b.lastName]}),o.jsxs("div",{className:"text-xs text-gray-400 font-mono mt-1 flex items-center gap-1",children:[o.jsx("span",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-[10px]",children:"ID"}),b.uid.slice(0,8)]})]})]})}),o.jsx("td",{className:"px-6 py-4 align-top pt-5",children:v(b.role)}),o.jsx("td",{className:"px-6 py-4 align-top",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 group-hover:text-gray-900 transition-colors",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-50 flex items-center justify-center flex-shrink-0",children:o.jsx(ir,{className:"w-3 h-3 text-gray-400"})}),o.jsx("span",{className:"truncate max-w-[180px]",title:b.email||"",children:b.email})]}),b.phone?o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 group-hover:text-gray-900 transition-colors",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-50 flex items-center justify-center flex-shrink-0",children:o.jsx(ys,{className:"w-3 h-3 text-gray-400"})}),o.jsx("span",{children:b.phone})]}):o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-50 flex items-center justify-center flex-shrink-0",children:o.jsx(ys,{className:"w-3 h-3 text-gray-300"})}),o.jsx("span",{className:"italic text-xs",children:"No phone"})]})]})}),o.jsx("td",{className:"px-6 py-4 align-top",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-500 text-xs uppercase font-medium",children:"Orders"}),o.jsx("span",{className:"font-semibold text-gray-900 bg-gray-100 px-2 py-0.5 rounded-md min-w-[2rem] text-center",children:b.totalOrders})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-500 text-xs uppercase font-medium",children:"Spent"}),o.jsxs("span",{className:"font-medium text-coffee-700",children:["",b.totalSpent.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-500 text-xs uppercase font-medium",children:"Points"}),o.jsxs("span",{className:"font-medium text-amber-600",children:[b.loyaltyPoints||0," pts"]})]})]})}),o.jsx("td",{className:"px-6 py-4 align-top pt-5",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[o.jsx(Vs,{className:"w-3.5 h-3.5 text-gray-400"}),x(b.createdAt)]})}),o.jsxs("td",{className:"px-6 py-4 text-right align-top pt-4 relative action-menu",children:[o.jsx("button",{onClick:()=>u(c===b.uid?null:b.uid),className:`p-2 rounded-lg transition-all ${c===b.uid?"bg-coffee-50 text-coffee-600 ring-1 ring-coffee-200":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,children:o.jsx(nre,{className:"w-5 h-5"})}),c===b.uid&&o.jsx("div",{className:"absolute right-8 top-8 w-56 bg-white rounded-xl shadow-[0_4px_20px_-4px_rgba(0,0,0,0.1)] border border-gray-100 z-50 animate-in fade-in zoom-in-95 duration-100 origin-top-right",children:o.jsxs("div",{className:"p-1.5",children:[o.jsx("div",{className:"px-3 py-2 text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"Change Role"}),o.jsxs("button",{onClick:()=>w(b.uid,"admin"),className:`w-full text-left px-3 py-2.5 rounded-lg text-sm flex items-center gap-3 transition-colors ${b.role==="admin"?"bg-purple-50 text-purple-700 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[o.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${b.role==="admin"?"bg-purple-100":"bg-gray-100"}`,children:o.jsx(Or,{className:"w-3.5 h-3.5"})}),"Admin",b.role==="admin"&&o.jsx(fl,{className:"w-4 h-4 ml-auto text-purple-600"})]}),o.jsxs("button",{onClick:()=>w(b.uid,"employee"),className:`w-full text-left px-3 py-2.5 rounded-lg text-sm flex items-center gap-3 transition-colors ${b.role==="employee"?"bg-blue-50 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[o.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${b.role==="employee"?"bg-blue-100":"bg-gray-100"}`,children:o.jsx(AN,{className:"w-3.5 h-3.5"})}),"Employee",b.role==="employee"&&o.jsx(fl,{className:"w-4 h-4 ml-auto text-blue-600"})]}),o.jsxs("button",{onClick:()=>w(b.uid,"customer"),className:`w-full text-left px-3 py-2.5 rounded-lg text-sm flex items-center gap-3 transition-colors ${!b.role||b.role==="customer"?"bg-green-50 text-green-700 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[o.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${!b.role||b.role==="customer"?"bg-green-100":"bg-gray-100"}`,children:o.jsx(Ki,{className:"w-3.5 h-3.5"})}),"Customer",(!b.role||b.role==="customer")&&o.jsx(fl,{className:"w-4 h-4 ml-auto text-green-600"})]})]})})]})]},b.uid)})})]})}),!n&&d.length>0&&o.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex justify-between items-center text-sm text-gray-600 bg-gray-50/50",children:[o.jsxs("span",{children:["Showing ",d.length," users"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:"px-3 py-1.5 border border-gray-200 rounded-lg hover:bg-white hover:shadow-sm disabled:opacity-50 transition-all text-xs font-medium",disabled:!0,children:"Previous"}),o.jsx("button",{className:"px-3 py-1.5 border border-gray-200 rounded-lg hover:bg-white hover:shadow-sm disabled:opacity-50 transition-all text-xs font-medium",disabled:!0,children:"Next"})]})]})]})]})},VS=[{to:"/employee",text:"Dashboard",icon:JU},{to:"/employee/queue",text:"Queue Management",icon:KU},{to:"/employee/inventory",text:"Inventory",icon:Xi},{to:"/employee/history",text:"Order History",icon:QT}],F6e=()=>{const{logout:t}=Zt(),e=$n(),n=Ur(),[r,i]=g.useState(!1),[s,a]=g.useState(!1),l=n.pathname,u=(VS.find(v=>v.to===l)||VS[0]).text,d=l==="/employee/pos",h=()=>{i(!0)},f=async()=>{try{await t(),e("/auth/login")}catch(v){console.error("Failed to log out:",v)}finally{i(!1)}},m=()=>{a(!1)};g.useEffect(()=>{m()},[e]),g.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[s]);const y=({isMobile:v=!1})=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-8 flex items-center justify-between gap-2 px-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(vn,{className:"h-8 w-8 text-primary-400"}),o.jsx("span",{className:"text-xl font-bold text-white",children:"Employee"})]}),v&&o.jsx("button",{onClick:m,className:"rounded-md p-2 text-gray-300 transition hover:bg-gray-700 hover:text-white lg:hidden","aria-label":"Close menu",children:o.jsx(wr,{className:"h-6 w-6"})})]}),o.jsx("nav",{className:"flex-grow",children:o.jsx("ul",{children:VS.map(({to:x,text:w,icon:_})=>o.jsx("li",{className:"mb-1",children:o.jsxs(ai,{to:x,end:x==="/employee",onClick:v?m:void 0,className:({isActive:b})=>`flex items-center gap-3 rounded-md px-3 py-2 transition-colors ${b?"bg-primary-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[o.jsx(_,{className:"h-5 w-5"}),o.jsx("span",{children:w})]})},x))})}),o.jsx("div",{className:"mt-4 border-t border-gray-700 pt-4",children:o.jsxs("button",{onClick:h,className:"flex w-full items-center gap-3 rounded-md px-3 py-2 text-left text-gray-300 transition-colors hover:bg-red-500/80 hover:text-white",children:[o.jsx(Zp,{className:"h-5 w-5"}),o.jsx("span",{children:"Logout"})]})}),o.jsx("div",{className:"mt-4 text-center text-xs text-gray-400",children:o.jsxs("p",{children:[" ",new Date().getFullYear()," Rush Coffee"]})})]});return o.jsxs("div",{className:"flex h-screen bg-gray-100",children:[!d&&o.jsx("aside",{className:"hidden w-64 flex-shrink-0 bg-gray-800 p-4 text-white lg:flex lg:flex-col",children:o.jsx(y,{})}),o.jsxs("div",{className:`fixed inset-0 z-50 transform transition-opacity duration-300 lg:hidden ${s?"opacity-100":"opacity-0 pointer-events-none"}`,children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:m,"aria-hidden":"true"}),o.jsx("aside",{className:`fixed top-0 left-0 flex h-full w-64 flex-col bg-gray-800 p-4 text-white shadow-2xl transition-transform duration-300 ease-in-out ${s?"translate-x-0":"-translate-x-full"}`,role:"dialog","aria-modal":"true","aria-label":"Mobile navigation menu",children:o.jsx(y,{isMobile:!0})})]}),o.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[!d&&o.jsx("header",{className:"border-b bg-white shadow-sm",children:o.jsxs("div",{className:"flex h-16 items-center justify-between px-4 sm:px-6",children:[o.jsx("button",{onClick:()=>a(!0),className:"rounded-md p-1.5 text-gray-700 transition hover:bg-gray-100 lg:hidden","aria-label":"Open menu","aria-expanded":s,children:o.jsx(Tw,{className:"h-5 w-5"})}),o.jsx("h1",{className:"text-lg font-semibold text-gray-800 sm:text-xl",children:u}),o.jsx("div",{className:"w-10 lg:w-0"})]})}),o.jsx("main",{className:`flex-1 overflow-y-auto ${d?"":"p-4 sm:p-6"}`,children:o.jsx(Ax,{})})]}),o.jsx(ZQ,{isOpen:r,onClose:()=>i(!1),onConfirm:f})]})},B6e=()=>{const[t,e]=g.useState("introduction"),n=(i,s)=>{i.preventDefault();const a=document.getElementById(s);if(a){const u=a.getBoundingClientRect().top+window.scrollY-200;window.scrollTo({top:u,behavior:"smooth"})}};g.useEffect(()=>{const i=()=>{const s=document.querySelectorAll("[id]");let a="introduction";s.forEach(l=>{const c=l.getBoundingClientRect().top;c<=200&&c>=-l.clientHeight+200&&(a=l.id)}),e(a)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]);const r=[{id:"introduction",icon:xD,title:"1. Introduction",content:'Welcome to Rush Coffee ("we," "our," or "us"). These Terms of Service govern your use of our website, mobile application, and services (collectively, the "Services"). By accessing or using our Services, you agree to be bound by these terms.'},{id:"accounts",icon:Da,title:"2. User Accounts",content:"To use certain features of our Services, you must register for an account. You agree to provide accurate, current, and complete information during the registration process and to update such information to keep it accurate, current, and complete. You are responsible for safeguarding your password and for all activities that occur under your account.",bullets:["You must be at least 13 years old to create an account","You are responsible for maintaining the confidentiality of your account credentials","You must notify us immediately of any unauthorized use of your account","We reserve the right to suspend or terminate accounts that violate these terms"]},{id:"orders",icon:jw,title:"3. Orders and Payments",content:"When you place an order through our Services, you are making an offer to purchase the products you have selected. All orders are subject to our acceptance. We reserve the right to refuse or cancel any order for any reason, including limitations on quantities available for purchase, inaccuracies, or errors in product or pricing information.",additional:'Payment for all orders must be made at the time of placing the order, unless you select "Cash on Pickup." We accept payment through GCash and other methods as may be made available from time to time.',bullets:["All prices are in Philippine Peso () and are subject to change without notice","You will receive an order confirmation via email or SMS","Orders cannot be cancelled once they are being prepared","Refunds are processed within 5-7 business days for eligible cancellations"]},{id:"rewards",icon:KT,title:"4. Rewards Program",content:"Our rewards program allows you to earn points for purchases and redeem them for rewards. Points are non-transferable and have no cash value. We reserve the right to modify, suspend, or terminate the rewards program at any time without notice.",bullets:["Points are earned based on purchase amount (1 point per 10 spent)","Points expire after 12 months of inactivity","Rewards can only be redeemed through your account","Fraudulent activity may result in forfeiture of all points and account termination"]},{id:"liability",icon:Or,title:"5. Limitation of Liability",content:"To the fullest extent permitted by applicable law, Rush Coffee shall not be liable for any indirect, incidental, special, consequential, or punitive damages, or any loss of profits or revenues, whether incurred directly or indirectly, or any loss of data, use, goodwill, or other intangible losses, resulting from:",bullets:["Your access to or use of or inability to access or use the Services","Any conduct or content of any third party on the Services","Unauthorized access, use, or alteration of your transmissions or content","Any errors or omissions in any content or for any loss or damage incurred as a result of the use of any content"]},{id:"changes",icon:uy,title:"6. Changes to Terms",content:'We may modify these Terms of Service from time to time. We will provide notice of any changes by posting the new Terms of Service on this page and updating the "Last updated" date. You are advised to review these Terms of Service periodically for any changes. Your continued use of the Services after any modifications indicates your acceptance of the updated terms.'},{id:"contact",icon:ir,title:"7. Contact Us",content:"If you have any questions about these Terms of Service, please contact us:",contact:{email:"hello@rushcoffee.ph",phone:"+63 930 464 1022",address:"11 Visayan Ave. St. Galas, Quezon City, Philippines"}}];return o.jsxs("div",{className:"bg-white",children:[o.jsx(ar,{}),o.jsxs("main",{children:[o.jsxs("section",{className:"relative flex min-h-[400px] items-center justify-center overflow-hidden bg-gradient-to-br from-primary-600 via-coffee-600 to-primary-700 px-6 py-16 text-center text-white",children:[o.jsxs("div",{className:"absolute inset-0 opacity-10",children:[o.jsx("div",{className:"absolute top-10 left-10 h-32 w-32 rounded-full bg-white blur-3xl"}),o.jsx("div",{className:"absolute bottom-20 right-10 h-40 w-40 rounded-full bg-white blur-3xl"})]}),o.jsxs("div",{className:"relative z-10 mx-auto w-full max-w-4xl",children:[o.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-white/10 backdrop-blur-sm",children:o.jsx(xD,{className:"h-10 w-10"})}),o.jsx("h1",{className:"font-display text-5xl font-bold md:text-6xl",children:"Terms of Service"}),o.jsx("p",{className:"mt-4 text-xl text-primary-100",children:"Please read these terms carefully before using our services"}),o.jsx("p",{className:"mt-2 text-sm text-white/80",children:"Last updated: November 22, 2023"})]})]}),o.jsx("section",{className:"sticky top-20 z-30 border-b border-gray-200 bg-white/95 py-4 backdrop-blur-sm -mt-12",children:o.jsx("div",{className:"container mx-auto max-w-6xl px-6",children:o.jsx("div",{className:"flex overflow-x-auto pb-2",children:o.jsx("div",{className:"flex gap-2 px-4 m-auto",children:r.map(i=>o.jsx("a",{href:`#${i.id}`,onClick:s=>n(s,i.id),className:`flex-shrink-0 rounded-full border px-4 py-2 text-sm font-medium transition-all ${t===i.id?"bg-primary-600 border-primary-600 text-white shadow-md":"border-gray-300 bg-white text-gray-700 hover:bg-primary-50 hover:border-primary-300 hover:text-primary-700"}`,children:i.title.split(". ")[1]},i.id))})})})}),o.jsx("section",{className:"px-6 py-16",children:o.jsxs("div",{className:"container mx-auto max-w-4xl space-y-8",children:[r.map(i=>o.jsx("div",{id:i.id,className:"scroll-mt-[200px]",children:o.jsx(be,{children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-primary-100 to-coffee-100",children:o.jsx(i.icon,{className:"h-6 w-6 text-primary-600"})})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900",children:i.title}),o.jsx("p",{className:"mb-4 text-gray-700 leading-relaxed",children:i.content}),i.additional&&o.jsx("p",{className:"mb-4 text-gray-700 leading-relaxed",children:i.additional}),i.bullets&&o.jsx("ul",{className:"space-y-2 ml-4",children:i.bullets.map((s,a)=>o.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[o.jsx("span",{className:"mt-2 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-primary-600"}),o.jsx("span",{children:s})]},a))}),i.contact&&o.jsxs("div",{className:"mt-4 space-y-2 rounded-lg bg-gray-50 p-4",children:[o.jsxs("p",{className:"flex items-center gap-2 text-gray-700",children:[o.jsx(ir,{className:"h-4 w-4 text-primary-600"}),o.jsx("a",{href:`mailto:${i.contact.email}`,className:"text-primary-600 hover:underline",children:i.contact.email})]}),o.jsxs("p",{className:"flex items-center gap-2 text-gray-700",children:[o.jsx("span",{className:"h-4 w-4 text-primary-600",children:""}),o.jsx("a",{href:`tel:${i.contact.phone}`,className:"text-primary-600 hover:underline",children:i.contact.phone})]}),o.jsxs("p",{className:"flex items-start gap-2 text-gray-700",children:[o.jsx("span",{className:"mt-0.5 h-4 w-4 text-primary-600",children:""}),o.jsx("span",{children:i.contact.address})]})]})]})]})})},i.id)),o.jsx(be,{className:"border-l-4 border-amber-500 bg-amber-50",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(ms,{className:"h-6 w-6 flex-shrink-0 text-amber-600"}),o.jsxs("div",{children:[o.jsx("h3",{className:"mb-2 font-display text-lg font-bold text-coffee-900",children:"Important Notice"}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"By using Rush Coffee's services, you acknowledge that you have read, understood, and agree to be bound by these Terms of Service. If you do not agree to these terms, please do not use our services."})]})]})})]})})]}),o.jsx(or,{})]})},$6e=()=>{const[t,e]=g.useState("collection"),n=(i,s)=>{i.preventDefault();const a=document.getElementById(s);if(a){const u=a.getBoundingClientRect().top+window.scrollY-200;window.scrollTo({top:u,behavior:"smooth"})}};g.useEffect(()=>{const i=()=>{const s=document.querySelectorAll("[id]");let a="collection";s.forEach(l=>{const c=l.getBoundingClientRect().top;c<=200&&c>=-l.clientHeight+200&&(a=l.id)}),e(a)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]);const r=[{id:"collection",icon:yD,title:"1. Information We Collect",content:"We collect information you provide directly to us when you create an account, place an order, or communicate with us. This information helps us provide you with a better, more personalized experience.",subsections:[{subtitle:"Personal Information",items:["Name and contact information (email address, phone number)","Account credentials (username and password)","Payment information (processed securely through our payment partners)","Delivery address and preferences"]},{subtitle:"Usage Information",items:["Order history and preferences","Rewards program activity","Device information and IP address","Browsing behavior and interaction with our Services"]}]},{id:"usage",icon:ml,title:"2. How We Use Your Information",content:"We use the information we collect to provide, maintain, and improve our Services, and to create a seamless coffee ordering experience for you.",bullets:["Process your transactions and fulfill your orders","Communicate with you about your orders, account, and our services","Operate and improve our Services, including our rewards program","Personalize your experience and provide customized recommendations","Send you promotional communications (with your consent)","Detect, prevent, and address technical issues and fraud","Comply with legal obligations and enforce our terms"]},{id:"sharing",icon:sie,title:"3. Information Sharing",content:"We respect your privacy and do not sell your personal information. We only share your information in the following limited circumstances:",bullets:["With service providers who help us operate our business (e.g., payment processors, delivery services)","When required by law or to respond to legal process","To protect the rights, property, or safety of Rush Coffee, our users, or others","With your consent or at your direction","In connection with a merger, acquisition, or sale of assets (with notice to you)"]},{id:"security",icon:yh,title:"4. Data Security",content:"We implement reasonable security measures to protect your information from unauthorized access, alteration, disclosure, or destruction. However, no internet-based service is 100% secure, so we cannot guarantee absolute security.",bullets:["Encryption of sensitive data in transit and at rest","Regular security audits and vulnerability assessments","Strict access controls and authentication requirements","Employee training on data protection and privacy","Incident response procedures for potential data breaches"]},{id:"rights",icon:ND,title:"5. Your Rights and Choices",content:"You have certain rights regarding your personal information. We are committed to helping you exercise these rights.",bullets:["Access and review your account information at any time","Update or correct your personal information","Request deletion of your account and associated data","Opt-out of marketing communications","Disable cookies through your browser settings","Request a copy of your data in a portable format"]},{id:"retention",icon:yD,title:"6. Data Retention",content:"We retain your personal information for as long as necessary to provide our Services and fulfill the purposes outlined in this Privacy Policy.",bullets:["Active account data is retained while your account is active","Order history is retained for 7 years for accounting and legal purposes","Marketing preferences are retained until you opt-out","Deleted account data is removed within 30 days, except where required by law"]},{id:"notifications",icon:mf,title:"7. Push Notifications",content:"With your permission, we may send you push notifications about your orders, rewards, and special offers. You can manage your notification preferences at any time through your device settings or account preferences."},{id:"contact",icon:ir,title:"8. Contact Us",content:"If you have any questions, concerns, or requests regarding this Privacy Policy or our data practices, please contact us:",contact:{email:"hello@rushcoffee.ph",phone:"+63 930 464 1022",address:"11 Visayan Ave. St. Galas, Quezon City, Philippines"}}];return o.jsxs("div",{className:"bg-white",children:[o.jsx(ar,{}),o.jsxs("main",{children:[o.jsxs("section",{className:"relative flex min-h-[400px] items-center justify-center overflow-hidden bg-gradient-to-br from-green-600 via-emerald-600 to-green-700 px-6 py-16 text-white",children:[o.jsxs("div",{className:"absolute inset-0 opacity-10",children:[o.jsx("div",{className:"absolute top-10 left-10 h-32 w-32 rounded-full bg-white blur-3xl"}),o.jsx("div",{className:"absolute bottom-20 right-10 h-40 w-40 rounded-full bg-white blur-3xl"})]}),o.jsxs("div",{className:"relative z-10 mx-auto w-full max-w-4xl text-center",children:[o.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-white/10 backdrop-blur-sm",children:o.jsx(Or,{className:"h-10 w-10"})}),o.jsx("h1",{className:"font-display text-5xl font-bold md:text-6xl",children:"Privacy Policy"}),o.jsx("p",{className:"mt-4 text-xl text-green-100",children:"Your privacy is important to us"}),o.jsx("p",{className:"mt-2 text-sm text-white/80",children:"Last updated: November 22, 2023"})]})]}),o.jsx("section",{className:"border-b border-gray-200 bg-gray-50 px-6 py-12 pb-20",children:o.jsx("div",{className:"container mx-auto max-w-6xl",children:o.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-3 flex h-14 w-14 items-center justify-center rounded-full bg-green-100",children:o.jsx(yh,{className:"h-7 w-7 text-green-600"})}),o.jsx("h3",{className:"mb-2 font-display text-lg font-semibold text-coffee-900",children:"Secure & Encrypted"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Your data is protected with industry-standard encryption"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-3 flex h-14 w-14 items-center justify-center rounded-full bg-blue-100",children:o.jsx(ND,{className:"h-7 w-7 text-blue-600"})}),o.jsx("h3",{className:"mb-2 font-display text-lg font-semibold text-coffee-900",children:"You're in Control"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Manage your data and privacy settings anytime"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-3 flex h-14 w-14 items-center justify-center rounded-full bg-purple-100",children:o.jsx(Or,{className:"h-7 w-7 text-purple-600"})}),o.jsx("h3",{className:"mb-2 font-display text-lg font-semibold text-coffee-900",children:"Never Sold"}),o.jsx("p",{className:"text-sm text-gray-600",children:"We never sell your personal information to third parties"})]})]})})}),o.jsx("section",{className:"sticky top-20 z-30 border-b border-gray-200 bg-white/95 py-4 backdrop-blur-sm",children:o.jsx("div",{className:"container mx-auto max-w-6xl px-6",children:o.jsx("div",{className:"flex overflow-x-auto pb-2",children:o.jsx("div",{className:"flex gap-2 px-4 m-auto",children:r.map(i=>o.jsx("a",{href:`#${i.id}`,onClick:s=>n(s,i.id),className:`flex-shrink-0 rounded-full border px-4 py-2 text-sm font-medium transition-all ${t===i.id?"bg-green-600 border-green-600 text-white shadow-md":"border-gray-300 bg-white text-gray-700 hover:bg-green-50 hover:border-green-300 hover:text-green-700"}`,children:i.title.split(". ")[1]},i.id))})})})}),o.jsx("section",{className:"px-6 py-16",children:o.jsxs("div",{className:"container mx-auto max-w-4xl space-y-8",children:[r.map(i=>o.jsx("div",{id:i.id,className:"scroll-mt-[200px]",children:o.jsx(be,{children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-green-100 to-emerald-100",children:o.jsx(i.icon,{className:"h-6 w-6 text-green-600"})})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900",children:i.title}),o.jsx("p",{className:"mb-4 text-gray-700 leading-relaxed",children:i.content}),i.subsections&&o.jsx("div",{className:"space-y-4 mt-4",children:i.subsections.map((s,a)=>o.jsxs("div",{className:"rounded-lg bg-gray-50 p-4",children:[o.jsx("h3",{className:"mb-3 font-semibold text-coffee-900",children:s.subtitle}),s.items&&o.jsx("ul",{className:"space-y-2 ml-4",children:s.items.map((l,c)=>o.jsxs("li",{className:"flex items-start gap-2 text-gray-700 text-sm",children:[o.jsx("span",{className:"mt-2 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-green-600"}),o.jsx("span",{children:l})]},c))})]},a))}),i.bullets&&o.jsx("ul",{className:"space-y-2 ml-4",children:i.bullets.map((s,a)=>o.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[o.jsx("span",{className:"mt-2 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-green-600"}),o.jsx("span",{children:s})]},a))}),i.contact&&o.jsxs("div",{className:"mt-4 space-y-2 rounded-lg bg-gray-50 p-4",children:[o.jsxs("p",{className:"flex items-center gap-2 text-gray-700",children:[o.jsx(ir,{className:"h-4 w-4 text-green-600"}),o.jsx("a",{href:`mailto:${i.contact.email}`,className:"text-green-600 hover:underline",children:i.contact.email})]}),o.jsxs("p",{className:"flex items-center gap-2 text-gray-700",children:[o.jsx("span",{className:"h-4 w-4 text-green-600",children:""}),o.jsx("a",{href:`tel:${i.contact.phone}`,className:"text-green-600 hover:underline",children:i.contact.phone})]}),o.jsxs("p",{className:"flex items-start gap-2 text-gray-700",children:[o.jsx("span",{className:"mt-0.5 h-4 w-4 text-green-600",children:""}),o.jsx("span",{children:i.contact.address})]})]})]})]})})},i.id)),o.jsx(be,{className:"border-l-4 border-green-500 bg-green-50",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(WU,{className:"h-6 w-6 flex-shrink-0 text-green-600"}),o.jsxs("div",{children:[o.jsx("h3",{className:"mb-2 font-display text-lg font-bold text-coffee-900",children:"Our Privacy Commitment"}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"At Rush Coffee, we are committed to protecting your privacy and handling your personal information with care. If you have any questions or concerns about how we handle your data, please don't hesitate to contact us."})]})]})})]})})]}),o.jsx(or,{})]})},q6e=()=>{const[t,e]=g.useState("what-are-cookies"),n=(i,s)=>{i.preventDefault();const a=document.getElementById(s);if(a){const u=a.getBoundingClientRect().top+window.scrollY-200;window.scrollTo({top:u,behavior:"smooth"})}};g.useEffect(()=>{const i=()=>{const s=document.querySelectorAll("[id]");let a="what-are-cookies";s.forEach(l=>{const c=l.getBoundingClientRect().top;c<=200&&c>=-l.clientHeight+200&&(a=l.id)}),e(a)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]);const r=[{id:"what-are-cookies",icon:Cx,title:"1. What Are Cookies?",content:"Cookies are small text files that are placed on your computer or mobile device when you visit a website. They are widely used to make websites work more efficiently and provide information to the owners of the site.",additional:"Cookies help us understand how you use our website, remember your preferences, and provide you with a better, more personalized experience."},{id:"types",icon:IN,title:"2. Types of Cookies We Use",content:"We use different types of cookies to enhance your experience on our website. Each type serves a specific purpose:",subsections:[{icon:rg,subtitle:"2.1 Essential Cookies",description:"These cookies are necessary for the website to function properly. They enable core functionality such as security, network management, and accessibility.",items:["Authentication cookies: Keep you logged in as you navigate through our site","Security cookies: Help detect and prevent security risks","Session cookies: Maintain your shopping cart and order information"]},{icon:Ix,subtitle:"2.2 Performance Cookies",description:"These cookies collect information about how visitors use our website, such as which pages are visited most often.",items:["Page load times and response times","Error messages and debugging information","Navigation patterns and user flow"]},{icon:Die,subtitle:"2.3 Functionality Cookies",description:"These cookies allow our website to remember choices you make and provide enhanced, more personalized features.",items:["Remember your login details","Store your preferences (e.g., favorite drinks, customization options)","Maintain your rewards program status","Remember items in your shopping cart"]},{icon:Ix,subtitle:"2.4 Analytics Cookies",description:"We use analytics cookies to understand how visitors interact with our website.",items:["Number of visitors and page views","Time spent on pages","Popular menu items and features","Traffic sources and referral information"]}]},{id:"third-party",icon:hre,title:"3. Third-Party Cookies",content:"In addition to our own cookies, we may also use various third-party cookies to report usage statistics of our services.",subsections:[{subtitle:"3.1 Payment Processing",description:"When you make a payment through GCash or other payment providers, these services may set their own cookies to process your transaction securely."},{subtitle:"3.2 Analytics Services",description:"We use third-party analytics services (such as Google Analytics) to help us understand how our website is being used."}]},{id:"duration",icon:pp,title:"4. How Long Do Cookies Last?",content:"The length of time a cookie will stay on your device depends on its type:",bullets:["Session Cookies: These are temporary cookies that expire when you close your browser.","Persistent Cookies: These remain on your device for a set period or until you delete them."]},{id:"managing",icon:pp,title:"5. Managing Cookies",content:"You have the right to decide whether to accept or reject cookies. You can exercise your cookie preferences by adjusting your browser settings.",subsections:[{subtitle:"5.1 Browser Settings",description:"Most web browsers allow you to control cookies through their settings. You can set your browser to:",items:["Block all cookies","Block third-party cookies only","Delete cookies when you close your browser","Accept cookies from specific websites only"]},{subtitle:"5.2 Browser-Specific Instructions",description:"For detailed instructions on how to manage cookies in your specific browser, please visit:",links:[{name:"Google Chrome",url:"https://support.google.com/chrome/answer/95647"},{name:"Mozilla Firefox",url:"https://support.mozilla.org/en-US/kb/enhanced-tracking-protection-firefox-desktop"},{name:"Safari",url:"https://support.apple.com/guide/safari/manage-cookies-sfri11471/mac"},{name:"Microsoft Edge",url:"https://support.microsoft.com/en-us/microsoft-edge/delete-cookies-in-microsoft-edge-63947406-40ac-c3b8-57b9-2a946a29ae09"}]},{subtitle:"5.3 Impact of Disabling Cookies",description:"Please note that if you choose to block or delete cookies, some features of our website may not function properly. For example:",items:["You may not be able to stay logged in","Your shopping cart may not work correctly","Your preferences and customizations may not be saved","Some pages may not display properly"]}]},{id:"personal-data",icon:Or,title:"6. Cookies and Personal Data",content:"Some cookies may collect personal data. Any personal data collected through cookies is handled in accordance with our Privacy Policy. We are committed to protecting your privacy and ensuring your data is secure."},{id:"updates",icon:Un,title:"7. Updates to This Cookie Policy",content:"We may update this Cookie Policy from time to time to reflect changes in our practices or for other operational, legal, or regulatory reasons. We encourage you to review this policy periodically to stay informed about how we use cookies.",additional:'The "Last updated" date at the top of this page indicates when this policy was last revised. Any changes will become effective when we post the revised Cookie Policy on our website.'},{id:"contact",icon:ir,title:"8. Contact Us",content:"If you have any questions about our use of cookies or this Cookie Policy, please contact us:",contact:{email:"hello@rushcoffee.ph",phone:"+63 930 464 1022",address:"11 Visayan Ave. St. Galas, Quezon City, Philippines"}}];return o.jsxs("div",{className:"bg-white",children:[o.jsx(ar,{}),o.jsxs("main",{children:[o.jsxs("section",{className:"relative flex min-h-[400px] items-center justify-center overflow-hidden bg-gradient-to-br from-amber-600 via-orange-600 to-amber-700 px-6 py-16 text-white",children:[o.jsxs("div",{className:"absolute inset-0 opacity-10",children:[o.jsx("div",{className:"absolute top-10 left-10 h-32 w-32 rounded-full bg-white blur-3xl"}),o.jsx("div",{className:"absolute bottom-20 right-10 h-40 w-40 rounded-full bg-white blur-3xl"})]}),o.jsxs("div",{className:"relative z-10 mx-auto w-full max-w-4xl text-center",children:[o.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-white/10 backdrop-blur-sm",children:o.jsx(IN,{className:"h-10 w-10"})}),o.jsx("h1",{className:"font-display text-5xl font-bold md:text-6xl",children:"Cookie Policy"}),o.jsx("p",{className:"mt-4 text-xl text-amber-100",children:"Understanding how we use cookies"}),o.jsx("p",{className:"mt-2 text-sm text-white/80",children:"Last updated: November 22, 2023"})]})]}),o.jsx("section",{className:"border-b border-gray-200 bg-gray-50 px-6 py-12 pb-20",children:o.jsx("div",{className:"container mx-auto max-w-6xl",children:o.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-3 flex h-14 w-14 items-center justify-center rounded-full bg-blue-100",children:o.jsx(Cx,{className:"h-7 w-7 text-blue-600"})}),o.jsx("h3",{className:"mb-2 font-display text-lg font-semibold text-coffee-900",children:"What Are Cookies?"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Small text files stored on your device to enhance your browsing experience"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-3 flex h-14 w-14 items-center justify-center rounded-full bg-green-100",children:o.jsx(Or,{className:"h-7 w-7 text-green-600"})}),o.jsx("h3",{className:"mb-2 font-display text-lg font-semibold text-coffee-900",children:"Your Privacy"}),o.jsx("p",{className:"text-sm text-gray-600",children:"We respect your privacy and only use cookies to improve your experience"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-3 flex h-14 w-14 items-center justify-center rounded-full bg-amber-100",children:o.jsx(pp,{className:"h-7 w-7 text-amber-600"})}),o.jsx("h3",{className:"mb-2 font-display text-lg font-semibold text-coffee-900",children:"Your Control"}),o.jsx("p",{className:"text-sm text-gray-600",children:"You can manage or disable cookies through your browser settings at any time"})]})]})})}),o.jsx("section",{className:"sticky top-20 z-30 border-b border-gray-200 bg-white/95 py-4 backdrop-blur-sm",children:o.jsx("div",{className:"container mx-auto max-w-6xl px-6",children:o.jsx("div",{className:"flex overflow-x-auto pb-2",children:o.jsx("div",{className:"flex gap-2 px-4 m-auto",children:r.map(i=>o.jsx("a",{href:`#${i.id}`,onClick:s=>n(s,i.id),className:`flex-shrink-0 rounded-full border px-4 py-2 text-sm font-medium transition-all ${t===i.id?"bg-amber-600 border-amber-600 text-white shadow-md":"border-gray-300 bg-white text-gray-700 hover:bg-amber-50 hover:border-amber-300 hover:text-amber-700"}`,children:i.title.split(". ")[1]},i.id))})})})}),o.jsx("section",{className:"px-6 py-16",children:o.jsxs("div",{className:"container mx-auto max-w-4xl space-y-8",children:[r.map(i=>o.jsx("div",{id:i.id,className:"scroll-mt-[200px]",children:o.jsx(be,{children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-amber-100 to-orange-100",children:o.jsx(i.icon,{className:"h-6 w-6 text-amber-600"})})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900",children:i.title}),o.jsx("p",{className:"mb-4 text-gray-700 leading-relaxed",children:i.content}),i.additional&&o.jsx("p",{className:"mb-4 text-gray-700 leading-relaxed",children:i.additional}),i.subsections&&o.jsx("div",{className:"space-y-6 mt-6",children:i.subsections.map((s,a)=>o.jsxs("div",{className:"rounded-lg bg-gray-50 p-4",children:[s.icon&&o.jsxs("div",{className:"mb-3 flex items-center gap-2",children:[o.jsx(s.icon,{className:"h-5 w-5 text-amber-600"}),o.jsx("h3",{className:"font-semibold text-coffee-900",children:s.subtitle})]}),!s.icon&&o.jsx("h3",{className:"mb-3 font-semibold text-coffee-900",children:s.subtitle}),s.description&&o.jsx("p",{className:"mb-3 text-gray-700 text-sm",children:s.description}),s.items&&o.jsx("ul",{className:"space-y-2 ml-4",children:s.items.map((l,c)=>o.jsxs("li",{className:"flex items-start gap-2 text-gray-700 text-sm",children:[o.jsx("span",{className:"mt-2 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-amber-600"}),o.jsx("span",{children:l})]},c))}),s.links&&o.jsx("ul",{className:"space-y-2 ml-4",children:s.links.map((l,c)=>o.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[o.jsx("span",{className:"mt-1 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-amber-600"}),o.jsx("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"text-amber-600 hover:text-amber-700 hover:underline",children:l.name})]},c))})]},a))}),i.bullets&&o.jsx("ul",{className:"space-y-2 ml-4",children:i.bullets.map((s,a)=>o.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[o.jsx("span",{className:"mt-2 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-amber-600"}),o.jsx("span",{children:s})]},a))}),i.contact&&o.jsxs("div",{className:"mt-4 space-y-2 rounded-lg bg-gray-50 p-4",children:[o.jsxs("p",{className:"flex items-center gap-2 text-gray-700",children:[o.jsx(ir,{className:"h-4 w-4 text-amber-600"}),o.jsx("a",{href:`mailto:${i.contact.email}`,className:"text-amber-600 hover:underline",children:i.contact.email})]}),o.jsxs("p",{className:"flex items-center gap-2 text-gray-700",children:[o.jsx("span",{className:"h-4 w-4 text-amber-600",children:""}),o.jsx("a",{href:`tel:${i.contact.phone}`,className:"text-amber-600 hover:underline",children:i.contact.phone})]}),o.jsxs("p",{className:"flex items-start gap-2 text-gray-700",children:[o.jsx("span",{className:"mt-0.5 h-4 w-4 text-amber-600",children:""}),o.jsx("span",{children:i.contact.address})]})]})]})]})})},i.id)),o.jsx(be,{className:"border-l-4 border-amber-500 bg-amber-50",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(IN,{className:"h-6 w-6 flex-shrink-0 text-amber-600"}),o.jsxs("div",{children:[o.jsx("h3",{className:"mb-2 font-display text-lg font-bold text-coffee-900",children:"Your Consent"}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"By continuing to use our website, you consent to our use of cookies as described in this Cookie Policy. If you do not agree with our use of cookies, you should adjust your browser settings accordingly or refrain from using our website."})]})]})})]})})]}),o.jsx(or,{})]})},H6e=()=>{const t=$n(),{currentUser:e}=Zt(),[n,r]=g.useState({revenue:0,orders:0,avgOrderValue:0}),[i,s]=g.useState(!0);g.useEffect(()=>{const l=new Date,c=new Date(l.getFullYear(),l.getMonth(),l.getDate()),u=new Date(l.getFullYear(),l.getMonth(),l.getDate()+1),d=he.collection("orders").where("timestamp",">=",c).where("timestamp","<",u).onSnapshot(h=>{let f=0;const m=h.size;h.forEach(v=>{const x=v.data();x.status==="completed"&&(f+=x.totalAmount)});const y=m>0?f/m:0;r({revenue:f,orders:m,avgOrderValue:y}),s(!1)},h=>{console.error("Error fetching today's stats:",h),s(!1)});return()=>d()},[]);const a=[{title:"New Order",description:"Start processing a walk-in order",icon:vh,gradient:"from-coffee-600 to-coffee-700",hoverGradient:"hover:from-coffee-700 hover:to-coffee-800",route:"/employee/pos",primary:!0},{title:"View Queue",description:"Check active orders and queue",icon:$U,gradient:"from-blue-600 to-blue-700",hoverGradient:"hover:from-blue-700 hover:to-blue-800",route:"/employee/queue"},{title:"Check Inventory",description:"View stock levels and alerts",icon:Xi,gradient:"from-orange-600 to-orange-700",hoverGradient:"hover:from-orange-700 hover:to-orange-800",route:"/employee/inventory"},{title:"Order History",description:"View past transactions",icon:ca,gradient:"from-purple-600 to-purple-700",hoverGradient:"hover:from-purple-700 hover:to-purple-800",route:"/employee/history"}];return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-coffee-50 via-gray-50 to-primary-50",children:[o.jsx("div",{className:"bg-gradient-to-r from-coffee-600 to-coffee-700 text-white px-6 py-12 mb-8 shadow-xl",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-4xl font-display font-bold mb-2 flex items-center gap-3",children:[o.jsx(rg,{className:"h-10 w-10"}),"Employee Portal"]}),o.jsxs("p",{className:"text-coffee-100 text-lg",children:["Welcome back, ",o.jsx("span",{className:"font-semibold",children:(e==null?void 0:e.firstName)||"Employee"}),"! Ready to serve some great coffee?"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-coffee-100 text-sm mb-1",children:"Current Time"}),o.jsx("p",{className:"text-3xl font-bold",children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]})})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6 pb-12",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[o.jsx(Kc,{className:"h-6 w-6 text-coffee-600"}),"Today's Performance"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("div",{className:"h-12 w-12 rounded-xl bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center",children:o.jsx(V2,{className:"h-6 w-6 text-green-600"})})}),i?o.jsx("div",{className:"h-8 w-32 bg-gray-200 rounded animate-pulse"}):o.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["",n.revenue.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),o.jsx("p",{className:"text-sm text-gray-600 mt-2 font-medium",children:"Total Revenue"})]}),o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("div",{className:"h-12 w-12 rounded-xl bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center",children:o.jsx(Fn,{className:"h-6 w-6 text-blue-600"})})}),i?o.jsx("div",{className:"h-8 w-20 bg-gray-200 rounded animate-pulse"}):o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.orders}),o.jsx("p",{className:"text-sm text-gray-600 mt-2 font-medium",children:"Orders Processed"})]}),o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("div",{className:"h-12 w-12 rounded-xl bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center",children:o.jsx(vh,{className:"h-6 w-6 text-purple-600"})})}),i?o.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded animate-pulse"}):o.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["",n.avgOrderValue.toFixed(2)]}),o.jsx("p",{className:"text-sm text-gray-600 mt-2 font-medium",children:"Avg Order Value"})]})]})]}),o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[o.jsx(rg,{className:"h-6 w-6 text-coffee-600"}),"Quick Actions"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map(l=>{const c=l.icon;return o.jsxs("button",{onClick:()=>t(l.route),className:`
                                        bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-gray-100
                                        hover:shadow-2xl hover:scale-105 transition-all duration-300
                                        text-left group relative overflow-hidden
                                        ${l.primary?"ring-2 ring-coffee-600 ring-offset-2":""}
                                    `,children:[o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${l.gradient} opacity-0 group-hover:opacity-5 transition-opacity`}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:`h-14 w-14 rounded-xl bg-gradient-to-br ${l.gradient} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform shadow-lg`,children:o.jsx(c,{className:"h-7 w-7 text-white"})}),o.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-2 flex items-center justify-between",children:[l.title,o.jsx(El,{className:"h-5 w-5 text-gray-400 group-hover:text-coffee-600 group-hover:translate-x-1 transition-all"})]}),o.jsx("p",{className:"text-sm text-gray-600",children:l.description})]}),l.primary&&o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-bold bg-coffee-600 text-white shadow-lg animate-pulse",children:"START HERE"})})]},l.title)})})]})]})]})},G6e=({product:t,onSelect:e})=>{const{name:n,category:r,imageUrl:i,comboImageUrl:s,available:a,stock:l}=t,[c,u]=g.useState(t.sizes[0]),d=c.name==="Combo Meal"&&s?s:i,h=!a||l===0,f=()=>{h||e(t,c)};return o.jsxs("button",{onClick:f,disabled:h,className:`w-full text-left rounded-2xl overflow-hidden bg-white shadow-sm border transition-all ${h?"opacity-60 cursor-not-allowed":"hover:shadow-lg hover:scale-[1.02] active:scale-[0.98] border-gray-200 hover:border-coffee-300"}`,children:[o.jsxs("div",{className:"relative aspect-square bg-gray-100",children:[o.jsx("img",{src:d,alt:n,className:"w-full h-full object-cover"}),h&&o.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:o.jsx("span",{className:"bg-red-500 text-white px-4 py-2 rounded-lg font-bold text-sm",children:"Out of Stock"})}),l>0&&l<5&&!h&&o.jsx("div",{className:"absolute top-2 right-2 bg-orange-500 text-white px-2 py-1 rounded-lg text-xs font-bold",children:"Low Stock"})]}),o.jsxs("div",{className:"p-3 md:p-4",children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:r}),o.jsx("h3",{className:"font-bold text-gray-900 text-sm md:text-base mb-2 line-clamp-1",children:n}),o.jsx("div",{className:"flex gap-1 mb-3",children:t.sizes.map(m=>o.jsx("button",{onClick:y=>{y.stopPropagation(),u(m)},className:`flex-1 py-1.5 px-2 rounded-lg text-xs font-semibold transition-colors ${c.name===m.name?"bg-coffee-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:m.name},m.name))}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-lg md:text-xl font-bold text-coffee-700",children:["",c.price.toFixed(2)]}),!h&&o.jsx("div",{className:"h-9 w-9 md:h-10 md:w-10 rounded-full bg-coffee-600 flex items-center justify-center text-white shadow-md",children:o.jsx(uo,{className:"h-5 w-5 md:h-6 md:w-6"})})]})]})]})},W6e=({isOpen:t,onClose:e,totalAmount:n,onPaymentComplete:r})=>{const[i,s]=g.useState("cash"),[a,l]=g.useState(""),[c,u]=g.useState(""),[d,h]=g.useState(0);if(g.useEffect(()=>{t&&(s("cash"),l(""),u(""),h(0))},[t]),g.useEffect(()=>{const v=parseFloat(a)||0;h(Math.max(0,v-n))},[a,n]),!t)return null;const f=v=>{l(v.toString())},m=()=>{l(n.toString())},y=()=>{const v=parseFloat(a)||0;if(i==="cash"&&v<n){alert("Insufficient amount received");return}if(i==="gcash"&&!c){alert("Please enter reference number");return}r({method:i,amount:n,amountReceived:i==="cash"?v:n,change:i==="cash"?d:0,referenceNumber:i==="gcash"?c:void 0})};return o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center animate-in fade-in duration-200",children:[o.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:e}),o.jsxs("div",{className:"relative z-10 w-full max-w-2xl bg-white rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[o.jsxs("div",{className:"bg-coffee-900 text-white p-6 flex items-center justify-between shrink-0",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Payment"}),o.jsx("p",{className:"text-coffee-200 text-sm",children:"Select payment method"})]}),o.jsx("button",{onClick:e,className:"h-10 w-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-colors",children:o.jsx(wr,{className:"h-6 w-6"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:[o.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 mb-6 text-center",children:[o.jsx("p",{className:"text-gray-500 font-medium mb-1",children:"Total Amount Due"}),o.jsxs("p",{className:"text-5xl font-bold text-coffee-700",children:["",n.toFixed(2)]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[o.jsxs("button",{onClick:()=>s("cash"),className:`p-4 rounded-xl border-2 flex flex-col items-center gap-2 transition-all ${i==="cash"?"border-coffee-600 bg-coffee-50 text-coffee-700 shadow-md":"border-gray-200 bg-white text-gray-500 hover:border-coffee-200 hover:bg-gray-50"}`,children:[o.jsx(YT,{className:"h-8 w-8"}),o.jsx("span",{className:"font-bold",children:"Cash Payment"})]}),o.jsxs("button",{onClick:()=>s("gcash"),className:`p-4 rounded-xl border-2 flex flex-col items-center gap-2 transition-all ${i==="gcash"?"border-blue-600 bg-blue-50 text-blue-700 shadow-md":"border-gray-200 bg-white text-gray-500 hover:border-blue-200 hover:bg-gray-50"}`,children:[o.jsx(jw,{className:"h-8 w-8"}),o.jsx("span",{className:"font-bold",children:"GCash / E-Wallet"})]})]}),i==="cash"&&o.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom-4 duration-300",children:[o.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-200 shadow-sm",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Amount Received"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 font-bold text-xl",children:""}),o.jsx("input",{type:"number",value:a,onChange:v=>l(v.target.value),className:"w-full pl-10 pr-4 py-4 text-3xl font-bold text-gray-900 bg-gray-50 border border-gray-300 rounded-xl focus:ring-2 focus:ring-coffee-500 focus:border-coffee-500 transition-all",placeholder:"0.00",autoFocus:!0})]}),o.jsxs("div",{className:"grid grid-cols-4 gap-2 mt-4",children:[o.jsx("button",{onClick:m,className:"py-2 px-1 rounded-lg bg-coffee-100 text-coffee-700 font-bold text-sm hover:bg-coffee-200 transition-colors",children:"Exact"}),[100,200,500,1e3].map(v=>o.jsxs("button",{onClick:()=>f(v),className:"py-2 px-1 rounded-lg bg-gray-100 text-gray-700 font-bold text-sm hover:bg-gray-200 transition-colors",children:["",v]},v))]})]}),o.jsx("div",{className:`rounded-2xl p-6 border transition-all duration-300 ${d>0?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200 opacity-50"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center ${d>0?"bg-green-100 text-green-600":"bg-gray-200 text-gray-400"}`,children:o.jsx(_ne,{className:"h-5 w-5"})}),o.jsx("span",{className:`font-bold text-lg ${d>0?"text-green-800":"text-gray-500"}`,children:"Change Due"})]}),o.jsxs("span",{className:`text-3xl font-bold ${d>0?"text-green-700":"text-gray-400"}`,children:["",d.toFixed(2)]})]})})]}),i==="gcash"&&o.jsx("div",{className:"space-y-6 animate-in slide-in-from-bottom-4 duration-300",children:o.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-200 shadow-sm flex flex-col items-center text-center",children:[o.jsx("div",{className:"h-48 w-48 bg-gray-100 rounded-xl mb-4 flex items-center justify-center border-2 border-dashed border-gray-300",children:o.jsx("p",{className:"text-gray-400 font-medium",children:"QR Code Here"})}),o.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Scan this QR code to pay via GCash"}),o.jsxs("div",{className:"w-full text-left",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Reference Number"}),o.jsx("input",{type:"text",value:c,onChange:v=>u(v.target.value),className:"w-full px-4 py-3 text-lg font-medium text-gray-900 bg-gray-50 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Enter last 4 digits"})]})]})})]}),o.jsx("div",{className:"p-6 bg-white border-t border-gray-100 shrink-0",children:o.jsxs("button",{onClick:y,disabled:i==="cash"?parseFloat(a||"0")<n:!c,className:"w-full py-4 bg-gradient-to-r from-coffee-600 to-coffee-800 hover:from-coffee-700 hover:to-coffee-900 text-white font-bold text-xl rounded-2xl shadow-lg hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 transition-all flex items-center justify-center gap-3",children:[o.jsx(WU,{className:"h-6 w-6"}),"Complete Payment"]})})]})]})},K6e=async t=>{try{const e=he.batch(),n=he.collection("ingredients");for(const r of t){console.log(` Processing item: ${r.productName} (ID: ${r.productId})`);const{quantity:i,customizations:s}=r;if(s!=null&&s.sugarLevel){const l=eu.sugarLevels.find(c=>c.value===s.sugarLevel);if(l&&l.sugarAmount>0){const c=n.doc(l.sugarIngredientId),u=l.sugarAmount*i;e.update(c,{stock:Fe.firestore.FieldValue.increment(-u)}),console.log(`Deducting ${u}ml of ${l.sugarIngredientId} for ${r.productName}`)}}if(s!=null&&s.iceLevel){const l=eu.iceLevels.find(c=>c.value===s.iceLevel);if(l&&l.iceAmount>0){const c=n.doc(l.iceIngredientId),u=l.iceAmount*i;e.update(c,{stock:Fe.firestore.FieldValue.increment(-u)}),console.log(`Deducting ${u}g of ${l.iceIngredientId} for ${r.productName}`)}}if(s!=null&&s.toppings&&s.toppings.length>0)for(const l of s.toppings){const c=await n.where("name","==",l).where("isTopping","==",!0).limit(1).get();if(c.empty)console.warn(`Topping "${l}" not found in inventory`);else{const u=c.docs[0],f=(u.data().portionSize||30)*i;e.update(u.ref,{stock:Fe.firestore.FieldValue.increment(-f)}),console.log(`Deducting ${f}g of ${l} for ${r.productName}`)}}const a=Lc.find(l=>l.id===r.productId);if(a){if(console.log(` Found product for deduction: ${a.name} (Recipe: ${a.recipe?a.recipe.length:0} items)`),a.recipe)for(const c of a.recipe){const u=n.doc(c.ingredientId),d=c.quantity*i;e.update(u,{stock:Fe.firestore.FieldValue.increment(-d)}),console.log(` Deducting ${d} of ${c.ingredientId} for ${r.productName} (Qty: ${i})`)}else console.warn(` Product ${a.name} has no recipe defined.`);if(["Coffee Based","Non-Coffee Based","Matcha Series","Refreshments"].includes(a.category)&&r.size){const c=r.size.toLowerCase();let u="",d="";c==="grande"?(u="cup-grande",d="lid-grande"):c==="venti"&&(u="cup-venti",d="lid-venti"),u&&(e.update(n.doc(u),{stock:Fe.firestore.FieldValue.increment(-i)}),console.log(` Deducting ${i} ${u}`)),d&&(e.update(n.doc(d),{stock:Fe.firestore.FieldValue.increment(-i)}),console.log(` Deducting ${i} ${d}`)),e.update(n.doc("straw"),{stock:Fe.firestore.FieldValue.increment(-i)}),console.log(` Deducting ${i} straw`)}e.update(n.doc("napkins"),{stock:Fe.firestore.FieldValue.increment(-i)}),console.log(` Deducting ${i} napkins`)}else console.error(` Product not found in mockProducts: ${r.productId}`)}await e.commit(),console.log(" Inventory deducted successfully for order")}catch(e){throw console.error(" Error deducting inventory:",e),e}},Y6e=async()=>{const e=new Date().toISOString().slice(0,10).replace(/-/g,""),n=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`#${e}-${n}`},Q6e=async t=>{try{const e=await he.collection("orders").add({...t,timestamp:Fe.firestore.FieldValue.serverTimestamp()});console.log(" Order saved successfully:",e.id);try{await K6e(t.orderItems)}catch(n){console.error(" Order saved but inventory deduction failed:",n)}return e.id}catch(e){throw console.error(" Error saving order:",e),new Error("Failed to save order. Please try again.")}},X6e=()=>{const t=$n(),{products:e,isLoading:n}=Gu(),{currentUser:r}=Zt(),[i,s]=g.useState("all"),[a,l]=g.useState(""),[c,u]=g.useState([]),[d,h]=g.useState(!1),[f,m]=g.useState(!1),[y,v]=g.useState(null),[x,w]=g.useState(null),[_,b]=g.useState(!1),[N,E]=g.useState(!1),[C,j]=g.useState("none"),[T,A]=g.useState(""),[P,k]=g.useState(null),O=["all","Coffee Based","Non-Coffee Based","Matcha Series","Refreshments","Meals"],R=g.useMemo(()=>{let ne=e;return i!=="all"&&(ne=ne.filter(ie=>ie.category===i)),a.trim()&&(ne=ne.filter(ie=>ie.name.toLowerCase().includes(a.toLowerCase()))),ne},[e,i,a]),V=(ne,ie,je,W=1,pe)=>{const Se=pe||ie.price;u(Y=>{if(P!==null){const Pe=[...Y];return Pe[P]={product:ne,size:ie,quantity:W,customizations:je,finalPrice:Se},Pe}const rt=Y.findIndex(Pe=>Pe.product.id===ne.id&&Pe.size.name===ie.name&&JSON.stringify(Pe.customizations)===JSON.stringify(je));if(rt>=0){const Pe=[...Y];return Pe[rt].quantity+=W,Pe[rt].finalPrice=Se,Pe}return[...Y,{product:ne,size:ie,quantity:W,customizations:je,finalPrice:Se}]}),k(null),w(null)},M=ne=>{const ie=c[ne];v(ie.product),w(ie.size),k(ne),h(!0)},L=(ne,ie)=>{u(je=>{const W=[...je];return W[ne].quantity+=ie,W[ne].quantity<=0&&W.splice(ne,1),W})},B=ne=>u(ie=>ie.filter((je,W)=>W!==ne)),G=()=>{u([]),j("none"),A(""),k(null),v(null),w(null)},ee=c.reduce((ne,ie)=>ne+(ie.finalPrice||ie.size.price)*ie.quantity,0),Z=C==="none"?0:.2,H=ee*Z,oe=ee-H,xe=(ne,ie,je)=>{if(y){const W=x||y.sizes[0];V(y,W,ne,ie,je),h(!1)}},re=()=>{c.length>0&&m(!0)},ve=async ne=>{E(!0);try{const ie=await Y6e();await Q6e({orderNumber:ie,orderItems:c.map(je=>({productId:je.product.id,productName:je.product.name,category:je.product.category,size:je.size.name,sizeLabel:je.size.size,price:je.finalPrice||je.size.price,quantity:je.quantity,customizations:je.customizations})),subtotal:oe,paymentMethod:ne.method,paymentDetails:{amountReceived:ne.amountReceived,change:ne.change,referenceNumber:ne.referenceNumber||null},discount:C!=="none"?{type:C,amount:H,percentage:Z*100,cardId:T||null}:null,status:"preparing",employeeId:(r==null?void 0:r.uid)||"unknown",employeeName:(r==null?void 0:r.displayName)||(r==null?void 0:r.email)||"Employee"}),u([]),j("none"),A(""),m(!1),b(!1),alert(` Payment Successful!

Order Number: ${ie}
Change: ${ne.change.toFixed(2)}

Order has been sent to the queue!`)}catch(ie){console.error(" Error saving order:",ie),alert(" Payment received but failed to save order.")}finally{E(!1)}};return o.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col font-sans overflow-hidden",children:[o.jsxs("div",{className:"bg-coffee-700 text-white shadow-xl z-30 shrink-0",children:[o.jsxs("div",{className:"px-4 md:px-6 py-3 md:py-4 flex items-center gap-3 md:gap-4 border-b border-white/10 bg-coffee-800/50",children:[o.jsx("button",{onClick:()=>t("/employee"),className:"h-11 w-11 md:h-12 md:w-12 rounded-xl bg-white/10 hover:bg-white/20 flex items-center justify-center transition-all hover:scale-105 active:scale-95 shrink-0",title:"Exit POS",children:o.jsx(wr,{className:"h-5 w-5 md:h-6 md:w-6"})}),o.jsxs("div",{className:"shrink-0",children:[o.jsx("h1",{className:"text-base md:text-xl lg:text-2xl font-bold",children:"Point of Sale"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"h-2 w-2 md:h-2.5 md:w-2.5 rounded-full bg-green-400 animate-pulse"}),o.jsx("p",{className:"text-coffee-100 text-xs md:text-sm font-medium",children:"Walk-in Customer"})]})]}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ya,{className:"absolute left-3 md:left-4 top-1/2 -translate-y-1/2 h-4 w-4 md:h-5 md:w-5 text-white/40"}),o.jsx("input",{type:"text",placeholder:"Search products...",value:a,onChange:ne=>l(ne.target.value),className:"w-full pl-10 md:pl-12 pr-3 md:pr-4 py-2.5 md:py-3 text-sm md:text-base rounded-xl border border-white/10 bg-white/5 text-white placeholder:text-white/40 focus:bg-white/10 focus:border-white/20"})]})}),o.jsxs("button",{onClick:()=>b(!_),className:"xl:hidden relative h-11 w-11 rounded-xl bg-white/10 hover:bg-white/20 flex items-center justify-center transition-all shrink-0",children:[o.jsx(vh,{className:"h-5 w-5"}),c.length>0&&o.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-red-500 text-white text-xs flex items-center justify-center font-bold border-2 border-coffee-700",children:c.length})]})]}),o.jsx("div",{className:"px-4 md:px-6 py-3 md:py-4 overflow-x-auto bg-coffee-700/95",children:o.jsx("div",{className:"flex gap-2 md:gap-3 min-w-max",children:O.map(ne=>o.jsx("button",{onClick:()=>s(ne),className:`px-4 md:px-6 lg:px-7 py-2.5 md:py-3 lg:py-3.5 rounded-full font-semibold text-sm md:text-base transition-all ${i===ne?"bg-white text-coffee-700 shadow-lg scale-105 ring-2 ring-white/50":"bg-white/5 text-coffee-100 hover:bg-white/10 border border-white/5"}`,children:ne==="all"?"All Products":ne},ne))})})]}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 bg-gray-50",children:n?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin h-16 w-16 border-4 border-coffee-600 border-t-transparent rounded-full"})}):o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 md:gap-5 lg:gap-6 pb-6",children:R.map(ne=>o.jsx(G6e,{product:ne,onSelect:(ie,je)=>{v(ie),w(je),h(!0)}},ne.id))})}),_&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 xl:hidden",onClick:()=>b(!1)}),o.jsxs("div",{className:`fixed inset-y-0 right-0 z-40 w-full sm:w-96 xl:w-96 bg-white shadow-2xl transform transition-transform flex flex-col xl:relative xl:translate-x-0 xl:shadow-lg xl:border-l ${_?"translate-x-0":"translate-x-full xl:translate-x-0"}`,children:[o.jsxs("div",{className:"p-5 border-b bg-gray-50/50 shrink-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("h2",{className:"font-bold text-gray-900 text-xl",children:"Current Order"}),o.jsxs("div",{className:"flex gap-2",children:[c.length>0&&o.jsx("button",{onClick:G,className:"text-red-500 text-xs font-bold uppercase px-2 py-1 rounded hover:bg-red-50",children:"Clear"}),o.jsx("button",{onClick:()=>b(!1),className:"xl:hidden h-8 w-8 rounded-lg hover:bg-gray-100 flex items-center justify-center",children:o.jsx(wr,{className:"h-5 w-5"})})]})]}),o.jsxs("p",{className:"text-sm text-gray-500",children:[c.length," items"]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:c.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-12 opacity-60",children:[o.jsx(Un,{className:"h-10 w-10 text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-900 font-semibold",children:"Cart is empty"})]}):c.map((ne,ie)=>o.jsx("div",{onClick:()=>M(ie),className:"bg-white rounded-2xl p-3 border shadow-sm group hover:border-coffee-500 hover:shadow-md transition-all cursor-pointer relative",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx("img",{src:ne.product.imageUrl,alt:ne.product.name,className:"h-16 w-16 rounded-xl object-cover"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-bold text-sm mb-1",children:ne.product.name}),o.jsxs("div",{className:"flex gap-2 text-xs text-gray-500 mb-2",children:[o.jsx("span",{className:"bg-gray-100 px-2 py-0.5 rounded",children:ne.size.name}),o.jsx("span",{children:ne.size.size})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("p",{className:"text-sm font-bold text-coffee-700",children:["",((ne.finalPrice||ne.size.price)*ne.quantity).toFixed(2)]}),o.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 rounded-lg p-1",onClick:je=>je.stopPropagation(),children:[o.jsx("button",{onClick:()=>L(ie,-1),className:"h-6 w-6 rounded bg-white shadow-sm flex items-center justify-center",children:o.jsx(eg,{className:"h-3 w-3"})}),o.jsx("span",{className:"text-sm font-bold",children:ne.quantity}),o.jsx("button",{onClick:()=>L(ie,1),className:"h-6 w-6 rounded bg-coffee-600 text-white flex items-center justify-center",children:o.jsx(uo,{className:"h-3 w-3"})})]})]})]}),o.jsx("button",{onClick:je=>{je.stopPropagation(),B(ie)},className:"h-7 w-7 rounded text-gray-400 hover:bg-red-50 hover:text-red-500 flex items-center justify-center opacity-0 group-hover:opacity-100 absolute top-2 right-2",children:o.jsx(gf,{className:"h-4 w-4"})})]})},ie))}),c.length>0&&o.jsxs("div",{className:"p-5 border-t bg-gray-50 space-y-4 shrink-0",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{children:["",ee.toFixed(2)]})]}),C!=="none"&&o.jsxs("div",{className:"flex justify-between text-sm text-green-600 font-medium",children:[o.jsxs("span",{children:["Discount (",C==="senior"?"Senior":"PWD"," 20%)"]}),o.jsxs("span",{children:["-",H.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between font-bold text-xl pt-2 border-t border-dashed border-gray-300",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{children:["",oe.toFixed(2)]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx("button",{onClick:()=>{j(C==="senior"?"none":"senior"),C!=="senior"&&A("")},className:`py-2 px-3 rounded-lg text-xs font-bold border transition-all ${C==="senior"?"bg-coffee-100 border-coffee-500 text-coffee-700":"bg-white border-gray-200 text-gray-500 hover:border-coffee-300 hover:text-coffee-600"}`,children:" Senior Citizen"}),o.jsx("button",{onClick:()=>{j(C==="pwd"?"none":"pwd"),C!=="pwd"&&A("")},className:`py-2 px-3 rounded-lg text-xs font-bold border transition-all ${C==="pwd"?"bg-coffee-100 border-coffee-500 text-coffee-700":"bg-white border-gray-200 text-gray-500 hover:border-coffee-300 hover:text-coffee-600"}`,children:" PWD"})]}),C!=="none"&&o.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 duration-200",children:[o.jsxs("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:[C==="senior"?"Senior Citizen":"PWD"," ID Number ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:T,onChange:ne=>A(ne.target.value),placeholder:"Enter ID Number",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-coffee-500 focus:border-coffee-500"})]}),o.jsxs("button",{className:"w-full py-3 border border-dashed rounded-xl hover:border-coffee-500 text-sm font-semibold text-gray-500 hover:text-coffee-700 flex items-center justify-center gap-2",children:[o.jsx(Ki,{className:"h-4 w-4"})," Link Customer"]}),o.jsxs("button",{onClick:re,disabled:N||C!=="none"&&!T.trim(),className:"w-full py-4 bg-gradient-to-r from-coffee-600 to-coffee-800 hover:from-coffee-700 hover:to-coffee-900 text-white font-bold rounded-xl shadow-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(jw,{className:"h-5 w-5"})," ",o.jsxs("span",{className:"text-lg",children:["Pay ",oe.toFixed(2)]})]})]})]})]}),y&&o.jsx(IC,{product:y,selectedSize:x||y.sizes[0],isOpen:d,onClose:()=>h(!1),onConfirm:xe,initialCustomizations:P!==null&&c[P]?c[P].customizations:void 0,initialQuantity:P!==null&&c[P]?c[P].quantity:1}),o.jsx(W6e,{isOpen:f,onClose:()=>m(!1),totalAmount:oe,onPaymentComplete:ve})]})},J6e=()=>o.jsxs("div",{className:"flex min-h-screen flex-col",children:[o.jsx(ar,{}),o.jsx("main",{className:"flex flex-1 items-center justify-center bg-gradient-to-br from-primary-50 to-coffee-50",children:o.jsxs("div",{className:"p-4 text-center",children:[o.jsx(vn,{className:"mx-auto mb-4 h-16 w-16 text-gray-400 opacity-50"}),o.jsx("h1",{className:"mb-4 font-display text-4xl font-bold text-gray-900",children:"404 - Page Not Found"}),o.jsx("p",{className:"mb-8 text-gray-600",children:"This coffee blend doesn't exist on our menu. Maybe it got lost in the daily grind?"}),o.jsx(ft,{to:"/",className:"font-medium text-primary-600 transition-colors hover:text-primary-700",children:" Back to Home"})]})}),o.jsx(or,{})]}),Z6e=()=>{const{isCartOpen:t,closeCart:e,cartItems:n,updateQuantity:r,removeFromCart:i,toastMessage:s,selectedItemIds:a,toggleItemSelection:l,selectAllItems:c,deselectAllItems:u}=lr(),d=$n(),h=()=>{e(),d("/checkout")};return o.jsxs(o.Fragment,{children:[o.jsx(A1e,{}),o.jsx(E1e,{}),o.jsxs(wte,{children:[o.jsx(Ue,{path:"/",element:o.jsx(Uge,{})}),o.jsx(Ue,{path:"/about",element:o.jsx(v1e,{})}),o.jsx(Ue,{path:"/menu",element:o.jsx(Nbe,{})}),o.jsx(Ue,{path:"/contact",element:o.jsx(w1e,{})}),o.jsx(Ue,{path:"/auth/login",element:o.jsx(Fge,{})}),o.jsx(Ue,{path:"/auth/register",element:o.jsx(Bge,{})}),o.jsx(Ue,{path:"/auth/forgot-password",element:o.jsx($ge,{})}),o.jsx(Ue,{path:"/checkout",element:o.jsx(Ibe,{})}),o.jsx(Ue,{path:"/queue",element:o.jsx(Vbe,{})}),o.jsx(Ue,{path:"/rewards",element:o.jsx(a1e,{})}),o.jsx(Ue,{path:"/profile",element:o.jsx(g1e,{})}),o.jsx(Ue,{path:"/faq",element:o.jsx(S1e,{})}),o.jsx(Ue,{path:"/terms",element:o.jsx(B6e,{})}),o.jsx(Ue,{path:"/privacy",element:o.jsx($6e,{})}),o.jsx(Ue,{path:"/cookies",element:o.jsx(q6e,{})}),o.jsx(Ue,{element:o.jsx(b6,{}),children:o.jsxs(Ue,{path:"/admin",element:o.jsx(j6e,{}),children:[o.jsx(Ue,{index:!0,element:o.jsx(E6e,{})}),o.jsx(Ue,{path:"queue",element:o.jsx(wV,{})}),o.jsx(Ue,{path:"history",element:o.jsx(EV,{})}),o.jsx(Ue,{path:"users",element:o.jsx(U6e,{})}),o.jsx(Ue,{path:"inventory",element:o.jsx(NV,{})}),o.jsx(Ue,{path:"products",element:o.jsx(C6e,{})}),o.jsx(Ue,{path:"analytics",element:o.jsx(R6e,{})}),o.jsx(Ue,{path:"feedback",element:o.jsx(L6e,{})}),o.jsx(Ue,{path:"settings",element:o.jsx(z6e,{})})]})}),o.jsx(Ue,{element:o.jsx(b6,{allowedRoles:["employee","admin"]}),children:o.jsxs(Ue,{path:"/employee",element:o.jsx(F6e,{}),children:[o.jsx(Ue,{index:!0,element:o.jsx(H6e,{})}),o.jsx(Ue,{path:"pos",element:o.jsx(X6e,{})}),o.jsx(Ue,{path:"queue",element:o.jsx(wV,{})}),o.jsx(Ue,{path:"inventory",element:o.jsx(NV,{})}),o.jsx(Ue,{path:"history",element:o.jsx(EV,{})})]})}),o.jsx(Ue,{path:"*",element:o.jsx(J6e,{})})]}),o.jsx(T1e,{isOpen:t,onClose:e,cartItems:n,onUpdateQuantity:r,onRemoveItem:i,onCheckout:h,selectedItemIds:a,onToggleItemSelection:l,onSelectAll:c,onDeselectAll:u}),s&&o.jsx("div",{className:"fixed bottom-4 right-4 z-[100] animate-fade-in-up rounded-lg bg-gray-900 px-4 py-3 text-white shadow-lg",children:s})]})},e3e=()=>o.jsx(Sge,{children:o.jsx(Tbe,{children:o.jsx(Ege,{children:o.jsx(Abe,{children:o.jsx(jge,{children:o.jsx(Hte,{children:o.jsx(Z6e,{})})})})})})}),eX=document.getElementById("root");if(!eX)throw new Error("Could not find root element to mount to");const t3e=Tee.createRoot(eX);t3e.render(o.jsx(hs.StrictMode,{children:o.jsx(e3e,{})}));
