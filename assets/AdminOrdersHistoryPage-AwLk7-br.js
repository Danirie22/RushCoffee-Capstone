import{r as c,E as V,j as e,X as H,y as O,p as R,d as P,B as k,J as W}from"./index-D0VROO4j.js";import{C as M}from"./clock-UsoFzJZZ.js";import{P as B}from"./package-Af0kzx5J.js";import{C as U}from"./credit-card-DMpe4kZI.js";import{F as G}from"./file-text-DXQyfzWK.js";import{S as _}from"./search-tx0CyJhj.js";import{C as J}from"./calendar-DigsTWcJ.js";import{C as K,a as Q}from"./chevron-right-CF0vsDwf.js";import{S as X}from"./store-CCOh9WlP.js";import{B as Y}from"./banknote-ySSZtWaZ.js";const Z=({order:t,isOpen:h,onClose:b,onStatusUpdate:v})=>{var o,I,y;const[w,C]=c.useState(""),[u,E]=c.useState(new Map);if(c.useEffect(()=>{if(!h)return;(async()=>{if(console.log("ðŸ” Fetching employee data:",{employeeId:t.employeeId,employeeName:t.employeeName}),!t.employeeId){console.log("âš ï¸ No employeeId found, using employeeName:",t.employeeName),C(t.employeeName||"Unknown Employee");return}try{const l=await P.collection("users").doc(t.employeeId).get();if(l.exists){const n=l.data();console.log("âœ… Employee data found:",{firstName:n==null?void 0:n.firstName,lastName:n==null?void 0:n.lastName});const m=`${(n==null?void 0:n.firstName)||""} ${(n==null?void 0:n.lastName)||""}`.trim();C(m||t.employeeName||"Unknown Employee")}else console.log("âŒ Employee document not found for ID:",t.employeeId),C(t.employeeName||"Unknown Employee")}catch(l){console.error("âŒ Error fetching employee data:",l),C(t.employeeName||"Unknown Employee")}})()},[h,t.employeeId,t.employeeName]),c.useEffect(()=>{if(!h)return;(async()=>{try{const l=await P.collection("ingredients").where("isTopping","==",!0).get(),n=new Map;l.forEach(m=>{const x=m.data();n.set(x.name,x.toppingPrice||0)}),E(n)}catch(l){console.error("Error fetching topping prices:",l)}})()},[h]),c.useEffect(()=>{window.getComputedStyle(document.body).overflow;const a=document.getElementById("admin-main-content"),l=document.getElementById("employee-main-content");return h?(document.body.style.overflow="hidden",a&&(a.style.overflow="hidden"),l&&(l.style.overflow="hidden")):(document.body.style.overflow="",a&&(a.style.overflow=""),l&&(l.style.overflow="")),()=>{document.body.style.overflow="",a&&(a.style.overflow=""),l&&(l.style.overflow="")}},[h]),!h)return null;const j=a=>{if(!a)return"";let l;return typeof a=="object"&&a!==null&&"toDate"in a?l=a.toDate():l=new Date(a),l.toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},F=a=>{switch(a){case"preparing":return e.jsx(k,{className:"bg-yellow-100 text-yellow-800 text-sm",children:"ðŸŸ¡ Preparing"});case"ready":return e.jsx(k,{className:"bg-green-100 text-green-800 text-sm",children:"ðŸŸ¢ Ready for Pickup"});case"completed":return e.jsx(k,{className:"bg-gray-100 text-gray-800 text-sm",children:"âš« Completed"});case"cancelled":return e.jsx(k,{className:"bg-red-100 text-red-800 text-sm",children:"ðŸ”´ Cancelled"});default:return e.jsx(k,{className:"text-sm",children:a})}};return typeof document<"u"?V.createPortal(e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsx("div",{className:"p-6 border-b bg-gradient-to-r from-primary-600 to-primary-800 text-white",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:t.orderNumber}),e.jsxs("div",{className:"flex items-center gap-3 text-primary-100",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(M,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:j(t.timestamp)})]}),F(t.status)]})]}),e.jsx("button",{onClick:b,className:"h-8 w-8 rounded-lg bg-white/10 hover:bg-white/20 flex items-center justify-center transition-colors",children:e.jsx(H,{className:"h-5 w-5"})})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5 text-primary-600"}),"Order Items"]}),e.jsx("div",{className:"space-y-2",children:(t.orderItems||[]).map((a,l)=>{var x;let n=0;(x=a.customizations)!=null&&x.toppings&&a.customizations.toppings.forEach(p=>{const f=u.get(p);f&&(n+=f)});const m=a.price-n;return e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:a.productName}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Size: ",a.sizeLabel]}),a.customizations&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1 space-y-0.5",children:[a.customizations.sugarLevel&&e.jsxs("div",{children:["â€¢ Sugar: ",a.customizations.sugarLevel]}),a.customizations.iceLevel&&e.jsxs("div",{children:["â€¢ Ice: ",a.customizations.iceLevel]}),a.customizations.toppings&&a.customizations.toppings.length>0&&e.jsxs("div",{children:["â€¢ Toppings: ",a.customizations.toppings.map((p,f)=>{const D=u.get(p);return e.jsxs("span",{children:[p,D&&` (+â‚±${D})`,f<a.customizations.toppings.length-1?", ":""]},f)})]})]})]}),e.jsxs("div",{className:"text-right min-w-[100px]",children:[e.jsxs("div",{className:"text-xs text-gray-500 space-y-0.5",children:[e.jsxs("div",{children:["Qty: ",a.quantity]}),e.jsxs("div",{children:["Base: â‚±",m.toFixed(2)]}),n>0&&e.jsxs("div",{children:["Toppings: +â‚±",n.toFixed(2)]})]}),e.jsxs("div",{className:"font-bold text-gray-900 mt-1 pt-1 border-t border-gray-300",children:["â‚±",(a.price*a.quantity).toFixed(2)]})]})]},l)})}),e.jsx("div",{className:"mt-4 p-4 bg-primary-50 rounded-lg border-2 border-primary-200 space-y-2",children:(()=>{const a=(t.orderItems||[]).reduce((n,m)=>n+m.price*m.quantity,0),l=t.subtotal-a;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Items Total:"}),e.jsxs("span",{className:"font-medium text-gray-900",children:["â‚±",a.toFixed(2)]})]}),l>0&&e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Additional Fees:"}),e.jsxs("span",{className:"font-medium text-gray-900",children:["â‚±",l.toFixed(2)]})]}),e.jsxs("div",{className:"pt-2 border-t border-primary-300 flex justify-between items-center",children:[e.jsx("span",{className:"font-bold text-gray-900 text-lg",children:"Total"}),e.jsxs("span",{className:"font-bold text-primary-700 text-2xl",children:["â‚±",t.subtotal.toFixed(2)]})]})]})})()})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-2",children:[e.jsx(U,{className:"h-4 w-4"}),e.jsx("span",{className:"font-semibold",children:"Payment"})]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Method:"}),e.jsx("span",{className:"font-medium capitalize",children:t.paymentMethod})]}),t.paymentMethod==="cash"&&((o=t.paymentDetails)==null?void 0:o.amountReceived)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Received:"}),e.jsxs("span",{className:"font-medium",children:["â‚±",t.paymentDetails.amountReceived.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Change:"}),e.jsxs("span",{className:"font-medium",children:["â‚±",(t.paymentDetails.amountReceived-(t.subtotal||0)).toFixed(2)]})]})]}),t.paymentMethod==="gcash"&&e.jsxs(e.Fragment,{children:[t.paymentAccountName&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Account Name:"}),e.jsx("span",{className:"font-medium",children:t.paymentAccountName})]}),(((I=t.paymentDetails)==null?void 0:I.referenceNumber)||t.paymentReference)&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Ref No:"}),e.jsx("span",{className:"font-medium",children:((y=t.paymentDetails)==null?void 0:y.referenceNumber)||t.paymentReference})]})]})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-2",children:[e.jsx(O,{className:"h-4 w-4"}),e.jsx("span",{className:"font-semibold",children:"Processed By"})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-gray-900",children:w||t.employeeName}),t.customerName&&e.jsxs("div",{className:"text-gray-600 mt-1",children:["Customer: ",t.customerName]})]})]})]})]}),t.receiptUrl&&e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-3",children:[e.jsx(G,{className:"h-4 w-4"}),e.jsx("span",{className:"font-semibold",children:"Payment Receipt"})]}),e.jsx("div",{className:"relative w-full overflow-hidden rounded-lg bg-white border border-gray-200",children:e.jsx("img",{src:t.receiptUrl,alt:"Payment Receipt",className:"w-full h-auto object-contain max-h-[300px]"})}),e.jsx("div",{className:"mt-3 text-center",children:e.jsx("a",{href:t.receiptUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary-600 hover:text-primary-700 hover:underline font-medium inline-flex items-center gap-1",children:"View Full Size"})})]})]}),v&&(t.status==="preparing"||t.status==="ready")&&e.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[t.status==="preparing"&&e.jsxs("button",{onClick:()=>{v(t.id,"ready"),b()},className:"flex-1 py-3 px-4 bg-green-600 hover:bg-green-700 text-white rounded-xl font-semibold transition-colors flex items-center justify-center gap-2",children:[e.jsx(R,{className:"h-5 w-5"}),"Mark as Ready"]}),t.status==="ready"&&e.jsxs("button",{onClick:()=>{v(t.id,"completed"),b()},className:"flex-1 py-3 px-4 bg-gray-800 hover:bg-gray-900 text-white rounded-xl font-semibold transition-colors flex items-center justify-center gap-2",children:[e.jsx(R,{className:"h-5 w-5"}),"Mark as Completed"]}),e.jsx("button",{onClick:b,className:"px-6 py-3 bg-white hover:bg-gray-100 text-gray-700 border border-gray-300 rounded-xl font-semibold transition-colors",children:"Close"})]})]}),document.body):null},de=()=>{const[t,h]=c.useState([]),[b,v]=c.useState(!0),[w,C]=c.useState("all"),[u,E]=c.useState("all"),[j,F]=c.useState(""),[o,I]=c.useState(1),y=10,[a,l]=c.useState(null),[n,m]=c.useState(!1);c.useEffect(()=>{const s=P.collection("orders").orderBy("timestamp","desc").onSnapshot(r=>{const i=r.docs.map(N=>{var g;const d=N.data();return{id:N.id,...d,orderItems:d.orderItems||d.items||[],timestamp:(g=d.timestamp)!=null&&g.toDate?d.timestamp.toDate():d.timestamp?new Date(d.timestamp):new Date,totalAmount:d.totalAmount||d.subtotal||0}});h(i),v(!1)},r=>{console.error("Error fetching orders:",r),v(!1)});return()=>s()},[]);const x=t.filter(s=>{const r=w==="all"||s.status===w,i=s.id.toLowerCase().includes(j.toLowerCase())||(s.customerName||"").toLowerCase().includes(j.toLowerCase())||(s.orderNumber||"").toLowerCase().includes(j.toLowerCase());let N=!0;if(u!=="all"){const d=new Date(s.timestamp),g=new Date;if(g.setHours(0,0,0,0),u==="today")N=d>=g;else if(u==="week"){const S=new Date(g);S.setDate(g.getDate()-7),N=d>=S}else if(u==="month"){const S=new Date(g);S.setMonth(g.getMonth()-1),N=d>=S}}return r&&i&&N}),p=Math.ceil(x.length/y),f=x.slice((o-1)*y,o*y),D=s=>{s>=1&&s<=p&&I(s)};c.useEffect(()=>{I(1)},[w,u,j]);const z=s=>{console.log("ðŸ“¦ Raw order data from Firestore:",{id:s.id,employeeId:s.employeeId,employeeName:s.employeeName,hasEmployeeId:"employeeId"in s,hasEmployeeName:"employeeName"in s,allKeys:Object.keys(s)});const r={...s,items:(s.orderItems||[]).map(i=>({...i,sizeLabel:i.sizeLabel||i.size||"Standard"})),orderItems:s.orderItems||[],subtotal:s.totalAmount,createdAt:{toDate:()=>new Date(s.timestamp)},paymentDetails:s.paymentDetails||{amountReceived:s.totalAmount||0,change:0},employeeId:s.employeeId||"",employeeName:s.employeeName||"Unknown Employee"};console.log("ðŸ“¤ Mapped order data being sent to modal:",{employeeId:r.employeeId,employeeName:r.employeeName}),l(r),m(!0)},$=()=>{m(!1),l(null)},L=s=>{switch(s){case"completed":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"cancelled":return"bg-rose-100 text-rose-700 border-rose-200";case"preparing":return"bg-amber-100 text-amber-700 border-amber-200";case"ready":return"bg-blue-100 text-blue-700 border-blue-200";case"waiting":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},q=s=>s==="gcash"?e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-xs font-medium bg-blue-50 text-blue-700 border border-blue-100",children:[e.jsx(U,{className:"w-3.5 h-3.5"})," GCash"]}):e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-xs font-medium bg-emerald-50 text-emerald-700 border border-emerald-100",children:[e.jsx(Y,{className:"w-3.5 h-3.5"})," Cash"]}),T=s=>{try{if(!s)return"N/A";const r=new Date(s);return isNaN(r.getTime())?"Invalid Date":new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).format(r)}catch{return"Error"}},A=s=>s?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 ring-1 ring-blue-100",children:e.jsx(O,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:s}),e.jsx("div",{className:"text-[10px] font-bold text-blue-600 uppercase tracking-wider",children:"Online"})]})]}):e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-orange-50 text-orange-600 ring-1 ring-orange-100",children:e.jsx(X,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Walk-in"}),e.jsx("div",{className:"text-[10px] font-bold text-orange-600 uppercase tracking-wider",children:"In-Store"})]})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Order History"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"View and manage all past orders"})]})}),e.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(_,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search by Order ID, Name, or Order #",value:j,onChange:s=>F(s.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition-all"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("div",{className:"relative min-w-[140px]",children:[e.jsxs("select",{value:w,onChange:s=>C(s.target.value),className:"w-full appearance-none bg-white border border-gray-200 text-gray-700 py-2.5 px-4 pr-10 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 cursor-pointer hover:border-gray-300 transition-colors",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"}),e.jsx("option",{value:"ready",children:"Ready"}),e.jsx("option",{value:"preparing",children:"Preparing"}),e.jsx("option",{value:"waiting",children:"Waiting"})]}),e.jsx(W,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none"})]}),e.jsxs("div",{className:"relative min-w-[140px]",children:[e.jsxs("select",{value:u,onChange:s=>E(s.target.value),className:"w-full appearance-none bg-white border border-gray-200 text-gray-700 py-2.5 px-4 pr-10 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 cursor-pointer hover:border-gray-300 transition-colors",children:[e.jsx("option",{value:"all",children:"All Dates"}),e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"week",children:"Last 7 Days"}),e.jsx("option",{value:"month",children:"Last 30 Days"})]}),e.jsx(J,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none"})]})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:b?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Loading orders..."})]}):x.length===0?e.jsxs("div",{className:"p-12 text-center flex flex-col items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mb-4",children:e.jsx(B,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No orders found"}),e.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filters"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50/50 border-b border-gray-100 text-xs uppercase tracking-wider text-gray-500 font-semibold",children:[e.jsx("th",{className:"px-6 py-4 text-left",children:"Order Details"}),e.jsx("th",{className:"px-6 py-4 text-center",children:"Customer"}),e.jsx("th",{className:"px-6 py-4 text-center",children:"Ordered Items"}),e.jsx("th",{className:"px-6 py-4 text-center",children:"Payment"}),e.jsx("th",{className:"px-6 py-4 text-center",children:"Total"}),e.jsx("th",{className:"px-6 py-4 text-center",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:f.map(s=>e.jsxs("tr",{onClick:()=>z(s),className:"hover:bg-gray-50/80 transition-colors group cursor-pointer",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:s.orderNumber}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1.5",children:[e.jsx(M,{className:"w-3 h-3"}),T(s.timestamp)]})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex justify-center",children:A(s.customerName)})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("div",{className:"space-y-1 inline-block text-left",children:[(s.orderItems||[]).slice(0,2).map((r,i)=>e.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2",children:[e.jsxs("span",{className:"font-medium text-gray-900 w-4 text-right",children:[r.quantity||1,"x"]}),e.jsx("span",{className:"truncate max-w-[150px]",title:r.productName,children:r.productName})]},i)),(s.orderItems||[]).length>2&&e.jsxs("div",{className:"text-xs text-primary-600 font-medium pl-6",children:["+",(s.orderItems||[]).length-2," more items"]})]})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("div",{className:"flex justify-center",children:q(s.paymentMethod||"cash")})}),e.jsxs("td",{className:"px-6 py-4 font-bold text-gray-900 text-center",children:["â‚±",s.totalAmount.toFixed(2)]}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${L(s.status)} capitalize`,children:s.status})})})]},s.id))})]})}),e.jsx("div",{className:"md:hidden divide-y divide-gray-100",children:f.map(s=>e.jsxs("div",{onClick:()=>z(s),className:"p-4 space-y-3 hover:bg-gray-50 transition-colors cursor-pointer active:bg-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-900",children:s.orderNumber}),e.jsxs("div",{className:"text-xs text-gray-500 mt-0.5 flex items-center gap-1",children:[e.jsx(M,{className:"w-3 h-3"}),T(s.timestamp)]})]}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${L(s.status)} capitalize`,children:s.status})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("div",{children:A(s.customerName)}),e.jsxs("div",{className:"font-bold text-gray-900",children:["â‚±",s.totalAmount.toFixed(2)]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-1.5",children:(s.orderItems||[]).map((r,i)=>e.jsxs("div",{className:"text-sm text-gray-600 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-medium text-gray-900",children:[r.quantity||1,"x"]}),e.jsx("span",{children:r.productName})]}),r.price&&e.jsxs("span",{className:"text-gray-400 text-xs",children:["â‚±",r.price]})]},i))}),e.jsxs("div",{className:"flex justify-between items-center pt-2",children:[e.jsx("div",{className:"text-sm text-gray-500",children:s.paymentMethod==="gcash"?"GCash":"Cash"}),e.jsx("div",{className:"text-primary-600 font-medium text-sm flex items-center gap-1 bg-primary-50 px-3 py-1.5 rounded-lg",children:"View Details"})]})]},s.id))}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex flex-col sm:flex-row justify-between items-center gap-4 bg-gray-50/30",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:["Showing ",e.jsx("span",{className:"font-medium text-gray-900",children:(o-1)*y+1})," to ",e.jsx("span",{className:"font-medium text-gray-900",children:Math.min(o*y,x.length)})," of ",e.jsx("span",{className:"font-medium text-gray-900",children:x.length})," results"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>D(o-1),disabled:o===1,className:"p-2 border border-gray-200 rounded-lg hover:bg-white hover:shadow-sm disabled:opacity-50 disabled:cursor-not-allowed transition-all text-gray-600",children:e.jsx(K,{className:"w-4 h-4"})}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,p)},(s,r)=>{let i=r+1;return p>5&&(o>3&&(i=o-2+r),i>p&&(i=p-4+r)),e.jsx("button",{onClick:()=>D(i),className:`w-8 h-8 rounded-lg text-sm font-medium transition-all ${o===i?"bg-primary-600 text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:i},i)})}),e.jsx("button",{onClick:()=>D(o+1),disabled:o===p,className:"p-2 border border-gray-200 rounded-lg hover:bg-white hover:shadow-sm disabled:opacity-50 disabled:cursor-not-allowed transition-all text-gray-600",children:e.jsx(Q,{className:"w-4 h-4"})})]})]})]})}),a&&e.jsx(Z,{order:a,isOpen:n,onClose:$})]})};export{de as default};
