(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function eE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qg={exports:{}},Zc={};var Iw;function TR(){if(Iw)return Zc;Iw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var h=null;if(l!==void 0&&(h=""+l),a.key!==void 0&&(h=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:h,ref:a!==void 0?a:null,props:l}}return Zc.Fragment=e,Zc.jsx=t,Zc.jsxs=t,Zc}var Mw;function ER(){return Mw||(Mw=1,qg.exports=TR()),qg.exports}var c=ER(),Hg={exports:{}},Ae={};var Dw;function NR(){if(Dw)return Ae;Dw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function E(q){return q===null||typeof q!="object"?null:(q=w&&q[w]||q["@@iterator"],typeof q=="function"?q:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,R={};function O(q,re,ue){this.props=q,this.context=re,this.refs=R,this.updater=ue||j}O.prototype.isReactComponent={},O.prototype.setState=function(q,re){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,re,"setState")},O.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function D(){}D.prototype=O.prototype;function U(q,re,ue){this.props=q,this.context=re,this.refs=R,this.updater=ue||j}var H=U.prototype=new D;H.constructor=U,k(H,O.prototype),H.isPureReactComponent=!0;var K=Array.isArray;function ie(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function M(q,re,ue){var fe=ue.ref;return{$$typeof:n,type:q,key:re,ref:fe!==void 0?fe:null,props:ue}}function V(q,re){return M(q.type,re,q.props)}function L(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function F(q){var re={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ue){return re[ue]})}var P=/\/+/g;function me(q,re){return typeof q=="object"&&q!==null&&q.key!=null?F(""+q.key):re.toString(36)}function Me(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(ie,ie):(q.status="pending",q.then(function(re){q.status==="pending"&&(q.status="fulfilled",q.value=re)},function(re){q.status==="pending"&&(q.status="rejected",q.reason=re)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function Z(q,re,ue,fe,Ne){var Re=typeof q;(Re==="undefined"||Re==="boolean")&&(q=null);var Fe=!1;if(q===null)Fe=!0;else switch(Re){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(q.$$typeof){case n:case e:Fe=!0;break;case x:return Fe=q._init,Z(Fe(q._payload),re,ue,fe,Ne)}}if(Fe)return Ne=Ne(q),Fe=fe===""?"."+me(q,0):fe,K(Ne)?(ue="",Fe!=null&&(ue=Fe.replace(P,"$&/")+"/"),Z(Ne,re,ue,"",function(ma){return ma})):Ne!=null&&(L(Ne)&&(Ne=V(Ne,ue+(Ne.key==null||q&&q.key===Ne.key?"":(""+Ne.key).replace(P,"$&/")+"/")+Fe)),re.push(Ne)),1;Fe=0;var Gt=fe===""?".":fe+":";if(K(q))for(var gt=0;gt<q.length;gt++)fe=q[gt],Re=Gt+me(fe,gt),Fe+=Z(fe,re,ue,Re,Ne);else if(gt=E(q),typeof gt=="function")for(q=gt.call(q),gt=0;!(fe=q.next()).done;)fe=fe.value,Re=Gt+me(fe,gt++),Fe+=Z(fe,re,ue,Re,Ne);else if(Re==="object"){if(typeof q.then=="function")return Z(Me(q),re,ue,fe,Ne);throw re=String(q),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function oe(q,re,ue){if(q==null)return q;var fe=[],Ne=0;return Z(q,fe,"","",function(Re){return re.call(ue,Re,Ne++)}),fe}function ge(q){if(q._status===-1){var re=q._result;re=re(),re.then(function(ue){(q._status===0||q._status===-1)&&(q._status=1,q._result=ue)},function(ue){(q._status===0||q._status===-1)&&(q._status=2,q._result=ue)}),q._status===-1&&(q._status=0,q._result=re)}if(q._status===1)return q._result.default;throw q._result}var De=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},$e={map:oe,forEach:function(q,re,ue){oe(q,function(){re.apply(this,arguments)},ue)},count:function(q){var re=0;return oe(q,function(){re++}),re},toArray:function(q){return oe(q,function(re){return re})||[]},only:function(q){if(!L(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Ae.Activity=v,Ae.Children=$e,Ae.Component=O,Ae.Fragment=t,Ae.Profiler=a,Ae.PureComponent=U,Ae.StrictMode=r,Ae.Suspense=m,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(q){return I.H.useMemoCache(q)}},Ae.cache=function(q){return function(){return q.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(q,re,ue){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var fe=k({},q.props),Ne=q.key;if(re!=null)for(Re in re.key!==void 0&&(Ne=""+re.key),re)!A.call(re,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&re.ref===void 0||(fe[Re]=re[Re]);var Re=arguments.length-2;if(Re===1)fe.children=ue;else if(1<Re){for(var Fe=Array(Re),Gt=0;Gt<Re;Gt++)Fe[Gt]=arguments[Gt+2];fe.children=Fe}return M(q.type,Ne,fe)},Ae.createContext=function(q){return q={$$typeof:h,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:l,_context:q},q},Ae.createElement=function(q,re,ue){var fe,Ne={},Re=null;if(re!=null)for(fe in re.key!==void 0&&(Re=""+re.key),re)A.call(re,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Ne[fe]=re[fe]);var Fe=arguments.length-2;if(Fe===1)Ne.children=ue;else if(1<Fe){for(var Gt=Array(Fe),gt=0;gt<Fe;gt++)Gt[gt]=arguments[gt+2];Ne.children=Gt}if(q&&q.defaultProps)for(fe in Fe=q.defaultProps,Fe)Ne[fe]===void 0&&(Ne[fe]=Fe[fe]);return M(q,Re,Ne)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(q){return{$$typeof:d,render:q}},Ae.isValidElement=L,Ae.lazy=function(q){return{$$typeof:x,_payload:{_status:-1,_result:q},_init:ge}},Ae.memo=function(q,re){return{$$typeof:g,type:q,compare:re===void 0?null:re}},Ae.startTransition=function(q){var re=I.T,ue={};I.T=ue;try{var fe=q(),Ne=I.S;Ne!==null&&Ne(ue,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ie,De)}catch(Re){De(Re)}finally{re!==null&&ue.types!==null&&(re.types=ue.types),I.T=re}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(q){return I.H.use(q)},Ae.useActionState=function(q,re,ue){return I.H.useActionState(q,re,ue)},Ae.useCallback=function(q,re){return I.H.useCallback(q,re)},Ae.useContext=function(q){return I.H.useContext(q)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(q,re){return I.H.useDeferredValue(q,re)},Ae.useEffect=function(q,re){return I.H.useEffect(q,re)},Ae.useEffectEvent=function(q){return I.H.useEffectEvent(q)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(q,re,ue){return I.H.useImperativeHandle(q,re,ue)},Ae.useInsertionEffect=function(q,re){return I.H.useInsertionEffect(q,re)},Ae.useLayoutEffect=function(q,re){return I.H.useLayoutEffect(q,re)},Ae.useMemo=function(q,re){return I.H.useMemo(q,re)},Ae.useOptimistic=function(q,re){return I.H.useOptimistic(q,re)},Ae.useReducer=function(q,re,ue){return I.H.useReducer(q,re,ue)},Ae.useRef=function(q){return I.H.useRef(q)},Ae.useState=function(q){return I.H.useState(q)},Ae.useSyncExternalStore=function(q,re,ue){return I.H.useSyncExternalStore(q,re,ue)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.0",Ae}var kw;function g0(){return kw||(kw=1,Hg.exports=NR()),Hg.exports}var N=g0();const SR=eE(N);var Gg={exports:{}},eu={},$g={exports:{}},Yg={};var Pw;function AR(){return Pw||(Pw=1,(function(n){function e(Z,oe){var ge=Z.length;Z.push(oe);e:for(;0<ge;){var De=ge-1>>>1,$e=Z[De];if(0<a($e,oe))Z[De]=oe,Z[ge]=$e,ge=De;else break e}}function t(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var oe=Z[0],ge=Z.pop();if(ge!==oe){Z[0]=ge;e:for(var De=0,$e=Z.length,q=$e>>>1;De<q;){var re=2*(De+1)-1,ue=Z[re],fe=re+1,Ne=Z[fe];if(0>a(ue,ge))fe<$e&&0>a(Ne,ue)?(Z[De]=Ne,Z[fe]=ge,De=fe):(Z[De]=ue,Z[re]=ge,De=re);else if(fe<$e&&0>a(Ne,ge))Z[De]=Ne,Z[fe]=ge,De=fe;else break e}}return oe}function a(Z,oe){var ge=Z.sortIndex-oe.sortIndex;return ge!==0?ge:Z.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();n.unstable_now=function(){return h.now()-d}}var m=[],g=[],x=1,v=null,w=3,E=!1,j=!1,k=!1,R=!1,O=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function H(Z){for(var oe=t(g);oe!==null;){if(oe.callback===null)r(g);else if(oe.startTime<=Z)r(g),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=t(g)}}function K(Z){if(k=!1,H(Z),!j)if(t(m)!==null)j=!0,ie||(ie=!0,F());else{var oe=t(g);oe!==null&&Me(K,oe.startTime-Z)}}var ie=!1,I=-1,A=5,M=-1;function V(){return R?!0:!(n.unstable_now()-M<A)}function L(){if(R=!1,ie){var Z=n.unstable_now();M=Z;var oe=!0;try{e:{j=!1,k&&(k=!1,D(I),I=-1),E=!0;var ge=w;try{t:{for(H(Z),v=t(m);v!==null&&!(v.expirationTime>Z&&V());){var De=v.callback;if(typeof De=="function"){v.callback=null,w=v.priorityLevel;var $e=De(v.expirationTime<=Z);if(Z=n.unstable_now(),typeof $e=="function"){v.callback=$e,H(Z),oe=!0;break t}v===t(m)&&r(m),H(Z)}else r(m);v=t(m)}if(v!==null)oe=!0;else{var q=t(g);q!==null&&Me(K,q.startTime-Z),oe=!1}}break e}finally{v=null,w=ge,E=!1}oe=void 0}}finally{oe?F():ie=!1}}}var F;if(typeof U=="function")F=function(){U(L)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,me=P.port2;P.port1.onmessage=L,F=function(){me.postMessage(null)}}else F=function(){O(L,0)};function Me(Z,oe){I=O(function(){Z(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(Z){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var ge=w;w=oe;try{return Z()}finally{w=ge}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function(Z,oe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ge=w;w=Z;try{return oe()}finally{w=ge}},n.unstable_scheduleCallback=function(Z,oe,ge){var De=n.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?De+ge:De):ge=De,Z){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=ge+$e,Z={id:x++,callback:oe,priorityLevel:Z,startTime:ge,expirationTime:$e,sortIndex:-1},ge>De?(Z.sortIndex=ge,e(g,Z),t(m)===null&&Z===t(g)&&(k?(D(I),I=-1):k=!0,Me(K,ge-De))):(Z.sortIndex=$e,e(m,Z),j||E||(j=!0,ie||(ie=!0,F()))),Z},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(Z){var oe=w;return function(){var ge=w;w=oe;try{return Z.apply(this,arguments)}finally{w=ge}}}})(Yg)),Yg}var Ow;function jR(){return Ow||(Ow=1,$g.exports=AR()),$g.exports}var Qg={exports:{}},xn={};var Vw;function CR(){if(Vw)return xn;Vw=1;var n=g0();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,x){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:m,containerInfo:g,implementation:x}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,xn.createPortal=function(m,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,x)},xn.flushSync=function(m){var g=h.T,x=r.p;try{if(h.T=null,r.p=2,m)return m()}finally{h.T=g,r.p=x,r.d.f()}},xn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},xn.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},xn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var x=g.as,v=d(x,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:E}):x==="script"&&r.d.X(m,{crossOrigin:v,integrity:w,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},xn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=d(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},xn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,v=d(x,g.crossOrigin);r.d.L(m,x,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},xn.preloadModule=function(m,g){if(typeof m=="string")if(g){var x=d(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},xn.requestFormReset=function(m){r.d.r(m)},xn.unstable_batchedUpdates=function(m,g){return m(g)},xn.useFormState=function(m,g,x){return h.H.useFormState(m,g,x)},xn.useFormStatus=function(){return h.H.useHostTransitionStatus()},xn.version="19.2.0",xn}var Lw;function RR(){if(Lw)return Qg.exports;Lw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qg.exports=CR(),Qg.exports}var Uw;function IR(){if(Uw)return eu;Uw=1;var n=jR(),e=g0(),t=RR();function r(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var i=s,o=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(o=i.return),s=i.return;while(s)}return i.tag===3?o:null}function h(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function d(s){if(s.tag===31){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function m(s){if(l(s)!==s)throw Error(r(188))}function g(s){var i=s.alternate;if(!i){if(i=l(s),i===null)throw Error(r(188));return i!==s?null:s}for(var o=s,u=i;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return m(p),s;if(y===u)return m(p),i;y=y.sibling}throw Error(r(188))}if(o.return!==u.return)o=p,u=y;else{for(var _=!1,S=p.child;S;){if(S===o){_=!0,o=p,u=y;break}if(S===u){_=!0,u=p,o=y;break}S=S.sibling}if(!_){for(S=y.child;S;){if(S===o){_=!0,o=y,u=p;break}if(S===u){_=!0,u=y,o=p;break}S=S.sibling}if(!_)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?s:i}function x(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=x(s),i!==null)return i;s=s.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),U=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function F(s){return s===null||typeof s!="object"?null:(s=L&&s[L]||s["@@iterator"],typeof s=="function"?s:null)}var P=Symbol.for("react.client.reference");function me(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===P?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case O:return"Profiler";case R:return"StrictMode";case K:return"Suspense";case ie:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case j:return"Portal";case U:return s.displayName||"Context";case D:return(s._context.displayName||"Context")+".Consumer";case H:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case I:return i=s.displayName||null,i!==null?i:me(s.type)||"Memo";case A:i=s._payload,s=s._init;try{return me(s(i))}catch{}}return null}var Me=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},De=[],$e=-1;function q(s){return{current:s}}function re(s){0>$e||(s.current=De[$e],De[$e]=null,$e--)}function ue(s,i){$e++,De[$e]=s.current,s.current=i}var fe=q(null),Ne=q(null),Re=q(null),Fe=q(null);function Gt(s,i){switch(ue(Re,i),ue(Ne,s),ue(fe,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?ew(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=ew(i),s=tw(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}re(fe),ue(fe,s)}function gt(){re(fe),re(Ne),re(Re)}function ma(s){s.memoizedState!==null&&ue(Fe,s);var i=fe.current,o=tw(i,s.type);i!==o&&(ue(Ne,s),ue(fe,o))}function fo(s){Ne.current===s&&(re(fe),re(Ne)),Fe.current===s&&(re(Fe),Kc._currentValue=ge)}var mo,po;function Us(s){if(mo===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);mo=i&&i[1]||"",po=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mo+s+po}var Kl=!1;function pa(s,i){if(!s||Kl)return"";Kl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(J){var W=J}Reflect.construct(s,[],se)}else{try{se.call()}catch(J){W=J}s.call(se.prototype)}}else{try{throw Error()}catch(J){W=J}(se=s())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(J){if(J&&W&&typeof J.stack=="string")return[J.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),_=y[0],S=y[1];if(_&&S){var z=_.split(`
`),Q=S.split(`
`);for(p=u=0;u<z.length&&!z[u].includes("DetermineComponentFrameRoot");)u++;for(;p<Q.length&&!Q[p].includes("DetermineComponentFrameRoot");)p++;if(u===z.length||p===Q.length)for(u=z.length-1,p=Q.length-1;1<=u&&0<=p&&z[u]!==Q[p];)p--;for(;1<=u&&0<=p;u--,p--)if(z[u]!==Q[p]){if(u!==1||p!==1)do if(u--,p--,0>p||z[u]!==Q[p]){var ee=`
`+z[u].replace(" at new "," at ");return s.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",s.displayName)),ee}while(1<=u&&0<=p);break}}}finally{Kl=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Us(o):""}function Wl(s,i){switch(s.tag){case 26:case 27:case 5:return Us(s.type);case 16:return Us("Lazy");case 13:return s.child!==i&&i!==null?Us("Suspense Fallback"):Us("Suspense");case 19:return Us("SuspenseList");case 0:case 15:return pa(s.type,!1);case 11:return pa(s.type.render,!1);case 1:return pa(s.type,!0);case 31:return Us("Activity");default:return""}}function Xl(s){try{var i="",o=null;do i+=Wl(s,o),o=s,s=s.return;while(s);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Dt=Object.prototype.hasOwnProperty,$t=n.unstable_scheduleCallback,ni=n.unstable_cancelCallback,Gm=n.unstable_shouldYield,wh=n.unstable_requestPaint,En=n.unstable_now,ga=n.unstable_getCurrentPriorityLevel,Jl=n.unstable_ImmediatePriority,Zl=n.unstable_UserBlockingPriority,si=n.unstable_NormalPriority,$m=n.unstable_LowPriority,_h=n.unstable_IdlePriority,Th=n.log,Eh=n.unstable_setDisableYieldValue,xs=null,an=null;function es(s){if(typeof Th=="function"&&Eh(s),an&&typeof an.setStrictMode=="function")try{an.setStrictMode(xs,s)}catch{}}var At=Math.clz32?Math.clz32:Sh,Nh=Math.log,go=Math.LN2;function Sh(s){return s>>>=0,s===0?32:31-(Nh(s)/go|0)|0}var zs=256,ya=262144,kt=4194304;function Bs(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Fs(s,i,o){var u=s.pendingLanes;if(u===0)return 0;var p=0,y=s.suspendedLanes,_=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~y,u!==0?p=Bs(u):(_&=S,_!==0?p=Bs(_):o||(o=S&~s,o!==0&&(p=Bs(o))))):(S=u&~y,S!==0?p=Bs(S):_!==0?p=Bs(_):o||(o=u&~s,o!==0&&(p=Bs(o)))),p===0?0:i!==0&&i!==p&&(i&y)===0&&(y=p&-p,o=i&-i,y>=o||y===32&&(o&4194048)!==0)?i:p}function vs(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function Ym(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ah(){var s=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),s}function qs(s){for(var i=[],o=0;31>o;o++)i.push(s);return i}function xa(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Qm(s,i,o,u,p,y){var _=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var S=s.entanglements,z=s.expirationTimes,Q=s.hiddenUpdates;for(o=_&~o;0<o;){var ee=31-At(o),se=1<<ee;S[ee]=0,z[ee]=-1;var W=Q[ee];if(W!==null)for(Q[ee]=null,ee=0;ee<W.length;ee++){var J=W[ee];J!==null&&(J.lane&=-536870913)}o&=~se}u!==0&&va(s,u,0),y!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=y&~(_&~i))}function va(s,i,o){s.pendingLanes|=i,s.suspendedLanes&=~i;var u=31-At(i);s.entangledLanes|=i,s.entanglements[u]=s.entanglements[u]|1073741824|o&261930}function ec(s,i){var o=s.entangledLanes|=i;for(s=s.entanglements;o;){var u=31-At(o),p=1<<u;p&i|s[u]&i&&(s[u]|=i),o&=~p}}function tc(s,i){var o=i&-i;return o=(o&42)!==0?1:ba(o),(o&(s.suspendedLanes|i))!==0?0:o}function ba(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function vr(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function jh(){var s=oe.p;return s!==0?s:(s=window.event,s===void 0?32:Ew(s.type))}function bs(s,i){var o=oe.p;try{return oe.p=s,i()}finally{oe.p=o}}var ws=Math.random().toString(36).slice(2),Pt="__reactFiber$"+ws,Xt="__reactProps$"+ws,Hs="__reactContainer$"+ws,yo="__reactEvents$"+ws,Km="__reactListeners$"+ws,Ch="__reactHandles$"+ws,Rh="__reactResources$"+ws,Gs="__reactMarker$"+ws;function xo(s){delete s[Pt],delete s[Xt],delete s[yo],delete s[Km],delete s[Ch]}function $s(s){var i=s[Pt];if(i)return i;for(var o=s.parentNode;o;){if(i=o[Hs]||o[Pt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(s=lw(s);s!==null;){if(o=s[Pt])return o;s=lw(s)}return i}s=o,o=s.parentNode}return null}function ts(s){if(s=s[Pt]||s[Hs]){var i=s.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return s}return null}function Un(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(r(33))}function Ys(s){var i=s[Rh];return i||(i=s[Rh]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ot(s){s[Gs]=!0}var nc=new Set,sc={};function Qs(s,i){Ks(s,i),Ks(s+"Capture",i)}function Ks(s,i){for(sc[s]=i,s=0;s<i.length;s++)nc.add(i[s])}var rc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ic={},ac={};function Ih(s){return Dt.call(ac,s)?!0:Dt.call(ic,s)?!1:rc.test(s)?ac[s]=!0:(ic[s]=!0,!1)}function vo(s,i,o){if(Ih(i))if(o===null)s.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+o)}}function zn(s,i,o){if(o===null)s.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+o)}}function Vt(s,i,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(i,o,""+u)}}function Jt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ri(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function oc(s,i,o){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,i);if(!s.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(_){o=""+_,y.call(this,_)}}),Object.defineProperty(s,i,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Je(s){if(!s._valueTracker){var i=ri(s)?"checked":"value";s._valueTracker=oc(s,i,""+s[i])}}function wa(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return s&&(u=ri(s)?s.checked?"true":"false":s.value),s=u,s!==o?(i.setValue(s),!0):!1}function Ws(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var _a=/[\n"\\]/g;function Cn(s){return s.replace(_a,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function bo(s,i,o,u,p,y,_,S){s.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.type=_:s.removeAttribute("type"),i!=null?_==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+Jt(i)):s.value!==""+Jt(i)&&(s.value=""+Jt(i)):_!=="submit"&&_!=="reset"||s.removeAttribute("value"),i!=null?lc(s,_,Jt(i)):o!=null?lc(s,_,Jt(o)):u!=null&&s.removeAttribute("value"),p==null&&y!=null&&(s.defaultChecked=!!y),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+Jt(S):s.removeAttribute("name")}function Mh(s,i,o,u,p,y,_,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),i!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||i!=null)){Je(s);return}o=o!=null?""+Jt(o):"",i=i!=null?""+Jt(i):o,S||i===s.value||(s.value=i),s.defaultValue=i}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.name=_),Je(s)}function lc(s,i,o){i==="number"&&Ws(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function ii(s,i,o,u){if(s=s.options,i){i={};for(var p=0;p<o.length;p++)i["$"+o[p]]=!0;for(o=0;o<s.length;o++)p=i.hasOwnProperty("$"+s[o].value),s[o].selected!==p&&(s[o].selected=p),p&&u&&(s[o].defaultSelected=!0)}else{for(o=""+Jt(o),i=null,p=0;p<s.length;p++){if(s[p].value===o){s[p].selected=!0,u&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function Dh(s,i,o){if(i!=null&&(i=""+Jt(i),i!==s.value&&(s.value=i),o==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=o!=null?""+Jt(o):""}function ai(s,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(r(92));if(Me(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=Jt(i),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u),Je(s)}function Rn(s,i){if(i){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=i;return}}s.textContent=i}var kh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cc(s,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":u?s.setProperty(i,o):typeof o!="number"||o===0||kh.has(i)?i==="float"?s.cssFloat=o:s[i]=(""+o).trim():s[i]=o+"px"}function uc(s,i,o){if(i!=null&&typeof i!="object")throw Error(r(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var p in i)u=i[p],i.hasOwnProperty(p)&&o[p]!==u&&cc(s,p,u)}else for(var y in i)i.hasOwnProperty(y)&&cc(s,y,i[y])}function wo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ph=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _o(s){return oi.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function _s(){}var hc=null;function ns(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var li=null,Xs=null;function Ta(s){var i=ts(s);if(i&&(s=i.stateNode)){var o=s[Xt]||null;e:switch(s=i.stateNode,i.type){case"input":if(bo(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Cn(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==s&&u.form===s.form){var p=u[Xt]||null;if(!p)throw Error(r(90));bo(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===s.form&&wa(u)}break e;case"textarea":Dh(s,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&ii(s,!!o.multiple,i,!1)}}}var To=!1;function ci(s,i,o){if(To)return s(i,o);To=!0;try{var u=s(i);return u}finally{if(To=!1,(li!==null||Xs!==null)&&(jd(),li&&(i=li,s=Xs,Xs=li=null,Ta(i),s)))for(i=0;i<s.length;i++)Ta(s[i])}}function Ts(s,i){var o=s.stateNode;if(o===null)return null;var u=o[Xt]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ea=!1;if(ss)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){Ea=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{Ea=!1}var Js=null,dc=null,Na=null;function fc(){if(Na)return Na;var s,i=dc,o=i.length,u,p="value"in Js?Js.value:Js.textContent,y=p.length;for(s=0;s<o&&i[s]===p[s];s++);var _=o-s;for(u=1;u<=_&&i[o-u]===p[y-u];u++);return Na=p.slice(s,1<u?1-u:void 0)}function Sa(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function br(){return!0}function Es(){return!1}function on(s){function i(o,u,p,y,_){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(o=s[S],this[S]=o?o(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?br:Es,this.isPropagationStopped=Es,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=br)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=br)},persist:function(){},isPersistent:br}),i}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=on(wr),ui=v({},wr,{view:0,detail:0}),mc=on(ui),hi,Eo,er,No=v({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:di,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==er&&(er&&s.type==="mousemove"?(hi=s.screenX-er.screenX,Eo=s.screenY-er.screenY):Eo=hi=0,er=s),hi)},movementY:function(s){return"movementY"in s?s.movementY:Eo}}),pc=on(No),Aa=v({},No,{dataTransfer:0}),Oh=on(Aa),Vh=v({},ui,{relatedTarget:0}),ja=on(Vh),gc=v({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),Lh=on(gc),So=v({},wr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Uh=on(So),zh=v({},wr,{data:0}),tr=on(zh),Bh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hh(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=qh[s])?!!i[s]:!1}function di(){return Hh}var Nn=v({},ui,{key:function(s){if(s.key){var i=Bh[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Sa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Fh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:di,charCode:function(s){return s.type==="keypress"?Sa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Sa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Gh=on(Nn),$h=v({},No,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_r=on($h),f=v({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:di}),b=on(f),T=v({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=on(T),$=v({},No,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),X=on($),le=v({},wr,{newState:0,oldState:0}),je=on(le),jt=[9,13,27,32],Ke=ss&&"CompositionEvent"in window,yt=null;ss&&"documentMode"in document&&(yt=document.documentMode);var rs=ss&&"TextEvent"in window&&!yt,nr=ss&&(!Ke||yt&&8<yt&&11>=yt),Ns=" ",Ss=!1;function Ca(s,i){switch(s){case"keyup":return jt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ao(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var jo=!1;function Yj(s,i){switch(s){case"compositionend":return Ao(i);case"keypress":return i.which!==32?null:(Ss=!0,Ns);case"textInput":return s=i.data,s===Ns&&Ss?null:s;default:return null}}function Qj(s,i){if(jo)return s==="compositionend"||!Ke&&Ca(s,i)?(s=fc(),Na=dc=Js=null,jo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return nr&&i.locale!=="ko"?null:i.data;default:return null}}var Kj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hv(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!Kj[s.type]:i==="textarea"}function dv(s,i,o,u){li?Xs?Xs.push(u):Xs=[u]:li=u,i=Pd(i,"onChange"),0<i.length&&(o=new Zs("onChange","change",null,o,u),s.push({event:o,listeners:i}))}var yc=null,xc=null;function Wj(s){Qb(s,0)}function Yh(s){var i=Un(s);if(wa(i))return s}function fv(s,i){if(s==="change")return i}var mv=!1;if(ss){var Wm;if(ss){var Xm="oninput"in document;if(!Xm){var pv=document.createElement("div");pv.setAttribute("oninput","return;"),Xm=typeof pv.oninput=="function"}Wm=Xm}else Wm=!1;mv=Wm&&(!document.documentMode||9<document.documentMode)}function gv(){yc&&(yc.detachEvent("onpropertychange",yv),xc=yc=null)}function yv(s){if(s.propertyName==="value"&&Yh(xc)){var i=[];dv(i,xc,s,ns(s)),ci(Wj,i)}}function Xj(s,i,o){s==="focusin"?(gv(),yc=i,xc=o,yc.attachEvent("onpropertychange",yv)):s==="focusout"&&gv()}function Jj(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Yh(xc)}function Zj(s,i){if(s==="click")return Yh(i)}function eC(s,i){if(s==="input"||s==="change")return Yh(i)}function tC(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Bn=typeof Object.is=="function"?Object.is:tC;function vc(s,i){if(Bn(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var o=Object.keys(s),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!Dt.call(i,p)||!Bn(s[p],i[p]))return!1}return!0}function xv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function vv(s,i){var o=xv(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=i&&u>=i)return{node:o,offset:i-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=xv(o)}}function bv(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?bv(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function wv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=Ws(s.document);i instanceof s.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)s=i.contentWindow;else break;i=Ws(s.document)}return i}function Jm(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var nC=ss&&"documentMode"in document&&11>=document.documentMode,Co=null,Zm=null,bc=null,ep=!1;function _v(s,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ep||Co==null||Co!==Ws(u)||(u=Co,"selectionStart"in u&&Jm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),bc&&vc(bc,u)||(bc=u,u=Pd(Zm,"onSelect"),0<u.length&&(i=new Zs("onSelect","select",null,i,o),s.push({event:i,listeners:u}),i.target=Co)))}function Ra(s,i){var o={};return o[s.toLowerCase()]=i.toLowerCase(),o["Webkit"+s]="webkit"+i,o["Moz"+s]="moz"+i,o}var Ro={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionrun:Ra("Transition","TransitionRun"),transitionstart:Ra("Transition","TransitionStart"),transitioncancel:Ra("Transition","TransitionCancel"),transitionend:Ra("Transition","TransitionEnd")},tp={},Tv={};ss&&(Tv=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function Ia(s){if(tp[s])return tp[s];if(!Ro[s])return s;var i=Ro[s],o;for(o in i)if(i.hasOwnProperty(o)&&o in Tv)return tp[s]=i[o];return s}var Ev=Ia("animationend"),Nv=Ia("animationiteration"),Sv=Ia("animationstart"),sC=Ia("transitionrun"),rC=Ia("transitionstart"),iC=Ia("transitioncancel"),Av=Ia("transitionend"),jv=new Map,np="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");np.push("scrollEnd");function As(s,i){jv.set(s,i),Qs(i,[s])}var Qh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},is=[],Io=0,sp=0;function Kh(){for(var s=Io,i=sp=Io=0;i<s;){var o=is[i];is[i++]=null;var u=is[i];is[i++]=null;var p=is[i];is[i++]=null;var y=is[i];if(is[i++]=null,u!==null&&p!==null){var _=u.pending;_===null?p.next=p:(p.next=_.next,_.next=p),u.pending=p}y!==0&&Cv(o,p,y)}}function Wh(s,i,o,u){is[Io++]=s,is[Io++]=i,is[Io++]=o,is[Io++]=u,sp|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function rp(s,i,o,u){return Wh(s,i,o,u),Xh(s)}function Ma(s,i){return Wh(s,null,null,i),Xh(s)}function Cv(s,i,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var p=!1,y=s.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(p=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,p&&i!==null&&(p=31-At(o),s=y.hiddenUpdates,u=s[p],u===null?s[p]=[i]:u.push(i),i.lane=o|536870912),y):null}function Xh(s){if(50<Fc)throw Fc=0,fg=null,Error(r(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var Mo={};function aC(s,i,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(s,i,o,u){return new aC(s,i,o,u)}function ip(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Tr(s,i){var o=s.alternate;return o===null?(o=Fn(s.tag,i,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=i,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,i=s.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function Rv(s,i){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,i=o.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function Jh(s,i,o,u,p,y){var _=0;if(u=s,typeof s=="function")ip(s)&&(_=1);else if(typeof s=="string")_=hR(s,o,fe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case M:return s=Fn(31,o,i,p),s.elementType=M,s.lanes=y,s;case k:return Da(o.children,p,y,i);case R:_=8,p|=24;break;case O:return s=Fn(12,o,i,p|2),s.elementType=O,s.lanes=y,s;case K:return s=Fn(13,o,i,p),s.elementType=K,s.lanes=y,s;case ie:return s=Fn(19,o,i,p),s.elementType=ie,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case U:_=10;break e;case D:_=9;break e;case H:_=11;break e;case I:_=14;break e;case A:_=16,u=null;break e}_=29,o=Error(r(130,s===null?"null":typeof s,"")),u=null}return i=Fn(_,o,i,p),i.elementType=s,i.type=u,i.lanes=y,i}function Da(s,i,o,u){return s=Fn(7,s,u,i),s.lanes=o,s}function ap(s,i,o){return s=Fn(6,s,null,i),s.lanes=o,s}function Iv(s){var i=Fn(18,null,null,0);return i.stateNode=s,i}function op(s,i,o){return i=Fn(4,s.children!==null?s.children:[],s.key,i),i.lanes=o,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var Mv=new WeakMap;function as(s,i){if(typeof s=="object"&&s!==null){var o=Mv.get(s);return o!==void 0?o:(i={value:s,source:i,stack:Xl(i)},Mv.set(s,i),i)}return{value:s,source:i,stack:Xl(i)}}var Do=[],ko=0,Zh=null,wc=0,os=[],ls=0,fi=null,sr=1,rr="";function Er(s,i){Do[ko++]=wc,Do[ko++]=Zh,Zh=s,wc=i}function Dv(s,i,o){os[ls++]=sr,os[ls++]=rr,os[ls++]=fi,fi=s;var u=sr;s=rr;var p=32-At(u)-1;u&=~(1<<p),o+=1;var y=32-At(i)+p;if(30<y){var _=p-p%5;y=(u&(1<<_)-1).toString(32),u>>=_,p-=_,sr=1<<32-At(i)+p|o<<p|u,rr=y+s}else sr=1<<y|o<<p|u,rr=s}function lp(s){s.return!==null&&(Er(s,1),Dv(s,1,0))}function cp(s){for(;s===Zh;)Zh=Do[--ko],Do[ko]=null,wc=Do[--ko],Do[ko]=null;for(;s===fi;)fi=os[--ls],os[ls]=null,rr=os[--ls],os[ls]=null,sr=os[--ls],os[ls]=null}function kv(s,i){os[ls++]=sr,os[ls++]=rr,os[ls++]=fi,sr=i.id,rr=i.overflow,fi=s}var ln=null,ht=null,Be=!1,mi=null,cs=!1,up=Error(r(519));function pi(s){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _c(as(i,s)),up}function Pv(s){var i=s.stateNode,o=s.type,u=s.memoizedProps;switch(i[Pt]=s,i[Xt]=u,o){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(o=0;o<Hc.length;o++)Pe(Hc[o],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),Mh(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),ai(i,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||Jb(i.textContent,o)?(u.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),u.onScroll!=null&&Pe("scroll",i),u.onScrollEnd!=null&&Pe("scrollend",i),u.onClick!=null&&(i.onclick=_s),i=!0):i=!1,i||pi(s,!0)}function Ov(s){for(ln=s.return;ln;)switch(ln.tag){case 5:case 31:case 13:cs=!1;return;case 27:case 3:cs=!0;return;default:ln=ln.return}}function Po(s){if(s!==ln)return!1;if(!Be)return Ov(s),Be=!0,!1;var i=s.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||jg(s.type,s.memoizedProps)),o=!o),o&&ht&&pi(s),Ov(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));ht=ow(s)}else if(i===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));ht=ow(s)}else i===27?(i=ht,Ci(s.type)?(s=Dg,Dg=null,ht=s):ht=i):ht=ln?hs(s.stateNode.nextSibling):null;return!0}function ka(){ht=ln=null,Be=!1}function hp(){var s=mi;return s!==null&&(kn===null?kn=s:kn.push.apply(kn,s),mi=null),s}function _c(s){mi===null?mi=[s]:mi.push(s)}var dp=q(null),Pa=null,Nr=null;function gi(s,i,o){ue(dp,i._currentValue),i._currentValue=o}function Sr(s){s._currentValue=dp.current,re(dp)}function fp(s,i,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),s===o)break;s=s.return}}function mp(s,i,o,u){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var y=p.dependencies;if(y!==null){var _=p.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=p;for(var z=0;z<i.length;z++)if(S.context===i[z]){y.lanes|=o,S=y.alternate,S!==null&&(S.lanes|=o),fp(y.return,o,s),u||(_=null);break e}y=S.next}}else if(p.tag===18){if(_=p.return,_===null)throw Error(r(341));_.lanes|=o,y=_.alternate,y!==null&&(y.lanes|=o),fp(_,o,s),_=null}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===s){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}}function Oo(s,i,o,u){s=null;for(var p=i,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var _=p.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var S=p.type;Bn(p.pendingProps.value,_.value)||(s!==null?s.push(S):s=[S])}}else if(p===Fe.current){if(_=p.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(Kc):s=[Kc])}p=p.return}s!==null&&mp(i,s,o,u),i.flags|=262144}function ed(s){for(s=s.firstContext;s!==null;){if(!Bn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Oa(s){Pa=s,Nr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function cn(s){return Vv(Pa,s)}function td(s,i){return Pa===null&&Oa(s),Vv(s,i)}function Vv(s,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Nr===null){if(s===null)throw Error(r(308));Nr=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else Nr=Nr.next=i;return o}var oC=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){i.aborted=!0,s.forEach(function(o){return o()})}},lC=n.unstable_scheduleCallback,cC=n.unstable_NormalPriority,Lt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pp(){return{controller:new oC,data:new Map,refCount:0}}function Tc(s){s.refCount--,s.refCount===0&&lC(cC,function(){s.controller.abort()})}var Ec=null,gp=0,Vo=0,Lo=null;function uC(s,i){if(Ec===null){var o=Ec=[];gp=0,Vo=vg(),Lo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return gp++,i.then(Lv,Lv),i}function Lv(){if(--gp===0&&Ec!==null){Lo!==null&&(Lo.status="fulfilled");var s=Ec;Ec=null,Vo=0,Lo=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function hC(s,i){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return s.then(function(){u.status="fulfilled",u.value=i;for(var p=0;p<o.length;p++)(0,o[p])(i)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var Uv=Z.S;Z.S=function(s,i){_b=En(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&uC(s,i),Uv!==null&&Uv(s,i)};var Va=q(null);function yp(){var s=Va.current;return s!==null?s:ot.pooledCache}function nd(s,i){i===null?ue(Va,Va.current):ue(Va,i.pool)}function zv(){var s=yp();return s===null?null:{parent:Lt._currentValue,pool:s}}var Uo=Error(r(460)),xp=Error(r(474)),sd=Error(r(542)),rd={then:function(){}};function Bv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Fv(s,i,o){switch(o=s[o],o===void 0?s.push(i):o!==i&&(i.then(_s,_s),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Hv(s),s;default:if(typeof i.status=="string")i.then(_s,_s);else{if(s=ot,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=i,s.status="pending",s.then(function(u){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=u}},function(u){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Hv(s),s}throw Ua=i,Uo}}function La(s){try{var i=s._init;return i(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ua=o,Uo):o}}var Ua=null;function qv(){if(Ua===null)throw Error(r(459));var s=Ua;return Ua=null,s}function Hv(s){if(s===Uo||s===sd)throw Error(r(483))}var zo=null,Nc=0;function id(s){var i=Nc;return Nc+=1,zo===null&&(zo=[]),Fv(zo,s,i)}function Sc(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function ad(s,i){throw i.$$typeof===w?Error(r(525)):(s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function Gv(s){function i(G,B){if(s){var Y=G.deletions;Y===null?(G.deletions=[B],G.flags|=16):Y.push(B)}}function o(G,B){if(!s)return null;for(;B!==null;)i(G,B),B=B.sibling;return null}function u(G){for(var B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function p(G,B){return G=Tr(G,B),G.index=0,G.sibling=null,G}function y(G,B,Y){return G.index=Y,s?(Y=G.alternate,Y!==null?(Y=Y.index,Y<B?(G.flags|=67108866,B):Y):(G.flags|=67108866,B)):(G.flags|=1048576,B)}function _(G){return s&&G.alternate===null&&(G.flags|=67108866),G}function S(G,B,Y,ne){return B===null||B.tag!==6?(B=ap(Y,G.mode,ne),B.return=G,B):(B=p(B,Y),B.return=G,B)}function z(G,B,Y,ne){var ve=Y.type;return ve===k?ee(G,B,Y.props.children,ne,Y.key):B!==null&&(B.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&La(ve)===B.type)?(B=p(B,Y.props),Sc(B,Y),B.return=G,B):(B=Jh(Y.type,Y.key,Y.props,null,G.mode,ne),Sc(B,Y),B.return=G,B)}function Q(G,B,Y,ne){return B===null||B.tag!==4||B.stateNode.containerInfo!==Y.containerInfo||B.stateNode.implementation!==Y.implementation?(B=op(Y,G.mode,ne),B.return=G,B):(B=p(B,Y.children||[]),B.return=G,B)}function ee(G,B,Y,ne,ve){return B===null||B.tag!==7?(B=Da(Y,G.mode,ne,ve),B.return=G,B):(B=p(B,Y),B.return=G,B)}function se(G,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=ap(""+B,G.mode,Y),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E:return Y=Jh(B.type,B.key,B.props,null,G.mode,Y),Sc(Y,B),Y.return=G,Y;case j:return B=op(B,G.mode,Y),B.return=G,B;case A:return B=La(B),se(G,B,Y)}if(Me(B)||F(B))return B=Da(B,G.mode,Y,null),B.return=G,B;if(typeof B.then=="function")return se(G,id(B),Y);if(B.$$typeof===U)return se(G,td(G,B),Y);ad(G,B)}return null}function W(G,B,Y,ne){var ve=B!==null?B.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ve!==null?null:S(G,B,""+Y,ne);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:return Y.key===ve?z(G,B,Y,ne):null;case j:return Y.key===ve?Q(G,B,Y,ne):null;case A:return Y=La(Y),W(G,B,Y,ne)}if(Me(Y)||F(Y))return ve!==null?null:ee(G,B,Y,ne,null);if(typeof Y.then=="function")return W(G,B,id(Y),ne);if(Y.$$typeof===U)return W(G,B,td(G,Y),ne);ad(G,Y)}return null}function J(G,B,Y,ne,ve){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return G=G.get(Y)||null,S(B,G,""+ne,ve);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case E:return G=G.get(ne.key===null?Y:ne.key)||null,z(B,G,ne,ve);case j:return G=G.get(ne.key===null?Y:ne.key)||null,Q(B,G,ne,ve);case A:return ne=La(ne),J(G,B,Y,ne,ve)}if(Me(ne)||F(ne))return G=G.get(Y)||null,ee(B,G,ne,ve,null);if(typeof ne.then=="function")return J(G,B,Y,id(ne),ve);if(ne.$$typeof===U)return J(G,B,Y,td(B,ne),ve);ad(B,ne)}return null}function pe(G,B,Y,ne){for(var ve=null,Ye=null,ye=B,Ie=B=0,Ve=null;ye!==null&&Ie<Y.length;Ie++){ye.index>Ie?(Ve=ye,ye=null):Ve=ye.sibling;var Qe=W(G,ye,Y[Ie],ne);if(Qe===null){ye===null&&(ye=Ve);break}s&&ye&&Qe.alternate===null&&i(G,ye),B=y(Qe,B,Ie),Ye===null?ve=Qe:Ye.sibling=Qe,Ye=Qe,ye=Ve}if(Ie===Y.length)return o(G,ye),Be&&Er(G,Ie),ve;if(ye===null){for(;Ie<Y.length;Ie++)ye=se(G,Y[Ie],ne),ye!==null&&(B=y(ye,B,Ie),Ye===null?ve=ye:Ye.sibling=ye,Ye=ye);return Be&&Er(G,Ie),ve}for(ye=u(ye);Ie<Y.length;Ie++)Ve=J(ye,G,Ie,Y[Ie],ne),Ve!==null&&(s&&Ve.alternate!==null&&ye.delete(Ve.key===null?Ie:Ve.key),B=y(Ve,B,Ie),Ye===null?ve=Ve:Ye.sibling=Ve,Ye=Ve);return s&&ye.forEach(function(ki){return i(G,ki)}),Be&&Er(G,Ie),ve}function we(G,B,Y,ne){if(Y==null)throw Error(r(151));for(var ve=null,Ye=null,ye=B,Ie=B=0,Ve=null,Qe=Y.next();ye!==null&&!Qe.done;Ie++,Qe=Y.next()){ye.index>Ie?(Ve=ye,ye=null):Ve=ye.sibling;var ki=W(G,ye,Qe.value,ne);if(ki===null){ye===null&&(ye=Ve);break}s&&ye&&ki.alternate===null&&i(G,ye),B=y(ki,B,Ie),Ye===null?ve=ki:Ye.sibling=ki,Ye=ki,ye=Ve}if(Qe.done)return o(G,ye),Be&&Er(G,Ie),ve;if(ye===null){for(;!Qe.done;Ie++,Qe=Y.next())Qe=se(G,Qe.value,ne),Qe!==null&&(B=y(Qe,B,Ie),Ye===null?ve=Qe:Ye.sibling=Qe,Ye=Qe);return Be&&Er(G,Ie),ve}for(ye=u(ye);!Qe.done;Ie++,Qe=Y.next())Qe=J(ye,G,Ie,Qe.value,ne),Qe!==null&&(s&&Qe.alternate!==null&&ye.delete(Qe.key===null?Ie:Qe.key),B=y(Qe,B,Ie),Ye===null?ve=Qe:Ye.sibling=Qe,Ye=Qe);return s&&ye.forEach(function(_R){return i(G,_R)}),Be&&Er(G,Ie),ve}function it(G,B,Y,ne){if(typeof Y=="object"&&Y!==null&&Y.type===k&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:e:{for(var ve=Y.key;B!==null;){if(B.key===ve){if(ve=Y.type,ve===k){if(B.tag===7){o(G,B.sibling),ne=p(B,Y.props.children),ne.return=G,G=ne;break e}}else if(B.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&La(ve)===B.type){o(G,B.sibling),ne=p(B,Y.props),Sc(ne,Y),ne.return=G,G=ne;break e}o(G,B);break}else i(G,B);B=B.sibling}Y.type===k?(ne=Da(Y.props.children,G.mode,ne,Y.key),ne.return=G,G=ne):(ne=Jh(Y.type,Y.key,Y.props,null,G.mode,ne),Sc(ne,Y),ne.return=G,G=ne)}return _(G);case j:e:{for(ve=Y.key;B!==null;){if(B.key===ve)if(B.tag===4&&B.stateNode.containerInfo===Y.containerInfo&&B.stateNode.implementation===Y.implementation){o(G,B.sibling),ne=p(B,Y.children||[]),ne.return=G,G=ne;break e}else{o(G,B);break}else i(G,B);B=B.sibling}ne=op(Y,G.mode,ne),ne.return=G,G=ne}return _(G);case A:return Y=La(Y),it(G,B,Y,ne)}if(Me(Y))return pe(G,B,Y,ne);if(F(Y)){if(ve=F(Y),typeof ve!="function")throw Error(r(150));return Y=ve.call(Y),we(G,B,Y,ne)}if(typeof Y.then=="function")return it(G,B,id(Y),ne);if(Y.$$typeof===U)return it(G,B,td(G,Y),ne);ad(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,B!==null&&B.tag===6?(o(G,B.sibling),ne=p(B,Y),ne.return=G,G=ne):(o(G,B),ne=ap(Y,G.mode,ne),ne.return=G,G=ne),_(G)):o(G,B)}return function(G,B,Y,ne){try{Nc=0;var ve=it(G,B,Y,ne);return zo=null,ve}catch(ye){if(ye===Uo||ye===sd)throw ye;var Ye=Fn(29,ye,null,G.mode);return Ye.lanes=ne,Ye.return=G,Ye}finally{}}}var za=Gv(!0),$v=Gv(!1),yi=!1;function vp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bp(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function xi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function vi(s,i,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(We&2)!==0){var p=u.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),u.pending=i,i=Xh(s),Cv(s,null,o),i}return Wh(s,u,i,o),Xh(s)}function Ac(s,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=s.pendingLanes,o|=u,i.lanes=o,ec(s,o)}}function wp(s,i){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=_:y=y.next=_,o=o.next}while(o!==null);y===null?p=y=i:y=y.next=i}else p=y=i;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=i:s.next=i,o.lastBaseUpdate=i}var _p=!1;function jc(){if(_p){var s=Lo;if(s!==null)throw s}}function Cc(s,i,o,u){_p=!1;var p=s.updateQueue;yi=!1;var y=p.firstBaseUpdate,_=p.lastBaseUpdate,S=p.shared.pending;if(S!==null){p.shared.pending=null;var z=S,Q=z.next;z.next=null,_===null?y=Q:_.next=Q,_=z;var ee=s.alternate;ee!==null&&(ee=ee.updateQueue,S=ee.lastBaseUpdate,S!==_&&(S===null?ee.firstBaseUpdate=Q:S.next=Q,ee.lastBaseUpdate=z))}if(y!==null){var se=p.baseState;_=0,ee=Q=z=null,S=y;do{var W=S.lane&-536870913,J=W!==S.lane;if(J?(Oe&W)===W:(u&W)===W){W!==0&&W===Vo&&(_p=!0),ee!==null&&(ee=ee.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var pe=s,we=S;W=i;var it=o;switch(we.tag){case 1:if(pe=we.payload,typeof pe=="function"){se=pe.call(it,se,W);break e}se=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=we.payload,W=typeof pe=="function"?pe.call(it,se,W):pe,W==null)break e;se=v({},se,W);break e;case 2:yi=!0}}W=S.callback,W!==null&&(s.flags|=64,J&&(s.flags|=8192),J=p.callbacks,J===null?p.callbacks=[W]:J.push(W))}else J={lane:W,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ee===null?(Q=ee=J,z=se):ee=ee.next=J,_|=W;if(S=S.next,S===null){if(S=p.shared.pending,S===null)break;J=S,S=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);ee===null&&(z=se),p.baseState=z,p.firstBaseUpdate=Q,p.lastBaseUpdate=ee,y===null&&(p.shared.lanes=0),Ei|=_,s.lanes=_,s.memoizedState=se}}function Yv(s,i){if(typeof s!="function")throw Error(r(191,s));s.call(i)}function Qv(s,i){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)Yv(o[s],i)}var Bo=q(null),od=q(0);function Kv(s,i){s=Pr,ue(od,s),ue(Bo,i),Pr=s|i.baseLanes}function Tp(){ue(od,Pr),ue(Bo,Bo.current)}function Ep(){Pr=od.current,re(Bo),re(od)}var qn=q(null),us=null;function bi(s){var i=s.alternate;ue(Ct,Ct.current&1),ue(qn,s),us===null&&(i===null||Bo.current!==null||i.memoizedState!==null)&&(us=s)}function Np(s){ue(Ct,Ct.current),ue(qn,s),us===null&&(us=s)}function Wv(s){s.tag===22?(ue(Ct,Ct.current),ue(qn,s),us===null&&(us=s)):wi()}function wi(){ue(Ct,Ct.current),ue(qn,qn.current)}function Hn(s){re(qn),us===s&&(us=null),re(Ct)}var Ct=q(0);function ld(s){for(var i=s;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Ig(o)||Mg(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ar=0,Ce=null,st=null,Ut=null,cd=!1,Fo=!1,Ba=!1,ud=0,Rc=0,qo=null,dC=0;function Tt(){throw Error(r(321))}function Sp(s,i){if(i===null)return!1;for(var o=0;o<i.length&&o<s.length;o++)if(!Bn(s[o],i[o]))return!1;return!0}function Ap(s,i,o,u,p,y){return Ar=y,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Z.H=s===null||s.memoizedState===null?D1:Fp,Ba=!1,y=o(u,p),Ba=!1,Fo&&(y=Jv(i,o,u,p)),Xv(s),y}function Xv(s){Z.H=Dc;var i=st!==null&&st.next!==null;if(Ar=0,Ut=st=Ce=null,cd=!1,Rc=0,qo=null,i)throw Error(r(300));s===null||zt||(s=s.dependencies,s!==null&&ed(s)&&(zt=!0))}function Jv(s,i,o,u){Ce=s;var p=0;do{if(Fo&&(qo=null),Rc=0,Fo=!1,25<=p)throw Error(r(301));if(p+=1,Ut=st=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Z.H=k1,y=i(o,u)}while(Fo);return y}function fC(){var s=Z.H,i=s.useState()[0];return i=typeof i.then=="function"?Ic(i):i,s=s.useState()[0],(st!==null?st.memoizedState:null)!==s&&(Ce.flags|=1024),i}function jp(){var s=ud!==0;return ud=0,s}function Cp(s,i,o){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~o}function Rp(s){if(cd){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}cd=!1}Ar=0,Ut=st=Ce=null,Fo=!1,Rc=ud=0,qo=null}function Sn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Ce.memoizedState=Ut=s:Ut=Ut.next=s,Ut}function Rt(){if(st===null){var s=Ce.alternate;s=s!==null?s.memoizedState:null}else s=st.next;var i=Ut===null?Ce.memoizedState:Ut.next;if(i!==null)Ut=i,st=s;else{if(s===null)throw Ce.alternate===null?Error(r(467)):Error(r(310));st=s,s={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Ut===null?Ce.memoizedState=Ut=s:Ut=Ut.next=s}return Ut}function hd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ic(s){var i=Rc;return Rc+=1,qo===null&&(qo=[]),s=Fv(qo,s,i),i=Ce,(Ut===null?i.memoizedState:Ut.next)===null&&(i=i.alternate,Z.H=i===null||i.memoizedState===null?D1:Fp),s}function dd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ic(s);if(s.$$typeof===U)return cn(s)}throw Error(r(438,String(s)))}function Ip(s){var i=null,o=Ce.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=Ce.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=hd(),Ce.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(s),u=0;u<s;u++)o[u]=V;return i.index++,o}function jr(s,i){return typeof i=="function"?i(s):i}function fd(s){var i=Rt();return Mp(i,st,s)}function Mp(s,i,o){var u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var p=s.baseQueue,y=u.pending;if(y!==null){if(p!==null){var _=p.next;p.next=y.next,y.next=_}i.baseQueue=p=y,u.pending=null}if(y=s.baseState,p===null)s.memoizedState=y;else{i=p.next;var S=_=null,z=null,Q=i,ee=!1;do{var se=Q.lane&-536870913;if(se!==Q.lane?(Oe&se)===se:(Ar&se)===se){var W=Q.revertLane;if(W===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),se===Vo&&(ee=!0);else if((Ar&W)===W){Q=Q.next,W===Vo&&(ee=!0);continue}else se={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},z===null?(S=z=se,_=y):z=z.next=se,Ce.lanes|=W,Ei|=W;se=Q.action,Ba&&o(y,se),y=Q.hasEagerState?Q.eagerState:o(y,se)}else W={lane:se,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},z===null?(S=z=W,_=y):z=z.next=W,Ce.lanes|=se,Ei|=se;Q=Q.next}while(Q!==null&&Q!==i);if(z===null?_=y:z.next=S,!Bn(y,s.memoizedState)&&(zt=!0,ee&&(o=Lo,o!==null)))throw o;s.memoizedState=y,s.baseState=_,s.baseQueue=z,u.lastRenderedState=y}return p===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Dp(s){var i=Rt(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var u=o.dispatch,p=o.pending,y=i.memoizedState;if(p!==null){o.pending=null;var _=p=p.next;do y=s(y,_.action),_=_.next;while(_!==p);Bn(y,i.memoizedState)||(zt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),o.lastRenderedState=y}return[y,u]}function Zv(s,i,o){var u=Ce,p=Rt(),y=Be;if(y){if(o===void 0)throw Error(r(407));o=o()}else o=i();var _=!Bn((st||p).memoizedState,o);if(_&&(p.memoizedState=o,zt=!0),p=p.queue,Op(n1.bind(null,u,p,s),[s]),p.getSnapshot!==i||_||Ut!==null&&Ut.memoizedState.tag&1){if(u.flags|=2048,Ho(9,{destroy:void 0},t1.bind(null,u,p,o,i),null),ot===null)throw Error(r(349));y||(Ar&127)!==0||e1(u,i,o)}return o}function e1(s,i,o){s.flags|=16384,s={getSnapshot:i,value:o},i=Ce.updateQueue,i===null?(i=hd(),Ce.updateQueue=i,i.stores=[s]):(o=i.stores,o===null?i.stores=[s]:o.push(s))}function t1(s,i,o,u){i.value=o,i.getSnapshot=u,s1(i)&&r1(s)}function n1(s,i,o){return o(function(){s1(i)&&r1(s)})}function s1(s){var i=s.getSnapshot;s=s.value;try{var o=i();return!Bn(s,o)}catch{return!0}}function r1(s){var i=Ma(s,2);i!==null&&Pn(i,s,2)}function kp(s){var i=Sn();if(typeof s=="function"){var o=s;if(s=o(),Ba){es(!0);try{o()}finally{es(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:s},i}function i1(s,i,o,u){return s.baseState=o,Mp(s,st,typeof u=="function"?u:jr)}function mC(s,i,o,u,p){if(gd(s))throw Error(r(485));if(s=i.action,s!==null){var y={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};Z.T!==null?o(!0):y.isTransition=!1,u(y),o=i.pending,o===null?(y.next=i.pending=y,a1(i,y)):(y.next=o.next,i.pending=o.next=y)}}function a1(s,i){var o=i.action,u=i.payload,p=s.state;if(i.isTransition){var y=Z.T,_={};Z.T=_;try{var S=o(p,u),z=Z.S;z!==null&&z(_,S),o1(s,i,S)}catch(Q){Pp(s,i,Q)}finally{y!==null&&_.types!==null&&(y.types=_.types),Z.T=y}}else try{y=o(p,u),o1(s,i,y)}catch(Q){Pp(s,i,Q)}}function o1(s,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){l1(s,i,u)},function(u){return Pp(s,i,u)}):l1(s,i,o)}function l1(s,i,o){i.status="fulfilled",i.value=o,c1(i),s.state=o,i=s.pending,i!==null&&(o=i.next,o===i?s.pending=null:(o=o.next,i.next=o,a1(s,o)))}function Pp(s,i,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,c1(i),i=i.next;while(i!==u)}s.action=null}function c1(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function u1(s,i){return i}function h1(s,i){if(Be){var o=ot.formState;if(o!==null){e:{var u=Ce;if(Be){if(ht){t:{for(var p=ht,y=cs;p.nodeType!==8;){if(!y){p=null;break t}if(p=hs(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){ht=hs(p.nextSibling),u=p.data==="F!";break e}}pi(u)}u=!1}u&&(i=o[0])}}return o=Sn(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u1,lastRenderedState:i},o.queue=u,o=R1.bind(null,Ce,u),u.dispatch=o,u=kp(!1),y=Bp.bind(null,Ce,!1,u.queue),u=Sn(),p={state:i,dispatch:null,action:s,pending:null},u.queue=p,o=mC.bind(null,Ce,p,y,o),p.dispatch=o,u.memoizedState=s,[i,o,!1]}function d1(s){var i=Rt();return f1(i,st,s)}function f1(s,i,o){if(i=Mp(s,i,u1)[0],s=fd(jr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Ic(i)}catch(_){throw _===Uo?sd:_}else u=i;i=Rt();var p=i.queue,y=p.dispatch;return o!==i.memoizedState&&(Ce.flags|=2048,Ho(9,{destroy:void 0},pC.bind(null,p,o),null)),[u,y,s]}function pC(s,i){s.action=i}function m1(s){var i=Rt(),o=st;if(o!==null)return f1(i,o,s);Rt(),i=i.memoizedState,o=Rt();var u=o.queue.dispatch;return o.memoizedState=s,[i,u,!1]}function Ho(s,i,o,u){return s={tag:s,create:o,deps:u,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=hd(),Ce.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,i.lastEffect=s),s}function p1(){return Rt().memoizedState}function md(s,i,o,u){var p=Sn();Ce.flags|=s,p.memoizedState=Ho(1|i,{destroy:void 0},o,u===void 0?null:u)}function pd(s,i,o,u){var p=Rt();u=u===void 0?null:u;var y=p.memoizedState.inst;st!==null&&u!==null&&Sp(u,st.memoizedState.deps)?p.memoizedState=Ho(i,y,o,u):(Ce.flags|=s,p.memoizedState=Ho(1|i,y,o,u))}function g1(s,i){md(8390656,8,s,i)}function Op(s,i){pd(2048,8,s,i)}function gC(s){Ce.flags|=4;var i=Ce.updateQueue;if(i===null)i=hd(),Ce.updateQueue=i,i.events=[s];else{var o=i.events;o===null?i.events=[s]:o.push(s)}}function y1(s){var i=Rt().memoizedState;return gC({ref:i,nextImpl:s}),function(){if((We&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function x1(s,i){return pd(4,2,s,i)}function v1(s,i){return pd(4,4,s,i)}function b1(s,i){if(typeof i=="function"){s=s();var o=i(s);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function w1(s,i,o){o=o!=null?o.concat([s]):null,pd(4,4,b1.bind(null,i,s),o)}function Vp(){}function _1(s,i){var o=Rt();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&Sp(i,u[1])?u[0]:(o.memoizedState=[s,i],s)}function T1(s,i){var o=Rt();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&Sp(i,u[1]))return u[0];if(u=s(),Ba){es(!0);try{s()}finally{es(!1)}}return o.memoizedState=[u,i],u}function Lp(s,i,o){return o===void 0||(Ar&1073741824)!==0&&(Oe&261930)===0?s.memoizedState=i:(s.memoizedState=o,s=Eb(),Ce.lanes|=s,Ei|=s,o)}function E1(s,i,o,u){return Bn(o,i)?o:Bo.current!==null?(s=Lp(s,o,u),Bn(s,i)||(zt=!0),s):(Ar&42)===0||(Ar&1073741824)!==0&&(Oe&261930)===0?(zt=!0,s.memoizedState=o):(s=Eb(),Ce.lanes|=s,Ei|=s,i)}function N1(s,i,o,u,p){var y=oe.p;oe.p=y!==0&&8>y?y:8;var _=Z.T,S={};Z.T=S,Bp(s,!1,i,o);try{var z=p(),Q=Z.S;if(Q!==null&&Q(S,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ee=hC(z,u);Mc(s,i,ee,Yn(s))}else Mc(s,i,u,Yn(s))}catch(se){Mc(s,i,{then:function(){},status:"rejected",reason:se},Yn())}finally{oe.p=y,_!==null&&S.types!==null&&(_.types=S.types),Z.T=_}}function yC(){}function Up(s,i,o,u){if(s.tag!==5)throw Error(r(476));var p=S1(s).queue;N1(s,p,i,ge,o===null?yC:function(){return A1(s),o(u)})}function S1(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:ge},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:o},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function A1(s){var i=S1(s);i.next===null&&(i=s.alternate.memoizedState),Mc(s,i.next.queue,{},Yn())}function zp(){return cn(Kc)}function j1(){return Rt().memoizedState}function C1(){return Rt().memoizedState}function xC(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var o=Yn();s=xi(o);var u=vi(i,s,o);u!==null&&(Pn(u,i,o),Ac(u,i,o)),i={cache:pp()},s.payload=i;return}i=i.return}}function vC(s,i,o){var u=Yn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},gd(s)?I1(i,o):(o=rp(s,i,o,u),o!==null&&(Pn(o,s,u),M1(o,i,u)))}function R1(s,i,o){var u=Yn();Mc(s,i,o,u)}function Mc(s,i,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(gd(s))I1(i,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var _=i.lastRenderedState,S=y(_,o);if(p.hasEagerState=!0,p.eagerState=S,Bn(S,_))return Wh(s,i,p,0),ot===null&&Kh(),!1}catch{}finally{}if(o=rp(s,i,p,u),o!==null)return Pn(o,s,u),M1(o,i,u),!0}return!1}function Bp(s,i,o,u){if(u={lane:2,revertLane:vg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},gd(s)){if(i)throw Error(r(479))}else i=rp(s,o,u,2),i!==null&&Pn(i,s,2)}function gd(s){var i=s.alternate;return s===Ce||i!==null&&i===Ce}function I1(s,i){Fo=cd=!0;var o=s.pending;o===null?i.next=i:(i.next=o.next,o.next=i),s.pending=i}function M1(s,i,o){if((o&4194048)!==0){var u=i.lanes;u&=s.pendingLanes,o|=u,i.lanes=o,ec(s,o)}}var Dc={readContext:cn,use:dd,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};Dc.useEffectEvent=Tt;var D1={readContext:cn,use:dd,useCallback:function(s,i){return Sn().memoizedState=[s,i===void 0?null:i],s},useContext:cn,useEffect:g1,useImperativeHandle:function(s,i,o){o=o!=null?o.concat([s]):null,md(4194308,4,b1.bind(null,i,s),o)},useLayoutEffect:function(s,i){return md(4194308,4,s,i)},useInsertionEffect:function(s,i){md(4,2,s,i)},useMemo:function(s,i){var o=Sn();i=i===void 0?null:i;var u=s();if(Ba){es(!0);try{s()}finally{es(!1)}}return o.memoizedState=[u,i],u},useReducer:function(s,i,o){var u=Sn();if(o!==void 0){var p=o(i);if(Ba){es(!0);try{o(i)}finally{es(!1)}}}else p=i;return u.memoizedState=u.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},u.queue=s,s=s.dispatch=vC.bind(null,Ce,s),[u.memoizedState,s]},useRef:function(s){var i=Sn();return s={current:s},i.memoizedState=s},useState:function(s){s=kp(s);var i=s.queue,o=R1.bind(null,Ce,i);return i.dispatch=o,[s.memoizedState,o]},useDebugValue:Vp,useDeferredValue:function(s,i){var o=Sn();return Lp(o,s,i)},useTransition:function(){var s=kp(!1);return s=N1.bind(null,Ce,s.queue,!0,!1),Sn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,o){var u=Ce,p=Sn();if(Be){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),ot===null)throw Error(r(349));(Oe&127)!==0||e1(u,i,o)}p.memoizedState=o;var y={value:o,getSnapshot:i};return p.queue=y,g1(n1.bind(null,u,y,s),[s]),u.flags|=2048,Ho(9,{destroy:void 0},t1.bind(null,u,y,o,i),null),o},useId:function(){var s=Sn(),i=ot.identifierPrefix;if(Be){var o=rr,u=sr;o=(u&~(1<<32-At(u)-1)).toString(32)+o,i="_"+i+"R_"+o,o=ud++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=dC++,i="_"+i+"r_"+o.toString(32)+"_";return s.memoizedState=i},useHostTransitionStatus:zp,useFormState:h1,useActionState:h1,useOptimistic:function(s){var i=Sn();i.memoizedState=i.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Bp.bind(null,Ce,!0,o),o.dispatch=i,[s,i]},useMemoCache:Ip,useCacheRefresh:function(){return Sn().memoizedState=xC.bind(null,Ce)},useEffectEvent:function(s){var i=Sn(),o={impl:s};return i.memoizedState=o,function(){if((We&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},Fp={readContext:cn,use:dd,useCallback:_1,useContext:cn,useEffect:Op,useImperativeHandle:w1,useInsertionEffect:x1,useLayoutEffect:v1,useMemo:T1,useReducer:fd,useRef:p1,useState:function(){return fd(jr)},useDebugValue:Vp,useDeferredValue:function(s,i){var o=Rt();return E1(o,st.memoizedState,s,i)},useTransition:function(){var s=fd(jr)[0],i=Rt().memoizedState;return[typeof s=="boolean"?s:Ic(s),i]},useSyncExternalStore:Zv,useId:j1,useHostTransitionStatus:zp,useFormState:d1,useActionState:d1,useOptimistic:function(s,i){var o=Rt();return i1(o,st,s,i)},useMemoCache:Ip,useCacheRefresh:C1};Fp.useEffectEvent=y1;var k1={readContext:cn,use:dd,useCallback:_1,useContext:cn,useEffect:Op,useImperativeHandle:w1,useInsertionEffect:x1,useLayoutEffect:v1,useMemo:T1,useReducer:Dp,useRef:p1,useState:function(){return Dp(jr)},useDebugValue:Vp,useDeferredValue:function(s,i){var o=Rt();return st===null?Lp(o,s,i):E1(o,st.memoizedState,s,i)},useTransition:function(){var s=Dp(jr)[0],i=Rt().memoizedState;return[typeof s=="boolean"?s:Ic(s),i]},useSyncExternalStore:Zv,useId:j1,useHostTransitionStatus:zp,useFormState:m1,useActionState:m1,useOptimistic:function(s,i){var o=Rt();return st!==null?i1(o,st,s,i):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:Ip,useCacheRefresh:C1};k1.useEffectEvent=y1;function qp(s,i,o,u){i=s.memoizedState,o=o(u,i),o=o==null?i:v({},i,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var Hp={enqueueSetState:function(s,i,o){s=s._reactInternals;var u=Yn(),p=xi(u);p.payload=i,o!=null&&(p.callback=o),i=vi(s,p,u),i!==null&&(Pn(i,s,u),Ac(i,s,u))},enqueueReplaceState:function(s,i,o){s=s._reactInternals;var u=Yn(),p=xi(u);p.tag=1,p.payload=i,o!=null&&(p.callback=o),i=vi(s,p,u),i!==null&&(Pn(i,s,u),Ac(i,s,u))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var o=Yn(),u=xi(o);u.tag=2,i!=null&&(u.callback=i),i=vi(s,u,o),i!==null&&(Pn(i,s,o),Ac(i,s,o))}};function P1(s,i,o,u,p,y,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,_):i.prototype&&i.prototype.isPureReactComponent?!vc(o,u)||!vc(p,y):!0}function O1(s,i,o,u){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==s&&Hp.enqueueReplaceState(i,i.state,null)}function Fa(s,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(s=s.defaultProps){o===i&&(o=v({},o));for(var p in s)o[p]===void 0&&(o[p]=s[p])}return o}function V1(s){Qh(s)}function L1(s){console.error(s)}function U1(s){Qh(s)}function yd(s,i){try{var o=s.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function z1(s,i,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Gp(s,i,o){return o=xi(o),o.tag=3,o.payload={element:null},o.callback=function(){yd(s,i)},o}function B1(s){return s=xi(s),s.tag=3,s}function F1(s,i,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;s.payload=function(){return p(y)},s.callback=function(){z1(i,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(s.callback=function(){z1(i,o,u),typeof p!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function bC(s,i,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&Oo(i,o,p,!0),o=qn.current,o!==null){switch(o.tag){case 31:case 13:return us===null?Cd():o.alternate===null&&Et===0&&(Et=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===rd?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),gg(s,u,p)),!1;case 22:return o.flags|=65536,u===rd?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),gg(s,u,p)),!1}throw Error(r(435,o.tag))}return gg(s,u,p),Cd(),!1}if(Be)return i=qn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,u!==up&&(s=Error(r(422),{cause:u}),_c(as(s,o)))):(u!==up&&(i=Error(r(423),{cause:u}),_c(as(i,o))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,u=as(u,o),p=Gp(s.stateNode,u,p),wp(s,p),Et!==4&&(Et=2)),!1;var y=Error(r(520),{cause:u});if(y=as(y,o),Bc===null?Bc=[y]:Bc.push(y),Et!==4&&(Et=2),i===null)return!0;u=as(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,s=p&-p,o.lanes|=s,s=Gp(o.stateNode,u,s),wp(o,s),!1;case 1:if(i=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ni===null||!Ni.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=B1(p),F1(p,s,o,u),wp(o,p),!1}o=o.return}while(o!==null);return!1}var $p=Error(r(461)),zt=!1;function un(s,i,o,u){i.child=s===null?$v(i,null,o,u):za(i,s.child,o,u)}function q1(s,i,o,u,p){o=o.render;var y=i.ref;if("ref"in u){var _={};for(var S in u)S!=="ref"&&(_[S]=u[S])}else _=u;return Oa(i),u=Ap(s,i,o,_,y,p),S=jp(),s!==null&&!zt?(Cp(s,i,p),Cr(s,i,p)):(Be&&S&&lp(i),i.flags|=1,un(s,i,u,p),i.child)}function H1(s,i,o,u,p){if(s===null){var y=o.type;return typeof y=="function"&&!ip(y)&&y.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=y,G1(s,i,y,u,p)):(s=Jh(o.type,null,u,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(y=s.child,!eg(s,p)){var _=y.memoizedProps;if(o=o.compare,o=o!==null?o:vc,o(_,u)&&s.ref===i.ref)return Cr(s,i,p)}return i.flags|=1,s=Tr(y,u),s.ref=i.ref,s.return=i,i.child=s}function G1(s,i,o,u,p){if(s!==null){var y=s.memoizedProps;if(vc(y,u)&&s.ref===i.ref)if(zt=!1,i.pendingProps=u=y,eg(s,p))(s.flags&131072)!==0&&(zt=!0);else return i.lanes=s.lanes,Cr(s,i,p)}return Yp(s,i,o,u,p)}function $1(s,i,o,u){var p=u.children,y=s!==null?s.memoizedState:null;if(s===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,s!==null){for(u=i.child=s.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~y}else u=0,i.child=null;return Y1(s,i,y,o,u)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&nd(i,y!==null?y.cachePool:null),y!==null?Kv(i,y):Tp(),Wv(i);else return u=i.lanes=536870912,Y1(s,i,y!==null?y.baseLanes|o:o,o,u)}else y!==null?(nd(i,y.cachePool),Kv(i,y),wi(),i.memoizedState=null):(s!==null&&nd(i,null),Tp(),wi());return un(s,i,p,o),i.child}function kc(s,i){return s!==null&&s.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Y1(s,i,o,u,p){var y=yp();return y=y===null?null:{parent:Lt._currentValue,pool:y},i.memoizedState={baseLanes:o,cachePool:y},s!==null&&nd(i,null),Tp(),Wv(i),s!==null&&Oo(s,i,u,!0),i.childLanes=p,null}function xd(s,i){return i=bd({mode:i.mode,children:i.children},s.mode),i.ref=s.ref,s.child=i,i.return=s,i}function Q1(s,i,o){return za(i,s.child,null,o),s=xd(i,i.pendingProps),s.flags|=2,Hn(i),i.memoizedState=null,s}function wC(s,i,o){var u=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,s===null){if(Be){if(u.mode==="hidden")return s=xd(i,u),i.lanes=536870912,kc(null,s);if(Np(i),(s=ht)?(s=aw(s,cs),s=s!==null&&s.data==="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:fi!==null?{id:sr,overflow:rr}:null,retryLane:536870912,hydrationErrors:null},o=Iv(s),o.return=i,i.child=o,ln=i,ht=null)):s=null,s===null)throw pi(i);return i.lanes=536870912,null}return xd(i,u)}var y=s.memoizedState;if(y!==null){var _=y.dehydrated;if(Np(i),p)if(i.flags&256)i.flags&=-257,i=Q1(s,i,o);else if(i.memoizedState!==null)i.child=s.child,i.flags|=128,i=null;else throw Error(r(558));else if(zt||Oo(s,i,o,!1),p=(o&s.childLanes)!==0,zt||p){if(u=ot,u!==null&&(_=tc(u,o),_!==0&&_!==y.retryLane))throw y.retryLane=_,Ma(s,_),Pn(u,s,_),$p;Cd(),i=Q1(s,i,o)}else s=y.treeContext,ht=hs(_.nextSibling),ln=i,Be=!0,mi=null,cs=!1,s!==null&&kv(i,s),i=xd(i,u),i.flags|=4096;return i}return s=Tr(s.child,{mode:u.mode,children:u.children}),s.ref=i.ref,i.child=s,s.return=i,s}function vd(s,i){var o=i.ref;if(o===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(s===null||s.ref!==o)&&(i.flags|=4194816)}}function Yp(s,i,o,u,p){return Oa(i),o=Ap(s,i,o,u,void 0,p),u=jp(),s!==null&&!zt?(Cp(s,i,p),Cr(s,i,p)):(Be&&u&&lp(i),i.flags|=1,un(s,i,o,p),i.child)}function K1(s,i,o,u,p,y){return Oa(i),i.updateQueue=null,o=Jv(i,u,o,p),Xv(s),u=jp(),s!==null&&!zt?(Cp(s,i,y),Cr(s,i,y)):(Be&&u&&lp(i),i.flags|=1,un(s,i,o,y),i.child)}function W1(s,i,o,u,p){if(Oa(i),i.stateNode===null){var y=Mo,_=o.contextType;typeof _=="object"&&_!==null&&(y=cn(_)),y=new o(u,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Hp,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=u,y.state=i.memoizedState,y.refs={},vp(i),_=o.contextType,y.context=typeof _=="object"&&_!==null?cn(_):Mo,y.state=i.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(qp(i,o,_,u),y.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&Hp.enqueueReplaceState(y,y.state,null),Cc(i,u,y,p),jc(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(s===null){y=i.stateNode;var S=i.memoizedProps,z=Fa(o,S);y.props=z;var Q=y.context,ee=o.contextType;_=Mo,typeof ee=="object"&&ee!==null&&(_=cn(ee));var se=o.getDerivedStateFromProps;ee=typeof se=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,ee||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||Q!==_)&&O1(i,y,u,_),yi=!1;var W=i.memoizedState;y.state=W,Cc(i,u,y,p),jc(),Q=i.memoizedState,S||W!==Q||yi?(typeof se=="function"&&(qp(i,o,se,u),Q=i.memoizedState),(z=yi||P1(i,o,z,u,W,Q,_))?(ee||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=Q),y.props=u,y.state=Q,y.context=_,u=z):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{y=i.stateNode,bp(s,i),_=i.memoizedProps,ee=Fa(o,_),y.props=ee,se=i.pendingProps,W=y.context,Q=o.contextType,z=Mo,typeof Q=="object"&&Q!==null&&(z=cn(Q)),S=o.getDerivedStateFromProps,(Q=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==se||W!==z)&&O1(i,y,u,z),yi=!1,W=i.memoizedState,y.state=W,Cc(i,u,y,p),jc();var J=i.memoizedState;_!==se||W!==J||yi||s!==null&&s.dependencies!==null&&ed(s.dependencies)?(typeof S=="function"&&(qp(i,o,S,u),J=i.memoizedState),(ee=yi||P1(i,o,ee,u,W,J,z)||s!==null&&s.dependencies!==null&&ed(s.dependencies))?(Q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,J,z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,J,z)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===s.memoizedProps&&W===s.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&W===s.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=J),y.props=u,y.state=J,y.context=z,u=ee):(typeof y.componentDidUpdate!="function"||_===s.memoizedProps&&W===s.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&W===s.memoizedState||(i.flags|=1024),u=!1)}return y=u,vd(s,i),u=(i.flags&128)!==0,y||u?(y=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,s!==null&&u?(i.child=za(i,s.child,null,p),i.child=za(i,null,o,p)):un(s,i,o,p),i.memoizedState=y.state,s=i.child):s=Cr(s,i,p),s}function X1(s,i,o,u){return ka(),i.flags|=256,un(s,i,o,u),i.child}var Qp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kp(s){return{baseLanes:s,cachePool:zv()}}function Wp(s,i,o){return s=s!==null?s.childLanes&~o:0,i&&(s|=$n),s}function J1(s,i,o){var u=i.pendingProps,p=!1,y=(i.flags&128)!==0,_;if((_=y)||(_=s!==null&&s.memoizedState===null?!1:(Ct.current&2)!==0),_&&(p=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,s===null){if(Be){if(p?bi(i):wi(),(s=ht)?(s=aw(s,cs),s=s!==null&&s.data!=="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:fi!==null?{id:sr,overflow:rr}:null,retryLane:536870912,hydrationErrors:null},o=Iv(s),o.return=i,i.child=o,ln=i,ht=null)):s=null,s===null)throw pi(i);return Mg(s)?i.lanes=32:i.lanes=536870912,null}var S=u.children;return u=u.fallback,p?(wi(),p=i.mode,S=bd({mode:"hidden",children:S},p),u=Da(u,p,o,null),S.return=i,u.return=i,S.sibling=u,i.child=S,u=i.child,u.memoizedState=Kp(o),u.childLanes=Wp(s,_,o),i.memoizedState=Qp,kc(null,u)):(bi(i),Xp(i,S))}var z=s.memoizedState;if(z!==null&&(S=z.dehydrated,S!==null)){if(y)i.flags&256?(bi(i),i.flags&=-257,i=Jp(s,i,o)):i.memoizedState!==null?(wi(),i.child=s.child,i.flags|=128,i=null):(wi(),S=u.fallback,p=i.mode,u=bd({mode:"visible",children:u.children},p),S=Da(S,p,o,null),S.flags|=2,u.return=i,S.return=i,u.sibling=S,i.child=u,za(i,s.child,null,o),u=i.child,u.memoizedState=Kp(o),u.childLanes=Wp(s,_,o),i.memoizedState=Qp,i=kc(null,u));else if(bi(i),Mg(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var Q=_.dgst;_=Q,u=Error(r(419)),u.stack="",u.digest=_,_c({value:u,source:null,stack:null}),i=Jp(s,i,o)}else if(zt||Oo(s,i,o,!1),_=(o&s.childLanes)!==0,zt||_){if(_=ot,_!==null&&(u=tc(_,o),u!==0&&u!==z.retryLane))throw z.retryLane=u,Ma(s,u),Pn(_,s,u),$p;Ig(S)||Cd(),i=Jp(s,i,o)}else Ig(S)?(i.flags|=192,i.child=s.child,i=null):(s=z.treeContext,ht=hs(S.nextSibling),ln=i,Be=!0,mi=null,cs=!1,s!==null&&kv(i,s),i=Xp(i,u.children),i.flags|=4096);return i}return p?(wi(),S=u.fallback,p=i.mode,z=s.child,Q=z.sibling,u=Tr(z,{mode:"hidden",children:u.children}),u.subtreeFlags=z.subtreeFlags&65011712,Q!==null?S=Tr(Q,S):(S=Da(S,p,o,null),S.flags|=2),S.return=i,u.return=i,u.sibling=S,i.child=u,kc(null,u),u=i.child,S=s.child.memoizedState,S===null?S=Kp(o):(p=S.cachePool,p!==null?(z=Lt._currentValue,p=p.parent!==z?{parent:z,pool:z}:p):p=zv(),S={baseLanes:S.baseLanes|o,cachePool:p}),u.memoizedState=S,u.childLanes=Wp(s,_,o),i.memoizedState=Qp,kc(s.child,u)):(bi(i),o=s.child,s=o.sibling,o=Tr(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,s!==null&&(_=i.deletions,_===null?(i.deletions=[s],i.flags|=16):_.push(s)),i.child=o,i.memoizedState=null,o)}function Xp(s,i){return i=bd({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function bd(s,i){return s=Fn(22,s,null,i),s.lanes=0,s}function Jp(s,i,o){return za(i,s.child,null,o),s=Xp(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function Z1(s,i,o){s.lanes|=i;var u=s.alternate;u!==null&&(u.lanes|=i),fp(s.return,i,o)}function Zp(s,i,o,u,p,y){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:y}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=p,_.treeForkCount=y)}function eb(s,i,o){var u=i.pendingProps,p=u.revealOrder,y=u.tail;u=u.children;var _=Ct.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,ue(Ct,_),un(s,i,u,o),u=Be?wc:0,!S&&s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Z1(s,o,i);else if(s.tag===19)Z1(s,o,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(o=i.child,p=null;o!==null;)s=o.alternate,s!==null&&ld(s)===null&&(p=o),o=o.sibling;o=p,o===null?(p=i.child,i.child=null):(p=o.sibling,o.sibling=null),Zp(i,!1,p,o,y,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&ld(s)===null){i.child=p;break}s=p.sibling,p.sibling=o,o=p,p=s}Zp(i,!0,o,null,y,u);break;case"together":Zp(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function Cr(s,i,o){if(s!==null&&(i.dependencies=s.dependencies),Ei|=i.lanes,(o&i.childLanes)===0)if(s!==null){if(Oo(s,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,o=Tr(s,s.pendingProps),i.child=o,o.return=i;s.sibling!==null;)s=s.sibling,o=o.sibling=Tr(s,s.pendingProps),o.return=i;o.sibling=null}return i.child}function eg(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&ed(s)))}function _C(s,i,o){switch(i.tag){case 3:Gt(i,i.stateNode.containerInfo),gi(i,Lt,s.memoizedState.cache),ka();break;case 27:case 5:ma(i);break;case 4:Gt(i,i.stateNode.containerInfo);break;case 10:gi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Np(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(bi(i),i.flags|=128,null):(o&i.child.childLanes)!==0?J1(s,i,o):(bi(i),s=Cr(s,i,o),s!==null?s.sibling:null);bi(i);break;case 19:var p=(s.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(Oo(s,i,o,!1),u=(o&i.childLanes)!==0),p){if(u)return eb(s,i,o);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ue(Ct,Ct.current),u)break;return null;case 22:return i.lanes=0,$1(s,i,o,i.pendingProps);case 24:gi(i,Lt,s.memoizedState.cache)}return Cr(s,i,o)}function tb(s,i,o){if(s!==null)if(s.memoizedProps!==i.pendingProps)zt=!0;else{if(!eg(s,o)&&(i.flags&128)===0)return zt=!1,_C(s,i,o);zt=(s.flags&131072)!==0}else zt=!1,Be&&(i.flags&1048576)!==0&&Dv(i,wc,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(s=La(i.elementType),i.type=s,typeof s=="function")ip(s)?(u=Fa(s,u),i.tag=1,i=W1(null,i,s,u,o)):(i.tag=0,i=Yp(null,i,s,u,o));else{if(s!=null){var p=s.$$typeof;if(p===H){i.tag=11,i=q1(null,i,s,u,o);break e}else if(p===I){i.tag=14,i=H1(null,i,s,u,o);break e}}throw i=me(s)||s,Error(r(306,i,""))}}return i;case 0:return Yp(s,i,i.type,i.pendingProps,o);case 1:return u=i.type,p=Fa(u,i.pendingProps),W1(s,i,u,p,o);case 3:e:{if(Gt(i,i.stateNode.containerInfo),s===null)throw Error(r(387));u=i.pendingProps;var y=i.memoizedState;p=y.element,bp(s,i),Cc(i,u,null,o);var _=i.memoizedState;if(u=_.cache,gi(i,Lt,u),u!==y.cache&&mp(i,[Lt],o,!0),jc(),u=_.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=X1(s,i,u,o);break e}else if(u!==p){p=as(Error(r(424)),i),_c(p),i=X1(s,i,u,o);break e}else{switch(s=i.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ht=hs(s.firstChild),ln=i,Be=!0,mi=null,cs=!0,o=$v(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ka(),u===p){i=Cr(s,i,o);break e}un(s,i,u,o)}i=i.child}return i;case 26:return vd(s,i),s===null?(o=dw(i.type,null,i.pendingProps,null))?i.memoizedState=o:Be||(o=i.type,s=i.pendingProps,u=Od(Re.current).createElement(o),u[Pt]=i,u[Xt]=s,hn(u,o,s),Ot(u),i.stateNode=u):i.memoizedState=dw(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return ma(i),s===null&&Be&&(u=i.stateNode=cw(i.type,i.pendingProps,Re.current),ln=i,cs=!0,p=ht,Ci(i.type)?(Dg=p,ht=hs(u.firstChild)):ht=p),un(s,i,i.pendingProps.children,o),vd(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&Be&&((p=u=ht)&&(u=JC(u,i.type,i.pendingProps,cs),u!==null?(i.stateNode=u,ln=i,ht=hs(u.firstChild),cs=!1,p=!0):p=!1),p||pi(i)),ma(i),p=i.type,y=i.pendingProps,_=s!==null?s.memoizedProps:null,u=y.children,jg(p,y)?u=null:_!==null&&jg(p,_)&&(i.flags|=32),i.memoizedState!==null&&(p=Ap(s,i,fC,null,null,o),Kc._currentValue=p),vd(s,i),un(s,i,u,o),i.child;case 6:return s===null&&Be&&((s=o=ht)&&(o=ZC(o,i.pendingProps,cs),o!==null?(i.stateNode=o,ln=i,ht=null,s=!0):s=!1),s||pi(i)),null;case 13:return J1(s,i,o);case 4:return Gt(i,i.stateNode.containerInfo),u=i.pendingProps,s===null?i.child=za(i,null,u,o):un(s,i,u,o),i.child;case 11:return q1(s,i,i.type,i.pendingProps,o);case 7:return un(s,i,i.pendingProps,o),i.child;case 8:return un(s,i,i.pendingProps.children,o),i.child;case 12:return un(s,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,gi(i,i.type,u.value),un(s,i,u.children,o),i.child;case 9:return p=i.type._context,u=i.pendingProps.children,Oa(i),p=cn(p),u=u(p),i.flags|=1,un(s,i,u,o),i.child;case 14:return H1(s,i,i.type,i.pendingProps,o);case 15:return G1(s,i,i.type,i.pendingProps,o);case 19:return eb(s,i,o);case 31:return wC(s,i,o);case 22:return $1(s,i,o,i.pendingProps);case 24:return Oa(i),u=cn(Lt),s===null?(p=yp(),p===null&&(p=ot,y=pp(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),i.memoizedState={parent:u,cache:p},vp(i),gi(i,Lt,p)):((s.lanes&o)!==0&&(bp(s,i),Cc(i,null,null,o),jc()),p=s.memoizedState,y=i.memoizedState,p.parent!==u?(p={parent:u,cache:u},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),gi(i,Lt,u)):(u=y.cache,gi(i,Lt,u),u!==p.cache&&mp(i,[Lt],o,!0))),un(s,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Rr(s){s.flags|=4}function tg(s,i,o,u,p){if((i=(s.mode&32)!==0)&&(i=!1),i){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if(jb())s.flags|=8192;else throw Ua=rd,xp}else s.flags&=-16777217}function nb(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!yw(i))if(jb())s.flags|=8192;else throw Ua=rd,xp}function wd(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?Ah():536870912,s.lanes|=i,Qo|=i)}function Pc(s,i){if(!Be)switch(s.tailMode){case"hidden":i=s.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function dt(s){var i=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(i)for(var p=s.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=u,s.childLanes=o,i}function TC(s,i,o){var u=i.pendingProps;switch(cp(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(i),null;case 1:return dt(i),null;case 3:return o=i.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Sr(Lt),gt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Po(i)?Rr(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,hp())),dt(i),null;case 26:var p=i.type,y=i.memoizedState;return s===null?(Rr(i),y!==null?(dt(i),nb(i,y)):(dt(i),tg(i,p,null,u,o))):y?y!==s.memoizedState?(Rr(i),dt(i),nb(i,y)):(dt(i),i.flags&=-16777217):(s=s.memoizedProps,s!==u&&Rr(i),dt(i),tg(i,p,s,u,o)),null;case 27:if(fo(i),o=Re.current,p=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==u&&Rr(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return dt(i),null}s=fe.current,Po(i)?Pv(i):(s=cw(p,u,o),i.stateNode=s,Rr(i))}return dt(i),null;case 5:if(fo(i),p=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==u&&Rr(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return dt(i),null}if(y=fe.current,Po(i))Pv(i);else{var _=Od(Re.current);switch(y){case 1:y=_.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=_.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=_.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?_.createElement(p,{is:u.is}):_.createElement(p)}}y[Pt]=i,y[Xt]=u;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)y.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=y;e:switch(hn(y,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Rr(i)}}return dt(i),tg(i,i.type,s===null?null:s.memoizedProps,i.pendingProps,o),null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==u&&Rr(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(r(166));if(s=Re.current,Po(i)){if(s=i.stateNode,o=i.memoizedProps,u=null,p=ln,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}s[Pt]=i,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Jb(s.nodeValue,o)),s||pi(i,!0)}else s=Od(s).createTextNode(u),s[Pt]=i,i.stateNode=s}return dt(i),null;case 31:if(o=i.memoizedState,s===null||s.memoizedState!==null){if(u=Po(i),o!==null){if(s===null){if(!u)throw Error(r(318));if(s=i.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Pt]=i}else ka(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;dt(i),s=!1}else o=hp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return i.flags&256?(Hn(i),i):(Hn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return dt(i),null;case 13:if(u=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=Po(i),u!==null&&u.dehydrated!==null){if(s===null){if(!p)throw Error(r(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Pt]=i}else ka(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;dt(i),p=!1}else p=hp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Hn(i),i):(Hn(i),null)}return Hn(i),(i.flags&128)!==0?(i.lanes=o,i):(o=u!==null,s=s!==null&&s.memoizedState!==null,o&&(u=i.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)),o!==s&&o&&(i.child.flags|=8192),wd(i,i.updateQueue),dt(i),null);case 4:return gt(),s===null&&Tg(i.stateNode.containerInfo),dt(i),null;case 10:return Sr(i.type),dt(i),null;case 19:if(re(Ct),u=i.memoizedState,u===null)return dt(i),null;if(p=(i.flags&128)!==0,y=u.rendering,y===null)if(p)Pc(u,!1);else{if(Et!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(y=ld(s),y!==null){for(i.flags|=128,Pc(u,!1),s=y.updateQueue,i.updateQueue=s,wd(i,s),i.subtreeFlags=0,s=o,o=i.child;o!==null;)Rv(o,s),o=o.sibling;return ue(Ct,Ct.current&1|2),Be&&Er(i,u.treeForkCount),i.child}s=s.sibling}u.tail!==null&&En()>Sd&&(i.flags|=128,p=!0,Pc(u,!1),i.lanes=4194304)}else{if(!p)if(s=ld(y),s!==null){if(i.flags|=128,p=!0,s=s.updateQueue,i.updateQueue=s,wd(i,s),Pc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Be)return dt(i),null}else 2*En()-u.renderingStartTime>Sd&&o!==536870912&&(i.flags|=128,p=!0,Pc(u,!1),i.lanes=4194304);u.isBackwards?(y.sibling=i.child,i.child=y):(s=u.last,s!==null?s.sibling=y:i.child=y,u.last=y)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=En(),s.sibling=null,o=Ct.current,ue(Ct,p?o&1|2:o&1),Be&&Er(i,u.treeForkCount),s):(dt(i),null);case 22:case 23:return Hn(i),Ep(),u=i.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(dt(i),i.subtreeFlags&6&&(i.flags|=8192)):dt(i),o=i.updateQueue,o!==null&&wd(i,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),s!==null&&re(Va),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Sr(Lt),dt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function EC(s,i){switch(cp(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Sr(Lt),gt(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return fo(i),null;case 31:if(i.memoizedState!==null){if(Hn(i),i.alternate===null)throw Error(r(340));ka()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 13:if(Hn(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));ka()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return re(Ct),null;case 4:return gt(),null;case 10:return Sr(i.type),null;case 22:case 23:return Hn(i),Ep(),s!==null&&re(Va),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return Sr(Lt),null;case 25:return null;default:return null}}function sb(s,i){switch(cp(i),i.tag){case 3:Sr(Lt),gt();break;case 26:case 27:case 5:fo(i);break;case 4:gt();break;case 31:i.memoizedState!==null&&Hn(i);break;case 13:Hn(i);break;case 19:re(Ct);break;case 10:Sr(i.type);break;case 22:case 23:Hn(i),Ep(),s!==null&&re(Va);break;case 24:Sr(Lt)}}function Oc(s,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&s)===s){u=void 0;var y=o.create,_=o.inst;u=y(),_.destroy=u}o=o.next}while(o!==p)}}catch(S){et(i,i.return,S)}}function _i(s,i,o){try{var u=i.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&s)===s){var _=u.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,p=i;var z=o,Q=S;try{Q()}catch(ee){et(p,z,ee)}}}u=u.next}while(u!==y)}}catch(ee){et(i,i.return,ee)}}function rb(s){var i=s.updateQueue;if(i!==null){var o=s.stateNode;try{Qv(i,o)}catch(u){et(s,s.return,u)}}}function ib(s,i,o){o.props=Fa(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){et(s,i,u)}}function Vc(s,i){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(p){et(s,i,p)}}function ir(s,i){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){et(s,i,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){et(s,i,p)}else o.current=null}function ab(s){var i=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){et(s,s.return,p)}}function ng(s,i,o){try{var u=s.stateNode;$C(u,s.type,o,i),u[Xt]=i}catch(p){et(s,s.return,p)}}function ob(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ci(s.type)||s.tag===4}function sg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||ob(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ci(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function rg(s,i,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(s),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=_s));else if(u!==4&&(u===27&&Ci(s.type)&&(o=s.stateNode,i=null),s=s.child,s!==null))for(rg(s,i,o),s=s.sibling;s!==null;)rg(s,i,o),s=s.sibling}function _d(s,i,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,i?o.insertBefore(s,i):o.appendChild(s);else if(u!==4&&(u===27&&Ci(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(_d(s,i,o),s=s.sibling;s!==null;)_d(s,i,o),s=s.sibling}function lb(s){var i=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);hn(i,u,o),i[Pt]=s,i[Xt]=o}catch(y){et(s,s.return,y)}}var Ir=!1,Bt=!1,ig=!1,cb=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function NC(s,i){if(s=s.containerInfo,Sg=qd,s=wv(s),Jm(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var _=0,S=-1,z=-1,Q=0,ee=0,se=s,W=null;t:for(;;){for(var J;se!==o||p!==0&&se.nodeType!==3||(S=_+p),se!==y||u!==0&&se.nodeType!==3||(z=_+u),se.nodeType===3&&(_+=se.nodeValue.length),(J=se.firstChild)!==null;)W=se,se=J;for(;;){if(se===s)break t;if(W===o&&++Q===p&&(S=_),W===y&&++ee===u&&(z=_),(J=se.nextSibling)!==null)break;se=W,W=se.parentNode}se=J}o=S===-1||z===-1?null:{start:S,end:z}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ag={focusedElem:s,selectionRange:o},qd=!1,Zt=i;Zt!==null;)if(i=Zt,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,Zt=s;else for(;Zt!==null;){switch(i=Zt,y=i.alternate,s=i.flags,i.tag){case 0:if((s&4)!==0&&(s=i.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)p=s[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,o=i,p=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var pe=Fa(o.type,p);s=u.getSnapshotBeforeUpdate(pe,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(we){et(o,o.return,we)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,o=s.nodeType,o===9)Rg(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Rg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=i.sibling,s!==null){s.return=i.return,Zt=s;break}Zt=i.return}}function ub(s,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Dr(s,o),u&4&&Oc(5,o);break;case 1:if(Dr(s,o),u&4)if(s=o.stateNode,i===null)try{s.componentDidMount()}catch(_){et(o,o.return,_)}else{var p=Fa(o.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(p,i,s.__reactInternalSnapshotBeforeUpdate)}catch(_){et(o,o.return,_)}}u&64&&rb(o),u&512&&Vc(o,o.return);break;case 3:if(Dr(s,o),u&64&&(s=o.updateQueue,s!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Qv(s,i)}catch(_){et(o,o.return,_)}}break;case 27:i===null&&u&4&&lb(o);case 26:case 5:Dr(s,o),i===null&&u&4&&ab(o),u&512&&Vc(o,o.return);break;case 12:Dr(s,o);break;case 31:Dr(s,o),u&4&&fb(s,o);break;case 13:Dr(s,o),u&4&&mb(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=kC.bind(null,o),eR(s,o))));break;case 22:if(u=o.memoizedState!==null||Ir,!u){i=i!==null&&i.memoizedState!==null||Bt,p=Ir;var y=Bt;Ir=u,(Bt=i)&&!y?kr(s,o,(o.subtreeFlags&8772)!==0):Dr(s,o),Ir=p,Bt=y}break;case 30:break;default:Dr(s,o)}}function hb(s){var i=s.alternate;i!==null&&(s.alternate=null,hb(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&xo(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var xt=null,In=!1;function Mr(s,i,o){for(o=o.child;o!==null;)db(s,i,o),o=o.sibling}function db(s,i,o){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(xs,o)}catch{}switch(o.tag){case 26:Bt||ir(o,i),Mr(s,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Bt||ir(o,i);var u=xt,p=In;Ci(o.type)&&(xt=o.stateNode,In=!1),Mr(s,i,o),$c(o.stateNode),xt=u,In=p;break;case 5:Bt||ir(o,i);case 6:if(u=xt,p=In,xt=null,Mr(s,i,o),xt=u,In=p,xt!==null)if(In)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(o.stateNode)}catch(y){et(o,i,y)}else try{xt.removeChild(o.stateNode)}catch(y){et(o,i,y)}break;case 18:xt!==null&&(In?(s=xt,rw(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),nl(s)):rw(xt,o.stateNode));break;case 4:u=xt,p=In,xt=o.stateNode.containerInfo,In=!0,Mr(s,i,o),xt=u,In=p;break;case 0:case 11:case 14:case 15:_i(2,o,i),Bt||_i(4,o,i),Mr(s,i,o);break;case 1:Bt||(ir(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&ib(o,i,u)),Mr(s,i,o);break;case 21:Mr(s,i,o);break;case 22:Bt=(u=Bt)||o.memoizedState!==null,Mr(s,i,o),Bt=u;break;default:Mr(s,i,o)}}function fb(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{nl(s)}catch(o){et(i,i.return,o)}}}function mb(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{nl(s)}catch(o){et(i,i.return,o)}}function SC(s){switch(s.tag){case 31:case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new cb),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new cb),i;default:throw Error(r(435,s.tag))}}function Td(s,i){var o=SC(s);i.forEach(function(u){if(!o.has(u)){o.add(u);var p=PC.bind(null,s,u);u.then(p,p)}})}function Mn(s,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],y=s,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Ci(S.type)){xt=S.stateNode,In=!1;break e}break;case 5:xt=S.stateNode,In=!1;break e;case 3:case 4:xt=S.stateNode.containerInfo,In=!0;break e}S=S.return}if(xt===null)throw Error(r(160));db(y,_,p),xt=null,In=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)pb(i,s),i=i.sibling}var js=null;function pb(s,i){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Mn(i,s),Dn(s),u&4&&(_i(3,s,s.return),Oc(3,s),_i(5,s,s.return));break;case 1:Mn(i,s),Dn(s),u&512&&(Bt||o===null||ir(o,o.return)),u&64&&Ir&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=js;if(Mn(i,s),Dn(s),u&512&&(Bt||o===null||ir(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Gs]||y[Pt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),hn(y,u,o),y[Pt]=s,Ot(y),u=y;break e;case"link":var _=pw("link","href",p).get(u+(o.href||""));if(_){for(var S=0;S<_.length;S++)if(y=_[S],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(S,1);break t}}y=p.createElement(u),hn(y,u,o),p.head.appendChild(y);break;case"meta":if(_=pw("meta","content",p).get(u+(o.content||""))){for(S=0;S<_.length;S++)if(y=_[S],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(S,1);break t}}y=p.createElement(u),hn(y,u,o),p.head.appendChild(y);break;default:throw Error(r(468,u))}y[Pt]=s,Ot(y),u=y}s.stateNode=u}else gw(p,s.type,s.stateNode);else s.stateNode=mw(p,u,s.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?gw(p,s.type,s.stateNode):mw(p,u,s.memoizedProps)):u===null&&s.stateNode!==null&&ng(s,s.memoizedProps,o.memoizedProps)}break;case 27:Mn(i,s),Dn(s),u&512&&(Bt||o===null||ir(o,o.return)),o!==null&&u&4&&ng(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Mn(i,s),Dn(s),u&512&&(Bt||o===null||ir(o,o.return)),s.flags&32){p=s.stateNode;try{Rn(p,"")}catch(pe){et(s,s.return,pe)}}u&4&&s.stateNode!=null&&(p=s.memoizedProps,ng(s,p,o!==null?o.memoizedProps:p)),u&1024&&(ig=!0);break;case 6:if(Mn(i,s),Dn(s),u&4){if(s.stateNode===null)throw Error(r(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(pe){et(s,s.return,pe)}}break;case 3:if(Ud=null,p=js,js=Vd(i.containerInfo),Mn(i,s),js=p,Dn(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{nl(i.containerInfo)}catch(pe){et(s,s.return,pe)}ig&&(ig=!1,gb(s));break;case 4:u=js,js=Vd(s.stateNode.containerInfo),Mn(i,s),Dn(s),js=u;break;case 12:Mn(i,s),Dn(s);break;case 31:Mn(i,s),Dn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Td(s,u)));break;case 13:Mn(i,s),Dn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Nd=En()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Td(s,u)));break;case 22:p=s.memoizedState!==null;var z=o!==null&&o.memoizedState!==null,Q=Ir,ee=Bt;if(Ir=Q||p,Bt=ee||z,Mn(i,s),Bt=ee,Ir=Q,Dn(s),u&8192)e:for(i=s.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(o===null||z||Ir||Bt||qa(s)),o=null,i=s;;){if(i.tag===5||i.tag===26){if(o===null){z=o=i;try{if(y=z.stateNode,p)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=z.stateNode;var se=z.memoizedProps.style,W=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(pe){et(z,z.return,pe)}}}else if(i.tag===6){if(o===null){z=i;try{z.stateNode.nodeValue=p?"":z.memoizedProps}catch(pe){et(z,z.return,pe)}}}else if(i.tag===18){if(o===null){z=i;try{var J=z.stateNode;p?iw(J,!0):iw(z.stateNode,!1)}catch(pe){et(z,z.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Td(s,o))));break;case 19:Mn(i,s),Dn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Td(s,u)));break;case 30:break;case 21:break;default:Mn(i,s),Dn(s)}}function Dn(s){var i=s.flags;if(i&2){try{for(var o,u=s.return;u!==null;){if(ob(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var p=o.stateNode,y=sg(s);_d(s,y,p);break;case 5:var _=o.stateNode;o.flags&32&&(Rn(_,""),o.flags&=-33);var S=sg(s);_d(s,S,_);break;case 3:case 4:var z=o.stateNode.containerInfo,Q=sg(s);rg(s,Q,z);break;default:throw Error(r(161))}}catch(ee){et(s,s.return,ee)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function gb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;gb(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function Dr(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ub(s,i.alternate,i),i=i.sibling}function qa(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:_i(4,i,i.return),qa(i);break;case 1:ir(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&ib(i,i.return,o),qa(i);break;case 27:$c(i.stateNode);case 26:case 5:ir(i,i.return),qa(i);break;case 22:i.memoizedState===null&&qa(i);break;case 30:qa(i);break;default:qa(i)}s=s.sibling}}function kr(s,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,p=s,y=i,_=y.flags;switch(y.tag){case 0:case 11:case 15:kr(p,y,o),Oc(4,y);break;case 1:if(kr(p,y,o),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Q){et(u,u.return,Q)}if(u=y,p=u.updateQueue,p!==null){var S=u.stateNode;try{var z=p.shared.hiddenCallbacks;if(z!==null)for(p.shared.hiddenCallbacks=null,p=0;p<z.length;p++)Yv(z[p],S)}catch(Q){et(u,u.return,Q)}}o&&_&64&&rb(y),Vc(y,y.return);break;case 27:lb(y);case 26:case 5:kr(p,y,o),o&&u===null&&_&4&&ab(y),Vc(y,y.return);break;case 12:kr(p,y,o);break;case 31:kr(p,y,o),o&&_&4&&fb(p,y);break;case 13:kr(p,y,o),o&&_&4&&mb(p,y);break;case 22:y.memoizedState===null&&kr(p,y,o),Vc(y,y.return);break;case 30:break;default:kr(p,y,o)}i=i.sibling}}function ag(s,i){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&Tc(o))}function og(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Tc(s))}function Cs(s,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)yb(s,i,o,u),i=i.sibling}function yb(s,i,o,u){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Cs(s,i,o,u),p&2048&&Oc(9,i);break;case 1:Cs(s,i,o,u);break;case 3:Cs(s,i,o,u),p&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Tc(s)));break;case 12:if(p&2048){Cs(s,i,o,u),s=i.stateNode;try{var y=i.memoizedProps,_=y.id,S=y.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(z){et(i,i.return,z)}}else Cs(s,i,o,u);break;case 31:Cs(s,i,o,u);break;case 13:Cs(s,i,o,u);break;case 23:break;case 22:y=i.stateNode,_=i.alternate,i.memoizedState!==null?y._visibility&2?Cs(s,i,o,u):Lc(s,i):y._visibility&2?Cs(s,i,o,u):(y._visibility|=2,Go(s,i,o,u,(i.subtreeFlags&10256)!==0||!1)),p&2048&&ag(_,i);break;case 24:Cs(s,i,o,u),p&2048&&og(i.alternate,i);break;default:Cs(s,i,o,u)}}function Go(s,i,o,u,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var y=s,_=i,S=o,z=u,Q=_.flags;switch(_.tag){case 0:case 11:case 15:Go(y,_,S,z,p),Oc(8,_);break;case 23:break;case 22:var ee=_.stateNode;_.memoizedState!==null?ee._visibility&2?Go(y,_,S,z,p):Lc(y,_):(ee._visibility|=2,Go(y,_,S,z,p)),p&&Q&2048&&ag(_.alternate,_);break;case 24:Go(y,_,S,z,p),p&&Q&2048&&og(_.alternate,_);break;default:Go(y,_,S,z,p)}i=i.sibling}}function Lc(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=s,u=i,p=u.flags;switch(u.tag){case 22:Lc(o,u),p&2048&&ag(u.alternate,u);break;case 24:Lc(o,u),p&2048&&og(u.alternate,u);break;default:Lc(o,u)}i=i.sibling}}var Uc=8192;function $o(s,i,o){if(s.subtreeFlags&Uc)for(s=s.child;s!==null;)xb(s,i,o),s=s.sibling}function xb(s,i,o){switch(s.tag){case 26:$o(s,i,o),s.flags&Uc&&s.memoizedState!==null&&dR(o,js,s.memoizedState,s.memoizedProps);break;case 5:$o(s,i,o);break;case 3:case 4:var u=js;js=Vd(s.stateNode.containerInfo),$o(s,i,o),js=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Uc,Uc=16777216,$o(s,i,o),Uc=u):$o(s,i,o));break;default:$o(s,i,o)}}function vb(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function zc(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Zt=u,wb(u,s)}vb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)bb(s),s=s.sibling}function bb(s){switch(s.tag){case 0:case 11:case 15:zc(s),s.flags&2048&&_i(9,s,s.return);break;case 3:zc(s);break;case 12:zc(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,Ed(s)):zc(s);break;default:zc(s)}}function Ed(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Zt=u,wb(u,s)}vb(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:_i(8,i,i.return),Ed(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Ed(i));break;default:Ed(i)}s=s.sibling}}function wb(s,i){for(;Zt!==null;){var o=Zt;switch(o.tag){case 0:case 11:case 15:_i(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Tc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Zt=u;else e:for(o=s;Zt!==null;){u=Zt;var p=u.sibling,y=u.return;if(hb(u),u===o){Zt=null;break e}if(p!==null){p.return=y,Zt=p;break e}Zt=y}}}var AC={getCacheForType:function(s){var i=cn(Lt),o=i.data.get(s);return o===void 0&&(o=s(),i.data.set(s,o)),o},cacheSignal:function(){return cn(Lt).controller.signal}},jC=typeof WeakMap=="function"?WeakMap:Map,We=0,ot=null,ke=null,Oe=0,Ze=0,Gn=null,Ti=!1,Yo=!1,lg=!1,Pr=0,Et=0,Ei=0,Ha=0,cg=0,$n=0,Qo=0,Bc=null,kn=null,ug=!1,Nd=0,_b=0,Sd=1/0,Ad=null,Ni=null,Yt=0,Si=null,Ko=null,Or=0,hg=0,dg=null,Tb=null,Fc=0,fg=null;function Yn(){return(We&2)!==0&&Oe!==0?Oe&-Oe:Z.T!==null?vg():jh()}function Eb(){if($n===0)if((Oe&536870912)===0||Be){var s=ya;ya<<=1,(ya&3932160)===0&&(ya=262144),$n=s}else $n=536870912;return s=qn.current,s!==null&&(s.flags|=32),$n}function Pn(s,i,o){(s===ot&&(Ze===2||Ze===9)||s.cancelPendingCommit!==null)&&(Wo(s,0),Ai(s,Oe,$n,!1)),xa(s,o),((We&2)===0||s!==ot)&&(s===ot&&((We&2)===0&&(Ha|=o),Et===4&&Ai(s,Oe,$n,!1)),ar(s))}function Nb(s,i,o){if((We&6)!==0)throw Error(r(327));var u=!o&&(i&127)===0&&(i&s.expiredLanes)===0||vs(s,i),p=u?IC(s,i):pg(s,i,!0),y=u;do{if(p===0){Yo&&!u&&Ai(s,i,0,!1);break}else{if(o=s.current.alternate,y&&!CC(o)){p=pg(s,i,!1),y=!1;continue}if(p===2){if(y=i,s.errorRecoveryDisabledLanes&y)var _=0;else _=s.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=s;p=Bc;var z=S.current.memoizedState.isDehydrated;if(z&&(Wo(S,_).flags|=256),_=pg(S,_,!1),_!==2){if(lg&&!z){S.errorRecoveryDisabledLanes|=y,Ha|=y,p=4;break e}y=kn,kn=p,y!==null&&(kn===null?kn=y:kn.push.apply(kn,y))}p=_}if(y=!1,p!==2)continue}}if(p===1){Wo(s,0),Ai(s,i,0,!0);break}e:{switch(u=s,y=p,y){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ai(u,i,$n,!Ti);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(p=Nd+300-En(),10<p)){if(Ai(u,i,$n,!Ti),Fs(u,0,!0)!==0)break e;Or=i,u.timeoutHandle=nw(Sb.bind(null,u,o,kn,Ad,ug,i,$n,Ha,Qo,Ti,y,"Throttled",-0,0),p);break e}Sb(u,o,kn,Ad,ug,i,$n,Ha,Qo,Ti,y,null,-0,0)}}break}while(!0);ar(s)}function Sb(s,i,o,u,p,y,_,S,z,Q,ee,se,W,J){if(s.timeoutHandle=-1,se=i.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_s},xb(i,y,se);var pe=(y&62914560)===y?Nd-En():(y&4194048)===y?_b-En():0;if(pe=fR(se,pe),pe!==null){Or=y,s.cancelPendingCommit=pe(kb.bind(null,s,i,y,o,u,p,_,S,z,ee,se,null,W,J)),Ai(s,y,_,!Q);return}}kb(s,i,y,o,u,p,_,S,z)}function CC(s){for(var i=s;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],y=p.getSnapshot;p=p.value;try{if(!Bn(y(),p))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ai(s,i,o,u){i&=~cg,i&=~Ha,s.suspendedLanes|=i,s.pingedLanes&=~i,u&&(s.warmLanes|=i),u=s.expirationTimes;for(var p=i;0<p;){var y=31-At(p),_=1<<y;u[y]=-1,p&=~_}o!==0&&va(s,o,i)}function jd(){return(We&6)===0?(qc(0),!1):!0}function mg(){if(ke!==null){if(Ze===0)var s=ke.return;else s=ke,Nr=Pa=null,Rp(s),zo=null,Nc=0,s=ke;for(;s!==null;)sb(s.alternate,s),s=s.return;ke=null}}function Wo(s,i){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,KC(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Or=0,mg(),ot=s,ke=o=Tr(s.current,null),Oe=i,Ze=0,Gn=null,Ti=!1,Yo=vs(s,i),lg=!1,Qo=$n=cg=Ha=Ei=Et=0,kn=Bc=null,ug=!1,(i&8)!==0&&(i|=i&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=i;0<u;){var p=31-At(u),y=1<<p;i|=s[p],u&=~y}return Pr=i,Kh(),o}function Ab(s,i){Ce=null,Z.H=Dc,i===Uo||i===sd?(i=qv(),Ze=3):i===xp?(i=qv(),Ze=4):Ze=i===$p?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Gn=i,ke===null&&(Et=1,yd(s,as(i,s.current)))}function jb(){var s=qn.current;return s===null?!0:(Oe&4194048)===Oe?us===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?s===us:!1}function Cb(){var s=Z.H;return Z.H=Dc,s===null?Dc:s}function Rb(){var s=Z.A;return Z.A=AC,s}function Cd(){Et=4,Ti||(Oe&4194048)!==Oe&&qn.current!==null||(Yo=!0),(Ei&134217727)===0&&(Ha&134217727)===0||ot===null||Ai(ot,Oe,$n,!1)}function pg(s,i,o){var u=We;We|=2;var p=Cb(),y=Rb();(ot!==s||Oe!==i)&&(Ad=null,Wo(s,i)),i=!1;var _=Et;e:do try{if(Ze!==0&&ke!==null){var S=ke,z=Gn;switch(Ze){case 8:mg(),_=6;break e;case 3:case 2:case 9:case 6:qn.current===null&&(i=!0);var Q=Ze;if(Ze=0,Gn=null,Xo(s,S,z,Q),o&&Yo){_=0;break e}break;default:Q=Ze,Ze=0,Gn=null,Xo(s,S,z,Q)}}RC(),_=Et;break}catch(ee){Ab(s,ee)}while(!0);return i&&s.shellSuspendCounter++,Nr=Pa=null,We=u,Z.H=p,Z.A=y,ke===null&&(ot=null,Oe=0,Kh()),_}function RC(){for(;ke!==null;)Ib(ke)}function IC(s,i){var o=We;We|=2;var u=Cb(),p=Rb();ot!==s||Oe!==i?(Ad=null,Sd=En()+500,Wo(s,i)):Yo=vs(s,i);e:do try{if(Ze!==0&&ke!==null){i=ke;var y=Gn;t:switch(Ze){case 1:Ze=0,Gn=null,Xo(s,i,y,1);break;case 2:case 9:if(Bv(y)){Ze=0,Gn=null,Mb(i);break}i=function(){Ze!==2&&Ze!==9||ot!==s||(Ze=7),ar(s)},y.then(i,i);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Bv(y)?(Ze=0,Gn=null,Mb(i)):(Ze=0,Gn=null,Xo(s,i,y,7));break;case 5:var _=null;switch(ke.tag){case 26:_=ke.memoizedState;case 5:case 27:var S=ke;if(_?yw(_):S.stateNode.complete){Ze=0,Gn=null;var z=S.sibling;if(z!==null)ke=z;else{var Q=S.return;Q!==null?(ke=Q,Rd(Q)):ke=null}break t}}Ze=0,Gn=null,Xo(s,i,y,5);break;case 6:Ze=0,Gn=null,Xo(s,i,y,6);break;case 8:mg(),Et=6;break e;default:throw Error(r(462))}}MC();break}catch(ee){Ab(s,ee)}while(!0);return Nr=Pa=null,Z.H=u,Z.A=p,We=o,ke!==null?0:(ot=null,Oe=0,Kh(),Et)}function MC(){for(;ke!==null&&!Gm();)Ib(ke)}function Ib(s){var i=tb(s.alternate,s,Pr);s.memoizedProps=s.pendingProps,i===null?Rd(s):ke=i}function Mb(s){var i=s,o=i.alternate;switch(i.tag){case 15:case 0:i=K1(o,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=K1(o,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:Rp(i);default:sb(o,i),i=ke=Rv(i,Pr),i=tb(o,i,Pr)}s.memoizedProps=s.pendingProps,i===null?Rd(s):ke=i}function Xo(s,i,o,u){Nr=Pa=null,Rp(i),zo=null,Nc=0;var p=i.return;try{if(bC(s,p,i,o,Oe)){Et=1,yd(s,as(o,s.current)),ke=null;return}}catch(y){if(p!==null)throw ke=p,y;Et=1,yd(s,as(o,s.current)),ke=null;return}i.flags&32768?(Be||u===1?s=!0:Yo||(Oe&536870912)!==0?s=!1:(Ti=s=!0,(u===2||u===9||u===3||u===6)&&(u=qn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Db(i,s)):Rd(i)}function Rd(s){var i=s;do{if((i.flags&32768)!==0){Db(i,Ti);return}s=i.return;var o=TC(i.alternate,i,Pr);if(o!==null){ke=o;return}if(i=i.sibling,i!==null){ke=i;return}ke=i=s}while(i!==null);Et===0&&(Et=5)}function Db(s,i){do{var o=EC(s.alternate,s);if(o!==null){o.flags&=32767,ke=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(s=s.sibling,s!==null)){ke=s;return}ke=s=o}while(s!==null);Et=6,ke=null}function kb(s,i,o,u,p,y,_,S,z){s.cancelPendingCommit=null;do Id();while(Yt!==0);if((We&6)!==0)throw Error(r(327));if(i!==null){if(i===s.current)throw Error(r(177));if(y=i.lanes|i.childLanes,y|=sp,Qm(s,o,y,_,S,z),s===ot&&(ke=ot=null,Oe=0),Ko=i,Si=s,Or=o,hg=y,dg=p,Tb=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,OC(si,function(){return Ub(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,p=oe.p,oe.p=2,_=We,We|=4;try{NC(s,i,o)}finally{We=_,oe.p=p,Z.T=u}}Yt=1,Pb(),Ob(),Vb()}}function Pb(){if(Yt===1){Yt=0;var s=Si,i=Ko,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=oe.p;oe.p=2;var p=We;We|=4;try{pb(i,s);var y=Ag,_=wv(s.containerInfo),S=y.focusedElem,z=y.selectionRange;if(_!==S&&S&&S.ownerDocument&&bv(S.ownerDocument.documentElement,S)){if(z!==null&&Jm(S)){var Q=z.start,ee=z.end;if(ee===void 0&&(ee=Q),"selectionStart"in S)S.selectionStart=Q,S.selectionEnd=Math.min(ee,S.value.length);else{var se=S.ownerDocument||document,W=se&&se.defaultView||window;if(W.getSelection){var J=W.getSelection(),pe=S.textContent.length,we=Math.min(z.start,pe),it=z.end===void 0?we:Math.min(z.end,pe);!J.extend&&we>it&&(_=it,it=we,we=_);var G=vv(S,we),B=vv(S,it);if(G&&B&&(J.rangeCount!==1||J.anchorNode!==G.node||J.anchorOffset!==G.offset||J.focusNode!==B.node||J.focusOffset!==B.offset)){var Y=se.createRange();Y.setStart(G.node,G.offset),J.removeAllRanges(),we>it?(J.addRange(Y),J.extend(B.node,B.offset)):(Y.setEnd(B.node,B.offset),J.addRange(Y))}}}}for(se=[],J=S;J=J.parentNode;)J.nodeType===1&&se.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var ne=se[S];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}qd=!!Sg,Ag=Sg=null}finally{We=p,oe.p=u,Z.T=o}}s.current=i,Yt=2}}function Ob(){if(Yt===2){Yt=0;var s=Si,i=Ko,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=oe.p;oe.p=2;var p=We;We|=4;try{ub(s,i.alternate,i)}finally{We=p,oe.p=u,Z.T=o}}Yt=3}}function Vb(){if(Yt===4||Yt===3){Yt=0,wh();var s=Si,i=Ko,o=Or,u=Tb;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Yt=5:(Yt=0,Ko=Si=null,Lb(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(Ni=null),vr(o),i=i.stateNode,an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(xs,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=Z.T,p=oe.p,oe.p=2,Z.T=null;try{for(var y=s.onRecoverableError,_=0;_<u.length;_++){var S=u[_];y(S.value,{componentStack:S.stack})}}finally{Z.T=i,oe.p=p}}(Or&3)!==0&&Id(),ar(s),p=s.pendingLanes,(o&261930)!==0&&(p&42)!==0?s===fg?Fc++:(Fc=0,fg=s):Fc=0,qc(0)}}function Lb(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,Tc(i)))}function Id(){return Pb(),Ob(),Vb(),Ub()}function Ub(){if(Yt!==5)return!1;var s=Si,i=hg;hg=0;var o=vr(Or),u=Z.T,p=oe.p;try{oe.p=32>o?32:o,Z.T=null,o=dg,dg=null;var y=Si,_=Or;if(Yt=0,Ko=Si=null,Or=0,(We&6)!==0)throw Error(r(331));var S=We;if(We|=4,bb(y.current),yb(y,y.current,_,o),We=S,qc(0,!1),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(xs,y)}catch{}return!0}finally{oe.p=p,Z.T=u,Lb(s,i)}}function zb(s,i,o){i=as(o,i),i=Gp(s.stateNode,i,2),s=vi(s,i,2),s!==null&&(xa(s,2),ar(s))}function et(s,i,o){if(s.tag===3)zb(s,s,o);else for(;i!==null;){if(i.tag===3){zb(i,s,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ni===null||!Ni.has(u))){s=as(o,s),o=B1(2),u=vi(i,o,2),u!==null&&(F1(o,u,i,s),xa(u,2),ar(u));break}}i=i.return}}function gg(s,i,o){var u=s.pingCache;if(u===null){u=s.pingCache=new jC;var p=new Set;u.set(i,p)}else p=u.get(i),p===void 0&&(p=new Set,u.set(i,p));p.has(o)||(lg=!0,p.add(o),s=DC.bind(null,s,i,o),i.then(s,s))}function DC(s,i,o){var u=s.pingCache;u!==null&&u.delete(i),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,ot===s&&(Oe&o)===o&&(Et===4||Et===3&&(Oe&62914560)===Oe&&300>En()-Nd?(We&2)===0&&Wo(s,0):cg|=o,Qo===Oe&&(Qo=0)),ar(s)}function Bb(s,i){i===0&&(i=Ah()),s=Ma(s,i),s!==null&&(xa(s,i),ar(s))}function kC(s){var i=s.memoizedState,o=0;i!==null&&(o=i.retryLane),Bb(s,o)}function PC(s,i){var o=0;switch(s.tag){case 31:case 13:var u=s.stateNode,p=s.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(i),Bb(s,o)}function OC(s,i){return $t(s,i)}var Md=null,Jo=null,yg=!1,Dd=!1,xg=!1,ji=0;function ar(s){s!==Jo&&s.next===null&&(Jo===null?Md=Jo=s:Jo=Jo.next=s),Dd=!0,yg||(yg=!0,LC())}function qc(s,i){if(!xg&&Dd){xg=!0;do for(var o=!1,u=Md;u!==null;){if(s!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var _=u.suspendedLanes,S=u.pingedLanes;y=(1<<31-At(42|s)+1)-1,y&=p&~(_&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Gb(u,y))}else y=Oe,y=Fs(u,u===ot?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||vs(u,y)||(o=!0,Gb(u,y));u=u.next}while(o);xg=!1}}function VC(){Fb()}function Fb(){Dd=yg=!1;var s=0;ji!==0&&QC()&&(s=ji);for(var i=En(),o=null,u=Md;u!==null;){var p=u.next,y=qb(u,i);y===0?(u.next=null,o===null?Md=p:o.next=p,p===null&&(Jo=o)):(o=u,(s!==0||(y&3)!==0)&&(Dd=!0)),u=p}Yt!==0&&Yt!==5||qc(s),ji!==0&&(ji=0)}function qb(s,i){for(var o=s.suspendedLanes,u=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var _=31-At(y),S=1<<_,z=p[_];z===-1?((S&o)===0||(S&u)!==0)&&(p[_]=Ym(S,i)):z<=i&&(s.expiredLanes|=S),y&=~S}if(i=ot,o=Oe,o=Fs(s,s===i?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===i&&(Ze===2||Ze===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&ni(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||vs(s,o)){if(i=o&-o,i===s.callbackPriority)return i;switch(u!==null&&ni(u),vr(o)){case 2:case 8:o=Zl;break;case 32:o=si;break;case 268435456:o=_h;break;default:o=si}return u=Hb.bind(null,s),o=$t(o,u),s.callbackPriority=i,s.callbackNode=o,i}return u!==null&&u!==null&&ni(u),s.callbackPriority=2,s.callbackNode=null,2}function Hb(s,i){if(Yt!==0&&Yt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Id()&&s.callbackNode!==o)return null;var u=Oe;return u=Fs(s,s===ot?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Nb(s,u,i),qb(s,En()),s.callbackNode!=null&&s.callbackNode===o?Hb.bind(null,s):null)}function Gb(s,i){if(Id())return null;Nb(s,i,!0)}function LC(){WC(function(){(We&6)!==0?$t(Jl,VC):Fb()})}function vg(){if(ji===0){var s=Vo;s===0&&(s=zs,zs<<=1,(zs&261888)===0&&(zs=256)),ji=s}return ji}function $b(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:_o(""+s)}function Yb(s,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,s.id&&o.setAttribute("form",s.id),i.parentNode.insertBefore(o,i),s=new FormData(s),o.parentNode.removeChild(o),s}function UC(s,i,o,u,p){if(i==="submit"&&o&&o.stateNode===p){var y=$b((p[Xt]||null).action),_=u.submitter;_&&(i=(i=_[Xt]||null)?$b(i.formAction):_.getAttribute("formAction"),i!==null&&(y=i,_=null));var S=new Zs("action","action",null,u,p);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ji!==0){var z=_?Yb(p,_):new FormData(p);Up(o,{pending:!0,data:z,method:p.method,action:y},null,z)}}else typeof y=="function"&&(S.preventDefault(),z=_?Yb(p,_):new FormData(p),Up(o,{pending:!0,data:z,method:p.method,action:y},y,z))},currentTarget:p}]})}}for(var bg=0;bg<np.length;bg++){var wg=np[bg],zC=wg.toLowerCase(),BC=wg[0].toUpperCase()+wg.slice(1);As(zC,"on"+BC)}As(Ev,"onAnimationEnd"),As(Nv,"onAnimationIteration"),As(Sv,"onAnimationStart"),As("dblclick","onDoubleClick"),As("focusin","onFocus"),As("focusout","onBlur"),As(sC,"onTransitionRun"),As(rC,"onTransitionStart"),As(iC,"onTransitionCancel"),As(Av,"onTransitionEnd"),Ks("onMouseEnter",["mouseout","mouseover"]),Ks("onMouseLeave",["mouseout","mouseover"]),Ks("onPointerEnter",["pointerout","pointerover"]),Ks("onPointerLeave",["pointerout","pointerover"]),Qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hc));function Qb(s,i){i=(i&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],p=u.event;u=u.listeners;e:{var y=void 0;if(i)for(var _=u.length-1;0<=_;_--){var S=u[_],z=S.instance,Q=S.currentTarget;if(S=S.listener,z!==y&&p.isPropagationStopped())break e;y=S,p.currentTarget=Q;try{y(p)}catch(ee){Qh(ee)}p.currentTarget=null,y=z}else for(_=0;_<u.length;_++){if(S=u[_],z=S.instance,Q=S.currentTarget,S=S.listener,z!==y&&p.isPropagationStopped())break e;y=S,p.currentTarget=Q;try{y(p)}catch(ee){Qh(ee)}p.currentTarget=null,y=z}}}}function Pe(s,i){var o=i[yo];o===void 0&&(o=i[yo]=new Set);var u=s+"__bubble";o.has(u)||(Kb(i,s,2,!1),o.add(u))}function _g(s,i,o){var u=0;i&&(u|=4),Kb(o,s,u,i)}var kd="_reactListening"+Math.random().toString(36).slice(2);function Tg(s){if(!s[kd]){s[kd]=!0,nc.forEach(function(o){o!=="selectionchange"&&(FC.has(o)||_g(o,!1,s),_g(o,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[kd]||(i[kd]=!0,_g("selectionchange",!1,i))}}function Kb(s,i,o,u){switch(Ew(i)){case 2:var p=gR;break;case 8:p=yR;break;default:p=Lg}o=p.bind(null,i,o,s),p=void 0,!Ea||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),u?p!==void 0?s.addEventListener(i,o,{capture:!0,passive:p}):s.addEventListener(i,o,!0):p!==void 0?s.addEventListener(i,o,{passive:p}):s.addEventListener(i,o,!1)}function Eg(s,i,o,u,p){var y=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var S=u.stateNode.containerInfo;if(S===p)break;if(_===4)for(_=u.return;_!==null;){var z=_.tag;if((z===3||z===4)&&_.stateNode.containerInfo===p)return;_=_.return}for(;S!==null;){if(_=$s(S),_===null)return;if(z=_.tag,z===5||z===6||z===26||z===27){u=y=_;continue e}S=S.parentNode}}u=u.return}ci(function(){var Q=y,ee=ns(o),se=[];e:{var W=jv.get(s);if(W!==void 0){var J=Zs,pe=s;switch(s){case"keypress":if(Sa(o)===0)break e;case"keydown":case"keyup":J=Gh;break;case"focusin":pe="focus",J=ja;break;case"focusout":pe="blur",J=ja;break;case"beforeblur":case"afterblur":J=ja;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=pc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Oh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=b;break;case Ev:case Nv:case Sv:J=Lh;break;case Av:J=C;break;case"scroll":case"scrollend":J=mc;break;case"wheel":J=X;break;case"copy":case"cut":case"paste":J=Uh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=_r;break;case"toggle":case"beforetoggle":J=je}var we=(i&4)!==0,it=!we&&(s==="scroll"||s==="scrollend"),G=we?W!==null?W+"Capture":null:W;we=[];for(var B=Q,Y;B!==null;){var ne=B;if(Y=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||Y===null||G===null||(ne=Ts(B,G),ne!=null&&we.push(Gc(B,ne,Y))),it)break;B=B.return}0<we.length&&(W=new J(W,pe,null,o,ee),se.push({event:W,listeners:we}))}}if((i&7)===0){e:{if(W=s==="mouseover"||s==="pointerover",J=s==="mouseout"||s==="pointerout",W&&o!==hc&&(pe=o.relatedTarget||o.fromElement)&&($s(pe)||pe[Hs]))break e;if((J||W)&&(W=ee.window===ee?ee:(W=ee.ownerDocument)?W.defaultView||W.parentWindow:window,J?(pe=o.relatedTarget||o.toElement,J=Q,pe=pe?$s(pe):null,pe!==null&&(it=l(pe),we=pe.tag,pe!==it||we!==5&&we!==27&&we!==6)&&(pe=null)):(J=null,pe=Q),J!==pe)){if(we=pc,ne="onMouseLeave",G="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(we=_r,ne="onPointerLeave",G="onPointerEnter",B="pointer"),it=J==null?W:Un(J),Y=pe==null?W:Un(pe),W=new we(ne,B+"leave",J,o,ee),W.target=it,W.relatedTarget=Y,ne=null,$s(ee)===Q&&(we=new we(G,B+"enter",pe,o,ee),we.target=Y,we.relatedTarget=it,ne=we),it=ne,J&&pe)t:{for(we=qC,G=J,B=pe,Y=0,ne=G;ne;ne=we(ne))Y++;ne=0;for(var ve=B;ve;ve=we(ve))ne++;for(;0<Y-ne;)G=we(G),Y--;for(;0<ne-Y;)B=we(B),ne--;for(;Y--;){if(G===B||B!==null&&G===B.alternate){we=G;break t}G=we(G),B=we(B)}we=null}else we=null;J!==null&&Wb(se,W,J,we,!1),pe!==null&&it!==null&&Wb(se,it,pe,we,!0)}}e:{if(W=Q?Un(Q):window,J=W.nodeName&&W.nodeName.toLowerCase(),J==="select"||J==="input"&&W.type==="file")var Ye=fv;else if(hv(W))if(mv)Ye=eC;else{Ye=Jj;var ye=Xj}else J=W.nodeName,!J||J.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Q&&wo(Q.elementType)&&(Ye=fv):Ye=Zj;if(Ye&&(Ye=Ye(s,Q))){dv(se,Ye,o,ee);break e}ye&&ye(s,W,Q),s==="focusout"&&Q&&W.type==="number"&&Q.memoizedProps.value!=null&&lc(W,"number",W.value)}switch(ye=Q?Un(Q):window,s){case"focusin":(hv(ye)||ye.contentEditable==="true")&&(Co=ye,Zm=Q,bc=null);break;case"focusout":bc=Zm=Co=null;break;case"mousedown":ep=!0;break;case"contextmenu":case"mouseup":case"dragend":ep=!1,_v(se,o,ee);break;case"selectionchange":if(nC)break;case"keydown":case"keyup":_v(se,o,ee)}var Ie;if(Ke)e:{switch(s){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else jo?Ca(s,o)&&(Ve="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Ve="onCompositionStart");Ve&&(nr&&o.locale!=="ko"&&(jo||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&jo&&(Ie=fc()):(Js=ee,dc="value"in Js?Js.value:Js.textContent,jo=!0)),ye=Pd(Q,Ve),0<ye.length&&(Ve=new tr(Ve,s,null,o,ee),se.push({event:Ve,listeners:ye}),Ie?Ve.data=Ie:(Ie=Ao(o),Ie!==null&&(Ve.data=Ie)))),(Ie=rs?Yj(s,o):Qj(s,o))&&(Ve=Pd(Q,"onBeforeInput"),0<Ve.length&&(ye=new tr("onBeforeInput","beforeinput",null,o,ee),se.push({event:ye,listeners:Ve}),ye.data=Ie)),UC(se,s,Q,o,ee)}Qb(se,i)})}function Gc(s,i,o){return{instance:s,listener:i,currentTarget:o}}function Pd(s,i){for(var o=i+"Capture",u=[];s!==null;){var p=s,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Ts(s,o),p!=null&&u.unshift(Gc(s,p,y)),p=Ts(s,i),p!=null&&u.push(Gc(s,p,y))),s.tag===3)return u;s=s.return}return[]}function qC(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Wb(s,i,o,u,p){for(var y=i._reactName,_=[];o!==null&&o!==u;){var S=o,z=S.alternate,Q=S.stateNode;if(S=S.tag,z!==null&&z===u)break;S!==5&&S!==26&&S!==27||Q===null||(z=Q,p?(Q=Ts(o,y),Q!=null&&_.unshift(Gc(o,Q,z))):p||(Q=Ts(o,y),Q!=null&&_.push(Gc(o,Q,z)))),o=o.return}_.length!==0&&s.push({event:i,listeners:_})}var HC=/\r\n?/g,GC=/\u0000|\uFFFD/g;function Xb(s){return(typeof s=="string"?s:""+s).replace(HC,`
`).replace(GC,"")}function Jb(s,i){return i=Xb(i),Xb(s)===i}function rt(s,i,o,u,p,y){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Rn(s,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Rn(s,""+u);break;case"className":zn(s,"class",u);break;case"tabIndex":zn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":zn(s,o,u);break;case"style":uc(s,u,y);break;case"data":if(i!=="object"){zn(s,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=_o(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(i!=="input"&&rt(s,i,"name",p.name,p,null),rt(s,i,"formEncType",p.formEncType,p,null),rt(s,i,"formMethod",p.formMethod,p,null),rt(s,i,"formTarget",p.formTarget,p,null)):(rt(s,i,"encType",p.encType,p,null),rt(s,i,"method",p.method,p,null),rt(s,i,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=_o(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=_s);break;case"onScroll":u!=null&&Pe("scroll",s);break;case"onScrollEnd":u!=null&&Pe("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(r(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=_o(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":Pe("beforetoggle",s),Pe("toggle",s),vo(s,"popover",u);break;case"xlinkActuate":Vt(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Vt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Vt(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Vt(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Vt(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Vt(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Vt(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Vt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Vt(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":vo(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ph.get(o)||o,vo(s,o,u))}}function Ng(s,i,o,u,p,y){switch(o){case"style":uc(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(r(60));s.innerHTML=o}}break;case"children":typeof u=="string"?Rn(s,u):(typeof u=="number"||typeof u=="bigint")&&Rn(s,""+u);break;case"onScroll":u!=null&&Pe("scroll",s);break;case"onScrollEnd":u!=null&&Pe("scrollend",s);break;case"onClick":u!=null&&(s.onclick=_s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sc.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),i=o.slice(2,p?o.length-7:void 0),y=s[Xt]||null,y=y!=null?y[o]:null,typeof y=="function"&&s.removeEventListener(i,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(i,u,p);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):vo(s,o,u)}}}function hn(s,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",s),Pe("load",s);var u=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var _=o[y];if(_!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:rt(s,i,y,_,o,null)}}p&&rt(s,i,"srcSet",o.srcSet,o,null),u&&rt(s,i,"src",o.src,o,null);return;case"input":Pe("invalid",s);var S=y=_=p=null,z=null,Q=null;for(u in o)if(o.hasOwnProperty(u)){var ee=o[u];if(ee!=null)switch(u){case"name":p=ee;break;case"type":_=ee;break;case"checked":z=ee;break;case"defaultChecked":Q=ee;break;case"value":y=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,i));break;default:rt(s,i,u,ee,o,null)}}Mh(s,y,S,z,Q,_,p,!1);return;case"select":Pe("invalid",s),u=_=y=null;for(p in o)if(o.hasOwnProperty(p)&&(S=o[p],S!=null))switch(p){case"value":y=S;break;case"defaultValue":_=S;break;case"multiple":u=S;default:rt(s,i,p,S,o,null)}i=y,o=_,s.multiple=!!u,i!=null?ii(s,!!u,i,!1):o!=null&&ii(s,!!u,o,!0);return;case"textarea":Pe("invalid",s),y=p=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(S=o[_],S!=null))switch(_){case"value":u=S;break;case"defaultValue":p=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:rt(s,i,_,S,o,null)}ai(s,u,p,y);return;case"option":for(z in o)if(o.hasOwnProperty(z)&&(u=o[z],u!=null))switch(z){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:rt(s,i,z,u,o,null)}return;case"dialog":Pe("beforetoggle",s),Pe("toggle",s),Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":Pe("load",s);break;case"video":case"audio":for(u=0;u<Hc.length;u++)Pe(Hc[u],s);break;case"image":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"embed":case"source":case"link":Pe("error",s),Pe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(u=o[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:rt(s,i,Q,u,o,null)}return;default:if(wo(i)){for(ee in o)o.hasOwnProperty(ee)&&(u=o[ee],u!==void 0&&Ng(s,i,ee,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&rt(s,i,S,u,o,null))}function $C(s,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,_=null,S=null,z=null,Q=null,ee=null;for(J in o){var se=o[J];if(o.hasOwnProperty(J)&&se!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":z=se;default:u.hasOwnProperty(J)||rt(s,i,J,null,u,se)}}for(var W in u){var J=u[W];if(se=o[W],u.hasOwnProperty(W)&&(J!=null||se!=null))switch(W){case"type":y=J;break;case"name":p=J;break;case"checked":Q=J;break;case"defaultChecked":ee=J;break;case"value":_=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,i));break;default:J!==se&&rt(s,i,W,J,u,se)}}bo(s,_,S,z,Q,ee,y,p);return;case"select":J=_=S=W=null;for(y in o)if(z=o[y],o.hasOwnProperty(y)&&z!=null)switch(y){case"value":break;case"multiple":J=z;default:u.hasOwnProperty(y)||rt(s,i,y,null,u,z)}for(p in u)if(y=u[p],z=o[p],u.hasOwnProperty(p)&&(y!=null||z!=null))switch(p){case"value":W=y;break;case"defaultValue":S=y;break;case"multiple":_=y;default:y!==z&&rt(s,i,p,y,u,z)}i=S,o=_,u=J,W!=null?ii(s,!!o,W,!1):!!u!=!!o&&(i!=null?ii(s,!!o,i,!0):ii(s,!!o,o?[]:"",!1));return;case"textarea":J=W=null;for(S in o)if(p=o[S],o.hasOwnProperty(S)&&p!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:rt(s,i,S,null,u,p)}for(_ in u)if(p=u[_],y=o[_],u.hasOwnProperty(_)&&(p!=null||y!=null))switch(_){case"value":W=p;break;case"defaultValue":J=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==y&&rt(s,i,_,p,u,y)}Dh(s,W,J);return;case"option":for(var pe in o)if(W=o[pe],o.hasOwnProperty(pe)&&W!=null&&!u.hasOwnProperty(pe))switch(pe){case"selected":s.selected=!1;break;default:rt(s,i,pe,null,u,W)}for(z in u)if(W=u[z],J=o[z],u.hasOwnProperty(z)&&W!==J&&(W!=null||J!=null))switch(z){case"selected":s.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:rt(s,i,z,W,u,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in o)W=o[we],o.hasOwnProperty(we)&&W!=null&&!u.hasOwnProperty(we)&&rt(s,i,we,null,u,W);for(Q in u)if(W=u[Q],J=o[Q],u.hasOwnProperty(Q)&&W!==J&&(W!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,i));break;default:rt(s,i,Q,W,u,J)}return;default:if(wo(i)){for(var it in o)W=o[it],o.hasOwnProperty(it)&&W!==void 0&&!u.hasOwnProperty(it)&&Ng(s,i,it,void 0,u,W);for(ee in u)W=u[ee],J=o[ee],!u.hasOwnProperty(ee)||W===J||W===void 0&&J===void 0||Ng(s,i,ee,W,u,J);return}}for(var G in o)W=o[G],o.hasOwnProperty(G)&&W!=null&&!u.hasOwnProperty(G)&&rt(s,i,G,null,u,W);for(se in u)W=u[se],J=o[se],!u.hasOwnProperty(se)||W===J||W==null&&J==null||rt(s,i,se,W,u,J)}function Zb(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YC(){if(typeof performance.getEntriesByType=="function"){for(var s=0,i=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],y=p.transferSize,_=p.initiatorType,S=p.duration;if(y&&S&&Zb(_)){for(_=0,S=p.responseEnd,u+=1;u<o.length;u++){var z=o[u],Q=z.startTime;if(Q>S)break;var ee=z.transferSize,se=z.initiatorType;ee&&Zb(se)&&(z=z.responseEnd,_+=ee*(z<S?1:(S-Q)/(z-Q)))}if(--u,i+=8*(y+_)/(p.duration/1e3),s++,10<s)break}}if(0<s)return i/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Sg=null,Ag=null;function Od(s){return s.nodeType===9?s:s.ownerDocument}function ew(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tw(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function jg(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Cg=null;function QC(){var s=window.event;return s&&s.type==="popstate"?s===Cg?!1:(Cg=s,!0):(Cg=null,!1)}var nw=typeof setTimeout=="function"?setTimeout:void 0,KC=typeof clearTimeout=="function"?clearTimeout:void 0,sw=typeof Promise=="function"?Promise:void 0,WC=typeof queueMicrotask=="function"?queueMicrotask:typeof sw<"u"?function(s){return sw.resolve(null).then(s).catch(XC)}:nw;function XC(s){setTimeout(function(){throw s})}function Ci(s){return s==="head"}function rw(s,i){var o=i,u=0;do{var p=o.nextSibling;if(s.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){s.removeChild(p),nl(i);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")$c(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,$c(o);for(var y=o.firstChild;y;){var _=y.nextSibling,S=y.nodeName;y[Gs]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=_}}else o==="body"&&$c(s.ownerDocument.body);o=p}while(o);nl(i)}function iw(s,i){var o=s;s=0;do{var u=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=u}while(o)}function Rg(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Rg(o),xo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function JC(s,i,o,u){for(;s.nodeType===1;){var p=o;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Gs])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=hs(s.nextSibling),s===null)break}return null}function ZC(s,i,o){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=hs(s.nextSibling),s===null))return null;return s}function aw(s,i){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!i||(s=hs(s.nextSibling),s===null))return null;return s}function Ig(s){return s.data==="$?"||s.data==="$~"}function Mg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function eR(s,i){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=i;else if(s.data!=="$?"||o.readyState!=="loading")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function hs(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return s}var Dg=null;function ow(s){s=s.nextSibling;for(var i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(i===0)return hs(s.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}s=s.nextSibling}return null}function lw(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return s;i--}else o!=="/$"&&o!=="/&"||i++}s=s.previousSibling}return null}function cw(s,i,o){switch(i=Od(o),s){case"html":if(s=i.documentElement,!s)throw Error(r(452));return s;case"head":if(s=i.head,!s)throw Error(r(453));return s;case"body":if(s=i.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function $c(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);xo(s)}var ds=new Map,uw=new Set;function Vd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Vr=oe.d;oe.d={f:tR,r:nR,D:sR,C:rR,L:iR,m:aR,X:lR,S:oR,M:cR};function tR(){var s=Vr.f(),i=jd();return s||i}function nR(s){var i=ts(s);i!==null&&i.tag===5&&i.type==="form"?A1(i):Vr.r(s)}var Zo=typeof document>"u"?null:document;function hw(s,i,o){var u=Zo;if(u&&typeof i=="string"&&i){var p=Cn(i);p='link[rel="'+s+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),uw.has(p)||(uw.add(p),s={rel:s,crossOrigin:o,href:i},u.querySelector(p)===null&&(i=u.createElement("link"),hn(i,"link",s),Ot(i),u.head.appendChild(i)))}}function sR(s){Vr.D(s),hw("dns-prefetch",s,null)}function rR(s,i){Vr.C(s,i),hw("preconnect",s,i)}function iR(s,i,o){Vr.L(s,i,o);var u=Zo;if(u&&s&&i){var p='link[rel="preload"][as="'+Cn(i)+'"]';i==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Cn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Cn(o.imageSizes)+'"]')):p+='[href="'+Cn(s)+'"]';var y=p;switch(i){case"style":y=el(s);break;case"script":y=tl(s)}ds.has(y)||(s=v({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:s,as:i},o),ds.set(y,s),u.querySelector(p)!==null||i==="style"&&u.querySelector(Yc(y))||i==="script"&&u.querySelector(Qc(y))||(i=u.createElement("link"),hn(i,"link",s),Ot(i),u.head.appendChild(i)))}}function aR(s,i){Vr.m(s,i);var o=Zo;if(o&&s){var u=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Cn(u)+'"][href="'+Cn(s)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=tl(s)}if(!ds.has(y)&&(s=v({rel:"modulepreload",href:s},i),ds.set(y,s),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Qc(y)))return}u=o.createElement("link"),hn(u,"link",s),Ot(u),o.head.appendChild(u)}}}function oR(s,i,o){Vr.S(s,i,o);var u=Zo;if(u&&s){var p=Ys(u).hoistableStyles,y=el(s);i=i||"default";var _=p.get(y);if(!_){var S={loading:0,preload:null};if(_=u.querySelector(Yc(y)))S.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":i},o),(o=ds.get(y))&&kg(s,o);var z=_=u.createElement("link");Ot(z),hn(z,"link",s),z._p=new Promise(function(Q,ee){z.onload=Q,z.onerror=ee}),z.addEventListener("load",function(){S.loading|=1}),z.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ld(_,i,u)}_={type:"stylesheet",instance:_,count:1,state:S},p.set(y,_)}}}function lR(s,i){Vr.X(s,i);var o=Zo;if(o&&s){var u=Ys(o).hoistableScripts,p=tl(s),y=u.get(p);y||(y=o.querySelector(Qc(p)),y||(s=v({src:s,async:!0},i),(i=ds.get(p))&&Pg(s,i),y=o.createElement("script"),Ot(y),hn(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function cR(s,i){Vr.M(s,i);var o=Zo;if(o&&s){var u=Ys(o).hoistableScripts,p=tl(s),y=u.get(p);y||(y=o.querySelector(Qc(p)),y||(s=v({src:s,async:!0,type:"module"},i),(i=ds.get(p))&&Pg(s,i),y=o.createElement("script"),Ot(y),hn(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function dw(s,i,o,u){var p=(p=Re.current)?Vd(p):null;if(!p)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=el(o.href),o=Ys(p).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=el(o.href);var y=Ys(p).hoistableStyles,_=y.get(s);if(_||(p=p.ownerDocument||p,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,_),(y=p.querySelector(Yc(s)))&&!y._p&&(_.instance=y,_.state.loading=5),ds.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ds.set(s,o),y||uR(p,s,o,_.state))),i&&u===null)throw Error(r(528,""));return _}if(i&&u!==null)throw Error(r(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=tl(o),o=Ys(p).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function el(s){return'href="'+Cn(s)+'"'}function Yc(s){return'link[rel="stylesheet"]['+s+"]"}function fw(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function uR(s,i,o,u){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=s.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),hn(i,"link",o),Ot(i),s.head.appendChild(i))}function tl(s){return'[src="'+Cn(s)+'"]'}function Qc(s){return"script[async]"+s}function mw(s,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=s.querySelector('style[data-href~="'+Cn(o.href)+'"]');if(u)return i.instance=u,Ot(u),u;var p=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ot(u),hn(u,"style",p),Ld(u,o.precedence,s),i.instance=u;case"stylesheet":p=el(o.href);var y=s.querySelector(Yc(p));if(y)return i.state.loading|=4,i.instance=y,Ot(y),y;u=fw(o),(p=ds.get(p))&&kg(u,p),y=(s.ownerDocument||s).createElement("link"),Ot(y);var _=y;return _._p=new Promise(function(S,z){_.onload=S,_.onerror=z}),hn(y,"link",u),i.state.loading|=4,Ld(y,o.precedence,s),i.instance=y;case"script":return y=tl(o.src),(p=s.querySelector(Qc(y)))?(i.instance=p,Ot(p),p):(u=o,(p=ds.get(y))&&(u=v({},o),Pg(u,p)),s=s.ownerDocument||s,p=s.createElement("script"),Ot(p),hn(p,"link",u),s.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Ld(u,o.precedence,s));return i.instance}function Ld(s,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,_=0;_<u.length;_++){var S=u[_];if(S.dataset.precedence===i)y=S;else if(y!==p)break}y?y.parentNode.insertBefore(s,y.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(s,i.firstChild))}function kg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function Pg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var Ud=null;function pw(s,i,o){if(Ud===null){var u=new Map,p=Ud=new Map;p.set(o,u)}else p=Ud,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),p=0;p<o.length;p++){var y=o[p];if(!(y[Gs]||y[Pt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(i)||"";_=s+_;var S=u.get(_);S?S.push(y):u.set(_,[y])}}return u}function gw(s,i,o){s=s.ownerDocument||s,s.head.insertBefore(o,i==="title"?s.querySelector("head > title"):null)}function hR(s,i,o){if(o===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return s=i.disabled,typeof i.precedence=="string"&&s==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function yw(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function dR(s,i,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=el(u.href),y=i.querySelector(Yc(p));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(s.count++,s=zd.bind(s),i.then(s,s)),o.state.loading|=4,o.instance=y,Ot(y);return}y=i.ownerDocument||i,u=fw(u),(p=ds.get(p))&&kg(u,p),y=y.createElement("link"),Ot(y);var _=y;_._p=new Promise(function(S,z){_.onload=S,_.onerror=z}),hn(y,"link",u),o.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=zd.bind(s),i.addEventListener("load",o),i.addEventListener("error",o))}}var Og=0;function fR(s,i){return s.stylesheets&&s.count===0&&Fd(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var u=setTimeout(function(){if(s.stylesheets&&Fd(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+i);0<s.imgBytes&&Og===0&&(Og=62500*YC());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Fd(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Og?50:800)+i);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function zd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Bd=null;function Fd(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Bd=new Map,i.forEach(mR,s),Bd=null,zd.call(s))}function mR(s,i){if(!(i.state.loading&4)){var o=Bd.get(s);if(o)var u=o.get(null);else{o=new Map,Bd.set(s,o);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var _=p[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}p=i.instance,_=p.getAttribute("data-precedence"),y=o.get(_)||u,y===u&&o.set(null,p),o.set(_,p),this.count++,u=zd.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),i.state.loading|=4}}var Kc={$$typeof:U,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function pR(s,i,o,u,p,y,_,S,z){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qs(0),this.hiddenUpdates=qs(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function xw(s,i,o,u,p,y,_,S,z,Q,ee,se){return s=new pR(s,i,o,_,z,Q,ee,se,S),i=1,y===!0&&(i|=24),y=Fn(3,null,null,i),s.current=y,y.stateNode=s,i=pp(),i.refCount++,s.pooledCache=i,i.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:i},vp(y),s}function vw(s){return s?(s=Mo,s):Mo}function bw(s,i,o,u,p,y){p=vw(p),u.context===null?u.context=p:u.pendingContext=p,u=xi(i),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=vi(s,u,i),o!==null&&(Pn(o,s,i),Ac(o,s,i))}function ww(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<i?o:i}}function Vg(s,i){ww(s,i),(s=s.alternate)&&ww(s,i)}function _w(s){if(s.tag===13||s.tag===31){var i=Ma(s,67108864);i!==null&&Pn(i,s,67108864),Vg(s,67108864)}}function Tw(s){if(s.tag===13||s.tag===31){var i=Yn();i=ba(i);var o=Ma(s,i);o!==null&&Pn(o,s,i),Vg(s,i)}}var qd=!0;function gR(s,i,o,u){var p=Z.T;Z.T=null;var y=oe.p;try{oe.p=2,Lg(s,i,o,u)}finally{oe.p=y,Z.T=p}}function yR(s,i,o,u){var p=Z.T;Z.T=null;var y=oe.p;try{oe.p=8,Lg(s,i,o,u)}finally{oe.p=y,Z.T=p}}function Lg(s,i,o,u){if(qd){var p=Ug(u);if(p===null)Eg(s,i,u,Hd,o),Nw(s,u);else if(vR(p,s,i,o,u))u.stopPropagation();else if(Nw(s,u),i&4&&-1<xR.indexOf(s)){for(;p!==null;){var y=ts(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=Bs(y.pendingLanes);if(_!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var z=1<<31-At(_);S.entanglements[1]|=z,_&=~z}ar(y),(We&6)===0&&(Sd=En()+500,qc(0))}}break;case 31:case 13:S=Ma(y,2),S!==null&&Pn(S,y,2),jd(),Vg(y,2)}if(y=Ug(u),y===null&&Eg(s,i,u,Hd,o),y===p)break;p=y}p!==null&&u.stopPropagation()}else Eg(s,i,u,null,o)}}function Ug(s){return s=ns(s),zg(s)}var Hd=null;function zg(s){if(Hd=null,s=$s(s),s!==null){var i=l(s);if(i===null)s=null;else{var o=i.tag;if(o===13){if(s=h(i),s!==null)return s;s=null}else if(o===31){if(s=d(i),s!==null)return s;s=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return Hd=s,null}function Ew(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ga()){case Jl:return 2;case Zl:return 8;case si:case $m:return 32;case _h:return 268435456;default:return 32}default:return 32}}var Bg=!1,Ri=null,Ii=null,Mi=null,Wc=new Map,Xc=new Map,Di=[],xR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nw(s,i){switch(s){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":Ii=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":Wc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xc.delete(i.pointerId)}}function Jc(s,i,o,u,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},i!==null&&(i=ts(i),i!==null&&_w(i)),s):(s.eventSystemFlags|=u,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function vR(s,i,o,u,p){switch(i){case"focusin":return Ri=Jc(Ri,s,i,o,u,p),!0;case"dragenter":return Ii=Jc(Ii,s,i,o,u,p),!0;case"mouseover":return Mi=Jc(Mi,s,i,o,u,p),!0;case"pointerover":var y=p.pointerId;return Wc.set(y,Jc(Wc.get(y)||null,s,i,o,u,p)),!0;case"gotpointercapture":return y=p.pointerId,Xc.set(y,Jc(Xc.get(y)||null,s,i,o,u,p)),!0}return!1}function Sw(s){var i=$s(s.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=h(o),i!==null){s.blockedOn=i,bs(s.priority,function(){Tw(o)});return}}else if(i===31){if(i=d(o),i!==null){s.blockedOn=i,bs(s.priority,function(){Tw(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Gd(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var o=Ug(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);hc=u,o.target.dispatchEvent(u),hc=null}else return i=ts(o),i!==null&&_w(i),s.blockedOn=o,!1;i.shift()}return!0}function Aw(s,i,o){Gd(s)&&o.delete(i)}function bR(){Bg=!1,Ri!==null&&Gd(Ri)&&(Ri=null),Ii!==null&&Gd(Ii)&&(Ii=null),Mi!==null&&Gd(Mi)&&(Mi=null),Wc.forEach(Aw),Xc.forEach(Aw)}function $d(s,i){s.blockedOn===i&&(s.blockedOn=null,Bg||(Bg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,bR)))}var Yd=null;function jw(s){Yd!==s&&(Yd=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Yd===s&&(Yd=null);for(var i=0;i<s.length;i+=3){var o=s[i],u=s[i+1],p=s[i+2];if(typeof u!="function"){if(zg(u||o)===null)continue;break}var y=ts(o);y!==null&&(s.splice(i,3),i-=3,Up(y,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function nl(s){function i(z){return $d(z,s)}Ri!==null&&$d(Ri,s),Ii!==null&&$d(Ii,s),Mi!==null&&$d(Mi,s),Wc.forEach(i),Xc.forEach(i);for(var o=0;o<Di.length;o++){var u=Di[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Di.length&&(o=Di[0],o.blockedOn===null);)Sw(o),o.blockedOn===null&&Di.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],y=o[u+1],_=p[Xt]||null;if(typeof y=="function")_||jw(o);else if(_){var S=null;if(y&&y.hasAttribute("formAction")){if(p=y,_=y[Xt]||null)S=_.formAction;else if(zg(p)!==null)continue}else S=_.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),jw(o)}}}function Cw(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(_){return p=_})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function Fg(s){this._internalRoot=s}Qd.prototype.render=Fg.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));var o=i.current,u=Yn();bw(o,u,s,i,null,null)},Qd.prototype.unmount=Fg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;bw(s.current,2,null,s,null,null),jd(),i[Hs]=null}};function Qd(s){this._internalRoot=s}Qd.prototype.unstable_scheduleHydration=function(s){if(s){var i=jh();s={blockedOn:null,target:s,priority:i};for(var o=0;o<Di.length&&i!==0&&i<Di[o].priority;o++);Di.splice(o,0,s),o===0&&Sw(s)}};var Rw=e.version;if(Rw!=="19.2.0")throw Error(r(527,Rw,"19.2.0"));oe.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=g(i),s=s!==null?x(s):null,s=s===null?null:s.stateNode,s};var wR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kd.isDisabled&&Kd.supportsFiber)try{xs=Kd.inject(wR),an=Kd}catch{}}return eu.createRoot=function(s,i){if(!a(s))throw Error(r(299));var o=!1,u="",p=V1,y=L1,_=U1;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=xw(s,1,!1,null,null,o,u,null,p,y,_,Cw),s[Hs]=i.current,Tg(s),new Fg(i)},eu.hydrateRoot=function(s,i,o){if(!a(s))throw Error(r(299));var u=!1,p="",y=V1,_=L1,S=U1,z=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(z=o.formState)),i=xw(s,1,!0,i,o??null,u,p,z,y,_,S,Cw),i.context=vw(null),o=i.current,u=Yn(),u=ba(u),p=xi(u),p.callback=null,vi(o,p,u),o=u,i.current.lanes=o,xa(i,o),ar(i),s[Hs]=i.current,Tg(s),new Qd(i)},eu.version="19.2.0",eu}var zw;function MR(){if(zw)return Gg.exports;zw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Gg.exports=IR(),Gg.exports}var DR=MR();const kR=eE(DR);var Bw="popstate";function PR(n={}){function e(a,l){let{pathname:h="/",search:d="",hash:m=""}=ao(a.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Ty("",{pathname:h,search:d,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let h=a.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let m=a.location.href,g=m.indexOf("#");d=g===-1?m:m.slice(0,g)}return d+"#"+(typeof l=="string"?l:Au(l))}function r(a,l){Jn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return VR(e,t,r,n)}function vt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Jn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OR(){return Math.random().toString(36).substring(2,10)}function Fw(n,e){return{usr:n.state,key:n.key,idx:e}}function Ty(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ao(e):e,state:t,key:e&&e.key||r||OR()}}function Au({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ao(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function VR(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,h=a.history,d="POP",m=null,g=x();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function x(){return(h.state||{idx:null}).idx}function v(){d="POP";let R=x(),O=R==null?null:R-g;g=R,m&&m({action:d,location:k.location,delta:O})}function w(R,O){d="PUSH";let D=Ty(k.location,R,O);t&&t(D,R),g=x()+1;let U=Fw(D,g),H=k.createHref(D);try{h.pushState(U,"",H)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;a.location.assign(H)}l&&m&&m({action:d,location:k.location,delta:1})}function E(R,O){d="REPLACE";let D=Ty(k.location,R,O);t&&t(D,R),g=x();let U=Fw(D,g),H=k.createHref(D);h.replaceState(U,"",H),l&&m&&m({action:d,location:k.location,delta:0})}function j(R){return LR(R)}let k={get action(){return d},get location(){return n(a,h)},listen(R){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Bw,v),m=R,()=>{a.removeEventListener(Bw,v),m=null}},createHref(R){return e(a,R)},createURL:j,encodeLocation(R){let O=j(R);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:w,replace:E,go(R){return h.go(R)}};return k}function LR(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),vt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Au(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function tE(n,e,t="/"){return UR(n,e,t,!1)}function UR(n,e,t,r){let a=typeof e=="string"?ao(e):e,l=Hr(a.pathname||"/",t);if(l==null)return null;let h=nE(n);zR(h);let d=null;for(let m=0;d==null&&m<h.length;++m){let g=XR(l);d=KR(h[m],g,r)}return d}function nE(n,e=[],t=[],r="",a=!1){let l=(h,d,m=a,g)=>{let x={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(r)&&m)return;vt(x.relativePath.startsWith(r),`Absolute route path "${x.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(r.length)}let v=zr([r,x.relativePath]),w=t.concat(x);h.children&&h.children.length>0&&(vt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),nE(h.children,e,w,v,m)),!(h.path==null&&!h.index)&&e.push({path:v,score:YR(v,h.index),routesMeta:w})};return n.forEach((h,d)=>{if(h.path===""||!h.path?.includes("?"))l(h,d);else for(let m of sE(h.path))l(h,d,!0,m)}),e}function sE(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let h=sE(r.join("/")),d=[];return d.push(...h.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...h),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function zR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:QR(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var BR=/^:[\w-]+$/,FR=3,qR=2,HR=1,GR=10,$R=-2,qw=n=>n==="*";function YR(n,e){let t=n.split("/"),r=t.length;return t.some(qw)&&(r+=$R),e&&(r+=qR),t.filter(a=>!qw(a)).reduce((a,l)=>a+(BR.test(l)?FR:l===""?HR:GR),r)}function QR(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function KR(n,e,t=!1){let{routesMeta:r}=n,a={},l="/",h=[];for(let d=0;d<r.length;++d){let m=r[d],g=d===r.length-1,x=l==="/"?e:e.slice(l.length)||"/",v=Af({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},x),w=m.route;if(!v&&g&&t&&!r[r.length-1].route.index&&(v=Af({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},x)),!v)return null;Object.assign(a,v.params),h.push({params:a,pathname:zr([l,v.pathname]),pathnameBase:n4(zr([l,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(l=zr([l,v.pathnameBase]))}return h}function Af(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=WR(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],h=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((g,{paramName:x,isOptional:v},w)=>{if(x==="*"){let j=d[w]||"";h=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const E=d[w];return v&&!E?g[x]=void 0:g[x]=(E||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:h,pattern:n}}function WR(n,e=!1,t=!0){Jn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function XR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Hr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var JR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZR=n=>JR.test(n);function e4(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?ao(n):n,l;if(t)if(ZR(t))l=t;else{if(t.includes("//")){let h=t;t=t.replace(/\/\/+/g,"/"),Jn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${t}`)}t.startsWith("/")?l=Hw(t.substring(1),"/"):l=Hw(t,e)}else l=e;return{pathname:l,search:s4(r),hash:r4(a)}}function Hw(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Kg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function t4(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function y0(n){let e=t4(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function x0(n,e,t,r=!1){let a;typeof n=="string"?a=ao(n):(a={...n},vt(!a.pathname||!a.pathname.includes("?"),Kg("?","pathname","search",a)),vt(!a.pathname||!a.pathname.includes("#"),Kg("#","pathname","hash",a)),vt(!a.search||!a.search.includes("#"),Kg("#","search","hash",a)));let l=n===""||a.pathname==="",h=l?"/":a.pathname,d;if(h==null)d=t;else{let v=e.length-1;if(!r&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),v-=1;a.pathname=w.join("/")}d=v>=0?e[v]:"/"}let m=e4(a,d),g=h&&h!=="/"&&h.endsWith("/"),x=(l||h===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||x)&&(m.pathname+="/"),m}var zr=n=>n.join("/").replace(/\/\/+/g,"/"),n4=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),s4=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,r4=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function i4(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rE=["POST","PUT","PATCH","DELETE"];new Set(rE);var a4=["GET",...rE];new Set(a4);var Dl=N.createContext(null);Dl.displayName="DataRouter";var lm=N.createContext(null);lm.displayName="DataRouterState";N.createContext(!1);var iE=N.createContext({isTransitioning:!1});iE.displayName="ViewTransition";var o4=N.createContext(new Map);o4.displayName="Fetchers";var l4=N.createContext(null);l4.displayName="Await";var Ps=N.createContext(null);Ps.displayName="Navigation";var Yu=N.createContext(null);Yu.displayName="Location";var Os=N.createContext({outlet:null,matches:[],isDataRoute:!1});Os.displayName="Route";var v0=N.createContext(null);v0.displayName="RouteError";function c4(n,{relative:e}={}){vt(kl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=N.useContext(Ps),{hash:a,pathname:l,search:h}=Qu(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:zr([t,l])),r.createHref({pathname:d,search:h,hash:a})}function kl(){return N.useContext(Yu)!=null}function Vs(){return vt(kl(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Yu).location}var aE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oE(n){N.useContext(Ps).static||N.useLayoutEffect(n)}function Ls(){let{isDataRoute:n}=N.useContext(Os);return n?E4():u4()}function u4(){vt(kl(),"useNavigate() may be used only in the context of a <Router> component.");let n=N.useContext(Dl),{basename:e,navigator:t}=N.useContext(Ps),{matches:r}=N.useContext(Os),{pathname:a}=Vs(),l=JSON.stringify(y0(r)),h=N.useRef(!1);return oE(()=>{h.current=!0}),N.useCallback((m,g={})=>{if(Jn(h.current,aE),!h.current)return;if(typeof m=="number"){t.go(m);return}let x=x0(m,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:zr([e,x.pathname])),(g.replace?t.replace:t.push)(x,g.state,g)},[e,t,l,a,n])}var h4=N.createContext(null);function d4(n){let e=N.useContext(Os).outlet;return N.useMemo(()=>e&&N.createElement(h4.Provider,{value:n},e),[e,n])}function Qu(n,{relative:e}={}){let{matches:t}=N.useContext(Os),{pathname:r}=Vs(),a=JSON.stringify(y0(t));return N.useMemo(()=>x0(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function f4(n,e){return lE(n,e)}function lE(n,e,t,r,a){vt(kl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(Ps),{matches:h}=N.useContext(Os),d=h[h.length-1],m=d?d.params:{},g=d?d.pathname:"/",x=d?d.pathnameBase:"/",v=d&&d.route;{let D=v&&v.path||"";cE(g,!v||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let w=Vs(),E;if(e){let D=typeof e=="string"?ao(e):e;vt(x==="/"||D.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${D.pathname}" was given in the \`location\` prop.`),E=D}else E=w;let j=E.pathname||"/",k=j;if(x!=="/"){let D=x.replace(/^\//,"").split("/");k="/"+j.replace(/^\//,"").split("/").slice(D.length).join("/")}let R=tE(n,{pathname:k});Jn(v||R!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Jn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=x4(R&&R.map(D=>Object.assign({},D,{params:Object.assign({},m,D.params),pathname:zr([x,l.encodeLocation?l.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?x:zr([x,l.encodeLocation?l.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),h,t,r,a);return e&&O?N.createElement(Yu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},O):O}function m4(){let n=T4(),e=i4(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:a},t):null,h)}var p4=N.createElement(m4,null),g4=class extends N.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?N.createElement(Os.Provider,{value:this.props.routeContext},N.createElement(v0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function y4({routeContext:n,match:e,children:t}){let r=N.useContext(Dl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Os.Provider,{value:n},t)}function x4(n,e=[],t=null,r=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,h=t?.errors;if(h!=null){let x=l.findIndex(v=>v.route.id&&h?.[v.route.id]!==void 0);vt(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),l=l.slice(0,Math.min(l.length,x+1))}let d=!1,m=-1;if(t)for(let x=0;x<l.length;x++){let v=l[x];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=x),v.route.id){let{loaderData:w,errors:E}=t,j=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!E||E[v.route.id]===void 0);if(v.route.lazy||j){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=t&&r?(x,v)=>{r(x,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:v})}:void 0;return l.reduceRight((x,v,w)=>{let E,j=!1,k=null,R=null;t&&(E=h&&v.route.id?h[v.route.id]:void 0,k=v.route.errorElement||p4,d&&(m<0&&w===0?(cE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,R=null):m===w&&(j=!0,R=v.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,w+1)),D=()=>{let U;return E?U=k:j?U=R:v.route.Component?U=N.createElement(v.route.Component,null):v.route.element?U=v.route.element:U=x,N.createElement(y4,{match:v,routeContext:{outlet:x,matches:O,isDataRoute:t!=null},children:U})};return t&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?N.createElement(g4,{location:t.location,revalidation:t.revalidation,component:k,error:E,children:D(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:g}):D()},null)}function b0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function v4(n){let e=N.useContext(Dl);return vt(e,b0(n)),e}function b4(n){let e=N.useContext(lm);return vt(e,b0(n)),e}function w4(n){let e=N.useContext(Os);return vt(e,b0(n)),e}function w0(n){let e=w4(n),t=e.matches[e.matches.length-1];return vt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function _4(){return w0("useRouteId")}function T4(){let n=N.useContext(v0),e=b4("useRouteError"),t=w0("useRouteError");return n!==void 0?n:e.errors?.[t]}function E4(){let{router:n}=v4("useNavigate"),e=w0("useNavigate"),t=N.useRef(!1);return oE(()=>{t.current=!0}),N.useCallback(async(a,l={})=>{Jn(t.current,aE),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var Gw={};function cE(n,e,t){!e&&!Gw[n]&&(Gw[n]=!0,Jn(!1,t))}N.memo(N4);function N4({routes:n,future:e,state:t,unstable_onError:r}){return lE(n,void 0,t,r,e)}function $w({to:n,replace:e,state:t,relative:r}){vt(kl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=N.useContext(Ps);Jn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=N.useContext(Os),{pathname:h}=Vs(),d=Ls(),m=x0(n,y0(l),h,r==="path"),g=JSON.stringify(m);return N.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:r})},[d,g,r,e,t]),null}function uE(n){return d4(n.context)}function ft(n){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function S4({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1}){vt(!kl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:h,navigator:a,static:l,future:{}}),[h,a,l]);typeof t=="string"&&(t=ao(t));let{pathname:m="/",search:g="",hash:x="",state:v=null,key:w="default"}=t,E=N.useMemo(()=>{let j=Hr(m,h);return j==null?null:{location:{pathname:j,search:g,hash:x,state:v,key:w},navigationType:r}},[h,m,g,x,v,w,r]);return Jn(E!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:N.createElement(Ps.Provider,{value:d},N.createElement(Yu.Provider,{children:e,value:E}))}function A4({children:n,location:e}){return f4(Ey(n),e)}function Ey(n,e=[]){let t=[];return N.Children.forEach(n,(r,a)=>{if(!N.isValidElement(r))return;let l=[...e,a];if(r.type===N.Fragment){t.push.apply(t,Ey(r.props.children,l));return}vt(r.type===ft,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=Ey(r.props.children,l)),t.push(h)}),t}var hf="get",df="application/x-www-form-urlencoded";function cm(n){return n!=null&&typeof n.tagName=="string"}function j4(n){return cm(n)&&n.tagName.toLowerCase()==="button"}function C4(n){return cm(n)&&n.tagName.toLowerCase()==="form"}function R4(n){return cm(n)&&n.tagName.toLowerCase()==="input"}function I4(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function M4(n,e){return n.button===0&&(!e||e==="_self")&&!I4(n)}var Wd=null;function D4(){if(Wd===null)try{new FormData(document.createElement("form"),0),Wd=!1}catch{Wd=!0}return Wd}var k4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wg(n){return n!=null&&!k4.has(n)?(Jn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${df}"`),null):n}function P4(n,e){let t,r,a,l,h;if(C4(n)){let d=n.getAttribute("action");r=d?Hr(d,e):null,t=n.getAttribute("method")||hf,a=Wg(n.getAttribute("enctype"))||df,l=new FormData(n)}else if(j4(n)||R4(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(r=m?Hr(m,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||hf,a=Wg(n.getAttribute("formenctype"))||Wg(d.getAttribute("enctype"))||df,l=new FormData(d,n),!D4()){let{name:g,type:x,value:v}=n;if(x==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,v)}}else{if(cm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=hf,r=null,a=df,h=n}return l&&a==="text/plain"&&(h=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function O4(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Hr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function V4(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function L4(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function U4(n,e,t){let r=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let h=await V4(l,t);return h.links?h.links():[]}return[]}));return q4(r.flat(1).filter(L4).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Yw(n,e,t,r,a,l){let h=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>t[g].pathname!==m.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>h(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{let x=r.routes[m.route.id];if(!x||!x.hasLoader)return!1;if(h(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function z4(n,e,{includeHydrateFallback:t}={}){return B4(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function B4(n){return[...new Set(n)]}function F4(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function q4(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let l=JSON.stringify(F4(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}function hE(){let n=N.useContext(Dl);return _0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function H4(){let n=N.useContext(lm);return _0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var T0=N.createContext(void 0);T0.displayName="FrameworkContext";function dE(){let n=N.useContext(T0);return _0(n,"You must render this element inside a <HydratedRouter> element"),n}function G4(n,e){let t=N.useContext(T0),[r,a]=N.useState(!1),[l,h]=N.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:x,onTouchStart:v}=e,w=N.useRef(null);N.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let k=O=>{O.forEach(D=>{h(D.isIntersecting)})},R=new IntersectionObserver(k,{threshold:.5});return w.current&&R.observe(w.current),()=>{R.disconnect()}}},[n]),N.useEffect(()=>{if(r){let k=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(k)}}},[r]);let E=()=>{a(!0)},j=()=>{a(!1),h(!1)};return t?n!=="intent"?[l,w,{}]:[l,w,{onFocus:tu(d,E),onBlur:tu(m,j),onMouseEnter:tu(g,E),onMouseLeave:tu(x,j),onTouchStart:tu(v,E)}]:[!1,w,{}]}function tu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function $4({page:n,...e}){let{router:t}=hE(),r=N.useMemo(()=>tE(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?N.createElement(Q4,{page:n,matches:r,...e}):null}function Y4(n){let{manifest:e,routeModules:t}=dE(),[r,a]=N.useState([]);return N.useEffect(()=>{let l=!1;return U4(n,e,t).then(h=>{l||a(h)}),()=>{l=!0}},[n,e,t]),r}function Q4({page:n,matches:e,...t}){let r=Vs(),{manifest:a,routeModules:l}=dE(),{basename:h}=hE(),{loaderData:d,matches:m}=H4(),g=N.useMemo(()=>Yw(n,e,m,a,r,"data"),[n,e,m,a,r]),x=N.useMemo(()=>Yw(n,e,m,a,r,"assets"),[n,e,m,a,r]),v=N.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let j=new Set,k=!1;if(e.forEach(O=>{let D=a.routes[O.route.id];!D||!D.hasLoader||(!g.some(U=>U.route.id===O.route.id)&&O.route.id in d&&l[O.route.id]?.shouldRevalidate||D.hasClientLoader?k=!0:j.add(O.route.id))}),j.size===0)return[];let R=O4(n,h,"data");return k&&j.size>0&&R.searchParams.set("_routes",e.filter(O=>j.has(O.route.id)).map(O=>O.route.id).join(",")),[R.pathname+R.search]},[h,d,r,a,g,e,n,l]),w=N.useMemo(()=>z4(x,a),[x,a]),E=Y4(x);return N.createElement(N.Fragment,null,v.map(j=>N.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...t})),w.map(j=>N.createElement("link",{key:j,rel:"modulepreload",href:j,...t})),E.map(({key:j,link:k})=>N.createElement("link",{key:j,nonce:t.nonce,...k})))}function K4(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var fE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fE&&(window.__reactRouterVersion="7.9.6")}catch{}function W4({basename:n,children:e,window:t}){let r=N.useRef();r.current==null&&(r.current=PR({window:t,v5Compat:!0}));let a=r.current,[l,h]=N.useState({action:a.action,location:a.location}),d=N.useCallback(m=>{N.startTransition(()=>h(m))},[h]);return N.useLayoutEffect(()=>a.listen(d),[a,d]),N.createElement(S4,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var mE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lt=N.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:h,state:d,target:m,to:g,preventScrollReset:x,viewTransition:v,...w},E){let{basename:j}=N.useContext(Ps),k=typeof g=="string"&&mE.test(g),R,O=!1;if(typeof g=="string"&&k&&(R=g,fE))try{let M=new URL(window.location.href),V=g.startsWith("//")?new URL(M.protocol+g):new URL(g),L=Hr(V.pathname,j);V.origin===M.origin&&L!=null?g=L+V.search+V.hash:O=!0}catch{Jn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=c4(g,{relative:a}),[U,H,K]=G4(r,w),ie=Z4(g,{replace:h,state:d,target:m,preventScrollReset:x,relative:a,viewTransition:v});function I(M){e&&e(M),M.defaultPrevented||ie(M)}let A=N.createElement("a",{...w,...K,href:R||D,onClick:O||l?e:I,ref:K4(E,H),target:m,"data-discover":!k&&t==="render"?"true":void 0});return U&&!k?N.createElement(N.Fragment,null,A,N.createElement($4,{page:D})):A});lt.displayName="Link";var ms=N.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:h,viewTransition:d,children:m,...g},x){let v=Qu(h,{relative:g.relative}),w=Vs(),E=N.useContext(lm),{navigator:j,basename:k}=N.useContext(Ps),R=E!=null&&rI(v)&&d===!0,O=j.encodeLocation?j.encodeLocation(v).pathname:v.pathname,D=w.pathname,U=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(D=D.toLowerCase(),U=U?U.toLowerCase():null,O=O.toLowerCase()),U&&k&&(U=Hr(U,k)||U);const H=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let K=D===O||!a&&D.startsWith(O)&&D.charAt(H)==="/",ie=U!=null&&(U===O||!a&&U.startsWith(O)&&U.charAt(O.length)==="/"),I={isActive:K,isPending:ie,isTransitioning:R},A=K?e:void 0,M;typeof r=="function"?M=r(I):M=[r,K?"active":null,ie?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(I):l;return N.createElement(lt,{...g,"aria-current":A,className:M,ref:x,style:V,to:h,viewTransition:d},typeof m=="function"?m(I):m)});ms.displayName="NavLink";var X4=N.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:h=hf,action:d,onSubmit:m,relative:g,preventScrollReset:x,viewTransition:v,...w},E)=>{let j=nI(),k=sI(d,{relative:g}),R=h.toLowerCase()==="get"?"get":"post",O=typeof d=="string"&&mE.test(d),D=U=>{if(m&&m(U),U.defaultPrevented)return;U.preventDefault();let H=U.nativeEvent.submitter,K=H?.getAttribute("formmethod")||h;j(H||U.currentTarget,{fetcherKey:e,method:K,navigate:t,replace:a,state:l,relative:g,preventScrollReset:x,viewTransition:v})};return N.createElement("form",{ref:E,method:R,action:k,onSubmit:r?m:D,...w,"data-discover":!O&&n==="render"?"true":void 0})});X4.displayName="Form";function J4(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pE(n){let e=N.useContext(Dl);return vt(e,J4(n)),e}function Z4(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:h}={}){let d=Ls(),m=Vs(),g=Qu(n,{relative:l});return N.useCallback(x=>{if(M4(x,e)){x.preventDefault();let v=t!==void 0?t:Au(m)===Au(g);d(n,{replace:v,state:r,preventScrollReset:a,relative:l,viewTransition:h})}},[m,d,g,t,r,e,n,a,l,h])}var eI=0,tI=()=>`__${String(++eI)}__`;function nI(){let{router:n}=pE("useSubmit"),{basename:e}=N.useContext(Ps),t=_4();return N.useCallback(async(r,a={})=>{let{action:l,method:h,encType:d,formData:m,body:g}=P4(r,e);if(a.navigate===!1){let x=a.fetcherKey||tI();await n.fetch(x,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||h,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||h,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function sI(n,{relative:e}={}){let{basename:t}=N.useContext(Ps),r=N.useContext(Os);vt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Qu(n||".",{relative:e})},h=Vs();if(n==null){l.search=h.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(x=>x==="")){d.delete("index"),m.filter(v=>v).forEach(v=>d.append("index",v));let x=d.toString();l.search=x?`?${x}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:zr([t,l.pathname])),Au(l)}function rI(n,{relative:e}={}){let t=N.useContext(iE);vt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=pE("useViewTransitionState"),a=Qu(n,{relative:e});if(!t.isTransitioning)return!1;let l=Hr(t.currentLocation.pathname,r)||t.currentLocation.pathname,h=Hr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Af(a.pathname,h)!=null||Af(a.pathname,l)!=null}const iI=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aI=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),Qw=n=>{const e=aI(n);return e.charAt(0).toUpperCase()+e.slice(1)},gE=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),oI=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var lI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cI=N.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:h,...d},m)=>N.createElement("svg",{ref:m,...lI,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:gE("lucide",a),...!l&&!oI(d)&&{"aria-hidden":"true"},...d},[...h.map(([g,x])=>N.createElement(g,x)),...Array.isArray(l)?l:[l]]));const he=(n,e)=>{const t=N.forwardRef(({className:r,...a},l)=>N.createElement(cI,{ref:l,iconNode:e,className:gE(`lucide-${iI(Qw(n))}`,`lucide-${n}`,r),...a}));return t.displayName=Qw(n),t};const uI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],bl=he("arrow-right",uI);const hI=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],dI=he("arrow-up-down",hI);const fI=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],mI=he("award",fI);const pI=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],gI=he("banknote",pI);const yI=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],um=he("bell",yI);const xI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],yE=he("calendar",xI);const vI=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],bI=he("camera",vI);const wI=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],xE=he("chart-column",wI);const _I=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],TI=he("chart-no-axes-column-increasing",_I);const EI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ki=he("check",EI);const NI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ku=he("chevron-down",NI);const SI=[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]],AI=he("chevrons-down",SI);const jI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],oo=he("circle-alert",jI);const CI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vE=he("circle-check-big",CI);const RI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],II=he("circle-dollar-sign",RI);const MI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],DI=he("circle-question-mark",MI);const kI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],PI=he("circle-x",kI);const OI=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]],VI=he("clipboard-copy",OI);const LI=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],UI=he("clipboard-list",LI);const zI=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hm=he("clock",zI);const BI=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],FI=he("cloud-upload",BI);const qI=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Ms=he("coffee",qI);const HI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],GI=he("crown",HI);const $I=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],YI=he("dollar-sign",$I);const QI=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ny=he("eye-off",QI);const KI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Sy=he("eye",KI);const WI=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],bE=he("facebook",WI);const XI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],JI=he("file-image",XI);const ZI=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],ju=he("gift",ZI);const e6=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],t6=he("hash",e6);const n6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],s6=he("history",n6);const r6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],i6=he("info",r6);const a6=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],wE=he("instagram",a6);const o6=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],l6=he("key",o6);const c6=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],u6=he("layout-dashboard",c6);const h6=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],d6=he("lightbulb",h6);const f6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],rn=he("loader-circle",f6);const m6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],jf=he("lock",m6);const p6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Kw=he("log-out",p6);const g6=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Gr=he("mail",g6);const y6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],E0=he("map-pin",y6);const x6=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],v6=he("medal",x6);const b6=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],_E=he("menu",b6);const w6=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],_6=he("message-circle",w6);const T6=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Pl=he("message-square",T6);const E6=[["path",{d:"M5 12h14",key:"1ays0h"}]],TE=he("minus",E6);const N6=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],S6=he("package",N6);const A6=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],j6=he("palette",A6);const C6=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],$r=he("phone",C6);const R6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Wu=he("plus",R6);const I6=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],M6=he("quote",I6);const D6=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],EE=he("refresh-cw",D6);const k6=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],N0=he("save",k6);const P6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Cf=he("search",P6);const O6=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],S0=he("send",O6);const V6=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],A0=he("settings",V6);const L6=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],U6=he("share-2",L6);const z6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Cu=he("shield",z6);const B6=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],j0=he("shopping-bag",B6);const F6=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],C0=he("shopping-cart",F6);const q6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],NE=he("square-pen",q6);const H6=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],SE=he("star",H6);const G6=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],dm=he("trash-2",G6);const $6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],AE=he("triangle-alert",$6);const Y6=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],jE=he("twitter",Y6);const Q6=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ww=he("upload",Q6);const K6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Yr=he("user",K6);const W6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Rf=he("users",W6);const X6=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],CE=he("wallet",X6);const J6=[["path",{d:"M12 10v2.2l1.6 1",key:"n3r21l"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}]],Z6=he("watch",J6);const eM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ei=he("x",eM);const tM=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],nM=he("zap",tM),He=({children:n,className:e="",hover:t=!1})=>{const r=t?"hover:shadow-xl transition-all duration-300":"";return c.jsx("div",{className:`rounded-lg border border-gray-100 bg-white p-6 shadow-sm ${r} ${e}`,children:n})},nn=({children:n,className:e=""})=>{const t="inline-flex items-center rounded-full px-3 py-1 text-sm font-medium",r=e.includes("bg-")?"":"bg-primary-100 text-primary-800";return c.jsx("span",{className:`${t} ${r} ${e}`,children:n})},sM=()=>{};var Xw={};const RE=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},rM=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],h=n[t++],d=n[t++],m=((a&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],h=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|h&63)}}return e.join("")},IE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const l=n[a],h=a+1<n.length,d=h?n[a+1]:0,m=a+2<n.length,g=m?n[a+2]:0,x=l>>2,v=(l&3)<<4|d>>4;let w=(d&15)<<2|g>>6,E=g&63;m||(E=64,h||(w=64)),r.push(t[x],t[v],t[w],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(RE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):rM(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const v=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||g==null||v==null)throw new iM;const w=l<<2|d>>4;if(r.push(w),g!==64){const E=d<<4&240|g>>2;if(r.push(E),v!==64){const j=g<<6&192|v;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class iM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aM=function(n){const e=RE(n);return IE.encodeByteArray(e,!0)},If=function(n){return aM(n).replace(/\./g,"")},ME=function(n){try{return IE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function oM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lM=()=>oM().__FIREBASE_DEFAULTS__,cM=()=>{if(typeof process>"u"||typeof Xw>"u")return;const n=Xw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},uM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ME(n[1]);return e&&JSON.parse(e)},fm=()=>{try{return sM()||lM()||cM()||uM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},DE=n=>fm()?.emulatorHosts?.[n],hM=n=>{const e=DE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},kE=()=>fm()?.config,PE=n=>fm()?.[`_${n}`];class dM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Ol(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function OE(n){return(await fetch(n,{credentials:"include"})).ok}function fM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[If(JSON.stringify(t)),If(JSON.stringify(h)),""].join(".")}const gu={};function mM(){const n={prod:[],emulator:[]};for(const e of Object.keys(gu))gu[e]?n.emulator.push(e):n.prod.push(e);return n}function pM(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Jw=!1;function VE(n,e){if(typeof window>"u"||typeof document>"u"||!Ol(window.location.host)||gu[n]===e||gu[n]||Jw)return;gu[n]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",l=mM().prod.length>0;function h(){const w=document.getElementById(r);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,E){w.setAttribute("width","24"),w.setAttribute("id",E),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Jw=!0,h()},w}function x(w,E){w.setAttribute("id",E),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=pM(r),E=t("text"),j=document.getElementById(E)||document.createElement("span"),k=t("learnmore"),R=document.getElementById(k)||document.createElement("a"),O=t("preprendIcon"),D=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const U=w.element;d(U),x(R,k);const H=g();m(D,O),U.append(D,j,R,H),document.body.appendChild(U)}l?(j.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function yM(){const n=fm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function bM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wM(){const n=Tn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _M(){return!yM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TM(){try{return typeof indexedDB=="object"}catch{return!1}}function EM(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const NM="FirebaseError";class ti extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=NM,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xu.prototype.create)}}class Xu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],h=l?SM(l,r):"Error",d=`${this.serviceName}: ${h} (${a}).`;return new ti(a,d,r)}}function SM(n,e){return n.replace(AM,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const AM=/\{\$([^}]+)}/g;function jM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Wi(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=n[a],h=e[a];if(Zw(l)&&Zw(h)){if(!Wi(l,h))return!1}else if(l!==h)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function Zw(n){return n!==null&&typeof n=="object"}function Ju(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ou(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function lu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function CM(n,e){const t=new RM(n,e);return t.subscribe.bind(t)}class RM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");IM(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Xg),a.error===void 0&&(a.error=Xg),a.complete===void 0&&(a.complete=Xg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IM(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Xg(){}function St(n){return n&&n._delegate?n._delegate:n}class to{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $a="[DEFAULT]";class MM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new dM;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kM(e))try{this.getOrInitializeService({instanceIdentifier:$a})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=$a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$a){return this.instances.has(e)}getOptions(e=$a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&h.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DM(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$a){return this.component?this.component.multipleInstances?e:$a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DM(n){return n===$a?void 0:n}function kM(n){return n.instantiationMode==="EAGER"}class PM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new MM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const OM={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},VM=Le.INFO,LM={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},UM=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=LM[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class R0{constructor(e){this.name=e,this._logLevel=VM,this._logHandler=UM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const zM=(n,e)=>e.some(t=>n instanceof t);let e_,t_;function BM(){return e_||(e_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FM(){return t_||(t_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LE=new WeakMap,Ay=new WeakMap,UE=new WeakMap,Jg=new WeakMap,I0=new WeakMap;function qM(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",h)},l=()=>{t(qi(n.result)),a()},h=()=>{r(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&LE.set(t,n)}).catch(()=>{}),I0.set(e,n),e}function HM(n){if(Ay.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",h),n.removeEventListener("abort",h)},l=()=>{t(),a()},h=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",h),n.addEventListener("abort",h)});Ay.set(n,e)}let jy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ay.get(n);if(e==="objectStoreNames")return n.objectStoreNames||UE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function GM(n){jy=n(jy)}function $M(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Zg(this),e,...t);return UE.set(r,e.sort?e.sort():[e]),qi(r)}:FM().includes(n)?function(...e){return n.apply(Zg(this),e),qi(LE.get(this))}:function(...e){return qi(n.apply(Zg(this),e))}}function YM(n){return typeof n=="function"?$M(n):(n instanceof IDBTransaction&&HM(n),zM(n,BM())?new Proxy(n,jy):n)}function qi(n){if(n instanceof IDBRequest)return qM(n);if(Jg.has(n))return Jg.get(n);const e=YM(n);return e!==n&&(Jg.set(n,e),I0.set(e,n)),e}const Zg=n=>I0.get(n);function QM(n,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const h=indexedDB.open(n,e),d=qi(h);return r&&h.addEventListener("upgradeneeded",m=>{r(qi(h.result),m.oldVersion,m.newVersion,qi(h.transaction),m)}),t&&h.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const KM=["get","getKey","getAll","getAllKeys","count"],WM=["put","add","delete","clear"],ey=new Map;function n_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ey.get(e))return ey.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=WM.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||KM.includes(t)))return;const l=async function(h,...d){const m=this.transaction(h,a?"readwrite":"readonly");let g=m.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&m.done]))[0]};return ey.set(e,l),l}GM(n=>({...n,get:(e,t,r)=>n_(e,t)||n.get(e,t,r),has:(e,t)=>!!n_(e,t)||n.has(e,t)}));class XM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(JM(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function JM(n){return n.getComponent()?.type==="VERSION"}const Cy="@firebase/app",s_="0.14.6";const Qr=new R0("@firebase/app"),ZM="@firebase/app-compat",eD="@firebase/analytics-compat",tD="@firebase/analytics",nD="@firebase/app-check-compat",sD="@firebase/app-check",rD="@firebase/auth",iD="@firebase/auth-compat",aD="@firebase/database",oD="@firebase/data-connect",lD="@firebase/database-compat",cD="@firebase/functions",uD="@firebase/functions-compat",hD="@firebase/installations",dD="@firebase/installations-compat",fD="@firebase/messaging",mD="@firebase/messaging-compat",pD="@firebase/performance",gD="@firebase/performance-compat",yD="@firebase/remote-config",xD="@firebase/remote-config-compat",vD="@firebase/storage",bD="@firebase/storage-compat",wD="@firebase/firestore",_D="@firebase/ai",TD="@firebase/firestore-compat",ED="firebase",ND="12.6.0";const Ry="[DEFAULT]",SD={[Cy]:"fire-core",[ZM]:"fire-core-compat",[tD]:"fire-analytics",[eD]:"fire-analytics-compat",[sD]:"fire-app-check",[nD]:"fire-app-check-compat",[rD]:"fire-auth",[iD]:"fire-auth-compat",[aD]:"fire-rtdb",[oD]:"fire-data-connect",[lD]:"fire-rtdb-compat",[cD]:"fire-fn",[uD]:"fire-fn-compat",[hD]:"fire-iid",[dD]:"fire-iid-compat",[fD]:"fire-fcm",[mD]:"fire-fcm-compat",[pD]:"fire-perf",[gD]:"fire-perf-compat",[yD]:"fire-rc",[xD]:"fire-rc-compat",[vD]:"fire-gcs",[bD]:"fire-gcs-compat",[wD]:"fire-fst",[TD]:"fire-fst-compat",[_D]:"fire-vertex","fire-js":"fire-js",[ED]:"fire-js-all"};const Mf=new Map,AD=new Map,Iy=new Map;function r_(n,e){try{n.container.addComponent(e)}catch(t){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function wl(n){const e=n.name;if(Iy.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;Iy.set(e,n);for(const t of Mf.values())r_(t,n);for(const t of AD.values())r_(t,n);return!0}function M0(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function gs(n){return n==null?!1:n.settings!==void 0}const jD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hi=new Xu("app","Firebase",jD);class CD{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new to("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}const Vl=ND;function zE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Ry,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Hi.create("bad-app-name",{appName:String(a)});if(t||(t=kE()),!t)throw Hi.create("no-options");const l=Mf.get(a);if(l){if(Wi(t,l.options)&&Wi(r,l.config))return l;throw Hi.create("duplicate-app",{appName:a})}const h=new PM(a);for(const m of Iy.values())h.addComponent(m);const d=new CD(t,r,h);return Mf.set(a,d),d}function BE(n=Ry){const e=Mf.get(n);if(!e&&n===Ry&&kE())return zE();if(!e)throw Hi.create("no-app",{appName:n});return e}function Gi(n,e,t){let r=SD[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const h=[`Unable to register library "${r}" with version "${e}":`];a&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(h.join(" "));return}wl(new to(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const RD="firebase-heartbeat-database",ID=1,Ru="firebase-heartbeat-store";let ty=null;function FE(){return ty||(ty=QM(RD,ID,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ru)}catch(t){console.warn(t)}}}}).catch(n=>{throw Hi.create("idb-open",{originalErrorMessage:n.message})})),ty}async function MD(n){try{const t=(await FE()).transaction(Ru),r=await t.objectStore(Ru).get(qE(n));return await t.done,r}catch(e){if(e instanceof ti)Qr.warn(e.message);else{const t=Hi.create("idb-get",{originalErrorMessage:e?.message});Qr.warn(t.message)}}}async function i_(n,e){try{const r=(await FE()).transaction(Ru,"readwrite");await r.objectStore(Ru).put(e,qE(n)),await r.done}catch(t){if(t instanceof ti)Qr.warn(t.message);else{const r=Hi.create("idb-set",{originalErrorMessage:t?.message});Qr.warn(r.message)}}}function qE(n){return`${n.name}!${n.options.appId}`}const DD=1024,kD=30;class PD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new VD(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=a_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>kD){const a=LD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=a_(),{heartbeatsToSend:t,unsentEntries:r}=OD(this._heartbeatsCache.heartbeats),a=If(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Qr.warn(e),""}}}function a_(){return new Date().toISOString().substring(0,10)}function OD(n,e=DD){const t=[];let r=n.slice();for(const a of n){const l=t.find(h=>h.agent===a.agent);if(l){if(l.dates.push(a.date),o_(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),o_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class VD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TM()?EM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await MD(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return i_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return i_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function o_(n){return If(JSON.stringify({version:2,heartbeats:n})).length}function LD(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function UD(n){wl(new to("platform-logger",e=>new XM(e),"PRIVATE")),wl(new to("heartbeat",e=>new PD(e),"PRIVATE")),Gi(Cy,s_,n),Gi(Cy,s_,"esm2020"),Gi("fire-js","")}UD("");function HE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zD=HE,GE=new Xu("auth","Firebase",HE());const Df=new R0("@firebase/auth");function BD(n,...e){Df.logLevel<=Le.WARN&&Df.warn(`Auth (${Vl}): ${n}`,...e)}function ff(n,...e){Df.logLevel<=Le.ERROR&&Df.error(`Auth (${Vl}): ${n}`,...e)}function Ds(n,...e){throw D0(n,...e)}function lr(n,...e){return D0(n,...e)}function $E(n,e,t){const r={...zD(),[e]:t};return new Xu("auth","Firebase",r).create(e,{appName:n.name})}function Br(n){return $E(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function D0(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return GE.create(n,...e)}function Ee(n,e,...t){if(!n)throw D0(e,...t)}function Lr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ff(e),new Error(e)}function Kr(n,e){n||Lr(e)}function My(){return typeof self<"u"&&self.location?.href||""}function FD(){return l_()==="http:"||l_()==="https:"}function l_(){return typeof self<"u"&&self.location?.protocol||null}function qD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FD()||vM()||"connection"in navigator)?navigator.onLine:!0}function HD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Zu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Kr(t>e,"Short delay should be less than long delay!"),this.isMobile=gM()||bM()}get(){return qD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function k0(n,e){Kr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class YE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const GD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const $D=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YD=new Zu(3e4,6e4);function la(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ca(n,e,t,r,a={}){return QE(n,a,async()=>{let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});const d=Ju({key:n.config.apiKey,...h}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:m,...l};return xM()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Ol(n.emulatorConfig.host)&&(g.credentials="include"),YE.fetch()(await KE(n,n.config.apiHost,t,d),g)})}async function QE(n,e,t){n._canInitEmulator=!1;const r={...GD,...e};try{const a=new KD(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Xd(n,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const d=l.ok?h.errorMessage:h.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xd(n,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw Xd(n,"email-already-in-use",h);if(m==="USER_DISABLED")throw Xd(n,"user-disabled",h);const x=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw $E(n,x,g);Ds(n,x)}}catch(a){if(a instanceof ti)throw a;Ds(n,"network-request-failed",{message:String(a)})}}async function eh(n,e,t,r,a={}){const l=await ca(n,e,t,r,a);return"mfaPendingCredential"in l&&Ds(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function KE(n,e,t,r){const a=`${e}${t}?${r}`,l=n,h=l.config.emulator?k0(n.config,a):`${n.config.apiScheme}://${a}`;return $D.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}function QD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(lr(this.auth,"network-request-failed")),YD.get())})}}function Xd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=lr(n,e,r);return a.customData._tokenResponse=t,a}function c_(n){return n!==void 0&&n.enterprise!==void 0}class WD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return QD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XD(n,e){return ca(n,"GET","/v2/recaptchaConfig",la(n,e))}async function JD(n,e){return ca(n,"POST","/v1/accounts:delete",e)}async function kf(n,e){return ca(n,"POST","/v1/accounts:lookup",e)}function yu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZD(n,e=!1){const t=St(n),r=await t.getIdToken(e),a=P0(r);Ee(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,h=l?.sign_in_provider;return{claims:a,token:r,authTime:yu(ny(a.auth_time)),issuedAtTime:yu(ny(a.iat)),expirationTime:yu(ny(a.exp)),signInProvider:h||null,signInSecondFactor:l?.sign_in_second_factor||null}}function ny(n){return Number(n)*1e3}function P0(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ff("JWT malformed, contained fewer than 3 sections"),null;try{const a=ME(t);return a?JSON.parse(a):(ff("Failed to decode base64 JWT payload"),null)}catch(a){return ff("Caught error parsing JWT payload as JSON",a?.toString()),null}}function u_(n){const e=P0(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Iu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ti&&e5(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function e5({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class t5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Dy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=yu(this.lastLoginAt),this.creationTime=yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Pf(n){const e=n.auth,t=await n.getIdToken(),r=await Iu(n,kf(e,{idToken:t}));Ee(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?WE(a.providerUserInfo):[],h=s5(n.providerData,l),d=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!h?.length,g=d?m:!1,x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Dy(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,x)}async function n5(n){const e=St(n);await Pf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function s5(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function WE(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function r5(n,e){const t=await QE(n,{},async()=>{const r=Ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,h=await KE(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:r};return n.emulatorConfig&&Ol(n.emulatorConfig.host)&&(m.credentials="include"),YE.fetch()(h,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function i5(n,e){return ca(n,"POST","/v2/accounts:revokeToken",la(n,e))}class gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=u_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:l}=await r5(e,t);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,h=new gl;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),h.refreshToken=r),a&&(Ee(typeof a=="string","internal-error",{appName:e}),h.accessToken=a),l&&(Ee(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gl,this.toJSON())}_performRefresh(){return Lr("not implemented")}}function Pi(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Is{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new t5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Dy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Iu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ZD(this,e)}reload(){return n5(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Is({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Pf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gs(this.auth.app))return Promise.reject(Br(this.auth));const e=await this.getIdToken();return await Iu(this,JD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,h=t.photoURL??void 0,d=t.tenantId??void 0,m=t._redirectEventId??void 0,g=t.createdAt??void 0,x=t.lastLoginAt??void 0,{uid:v,emailVerified:w,isAnonymous:E,providerData:j,stsTokenManager:k}=t;Ee(v&&k,e,"internal-error");const R=gl.fromJSON(this.name,k);Ee(typeof v=="string",e,"internal-error"),Pi(r,e.name),Pi(a,e.name),Ee(typeof w=="boolean",e,"internal-error"),Ee(typeof E=="boolean",e,"internal-error"),Pi(l,e.name),Pi(h,e.name),Pi(d,e.name),Pi(m,e.name),Pi(g,e.name),Pi(x,e.name);const O=new Is({uid:v,auth:e,email:a,emailVerified:w,displayName:r,isAnonymous:E,photoURL:h,phoneNumber:l,tenantId:d,stsTokenManager:R,createdAt:g,lastLoginAt:x});return j&&Array.isArray(j)&&(O.providerData=j.map(D=>({...D}))),m&&(O._redirectEventId=m),O}static async _fromIdTokenResponse(e,t,r=!1){const a=new gl;a.updateFromServerResponse(t);const l=new Is({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Pf(l),l}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Ee(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?WE(a.providerUserInfo):[],h=!(a.email&&a.passwordHash)&&!l?.length,d=new gl;d.updateFromIdToken(r);const m=new Is({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Dy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const h_=new Map;function Ur(n){Kr(n instanceof Function,"Expected a class definition");let e=h_.get(n);return e?(Kr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,h_.set(n,e),e)}class XE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}XE.type="NONE";const d_=XE;function mf(n,e,t){return`firebase:${n}:${e}:${t}`}class yl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=mf(this.userKey,a.apiKey,l),this.fullPersistenceKey=mf("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await kf(this.auth,{idToken:e}).catch(()=>{});return t?Is._fromGetAccountInfoResponse(this.auth,t,e):null}return Is._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new yl(Ur(d_),e,r);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Ur(d_);const h=mf(r,e.config.apiKey,e.name);let d=null;for(const g of t)try{const x=await g._get(h);if(x){let v;if(typeof x=="string"){const w=await kf(e,{idToken:x}).catch(()=>{});if(!w)break;v=await Is._fromGetAccountInfoResponse(e,w,x)}else v=Is._fromJSON(e,x);g!==l&&(d=v),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new yl(l,e,r):(l=m[0],d&&await l._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(h)}catch{}})),new yl(l,e,r))}}function f_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sN(e))return"Blackberry";if(rN(e))return"Webos";if(ZE(e))return"Safari";if((e.includes("chrome/")||eN(e))&&!e.includes("edge/"))return"Chrome";if(nN(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function JE(n=Tn()){return/firefox\//i.test(n)}function ZE(n=Tn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eN(n=Tn()){return/crios\//i.test(n)}function tN(n=Tn()){return/iemobile/i.test(n)}function nN(n=Tn()){return/android/i.test(n)}function sN(n=Tn()){return/blackberry/i.test(n)}function rN(n=Tn()){return/webos/i.test(n)}function O0(n=Tn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function a5(n=Tn()){return O0(n)&&!!window.navigator?.standalone}function o5(){return wM()&&document.documentMode===10}function iN(n=Tn()){return O0(n)||nN(n)||rN(n)||sN(n)||/windows phone/i.test(n)||tN(n)}function aN(n,e=[]){let t;switch(n){case"Browser":t=f_(Tn());break;case"Worker":t=`${f_(Tn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Vl}/${r}`}class l5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((h,d)=>{try{const m=e(l);h(m)}catch(m){d(m)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function c5(n,e={}){return ca(n,"GET","/v2/passwordPolicy",la(n,e))}const u5=6;class h5{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??u5,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class d5{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m_(this),this.idTokenSubscription=new m_(this),this.beforeStateQueue=new l5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ur(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await yl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await kf(this,{idToken:e}),r=await Is._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(gs(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,h=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===h)&&d?.user&&(r=d.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Pf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gs(this.app))return Promise.reject(Br(this));const t=e?St(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gs(this.app)?Promise.reject(Br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gs(this.app)?Promise.reject(Br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c5(this),t=new h5(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await i5(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ur(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await yl.create(this,[Ur(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,r,a);return()=>{h=!0,m()}}else{const m=e.addObserver(t);return()=>{h=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(gs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&BD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function lo(n){return St(n)}class m_{constructor(e){this.auth=e,this.observer=null,this.addObserver=CM(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f5(n){mm=n}function oN(n){return mm.loadJS(n)}function m5(){return mm.recaptchaEnterpriseScript}function p5(){return mm.gapiScript}function g5(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class y5{constructor(){this.enterprise=new x5}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class x5{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const v5="recaptcha-enterprise",lN="NO_RECAPTCHA";class b5{constructor(e){this.type=v5,this.auth=lo(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,d)=>{XD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new WD(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,h(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,h,d){const m=window.grecaptcha;c_(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{h(g)}).catch(()=>{h(lN)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new y5().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{r(this.auth).then(d=>{if(!t&&c_(window.grecaptcha))a(d,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let m=m5();m.length!==0&&(m+=d),oN(m).then(()=>{a(d,l,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function p_(n,e,t,r=!1,a=!1){const l=new b5(n);let h;if(a)h=lN;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ky(n,e,t,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await p_(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await p_(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(l)})}function w5(n,e){const t=M0(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Wi(l,e??{}))return a;Ds(a,"already-initialized")}return t.initialize({options:e})}function _5(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ur);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function T5(n,e,t){const r=lo(n);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=cN(e),{host:h,port:d}=E5(e),m=d===null?"":`:${d}`,g={url:`${l}//${h}${m}/`},x=Object.freeze({host:h,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(Wi(g,r.config.emulator)&&Wi(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,Ol(h)?(OE(`${l}//${h}${m}`),VE("Auth",!0)):N5()}function cN(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function E5(n){const e=cN(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:g_(r.substr(l.length+1))}}else{const[l,h]=r.split(":");return{host:l,port:g_(h)}}}function g_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function N5(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class V0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Lr("not implemented")}_getIdTokenResponse(e){return Lr("not implemented")}_linkToIdToken(e,t){return Lr("not implemented")}_getReauthenticationResolver(e){return Lr("not implemented")}}async function S5(n,e){return ca(n,"POST","/v1/accounts:signUp",e)}async function A5(n,e){return eh(n,"POST","/v1/accounts:signInWithPassword",la(n,e))}async function j5(n,e){return eh(n,"POST","/v1/accounts:signInWithEmailLink",la(n,e))}async function C5(n,e){return eh(n,"POST","/v1/accounts:signInWithEmailLink",la(n,e))}class Mu extends V0{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Mu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Mu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ky(e,t,"signInWithPassword",A5);case"emailLink":return j5(e,{email:this._email,oobCode:this._password});default:Ds(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ky(e,r,"signUpPassword",S5);case"emailLink":return C5(e,{idToken:t,email:this._email,oobCode:this._password});default:Ds(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function xl(n,e){return eh(n,"POST","/v1/accounts:signInWithIdp",la(n,e))}const R5="http://localhost";class no extends V0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new no(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ds("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=t;if(!r||!a)return null;const h=new no(r,a);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return xl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,xl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xl(e,t)}buildRequest(){const e={requestUri:R5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ju(t)}return e}}function I5(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function M5(n){const e=ou(lu(n)).link,t=e?ou(lu(e)).deep_link_id:null,r=ou(lu(n)).deep_link_id;return(r?ou(lu(r)).link:null)||r||t||e||n}class L0{constructor(e){const t=ou(lu(e)),r=t.apiKey??null,a=t.oobCode??null,l=I5(t.mode??null);Ee(r&&a&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=M5(e);try{return new L0(t)}catch{return null}}}class Ll{constructor(){this.providerId=Ll.PROVIDER_ID}static credential(e,t){return Mu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=L0.parseLink(t);return Ee(r,"argument-error"),Mu._fromEmailAndCode(e,r.code,r.tenantId)}}Ll.PROVIDER_ID="password";Ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class uN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class th extends uN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Li extends th{constructor(){super("facebook.com")}static credential(e){return no._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com";Li.PROVIDER_ID="facebook.com";class Ui extends th{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return no._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ui.credential(t,r)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";class zi extends th{constructor(){super("github.com")}static credential(e){return no._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";class Bi extends th{constructor(){super("twitter.com")}static credential(e,t){return no._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Bi.credential(t,r)}catch{return null}}}Bi.TWITTER_SIGN_IN_METHOD="twitter.com";Bi.PROVIDER_ID="twitter.com";async function D5(n,e){return eh(n,"POST","/v1/accounts:signUp",la(n,e))}class so{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const l=await Is._fromIdTokenResponse(e,r,a),h=y_(r);return new so({user:l,providerId:h,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=y_(r);return new so({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function y_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Of extends ti{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Of.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Of(e,t,r,a)}}function hN(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Of._fromErrorAndOperation(n,l,e,r):l})}async function k5(n,e,t=!1){const r=await Iu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return so._forOperation(n,"link",r)}async function P5(n,e,t=!1){const{auth:r}=n;if(gs(r.app))return Promise.reject(Br(r));const a="reauthenticate";try{const l=await Iu(n,hN(r,a,e,n),t);Ee(l.idToken,r,"internal-error");const h=P0(l.idToken);Ee(h,r,"internal-error");const{sub:d}=h;return Ee(n.uid===d,r,"user-mismatch"),so._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ds(r,"user-mismatch"),l}}async function dN(n,e,t=!1){if(gs(n.app))return Promise.reject(Br(n));const r="signIn",a=await hN(n,r,e),l=await so._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(l.user),l}async function O5(n,e){return dN(lo(n),e)}async function fN(n){const e=lo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function V5(n,e,t){if(gs(n.app))return Promise.reject(Br(n));const r=lo(n),h=await ky(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",D5).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&fN(n),m}),d=await so._fromIdTokenResponse(r,"signIn",h);return await r._updateCurrentUser(d.user),d}function L5(n,e,t){return gs(n.app)?Promise.reject(Br(n)):O5(St(n),Ll.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fN(n),r})}function U5(n,e){return St(n).setPersistence(e)}function z5(n,e,t,r){return St(n).onIdTokenChanged(e,t,r)}function B5(n,e,t){return St(n).beforeAuthStateChanged(e,t)}function F5(n,e,t,r){return St(n).onAuthStateChanged(e,t,r)}function q5(n){return St(n).signOut()}const Vf="__sak";class mN{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Vf,"1"),this.storage.removeItem(Vf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const H5=1e3,G5=10;class pN extends mN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,m)=>{this.notifyListeners(h,m)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const h=this.storage.getItem(r);!t&&this.localCache[r]===h||this.notifyListeners(r,h)},l=this.storage.getItem(r);o5()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,G5):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},H5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}pN.type="LOCAL";const gN=pN;class yN extends mN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}yN.type="SESSION";const U0=yN;function $5(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class pm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new pm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:l}=t.data,h=this.handlersMap[a];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(h).map(async g=>g(t.origin,l)),m=await $5(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pm.receivers=[];function z0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class Y5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,h;return new Promise((d,m)=>{const g=z0("",20);a.port1.start();const x=setTimeout(()=>{m(new Error("unsupported_event"))},r);h={messageChannel:a,onMessage(v){const w=v;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(x),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(x),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(h),a.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function cr(){return window}function Q5(n){cr().location.href=n}function xN(){return typeof cr().WorkerGlobalScope<"u"&&typeof cr().importScripts=="function"}async function K5(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function W5(){return navigator?.serviceWorker?.controller||null}function X5(){return xN()?self:null}const vN="firebaseLocalStorageDb",J5=1,Lf="firebaseLocalStorage",bN="fbase_key";class nh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function gm(n,e){return n.transaction([Lf],e?"readwrite":"readonly").objectStore(Lf)}function Z5(){const n=indexedDB.deleteDatabase(vN);return new nh(n).toPromise()}function Py(){const n=indexedDB.open(vN,J5);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Lf,{keyPath:bN})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Lf)?e(r):(r.close(),await Z5(),e(await Py()))})})}async function x_(n,e,t){const r=gm(n,!0).put({[bN]:e,value:t});return new nh(r).toPromise()}async function e3(n,e){const t=gm(n,!1).get(e),r=await new nh(t).toPromise();return r===void 0?null:r.value}function v_(n,e){const t=gm(n,!0).delete(e);return new nh(t).toPromise()}const t3=800,n3=3;class wN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Py(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>n3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pm._getInstance(X5()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await K5(),!this.activeServiceWorker)return;this.sender=new Y5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||W5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Py();return await x_(e,Vf,"1"),await v_(e,Vf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>x_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>e3(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>v_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=gm(a,!1).getAll();return new nh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),t3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wN.type="LOCAL";const s3=wN;new Zu(3e4,6e4);function r3(n,e){return e?Ur(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class B0 extends V0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function i3(n){return dN(n.auth,new B0(n),n.bypassAuthState)}function a3(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),P5(t,new B0(n),n.bypassAuthState)}async function o3(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),k5(t,new B0(n),n.bypassAuthState)}class _N{constructor(e,t,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:l,error:h,type:d}=e;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i3;case"linkViaPopup":case"linkViaRedirect":return o3;case"reauthViaPopup":case"reauthViaRedirect":return a3;default:Ds(this.auth,"internal-error")}}resolve(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const l3=new Zu(2e3,1e4);class cl extends _N{constructor(e,t,r,a,l){super(e,t,a,l),this.provider=r,this.authWindow=null,this.pollId=null,cl.currentPopupAction&&cl.currentPopupAction.cancel(),cl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Kr(this.filter.length===1,"Popup operations only handle one event");const e=z0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,l3.get())};e()}}cl.currentPopupAction=null;const c3="pendingRedirect",pf=new Map;class u3 extends _N{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=pf.get(this.auth._key());if(!e){try{const r=await h3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}pf.set(this.auth._key(),e)}return this.bypassAuthState||pf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function h3(n,e){const t=m3(e),r=f3(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function d3(n,e){pf.set(n._key(),e)}function f3(n){return Ur(n._redirectPersistence)}function m3(n){return mf(c3,n.config.apiKey,n.name)}async function p3(n,e,t=!1){if(gs(n.app))return Promise.reject(Br(n));const r=lo(n),a=r3(r,e),h=await new u3(r,a,t).execute();return h&&!t&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,e)),h}const g3=600*1e3;class y3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!x3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!TN(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(lr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=g3&&this.cachedEventUids.clear(),this.cachedEventUids.has(b_(e))}saveEventToCache(e){this.cachedEventUids.add(b_(e)),this.lastProcessedEventTime=Date.now()}}function b_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function TN({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function x3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TN(n);default:return!1}}async function v3(n,e={}){return ca(n,"GET","/v1/projects",e)}const b3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,w3=/^https?/;async function _3(n){if(n.config.emulator)return;const{authorizedDomains:e}=await v3(n);for(const t of e)try{if(T3(t))return}catch{}Ds(n,"unauthorized-domain")}function T3(n){const e=My(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===r}if(!w3.test(t))return!1;if(b3.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const E3=new Zu(3e4,6e4);function w_(){const n=cr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function N3(n){return new Promise((e,t)=>{function r(){w_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w_(),t(lr(n,"network-request-failed"))},timeout:E3.get()})}if(cr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(cr().gapi?.load)r();else{const a=g5("iframefcb");return cr()[a]=()=>{gapi.load?r():t(lr(n,"network-request-failed"))},oN(`${p5()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw gf=null,e})}let gf=null;function S3(n){return gf=gf||N3(n),gf}const A3=new Zu(5e3,15e3),j3="__/auth/iframe",C3="emulator/auth/iframe",R3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},I3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M3(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?k0(e,C3):`https://${n.config.authDomain}/${j3}`,r={apiKey:e.apiKey,appName:n.name,v:Vl},a=I3.get(n.config.apiHost);a&&(r.eid=a);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${Ju(r).slice(1)}`}async function D3(n){const e=await S3(n),t=cr().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:M3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R3,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const h=lr(n,"network-request-failed"),d=cr().setTimeout(()=>{l(h)},A3.get());function m(){cr().clearTimeout(d),a(r)}r.ping(m).then(m,()=>{l(h)})}))}const k3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P3=500,O3=600,V3="_blank",L3="http://localhost";class __{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function U3(n,e,t,r=P3,a=O3){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const m={...k3,width:r.toString(),height:a.toString(),top:l,left:h},g=Tn().toLowerCase();t&&(d=eN(g)?V3:t),JE(g)&&(e=e||L3,m.scrollbars="yes");const x=Object.entries(m).reduce((w,[E,j])=>`${w}${E}=${j},`,"");if(a5(g)&&d!=="_self")return z3(e||"",d),new __(null);const v=window.open(e||"",d,x);Ee(v,n,"popup-blocked");try{v.focus()}catch{}return new __(v)}function z3(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const B3="__/auth/handler",F3="emulator/auth/handler",q3=encodeURIComponent("fac");async function T_(n,e,t,r,a,l){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Vl,eventId:a};if(e instanceof uN){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",jM(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,v]of Object.entries({}))h[x]=v}if(e instanceof th){const x=e.getScopes().filter(v=>v!=="");x.length>0&&(h.scopes=x.join(","))}n.tenantId&&(h.tid=n.tenantId);const d=h;for(const x of Object.keys(d))d[x]===void 0&&delete d[x];const m=await n._getAppCheckToken(),g=m?`#${q3}=${encodeURIComponent(m)}`:"";return`${H3(n)}?${Ju(d).slice(1)}${g}`}function H3({config:n}){return n.emulator?k0(n,F3):`https://${n.authDomain}/${B3}`}const sy="webStorageSupport";class G3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=U0,this._completeRedirectFn=p3,this._overrideRedirectResult=d3}async _openPopup(e,t,r,a){Kr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await T_(e,t,r,My(),a);return U3(e,l,z0())}async _openRedirect(e,t,r,a){await this._originValidation(e);const l=await T_(e,t,r,My(),a);return Q5(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Kr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await D3(e),r=new y3(e);return t.register("authEvent",a=>(Ee(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(sy,{type:sy},a=>{const l=a?.[0]?.[sy];l!==void 0&&t(!!l),Ds(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return iN()||ZE()||O0()}}const $3=G3;var E_="@firebase/auth",N_="1.11.1";class Y3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Q3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function K3(n){wl(new to("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=r.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:h,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aN(n)},g=new d5(r,a,l,m);return _5(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),wl(new to("auth-internal",e=>{const t=lo(e.getProvider("auth").getImmediate());return(r=>new Y3(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(E_,N_,Q3(n)),Gi(E_,N_,"esm2020")}const W3=300,X3=PE("authIdTokenMaxAge")||W3;let S_=null;const J3=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>X3)return;const a=t?.token;S_!==a&&(S_=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Z3(n=BE()){const e=M0(n,"auth");if(e.isInitialized())return e.getImmediate();const t=w5(n,{popupRedirectResolver:$3,persistence:[s3,gN,U0]}),r=PE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const h=J3(l.toString());B5(t,h,()=>h(t.currentUser)),z5(t,d=>h(d))}}const a=DE("auth");return a&&T5(t,`http://${a}`),t}function ek(){return document.getElementsByTagName("head")?.[0]??document}f5({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const l=lr("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",ek().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});K3("Browser");var A_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $i,EN;(function(){var n;function e(I,A){function M(){}M.prototype=A.prototype,I.F=A.prototype,I.prototype=new M,I.prototype.constructor=I,I.D=function(V,L,F){for(var P=Array(arguments.length-2),me=2;me<arguments.length;me++)P[me-2]=arguments[me];return A.prototype[L].apply(V,P)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,A,M){M||(M=0);const V=Array(16);if(typeof A=="string")for(var L=0;L<16;++L)V[L]=A.charCodeAt(M++)|A.charCodeAt(M++)<<8|A.charCodeAt(M++)<<16|A.charCodeAt(M++)<<24;else for(L=0;L<16;++L)V[L]=A[M++]|A[M++]<<8|A[M++]<<16|A[M++]<<24;A=I.g[0],M=I.g[1],L=I.g[2];let F=I.g[3],P;P=A+(F^M&(L^F))+V[0]+3614090360&4294967295,A=M+(P<<7&4294967295|P>>>25),P=F+(L^A&(M^L))+V[1]+3905402710&4294967295,F=A+(P<<12&4294967295|P>>>20),P=L+(M^F&(A^M))+V[2]+606105819&4294967295,L=F+(P<<17&4294967295|P>>>15),P=M+(A^L&(F^A))+V[3]+3250441966&4294967295,M=L+(P<<22&4294967295|P>>>10),P=A+(F^M&(L^F))+V[4]+4118548399&4294967295,A=M+(P<<7&4294967295|P>>>25),P=F+(L^A&(M^L))+V[5]+1200080426&4294967295,F=A+(P<<12&4294967295|P>>>20),P=L+(M^F&(A^M))+V[6]+2821735955&4294967295,L=F+(P<<17&4294967295|P>>>15),P=M+(A^L&(F^A))+V[7]+4249261313&4294967295,M=L+(P<<22&4294967295|P>>>10),P=A+(F^M&(L^F))+V[8]+1770035416&4294967295,A=M+(P<<7&4294967295|P>>>25),P=F+(L^A&(M^L))+V[9]+2336552879&4294967295,F=A+(P<<12&4294967295|P>>>20),P=L+(M^F&(A^M))+V[10]+4294925233&4294967295,L=F+(P<<17&4294967295|P>>>15),P=M+(A^L&(F^A))+V[11]+2304563134&4294967295,M=L+(P<<22&4294967295|P>>>10),P=A+(F^M&(L^F))+V[12]+1804603682&4294967295,A=M+(P<<7&4294967295|P>>>25),P=F+(L^A&(M^L))+V[13]+4254626195&4294967295,F=A+(P<<12&4294967295|P>>>20),P=L+(M^F&(A^M))+V[14]+2792965006&4294967295,L=F+(P<<17&4294967295|P>>>15),P=M+(A^L&(F^A))+V[15]+1236535329&4294967295,M=L+(P<<22&4294967295|P>>>10),P=A+(L^F&(M^L))+V[1]+4129170786&4294967295,A=M+(P<<5&4294967295|P>>>27),P=F+(M^L&(A^M))+V[6]+3225465664&4294967295,F=A+(P<<9&4294967295|P>>>23),P=L+(A^M&(F^A))+V[11]+643717713&4294967295,L=F+(P<<14&4294967295|P>>>18),P=M+(F^A&(L^F))+V[0]+3921069994&4294967295,M=L+(P<<20&4294967295|P>>>12),P=A+(L^F&(M^L))+V[5]+3593408605&4294967295,A=M+(P<<5&4294967295|P>>>27),P=F+(M^L&(A^M))+V[10]+38016083&4294967295,F=A+(P<<9&4294967295|P>>>23),P=L+(A^M&(F^A))+V[15]+3634488961&4294967295,L=F+(P<<14&4294967295|P>>>18),P=M+(F^A&(L^F))+V[4]+3889429448&4294967295,M=L+(P<<20&4294967295|P>>>12),P=A+(L^F&(M^L))+V[9]+568446438&4294967295,A=M+(P<<5&4294967295|P>>>27),P=F+(M^L&(A^M))+V[14]+3275163606&4294967295,F=A+(P<<9&4294967295|P>>>23),P=L+(A^M&(F^A))+V[3]+4107603335&4294967295,L=F+(P<<14&4294967295|P>>>18),P=M+(F^A&(L^F))+V[8]+1163531501&4294967295,M=L+(P<<20&4294967295|P>>>12),P=A+(L^F&(M^L))+V[13]+2850285829&4294967295,A=M+(P<<5&4294967295|P>>>27),P=F+(M^L&(A^M))+V[2]+4243563512&4294967295,F=A+(P<<9&4294967295|P>>>23),P=L+(A^M&(F^A))+V[7]+1735328473&4294967295,L=F+(P<<14&4294967295|P>>>18),P=M+(F^A&(L^F))+V[12]+2368359562&4294967295,M=L+(P<<20&4294967295|P>>>12),P=A+(M^L^F)+V[5]+4294588738&4294967295,A=M+(P<<4&4294967295|P>>>28),P=F+(A^M^L)+V[8]+2272392833&4294967295,F=A+(P<<11&4294967295|P>>>21),P=L+(F^A^M)+V[11]+1839030562&4294967295,L=F+(P<<16&4294967295|P>>>16),P=M+(L^F^A)+V[14]+4259657740&4294967295,M=L+(P<<23&4294967295|P>>>9),P=A+(M^L^F)+V[1]+2763975236&4294967295,A=M+(P<<4&4294967295|P>>>28),P=F+(A^M^L)+V[4]+1272893353&4294967295,F=A+(P<<11&4294967295|P>>>21),P=L+(F^A^M)+V[7]+4139469664&4294967295,L=F+(P<<16&4294967295|P>>>16),P=M+(L^F^A)+V[10]+3200236656&4294967295,M=L+(P<<23&4294967295|P>>>9),P=A+(M^L^F)+V[13]+681279174&4294967295,A=M+(P<<4&4294967295|P>>>28),P=F+(A^M^L)+V[0]+3936430074&4294967295,F=A+(P<<11&4294967295|P>>>21),P=L+(F^A^M)+V[3]+3572445317&4294967295,L=F+(P<<16&4294967295|P>>>16),P=M+(L^F^A)+V[6]+76029189&4294967295,M=L+(P<<23&4294967295|P>>>9),P=A+(M^L^F)+V[9]+3654602809&4294967295,A=M+(P<<4&4294967295|P>>>28),P=F+(A^M^L)+V[12]+3873151461&4294967295,F=A+(P<<11&4294967295|P>>>21),P=L+(F^A^M)+V[15]+530742520&4294967295,L=F+(P<<16&4294967295|P>>>16),P=M+(L^F^A)+V[2]+3299628645&4294967295,M=L+(P<<23&4294967295|P>>>9),P=A+(L^(M|~F))+V[0]+4096336452&4294967295,A=M+(P<<6&4294967295|P>>>26),P=F+(M^(A|~L))+V[7]+1126891415&4294967295,F=A+(P<<10&4294967295|P>>>22),P=L+(A^(F|~M))+V[14]+2878612391&4294967295,L=F+(P<<15&4294967295|P>>>17),P=M+(F^(L|~A))+V[5]+4237533241&4294967295,M=L+(P<<21&4294967295|P>>>11),P=A+(L^(M|~F))+V[12]+1700485571&4294967295,A=M+(P<<6&4294967295|P>>>26),P=F+(M^(A|~L))+V[3]+2399980690&4294967295,F=A+(P<<10&4294967295|P>>>22),P=L+(A^(F|~M))+V[10]+4293915773&4294967295,L=F+(P<<15&4294967295|P>>>17),P=M+(F^(L|~A))+V[1]+2240044497&4294967295,M=L+(P<<21&4294967295|P>>>11),P=A+(L^(M|~F))+V[8]+1873313359&4294967295,A=M+(P<<6&4294967295|P>>>26),P=F+(M^(A|~L))+V[15]+4264355552&4294967295,F=A+(P<<10&4294967295|P>>>22),P=L+(A^(F|~M))+V[6]+2734768916&4294967295,L=F+(P<<15&4294967295|P>>>17),P=M+(F^(L|~A))+V[13]+1309151649&4294967295,M=L+(P<<21&4294967295|P>>>11),P=A+(L^(M|~F))+V[4]+4149444226&4294967295,A=M+(P<<6&4294967295|P>>>26),P=F+(M^(A|~L))+V[11]+3174756917&4294967295,F=A+(P<<10&4294967295|P>>>22),P=L+(A^(F|~M))+V[2]+718787259&4294967295,L=F+(P<<15&4294967295|P>>>17),P=M+(F^(L|~A))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(L+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+L&4294967295,I.g[3]=I.g[3]+F&4294967295}r.prototype.v=function(I,A){A===void 0&&(A=I.length);const M=A-this.blockSize,V=this.C;let L=this.h,F=0;for(;F<A;){if(L==0)for(;F<=M;)a(this,I,F),F+=this.blockSize;if(typeof I=="string"){for(;F<A;)if(V[L++]=I.charCodeAt(F++),L==this.blockSize){a(this,V),L=0;break}}else for(;F<A;)if(V[L++]=I[F++],L==this.blockSize){a(this,V),L=0;break}}this.h=L,this.o+=A},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var M=I.length-8;M<I.length;++M)I[M]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,M=0;M<4;++M)for(let V=0;V<32;V+=8)I[A++]=this.g[M]>>>V&255;return I};function l(I,A){var M=d;return Object.prototype.hasOwnProperty.call(M,I)?M[I]:M[I]=A(I)}function h(I,A){this.h=A;const M=[];let V=!0;for(let L=I.length-1;L>=0;L--){const F=I[L]|0;V&&F==A||(M[L]=F,V=!1)}this.g=M}var d={};function m(I){return-128<=I&&I<128?l(I,function(A){return new h([A|0],A<0?-1:0)}):new h([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return v;if(I<0)return R(g(-I));const A=[];let M=1;for(let V=0;I>=M;V++)A[V]=I/M|0,M*=4294967296;return new h(A,0)}function x(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return R(x(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=g(Math.pow(A,8));let V=v;for(let F=0;F<I.length;F+=8){var L=Math.min(8,I.length-F);const P=parseInt(I.substring(F,F+L),A);L<8?(L=g(Math.pow(A,L)),V=V.j(L).add(g(P))):(V=V.j(M),V=V.add(g(P)))}return V}var v=m(0),w=m(1),E=m(16777216);n=h.prototype,n.m=function(){if(k(this))return-R(this).m();let I=0,A=1;for(let M=0;M<this.g.length;M++){const V=this.i(M);I+=(V>=0?V:4294967296+V)*A,A*=4294967296}return I},n.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(j(this))return"0";if(k(this))return"-"+R(this).toString(I);const A=g(Math.pow(I,6));var M=this;let V="";for(;;){const L=H(M,A).g;M=O(M,L.j(A));let F=((M.g.length>0?M.g[0]:M.h)>>>0).toString(I);if(M=L,j(M))return F+V;for(;F.length<6;)F="0"+F;V=F+V}},n.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function j(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function k(I){return I.h==-1}n.l=function(I){return I=O(this,I),k(I)?-1:j(I)?0:1};function R(I){const A=I.g.length,M=[];for(let V=0;V<A;V++)M[V]=~I.g[V];return new h(M,~I.h).add(w)}n.abs=function(){return k(this)?R(this):this},n.add=function(I){const A=Math.max(this.g.length,I.g.length),M=[];let V=0;for(let L=0;L<=A;L++){let F=V+(this.i(L)&65535)+(I.i(L)&65535),P=(F>>>16)+(this.i(L)>>>16)+(I.i(L)>>>16);V=P>>>16,F&=65535,P&=65535,M[L]=P<<16|F}return new h(M,M[M.length-1]&-2147483648?-1:0)};function O(I,A){return I.add(R(A))}n.j=function(I){if(j(this)||j(I))return v;if(k(this))return k(I)?R(this).j(R(I)):R(R(this).j(I));if(k(I))return R(this.j(R(I)));if(this.l(E)<0&&I.l(E)<0)return g(this.m()*I.m());const A=this.g.length+I.g.length,M=[];for(var V=0;V<2*A;V++)M[V]=0;for(V=0;V<this.g.length;V++)for(let L=0;L<I.g.length;L++){const F=this.i(V)>>>16,P=this.i(V)&65535,me=I.i(L)>>>16,Me=I.i(L)&65535;M[2*V+2*L]+=P*Me,D(M,2*V+2*L),M[2*V+2*L+1]+=F*Me,D(M,2*V+2*L+1),M[2*V+2*L+1]+=P*me,D(M,2*V+2*L+1),M[2*V+2*L+2]+=F*me,D(M,2*V+2*L+2)}for(I=0;I<A;I++)M[I]=M[2*I+1]<<16|M[2*I];for(I=A;I<2*A;I++)M[I]=0;return new h(M,0)};function D(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function U(I,A){this.g=I,this.h=A}function H(I,A){if(j(A))throw Error("division by zero");if(j(I))return new U(v,v);if(k(I))return A=H(R(I),A),new U(R(A.g),R(A.h));if(k(A))return A=H(I,R(A)),new U(R(A.g),A.h);if(I.g.length>30){if(k(I)||k(A))throw Error("slowDivide_ only works with positive integers.");for(var M=w,V=A;V.l(I)<=0;)M=K(M),V=K(V);var L=ie(M,1),F=ie(V,1);for(V=ie(V,2),M=ie(M,2);!j(V);){var P=F.add(V);P.l(I)<=0&&(L=L.add(M),F=P),V=ie(V,1),M=ie(M,1)}return A=O(I,L.j(A)),new U(L,A)}for(L=v;I.l(A)>=0;){for(M=Math.max(1,Math.floor(I.m()/A.m())),V=Math.ceil(Math.log(M)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),F=g(M),P=F.j(A);k(P)||P.l(I)>0;)M-=V,F=g(M),P=F.j(A);j(F)&&(F=w),L=L.add(F),I=O(I,P)}return new U(L,I)}n.B=function(I){return H(this,I).h},n.and=function(I){const A=Math.max(this.g.length,I.g.length),M=[];for(let V=0;V<A;V++)M[V]=this.i(V)&I.i(V);return new h(M,this.h&I.h)},n.or=function(I){const A=Math.max(this.g.length,I.g.length),M=[];for(let V=0;V<A;V++)M[V]=this.i(V)|I.i(V);return new h(M,this.h|I.h)},n.xor=function(I){const A=Math.max(this.g.length,I.g.length),M=[];for(let V=0;V<A;V++)M[V]=this.i(V)^I.i(V);return new h(M,this.h^I.h)};function K(I){const A=I.g.length+1,M=[];for(let V=0;V<A;V++)M[V]=I.i(V)<<1|I.i(V-1)>>>31;return new h(M,I.h)}function ie(I,A){const M=A>>5;A%=32;const V=I.g.length-M,L=[];for(let F=0;F<V;F++)L[F]=A>0?I.i(F+M)>>>A|I.i(F+M+1)<<32-A:I.i(F+M);return new h(L,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,EN=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=x,$i=h}).apply(typeof A_<"u"?A_:typeof self<"u"?self:typeof window<"u"?window:{});var Jd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var NN,cu,SN,yf,Oy,AN,jN,CN;(function(){var n,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jd=="object"&&Jd];for(var b=0;b<f.length;++b){var T=f[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function a(f,b){if(b)e:{var T=r;f=f.split(".");for(var C=0;C<f.length-1;C++){var $=f[C];if(!($ in T))break e;T=T[$]}f=f[f.length-1],C=T[f],b=b(C),b!=C&&b!=null&&e(T,f,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(b){var T=[],C;for(C in b)Object.prototype.hasOwnProperty.call(b,C)&&T.push([C,b[C]]);return T}});var l=l||{},h=this||self;function d(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function m(f,b,T){return f.call.apply(f.bind,arguments)}function g(f,b,T){return g=m,g.apply(null,arguments)}function x(f,b){var T=Array.prototype.slice.call(arguments,1);return function(){var C=T.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function v(f,b){function T(){}T.prototype=b.prototype,f.Z=b.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(C,$,X){for(var le=Array(arguments.length-2),je=2;je<arguments.length;je++)le[je-2]=arguments[je];return b.prototype[$].apply(C,le)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function E(f){const b=f.length;if(b>0){const T=Array(b);for(let C=0;C<b;C++)T[C]=f[C];return T}return[]}function j(f,b){for(let C=1;C<arguments.length;C++){const $=arguments[C];var T=typeof $;if(T=T!="object"?T:$?Array.isArray($)?"array":T:"null",T=="array"||T=="object"&&typeof $.length=="number"){T=f.length||0;const X=$.length||0;f.length=T+X;for(let le=0;le<X;le++)f[T+le]=$[le]}else f.push($)}}class k{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function R(f){h.setTimeout(()=>{throw f},0)}function O(){var f=I;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class D{constructor(){this.h=this.g=null}add(b,T){const C=U.get();C.set(b,T),this.h?this.h.next=C:this.g=C,this.h=C}}var U=new k(()=>new H,f=>f.reset());class H{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let K,ie=!1,I=new D,A=()=>{const f=Promise.resolve(void 0);K=()=>{f.then(M)}};function M(){for(var f;f=O();){try{f.h.call(f.g)}catch(T){R(T)}var b=U;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}ie=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};h.addEventListener("test",T,b),h.removeEventListener("test",T,b)}catch{}return f})();function P(f){return/^[\s\xa0]*$/.test(f)}function me(f,b){L.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}v(me,L),me.prototype.init=function(f,b){const T=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(T=="mouseover"?b=f.fromElement:T=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&me.Z.h.call(this)},me.prototype.h=function(){me.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Me="closure_listenable_"+(Math.random()*1e6|0),Z=0;function oe(f,b,T,C,$){this.listener=f,this.proxy=null,this.src=b,this.type=T,this.capture=!!C,this.ha=$,this.key=++Z,this.da=this.fa=!1}function ge(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function De(f,b,T){for(const C in f)b.call(T,f[C],C,f)}function $e(f,b){for(const T in f)b.call(void 0,f[T],T,f)}function q(f){const b={};for(const T in f)b[T]=f[T];return b}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(f,b){let T,C;for(let $=1;$<arguments.length;$++){C=arguments[$];for(T in C)f[T]=C[T];for(let X=0;X<re.length;X++)T=re[X],Object.prototype.hasOwnProperty.call(C,T)&&(f[T]=C[T])}}function fe(f){this.src=f,this.g={},this.h=0}fe.prototype.add=function(f,b,T,C,$){const X=f.toString();f=this.g[X],f||(f=this.g[X]=[],this.h++);const le=Re(f,b,C,$);return le>-1?(b=f[le],T||(b.fa=!1)):(b=new oe(b,this.src,X,!!C,$),b.fa=T,f.push(b)),b};function Ne(f,b){const T=b.type;if(T in f.g){var C=f.g[T],$=Array.prototype.indexOf.call(C,b,void 0),X;(X=$>=0)&&Array.prototype.splice.call(C,$,1),X&&(ge(b),f.g[T].length==0&&(delete f.g[T],f.h--))}}function Re(f,b,T,C){for(let $=0;$<f.length;++$){const X=f[$];if(!X.da&&X.listener==b&&X.capture==!!T&&X.ha==C)return $}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),Gt={};function gt(f,b,T,C,$){if(Array.isArray(b)){for(let X=0;X<b.length;X++)gt(f,b[X],T,C,$);return null}return T=Xl(T),f&&f[Me]?f.J(b,T,d(C)?!!C.capture:!1,$):ma(f,b,T,!1,C,$)}function ma(f,b,T,C,$,X){if(!b)throw Error("Invalid event type");const le=d($)?!!$.capture:!!$;let je=pa(f);if(je||(f[Fe]=je=new fe(f)),T=je.add(b,T,C,le,X),T.proxy)return T;if(C=fo(),T.proxy=C,C.src=f,C.listener=T,f.addEventListener)F||($=le),$===void 0&&($=!1),f.addEventListener(b.toString(),C,$);else if(f.attachEvent)f.attachEvent(Us(b.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return T}function fo(){function f(T){return b.call(f.src,f.listener,T)}const b=Kl;return f}function mo(f,b,T,C,$){if(Array.isArray(b))for(var X=0;X<b.length;X++)mo(f,b[X],T,C,$);else C=d(C)?!!C.capture:!!C,T=Xl(T),f&&f[Me]?(f=f.i,X=String(b).toString(),X in f.g&&(b=f.g[X],T=Re(b,T,C,$),T>-1&&(ge(b[T]),Array.prototype.splice.call(b,T,1),b.length==0&&(delete f.g[X],f.h--)))):f&&(f=pa(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Re(b,T,C,$)),(T=f>-1?b[f]:null)&&po(T))}function po(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[Me])Ne(b.i,f);else{var T=f.type,C=f.proxy;b.removeEventListener?b.removeEventListener(T,C,f.capture):b.detachEvent?b.detachEvent(Us(T),C):b.addListener&&b.removeListener&&b.removeListener(C),(T=pa(b))?(Ne(T,f),T.h==0&&(T.src=null,b[Fe]=null)):ge(f)}}}function Us(f){return f in Gt?Gt[f]:Gt[f]="on"+f}function Kl(f,b){if(f.da)f=!0;else{b=new me(b,this);const T=f.listener,C=f.ha||f.src;f.fa&&po(f),f=T.call(C,b)}return f}function pa(f){return f=f[Fe],f instanceof fe?f:null}var Wl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xl(f){return typeof f=="function"?f:(f[Wl]||(f[Wl]=function(b){return f.handleEvent(b)}),f[Wl])}function Dt(){V.call(this),this.i=new fe(this),this.M=this,this.G=null}v(Dt,V),Dt.prototype[Me]=!0,Dt.prototype.removeEventListener=function(f,b,T,C){mo(this,f,b,T,C)};function $t(f,b){var T,C=f.G;if(C)for(T=[];C;C=C.G)T.push(C);if(f=f.M,C=b.type||b,typeof b=="string")b=new L(b,f);else if(b instanceof L)b.target=b.target||f;else{var $=b;b=new L(C,f),ue(b,$)}$=!0;let X,le;if(T)for(le=T.length-1;le>=0;le--)X=b.g=T[le],$=ni(X,C,!0,b)&&$;if(X=b.g=f,$=ni(X,C,!0,b)&&$,$=ni(X,C,!1,b)&&$,T)for(le=0;le<T.length;le++)X=b.g=T[le],$=ni(X,C,!1,b)&&$}Dt.prototype.N=function(){if(Dt.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const T=f.g[b];for(let C=0;C<T.length;C++)ge(T[C]);delete f.g[b],f.h--}}this.G=null},Dt.prototype.J=function(f,b,T,C){return this.i.add(String(f),b,!1,T,C)},Dt.prototype.K=function(f,b,T,C){return this.i.add(String(f),b,!0,T,C)};function ni(f,b,T,C){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let $=!0;for(let X=0;X<b.length;++X){const le=b[X];if(le&&!le.da&&le.capture==T){const je=le.listener,jt=le.ha||le.src;le.fa&&Ne(f.i,le),$=je.call(jt,C)!==!1&&$}}return $&&!C.defaultPrevented}function Gm(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:h.setTimeout(f,b||0)}function wh(f){f.g=Gm(()=>{f.g=null,f.i&&(f.i=!1,wh(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class En extends V{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:wh(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ga(f){V.call(this),this.h=f,this.g={}}v(ga,V);var Jl=[];function Zl(f){De(f.g,function(b,T){this.g.hasOwnProperty(T)&&po(b)},f),f.g={}}ga.prototype.N=function(){ga.Z.N.call(this),Zl(this)},ga.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var si=h.JSON.stringify,$m=h.JSON.parse,_h=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function Th(){}function Eh(){}var xs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function an(){L.call(this,"d")}v(an,L);function es(){L.call(this,"c")}v(es,L);var At={},Nh=null;function go(){return Nh=Nh||new Dt}At.Ia="serverreachability";function Sh(f){L.call(this,At.Ia,f)}v(Sh,L);function zs(f){const b=go();$t(b,new Sh(b))}At.STAT_EVENT="statevent";function ya(f,b){L.call(this,At.STAT_EVENT,f),this.stat=b}v(ya,L);function kt(f){const b=go();$t(b,new ya(b,f))}At.Ja="timingevent";function Bs(f,b){L.call(this,At.Ja,f),this.size=b}v(Bs,L);function Fs(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},b)}function vs(){this.g=!0}vs.prototype.ua=function(){this.g=!1};function Ym(f,b,T,C,$,X){f.info(function(){if(f.g)if(X){var le="",je=X.split("&");for(let Ke=0;Ke<je.length;Ke++){var jt=je[Ke].split("=");if(jt.length>1){const yt=jt[0];jt=jt[1];const rs=yt.split("_");le=rs.length>=2&&rs[1]=="type"?le+(yt+"="+jt+"&"):le+(yt+"=redacted&")}}}else le=null;else le=X;return"XMLHTTP REQ ("+C+") [attempt "+$+"]: "+b+`
`+T+`
`+le})}function Ah(f,b,T,C,$,X,le){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+$+"]: "+b+`
`+T+`
`+X+" "+le})}function qs(f,b,T,C){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+Qm(f,T)+(C?" "+C:"")})}function xa(f,b){f.info(function(){return"TIMEOUT: "+b})}vs.prototype.info=function(){};function Qm(f,b){if(!f.g)return b;if(!b)return null;try{const X=JSON.parse(b);if(X){for(f=0;f<X.length;f++)if(Array.isArray(X[f])){var T=X[f];if(!(T.length<2)){var C=T[1];if(Array.isArray(C)&&!(C.length<1)){var $=C[0];if($!="noop"&&$!="stop"&&$!="close")for(let le=1;le<C.length;le++)C[le]=""}}}}return si(X)}catch{return b}}var va={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ec={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},tc;function ba(){}v(ba,Th),ba.prototype.g=function(){return new XMLHttpRequest},tc=new ba;function vr(f){return encodeURIComponent(String(f))}function jh(f){var b=1;f=f.split(":");const T=[];for(;b>0&&f.length;)T.push(f.shift()),b--;return f.length&&T.push(f.join(":")),T}function bs(f,b,T,C){this.j=f,this.i=b,this.l=T,this.S=C||1,this.V=new ga(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ws}function ws(){this.i=null,this.g="",this.h=!1}var Pt={},Xt={};function Hs(f,b,T){f.M=1,f.A=wa(Vt(b)),f.u=T,f.R=!0,yo(f,null)}function yo(f,b){f.F=Date.now(),Gs(f),f.B=Vt(f.A);var T=f.B,C=f.S;Array.isArray(C)||(C=[String(C)]),wo(T.i,"t",C),f.C=0,T=f.j.L,f.h=new ws,f.g=qh(f.j,T?b:null,!f.u),f.P>0&&(f.O=new En(g(f.Y,f,f.g),f.P)),b=f.V,T=f.g,C=f.ba;var $="readystatechange";Array.isArray($)||($&&(Jl[0]=$.toString()),$=Jl);for(let X=0;X<$.length;X++){const le=gt(T,$[X],C||b.handleEvent,!1,b.h||b);if(!le)break;b.g[le.key]=le}b=f.J?q(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),zs(),Ym(f.i,f.v,f.B,f.l,f.S,f.u)}bs.prototype.ba=function(f){f=f.target;const b=this.O;b&&Es(f)==3?b.j():this.Y(f)},bs.prototype.Y=function(f){try{if(f==this.g)e:{const je=Es(this.g),jt=this.g.ya(),Ke=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||on(this.g)))){this.K||je!=4||jt==7||(jt==8||Ke<=0?zs(3):zs(2)),$s(this);var b=this.g.ca();this.X=b;var T=Km(this);if(this.o=b==200,Ah(this.i,this.v,this.B,this.l,this.S,je,b),this.o){if(this.U&&!this.L){t:{if(this.g){var C,$=this.g;if((C=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(C)){var X=C;break t}}X=null}if(f=X)qs(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ys(this,f);else{this.o=!1,this.m=3,kt(12),Un(this),ts(this);break e}}if(this.R){f=!0;let yt;for(;!this.K&&this.C<T.length;)if(yt=Rh(this,T),yt==Xt){je==4&&(this.m=4,kt(14),f=!1),qs(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Pt){this.m=4,kt(15),qs(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else qs(this.i,this.l,yt,null),Ys(this,yt);if(Ch(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||T.length!=0||this.h.h||(this.m=1,kt(16),f=!1),this.o=this.o&&f,!f)qs(this.i,this.l,T,"[Invalid Chunked Response]"),Un(this),ts(this);else if(T.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),gc(le),le.P=!0,kt(11))}}else qs(this.i,this.l,T,null),Ys(this,T);je==4&&Un(this),this.o&&!this.K&&(je==4?Uh(this.j,this):(this.o=!1,Gs(this)))}else wr(this.g),b==400&&T.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),Un(this),ts(this)}}}catch{}finally{}};function Km(f){if(!Ch(f))return f.g.la();const b=on(f.g);if(b==="")return"";let T="";const C=b.length,$=Es(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Un(f),ts(f),"";f.h.i=new h.TextDecoder}for(let X=0;X<C;X++)f.h.h=!0,T+=f.h.i.decode(b[X],{stream:!($&&X==C-1)});return b.length=0,f.h.g+=T,f.C=0,f.h.g}function Ch(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Rh(f,b){var T=f.C,C=b.indexOf(`
`,T);return C==-1?Xt:(T=Number(b.substring(T,C)),isNaN(T)?Pt:(C+=1,C+T>b.length?Xt:(b=b.slice(C,C+T),f.C=C+T,b)))}bs.prototype.cancel=function(){this.K=!0,Un(this)};function Gs(f){f.T=Date.now()+f.H,xo(f,f.H)}function xo(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Fs(g(f.aa,f),b)}function $s(f){f.D&&(h.clearTimeout(f.D),f.D=null)}bs.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(xa(this.i,this.B),this.M!=2&&(zs(),kt(17)),Un(this),this.m=2,ts(this)):xo(this,this.T-f)};function ts(f){f.j.I==0||f.K||Uh(f.j,f)}function Un(f){$s(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,Zl(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function Ys(f,b){try{var T=f.j;if(T.I!=0&&(T.g==f||Ks(T.h,f))){if(!f.L&&Ks(T.h,f)&&T.I==3){try{var C=T.Ba.g.parse(b)}catch{C=null}if(Array.isArray(C)&&C.length==3){var $=C;if($[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)So(T),hi(T);else break e;ja(T),kt(18)}}else T.xa=$[1],0<T.xa-T.K&&$[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Fs(g(T.Va,T),6e3));Qs(T.h)<=1&&T.ta&&(T.ta=void 0)}else tr(T,11)}else if((f.L||T.g==f)&&So(T),!P(b))for($=T.Ba.g.parse(b),b=0;b<$.length;b++){let Ke=$[b];const yt=Ke[0];if(!(yt<=T.K))if(T.K=yt,Ke=Ke[1],T.I==2)if(Ke[0]=="c"){T.M=Ke[1],T.ba=Ke[2];const rs=Ke[3];rs!=null&&(T.ka=rs,T.j.info("VER="+T.ka));const nr=Ke[4];nr!=null&&(T.za=nr,T.j.info("SVER="+T.za));const Ns=Ke[5];Ns!=null&&typeof Ns=="number"&&Ns>0&&(C=1.5*Ns,T.O=C,T.j.info("backChannelRequestTimeoutMs_="+C)),C=T;const Ss=f.g;if(Ss){const Ca=Ss.g?Ss.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ca){var X=C.h;X.g||Ca.indexOf("spdy")==-1&&Ca.indexOf("quic")==-1&&Ca.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(rc(X,X.h),X.h=null))}if(C.G){const Ao=Ss.g?Ss.g.getResponseHeader("X-HTTP-Session-Id"):null;Ao&&(C.wa=Ao,Je(C.J,C.G,Ao))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),C=T;var le=f;if(C.na=Fh(C,C.L?C.ba:null,C.W),le.L){ic(C.h,le);var je=le,jt=C.O;jt&&(je.H=jt),je.D&&($s(je),Gs(je)),C.g=le}else Vh(C);T.i.length>0&&er(T)}else Ke[0]!="stop"&&Ke[0]!="close"||tr(T,7);else T.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?tr(T,7):mc(T):Ke[0]!="noop"&&T.l&&T.l.qa(Ke),T.A=0)}}zs(4)}catch{}}var Ot=class{constructor(f,b){this.g=f,this.map=b}};function nc(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function sc(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Qs(f){return f.h?1:f.g?f.g.size:0}function Ks(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function rc(f,b){f.g?f.g.add(b):f.h=b}function ic(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}nc.prototype.cancel=function(){if(this.i=ac(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ac(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const T of f.g.values())b=b.concat(T.G);return b}return E(f.i)}var Ih=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vo(f,b){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const C=f[T].indexOf("=");let $,X=null;C>=0?($=f[T].substring(0,C),X=f[T].substring(C+1)):$=f[T],b($,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function zn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof zn?(this.l=f.l,Jt(this,f.j),this.o=f.o,this.g=f.g,ri(this,f.u),this.h=f.h,oc(this,Ph(f.i)),this.m=f.m):f&&(b=String(f).match(Ih))?(this.l=!1,Jt(this,b[1]||"",!0),this.o=Ws(b[2]||""),this.g=Ws(b[3]||"",!0),ri(this,b[4]),this.h=Ws(b[5]||"",!0),oc(this,b[6]||"",!0),this.m=Ws(b[7]||"")):(this.l=!1,this.i=new ai(null,this.l))}zn.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(_a(b,bo,!0),":");var T=this.g;return(T||b=="file")&&(f.push("//"),(b=this.o)&&f.push(_a(b,bo,!0),"@"),f.push(vr(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(_a(T,T.charAt(0)=="/"?lc:Mh,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",_a(T,Dh)),f.join("")},zn.prototype.resolve=function(f){const b=Vt(this);let T=!!f.j;T?Jt(b,f.j):T=!!f.o,T?b.o=f.o:T=!!f.g,T?b.g=f.g:T=f.u!=null;var C=f.h;if(T)ri(b,f.u);else if(T=!!f.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var $=b.h.lastIndexOf("/");$!=-1&&(C=b.h.slice(0,$+1)+C)}if($=C,$==".."||$==".")C="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){C=$.lastIndexOf("/",0)==0,$=$.split("/");const X=[];for(let le=0;le<$.length;){const je=$[le++];je=="."?C&&le==$.length&&X.push(""):je==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),C&&le==$.length&&X.push("")):(X.push(je),C=!0)}C=X.join("/")}else C=$}return T?b.h=C:T=f.i.toString()!=="",T?oc(b,Ph(f.i)):T=!!f.m,T&&(b.m=f.m),b};function Vt(f){return new zn(f)}function Jt(f,b,T){f.j=T?Ws(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function ri(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function oc(f,b,T){b instanceof ai?(f.i=b,_o(f.i,f.l)):(T||(b=_a(b,ii)),f.i=new ai(b,f.l))}function Je(f,b,T){f.i.set(b,T)}function wa(f){return Je(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Ws(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function _a(f,b,T){return typeof f=="string"?(f=encodeURI(f).replace(b,Cn),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Cn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var bo=/[#\/\?@]/g,Mh=/[#\?:]/g,lc=/[#\?]/g,ii=/[#\?@]/g,Dh=/#/g;function ai(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function Rn(f){f.g||(f.g=new Map,f.h=0,f.i&&vo(f.i,function(b,T){f.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}n=ai.prototype,n.add=function(f,b){Rn(this),this.i=null,f=oi(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(b),this.h+=1,this};function kh(f,b){Rn(f),b=oi(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function cc(f,b){return Rn(f),b=oi(f,b),f.g.has(b)}n.forEach=function(f,b){Rn(this),this.g.forEach(function(T,C){T.forEach(function($){f.call(b,$,C,this)},this)},this)};function uc(f,b){Rn(f);let T=[];if(typeof b=="string")cc(f,b)&&(T=T.concat(f.g.get(oi(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)T=T.concat(f[b]);return T}n.set=function(f,b){return Rn(this),this.i=null,f=oi(this,f),cc(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},n.get=function(f,b){return f?(f=uc(this,f),f.length>0?String(f[0]):b):b};function wo(f,b,T){kh(f,b),T.length>0&&(f.i=null,f.g.set(oi(f,b),E(T)),f.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let C=0;C<b.length;C++){var T=b[C];const $=vr(T);T=uc(this,T);for(let X=0;X<T.length;X++){let le=$;T[X]!==""&&(le+="="+vr(T[X])),f.push(le)}}return this.i=f.join("&")};function Ph(f){const b=new ai;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function oi(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function _o(f,b){b&&!f.j&&(Rn(f),f.i=null,f.g.forEach(function(T,C){const $=C.toLowerCase();C!=$&&(kh(this,C),wo(this,$,T))},f)),f.j=b}function _s(f,b){const T=new vs;if(h.Image){const C=new Image;C.onload=x(ns,T,"TestLoadImage: loaded",!0,b,C),C.onerror=x(ns,T,"TestLoadImage: error",!1,b,C),C.onabort=x(ns,T,"TestLoadImage: abort",!1,b,C),C.ontimeout=x(ns,T,"TestLoadImage: timeout",!1,b,C),h.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else b(!1)}function hc(f,b){const T=new vs,C=new AbortController,$=setTimeout(()=>{C.abort(),ns(T,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:C.signal}).then(X=>{clearTimeout($),X.ok?ns(T,"TestPingServer: ok",!0,b):ns(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout($),ns(T,"TestPingServer: error",!1,b)})}function ns(f,b,T,C,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),C(T)}catch{}}function li(){this.g=new _h}function Xs(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Xs,Th),Xs.prototype.g=function(){return new Ta(this.i,this.h)};function Ta(f,b){Dt.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Ta,Dt),n=Ta.prototype,n.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,Ts(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||h).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ci(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ts(this)),this.g&&(this.readyState=3,Ts(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;To(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function To(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?ci(this):Ts(this),this.readyState==3&&To(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,ci(this))},n.Na=function(f){this.g&&(this.response=f,ci(this))},n.ga=function(){this.g&&ci(this)};function ci(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Ts(f)}n.setRequestHeader=function(f,b){this.A.append(f,b)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=b.next();return f.join(`\r
`)};function Ts(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ss(f){let b="";return De(f,function(T,C){b+=C,b+=":",b+=T,b+=`\r
`}),b}function Ea(f,b,T){e:{for(C in T){var C=!1;break e}C=!0}C||(T=ss(T),typeof f=="string"?T!=null&&vr(T):Je(f,b,T))}function nt(f){Dt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(nt,Dt);var Js=/^https?$/i,dc=["POST","PUT"];n=nt.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,b,T,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():tc.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(X){Na(this,X);return}if(f=T||"",T=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var $ in C)T.set($,C[$]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const X of C.keys())T.set(X,C.get(X));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),$=h.FormData&&f instanceof h.FormData,!(Array.prototype.indexOf.call(dc,b,void 0)>=0)||C||$||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,le]of T)this.g.setRequestHeader(X,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(X){Na(this,X)}};function Na(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,fc(f),br(f)}function fc(f){f.A||(f.A=!0,$t(f,"complete"),$t(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,$t(this,"complete"),$t(this,"abort"),br(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),br(this,!0)),nt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Sa(this):this.Xa())},n.Xa=function(){Sa(this)};function Sa(f){if(f.h&&typeof l<"u"){if(f.v&&Es(f)==4)setTimeout(f.Ca.bind(f),0);else if($t(f,"readystatechange"),Es(f)==4){f.h=!1;try{const X=f.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var C;if(C=X===0){let le=String(f.D).match(Ih)[1]||null;!le&&h.self&&h.self.location&&(le=h.self.location.protocol.slice(0,-1)),C=!Js.test(le?le.toLowerCase():"")}T=C}if(T)$t(f,"complete"),$t(f,"success");else{f.o=6;try{var $=Es(f)>2?f.g.statusText:""}catch{$=""}f.l=$+" ["+f.ca()+"]",fc(f)}}finally{br(f)}}}}function br(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,b||$t(f,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Es(f){return f.g?f.g.readyState:0}n.ca=function(){try{return Es(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),$m(b)}};function on(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function wr(f){const b={};f=(f.g&&Es(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(P(f[C]))continue;var T=jh(f[C]);const $=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=b[$]||[];b[$]=X,X.push(T)}$e(b,function(C){return C.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zs(f,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||b}function ui(f){this.za=0,this.i=[],this.j=new vs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Zs("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Zs("baseRetryDelayMs",5e3,f),this.Za=Zs("retryDelaySeedMs",1e4,f),this.Ta=Zs("forwardChannelMaxRetries",2,f),this.va=Zs("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new nc(f&&f.concurrentRequestLimit),this.Ba=new li,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ui.prototype,n.ka=8,n.I=1,n.connect=function(f,b,T,C){kt(0),this.W=f,this.H=b||{},T&&C!==void 0&&(this.H.OSID=T,this.H.OAID=C),this.F=this.X,this.J=Fh(this,null,this.W),er(this)};function mc(f){if(Eo(f),f.I==3){var b=f.V++,T=Vt(f.J);if(Je(T,"SID",f.M),Je(T,"RID",b),Je(T,"TYPE","terminate"),Aa(f,T),b=new bs(f,f.j,b),b.M=2,b.A=wa(Vt(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(b.A.toString(),"")}catch{}!T&&h.Image&&(new Image().src=b.A,T=!0),T||(b.g=qh(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Gs(b)}Bh(f)}function hi(f){f.g&&(gc(f),f.g.cancel(),f.g=null)}function Eo(f){hi(f),f.v&&(h.clearTimeout(f.v),f.v=null),So(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&h.clearTimeout(f.m),f.m=null)}function er(f){if(!sc(f.h)&&!f.m){f.m=!0;var b=f.Ea;K||A(),ie||(K(),ie=!0),I.add(b,f),f.D=0}}function No(f,b){return Qs(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Fs(g(f.Ea,f,b),zh(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const $=new bs(this,this.j,f);let X=this.o;if(this.U&&(X?(X=q(X),ue(X,this.U)):X=this.U),this.u!==null||this.R||($.J=X,X=null),this.S)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var C=this.i[T];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(b+=C,b>4096){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=Oh(this,$,b),T=Vt(this.J),Je(T,"RID",f),Je(T,"CVER",22),this.G&&Je(T,"X-HTTP-Session-Id",this.G),Aa(this,T),X&&(this.R?b="headers="+vr(ss(X))+"&"+b:this.u&&Ea(T,this.u,X)),rc(this.h,$),this.Ra&&Je(T,"TYPE","init"),this.S?(Je(T,"$req",b),Je(T,"SID","null"),$.U=!0,Hs($,T,null)):Hs($,T,b),this.I=2}}else this.I==3&&(f?pc(this,f):this.i.length==0||sc(this.h)||pc(this))};function pc(f,b){var T;b?T=b.l:T=f.V++;const C=Vt(f.J);Je(C,"SID",f.M),Je(C,"RID",T),Je(C,"AID",f.K),Aa(f,C),f.u&&f.o&&Ea(C,f.u,f.o),T=new bs(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),b&&(f.i=b.G.concat(f.i)),b=Oh(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),rc(f.h,T),Hs(T,C,b)}function Aa(f,b){f.H&&De(f.H,function(T,C){Je(b,C,T)}),f.l&&De({},function(T,C){Je(b,C,T)})}function Oh(f,b,T){T=Math.min(f.i.length,T);const C=f.l?g(f.l.Ka,f.l,f):null;e:{var $=f.i;let je=-1;for(;;){const jt=["count="+T];je==-1?T>0?(je=$[0].g,jt.push("ofs="+je)):je=0:jt.push("ofs="+je);let Ke=!0;for(let yt=0;yt<T;yt++){var X=$[yt].g;const rs=$[yt].map;if(X-=je,X<0)je=Math.max(0,$[yt].g-100),Ke=!1;else try{X="req"+X+"_"||"";try{var le=rs instanceof Map?rs:Object.entries(rs);for(const[nr,Ns]of le){let Ss=Ns;d(Ns)&&(Ss=si(Ns)),jt.push(X+nr+"="+encodeURIComponent(Ss))}}catch(nr){throw jt.push(X+"type="+encodeURIComponent("_badmap")),nr}}catch{C&&C(rs)}}if(Ke){le=jt.join("&");break e}}le=void 0}return f=f.i.splice(0,T),b.G=f,le}function Vh(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;K||A(),ie||(K(),ie=!0),I.add(b,f),f.A=0}}function ja(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Fs(g(f.Da,f),zh(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,Lh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Fs(g(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),hi(this),Lh(this))};function gc(f){f.B!=null&&(h.clearTimeout(f.B),f.B=null)}function Lh(f){f.g=new bs(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=Vt(f.na);Je(b,"RID","rpc"),Je(b,"SID",f.M),Je(b,"AID",f.K),Je(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&Je(b,"TO",f.ia),Je(b,"TYPE","xmlhttp"),Aa(f,b),f.u&&f.o&&Ea(b,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=wa(Vt(b)),T.u=null,T.R=!0,yo(T,f)}n.Va=function(){this.C!=null&&(this.C=null,hi(this),ja(this),kt(19))};function So(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function Uh(f,b){var T=null;if(f.g==b){So(f),gc(f),f.g=null;var C=2}else if(Ks(f.h,b))T=b.G,ic(f.h,b),C=1;else return;if(f.I!=0){if(b.o)if(C==1){T=b.u?b.u.length:0,b=Date.now()-b.F;var $=f.D;C=go(),$t(C,new Bs(C,T)),er(f)}else Vh(f);else if($=b.m,$==3||$==0&&b.X>0||!(C==1&&No(f,b)||C==2&&ja(f)))switch(T&&T.length>0&&(b=f.h,b.i=b.i.concat(T)),$){case 1:tr(f,5);break;case 4:tr(f,10);break;case 3:tr(f,6);break;default:tr(f,2)}}}function zh(f,b){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*b}function tr(f,b){if(f.j.info("Error code "+b),b==2){var T=g(f.bb,f),C=f.Ua;const $=!C;C=new zn(C||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Jt(C,"https"),wa(C),$?_s(C.toString(),T):hc(C.toString(),T)}else kt(2);f.I=0,f.l&&f.l.pa(b),Bh(f),Eo(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Bh(f){if(f.I=0,f.ja=[],f.l){const b=ac(f.h);(b.length!=0||f.i.length!=0)&&(j(f.ja,b),j(f.ja,f.i),f.h.i.length=0,E(f.i),f.i.length=0),f.l.oa()}}function Fh(f,b,T){var C=T instanceof zn?Vt(T):new zn(T);if(C.g!="")b&&(C.g=b+"."+C.g),ri(C,C.u);else{var $=h.location;C=$.protocol,b=b?b+"."+$.hostname:$.hostname,$=+$.port;const X=new zn(null);C&&Jt(X,C),b&&(X.g=b),$&&ri(X,$),T&&(X.h=T),C=X}return T=f.G,b=f.wa,T&&b&&Je(C,T,b),Je(C,"VER",f.ka),Aa(f,C),C}function qh(f,b,T){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new nt(new Xs({ab:T})):new nt(f.ma),b.Fa(f.L),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hh(){}n=Hh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function di(){}di.prototype.g=function(f,b){return new Nn(f,b)};function Nn(f,b){Dt.call(this),this.g=new ui(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!P(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!P(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new _r(this)}v(Nn,Dt),Nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){mc(this.g)},Nn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=si(f),f=T);b.i.push(new Ot(b.Ya++,f)),b.I==3&&er(b)},Nn.prototype.N=function(){this.g.l=null,delete this.j,mc(this.g),delete this.g,Nn.Z.N.call(this)};function Gh(f){an.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const T in b){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}v(Gh,an);function $h(){es.call(this),this.status=1}v($h,es);function _r(f){this.g=f}v(_r,Hh),_r.prototype.ra=function(){$t(this.g,"a")},_r.prototype.qa=function(f){$t(this.g,new Gh(f))},_r.prototype.pa=function(f){$t(this.g,new $h)},_r.prototype.oa=function(){$t(this.g,"b")},di.prototype.createWebChannel=di.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,CN=function(){return new di},jN=function(){return go()},AN=At,Oy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},va.NO_ERROR=0,va.TIMEOUT=8,va.HTTP_ERROR=6,yf=va,ec.COMPLETE="complete",SN=ec,Eh.EventType=xs,xs.OPEN="a",xs.CLOSE="b",xs.ERROR="c",xs.MESSAGE="d",Dt.prototype.listen=Dt.prototype.J,cu=Eh,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,NN=nt}).apply(typeof Jd<"u"?Jd:typeof self<"u"?self:typeof window<"u"?window:{});const j_="@firebase/firestore",C_="4.9.2";class wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");let Ul="12.3.0";const ro=new R0("@firebase/firestore");function il(){return ro.logLevel}function de(n,...e){if(ro.logLevel<=Le.DEBUG){const t=e.map(F0);ro.debug(`Firestore (${Ul}): ${n}`,...t)}}function Wr(n,...e){if(ro.logLevel<=Le.ERROR){const t=e.map(F0);ro.error(`Firestore (${Ul}): ${n}`,...t)}}function _l(n,...e){if(ro.logLevel<=Le.WARN){const t=e.map(F0);ro.warn(`Firestore (${Ul}): ${n}`,...t)}}function F0(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function be(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,RN(n,r,t)}function RN(n,e,t){let r=`FIRESTORE (${Ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Wr(r),new Error(r)}function Ge(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||RN(e,a,r)}function Se(n,e){return n}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ti{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ur{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class IN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(wn.UNAUTHENTICATED)))}shutdown(){}}class nk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class sk{constructor(e){this.t=e,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,t(m)):Promise.resolve();let l=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ur,e.enqueueRetryable((()=>a(this.currentUser)))};const h=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ur)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string",31837,{l:r}),new IN(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new wn(e)}}class rk{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ik{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new rk(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(wn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class R_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ak{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0,3512);const r=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new R_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ge(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new R_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ok(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class q0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=ok(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function Ue(n,e){return n<e?-1:n>e?1:0}function Vy(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),l=e.charAt(r);if(a!==l)return ry(a)===ry(l)?Ue(a,l):ry(a)?1:-1}return Ue(n.length,e.length)}const lk=55296,ck=57343;function ry(n){const e=n.charCodeAt(0);return e>=lk&&e<=ck}function Tl(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}const I_="__name__";class or{constructor(e,t,r){t===void 0?t=0:t>e.length&&be(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&be(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return or.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof or?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=or.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Ue(e.length,t.length)}static compareSegments(e,t){const r=or.isNumericId(e),a=or.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?or.extractNumericId(e).compare(or.extractNumericId(t)):Vy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $i.fromString(e.substring(4,e.length-2))}}class at extends or{construct(e,t,r){return new at(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new at(t)}static emptyPath(){return new at([])}}const uk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends or{construct(e,t,r){return new mn(e,t,r)}static isValidIdentifier(e){return uk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I_}static keyField(){return new mn([I_])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ce(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ce(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,a+=2}else d==="`"?(h=!h,a++):d!=="."||h?(r+=d,a++):(l(),a++)}if(l(),h)throw new ce(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(t)}static emptyPath(){return new mn([])}}class xe{constructor(e){this.path=e}static fromPath(e){return new xe(at.fromString(e))}static fromName(e){return new xe(at.fromString(e).popFirst(5))}static empty(){return new xe(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return at.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new at(e.slice()))}}function MN(n,e,t){if(!t)throw new ce(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function hk(n,e,t,r){if(e===!0&&r===!0)throw new ce(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function M_(n){if(!xe.isDocumentKey(n))throw new ce(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function D_(n){if(xe.isDocumentKey(n))throw new ce(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function DN(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ym(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":be(12329,{type:typeof n})}function jn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ce(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ym(n);throw new ce(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Ht(n,e){const t={typeString:n};return e&&(t.value=e),t}function sh(n,e){if(!DN(n))throw new ce(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const h=n[r];if(a&&typeof h!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&h!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new ce(te.INVALID_ARGUMENT,t);return!0}const k_=-62135596800,P_=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*P_);return new mt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<k_)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P_}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(sh(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-k_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Ht("string",mt._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new mt(0,0))}static max(){return new Te(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Du=-1;function dk(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Te.fromTimestamp(r===1e9?new mt(t+1,0):new mt(t,r));return new Xi(a,xe.empty(),e)}function fk(n){return new Xi(n.readTime,n.key,Du)}class Xi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Xi(Te.min(),xe.empty(),Du)}static max(){return new Xi(Te.max(),xe.empty(),Du)}}function mk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=xe.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}const pk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function zl(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==pk)throw n;de("LocalStore","Unexpectedly lost primary lease")}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ae.reject(t)}static resolve(e){return new ae(((t,r)=>{t(e)}))}static reject(e){return new ae(((t,r)=>{r(e)}))}static waitFor(e){return new ae(((t,r)=>{let a=0,l=0,h=!1;e.forEach((d=>{++a,d.next((()=>{++l,h&&l===a&&t()}),(m=>r(m)))})),h=!0,l===a&&t()}))}static or(e){let t=ae.resolve(!1);for(const r of e)t=t.next((a=>a?ae.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,l)=>{r.push(t.call(this,a,l))})),this.waitFor(r)}static mapArray(e,t){return new ae(((r,a)=>{const l=e.length,h=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next((x=>{h[g]=x,++d,d===l&&r(h)}),(x=>a(x)))}}))}static doWhile(e,t){return new ae(((r,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):r()};l()}))}}function yk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bl(n){return n.name==="IndexedDbTransactionError"}class xm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xm.ce=-1;const H0=-1;function rh(n){return n==null}function Uf(n){return n===0&&1/n==-1/0}function xk(n){return typeof n=="number"&&Number.isInteger(n)&&!Uf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const kN="";function vk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=O_(e)),e=bk(n.get(t),e);return O_(e)}function bk(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case kN:t+="";break;default:t+=l}}return t}function O_(n){return n+kN+""}function V_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ua(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function PN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class _t{constructor(e,t){this.comparator=e,this.root=t||fn.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zd(this.root,e,this.comparator,!0)}}class Zd{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??fn.RED,this.left=a??fn.EMPTY,this.right=l??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new fn(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return fn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new fn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new L_(this.data.getIterator())}getIteratorFrom(e){return new L_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Qt(this.comparator);return t.data=e,t}}class L_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Kn{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new Kn([])}unionWith(e){let t=new Qt(mn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Tl(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class ON extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ON("Invalid base64 string: "+l):l}})(e);return new yn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let h=0;h<a.length;++h)l+=String.fromCharCode(a[h]);return l})(e);return new yn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const wk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(n){if(Ge(!!n,39018),typeof n=="string"){let e=0;const t=wk.exec(n);if(Ge(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mt(n.seconds),nanos:Mt(n.nanos)}}function Mt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Zi(n){return typeof n=="string"?yn.fromBase64String(n):yn.fromUint8Array(n)}const VN="server_timestamp",LN="__type__",UN="__previous_value__",zN="__local_write_time__";function G0(n){return(n?.mapValue?.fields||{})[LN]?.stringValue===VN}function vm(n){const e=n.mapValue.fields[UN];return G0(e)?vm(e):e}function ku(n){const e=Ji(n.mapValue.fields[zN].timestampValue);return new mt(e.seconds,e.nanos)}class _k{constructor(e,t,r,a,l,h,d,m,g,x){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=x}}const zf="(default)";class Pu{constructor(e,t){this.projectId=e,this.database=t||zf}static empty(){return new Pu("","")}get isDefaultDatabase(){return this.database===zf}isEqual(e){return e instanceof Pu&&e.projectId===this.projectId&&e.database===this.database}}const BN="__type__",Tk="__max__",ef={mapValue:{}},FN="__vector__",Bf="value";function ea(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?G0(n)?4:Nk(n)?9007199254740991:Ek(n)?10:11:be(28295,{value:n})}function gr(n,e){if(n===e)return!0;const t=ea(n);if(t!==ea(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ku(n).isEqual(ku(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const h=Ji(a.timestampValue),d=Ji(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return Zi(a.bytesValue).isEqual(Zi(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return Mt(a.geoPointValue.latitude)===Mt(l.geoPointValue.latitude)&&Mt(a.geoPointValue.longitude)===Mt(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Mt(a.integerValue)===Mt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const h=Mt(a.doubleValue),d=Mt(l.doubleValue);return h===d?Uf(h)===Uf(d):isNaN(h)&&isNaN(d)}return!1})(n,e);case 9:return Tl(n.arrayValue.values||[],e.arrayValue.values||[],gr);case 10:case 11:return(function(a,l){const h=a.mapValue.fields||{},d=l.mapValue.fields||{};if(V_(h)!==V_(d))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(d[m]===void 0||!gr(h[m],d[m])))return!1;return!0})(n,e);default:return be(52216,{left:n})}}function Ou(n,e){return(n.values||[]).find((t=>gr(t,e)))!==void 0}function El(n,e){if(n===e)return 0;const t=ea(n),r=ea(e);if(t!==r)return Ue(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return(function(l,h){const d=Mt(l.integerValue||l.doubleValue),m=Mt(h.integerValue||h.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(n,e);case 3:return U_(n.timestampValue,e.timestampValue);case 4:return U_(ku(n),ku(e));case 5:return Vy(n.stringValue,e.stringValue);case 6:return(function(l,h){const d=Zi(l),m=Zi(h);return d.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(l,h){const d=l.split("/"),m=h.split("/");for(let g=0;g<d.length&&g<m.length;g++){const x=Ue(d[g],m[g]);if(x!==0)return x}return Ue(d.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,h){const d=Ue(Mt(l.latitude),Mt(h.latitude));return d!==0?d:Ue(Mt(l.longitude),Mt(h.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return z_(n.arrayValue,e.arrayValue);case 10:return(function(l,h){const d=l.fields||{},m=h.fields||{},g=d[Bf]?.arrayValue,x=m[Bf]?.arrayValue,v=Ue(g?.values?.length||0,x?.values?.length||0);return v!==0?v:z_(g,x)})(n.mapValue,e.mapValue);case 11:return(function(l,h){if(l===ef.mapValue&&h===ef.mapValue)return 0;if(l===ef.mapValue)return 1;if(h===ef.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=h.fields||{},x=Object.keys(g);m.sort(),x.sort();for(let v=0;v<m.length&&v<x.length;++v){const w=Vy(m[v],x[v]);if(w!==0)return w;const E=El(d[m[v]],g[x[v]]);if(E!==0)return E}return Ue(m.length,x.length)})(n.mapValue,e.mapValue);default:throw be(23264,{he:t})}}function U_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=Ji(n),r=Ji(e),a=Ue(t.seconds,r.seconds);return a!==0?a:Ue(t.nanos,r.nanos)}function z_(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=El(t[a],r[a]);if(l)return l}return Ue(t.length,r.length)}function Nl(n){return Ly(n)}function Ly(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Ji(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Zi(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return xe.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=Ly(l);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const h of r)l?l=!1:a+=",",a+=`${h}:${Ly(t.fields[h])}`;return a+"}"})(n.mapValue):be(61005,{value:n})}function xf(n){switch(ea(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vm(n);return e?16+xf(e):16;case 5:return 2*n.stringValue.length;case 6:return Zi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+xf(l)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return ua(r.fields,((l,h)=>{a+=l.length+xf(h)})),a})(n.mapValue);default:throw be(13486,{value:n})}}function B_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Uy(n){return!!n&&"integerValue"in n}function $0(n){return!!n&&"arrayValue"in n}function F_(n){return!!n&&"nullValue"in n}function q_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function vf(n){return!!n&&"mapValue"in n}function Ek(n){return(n?.mapValue?.fields||{})[BN]?.stringValue===FN}function xu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ua(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=xu(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xu(n.arrayValue.values[t]);return e}return{...n}}function Nk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Tk}class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!vf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xu(t)}setAll(e){let t=mn.emptyPath(),r={},a=[];e.forEach(((h,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,r,a),r={},a=[],t=d.popLast()}h?r[d.lastSegment()]=xu(h):a.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());vf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];vf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){ua(t,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new An(xu(this.value))}}function qN(n){const e=[];return ua(n.fields,((t,r)=>{const a=new mn([t]);if(vf(r)){const l=qN(r.mapValue).fields;if(l.length===0)e.push(a);else for(const h of l)e.push(a.child(h))}else e.push(a)})),new Kn(e)}class tn{constructor(e,t,r,a,l,h,d){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(e){return new tn(e,0,Te.min(),Te.min(),Te.min(),An.empty(),0)}static newFoundDocument(e,t,r,a){return new tn(e,1,t,Te.min(),r,a,0)}static newNoDocument(e,t){return new tn(e,2,t,Te.min(),Te.min(),An.empty(),0)}static newUnknownDocument(e,t){return new tn(e,3,t,Te.min(),Te.min(),An.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ff{constructor(e,t){this.position=e,this.inclusive=t}}function H_(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],h=n.position[a];if(l.field.isKeyField()?r=xe.comparator(xe.fromName(h.referenceValue),t.key):r=El(h,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function G_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!gr(n.position[t],e.position[t]))return!1;return!0}class Vu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Sk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class HN{}class qt extends HN{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new jk(e,t,r):t==="array-contains"?new Ik(e,r):t==="in"?new Mk(e,r):t==="not-in"?new Dk(e,r):t==="array-contains-any"?new kk(e,r):new qt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Ck(e,r):new Rk(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(El(t,this.value)):t!==null&&ea(this.value)===ea(t)&&this.matchesComparison(El(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ks extends HN{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ks(e,t)}matches(e){return GN(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function GN(n){return n.op==="and"}function $N(n){return Ak(n)&&GN(n)}function Ak(n){for(const e of n.filters)if(e instanceof ks)return!1;return!0}function zy(n){if(n instanceof qt)return n.field.canonicalString()+n.op.toString()+Nl(n.value);if($N(n))return n.filters.map((e=>zy(e))).join(",");{const e=n.filters.map((t=>zy(t))).join(",");return`${n.op}(${e})`}}function YN(n,e){return n instanceof qt?(function(r,a){return a instanceof qt&&r.op===a.op&&r.field.isEqual(a.field)&&gr(r.value,a.value)})(n,e):n instanceof ks?(function(r,a){return a instanceof ks&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,h,d)=>l&&YN(h,a.filters[d])),!0):!1})(n,e):void be(19439)}function QN(n){return n instanceof qt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Nl(t.value)}`})(n):n instanceof ks?(function(t){return t.op.toString()+" {"+t.getFilters().map(QN).join(" ,")+"}"})(n):"Filter"}class jk extends qt{constructor(e,t,r){super(e,t,r),this.key=xe.fromName(r.referenceValue)}matches(e){const t=xe.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ck extends qt{constructor(e,t){super(e,"in",t),this.keys=KN("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Rk extends qt{constructor(e,t){super(e,"not-in",t),this.keys=KN("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function KN(n,e){return(e.arrayValue?.values||[]).map((t=>xe.fromName(t.referenceValue)))}class Ik extends qt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $0(t)&&Ou(t.arrayValue,this.value)}}class Mk extends qt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ou(this.value.arrayValue,t)}}class Dk extends qt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ou(this.value.arrayValue,t)}}class kk extends qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$0(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Ou(this.value.arrayValue,r)))}}class Pk{constructor(e,t=null,r=[],a=[],l=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=h,this.endAt=d,this.Te=null}}function $_(n,e=null,t=[],r=[],a=null,l=null,h=null){return new Pk(n,e,t,r,a,l,h)}function Y0(n){const e=Se(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>zy(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),rh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Nl(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Nl(r))).join(",")),e.Te=t}return e.Te}function Q0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Sk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!YN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!G_(n.startAt,e.startAt)&&G_(n.endAt,e.endAt)}function By(n){return xe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Fl{constructor(e,t=null,r=[],a=[],l=null,h="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ok(n,e,t,r,a,l,h,d){return new Fl(n,e,t,r,a,l,h,d)}function bm(n){return new Fl(n)}function Y_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function WN(n){return n.collectionGroup!==null}function vu(n){const e=Se(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Qt(mn.comparator);return h.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Vu(l,r))})),t.has(mn.keyField().canonicalString())||e.Ie.push(new Vu(mn.keyField(),r))}return e.Ie}function hr(n){const e=Se(n);return e.Ee||(e.Ee=Vk(e,vu(n))),e.Ee}function Vk(n,e){if(n.limitType==="F")return $_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Vu(a.field,l)}));const t=n.endAt?new Ff(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ff(n.startAt.position,n.startAt.inclusive):null;return $_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Fy(n,e){const t=n.filters.concat([e]);return new Fl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function qy(n,e,t){return new Fl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function wm(n,e){return Q0(hr(n),hr(e))&&n.limitType===e.limitType}function XN(n){return`${Y0(hr(n))}|lt:${n.limitType}`}function al(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>QN(a))).join(", ")}]`),rh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>Nl(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>Nl(a))).join(",")),`Target(${r})`})(hr(n))}; limitType=${n.limitType})`}function _m(n,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):xe.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(n,e)&&(function(r,a){for(const l of vu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(h,d,m){const g=H_(h,d,m);return h.inclusive?g<=0:g<0})(r.startAt,vu(r),a)||r.endAt&&!(function(h,d,m){const g=H_(h,d,m);return h.inclusive?g>=0:g>0})(r.endAt,vu(r),a))})(n,e)}function Lk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function JN(n){return(e,t)=>{let r=!1;for(const a of vu(n)){const l=Uk(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function Uk(n,e,t){const r=n.field.isKeyField()?xe.comparator(e.key,t.key):(function(l,h,d){const m=h.data.field(l),g=d.data.field(l);return m!==null&&g!==null?El(m,g):be(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return be(19790,{direction:n.dir})}}class co{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ua(this.inner,((t,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return PN(this.inner)}size(){return this.innerSize}}const zk=new _t(xe.comparator);function Xr(){return zk}const ZN=new _t(xe.comparator);function uu(...n){let e=ZN;for(const t of n)e=e.insert(t.key,t);return e}function eS(n){let e=ZN;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Xa(){return bu()}function tS(){return bu()}function bu(){return new co((n=>n.toString()),((n,e)=>n.isEqual(e)))}const Bk=new _t(xe.comparator),Fk=new Qt(xe.comparator);function ze(...n){let e=Fk;for(const t of n)e=e.add(t);return e}const qk=new Qt(Ue);function Hk(){return qk}function K0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uf(e)?"-0":e}}function nS(n){return{integerValue:""+n}}function sS(n,e){return xk(e)?nS(e):K0(n,e)}class Tm{constructor(){this._=void 0}}function Gk(n,e,t){return n instanceof Lu?(function(a,l){const h={fields:{[LN]:{stringValue:VN},[zN]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&G0(l)&&(l=vm(l)),l&&(h.fields[UN]=l),{mapValue:h}})(t,e):n instanceof Sl?iS(n,e):n instanceof Uu?aS(n,e):(function(a,l){const h=rS(a,l),d=Q_(h)+Q_(a.Ae);return Uy(h)&&Uy(a.Ae)?nS(d):K0(a.serializer,d)})(n,e)}function $k(n,e,t){return n instanceof Sl?iS(n,e):n instanceof Uu?aS(n,e):t}function rS(n,e){return n instanceof zu?(function(r){return Uy(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Lu extends Tm{}class Sl extends Tm{constructor(e){super(),this.elements=e}}function iS(n,e){const t=oS(e);for(const r of n.elements)t.some((a=>gr(a,r)))||t.push(r);return{arrayValue:{values:t}}}class Uu extends Tm{constructor(e){super(),this.elements=e}}function aS(n,e){let t=oS(e);for(const r of n.elements)t=t.filter((a=>!gr(a,r)));return{arrayValue:{values:t}}}class zu extends Tm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Q_(n){return Mt(n.integerValue||n.doubleValue)}function oS(n){return $0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class W0{constructor(e,t){this.field=e,this.transform=t}}function Yk(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof Sl&&a instanceof Sl||r instanceof Uu&&a instanceof Uu?Tl(r.elements,a.elements,gr):r instanceof zu&&a instanceof zu?gr(r.Ae,a.Ae):r instanceof Lu&&a instanceof Lu})(n.transform,e.transform)}class Qk{constructor(e,t){this.version=e,this.transformResults=t}}class pn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pn}static exists(e){return new pn(void 0,e)}static updateTime(e){return new pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Em{}function lS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Nm(n.key,pn.none()):new ih(n.key,n.data,pn.none());{const t=n.data,r=An.empty();let a=new Qt(mn.comparator);for(let l of e.fields)if(!a.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?r.delete(l):r.set(l,h),a=a.add(l)}return new ha(n.key,r,new Kn(a.toArray()),pn.none())}}function Kk(n,e,t){n instanceof ih?(function(a,l,h){const d=a.value.clone(),m=W_(a.fieldTransforms,l,h.transformResults);d.setAll(m),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()})(n,e,t):n instanceof ha?(function(a,l,h){if(!bf(a.precondition,l))return void l.convertToUnknownDocument(h.version);const d=W_(a.fieldTransforms,l,h.transformResults),m=l.data;m.setAll(cS(a)),m.setAll(d),l.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(n,e,t):(function(a,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function wu(n,e,t,r){return n instanceof ih?(function(l,h,d,m){if(!bf(l.precondition,h))return d;const g=l.value.clone(),x=X_(l.fieldTransforms,m,h);return g.setAll(x),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(n,e,t,r):n instanceof ha?(function(l,h,d,m){if(!bf(l.precondition,h))return d;const g=X_(l.fieldTransforms,m,h),x=h.data;return x.setAll(cS(l)),x.setAll(g),h.convertToFoundDocument(h.version,x).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(n,e,t,r):(function(l,h,d){return bf(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d})(n,e,t)}function Wk(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=rS(r.transform,a||null);l!=null&&(t===null&&(t=An.empty()),t.set(r.field,l))}return t||null}function K_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Tl(r,a,((l,h)=>Yk(l,h)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ih extends Em{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ha extends Em{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function cS(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function W_(n,e,t){const r=new Map;Ge(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],h=l.transform,d=e.data.field(l.field);r.set(l.field,$k(h,d,t[a]))}return r}function X_(n,e,t){const r=new Map;for(const a of n){const l=a.transform,h=t.data.field(a.field);r.set(a.field,Gk(l,h,e))}return r}class Nm extends Em{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uS extends Em{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Xk{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Kk(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=wu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=wu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=tS();return this.mutations.forEach((a=>{const l=e.get(a.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=t.has(a.key)?null:d;const m=lS(h,d);m!==null&&r.set(a.key,m),h.isValidDocument()||h.convertToNoDocument(Te.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Tl(this.mutations,e.mutations,((t,r)=>K_(t,r)))&&Tl(this.baseMutations,e.baseMutations,((t,r)=>K_(t,r)))}}class X0{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Ge(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return Bk})();const l=e.mutations;for(let h=0;h<l.length;h++)a=a.insert(l[h].key,r[h].version);return new X0(e,t,r,a)}}class Jk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Zk{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ft,qe;function hS(n){switch(n){case te.OK:return be(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return be(15467,{code:n})}}function dS(n){if(n===void 0)return Wr("GRPC error has no .code"),te.UNKNOWN;switch(n){case Ft.OK:return te.OK;case Ft.CANCELLED:return te.CANCELLED;case Ft.UNKNOWN:return te.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return te.INTERNAL;case Ft.UNAVAILABLE:return te.UNAVAILABLE;case Ft.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Ft.NOT_FOUND:return te.NOT_FOUND;case Ft.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Ft.ABORTED:return te.ABORTED;case Ft.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Ft.DATA_LOSS:return te.DATA_LOSS;default:return be(39323,{code:n})}}(qe=Ft||(Ft={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function eP(){return new TextEncoder}const tP=new $i([4294967295,4294967295],0);function J_(n){const e=eP().encode(n),t=new EN;return t.update(e),new Uint8Array(t.digest())}function Z_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new $i([t,r],0),new $i([a,l],0)]}class J0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new hu(`Invalid padding: ${t}`);if(r<0)throw new hu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new hu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=$i.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply($i.fromNumber(r)));return a.compare(tP)===1&&(a=new $i([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=J_(e),[r,a]=Z_(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(r,a,l);if(!this.we(h))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new J0(l,a,t);return r.forEach((d=>h.insert(d))),h}insert(e){if(this.ge===0)return;const t=J_(e),[r,a]=Z_(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(r,a,l);this.Se(h)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sm{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,ah.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Sm(Te.min(),a,new _t(Ue),Xr(),ze())}}class ah{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ah(r,t,ze(),ze(),ze())}}class wf{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class fS{constructor(e,t){this.targetId=e,this.Ce=t}}class mS{constructor(e,t,r=yn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class eT{constructor(){this.ve=0,this.Fe=tT(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),t=ze(),r=ze();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:be(38017,{changeType:l})}})),new ah(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=tT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class nP{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xr(),this.Je=tf(),this.He=tf(),this.Ye=new _t(Ue)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(By(l))if(r===0){const h=new xe(l.path);this.et(t,h,tn.newNoDocument(h,Te.min()))}else Ge(r===1,20013,{expectedCount:r});else{const h=this._t(t);if(h!==r){const d=this.ut(e),m=d?this.ct(d,e,h):1;if(m!==0){this.it(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let h,d;try{h=Zi(r).toUint8Array()}catch(m){if(m instanceof ON)return _l("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new J0(h,a,l)}catch(m){return _l(m instanceof hu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((l=>{const h=this.Ge.ht(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,h)=>{const d=this.ot(h);if(d){if(l.current&&By(d.target)){const m=new xe(d.target.path);this.It(m).has(h)||this.Et(h,m)||this.et(h,m,tn.newNoDocument(m,e))}l.Be&&(t.set(h,l.ke()),l.qe())}}));let r=ze();this.He.forEach(((l,h)=>{let d=!0;h.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(l))})),this.je.forEach(((l,h)=>h.setReadTime(e)));const a=new Sm(e,t,this.Ye,this.je,r);return this.je=Xr(),this.Je=tf(),this.He=tf(),this.Ye=new _t(Ue),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new eT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Qt(Ue),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Qt(Ue),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new eT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function tf(){return new _t(xe.comparator)}function tT(){return new _t(xe.comparator)}const sP={asc:"ASCENDING",desc:"DESCENDING"},rP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iP={and:"AND",or:"OR"};class aP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Hy(n,e){return n.useProto3Json||rh(e)?e:{value:e}}function qf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function oP(n,e){return qf(n,e.toTimestamp())}function Wn(n){return Ge(!!n,49232),Te.fromTimestamp((function(t){const r=Ji(t);return new mt(r.seconds,r.nanos)})(n))}function Z0(n,e){return Gy(n,e).canonicalString()}function Gy(n,e){const t=(function(a){return new at(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function gS(n){const e=at.fromString(n);return Ge(_S(e),10190,{key:e.toString()}),e}function Hf(n,e){return Z0(n.databaseId,e.path)}function _u(n,e){const t=gS(e);if(t.get(1)!==n.databaseId.projectId)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new xe(xS(t))}function yS(n,e){return Z0(n.databaseId,e)}function lP(n){const e=gS(n);return e.length===4?at.emptyPath():xS(e)}function $y(n){return new at(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function xS(n){return Ge(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function nT(n,e,t){return{name:Hf(n,e),fields:t.value.mapValue.fields}}function cP(n,e){return"found"in e?(function(r,a){Ge(!!a.found,43571),a.found.name,a.found.updateTime;const l=_u(r,a.found.name),h=Wn(a.found.updateTime),d=a.found.createTime?Wn(a.found.createTime):Te.min(),m=new An({mapValue:{fields:a.found.fields}});return tn.newFoundDocument(l,h,d,m)})(n,e):"missing"in e?(function(r,a){Ge(!!a.missing,3894),Ge(!!a.readTime,22933);const l=_u(r,a.missing),h=Wn(a.readTime);return tn.newNoDocument(l,h)})(n,e):be(7234,{result:e})}function uP(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,x){return g.useProto3Json?(Ge(x===void 0||typeof x=="string",58123),yn.fromBase64String(x||"")):(Ge(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),yn.fromUint8Array(x||new Uint8Array))})(n,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&(function(g){const x=g.code===void 0?te.UNKNOWN:dS(g.code);return new ce(x,g.message||"")})(h);t=new mS(r,a,l,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=_u(n,r.document.name),l=Wn(r.document.updateTime),h=r.document.createTime?Wn(r.document.createTime):Te.min(),d=new An({mapValue:{fields:r.document.fields}}),m=tn.newFoundDocument(a,l,h,d),g=r.targetIds||[],x=r.removedTargetIds||[];t=new wf(g,x,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=_u(n,r.document),l=r.readTime?Wn(r.readTime):Te.min(),h=tn.newNoDocument(a,l),d=r.removedTargetIds||[];t=new wf([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=_u(n,r.document),l=r.removedTargetIds||[];t=new wf([],l,a,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,h=new Zk(a,l),d=r.targetId;t=new fS(d,h)}}return t}function vS(n,e){let t;if(e instanceof ih)t={update:nT(n,e.key,e.value)};else if(e instanceof Nm)t={delete:Hf(n,e.key)};else if(e instanceof ha)t={update:nT(n,e.key,e.data),updateMask:vP(e.fieldMask)};else{if(!(e instanceof uS))return be(16599,{Vt:e.type});t={verify:Hf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,h){const d=h.transform;if(d instanceof Lu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Sl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Uu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof zu)return{fieldPath:h.field.canonicalString(),increment:d.Ae};throw be(20930,{transform:h.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:oP(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:be(27497)})(n,e.precondition)),t}function hP(n,e){return n&&n.length>0?(Ge(e!==void 0,14353),n.map((t=>(function(a,l){let h=a.updateTime?Wn(a.updateTime):Wn(l);return h.isEqual(Te.min())&&(h=Wn(l)),new Qk(h,a.transformResults||[])})(t,e)))):[]}function dP(n,e){return{documents:[yS(n,e.path)]}}function fP(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=yS(n,a);const l=(function(g){if(g.length!==0)return wS(ks.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const h=(function(g){if(g.length!==0)return g.map((x=>(function(w){return{field:ol(w.field),direction:gP(w.dir)}})(x)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=Hy(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:a}}function mP(n){let e=lP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Ge(r===1,65062);const x=t.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let l=[];t.where&&(l=(function(v){const w=bS(v);return w instanceof ks&&$N(w)?w.getFilters():[w]})(t.where));let h=[];t.orderBy&&(h=(function(v){return v.map((w=>(function(j){return new Vu(ll(j.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(w)))})(t.orderBy));let d=null;t.limit&&(d=(function(v){let w;return w=typeof v=="object"?v.value:v,rh(w)?null:w})(t.limit));let m=null;t.startAt&&(m=(function(v){const w=!!v.before,E=v.values||[];return new Ff(E,w)})(t.startAt));let g=null;return t.endAt&&(g=(function(v){const w=!v.before,E=v.values||[];return new Ff(E,w)})(t.endAt)),Ok(e,a,h,l,d,"F",m,g)}function pP(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function bS(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ll(t.unaryFilter.field);return qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=ll(t.unaryFilter.field);return qt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ll(t.unaryFilter.field);return qt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ll(t.unaryFilter.field);return qt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(n):n.fieldFilter!==void 0?(function(t){return qt.create(ll(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ks.create(t.compositeFilter.filters.map((r=>bS(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(t.compositeFilter.op))})(n):be(30097,{filter:n})}function gP(n){return sP[n]}function yP(n){return rP[n]}function xP(n){return iP[n]}function ol(n){return{fieldPath:n.canonicalString()}}function ll(n){return mn.fromServerFormat(n.fieldPath)}function wS(n){return n instanceof qt?(function(t){if(t.op==="=="){if(q_(t.value))return{unaryFilter:{field:ol(t.field),op:"IS_NAN"}};if(F_(t.value))return{unaryFilter:{field:ol(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(q_(t.value))return{unaryFilter:{field:ol(t.field),op:"IS_NOT_NAN"}};if(F_(t.value))return{unaryFilter:{field:ol(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ol(t.field),op:yP(t.op),value:t.value}}})(n):n instanceof ks?(function(t){const r=t.getFilters().map((a=>wS(a)));return r.length===1?r[0]:{compositeFilter:{op:xP(t.op),filters:r}}})(n):be(54877,{filter:n})}function vP(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function _S(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Fi{constructor(e,t,r,a,l=Te.min(),h=Te.min(),d=yn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class bP{constructor(e){this.yt=e}}function wP(n){const e=mP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?qy(e,e.limit,"L"):e}class _P{constructor(){this.Cn=new TP}addToCollectionParentIndex(e,t){return this.Cn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(Xi.min())}updateCollectionGroup(e,t,r){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class TP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Qt(at.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Qt(at.comparator)).toArray()}}const sT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TS=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(TS,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);class Al{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Al(0)}static cr(){return new Al(-1)}}const rT="LruGarbageCollector",EP=1048576;function iT([n,e],[t,r]){const a=Ue(n,t);return a===0?Ue(e,r):a}class NP{constructor(e){this.Ir=e,this.buffer=new Qt(iT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();iT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class SP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(rT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Bl(t)?de(rT,"Ignoring IndexedDB error during garbage collection: ",t):await zl(t)}await this.Vr(3e5)}))}}class AP{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ae.resolve(xm.ce);const r=new NP(t);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(sT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,l,h,d,m,g;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,h=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(r=v,d=Date.now(),this.removeTargets(e,r,t)))).next((v=>(l=v,m=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(g=Date.now(),il()<=Le.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-x}ms
	Determined least recently used ${a} in `+(d-h)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${v} documents in `+(g-m)+`ms
Total Duration: ${g-x}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function jP(n,e){return new AP(n,e)}class CP{constructor(){this.changes=new co((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ae.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class RP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class IP{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&wu(r.mutation,a,Kn.empty(),mt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=ze()){const a=Xa();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((l=>{let h=uu();return l.forEach(((d,m)=>{h=h.insert(d,m.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const r=Xa();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,ze())))}populateOverlays(e,t,r){const a=[];return r.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((h,d)=>{t.set(h,d)}))}))}computeViews(e,t,r,a){let l=Xr();const h=bu(),d=(function(){return bu()})();return t.forEach(((m,g)=>{const x=r.get(g.key);a.has(g.key)&&(x===void 0||x.mutation instanceof ha)?l=l.insert(g.key,g):x!==void 0?(h.set(g.key,x.mutation.getFieldMask()),wu(x.mutation,g,x.mutation.getFieldMask(),mt.now())):h.set(g.key,Kn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,x)=>h.set(g,x))),t.forEach(((g,x)=>d.set(g,new RP(x,h.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=bu();let a=new _t(((h,d)=>h-d)),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const d of h)d.keys().forEach((m=>{const g=t.get(m);if(g===null)return;let x=r.get(m)||Kn.empty();x=d.applyToLocalView(g,x),r.set(m,x);const v=(a.get(d.batchId)||ze()).add(m);a=a.insert(d.batchId,v)}))})).next((()=>{const h=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,x=m.value,v=tS();x.forEach((w=>{if(!l.has(w)){const E=lS(t.get(w),r.get(w));E!==null&&v.set(w,E),l=l.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,v))}return ae.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return(function(h){return xe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):WN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((l=>{const h=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):ae.resolve(Xa());let d=Du,m=l;return h.next((g=>ae.forEach(g,((x,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),l.get(x)?ae.resolve():this.remoteDocumentCache.getEntry(e,x).next((w=>{m=m.insert(x,w)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,ze()))).next((x=>({batchId:d,changes:eS(x)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xe(t)).next((r=>{let a=uu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let h=uu();return this.indexManager.getCollectionParents(e,l).next((d=>ae.forEach(d,(m=>{const g=(function(v,w){return new Fl(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,r,a).next((x=>{x.forEach(((v,w)=>{h=h.insert(v,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a)))).next((h=>{l.forEach(((m,g)=>{const x=g.getKey();h.get(x)===null&&(h=h.insert(x,tn.newInvalidDocument(x)))}));let d=uu();return h.forEach(((m,g)=>{const x=l.get(m);x!==void 0&&wu(x.mutation,g,Kn.empty(),mt.now()),_m(t,g)&&(d=d.insert(m,g))})),d}))}}class MP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ae.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Wn(a.createTime)}})(t)),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:wP(a.bundledQuery),readTime:Wn(a.readTime)}})(t)),ae.resolve()}}class DP{constructor(){this.overlays=new _t(xe.comparator),this.qr=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Xa();return ae.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,l)=>{this.St(e,t,l)})),ae.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),ae.resolve()}getOverlaysForCollection(e,t,r){const a=Xa(),l=t.length+1,h=new xe(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new _t(((g,x)=>g-x));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let x=l.get(g.largestBatchId);x===null&&(x=Xa(),l=l.insert(g.largestBatchId,x)),x.set(g.getKey(),g)}}const d=Xa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,x)=>d.set(g,x))),!(d.size()>=a)););return ae.resolve(d)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const h=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new Jk(t,r));let l=this.qr.get(t);l===void 0&&(l=ze(),this.qr.set(t,l)),this.qr.set(t,l.add(r.key))}}class kP{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ae.resolve()}}class ex{constructor(){this.Qr=new Qt(en.$r),this.Ur=new Qt(en.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new en(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new en(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new xe(new at([])),r=new en(t,e),a=new en(t,e+1),l=[];return this.Ur.forEachInRange([r,a],(h=>{this.Gr(h),l.push(h.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new xe(new at([])),r=new en(t,e),a=new en(t,e+1);let l=ze();return this.Ur.forEachInRange([r,a],(h=>{l=l.add(h.key)})),l}containsKey(e){const t=new en(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class en{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return xe.comparator(e.key,t.key)||Ue(e.Yr,t.Yr)}static Kr(e,t){return Ue(e.Yr,t.Yr)||xe.comparator(e.key,t.key)}}class PP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Qt(en.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Xk(l,t,r,a);this.mutationQueue.push(h);for(const d of a)this.Zr=this.Zr.add(new en(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(h)}lookupMutationBatch(e,t){return ae.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?H0:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new en(t,0),a=new en(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(h=>{const d=this.Xr(h.Yr);l.push(d)})),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qt(Ue);return t.forEach((a=>{const l=new en(a,0),h=new en(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,h],(d=>{r=r.add(d.Yr)}))})),ae.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;xe.isDocumentKey(l)||(l=l.child(""));const h=new en(new xe(l),0);let d=new Qt(Ue);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!r.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Yr)),!0)}),h),ae.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Ge(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ae.forEach(t.mutations,(a=>{const l=new en(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new en(t,0),a=this.Zr.firstAfterOrEqual(r);return ae.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class OP{constructor(e){this.ri=e,this.docs=(function(){return new _t(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,h=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ae.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(t))}getEntries(e,t){let r=Xr();return t.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():tn.newInvalidDocument(a))})),ae.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=Xr();const h=t.path,d=new xe(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:x}}=m.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||mk(fk(x),r)<=0||(a.has(x.key)||_m(t,x))&&(l=l.insert(x.key,x.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,t,r,a){be(9500)}ii(e,t){return ae.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new VP(this)}getSize(e){return ae.resolve(this.size)}}class VP extends CP{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),ae.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class LP{constructor(e){this.persistence=e,this.si=new co((t=>Y0(t)),Q0),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new ex,this.targetCount=0,this.ai=Al.ur()}forEachTarget(e,t){return this.si.forEach(((r,a)=>t(a))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),ae.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Al(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Pr(t),ae.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.si.forEach(((h,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(h),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ae.waitFor(l).next((()=>a))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return ae.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),ae.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((h=>{l.push(a.markPotentiallyOrphaned(e,h))})),ae.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return ae.resolve(r)}containsKey(e,t){return ae.resolve(this._i.containsKey(t))}}class ES{constructor(e,t){this.ui={},this.overlays={},this.ci=new xm(0),this.li=!1,this.li=!0,this.hi=new kP,this.referenceDelegate=e(this),this.Pi=new LP(this),this.indexManager=new _P,this.remoteDocumentCache=(function(a){return new OP(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new bP(t),this.Ii=new MP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new DP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new PP(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){de("MemoryPersistence","Starting transaction:",e);const a=new UP(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return ae.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class UP extends gk{constructor(e){super(),this.currentSequenceNumber=e}}class tx{constructor(e){this.persistence=e,this.Ri=new ex,this.Vi=null}static mi(e){return new tx(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),ae.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,(r=>{const a=xe.fromPath(r);return this.gi(e,a).next((l=>{l||t.removeEntry(a,Te.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ae.or([()=>ae.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Gf{constructor(e,t){this.persistence=e,this.pi=new co((r=>vk(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=jP(this,t)}static mi(e,t){return new Gf(e,t)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return ae.forEach(this.pi,((r,a)=>this.br(e,r,a).next((l=>l?ae.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(h=>this.br(e,h,t).next((d=>{d||(r++,l.removeEntry(h,Te.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ae.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ae.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ae.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=xf(e.data.value)),t}br(e,t,r){return ae.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return ae.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class nx{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=ze(),a=ze();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new nx(e,t.fromCache,r,a)}}class zP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class BP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _M()?8:yk(Tn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.ys(e,t).next((h=>{l.result=h})).next((()=>{if(!l.result)return this.ws(e,t,a,r).next((h=>{l.result=h}))})).next((()=>{if(l.result)return;const h=new zP;return this.Ss(e,t,h).next((d=>{if(l.result=d,this.Vs)return this.bs(e,t,h,d.size)}))})).next((()=>l.result))}bs(e,t,r,a){return r.documentReadCount<this.fs?(il()<=Le.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",al(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(il()<=Le.DEBUG&&de("QueryEngine","Query:",al(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(il()<=Le.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",al(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(t))):ae.resolve())}ys(e,t){if(Y_(t))return ae.resolve(null);let r=hr(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=qy(t,null,"F"),r=hr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const h=ze(...l);return this.ps.getDocuments(e,h).next((d=>this.indexManager.getMinOffset(e,r).next((m=>{const g=this.Ds(t,d);return this.Cs(t,g,h,m.readTime)?this.ys(e,qy(t,null,"F")):this.vs(e,g,t,m)}))))})))))}ws(e,t,r,a){return Y_(t)||a.isEqual(Te.min())?ae.resolve(null):this.ps.getDocuments(e,r).next((l=>{const h=this.Ds(t,l);return this.Cs(t,h,r,a)?ae.resolve(null):(il()<=Le.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),al(t)),this.vs(e,h,t,dk(a,Du)).next((d=>d)))}))}Ds(e,t){let r=new Qt(JN(e));return t.forEach(((a,l)=>{_m(e,l)&&(r=r.add(l))})),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,r){return il()<=Le.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",al(t)),this.ps.getDocumentsMatchingQuery(e,t,Xi.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((l=>(t.forEach((h=>{l=l.insert(h.key,h)})),l)))}}const sx="LocalStore",FP=3e8;class qP{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new _t(Ue),this.xs=new co((l=>Y0(l)),Q0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function HP(n,e,t,r){return new qP(n,e,t,r)}async function NS(n,e){const t=Se(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const h=[],d=[];let m=ze();for(const g of a){h.push(g.batchId);for(const x of g.mutations)m=m.add(x.key)}for(const g of l){d.push(g.batchId);for(const x of g.mutations)m=m.add(x.key)}return t.localDocuments.getDocuments(r,m).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:d})))}))}))}function GP(n,e){const t=Se(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,x){const v=g.batch,w=v.keys();let E=ae.resolve();return w.forEach((j=>{E=E.next((()=>x.getEntry(m,j))).next((k=>{const R=g.docVersions.get(j);Ge(R!==null,48541),k.version.compareTo(R)<0&&(v.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),x.addEntry(k)))}))})),E.next((()=>d.mutationQueue.removeMutationBatch(m,v)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let m=ze();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function SS(n){const e=Se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function $P(n,e){const t=Se(n),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const d=[];e.targetChanges.forEach(((x,v)=>{const w=a.get(v);if(!w)return;d.push(t.Pi.removeMatchingKeys(l,x.removedDocuments,v).next((()=>t.Pi.addMatchingKeys(l,x.addedDocuments,v))));let E=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(yn.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):x.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(x.resumeToken,r)),a=a.insert(v,E),(function(k,R,O){return k.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=FP?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(w,E,x)&&d.push(t.Pi.updateTargetData(l,E))}));let m=Xr(),g=ze();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,x))})),d.push(YP(l,h,e.documentUpdates).next((x=>{m=x.ks,g=x.qs}))),!r.isEqual(Te.min())){const x=t.Pi.getLastRemoteSnapshotVersion(l).next((v=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));d.push(x)}return ae.waitFor(d).next((()=>h.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(t.Ms=a,l)))}function YP(n,e,t){let r=ze(),a=ze();return t.forEach((l=>r=r.add(l))),e.getEntries(n,r).next((l=>{let h=Xr();return t.forEach(((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Te.min())?(e.removeEntry(d,m.readTime),h=h.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),h=h.insert(d,m)):de(sx,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:h,qs:a}}))}function QP(n,e){const t=Se(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=H0),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function KP(n,e){const t=Se(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.Pi.getTargetData(r,e).next((l=>l?(a=l,ae.resolve(a)):t.Pi.allocateTargetId(r).next((h=>(a=new Fi(e,h,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Yy(n,e,t){const r=Se(n),a=r.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(h=>r.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!Bl(h))throw h;de(sx,`Failed to update sequence numbers for target ${e}: ${h}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function aT(n,e,t){const r=Se(n);let a=Te.min(),l=ze();return r.persistence.runTransaction("Execute query","readwrite",(h=>(function(m,g,x){const v=Se(m),w=v.xs.get(x);return w!==void 0?ae.resolve(v.Ms.get(w)):v.Pi.getTargetData(g,x)})(r,h,hr(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(h,d.targetId).next((m=>{l=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(h,e,t?a:Te.min(),t?l:ze()))).next((d=>(WP(r,Lk(e),d),{documents:d,Qs:l})))))}function WP(n,e,t){let r=n.Os.get(e)||Te.min();t.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),n.Os.set(e,r)}class oT{constructor(){this.activeTargetIds=Hk()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XP{constructor(){this.Mo=new oT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new oT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class JP{Oo(e){}shutdown(){}}const lT="ConnectivityMonitor";class cT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(lT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(lT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let nf=null;function Qy(){return nf===null?nf=(function(){return 268435456+Math.round(2147483648*Math.random())})():nf++,"0x"+nf.toString(16)}const iy="RestConnection",ZP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===zf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,l){const h=Qy(),d=this.zo(e,t.toUriEncodedString());de(iy,`Sending RPC '${e}' ${h}:`,d,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(d),x=Ol(g);return this.Jo(e,d,m,r,x).then((v=>(de(iy,`Received RPC '${e}' ${h}: `,v),v)),(v=>{throw _l(iy,`RPC '${e}' ${h} failed with error: `,v,"url: ",d,"request:",r),v}))}Ho(e,t,r,a,l,h){return this.Go(e,t,r,a,l)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ul})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const r=ZP[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class tO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const vn="WebChannelConnection";class nO extends eO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,l){const h=Qy();return new Promise(((d,m)=>{const g=new NN;g.setWithCredentials(!0),g.listenOnce(SN.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case yf.NO_ERROR:const v=g.getResponseJson();de(vn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(v)),d(v);break;case yf.TIMEOUT:de(vn,`RPC '${e}' ${h} timed out`),m(new ce(te.DEADLINE_EXCEEDED,"Request time out"));break;case yf.HTTP_ERROR:const w=g.getStatus();if(de(vn,`RPC '${e}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let E=g.getResponseJson();Array.isArray(E)&&(E=E[0]);const j=E?.error;if(j&&j.status&&j.message){const k=(function(O){const D=O.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(D)>=0?D:te.UNKNOWN})(j.status);m(new ce(k,j.message))}else m(new ce(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ce(te.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(vn,`RPC '${e}' ${h} completed.`)}}));const x=JSON.stringify(a);de(vn,`RPC '${e}' ${h} sending request:`,a),g.send(t,"POST",x,r,15)}))}T_(e,t,r){const a=Qy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=CN(),d=jN(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const x=l.join("");de(vn,`Creating RPC '${e}' stream ${a}: ${x}`,m);const v=h.createWebChannel(x,m);this.I_(v);let w=!1,E=!1;const j=new tO({Yo:R=>{E?de(vn,`Not sending because RPC '${e}' stream ${a} is closed:`,R):(w||(de(vn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),w=!0),de(vn,`RPC '${e}' stream ${a} sending:`,R),v.send(R))},Zo:()=>v.close()}),k=(R,O,D)=>{R.listen(O,(U=>{try{D(U)}catch(H){setTimeout((()=>{throw H}),0)}}))};return k(v,cu.EventType.OPEN,(()=>{E||(de(vn,`RPC '${e}' stream ${a} transport opened.`),j.o_())})),k(v,cu.EventType.CLOSE,(()=>{E||(E=!0,de(vn,`RPC '${e}' stream ${a} transport closed`),j.a_(),this.E_(v))})),k(v,cu.EventType.ERROR,(R=>{E||(E=!0,_l(vn,`RPC '${e}' stream ${a} transport errored. Name:`,R.name,"Message:",R.message),j.a_(new ce(te.UNAVAILABLE,"The operation could not be completed")))})),k(v,cu.EventType.MESSAGE,(R=>{if(!E){const O=R.data[0];Ge(!!O,16349);const D=O,U=D?.error||D[0]?.error;if(U){de(vn,`RPC '${e}' stream ${a} received error:`,U);const H=U.status;let K=(function(A){const M=Ft[A];if(M!==void 0)return dS(M)})(H),ie=U.message;K===void 0&&(K=te.INTERNAL,ie="Unknown error status: "+H+" with message "+U.message),E=!0,j.a_(new ce(K,ie)),v.close()}else de(vn,`RPC '${e}' stream ${a} received:`,O),j.u_(O)}})),k(d,AN.STAT_EVENT,(R=>{R.stat===Oy.PROXY?de(vn,`RPC '${e}' stream ${a} detected buffering proxy`):R.stat===Oy.NOPROXY&&de(vn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function ay(){return typeof document<"u"?document:null}function Am(n){return new aP(n,!0)}class rx{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&de("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const uT="PersistentStream";class AS{constructor(e,t,r,a,l,h,d,m){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rx(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Wr(t.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new ce(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(uT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(de(uT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sO extends AS{constructor(e,t,r,a,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,h),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=uP(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Te.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Te.min():h.readTime?Wn(h.readTime):Te.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=$y(this.serializer),t.addTarget=(function(l,h){let d;const m=h.target;if(d=By(m)?{documents:dP(l,m)}:{query:fP(l,m).ft},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=pS(l,h.resumeToken);const g=Hy(l,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Te.min())>0){d.readTime=qf(l,h.snapshotVersion.toTimestamp());const g=Hy(l,h.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const r=pP(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=$y(this.serializer),t.removeTarget=e,this.q_(t)}}class rO extends AS{constructor(e,t,r,a,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,h),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=hP(e.writeResults,e.commitTime),r=Wn(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=$y(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>vS(this.serializer,r)))};this.q_(t)}}class iO{}class aO extends iO{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Go(e,Gy(t,r),a,l,h))).catch((l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(te.UNKNOWN,l.toString())}))}Ho(e,t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Ho(e,Gy(t,r),a,h,d,l))).catch((h=>{throw h.name==="FirebaseError"?(h.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(te.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class oO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wr(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const io="RemoteStore";class lO{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((h=>{r.enqueueAndForget((async()=>{uo(this)&&(de(io,"Restarting streams for network reachability change."),await(async function(m){const g=Se(m);g.Ea.add(4),await oh(g),g.Ra.set("Unknown"),g.Ea.delete(4),await jm(g)})(this))}))})),this.Ra=new oO(r,a)}}async function jm(n){if(uo(n))for(const e of n.da)await e(!0)}async function oh(n){for(const e of n.da)await e(!1)}function jS(n,e){const t=Se(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),lx(t)?ox(t):ql(t).O_()&&ax(t,e))}function ix(n,e){const t=Se(n),r=ql(t);t.Ia.delete(e),r.O_()&&CS(t,e),t.Ia.size===0&&(r.O_()?r.L_():uo(t)&&t.Ra.set("Unknown"))}function ax(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ql(n).Y_(e)}function CS(n,e){n.Va.Ue(e),ql(n).Z_(e)}function ox(n){n.Va=new nP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ql(n).start(),n.Ra.ua()}function lx(n){return uo(n)&&!ql(n).x_()&&n.Ia.size>0}function uo(n){return Se(n).Ea.size===0}function RS(n){n.Va=void 0}async function cO(n){n.Ra.set("Online")}async function uO(n){n.Ia.forEach(((e,t)=>{ax(n,e)}))}async function hO(n,e){RS(n),lx(n)?(n.Ra.ha(e),ox(n)):n.Ra.set("Unknown")}async function dO(n,e,t){if(n.Ra.set("Online"),e instanceof mS&&e.state===2&&e.cause)try{await(async function(a,l){const h=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,h),a.Ia.delete(d),a.Va.removeTarget(d))})(n,e)}catch(r){de(io,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $f(n,r)}else if(e instanceof wf?n.Va.Ze(e):e instanceof fS?n.Va.st(e):n.Va.tt(e),!t.isEqual(Te.min()))try{const r=await SS(n.localStore);t.compareTo(r)>=0&&await(function(l,h){const d=l.Va.Tt(h);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const x=l.Ia.get(g);x&&l.Ia.set(g,x.withResumeToken(m.resumeToken,h))}})),d.targetMismatches.forEach(((m,g)=>{const x=l.Ia.get(m);if(!x)return;l.Ia.set(m,x.withResumeToken(yn.EMPTY_BYTE_STRING,x.snapshotVersion)),CS(l,m);const v=new Fi(x.target,m,g,x.sequenceNumber);ax(l,v)})),l.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){de(io,"Failed to raise snapshot:",r),await $f(n,r)}}async function $f(n,e,t){if(!Bl(e))throw e;n.Ea.add(1),await oh(n),n.Ra.set("Offline"),t||(t=()=>SS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{de(io,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await jm(n)}))}function IS(n,e){return e().catch((t=>$f(n,t,e)))}async function Cm(n){const e=Se(n),t=ta(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:H0;for(;fO(e);)try{const a=await QP(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,mO(e,a)}catch(a){await $f(e,a)}MS(e)&&DS(e)}function fO(n){return uo(n)&&n.Ta.length<10}function mO(n,e){n.Ta.push(e);const t=ta(n);t.O_()&&t.X_&&t.ea(e.mutations)}function MS(n){return uo(n)&&!ta(n).x_()&&n.Ta.length>0}function DS(n){ta(n).start()}async function pO(n){ta(n).ra()}async function gO(n){const e=ta(n);for(const t of n.Ta)e.ea(t.mutations)}async function yO(n,e,t){const r=n.Ta.shift(),a=X0.from(r,e,t);await IS(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Cm(n)}async function xO(n,e){e&&ta(n).X_&&await(async function(r,a){if((function(h){return hS(h)&&h!==te.ABORTED})(a.code)){const l=r.Ta.shift();ta(r).B_(),await IS(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Cm(r)}})(n,e),MS(n)&&DS(n)}async function hT(n,e){const t=Se(n);t.asyncQueue.verifyOperationInProgress(),de(io,"RemoteStore received new credentials");const r=uo(t);t.Ea.add(3),await oh(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await jm(t)}async function vO(n,e){const t=Se(n);e?(t.Ea.delete(2),await jm(t)):e||(t.Ea.add(2),await oh(t),t.Ra.set("Unknown"))}function ql(n){return n.ma||(n.ma=(function(t,r,a){const l=Se(t);return l.sa(),new sO(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:cO.bind(null,n),t_:uO.bind(null,n),r_:hO.bind(null,n),H_:dO.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),lx(n)?ox(n):n.Ra.set("Unknown")):(await n.ma.stop(),RS(n))}))),n.ma}function ta(n){return n.fa||(n.fa=(function(t,r,a){const l=Se(t);return l.sa(),new rO(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:pO.bind(null,n),r_:xO.bind(null,n),ta:gO.bind(null,n),na:yO.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Cm(n)):(await n.fa.stop(),n.Ta.length>0&&(de(io,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class cx{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const h=Date.now()+r,d=new cx(e,t,h,a,l);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ux(n,e){if(Wr("AsyncQueue",`${e}: ${n}`),Bl(n))return new ce(te.UNAVAILABLE,`${e}: ${n}`);throw n}class vl{static emptySet(e){return new vl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||xe.comparator(t.key,r.key):(t,r)=>xe.comparator(t.key,r.key),this.keyedMap=uu(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new vl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class dT{constructor(){this.ga=new _t(xe.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class jl{constructor(e,t,r,a,l,h,d,m,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,a,l){const h=[];return t.forEach((d=>{h.push({type:0,doc:d})})),new jl(e,t,vl.emptySet(t),h,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class bO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class wO{constructor(){this.queries=fT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=Se(t),l=a.queries;a.queries=fT(),l.forEach(((h,d)=>{for(const m of d.Sa)m.onError(r)}))})(this,new ce(te.ABORTED,"Firestore shutting down"))}}function fT(){return new co((n=>XN(n)),wm)}async function hx(n,e){const t=Se(n);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new bO,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(h){const d=ux(h,`Initialization of query '${al(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&fx(t)}async function dx(n,e){const t=Se(n),r=e.query;let a=3;const l=t.queries.get(r);if(l){const h=l.Sa.indexOf(e);h>=0&&(l.Sa.splice(h,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function _O(n,e){const t=Se(n);let r=!1;for(const a of e){const l=a.query,h=t.queries.get(l);if(h){for(const d of h.Sa)d.Fa(a)&&(r=!0);h.wa=a}}r&&fx(t)}function TO(n,e,t){const r=Se(n),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);r.queries.delete(e)}function fx(n){n.Ca.forEach((e=>{e.next()}))}var Ky,mT;(mT=Ky||(Ky={})).Ma="default",mT.Cache="cache";class mx{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new jl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=jl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ky.Cache}}class kS{constructor(e){this.key=e}}class PS{constructor(e){this.key=e}}class EO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=JN(e),this.tu=new vl(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new dT,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,h=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((x,v)=>{const w=a.get(x),E=_m(this.query,v)?v:null,j=!!w&&this.mutatedKeys.has(w.key),k=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let R=!1;w&&E?w.data.isEqual(E.data)?j!==k&&(r.track({type:3,doc:E}),R=!0):this.su(w,E)||(r.track({type:2,doc:E}),R=!0,(m&&this.eu(E,m)>0||g&&this.eu(E,g)<0)&&(d=!0)):!w&&E?(r.track({type:0,doc:E}),R=!0):w&&!E&&(r.track({type:1,doc:w}),R=!0,(m||g)&&(d=!0)),R&&(E?(h=h.add(E),l=k?l.add(x):l.delete(x)):(h=h.delete(x),l=l.delete(x)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const x=this.query.limitType==="F"?h.last():h.first();h=h.delete(x.key),l=l.delete(x.key),r.track({type:1,doc:x})}return{tu:h,iu:r,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((x,v)=>(function(E,j){const k=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:R})}};return k(E)-k(j)})(x.type,v.type)||this.eu(x.doc,v.doc))),this.ou(r),a=a??!1;const d=t&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,h.length!==0||g?{snapshot:new jl(this.query,e.tu,l,h,e.mutatedKeys,m===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new PS(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new kS(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=ze();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return jl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const px="SyncEngine";class NO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class SO{constructor(e){this.key=e,this.hu=!1}}class AO{constructor(e,t,r,a,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new co((d=>XN(d)),wm),this.Iu=new Map,this.Eu=new Set,this.du=new _t(xe.comparator),this.Au=new Map,this.Ru=new ex,this.Vu={},this.mu=new Map,this.fu=Al.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jO(n,e,t=!0){const r=BS(n);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await OS(r,e,t,!0),a}async function CO(n,e){const t=BS(n);await OS(t,e,!0,!1)}async function OS(n,e,t,r){const a=await KP(n.localStore,hr(e)),l=a.targetId,h=n.sharedClientState.addLocalQueryTarget(l,t);let d;return r&&(d=await RO(n,e,l,h==="current",a.resumeToken)),n.isPrimaryClient&&t&&jS(n.remoteStore,a),d}async function RO(n,e,t,r,a){n.pu=(v,w,E)=>(async function(k,R,O,D){let U=R.view.ru(O);U.Cs&&(U=await aT(k.localStore,R.query,!1).then((({documents:I})=>R.view.ru(I,U))));const H=D&&D.targetChanges.get(R.targetId),K=D&&D.targetMismatches.get(R.targetId)!=null,ie=R.view.applyChanges(U,k.isPrimaryClient,H,K);return gT(k,R.targetId,ie.au),ie.snapshot})(n,v,w,E);const l=await aT(n.localStore,e,!0),h=new EO(e,l.Qs),d=h.ru(l.documents),m=ah.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),g=h.applyChanges(d,n.isPrimaryClient,m);gT(n,t,g.au);const x=new NO(e,t,h);return n.Tu.set(e,x),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function IO(n,e,t){const r=Se(n),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((h=>!wm(h,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Yy(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&ix(r.remoteStore,a.targetId),Wy(r,a.targetId)})).catch(zl)):(Wy(r,a.targetId),await Yy(r.localStore,a.targetId,!0))}async function MO(n,e){const t=Se(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ix(t.remoteStore,r.targetId))}async function DO(n,e,t){const r=zO(n);try{const a=await(function(h,d){const m=Se(h),g=mt.now(),x=d.reduce(((E,j)=>E.add(j.key)),ze());let v,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let j=Xr(),k=ze();return m.Ns.getEntries(E,x).next((R=>{j=R,j.forEach(((O,D)=>{D.isValidDocument()||(k=k.add(O))}))})).next((()=>m.localDocuments.getOverlayedDocuments(E,j))).next((R=>{v=R;const O=[];for(const D of d){const U=Wk(D,v.get(D.key).overlayedDocument);U!=null&&O.push(new ha(D.key,U,qN(U.value.mapValue),pn.exists(!0)))}return m.mutationQueue.addMutationBatch(E,g,O,d)})).next((R=>{w=R;const O=R.applyToLocalDocumentSet(v,k);return m.documentOverlayCache.saveOverlays(E,R.batchId,O)}))})).then((()=>({batchId:w.batchId,changes:eS(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(h,d,m){let g=h.Vu[h.currentUser.toKey()];g||(g=new _t(Ue)),g=g.insert(d,m),h.Vu[h.currentUser.toKey()]=g})(r,a.batchId,t),await lh(r,a.changes),await Cm(r.remoteStore)}catch(a){const l=ux(a,"Failed to persist write");t.reject(l)}}async function VS(n,e){const t=Se(n);try{const r=await $P(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const h=t.Au.get(l);h&&(Ge(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?h.hu=!0:a.modifiedDocuments.size>0?Ge(h.hu,14607):a.removedDocuments.size>0&&(Ge(h.hu,42227),h.hu=!1))})),await lh(t,r,e)}catch(r){await zl(r)}}function pT(n,e,t){const r=Se(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((l,h)=>{const d=h.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(h,d){const m=Se(h);m.onlineState=d;let g=!1;m.queries.forEach(((x,v)=>{for(const w of v.Sa)w.va(d)&&(g=!0)})),g&&fx(m)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kO(n,e,t){const r=Se(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),l=a&&a.key;if(l){let h=new _t(xe.comparator);h=h.insert(l,tn.newNoDocument(l,Te.min()));const d=ze().add(l),m=new Sm(Te.min(),new Map,new _t(Ue),h,d);await VS(r,m),r.du=r.du.remove(l),r.Au.delete(e),gx(r)}else await Yy(r.localStore,e,!1).then((()=>Wy(r,e,t))).catch(zl)}async function PO(n,e){const t=Se(n),r=e.batch.batchId;try{const a=await GP(t.localStore,e);US(t,r,null),LS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await lh(t,a)}catch(a){await zl(a)}}async function OO(n,e,t){const r=Se(n);try{const a=await(function(h,d){const m=Se(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let x;return m.mutationQueue.lookupMutationBatch(g,d).next((v=>(Ge(v!==null,37113),x=v.keys(),m.mutationQueue.removeMutationBatch(g,v)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,x,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,x))).next((()=>m.localDocuments.getDocuments(g,x)))}))})(r.localStore,e);US(r,e,t),LS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await lh(r,a)}catch(a){await zl(a)}}function LS(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function US(n,e,t){const r=Se(n);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function Wy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||zS(n,r)}))}function zS(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(ix(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),gx(n))}function gT(n,e,t){for(const r of t)r instanceof kS?(n.Ru.addReference(r.key,e),VO(n,r)):r instanceof PS?(de(px,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||zS(n,r.key)):be(19791,{wu:r})}function VO(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(de(px,"New document in limbo: "+t),n.Eu.add(r),gx(n))}function gx(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new xe(at.fromString(e)),r=n.fu.next();n.Au.set(r,new SO(t)),n.du=n.du.insert(t,r),jS(n.remoteStore,new Fi(hr(bm(t.path)),r,"TargetPurposeLimboResolution",xm.ce))}}async function lh(n,e,t){const r=Se(n),a=[],l=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,m)=>{h.push(r.pu(m,e,t).then((g=>{if((g||t)&&r.isPrimaryClient){const x=g?!g.fromCache:t?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,x?"current":"not-current")}if(g){a.push(g);const x=nx.As(m.targetId,g);l.push(x)}})))})),await Promise.all(h),r.Pu.H_(a),await(async function(m,g){const x=Se(m);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ae.forEach(g,(w=>ae.forEach(w.Es,(E=>x.persistence.referenceDelegate.addReference(v,w.targetId,E))).next((()=>ae.forEach(w.ds,(E=>x.persistence.referenceDelegate.removeReference(v,w.targetId,E)))))))))}catch(v){if(!Bl(v))throw v;de(sx,"Failed to update sequence numbers: "+v)}for(const v of g){const w=v.targetId;if(!v.fromCache){const E=x.Ms.get(w),j=E.snapshotVersion,k=E.withLastLimboFreeSnapshotVersion(j);x.Ms=x.Ms.insert(w,k)}}})(r.localStore,l))}async function LO(n,e){const t=Se(n);if(!t.currentUser.isEqual(e)){de(px,"User change. New user:",e.toKey());const r=await NS(t.localStore,e);t.currentUser=e,(function(l,h){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new ce(te.CANCELLED,h))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lh(t,r.Ls)}}function UO(n,e){const t=Se(n),r=t.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let a=ze();const l=t.Iu.get(e);if(!l)return a;for(const h of l){const d=t.Tu.get(h);a=a.unionWith(d.view.nu)}return a}}function BS(n){const e=Se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=VS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kO.bind(null,e),e.Pu.H_=_O.bind(null,e.eventManager),e.Pu.yu=TO.bind(null,e.eventManager),e}function zO(n){const e=Se(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OO.bind(null,e),e}class Yf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Am(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return HP(this.persistence,new BP,e.initialUser,this.serializer)}Cu(e){return new ES(tx.mi,this.serializer)}Du(e){return new XP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yf.provider={build:()=>new Yf};class BO extends Yf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ge(this.persistence.referenceDelegate instanceof Gf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new SP(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new ES((r=>Gf.mi(r,t)),this.serializer)}}class Xy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=LO.bind(null,this.syncEngine),await vO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new wO})()}createDatastore(e){const t=Am(e.databaseInfo.databaseId),r=(function(l){return new nO(l)})(e.databaseInfo);return(function(l,h,d,m){return new aO(l,h,d,m)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,l,h,d){return new lO(r,a,l,h,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>pT(this.syncEngine,t,0)),(function(){return cT.v()?new cT:new JP})())}createSyncEngine(e,t){return(function(a,l,h,d,m,g,x){const v=new AO(a,l,h,d,m,g);return x&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Se(t);de(io,"RemoteStore shutting down."),r.Ea.add(5),await oh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xy.provider={build:()=>new Xy};class yx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class FO{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ce(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(a,l){const h=Se(a),d={documents:l.map((v=>Hf(h.serializer,v)))},m=await h.Ho("BatchGetDocuments",h.serializer.databaseId,at.emptyPath(),d,l.length),g=new Map;m.forEach((v=>{const w=cP(h.serializer,v);g.set(w.key.toString(),w)}));const x=[];return l.forEach((v=>{const w=g.get(v.toString());Ge(!!w,55234,{key:v}),x.push(w)})),x})(this.datastore,e);return t.forEach((r=>this.recordVersion(r))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Nm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,r)=>{const a=xe.fromPath(r);this.mutations.push(new uS(a,this.precondition(a)))})),await(async function(r,a){const l=Se(r),h={writes:a.map((d=>vS(l.serializer,d)))};await l.Go("Commit",l.serializer.databaseId,at.emptyPath(),h)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw be(50498,{Gu:e.constructor.name});t=Te.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ce(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Te.min())?pn.exists(!1):pn.updateTime(t):pn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Te.min()))throw new ce(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pn.updateTime(t)}return pn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class qO{constructor(e,t,r,a,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=a,this.deferred=l,this.zu=r.maxAttempts,this.M_=new rx(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new FO(this.datastore),t=this.Hu(e);t&&t.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((a=>{this.Yu(a)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const t=this.updateFunction(e);return!rh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!hS(t)}return!1}}const na="FirestoreClient";class HO{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=wn.UNAUTHENTICATED,this.clientId=q0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async h=>{de(na,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(r,(h=>(de(na,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=ux(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function oy(n,e){n.asyncQueue.verifyOperationInProgress(),de(na,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await NS(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function yT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await GO(n);de(na,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>hT(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>hT(e.remoteStore,a))),n._onlineComponents=e}async function GO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(na,"Using user provided OfflineComponentProvider");try{await oy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;_l("Error using user provided cache. Falling back to memory cache: "+t),await oy(n,new Yf)}}else de(na,"Using default OfflineComponentProvider"),await oy(n,new BO(void 0));return n._offlineComponents}async function xx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(na,"Using user provided OnlineComponentProvider"),await yT(n,n._uninitializedComponentsProvider._online)):(de(na,"Using default OnlineComponentProvider"),await yT(n,new Xy))),n._onlineComponents}function $O(n){return xx(n).then((e=>e.syncEngine))}function YO(n){return xx(n).then((e=>e.datastore))}async function Qf(n){const e=await xx(n),t=e.eventManager;return t.onListen=jO.bind(null,e.syncEngine),t.onUnlisten=IO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=CO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=MO.bind(null,e.syncEngine),t}function QO(n,e,t={}){const r=new ur;return n.asyncQueue.enqueueAndForget((async()=>(function(l,h,d,m,g){const x=new yx({next:w=>{x.Nu(),h.enqueueAndForget((()=>dx(l,v)));const E=w.docs.has(d);!E&&w.fromCache?g.reject(new ce(te.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&w.fromCache&&m&&m.source==="server"?g.reject(new ce(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),v=new mx(bm(d.path),x,{includeMetadataChanges:!0,qa:!0});return hx(l,v)})(await Qf(n),n.asyncQueue,e,t,r))),r.promise}function KO(n,e,t={}){const r=new ur;return n.asyncQueue.enqueueAndForget((async()=>(function(l,h,d,m,g){const x=new yx({next:w=>{x.Nu(),h.enqueueAndForget((()=>dx(l,v))),w.fromCache&&m.source==="server"?g.reject(new ce(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),v=new mx(d,x,{includeMetadataChanges:!0,qa:!0});return hx(l,v)})(await Qf(n),n.asyncQueue,e,t,r))),r.promise}function FS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const xT=new Map;const qS="firestore.googleapis.com",vT=!0;class bT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qS,this.ssl=vT}else this.host=e.host,this.ssl=e.ssl??vT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<EP)throw new ce(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rm{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new tk;switch(r.type){case"firstParty":return new ik(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=xT.get(t);r&&(de("ComponentProvider","Removing Datastore"),xT.delete(t),r.terminate())})(this),Promise.resolve()}}function WO(n,e,t,r={}){n=jn(n,Rm);const a=Ol(e),l=n._getSettings(),h={...l,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;a&&(OE(`https://${d}`),VE("Firestore",!0)),l.host!==qS&&l.host!==d&&_l("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:r};if(!Wi(m,h)&&(n._setSettings(m),r.mockUserToken)){let g,x;if(typeof r.mockUserToken=="string")g=r.mockUserToken,x=wn.MOCK_USER;else{g=fM(r.mockUserToken,n._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ce(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new wn(v)}n._authCredentials=new nk(new IN(g,x))}}class da{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new da(this.firestore,e,this._query)}}class wt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(sh(t,wt._jsonSchema))return new wt(e,r||null,new xe(at.fromString(t.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:Ht("string",wt._jsonSchemaVersion),referencePath:Ht("string")};class Yi extends da{constructor(e,t,r){super(e,t,bm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new xe(e))}withConverter(e){return new Yi(this.firestore,e,this._path)}}function Vn(n,e,...t){if(n=St(n),MN("collection","path",e),n instanceof Rm){const r=at.fromString(e,...t);return D_(r),new Yi(n,null,r)}{if(!(n instanceof wt||n instanceof Yi))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(at.fromString(e,...t));return D_(r),new Yi(n.firestore,null,r)}}function gn(n,e,...t){if(n=St(n),arguments.length===1&&(e=q0.newId()),MN("doc","path",e),n instanceof Rm){const r=at.fromString(e,...t);return M_(r),new wt(n,null,new xe(r))}{if(!(n instanceof wt||n instanceof Yi))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(at.fromString(e,...t));return M_(r),new wt(n.firestore,n instanceof Yi?n.converter:null,new xe(r))}}const wT="AsyncQueue";class _T{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rx(this,"async_queue_retry"),this._c=()=>{const r=ay();r&&de(wT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=ay();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ay();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ur;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Bl(e))throw e;de(wT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Wr("INTERNAL UNHANDLED ERROR: ",TT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=cx.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&be(47125,{Pc:TT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function TT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function ET(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class yr extends Rm{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new _T,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _T(e),this._firestoreClient=void 0,await e}}}function XO(n,e){const t=typeof n=="object"?n:BE(),r=typeof n=="string"?n:zf,a=M0(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=hM("firestore");l&&WO(a,...l)}return a}function ch(n){if(n._terminated)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||JO(n),n._firestoreClient}function JO(n){const e=n._freezeSettings(),t=(function(a,l,h,d){return new _k(a,l,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,FS(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new HO(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(yn.fromBase64String(e))}catch(t){throw new ce(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Qn(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(sh(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Ht("string",Qn._jsonSchemaVersion),bytes:Ht("string")};class uh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hl{constructor(e){this._methodName=e}}class dr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:dr._jsonSchemaVersion}}static fromJSON(e){if(sh(e,dr._jsonSchema))return new dr(e.latitude,e.longitude)}}dr._jsonSchemaVersion="firestore/geoPoint/1.0",dr._jsonSchema={type:Ht("string",dr._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};class fr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(sh(e,fr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new fr(e.vectorValues);throw new ce(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fr._jsonSchemaVersion="firestore/vectorValue/1.0",fr._jsonSchema={type:Ht("string",fr._jsonSchemaVersion),vectorValues:Ht("object")};const ZO=/^__.*__$/;class eV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ha(e,this.data,this.fieldMask,t,this.fieldTransforms):new ih(e,this.data,t,this.fieldTransforms)}}class HS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ha(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function GS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:n})}}class Im{constructor(e,t,r,a,l,h){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Im({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Kf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(GS(this.Ac)&&ZO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class tV{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Am(e)}Cc(e,t,r,a=!1){return new Im({Ac:e,methodName:t,Dc:r,path:mn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hh(n){const e=n._freezeSettings(),t=Am(n._databaseId);return new tV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function vx(n,e,t,r,a,l={}){const h=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);Tx("Data must be an object, but it was:",h,r);const d=QS(r,h);let m,g;if(l.merge)m=new Kn(h.fieldMask),g=h.fieldTransforms;else if(l.mergeFields){const x=[];for(const v of l.mergeFields){const w=Jy(e,v,t);if(!h.contains(w))throw new ce(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);WS(x,w)||x.push(w)}m=new Kn(x),g=h.fieldTransforms.filter((v=>m.covers(v.field)))}else m=null,g=h.fieldTransforms;return new eV(new An(d),m,g)}class Mm extends Hl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mm}}function nV(n,e,t){return new Im({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class bx extends Hl{_toFieldTransform(e){return new W0(e.path,new Lu)}isEqual(e){return e instanceof bx}}class wx extends Hl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=nV(this,e,!0),r=this.vc.map((l=>Gl(l,t))),a=new Sl(r);return new W0(e.path,a)}isEqual(e){return e instanceof wx&&Wi(this.vc,e.vc)}}class _x extends Hl{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new zu(e.serializer,sS(e.serializer,this.Fc));return new W0(e.path,t)}isEqual(e){return e instanceof _x&&this.Fc===e.Fc}}function $S(n,e,t,r){const a=n.Cc(1,e,t);Tx("Data must be an object, but it was:",a,r);const l=[],h=An.empty();ua(r,((m,g)=>{const x=Ex(e,m,t);g=St(g);const v=a.yc(x);if(g instanceof Mm)l.push(x);else{const w=Gl(g,v);w!=null&&(l.push(x),h.set(x,w))}}));const d=new Kn(l);return new HS(h,d,a.fieldTransforms)}function YS(n,e,t,r,a,l){const h=n.Cc(1,e,t),d=[Jy(e,r,t)],m=[a];if(l.length%2!=0)throw new ce(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(Jy(e,l[w])),m.push(l[w+1]);const g=[],x=An.empty();for(let w=d.length-1;w>=0;--w)if(!WS(g,d[w])){const E=d[w];let j=m[w];j=St(j);const k=h.yc(E);if(j instanceof Mm)g.push(E);else{const R=Gl(j,k);R!=null&&(g.push(E),x.set(E,R))}}const v=new Kn(g);return new HS(x,v,h.fieldTransforms)}function sV(n,e,t,r=!1){return Gl(t,n.Cc(r?4:3,e))}function Gl(n,e){if(KS(n=St(n)))return Tx("Unsupported field value:",e,n),QS(n,e);if(n instanceof Hl)return(function(r,a){if(!GS(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let h=0;for(const d of r){let m=Gl(d,a.wc(h));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),h++}return{arrayValue:{values:l}}})(n,e)}return(function(r,a){if((r=St(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sS(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=mt.fromDate(r);return{timestampValue:qf(a.serializer,l)}}if(r instanceof mt){const l=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qf(a.serializer,l)}}if(r instanceof dr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qn)return{bytesValue:pS(a.serializer,r._byteString)};if(r instanceof wt){const l=a.databaseId,h=r.firestore._databaseId;if(!h.isEqual(l))throw a.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Z0(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof fr)return(function(h,d){return{mapValue:{fields:{[BN]:{stringValue:FN},[Bf]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return K0(d.serializer,g)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${ym(r)}`)})(n,e)}function QS(n,e){const t={};return PN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ua(n,((r,a)=>{const l=Gl(a,e.mc(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function KS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof mt||n instanceof dr||n instanceof Qn||n instanceof wt||n instanceof Hl||n instanceof fr)}function Tx(n,e,t){if(!KS(t)||!DN(t)){const r=ym(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Jy(n,e,t){if((e=St(e))instanceof uh)return e._internalPath;if(typeof e=="string")return Ex(n,e);throw Kf("Field path arguments must be of type string or ",n,!1,void 0,t)}const rV=new RegExp("[~\\*/\\[\\]]");function Ex(n,e,t){if(e.search(rV)>=0)throw Kf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new uh(...e.split("."))._internalPath}catch{throw Kf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Kf(n,e,t,r,a){const l=r&&!r.isEmpty(),h=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||h)&&(m+=" (found",l&&(m+=` in field ${r}`),h&&(m+=` in document ${a}`),m+=")"),new ce(te.INVALID_ARGUMENT,d+n+m)}function WS(n,e){return n.some((t=>t.isEqual(e)))}class Wf{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Dm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class iV extends Wf{data(){return super.data()}}function Dm(n,e){return typeof e=="string"?Ex(n,e):e instanceof uh?e._internalPath:e._delegate._internalPath}function XS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ce(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Nx{}class JS extends Nx{}function xr(n,e,...t){let r=[];e instanceof Nx&&r.push(e),r=r.concat(t),(function(l){const h=l.filter((m=>m instanceof Ax)).length,d=l.filter((m=>m instanceof km)).length;if(h>1||h>0&&d>0)throw new ce(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class km extends JS{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new km(e,t,r)}_apply(e){const t=this._parse(e);return ZS(e._query,t),new da(e.firestore,e.converter,Fy(e._query,t))}_parse(e){const t=hh(e.firestore);return(function(l,h,d,m,g,x,v){let w;if(g.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new ce(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){ST(v,x);const j=[];for(const k of v)j.push(NT(m,l,k));w={arrayValue:{values:j}}}else w=NT(m,l,v)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||ST(v,x),w=sV(d,h,v,x==="in"||x==="not-in");return qt.create(g,x,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Sx(n,e,t){const r=e,a=Dm("where",n);return km._create(a,r,t)}class Ax extends Nx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ax(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:ks.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let h=a;const d=l.getFlattenedFilters();for(const m of d)ZS(h,m),h=Fy(h,m)})(e._query,t),new da(e.firestore,e.converter,Fy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jx extends JS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new jx(e,t)}_apply(e){const t=(function(a,l,h){if(a.startAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vu(l,h)})(e._query,this._field,this._direction);return new da(e.firestore,e.converter,(function(a,l){const h=a.explicitOrderBy.concat([l]);return new Fl(a.path,a.collectionGroup,h,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function dh(n,e="asc"){const t=e,r=Dm("orderBy",n);return jx._create(r,t)}function NT(n,e,t){if(typeof(t=St(t))=="string"){if(t==="")throw new ce(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WN(e)&&t.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(at.fromString(t));if(!xe.isDocumentKey(r))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return B_(n,new xe(r))}if(t instanceof wt)return B_(n,t._key);throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ym(t)}.`)}function ST(n,e){if(!Array.isArray(n)||n.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZS(n,e){const t=(function(a,l){for(const h of a)for(const d of h.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class eA{convertValue(e,t="none"){switch(ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ua(e,((a,l)=>{r[a]=this.convertValue(l,t)})),r}convertVectorValue(e){const t=e.fields?.[Bf].arrayValue?.values?.map((r=>Mt(r.doubleValue)));return new fr(t)}convertGeoPoint(e){return new dr(Mt(e.latitude),Mt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=vm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ku(e));default:return null}}convertTimestamp(e){const t=Ji(e);return new mt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=at.fromString(e);Ge(_S(r),9688,{name:e});const a=new Pu(r.get(1),r.get(3)),l=new xe(r.popFirst(5));return a.isEqual(t)||Wr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Cx(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class aV extends eA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,t)}}class ul{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qi extends Wf{constructor(e,t,r,a,l,h){super(e,t,r,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Dm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Qi._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Qi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qi._jsonSchema={type:Ht("string",Qi._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class _f extends Qi{data(e={}){return super.data(e)}}class Za{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new ul(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new _f(this._firestore,this._userDataWriter,r.key,r,new ul(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map((d=>{const m=new _f(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ul(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}}))}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new _f(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ul(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,x=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),x=h.indexOf(d.doc.key)),{type:oV(d.type),doc:m,oldIndex:g,newIndex:x}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Za._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=q0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:n})}}function lV(n){n=jn(n,wt);const e=jn(n.firestore,yr);return QO(ch(e),n._key).then((t=>nA(e,n,t)))}Za._jsonSchemaVersion="firestore/querySnapshot/1.0",Za._jsonSchema={type:Ht("string",Za._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class Pm extends eA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,t)}}function sa(n){n=jn(n,da);const e=jn(n.firestore,yr),t=ch(e),r=new Pm(e);return XS(n._query),KO(t,n._query).then((a=>new Za(e,r,n,a)))}function tA(n,e,t){n=jn(n,wt);const r=jn(n.firestore,yr),a=Cx(n.converter,e,t);return Om(r,[vx(hh(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,pn.none())])}function ra(n,e,t,...r){n=jn(n,wt);const a=jn(n.firestore,yr),l=hh(a);let h;return h=typeof(e=St(e))=="string"||e instanceof uh?YS(l,"updateDoc",n._key,e,t,r):$S(l,"updateDoc",n._key,e),Om(a,[h.toMutation(n._key,pn.exists(!0))])}function cV(n){return Om(jn(n.firestore,yr),[new Nm(n._key,pn.none())])}function fh(n,e){const t=jn(n.firestore,yr),r=gn(n),a=Cx(n.converter,e);return Om(t,[vx(hh(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,pn.exists(!1))]).then((()=>r))}function mh(n,...e){n=St(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||ET(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(ET(e[r])){const m=e[r];e[r]=m.next?.bind(m),e[r+1]=m.error?.bind(m),e[r+2]=m.complete?.bind(m)}let l,h,d;if(n instanceof wt)h=jn(n.firestore,yr),d=bm(n._key.path),l={next:m=>{e[r]&&e[r](nA(h,n,m))},error:e[r+1],complete:e[r+2]};else{const m=jn(n,da);h=jn(m.firestore,yr),d=m._query;const g=new Pm(h);l={next:x=>{e[r]&&e[r](new Za(h,g,m,x))},error:e[r+1],complete:e[r+2]},XS(n._query)}return(function(g,x,v,w){const E=new yx(w),j=new mx(x,E,v);return g.asyncQueue.enqueueAndForget((async()=>hx(await Qf(g),j))),()=>{E.Nu(),g.asyncQueue.enqueueAndForget((async()=>dx(await Qf(g),j)))}})(ch(h),d,a,l)}function Om(n,e){return(function(r,a){const l=new ur;return r.asyncQueue.enqueueAndForget((async()=>DO(await $O(r),a,l))),l.promise})(ch(n),e)}function nA(n,e,t){const r=t.docs.get(e._key),a=new Pm(n);return new Qi(n,a,e._key,r,new ul(t.hasPendingWrites,t.fromCache),e.converter)}const uV={maxAttempts:5};function du(n,e){if((n=St(n)).firestore!==e)throw new ce(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class hV{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=hh(e)}get(e){const t=du(e,this._firestore),r=new aV(this._firestore);return this._transaction.lookup([t._key]).then((a=>{if(!a||a.length!==1)return be(24041);const l=a[0];if(l.isFoundDocument())return new Wf(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new Wf(this._firestore,r,t._key,null,t.converter);throw be(18433,{doc:l})}))}set(e,t,r){const a=du(e,this._firestore),l=Cx(a.converter,t,r),h=vx(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,r);return this._transaction.set(a._key,h),this}update(e,t,r,...a){const l=du(e,this._firestore);let h;return h=typeof(t=St(t))=="string"||t instanceof uh?YS(this._dataReader,"Transaction.update",l._key,t,r,a):$S(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,h),this}delete(e){const t=du(e,this._firestore);return this._transaction.delete(t._key),this}}class dV extends hV{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=du(e,this._firestore),r=new Pm(this._firestore);return super.get(e).then((a=>new Qi(this._firestore,r,t._key,a._document,new ul(!1,!1),t.converter)))}}function fV(n,e,t){n=jn(n,yr);const r={...uV,...t};return(function(l){if(l.maxAttempts<1)throw new ce(te.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(l,h,d){const m=new ur;return l.asyncQueue.enqueueAndForget((async()=>{const g=await YO(l);new qO(l.asyncQueue,g,d,h,m).ju()})),m.promise})(ch(n),(a=>e(new dV(n,a))),r)}function Xf(){return new bx("serverTimestamp")}function sA(...n){return new wx("arrayUnion",n)}function Wa(n){return new _x("increment",n)}(function(e,t=!0){(function(a){Ul=a})(Vl),wl(new to("firestore",((r,{instanceIdentifier:a,options:l})=>{const h=r.getProvider("app").getImmediate(),d=new yr(new sk(r.getProvider("auth-internal")),new ak(h,r.getProvider("app-check-internal")),(function(g,x){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pu(g.options.projectId,x)})(h,a),h);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Gi(j_,C_,e),Gi(j_,C_,"esm2020")})();var mV="firebase",pV="12.6.0";Gi(mV,pV,"app");const gV={apiKey:"AIzaSyDzEay5fGB-2r5_V9UXOO8cOv-nJdHwDRg",authDomain:"rush-coffee.firebaseapp.com",projectId:"rush-coffee",storageBucket:"rush-coffee.firebasestorage.app",messagingSenderId:"423413538635",appId:"1:423413538635:web:ded0369f50c3a9086bd2ce"},rA=zE(gV),nu=Z3(rA),Xe=XO(rA),iA=N.createContext(void 0),ys=()=>{const n=N.useContext(iA);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},yV=({children:n})=>{const[e,t]=N.useState(null),[r,a]=N.useState(!0);N.useEffect(()=>{let v;const w=F5(nu,async E=>{if(v&&v(),E){const j=gn(Xe,"users",E.uid);v=mh(j,k=>{if(k.exists()){const R=k.data(),O={uid:E.uid,email:E.email,firstName:R.firstName||"User",lastName:R.lastName||"",phone:R.phone||"",photoURL:R.photoURL,createdAt:R.createdAt?.toDate()||new Date,role:R.role,totalOrders:R.totalOrders??0,totalSpent:R.totalSpent??0,currentPoints:R.currentPoints??0,lifetimePoints:R.lifetimePoints??0,tier:R.tier||"bronze",rewardsHistory:(R.rewardsHistory||[]).map(D=>({...D,date:D.date.toDate()})).sort((D,U)=>U.date-D.date),preferences:R.preferences||{notifications:{push:!0,emailUpdates:!0,marketing:!1},theme:"auto",privacy:{shareUsageData:!0,personalizedRecs:!0}}};t(O)}else t(null);a(!1)},k=>{console.error("Error listening to user document:",k),t(null),a(!1)})}else t(null),a(!1)});return()=>{w(),v&&v()}},[]);const x={currentUser:e,loading:r,register:async(v,w,E,j,k)=>{const O=(await V5(nu,v,w)).user,D={id:`rh-${Date.now()}`,type:"earned",points:25,description:"Welcome Bonus",date:new Date},U={firstName:E,lastName:j,phone:k||"",createdAt:new Date,totalOrders:0,totalSpent:0,currentPoints:25,lifetimePoints:25,tier:"bronze",rewardsHistory:[D],preferences:{notifications:{push:!0,emailUpdates:!0,marketing:!1},theme:"auto",privacy:{shareUsageData:!0,personalizedRecs:!0}},cart:[]};await tA(gn(Xe,"users",O.uid),U)},login:async(v,w,E)=>{await U5(nu,E?gN:U0),await L5(nu,v,w)},logout:async()=>{await q5(nu)},updateUserProfile:async v=>{if(!e)return;const w=gn(Xe,"users",e.uid);await ra(w,v)},updateUserPhoto:async v=>{if(!e)return;const w=gn(Xe,"users",e.uid);await ra(w,{photoURL:v})}};return c.jsx(iA.Provider,{value:x,children:!r&&n})},aA=[{id:"cb-01",name:"Spanish Latte",description:"A creamy and sweet latte with a Spanish twist, featuring condensed milk for a rich flavor.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:"https://images.unsplash.com/photo-1621289191399-074a1d134887?q=80&w=600",available:!0,stock:99,popular:!0,displayOrder:1,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:150},{ingredientId:"condensed-milk",quantity:30}]},{id:"cb-02",name:"Rush Coffee Blend",description:"Our signature house blend, perfectly balanced for a smooth and satisfying coffee experience.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:89}],imageUrl:"https://images.unsplash.com/photo-1589341323325-16c8f94685f8?q=80&w=600",available:!0,stock:99,popular:!0,displayOrder:2,recipe:[{ingredientId:"coffee-beans-blend",quantity:18},{ingredientId:"hot-water",quantity:200}]},{id:"cb-03",name:"Caramel Chocolate Mocha",description:"A decadent mix of rich chocolate, espresso, and creamy caramel for the ultimate treat.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:"https://images.unsplash.com/photo-1603803204918-a0833a6f3b25?q=80&w=600",available:!0,stock:99,popular:!0,displayOrder:3,recipe:[{ingredientId:"espresso-shot",quantity:2},{ingredientId:"milk",quantity:150},{ingredientId:"chocolate-sauce",quantity:20},{ingredientId:"caramel-sauce",quantity:15}]},{id:"cb-04",name:"Dark Chocolate Mocha",description:"A bold and intense mocha experience with premium dark chocolate and strong espresso.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:"https://images.unsplash.com/photo-1542326588-e8a2455822ff?q=80&w=600",available:!0,stock:99,displayOrder:4},{id:"cb-05",name:"Mocha Latte",description:"A classic blend of smooth espresso, rich chocolate sauce, and steamed milk.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:"https://images.unsplash.com/photo-1623112142751-0a9981836104?q=80&w=600",available:!0,stock:99,displayOrder:5},{id:"cb-06",name:"Americano",description:"Bold espresso shots topped with hot water to create a light layer of crema.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:69}],imageUrl:"https://images.unsplash.com/photo-1586348943529-beaae6c28db9?q=80&w=600",available:!0,stock:99,displayOrder:6},{id:"cb-07",name:"Biscoff Latte",description:"An indulgent latte infused with the irresistible flavor of caramelized Biscoff cookies.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:99},{name:"Venti",size:"22oz",price:199}],imageUrl:"https://images.unsplash.com/photo-1610890693148-e1db6f51f47a?q=80&w=600",available:!0,stock:99,displayOrder:7},{id:"cb-08",name:"Reeses Latte",description:"The perfect combination of peanut butter, chocolate, and espresso. A candy lover's dream.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:"https://images.unsplash.com/photo-1611082596937-293699a6d36f?q=80&w=600",available:!0,stock:99,displayOrder:8},{id:"cb-09",name:"Brown Sugar Latte",description:"A comforting latte sweetened with rich, molasses-like brown sugar syrup.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:59},{name:"Venti",size:"22oz",price:79}],imageUrl:"https://images.unsplash.com/photo-1630449942323-28d11634a36f?q=80&w=600",available:!0,stock:99,displayOrder:9},{id:"cb-10",name:"Iced Latte",description:"A simple classic. Chilled espresso with cold milk served over ice.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:69}],imageUrl:"https://images.unsplash.com/photo-1589396520838-03c642278453?q=80&w=600",available:!0,stock:99,displayOrder:10},{id:"cb-11",name:"Orange Latte",description:"A unique and refreshing latte with a zesty hint of natural orange flavor.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:89}],imageUrl:"https://images.unsplash.com/photo-1610889556528-9a742f161427?q=80&w=600",available:!0,stock:99,displayOrder:11},{id:"cb-12",name:"Coffee Jelly",description:"A delightful iced coffee drink with chewy, coffee-flavored jelly cubes.",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:99}],imageUrl:"https://images.unsplash.com/photo-1572498873426-9d6f3e0d2b7e?q=80&w=600",available:!0,stock:99,displayOrder:12},{id:"nc-01",name:"Red Velvet",description:"A sweet and creamy drink inspired by the classic red velvet cake, with hints of cocoa and vanilla.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:"https://images.unsplash.com/photo-1600718374662-0483d2b9da44?q=80&w=600",available:!0,stock:99,displayOrder:13},{id:"nc-02",name:"Red Velvet Matcha Latte",description:"A beautiful and delicious blend of earthy matcha and sweet red velvet flavors.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:"https://images.unsplash.com/photo-1563822558223-5a2a8adea614?q=80&w=600",available:!0,stock:99,displayOrder:14},{id:"nc-03",name:"Milky Choco",description:"A rich and comforting chocolate drink made with high-quality cocoa and fresh milk.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:"https://images.unsplash.com/photo-1542848523-2a4721a78736?q=80&w=600",available:!0,stock:99,displayOrder:15},{id:"nc-04",name:"Strawberry Milk",description:"A refreshing and creamy drink made with real strawberries and fresh milk.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:"https://images.unsplash.com/photo-1622171129302-1f486241a87e?q=80&w=600",available:!0,stock:99,displayOrder:16},{id:"nc-05",name:"Biscoff Milky",description:"A non-coffee treat blending the sweet, caramelized taste of Biscoff with creamy milk.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:"https://images.unsplash.com/photo-1596700249549-8055f1f99b24?q=80&w=600",available:!0,stock:99,displayOrder:17},{id:"nc-06",name:"Oreo Latte",description:"A fun and delicious drink packed with the classic cookies and cream flavor of Oreos.",category:"Non-Coffee Based",sizes:[{name:"Grande",size:"16oz",price:89},{name:"Venti",size:"22oz",price:109}],imageUrl:"https://images.unsplash.com/photo-1625194657116-2a9a11da4821?q=80&w=600",available:!0,stock:99,displayOrder:18},{id:"ms-01",name:"Matcha Latte",description:"Premium Japanese matcha green tea with steamed milk, a perfect balance of earthy and creamy.",category:"Matcha Series",sizes:[{name:"Grande",size:"16oz",price:69},{name:"Venti",size:"22oz",price:89}],imageUrl:"https://images.unsplash.com/photo-1577968897966-3d4325b36def?q=80&w=600",available:!0,stock:99,popular:!0,displayOrder:19,recipe:[{ingredientId:"matcha-powder",quantity:5},{ingredientId:"milk",quantity:200}]},{id:"ms-02",name:"Strawberry Matcha",description:"A delightful pairing of sweet strawberry puree and high-quality matcha green tea.",category:"Matcha Series",sizes:[{name:"Grande",size:"16oz",price:99},{name:"Venti",size:"22oz",price:109}],imageUrl:"https://images.unsplash.com/photo-1615837197154-2e801f9bd236?q=80&w=600",available:!0,stock:99,displayOrder:20},{id:"ms-03",name:"Matcha Cream Cheese",description:"Earthy matcha topped with a rich, savory, and slightly sweet cream cheese foam.",category:"Matcha Series",sizes:[{name:"Grande",size:"16oz",price:99},{name:"Venti",size:"22oz",price:109}],imageUrl:"https://images.unsplash.com/photo-1587764353351-d4a4bca0f17e?q=80&w=600",available:!0,stock:99,displayOrder:21},{id:"ms-04",name:"Matcha Oreo",description:"A creative blend of matcha and crushed Oreo cookies for a unique texture and flavor.",category:"Matcha Series",sizes:[{name:"Grande",size:"16oz",price:79},{name:"Venti",size:"22oz",price:99}],imageUrl:"https://images.unsplash.com/photo-1562376556-a65529391005?q=80&w=600",available:!0,stock:99,displayOrder:22}],oA=N.createContext(void 0),$l=()=>{const n=N.useContext(oA);if(!n)throw new Error("useProduct must be used within a ProductProvider");return n},xV=({children:n})=>{const[e,t]=N.useState([]),[r,a]=N.useState(!0),[l,h]=N.useState(null),d=N.useCallback(async()=>{a(!0);try{const w=Vn(Xe,"products"),E=xr(w,dh("displayOrder","asc")),k=(await sa(E)).docs.map(R=>({id:R.id,...R.data()}));t(k)}catch(w){console.error("Error fetching products from Firestore: ",w),h("Could not connect to the database. Please check your connection and try again."),t([])}finally{a(!1)}},[]);N.useEffect(()=>{(async()=>{const E=Vn(Xe,"products");if((await sa(xr(E))).empty){console.log("Products collection is empty. Seeding database...");try{const k=aA.map(R=>{const{id:O,...D}=R,U=gn(E,O);return tA(U,D)});await Promise.all(k),console.log("Seeding complete.")}catch(k){console.error("Error seeding products:",k),h("Failed to seed the database."),a(!1);return}}await d()})()},[d]);const v={products:e,isLoading:r,error:l,addProduct:async w=>{try{await fh(Vn(Xe,"products"),w),await d()}catch(E){throw console.error("Error adding product: ",E),new Error("Failed to add product.")}},updateProduct:async(w,E)=>{try{const j=gn(Xe,"products",w);await ra(j,E),await d()}catch(j){throw console.error("Error updating product: ",j),new Error("Failed to update product.")}},deleteProduct:async w=>{try{const E=gn(Xe,"products",w);await cV(E),await d()}catch(E){throw console.error("Error deleting product: ",E),new Error("Failed to delete product.")}}};return c.jsx(oA.Provider,{value:v,children:n})},lA=N.createContext(void 0),Ln=()=>{const n=N.useContext(lA);if(n===void 0)throw new Error("useCart must be used within a CartProvider");return n},vV=({children:n})=>{const[e,t]=N.useState([]),[r,a]=N.useState(!1),[l,h]=N.useState(null),[d,m]=N.useState(!0),{currentUser:g}=ys(),{products:x,isLoading:v}=$l();N.useEffect(()=>{if(l){const I=setTimeout(()=>h(null),4e3);return()=>clearTimeout(I)}},[l]);const w=N.useCallback(I=>{h(I)},[]);N.useEffect(()=>{g?(async()=>{if(!(!g||v)){m(!0);try{const A=gn(Xe,"users",g.uid),M=await lV(A);if(M.exists()){const L=(M.data()?.cart||[]).map(F=>{const P=x.find(Me=>Me.id===F.productId);if(!P)return null;const me=P.sizes.find(Me=>Me.name===F.sizeName);return me?{id:`${P.id}-${me.name}`,product:P,selectedSize:me,quantity:F.quantity}:null}).filter(F=>F!==null);t(L)}}catch(A){console.error("Error fetching cart from Firestore:",A),w("Couldn't load your cart.")}finally{m(!1)}}})():(t([]),m(!1))},[g,x,v,w]);const E=N.useCallback(async I=>{if(g)try{const A=gn(Xe,"users",g.uid),M=I.map(V=>({productId:V.product.id,sizeName:V.selectedSize.name,quantity:V.quantity}));await ra(A,{cart:M})}catch(A){console.error("Error updating Firestore cart:",A),w("Error saving your cart.")}},[g,w]),j=N.useMemo(()=>e.reduce((I,A)=>I+A.quantity,0),[e]),k=()=>a(!0),ie={cartItems:e,isCartOpen:r,toastMessage:l,totalCartItems:j,isCartLoading:d,addToCart:(I,A)=>{const M=`${I.id}-${A.name}`;let V;e.find(F=>F.id===M)?V=e.map(F=>F.id===M?{...F,quantity:Math.min(F.quantity+1,I.stock)}:F):V=[...e,{id:M,product:I,selectedSize:A,quantity:1}],t(V),E(V),w(`${I.name} (${A.name}) added to cart!`),k()},addMultipleToCart:I=>{if(!I||I.length===0)return;let A=[...e],M=0;I.forEach(V=>{const L=`${V.product.id}-${V.selectedSize.name}`,F=A.findIndex(P=>P.id===L);if(F>-1){const P=A[F],me=P.quantity+V.quantity;A[F]={...P,quantity:Math.min(me,V.product.stock)}}else A.push({id:L,product:V.product,selectedSize:V.selectedSize,quantity:Math.min(V.quantity,V.product.stock)});M+=V.quantity}),t(A),E(A),w(`${M} item(s) added to your cart!`),k()},updateQuantity:(I,A)=>{let M;A<1?M=e.filter(V=>V.id!==I):M=e.map(V=>V.id===I?{...V,quantity:Math.min(A,V.product.stock)}:V),t(M),E(M)},removeFromCart:I=>{const A=e.find(V=>V.id===I),M=e.filter(V=>V.id!==I);t(M),E(M),A&&w(`${A.product.name} (${A.selectedSize.name}) removed from cart.`)},openCart:k,closeCart:()=>a(!1),showToast:w,clearCart:()=>{t([]),E([])}};return c.jsx(lA.Provider,{value:ie,children:n})},sn=({className:n,...e})=>c.jsxs("svg",{viewBox:"0 0 241 175",xmlns:"http://www.w3.org/2000/svg",className:n,fill:"currentColor",...e,children:[c.jsx("path",{d:"M153.092 78.5C178.275 50.84 210.393 19.4076 222.5 17.5C234.607 15.5924 239.5 30 239.5 30C239.5 30 244.137 46.596 236.388 72.8253C228.64 99.0547 199 128.5 199 128.5C199 128.5 177.5 152.5 147.5 167C147.5 167 114.686 183.001 104.889 169.159C95.0912 155.316 127.909 106.16 153.092 78.5Z"}),c.jsx("path",{d:"M8.99445 86.0801C8.99445 86.0801 -16.2682 31.1886 17.8826 14.4198C33.7618 9.56756 76 55.675 76 64.5C76 70 63.7899 86.337 59 101.5C54.887 114.52 55.557 134.266 52.0896 135.774C48.0468 137.533 37.3644 137.835 8.99445 86.0801Z"}),c.jsx("path",{d:"M47 12.5C41.0274 7.52362 41.5502 -7.59339e-06 52.5 0C63.4498 7.5934e-06 69.3348 2.24286 82.0884 7.45282C95.3718 12.8792 105.888 16.4103 109.463 23.875C111.5 32.5 107.979 33.026 103.5 38.5C99.0205 43.9741 96 44.1666 91 43.5C83.5342 42.5047 52.9726 17.4764 47 12.5Z"}),c.jsx("path",{d:"M200.048 20.8891C212.988 11.4339 207.491 2.52815 200.048 2.97405C192.604 3.41995 127.379 9.72972 89.5542 67.6673C85.4261 73.9905 72.4385 95.2439 69.1452 112.455C65.6022 130.971 65.8681 149.097 73.6272 157.74C81.0528 166.012 88.1891 164.145 92.2823 156.482C96.4277 148.721 97.4982 135.065 100.004 127.882C104.983 113.605 104.907 116.382 109.393 106.379C114.278 95.4879 120.938 86.2377 126.993 78.4363C154.543 42.9442 190.775 27.6646 200.048 20.8891Z"})]}),bV=[{href:"/",label:"Home"},{href:"/about",label:"About"},{href:"/menu",label:"Menu"},{href:"/contact",label:"Contact"}],wV=[{href:"/menu",label:"Menu"},{href:"/queue",label:"Queue"},{href:"/rewards",label:"Rewards"}],AT=[{href:"/profile",label:"My Profile",Icon:Yr},{href:"/rewards",label:"My Rewards",Icon:ju},{href:"/about",label:"About",Icon:i6},{href:"/contact",label:"Contact",Icon:$r}],Kt=()=>{const[n,e]=N.useState(!1),[t,r]=N.useState(!1),a=N.useRef(null),{currentUser:l,logout:h}=ys(),{totalCartItems:d,openCart:m}=Ln(),g=Ls(),x=l?wV:bV,v=()=>e(!1);N.useEffect(()=>{const R=O=>{a.current&&!a.current.contains(O.target)&&r(!1)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]),N.useEffect(()=>{const R=()=>{window.innerWidth>=768&&e(!1)};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),N.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[n]);const w=async()=>{await h(),v(),r(!1),g("/")},E=()=>e(!n),j=(R=!1)=>{const O="rounded-full text-sm font-semibold transition-colors",D="block w-full text-center py-3 text-base",U="px-6 py-2",H=R?v:void 0;return l?c.jsxs("div",{className:`relative ${R?"w-full":""}`,ref:a,children:[c.jsxs("button",{onClick:()=>r(!t),className:`flex w-full items-center justify-center gap-2 rounded-full border border-primary-600 px-4 py-2 text-sm font-semibold text-primary-600 transition-colors hover:bg-primary-50 ${R?"text-base":""}`,"aria-haspopup":"true","aria-expanded":t,children:[c.jsxs("span",{children:["Welcome, ",l.firstName,"!"]}),c.jsx(Ku,{className:`h-4 w-4 transition-transform ${t?"rotate-180":""}`})]}),t&&!R&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:c.jsxs("div",{className:"py-1",role:"menu","aria-orientation":"vertical",children:[AT.map(K=>c.jsxs(ms,{to:K.href,onClick:()=>r(!1),className:({isActive:ie})=>`flex items-center gap-3 px-4 py-2 text-sm transition-colors hover:bg-gray-100 ${ie?"text-primary-600 font-semibold":"text-gray-700"}`,role:"menuitem",children:[c.jsx(K.Icon,{className:"h-4 w-4"}),K.label]},K.label)),l.role==="admin"&&c.jsxs(c.Fragment,{children:[c.jsx("hr",{className:"my-1"}),c.jsxs(ms,{to:"/admin",onClick:()=>r(!1),className:"flex items-center gap-3 px-4 py-2 text-sm font-semibold text-yellow-700 transition-colors hover:bg-yellow-50",role:"menuitem",children:[c.jsx(Cu,{className:"h-4 w-4"}),"Admin Dashboard"]})]}),c.jsx("hr",{className:"my-1"}),c.jsxs("button",{onClick:w,className:"flex w-full items-center gap-3 px-4 py-2 text-left text-sm text-red-600 transition-colors hover:bg-red-50",role:"menuitem",children:[c.jsx(Kw,{className:"h-4 w-4"}),"Logout"]})]})})]}):c.jsxs("div",{className:`flex items-center ${R?"flex-col space-y-3":"gap-4"}`,children:[c.jsx(ms,{to:"/auth/login",onClick:H,className:`${O} border border-primary-600 text-primary-600 hover:bg-primary-50 ${R?D:U}`,children:"Login"}),c.jsx(ms,{to:"/auth/register",onClick:H,className:`${O} bg-primary-600 text-white shadow-sm hover:bg-primary-700 ${R?D:U}`,children:"Sign Up"})]})},k=()=>c.jsxs("button",{onClick:m,className:"relative rounded-full p-2 text-gray-700 transition hover:bg-gray-100","aria-label":`Open cart with ${d} items`,children:[c.jsx(C0,{className:"h-6 w-6"}),d>0&&c.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-xs font-bold text-white","aria-hidden":"true",children:d})]});return c.jsxs(c.Fragment,{children:[c.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-gray-200/80 bg-white/95 shadow-md backdrop-blur-sm",children:c.jsxs("div",{className:"container mx-auto flex h-20 items-center justify-between px-4 sm:px-6 lg:px-8",children:[c.jsxs(ms,{to:"/",className:"flex items-center gap-2",children:[c.jsx(sn,{className:"h-8 w-8 text-primary-600"}),c.jsx("span",{className:"text-2xl font-bold text-primary-600",children:"Rush Coffee"})]}),c.jsx("nav",{className:"hidden items-center space-x-8 md:flex",children:x.map(R=>c.jsx(ms,{to:R.href,className:({isActive:O})=>`text-base font-medium transition-colors hover:text-primary-600 ${O?"text-primary-600":"text-gray-700"}`,children:R.label},R.label))}),c.jsxs("div",{className:"hidden items-center gap-2 md:flex",children:[j(),l&&c.jsx(k,{})]}),c.jsxs("div",{className:"flex items-center gap-2 md:hidden",children:[l&&c.jsx(k,{}),c.jsx("button",{onClick:E,className:"rounded-md p-2 text-gray-700 transition hover:bg-gray-100","aria-label":"Toggle menu","aria-expanded":n,children:c.jsx(_E,{className:"h-6 w-6"})})]})]})}),c.jsxs("div",{className:`fixed inset-0 z-40 transform transition-opacity duration-300 md:hidden ${n?"opacity-100":"opacity-0 pointer-events-none"}`,children:[c.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:v,"aria-hidden":"true"}),c.jsxs("div",{className:`fixed top-0 right-0 flex h-full w-4/5 max-w-sm flex-col bg-white shadow-2xl transition-transform duration-300 ease-in-out ${n?"translate-x-0":"translate-x-full"}`,role:"dialog","aria-modal":"true","aria-labelledby":"mobile-menu-title",children:[c.jsxs("div",{className:"flex items-center justify-between border-b p-4",children:[c.jsxs(ms,{to:"/",className:"flex items-center gap-2",onClick:v,children:[c.jsx(sn,{className:"h-7 w-7 text-primary-600"}),c.jsx("span",{id:"mobile-menu-title",className:"text-xl font-bold text-primary-600",children:"Rush Coffee"})]}),c.jsx("button",{onClick:v,className:"rounded-md p-2 text-gray-700 transition hover:bg-gray-100","aria-label":"Close menu",children:c.jsx(ei,{className:"h-6 w-6"})})]}),c.jsxs("nav",{className:"flex flex-1 flex-col gap-4 overflow-y-auto p-4",children:[x.map(R=>c.jsx(ms,{to:R.href,onClick:v,className:({isActive:O})=>`rounded-md px-3 py-2 text-lg font-medium transition-colors hover:bg-gray-100 ${O?"bg-primary-50 text-primary-600":"text-gray-800"}`,children:R.label},R.label)),l&&c.jsxs("div",{className:"border-t pt-4 mt-2",children:[AT.map(R=>c.jsxs(ms,{to:R.href,onClick:v,className:({isActive:O})=>`flex items-center gap-3 rounded-md px-3 py-2 text-lg font-medium transition-colors hover:bg-gray-100 ${O?"bg-primary-50 text-primary-600":"text-gray-800"}`,children:[c.jsx(R.Icon,{className:"h-5 w-5"}),R.label]},R.label)),l.role==="admin"&&c.jsxs(ms,{to:"/admin",onClick:v,className:({isActive:R})=>`flex items-center gap-3 rounded-md px-3 py-2 text-lg font-medium transition-colors hover:bg-yellow-50 ${R?"bg-yellow-100 text-yellow-800":"text-yellow-700"}`,children:[c.jsx(Cu,{className:"h-5 w-5"}),"Admin Dashboard"]})]})]}),c.jsx("div",{className:"mt-auto border-t p-4 space-y-3",children:l?c.jsxs("button",{onClick:w,className:"flex w-full items-center justify-center gap-2 rounded-full bg-red-500 px-6 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-red-600",children:[c.jsx(Kw,{className:"h-5 w-5"}),"Logout"]}):j(!0)})]})]})]})},Wt=()=>c.jsxs("footer",{className:"bg-coffee-900 text-coffee-100",children:[c.jsxs("div",{className:"container mx-auto grid grid-cols-1 gap-8 px-6 py-12 md:grid-cols-2 lg:grid-cols-4",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs(lt,{to:"/",className:"flex items-center gap-2",children:[c.jsx(sn,{className:"h-8 w-8 text-primary-400"}),c.jsx("span",{className:"text-2xl font-bold text-primary-400",children:"Rush Coffee"})]}),c.jsx("p",{className:"font-semibold",children:"Premium coffee, no waiting."}),c.jsx("p",{className:"text-sm text-coffee-100/80",children:"Join the digital queue and get your coffee fix faster than ever."})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"mb-4 font-semibold text-primary-400",children:"Quick Links"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx(lt,{to:"/",className:"transition hover:text-primary-400",children:"Home"})}),c.jsx("li",{children:c.jsx(lt,{to:"/about",className:"transition hover:text-primary-400",children:"About Us"})}),c.jsx("li",{children:c.jsx(lt,{to:"/menu",className:"transition hover:text-primary-400",children:"Menu"})}),c.jsx("li",{children:c.jsx(lt,{to:"/faq",className:"transition hover:text-primary-400",children:"FAQ"})}),c.jsx("li",{children:c.jsx(lt,{to:"/contact",className:"transition hover:text-primary-400",children:"Contact"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"mb-4 font-semibold text-primary-400",children:"Legal"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx(lt,{to:"/terms",className:"transition hover:text-primary-400",children:"Terms of Service"})}),c.jsx("li",{children:c.jsx(lt,{to:"/privacy",className:"transition hover:text-primary-400",children:"Privacy Policy"})}),c.jsx("li",{children:c.jsx(lt,{to:"/cookies",className:"transition hover:text-primary-400",children:"Cookie Policy"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"mb-4 font-semibold text-primary-400",children:"Contact & Connect"}),c.jsx("address",{className:"not-italic",children:c.jsxs("ul",{className:"space-y-3",children:[c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx(E0,{className:"mt-1 h-5 w-5 flex-shrink-0"}),c.jsx("span",{children:"123 Coffee Street, Manila"})]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx($r,{className:"h-5 w-5 flex-shrink-0"}),c.jsx("a",{href:"tel:+639171234567",className:"transition hover:text-primary-400",children:"+63 917 123 4567"})]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(Gr,{className:"h-5 w-5 flex-shrink-0"}),c.jsx("a",{href:"mailto:hello@rushcoffee.ph",className:"transition hover:text-primary-400",children:"hello@rushcoffee.ph"})]})]})}),c.jsxs("div",{className:"mt-6 flex gap-4",children:[c.jsx("a",{href:"#","aria-label":"Facebook",className:"transition hover:text-primary-400",children:c.jsx(bE,{className:"h-6 w-6"})}),c.jsx("a",{href:"#","aria-label":"Instagram",className:"transition hover:text-primary-400",children:c.jsx(wE,{className:"h-6 w-6"})}),c.jsx("a",{href:"#","aria-label":"Twitter",className:"transition hover:text-primary-400",children:c.jsx(jE,{className:"h-6 w-6"})})]})]})]}),c.jsx("div",{className:"border-t border-coffee-800 bg-coffee-900/50",children:c.jsxs("div",{className:"container mx-auto flex flex-col items-center justify-between gap-2 px-6 py-4 text-center text-sm sm:flex-row",children:[c.jsxs("p",{children:[" ",new Date().getFullYear()," Rush Coffee. All rights reserved."]}),c.jsx("p",{children:"Made with  and "})]})})]}),_V=[{Icon:hm,title:"Live Queue Updates",description:"Track your position in real-time and know exactly when your coffee will be ready. No more waiting around!",iconBgColor:"bg-primary-100",iconTextColor:"text-primary-600"},{Icon:sn,title:"Order Ahead",description:"Browse our menu, customize your drink, and order from anywhere. Your coffee, your way.",iconBgColor:"bg-coffee-100",iconTextColor:"text-coffee-800"},{Icon:ju,title:"Loyalty Rewards",description:"Earn points with every purchase and redeem for free drinks and exclusive perks.",iconBgColor:"bg-green-100",iconTextColor:"text-green-600"},{Icon:CE,title:"Multiple Payment Options",description:"Pay with GCash or cash on pickupwhatever works best for you.",iconBgColor:"bg-blue-100",iconTextColor:"text-blue-600"}],jT=[{number:1,Icon:_E,title:"Browse & Customize",description:"Explore our menu of premium coffee drinks and customize your order exactly how you like it.",hasAnimation:!0},{number:2,Icon:Rf,title:"Join Virtual Queue",description:"Place your order and automatically join the queue. Get your position and estimated wait time instantly."},{number:3,Icon:um,title:"Pickup & Enjoy",description:"Receive real-time notifications. When ready, breeze past the line and grab your coffee.",isPulsing:!0}],TV=[{quote:"Rush Coffee changed my morning routine! No more waiting in long lines. I order on my way and pick up when it's ready. Absolutely love it!",name:"Sarah M.",title:"Regular Customer",initial:"S",avatarBg:"bg-primary-100",avatarText:"text-primary-600"},{quote:"The queue system is genius. I can track exactly when my coffee will be ready. Plus, earning rewards with every purchase is a nice bonus!",name:"Miguel R.",title:"Gold Member",initial:"M",avatarBg:"bg-blue-100",avatarText:"text-blue-600"},{quote:"Best coffee experience in Manila. Fast, convenient, and the coffee is always perfect. The mobile app makes everything so easy!",name:"Ana L.",title:"VIP Member",initial:"A",avatarBg:"bg-green-100",avatarText:"text-green-600"}],EV=()=>{const{currentUser:n}=ys(),e=n?"/menu":"/auth/register";return c.jsxs("div",{className:"bg-white",children:[c.jsx(Kt,{}),c.jsxs("main",{children:[c.jsxs("section",{className:"relative flex min-h-[calc(100vh-5rem)] items-center overflow-hidden bg-white",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-50 via-coffee-100 to-white"}),c.jsx("div",{className:"container relative mx-auto max-w-7xl px-6 py-20",children:c.jsxs("div",{className:"grid grid-cols-1 items-center gap-12 lg:grid-cols-2",children:[c.jsxs("div",{className:"animate-fade-in-up text-center lg:text-left",children:[c.jsx("p",{className:"mb-4 font-medium text-primary-600",style:{animationDelay:"100ms",opacity:0},children:" Welcome to Rush Coffee"}),c.jsxs("h1",{className:"font-display text-5xl font-bold text-coffee-900 md:text-6xl lg:text-7xl",children:[c.jsx("span",{className:"block",style:{animation:"fade-in-up 0.8s ease-out 200ms forwards",opacity:0},children:"Skip the Line,"}),c.jsx("span",{className:"block text-primary-600",style:{animation:"fade-in-up 0.8s ease-out 300ms forwards",opacity:0},children:"Get Your Coffee"}),c.jsx("span",{className:"block",style:{animation:"fade-in-up 0.8s ease-out 400ms forwards",opacity:0},children:"Faster."})]}),c.jsx("p",{className:"mx-auto mt-6 max-w-2xl text-lg text-gray-600 md:text-xl lg:mx-0",style:{animation:"fade-in-up 0.8s ease-out 500ms forwards",opacity:0},children:"Join our digital queue system. Order ahead, track your position in real-time, and breeze through pickup. Your perfect cup awaitswithout the wait."}),c.jsxs("div",{className:"mt-8 flex flex-wrap justify-center gap-2 lg:justify-start",style:{animation:"fade-in-up 0.8s ease-out 600ms forwards",opacity:0},children:[c.jsx(nn,{className:"animate-pulse-slow",children:" Real-Time Queue"}),c.jsx(nn,{className:"animate-pulse-slow",children:" Mobile Ordering"}),c.jsx(nn,{className:"animate-pulse-slow",children:" Rewards Program"})]}),c.jsxs("div",{className:"mt-8 flex flex-col items-center gap-4 sm:flex-row sm:justify-center lg:justify-start",style:{animation:"fade-in-up 0.8s ease-out 700ms forwards",opacity:0},children:[c.jsxs(lt,{to:e,className:"flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-8 py-4 text-lg font-semibold text-white shadow-lg transition-transform hover:scale-105 hover:bg-primary-700 sm:w-auto",children:[c.jsx(sn,{className:"h-5 w-5"}),"Order Now"]}),c.jsxs("a",{href:"#features",className:"flex w-full items-center justify-center gap-2 rounded-full border-2 border-primary-600 px-8 py-4 text-lg font-semibold text-primary-600 transition-transform hover:scale-105 hover:bg-primary-50 sm:w-auto",children:[c.jsx(AI,{className:"h-5 w-5"}),"View Features"]})]}),c.jsx("p",{className:"mt-6 text-sm text-gray-500",style:{animation:"fade-in-up 0.8s ease-out 800ms forwards",opacity:0},children:"Join 5,000+ happy customers "})]}),c.jsxs("div",{className:"relative hidden h-96 lg:flex lg:items-center lg:justify-center",children:[c.jsx("div",{className:"absolute h-80 w-80 animate-float rounded-full bg-primary-200/50 blur-3xl"}),c.jsx("div",{className:"absolute bottom-0 right-0 h-64 w-64 animate-float-delay rounded-full bg-coffee-800/10 blur-2xl"}),c.jsx("div",{className:"relative animate-fade-in-up",style:{animationDelay:"500ms",opacity:0},children:c.jsx(sn,{className:"h-auto w-[250px] animate-float drop-shadow-2xl lg:w-[350px]"})})]})]})})]}),c.jsx("section",{id:"features",className:"bg-white px-6 py-20",children:c.jsxs("div",{className:"container mx-auto max-w-7xl",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"mb-2 font-medium text-primary-600",children:"Why Rush Coffee?"}),c.jsx("h2",{className:"mb-4 font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"Everything You Need for a Seamless Coffee Experience"}),c.jsx("p",{className:"mx-auto mb-12 max-w-2xl text-gray-600",children:"From ordering to pickup, we've got you covered."})]}),c.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:_V.map((t,r)=>c.jsxs(He,{hover:!0,className:"text-center",children:[c.jsx("div",{className:`mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-xl ${t.iconBgColor}`,children:c.jsx(t.Icon,{className:`h-8 w-8 ${t.iconTextColor}`})}),c.jsx("h3",{className:"mb-2 font-display text-xl font-semibold text-coffee-900",children:t.title}),c.jsx("p",{className:"text-sm leading-relaxed text-gray-600",children:t.description})]},r))})]})}),c.jsx("section",{id:"how-it-works",className:"bg-gradient-to-b from-coffee-50 to-white px-6 py-20",children:c.jsxs("div",{className:"container mx-auto max-w-7xl",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"mb-2 font-medium text-primary-600",children:"Simple Process"}),c.jsx("h2",{className:"mb-4 font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"How Rush Coffee Works"}),c.jsx("p",{className:"mx-auto mb-16 max-w-2xl text-gray-600",children:"Get your perfect cup in three easy steps."})]}),c.jsx("div",{className:"flex flex-col items-stretch justify-center gap-16 lg:flex-row lg:items-center lg:gap-8",children:jT.map((t,r)=>c.jsxs(N.Fragment,{children:[c.jsxs("div",{className:"relative w-full max-w-sm flex-1 text-center",children:[c.jsx("div",{className:"absolute -top-4 left-1/2 z-10 flex h-12 w-12 -translate-x-1/2 items-center justify-center rounded-full bg-primary-600 font-display text-xl font-bold text-white shadow-lg",children:t.number}),c.jsxs(He,{className:"pt-8",children:[c.jsxs("div",{className:"relative mx-auto flex h-20 w-20 items-center justify-center rounded-2xl bg-gradient-to-br from-primary-100 to-coffee-100 p-4",children:[t.hasAnimation&&c.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-2xl",children:[c.jsx("div",{className:"absolute left-1/2 top-2 h-4 w-px -translate-x-1/2 animate-steam-1 rounded-full bg-primary-300/80"}),c.jsx("div",{className:"absolute left-1/3 top-2 h-5 w-px animate-steam-2 rounded-full bg-primary-300/80"}),c.jsx("div",{className:"absolute left-2/3 top-2 h-3 w-px animate-steam-1 rounded-full bg-primary-300/80"})]}),c.jsx(t.Icon,{className:`h-10 w-10 text-primary-600 ${t.isPulsing?"animate-pulse-slow":""}`})]}),c.jsx("h3",{className:"mb-2 mt-4 font-display text-xl font-semibold text-coffee-900",children:t.title}),c.jsx("p",{className:"text-sm text-gray-600",children:t.description})]})]}),r<jT.length-1&&c.jsx("div",{className:"hidden text-primary-400 lg:flex",children:c.jsx(bl,{className:"h-10 w-10"})})]},t.number))})]})}),c.jsx("section",{id:"testimonials",className:"bg-white py-20 px-6",children:c.jsxs("div",{className:"container mx-auto max-w-7xl",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"mb-2 font-medium text-primary-600",children:"Customer Love"}),c.jsx("h2",{className:"mb-4 font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"What Our Customers Say"}),c.jsx("p",{className:"mx-auto mb-12 max-w-2xl text-gray-600",children:"Join thousands of satisfied coffee lovers."})]}),c.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:TV.map((t,r)=>c.jsxs(He,{hover:!0,className:"flex flex-col border-l-4 border-primary-400 transition-transform duration-300 hover:scale-105",children:[c.jsx(M6,{className:"h-8 w-8 text-primary-200"}),c.jsx("div",{className:"my-4 text-yellow-400",children:""}),c.jsxs("p",{className:"flex-grow font-sans italic text-gray-700",children:['"',t.quote,'"']}),c.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[c.jsx("div",{className:`flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full font-bold ${t.avatarBg} ${t.avatarText}`,children:t.initial}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-coffee-900",children:t.name}),c.jsx(nn,{className:"bg-gray-100 text-gray-600 text-xs px-2 py-0.5",children:t.title})]})]})]},r))})]})}),c.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-r from-primary-600 via-coffee-600 to-primary-700 py-16 px-6",children:[c.jsx("div",{className:"absolute top-0 left-0 -translate-x-1/3 -translate-y-1/3 opacity-10",children:c.jsx(sn,{className:"h-48 w-48 animate-float text-white"})}),c.jsx("div",{className:"absolute bottom-0 right-0 translate-x-1/3 translate-y-1/3 opacity-10",children:c.jsx(sn,{className:"h-64 w-64 animate-float-delay text-white"})}),c.jsxs("div",{className:"relative z-10 mx-auto max-w-4xl text-center",children:[c.jsxs("div",{className:"relative mx-auto mb-4 inline-block",children:[c.jsx("span",{className:"text-5xl",role:"img","aria-label":"Coffee cup",children:""}),c.jsxs("div",{className:"absolute -top-4 left-0 right-0 h-12",children:[c.jsx("div",{className:"absolute left-1/2 h-6 w-px -translate-x-1/2 animate-steam-1 rounded-full bg-white/50"}),c.jsx("div",{className:"absolute left-1/3 h-8 w-px animate-steam-2 rounded-full bg-white/50"}),c.jsx("div",{className:"absolute left-2/3 h-5 w-px animate-steam-1 rounded-full bg-white/50"})]})]}),c.jsx("h2",{className:"mb-4 font-display text-4xl font-bold text-white md:text-5xl",children:"Ready to Rush Through Your Day?"}),c.jsx("p",{className:"mb-2 text-xl text-primary-100",children:"Join 5,000+ customers who've already skipped the line."}),c.jsxs("div",{className:"my-8 flex flex-col items-center justify-center gap-4 sm:flex-row",children:[c.jsx("span",{className:"rounded-full bg-white/10 px-4 py-2 text-sm font-medium text-white backdrop-blur",children:"10,000+ Orders Completed"}),c.jsx("span",{className:"rounded-full bg-white/10 px-4 py-2 text-sm font-medium text-white backdrop-blur",children:"4.9 Average Rating"}),c.jsx("span",{className:"rounded-full bg-white/10 px-4 py-2 text-sm font-medium text-white backdrop-blur",children:"< 5 min Average Wait"})]}),c.jsxs(lt,{to:e,className:"inline-flex transform items-center justify-center gap-2 rounded-full bg-white px-8 py-4 text-lg font-semibold text-primary-600 shadow-lg transition hover:scale-105 hover:shadow-2xl",children:["Start Ordering Now",c.jsx(bl,{className:"h-5 w-5"})]}),c.jsxs("p",{className:"mt-4 text-sm",children:[c.jsx("span",{className:"text-white/80",children:"Already have an account? "}),c.jsx(lt,{to:"/auth/login",className:"font-semibold text-white underline transition hover:text-primary-100",children:"Login"})]})]})]})]}),c.jsx(Wt,{})]})},NV=()=>c.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),c.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),c.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z",fill:"#FBBC05"}),c.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),SV=()=>{const[n,e]=N.useState(""),[t,r]=N.useState(""),[a,l]=N.useState(!1),[h,d]=N.useState(!1),[m,g]=N.useState({}),[x,v]=N.useState(null),[w,E]=N.useState(!1),j=Ls(),{login:k}=ys(),R=()=>{const D={};return n?/\S+@\S+\.\S+/.test(n)||(D.email="Email address is invalid"):D.email="Email is required",t||(D.password="Password is required"),D},O=async D=>{D.preventDefault(),v(null);const U=R();if(Object.keys(U).length>0){g(U);return}g({}),E(!0);try{await k(n,t,h),j("/")}catch(H){let K="An unexpected error occurred. Please try again.";switch(H.code){case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":K="Invalid email or password. Please try again.";break;case"auth/too-many-requests":K="Too many failed login attempts. Please try again later.";break}v(K)}finally{E(!1)}};return c.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-primary-50 via-coffee-50 to-white",children:[c.jsx(Kt,{}),c.jsx("main",{className:"flex flex-1 items-center justify-center px-4 py-12 sm:px-6 lg:px-8",children:c.jsx("div",{className:"w-full max-w-md",children:c.jsxs(He,{className:"rounded-2xl p-8 shadow-xl",children:[c.jsxs("div",{className:"mb-6 text-center",children:[c.jsx(sn,{className:"mx-auto h-12 w-12 text-primary-600"}),c.jsx("h2",{className:"mt-4 font-display text-3xl font-bold text-coffee-900",children:"Rush Coffee"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Welcome back! "})]}),x&&c.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded-lg bg-red-50 p-3 text-sm text-red-700",role:"alert",children:[c.jsx(oo,{className:"h-5 w-5 flex-shrink-0"}),c.jsx("span",{children:x})]}),c.jsxs("form",{onSubmit:O,noValidate:!0,className:"space-y-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),c.jsx(Gr,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:D=>e(D.target.value),className:`w-full rounded-lg border py-3 pl-10 pr-3 text-gray-400 placeholder:text-gray-400 transition-colors focus:outline-none focus:ring-2 ${m.email?"border-red-500 ring-red-500":"border-gray-300 focus:border-primary-500 focus:ring-primary-500"}`,placeholder:"Email address","aria-invalid":!!m.email,"aria-describedby":"email-error"}),m.email&&c.jsx("p",{id:"email-error",className:"mt-1 text-xs text-red-600",role:"alert",children:m.email})]}),c.jsxs("div",{className:"relative",children:[c.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),c.jsx(jf,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),c.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"current-password",required:!0,value:t,onChange:D=>r(D.target.value),className:`w-full rounded-lg border py-3 pl-10 pr-10 text-gray-400 placeholder:text-gray-400 transition-colors focus:outline-none focus:ring-2 ${m.password?"border-red-500 ring-red-500":"border-gray-300 focus:border-primary-500 focus:ring-primary-500"}`,placeholder:"Password","aria-invalid":!!m.password,"aria-describedby":"password-error"}),c.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600","aria-label":a?"Hide password":"Show password",children:a?c.jsx(Ny,{className:"h-5 w-5"}):c.jsx(Sy,{className:"h-5 w-5"})}),m.password&&c.jsx("p",{id:"password-error",className:"mt-1 text-xs text-red-600",role:"alert",children:m.password})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:h,onChange:D=>d(D.target.checked),className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),c.jsx("div",{className:"text-sm",children:c.jsx(lt,{to:"#",className:"font-medium text-primary-600 hover:text-primary-500",children:"Forgot your password?"})})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:w,className:"flex w-full justify-center rounded-full bg-primary-600 px-4 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-primary-400",children:w?c.jsx(rn,{className:"h-6 w-6 animate-spin"}):"Login"})})]}),c.jsxs("div",{className:"my-6 flex items-center",children:[c.jsx("div",{className:"flex-grow border-t border-gray-300"}),c.jsx("span",{className:"mx-4 flex-shrink text-sm text-gray-500",children:"or"}),c.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{type:"button",disabled:!0,className:"flex w-full items-center justify-center gap-3 rounded-full border border-gray-300 px-4 py-3 text-base font-medium text-gray-700 transition-colors hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-60",children:[c.jsx(NV,{}),"Continue with Google"]}),c.jsx(nn,{className:"absolute -top-2 right-2 bg-gray-500 text-white text-xs px-2 py-0.5",children:"Coming Soon"})]}),c.jsxs("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Don't have an account?"," ",c.jsx(lt,{to:"/auth/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign up"})]})]})})}),c.jsx(Wt,{})]})},AV=n=>{let e=0;return n.length>=8&&e++,n.match(/[a-z]/)&&e++,n.match(/[A-Z]/)&&e++,n.match(/[0-9]/)&&e++,n.match(/[^a-zA-Z0-9]/)&&e++,e/5*100},sl=({name:n,label:e,type:t,placeholder:r,Icon:a,children:l,autoComplete:h,value:d,onChange:m,onBlur:g,error:x,touched:v})=>{const w=v&&x,E=v&&!x&&d;return c.jsxs("div",{className:"relative",children:[c.jsx("label",{htmlFor:n,className:"sr-only",children:e}),c.jsx(a,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),c.jsx("input",{id:n,name:n,type:t,autoComplete:h,required:!["phone"].includes(n),value:d,onChange:m,onBlur:g,className:`w-full rounded-lg border py-3 pl-10 pr-10 text-gray-400 placeholder:text-gray-400 transition-colors focus:outline-none focus:ring-2 ${w?"border-red-500 ring-red-500":E?"border-green-500":"border-gray-300 focus:border-primary-500 focus:ring-primary-500"}`,placeholder:r,"aria-invalid":!!w,"aria-describedby":`${n}-error`}),l,w?c.jsx(ei,{className:"absolute right-3 top-1/2 h-5 w-5 -translate-y-1/2 text-red-500"}):null,E?c.jsx(Ki,{className:"absolute right-3 top-1/2 h-5 w-5 -translate-y-1/2 text-green-500"}):null,w&&c.jsx("p",{id:`${n}-error`,className:"mt-1 text-xs text-red-600",role:"alert",children:x})]})},jV=()=>{const[n,e]=N.useState({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",terms:!1}),[t,r]=N.useState({}),[a,l]=N.useState({}),[h,d]=N.useState(null),[m,g]=N.useState(!1),[x,v]=N.useState(!1),[w,E]=N.useState(!1),[j,k]=N.useState(0),R=Ls(),{register:O}=ys(),D=N.useCallback(()=>{const A={};return n.firstName?n.firstName.length<2&&(A.firstName="First name must be at least 2 characters"):A.firstName="First name is required",n.lastName?n.lastName.length<2&&(A.lastName="Last name must be at least 2 characters"):A.lastName="Last name is required",n.email?/\S+@\S+\.\S+/.test(n.email)||(A.email="Email address is invalid"):A.email="Email is required",n.phone&&!/^(09|\+639)\d{9}$/.test(n.phone)&&(A.phone="Invalid Philippine phone number"),n.password?n.password.length<8?A.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])/.test(n.password)||(A.password="Must contain uppercase, lowercase, and a number"):A.password="Password is required",n.confirmPassword?n.password!==n.confirmPassword&&(A.confirmPassword="Passwords do not match"):A.confirmPassword="Please confirm your password",n.terms||(A.terms="You must accept the terms and conditions"),A},[n]);N.useEffect(()=>{a.password&&k(AV(n.password))},[n.password,a.password]),N.useEffect(()=>{Object.keys(a).length>0&&r(D())},[n,a,D]);const U=A=>{const{name:M,value:V,type:L,checked:F}=A.target;e(P=>({...P,[M]:L==="checkbox"?F:V}))},H=A=>{const{name:M}=A.target;l(V=>({...V,[M]:!0}))},K=async A=>{A.preventDefault(),d(null),l({firstName:!0,lastName:!0,email:!0,phone:!0,password:!0,confirmPassword:!0,terms:!0});const M=D();if(Object.keys(M).length>0){r(M);return}g(!0);try{await O(n.email,n.password,n.firstName,n.lastName,n.phone),R("/")}catch(V){let L="An unexpected error occurred. Please try again.";switch(V.code){case"auth/email-already-in-use":L="This email address is already registered.";break;case"auth/invalid-email":L="The email address is not valid.";break;case"auth/weak-password":L="The password is too weak.";break}d(L)}finally{g(!1)}},ie=()=>j<40?"bg-red-500":j<80?"bg-yellow-500":"bg-green-500",I=()=>j<40?"Weak":j<80?"Medium":"Strong";return c.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-primary-50 via-coffee-50 to-white",children:[c.jsx(Kt,{}),c.jsx("main",{className:"flex flex-1 items-center justify-center px-4 py-12 sm:px-6 lg:px-8",children:c.jsx("div",{className:"w-full max-w-2xl",children:c.jsxs(He,{className:"rounded-2xl p-8 shadow-xl",children:[c.jsxs("div",{className:"mb-6 text-center",children:[c.jsx(sn,{className:"mx-auto h-12 w-12 text-primary-600"}),c.jsx("h2",{className:"mt-4 font-display text-3xl font-bold text-coffee-900",children:"Join Rush Coffee"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Start skipping the line today "})]}),h&&c.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded-lg bg-red-50 p-3 text-sm text-red-700",role:"alert",children:[c.jsx(oo,{className:"h-5 w-5 flex-shrink-0"}),c.jsx("span",{children:h})]}),c.jsxs("form",{onSubmit:K,noValidate:!0,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-2",children:[c.jsx(sl,{name:"firstName",label:"First Name",type:"text",placeholder:"First Name",Icon:Yr,autoComplete:"given-name",value:n.firstName,onChange:U,onBlur:H,error:t.firstName,touched:a.firstName}),c.jsx(sl,{name:"lastName",label:"Last Name",type:"text",placeholder:"Last Name",Icon:Yr,autoComplete:"family-name",value:n.lastName,onChange:U,onBlur:H,error:t.lastName,touched:a.lastName})]}),c.jsx(sl,{name:"email",label:"Email address",type:"email",placeholder:"Email address",Icon:Gr,autoComplete:"email",value:n.email,onChange:U,onBlur:H,error:t.email,touched:a.email}),c.jsx(sl,{name:"phone",label:"Phone Number (Optional)",type:"tel",placeholder:"Phone Number (e.g., 09xxxxxxxxx)",Icon:$r,autoComplete:"tel",value:n.phone,onChange:U,onBlur:H,error:t.phone,touched:a.phone}),c.jsxs("div",{className:"relative",children:[c.jsx(sl,{name:"password",label:"Password",type:x?"text":"password",placeholder:"Password",Icon:jf,autoComplete:"new-password",value:n.password,onChange:U,onBlur:H,error:t.password,touched:a.password,children:c.jsx("button",{type:"button",onClick:()=>v(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 z-10","aria-label":x?"Hide password":"Show password",children:x?c.jsx(Ny,{className:"h-5 w-5"}):c.jsx(Sy,{className:"h-5 w-5"})})}),a.password&&c.jsxs("div",{className:"mt-2 space-y-1",children:[c.jsx("div",{className:"h-2 w-full rounded-full bg-gray-200",children:c.jsx("div",{className:`h-2 rounded-full ${ie()}`,style:{width:`${j}%`,transition:"width 0.3s, background-color 0.3s"}})}),c.jsx("p",{className:"text-xs font-medium",style:{color:ie().replace("bg-","text-")},children:I()})]})]}),c.jsx(sl,{name:"confirmPassword",label:"Confirm Password",type:w?"text":"password",placeholder:"Confirm Password",Icon:jf,autoComplete:"new-password",value:n.confirmPassword,onChange:U,onBlur:H,error:t.confirmPassword,touched:a.confirmPassword,children:c.jsx("button",{type:"button",onClick:()=>E(!w),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 z-10","aria-label":w?"Hide password":"Show password",children:w?c.jsx(Ny,{className:"h-5 w-5"}):c.jsx(Sy,{className:"h-5 w-5"})})}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex h-6 items-center",children:c.jsx("input",{id:"terms",name:"terms",type:"checkbox",checked:n.terms,onChange:U,onBlur:H,className:`h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500 ${a.terms&&t.terms?"border-red-500":""}`})}),c.jsxs("div",{className:"ml-3 text-sm leading-6",children:[c.jsxs("label",{htmlFor:"terms",className:"font-medium text-gray-900",children:["I agree to the"," ",c.jsx(lt,{to:"/terms",className:"font-semibold text-primary-600 hover:underline",children:"Terms of Service"})," and ",c.jsx(lt,{to:"/privacy",className:"font-semibold text-primary-600 hover:underline",children:"Privacy Policy"}),"."]}),a.terms&&t.terms&&c.jsx("p",{className:"mt-1 text-xs text-red-600",children:t.terms})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:m,className:"flex w-full justify-center rounded-full bg-primary-600 px-4 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-primary-400",children:m?c.jsx(rn,{className:"h-6 w-6 animate-spin"}):"Create Account"})})]}),c.jsxs("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Already have an account?"," ",c.jsx(lt,{to:"/auth/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Login"})]})]})})}),c.jsx(Wt,{})]})},Rx=N.createContext({});function Ix(n){const e=N.useRef(null);return e.current===null&&(e.current=n()),e.current}const Vm=N.createContext(null),Mx=N.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class CV extends N.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function RV({children:n,isPresent:e}){const t=N.useId(),r=N.useRef(null),a=N.useRef({width:0,height:0,top:0,left:0}),{nonce:l}=N.useContext(Mx);return N.useInsertionEffect(()=>{const{width:h,height:d,top:m,left:g}=a.current;if(e||!r.current||!h||!d)return;r.current.dataset.motionPopId=t;const x=document.createElement("style");return l&&(x.nonce=l),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${d}px !important;
            top: ${m}px !important;
            left: ${g}px !important;
          }
        `),()=>{document.head.removeChild(x)}},[e]),c.jsx(CV,{isPresent:e,childRef:r,sizeRef:a,children:N.cloneElement(n,{ref:r})})}const IV=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:h})=>{const d=Ix(MV),m=N.useId(),g=N.useCallback(v=>{d.set(v,!0);for(const w of d.values())if(!w)return;r&&r()},[d,r]),x=N.useMemo(()=>({id:m,initial:e,isPresent:t,custom:a,onExitComplete:g,register:v=>(d.set(v,!1),()=>d.delete(v))}),l?[Math.random(),g]:[t,g]);return N.useMemo(()=>{d.forEach((v,w)=>d.set(w,!1))},[t]),N.useEffect(()=>{!t&&!d.size&&r&&r()},[t]),h==="popLayout"&&(n=c.jsx(RV,{isPresent:t,children:n})),c.jsx(Vm.Provider,{value:x,children:n})};function MV(){return new Map}function cA(n=!0){const e=N.useContext(Vm);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:a}=e,l=N.useId();N.useEffect(()=>{n&&a(l)},[n]);const h=N.useCallback(()=>n&&r&&r(l),[l,r,n]);return!t&&r?[!1,h]:[!0]}const sf=n=>n.key||"";function CT(n){const e=[];return N.Children.forEach(n,t=>{N.isValidElement(t)&&e.push(t)}),e}const Dx=typeof window<"u",uA=Dx?N.useLayoutEffect:N.useEffect,ph=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:h=!1})=>{const[d,m]=cA(h),g=N.useMemo(()=>CT(n),[n]),x=h&&!d?[]:g.map(sf),v=N.useRef(!0),w=N.useRef(g),E=Ix(()=>new Map),[j,k]=N.useState(g),[R,O]=N.useState(g);uA(()=>{v.current=!1,w.current=g;for(let H=0;H<R.length;H++){const K=sf(R[H]);x.includes(K)?E.delete(K):E.get(K)!==!0&&E.set(K,!1)}},[R,x.length,x.join("-")]);const D=[];if(g!==j){let H=[...g];for(let K=0;K<R.length;K++){const ie=R[K],I=sf(ie);x.includes(I)||(H.splice(K,0,ie),D.push(ie))}l==="wait"&&D.length&&(H=D),O(CT(H)),k(g);return}const{forceRender:U}=N.useContext(Rx);return c.jsx(c.Fragment,{children:R.map(H=>{const K=sf(H),ie=h&&!d?!1:g===R||x.includes(K),I=()=>{if(E.has(K))E.set(K,!0);else return;let A=!0;E.forEach(M=>{M||(A=!1)}),A&&(U?.(),O(w.current),h&&m?.(),r&&r())};return c.jsx(IV,{isPresent:ie,initial:!v.current||t?void 0:!1,custom:ie?void 0:e,presenceAffectsLayout:a,mode:l,onExitComplete:ie?void 0:I,children:H},K)})})},Xn=n=>n;let hA=Xn;function kx(n){let e;return()=>(e===void 0&&(e=n()),e)}const Cl=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},Fr=n=>n*1e3,qr=n=>n/1e3,DV={useManualTiming:!1};function kV(n){let e=new Set,t=new Set,r=!1,a=!1;const l=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(g){l.has(g)&&(m.schedule(g),n()),g(h)}const m={schedule:(g,x=!1,v=!1)=>{const E=v&&r?e:t;return x&&l.add(g),E.has(g)||E.add(g),g},cancel:g=>{t.delete(g),l.delete(g)},process:g=>{if(h=g,r){a=!0;return}r=!0,[e,t]=[t,e],e.forEach(d),e.clear(),r=!1,a&&(a=!1,m.process(g))}};return m}const rf=["read","resolveKeyframes","update","preRender","render","postRender"],PV=40;function dA(n,e){let t=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>t=!0,h=rf.reduce((O,D)=>(O[D]=kV(l),O),{}),{read:d,resolveKeyframes:m,update:g,preRender:x,render:v,postRender:w}=h,E=()=>{const O=performance.now();t=!1,a.delta=r?1e3/60:Math.max(Math.min(O-a.timestamp,PV),1),a.timestamp=O,a.isProcessing=!0,d.process(a),m.process(a),g.process(a),x.process(a),v.process(a),w.process(a),a.isProcessing=!1,t&&e&&(r=!1,n(E))},j=()=>{t=!0,r=!0,a.isProcessing||n(E)};return{schedule:rf.reduce((O,D)=>{const U=h[D];return O[D]=(H,K=!1,ie=!1)=>(t||j(),U.schedule(H,K,ie)),O},{}),cancel:O=>{for(let D=0;D<rf.length;D++)h[rf[D]].cancel(O)},state:a,steps:h}}const{schedule:pt,cancel:ia,state:dn,steps:ly}=dA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xn,!0),fA=N.createContext({strict:!1}),RT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Rl={};for(const n in RT)Rl[n]={isEnabled:e=>RT[n].some(t=>!!e[t])};function OV(n){for(const e in n)Rl[e]={...Rl[e],...n[e]}}const VV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jf(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||VV.has(n)}let mA=n=>!Jf(n);function LV(n){n&&(mA=e=>e.startsWith("on")?!Jf(e):n(e))}try{LV(require("@emotion/is-prop-valid").default)}catch{}function UV(n,e,t){const r={};for(const a in n)a==="values"&&typeof n.values=="object"||(mA(a)||t===!0&&Jf(a)||!e&&!Jf(a)||n.draggable&&a.startsWith("onDrag"))&&(r[a]=n[a]);return r}function zV(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,a)=>a==="create"?n:(e.has(a)||e.set(a,n(a)),e.get(a))})}const Lm=N.createContext({});function Bu(n){return typeof n=="string"||Array.isArray(n)}function Um(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Px=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ox=["initial",...Px];function zm(n){return Um(n.animate)||Ox.some(e=>Bu(n[e]))}function pA(n){return!!(zm(n)||n.variants)}function BV(n,e){if(zm(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Bu(t)?t:void 0,animate:Bu(r)?r:void 0}}return n.inherit!==!1?e:{}}function FV(n){const{initial:e,animate:t}=BV(n,N.useContext(Lm));return N.useMemo(()=>({initial:e,animate:t}),[IT(e),IT(t)])}function IT(n){return Array.isArray(n)?n.join(" "):n}const qV=Symbol.for("motionComponentSymbol");function hl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function HV(n,e,t){return N.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):hl(t)&&(t.current=r))},[e])}const Vx=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),GV="framerAppearId",gA="data-"+Vx(GV),{schedule:Lx}=dA(queueMicrotask,!1),yA=N.createContext({});function $V(n,e,t,r,a){var l,h;const{visualElement:d}=N.useContext(Lm),m=N.useContext(fA),g=N.useContext(Vm),x=N.useContext(Mx).reducedMotion,v=N.useRef(null);r=r||m.renderer,!v.current&&r&&(v.current=r(n,{visualState:e,parent:d,props:t,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:x}));const w=v.current,E=N.useContext(yA);w&&!w.projection&&a&&(w.type==="html"||w.type==="svg")&&YV(v.current,t,a,E);const j=N.useRef(!1);N.useInsertionEffect(()=>{w&&j.current&&w.update(t,g)});const k=t[gA],R=N.useRef(!!k&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,k))&&((h=window.MotionHasOptimisedAnimation)===null||h===void 0?void 0:h.call(window,k)));return uA(()=>{w&&(j.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),Lx.render(w.render),R.current&&w.animationState&&w.animationState.animateChanges())}),N.useEffect(()=>{w&&(!R.current&&w.animationState&&w.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)===null||O===void 0||O.call(window,k)}),R.current=!1))}),w}function YV(n,e,t,r){const{layoutId:a,layout:l,drag:h,dragConstraints:d,layoutScroll:m,layoutRoot:g}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:xA(n.parent)),n.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!h||d&&hl(d),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,layoutScroll:m,layoutRoot:g})}function xA(n){if(n)return n.options.allowProjection!==!1?n.projection:xA(n.parent)}function QV({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:a}){var l,h;n&&OV(n);function d(g,x){let v;const w={...N.useContext(Mx),...g,layoutId:KV(g)},{isStatic:E}=w,j=FV(g),k=r(g,E);if(!E&&Dx){WV();const R=XV(w);v=R.MeasureLayout,j.visualElement=$V(a,k,w,e,R.ProjectionNode)}return c.jsxs(Lm.Provider,{value:j,children:[v&&j.visualElement?c.jsx(v,{visualElement:j.visualElement,...w}):null,t(a,g,HV(k,j.visualElement,x),k,E,j.visualElement)]})}d.displayName=`motion.${typeof a=="string"?a:`create(${(h=(l=a.displayName)!==null&&l!==void 0?l:a.name)!==null&&h!==void 0?h:""})`}`;const m=N.forwardRef(d);return m[qV]=a,m}function KV({layoutId:n}){const e=N.useContext(Rx).id;return e&&n!==void 0?e+"-"+n:n}function WV(n,e){N.useContext(fA).strict}function XV(n){const{drag:e,layout:t}=Rl;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const JV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ux(n){return typeof n!="string"||n.includes("-")?!1:!!(JV.indexOf(n)>-1||/[A-Z]/u.test(n))}function MT(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function zx(n,e,t,r){if(typeof e=="function"){const[a,l]=MT(r);e=e(t!==void 0?t:n.custom,a,l)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,l]=MT(r);e=e(t!==void 0?t:n.custom,a,l)}return e}const Zy=n=>Array.isArray(n),ZV=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),e9=n=>Zy(n)?n[n.length-1]||0:n,_n=n=>!!(n&&n.getVelocity);function Tf(n){const e=_n(n)?n.get():n;return ZV(e)?e.toValue():e}function t9({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,a,l){const h={latestValues:n9(r,a,l,n),renderState:e()};return t&&(h.onMount=d=>t({props:r,current:d,...h}),h.onUpdate=d=>t(d)),h}const vA=n=>(e,t)=>{const r=N.useContext(Lm),a=N.useContext(Vm),l=()=>t9(n,e,r,a);return t?l():Ix(l)};function n9(n,e,t,r){const a={},l=r(n,{});for(const w in l)a[w]=Tf(l[w]);let{initial:h,animate:d}=n;const m=zm(n),g=pA(n);e&&g&&!m&&n.inherit!==!1&&(h===void 0&&(h=e.initial),d===void 0&&(d=e.animate));let x=t?t.initial===!1:!1;x=x||h===!1;const v=x?d:h;if(v&&typeof v!="boolean"&&!Um(v)){const w=Array.isArray(v)?v:[v];for(let E=0;E<w.length;E++){const j=zx(n,w[E]);if(j){const{transitionEnd:k,transition:R,...O}=j;for(const D in O){let U=O[D];if(Array.isArray(U)){const H=x?U.length-1:0;U=U[H]}U!==null&&(a[D]=U)}for(const D in k)a[D]=k[D]}}}return a}const Yl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ho=new Set(Yl),bA=n=>e=>typeof e=="string"&&e.startsWith(n),wA=bA("--"),s9=bA("var(--"),Bx=n=>s9(n)?r9.test(n.split("/*")[0].trim()):!1,r9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_A=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Jr=(n,e,t)=>t>e?e:t<n?n:t,Ql={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Fu={...Ql,transform:n=>Jr(0,1,n)},af={...Ql,default:1},gh=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Vi=gh("deg"),mr=gh("%"),_e=gh("px"),i9=gh("vh"),a9=gh("vw"),DT={...mr,parse:n=>mr.parse(n)/100,transform:n=>mr.transform(n*100)},o9={borderWidth:_e,borderTopWidth:_e,borderRightWidth:_e,borderBottomWidth:_e,borderLeftWidth:_e,borderRadius:_e,radius:_e,borderTopLeftRadius:_e,borderTopRightRadius:_e,borderBottomRightRadius:_e,borderBottomLeftRadius:_e,width:_e,maxWidth:_e,height:_e,maxHeight:_e,top:_e,right:_e,bottom:_e,left:_e,padding:_e,paddingTop:_e,paddingRight:_e,paddingBottom:_e,paddingLeft:_e,margin:_e,marginTop:_e,marginRight:_e,marginBottom:_e,marginLeft:_e,backgroundPositionX:_e,backgroundPositionY:_e},l9={rotate:Vi,rotateX:Vi,rotateY:Vi,rotateZ:Vi,scale:af,scaleX:af,scaleY:af,scaleZ:af,skew:Vi,skewX:Vi,skewY:Vi,distance:_e,translateX:_e,translateY:_e,translateZ:_e,x:_e,y:_e,z:_e,perspective:_e,transformPerspective:_e,opacity:Fu,originX:DT,originY:DT,originZ:_e},kT={...Ql,transform:Math.round},Fx={...o9,...l9,zIndex:kT,size:_e,fillOpacity:Fu,strokeOpacity:Fu,numOctaves:kT},c9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},u9=Yl.length;function h9(n,e,t){let r="",a=!0;for(let l=0;l<u9;l++){const h=Yl[l],d=n[h];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(h.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||t){const g=_A(d,Fx[h]);if(!m){a=!1;const x=c9[h]||h;r+=`${x}(${g}) `}t&&(e[h]=g)}}return r=r.trim(),t?r=t(e,a?"":r):a&&(r="none"),r}function qx(n,e,t){const{style:r,vars:a,transformOrigin:l}=n;let h=!1,d=!1;for(const m in e){const g=e[m];if(ho.has(m)){h=!0;continue}else if(wA(m)){a[m]=g;continue}else{const x=_A(g,Fx[m]);m.startsWith("origin")?(d=!0,l[m]=x):r[m]=x}}if(e.transform||(h||t?r.transform=h9(e,n.transform,t):r.transform&&(r.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:x=0}=l;r.transformOrigin=`${m} ${g} ${x}`}}const d9={offset:"stroke-dashoffset",array:"stroke-dasharray"},f9={offset:"strokeDashoffset",array:"strokeDasharray"};function m9(n,e,t=1,r=0,a=!0){n.pathLength=1;const l=a?d9:f9;n[l.offset]=_e.transform(-r);const h=_e.transform(e),d=_e.transform(t);n[l.array]=`${h} ${d}`}function PT(n,e,t){return typeof n=="string"?n:_e.transform(e+t*n)}function p9(n,e,t){const r=PT(e,n.x,n.width),a=PT(t,n.y,n.height);return`${r} ${a}`}function Hx(n,{attrX:e,attrY:t,attrScale:r,originX:a,originY:l,pathLength:h,pathSpacing:d=1,pathOffset:m=0,...g},x,v){if(qx(n,g,v),x){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:w,style:E,dimensions:j}=n;w.transform&&(j&&(E.transform=w.transform),delete w.transform),j&&(a!==void 0||l!==void 0||E.transform)&&(E.transformOrigin=p9(j,a!==void 0?a:.5,l!==void 0?l:.5)),e!==void 0&&(w.x=e),t!==void 0&&(w.y=t),r!==void 0&&(w.scale=r),h!==void 0&&m9(w,h,d,m,!1)}const Gx=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),TA=()=>({...Gx(),attrs:{}}),$x=n=>typeof n=="string"&&n.toLowerCase()==="svg";function EA(n,{style:e,vars:t},r,a){Object.assign(n.style,e,a&&a.getProjectionStyles(r));for(const l in t)n.style.setProperty(l,t[l])}const NA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function SA(n,e,t,r){EA(n,e,void 0,r);for(const a in e.attrs)n.setAttribute(NA.has(a)?a:Vx(a),e.attrs[a])}const Zf={};function g9(n){Object.assign(Zf,n)}function AA(n,{layout:e,layoutId:t}){return ho.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Zf[n]||n==="opacity")}function Yx(n,e,t){var r;const{style:a}=n,l={};for(const h in a)(_n(a[h])||e.style&&_n(e.style[h])||AA(h,n)||((r=t?.getValue(h))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(l[h]=a[h]);return l}function jA(n,e,t){const r=Yx(n,e,t);for(const a in n)if(_n(n[a])||_n(e[a])){const l=Yl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=n[a]}return r}function y9(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const OT=["x","y","width","height","cx","cy","r"],x9={useVisualState:vA({scrapeMotionValuesFromProps:jA,createRenderState:TA,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:a})=>{if(!t)return;let l=!!n.drag;if(!l){for(const d in a)if(ho.has(d)){l=!0;break}}if(!l)return;let h=!e;if(e)for(let d=0;d<OT.length;d++){const m=OT[d];n[m]!==e[m]&&(h=!0)}h&&pt.read(()=>{y9(t,r),pt.render(()=>{Hx(r,a,$x(t.tagName),n.transformTemplate),SA(t,r)})})}})},v9={useVisualState:vA({scrapeMotionValuesFromProps:Yx,createRenderState:Gx})};function CA(n,e,t){for(const r in e)!_n(e[r])&&!AA(r,t)&&(n[r]=e[r])}function b9({transformTemplate:n},e){return N.useMemo(()=>{const t=Gx();return qx(t,e,n),Object.assign({},t.vars,t.style)},[e])}function w9(n,e){const t=n.style||{},r={};return CA(r,t,n),Object.assign(r,b9(n,e)),r}function _9(n,e){const t={},r=w9(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function T9(n,e,t,r){const a=N.useMemo(()=>{const l=TA();return Hx(l,e,$x(r),n.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};CA(l,n.style,n),a.style={...l,...a.style}}return a}function E9(n=!1){return(t,r,a,{latestValues:l},h)=>{const m=(Ux(t)?T9:_9)(r,l,h,t),g=UV(r,typeof t=="string",n),x=t!==N.Fragment?{...g,...m,ref:a}:{},{children:v}=r,w=N.useMemo(()=>_n(v)?v.get():v,[v]);return N.createElement(t,{...x,children:w})}}function N9(n,e){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const h={...Ux(r)?x9:v9,preloadedFeatures:n,useRender:E9(a),createVisualElement:e,Component:r};return QV(h)}}function RA(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Bm(n,e,t){const r=n.getProps();return zx(r,e,t!==void 0?t:r.custom,n)}const S9=kx(()=>window.ScrollTimeline!==void 0);class A9{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(a=>{if(S9()&&a.attachTimeline)return a.attachTimeline(e);if(typeof t=="function")return t(a)});return()=>{r.forEach((a,l)=>{a&&a(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class j9 extends A9{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Qx(n,e){return n?n[e]||n.default||n:void 0}const e0=2e4;function IA(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<e0;)e+=t,r=n.next(e);return e>=e0?1/0:e}function Kx(n){return typeof n=="function"}function VT(n,e){n.timeline=e,n.onfinish=null}const Wx=n=>Array.isArray(n)&&typeof n[0]=="number",C9={linearEasing:void 0};function R9(n,e){const t=kx(n);return()=>{var r;return(r=C9[e])!==null&&r!==void 0?r:t()}}const em=R9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),MA=(n,e,t=10)=>{let r="";const a=Math.max(Math.round(e/t),2);for(let l=0;l<a;l++)r+=n(Cl(0,a-1,l))+", ";return`linear(${r.substring(0,r.length-2)})`};function DA(n){return!!(typeof n=="function"&&em()||!n||typeof n=="string"&&(n in t0||em())||Wx(n)||Array.isArray(n)&&n.every(DA))}const fu=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,t0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fu([0,.65,.55,1]),circOut:fu([.55,0,1,.45]),backIn:fu([.31,.01,.66,-.59]),backOut:fu([.33,1.53,.69,.99])};function kA(n,e){if(n)return typeof n=="function"&&em()?MA(n,e):Wx(n)?fu(n):Array.isArray(n)?n.map(t=>kA(t,e)||t0.easeOut):t0[n]}const Rs={x:!1,y:!1};function PA(){return Rs.x||Rs.y}function I9(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let a=document;const l=(r=void 0)!==null&&r!==void 0?r:a.querySelectorAll(n);return l?Array.from(l):[]}return Array.from(n)}function OA(n,e){const t=I9(n),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[t,a,()=>r.abort()]}function LT(n){return e=>{e.pointerType==="touch"||PA()||n(e)}}function M9(n,e,t={}){const[r,a,l]=OA(n,t),h=LT(d=>{const{target:m}=d,g=e(d);if(typeof g!="function"||!m)return;const x=LT(v=>{g(v),m.removeEventListener("pointerleave",x)});m.addEventListener("pointerleave",x,a)});return r.forEach(d=>{d.addEventListener("pointerenter",h,a)}),l}const VA=(n,e)=>e?n===e?!0:VA(n,e.parentElement):!1,Xx=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,D9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function k9(n){return D9.has(n.tagName)||n.tabIndex!==-1}const mu=new WeakSet;function UT(n){return e=>{e.key==="Enter"&&n(e)}}function cy(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const P9=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=UT(()=>{if(mu.has(t))return;cy(t,"down");const a=UT(()=>{cy(t,"up")}),l=()=>cy(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",l,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function zT(n){return Xx(n)&&!PA()}function O9(n,e,t={}){const[r,a,l]=OA(n,t),h=d=>{const m=d.currentTarget;if(!zT(d)||mu.has(m))return;mu.add(m);const g=e(d),x=(E,j)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),!(!zT(E)||!mu.has(m))&&(mu.delete(m),typeof g=="function"&&g(E,{success:j}))},v=E=>{x(E,t.useGlobalTarget||VA(m,E.target))},w=E=>{x(E,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",w,a)};return r.forEach(d=>{!k9(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(t.useGlobalTarget?window:d).addEventListener("pointerdown",h,a),d.addEventListener("focus",g=>P9(g,a),a)}),l}function V9(n){return n==="x"||n==="y"?Rs[n]?null:(Rs[n]=!0,()=>{Rs[n]=!1}):Rs.x||Rs.y?null:(Rs.x=Rs.y=!0,()=>{Rs.x=Rs.y=!1})}const LA=new Set(["width","height","top","left","right","bottom",...Yl]);let Ef;function L9(){Ef=void 0}const pr={now:()=>(Ef===void 0&&pr.set(dn.isProcessing||DV.useManualTiming?dn.timestamp:performance.now()),Ef),set:n=>{Ef=n,queueMicrotask(L9)}};function Jx(n,e){n.indexOf(e)===-1&&n.push(e)}function Zx(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class ev{constructor(){this.subscriptions=[]}add(e){return Jx(this.subscriptions,e),()=>Zx(this.subscriptions,e)}notify(e,t,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,r);else for(let l=0;l<a;l++){const h=this.subscriptions[l];h&&h(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function UA(n,e){return e?n*(1e3/e):0}const BT=30,U9=n=>!isNaN(parseFloat(n));class z9{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{const l=pr.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=pr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=U9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ev);const r=this.events[e].add(t);return e==="change"?()=>{r(),pt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=pr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>BT)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,BT);return UA(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qu(n,e){return new z9(n,e)}function B9(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,qu(t))}function F9(n,e){const t=Bm(n,e);let{transitionEnd:r={},transition:a={},...l}=t||{};l={...l,...r};for(const h in l){const d=e9(l[h]);B9(n,h,d)}}function q9(n){return!!(_n(n)&&n.add)}function n0(n,e){const t=n.getValue("willChange");if(q9(t))return t.add(e)}function zA(n){return n.props[gA]}const BA=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,H9=1e-7,G9=12;function $9(n,e,t,r,a){let l,h,d=0;do h=e+(t-e)/2,l=BA(h,r,a)-n,l>0?t=h:e=h;while(Math.abs(l)>H9&&++d<G9);return h}function yh(n,e,t,r){if(n===e&&t===r)return Xn;const a=l=>$9(l,0,1,n,t);return l=>l===0||l===1?l:BA(a(l),e,r)}const FA=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,qA=n=>e=>1-n(1-e),HA=yh(.33,1.53,.69,.99),tv=qA(HA),GA=FA(tv),$A=n=>(n*=2)<1?.5*tv(n):.5*(2-Math.pow(2,-10*(n-1))),nv=n=>1-Math.sin(Math.acos(n)),YA=qA(nv),QA=FA(nv),KA=n=>/^0[^.\s]+$/u.test(n);function Y9(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||KA(n):!0}const Tu=n=>Math.round(n*1e5)/1e5,sv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Q9(n){return n==null}const K9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,rv=(n,e)=>t=>!!(typeof t=="string"&&K9.test(t)&&t.startsWith(n)||e&&!Q9(t)&&Object.prototype.hasOwnProperty.call(t,e)),WA=(n,e,t)=>r=>{if(typeof r!="string")return r;const[a,l,h,d]=r.match(sv);return{[n]:parseFloat(a),[e]:parseFloat(l),[t]:parseFloat(h),alpha:d!==void 0?parseFloat(d):1}},W9=n=>Jr(0,255,n),uy={...Ql,transform:n=>Math.round(W9(n))},Ja={test:rv("rgb","red"),parse:WA("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+uy.transform(n)+", "+uy.transform(e)+", "+uy.transform(t)+", "+Tu(Fu.transform(r))+")"};function X9(n){let e="",t="",r="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const s0={test:rv("#"),parse:X9,transform:Ja.transform},dl={test:rv("hsl","hue"),parse:WA("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+mr.transform(Tu(e))+", "+mr.transform(Tu(t))+", "+Tu(Fu.transform(r))+")"},bn={test:n=>Ja.test(n)||s0.test(n)||dl.test(n),parse:n=>Ja.test(n)?Ja.parse(n):dl.test(n)?dl.parse(n):s0.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ja.transform(n):dl.transform(n)},J9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Z9(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(sv))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(J9))===null||t===void 0?void 0:t.length)||0)>0}const XA="number",JA="color",eL="var",tL="var(",FT="${}",nL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hu(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(nL,m=>(bn.test(m)?(r.color.push(l),a.push(JA),t.push(bn.parse(m))):m.startsWith(tL)?(r.var.push(l),a.push(eL),t.push(m)):(r.number.push(l),a.push(XA),t.push(parseFloat(m))),++l,FT)).split(FT);return{values:t,split:d,indexes:r,types:a}}function ZA(n){return Hu(n).values}function ej(n){const{split:e,types:t}=Hu(n),r=e.length;return a=>{let l="";for(let h=0;h<r;h++)if(l+=e[h],a[h]!==void 0){const d=t[h];d===XA?l+=Tu(a[h]):d===JA?l+=bn.transform(a[h]):l+=a[h]}return l}}const sL=n=>typeof n=="number"?0:n;function rL(n){const e=ZA(n);return ej(n)(e.map(sL))}const aa={test:Z9,parse:ZA,createTransformer:ej,getAnimatableNone:rL},iL=new Set(["brightness","contrast","saturate","opacity"]);function aL(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(sv)||[];if(!r)return n;const a=t.replace(r,"");let l=iL.has(e)?1:0;return r!==t&&(l*=100),e+"("+l+a+")"}const oL=/\b([a-z-]*)\(.*?\)/gu,r0={...aa,getAnimatableNone:n=>{const e=n.match(oL);return e?e.map(aL).join(" "):n}},lL={...Fx,color:bn,backgroundColor:bn,outlineColor:bn,fill:bn,stroke:bn,borderColor:bn,borderTopColor:bn,borderRightColor:bn,borderBottomColor:bn,borderLeftColor:bn,filter:r0,WebkitFilter:r0},iv=n=>lL[n];function tj(n,e){let t=iv(n);return t!==r0&&(t=aa),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const cL=new Set(["auto","none","0"]);function uL(n,e,t){let r=0,a;for(;r<n.length&&!a;){const l=n[r];typeof l=="string"&&!cL.has(l)&&Hu(l).values.length&&(a=n[r]),r++}if(a&&t)for(const l of e)n[l]=tj(t,a)}const qT=n=>n===Ql||n===_e,HT=(n,e)=>parseFloat(n.split(", ")[e]),GT=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/u);if(a)return HT(a[1],e);{const l=r.match(/^matrix\((.+)\)$/u);return l?HT(l[1],n):0}},hL=new Set(["x","y","z"]),dL=Yl.filter(n=>!hL.has(n));function fL(n){const e=[];return dL.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Il={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:GT(4,13),y:GT(5,14)};Il.translateX=Il.x;Il.translateY=Il.y;const eo=new Set;let i0=!1,a0=!1;function nj(){if(a0){const n=Array.from(eo).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const a=fL(r);a.length&&(t.set(r,a),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=t.get(r);a&&a.forEach(([l,h])=>{var d;(d=r.getValue(l))===null||d===void 0||d.set(h)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}a0=!1,i0=!1,eo.forEach(n=>n.complete()),eo.clear()}function sj(){eo.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(a0=!0)})}function mL(){sj(),nj()}class av{constructor(e,t,r,a,l,h=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=a,this.element=l,this.isAsync=h}scheduleResolve(){this.isScheduled=!0,this.isAsync?(eo.add(this),i0||(i0=!0,pt.read(sj),pt.resolveKeyframes(nj))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:a}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const h=a?.get(),d=e[e.length-1];if(h!==void 0)e[0]=h;else if(r&&t){const m=r.readValue(t,d);m!=null&&(e[0]=m)}e[0]===void 0&&(e[0]=d),a&&h===void 0&&a.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),eo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,eo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const rj=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),pL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function gL(n){const e=pL.exec(n);if(!e)return[,];const[,t,r,a]=e;return[`--${t??r}`,a]}function ij(n,e,t=1){const[r,a]=gL(n);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const h=l.trim();return rj(h)?parseFloat(h):h}return Bx(a)?ij(a,e,t+1):a}const aj=n=>e=>e.test(n),yL={test:n=>n==="auto",parse:n=>n},oj=[Ql,_e,mr,Vi,a9,i9,yL],$T=n=>oj.find(aj(n));class lj extends av{constructor(e,t,r,a,l){super(e,t,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),Bx(g))){const x=ij(g,t.current);x!==void 0&&(e[m]=x),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!LA.has(r)||e.length!==2)return;const[a,l]=e,h=$T(a),d=$T(l);if(h!==d)if(qT(h)&&qT(d))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let a=0;a<e.length;a++)Y9(e[a])&&r.push(a);r.length&&uL(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Il[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const l=t.getValue(r);l&&l.jump(this.measuredOrigin,!1);const h=a.length-1,d=a[h];a[h]=Il[r](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([m,g])=>{t.getValue(m).set(g)}),this.resolveNoneKeyframes()}}const YT=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(aa.test(n)||n==="0")&&!n.startsWith("url("));function xL(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function vL(n,e,t,r){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=n[n.length-1],h=YT(a,e),d=YT(l,e);return!h||!d?!1:xL(n)||(t==="spring"||Kx(t))&&r}const bL=n=>n!==null;function Fm(n,{repeat:e,repeatType:t="loop"},r){const a=n.filter(bL),l=e&&t!=="loop"&&e%2===1?0:a.length-1;return!l||r===void 0?a[l]:r}const wL=40;class cj{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:h="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=pr.now(),this.options={autoplay:e,delay:t,type:r,repeat:a,repeatDelay:l,repeatType:h,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>wL?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&mL(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=pr.now(),this.hasAttemptedResolve=!0;const{name:r,type:a,velocity:l,delay:h,onComplete:d,onUpdate:m,isGenerator:g}=this.options;if(!g&&!vL(e,r,a,l))if(h)this.options.duration=0;else{m&&m(Fm(e,this.options,t)),d&&d(),this.resolveFinishedPromise();return}const x=this.initPlayback(e,t);x!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...x},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const bt=(n,e,t)=>n+(e-n)*t;function hy(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function _L({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let a=0,l=0,h=0;if(!e)a=l=h=t;else{const d=t<.5?t*(1+e):t+e-t*e,m=2*t-d;a=hy(m,d,n+1/3),l=hy(m,d,n),h=hy(m,d,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(h*255),alpha:r}}function tm(n,e){return t=>t>0?e:n}const dy=(n,e,t)=>{const r=n*n,a=t*(e*e-r)+r;return a<0?0:Math.sqrt(a)},TL=[s0,Ja,dl],EL=n=>TL.find(e=>e.test(n));function QT(n){const e=EL(n);if(!e)return!1;let t=e.parse(n);return e===dl&&(t=_L(t)),t}const KT=(n,e)=>{const t=QT(n),r=QT(e);if(!t||!r)return tm(n,e);const a={...t};return l=>(a.red=dy(t.red,r.red,l),a.green=dy(t.green,r.green,l),a.blue=dy(t.blue,r.blue,l),a.alpha=bt(t.alpha,r.alpha,l),Ja.transform(a))},NL=(n,e)=>t=>e(n(t)),xh=(...n)=>n.reduce(NL),o0=new Set(["none","hidden"]);function SL(n,e){return o0.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function AL(n,e){return t=>bt(n,e,t)}function ov(n){return typeof n=="number"?AL:typeof n=="string"?Bx(n)?tm:bn.test(n)?KT:RL:Array.isArray(n)?uj:typeof n=="object"?bn.test(n)?KT:jL:tm}function uj(n,e){const t=[...n],r=t.length,a=n.map((l,h)=>ov(l)(l,e[h]));return l=>{for(let h=0;h<r;h++)t[h]=a[h](l);return t}}function jL(n,e){const t={...n,...e},r={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(r[a]=ov(n[a])(n[a],e[a]));return a=>{for(const l in r)t[l]=r[l](a);return t}}function CL(n,e){var t;const r=[],a={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const h=e.types[l],d=n.indexes[h][a[h]],m=(t=n.values[d])!==null&&t!==void 0?t:0;r[l]=m,a[h]++}return r}const RL=(n,e)=>{const t=aa.createTransformer(e),r=Hu(n),a=Hu(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?o0.has(n)&&!a.values.length||o0.has(e)&&!r.values.length?SL(n,e):xh(uj(CL(r,a),a.values),t):tm(n,e)};function hj(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?bt(n,e,t):ov(n)(n,e)}const IL=5;function dj(n,e,t){const r=Math.max(e-IL,0);return UA(t-n(r),e-r)}const Nt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fy=.001;function ML({duration:n=Nt.duration,bounce:e=Nt.bounce,velocity:t=Nt.velocity,mass:r=Nt.mass}){let a,l,h=1-e;h=Jr(Nt.minDamping,Nt.maxDamping,h),n=Jr(Nt.minDuration,Nt.maxDuration,qr(n)),h<1?(a=g=>{const x=g*h,v=x*n,w=x-t,E=l0(g,h),j=Math.exp(-v);return fy-w/E*j},l=g=>{const v=g*h*n,w=v*t+t,E=Math.pow(h,2)*Math.pow(g,2)*n,j=Math.exp(-v),k=l0(Math.pow(g,2),h);return(-a(g)+fy>0?-1:1)*((w-E)*j)/k}):(a=g=>{const x=Math.exp(-g*n),v=(g-t)*n+1;return-fy+x*v},l=g=>{const x=Math.exp(-g*n),v=(t-g)*(n*n);return x*v});const d=5/n,m=kL(a,l,d);if(n=Fr(n),isNaN(m))return{stiffness:Nt.stiffness,damping:Nt.damping,duration:n};{const g=Math.pow(m,2)*r;return{stiffness:g,damping:h*2*Math.sqrt(r*g),duration:n}}}const DL=12;function kL(n,e,t){let r=t;for(let a=1;a<DL;a++)r=r-n(r)/e(r);return r}function l0(n,e){return n*Math.sqrt(1-e*e)}const PL=["duration","bounce"],OL=["stiffness","damping","mass"];function WT(n,e){return e.some(t=>n[t]!==void 0)}function VL(n){let e={velocity:Nt.velocity,stiffness:Nt.stiffness,damping:Nt.damping,mass:Nt.mass,isResolvedFromDuration:!1,...n};if(!WT(n,OL)&&WT(n,PL))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),a=r*r,l=2*Jr(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:Nt.mass,stiffness:a,damping:l}}else{const t=ML(n);e={...e,...t,mass:Nt.mass},e.isResolvedFromDuration=!0}return e}function fj(n=Nt.visualDuration,e=Nt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:a}=t;const l=t.keyframes[0],h=t.keyframes[t.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:g,mass:x,duration:v,velocity:w,isResolvedFromDuration:E}=VL({...t,velocity:-qr(t.velocity||0)}),j=w||0,k=g/(2*Math.sqrt(m*x)),R=h-l,O=qr(Math.sqrt(m/x)),D=Math.abs(R)<5;r||(r=D?Nt.restSpeed.granular:Nt.restSpeed.default),a||(a=D?Nt.restDelta.granular:Nt.restDelta.default);let U;if(k<1){const K=l0(O,k);U=ie=>{const I=Math.exp(-k*O*ie);return h-I*((j+k*O*R)/K*Math.sin(K*ie)+R*Math.cos(K*ie))}}else if(k===1)U=K=>h-Math.exp(-O*K)*(R+(j+O*R)*K);else{const K=O*Math.sqrt(k*k-1);U=ie=>{const I=Math.exp(-k*O*ie),A=Math.min(K*ie,300);return h-I*((j+k*O*R)*Math.sinh(A)+K*R*Math.cosh(A))/K}}const H={calculatedDuration:E&&v||null,next:K=>{const ie=U(K);if(E)d.done=K>=v;else{let I=0;k<1&&(I=K===0?Fr(j):dj(U,K,ie));const A=Math.abs(I)<=r,M=Math.abs(h-ie)<=a;d.done=A&&M}return d.value=d.done?h:ie,d},toString:()=>{const K=Math.min(IA(H),e0),ie=MA(I=>H.next(K*I).value,K,30);return K+"ms "+ie}};return H}function XT({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:h,min:d,max:m,restDelta:g=.5,restSpeed:x}){const v=n[0],w={done:!1,value:v},E=A=>d!==void 0&&A<d||m!==void 0&&A>m,j=A=>d===void 0?m:m===void 0||Math.abs(d-A)<Math.abs(m-A)?d:m;let k=t*e;const R=v+k,O=h===void 0?R:h(R);O!==R&&(k=O-v);const D=A=>-k*Math.exp(-A/r),U=A=>O+D(A),H=A=>{const M=D(A),V=U(A);w.done=Math.abs(M)<=g,w.value=w.done?O:V};let K,ie;const I=A=>{E(w.value)&&(K=A,ie=fj({keyframes:[w.value,j(w.value)],velocity:dj(U,A,w.value),damping:a,stiffness:l,restDelta:g,restSpeed:x}))};return I(0),{calculatedDuration:null,next:A=>{let M=!1;return!ie&&K===void 0&&(M=!0,H(A),I(A)),K!==void 0&&A>=K?ie.next(A-K):(!M&&H(A),w)}}}const LL=yh(.42,0,1,1),UL=yh(0,0,.58,1),mj=yh(.42,0,.58,1),zL=n=>Array.isArray(n)&&typeof n[0]!="number",BL={linear:Xn,easeIn:LL,easeInOut:mj,easeOut:UL,circIn:nv,circInOut:QA,circOut:YA,backIn:tv,backInOut:GA,backOut:HA,anticipate:$A},JT=n=>{if(Wx(n)){hA(n.length===4);const[e,t,r,a]=n;return yh(e,t,r,a)}else if(typeof n=="string")return BL[n];return n};function FL(n,e,t){const r=[],a=t||hj,l=n.length-1;for(let h=0;h<l;h++){let d=a(n[h],n[h+1]);if(e){const m=Array.isArray(e)?e[h]||Xn:e;d=xh(m,d)}r.push(d)}return r}function qL(n,e,{clamp:t=!0,ease:r,mixer:a}={}){const l=n.length;if(hA(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const h=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const d=FL(e,r,a),m=d.length,g=x=>{if(h&&x<n[0])return e[0];let v=0;if(m>1)for(;v<n.length-2&&!(x<n[v+1]);v++);const w=Cl(n[v],n[v+1],x);return d[v](w)};return t?x=>g(Jr(n[0],n[l-1],x)):g}function HL(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const a=Cl(0,e,r);n.push(bt(t,1,a))}}function GL(n){const e=[0];return HL(e,n.length-1),e}function $L(n,e){return n.map(t=>t*e)}function YL(n,e){return n.map(()=>e||mj).splice(0,n.length-1)}function nm({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const a=zL(r)?r.map(JT):JT(r),l={done:!1,value:e[0]},h=$L(t&&t.length===e.length?t:GL(e),n),d=qL(h,e,{ease:Array.isArray(a)?a:YL(e,a)});return{calculatedDuration:n,next:m=>(l.value=d(m),l.done=m>=n,l)}}const QL=n=>{const e=({timestamp:t})=>n(t);return{start:()=>pt.update(e,!0),stop:()=>ia(e),now:()=>dn.isProcessing?dn.timestamp:pr.now()}},KL={decay:XT,inertia:XT,tween:nm,keyframes:nm,spring:fj},WL=n=>n/100;class lv extends cj{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:m}=this.options;m&&m()};const{name:t,motionValue:r,element:a,keyframes:l}=this.options,h=a?.KeyframeResolver||av,d=(m,g)=>this.onKeyframesResolved(m,g);this.resolver=new h(l,d,t,r,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:h=0}=this.options,d=Kx(t)?t:KL[t]||nm;let m,g;d!==nm&&typeof e[0]!="number"&&(m=xh(WL,hj(e[0],e[1])),e=[0,100]);const x=d({...this.options,keyframes:e});l==="mirror"&&(g=d({...this.options,keyframes:[...e].reverse(),velocity:-h})),x.calculatedDuration===null&&(x.calculatedDuration=IA(x));const{calculatedDuration:v}=x,w=v+a,E=w*(r+1)-a;return{generator:x,mirroredGenerator:g,mapPercentToKeyframes:m,calculatedDuration:v,resolvedDuration:w,totalDuration:E}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:a,generator:l,mirroredGenerator:h,mapPercentToKeyframes:d,keyframes:m,calculatedDuration:g,totalDuration:x,resolvedDuration:v}=r;if(this.startTime===null)return l.next(0);const{delay:w,repeat:E,repeatType:j,repeatDelay:k,onUpdate:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-x/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const O=this.currentTime-w*(this.speed>=0?1:-1),D=this.speed>=0?O<0:O>x;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=x);let U=this.currentTime,H=l;if(E){const A=Math.min(this.currentTime,x)/v;let M=Math.floor(A),V=A%1;!V&&A>=1&&(V=1),V===1&&M--,M=Math.min(M,E+1),!!(M%2)&&(j==="reverse"?(V=1-V,k&&(V-=k/v)):j==="mirror"&&(H=h)),U=Jr(0,1,V)*v}const K=D?{done:!1,value:m[0]}:H.next(U);d&&(K.value=d(K.value));let{done:ie}=K;!D&&g!==null&&(ie=this.speed>=0?this.currentTime>=x:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ie);return I&&a!==void 0&&(K.value=Fm(m,this.options,a)),R&&R(K.value),I&&this.finish(),K}get duration(){const{resolved:e}=this;return e?qr(e.calculatedDuration):0}get time(){return qr(this.currentTime)}set time(e){e=Fr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=qr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=QL,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),t&&t();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const XL=new Set(["opacity","clipPath","filter","transform"]);function JL(n,e,t,{delay:r=0,duration:a=300,repeat:l=0,repeatType:h="loop",ease:d="easeInOut",times:m}={}){const g={[e]:t};m&&(g.offset=m);const x=kA(d,a);return Array.isArray(x)&&(g.easing=x),n.animate(g,{delay:r,duration:a,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:l+1,direction:h==="reverse"?"alternate":"normal"})}const ZL=kx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sm=10,e8=2e4;function t8(n){return Kx(n.type)||n.type==="spring"||!DA(n.ease)}function n8(n,e){const t=new lv({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const a=[];let l=0;for(;!r.done&&l<e8;)r=t.sample(l),a.push(r.value),l+=sm;return{times:void 0,keyframes:a,duration:l-sm,ease:"linear"}}const pj={anticipate:$A,backInOut:GA,circInOut:QA};function s8(n){return n in pj}class ZT extends cj{constructor(e){super(e);const{name:t,motionValue:r,element:a,keyframes:l}=this.options;this.resolver=new lj(l,(h,d)=>this.onKeyframesResolved(h,d),t,r,a),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:a,ease:l,type:h,motionValue:d,name:m,startTime:g}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof l=="string"&&em()&&s8(l)&&(l=pj[l]),t8(this.options)){const{onComplete:v,onUpdate:w,motionValue:E,element:j,...k}=this.options,R=n8(e,k);e=R.keyframes,e.length===1&&(e[1]=e[0]),r=R.duration,a=R.times,l=R.ease,h="keyframes"}const x=JL(d.owner.current,m,e,{...this.options,duration:r,times:a,ease:l});return x.startTime=g??this.calcStartTime(),this.pendingTimeline?(VT(x,this.pendingTimeline),this.pendingTimeline=void 0):x.onfinish=()=>{const{onComplete:v}=this.options;d.set(Fm(e,this.options,t)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:x,duration:r,times:a,type:h,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return qr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return qr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=Fr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Xn;const{animation:r}=t;VT(r,e)}return Xn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:a,type:l,ease:h,times:d}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:g,onUpdate:x,onComplete:v,element:w,...E}=this.options,j=new lv({...E,keyframes:r,duration:a,type:l,ease:h,times:d,isGenerator:!0}),k=Fr(this.time);g.setWithVelocity(j.sample(k-sm).value,j.sample(k).value,sm)}const{onStop:m}=this.options;m&&m(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:a,repeatType:l,damping:h,type:d}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=t.owner.getProps();return ZL()&&r&&XL.has(r)&&!m&&!g&&!a&&l!=="mirror"&&h!==0&&d!=="inertia"}}const r8={type:"spring",stiffness:500,damping:25,restSpeed:10},i8=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),a8={type:"keyframes",duration:.8},o8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},l8=(n,{keyframes:e})=>e.length>2?a8:ho.has(n)?n.startsWith("scale")?i8(e[1]):r8:o8;function c8({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:h,repeatDelay:d,from:m,elapsed:g,...x}){return!!Object.keys(x).length}const cv=(n,e,t,r={},a,l)=>h=>{const d=Qx(r,n)||{},m=d.delay||r.delay||0;let{elapsed:g=0}=r;g=g-Fr(m);let x={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-g,onUpdate:w=>{e.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{h(),d.onComplete&&d.onComplete()},name:n,motionValue:e,element:l?void 0:a};c8(d)||(x={...x,...l8(n,x)}),x.duration&&(x.duration=Fr(x.duration)),x.repeatDelay&&(x.repeatDelay=Fr(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let v=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(x.duration=0,x.delay===0&&(v=!0)),v&&!l&&e.get()!==void 0){const w=Fm(x.keyframes,d);if(w!==void 0)return pt.update(()=>{x.onUpdate(w),x.onComplete()}),new j9([])}return!l&&ZT.supports(x)?new ZT(x):new lv(x)};function u8({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function gj(n,e,{delay:t=0,transitionOverride:r,type:a}={}){var l;let{transition:h=n.getDefaultTransition(),transitionEnd:d,...m}=e;r&&(h=r);const g=[],x=a&&n.animationState&&n.animationState.getState()[a];for(const v in m){const w=n.getValue(v,(l=n.latestValues[v])!==null&&l!==void 0?l:null),E=m[v];if(E===void 0||x&&u8(x,v))continue;const j={delay:t,...Qx(h||{},v)};let k=!1;if(window.MotionHandoffAnimation){const O=zA(n);if(O){const D=window.MotionHandoffAnimation(O,v,pt);D!==null&&(j.startTime=D,k=!0)}}n0(n,v),w.start(cv(v,w,E,n.shouldReduceMotion&&LA.has(v)?{type:!1}:j,n,k));const R=w.animation;R&&g.push(R)}return d&&Promise.all(g).then(()=>{pt.update(()=>{d&&F9(n,d)})}),g}function c0(n,e,t={}){var r;const a=Bm(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:l=n.getDefaultTransition()||{}}=a||{};t.transitionOverride&&(l=t.transitionOverride);const h=a?()=>Promise.all(gj(n,a,t)):()=>Promise.resolve(),d=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:x=0,staggerChildren:v,staggerDirection:w}=l;return h8(n,e,x+g,v,w,t)}:()=>Promise.resolve(),{when:m}=l;if(m){const[g,x]=m==="beforeChildren"?[h,d]:[d,h];return g().then(()=>x())}else return Promise.all([h(),d(t.delay)])}function h8(n,e,t=0,r=0,a=1,l){const h=[],d=(n.variantChildren.size-1)*r,m=a===1?(g=0)=>g*r:(g=0)=>d-g*r;return Array.from(n.variantChildren).sort(d8).forEach((g,x)=>{g.notify("AnimationStart",e),h.push(c0(g,e,{...l,delay:t+m(x)}).then(()=>g.notify("AnimationComplete",e)))}),Promise.all(h)}function d8(n,e){return n.sortNodePosition(e)}function f8(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(l=>c0(n,l,t));r=Promise.all(a)}else if(typeof e=="string")r=c0(n,e,t);else{const a=typeof e=="function"?Bm(n,e,t.custom):e;r=Promise.all(gj(n,a,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const m8=Ox.length;function yj(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?yj(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<m8;t++){const r=Ox[t],a=n.props[r];(Bu(a)||a===!1)&&(e[r]=a)}return e}const p8=[...Px].reverse(),g8=Px.length;function y8(n){return e=>Promise.all(e.map(({animation:t,options:r})=>f8(n,t,r)))}function x8(n){let e=y8(n),t=e2(),r=!0;const a=m=>(g,x)=>{var v;const w=Bm(n,x,m==="exit"?(v=n.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(w){const{transition:E,transitionEnd:j,...k}=w;g={...g,...k,...j}}return g};function l(m){e=m(n)}function h(m){const{props:g}=n,x=yj(n.parent)||{},v=[],w=new Set;let E={},j=1/0;for(let R=0;R<g8;R++){const O=p8[R],D=t[O],U=g[O]!==void 0?g[O]:x[O],H=Bu(U),K=O===m?D.isActive:null;K===!1&&(j=R);let ie=U===x[O]&&U!==g[O]&&H;if(ie&&r&&n.manuallyAnimateOnMount&&(ie=!1),D.protectedKeys={...E},!D.isActive&&K===null||!U&&!D.prevProp||Um(U)||typeof U=="boolean")continue;const I=v8(D.prevProp,U);let A=I||O===m&&D.isActive&&!ie&&H||R>j&&H,M=!1;const V=Array.isArray(U)?U:[U];let L=V.reduce(a(O),{});K===!1&&(L={});const{prevResolvedValues:F={}}=D,P={...F,...L},me=oe=>{A=!0,w.has(oe)&&(M=!0,w.delete(oe)),D.needsAnimating[oe]=!0;const ge=n.getValue(oe);ge&&(ge.liveStyle=!1)};for(const oe in P){const ge=L[oe],De=F[oe];if(E.hasOwnProperty(oe))continue;let $e=!1;Zy(ge)&&Zy(De)?$e=!RA(ge,De):$e=ge!==De,$e?ge!=null?me(oe):w.add(oe):ge!==void 0&&w.has(oe)?me(oe):D.protectedKeys[oe]=!0}D.prevProp=U,D.prevResolvedValues=L,D.isActive&&(E={...E,...L}),r&&n.blockInitialAnimation&&(A=!1),A&&(!(ie&&I)||M)&&v.push(...V.map(oe=>({animation:oe,options:{type:O}})))}if(w.size){const R={};w.forEach(O=>{const D=n.getBaseTarget(O),U=n.getValue(O);U&&(U.liveStyle=!0),R[O]=D??null}),v.push({animation:R})}let k=!!v.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(k=!1),r=!1,k?e(v):Promise.resolve()}function d(m,g){var x;if(t[m].isActive===g)return Promise.resolve();(x=n.variantChildren)===null||x===void 0||x.forEach(w=>{var E;return(E=w.animationState)===null||E===void 0?void 0:E.setActive(m,g)}),t[m].isActive=g;const v=h(m);for(const w in t)t[w].protectedKeys={};return v}return{animateChanges:h,setActive:d,setAnimateFunction:l,getState:()=>t,reset:()=>{t=e2(),r=!0}}}function v8(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!RA(e,n):!1}function Ga(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function e2(){return{animate:Ga(!0),whileInView:Ga(),whileHover:Ga(),whileTap:Ga(),whileDrag:Ga(),whileFocus:Ga(),exit:Ga()}}class fa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class b8 extends fa{constructor(e){super(e),e.animationState||(e.animationState=x8(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Um(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let w8=0;class _8 extends fa{constructor(){super(...arguments),this.id=w8++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const T8={animation:{Feature:b8},exit:{Feature:_8}};function Gu(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function vh(n){return{point:{x:n.pageX,y:n.pageY}}}const E8=n=>e=>Xx(e)&&n(e,vh(e));function Eu(n,e,t,r){return Gu(n,e,E8(t),r)}const t2=(n,e)=>Math.abs(n-e);function N8(n,e){const t=t2(n.x,e.x),r=t2(n.y,e.y);return Math.sqrt(t**2+r**2)}class xj{constructor(e,t,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=py(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,E=N8(v.offset,{x:0,y:0})>=3;if(!w&&!E)return;const{point:j}=v,{timestamp:k}=dn;this.history.push({...j,timestamp:k});const{onStart:R,onMove:O}=this.handlers;w||(R&&R(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,v)},this.handlePointerMove=(v,w)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=my(w,this.transformPagePoint),pt.update(this.updatePoint,!0)},this.handlePointerUp=(v,w)=>{this.end();const{onEnd:E,onSessionEnd:j,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=py(v.type==="pointercancel"?this.lastMoveEventInfo:my(w,this.transformPagePoint),this.history);this.startEvent&&E&&E(v,R),j&&j(v,R)},!Xx(e))return;this.dragSnapToOrigin=l,this.handlers=t,this.transformPagePoint=r,this.contextWindow=a||window;const h=vh(e),d=my(h,this.transformPagePoint),{point:m}=d,{timestamp:g}=dn;this.history=[{...m,timestamp:g}];const{onSessionStart:x}=t;x&&x(e,py(d,this.history)),this.removeListeners=xh(Eu(this.contextWindow,"pointermove",this.handlePointerMove),Eu(this.contextWindow,"pointerup",this.handlePointerUp),Eu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ia(this.updatePoint)}}function my(n,e){return e?{point:e(n.point)}:n}function n2(n,e){return{x:n.x-e.x,y:n.y-e.y}}function py({point:n},e){return{point:n,delta:n2(n,vj(e)),offset:n2(n,S8(e)),velocity:A8(e,.1)}}function S8(n){return n[0]}function vj(n){return n[n.length-1]}function A8(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const a=vj(n);for(;t>=0&&(r=n[t],!(a.timestamp-r.timestamp>Fr(e)));)t--;if(!r)return{x:0,y:0};const l=qr(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const h={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}const bj=1e-4,j8=1-bj,C8=1+bj,wj=.01,R8=0-wj,I8=0+wj;function Zn(n){return n.max-n.min}function M8(n,e,t){return Math.abs(n-e)<=t}function s2(n,e,t,r=.5){n.origin=r,n.originPoint=bt(e.min,e.max,n.origin),n.scale=Zn(t)/Zn(e),n.translate=bt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=j8&&n.scale<=C8||isNaN(n.scale))&&(n.scale=1),(n.translate>=R8&&n.translate<=I8||isNaN(n.translate))&&(n.translate=0)}function Nu(n,e,t,r){s2(n.x,e.x,t.x,r?r.originX:void 0),s2(n.y,e.y,t.y,r?r.originY:void 0)}function r2(n,e,t){n.min=t.min+e.min,n.max=n.min+Zn(e)}function D8(n,e,t){r2(n.x,e.x,t.x),r2(n.y,e.y,t.y)}function i2(n,e,t){n.min=e.min-t.min,n.max=n.min+Zn(e)}function Su(n,e,t){i2(n.x,e.x,t.x),i2(n.y,e.y,t.y)}function k8(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?bt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?bt(t,n,r.max):Math.min(n,t)),n}function a2(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function P8(n,{top:e,left:t,bottom:r,right:a}){return{x:a2(n.x,t,a),y:a2(n.y,e,r)}}function o2(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function O8(n,e){return{x:o2(n.x,e.x),y:o2(n.y,e.y)}}function V8(n,e){let t=.5;const r=Zn(n),a=Zn(e);return a>r?t=Cl(e.min,e.max-r,n.min):r>a&&(t=Cl(n.min,n.max-a,e.min)),Jr(0,1,t)}function L8(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const u0=.35;function U8(n=u0){return n===!1?n=0:n===!0&&(n=u0),{x:l2(n,"left","right"),y:l2(n,"top","bottom")}}function l2(n,e,t){return{min:c2(n,e),max:c2(n,t)}}function c2(n,e){return typeof n=="number"?n:n[e]||0}const u2=()=>({translate:0,scale:1,origin:0,originPoint:0}),fl=()=>({x:u2(),y:u2()}),h2=()=>({min:0,max:0}),It=()=>({x:h2(),y:h2()});function ps(n){return[n("x"),n("y")]}function _j({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function z8({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function B8(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function gy(n){return n===void 0||n===1}function h0({scale:n,scaleX:e,scaleY:t}){return!gy(n)||!gy(e)||!gy(t)}function Ya(n){return h0(n)||Tj(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Tj(n){return d2(n.x)||d2(n.y)}function d2(n){return n&&n!=="0%"}function rm(n,e,t){const r=n-t,a=e*r;return t+a}function f2(n,e,t,r,a){return a!==void 0&&(n=rm(n,a,r)),rm(n,t,r)+e}function d0(n,e=0,t=1,r,a){n.min=f2(n.min,e,t,r,a),n.max=f2(n.max,e,t,r,a)}function Ej(n,{x:e,y:t}){d0(n.x,e.translate,e.scale,e.originPoint),d0(n.y,t.translate,t.scale,t.originPoint)}const m2=.999999999999,p2=1.0000000000001;function F8(n,e,t,r=!1){const a=t.length;if(!a)return;e.x=e.y=1;let l,h;for(let d=0;d<a;d++){l=t[d],h=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&pl(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),h&&(e.x*=h.x.scale,e.y*=h.y.scale,Ej(n,h)),r&&Ya(l.latestValues)&&pl(n,l.latestValues))}e.x<p2&&e.x>m2&&(e.x=1),e.y<p2&&e.y>m2&&(e.y=1)}function ml(n,e){n.min=n.min+e,n.max=n.max+e}function g2(n,e,t,r,a=.5){const l=bt(n.min,n.max,a);d0(n,e,t,l,r)}function pl(n,e){g2(n.x,e.x,e.scaleX,e.scale,e.originX),g2(n.y,e.y,e.scaleY,e.scale,e.originY)}function Nj(n,e){return _j(B8(n.getBoundingClientRect(),e))}function q8(n,e,t){const r=Nj(n,t),{scroll:a}=e;return a&&(ml(r.x,a.offset.x),ml(r.y,a.offset.y)),r}const Sj=({current:n})=>n?n.ownerDocument.defaultView:null,H8=new WeakMap;class G8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=It(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=x=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(vh(x).point)},l=(x,v)=>{const{drag:w,dragPropagation:E,onDragStart:j}=this.getProps();if(w&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=V9(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ps(R=>{let O=this.getAxisMotionValue(R).get()||0;if(mr.test(O)){const{projection:D}=this.visualElement;if(D&&D.layout){const U=D.layout.layoutBox[R];U&&(O=Zn(U)*(parseFloat(O)/100))}}this.originPoint[R]=O}),j&&pt.postRender(()=>j(x,v)),n0(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},h=(x,v)=>{const{dragPropagation:w,dragDirectionLock:E,onDirectionLock:j,onDrag:k}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:R}=v;if(E&&this.currentDirection===null){this.currentDirection=$8(R),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",v.point,R),this.updateAxis("y",v.point,R),this.visualElement.render(),k&&k(x,v)},d=(x,v)=>this.stop(x,v),m=()=>ps(x=>{var v;return this.getAnimationState(x)==="paused"&&((v=this.getAxisMotionValue(x).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new xj(e,{onSessionStart:a,onStart:l,onMove:h,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:Sj(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=t;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&pt.postRender(()=>l(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:a}=this.getProps();if(!r||!of(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let h=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(h=k8(h,this.constraints[e],this.elastic[e])),l.set(h)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;t&&hl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=P8(a.layoutBox,t):this.constraints=!1,this.elastic=U8(r),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&ps(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=L8(a.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!hl(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=q8(r,a.root,this.visualElement.getTransformPagePoint());let h=O8(a.layout.layoutBox,l);if(t){const d=t(z8(h));this.hasMutatedConstraints=!!d,d&&(h=_j(d))}return h}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:h,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=ps(x=>{if(!of(x,t,this.currentDirection))return;let v=m&&m[x]||{};h&&(v={min:0,max:0});const w=a?200:1e6,E=a?40:1e7,j={type:"inertia",velocity:r?e[x]:0,bounceStiffness:w,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(x,j)});return Promise.all(g).then(d)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return n0(this.visualElement,e),r.start(cv(e,r,0,t,this.visualElement,!1))}stopAnimation(){ps(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ps(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[t];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ps(t=>{const{drag:r}=this.getProps();if(!of(t,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(t);if(a&&a.layout){const{min:h,max:d}=a.layout.layoutBox[t];l.set(e[t]-bt(h,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!hl(t)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ps(h=>{const d=this.getAxisMotionValue(h);if(d&&this.constraints!==!1){const m=d.get();a[h]=V8({min:m,max:m},this.constraints[h])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ps(h=>{if(!of(h,e,null))return;const d=this.getAxisMotionValue(h),{min:m,max:g}=this.constraints[h];d.set(bt(m,g,a[h]))})}addListeners(){if(!this.visualElement.current)return;H8.set(this.visualElement,this);const e=this.visualElement.current,t=Eu(e,"pointerdown",m=>{const{drag:g,dragListener:x=!0}=this.getProps();g&&x&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();hl(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),pt.read(r);const h=Gu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(ps(x=>{const v=this.getAxisMotionValue(x);v&&(this.originPoint[x]+=m[x].translate,v.set(v.get()+m[x].translate))}),this.visualElement.render())}));return()=>{h(),t(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:h=u0,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:h,dragMomentum:d}}}function of(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function $8(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Y8 extends fa{constructor(e){super(e),this.removeGroupControls=Xn,this.removeListeners=Xn,this.controls=new G8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xn}unmount(){this.removeGroupControls(),this.removeListeners()}}const y2=n=>(e,t)=>{n&&pt.postRender(()=>n(e,t))};class Q8 extends fa{constructor(){super(...arguments),this.removePointerDownListener=Xn}onPointerDown(e){this.session=new xj(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Sj(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:y2(e),onStart:y2(t),onMove:r,onEnd:(l,h)=>{delete this.session,a&&pt.postRender(()=>a(l,h))}}}mount(){this.removePointerDownListener=Eu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function x2(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const su={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(_e.test(n))n=parseFloat(n);else return n;const t=x2(n,e.target.x),r=x2(n,e.target.y);return`${t}% ${r}%`}},K8={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,a=aa.parse(n);if(a.length>5)return r;const l=aa.createTransformer(n),h=typeof a[0]!="number"?1:0,d=t.x.scale*e.x,m=t.y.scale*e.y;a[0+h]/=d,a[1+h]/=m;const g=bt(d,m,.5);return typeof a[2+h]=="number"&&(a[2+h]/=g),typeof a[3+h]=="number"&&(a[3+h]/=g),l(a)}};class W8 extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=e;g9(X8),l&&(t.group&&t.group.add(l),r&&r.register&&a&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Nf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:a,isPresent:l}=this.props,h=r.projection;return h&&(h.isPresent=l,a||e.layoutDependency!==t||t===void 0?h.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?h.promote():h.relegate()||pt.postRender(()=>{const d=h.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Lx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Aj(n){const[e,t]=cA(),r=N.useContext(Rx);return c.jsx(W8,{...n,layoutGroup:r,switchLayoutGroup:N.useContext(yA),isPresent:e,safeToRemove:t})}const X8={borderRadius:{...su,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:su,borderTopRightRadius:su,borderBottomLeftRadius:su,borderBottomRightRadius:su,boxShadow:K8};function J8(n,e,t){const r=_n(n)?n:qu(n);return r.start(cv("",r,e,t)),r.animation}function Z8(n){return n instanceof SVGElement&&n.tagName!=="svg"}const eU=(n,e)=>n.depth-e.depth;class tU{constructor(){this.children=[],this.isDirty=!1}add(e){Jx(this.children,e),this.isDirty=!0}remove(e){Zx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eU),this.isDirty=!1,this.children.forEach(e)}}function nU(n,e){const t=pr.now(),r=({timestamp:a})=>{const l=a-t;l>=e&&(ia(r),n(l-e))};return pt.read(r,!0),()=>ia(r)}const jj=["TopLeft","TopRight","BottomLeft","BottomRight"],sU=jj.length,v2=n=>typeof n=="string"?parseFloat(n):n,b2=n=>typeof n=="number"||_e.test(n);function rU(n,e,t,r,a,l){a?(n.opacity=bt(0,t.opacity!==void 0?t.opacity:1,iU(r)),n.opacityExit=bt(e.opacity!==void 0?e.opacity:1,0,aU(r))):l&&(n.opacity=bt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let h=0;h<sU;h++){const d=`border${jj[h]}Radius`;let m=w2(e,d),g=w2(t,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||b2(m)===b2(g)?(n[d]=Math.max(bt(v2(m),v2(g),r),0),(mr.test(g)||mr.test(m))&&(n[d]+="%")):n[d]=g}(e.rotate||t.rotate)&&(n.rotate=bt(e.rotate||0,t.rotate||0,r))}function w2(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const iU=Cj(0,.5,YA),aU=Cj(.5,.95,Xn);function Cj(n,e,t){return r=>r<n?0:r>e?1:t(Cl(n,e,r))}function _2(n,e){n.min=e.min,n.max=e.max}function fs(n,e){_2(n.x,e.x),_2(n.y,e.y)}function T2(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function E2(n,e,t,r,a){return n-=e,n=rm(n,1/t,r),a!==void 0&&(n=rm(n,1/a,r)),n}function oU(n,e=0,t=1,r=.5,a,l=n,h=n){if(mr.test(e)&&(e=parseFloat(e),e=bt(h.min,h.max,e/100)-h.min),typeof e!="number")return;let d=bt(l.min,l.max,r);n===l&&(d-=e),n.min=E2(n.min,e,t,d,a),n.max=E2(n.max,e,t,d,a)}function N2(n,e,[t,r,a],l,h){oU(n,e[t],e[r],e[a],e.scale,l,h)}const lU=["x","scaleX","originX"],cU=["y","scaleY","originY"];function S2(n,e,t,r){N2(n.x,e,lU,t?t.x:void 0,r?r.x:void 0),N2(n.y,e,cU,t?t.y:void 0,r?r.y:void 0)}function A2(n){return n.translate===0&&n.scale===1}function Rj(n){return A2(n.x)&&A2(n.y)}function j2(n,e){return n.min===e.min&&n.max===e.max}function uU(n,e){return j2(n.x,e.x)&&j2(n.y,e.y)}function C2(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function Ij(n,e){return C2(n.x,e.x)&&C2(n.y,e.y)}function R2(n){return Zn(n.x)/Zn(n.y)}function I2(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class hU{constructor(){this.members=[]}add(e){Jx(this.members,e),e.scheduleRender()}remove(e){if(Zx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let r;for(let a=t;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dU(n,e,t){let r="";const a=n.x.translate/e.x,l=n.y.translate/e.y,h=t?.z||0;if((a||l||h)&&(r=`translate3d(${a}px, ${l}px, ${h}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:g,rotate:x,rotateX:v,rotateY:w,skewX:E,skewY:j}=t;g&&(r=`perspective(${g}px) ${r}`),x&&(r+=`rotate(${x}deg) `),v&&(r+=`rotateX(${v}deg) `),w&&(r+=`rotateY(${w}deg) `),E&&(r+=`skewX(${E}deg) `),j&&(r+=`skewY(${j}deg) `)}const d=n.x.scale*e.x,m=n.y.scale*e.y;return(d!==1||m!==1)&&(r+=`scale(${d}, ${m})`),r||"none"}const Qa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},pu=typeof window<"u"&&window.MotionDebug!==void 0,yy=["","X","Y","Z"],fU={visibility:"hidden"},M2=1e3;let mU=0;function xy(n,e,t,r){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),r&&(r[n]=0))}function Mj(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=zA(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",pt,!(a||l))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&Mj(r)}function Dj({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(h={},d=e?.()){this.id=mU++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,pu&&(Qa.totalNodes=Qa.resolvedTargetDeltas=Qa.recalculatedProjection=0),this.nodes.forEach(yU),this.nodes.forEach(_U),this.nodes.forEach(TU),this.nodes.forEach(xU),pu&&window.MotionDebug.record(Qa)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new tU)}addEventListener(h,d){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new ev),this.eventHandlers.get(h).add(d)}notifyListeners(h,...d){const m=this.eventHandlers.get(h);m&&m.notify(...d)}hasListeners(h){return this.eventHandlers.has(h)}mount(h,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Z8(h),this.instance=h;const{layoutId:m,layout:g,visualElement:x}=this.options;if(x&&!x.current&&x.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(g||m)&&(this.isLayoutDirty=!0),n){let v;const w=()=>this.root.updateBlockedByResize=!1;n(h,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=nU(w,250),Nf.hasAnimatedSinceResize&&(Nf.hasAnimatedSinceResize=!1,this.nodes.forEach(k2))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&x&&(m||g)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:w,hasRelativeTargetChanged:E,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||x.getDefaultTransition()||jU,{onLayoutAnimationStart:R,onLayoutAnimationComplete:O}=x.getProps(),D=!this.targetLayout||!Ij(this.targetLayout,j)||E,U=!w&&E;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||U||w&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,U);const H={...Qx(k,"layout"),onPlay:R,onComplete:O};(x.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H)}else w||k2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ia(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(EU),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Mj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const v=this.path[x];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(D2);return}this.isUpdating||this.nodes.forEach(bU),this.isUpdating=!1,this.nodes.forEach(wU),this.nodes.forEach(pU),this.nodes.forEach(gU),this.clearAllSnapshots();const d=pr.now();dn.delta=Jr(0,1e3/60,d-dn.timestamp),dn.timestamp=d,dn.isProcessing=!0,ly.update.process(dn),ly.preRender.process(dn),ly.render.process(dn),dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Lx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vU),this.sharedNodes.forEach(NU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutCorrected=It(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(d=!1),d){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:m,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Rj(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,x=g!==this.prevTransformTemplateValue;h&&(d||Ya(this.latestValues)||x)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return h&&(m=this.removeTransform(m)),CU(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:d}=this.options;if(!d)return It();const m=d.measureViewportBox();if(!(((h=this.scroll)===null||h===void 0?void 0:h.wasRoot)||this.path.some(RU))){const{scroll:x}=this.root;x&&(ml(m.x,x.offset.x),ml(m.y,x.offset.y))}return m}removeElementScroll(h){var d;const m=It();if(fs(m,h),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return m;for(let g=0;g<this.path.length;g++){const x=this.path[g],{scroll:v,options:w}=x;x!==this.root&&v&&w.layoutScroll&&(v.wasRoot&&fs(m,h),ml(m.x,v.offset.x),ml(m.y,v.offset.y))}return m}applyTransform(h,d=!1){const m=It();fs(m,h);for(let g=0;g<this.path.length;g++){const x=this.path[g];!d&&x.options.layoutScroll&&x.scroll&&x!==x.root&&pl(m,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),Ya(x.latestValues)&&pl(m,x.latestValues)}return Ya(this.latestValues)&&pl(m,this.latestValues),m}removeTransform(h){const d=It();fs(d,h);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Ya(g.latestValues))continue;h0(g.latestValues)&&g.updateSnapshot();const x=It(),v=g.measurePageBox();fs(x,v),S2(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,x)}return Ya(this.latestValues)&&S2(d,this.latestValues),d}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){var d;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==m;if(!(h||g&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:w}=this.options;if(!(!this.layout||!(v||w))){if(this.resolvedRelativeTargetAt=dn.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),Su(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),fs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=It(),this.targetWithTransforms=It()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),D8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fs(this.target,this.layout.layoutBox),Ej(this.target,this.targetDelta)):fs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),Su(this.relativeTargetOrigin,this.target,E.target),fs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}pu&&Qa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||h0(this.parent.latestValues)||Tj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var h;const d=this.getLead(),m=!!this.resumingFrom||this!==d;let g=!0;if((this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty)&&(g=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===dn.timestamp&&(g=!1),g)return;const{layout:x,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||v))return;fs(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,E=this.treeScale.y;F8(this.layoutCorrected,this.treeScale,this.path,m),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=It());const{target:j}=d;if(!j){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(T2(this.prevProjectionDelta.x,this.projectionDelta.x),T2(this.prevProjectionDelta.y,this.projectionDelta.y)),Nu(this.projectionDelta,this.layoutCorrected,j,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==E||!I2(this.projectionDelta.x,this.prevProjectionDelta.x)||!I2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j)),pu&&Qa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),h){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fl(),this.projectionDelta=fl(),this.projectionDeltaWithTransform=fl()}setAnimationOrigin(h,d=!1){const m=this.snapshot,g=m?m.latestValues:{},x={...this.latestValues},v=fl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=It(),E=m?m.source:void 0,j=this.layout?this.layout.source:void 0,k=E!==j,R=this.getStack(),O=!R||R.members.length<=1,D=!!(k&&!O&&this.options.crossfade===!0&&!this.path.some(AU));this.animationProgress=0;let U;this.mixTargetDelta=H=>{const K=H/1e3;P2(v.x,h.x,K),P2(v.y,h.y,K),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Su(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SU(this.relativeTarget,this.relativeTargetOrigin,w,K),U&&uU(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=It()),fs(U,this.relativeTarget)),k&&(this.animationValues=x,rU(x,g,this.latestValues,K,D,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=K},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ia(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pt.update(()=>{Nf.hasAnimatedSinceResize=!0,this.currentAnimation=J8(0,M2,{...h,onUpdate:d=>{this.mixTargetDelta(d),h.onUpdate&&h.onUpdate(d)},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(M2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:x}=h;if(!(!d||!m||!g)){if(this!==h&&this.layout&&g&&kj(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||It();const v=Zn(this.layout.layoutBox.x);m.x.min=h.target.x.min,m.x.max=m.x.min+v;const w=Zn(this.layout.layoutBox.y);m.y.min=h.target.y.min,m.y.max=m.y.min+w}fs(d,m),pl(d,x),Nu(this.projectionDeltaWithTransform,this.layoutCorrected,d,x)}}registerSharedNode(h,d){this.sharedNodes.has(h)||this.sharedNodes.set(h,new hU),this.sharedNodes.get(h).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){var h;const{layoutId:d}=this.options;return d?((h=this.getStack())===null||h===void 0?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:d}=this.options;return d?(h=this.getStack())===null||h===void 0?void 0:h.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),h&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let d=!1;const{latestValues:m}=h;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&xy("z",h,g,this.animationValues);for(let x=0;x<yy.length;x++)xy(`rotate${yy[x]}`,h,g,this.animationValues),xy(`skew${yy[x]}`,h,g,this.animationValues);h.render();for(const x in g)h.setStaticValue(x,g[x]),this.animationValues&&(this.animationValues[x]=g[x]);h.scheduleRender()}getProjectionStyles(h){var d,m;if(!this.instance||this.isSVG)return;if(!this.isVisible)return fU;const g={visibility:""},x=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,g.opacity="",g.pointerEvents=Tf(h?.pointerEvents)||"",g.transform=x?x(this.latestValues,""):"none",g;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const k={};return this.options.layoutId&&(k.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,k.pointerEvents=Tf(h?.pointerEvents)||""),this.hasProjected&&!Ya(this.latestValues)&&(k.transform=x?x({},""):"none",this.hasProjected=!1),k}const w=v.animationValues||v.latestValues;this.applyTransformsToTarget(),g.transform=dU(this.projectionDeltaWithTransform,this.treeScale,w),x&&(g.transform=x(w,g.transform));const{x:E,y:j}=this.projectionDelta;g.transformOrigin=`${E.origin*100}% ${j.origin*100}% 0`,v.animationValues?g.opacity=v===this?(m=(d=w.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&m!==void 0?m:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:g.opacity=v===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const k in Zf){if(w[k]===void 0)continue;const{correct:R,applyTo:O}=Zf[k],D=g.transform==="none"?w[k]:R(w[k],v);if(O){const U=O.length;for(let H=0;H<U;H++)g[O[H]]=D}else g[k]=D}return this.options.layoutId&&(g.pointerEvents=v===this?Tf(h?.pointerEvents)||"":"none"),g}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>{var d;return(d=h.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(D2),this.root.sharedNodes.clear()}}}function pU(n){n.updateLayout()}function gU(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=n.layout,{animationType:l}=n.options,h=t.source!==n.layout.source;l==="size"?ps(v=>{const w=h?t.measuredBox[v]:t.layoutBox[v],E=Zn(w);w.min=r[v].min,w.max=w.min+E}):kj(l,t.layoutBox,r)&&ps(v=>{const w=h?t.measuredBox[v]:t.layoutBox[v],E=Zn(r[v]);w.max=w.min+E,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+E)});const d=fl();Nu(d,r,t.layoutBox);const m=fl();h?Nu(m,n.applyTransform(a,!0),t.measuredBox):Nu(m,r,t.layoutBox);const g=!Rj(d);let x=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:w,layout:E}=v;if(w&&E){const j=It();Su(j,t.layoutBox,w.layoutBox);const k=It();Su(k,r,E.layoutBox),Ij(j,k)||(x=!0),v.options.layoutRoot&&(n.relativeTarget=k,n.relativeTargetOrigin=j,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:m,layoutDelta:d,hasLayoutChanged:g,hasRelativeTargetChanged:x})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function yU(n){pu&&Qa.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function xU(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function vU(n){n.clearSnapshot()}function D2(n){n.clearMeasurements()}function bU(n){n.isLayoutDirty=!1}function wU(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function k2(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function _U(n){n.resolveTargetDelta()}function TU(n){n.calcProjection()}function EU(n){n.resetSkewAndRotation()}function NU(n){n.removeLeadSnapshot()}function P2(n,e,t){n.translate=bt(e.translate,0,t),n.scale=bt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function O2(n,e,t,r){n.min=bt(e.min,t.min,r),n.max=bt(e.max,t.max,r)}function SU(n,e,t,r){O2(n.x,e.x,t.x,r),O2(n.y,e.y,t.y,r)}function AU(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const jU={duration:.45,ease:[.4,0,.1,1]},V2=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),L2=V2("applewebkit/")&&!V2("chrome/")?Math.round:Xn;function U2(n){n.min=L2(n.min),n.max=L2(n.max)}function CU(n){U2(n.x),U2(n.y)}function kj(n,e,t){return n==="position"||n==="preserve-aspect"&&!M8(R2(e),R2(t),.2)}function RU(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const IU=Dj({attachResizeListener:(n,e)=>Gu(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vy={current:void 0},Pj=Dj({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!vy.current){const n=new IU({});n.mount(window),n.setOptions({layoutScroll:!0}),vy.current=n}return vy.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),MU={pan:{Feature:Q8},drag:{Feature:Y8,ProjectionNode:Pj,MeasureLayout:Aj}};function z2(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,l=r[a];l&&pt.postRender(()=>l(e,vh(e)))}class DU extends fa{mount(){const{current:e}=this.node;e&&(this.unmount=M9(e,t=>(z2(this.node,t,"Start"),r=>z2(this.node,r,"End"))))}unmount(){}}class kU extends fa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xh(Gu(this.node.current,"focus",()=>this.onFocus()),Gu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function B2(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),l=r[a];l&&pt.postRender(()=>l(e,vh(e)))}class PU extends fa{mount(){const{current:e}=this.node;e&&(this.unmount=O9(e,t=>(B2(this.node,t,"Start"),(r,{success:a})=>B2(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const f0=new WeakMap,by=new WeakMap,OU=n=>{const e=f0.get(n.target);e&&e(n)},VU=n=>{n.forEach(OU)};function LU({root:n,...e}){const t=n||document;by.has(t)||by.set(t,{});const r=by.get(t),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(VU,{root:n,...e})),r[a]}function UU(n,e,t){const r=LU(e);return f0.set(n,t),r.observe(n),()=>{f0.delete(n),r.unobserve(n)}}const zU={some:0,all:1};class BU extends fa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:a="some",once:l}=e,h={root:t?t.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:zU[a]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:x,onViewportLeave:v}=this.node.getProps(),w=g?x:v;w&&w(m)};return UU(this.node.current,h,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(FU(e,t))&&this.startObserver()}unmount(){}}function FU({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const qU={inView:{Feature:BU},tap:{Feature:PU},focus:{Feature:kU},hover:{Feature:DU}},HU={layout:{ProjectionNode:Pj,MeasureLayout:Aj}},m0={current:null},Oj={current:!1};function GU(){if(Oj.current=!0,!!Dx)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>m0.current=n.matches;n.addListener(e),e()}else m0.current=!1}const $U=[...oj,bn,aa],YU=n=>$U.find(aj(n)),F2=new WeakMap;function QU(n,e,t){for(const r in e){const a=e[r],l=t[r];if(_n(a))n.addValue(r,a);else if(_n(l))n.addValue(r,qu(a,{owner:n}));else if(l!==a)if(n.hasValue(r)){const h=n.getValue(r);h.liveStyle===!0?h.jump(a):h.hasAnimated||h.set(a)}else{const h=n.getStaticValue(r);n.addValue(r,qu(h!==void 0?h:a,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const q2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class KU{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:h},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=av,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=pr.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,pt.render(this.render,!1,!0))};const{latestValues:m,renderState:g,onUpdate:x}=h;this.onUpdate=x,this.latestValues=m,this.baseTarget={...m},this.initialValues=t.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=zm(t),this.isVariantNode=pA(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...w}=this.scrapeMotionValuesFromProps(t,{},this);for(const E in w){const j=w[E];m[E]!==void 0&&_n(j)&&j.set(m[E],!1)}}mount(e){this.current=e,F2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),Oj.current||GU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:m0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){F2.delete(this.current),this.projection&&this.projection.unmount(),ia(this.notifyUpdate),ia(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ho.has(e),a=t.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&pt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=t.on("renderRequest",this.scheduleRender);let h;window.MotionCheckAppearSync&&(h=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),l(),h&&h(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Rl){const t=Rl[e];if(!t)continue;const{isEnabled:r,Feature:a}=t;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):It()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<q2.length;r++){const a=q2[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,h=e[l];h&&(this.propEventSubscriptions[a]=this.on(a,h))}this.prevMotionValues=QU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=qu(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(rj(a)||KA(a))?a=parseFloat(a):!YU(a)&&aa.test(t)&&(a=tj(e,t)),this.setBaseTarget(e,_n(a)?a.get():a)),_n(a)?a.get():a}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const h=zx(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);h&&(a=h[e])}if(r&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!_n(l)?l:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new ev),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Vj extends KU{constructor(){super(...arguments),this.KeyframeResolver=lj}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;_n(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function WU(n){return window.getComputedStyle(n)}class XU extends Vj{constructor(){super(...arguments),this.type="html",this.renderInstance=EA}readValueFromInstance(e,t){if(ho.has(t)){const r=iv(t);return r&&r.default||0}else{const r=WU(e),a=(wA(t)?r.getPropertyValue(t):r[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Nj(e,t)}build(e,t,r){qx(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Yx(e,t,r)}}class JU extends Vj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=It}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ho.has(t)){const r=iv(t);return r&&r.default||0}return t=NA.has(t)?t:Vx(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return jA(e,t,r)}build(e,t,r){Hx(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,a){SA(e,t,r,a)}mount(e){this.isSVGTag=$x(e.tagName),super.mount(e)}}const ZU=(n,e)=>Ux(n)?new JU(e):new XU(e,{allowProjection:n!==N.Fragment}),e7=N9({...T8,...qU,...MU,...HU},ZU),Zr=zV(e7),t7=({product:n,onAddToCart:e,isLoggedIn:t})=>{const{name:r,description:a,category:l,imageUrl:h,available:d,stock:m,popular:g,new:x}=n,v=Ls(),[w,E]=N.useState(n.sizes[0]),j=!d||m===0,k=()=>{t?e(n,w):v("/auth/login")},R=()=>j?c.jsx("p",{className:"text-sm font-medium text-red-600",children:"Out of Stock"}):m<5?c.jsxs("p",{className:"text-sm font-medium text-orange-600",children:["Only ",m," left"]}):c.jsx("p",{className:"text-sm font-medium text-green-600",children:"In Stock"});return c.jsxs(He,{className:"flex flex-col overflow-hidden transition-transform duration-300 hover:-translate-y-1",hover:!0,children:[c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:h,alt:r,className:"h-48 w-full object-cover"}),c.jsxs("div",{className:"absolute top-2 right-2 flex flex-col items-end gap-1",children:[j?c.jsx(nn,{className:"bg-red-100 text-red-800",children:"Out of Stock"}):m>0&&m<5?c.jsx(nn,{className:"bg-orange-100 text-orange-800",children:"Low Stock"}):null,g&&!j&&c.jsx(nn,{className:"bg-primary-100 text-primary-800",children:"Popular"}),x&&!j&&c.jsx(nn,{className:"bg-blue-100 text-blue-800",children:"New"})]})]}),c.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500",children:l}),c.jsx("h3",{className:"mt-1 text-lg font-semibold text-coffee-900",children:r}),c.jsx("p",{className:"mt-1 h-10 text-sm text-gray-600 line-clamp-2",children:a})]}),c.jsxs("div",{className:"mt-auto pt-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("p",{className:"text-xl font-bold text-primary-600",children:["",w.price.toFixed(2)]}),R()]}),c.jsx("div",{className:"mt-4 flex w-full rounded-full border border-gray-200 bg-gray-50 p-1",children:n.sizes.map(O=>c.jsxs("button",{onClick:()=>E(O),className:`w-1/2 rounded-full py-1.5 text-sm font-semibold transition-colors ${w.name===O.name?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:[O.name," (",O.size,")"]},O.name))}),c.jsx("button",{onClick:k,disabled:j,className:"mt-3 flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-gray-400","aria-label":t?`Add ${r} to cart`:`Login to order ${r}`,children:j?"Out of Stock":t?c.jsxs(c.Fragment,{children:[c.jsx(C0,{className:"h-4 w-4"}),"Add to Cart"]}):"Login to Order"})]})]})]})},Lj=()=>c.jsxs(He,{className:"flex animate-pulse flex-col overflow-hidden",children:[c.jsx("div",{className:"relative",children:c.jsx("div",{className:"h-48 w-full bg-gray-300"})}),c.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"h-4 w-1/4 rounded bg-gray-300"}),c.jsx("div",{className:"mt-2 h-6 w-3/4 rounded bg-gray-300"}),c.jsxs("div",{className:"mt-2 space-y-2",children:[c.jsx("div",{className:"h-4 rounded bg-gray-300"}),c.jsx("div",{className:"h-4 w-5/6 rounded bg-gray-300"})]})]}),c.jsxs("div",{className:"mt-auto pt-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"h-8 w-1/3 rounded bg-gray-300"}),c.jsx("div",{className:"h-5 w-1/4 rounded bg-gray-300"})]}),c.jsx("div",{className:"mt-3 h-10 w-full rounded-full bg-gray-300"})]})]})]}),n7=[{value:"default",label:"Default"},{value:"price-asc",label:"Price: Low to High"},{value:"price-desc",label:"Price: High to Low"},{value:"name-asc",label:"Name: A-Z"},{value:"name-desc",label:"Name: Z-A"}],s7={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},r7={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},i7=()=>{const{products:n,isLoading:e,error:t}=$l(),[r,a]=N.useState("All"),[l,h]=N.useState(""),[d,m]=N.useState("default"),[g,x]=N.useState(!1),v=N.useRef(null),w=N.useRef(null),{addToCart:E}=Ln(),{currentUser:j}=ys(),k=N.useMemo(()=>n.length===0?["All"]:["All",...[...new Set(n.map(D=>D.category))].sort()],[n]);N.useEffect(()=>{const O=D=>{v.current&&!v.current.contains(D.target)&&x(!1)};return document.addEventListener("mousedown",O),()=>{document.removeEventListener("mousedown",O)}},[]);const R=N.useMemo(()=>{const D=[...n.filter(U=>{const H=r==="All"||U.category===r,K=l.trim()===""||U.name.toLowerCase().includes(l.toLowerCase())||U.description.toLowerCase().includes(l.toLowerCase());return H&&K})];switch(d){case"price-asc":D.sort((U,H)=>U.sizes[0].price-H.sizes[0].price);break;case"price-desc":D.sort((U,H)=>H.sizes[0].price-U.sizes[0].price);break;case"name-asc":D.sort((U,H)=>U.name.localeCompare(H.name));break;case"name-desc":D.sort((U,H)=>H.name.localeCompare(U.name));break}return D},[r,l,n,d]);return c.jsxs("div",{className:"flex min-h-screen flex-col bg-white",children:[c.jsx(Kt,{}),c.jsxs("main",{children:[c.jsx("section",{className:"bg-gradient-to-r from-primary-50 to-coffee-50 px-6 py-12 text-center",children:c.jsxs("div",{className:"container mx-auto max-w-4xl",children:[c.jsx("h1",{className:"font-display text-4xl font-bold text-coffee-900 md:text-5xl",children:"Our Menu"}),c.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"Discover your perfect cup "}),c.jsxs("div",{className:"mx-auto mt-6 flex max-w-2xl flex-col items-center gap-4 sm:flex-row",children:[c.jsxs("div",{className:"relative w-full flex-grow",children:[c.jsx(Cf,{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",value:l,onChange:O=>h(O.target.value),placeholder:"Search for coffee, matcha...",className:"w-full rounded-full border border-gray-300 py-3 pl-12 pr-4 text-gray-700 placeholder:text-gray-400 shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500"})]}),c.jsxs("div",{className:"relative flex w-full justify-end sm:w-auto sm:justify-start",ref:v,children:[c.jsx("button",{onClick:()=>x(!g),className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-full border border-primary-600 bg-white shadow-sm transition-colors hover:bg-primary-50","aria-haspopup":"true","aria-expanded":g,"aria-label":"Sort products",children:c.jsx(dI,{className:"h-5 w-5 text-gray-500"})}),c.jsx("div",{className:`absolute right-0 top-full z-40 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none transition-all duration-200 ease-out ${g?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,role:"menu","aria-orientation":"vertical",children:c.jsx("div",{className:"py-1",role:"none",children:n7.map(O=>c.jsxs("button",{onClick:()=>{m(O.value),x(!1)},className:`flex w-full items-center justify-between px-4 py-2 text-sm text-left font-medium transition-colors ${d===O.value?"bg-primary-50 text-primary-600":"text-gray-700 hover:bg-gray-100"}`,role:"menuitem",children:[c.jsx("span",{children:O.label}),d===O.value&&c.jsx(Ki,{className:"h-4 w-4"})]},O.value))})})]})]})]})}),c.jsx("div",{className:"sticky top-20 z-30 border-b border-gray-200 bg-white/95 py-3 backdrop-blur-sm",children:c.jsx("div",{className:"container mx-auto flex max-w-7xl gap-2 overflow-x-auto px-6 pb-2",children:k.map(O=>c.jsx("button",{onClick:()=>{a(O),w.current?.scrollIntoView({behavior:"smooth"})},className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition-colors ${r===O?"bg-primary-600 text-white shadow":"border border-gray-300 bg-white text-gray-700 hover:bg-gray-100"}`,children:O},O))})}),c.jsx("section",{ref:w,className:"bg-gray-50 px-6 py-8 scroll-mt-36",children:c.jsx("div",{className:"container mx-auto max-w-7xl",children:e?c.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:Array.from({length:8}).map((O,D)=>c.jsx(Lj,{},D))}):t?c.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-red-200 bg-red-50 py-20 text-center text-red-700",children:[c.jsx(oo,{className:"h-16 w-16"}),c.jsx("h3",{className:"mt-4 text-xl font-semibold",children:"Oops! Something went wrong."}),c.jsx("p",{className:"mt-2",children:t})]}):R.length>0?c.jsx(Zr.div,{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",variants:s7,initial:"hidden",animate:"visible",children:R.map(O=>c.jsx(Zr.div,{variants:r7,layout:!0,className:"flex",children:c.jsx(t7,{product:O,onAddToCart:E,isLoggedIn:!!j})},O.id))}):c.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[c.jsx(Cf,{className:"h-24 w-24 text-gray-300"}),c.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-800",children:"No products found"}),c.jsx("p",{className:"mt-2 text-gray-500",children:"Try adjusting your filters or search query."})]})})})]}),c.jsx(Wt,{})]})},a7=({selectedMethod:n,onSelectMethod:e})=>{const t=n==="gcash",r=n==="cash",a=({isSelected:l})=>c.jsx("div",{className:`absolute top-4 right-4 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full border-2 transition-all ${l?"border-primary-600 bg-primary-600":"border-gray-400 bg-white"}`,children:l&&c.jsx(Ki,{className:"h-4 w-4 text-white"})});return c.jsxs("div",{className:"w-full",children:[c.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Payment Method"}),c.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",role:"radiogroup",children:[c.jsxs("div",{onClick:()=>e("gcash"),role:"radio","aria-checked":t,tabIndex:0,onKeyDown:l=>(l.key===" "||l.key==="Enter")&&e("gcash"),className:`relative cursor-pointer rounded-xl border-2 p-6 transition-all duration-200 ease-in-out hover:border-primary-300 ${t?"border-primary-600 bg-primary-50 shadow-lg":"border-gray-200 bg-white"}`,children:[c.jsxs("div",{className:"flex gap-4",children:[c.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-blue-100",children:c.jsx(CE,{className:"h-7 w-7 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"pr-8 font-display text-lg font-bold text-coffee-900",children:"GCash"}),c.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Pay securely via GCash QR code."})]})]}),c.jsx("div",{className:"mt-4",children:c.jsx(nn,{className:t?"bg-blue-200 text-blue-800":"bg-gray-100 text-gray-700",children:"Instant confirmation"})}),c.jsx(a,{isSelected:t})]}),c.jsxs("div",{onClick:()=>e("cash"),role:"radio","aria-checked":r,tabIndex:0,onKeyDown:l=>(l.key===" "||l.key==="Enter")&&e("cash"),className:`relative cursor-pointer rounded-xl border-2 p-6 transition-all duration-200 ease-in-out hover:border-primary-300 ${r?"border-primary-600 bg-primary-50 shadow-lg":"border-gray-200 bg-white"}`,children:[c.jsxs("div",{className:"flex gap-4",children:[c.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-green-100",children:c.jsx(gI,{className:"h-7 w-7 text-green-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"pr-8 font-display text-lg font-bold text-coffee-900",children:"Cash on Pickup"}),c.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Pay when you collect your order."})]})]}),c.jsx("div",{className:"mt-4",children:c.jsx(nn,{className:r?"bg-green-200 text-green-800":"bg-gray-100 text-gray-700",children:"Pay at counter"})}),c.jsx(a,{isSelected:r})]})]})]})},o7=({totalAmount:n,orderNumber:e,receipt:t,onReceiptUpload:r})=>{const[a,l]=N.useState(null);N.useEffect(()=>{if(!t){l(null);return}const m=URL.createObjectURL(t);return l(m),()=>URL.revokeObjectURL(m)},[t]);const h=m=>{m.target.files&&m.target.files[0]&&r(m.target.files[0]),m.target.value=""},d=()=>{r(null)};return c.jsxs("div",{className:"w-full max-w-md mx-auto space-y-6",children:[c.jsx("div",{className:"rounded-lg border-l-4 border-blue-400 bg-blue-50 p-4",role:"alert",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx(oo,{className:"h-5 w-5 text-blue-400","aria-hidden":"true"})}),c.jsx("div",{className:"ml-3",children:c.jsx("p",{className:"text-sm text-blue-700",children:"Please scan the QR code, complete the payment, and upload a screenshot of your receipt."})})]})}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto flex h-64 w-64 items-center justify-center rounded-xl border-4 border-primary-600 bg-white p-4 shadow-lg",children:c.jsx("div",{className:"relative flex h-full w-full items-center justify-center bg-[radial-gradient(#1e1612_1px,transparent_1px),radial-gradient(#1e1612_1px,transparent_1px)] bg-[length:12px_12px] bg-[position:0_0,6px_6px]",children:c.jsx("div",{className:"bg-white p-2 font-mono text-sm font-bold text-coffee-900",children:e})})}),c.jsxs("p",{className:"mt-4 text-sm font-medium text-gray-600",children:["Merchant: ",c.jsx("span",{className:"font-bold text-coffee-900",children:"Rush Coffee"})]}),c.jsxs("p",{className:"font-display text-3xl font-bold text-primary-600",children:["",n.toFixed(2)]})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("input",{type:"file",id:"receipt-upload",className:"hidden",accept:"image/*",onChange:h}),t?c.jsxs("div",{className:"relative rounded-lg border border-gray-300 bg-white p-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[a?c.jsx("img",{src:a,alt:"Receipt preview",className:"h-16 w-16 flex-shrink-0 rounded-md object-cover"}):c.jsx("div",{className:"flex h-16 w-16 flex-shrink-0 items-center justify-center rounded-md bg-gray-100",children:c.jsx(JI,{className:"h-8 w-8 text-gray-400"})}),c.jsxs("div",{className:"flex-1 overflow-hidden",children:[c.jsx("p",{className:"truncate text-sm font-medium text-gray-800",children:t.name}),c.jsxs("p",{className:"text-xs text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]})]}),c.jsx("button",{onClick:d,className:"absolute -top-2 -right-2 flex h-6 w-6 items-center justify-center rounded-full bg-red-500 text-white transition-transform hover:scale-110","aria-label":"Remove receipt",children:c.jsx(ei,{className:"h-4 w-4"})})]}):c.jsxs("label",{htmlFor:"receipt-upload",className:"flex cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-6 text-center transition hover:bg-gray-100",children:[c.jsx(FI,{className:"h-12 w-12 text-gray-400"}),c.jsx("span",{className:"mt-2 block text-sm font-semibold text-gray-600",children:"Upload Receipt"}),c.jsx("span",{className:"mt-1 block text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})]})]})},l7=({items:n,subtotal:e,serviceFee:t=0,total:r})=>c.jsx("div",{className:"w-full lg:sticky lg:top-24",children:c.jsxs(He,{className:"rounded-xl border-gray-200 p-6 shadow-none",children:[c.jsx("h2",{className:"mb-4 font-display text-lg font-semibold text-coffee-900",children:"Order Summary"}),c.jsx("div",{className:"max-h-60 space-y-2 overflow-y-auto pr-2",children:n.map((a,l)=>c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"text-gray-700",children:a.productName}),c.jsxs("span",{className:"ml-2 rounded-md bg-gray-100 px-1.5 py-0.5 text-xs font-medium text-gray-600",children:["",a.quantity]})]}),c.jsxs("span",{className:"font-medium text-gray-900",children:["",(a.price*a.quantity).toFixed(2)]})]},l))}),c.jsx("hr",{className:"my-4 border-gray-200"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Subtotal"}),c.jsxs("span",{className:"font-medium text-gray-900",children:["",e.toFixed(2)]})]}),t>0&&c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Service Fee"}),c.jsxs("span",{className:"font-medium text-gray-900",children:["",t.toFixed(2)]})]})]}),c.jsx("hr",{className:"my-4 border-dashed border-gray-300"}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-base font-bold text-gray-900",children:"Total"}),c.jsxs("span",{className:"font-display text-2xl font-bold text-primary-600",children:["",r.toFixed(2)]})]})]})}),Uj=N.createContext(void 0),uv=()=>{const n=N.useContext(Uj);if(n===void 0)throw new Error("useOrder must be used within an OrderProvider");return n},c7=({children:n})=>{const[e,t]=N.useState(null),[r,a]=N.useState([]),[l,h]=N.useState(!0),{currentUser:d}=ys();N.useEffect(()=>{d?(async()=>{h(!0);try{const v=Vn(Xe,"orders"),w=xr(v,Sx("userId","==",d.uid)),j=(await sa(w)).docs.map(R=>({id:R.id,...R.data(),timestamp:R.data().timestamp.toDate()}));j.sort((R,O)=>O.timestamp.getTime()-R.timestamp.getTime()),a(j);const k=j.find(R=>R.status!=="completed");t(k||null)}catch(v){console.error("Error fetching order history:",v)}finally{h(!1)}})():(a([]),t(null),h(!1))},[d]),N.useEffect(()=>{if(e&&e.status!=="completed"){const x=["waiting","preparing","ready","completed"],v=e.status,w=x.indexOf(v);if(w===-1||w>=x.length-1)return;const E=setTimeout(()=>{const j=x[w+1];t(k=>k?{...k,status:j}:null)},1e4);return()=>clearTimeout(E)}},[e]);const g={activeOrder:e,setActiveOrder:t,orderHistory:r,addOrderToHistory:async x=>{try{const v=await fh(Vn(Xe,"orders"),{...x,timestamp:Xf()}),w={...x,id:v.id,timestamp:new Date};a(E=>[w,...E]),t(w)}catch(v){console.error("Error adding order to Firestore:",v)}},isHistoryLoading:l};return c.jsx(Uj.Provider,{value:g,children:n})},u7=()=>{const n=Ls(),{cartItems:e,showToast:t,totalCartItems:r,clearCart:a}=Ln(),{currentUser:l}=ys(),{setActiveOrder:h,addOrderToHistory:d}=uv(),[m,g]=N.useState(null),[x,v]=N.useState({name:"",phone:""}),[w,E]=N.useState(""),[j,k]=N.useState({}),[R,O]=N.useState(null),[D,U]=N.useState(!1),[H,K]=N.useState(!1),{subtotal:ie,serviceFee:I,total:A}=N.useMemo(()=>{const P=e.reduce((Me,Z)=>Me+Z.selectedSize.price*Z.quantity,0),me=15;return{subtotal:P,serviceFee:me,total:P+me}},[e]),M=N.useMemo(()=>e.map(P=>({productName:`${P.product.name} (${P.selectedSize.name})`,quantity:P.quantity,price:P.selectedSize.price})),[e]);N.useEffect(()=>{if(!l){t("Please log in to proceed to checkout."),n("/auth/login",{state:{from:"/checkout"}});return}r===0&&!D&&!H&&(t("Your cart is empty. Add items to checkout."),n("/menu"))},[r,n,t,D,H,l]),N.useEffect(()=>{l&&v({name:`${l.firstName} ${l.lastName}`,phone:l.phone||""})},[l]);const V=()=>{const P={};return x.name.trim().length<2&&(P.name="Name must be at least 2 characters long."),/^(09|\+639)\d{9}$/.test(x.phone)||(P.phone="Please enter a valid Philippine phone number (e.g., 09xxxxxxxxx)."),m||(P.payment="Please select a payment method."),m==="gcash"&&!R&&(P.gcash="Please upload your payment receipt to proceed."),k(P),Object.keys(P).length===0},L=async P=>{if(P.preventDefault(),!l||!V()){t("Please correct the errors before proceeding.");return}U(!0);const me=`RC-2025-${Math.floor(1e3+Math.random()*9e3)}`;setTimeout(async()=>{const Me={userId:l.uid,customerName:x.name,orderNumber:me,position:Math.floor(Math.random()*5)+1,status:"waiting",orderItems:e.map(Z=>({productId:Z.product.id,productName:`${Z.product.name} (${Z.selectedSize.name})`,quantity:Z.quantity,price:Z.selectedSize.price})),totalAmount:A,paymentMethod:m,paymentStatus:m==="gcash"?"paid":"pending",estimatedTime:10};await d(Me),a(),U(!1),K(!0),n("/queue",{state:{fromCheckout:!0,orderNumber:me}})},2e3)},F=D||!m||!x.name||!/^(09|\+639)\d{9}$/.test(x.phone)||m==="gcash"&&!R;return!l||r===0&&!H?c.jsxs("div",{className:"flex min-h-screen flex-col",children:[c.jsx(Kt,{}),c.jsx("main",{className:"flex flex-1 items-center justify-center bg-gray-50 text-center",children:c.jsxs("div",{children:[c.jsx(j0,{className:"mx-auto h-24 w-24 text-gray-300"}),c.jsx("h1",{className:"mt-4 text-2xl font-bold text-gray-800",children:"Your cart is empty"}),c.jsx("p",{className:"mt-2 text-gray-500",children:"Add some delicious coffee to get started."}),c.jsx("button",{onClick:()=>n("/menu"),className:"mt-6 rounded-full bg-primary-600 px-6 py-2 font-semibold text-white hover:bg-primary-700",children:"Browse Menu"})]})}),c.jsx(Wt,{})]}):c.jsxs("div",{className:"flex min-h-screen flex-col bg-gray-50",children:[c.jsx(Kt,{}),c.jsxs("main",{className:"container mx-auto max-w-7xl px-4 py-8",children:[c.jsx("h1",{className:"mb-6 font-display text-3xl font-bold text-coffee-900",children:"Checkout"}),c.jsxs("form",{onSubmit:L,id:"checkout-form",className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[c.jsxs("div",{className:"space-y-8 lg:col-span-2",children:[c.jsxs("div",{className:"rounded-xl border bg-white p-6",children:[c.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Your Information"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),c.jsx(Yr,{className:"absolute left-3 top-10 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",id:"name",value:x.name,onChange:P=>v({...x,name:P.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 py-2 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Juan dela Cruz"}),j.name&&c.jsx("p",{className:"mt-1 text-xs text-red-500",children:j.name})]}),c.jsxs("div",{className:"relative",children:[c.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),c.jsx($r,{className:"absolute left-3 top-10 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"tel",id:"phone",value:x.phone,onChange:P=>v({...x,phone:P.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 py-2 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"09171234567"}),j.phone&&c.jsx("p",{className:"mt-1 text-xs text-red-500",children:j.phone})]})]})]}),c.jsxs("div",{className:"rounded-xl border bg-white p-6",children:[c.jsx(a7,{selectedMethod:m,onSelectMethod:g}),j.payment&&c.jsx("p",{className:"mt-2 text-xs text-red-500",children:j.payment}),m==="gcash"&&c.jsxs("div",{className:"mt-6 border-t pt-6",children:[c.jsx(o7,{totalAmount:A,orderNumber:`TEMP-${Date.now()}`,receipt:R,onReceiptUpload:O}),j.gcash&&c.jsx("p",{className:"mt-2 text-xs text-red-500 text-center",children:j.gcash})]}),m==="cash"&&c.jsx("div",{className:"mt-6 rounded-lg border-l-4 border-green-400 bg-green-50 p-4",role:"alert",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx(oo,{className:"h-5 w-5 text-green-400"})}),c.jsx("div",{className:"ml-3",children:c.jsx("p",{className:"text-sm text-green-700",children:"Please prepare the exact amount. You can pay at the counter upon pickup."})})]})})]}),c.jsxs("div",{className:"rounded-xl border bg-white p-6",children:[c.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Special Instructions (Optional)"}),c.jsxs("div",{className:"relative",children:[c.jsx(Pl,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),c.jsx("textarea",{id:"notes",value:w,onChange:P=>E(P.target.value),rows:3,className:"block w-full rounded-md border-gray-300 py-2 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"e.g., less ice, extra shot..."})]})]}),c.jsx("div",{className:"hidden lg:block",children:c.jsx("button",{type:"submit",form:"checkout-form",disabled:F,className:"mt-2 flex w-full max-w-xs justify-center rounded-full bg-primary-600 px-4 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 disabled:cursor-not-allowed disabled:bg-primary-400",children:D?c.jsx(rn,{className:"h-6 w-6 animate-spin"}):"Place Order"})})]}),c.jsx("div",{className:"lg:col-span-1",children:c.jsx(l7,{items:M,subtotal:ie,serviceFee:I,total:A})})]})]}),c.jsx("div",{className:"sticky bottom-0 left-0 right-0 border-t border-gray-200 bg-white/90 p-4 backdrop-blur-sm lg:hidden",children:c.jsx("button",{type:"submit",form:"checkout-form",disabled:F,className:"flex w-full justify-center rounded-full bg-primary-600 px-4 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 disabled:cursor-not-allowed disabled:bg-primary-400",children:D?c.jsx(rn,{className:"h-6 w-6 animate-spin"}):`Place Order (${A.toFixed(2)})`})}),c.jsx(Wt,{})]})};function ct(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function oa(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}const zj=6048e5,h7=864e5,lf=43200,H2=1440;let d7={};function bh(){return d7}function $u(n,e){const t=bh(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,a=ct(n),l=a.getDay(),h=(l<r?7:0)+l-r;return a.setDate(a.getDate()-h),a.setHours(0,0,0,0),a}function im(n){return $u(n,{weekStartsOn:1})}function Bj(n){const e=ct(n),t=e.getFullYear(),r=oa(n,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const a=im(r),l=oa(n,0);l.setFullYear(t,0,4),l.setHours(0,0,0,0);const h=im(l);return e.getTime()>=a.getTime()?t+1:e.getTime()>=h.getTime()?t:t-1}function G2(n){const e=ct(n);return e.setHours(0,0,0,0),e}function am(n){const e=ct(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function f7(n,e){const t=G2(n),r=G2(e),a=+t-am(t),l=+r-am(r);return Math.round((a-l)/h7)}function m7(n){const e=Bj(n),t=oa(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),im(t)}function Sf(n,e){const t=ct(n),r=ct(e),a=t.getTime()-r.getTime();return a<0?-1:a>0?1:a}function p7(n){return oa(n,Date.now())}function g7(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function y7(n){if(!g7(n)&&typeof n!="number")return!1;const e=ct(n);return!isNaN(Number(e))}function x7(n,e){const t=ct(n),r=ct(e),a=t.getFullYear()-r.getFullYear(),l=t.getMonth()-r.getMonth();return a*12+l}function v7(n){return e=>{const r=(n?Math[n]:Math.trunc)(e);return r===0?0:r}}function b7(n,e){return+ct(n)-+ct(e)}function w7(n){const e=ct(n);return e.setHours(23,59,59,999),e}function _7(n){const e=ct(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function T7(n){const e=ct(n);return+w7(e)==+_7(e)}function E7(n,e){const t=ct(n),r=ct(e),a=Sf(t,r),l=Math.abs(x7(t,r));let h;if(l<1)h=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-a*l);let d=Sf(t,r)===-a;T7(ct(n))&&l===1&&Sf(n,r)===1&&(d=!1),h=a*(l-Number(d))}return h===0?0:h}function N7(n,e,t){const r=b7(n,e)/1e3;return v7(t?.roundingMethod)(r)}function S7(n){const e=ct(n),t=oa(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}const A7={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},j7=(n,e,t)=>{let r;const a=A7[n];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function wy(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const C7={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},R7={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},I7={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},M7={date:wy({formats:C7,defaultWidth:"full"}),time:wy({formats:R7,defaultWidth:"full"}),dateTime:wy({formats:I7,defaultWidth:"full"})},D7={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},k7=(n,e,t,r)=>D7[n];function ru(n){return(e,t)=>{const r=t?.context?String(t.context):"standalone";let a;if(r==="formatting"&&n.formattingValues){const h=n.defaultFormattingWidth||n.defaultWidth,d=t?.width?String(t.width):h;a=n.formattingValues[d]||n.formattingValues[h]}else{const h=n.defaultWidth,d=t?.width?String(t.width):n.defaultWidth;a=n.values[d]||n.values[h]}const l=n.argumentCallback?n.argumentCallback(e):e;return a[l]}}const P7={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},O7={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},V7={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},L7={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},U7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},z7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},B7=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},F7={ordinalNumber:B7,era:ru({values:P7,defaultWidth:"wide"}),quarter:ru({values:O7,defaultWidth:"wide",argumentCallback:n=>n-1}),month:ru({values:V7,defaultWidth:"wide"}),day:ru({values:L7,defaultWidth:"wide"}),dayPeriod:ru({values:U7,defaultWidth:"wide",formattingValues:z7,defaultFormattingWidth:"wide"})};function iu(n){return(e,t={})=>{const r=t.width,a=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],l=e.match(a);if(!l)return null;const h=l[0],d=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],m=Array.isArray(d)?H7(d,v=>v.test(h)):q7(d,v=>v.test(h));let g;g=n.valueCallback?n.valueCallback(m):m,g=t.valueCallback?t.valueCallback(g):g;const x=e.slice(h.length);return{value:g,rest:x}}}function q7(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function H7(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function G7(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const a=r[0],l=e.match(n.parsePattern);if(!l)return null;let h=n.valueCallback?n.valueCallback(l[0]):l[0];h=t.valueCallback?t.valueCallback(h):h;const d=e.slice(a.length);return{value:h,rest:d}}}const $7=/^(\d+)(th|st|nd|rd)?/i,Y7=/\d+/i,Q7={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},K7={any:[/^b/i,/^(a|c)/i]},W7={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},X7={any:[/1/i,/2/i,/3/i,/4/i]},J7={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Z7={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ez={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rz={ordinalNumber:G7({matchPattern:$7,parsePattern:Y7,valueCallback:n=>parseInt(n,10)}),era:iu({matchPatterns:Q7,defaultMatchWidth:"wide",parsePatterns:K7,defaultParseWidth:"any"}),quarter:iu({matchPatterns:W7,defaultMatchWidth:"wide",parsePatterns:X7,defaultParseWidth:"any",valueCallback:n=>n+1}),month:iu({matchPatterns:J7,defaultMatchWidth:"wide",parsePatterns:Z7,defaultParseWidth:"any"}),day:iu({matchPatterns:ez,defaultMatchWidth:"wide",parsePatterns:tz,defaultParseWidth:"any"}),dayPeriod:iu({matchPatterns:nz,defaultMatchWidth:"any",parsePatterns:sz,defaultParseWidth:"any"})},Fj={code:"en-US",formatDistance:j7,formatLong:M7,formatRelative:k7,localize:F7,match:rz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function iz(n){const e=ct(n);return f7(e,S7(e))+1}function az(n){const e=ct(n),t=+im(e)-+m7(e);return Math.round(t/zj)+1}function qj(n,e){const t=ct(n),r=t.getFullYear(),a=bh(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,h=oa(n,0);h.setFullYear(r+1,0,l),h.setHours(0,0,0,0);const d=$u(h,e),m=oa(n,0);m.setFullYear(r,0,l),m.setHours(0,0,0,0);const g=$u(m,e);return t.getTime()>=d.getTime()?r+1:t.getTime()>=g.getTime()?r:r-1}function oz(n,e){const t=bh(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,a=qj(n,e),l=oa(n,0);return l.setFullYear(a,0,r),l.setHours(0,0,0,0),$u(l,e)}function lz(n,e){const t=ct(n),r=+$u(t,e)-+oz(t,e);return Math.round(r/zj)+1}function tt(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Oi={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return tt(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):tt(t+1,2)},d(n,e){return tt(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return tt(n.getHours()%12||12,e.length)},H(n,e){return tt(n.getHours(),e.length)},m(n,e){return tt(n.getMinutes(),e.length)},s(n,e){return tt(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),a=Math.trunc(r*Math.pow(10,t-3));return tt(a,e.length)}},rl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$2={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),a=r>0?r:1-r;return t.ordinalNumber(a,{unit:"year"})}return Oi.y(n,e)},Y:function(n,e,t,r){const a=qj(n,r),l=a>0?a:1-a;if(e==="YY"){const h=l%100;return tt(h,2)}return e==="Yo"?t.ordinalNumber(l,{unit:"year"}):tt(l,e.length)},R:function(n,e){const t=Bj(n);return tt(t,e.length)},u:function(n,e){const t=n.getFullYear();return tt(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return tt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return tt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Oi.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return tt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const a=lz(n,r);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):tt(a,e.length)},I:function(n,e,t){const r=az(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):tt(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Oi.d(n,e)},D:function(n,e,t){const r=iz(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):tt(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const a=n.getDay(),l=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return tt(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const a=n.getDay(),l=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return tt(l,e.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return tt(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const a=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let a;switch(r===12?a=rl.noon:r===0?a=rl.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let a;switch(r>=17?a=rl.evening:r>=12?a=rl.afternoon:r>=4?a=rl.morning:a=rl.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Oi.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Oi.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):tt(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):tt(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Oi.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Oi.s(n,e)},S:function(n,e){return Oi.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Q2(r);case"XXXX":case"XX":return Ka(r);case"XXXXX":case"XXX":default:return Ka(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return Q2(r);case"xxxx":case"xx":return Ka(r);case"xxxxx":case"xxx":default:return Ka(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Y2(r,":");case"OOOO":default:return"GMT"+Ka(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Y2(r,":");case"zzzz":default:return"GMT"+Ka(r,":")}},t:function(n,e,t){const r=Math.trunc(n.getTime()/1e3);return tt(r,e.length)},T:function(n,e,t){const r=n.getTime();return tt(r,e.length)}};function Y2(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),a=Math.trunc(r/60),l=r%60;return l===0?t+String(a):t+String(a)+e+tt(l,2)}function Q2(n,e){return n%60===0?(n>0?"-":"+")+tt(Math.abs(n)/60,2):Ka(n,e)}function Ka(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),a=tt(Math.trunc(r/60),2),l=tt(r%60,2);return t+a+e+l}const K2=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Hj=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},cz=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],a=t[2];if(!a)return K2(n,e);let l;switch(r){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",K2(r,e)).replace("{{time}}",Hj(a,e))},uz={p:Hj,P:cz},hz=/^D+$/,dz=/^Y+$/,fz=["D","DD","YY","YYYY"];function mz(n){return hz.test(n)}function pz(n){return dz.test(n)}function gz(n,e,t){const r=yz(n,e,t);if(console.warn(r),fz.includes(n))throw new RangeError(r)}function yz(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bz=/^'([^]*?)'?$/,wz=/''/g,_z=/[a-zA-Z]/;function qm(n,e,t){const r=bh(),a=r.locale??Fj,l=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,h=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,d=ct(n);if(!y7(d))throw new RangeError("Invalid time value");let m=e.match(vz).map(x=>{const v=x[0];if(v==="p"||v==="P"){const w=uz[v];return w(x,a.formatLong)}return x}).join("").match(xz).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const v=x[0];if(v==="'")return{isToken:!1,value:Tz(x)};if($2[v])return{isToken:!0,value:x};if(v.match(_z))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(m=a.localize.preprocessor(d,m));const g={firstWeekContainsDate:l,weekStartsOn:h,locale:a};return m.map(x=>{if(!x.isToken)return x.value;const v=x.value;(pz(v)||mz(v))&&gz(v,e,String(n));const w=$2[v[0]];return w(d,v,a.localize,g)}).join("")}function Tz(n){const e=n.match(bz);return e?e[1].replace(wz,"'"):n}function Ez(n,e,t){const r=bh(),a=t?.locale??r.locale??Fj,l=2520,h=Sf(n,e);if(isNaN(h))throw new RangeError("Invalid time value");const d=Object.assign({},t,{addSuffix:t?.addSuffix,comparison:h});let m,g;h>0?(m=ct(e),g=ct(n)):(m=ct(n),g=ct(e));const x=N7(g,m),v=(am(g)-am(m))/1e3,w=Math.round((x-v)/60);let E;if(w<2)return t?.includeSeconds?x<5?a.formatDistance("lessThanXSeconds",5,d):x<10?a.formatDistance("lessThanXSeconds",10,d):x<20?a.formatDistance("lessThanXSeconds",20,d):x<40?a.formatDistance("halfAMinute",0,d):x<60?a.formatDistance("lessThanXMinutes",1,d):a.formatDistance("xMinutes",1,d):w===0?a.formatDistance("lessThanXMinutes",1,d):a.formatDistance("xMinutes",w,d);if(w<45)return a.formatDistance("xMinutes",w,d);if(w<90)return a.formatDistance("aboutXHours",1,d);if(w<H2){const j=Math.round(w/60);return a.formatDistance("aboutXHours",j,d)}else{if(w<l)return a.formatDistance("xDays",1,d);if(w<lf){const j=Math.round(w/H2);return a.formatDistance("xDays",j,d)}else if(w<lf*2)return E=Math.round(w/lf),a.formatDistance("aboutXMonths",E,d)}if(E=E7(g,m),E<12){const j=Math.round(w/lf);return a.formatDistance("xMonths",j,d)}else{const j=E%12,k=Math.trunc(E/12);return j<3?a.formatDistance("aboutXYears",k,d):j<9?a.formatDistance("overXYears",k,d):a.formatDistance("almostXYears",k+1,d)}}function Hm(n,e){return Ez(n,p7(n),e)}const Nz=({children:n,className:e="",hover:t=!1})=>{const r=t?"hover:shadow-xl transition-all duration-300":"";return c.jsx("div",{className:`rounded-lg border border-gray-100 bg-white p-6 shadow-sm ${r} ${e}`,children:n})},ut=({children:n,variant:e="primary",size:t="md",className:r="",asChild:a=!1,...l})=>{const h="inline-flex items-center justify-center rounded-full font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-60",d={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-primary-100 text-primary-700 hover:bg-primary-200 focus:ring-primary-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500"},m={sm:"px-4 py-2 text-sm",md:"px-6 py-2.5 text-base",lg:"px-8 py-3 text-lg"},g=a?"span":"button";return N.createElement(g,{className:`${h} ${d[e]} ${m[t]} ${r}`,...l},n)},Sz={waiting:{Icon:hm,text:"Your order is in the queue.",color:"text-yellow-600",bgColor:"bg-yellow-100",progress:10,progressText:"Ordered"},preparing:{Icon:Ms,text:"Your order is being prepared.",color:"text-blue-600",bgColor:"bg-blue-100",progress:50,progressText:"Preparing"},ready:{Icon:um,text:"Your order is ready for pickup!",color:"text-green-600",bgColor:"bg-green-100",progress:100,progressText:"Ready"},completed:{Icon:Ki,text:"Your order has been completed.",color:"text-primary-600",bgColor:"bg-primary-100",progress:100,progressText:"Completed"}},Az=({order:n})=>{const[e,t]=N.useState(!1),r=Ls(),a=Sz[n.status],{addMultipleToCart:l,showToast:h}=Ln(),{products:d}=$l(),m=()=>{const x=[],v=[];for(const w of n.orderItems){const E=d.find(O=>O.id===w.productId);if(!E||!E.available||E.stock===0){v.push(w.productName);continue}const j=w.productName.match(/\((Grande|Venti)\)$/),k=j?j[1]:null;if(!k){v.push(w.productName);continue}const R=E.sizes.find(O=>O.name===k);if(!R){v.push(w.productName);continue}x.push({product:E,selectedSize:R,quantity:w.quantity})}x.length>0&&l(x),v.length>0&&h(`Could not add: ${v.join(", ")}. They may be unavailable.`)},g=()=>{n.status==="completed"?r("/menu"):m()};return c.jsxs(Nz,{className:"w-full max-w-md rounded-2xl p-6 shadow-lg",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full ${a.bgColor}`,children:c.jsx(a.Icon,{className:`h-6 w-6 ${a.color}`})}),c.jsxs("div",{children:[c.jsx("h2",{className:"font-display text-xl font-bold text-coffee-900",children:a.text}),c.jsxs("p",{className:"text-sm text-gray-500",children:["Order #",n.orderNumber]})]})]}),c.jsxs("div",{className:"mt-6 space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-600",children:[c.jsx("span",{children:"Ordered"}),c.jsx("span",{children:"Preparing"}),c.jsx("span",{children:"Ready"})]}),c.jsx("div",{className:"h-2 w-full rounded-full bg-gray-200",children:c.jsx("div",{className:"h-2 rounded-full bg-primary-600 transition-all duration-500 ease-out",style:{width:`${a.progress}%`}})}),c.jsx("p",{className:"text-right text-sm font-semibold text-primary-600",children:a.progressText})]}),c.jsxs("div",{className:"mt-6 border-t border-gray-200 pt-4",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500",children:"Time Placed"}),c.jsx("span",{className:"font-medium text-gray-800",children:qm(n.timestamp,"p")})]}),c.jsxs("div",{className:"mt-1 flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500",children:"Estimated Wait"}),c.jsxs("span",{className:"font-medium text-gray-800",children:["~",n.estimatedTime," min"]})]}),c.jsxs("div",{className:"mt-3 flex justify-between text-lg font-bold",children:[c.jsx("span",{className:"text-gray-800",children:"Total"}),c.jsxs("span",{className:"text-primary-600",children:["",n.totalAmount.toFixed(2)]})]})]}),c.jsxs("div",{className:"mt-4 border-t border-gray-200",children:[c.jsxs("button",{onClick:()=>t(!e),className:"flex w-full items-center justify-between py-3 text-left font-semibold text-gray-700 hover:text-primary-600",children:[c.jsxs("span",{children:["View Items (",n.orderItems.length,")"]}),c.jsx(Ku,{className:`h-5 w-5 transform transition-transform duration-300 ${e?"rotate-180":""}`})]}),c.jsx(ph,{children:e&&c.jsx(Zr.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:c.jsx("ul",{className:"space-y-2 pb-2",children:n.orderItems.map((x,v)=>c.jsxs("li",{className:"flex justify-between border-b border-gray-100 py-1 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-800",children:x.productName}),c.jsxs("span",{className:"ml-2 text-gray-500",children:["x",x.quantity]})]}),c.jsxs("span",{className:"text-gray-600",children:["",(x.price*x.quantity).toFixed(2)]})]},v))})})})]}),c.jsx("div",{className:"mt-4 border-t border-gray-200 pt-4",children:c.jsx(ut,{size:"lg",className:"w-full",onClick:g,variant:n.status==="completed"?"primary":"secondary",children:n.status==="completed"?c.jsxs(c.Fragment,{children:[c.jsx(C0,{className:"mr-2 h-5 w-5"}),"Start New Order"]}):c.jsxs(c.Fragment,{children:[c.jsx(EE,{className:"mr-2 h-5 w-5"}),"Reorder Items"]})})})]})},jz="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQ2IiBoZWlnaHQ9IjE3OCIgdmlld0JveD0iMCAwIDI0NiAxNzgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xNTQuNTAzIDgwQzE4MC41MDMgNTEgMjEzLjAwMyAyMC41IDIyNS41MDMgMTguNUMyMzguMDAzIDE2LjUgMjQ0LjAwMyAyOS41IDI0NC4wMDMgMjkuNUMyNDQuMDAzIDI5LjUgMjQ4LjUwMyA1Mi41IDI0MC41MDMgODBDMjMyLjUwMyAxMDcuNSAyMTEuNTAzIDEyNCAyMTEuNTAzIDEyNEMyMTEuNTAzIDEyNCAxNjYuNTAzIDE3MSAxNDcuMDAzIDE3NUMxNDcuMDAzIDE3NSAxMTkuMDAzIDE4MS41IDEwNy4wMDMgMTcyLjVDOTUuMDAyNSAxNjMuNSAxMjguNTAzIDEwOSAxNTQuNTAzIDgwWiIgZmlsbD0iI0VCNUYxNiIvPgo8cGF0aCBkPSJNMTIuMDAyNSA4OUMxMi4wMDI1IDg5IC0yMS4wMjkzIDIyLjAyMyAyMi41MDI1IDE3QzM1LjUwMjUgMTUuNSA4MC4wMDI1IDU2IDc5LjUwMjUgNTkuNUM4Mi41MDI1IDc1IDcyLjAwMjUgODcgNjQuNTAyNSA5N0M2MS4xMzM2IDEwMS40OTIgNjAuMDAyNSAxMDcuNSA1OC4wMDI1IDExOS41QzU4LjAwMjUgMTM5IDUzLjAwMjUgMTM4LjUgNTMuMDAyNSAxMzguNUM1My4wMDI1IDEzOC41IDQwLjUwMjUgMTQxIDEyLjAwMjUgODlaIiBmaWxsPSIjRUI1RjE2IiIvPgo8cGF0aCBkPSJNNDcuMDAyNSAxN0M0MS4wMDI1IDEyLjAwMDEgNDIuMDAyNSAtNy42MjkzOWUtMDYgNTMuMDAyNSAwQzY0LjAwMjUgNy42Mjk0ZS0wNiA3NC4xOTA0IDQuNzY1MzQgODcuMDAyNSAxMEMxMDAuMzQ3IDE1LjQ1MjEgMTEwLjkxMSAxOSAxMTQuNTAzIDI2LjVDMTE4LjA5NCAzNCAxMTQuNTAzIDM5LjUgMTEwLjAwMyA0NUMxMDUuNTAzIDUwLjUgMTAyLjAwMyA1MiA5NC41MDI1IDUxQzg3LjAwMjUgNTAgNTMuMDAyNSAyMiA0Ny4wMDI1IDE3WiIgZmlsbD0iI0VCNUYxNiIvPgo8cGF0aCBkPSJNMjA1LjUwMyAyMy41QzIxOC41MDMgMTQgMjA1LjUwMyA1LjUgMjA1LjUwMyA1LjVDMTYyLjIzOSAxLjQzMjUyIDEyMi40MDggMzEuOTMyNCA4Mi4wMDI1IDg4LjVDNzEuNjQ1NCAxMDMgNjIuNTU4MyAxNTAuMzIyIDc4LjUwMjUgMTYxQzk3LjE3ODQgMTczLjUwOCAxMDIuNjM0IDE2Ny4xMDkgMTAzLjUwMyAxMzJDMTIxLjUwMyA1MSAxOTIuNTAzIDMzIDIwNS41MDMgMjMuNVoiIGZpbGw9IiNFQjVGMTYiLz4KPC9zdmc+Cg==",Cz=()=>{const{currentUser:n}=ys(),{activeOrder:e}=uv(),t=Vs(),r=Ls(),[a,l]=N.useState("default"),[h,d]=N.useState(!1),m=N.useRef(null);N.useEffect(()=>{"Notification"in window&&(l(Notification.permission),Notification.permission==="default"&&d(!0))},[]),N.useEffect(()=>{if(e&&e.status==="ready"&&a==="granted"&&m.current!==e.id){const x="Your Order is Ready! ",v={body:`Your Rush Coffee order (${e.orderNumber}) is now ready for pickup.`,icon:jz,tag:e.id},w=new Notification(x,v);w.onclick=()=>{window.focus()},m.current=e.id}(!e||e.status==="completed")&&(m.current=null)},[e,a]);const g=async()=>{if(!("Notification"in window)){alert("This browser does not support desktop notification");return}const x=await Notification.requestPermission();l(x),(x==="granted"||x==="denied")&&d(!1)};return n?e?c.jsxs("div",{className:"flex min-h-screen flex-col bg-gray-50",children:[c.jsx(Kt,{}),c.jsx("main",{className:"flex flex-1 items-center justify-center px-4 py-12 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex w-full max-w-md flex-col items-center gap-6",children:[t.state?.fromCheckout&&c.jsxs("div",{className:"w-full rounded-lg bg-green-100 p-4 text-center text-green-800 animate-fade-in-up",children:[c.jsx("h2",{className:"font-bold",children:"Order Placed Successfully!"}),c.jsx("p",{className:"text-sm",children:"You are now in the queue. We'll start preparing your order shortly."})]}),h&&a==="default"&&e.status!=="completed"&&c.jsxs("div",{className:"relative w-full animate-fade-in-up rounded-lg border border-primary-200 bg-white p-4 shadow-sm",children:[c.jsx("button",{onClick:()=>d(!1),className:"absolute top-2 right-2 rounded-full p-1 text-gray-400 transition-colors hover:text-gray-600","aria-label":"Dismiss",children:c.jsx(ei,{className:"h-4 w-4"})}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full bg-primary-100",children:c.jsx(um,{className:"h-6 w-6 text-primary-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-800",children:"Get Order Updates"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Know the moment your coffee is ready!"})]})]}),c.jsx("button",{onClick:g,className:"mt-3 w-full rounded-full bg-primary-600 px-4 py-2 text-sm font-semibold text-white transition-colors hover:bg-primary-700",children:"Enable Notifications"})]}),c.jsx(Az,{order:e})]})}),c.jsx(Wt,{})]}):c.jsxs("div",{className:"flex min-h-screen flex-col bg-gray-50",children:[c.jsx(Kt,{}),c.jsx("main",{className:"flex flex-1 items-center justify-center px-6 py-20 text-center",children:c.jsxs("div",{children:[c.jsx(sn,{className:"mx-auto h-24 w-24 text-gray-300 opacity-50"}),c.jsx("h1",{className:"mt-4 font-display text-2xl font-bold text-coffee-900",children:"Your queue is empty"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Ready for your next coffee fix?"}),c.jsxs("button",{onClick:()=>r("/menu"),className:"mt-8 inline-flex items-center justify-center gap-2 rounded-full bg-primary-600 px-8 py-3 font-semibold text-white shadow-lg transition-transform hover:scale-105",children:["Start a New Order",c.jsx(bl,{className:"h-5 w-5"})]})]})}),c.jsx(Wt,{})]}):c.jsxs("div",{className:"flex min-h-screen flex-col bg-gray-50",children:[c.jsx(Kt,{}),c.jsx("main",{className:"flex flex-1 items-center justify-center px-6 py-20 text-center",children:c.jsxs("div",{children:[c.jsx(sn,{className:"mx-auto h-24 w-24 text-gray-300 opacity-50"}),c.jsx("h1",{className:"mt-4 font-display text-2xl font-bold text-coffee-900",children:"You're not in the queue"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Please log in and place an order to see your queue status."}),c.jsxs("div",{className:"mt-8 flex justify-center gap-4",children:[c.jsx(lt,{to:"/auth/login",className:"rounded-full bg-primary-600 px-8 py-3 font-semibold text-white transition-transform hover:scale-105",children:"Login"}),c.jsx(lt,{to:"/menu",className:"rounded-full border-2 border-primary-600 px-8 py-3 font-semibold text-primary-600 transition-transform hover:scale-105 hover:bg-primary-50",children:"View Menu"})]})]})}),c.jsx(Wt,{})]})},Ml=({isOpen:n,onClose:e,title:t,children:r,footer:a,size:l="md"})=>{if(N.useEffect(()=>{const d=m=>{m.key==="Escape"&&e()};return document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)},[e]),!n)return null;const h={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg"};return c.jsx("div",{className:"fixed inset-0 z-50 flex animate-fade-in-up items-center justify-center bg-black/60 p-4 backdrop-blur-sm",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",onClick:e,style:{animationDuration:"0.3s"},children:c.jsx("div",{className:`relative w-full transform transition-all ${h[l]}`,onClick:d=>d.stopPropagation(),children:c.jsxs(He,{className:"rounded-xl p-0 shadow-2xl",children:[c.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-4",children:[c.jsx("h3",{id:"modal-title",className:"text-lg font-semibold text-coffee-900",children:t}),c.jsx("button",{onClick:e,className:"rounded-full p-1 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-700","aria-label":"Close modal",children:c.jsx(ei,{className:"h-5 w-5"})})]}),c.jsx("div",{className:"p-6",children:r}),a&&c.jsx("div",{className:"flex justify-end gap-3 rounded-b-xl border-t border-gray-200 bg-gray-50 p-4",children:a})]})})})},Rz={bronze:{Icon:v6,name:"Bronze Member",gradient:"from-orange-400 to-orange-600",nextTierName:"Silver",progressColor:"bg-gray-400",minPoints:0},silver:{Icon:mI,name:"Silver Member",gradient:"from-gray-300 to-gray-500",nextTierName:"Gold",progressColor:"bg-yellow-400",minPoints:300},gold:{Icon:GI,name:"Gold Member",gradient:"from-yellow-400 to-yellow-600",nextTierName:null,progressColor:"",minPoints:1e3}},Iz=({tier:n,currentPoints:e,nextTierPoints:t,showProgress:r=!0})=>{const a=Rz[n],l=t-e,h=n!=="gold"?Math.max(0,Math.min(100,(e-a.minPoints)/(t-a.minPoints)*100)):100;return c.jsxs("div",{className:`relative w-full max-w-sm overflow-hidden rounded-2xl bg-gradient-to-br p-6 text-center text-white shadow-lg md:p-8 ${a.gradient}`,children:[c.jsx("div",{className:"absolute inset-0 -translate-x-full animate-shimmer bg-gradient-to-r from-transparent via-white/30 to-transparent"}),c.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[c.jsx(a.Icon,{className:"h-16 w-16 animate-pulse-slow drop-shadow-lg"}),c.jsx("h2",{className:"mt-4 font-display text-2xl font-bold drop-shadow-md md:text-3xl",children:a.name}),c.jsxs("p",{className:"font-semibold text-white/80",children:[e," points"]})]}),r&&n!=="gold"&&c.jsxs("div",{className:"relative z-10 mt-6 text-left",children:[c.jsxs("p",{className:"text-xs font-semibold md:text-sm",children:[c.jsx("span",{className:"font-bold",children:l>0?l:0})," points to ",a.nextTierName]}),c.jsx("div",{className:"mt-1 h-2.5 w-full overflow-hidden rounded-full bg-black/20",children:c.jsx("div",{className:`h-full rounded-full ${a.progressColor} transition-all duration-500 ease-out`,style:{width:`${h}%`}})})]})]})},Mz={drink:"bg-blue-100 text-blue-800",food:"bg-green-100 text-green-800",discount:"bg-yellow-100 text-yellow-800"},Dz=({reward:n,currentPoints:e,onRedeem:t})=>{const{id:r,name:a,description:l,pointsCost:h,imageUrl:d,category:m,available:g}=n,x=e>=h,v=g&&x,w=h-e,E=()=>g?x?"Redeem Now":c.jsxs(c.Fragment,{children:[c.jsx(jf,{className:"h-4 w-4"}),"Need ",w," more points"]}):"Unavailable";return c.jsxs(He,{className:"flex flex-col overflow-hidden transition-transform duration-300 hover:-translate-y-1",hover:!0,children:[c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:d,alt:a,className:`h-40 w-full object-cover ${g?"":"grayscale"}`}),c.jsx(nn,{className:`absolute top-2 left-2 capitalize ${Mz[m]}`,children:m}),!g&&c.jsx(nn,{className:"absolute top-2 right-2 bg-gray-500 text-white",children:"Temporarily Unavailable"})]}),c.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[c.jsxs("div",{className:"flex-grow",children:[c.jsx("h3",{className:"text-lg font-semibold text-coffee-900",children:a}),c.jsx("p",{className:"mt-1 h-10 text-sm text-gray-600 line-clamp-2",children:l})]}),c.jsx("div",{className:"mt-4 flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center gap-2 text-primary-600",children:[c.jsx(ju,{className:"h-5 w-5"}),c.jsxs("p",{className:"text-lg font-bold",children:[h," points"]})]})}),c.jsx("button",{onClick:()=>t(r),disabled:!v,className:"mt-4 flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-gray-400 disabled:text-gray-100","aria-label":v?`Redeem ${a}`:`Cannot redeem ${a}`,children:E()})]})]})},kz=({history:n})=>{const[e,t]=N.useState("all"),r=N.useMemo(()=>e==="all"?n:n.filter(h=>h.type===e),[n,e]),a=N.useMemo(()=>[...r].sort((h,d)=>d.date.getTime()-h.date.getTime()),[r]),l=h=>h==="earned"?c.jsx("div",{className:"absolute left-0 top-0 flex h-10 w-10 -translate-x-1/2 items-center justify-center rounded-full bg-green-100 ring-8 ring-white",children:c.jsx(Wu,{className:"h-5 w-5 text-green-600"})}):c.jsx("div",{className:"absolute left-0 top-0 flex h-10 w-10 -translate-x-1/2 items-center justify-center rounded-full bg-red-100 ring-8 ring-white",children:c.jsx(TE,{className:"h-5 w-5 text-red-600"})});return c.jsxs(He,{children:[c.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[c.jsx("h2",{className:"font-display text-2xl font-bold text-coffee-900",children:"Points History"}),c.jsx("div",{className:"flex gap-2 rounded-full bg-gray-100 p-1",children:["all","earned","redeemed"].map(h=>c.jsx("button",{onClick:()=>t(h),className:`rounded-full px-3 py-1 text-sm font-semibold capitalize transition-colors ${e===h?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:h},h))})]}),c.jsx("div",{className:"mt-6 max-h-96 overflow-y-auto pr-2",children:a.length>0?c.jsx("div",{className:"relative border-l-2 border-gray-200 pl-8",children:a.map((h,d)=>c.jsxs("div",{className:`relative ${d<a.length-1?"pb-8":""}`,children:[l(h.type),c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-800",children:h.description}),c.jsx("p",{className:"text-sm text-gray-500",children:Hm(h.date,{addSuffix:!0})})]}),c.jsxs("p",{className:`text-lg font-bold ${h.type==="earned"?"text-green-600":"text-red-600"}`,children:[h.type==="earned"?"+":"",h.points]})]})]},h.id))}):c.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 py-10 text-center",children:[c.jsx(s6,{className:"h-12 w-12 text-gray-300"}),c.jsx("p",{className:"font-semibold text-gray-700",children:"No transactions yet"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Your points history for this filter will appear here."})]})})]})},p0={bronze:{min:0,max:299,name:"Bronze"},silver:{min:300,max:999,name:"Silver"},gold:{min:1e3,max:1/0,name:"Gold"}},Pz=[{name:"Free Grande Drink",description:"Redeem your points for any Grande-sized drink on our menu. A perfect treat!",pointsCost:250,imageUrl:"https://images.unsplash.com/photo-1517701559439-d2380festi-fresh-coffee-beans.jpg?q=80&w=600",category:"drink",available:!0,displayOrder:1},{name:"10% Off Total Order",description:"Get a 10% discount on your entire order. Great for when you're treating friends!",pointsCost:400,imageUrl:"https://images.unsplash.com/photo-1556742502-ec7c0e9f34b1-payment-terminal.jpg?q=80&w=600",category:"discount",available:!0,displayOrder:2},{name:"Free Pastry Item",description:"Choose any delicious pastry from our selection to complement your coffee.",pointsCost:150,imageUrl:"https://images.unsplash.com/photo-1582249075228-3d1f404e57b3-assorted-pastries.jpg?q=80&w=600",category:"food",available:!0,displayOrder:3},{name:"Upgrade to Venti",description:"Get a free size upgrade from Grande to Venti on any drink.",pointsCost:100,imageUrl:"https://images.unsplash.com/photo-1594963321151-0c5888e2983b-coffee-cup-size-comparison.jpg?q=80&w=600",category:"drink",available:!0,displayOrder:4}],Oz=()=>{const{currentUser:n}=ys(),{showToast:e}=Ln(),[t,r]=N.useState([]),[a,l]=N.useState(!0),[h,d]=N.useState(!1),[m,g]=N.useState(null),[x,v]=N.useState(!1),[w,E]=N.useState("");N.useEffect(()=>{(async()=>{l(!0);const K=Vn(Xe,"rewards");if((await sa(xr(K))).empty){console.log("Seeding available rewards...");const V=Pz.map(L=>fh(K,L));await Promise.all(V)}const I=xr(K,dh("displayOrder")),M=(await sa(I)).docs.map(V=>({id:V.id,...V.data()}));r(M),l(!1)})()},[]);const j=n?.tier==="bronze"?"silver":"gold",k=n&&p0[j]?.min||0,R=H=>{g(H),d(!0)},O=async()=>{if(!(!n||!m)){v(!0);try{if(n.currentPoints<m.pointsCost)throw new Error("You don't have enough points.");const H=gn(Xe,"users",n.uid),K={id:`rh-${Date.now()}`,type:"redeemed",points:-m.pointsCost,description:`Redeemed: ${m.name}`,date:new Date};await ra(H,{currentPoints:Wa(-m.pointsCost),rewardsHistory:sA(K)}),E(`RC-REDEEM-${Math.random().toString(36).substr(2,9).toUpperCase()}`)}catch(H){e(H.message||"Failed to redeem reward."),v(!1)}}},D=()=>{navigator.clipboard&&(navigator.clipboard.writeText(w),e("Code copied to clipboard!"))},U=()=>{d(!1),g(null),v(!1),E("")};return n?c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx(Kt,{}),c.jsxs("main",{children:[c.jsx("section",{className:"bg-gradient-to-r from-primary-50 to-coffee-50 px-6 py-12",children:c.jsx("div",{className:"container mx-auto max-w-7xl",children:c.jsxs("div",{className:"grid grid-cols-1 items-center gap-8 md:grid-cols-3",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsxs("h1",{className:"font-display text-4xl font-bold text-coffee-900 md:text-5xl",children:["Welcome, ",n.firstName,"!"]}),c.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"You're doing great! Keep earning points for amazing rewards."})]}),c.jsx("div",{className:"flex justify-center md:justify-end",children:c.jsx(Iz,{tier:n.tier,currentPoints:n.currentPoints,nextTierPoints:k})})]})})}),c.jsx("section",{className:"px-6 py-16",children:c.jsxs("div",{className:"container mx-auto max-w-7xl",children:[c.jsxs("div",{className:"mb-8 flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900",children:"Redeem Your Points"}),c.jsx("p",{className:"mt-1 text-gray-600",children:"Use your points to claim these exciting rewards."})]}),c.jsxs("div",{className:"rounded-full bg-white px-4 py-2 text-lg font-semibold text-primary-600 shadow-md",children:["Your Points: ",c.jsx("span",{className:"font-bold",children:n.currentPoints})]})]}),a?c.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Array.from({length:4}).map((H,K)=>c.jsx(Lj,{},K))}):t.length>0?c.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:t.map(H=>c.jsx(Dz,{reward:H,currentPoints:n.currentPoints,onRedeem:()=>R(H)},H.id))}):c.jsxs(He,{className:"py-20 text-center",children:[c.jsx(ju,{className:"mx-auto h-16 w-16 text-gray-300"}),c.jsx("h3",{className:"mt-4 font-semibold text-gray-800",children:"No Rewards Available"}),c.jsx("p",{className:"mt-1 text-gray-500",children:"Please check back later for new rewards."})]})]})}),c.jsx("section",{className:"bg-white px-6 py-16",children:c.jsx("div",{className:"container mx-auto max-w-4xl",children:c.jsx(kz,{history:n.rewardsHistory})})})]}),c.jsx(Wt,{}),c.jsx(Ml,{isOpen:h,onClose:U,title:w?"Reward Claimed!":`Redeem: ${m?.name||""}`,children:w?c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-green-100",children:c.jsx(Ki,{className:"h-8 w-8 text-green-600"})}),c.jsx("h3",{className:"mt-4 text-lg font-semibold text-gray-900",children:"Success!"}),c.jsx("p",{className:"mt-1 text-gray-600",children:"Show this code at the counter to claim your reward:"}),c.jsxs("div",{className:"relative my-4 rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-4",children:[c.jsx("p",{className:"font-mono text-2xl font-bold text-primary-700 tracking-widest",children:w}),c.jsx("button",{onClick:D,className:"absolute top-2 right-2 text-gray-400 hover:text-primary-600",children:c.jsx(VI,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"mt-2 flex items-center justify-center gap-2 rounded-lg bg-yellow-50 p-3 text-sm text-yellow-800",children:[c.jsx(oo,{className:"h-5 w-5 flex-shrink-0"}),c.jsx("span",{children:"This code is for one-time use only."})]}),c.jsx("div",{className:"mt-6",children:c.jsx(ut,{onClick:U,children:"Close"})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"text-center text-gray-600",children:["Are you sure you want to spend ",c.jsxs("span",{className:"font-bold text-primary-600",children:[m?.pointsCost," points"]})," to redeem this reward?"]}),c.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[c.jsx(ut,{variant:"ghost",onClick:U,children:"Cancel"}),c.jsxs(ut,{onClick:O,disabled:x,children:[x?c.jsx(rn,{className:"mr-2 h-4 w-4 animate-spin"}):c.jsx(Ki,{className:"mr-2 h-4 w-4"}),"Confirm"]})]})]})})]}):c.jsxs("div",{className:"flex min-h-screen flex-col bg-gray-50",children:[c.jsx(Kt,{}),c.jsx("main",{className:"flex flex-1 items-center justify-center px-6 py-20 text-center",children:c.jsxs("div",{children:[c.jsx(ju,{className:"mx-auto h-24 w-24 text-gray-300 opacity-50"}),c.jsx("h1",{className:"mt-4 font-display text-2xl font-bold text-coffee-900",children:"Join Our Rewards Program"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Log in or create an account to start earning points and get free coffee!"}),c.jsxs("div",{className:"mt-8 flex justify-center gap-4",children:[c.jsx(lt,{to:"/auth/login",className:"rounded-full bg-primary-600 px-8 py-3 font-semibold text-white transition-transform hover:scale-105",children:"Login"}),c.jsx(lt,{to:"/auth/register",className:"rounded-full border-2 border-primary-600 px-8 py-3 font-semibold text-primary-600 transition-transform hover:scale-105 hover:bg-primary-50",children:"Sign Up"})]})]})}),c.jsx(Wt,{})]})},Vz=({user:n,onEditPhoto:e})=>{const t=(r,a)=>`${r.charAt(0)}${a.charAt(0)}`.toUpperCase();return c.jsxs("div",{className:"w-full",children:[c.jsx("div",{className:"relative h-48 w-full bg-gradient-to-r from-primary-500 to-coffee-600"}),c.jsxs("div",{className:"-mt-16 px-6",children:[c.jsxs("div",{className:"relative mx-auto h-32 w-32",children:[n.photoURL?c.jsx("img",{src:n.photoURL,alt:`${n.firstName} ${n.lastName}`,className:"h-full w-full rounded-full border-4 border-white object-cover shadow-lg"}):c.jsx("div",{className:"flex h-full w-full items-center justify-center rounded-full border-4 border-white bg-gradient-to-br from-primary-400 to-primary-600 text-white shadow-lg",children:c.jsx("span",{className:"font-display text-4xl font-bold",children:t(n.firstName,n.lastName)})}),c.jsx("button",{onClick:e,className:"absolute bottom-0 right-0 flex h-10 w-10 items-center justify-center rounded-full bg-primary-600 text-white shadow-lg transition-colors hover:bg-primary-700","aria-label":"Edit profile photo",children:c.jsx(bI,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"mt-4 text-center",children:[c.jsxs("h1",{className:"font-display text-3xl font-bold text-coffee-900",children:[n.firstName," ",n.lastName]}),c.jsx("p",{className:"text-gray-600",children:n.email}),n.role&&c.jsxs(nn,{className:"mt-2 bg-yellow-100 text-yellow-800 capitalize",children:[c.jsx(Cu,{className:"mr-1 h-3 w-3"}),n.role]})]})]}),c.jsxs("div",{className:"mt-8 grid grid-cols-3 gap-4 border-y border-gray-200 bg-gray-50/50 px-6 py-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx(Ms,{className:"mx-auto mb-1 h-6 w-6 text-primary-600"}),c.jsx("p",{className:"text-xl font-bold text-coffee-900",children:n.totalOrders}),c.jsx("p",{className:"text-xs text-gray-500",children:"Total Orders"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx(II,{className:"mx-auto mb-1 h-6 w-6 text-primary-600"}),c.jsxs("p",{className:"text-xl font-bold text-coffee-900",children:["",n.totalSpent.toLocaleString()]}),c.jsx("p",{className:"text-xs text-gray-500",children:"Total Spent"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx(yE,{className:"mx-auto mb-1 h-6 w-6 text-primary-600"}),c.jsx("p",{className:"text-xl font-bold text-coffee-900",children:qm(n.createdAt,"MMMM yyyy")}),c.jsx("p",{className:"text-xs text-gray-500",children:"Member Since"})]})]})]})},Lz=({user:n,onSave:e,onCancel:t})=>{const[r,a]=N.useState({firstName:n.firstName,lastName:n.lastName,phone:n.phone||""}),[l,h]=N.useState({}),[d,m]=N.useState(!1),[g,x]=N.useState(!1),{showToast:v}=Ln();N.useEffect(()=>{const k=r.firstName!==n.firstName||r.lastName!==n.lastName||r.phone!==(n.phone||"");x(k)},[r,n]);const w=()=>{const k={};return r.firstName.length<2&&(k.firstName="First name must be at least 2 characters."),r.lastName.length<2&&(k.lastName="Last name must be at least 2 characters."),r.phone&&!/^(09|\+639)\d{9}$/.test(r.phone)&&(k.phone="Invalid Philippine phone number format."),h(k),Object.keys(k).length===0},E=k=>{a({...r,[k.target.name]:k.target.value})},j=k=>{k.preventDefault(),w()&&(m(!0),setTimeout(()=>{e(r),m(!1),v("Profile updated successfully!")},1e3))};return c.jsxs(He,{className:"w-full",children:[c.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-coffee-900",children:"Edit Profile Information"}),c.jsxs("form",{onSubmit:j,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),c.jsxs("div",{className:"relative mt-1",children:[c.jsx(Yr,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",name:"firstName",id:"firstName",value:r.firstName,onChange:E,className:"w-full rounded-md border-gray-300 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0})]}),l.firstName&&c.jsx("p",{className:"mt-1 text-xs text-red-500",children:l.firstName})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),c.jsxs("div",{className:"relative mt-1",children:[c.jsx(Yr,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",name:"lastName",id:"lastName",value:r.lastName,onChange:E,className:"w-full rounded-md border-gray-300 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0})]}),l.lastName&&c.jsx("p",{className:"mt-1 text-xs text-red-500",children:l.lastName})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),c.jsxs("div",{className:"relative mt-1",children:[c.jsx($r,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"tel",name:"phone",id:"phone",value:r.phone,onChange:E,className:"w-full rounded-md border-gray-300 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),l.phone&&c.jsx("p",{className:"mt-1 text-xs text-red-500",children:l.phone})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),c.jsxs("div",{className:"relative mt-1",children:[c.jsx(Gr,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"email",name:"email",id:"email",value:n.email||"",className:"w-full rounded-md border-gray-300 bg-gray-100 pl-10 text-gray-500 shadow-sm",disabled:!0,readOnly:!0})]}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Contact support to change your email address."})]}),c.jsxs("div",{className:"flex justify-end gap-3 border-t border-gray-200 pt-4",children:[c.jsxs(ut,{type:"button",variant:"ghost",onClick:t,children:[c.jsx(ei,{className:"mr-2 h-4 w-4"}),"Cancel"]}),c.jsxs(ut,{type:"submit",variant:"primary",disabled:!g||d,children:[d?c.jsx(rn,{className:"mr-2 h-4 w-4 animate-spin"}):c.jsx(N0,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]})]})]})},W2={completed:{icon:Ki,color:"bg-green-100 text-green-800"},cancelled:{icon:ei,color:"bg-red-100 text-red-800"},preparing:{icon:Ms,color:"bg-blue-100 text-blue-800"},waiting:{icon:Ms,color:"bg-yellow-100 text-yellow-800"},ready:{icon:Ms,color:"bg-purple-100 text-purple-800"}},Uz={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},zz={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},Bz=({order:n})=>{const e=W2[n.status]?.icon||Ms,t=W2[n.status]?.color||"bg-gray-100 text-gray-800",{addMultipleToCart:r,showToast:a}=Ln(),{products:l}=$l(),h=()=>{const m=[],g=[];for(const x of n.orderItems){const v=l.find(k=>k.id===x.productId);if(!v||!v.available||v.stock===0){g.push(x.productName);continue}const w=x.productName.match(/\((Grande|Venti)\)$/),E=w?w[1]:null;if(!E){g.push(x.productName);continue}const j=v.sizes.find(k=>k.name===E);if(!j){g.push(x.productName);continue}m.push({product:v,selectedSize:j,quantity:x.quantity})}m.length>0&&r(m),g.length>0&&a(`Could not add: ${g.join(", ")}. They may be unavailable.`)},d=()=>{const m=n.orderItems;return m.length<=2?m.map(x=>`${x.quantity}x ${x.productName}`).join(", "):`${m.slice(0,2).map(x=>x.productName).join(", ")}, and ${m.length-2} more item(s)`};return c.jsx(He,{hover:!0,className:"transition-shadow duration-300",children:c.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("div",{className:"flex-grow",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"font-mono text-sm font-semibold text-primary-700",children:n.orderNumber}),c.jsxs(nn,{className:`capitalize ${t}`,children:[c.jsx(e,{className:"mr-1 h-3 w-3"}),n.status]})]}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:qm(n.timestamp,"MMM dd, yyyy  hh:mm a")}),c.jsx("p",{className:"mt-2 text-sm text-gray-700",children:d()})]}),c.jsxs("div",{className:"flex-shrink-0 text-right sm:ml-4",children:[c.jsxs("p",{className:"font-display text-2xl font-bold text-coffee-900",children:["",n.totalAmount.toFixed(2)]}),c.jsxs(ut,{size:"sm",variant:"secondary",className:"mt-2",onClick:h,children:[c.jsx(EE,{className:"mr-2 h-4 w-4"}),"Reorder"]})]})]})})},X2=({orders:n,limit:e,showViewAll:t,onViewAll:r})=>{const a=[...n].sort((h,d)=>d.timestamp.getTime()-h.timestamp.getTime()),l=e?a.slice(0,e):a;return n.length===0?c.jsxs("div",{className:"py-16 text-center",children:[c.jsx(j0,{className:"mx-auto h-16 w-16 text-gray-300"}),c.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-800",children:"No Orders Yet"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Your past orders will appear here."}),c.jsx(ut,{size:"lg",className:"mt-6",children:"Browse Menu"})]}):c.jsxs("div",{children:[c.jsx(Zr.div,{className:"space-y-4",variants:Uz,initial:"hidden",animate:"visible",children:l.map(h=>c.jsx(Zr.div,{variants:zz,layout:!0,children:c.jsx(Bz,{order:h})},h.id))}),t&&a.length>(e||0)&&c.jsx("div",{className:"mt-6 text-center",children:c.jsx(ut,{variant:"ghost",onClick:r,children:"View All Orders"})})]})},au=({label:n,description:e,enabled:t,onChange:r,Icon:a})=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(a,{className:"h-5 w-5 text-gray-500"}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-800",children:n}),c.jsx("p",{className:"text-sm text-gray-500",children:e})]})]}),c.jsx("button",{type:"button",className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${t?"bg-primary-600":"bg-gray-200"}`,role:"switch","aria-checked":t,onClick:()=>r(!t),children:c.jsx("span",{"aria-hidden":"true",className:`inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${t?"translate-x-5":"translate-x-0"}`})})]}),Fz=({preferences:n,onUpdatePreferences:e})=>{const[t,r]=N.useState(n),[a,l]=N.useState(!1),[h,d]=N.useState(!1),{showToast:m}=Ln(),g=(H,K,ie)=>{const I={...t,[H]:{...t[H],[K]:ie}};r(I),e({[H]:I[H]}),m("Preferences updated!")},[x,v]=N.useState({current:"",new:"",confirm:""}),[w,E]=N.useState({current:!1,new:!1,confirm:!1}),[j,k]=N.useState(!1),[R,O]=N.useState({password:"",checkbox:!1}),[D,U]=N.useState(!1);return c.jsxs(c.Fragment,{children:[c.jsxs(He,{children:[c.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900",children:"Preferences & Settings"}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"font-semibold text-gray-500",children:"Notifications"}),c.jsx(au,{Icon:um,label:"Push Notifications",description:"Get notified when order is ready",enabled:t.notifications.push,onChange:H=>g("notifications","push",H)}),c.jsx(au,{Icon:Gr,label:"Email Updates",description:"Receive order updates via email",enabled:t.notifications.emailUpdates,onChange:H=>g("notifications","emailUpdates",H)}),c.jsx(au,{Icon:Gr,label:"Marketing Emails",description:"Get news and promotions",enabled:t.notifications.marketing,onChange:H=>g("notifications","marketing",H)})]}),c.jsx("hr",{className:"my-6"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(j6,{className:"h-5 w-5 text-gray-500"}),c.jsx("h3",{className:"font-semibold text-gray-800",children:"Appearance"})]}),c.jsx("div",{className:"flex gap-2 rounded-full bg-gray-100 p-1",children:["light","dark","auto"].map(H=>c.jsx("button",{onClick:()=>g("theme","theme",H),className:`w-full rounded-full py-1.5 text-sm font-semibold capitalize transition-colors ${t.theme===H?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:H},H))})]}),c.jsx("hr",{className:"my-6"}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"font-semibold text-gray-500",children:"Privacy"}),c.jsx(au,{Icon:Cu,label:"Share anonymous usage data",description:"Help us improve our services",enabled:t.privacy.shareUsageData,onChange:H=>g("privacy","shareUsageData",H)}),c.jsx(au,{Icon:Cu,label:"Personalized recommendations",description:"Get recommendations based on your activity",enabled:t.privacy.personalizedRecs,onChange:H=>g("privacy","personalizedRecs",H)})]})]}),c.jsxs(He,{className:"mt-6 border-l-4 border-red-500",children:[c.jsx("h2",{className:"mb-4 font-display text-xl font-bold text-red-700",children:"Account Management"}),c.jsxs("div",{className:"flex flex-col items-start gap-4 md:flex-row md:items-center md:justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-800",children:"Change Password"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Update your password for better security."})]}),c.jsxs(ut,{variant:"secondary",onClick:()=>l(!0),children:[c.jsx(l6,{className:"mr-2 h-4 w-4"}),"Change Password"]})]}),c.jsx("hr",{className:"my-4"}),c.jsxs("div",{className:"flex flex-col items-start gap-4 md:flex-row md:items-center md:justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-800",children:"Delete Account"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Permanently delete your account and all data."})]}),c.jsxs(ut,{variant:"danger",onClick:()=>d(!0),children:[c.jsx(dm,{className:"mr-2 h-4 w-4"}),"Delete Account"]})]})]}),c.jsx(Ml,{isOpen:a,onClose:()=>l(!1),title:"Change Password",children:c.jsx("form",{className:"space-y-4",children:c.jsx("p",{className:"text-sm text-gray-600",children:"Password change functionality is coming soon."})})}),c.jsx(Ml,{isOpen:h,onClose:()=>d(!1),title:"Delete Account",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-red-100",children:c.jsx(AE,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),c.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Are you absolutely sure?"}),c.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"This action cannot be undone. This will permanently delete your account, orders, and rewards."}),c.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Account deletion functionality is coming soon."})]})})]})},qz=["Poor","Fair","Good","Very Good","Excellent"],Hz={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"},om=({rating:n,onRatingChange:e,readonly:t=!1,size:r="md",className:a=""})=>{const[l,h]=N.useState(0),d=!t&&e,m=E=>{d&&e(E)},g=E=>{d&&h(E)},x=()=>{d&&h(0)},v=l||n,w=v>0?qz[v-1]:"";return c.jsxs("div",{className:`flex flex-col items-center gap-2 ${a}`,children:[c.jsx("div",{className:"flex",onMouseLeave:x,role:d?"radiogroup":"img","aria-label":d?"Star rating":`Rating: ${n} out of 5 stars`,children:[...Array(5)].map((E,j)=>{const k=j+1,R=k<=v;return c.jsx("button",{type:"button",disabled:!d,onClick:()=>m(k),onMouseEnter:()=>g(k),className:`transition-colors duration-200 ${d?"cursor-pointer":"cursor-default"}`,"aria-label":d?`${k} star`:void 0,"aria-checked":d?n===k:void 0,role:d?"radio":void 0,children:c.jsx(SE,{className:`
                  ${Hz[r]}
                  ${R?"text-yellow-400":"text-gray-300"}
                  transition-transform duration-200
                  ${d&&R?"hover:scale-110":""}
                `,fill:R?"currentColor":"none"})},j)})}),d&&c.jsx("div",{className:"h-5 text-sm font-medium text-gray-600",children:w})]})},Gz=({user:n})=>{const[e,t]=N.useState(0),[r,a]=N.useState("food"),[l,h]=N.useState(""),[d,m]=N.useState(!1),[g,x]=N.useState([]),[v,w]=N.useState(!0),[E,j]=N.useState(null),{showToast:k}=Ln();N.useEffect(()=>{if(!n)return;const D=xr(Vn(Xe,"feedback"),Sx("userId","==",n.uid)),U=mh(D,H=>{const K=[];H.forEach(ie=>{const I=ie.data();K.push({id:ie.id,...I,createdAt:I.createdAt?.toDate(),updatedAt:I.updatedAt?.toDate()})}),K.sort((ie,I)=>(I.createdAt?.getTime()||0)-(ie.createdAt?.getTime()||0)),x(K),w(!1)});return()=>U()},[n]);const R=async D=>{if(D.preventDefault(),e===0||l.trim().length<10){k("Please provide a rating and a comment (at least 10 characters).");return}m(!0);try{await fh(Vn(Xe,"feedback"),{userId:n.uid,rating:e,category:r,comment:l,status:"pending",createdAt:Xf(),updatedAt:Xf()}),k("Feedback submitted successfully!"),t(0),a("food"),h("")}catch(U){console.error("Error submitting feedback: ",U),k("Failed to submit feedback. Please try again.")}finally{m(!1)}},O={pending:"bg-yellow-100 text-yellow-800",reviewed:"bg-blue-100 text-blue-800",resolved:"bg-green-100 text-green-800"};return c.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[c.jsx("div",{className:"lg:col-span-2",children:c.jsxs(He,{children:[c.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900",children:"Your Feedback History"}),v?c.jsx("div",{className:"flex items-center justify-center p-8",children:c.jsx(rn,{className:"h-8 w-8 animate-spin text-primary-600"})}):g.length>0?c.jsx("div",{className:"space-y-3",children:g.map(D=>c.jsxs("div",{className:"rounded-lg border border-gray-200",children:[c.jsxs("button",{onClick:()=>j(E===D.id?null:D.id),className:"flex w-full items-center justify-between p-4 text-left",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(om,{rating:D.rating,size:"sm",readonly:!0}),c.jsxs("div",{className:"flex-1 overflow-hidden",children:[c.jsx("p",{className:"font-semibold text-gray-800 truncate",children:D.comment}),c.jsx("p",{className:"text-xs text-gray-500",children:D.createdAt?Hm(D.createdAt,{addSuffix:!0}):"Just now"})]})]}),c.jsx(Ku,{className:`h-5 w-5 transform transition-transform ${E===D.id?"rotate-180":""}`})]}),c.jsx(ph,{children:E===D.id&&c.jsx(Zr.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:c.jsxs("div",{className:"border-t p-4",children:[c.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:D.comment}),D.response&&c.jsxs("div",{className:"mt-4 rounded-md border-l-4 border-primary-400 bg-primary-50 p-3",children:[c.jsx("p",{className:"font-semibold text-primary-800",children:"Response from Rush Coffee:"}),c.jsxs("p",{className:"mt-1 text-sm text-primary-700 italic",children:['"',D.response,'"']})]}),c.jsx("div",{className:"mt-3",children:c.jsx(nn,{className:`capitalize ${O[D.status]}`,children:D.status})})]})})})]},D.id))}):c.jsxs("div",{className:"py-10 text-center text-gray-500",children:[c.jsx(Pl,{className:"mx-auto h-12 w-12 text-gray-300"}),c.jsx("p",{className:"mt-2 font-semibold",children:"No feedback history found."}),c.jsx("p",{className:"text-sm",children:"Share your thoughts with us using the form!"})]})]})}),c.jsx("div",{children:c.jsxs(He,{children:[c.jsx("h2",{className:"mb-4 font-display text-2xl font-bold text-coffee-900",children:"Leave Feedback"}),c.jsxs("form",{onSubmit:R,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Overall Rating"}),c.jsx(om,{rating:e,onRatingChange:t})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),c.jsxs("select",{id:"category",value:r,onChange:D=>a(D.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[c.jsx("option",{value:"food",children:"Food & Drinks"}),c.jsx("option",{value:"service",children:"Service"}),c.jsx("option",{value:"system",children:"App/Website"}),c.jsx("option",{value:"other",children:"Other"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700",children:"Comments"}),c.jsx("textarea",{id:"comment",value:l,onChange:D=>h(D.target.value),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Tell us more about your experience..."})]}),c.jsxs(ut,{type:"submit",disabled:d,className:"w-full",children:[d?c.jsx(rn,{className:"mr-2 h-4 w-4 animate-spin"}):c.jsx(S0,{className:"mr-2 h-4 w-4"}),d?"Submitting...":"Submit Feedback"]})]})]})})]})},J2=()=>c.jsx(He,{className:"animate-pulse",children:c.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("div",{className:"flex-grow space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"h-4 w-1/3 rounded bg-gray-300"}),c.jsx("div",{className:"h-5 w-1/4 rounded-full bg-gray-300"})]}),c.jsx("div",{className:"h-3 w-1/4 rounded bg-gray-300"}),c.jsx("div",{className:"h-4 w-1/2 rounded bg-gray-300"})]}),c.jsxs("div",{className:"flex-shrink-0 space-y-2 text-right sm:ml-4",children:[c.jsx("div",{className:"h-8 w-24 rounded bg-gray-300 ml-auto"}),c.jsx("div",{className:"h-8 w-28 rounded-full bg-gray-300 ml-auto"})]})]})}),$z=()=>{const{currentUser:n,updateUserProfile:e,updateUserPhoto:t}=ys(),{orderHistory:r,isHistoryLoading:a}=uv(),[l,h]=N.useState(null),[d,m]=N.useState("overview"),[g,x]=N.useState(!1),[v,w]=N.useState(!1),[E,j]=N.useState(null),[k,R]=N.useState(null),[O,D]=N.useState(!1),U=N.useRef(null),{showToast:H,addToCart:K}=Ln();N.useEffect(()=>{h(n)},[n]),N.useEffect(()=>{if(!E){R(null);return}const me=URL.createObjectURL(E);return R(me),()=>URL.revokeObjectURL(me)},[E]);const ie=N.useMemo(()=>l?aA.find(me=>me.id==="cb-01"):null,[l]),I=me=>{l&&e&&(e(me),x(!1))},A=me=>{l&&h(Me=>Me?{...Me,preferences:{...Me.preferences,...me}}:null)},M=me=>{if(me.target.files&&me.target.files[0]){if(me.target.files[0].size>2*1024*1024){H("File size should not exceed 2MB.");return}j(me.target.files[0])}},V=()=>{if(!E||!l||!t)return;D(!0);const me=new FileReader;me.readAsDataURL(E),me.onloadend=async()=>{const Me=me.result;try{await t(Me),D(!1),w(!1),j(null),H("Profile photo updated!")}catch(Z){console.error("Error updating photo:",Z),H("Failed to update photo."),D(!1)}}},L=()=>{ie&&K(ie,ie.sizes[0])};if(!l)return c.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50",children:c.jsx(rn,{className:"h-12 w-12 animate-spin text-primary-600"})});const F=[{id:"overview",label:"Overview",Icon:Yr},{id:"orders",label:"Order History",Icon:j0},{id:"feedback",label:"My Feedback",Icon:Pl},{id:"settings",label:"Settings",Icon:A0}],P=()=>{switch(d){case"orders":return a?c.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((me,Me)=>c.jsx(J2,{},Me))}):c.jsx(X2,{orders:r});case"settings":return c.jsx(Fz,{preferences:l.preferences,onUpdatePreferences:A});case"feedback":return c.jsx(Gz,{user:l});case"overview":default:return c.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[c.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[g?c.jsx(Lz,{user:l,onSave:I,onCancel:()=>x(!1)}):c.jsxs(He,{children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"font-display text-xl font-bold text-coffee-900",children:"Quick Info"}),c.jsxs(ut,{variant:"ghost",size:"sm",onClick:()=>x(!0),children:[c.jsx(NE,{className:"mr-2 h-4 w-4"})," Edit Profile"]})]}),c.jsxs("ul",{className:"mt-4 space-y-3 text-gray-700",children:[c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(Gr,{className:"h-5 w-5 text-gray-400"})," ",l.email]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx($r,{className:"h-5 w-5 text-gray-400"})," ",l.phone||"Not provided"]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(yE,{className:"h-5 w-5 text-gray-400"})," Member since ",qm(l.createdAt,"MMMM dd, yyyy")]})]})]}),a?c.jsxs(He,{children:[c.jsx("h3",{className:"font-display text-xl font-bold text-coffee-900",children:"Recent Orders"}),c.jsx("div",{className:"mt-4 space-y-4",children:Array.from({length:3}).map((me,Me)=>c.jsx(J2,{},Me))})]}):c.jsx(X2,{orders:r,limit:3,showViewAll:!0,onViewAll:()=>m("orders")})]}),c.jsxs("div",{className:"space-y-6 lg:col-span-1",children:[ie&&c.jsxs(He,{children:[c.jsx("h3",{className:"font-display text-xl font-bold text-coffee-900",children:"Your Favorite"}),c.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[c.jsx("img",{src:ie.imageUrl,alt:ie.name,className:"h-20 w-20 rounded-lg object-cover"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-800",children:ie.name}),c.jsx("p",{className:"text-sm text-gray-500",children:ie.category}),c.jsx(ut,{size:"sm",variant:"secondary",className:"mt-2",onClick:L,children:"Order Again"})]})]})]}),c.jsxs(He,{children:[c.jsx("h3",{className:"font-display text-xl font-bold text-coffee-900",children:"Quick Stats"}),c.jsxs("ul",{className:"mt-4 space-y-3 text-gray-700",children:[c.jsxs("li",{className:"flex justify-between",children:[c.jsx("span",{children:"Orders this week:"})," ",c.jsx("span",{className:"font-bold",children:"5"})]}),c.jsxs("li",{className:"flex justify-between",children:[c.jsx("span",{children:"Orders this month:"})," ",c.jsx("span",{className:"font-bold",children:"12"})]}),c.jsxs("li",{className:"flex justify-between",children:[c.jsx("span",{children:"Total Savings:"})," ",c.jsx("span",{className:"font-bold text-green-600",children:"250.00"})]})]})]})]})]})}};return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx(Kt,{}),c.jsxs("main",{children:[c.jsx(Vz,{user:l,onEditPhoto:()=>w(!0)}),c.jsx("div",{className:"sticky top-20 z-30 border-b border-gray-200 bg-white/95 backdrop-blur-sm",children:c.jsx("div",{className:"container mx-auto max-w-7xl px-6",children:c.jsx("nav",{className:"-mb-px flex space-x-6 overflow-x-auto",children:F.map(me=>c.jsxs("button",{onClick:()=>m(me.id),className:`group inline-flex shrink-0 items-center gap-2 whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium transition-colors ${d===me.id?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:[c.jsx(me.Icon,{className:`h-5 w-5 ${d!==me.id&&"text-gray-400 group-hover:text-gray-500"}`}),me.label]},me.id))})})}),c.jsx("div",{className:"container mx-auto max-w-7xl p-6",children:P()})]}),c.jsx(Wt,{}),c.jsx(Ml,{isOpen:v,onClose:()=>w(!1),title:"Upload New Photo",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("input",{type:"file",ref:U,onChange:M,accept:"image/*",className:"hidden"}),c.jsx("div",{className:"flex cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-6 text-center transition hover:bg-gray-100",onClick:()=>U.current?.click(),children:k?c.jsx("img",{src:k,alt:"Preview",className:"h-32 w-32 rounded-full object-cover"}):c.jsxs(c.Fragment,{children:[c.jsx(Ww,{className:"h-12 w-12 text-gray-400"}),c.jsx("span",{className:"mt-2 block text-sm font-semibold text-gray-600",children:"Click to upload"}),c.jsx("span",{className:"mt-1 block text-xs text-gray-500",children:"PNG or JPG (MAX. 2MB)"})]})}),O&&c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:c.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full animate-pulse",style:{width:"100%"}})}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx(ut,{variant:"ghost",onClick:()=>w(!1),children:"Cancel"}),c.jsxs(ut,{onClick:V,disabled:!E||O,children:[O?c.jsx(rn,{className:"mr-2 h-4 w-4 animate-spin"}):c.jsx(Ww,{className:"mr-2 h-4 w-4"}),"Upload Photo"]})]})]})})]})},Yz=(n,e=2e3)=>{const[t,r]=N.useState(0),a=N.useRef(null),l=n%1!==0?1:0;return N.useEffect(()=>{const h=new IntersectionObserver(([m])=>{if(m.isIntersecting){let g=0;const x=n;if(g===x){r(x);return}const v=Math.round(e/(1e3/60)),w=(x-g)/v,E=()=>{g+=w,g<x?(r(g),requestAnimationFrame(E)):r(x)};requestAnimationFrame(E),h.disconnect()}},{threshold:.1}),d=a.current;return d&&h.observe(d),()=>{d&&h.unobserve(d)}},[n,e]),{count:t.toFixed(l),ref:a}},cf=({icon:n,value:e,label:t,suffix:r=""})=>{const{count:a,ref:l}=Yz(e),h=a.includes(".");return c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx(n,{className:"mb-2 h-10 w-10 text-primary-600"}),c.jsxs("span",{ref:l,className:"font-display text-4xl font-bold text-coffee-900",children:[Number(a).toLocaleString(void 0,{minimumFractionDigits:h?1:0,maximumFractionDigits:h?1:0}),r]}),c.jsx("p",{className:"mt-1 text-gray-600",children:t})]})},Qz=()=>c.jsxs("div",{className:"bg-white",children:[c.jsx(Kt,{}),c.jsxs("main",{children:[c.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-primary-50 via-coffee-100 to-white px-6 py-24 text-center",children:[c.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/az-subtle.png')] opacity-30"}),c.jsxs("div",{className:"relative z-10 mx-auto max-w-4xl",children:[c.jsx("h1",{className:"animate-fade-in-up font-display text-5xl font-bold text-coffee-900 md:text-6xl",style:{animationDelay:"100ms",opacity:0},children:"About Rush Coffee"}),c.jsx("p",{className:"animate-fade-in-up mt-4 text-xl text-gray-700 md:text-2xl",style:{animationDelay:"300ms",opacity:0},children:"More than just coffee, it's a revolution in your daily ritual."})]})]}),c.jsx("section",{className:"px-6 py-20",children:c.jsxs("div",{className:"container mx-auto grid max-w-7xl items-center gap-12 md:grid-cols-2",children:[c.jsxs("div",{className:"animate-fade-in-up",children:[c.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"Our Story"}),c.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"Founded in 2023 by a group of passionate coffee aficionados and tech enthusiasts, Rush Coffee was born from a simple yet powerful idea: your coffee break should be a moment of joy, not a test of patience."}),c.jsx("p",{className:"mt-4 text-gray-600",children:"We saw the long lines, the rushed orders, and the precious minutes slipping away from people's days. Our mission became clear: to blend the rich tradition of artisanal coffee with the seamless efficiency of modern technology. We're not just serving coffee; we're giving you back your time, one perfectly brewed cup at a time."})]}),c.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"200ms",opacity:0},children:c.jsx("img",{src:"https://images.unsplash.com/photo-1559925393-8be0ec4767c8?q=80&w=1200",alt:"Inside Rush Coffee shop",className:"h-80 w-full rounded-lg object-cover shadow-xl"})})]})}),c.jsx("section",{className:"bg-gray-50 px-6 py-20",children:c.jsxs("div",{className:"container mx-auto max-w-7xl",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"What We Stand For"}),c.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-gray-600",children:"Our core values guide every bean we roast and every line of code we write."})]}),c.jsxs("div",{className:"mt-12 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-4",children:[c.jsxs(He,{hover:!0,className:"text-center",children:[c.jsx(Ms,{className:"mx-auto mb-4 h-12 w-12 text-primary-600"}),c.jsx("h3",{className:"font-display text-xl font-semibold text-coffee-900",children:"Quality"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"From ethically sourced, premium beans to the perfect extraction, excellence is in every cup."})]}),c.jsxs(He,{hover:!0,className:"text-center",children:[c.jsx(nM,{className:"mx-auto mb-4 h-12 w-12 text-primary-600"}),c.jsx("h3",{className:"font-display text-xl font-semibold text-coffee-900",children:"Speed"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Our digital queue system ensures your order is ready when you are. Fast, efficient, and always fresh."})]}),c.jsxs(He,{hover:!0,className:"text-center",children:[c.jsx(Rf,{className:"mx-auto mb-4 h-12 w-12 text-primary-600"}),c.jsx("h3",{className:"font-display text-xl font-semibold text-coffee-900",children:"Community"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"We're more than a coffee shop; we're a hub for connection, creativity, and caffeine lovers."})]}),c.jsxs(He,{hover:!0,className:"text-center",children:[c.jsx(d6,{className:"mx-auto mb-4 h-12 w-12 text-primary-600"}),c.jsx("h3",{className:"font-display text-xl font-semibold text-coffee-900",children:"Innovation"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Continuously improving your experience by thoughtfully integrating technology with tradition."})]})]})]})}),c.jsx("section",{className:"bg-white px-6 py-20",children:c.jsx("div",{className:"container mx-auto max-w-7xl",children:c.jsxs("div",{className:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-4",children:[c.jsx(cf,{icon:Rf,value:1e4,label:"Happy Customers",suffix:"+"}),c.jsx(cf,{icon:Ms,value:5e4,label:"Coffees Served",suffix:"+"}),c.jsx(cf,{icon:SE,value:4.9,label:"Average Rating"}),c.jsx(cf,{icon:Z6,value:5,label:"Minutes Average Wait"})]})})}),c.jsx("section",{className:"bg-gray-50 px-6 py-20",children:c.jsxs("div",{className:"container mx-auto grid max-w-7xl items-center gap-12 lg:grid-cols-2",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"Visit Us"}),c.jsx("p",{className:"mt-4 text-gray-600",children:"Experience the Rush Coffee difference in person. We're ready to serve you."}),c.jsxs("ul",{className:"mt-6 space-y-4",children:[c.jsxs("li",{className:"flex items-start gap-4",children:[c.jsx(E0,{className:"mt-1 h-6 w-6 flex-shrink-0 text-primary-600"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-coffee-900",children:"Address"}),c.jsx("p",{className:"text-gray-600",children:"123 Coffee Street, Malate, Manila, 1004 Metro Manila"})]})]}),c.jsxs("li",{className:"flex items-start gap-4",children:[c.jsx(hm,{className:"mt-1 h-6 w-6 flex-shrink-0 text-primary-600"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-coffee-900",children:"Operating Hours"}),c.jsx("p",{className:"text-gray-600",children:"Monday - Friday: 7:00 AM - 8:00 PM"}),c.jsx("p",{className:"text-gray-600",children:"Saturday - Sunday: 8:00 AM - 6:00 PM"})]})]}),c.jsxs("li",{className:"flex items-start gap-4",children:[c.jsx($r,{className:"mt-1 h-6 w-6 flex-shrink-0 text-primary-600"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-coffee-900",children:"Contact"}),c.jsx("a",{href:"tel:+639171234567",className:"text-primary-600 transition hover:text-primary-700",children:"+63 917 123 4567"})]})]})]}),c.jsx(ut,{size:"lg",className:"mt-8",children:"Get Directions"})]}),c.jsx("div",{className:"h-96 overflow-hidden rounded-lg shadow-xl",children:c.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gray-300 bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1552526881-72f220377224?q=80&w=1200')"},children:c.jsx("span",{className:"rounded bg-white/80 px-4 py-2 font-semibold text-gray-700 backdrop-blur-sm",children:"[Google Maps Placeholder]"})})})]})}),c.jsxs("section",{className:"relative bg-gradient-to-r from-primary-600 via-coffee-600 to-primary-700 px-6 py-20",children:[c.jsx("div",{className:"absolute -left-1/4 -top-1/4 opacity-10",children:c.jsx(sn,{className:"h-64 w-64 animate-float text-white"})}),c.jsx("div",{className:"absolute -bottom-1/4 -right-1/4 opacity-10",children:c.jsx(sn,{className:"h-80 w-80 animate-float-delay text-white"})}),c.jsxs("div",{className:"relative z-10 mx-auto max-w-4xl text-center",children:[c.jsx("h2",{className:"font-display text-4xl font-bold text-white md:text-5xl",children:"Ready to Experience the Rush?"}),c.jsx("p",{className:"mb-8 mt-4 text-xl text-primary-100",children:"Join thousands of customers who've already skipped the line."}),c.jsx(lt,{to:"/menu",children:c.jsxs(ut,{size:"lg",className:"bg-white text-primary-600 transition-transform hover:scale-105 hover:bg-primary-50",children:["Order Now ",c.jsx(bl,{className:"ml-2 h-5 w-5"})]})})]})]})]}),c.jsx(Wt,{})]}),Kz=[{question:"What are your operating hours?",answer:"We are open Monday to Friday from 7:00 AM to 8:00 PM, and Saturday to Sunday from 8:00 AM to 6:00 PM."},{question:"How does the digital queue system work?",answer:"Simply place your order through our app or website. You'll be added to our virtual queue and receive real-time updates on your order status, including your position and estimated wait time. You'll get a notification when it's ready for pickup!"},{question:"Can I customize my drink?",answer:"Absolutely! Most of our drinks can be customized. You can choose your milk, sweetness level, add extra shots, and more right from the order page."},{question:"Do you offer catering services for events?",answer:"Yes, we do! We offer a range of catering options for meetings, parties, and events. Please use the contact form and select 'Partnership' as the subject to discuss your needs with us."},{question:"How do I earn and redeem rewards points?",answer:"You earn points with every purchase made through your account. You can view your points balance and redeem available rewards on the 'Rewards' page in the app."}],Wz=({question:n,answer:e,isOpen:t,onClick:r})=>c.jsxs("div",{className:"border-b border-gray-200",children:[c.jsxs("button",{onClick:r,className:"flex w-full items-center justify-between py-4 text-left text-lg font-medium text-gray-800 focus:outline-none",children:[c.jsx("span",{children:n}),c.jsx(Ku,{className:`h-6 w-6 transform transition-transform duration-300 ${t?"rotate-180":""}`})]}),c.jsx(ph,{children:t&&c.jsx(Zr.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:c.jsx("p",{className:"pb-4 text-gray-600",children:e})})})]}),uf=({icon:n,title:e,children:t})=>c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"mt-1 flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-primary-100",children:c.jsx(n,{className:"h-6 w-6 text-primary-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-display text-xl font-bold text-coffee-900",children:e}),t]})]}),Xz=()=>{const[n,e]=N.useState(0),[t,r]=N.useState({name:"",email:"",phone:"",subject:"",message:""}),[a,l]=N.useState({}),[h,d]=N.useState(!1),[m,g]=N.useState(!1),x=()=>{const E={};return t.name.length<2&&(E.name="Name must be at least 2 characters."),/\S+@\S+\.\S+/.test(t.email)||(E.email="Please enter a valid email address."),t.subject||(E.subject="Please select a subject."),t.message.length<10&&(E.message="Message must be at least 10 characters."),l(E),Object.keys(E).length===0},v=E=>{E.preventDefault(),x()&&(d(!0),g(!1),setTimeout(()=>{d(!1),g(!0),r({name:"",email:"",phone:"",subject:"",message:""}),setTimeout(()=>g(!1),5e3)},1500))},w=E=>{r({...t,[E.target.name]:E.target.value})};return c.jsxs("div",{className:"bg-white",children:[c.jsx(Kt,{}),c.jsxs("main",{children:[c.jsxs("section",{className:"bg-gradient-to-br from-primary-50 to-coffee-50 px-6 py-20 text-center",children:[c.jsx("h1",{className:"font-display text-5xl font-bold text-coffee-900 md:text-6xl",children:"Get in Touch"}),c.jsx("p",{className:"mt-4 text-xl text-gray-700",children:"We're here to help and answer any question you might have."})]}),c.jsx("section",{className:"px-6 py-20",children:c.jsxs("div",{className:"container mx-auto grid max-w-7xl gap-12 lg:grid-cols-5",children:[c.jsx("div",{className:"lg:col-span-3",children:c.jsxs(He,{className:"p-8",children:[c.jsx("h2",{className:"font-display text-3xl font-bold text-coffee-900",children:"Send us a Message"}),m&&c.jsxs("div",{className:"mt-4 flex items-center gap-2 rounded-lg bg-green-50 p-4 text-green-700",children:[c.jsx(vE,{className:"h-5 w-5"}),c.jsx("p",{children:"Thanks for your message! We'll get back to you soon."})]}),c.jsxs("form",{onSubmit:v,className:"mt-6 space-y-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("label",{htmlFor:"name",className:"sr-only",children:"Name"}),c.jsx(Yr,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",name:"name",id:"name",value:t.name,onChange:w,placeholder:"Full Name",required:!0,className:"w-full rounded-md border-gray-300 py-3 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),a.name&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.name})]}),c.jsxs("div",{className:"relative",children:[c.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),c.jsx(Gr,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"email",name:"email",id:"email",value:t.email,onChange:w,placeholder:"Email Address",required:!0,className:"w-full rounded-md border-gray-300 py-3 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),a.email&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.email})]}),c.jsxs("div",{className:"relative",children:[c.jsx("label",{htmlFor:"phone",className:"sr-only",children:"Phone"}),c.jsx($r,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"tel",name:"phone",id:"phone",value:t.phone,onChange:w,placeholder:"Phone Number (Optional)",className:"w-full rounded-md border-gray-300 py-3 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("label",{htmlFor:"subject",className:"sr-only",children:"Subject"}),c.jsx(t6,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),c.jsxs("select",{name:"subject",id:"subject",value:t.subject,onChange:w,required:!0,className:"w-full appearance-none rounded-md border-gray-300 bg-white py-3 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[c.jsx("option",{value:"",disabled:!0,children:"Select a subject..."}),c.jsx("option",{children:"General Inquiry"}),c.jsx("option",{children:"Feedback"}),c.jsx("option",{children:"Partnership"}),c.jsx("option",{children:"Support"})]}),a.subject&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.subject})]}),c.jsxs("div",{className:"relative",children:[c.jsx("label",{htmlFor:"message",className:"sr-only",children:"Message"}),c.jsx(Pl,{className:"absolute left-3 top-4 h-5 w-5 text-gray-400"}),c.jsx("textarea",{name:"message",id:"message",value:t.message,onChange:w,placeholder:"Your Message",rows:5,required:!0,className:"w-full rounded-md border-gray-300 py-3 pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),a.message&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.message})]}),c.jsxs(ut,{type:"submit",size:"lg",disabled:h,className:"w-full",children:[h?c.jsx(rn,{className:"mr-2 h-5 w-5 animate-spin"}):c.jsx(S0,{className:"mr-2 h-5 w-5"}),h?"Sending...":"Send Message"]})]})]})}),c.jsxs("div",{className:"space-y-8 lg:col-span-2",children:[c.jsxs(uf,{icon:E0,title:"Visit Us",children:[c.jsx("p",{className:"mt-1 text-gray-600",children:"123 Coffee Street, Malate, Manila"}),c.jsx(ut,{variant:"secondary",size:"sm",className:"mt-2",children:"Get Directions"})]}),c.jsxs(uf,{icon:$r,title:"Call Us",children:[c.jsx("a",{href:"tel:+639171234567",className:"mt-1 text-primary-600 transition hover:text-primary-700",children:"+63 917 123 4567"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Mon-Sun: 7AM - 8PM"})]}),c.jsxs(uf,{icon:Gr,title:"Email Us",children:[c.jsx("a",{href:"mailto:hello@rushcoffee.ph",className:"mt-1 text-primary-600 transition hover:text-primary-700",children:"hello@rushcoffee.ph"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Responds within 24 hours"})]}),c.jsx(uf,{icon:U6,title:"Follow Us",children:c.jsxs("div",{className:"mt-2 flex gap-4",children:[c.jsx("a",{href:"#","aria-label":"Facebook",className:"text-gray-500 transition hover:text-primary-600",children:c.jsx(bE,{})}),c.jsx("a",{href:"#","aria-label":"Instagram",className:"text-gray-500 transition hover:text-primary-600",children:c.jsx(wE,{})}),c.jsx("a",{href:"#","aria-label":"Twitter",className:"text-gray-500 transition hover:text-primary-600",children:c.jsx(jE,{})})]})})]})]})}),c.jsx("section",{className:"bg-gray-50 px-6 py-20",children:c.jsxs("div",{className:"container mx-auto max-w-4xl",children:[c.jsx("h2",{className:"text-center font-display text-3xl font-bold text-coffee-900 md:text-4xl",children:"Frequently Asked Questions"}),c.jsx("div",{className:"mt-8",children:Kz.map((E,j)=>c.jsx(Wz,{...E,isOpen:n===j,onClick:()=>e(n===j?null:j)},j))})]})}),c.jsx("section",{children:c.jsx("div",{className:"h-96 w-full bg-gray-300 flex items-center justify-center",children:c.jsx("p",{className:"text-gray-600 font-semibold",children:"[Google Maps Embed Placeholder]"})})})]}),c.jsx(Wt,{})]})},Gj=[{category:"Ordering & Queue",question:"How do I join the virtual queue?",answer:"Simply place an order through our website or app. You'll automatically join the queue and receive your position number."},{category:"Ordering & Queue",question:"Can I see my queue position in real-time?",answer:"Yes! Your queue page updates in real-time showing your current position and estimated wait time."},{category:"Ordering & Queue",question:"What happens if I miss my turn?",answer:"Don't worry! You have a 10-minute grace period to pick up your order once it's ready. After that, your order will be held for you, but you may need to wait briefly if we are busy."},{category:"Ordering & Queue",question:"Can I cancel my order?",answer:"Yes, you can cancel an order directly from your order history as long as its status is still 'waiting'. Once it moves to 'preparing', it can no longer be canceled. Refunds for successful cancellations are processed within 3-5 business days."},{category:"Payments",question:"What payment methods do you accept?",answer:"We currently accept GCash for pre-payment and cash on pickup. We are working on adding more digital payment options soon!"},{category:"Payments",question:"Is it safe to pay via GCash?",answer:"Absolutely! We use a secure payment process, and your payment information is encrypted and handled safely."},{category:"Payments",question:"Do I need to pay upfront?",answer:"For GCash payments, yes, payment is required upon placing the order. For cash payments, you can pay at the counter when you pick up your order."},{category:"Rewards",question:"How do I earn rewards points?",answer:"You earn points with every purchase made through your Rush Coffee account! The current rate is 1 point for every 10 spent. Keep an eye out for special promotions to earn bonus points."},{category:"Rewards",question:"When do my points expire?",answer:"Good news - your points never expire! You can save them up for as long as you like and redeem them for rewards whenever you're ready."},{category:"Rewards",question:"What are the tier benefits?",answer:"We have three tiers! Bronze (0-299pts): Earn 1x points. Silver (300-999pts): Earn 1.5x points and get access to exclusive silver rewards. Gold (1000+pts): Earn 2x points, get VIP perks, and early access to new items."},{category:"Account",question:"Do I need an account to order?",answer:"Yes, creating an account is necessary. It allows us to manage your orders in the queue, track your rewards points, and save your preferences for a faster checkout next time."},{category:"Account",question:"How do I reset my password?",answer:"On the login page, click the 'Forgot your password?' link. We'll send a password reset link to the email address associated with your account."},{category:"Account",question:"Can I change my email address?",answer:"To update the email address on your account, please contact our support team at hello@rushcoffee.ph, and we'll be happy to assist you."},{category:"Technical",question:"The website isn't working correctly. What should I do?",answer:"First, try refreshing the page. If that doesn't work, clearing your browser's cache and cookies often resolves the issue. If you're still experiencing problems, please contact our support team with details about the issue."},{category:"Technical",question:"Do you have a mobile app?",answer:"A dedicated mobile app for iOS and Android is currently in development and will be launching soon! For now, our website is fully responsive and works great on all mobile browsers."},{category:"General",question:"What are your operating hours?",answer:"We're open Monday to Sunday, from 7:00 AM to 10:00 PM. Hours may vary on public holidays."},{category:"General",question:"Do you offer WiFi in your store?",answer:"Yes, we offer complimentary high-speed WiFi for all our customers. Just ask our staff for the network details."},{category:"General",question:"Can I customize my drink?",answer:"Absolutely! You can customize aspects like milk type, sweetness level, add extra espresso shots, and choose from various syrups and toppings directly on the product page before adding an item to your cart."}],Jz=["All",...Array.from(new Set(Gj.map(n=>n.category)))],Zz=({question:n,answer:e,isOpen:t,onClick:r,highlight:a})=>{const l=(h,d)=>{if(!d.trim())return h;const m=new RegExp(`(${d})`,"gi");return h.split(m).map((g,x)=>m.test(g)?c.jsx("mark",{className:"bg-primary-100 text-primary-700 rounded-sm",children:g},x):g)};return c.jsxs("div",{className:"border-b border-gray-200",children:[c.jsxs("button",{onClick:r,className:"flex w-full items-center justify-between py-5 text-left text-lg font-medium text-gray-800 focus:outline-none focus:bg-gray-50 rounded-md",children:[c.jsx("span",{className:"flex-1 pr-4",children:l(n,a)}),c.jsx(Ku,{className:`h-6 w-6 transform text-primary-600 transition-transform duration-300 ${t?"rotate-180":""}`})]}),c.jsx(ph,{children:t&&c.jsx(Zr.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:c.jsx("div",{className:"pb-5 pr-6 text-gray-600 leading-relaxed",children:l(e,a)})})})]})},eB=()=>{const[n,e]=N.useState(""),[t,r]=N.useState("All"),[a,l]=N.useState(0),h=N.useMemo(()=>Gj.filter(d=>{const m=t==="All"||d.category===t,g=n.trim()===""||d.question.toLowerCase().includes(n.toLowerCase())||d.answer.toLowerCase().includes(n.toLowerCase());return m&&g}),[n,t]);return c.jsxs("div",{className:"bg-white",children:[c.jsx(Kt,{}),c.jsxs("main",{children:[c.jsx("section",{className:"bg-gradient-to-br from-primary-50 to-coffee-50 px-6 py-16",children:c.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[c.jsx("h1",{className:"font-display text-5xl font-bold text-coffee-900 md:text-6xl",children:"Frequently Asked Questions"}),c.jsx("p",{className:"mt-4 text-xl text-gray-700",children:"Everything you need to know about Rush Coffee"}),c.jsxs("div",{className:"relative mx-auto mt-8 max-w-2xl",children:[c.jsx(Cf,{className:"absolute left-6 top-1/2 h-6 w-6 -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"search",placeholder:"Search for answers...",value:n,onChange:d=>e(d.target.value),className:"w-full rounded-full border border-gray-300 bg-white py-4 pl-16 pr-6 text-lg shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500"})]})]})}),c.jsx("div",{className:"sticky top-20 z-30 border-b border-gray-200 bg-white/95 py-3 backdrop-blur-sm",children:c.jsx("div",{className:"container mx-auto flex max-w-7xl gap-2 overflow-x-auto px-6 pb-2",children:Jz.map(d=>c.jsx("button",{onClick:()=>r(d),className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition-colors ${t===d?"bg-primary-600 text-white shadow":"border border-gray-300 bg-white text-gray-700 hover:bg-gray-100"}`,children:d},d))})}),c.jsx("section",{className:"px-6 py-16",children:c.jsx("div",{className:"container mx-auto max-w-4xl",children:h.length>0?c.jsxs("div",{children:[c.jsxs("p",{className:"mb-4 text-sm text-gray-500",children:[h.length," question(s) found"]}),h.map((d,m)=>c.jsx(Zz,{question:d.question,answer:d.answer,isOpen:a===m,onClick:()=>l(a===m?null:m),highlight:n},`${d.category}-${m}`))]}):c.jsxs("div",{className:"py-20 text-center",children:[c.jsx(Cf,{className:"mx-auto h-16 w-16 text-gray-300"}),c.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-800",children:"No Results Found"}),c.jsxs("p",{className:"mt-2 text-gray-500",children:[`We couldn't find any answers for "`,n,'". Try a different search term or category.']})]})})}),c.jsx("section",{className:"bg-gray-50 px-6 py-20",children:c.jsx("div",{className:"container mx-auto max-w-4xl",children:c.jsxs(He,{className:"text-center",children:[c.jsx(DI,{className:"mx-auto h-12 w-12 text-primary-600"}),c.jsx("h2",{className:"mt-4 font-display text-3xl font-bold text-coffee-900",children:"Still have questions?"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"If you can't find the answer you're looking for, please get in touch with our support team."}),c.jsx("div",{className:"mt-6 flex flex-col items-center justify-center gap-4 sm:flex-row",children:c.jsx(lt,{to:"/contact",children:c.jsxs(ut,{size:"lg",children:[c.jsx(_6,{className:"mr-2 h-5 w-5"}),"Contact Support"]})})})]})})})]}),c.jsx(Wt,{})]})},tB=({cartItems:n,isOpen:e,onClose:t,onUpdateQuantity:r,onRemoveItem:a,onCheckout:l})=>{const h=Ls(),d=n.reduce((x,v)=>x+v.quantity,0),m=n.reduce((x,v)=>x+v.selectedSize.price*v.quantity,0),g=()=>{t(),h("/menu")};return c.jsxs(c.Fragment,{children:[c.jsx("div",{onClick:t,className:`fixed inset-0 z-40 bg-black/50 transition-opacity duration-300 ${e?"opacity-100":"opacity-0 pointer-events-none"}`,"aria-hidden":"true"}),c.jsx("aside",{className:`fixed top-0 right-0 z-50 h-full w-full transform bg-white shadow-2xl transition-transform duration-300 ease-in-out sm:w-96 md:w-[450px] ${e?"translate-x-0":"translate-x-full"}`,role:"dialog","aria-modal":"true","aria-labelledby":"cart-heading",children:c.jsxs("div",{className:"flex h-full flex-col",children:[c.jsxs("header",{className:"flex items-center justify-between border-b border-gray-200 p-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("h2",{id:"cart-heading",className:"font-display text-xl font-bold text-coffee-900",children:"Your Order"}),d>0&&c.jsxs(nn,{children:[d," ",d===1?"item":"items"]})]}),c.jsx("button",{onClick:t,className:"rounded-md p-2 text-gray-500 transition-colors hover:bg-gray-100 hover:text-gray-800","aria-label":"Close cart",children:c.jsx(ei,{className:"h-6 w-6"})})]}),n.length===0?c.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-4 p-6 text-center",children:[c.jsx(sn,{className:"h-24 w-24 text-gray-300 opacity-50"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Your cart is empty"}),c.jsx("p",{className:"text-gray-500",children:"Looks like you haven't added anything yet."}),c.jsx("button",{onClick:g,className:"mt-4 rounded-full bg-primary-600 px-6 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-700",children:"Start Ordering"})]}):c.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:c.jsx("ul",{className:"-my-4 divide-y divide-gray-200",children:n.map(x=>c.jsxs("li",{className:"relative flex items-center gap-4 py-4",children:[c.jsx("div",{className:"h-16 w-16 flex-shrink-0 overflow-hidden rounded-md border border-gray-200",children:c.jsx("img",{src:x.product.imageUrl,alt:x.product.name,className:"h-full w-full object-cover object-center"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-semibold text-gray-800",children:x.product.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[x.selectedSize.name," - ",x.selectedSize.price.toFixed(2)]}),c.jsxs("div",{className:"mt-2 flex items-center",children:[c.jsx("button",{onClick:()=>r(x.id,x.quantity-1),disabled:x.quantity===1,className:"flex h-8 w-8 items-center justify-center rounded-full border border-gray-300 text-gray-600 transition hover:bg-gray-100 disabled:cursor-not-allowed disabled:opacity-50","aria-label":`Decrease quantity of ${x.product.name}`,children:c.jsx(TE,{className:"h-4 w-4"})}),c.jsx("span",{className:"w-12 text-center font-semibold text-gray-800","aria-live":"polite",children:x.quantity}),c.jsx("button",{onClick:()=>r(x.id,x.quantity+1),className:"flex h-8 w-8 items-center justify-center rounded-full border border-gray-300 text-gray-600 transition hover:bg-gray-100","aria-label":`Increase quantity of ${x.product.name}`,children:c.jsx(Wu,{className:"h-4 w-4"})})]})]}),c.jsxs("p",{className:"font-semibold text-gray-900",children:["",(x.selectedSize.price*x.quantity).toFixed(2)]}),c.jsx("button",{onClick:()=>a(x.id),className:"absolute top-4 right-0 p-1 text-gray-400 transition-colors hover:text-red-600","aria-label":`Remove ${x.product.name} from cart`,children:c.jsx(dm,{className:"h-5 w-5"})})]},x.id))})}),n.length>0&&c.jsxs("footer",{className:"mt-auto border-t border-gray-200 p-6",children:[c.jsxs("div",{className:"flex items-center justify-between text-lg font-semibold text-gray-900",children:[c.jsx("span",{children:"Subtotal"}),c.jsxs("span",{children:["",m.toFixed(2)]})]}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Taxes and service fee calculated at checkout."}),c.jsx("div",{className:"mt-6",children:c.jsxs("button",{onClick:l,disabled:n.length===0,className:"flex w-full items-center justify-center gap-2 rounded-full bg-primary-600 px-6 py-3 text-base font-semibold text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-gray-400",children:["Proceed to Checkout",c.jsx(bl,{className:"h-5 w-5"})]})})]})]})})]})},nB=()=>{const{pathname:n}=Vs();return N.useEffect(()=>{window.scrollTo(0,0)},[n]),null},sB=()=>{const{currentUser:n,loading:e}=ys(),t=Vs();return e?c.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-gray-50",children:c.jsx(rn,{className:"h-12 w-12 animate-spin text-primary-600"})}):n?n.role!=="admin"?c.jsx($w,{to:"/",replace:!0}):c.jsx(uE,{}):c.jsx($w,{to:"/auth/login",state:{from:t},replace:!0})},rB=()=>c.jsxs("div",{children:[c.jsx("h1",{className:"mb-6 font-display text-3xl font-bold text-gray-800",children:"Admin Dashboard"}),c.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[c.jsxs(He,{className:"flex items-center gap-4 p-6",children:[c.jsx("div",{className:"rounded-full bg-blue-100 p-3",children:c.jsx(YI,{className:"h-6 w-6 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Total Revenue"}),c.jsx("p",{className:"text-2xl font-bold text-gray-800",children:"12,450.00"})]})]}),c.jsxs(He,{className:"flex items-center gap-4 p-6",children:[c.jsx("div",{className:"rounded-full bg-green-100 p-3",children:c.jsx(Ms,{className:"h-6 w-6 text-green-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Orders Today"}),c.jsx("p",{className:"text-2xl font-bold text-gray-800",children:"78"})]})]}),c.jsxs(He,{className:"flex items-center gap-4 p-6",children:[c.jsx("div",{className:"rounded-full bg-yellow-100 p-3",children:c.jsx(Rf,{className:"h-6 w-6 text-yellow-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500",children:"New Customers"}),c.jsx("p",{className:"text-2xl font-bold text-gray-800",children:"12"})]})]}),c.jsxs(He,{className:"flex items-center gap-4 p-6",children:[c.jsx("div",{className:"rounded-full bg-purple-100 p-3",children:c.jsx(TI,{className:"h-6 w-6 text-purple-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Pending Orders"}),c.jsx("p",{className:"text-2xl font-bold text-gray-800",children:"5"})]})]})]}),c.jsx("div",{className:"mt-8",children:c.jsxs(He,{children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Sales Overview"}),c.jsx("div",{className:"mt-4 flex h-64 items-center justify-center bg-gray-100",children:c.jsx("p",{className:"text-gray-500",children:"[Chart Placeholder]"})})]})})]}),iB={waiting:{text:"Start Preparing",nextStatus:"preparing",color:"bg-blue-500 hover:bg-blue-600"},preparing:{text:"Mark as Ready",nextStatus:"ready",color:"bg-green-500 hover:bg-green-600"},ready:{text:"Complete Order",nextStatus:"completed",color:"bg-primary-600 hover:bg-primary-700"}},aB=({order:n,onUpdateStatus:e})=>{const t=iB[n.status],r=Hm(n.timestamp,{addSuffix:!0});return c.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm transition-shadow hover:shadow-md",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"font-mono text-sm font-bold text-primary-700",children:n.orderNumber}),c.jsxs("p",{className:"font-display text-lg font-bold text-gray-800",children:["",n.totalAmount.toFixed(2)]})]}),c.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Yr,{className:"h-4 w-4"}),c.jsx("span",{children:n.customerName})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(hm,{className:"h-4 w-4"}),c.jsx("span",{children:r})]})]}),c.jsx("div",{className:"mt-3 border-t pt-2",children:c.jsx("ul",{className:"text-xs text-gray-500",children:n.orderItems.map((a,l)=>c.jsxs("li",{children:[a.quantity,"x ",a.productName]},l))})}),t&&c.jsxs("button",{onClick:()=>e(n.id,t.nextStatus),className:`mt-4 flex w-full items-center justify-center gap-2 rounded-full px-4 py-2 text-sm font-semibold text-white shadow-sm transition-colors ${t.color}`,children:[c.jsx("span",{children:t.text}),t.nextStatus==="completed"?c.jsx(Ki,{className:"h-4 w-4"}):c.jsx(bl,{className:"h-4 w-4"})]})]})},oB={yellow:"border-yellow-400",blue:"border-blue-400",green:"border-green-400"},_y=({title:n,orders:e,onUpdateStatus:t,color:r})=>c.jsxs("div",{className:"flex flex-col rounded-lg bg-gray-100 p-4",children:[c.jsxs("h2",{className:`mb-4 border-b-4 pb-2 font-display text-xl font-bold text-gray-700 ${oB[r]}`,children:[n," ",c.jsxs("span",{className:"text-base font-medium text-gray-500",children:["(",e.length,")"]})]}),c.jsxs("div",{className:"flex-grow space-y-4 overflow-y-auto",children:[c.jsx(ph,{children:e.map(a=>c.jsx(Zr.div,{layout:!0,initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},children:c.jsx(aB,{order:a,onUpdateStatus:t})},a.id))}),e.length===0&&c.jsx("div",{className:"flex h-32 items-center justify-center text-sm text-gray-500",children:"No orders in this stage."})]})]}),lB=()=>{const[n,e]=N.useState([]),[t,r]=N.useState(!0),{showToast:a}=Ln();N.useEffect(()=>{const g=xr(Vn(Xe,"orders"),Sx("status","in",["waiting","preparing","ready"]),dh("timestamp","asc")),x=mh(g,v=>{const w=[];v.forEach(E=>{w.push({id:E.id,...E.data(),timestamp:E.data().timestamp.toDate()})}),e(w),r(!1)},v=>{console.error("Error fetching real-time orders: ",v),r(!1)});return()=>x()},[]);const l=async(g,x)=>{try{await fV(Xe,async v=>{const w=gn(Xe,"orders",g),E=await v.get(w);if(!E.exists())throw new Error("Order does not exist!");const j=E.data(),k=j.status;if(k==="waiting"&&x==="preparing")for(const R of j.orderItems){const O=gn(Xe,"products",R.productId),D=await v.get(O);if(D.exists()&&D.data().recipe)for(const U of D.data().recipe){const H=gn(Xe,"ingredients",U.ingredientId),K=U.quantity*R.quantity,ie=await v.get(H);if(!ie.exists())throw new Error(`Ingredient '${U.ingredientId}' not found.`);if(ie.data().stock<K)throw new Error(`Insufficient stock for '${ie.data().name}'.`);v.update(H,{stock:Wa(-K)})}}if(x==="completed"&&k!=="completed"){const R=gn(Xe,"users",j.userId),O=await v.get(R);if(O.exists()){const D=O.data();let U=1;D.tier==="silver"&&(U=1.5),D.tier==="gold"&&(U=2);const H=Math.floor(j.totalAmount/10)*U,K=D.lifetimePoints+H;let ie=D.tier;ie==="bronze"&&K>=p0.silver.min&&(ie="silver"),ie==="silver"&&K>=p0.gold.min&&(ie="gold");const I={id:`rh-${Date.now()}`,type:"earned",points:H,description:`Order #${j.orderNumber}`,date:new Date};v.update(R,{totalOrders:Wa(1),totalSpent:Wa(j.totalAmount),currentPoints:Wa(H),lifetimePoints:Wa(H),tier:ie,rewardsHistory:sA(I)})}}v.update(w,{status:x})})}catch(v){console.error("Error updating order status and stock: ",v),a(v.message||"Failed to update order. Please check inventory.")}},h=N.useMemo(()=>n.filter(g=>g.status==="waiting"),[n]),d=N.useMemo(()=>n.filter(g=>g.status==="preparing"),[n]),m=N.useMemo(()=>n.filter(g=>g.status==="ready"),[n]);return t?c.jsx("div",{className:"flex h-full items-center justify-center",children:c.jsx(rn,{className:"h-12 w-12 animate-spin text-primary-600"})}):c.jsxs("div",{children:[c.jsx("h1",{className:"mb-6 font-display text-3xl font-bold text-gray-800",children:"Live Order Queue"}),n.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border-2 border-dashed bg-gray-50 p-12 text-center",children:[c.jsx(Ms,{className:"h-16 w-16 text-gray-400"}),c.jsx("h2",{className:"mt-4 text-xl font-semibold text-gray-700",children:"No Active Orders"}),c.jsx("p",{className:"mt-1 text-gray-500",children:"New orders will appear here in real-time."})]}):c.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[c.jsx(_y,{title:"Waiting",orders:h,onUpdateStatus:l,color:"yellow"}),c.jsx(_y,{title:"Preparing",orders:d,onUpdateStatus:l,color:"blue"}),c.jsx(_y,{title:"Ready for Pickup",orders:m,onUpdateStatus:l,color:"green"})]})]})},cB=[{to:"/admin",text:"Dashboard",icon:u6},{to:"/admin/queue",text:"Queue Management",icon:UI},{to:"/admin/inventory",text:"Inventory",icon:S6},{to:"/admin/products",text:"Products",icon:Ms},{to:"/admin/feedback",text:"Feedback",icon:Pl},{to:"/admin/analytics",text:"Analytics",icon:xE},{to:"/admin/settings",text:"Settings",icon:A0}],uB=()=>c.jsxs("div",{className:"flex h-screen bg-gray-100",children:[c.jsxs("aside",{className:"hidden w-64 flex-shrink-0 bg-gray-800 p-4 text-white md:flex md:flex-col",children:[c.jsxs("div",{className:"mb-8 flex items-center gap-2 px-2",children:[c.jsx(sn,{className:"h-8 w-8 text-primary-400"}),c.jsx("span",{className:"text-xl font-bold text-white",children:"Admin Panel"})]}),c.jsx("nav",{className:"flex-grow",children:c.jsx("ul",{children:cB.map(({to:n,text:e,icon:t})=>c.jsx("li",{children:c.jsxs(ms,{to:n,end:n==="/admin",className:({isActive:r})=>`flex items-center gap-3 rounded-md px-3 py-2 transition-colors ${r?"bg-primary-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[c.jsx(t,{className:"h-5 w-5"}),c.jsx("span",{children:e})]})},n))})}),c.jsx("div",{className:"mt-auto text-center text-xs text-gray-400",children:c.jsxs("p",{children:[" ",new Date().getFullYear()," Rush Coffee"]})})]}),c.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[c.jsx("header",{className:"border-b bg-white shadow-sm",children:c.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[c.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Dashboard"}),c.jsx("div",{})]})}),c.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:c.jsx(uE,{})})]})]}),hB=({ingredient:n,onClose:e,onUpdate:t})=>{const[r,a]=N.useState("add"),[l,h]=N.useState(""),d=m=>{m.preventDefault(),typeof l=="number"&&l>=0&&t(n.id,l,r)};return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:e,children:c.jsxs("div",{className:"w-full max-w-md rounded-lg bg-white p-6 shadow-xl",onClick:m=>m.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h2",{className:"font-display text-xl font-bold text-gray-800",children:["Update Stock: ",n.name]}),c.jsx("button",{onClick:e,className:"rounded-full p-1 text-gray-500 hover:bg-gray-100",children:c.jsx(ei,{})})]}),c.jsx("div",{className:"mt-4 text-sm",children:c.jsxs("p",{children:["Current Stock: ",c.jsxs("span",{className:"font-bold",children:[n.stock.toLocaleString()," ",n.unit]})]})}),c.jsxs("form",{onSubmit:d,className:"mt-6",children:[c.jsxs("div",{className:"flex gap-2 rounded-full bg-gray-100 p-1",children:[c.jsx("button",{type:"button",onClick:()=>a("add"),className:`w-full rounded-full py-2 text-sm font-semibold transition-colors ${r==="add"?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:"Add Stock"}),c.jsx("button",{type:"button",onClick:()=>a("set"),className:`w-full rounded-full py-2 text-sm font-semibold transition-colors ${r==="set"?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:"Set New Total"})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:r==="add"?`Amount to Add (${n.unit})`:`New Total Stock (${n.unit})`}),c.jsx("input",{type:"number",id:"amount",value:l,onChange:m=>h(m.target.value===""?"":Number(m.target.value)),min:"0",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0,autoFocus:!0})]}),c.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:e,className:"rounded-full bg-gray-200 px-4 py-2 text-sm font-semibold text-gray-800 hover:bg-gray-300",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"flex items-center gap-2 rounded-full bg-primary-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-700 disabled:bg-primary-400",disabled:l===""||l<0,children:[c.jsx(N0,{className:"h-4 w-4"}),"Update Stock"]})]})]})]})})},dB=[{name:"Espresso Shot",stock:1e3,unit:"pcs",lowStockThreshold:100},{name:"Milk",stock:2e4,unit:"ml",lowStockThreshold:2e3},{name:"Condensed Milk",stock:5e3,unit:"ml",lowStockThreshold:500},{name:"Coffee Beans (Blend)",stock:1e4,unit:"g",lowStockThreshold:1e3},{name:"Hot Water",stock:99999,unit:"ml",lowStockThreshold:1e4},{name:"Chocolate Sauce",stock:3e3,unit:"ml",lowStockThreshold:300},{name:"Caramel Sauce",stock:3e3,unit:"ml",lowStockThreshold:300},{name:"Matcha Powder",stock:2e3,unit:"g",lowStockThreshold:200}],fB=()=>{const[n,e]=N.useState([]),[t,r]=N.useState(!0),[a,l]=N.useState(!1),[h,d]=N.useState(null);N.useEffect(()=>{const w=async()=>{const j=Vn(Xe,"ingredients");if((await sa(xr(j))).empty){console.log("Seeding ingredients...");const D=dB.map(U=>fh(j,U));await Promise.all(D)}const R=xr(Vn(Xe,"ingredients"),dh("name","asc"));return mh(R,D=>{const U=[];D.forEach(H=>{U.push({id:H.id,...H.data()})}),e(U),r(!1)},D=>{console.error("Error fetching inventory: ",D),r(!1)})};let E;return w().then(j=>{j&&(E=j)}),()=>{E&&E()}},[]);const m=w=>{d(w),l(!0)},g=()=>{l(!1),d(null)},x=async(w,E,j)=>{const k=gn(Xe,"ingredients",w);try{j==="add"?await ra(k,{stock:Wa(E)}):await ra(k,{stock:E}),g()}catch(R){console.error("Error updating stock: ",R)}},v=w=>w.stock<=0?{text:"Out of Stock",color:"text-red-600",Icon:PI}:w.stock<=w.lowStockThreshold?{text:"Low Stock",color:"text-yellow-600",Icon:AE}:{text:"In Stock",color:"text-green-600",Icon:vE};return t?c.jsx("div",{className:"flex h-full items-center justify-center",children:c.jsx(rn,{className:"h-12 w-12 animate-spin text-primary-600"})}):c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h1",{className:"font-display text-3xl font-bold text-gray-800",children:"Inventory Management"}),c.jsxs("button",{className:"flex items-center gap-2 rounded-full bg-primary-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-700",children:[c.jsx(Wu,{className:"h-4 w-4"}),"Add Ingredient"]})]}),c.jsx("div",{className:"overflow-x-auto rounded-lg border bg-white shadow-sm",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Ingredient"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Current Stock"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),c.jsx("th",{scope:"col",className:"relative px-6 py-3",children:c.jsx("span",{className:"sr-only",children:"Edit"})})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:n.map(w=>{const E=v(w);return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:c.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.name})}),c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:c.jsxs("div",{className:"text-sm text-gray-900",children:[w.stock.toLocaleString()," ",c.jsx("span",{className:"text-gray-500",children:w.unit})]})}),c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:c.jsxs("div",{className:`inline-flex items-center gap-1 text-sm font-semibold ${E.color}`,children:[c.jsx(E.Icon,{className:"h-4 w-4"}),E.text]})}),c.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium",children:c.jsx("button",{onClick:()=>m(w),className:"text-primary-600 hover:text-primary-800",children:"Update Stock"})})]},w.id)})})]})}),a&&h&&c.jsx(hB,{ingredient:h,onClose:g,onUpdate:x})]})},Z2={name:"",description:"",category:"Coffee Based",sizes:[{name:"Grande",size:"16oz",price:0},{name:"Venti",size:"22oz",price:0}],imageUrl:"",available:!0,stock:0,popular:!1,new:!1,displayOrder:99,recipe:[]},mB=({isOpen:n,onClose:e,productToEdit:t})=>{const[r,a]=N.useState(Z2),[l,h]=N.useState([]),[d,m]=N.useState(!1),{addProduct:g,updateProduct:x}=$l(),{showToast:v}=Ln();N.useEffect(()=>{n&&(async()=>{const H=(await sa(Vn(Xe,"ingredients"))).docs.map(K=>({id:K.id,...K.data()}));h(H)})()},[n]),N.useEffect(()=>{a(t||Z2)},[t,n]);const w=D=>{const{name:U,value:H,type:K}=D.target,ie=D.target.checked;a(I=>({...I,[U]:K==="checkbox"?ie:H}))},E=(D,U)=>{a(H=>({...H,sizes:H.sizes.map(K=>K.name===D?{...K,price:U}:K)}))},j=(D,U,H)=>{const K=[...r.recipe||[]];K[D][U]=H,a(ie=>({...ie,recipe:K}))},k=()=>{const D=[...r.recipe||[],{ingredientId:"",quantity:0}];a(U=>({...U,recipe:D}))},R=D=>{const U=[...r.recipe||[]];U.splice(D,1),a(H=>({...H,recipe:U}))},O=async D=>{D.preventDefault(),m(!0);try{if(t){const{id:U,...H}={...r,id:t.id};await x(U,H),v("Product updated successfully!")}else await g(r),v("Product added successfully!");e()}catch(U){console.error(U),v("An error occurred. Please try again.")}finally{m(!1)}};return c.jsx(Ml,{isOpen:n,onClose:e,title:t?"Edit Product":"Add New Product",size:"lg",children:c.jsxs("form",{onSubmit:O,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),c.jsx("input",{type:"text",name:"name",id:"name",value:r.name,onChange:w,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),c.jsxs("select",{name:"category",id:"category",value:r.category,onChange:w,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",children:[c.jsx("option",{children:"Coffee Based"}),c.jsx("option",{children:"Non-Coffee Based"}),c.jsx("option",{children:"Matcha Series"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),c.jsx("textarea",{name:"description",id:"description",value:r.description,onChange:w,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700",children:"Image URL"}),c.jsx("input",{type:"text",name:"imageUrl",id:"imageUrl",value:r.imageUrl,onChange:w,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",required:!0})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Grande Price ()"}),c.jsx("input",{type:"number",value:r.sizes.find(D=>D.name==="Grande")?.price,onChange:D=>E("Grande",+D.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Venti Price ()"}),c.jsx("input",{type:"number",value:r.sizes.find(D=>D.name==="Venti")?.price,onChange:D=>E("Venti",+D.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-700",children:"Stock"}),c.jsx("input",{type:"number",name:"stock",id:"stock",value:r.stock,onChange:D=>a(U=>({...U,stock:+D.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"displayOrder",className:"block text-sm font-medium text-gray-700",children:"Display Order"}),c.jsx("input",{type:"number",name:"displayOrder",id:"displayOrder",value:r.displayOrder,onChange:D=>a(U=>({...U,displayOrder:+D.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]})]}),c.jsxs("div",{className:"flex items-center space-x-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",name:"available",checked:r.available,onChange:w,className:"h-4 w-4 rounded"}),c.jsx("label",{className:"ml-2 text-sm",children:"Available"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",name:"popular",checked:r.popular,onChange:w,className:"h-4 w-4 rounded"}),c.jsx("label",{className:"ml-2 text-sm",children:"Popular"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",name:"new",checked:r.new,onChange:w,className:"h-4 w-4 rounded"}),c.jsx("label",{className:"ml-2 text-sm",children:"New"})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-md font-medium text-gray-800",children:"Recipe"}),c.jsxs("div",{className:"mt-2 space-y-2 rounded-md border bg-gray-50 p-3",children:[(r.recipe||[]).map((D,U)=>c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("select",{value:D.ingredientId,onChange:H=>j(U,"ingredientId",H.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm",children:[c.jsx("option",{value:"",disabled:!0,children:"Select Ingredient"}),l.map(H=>c.jsx("option",{value:H.id,children:H.name},H.id))]}),c.jsx("input",{type:"number",value:D.quantity,onChange:H=>j(U,"quantity",+H.target.value),className:"block w-32 rounded-md border-gray-300 shadow-sm",placeholder:"Qty"}),c.jsx(ut,{type:"button",variant:"ghost",size:"sm",onClick:()=>R(U),className:"px-2",children:c.jsx(dm,{className:"h-4 w-4 text-red-500"})})]},U)),c.jsxs(ut,{type:"button",variant:"secondary",size:"sm",onClick:k,children:[c.jsx(Wu,{className:"mr-1 h-4 w-4"}),"Add Ingredient"]})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx(ut,{type:"button",variant:"ghost",onClick:e,children:"Cancel"}),c.jsxs(ut,{type:"submit",disabled:d,children:[d?c.jsx(rn,{className:"mr-2 h-4 w-4 animate-spin"}):c.jsx(N0,{className:"mr-2 h-4 w-4"}),t?"Save Changes":"Add Product"]})]})]})})},pB=()=>{const{products:n,isLoading:e,error:t,deleteProduct:r}=$l(),[a,l]=N.useState(!1),[h,d]=N.useState(null),{showToast:m}=Ln(),g=(w=null)=>{d(w),l(!0)},x=()=>{l(!1),d(null)},v=async(w,E)=>{if(window.confirm(`Are you sure you want to delete "${E}"? This action cannot be undone.`))try{await r(w),m(`"${E}" has been deleted.`)}catch{m(`Failed to delete "${E}".`)}};return e?c.jsx("div",{className:"flex h-full items-center justify-center",children:c.jsx(rn,{className:"h-12 w-12 animate-spin text-primary-600"})}):t?c.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-red-200 bg-red-50 py-20 text-center text-red-700",children:[c.jsx(oo,{className:"h-16 w-16"}),c.jsx("h3",{className:"mt-4 text-xl font-semibold",children:"Oops! Something went wrong."}),c.jsx("p",{className:"mt-2",children:t})]}):c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h1",{className:"font-display text-3xl font-bold text-gray-800",children:"Product Management"}),c.jsxs("button",{onClick:()=>g(),className:"flex items-center gap-2 rounded-full bg-primary-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-700",children:[c.jsx(Wu,{className:"h-4 w-4"}),"Add New Product"]})]}),c.jsx("div",{className:"overflow-x-auto rounded-lg border bg-white shadow-sm",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Product"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Category"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Price (G/V)"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Stock"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),c.jsx("th",{scope:"col",className:"relative px-6 py-3",children:c.jsx("span",{className:"sr-only",children:"Actions"})})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:n.map(w=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:c.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:w.imageUrl,alt:w.name})}),c.jsx("div",{className:"ml-4",children:c.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.name})})]})}),c.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:w.category}),c.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:["",w.sizes[0].price.toFixed(2)," / ",w.sizes[1].price.toFixed(2)]}),c.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:w.stock}),c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:w.available?c.jsx("span",{className:"inline-flex rounded-full bg-green-100 px-2 text-xs font-semibold leading-5 text-green-800",children:"Available"}):c.jsx("span",{className:"inline-flex rounded-full bg-red-100 px-2 text-xs font-semibold leading-5 text-red-800",children:"Unavailable"})}),c.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium",children:[c.jsx("button",{onClick:()=>g(w),className:"p-1 text-primary-600 hover:text-primary-800",children:c.jsx(NE,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>v(w.id,w.name),className:"ml-2 p-1 text-red-600 hover:text-red-800",children:c.jsx(dm,{className:"h-4 w-4"})})]})]},w.id))})]})}),c.jsx(mB,{isOpen:a,onClose:x,productToEdit:h})]})},gB=()=>c.jsxs("div",{children:[c.jsx("h1",{className:"mb-6 font-display text-3xl font-bold text-gray-800",children:"Analytics & Reports"}),c.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border-2 border-dashed bg-gray-50 p-12 text-center",children:[c.jsx(xE,{className:"h-16 w-16 text-gray-400"}),c.jsx("h2",{className:"mt-4 text-xl font-semibold text-gray-700",children:"Coming Soon"}),c.jsx("p",{className:"mt-1 text-gray-500",children:"This is where you'll find detailed charts and reports on sales, customers, and product performance."})]})]}),yB={pending:"bg-yellow-100 text-yellow-800",reviewed:"bg-blue-100 text-blue-800",resolved:"bg-green-100 text-green-800"},xB=({feedback:n,onRespond:e})=>{const t=n.user?`${n.user.firstName} ${n.user.lastName}`:`User ${n.userId.substring(0,6)}`;return c.jsxs("div",{className:"flex flex-col rounded-lg border bg-white p-4 shadow-sm transition-shadow hover:shadow-md",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-800",children:t}),c.jsx("p",{className:"text-xs text-gray-500",children:n.createdAt?Hm(n.createdAt,{addSuffix:!0}):"Just now"})]}),c.jsx(nn,{className:`capitalize ${yB[n.status]}`,children:n.status})]}),c.jsx("div",{className:"my-3 flex justify-start",children:c.jsx(om,{rating:n.rating,readonly:!0,size:"sm"})}),c.jsxs("p",{className:"flex-grow text-sm text-gray-600 line-clamp-3",children:['"',n.comment,'"']}),c.jsx("div",{className:"mt-4 border-t pt-3",children:c.jsx("button",{onClick:e,className:"w-full rounded-full bg-primary-100 px-4 py-2 text-sm font-semibold text-primary-700 transition-colors hover:bg-primary-200",children:"View & Respond"})})]})},vB=({isOpen:n,onClose:e,feedback:t})=>{const[r,a]=N.useState(t.response||""),[l,h]=N.useState(t.status),[d,m]=N.useState(!1);N.useEffect(()=>{n&&(a(t.response||""),h(t.status))},[n,t]);const g=async v=>{v.preventDefault(),m(!0);try{const w=gn(Xe,"feedback",t.id);await ra(w,{response:r,status:l,updatedAt:Xf()}),e()}catch(w){console.error("Error updating feedback: ",w)}finally{m(!1)}},x=t.user?`${t.user.firstName} ${t.user.lastName}`:`User ID: ${t.userId}`;return c.jsx(Ml,{isOpen:n,onClose:e,title:`Feedback from ${x}`,children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-500",children:"Rating"}),c.jsx(om,{rating:t.rating,readonly:!0})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-500",children:"Comment"}),c.jsx("p",{className:"mt-1 max-h-40 overflow-y-auto rounded-md bg-gray-50 p-3 text-gray-700 whitespace-pre-wrap",children:t.comment})]}),c.jsxs("form",{onSubmit:g,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"response",className:"block text-sm font-medium text-gray-700",children:"Your Response"}),c.jsx("textarea",{id:"response",value:r,onChange:v=>a(v.target.value),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Write a response to the customer..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Update Status"}),c.jsx("div",{className:"mt-2 flex gap-2 rounded-full bg-gray-100 p-1",children:["pending","reviewed","resolved"].map(v=>c.jsx("button",{type:"button",onClick:()=>h(v),className:`w-full rounded-full py-1.5 text-sm font-semibold capitalize transition-colors ${l===v?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:v},v))})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(ut,{type:"button",variant:"ghost",onClick:e,children:"Cancel"}),c.jsxs(ut,{type:"submit",disabled:d,children:[d?c.jsx(rn,{className:"mr-2 h-4 w-4 animate-spin"}):c.jsx(S0,{className:"mr-2 h-4 w-4"}),"Save Response"]})]})]})]})})},bB=()=>{const[n,e]=N.useState([]),[t,r]=N.useState(!0),[a,l]=N.useState("pending"),[h,d]=N.useState(!1),[m,g]=N.useState(null);N.useEffect(()=>{const E=new Map,j=async()=>{if(E.size>0)return E;const O=Vn(Xe,"users");return(await sa(O)).forEach(U=>{const H=U.data();E.set(U.id,{firstName:H.firstName,lastName:H.lastName,email:H.email})}),E},k=xr(Vn(Xe,"feedback"),dh("createdAt","desc")),R=mh(k,async O=>{const D=await j(),U=[];O.forEach(H=>{const K=H.data();U.push({id:H.id,...K,createdAt:K.createdAt?.toDate(),updatedAt:K.updatedAt?.toDate(),user:D.get(K.userId)})}),e(U),r(!1)},O=>{console.error("Error fetching feedback: ",O),r(!1)});return()=>R()},[]);const x=N.useMemo(()=>a==="all"?n:n.filter(E=>E.status===a),[a,n]),v=E=>{g(E),d(!0)},w=()=>{d(!1),g(null)};return t?c.jsx("div",{className:"flex h-full items-center justify-center",children:c.jsx(rn,{className:"h-12 w-12 animate-spin text-primary-600"})}):c.jsxs("div",{children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[c.jsx("h1",{className:"font-display text-3xl font-bold text-gray-800",children:"Customer Feedback"}),c.jsx("div",{className:"flex mt-4 md:mt-0 gap-2 rounded-full bg-gray-200 p-1",children:["pending","reviewed","resolved","all"].map(E=>c.jsx("button",{onClick:()=>l(E),className:`rounded-full px-3 py-1.5 text-sm font-semibold capitalize transition-colors ${a===E?"bg-primary-600 text-white shadow":"text-gray-600 hover:bg-primary-50"}`,children:E},E))})]}),x.length>0?c.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:x.map(E=>c.jsx(xB,{feedback:E,onRespond:()=>v(E)},E.id))}):c.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border-2 border-dashed bg-gray-50 p-12 text-center",children:[c.jsx(Pl,{className:"h-16 w-16 text-gray-400"}),c.jsx("h2",{className:"mt-4 text-xl font-semibold text-gray-700",children:"No Feedback Here"}),c.jsxs("p",{className:"mt-1 text-gray-500",children:['No feedback matching the "',a,'" filter.']})]}),m&&c.jsx(vB,{isOpen:h,onClose:w,feedback:m})]})},wB=()=>c.jsxs("div",{children:[c.jsx("h1",{className:"mb-6 font-display text-3xl font-bold text-gray-800",children:"Shop Settings"}),c.jsxs("div",{className:"mt-6 flex flex-col items-center justify-center rounded-lg border-2 border-dashed bg-gray-50 p-12 text-center",children:[c.jsx(A0,{className:"h-16 w-16 text-gray-400"}),c.jsx("h2",{className:"mt-4 text-xl font-semibold text-gray-700",children:"More Settings Coming Soon"}),c.jsx("p",{className:"mt-1 text-gray-500",children:"This is where you'll manage your shop's information, hours, and other system settings."})]})]}),_B=()=>c.jsxs("div",{className:"bg-white",children:[c.jsx(Kt,{}),c.jsxs("main",{children:[c.jsxs("section",{className:"bg-gradient-to-br from-primary-50 to-coffee-50 px-6 py-20 text-center",children:[c.jsx("h1",{className:"font-display text-5xl font-bold text-coffee-900 md:text-6xl",children:"Terms of Service"}),c.jsxs("p",{className:"mt-4 text-xl text-gray-700",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),c.jsx("section",{className:"px-6 py-16",children:c.jsxs("div",{className:"prose prose-lg mx-auto max-w-4xl text-gray-700 prose-headings:font-display prose-headings:text-coffee-900 prose-a:text-primary-600 hover:prose-a:text-primary-700",children:[c.jsx("h2",{children:"1. Introduction"}),c.jsx("p",{children:'Welcome to Rush Coffee ("we," "our," or "us"). These Terms of Service govern your use of our website, mobile application, and services (collectively, the "Services"). By accessing or using our Services, you agree to be bound by these terms.'}),c.jsx("h2",{children:"2. User Accounts"}),c.jsx("p",{children:"To use certain features of our Services, you must register for an account. You agree to provide accurate, current, and complete information during the registration process and to update such information to keep it accurate, current, and complete. You are responsible for safeguarding your password and for all activities that occur under your account."}),c.jsx("h2",{children:"3. Orders and Payments"}),c.jsx("p",{children:"When you place an order through our Services, you are making an offer to purchase the products you have selected. All orders are subject to our acceptance. We reserve the right to refuse or cancel any order for any reason, including limitations on quantities available for purchase, inaccuracies, or errors in product or pricing information."}),c.jsx("p",{children:'Payment for all orders must be made at the time of placing the order, unless you select "Cash on Pickup." We accept payment through GCash and other methods as may be made available from time to time.'}),c.jsx("h2",{children:"4. Rewards Program"}),c.jsx("p",{children:"Our rewards program allows you to earn points for purchases and redeem them for rewards. Points are non-transferable and have no cash value. We reserve the right to modify, suspend, or terminate the rewards program at any time without notice."}),c.jsx("h2",{children:"5. Limitation of Liability"}),c.jsx("p",{children:"To the fullest extent permitted by applicable law, Rush Coffee shall not be liable for any indirect, incidental, special, consequential, or punitive damages, or any loss of profits or revenues, whether incurred directly or indirectly, or any loss of data, use, goodwill, or other intangible losses, resulting from (a) your access to or use of or inability to access or use the services; (b) any conduct or content of any third party on the services; or (c) unauthorized access, use, or alteration of your transmissions or content."}),c.jsx("h2",{children:"6. Changes to Terms"}),c.jsx("p",{children:"We may modify these Terms of Service from time to time. We will provide notice of any changes by posting the new Terms of Service on this page. You are advised to review these Terms of Service periodically for any changes."}),c.jsx("h2",{children:"7. Contact Us"}),c.jsxs("p",{children:["If you have any questions about these Terms of Service, please contact us at ",c.jsx("a",{href:"mailto:hello@rushcoffee.ph",children:"hello@rushcoffee.ph"}),"."]})]})})]}),c.jsx(Wt,{})]}),TB=()=>c.jsxs("div",{className:"bg-white",children:[c.jsx(Kt,{}),c.jsxs("main",{children:[c.jsxs("section",{className:"bg-gradient-to-br from-primary-50 to-coffee-50 px-6 py-20 text-center",children:[c.jsx("h1",{className:"font-display text-5xl font-bold text-coffee-900 md:text-6xl",children:"Privacy Policy"}),c.jsx("p",{className:"mt-4 text-xl text-gray-700",children:"Your privacy is important to us."}),c.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),c.jsx("section",{className:"px-6 py-16",children:c.jsxs("div",{className:"prose prose-lg mx-auto max-w-4xl text-gray-700 prose-headings:font-display prose-headings:text-coffee-900 prose-a:text-primary-600 hover:prose-a:text-primary-700",children:[c.jsx("h2",{children:"1. Information We Collect"}),c.jsx("p",{children:"We collect information you provide directly to us when you create an account, place an order, or communicate with us. This information may include your name, email address, phone number, and order details."}),c.jsx("h2",{children:"2. How We Use Your Information"}),c.jsx("p",{children:"We use the information we collect to:"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Process your transactions and fulfill your orders."}),c.jsx("li",{children:"Communicate with you about your orders, account, and our services."}),c.jsx("li",{children:"Operate and improve our Services, including our rewards program."}),c.jsx("li",{children:"Personalize your experience."})]}),c.jsx("h2",{children:"3. Information Sharing"}),c.jsx("p",{children:"We do not share your personal information with third parties except as necessary to provide our Services (e.g., with payment processors) or as required by law. We do not sell your personal data."}),c.jsx("h2",{children:"4. Data Security"}),c.jsx("p",{children:"We implement reasonable security measures to protect your information from unauthorized access, alteration, disclosure, or destruction. However, no internet-based service is 100% secure, so we cannot guarantee absolute security."}),c.jsx("h2",{children:"5. Your Choices"}),c.jsx("p",{children:"You may review and update your account information at any time by logging into your account and visiting your profile page. You can also unsubscribe from our marketing emails by following the instructions in those emails."}),c.jsx("h2",{children:"6. Contact Us"}),c.jsxs("p",{children:["If you have any questions about this Privacy Policy, please contact us at ",c.jsx("a",{href:"mailto:hello@rushcoffee.ph",children:"hello@rushcoffee.ph"}),"."]})]})})]}),c.jsx(Wt,{})]}),EB=({title:n})=>c.jsxs("div",{className:"flex min-h-screen flex-col",children:[c.jsx(Kt,{}),c.jsx("main",{className:"flex flex-1 items-center justify-center bg-gradient-to-br from-primary-50 to-coffee-50",children:c.jsxs("div",{className:"p-4 text-center",children:[c.jsx(sn,{className:"mx-auto mb-4 h-16 w-16 text-gray-400 opacity-50"}),c.jsx("h1",{className:"mb-4 font-display text-4xl font-bold text-gray-900",children:n}),c.jsx("p",{className:"mb-8 text-gray-600",children:"We're brewing something special. Check back soon!"}),c.jsx(lt,{to:"/",className:"font-medium text-primary-600 transition-colors hover:text-primary-700",children:" Back to Home"})]})}),c.jsx(Wt,{})]}),NB=()=>c.jsxs("div",{className:"flex min-h-screen flex-col",children:[c.jsx(Kt,{}),c.jsx("main",{className:"flex flex-1 items-center justify-center bg-gradient-to-br from-primary-50 to-coffee-50",children:c.jsxs("div",{className:"p-4 text-center",children:[c.jsx(sn,{className:"mx-auto mb-4 h-16 w-16 text-gray-400 opacity-50"}),c.jsx("h1",{className:"mb-4 font-display text-4xl font-bold text-gray-900",children:"404 - Page Not Found"}),c.jsx("p",{className:"mb-8 text-gray-600",children:"This coffee blend doesn't exist on our menu. Maybe it got lost in the daily grind?"}),c.jsx(lt,{to:"/",className:"font-medium text-primary-600 transition-colors hover:text-primary-700",children:" Back to Home"})]})}),c.jsx(Wt,{})]}),SB=()=>{const{isCartOpen:n,closeCart:e,cartItems:t,updateQuantity:r,removeFromCart:a,toastMessage:l}=Ln(),h=Ls(),d=()=>{e(),h("/checkout")};return c.jsxs(c.Fragment,{children:[c.jsx(nB,{}),c.jsxs(A4,{children:[c.jsx(ft,{path:"/",element:c.jsx(EV,{})}),c.jsx(ft,{path:"/about",element:c.jsx(Qz,{})}),c.jsx(ft,{path:"/menu",element:c.jsx(i7,{})}),c.jsx(ft,{path:"/contact",element:c.jsx(Xz,{})}),c.jsx(ft,{path:"/auth/login",element:c.jsx(SV,{})}),c.jsx(ft,{path:"/auth/register",element:c.jsx(jV,{})}),c.jsx(ft,{path:"/checkout",element:c.jsx(u7,{})}),c.jsx(ft,{path:"/queue",element:c.jsx(Cz,{})}),c.jsx(ft,{path:"/rewards",element:c.jsx(Oz,{})}),c.jsx(ft,{path:"/profile",element:c.jsx($z,{})}),c.jsx(ft,{path:"/faq",element:c.jsx(eB,{})}),c.jsx(ft,{path:"/terms",element:c.jsx(_B,{})}),c.jsx(ft,{path:"/privacy",element:c.jsx(TB,{})}),c.jsx(ft,{path:"/cookies",element:c.jsx(EB,{title:"Cookie Policy"})}),c.jsx(ft,{element:c.jsx(sB,{}),children:c.jsxs(ft,{path:"/admin",element:c.jsx(uB,{}),children:[c.jsx(ft,{index:!0,element:c.jsx(rB,{})}),c.jsx(ft,{path:"queue",element:c.jsx(lB,{})}),c.jsx(ft,{path:"inventory",element:c.jsx(fB,{})}),c.jsx(ft,{path:"products",element:c.jsx(pB,{})}),c.jsx(ft,{path:"analytics",element:c.jsx(gB,{})}),c.jsx(ft,{path:"feedback",element:c.jsx(bB,{})}),c.jsx(ft,{path:"settings",element:c.jsx(wB,{})})]})}),c.jsx(ft,{path:"*",element:c.jsx(NB,{})})]}),c.jsx(tB,{isOpen:n,onClose:e,cartItems:t,onUpdateQuantity:r,onRemoveItem:a,onCheckout:d}),l&&c.jsx("div",{className:"fixed bottom-4 right-4 z-[100] animate-fade-in-up rounded-lg bg-gray-900 px-4 py-3 text-white shadow-lg",children:l})]})},AB=()=>c.jsx(yV,{children:c.jsx(xV,{children:c.jsx(c7,{children:c.jsx(vV,{children:c.jsx(W4,{children:c.jsx(SB,{})})})})})}),$j=document.getElementById("root");if(!$j)throw new Error("Could not find root element to mount to");const jB=kR.createRoot($j);jB.render(c.jsx(SR.StrictMode,{children:c.jsx(AB,{})}));
